(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workflows-overview","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~fc714461","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97","custom-form~external-request~portal-accesss-custom","forms-overview~tasks-overview","integration-browse~repositories-reports-overview"],{"00c2":function(t,e,i){t.exports=i.p+"img/name-light.137e40b6.png"},"00f0":function(t,e,i){},"0319":function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach(i=>{i.call(this.chart,t,e)})}}t.Additions=e}(t||(t={})),t})),e(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],(function(t){return({isTouchDevice:t}=t),{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:t?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}})),e(t,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var t;return function(t){function e(t,e,i,s){return[["M",t,e+2.5],["L",t+i,e+2.5],["M",t,e+s/2+.5],["L",t+i,e+s/2+.5],["M",t,e+s-1.5],["L",t+i,e+s-1.5]]}function i(t,e,i,s){return t=s/3-2,s=[],s.concat(this.circle(i-t,e,t,t),this.circle(i-t,e+t+4,t,t),this.circle(i-t,e+2*(t+4),t,t))}const s=[];t.compose=function(t){-1===s.indexOf(t)&&(s.push(t),t=t.prototype.symbols,t.menu=e,t.menuball=i.bind(t))}}(t||(t={})),t})),e(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.fullscreen=new n(this)}const{addEvent:s,fireEvent:a}=e,o=[];class n{static compose(t){e.pushUnique(o,t)&&s(t,"beforeRender",i)}constructor(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"===typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const t=this,e=t.chart,i=e.options.chart;a(e,"fullscreenClose",null,(function(){t.isOpen&&t.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[t.browserProps.exitFullscreen](),t.unbindFullscreenEvent&&(t.unbindFullscreenEvent=t.unbindFullscreenEvent()),e.setSize(t.origWidth,t.origHeight,!1),t.origWidth=void 0,t.origHeight=void 0,i.width=t.origWidthOption,i.height=t.origHeightOption,t.origWidthOption=void 0,t.origHeightOption=void 0,t.isOpen=!1,t.setButtonText()}))}open(){const t=this,e=t.chart,i=e.options.chart;a(e,"fullscreenOpen",null,(function(){if(i&&(t.origWidthOption=i.width,t.origHeightOption=i.height),t.origWidth=e.chartWidth,t.origHeight=e.chartHeight,t.browserProps){const i=s(e.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(e.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())})),a=s(e,"destroy",i);t.unbindFullscreenEvent=()=>{i(),a()};const o=e.renderTo[t.browserProps.requestFullscreen]();o&&o["catch"]((function(){alert("Full screen is not supported inside a frame.")}))}}))}setButtonText(){var e=this.chart,i=e.exportDivElements;const s=e.options.exporting,a=s&&s.buttons&&s.buttons.contextButton.menuItems;e=e.options.lang,s&&s.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&a&&i&&(i=i[a.indexOf("viewFullscreen")])&&t.setElementHTML(i,this.isOpen?e.exitFullscreen:s.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return n})),e(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{doc:i}=t,{createElement:s,discardElement:a,merge:o,objectEach:n}=e,r={ajax:function(t){const e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;if(!t.url)return!1;i.open((t.type||"get").toUpperCase(),t.url,!0),t.headers&&t.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[t.dataType||"json"]||e.text),n(t.headers,(function(t,e){i.setRequestHeader(e,t)})),t.responseType&&(i.responseType=t.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==t.responseType&&(e=i.responseText,"json"===t.dataType))try{e=JSON.parse(e)}catch(s){if(s instanceof Error)return void(t.error&&t.error(i,s))}return t.success&&t.success(e,i)}t.error&&t.error(i,i.responseText)}},t.data&&"string"!==typeof t.data&&(t.data=JSON.stringify(t.data)),i.send(t.data)},getJSON:function(t,e){r.ajax({url:t,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(t,e,r){const l=s("form",o({method:"post",action:t,enctype:"multipart/form-data"},r),{display:"none"},i.body);n(e,(function(t,e){s("input",{type:"hidden",name:e,value:t},void 0,l)})),l.submit(),a(l)}};return r})),e(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r,l,c){const{defaultOptions:h,setOptions:d}=s,{doc:u,SVG_NS:p,win:m}=r,{addEvent:f,css:g,createElement:v,discardElement:y,extend:b,find:x,fireEvent:w,isObject:k,merge:C,objectEach:S,pick:A,removeEvent:T,uniqueKey:I}=c;var P;return function(e){function s(t){const e=this,i=e.renderer,s=C(e.options.navigation.buttonOptions,t),a=s.onclick,o=s.menuItems,n=s.symbolSize||12;let r;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),!1!==s.enabled&&s.theme){var l,c=s.theme;e.styledMode||(c.fill=A(c.fill,"#ffffff"),c.stroke=A(c.stroke,"none")),a?l=function(t){t&&t.stopPropagation(),a.call(e,t)}:o&&(l=function(t){t&&t.stopPropagation(),e.contextMenu(h.menuClassName,o,h.translateX,h.translateY,h.width,h.height,h),h.setState(2)}),s.text&&s.symbol?c.paddingLeft=A(c.paddingLeft,30):s.text||b(c,{width:s.width,height:s.height,padding:0}),e.styledMode||(c["stroke-linecap"]="round",c.fill=A(c.fill,"#ffffff"),c.stroke=A(c.stroke,"none"));var h=i.button(s.text,0,0,l,c,void 0,void 0,void 0,void 0,s.useHTML).addClass(t.className).attr({title:A(e.options.lang[s._titleKey||s.titleKey],"")});h.menuClassName=t.menuClassName||"highcharts-menu-"+e.btnCount++,s.symbol&&(r=i.symbol(s.symbol,s.symbolX-n/2,s.symbolY-n/2,n,n,{width:n,height:n}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(h),e.styledMode||r.attr({stroke:s.symbolStroke,fill:s.symbolFill,"stroke-width":s.symbolStrokeWidth||1})),h.add(e.exportingGroup).align(b(s,{width:h.width,x:A(s.x,e.buttonOffset)}),!0,"spacingBox"),e.buttonOffset+=(h.width+s.buttonSpacing)*("right"===s.align?-1:1),e.exportSVGElements.push(h,r)}}function P(){if(this.printReverseInfo){var{childNodes:t,origDisplay:e,resetParams:i}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(t,(function(t,i){1===t.nodeType&&(t.style.display=e[i]||"")})),this.isPrinting=!1,i&&this.setSize.apply(this,i),delete this.printReverseInfo,U=void 0,w(this,"afterPrint")}}function M(){const t=u.body,e=this.options.exporting.printMaxWidth,i={childNodes:t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),w(this,"beforePrint"),e&&this.chartWidth>e&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(e,void 0,!1)),[].forEach.call(i.childNodes,(function(t,e){1===t.nodeType&&(i.origDisplay[e]=t.style.display,t.style.display="none")})),this.moveContainers(t),this.printReverseInfo=i}function L(t){t.renderExporting(),f(t,"redraw",t.renderExporting),f(t,"destroy",t.destroyExport)}function _(e,i,s,a,o,n,r){const l=this,h=l.options.navigation,d=l.chartWidth,p=l.chartHeight,y="cache-"+e,x=Math.max(o,n);let C,S=l[y];S||(l.exportContextMenu=l[y]=S=v("div",{className:e},{position:"absolute",zIndex:1e3,padding:x+"px",pointerEvents:"auto"},l.fixedDiv||l.container),C=v("ul",{className:"highcharts-menu"},l.styledMode?{}:{listStyle:"none",margin:0,padding:0},S),l.styledMode||g(C,b({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},h.menuStyle)),S.hideMenu=function(){g(S,{display:"none"}),r&&r.setState(0),l.openMenu=!1,g(l.renderTo,{overflow:"hidden"}),g(l.container,{overflow:"hidden"}),c.clearTimeout(S.hideTimer),w(l,"exportMenuHidden")},l.exportEvents.push(f(S,"mouseleave",(function(){S.hideTimer=m.setTimeout(S.hideMenu,500)})),f(S,"mouseenter",(function(){c.clearTimeout(S.hideTimer)})),f(u,"mouseup",(function(t){l.pointer.inClass(t.target,e)||S.hideMenu()})),f(S,"click",(function(){l.openMenu&&S.hideMenu()}))),i.forEach((function(e){if("string"===typeof e&&(e=l.options.exporting.menuItemDefinitions[e]),k(e,!0)){let i;e.separator?i=v("hr",void 0,void 0,C):("viewData"===e.textKey&&l.isDataTableVisible&&(e.textKey="hideData"),i=v("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),S.hideMenu(),e.onclick&&e.onclick.apply(l,arguments)}},void 0,C),t.setElementHTML(i,e.text||l.options.lang[e.textKey]),l.styledMode||(i.onmouseover=function(){g(this,h.menuItemHoverStyle)},i.onmouseout=function(){g(this,h.menuItemStyle)},g(i,b({cursor:"pointer"},h.menuItemStyle||{})))),l.exportDivElements.push(i)}})),l.exportDivElements.push(C,S),l.exportMenuWidth=S.offsetWidth,l.exportMenuHeight=S.offsetHeight),i={display:"block"},s+l.exportMenuWidth>d?i.right=d-s-o-x+"px":i.left=s-x+"px",a+n+l.exportMenuHeight>p&&"top"!==r.alignOptions.verticalAlign?i.bottom=p-a-x+"px":i.top=a+n-x+"px",g(S,i),g(l.renderTo,{overflow:""}),g(l.container,{overflow:""}),l.openMenu=!0,w(l,"exportMenuShown")}function D(t){const e=t?t.target:this,i=e.exportSVGElements,s=e.exportDivElements;let a;t=e.exportEvents,i&&(i.forEach((t,s)=>{t&&(t.onclick=t.ontouchstart=null,a="cache-"+t.menuClassName,e[a]&&delete e[a],i[s]=t.destroy())}),i.length=0),e.exportingGroup&&(e.exportingGroup.destroy(),delete e.exportingGroup),s&&(s.forEach((function(t,e){t&&(c.clearTimeout(t.hideTimer),T(t,"mouseleave"),s[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,y(t))})),s.length=0),t&&(t.forEach((function(t){t()})),t.length=0)}function F(t,e){e=this.getSVGForExport(t,e),t=C(this.options.exporting,t),l.post(t.url,{filename:t.filename?t.filename.replace(/\//g,"-"):this.getFilename(),type:t.type,width:t.width,scale:t.scale,svg:e},t.formAttributes)}function O(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function E(){const t=this.userOptions.title&&this.userOptions.title.text;let e=this.options.exporting.filename;return e?e.replace(/\//g,"-"):("string"===typeof t&&(e=t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!e||5>e.length)&&(e="chart"),e)}function B(t){let e,i=C(this.options,t);i.plotOptions=C(this.userOptions.plotOptions,t&&t.plotOptions),i.time=C(this.userOptions.time,t&&t.time);const s=v("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},u.body);var a=this.renderTo.style.width,o=this.renderTo.style.height;a=i.exporting.sourceWidth||i.chart.width||/px$/.test(a)&&parseInt(a,10)||(i.isGantt?800:600),o=i.exporting.sourceHeight||i.chart.height||/px$/.test(o)&&parseInt(o,10)||400,b(i.chart,{animation:!1,renderTo:s,forExport:!0,renderer:"SVGRenderer",width:a,height:o}),i.exporting.enabled=!1,delete i.data,i.series=[],this.series.forEach((function(t){e=C(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),e.isInternal||i.series.push(e)}));const n={};this.axes.forEach((function(t){t.userOptions.internalKey||(t.userOptions.internalKey=I()),t.options.isInternal||(n[t.coll]||(n[t.coll]=!0,i[t.coll]=[]),i[t.coll].push(C(t.userOptions,{visible:t.visible})))}));const r=new this.constructor(i,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){const i={};t[e]&&(i[e]=t[e],r.update(i))})),this.axes.forEach((function(t){const e=x(r.axes,(function(e){return e.options.internalKey===t.userOptions.internalKey}));var i=t.getExtremes();const s=i.userMin;i=i.userMax,e&&("undefined"!==typeof s&&s!==e.min||"undefined"!==typeof i&&i!==e.max)&&e.setExtremes(s,i,!0,!1)})),o=r.getChartHTML(),w(this,"getSVG",{chartCopy:r}),o=this.sanitizeSVG(o,i),i=null,r.destroy(),y(s),o}function N(t,e){const i=this.options.exporting;return this.getSVG(C({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))}function R(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function z(){function t(e){const n={};let c,h;if(l&&1===e.nodeType&&-1===G.indexOf(e.nodeName)){if(c=m.getComputedStyle(e,null),h="svg"===e.nodeName?{}:m.getComputedStyle(e.parentNode,null),!a[e.nodeName]){o=l.getElementsByTagName("svg")[0];var d=l.createElementNS(e.namespaceURI,e.nodeName);o.appendChild(d);var u=m.getComputedStyle(d,null),p={};for(var f in u)"string"!==typeof u[f]||/^[0-9]+$/.test(f)||(p[f]=u[f]);a[e.nodeName]=p,"text"===e.nodeName&&delete a.text.fill,o.removeChild(d)}for(const t in c)if(r.isFirefox||r.isMS||r.isSafari||Object.hasOwnProperty.call(c,t)){f=c[t];var v=t;if(d=u=!1,s.length){for(p=s.length;p--&&!u;)u=s[p].test(v);d=!u}for("transform"===v&&"none"===f&&(d=!0),p=i.length;p--&&!d;)d=i[p].test(v)||"function"===typeof f;d||h[v]===f&&"svg"!==e.nodeName||a[e.nodeName][v]===f||(Y&&-1===Y.indexOf(v)?n[v]=f:f&&e.setAttribute(R(v),f))}g(e,n),"svg"===e.nodeName&&e.setAttribute("stroke-width","1px"),"text"!==e.nodeName&&[].forEach.call(e.children||e.childNodes,t)}}const i=X,s=e.inlineAllowlist,a={};let o;const n=u.createElement("iframe");g(n,{width:"1px",height:"1px",visibility:"hidden"}),u.body.appendChild(n);const l=n.contentWindow&&n.contentWindow.document;l&&l.body.appendChild(l.createElementNS(p,"svg")),t(this.container.querySelector("svg")),o.parentNode.removeChild(o),n.parentNode.removeChild(n)}function $(t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(e){t.appendChild(e)}))}function V(){const t=this;t.exporting={update:function(e,i){t.isDirtyExporting=!0,C(!0,t.options.exporting,e),A(i,!0)&&t.redraw()}},i.compose(t).navigation.addUpdate((e,i)=>{t.isDirtyExporting=!0,C(!0,t.options.navigation,e),A(i,!0)&&t.redraw()})}function H(){const t=this;t.isPrinting||(U=t,r.isSafari||t.beforePrint(),setTimeout(()=>{m.focus(),m.print(),r.isSafari||setTimeout(()=>{t.afterPrint()},1e3)},1))}function W(){const t=this,e=t.options.exporting,i=e.buttons,s=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),s&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g("exporting-group").attr({zIndex:3}).add(),S(i,(function(e){t.addButton(e)})),t.isDirtyExporting=!1)}function j(t,e){const i=t.indexOf("</svg>")+6;let s=t.substr(i);return t=t.substr(0,i),e&&e.exporting&&e.exporting.allowHTML&&s&&(s='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+s.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",t=t.replace("</svg>",s+"</svg>")),t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const q=[],X=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Y="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");e.inlineAllowlist=[];const G=["clipPath","defs","desc"];let U;e.compose=function(t,e){o.compose(e),n.compose(t),c.pushUnique(q,t)&&(e=t.prototype,e.afterPrint=P,e.exportChart=F,e.inlineStyles=z,e.print=H,e.sanitizeSVG=j,e.getChartHTML=O,e.getSVG=B,e.getSVGForExport=N,e.getFilename=E,e.moveContainers=$,e.beforePrint=M,e.contextMenu=_,e.addButton=s,e.destroyExport=D,e.renderExporting=W,e.callbacks.push(L),f(t,"init",V),r.isSafari&&r.win.matchMedia("print").addListener((function(t){U&&(t.matches?U.beforePrint():U.afterPrint())}))),c.pushUnique(q,d)&&(h.exporting=C(a.exporting,h.exporting),h.lang=C(a.lang,h.lang),h.navigation=C(a.navigation,h.navigation))}}(P||(P={})),P})),e(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],(function(t,e,i){t.HttpUtilities=i,t.ajax=i.ajax,t.getJSON=i.getJSON,t.post=i.post,e.compose(t.Chart,t.Renderer)}))}))},"064c":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-center",attrs:{id:"item-actions"}},[(t.customProcessForm,t._e()),t.sendInvite?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("invite")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover q-mr-sm",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-account-plus",color:"primary","text-color":"white"}}),t._v(" Send Invite ")],1)],1)]:t._e(),t.processForward?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("forward")}}},[e("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-arrow-right",color:"orange","text-color":"white"}}),t._v(" Assign ")],1)],1)]:t._e(),t.workflowInitiate?[t.initiateAccess?[e("div",{attrs:{classs:"cursor-pointer "},on:{click:function(e){return t.$emit("initiate")}}},[e("q-chip",{staticClass:"cursor-pointer secondary-hover q-mr-sm",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)],1)]:[e("q-chip",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Choose document to initiate",expression:"'Choose document to initiate'",modifiers:{top:!0}}],staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",disable:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)]]:t._e(),t.gotoInbox?e("div",{staticClass:"cursor-pointer q-mr-xs",on:{click:function(e){return t.$emit("inbox")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-email",color:"primary","text-color":"white"}}),t._v(" My Inbox ")],1)],1):t._e(),t.workflowImport?e("ImportPopup",{attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport}}):t._e(),t.downloadAll?e("div",{staticClass:"row q-pr-xs",class:{download:t.checkIconCount}},[t.visibleDownload?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"download",expression:"'download'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{icon:"mdi-download-outline","is-flat":"","no-border":""},on:{click:function(e){return t.$emit("downloadAll",t.item.id)}}}):t._e(),t.visiblePrint?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"print",expression:"'print'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"eva-printer-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("printAll",t.item.id)}}}):t._e(),t.visibleEmail?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Email Sharing",expression:"'Email Sharing'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("emailAll",t.item)}}}):t._e(),t.visibleDelete?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return t.$emit("deleteFileAction",t.item.id)}}}):t._e()],1):t._e(),t._t("filterSearchIcon"),t.simpleSearchFilter?e("div",[t.hideActions.includes("search")?t._e():e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchTable}})],1):e("div",{staticClass:"q-mr-xs"},[e("SimpleSearchWithFilter",{attrs:{columns:t.columns,"filter-by":t.filterBy},on:{keyup:t.searchTable,update:t.updateSimpletSearchFilterBy}})],1),t.id?e("SelectField",{staticClass:"fieldList q-mr-sm",attrs:{"is-mandatory":"",placeholder:"Select day","is-searchable":!0,options:t.dateFilter},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}}):t._e(),t.refresh||t.id?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return t.$emit("refresh")}}}):t._e(),t.jiraConnect?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira","no-border":"","is-flat":""},on:{click:function(e){return t.$emit("jira")}}}):t._e(),"TRASH"===t.mode?e("div",{staticClass:"row justify-end"},[t.deleteBtn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Restore Selected Items",expression:"'Restore Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history"},on:{click:function(e){return e.stopPropagation(),t.$emit("restore")}}}):t._e()],1):t._e(),t.deleteBtn?e("div",[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete Selected Items",expression:"'Delete Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete")}}})],1):t._e(),t.hideActions.includes("toggle")?t._e():e("ToggleColumns",{attrs:{columns:t.repositoryFields?"LIST"===t.activeView?t.columns:[]:t.columns,"repository-fields":t.repositoryFields,"toggle-id":t.toggleId},on:{"update:columns":t.updateColumns,viewColumns:t.viewColumns}}),t.hideActions.includes("sort")?t._e():e("SortItems",{attrs:{columns:t.columns,order:t.order,criteria:t.criteria},on:{"update:order":t.updateOrder,"update:criteria":t.updateCriteria}}),t.hideActions.includes("group")?t._e():e("GroupItems",{attrs:{columns:t.columns,"group-by":t.groupBy},on:{"update:groupBy":t.updateGroupBy}}),t.hideActions.includes("filter")?t._e():e("FilterItems",{attrs:{item:t.item,columns:t._columns,"filter-by":t.filterBy,"selected-filter":t.selectedFilter,"search-content":t.searchContent,"content-search":t.contentSearch,module:t.module,"module-id":t.moduleId},on:{update:t.updateFilterBy,updateContentSearch:t.updateContentSearch}}),t.importData?e("ImportPopup",{attrs:{"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport,downloadTemplate:t.downloadTemplate}}):t._e(),t.importJson?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"import",expression:"'import'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-import"},on:{click:function(e){return t.$emit("import")}}}):t._e(),!t.hideActions.includes("export")&&t.exportData?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return t.$emit("export")}}}):t._e(),t.hideActions.includes("activeView")?t._e():e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),t.hideActions.includes("activeView")?t._e():e("ViewToggle",{attrs:{"active-view":t.activeView,"thumbnail-view":t.thumbnailView,"grid-view":t.gridView,module:t.module},on:{"update:activeView":t.updateActiveView}}),e("KanbanView",{attrs:{"kanban-view":t.kanbanView,"active-view":t.activeKanbanView,"kanban-list":t.kanbanList},on:{"update:activeKanbanView":t.updateActiveKanbanView,clickKanban:function(e){return t.$emit("clickKanban")}}}),t.dashboardView?e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}):t._e(),t.dashboardView?e("DashboardView",{attrs:{"dashboard-view":t.dashboardView,"chart-view":t.chartView,"table-view":t.tableView,page:t.page},on:{"update:activeDashboardView":t.updateActiveDashboardView}}):t._e(),t._t("extraIcon")],2)},a=[],o=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"columns",expression:"'columns'",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-column-plus-after"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("div",{staticClass:"row border"},[e("div",{staticClass:"title-3 q-pa-xs col-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Show/Hide Columns",autofocus:""},domProps:{value:t.searchColumns},on:{keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),t.repositoryFields&&t.columns.length?e("div",{staticClass:"col-auto q-pa-xs"},[e("BaseButton",{attrs:{label:"Apply",color:"primary"},on:{click:t.apply}})],1):t._e()]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight}},t._l(t._columns,(function(i){return e("ListItem",{key:i.id,class:i.display,attrs:{icon:i.isVisible?"mdi-checkbox-marked":"mdi-checkbox-blank-outline","is-selected":i.isVisible,label:i.label},on:{click:function(e){return t.updateColumns(i)}}})})),1)],1)],1)},n=[],r=(i("14d9"),i("cade")),l=i("1b0d"),c={name:"ToggleColumns",components:{ListItem:r["a"]},props:{columns:{type:Array,required:!0},repositoryFields:{type:Boolean,default:!1},toggleId:{type:Number,default:0}},data(){return{filterColumns:[],columnList:"",searchColumns:""}},computed:{_columns(){return this.columns.filter(t=>"NORMAL"===t.type)},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateColumns1(t){const e=this.columns,i=e.findIndex(e=>e.id===t);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)},apply(){this.filterColumns=[],console.log(this.columns),this.columns.forEach(t=>{!1===t.isVisible&&this.filterColumns.push({Fieldid:t.fieldId,value:t.isVisible})}),console.log(this.filterColumns),this.$emit("viewColumns",this.filterColumns),this.filterColumns=[]},searchColumnList(t){this.columns.forEach(e=>{e.display="",t&&(e.label.toLowerCase().includes(t.toLowerCase())||(e.display="hide"))})},async updateColumns(t){if(this.toggleId){const e=this.columns.findIndex(e=>e.id===t.id);this.columns[e].isVisible=!this.columns[e].isVisible;let i={id:t.hideId||0,columnName:t.id};const{error:s,payload:a}=await l["k"].updateHideColumns(this.toggleId,i);if(s)return void this.$alert.error(s);let o=[];t.hideId?o=this.columns.filter(e=>e.id!=t.hideId):(o=this.columns,o.push({id:a,columnName:t.id})),this.columns[e].hideId=t.hideId?0:a,this.$emit("update:columns",o)}else{const e=this.columns,i=e.findIndex(e=>e.id===t.id);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)}}}},h=c,d=(i("ee26"),i("2877")),u=i("4e73"),p=i("93dc"),m=i.n(p),f=Object(d["a"])(h,o,n,!1,null,"251c6f56",null),g=f.exports;m()(f,"components",{QMenu:u["a"]});var v=i("c559"),y=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"group",expression:"'group'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"eva-copy-outline","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Group By")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.groupBy?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.groupBy,label:i.label},on:{click:function(e){return t.updateGroupBy(i.name)}}})}))],2)],1)],1)},b=[],x={name:"GroupItems",components:{ListItem:r["a"]},props:{columns:{type:Array,required:!0},groupBy:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isGroupable)]},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateGroupBy(t){this.$emit("update:groupBy",t)}}},w=x,k=Object(d["a"])(w,y,b,!1,null,"72f07afc",null),C=k.exports;m()(k,"components",{QMenu:u["a"]});var S=i("27bd"),A=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-toggle"}},[t._l(t._views,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.activeView===i.value?i.activeIcon:i.icon,color:t.activeView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateActiveView(i.value)}}})]})),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],2)},T=[],I=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-info-outline","icon-color":"orange"},on:{input:t.hideSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Default view?")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Do you want to make this "),e("b",[t._v('"('+t._s(t.view)+')"')]),t._v(" view is default? . ")]),e("p",[t._v("You can always change this view.")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:t.handleYes}})]},proxy:!0}])})},P=[],M=i("1c54"),L={name:"DefaultView",components:{Confirm:M["a"]},props:{value:{type:Boolean,required:!0},view:{type:String,required:!0}},methods:{handleNo(){this.$emit("handleNo",!1)},hideSheet(){this.$emit("hideSheet",!1)},handleYes(){this.$emit("handleYes",!1)}}},_=L,D=Object(d["a"])(_,I,P,!1,null,"38f8db3d",null),F=D.exports,O=i("4360"),E={name:"ViewToggle",components:{DefaultView:F},props:{activeView:{type:String,default:"GRID",validator(t){return["GRID","LIST","THUMBNAIL"].includes(t)}},thumbnailView:{type:Boolean,default:!1},gridView:{type:Boolean,default:!0},module:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Grid View",value:"GRID",icon:"mdi-view-grid-outline",activeIcon:"mdi-view-grid"},{id:this.$nano.id(),label:"List View",value:"LIST",icon:"mdi-format-list-checkbox",activeIcon:"mdi-view-list"},{id:this.$nano.id(),label:"Thumbnail View",value:"THUMBNAIL",icon:"eva-image-outline",activeIcon:"eva-image"}],showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{}}},computed:{_views(){return this.thumbnailView?this.views:this.gridView?this.views.slice(0,2):this.views.slice(1,2)}},created(){this.getDefaultView()},methods:{updateActiveView(t){this.defaultView=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeView",this.defaultView),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={},i=this.$route.query.repositoryId,s="";i&&(s="files"),e=s?{preference:{[this.$route.meta.subMenu]:[{menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}}:{preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}};const{error:a,payload:o}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),a?this.$alert.error("Error fetching changing view"):(O["a"].commit("setDefaultView",e.preference),O["a"].commit("setPreferenceId",o),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeView",this.defaultView))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i=this.$route.query.repositoryId,s="";i&&(s="files");let a={};if(s)if(this.options[s])if(this.options[s].length){let t=this.options[s].findIndex(t=>t.subMenu===e);console.log(t),t>=0?this.options[s][t].view=this.defaultView:this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultView:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});let o=JSON.stringify(this.options);a={preference:JSON.parse(o)};const{error:n}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,a);this.$store.commit("hideLoadingBar"),n?this.$alert.error("Error fetching changing view"):(O["a"].commit("setDefaultView",a.preference),this.$emit("update:activeView",this.defaultView))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),O["a"].commit("setDefaultView",this.options),O["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},B=E,N=(i("cd8d"),Object(d["a"])(B,A,T,!1,null,"75627166",null)),R=N.exports,z=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"kanban-view"}},[t.kanbanView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Kanban View",expression:"'Kanban View'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:(t.activeKanban,"mdi-grid"),color:t.activeKanban?"secondary":"gray","no-border":""},on:{click:function(e){return t.$emit("clickKanban")}}},[t.kanbanList.length?e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},t._l(t.kanbanList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.activeView?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.activeView,label:i.label},on:{click:function(e){return t.selectKanban(i.name)}}})})),1)],1):t._e()],1):t._e(),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],1)},$=[],V={name:"KanbanView",components:{ListItem:r["a"],DefaultView:F},props:{activeView:{type:String,default:""},kanbanView:{type:Boolean,default:!1},kanbanList:{type:Array,default:()=>[]}},data(){return{showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{},defaultViewId:""}},computed:{scrollbarHeight(){const t=36*this.kanbanList.length;return t>216?"276px":t+58+"px"},activeKanban(){return"LIST"!==this.activeView&&"GRID"!==this.activeView&&"CHART"!==this.activeView&&"TABLE"!==this.activeView}},created(){this.getDefaultView()},methods:{selectKanban(t){let e=this.kanbanList.find(e=>e.name===t);console.log(e),e&&(this.defaultView=e.label),this.defaultViewId=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeKanbanView",this.defaultViewId),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId}]}};const{error:i,payload:s}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error("Error fetching changing view"):(O["a"].commit("setDefaultView",e.preference),O["a"].commit("setPreferenceId",s),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeKanbanView",this.defaultViewId))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i={};if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultViewId:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});i={preference:this.options};const{error:s}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,i);this.$store.commit("hideLoadingBar"),s?this.$alert.error("Error fetching changing view"):(O["a"].commit("setDefaultView",i.preference),this.$emit("update:activeKanbanView",this.defaultViewId))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),O["a"].commit("setDefaultView",this.options),O["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},H=V,W=(i("6c88"),Object(d["a"])(H,z,$,!1,null,"6f4b2704",null)),j=W.exports;m()(W,"components",{QMenu:u["a"]});var q=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"dashboard-view"}},t._l(t._views,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.dashboardView===i.value?i.activeIcon:i.icon,color:t.dashboardView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateDashboardView(i.value)}}})})),1)},X=[],Y={name:"DashboardView",props:{dashboardView:{type:String,default:"CHART",validator(t){return["CHART","TABLE","SANKEY","KANBAN"].includes(t)}},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!0},page:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"},{id:this.$nano.id(),label:"Chart View",value:"CHART",icon:"eva-image",activeIcon:"eva-image"},{id:this.$nano.id(),label:"Sankey View",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"}]}},computed:{_views(){if("REPORT"===this.page)return this.views.slice(0,2);let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?this.views.slice(1,2):this.views.slice(1,3)}},methods:{updateDashboardView(t){this.$emit("update:activeDashboardView",t)}}},G=Y,U=(i("8180"),Object(d["a"])(G,q,X,!1,null,"1da74fbd",null)),J=U.exports,K=i("be3f"),Z=i("0cdc"),Q=i("12b8"),tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col",attrs:{id:"search-items"}},[e("div",{attrs:{id:"Simple-search"}},[e("div",{staticClass:"label",staticStyle:{"margin-left":"0px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search By",expression:"'Search By'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:t.activeFilter?"secondary":"gray","no-border":""}},[t.filter?e("div"):t._e(),e("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[e("div",{staticClass:"title-3 q-pa-xs border"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Type here to search"},domProps:{value:t.searchColumns},on:{click:function(t){t.stopPropagation()},keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[t._l(t.columnList,(function(i){return[i.display&&!1!==i.isFilter?e("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(e){return t.updateFilterBy(i.id)}}}):t._e()]}))],2)],1)],1),t.activeFilter?e("div",{staticClass:"selectedLabel"},[e("span",{staticClass:"text-bold"},[t._v(t._s(t.selectedLabel)+" :")])]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],ref:"searchQuery",staticClass:"q-px-xs",class:{"text-input-small":t.activeFilter,"text-input-big":!t.activeFilter},attrs:{type:"text",placeholder:t.isdataTypeIsDate?"YYYY-MM-DD":"Search"},domProps:{value:t.searchInput},on:{keyup:t.emitKeyUp,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateSimpleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search",expression:"'Search'",modifiers:{top:!0}}],attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:t.updateSimpleSearch}}),t.activeFilter?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear",expression:"'clear'",modifiers:{top:!0}}],attrs:{icon:"mdi-close-circle","no-border":"","is-flat":""},on:{click:t.clearSimpleSearch}}):t._e()],1)])])},et=[],it={name:"SimpleSearchWithFilter",components:{ListItem:r["a"]},props:{columns:{type:Array,default:()=>[]},filterBy:{type:Array,required:!0}},data(){return{filter:!1,activeFilter:!1,searchColumns:"",columnList:[],filterArray:[],searchInput:"",selectedLabel:"",FilterValue:"",isdataTypeIsDate:!1,isSingleSelect:!1}},computed:{scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.activeFilter=!1,this.filterArray=[],this.searchInput="",this.FilterValue="")}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&(this.activeFilter=!1)}},columns:{deep:!0,immediate:!0,handler(){this.columnList=[],this.columns.forEach(t=>{this.columnList.push({...t,selected:!1,display:"show"})})}}},methods:{emitKeyUp(){this.FilterValue=this.searchInput,this.$emit("keyup",this.searchInput)},updateSimpleSearch(){if(this.activeFilter)if(0===this.filterArray.length){let t=[];this.$emit("update",t)}else if(this.isSingleSelect){let t=[];t[0]=this.FilterValue,this.filterArray[0].filters[0].value=JSON.stringify(t),this.filterArray[0].filters[0].arrayValue=t,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)}else this.filterArray[0].filters[0].value=this.FilterValue,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)},searchColumnList(t){this.columnList.forEach(e=>{e.display="show",e.label.toLowerCase().includes(t.toLowerCase())||(e.display="")})},updateFilterBy(t){this.filter=!this.filter,this.columnList.forEach(t=>{t.selected=!1});let e=this.columnList.find(e=>e.id===t);if(e){e.selected=!0,this.activeFilter=!0,this.selectedLabel=e.label;let t=[];if("None"==e.value)this.activeFilter=!1;else{let i="CONTAINS";"DATE"===e.dataType&&(i="IS_EQUALS_TO",this.isdataTypeIsDate=!0,this.isSingleSelect=!1),"SINGLE_SELECT"===e.dataType?(this.isSingleSelect=!0,t=[{filters:[{criteria:e.name,criteriaArray:[e.name],condition:i,value:"",arrayValue:"",dataType:"SINGLE_SELECT"}],groupCondition:""}],this.filterArray=t):(this.isSingleSelect=!1,t=[{filters:[{criteria:e.name,condition:i,value:"",dataType:e.dataType}],groupCondition:""}]),this.filterArray=t}}},clearSimpleSearch(){this.columnList.forEach(t=>{t.selected=!1}),this.isdataTypeIsDate=!1,this.filterArray=[],this.searchInput="",this.FilterValue="",this.activeFilter=!1,this.filter=!this.filter,this.$emit("update",this.filterArray)}}},st=it,at=(i("ba5a"),Object(d["a"])(st,tt,et,!1,null,"a32bb6e0",null)),ot=at.exports;m()(at,"components",{QMenu:u["a"]});var nt={name:"ItemActions",components:{ToggleColumns:g,ViewToggle:R,SortItems:v["a"],GroupItems:C,FilterItems:S["a"],ExpandableSearch:K["a"],KanbanView:j,DashboardView:J,ImportPopup:Z["a"],SelectField:Q["a"],SimpleSearchWithFilter:ot},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},activeView:{type:String,required:!0},thumbnailView:{type:Boolean,default:!1},filterColumns:{type:Array,default:()=>[]},selectedFilter:{type:Array,default:()=>[]},gridView:{type:Boolean,default:!0},kanbanView:{type:Boolean,default:!1},activeKanbanView:{type:String,default:""},kanbanList:{type:Array,default:()=>[]},jiraConnect:{type:Boolean,default:!1},importData:{type:Boolean,default:!1},dataImported:{type:Boolean,default:!1},hideActions:{type:Array,default:()=>[]},workflowInitiate:{type:Boolean,default:!1},initiateAccess:{type:Boolean,default:!1},gotoInbox:{type:Boolean,default:!1},workflowImport:{type:Boolean,default:!1},formId:{type:String,default:"0"},dashboardView:{type:String,default:""},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!1},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},repositoryFields:{type:Boolean,default:!1},id:{type:Number,default:0},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},deleteBtn:{type:Boolean,default:!1},mode:{type:String,default:""},page:{type:String,default:""},toggleId:{type:Number,default:0},simpleSearchFilter:{type:Boolean,default:!1},simpleSearchApplyed:{type:Boolean,default:!1},customProcessForm:{type:Boolean,default:!1},refresh:{type:Boolean,default:!0},exportData:{type:Boolean,default:!0},sendInvite:{type:Boolean,default:!1},downloadAll:{type:Boolean,default:!1},visibleDownload:{type:Boolean,default:!1},visiblePrint:{type:Boolean,default:!1},visibleEmail:{type:Boolean,default:!1},visibleDelete:{type:Boolean,default:!1},processForward:{type:Boolean,default:!1},importJson:{type:Boolean,default:!1}},data(){return{dateFilter:[{id:this.$nano.id(),label:"Today",value:"today"},{id:this.$nano.id(),label:"Yesterday",value:"yesterday"},{id:this.$nano.id(),label:"This Week",value:"7days"},{id:this.$nano.id(),label:"Last week",value:"week"},{id:this.$nano.id(),label:"This Month ",value:"Currentmonth"},{id:this.$nano.id(),label:"Last Month",value:"month"},{id:this.$nano.id(),label:"Last Quarter",value:"quarter"},{id:this.$nano.id(),label:"This Year",value:"currentyear"},{id:this.$nano.id(),label:"Last Year",value:"year"}],dateValue:""}},computed:{_columns(){return this.filterColumns.length?this.filterColumns:this.columns},checkIconCount(){let t,e=0;return this.visibleDownload&&(e+=1),this.visibleEmail&&(e+=1),this.visiblePrint&&(e+=1),this.visibleDelete&&(e+=1),2===e&&(t=!0),3===e&&(t=!0),4===e&&(t=!0),t}},watch:{dateValue:{deep:!0,immediate:!0,handler(){if(this.dateValue)if("today"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate());const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("yesterday"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate()-1);const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("week"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()-7);let o=new Date(a);o.setDate(a.getDate()+6);let n=a.toISOString().split("T")[0],r=o.toISOString().split("T")[0];this.$emit("filter",n,r,t)}else if("7days"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()+6);let o=s.toISOString().split("T")[0],n=a.toISOString().split("T")[0];this.$emit("filter",o,n,t)}else if("month"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth()-1,2),s=new Date(e.getFullYear(),e.getMonth()),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("quarter"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getMonth(),s=(i-3+12)%12,a=new Date(e.getFullYear(),s,2),o=i-1,n=new Date(e.getFullYear(),o+1,1),r=a.toISOString().slice(0,10),l=n.toISOString().slice(0,10);this.$emit("filter",r,l,t)}else if("year"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear()-1,0,2),s=new Date(e.getFullYear()-1,11,32),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("Currentmonth"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth(),1),s=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`,a=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;this.$emit("filter",s,a,t)}else if("currentyear"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),0,2),s=i.toISOString().split("T")[0],a=e.toISOString().split("T")[0];this.$emit("filter",s,a,t)}}}},methods:{updateColumns(t){this.$emit("update:columns",t)},updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)},updateGroupBy(t){this.$emit("update:groupBy",t)},updateFilterBy(t,e){this.$emit("update:simpleSearchApplyed",!1),this.$emit("update:filterBy",t),this.$emit("update",t,e)},updateContentSearch(t){this.$emit("update:contentSearch",t)},updateActiveView(t){this.$emit("update:activeView",t)},searchTable(t){this.$emit("search",t)},updateActiveKanbanView(t){this.$emit("update:activeKanbanView",t)},updateActiveDashboardView(t){this.$emit("update:dashboardView",t)},upload(){this.$emit("upload")},closeImport(){this.$emit("close")},viewColumns(t){this.$emit("viewColumns",t)},updateSimpletSearchFilterBy(t){this.$emit("update:simpleSearchApplyed",!0),this.$emit("update:filterBy",t),this.$emit("update",t)},downloadTemplate(){this.$emit("downloadTemplate")}}},rt=nt,lt=(i("c925"),i("7225"),i("b047")),ct=i("cb32"),ht=Object(d["a"])(rt,s,a,!1,null,"53ff3a83",null);e["a"]=ht.exports;m()(ht,"components",{QChip:lt["a"],QAvatar:ct["a"]})},"0698":function(t,e,i){},"0abb":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper",attrs:{id:"workflow-overview"}},[e("Portal",{attrs:{to:"action-bar"}},[e("keep-alive",[t.showItemActions?e("ItemActions",{attrs:{item:"workflow-overview",columns:[],"group-by":"",order:"","filter-by":[],criteria:"","active-view":"","kanban-view":t.isVisibleKanbanView,"hide-actions":["toggle","sort","group","filter","activeView","export"],"dashboard-view":t.activeView,"active-kanban-view":t.activeView},on:{"update:dashboardView":function(e){t.activeView=e},"update:dashboard-view":function(e){t.activeView=e},search:t.searchRow,export:t.export_Data,refresh:t.refreshData,clickKanban:t.showKanbanSettings}}):t._e()],1)],1),e("WorkflowFilter",{attrs:{"workflow-id":t.workflowId,filter:t.filter,"form-fields":t.formFields,"workflow-list":t.workflowList,"super-user":t.superUser},on:{"update:workflowId":function(e){t.workflowId=e},"update:workflow-id":function(e){t.workflowId=e},"update:filter":function(e){t.filter=e}}}),t.loadingBarContent?e("BaseLoadingBarSheet",{staticClass:"loading-content"}):t._e(),"CHART"===t.activeView?[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t.customChart?[e("BPMSReportChart",{attrs:{"workflow-id":t.workflowId,"repository-id":t.repositoryId,"repository-fields":t.repositoryFields,workflow:t.workflow}})]:[t.workflowList.length?e("OverviewReportCharts",{attrs:{"workflow-id":t.workflowId,"sla-settings":t.slaSettings,"form-id":t.formId,"form-fields":t.formFields,"repository-id":t.repositoryId,"repository-fields":t.repositoryFields,"workflow-list":t.workflowList,workflow:t.workflow,"refresh-inbox":t.refreshInbox,"repository-name":t.repositoryName},on:{"update:refreshInbox":function(e){t.refreshInbox=e},"update:refresh-inbox":function(e){t.refreshInbox=e},open:t.openProcess,history:t.openHistory,attachments:t.openAttachments,comments:t.openComments}}):t._e()],"TABLE"===t.activeView?void 0:t._e()],2)])]:"SANKEY"===t.activeView?[e("div",{staticClass:"workflowCharts q-mb-sm"},[e("div",{staticClass:"row border-bottom"},[e("div",{staticClass:"text-bold q-pa-sm col-auto"},[t._v("Data Link Chart")]),t.workflowId?[e("div",{staticClass:"row col"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],staticClass:"q-mr-sm q-mt-sm",attrs:{name:"eva-funnel-outline",color:"secondary",size:"24px"}}),t._l(t.sankeyChartsFilter,(function(i,s){return[e("div",{key:i.id,staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("SelectField",{staticClass:"fieldList q-mb-sm",attrs:{options:t.formFields,"is-clearable":!1},on:{input:t.loadingOverviewChart},model:{value:t.sankeyChartsFilter[s],callback:function(e){t.$set(t.sankeyChartsFilter,s,e)},expression:"sankeyChartsFilter[index]"}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"remove filter",expression:"'remove filter'",modifiers:{top:!0}}],staticClass:"plus q-mx-sm",attrs:{icon:"mdi-close",size:"14px","is-flat":"",color:"red"},on:{click:function(e){return t.removeSankeyChartsFilter(s)}}})],1)])])]})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"add filter",expression:"'add filter'",modifiers:{top:!0}}],attrs:{icon:"mdi-plus",color:"secondary"},on:{click:t.addSankeyChartsFilter}})],2),e("div",{staticClass:"row col-auto"},[e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),t._l(t.dataViews,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.dataView===i.value?i.activeIcon:i.icon,color:t.dataView===i.value?"secondary":"gray"},on:{click:function(e){t.dataView=i.value}}})}))],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.pined?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.pined?t.deleteItem("sankey"):t.saveFilter("sankey")}}})],1)]:t._e()],2),"SANKEY"===t.dataView?e("div",{staticClass:"row chart"},[e("vue-highcharts",{ref:"refCharts",staticStyle:{width:"100%"},attrs:{highcharts:t.Highcharts,options:t.sankeyCharts}})],1):"TABLE"===t.dataView?e("div",[e("div",{staticClass:"workflowReports"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 300px)"}},[e("table",[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.name)+" ")])})),0)]),e("tbody",t._l(t.tableReport,(function(i){return e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)})),0)])])],1)]):t._e()])]:t._e(),t.showKanbanView&&"KANBAN"===t.activeView?[e("WorkflowKanban",{attrs:{"kanban-list":t.kanbanSettings,"kanban-data-list":t.kanbanSettingsList,"workflow-name":t.workflowName,"workflow-id":t.workflowId,"workflow-request-list":t.workflowProcessList,workflow:t.workflow,form:t.form,"form-id":t.formId,"enable-controls":t._enableControls},on:{showProcessSheet:function(e){t.processSheet=!0},searchKanban:t.searchKanban}})]:t._e(),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},t.actions.length?{key:"actions",fn:function(){return[t.hasWflowInitiator?e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:t.subWorkflowName,color:"secondary"},on:{click:t.initiateSubWorkflow}}):t._e(),t.formId?[t.formView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}})]:t._e()]},proxy:!0}:null,{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},[e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}),t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formView?e("div",{attrs:{id:"form-view"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"readonly-controls":t.readonlyControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls,"check-list":t.checkList},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e}}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.selectedProcess.createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.selectedProcess.createdByName)+" ")])]):t._e(),e("tr",[t.selectedProcess.raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.selectedProcess.raisedBy?e("td",[t._v(" "+t._s(t.selectedProcess.raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.selectedProcess.transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.selectedProcess.formData.fields,(function(i,s){return[i&&"[]"!=i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])])])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess(i.value)?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.selectedProcess.processId,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents",expression:"'merge documents'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 250px)"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?t._e():e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getComments}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastActionDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"q-pr-sm",class:t.attachComment?"col-auto":"col",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),"START"===t.selectedProcess.stageType||t.attachComment?t._e():e("CheckboxField",{staticClass:"col-auto notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),"START"===t.selectedProcess.stageType||!t.attachComment&&t.attachmentList.length&&t.fileNames.length?t._e():e("CheckboxField",{staticClass:"col-12 q-pl-sm q-pb-sm q-pt-sm",class:t.notifyInitiatorClass,attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.addTask}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[e("div",{staticClass:"row actions advance-cmd"},[t.attachmentList.length&&t.fileNames.length?[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e(),"START"!==t.selectedProcess.stageType?e("CheckboxField",{staticClass:"col-auto q-pl-sm adv-notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e()]:t._e()],2),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionPasswordConfirm=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Action Password")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"passwordForm"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{"is-mandatory":"","is-readonly":t.isLoading,error:i[0],"auto-focus":!0},on:{enter:t.validatePassword},model:{value:t.actionUserPassword,callback:function(e){t.actionUserPassword=e},expression:"actionUserPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"validate","is-loading":t.isLoading},on:{click:t.validatePassword}})]},proxy:!0}]),model:{value:t.actionPasswordConfirm,callback:function(e){t.actionPasswordConfirm=e},expression:"actionPasswordConfirm"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionConfirmAlert=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Confirmation")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(' Are you sure you want to confirm the action as " '),e("b",[t._v(t._s(t.saveAction))]),t._v('"? ')])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:function(e){t.saveAction="",t.workflowFormModel={},t.actionConfirmAlert=!1}}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:function(e){t.actionConfirmAlert=!1,t.processRequest(!1,!1)}}})]},proxy:!0}]),model:{value:t.actionConfirmAlert,callback:function(e){t.actionConfirmAlert=e},expression:"actionConfirmAlert"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t.processForwardGroupAction?t._e():e("span",[t._v('"'+t._s(t.selectedProcess.requestNo)+'"')]),t._v(" Process Forward")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[t.internalForward.proceed?e("MultiSelectField",{staticClass:"field",attrs:{label:"users","is-mandatory":"",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}):t._e(),t.internalForward.groups.length?e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}):t._e(),t.processForwardGroupAction?e("TextAreaField",{staticClass:"field q-mt-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]},proxy:!0}]),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("SubWorkflowProcess",{attrs:{"workflow-id":t.subWorkflowId||t.subProcessData.id,"initiate-sub-workflow-process":t.initiateSubWorkflowProcess,"main-workflow-id":t.workflowId,"main-process-id":t.selectedProcess.processId,"sub-process-link":t.subProcessLink,"selected-process":t.subProcessData,"open-sub-process":t.openSubProcessSheet,"main-form-fields":t.formFields,"main-form-model":t.formModel,"sub-process-id":t.subProcessId},on:{"update:subProcessId":function(e){t.subProcessId=e},"update:sub-process-id":function(e){t.subProcessId=e},closeProcessSheet:t.closeSubProcess}}),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeSubProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Linked Request ")]},proxy:!0}]),model:{value:t.subProcessSheet,callback:function(e){t.subProcessSheet=e},expression:"subProcessSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.subProcessTickets,(function(i,s){return[e("div",{key:s,staticClass:"subProcess"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"o_account_tree",color:"primary-4"}})],1),e("div",{staticClass:"col ellipsis text-underline",on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo)+" ")]),"1"===i.flowStatus?e("q-chip",{attrs:{size:"10px",color:"green","text-color":"white"}},[t._v(" Completed ")]):e("q-chip",{attrs:{size:"10px",color:"orange","text-color":"white"}},[t._v(" Running ")])],1),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(i.name))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.duration)+" ago")])],1)]),t._e()])]}))],2)]),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"inbox","initiate-process":!1,"form-check-list":!1,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":t.workflowFormModel,"form-upload-files":[],"repository-field":t.repositoryFields,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.value},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"inbox","initiate-process":!1,"attachment-list":t.attachmentList,"workflow-id":t.workflow.value,"file-names":t.fileNames,comments:t.commentsList,"display-internal-public":t.displayInternalPublic},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e(),e("UnpinDashboard",{attrs:{"delete-data":t.deleteData,label:t.deleteName},on:{delete:function(e){t.pined=!1,t.getFilterList()}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],2)},a=[],o=(i("14d9"),i("caad"),i("2b88")),n=i("064c"),r=i("1b0d"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col description q-mx-sm q-pa-xs"},[e("div",{staticClass:"row q-mt-sm"},[e("div",{staticClass:"col-auto"},[e("SelectField",{staticClass:"fieldList q-mr-md q-mb-sm",attrs:{value:t.workflowId,options:t.workflowList,"is-clearable":""},on:{input:t.updateWorkflowId}})],1),t._l(t.filter,(function(i,s){return[e("div",{key:i.id,staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("SelectField",{staticClass:"fieldList q-mb-sm",attrs:{options:t.formFields,"is-clearable":!1},on:{input:function(e){return t.$emit("update:filter",t.filter)}},model:{value:t.filter[s],callback:function(e){t.$set(t.filter,s,e)},expression:"filter[index]"}})],1),e("div",{staticClass:"col-auto q-mt-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"remove filter",expression:"'remove filter'",modifiers:{top:!0}}],staticClass:"plus q-mx-sm",attrs:{icon:"mdi-close",size:"14px","is-flat":"",color:"red"},on:{click:function(e){return t.removeFilter(s)}}})],1)])])]})),(t.superUser,t._e())],2)])])])},c=[],h=i("12b8"),d={name:"WorkflowFilter",components:{SelectField:h["a"]},props:{workflowId:{type:Number,default:0},workflowList:{type:Array,default:()=>[]},filter:{type:Array,default:()=>[]},formFields:{type:Array,default:()=>[]},superUser:{type:Boolean,default:!1}},data(){return{month:"Feb - March",monthList:[{id:1,label:"Feb - March",value:"Feb - March"}],type:"counts",typeList:[{id:1,label:"counts",value:"counts"}]}},watch:{workflowId:{immediate:!0,deep:!0,handler(){this.workflowId}},formFields:{immediate:!0,deep:!0,handler(){this.formFields.length&&this.formFields.forEach(t=>{this.filter.length<2&&this.superUser&&"SINGLE_SELECT"===t.type&&this.filter.push(t.id)})}}},methods:{isStatelessField(t){return["LABEL","DIVIDER","PARAGRAPH","TABLE"].includes(t)},updateWorkflowId(t){this.$emit("update:workflowId",t)},addFilter(){this.filter.push("")},removeFilter(t){this.filter.splice(t,1)}}},u=d,p=(i("b173"),i("891f"),i("2877")),m=Object(p["a"])(u,l,c,!1,null,"5b34fd93",null),f=m.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reports"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 265px)"}},[t.workflowId?[e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row items-start q-col-gutter-sm q-my-sm"},[t._l(t.workflowCount,(function(i,s){return[i.visible?[e("div",{key:"workflowcount"+t.workflowId+s,staticClass:"col"},[e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[e("div",{staticClass:"col"},[t._v(" "+t._s(i.workflowStatus)+" ")]),e("div",{staticClass:"col-auto"},[i.dashboard?e("BaseActionButton",{attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return t.deleteItem(i,"report")}}}):e("BaseActionButton",{attrs:{icon:"mdi-pin",color:"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return t.saveFilter(i,"report")}}})],1)]),e("div",{staticClass:"column"},["totalRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"completedCount"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"inboxCount"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"processCount"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaOverdue"===i.matchingKey?[e("div",{staticClass:"text-red col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaProcessing"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaAchieved"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e()],2)])])]:t._e()]}))],2)]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"q-mr-xs",attrs:{id:"inbox"}},[e("table",{attrs:{id:"inboxTable"}},[e("tbody",[e("tr",{staticStyle:{"border-bottom":"1px solid"}},[e("td",[e("div",{staticClass:"q-pl-sm text-bold cursor-pointer underline",on:{click:t.gotoInbox}},[t._v(" Inbox "),e("span",{staticClass:"text-blue"},[t._v(" ("+t._s(t.inboxCount)+")")])])])]),e("tr",[e("td",[e("BaseScrollbar",{attrs:{height:"350px"}},[e("table",{attrs:{id:""}},[e("tbody",[t._l(t.groupKey,(function(i){return[e("tr",{key:i.name},[e("td",{staticStyle:{cursor:"pointer"}},[i.name?e("div",{staticClass:"row"},[e("div",{staticClass:"group-by col-auto q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"groupLabel"},[t._v(" "+t._s(i.name+" ("+i.totalCount+")")+" ")])]),e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expand?"mdi-chevron-down":"mdi-chevron-up"},on:{click:function(t){i.expand=!i.expand}}})],1)]):t._e(),t._l(t.groupRequestList(i.name),(function(s){return[s.visible&&i.expand?e("div",{key:i.name+""+s.processId,staticClass:"list q-mb-xs q-pa-sm",on:{click:function(e){return t.showRequest(s)}}},[e("div",{staticClass:"row"},[e("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-email-outline",color:"primary",size:"22px"}}),e("span",{staticClass:"col-auto underline"},[t._v(t._s(s.requestNo))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto ellipsis"},[t._v(t._s(s.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col"},[t._v(t._s(t.lastActionDuration(s)))]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],staticClass:"col-auto q-mr-sm actions",attrs:{icon:"mdi-history",color:"primary","is-flat":"","no-border":"",size:"22px"},on:{click:function(e){return e.stopPropagation(),t.$emit("history",s)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"col-auto q-mr-sm actions",attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary",size:"22px"},on:{click:function(e){return e.stopPropagation(),t.$emit("attachments",s)}}},[s.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(s.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],staticClass:"col-auto q-mr-xs actions",attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary",size:"22px"},on:{click:function(e){return e.stopPropagation(),t.$emit("comments",s)}}},[s.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(s.commentsCount)+" ")]):t._e()])],1)]):t._e()]}))],2)])]}))],2)])])],1)])])])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"q-ml-xs card"},[e("div",{staticClass:"q-pa-sm text-bold"},[t._v("Last Excel Import Report")]),e("div",{staticClass:"q-mt-sm",staticStyle:{height:"350px"}},[e("table",{staticClass:"tbl-import-status"},[e("tbody",[e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Import Date")]),e("td",[t._v(t._s(t.masterFileProcessTable.importDate||"-"))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v(" Total Imported Rows ")]),e("td",[t._v(t._s(t.masterFileProcessTable.totalRows||"-"))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v(" Inserted row count ")]),e("td",[t._v(t._s(t.masterFileProcessTable.inserted||"-"))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v(" Updated row count ")]),e("td",[t._v(t._s(t.masterFileProcessTable.updated||"-"))])])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 q-pr-sm q-mb-sm"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs row cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",staticStyle:{width:"100%"},on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getWorkflowChartCount()}}},[e("div",{staticClass:"col"},[t._v("Month")]),e("div",{staticClass:"col-auto q-pa-sm"},[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.pinedchart?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){e.stopPropagation(),t.pinedchart?t.deleteItem(t.chartItem,"fullchart"):t.saveFilter(t.chartItem,"fullchart")}}})],1)]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)]),t._l(t.barChartData,(function(i,s){return e("div",{key:"overall-bar"+s,staticClass:"col-4 q-pr-sm q-pb-md",staticStyle:{height:"350px"}},[e("BarChart",{attrs:{title:i.key,"x-data":i.xAxis,"y-data":i.yAxis,"is-horizontal":!0,"is-stacked":!0,options:t.barChartOptions,dashboard:i.dashboard},on:{pin:function(e){return t.saveFilter(i,"bar")},isDelete:function(e){return t.deleteItem(i,"bar")}}})],1)})),t._l(t.pieChartData,(function(i,s){return e("div",{key:"dropdown-pie"+s,staticClass:"col-4 q-pr-sm q-pb-md",staticStyle:{height:"350px"}},[e("PieChart",{attrs:{title:i.name,"x-data":i.xAxis,"y-data":i.yAxis,options:t.pieChartOptions,dashboard:i.dashboard},on:{pin:function(e){return t.saveFilter(i,"Pie")},isDelete:function(e){return t.deleteItem(i,"Pie")}}})],1)}))],2)]:[e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row items-start q-col-gutter-sm q-my-sm"},[t._l(t.workflowCount,(function(i,s){return[i.visible?[e("div",{key:"workflowcount"+s,staticClass:"col"},[e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[e("div",{staticClass:"col"},[t._v(" "+t._s(i.workflowStatus)+" ")]),e("div",{staticClass:"col-auto"},[i.dashboard?e("BaseActionButton",{attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return t.deleteItem(i,"report")}}}):e("BaseActionButton",{attrs:{icon:"mdi-pin",color:"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return t.saveFilter(i,"report")}}})],1)]),e("div",{staticClass:"column"},["totalRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"completedCount"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"inboxCount"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"processCount"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaOverdue"===i.matchingKey?[e("div",{staticClass:"text-red col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaProcessing"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaAchieved"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e()],2)])])]:t._e()]}))],2)]),e("div",{staticClass:"row"},[t.myInboxCount?[e("div",{staticClass:"col-6 q-mr-sm q-mb-sm",attrs:{id:"inbox"}},[e("table",{attrs:{id:"inboxTable"}},[e("tbody",[e("tr",{staticStyle:{"border-bottom":"1px solid"}},[e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-pl-sm text-bold cursor-pointer underline",staticStyle:{margin:"auto"},on:{click:t.gotoInbox}},[t._v(" All Inbox "),e("span",{staticClass:"text-blue"},[t._v(" ("+t._s(t.myInboxCount)+")")])]),e("div",{staticClass:"col"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",staticStyle:{float:"right"},attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getMyInboxList}})],1)])])]),e("tr",[e("td",{attrs:{colspan:"3"}},[e("BaseScrollbar",{attrs:{height:"350px"}},[e("table",{attrs:{id:""}},[e("tbody",[t._l(t.groupKey,(function(i){return[i.name?e("tr",{key:i.name},[e("td",{staticStyle:{cursor:"pointer"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"group-by col-auto q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"groupLabel"},[t._v(" "+t._s(i.name+" ("+i.totalCount+")")+" ")])]),e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expand?"mdi-chevron-down":"mdi-chevron-up"},on:{click:function(t){i.expand=!i.expand}}})],1)]),t._l(t.groupRequestList(i.name),(function(s){return[s.visible&&i.expand?e("div",{key:i.name+""+s.processId,staticClass:"list q-mb-xs q-pa-sm",on:{click:function(e){return t.showRequest(s)}}},[e("div",{staticClass:"row"},[e("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-email-outline",color:"primary",size:"22px"}}),e("span",{staticClass:"col-auto underline"},[t._v(t._s(s.requestNo))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto ellipsis"},[t._v(t._s(s.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col"},[t._v(t._s(t.lastActionDuration(s)))]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],staticClass:"col-auto q-mr-sm actions",attrs:{icon:"mdi-history",color:"primary","is-flat":"","no-border":"",size:"22px"},on:{click:function(e){return e.stopPropagation(),t.$emit("history",s)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"col-auto q-mr-sm actions",attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary",size:"22px"},on:{click:function(e){return e.stopPropagation(),t.$emit("attachments",s)}}},[s.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(s.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],staticClass:"col-auto q-mr-xs actions",attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary",size:"22px"},on:{click:function(e){return e.stopPropagation(),t.$emit("comments",s)}}},[s.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(s.commentsCount)+" ")]):t._e()])],1)]):t._e()]}))],2)]):t._e()]}))],2)])])],1)])])])])]:t._e(),e("div",{staticClass:"col q-mb-sm",attrs:{id:"workflow"}},[e("BaseScrollbar",{attrs:{height:"390px"}},[e("table",{attrs:{id:"workflowTable"}},[e("thead",[e("tr",t._l(t.allCountColumns,(function(i){return e("th",{key:i.id},[[t._v(" "+t._s(i.label)+" ")]],2)})),0)]),e("tbody",[t._l(t.allCountTable,(function(i){return[e("tr",{key:i.id},t._l(t.allCountColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])],1)],2),e("div",{staticClass:"row"},[Object.keys(t.masterFileProcessTable).length?e("div",{staticClass:"col-6 card",staticStyle:{height:"420px"}},[e("div",{staticClass:"q-pa-sm text-bold"},[t._v("Last Excel Import Report")]),e("table",{staticClass:"tbl-import-status"},[e("tbody",[e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Import Date")]),e("td",[t._v(t._s(t.masterFileProcessTable.importDate))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Total Imported Rows")]),e("td",[t._v(t._s(t.masterFileProcessTable.totalRows))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v(" Newly Discovered Resource IDs ")]),e("td",[t._v(t._s(t.masterFileProcessTable.inserted))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Resource IDs Updated")]),e("td",[t._v(t._s(t.masterFileProcessTable.updated))])])])])]):t._e()])]],2),e("UnpinDashboard",{attrs:{"delete-data":t.deleteData,label:t.deleteName},on:{delete:function(e){t.success=!0}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1)},v=[],y=(i("13d5"),i("9254")),b=i("c2d0"),x=i("604f"),w=i.n(x),k=i("0319"),C=i.n(k),S=i("4523"),A=i.n(S),T=i("ea7f"),I=i.n(T),P=i("6e8c");A()(I.a),C()(I.a);var M={name:"OverviewReportCharts",components:{BarChart:y["a"],VueHighcharts:w.a,PieChart:b["a"],UnpinDashboard:P["a"]},props:{workflowId:{type:Number,default:0},formId:{type:String,default:""},formFields:{type:Array,default:()=>[]},repositoryId:{type:Number,default:0},repositoryFields:{type:Array,default:()=>[]},slaSettings:{type:Number,default:0},workflowList:{type:Array,default:()=>[]},workflow:{type:Object,default:()=>{}},refreshInbox:{type:Boolean,default:!1},repositoryName:{type:String,default:""}},data(){return{workflowCount:[{workflowStatus:"Total Requests",matchingKey:"totalRequests",visible:!0,totalCount:0,dashboard:!1},{workflowStatus:"Completed Requests",matchingKey:"completedCount",visible:!0,totalCount:0,dashboard:!1},{workflowStatus:"Inbox Requests",matchingKey:"inboxCount",visible:!0,totalCount:0,dashboard:!1},{workflowStatus:"Sent Requests",matchingKey:"processCount",visible:!0,totalCount:0,dashboard:!1},{workflowStatus:"SLA Overdue",matchingKey:"slaOverdue",visible:!0,additional:!0,totalCount:0,dashboard:!1},{workflowStatus:"SLA Processing",matchingKey:"slaProcessing",visible:!0,additional:!0,totalCount:0,dashboard:!1},{workflowStatus:"SLA Achieved",matchingKey:"slaAchieved",visible:!0,additional:!0,totalCount:0,dashboard:!1}],barChartData:[],barChartOptions:{chart:{height:"85%"}},Highcharts:I.a,chartData:{chart:{type:"spline",height:"300px"},title:{text:""},subtitle:{text:""},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{title:{text:"Count"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#bfa0fe"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getWorkflowChartCount(t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getWorkflowChartCount(this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},pieChartData:[],pieChartOptions:{chart:{height:"85%"}},allCountColumns:[{id:this.$nano.id(),name:"workflowName",label:"Workflow Name"},{id:this.$nano.id(),name:"currentInbox",label:"Current Inbox",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"<15 Days",label:"<15 Days",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"<30 Days",label:"<30 Days",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"<45 Days",label:"<45 Days",type:"SHORT_TEXT"}],allCountTable:[],currentPage:1,itemsPerPage:20,sortBy:{criteria:"",order:"DESC"},groupKey:[],filterBy:[],filters:[],totalItems:0,myInboxCount:0,inboxCount:0,exceedSla:"",metSla:"",selectedWorkflow:{},workflowRequestList:[],formEditAccess:!1,formEditControls:[],workflowNameAndCountTable:[],options:{colors:["#a48965","#ae845c","#ae9751","#7c7f83","#a6a9aa"]},masterFileProcessTable:{},listedData:[],dashboard:!1,chartFilter:[],idToLabelMap:{},success:!1,isDeleteConfirmationVisible:!1,deleteData:{},chartItem:{name:"monthlychart",description:"monthly chart"},pinedchart:!1,deleteName:""}},computed:{columns(){let t=[];return this.repositoryFields.forEach(e=>{"Department"!==e.name&&"Document Type"!==e.name||t.push({id:this.$nano.id(),name:e.name,label:e.name,dataType:e.dataType})}),t}},watch:{workflow:{deep:!0,immediate:!0,async handler(){await this.getFilterList(),this.workflowId?(this.getWorkflowCount(),this.getWorkflowChartCount(),this.getInboxList()):(this.getUserOverallCount(),this.getUserOverallInbox(),this.getUserMyInbox(),this.getSlaPercentage(),this.getMyInboxList());location.origin}},refreshInbox:{deep:!0,immediate:!0,handler(){this.refreshInbox&&(this.$emit("update:refreshInbox",!1),this.workflowId?this.getInboxList():(this.getUserMyInbox(),this.getMyInboxList()))}},formFields:{deep:!0,immediate:!0,handler(){if(this.formFields.length){let t=[];t=this.formFields.filter(t=>"SINGLE_SELECT"===t.dataType).map(t=>""+t.value),this.getChartByColumns(t)}}},repositoryId:{deep:!0,immediate:!0,handler(){this.repositoryId&&(this.$route.query.repositoryId=this.repositoryId)}},success:{deep:!0,immediate:!0,async handler(){if(this.success&&(await this.getFilterList(),this.workflowId?(this.getWorkflowCount(),this.getWorkflowChartCount(),this.getInboxList()):(this.getUserOverallCount(),this.getUserOverallInbox(),this.getUserMyInbox(),this.getSlaPercentage(),this.getMyInboxList()),this.formFields.length)){let t=[];t=this.formFields.filter(t=>"SINGLE_SELECT"===t.dataType).map(t=>""+t.value),this.getChartByColumns(t)}}}},methods:{gotoInbox(){this.$router.push({name:"workflows-inbox"})},groupSelected(t){let e=this.workflowRequestList.filter(e=>e.key===t),i=0;return e.forEach(t=>{t.checked&&i++}),i>1},groupRequestList(t){return this.workflowRequestList.filter(e=>e.key===t)},showRequest(t){this.$emit("open",t)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getUserOverallCount(){this.workflowId=0,this.workflowCount.forEach(t=>(t.visible=!0,t.totalCount=0,t.dashboard=!1)),this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["l"].getUserOverallCount();if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else{if(0===this.workflowId){let t=this.listedData.map(t=>({id:this.$nano.id(),label:t.name,filterJson:JSON.parse(t.filterJson),dashboard:!1}));t.forEach(t=>{let i=t.filterJson[0].uId,s=t.filterJson[0].key,a=s in e;i===this.workflowId&&a&&this.workflowCount.forEach(t=>{t.matchingKey===s&&(t.dashboard=!0)})})}e&&this.workflowCount.forEach(t=>{const i=Object.keys(e).find(e=>e===t.matchingKey);i&&(t.totalCount=e[i])})}},async getUserOverallInbox(){this.$store.commit("showLoadingBar"),this.workflowNameAndCountTable=[];const{error:t,payload:e}=await r["l"].getUserOverallInbox();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&e.forEach(t=>{this.allCountTable.push({workflowName:t.wname,currentInbox:t.currentInbox,["<15 Days"]:t["< 15 Days"],["<30 Days"]:t["< 30 Days"],["<45 Days"]:t["< 45 Days"]})})},async getAllWorkflowChartCount(){this.$store.commit("showLoadingBar"),this.chartData.series=[];let t={year:(new Date).getFullYear()};const{error:e,payload:i}=await r["o"].getAllWorkflowChart(t);if(this.$store.commit("hideLoadingBar"),e)this.$alert.error(e);else if(i){const t=i.map(t=>{const e=Object.keys(t)[0],i=[];for(const s in t[e]){const a=Object.entries(t[e][s]).map(([t,i])=>({name:t,y:parseInt(i),drilldown:!0,category:e,status:s}));i.push({name:s,data:a})}return{name:e,data:i}});let e=this.$refs.refWorkflowChart;if(e){try{e.removeSeries()}catch(s){}t.forEach(t=>{this.chartData.series=t,e.addSeries(this.chartData.series)})}}},async getWorkflowCount(){this.$store.commit("showLoadingBar"),this.workflowCount.forEach(t=>(t.visible=!0,t.totalCount=0));const{error:t,payload:e}=await r["l"].getRequestCountByUserId(this.workflowId);if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(1!==this.slaSettings&&3!==this.slaSettings||this.workflowCount.forEach(t=>{t.additional&&(t.visible=!1)}),e&&this.workflowCount.forEach(t=>{const i=Object.keys(e).find(e=>e===t.matchingKey);i&&(t.totalCount=e[i])}),this.workflowCount.forEach(t=>{t.dashboard=!1}),0!==this.workflowId){let t=this.listedData.map(t=>({id:this.$nano.id(),label:t.name,filterJson:JSON.parse(t.filterJson),dashboard:!1}));t.forEach(t=>{let i=t.filterJson[0].uId,s=t.filterJson[0].key,a=s in e;i===this.workflowId&&a&&this.workflowCount.forEach(t=>{t.matchingKey===s&&(t.dashboard=!0)})})}},async getWorkflowChartCount(t="",e=""){this.pinedchart=!1,this.$store.commit("showLoadingBar"),this.chartData.series=[];const i=e.replace(/\D/g,"");let s={year:(new Date).getFullYear(),month:t,weekno:i};const{error:a,payload:o}=await r["o"].getWorkflowChartByUserId(this.workflowId,s);if(this.$store.commit("hideLoadingBar"),a)return void this.$alert.error(a);if(o&&o.completed&&o.initiated){let t=[];t.push({name:"Running",data:Object.values(o.initiated).map(Number)}),t.push({name:"Completed",data:Object.values(o.completed).map(Number)}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;try{e.removeSeries()}catch(l){}e.addSeries(this.chartData.series[0]),e.addSeries(this.chartData.series[1])}let n=this.listedData.map(t=>({id:this.$nano.id(),label:t.description,filterJson:JSON.parse(t.filterJson),dashboard:!1}));n.forEach(t=>{let e=t.filterJson[0].uId,i=t.filterJson[0].type;e===this.workflowId&&"fullchart"===i&&(this.pinedchart=!0)})},async getChartByColumns(t){this.chartFilter=t,this.barChartData=[],this.pieChartData=[];const{error:e,payload:i}=await r["o"].getChartByColumnsByUserId(this.workflowId,t);if(e)return void this.$alert.error(e);if(i){const t=this.formFields.filter(t=>"SINGLE_SELECT"===t.dataType).reduce((t,e)=>(t[e.value]=e.label,t),{});this.idToLabelMap=t;const e=Object.keys(i).reduce((e,s)=>{const a=t[s.replace(/"/g,"")];return a&&(e[a]=i[s]),e},{});Object.keys(i).forEach(t=>{const e=t.replace(/"/g,"");i[t].forEach(t=>{t.name=t[e]?t[e]:"",delete t[e]})}),Object.keys(e).forEach(t=>{let i=[],s=[],a=[];e[t].forEach(t=>{i.push(t.name),s.push(t.running),a.push(t.completed)}),this.barChartData.push({key:t+" - Report Chart",xAxis:i,yAxis:[{name:"Running",data:s},{name:"Completed",data:a}]})}),Object.keys(e).forEach(t=>{e[t].forEach(t=>{this.pieChartData.push({name:t.name+" - Report Chart",xAxis:["Running","Completed"],yAxis:[t.running,t.completed]})})})}this.barChartData.forEach(t=>{t.dashboard=!1}),this.pieChartData.forEach(t=>{t.dashboard=!1});let s=this.listedData.map(t=>({id:this.$nano.id(),label:t.description,filterJson:JSON.parse(t.filterJson),dashboard:!1}));s.forEach(t=>{let e=t.filterJson[0].uId,i=t.filterJson[0].type,s=t.label;e===this.workflowId&&"bar"===i&&this.barChartData.forEach(t=>{t.key===s&&(t.dashboard=!0)}),e===this.workflowId&&"Pie"===i&&this.pieChartData.forEach(t=>{t.name===s&&(t.dashboard=!0)})})},async getUserMyInbox(){const{error:t,payload:e}=await r["t"].getUserMyInbox();t?this.$alert.error(t):e&&(this.myInboxCount=Number(e))},async getSlaPercentage(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["o"].getSlaPercentageByUserId(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.exceedSla=e[0].exceedSla,this.metSla=e[0].metSla)},async getMyInboxList(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),this.$store.commit("showLoadingBar");let t={filterBy:this.filters,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await r["t"].getMyInboxList(t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),this.totalItems=i.meta.totalItems,i.data.forEach(t=>{let e=[],i=[];if(t.key&&t.value.length){this.selectedWorkflow=this.workflowList.find(e=>e.value==t.workflowId);let s=this.selectedWorkflow.flowJson;s.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),s.blocks.forEach(s=>{s.id===t.value[0].activityId&&(s.settings.formEditPartialAccess&&(i=s.settings.formEditControls),s.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],e.push({id:this.$nano.id(),name:"Forward",icon:"mdi-arrow-right",color:"orange"})))})}1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:i,totalCount:t.totalCount,checkboxRequired:!1}),t.value.forEach(e=>{e.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,repositoryId:this.selectedWorkflow.repositoryId,checked:!1,starred:!1,visible:!0,checkboxRequired:!1})})})}))},async getInboxList(){this.inboxCount=0,1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};this.$store.commit("showLoadingBar");const{error:e,payload:i}=await r["t"].getInboxList(this.workflowId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i.meta.totalItems&&(this.inboxCount=i.meta.totalItems,this.totalItems=0,i.data.forEach(t=>{this.totalItems+=t.totalCount;let e=[],i=[];if(t.key&&t.value.length){this.selectedWorkflow=this.workflowList.find(t=>t.value==this.workflowId);let s=this.selectedWorkflow.flowJson;s.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),s.blocks.forEach(e=>{e.id===t.value[0].activityId&&e.settings.formEditPartialAccess&&(i=e.settings.formEditControls)})}1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:i,totalCount:t.totalCount,checkboxRequired:!1}),t.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,repositoryId:this.selectedWorkflow.repositoryId,checked:!1,starred:!1,visible:!0,checkboxRequired:!1})})})))},async getMasterFileProcess(){this.masterFileProcessTable={};const{error:t,payload:e}=await r["o"].getMasterFileProcess(this.workflowId);t?this.$alert.error(t):e&&(this.masterFileProcessTable=e)},async saveFilter(t,e){this.success=!1;let i=JSON.stringify(this.filterBy),s=[{uId:this.workflowId,type:e,chartFilter:this.chartFilter,key:t.matchingKey,formField:this.idToLabelMap,filters:i}],a=JSON.stringify(s),o=[this.$store.state.session.id],n="",l="";0!==this.workflowId?"Pie"===e?(n=this.repositoryName+"  "+t.name,l=t.name):"bar"===e?(n=this.repositoryName+"  "+t.key,l=t.key):"report"===e?(n=this.repositoryName+"  "+t.workflowStatus,l=t.workflowStatus):"fullchart"===e&&(n=this.repositoryName+"  "+t.name,l=t.name):0===this.workflowId&&(n="All  "+t.workflowStatus,l=t.workflowStatus);let c={name:n,description:l,filterJson:a,filterFrom:"workflowOverview",pinDashboard:!0,assignTo:JSON.stringify(o)};const{error:h}=await r["e"].saveDashboard(c);h?this.$alert.warning("The Name Already Registered "):(this.success=!0,this.$alert.success(n+"  Pinned SuccessFully"))},async getFilterList(){this.loadingBarContent=!0;let t=this.$store.state.session.id.toString();const{error:e,payload:i}=await r["e"].getDashboardData({sortBy:this.sortBy,groupBy:"",filterBy:[{groupCondition:"",filters:[{criteria:"filterFrom",condition:"IS_EQUALS_TO",value:"workflowOverview"},{criteria:"createdBy",condition:"IS_EQUALS_TO",value:t},{criteria:"filterJson",condition:"CONTAINS",value:'"uId":'+this.workflowId+","}]}],currentPage:this.currentPage,itemsPerPage:this.itemsPerPage});if(this.loadingBarContent=!1,this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);let s=i.data[0].value;this.listedData=s},deleteItem(t,e){this.success=!1;let i="";0!==this.workflowId?"Pie"===e?i=this.repositoryName+"  "+t.name:"bar"===e?i=this.repositoryName+"  "+t.key:"report"===e?i=this.repositoryName+"  "+t.workflowStatus:"fullchart"===e&&(i=this.repositoryName+"  "+t.name):0===this.workflowId&&(i="All  "+t.workflowStatus),this.deleteName=i,this.listedData.map(t=>{const e=JSON.parse(t.filterJson);e[0].uId===this.workflowId&&t.name===i&&(this.isDeleteConfirmationVisible=!0,this.deleteData={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!0})})}}},L=M,_=(i("b21f"),i("0016")),D=i("93dc"),F=i.n(D),O=Object(p["a"])(L,g,v,!1,null,"7c50413d",null),E=O.exports;F()(O,"components",{QIcon:_["a"]});var B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reports"},[[e("BaseScrollbar",{attrs:{height:"calc(100vh - 265px)"}},[e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row items-start q-col-gutter-sm q-my-sm"},[t._l(t.workflowCount,(function(i,s){return[e("div",{key:s,staticClass:"col"},[e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[t._v(" "+t._s(i.workflowStatus)+" ")]),e("div",{staticClass:"column"},["totalRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"completedCount"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"inboxCount"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"processCount"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaOverdue"===i.matchingKey?[e("div",{staticClass:"text-red col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaProcessing"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaAchieved"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e()],2)])])]}))],2)]),e("div",{staticClass:"row q-mt-sm"},[e("div",{staticClass:"col-8 q-pr-sm q-mb-sm"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId)}}},[t._v(" Month ")]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId,t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)]),t.departmentTable.length?[e("div",{staticClass:"col-4 chart",attrs:{id:"department-type"}},[e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{attrs:{id:"departmentTable"}},[e("thead",[e("tr",t._l(t.departmentColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.departmentTable,(function(i){return[e("tr",{key:i.id},t._l(t.departmentColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["Department"===s.name?[e("span",{staticClass:"text-underline cursor-pointer",on:{click:function(e){return t.filterDepartment(i[s.name])}}},[t._v(" "+t._s(i[s.name]))])]:[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])],1)]:t._e(),t.documentTypeTableData.length?[e("div",{staticClass:"col-12",attrs:{id:"document-type"}},[e("div",{staticClass:"row q-pb-sm"},[e("div",{staticClass:"text-bold q-pa-sm"},[t._v("Document Approval Data")]),e("q-space"),e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}}),t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Refresh",expression:"'Refresh'",modifiers:{top:!0}}],attrs:{icon:"eva-refresh",color:"gray","no-border":"","is-flat":"",size:"20px"},on:{click:t.getDocumentBasedTicketReport}})],1),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{attrs:{id:"documentTable"}},[e("thead",[e("tr",t._l(t.documentTypeColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.documentTypeTable,(function(i){return[e("tr",{key:i.id},t._l(t.documentTypeColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["TIME"===s.type?[t._v(" "+t._s(t.lastActionDuration(i[s.name]))+" ")]:"ICON"===s.type?["Approve"===i[s.name]?[e("BaseIcon",{attrs:{name:"mdi-check-bold",color:"green"}})]:"Reject"===i[s.name]?[e("BaseIcon",{attrs:{name:"mdi-close-circle",color:"red"}})]:[t._v(" - ")]]:t._e(),"ifileName"===s.name?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"q-mr-sm",staticStyle:{width:"18px"},attrs:{"mime-type":t.fileType(i.ifileName)}})],1),e("div",{staticClass:"col text-underline cursor-pointer ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i[s.name])+" ")])])]:[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])],1)]:t._e(),t._l(t.pieChartData,(function(i,s){return e("div",{key:s,staticClass:"col-4 q-pr-sm q-pt-sm q-pb-sm"},[e("PieChart",{attrs:{title:i.name,"x-data":i.xAxis,"y-data":i.yAxis,options:t.options}})],1)}))],2)])],e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.ifileName)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.ifileName)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFile.documentLastModifiedAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.documentLastModifiedBy))])],1)])])]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],2)},N=[],R=i("27bd"),z=i("be3f"),$=i("fa1f"),V=i("dd90"),H=i("381e"),W=i("cade");A()(I.a),C()(I.a);var j={name:"BpmsReportChart",components:{VueHighcharts:w.a,PieChart:b["a"],FilterItems:R["a"],ExpandableSearch:z["a"],FileIcon:$["a"],Sheet:H["a"],ListItem:W["a"]},props:{workflowId:{type:Number,default:0},repositoryId:{type:Number,default:0},repositoryFields:{type:Array,default:()=>[]},workflow:{type:Object,default:()=>{}}},data(){return{workflowCount:[],barChartData:[],Highcharts:I.a,chartData:{chart:{type:"spline",height:"330px"},title:{text:""},subtitle:{text:""},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{title:{text:"Count"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#bfa0fe"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getWorkflowChartCount(this.workflowId,t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getWorkflowChartCount(this.workflowId,this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},pieChartData:[],departmentColumns:[{id:this.$nano.id(),name:"Department",label:"Department"},{id:this.$nano.id(),name:"running",label:"Running"},{id:this.$nano.id(),name:"completed",label:"Completed"}],departmentTable:[],documentTypeColumns:[],documentTypeTable:[],documentTypeTableData:[],filterBy:[],options:{colors:["#a48965","#ae845c","#ae9751","#7c7f83","#a6a9aa"]},fileSheet:!1,selectedFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}]}},computed:{columns(){let t=[];return this.repositoryFields.forEach(e=>{"Department"!==e.name&&"Document Type"!==e.name||t.push({id:this.$nano.id(),name:e.name,label:e.name,dataType:e.dataType})}),t}},watch:{workflowId:{deep:!0,immediate:!0,handler(){let t=location.origin;"https://demo.ezofis.com"===t||"http://52.172.32.88"===t?2077!==this.workflowId&&2092!==this.workflowId||(this.getWorkflowCount(),this.getWorkflowChartCount(this.workflowId),this.getrepositoryFieldwiseTicketCount(),this.getDocumentWiseTicketCount()):"https://edmsuat.sobhaapps.com"!==t&&"http://localhost:8080"!==t||30!==this.workflowId&&55!==this.workflowId||(this.getWorkflowCount(),this.getWorkflowChartCount(this.workflowId),this.getrepositoryFieldwiseTicketCount(),this.getDocumentWiseTicketCount())}},repositoryFields:{deep:!0,immediate:!0,handler(){let t=location.origin;"https://demo.ezofis.com"===t||"http://52.172.32.88"===t||"http://localhost:8080"===t?2077!==this.workflowId&&2092!==this.workflowId||!this.repositoryFields.length||this.getDocumentBasedTicketReport():"https://edmsuat.sobhaapps.com"!==t&&"http://localhost:8080"!==t||30!==this.workflowId&&55!==this.workflowId||!this.repositoryFields.length||this.getDocumentBasedTicketReport()}},repositoryId:{deep:!0,immediate:!0,handler(){this.repositoryId&&(this.$route.query.repositoryId=this.repositoryId)}},workflow:{deep:!0,immediate:!0,handler(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t||"http://localhost:8080"===t){if(r["t"]&&(2077===this.workflowId||2092===this.workflowId)){this.documentTypeColumns=[];let t=JSON.parse(this.workflow.flowJson);this.documentTypeColumns.push({id:this.$nano.id(),name:"ifileName",label:"Document Name",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Document Type",label:"Document Type",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"requestNo",label:"Document Number",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Department",label:"Department",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedAt",label:"Last Modified At",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedBy",label:"Last Modified By",type:"SHORT_TEXT"}),t.blocks.forEach(t=>{if("INTERNAL_ACTOR"===t.type){let e=this.documentTypeColumns.some(e=>t.settings.label===e.name);e||this.documentTypeColumns.push({id:this.$nano.id(),name:t.settings.label,label:t.settings.label,type:"ICON"})}})}}else if(("https://edmsuat.sobhaapps.com"===t||"http://localhost:8080"===t)&&r["t"]&&(30===this.workflowId||55===this.workflowId)){this.documentTypeColumns=[];let t=JSON.parse(this.workflow.flowJson);this.documentTypeColumns.push({id:this.$nano.id(),name:"ifileName",label:"Document Name",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Document Type",label:"Document Type",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"requestNo",label:"Document Number",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Department",label:"Department",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedAt",label:"Last Modified At",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedBy",label:"Last Modified By",type:"SHORT_TEXT"}),t.blocks.forEach(t=>{if("INTERNAL_ACTOR"===t.type){let e=this.documentTypeColumns.some(e=>t.settings.label===e.name);e||this.documentTypeColumns.push({id:this.$nano.id(),name:t.settings.label,label:t.settings.label,type:"ICON"})}})}}}},methods:{fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},searchRow(t){this.documentTypeTable=t?this.documentTypeTableData.filter(e=>{for(let i in e){let s=this.documentTypeColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.documentTypeTableData},lastActionDuration(t){const e=new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},filterDepartment(t){this.getDocumentWiseTicketCount(t),this.getDocumentBasedTicketReport(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.ifileName){let e=this.selectedFile.ifileName.split(".").pop(),i="";if(Object(V["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(V["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.repositoryId}&itemId=${this.selectedFile.itemId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){this.selectedFile=t,this.fileSheet=!0},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.repositoryId}/${this.selectedFile.itemId}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(V["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.itemId)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.itemId}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.repositoryId}/${this.selectedFile.itemId}/2`;window.open(t,"_blank")}},async getWorkflowCount(){this.$store.commit("showLoadingBar"),this.workflowCount=[];const{error:t,payload:e}=await r["l"].getRequestCountByUserId(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(2===this.slaSettings||4===this.slaSettings?this.workflowCount.push({workflowStatus:"Total Requests",matchingKey:"totalRequests"},{workflowStatus:"Completed Requests",matchingKey:"completedCount"},{workflowStatus:"Inbox Requests",matchingKey:"inboxCount"},{workflowStatus:"Sent Requests",matchingKey:"processCount"},{workflowStatus:"SLA Overdue",matchingKey:"slaOverdue"},{workflowStatus:"SLA Processing",matchingKey:"slaProcessing"},{workflowStatus:"SLA Achieved",matchingKey:"slaAchieved"}):this.workflowCount.push({workflowStatus:"Total Requests",matchingKey:"totalRequests"},{workflowStatus:"Completed Requests",matchingKey:"completedCount"},{workflowStatus:"Inbox Requests",matchingKey:"inboxCount"},{workflowStatus:"Sent Requests",matchingKey:"processCount"}),this.workflowCount.forEach(t=>{const i=Object.keys(e).find(e=>e===t.matchingKey);i&&(t.totalCount=e[i])}))},async getWorkflowChartCount(t,e="",i=""){this.$store.commit("showLoadingBar"),this.chartData.series=[];const s=i.replace(/\D/g,"");let a={year:(new Date).getFullYear(),month:e,weekno:s};const{error:o,payload:n}=await r["o"].getWorkflowChartByUserId(t,a);if(this.$store.commit("hideLoadingBar"),o)this.$alert.error(o);else if(n&&n.completed&&n.initiated){let t=[];t.push({name:"Running",data:Object.values(n.initiated).map(Number)}),t.push({name:"Completed",data:Object.values(n.completed).map(Number)}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;e.removeSeries(),e.addSeries(this.chartData.series[0]),e.addSeries(this.chartData.series[1])}},async getrepositoryFieldwiseTicketCount(){this.$store.commit("showLoadingBar");let t={groupName:"Department",fieldName:"Document Type"};const{error:e,payload:i}=await r["l"].getRepositoryFieldwiseTicketCount(this.workflowId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(i&&(this.departmentColumns=[],i.forEach(t=>{Object.keys(t).forEach(t=>{const e=this.departmentColumns.some(e=>e.name===t);e||this.departmentColumns.push({id:this.$nano.id(),name:t,label:t.toUpperCase()})})})),this.departmentTable=i)},async getDocumentBasedTicketReport(t=""){this.$store.commit("showLoadingBar");let e={};e=t?{repositoryFields:[],stageName:[],filterBy:[{filters:[{criteria:"Department",condition:"IS_EQUALS_TO",value:t,dataType:"SHORT_TEXT"}],groupCondition:""}]}:{repositoryFields:[],stageName:[],filterBy:[]},this.repositoryFields.forEach(t=>{"Department"!==t.name&&"Document Type"!==t.name||e.repositoryFields.push(t.name)});let i=JSON.parse(this.workflow.flowJson);i.blocks.forEach(t=>{if("INTERNAL_ACTOR"===t.type){let i=e.stageName.some(e=>t.settings.label===e);i||e.stageName.push(t.settings.label)}});const{error:s,payload:a}=await r["l"].getDocumentBasedTicketReport(this.workflowId,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a&&a.data[0].value.length){let t=this.documentTypeColumns.find(t=>"Due Since"===t.label);t||this.documentTypeColumns.push({id:this.$nano.id(),name:"ticketCreatedAt",label:"Due Since",type:"TIME"}),this.documentTypeTable=a.data[0].value,this.documentTypeTableData=a.data[0].value}},async getDocumentWiseTicketCount(t=""){this.pieChartData=[],this.$store.commit("showLoadingBar");let e={department:t};const{error:i,payload:s}=await r["l"].getDocumentWiseTicketCount(this.workflowId,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s){let t=s.overAll,e=s.document;t.forEach(t=>{delete t["Document Type"],this.pieChartData.push({key:this.$nano.id(),name:"Overall",xAxis:Object.keys(t),yAxis:Object.values(t)})}),e.forEach(t=>{let e=t["Document Type"];delete t["Document Type"];let i=Object.keys(t),s=Object.values(t);this.pieChartData.push({key:this.$nano.id(),name:e,xAxis:i,yAxis:s})})}}}},q=j,X=(i("bc04"),i("2c91")),Y=i("4e73"),G=Object(p["a"])(q,B,N,!1,null,"4be5c9d5",null),U=G.exports;F()(G,"components",{QSpace:X["a"],QMenu:Y["a"]});var J=i("42fc"),K=i("4bc4"),Z=i("eff0"),Q=i("a7d2"),tt=i("6a70"),et=i("bc3a"),it=i.n(et),st=i("1c54"),at=i("695e"),ot=i("8bc3"),nt=i("869e"),rt=i("6df3"),lt=i("9234"),ct=i("9b4a"),ht=i("e8ea"),dt=i("56e0"),ut=i.n(dt),pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-my-md",attrs:{id:"workflow-kanban"}},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-0-5"},[e("BaseActionButton",{staticClass:"left q-mr-sm",attrs:{icon:"eva-arrow-ios-back-outline",color:"gray-5",size:"32px","no-border":!0,"is-flat":!0},on:{click:t.leftScroll}})],1),e("div",{staticClass:"col"},[e("div",{staticClass:"row q-col-gutter-md"},t._l(t.kanbanList,(function(i,s){return e("div",{key:s,staticClass:"col-3 workflowKanbanRow"},[e("div",{staticClass:"list"},[e("div",{staticClass:"row items-center q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("q-chip",{attrs:{color:i.color,"text-color":"white"}},[t._v(" "+t._s(`${i.cardName} (${i.tickets.length})`)+" ")])],1),e("div",{staticClass:"col q-mr-sm"},[t._e(),e("div",{attrs:{id:"global-search"}},[e("BaseIcon",{attrs:{name:"eva-search"}}),e("div",{staticClass:"label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.search,expression:"list.search"}],ref:"searchQuery",refInFor:!0,attrs:{type:"text",placeholder:"Search..."},domProps:{value:i.search},on:{keyup:function(e){return t.$emit("searchKanban",i.search,i,s)},input:function(e){e.target.composing||t.$set(i,"search",e.target.value)}}})])],1)],1)]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 345px)"}},[e("div",{staticClass:"row items-center q-col-gutter-md"},t._l(i.tickets,(function(i,s){return e("div",{key:s,staticClass:"col-12"},[e("div",{staticClass:"cards q-mx-sm"},[e("div",{staticClass:"row items-center q-ma-sm"},[e("div",{staticClass:"col workflow-name"},["1"===i.completedStatus?e("BaseIcon",{staticClass:"q-mr-sm q-mb-xs",attrs:{name:"eva-checkmark-circle-2-outline",size:"16px",color:"gray"}}):i.currentActionUser===t.$store.state.session.email?e("BaseIcon",{staticClass:"q-mr-sm q-mb-xs",attrs:{name:"eva-email-outline",size:"16px",color:"gray"}}):e("BaseIcon",{staticClass:"q-mr-sm q-mb-xs",attrs:{name:"eva-person-done-outline",size:"16px",color:"gray"}}),t._v(" "+t._s(i.requestNo)+" ")],1),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row items-center"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Comments",expression:"'Comments'",modifiers:{top:!0}}],staticClass:"q-mx-xs linkActions",attrs:{"is-flat":"",icon:"mdi-comment-text-outline",size:"16px",color:"primary","no-border":""},on:{click:function(e){return t.showComments(i)}}},[i.commentsList.length?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsList.length)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Attachments",expression:"'Attachments'",modifiers:{top:!0}}],staticClass:"q-mr-xs linkActions",attrs:{"is-flat":"",icon:"mdi-attachment",size:"16px",color:"primary","no-border":""},on:{click:function(e){return t.showAttachments(i)}}},[i.attachmentList.length?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentList.length)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"History",expression:"'History'",modifiers:{top:!0}}],staticClass:"q-mr-xs linkActions",attrs:{"is-flat":"",icon:"mdi-history",size:"16px",color:"primary","no-border":""},on:{click:function(e){return t.showHistoryModal(i)}}}),e("BaseActionButton",{staticClass:"linkActions",attrs:{icon:"eva-external-link-outline",color:"primary","no-border":"","is-flat":"",size:"16px"},on:{click:function(e){return t.showProcessSheet(i)}}})],1)])]),e("BaseSeparator"),e("div",{staticClass:"q-mx-md q-my-sm label"},[i.lastActionUser?e("div",{staticClass:"row items-center q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-account-check",size:"16px",color:"gray"}})],1),e("div",{staticClass:"col"},[t._v(t._s(i.lastActionUser))])]):t._e(),i.lastActionDate?e("div",{staticClass:"row items-center q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-calendar-check",size:"16px",color:"gray"}})],1),e("div",{staticClass:"col"},[t._v(" "+t._s(t.lastActionDuration(i.lastActionDate))+" ")])]):t._e(),i.currentActionUser?e("div",{staticClass:"row items-center q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-account-star",size:"16px",color:"gray"}})],1),e("div",{staticClass:"col"},[t._v(t._s(i.currentActionUser))])]):t._e(),i.currentActionDate?e("div",{staticClass:"row items-center q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-calendar-clock",size:"16px",color:"gray"}})],1),e("div",{staticClass:"col"},[t._v(" "+t._s(t.lastActionDuration(i.currentActionDate))+" ")])]):t._e()])],1)])})),0)])],1)])})),0)]),e("div",{staticClass:"col-0-5"},[e("BaseActionButton",{staticClass:"right q-ml-sm",attrs:{icon:"eva-arrow-ios-forward-outline",color:"gray-5",size:"32px","no-border":!0,"is-flat":!0},on:{click:t.rightScroll}})],1)]),e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}})]},proxy:!0},"inbox"===t.selectedNode?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),"inbox"===t.selectedNode&&i.createdBy===t.$store.state.session.id?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadId=i.id,t.reupload(i.name)}}})],1)]:t._e()],2),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),"inbox"===t.selectedNode&&i.createdBy===t.$store.state.session.id?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1):t._e()]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode?t.checkCommentsOption()?"calc(100vh - 190px)":"calc(100vh - 150px)":""}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastActionDuration(i.createdAt),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),"inbox"===t.selectedNode?e("div",{staticClass:"col q-pa-sm"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}})]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.checkTenant()?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"100vw","has-footer":!t.isCustomizedWorkflow||"inbox"!==t.selectedNode,"no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i)}}})})),1)],1)],1):t._e()]},proxy:!0},{key:"footer",fn:function(){return[t.isCustomizedWorkflow&&"inbox"===t.selectedNode?t._e():[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()],"psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId?["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Verify",disabled:t.customVerify,color:"primary"},on:{click:function(e){return t.validateRequest("CustomVerify",!1,!1)}}}):t._e()]:t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.isCustomizedWorkflow&&"inbox"===t.selectedNode?[e("CustomForm",{attrs:{panels:t.panels,"secondary-panels":t.secondaryPanels,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,actions:t.actions,"request-prefix":t.requestPrefix,"ml-prediction":t.mlPrediction},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:requestPrefix":function(e){t.requestPrefix=e},"update:request-prefix":function(e){t.requestPrefix=e},"update:mlPrediction":function(e){t.mlPrediction=e},"update:ml-prediction":function(e){t.mlPrediction=e}}})]:[t.formId?e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t.enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e}}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1)],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return["TASK"===i.value?[t.addTaskEnabled?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]:["VALIDATION"!==i.value&&"PAYMENT_TABLE"!==i.value||("VALIDATION"===i.value||"PAYMENT_TABLE"===i.value)&&t.isCustomizedWorkflow?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]]}))],2)]],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,mode:"Indexing",file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:"Index",columns:t.columns,"modal-value":t.selectedProcess,"upload-filename":t.uploadFilename},on:{close:function(e){t.showMetaDataEditModal=!1},save:t.saveMetaData}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e()],1)},mt=[],ft=i("abe1"),gt=i("5e23"),vt=i("a589"),yt=i("0c04"),bt=i("b94d"),xt=i("ee54"),wt=i("8505"),kt={name:"WorkflowKanban",components:{Sheet:H["a"],FileIcon:$["a"],FileDetails:ft["a"],Modal:tt["a"],SingleChoiceField:lt["a"],TextAreaField:rt["a"],TextBuilderField:at["a"],ListItem:W["a"],CheckboxField:nt["a"],EmailSharing:gt["a"],RenderForm:K["a"],CustomForm:vt["default"],AddTask:yt["a"],Tabs:bt["a"],MetaDataEdit:xt["a"],ExpandableSearch:z["a"],ProcessHistory:wt["a"]},props:{kanbanList:{type:Array,required:!0},kanbanDataList:{type:Array,required:!0},workflowName:{type:String,required:!0},workflowId:{type:[String,Number],required:!0},workflowRequestList:{type:Array,required:!0},workflow:{type:Object,default:()=>{}},form:{type:Object,default:()=>{}},enableControls:{type:Object,default:()=>{}},formId:{type:[String,Number],required:!0}},data(){return{attachmentSheet:!1,selectedProcess:{},attachmentList:[],emailSharingSheet:!1,checkList:[],selectedNode:"",selectedTicket:{},attachmentLoad:null,fileData:[],fileDetailsSheet:!1,checkListRowIndex:null,reuploadId:0,repositoryDetails:{},repositoryField:[],commentsSheet:!1,commentsList:[],commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,commentText:"",advancedCommentsSheet:!1,advancedCommentText:"",selectAll:!1,fileSheet:!1,selectedFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],selectedFileList:[],processSheet:!1,itemModel:{},formModel:{},headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Payment Table",value:"PAYMENT_TABLE",icon:"mdi-table",count:0}],actions:[],groupActionFields:[],saveAction:"",workflowFormModel:{},workflowModel:{},formEditAccess:!1,formEditControls:[],formVisibilityAccess:!0,formSecureControls:[],formFields:[],dataValidationValues:[],formCheckList:!1,signList:[],userSignature:!1,processActions:[],processActionsAddOn:[],taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",selectedTask:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",mailTransactionSheet:!1,mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],showMetaDataEditModal:!1,selectedUploadFile:[],columns:[],search:"",addTaskEnabled:!1,uploadFilename:"",historyProcessId:0}},computed:{selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&1===this.workflow.id)return!0;return!1},formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){if(!this.formId)return[];if(this.groupActionFields.length){let t=[];return this.form.panels.map(e=>{let i=[];e.fields.forEach(t=>{this.groupActionFields.indexOf(t.id)>-1&&i.push(t)}),t.push({id:e.id,fields:i,settings:e.settings})}),t}return this.form.panels},secondaryPanels(){return this.formId?this.groupActionFields.length?[]:this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{attachmentSheet:{immediate:!0,handler(){this.attachmentSheet||clearInterval(this.attachmentLoad)}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.processRequest()}}},methods:{getColor(t){return t.color?{border:`1px solid var(--${t.color})`}:{border:"1px solid var(--secondary)"}},leftScroll(){const t=document.querySelector(".workflowKanbanRow");t.scrollBy(-200,0)},rightScroll(){const t=document.querySelector(".workflowKanbanRow");t.scrollBy(200,0)},showAttachments(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.getAttachments(t.processId),this.selectedTicket=t,t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.getFormColumns(),this.attachmentSheet=!0},showHistoryModal(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.historyProcessId=Number(t.processId)},showProcessSheet(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.getTaskForm(),this.openProcess(),this.getAttachments(t.processId),this.getComments(t.processId),this.getModel(Number(t.processId)),this.getFormColumns(),this.processSheet=!0},closeAttachmentsSheet(){this.attachmentSheet=!1},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async uploadWflowAttachments(t){"STATIC"===this.repositoryDetails.fieldsType?(this.selectedUploadFile=t,this.uploadFilename=t.target.files[0].name,this.showMetaDataEditModal=!0):this.uploadAttachments(t)},async uploadAttachments(t,e){const i=t.target.files[0],s=new FormData;s.append("workflowId",this.workflowId),s.append("repositoryId",this.workflow.repositoryId),s.append("processId",this.selectedProcess.processId),s.append("transactionId",this.selectedProcess.transactionId),e?s.append("fields",e):s.append("fields",""),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(console.log(o),Object(V["a"])(o)){this.$store.commit("showLoadingBar");try{const t=await it()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached")}catch(n){this.$alert.error("Error uploading file"),console.error(n)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",this.reuploadId&&(await this.attachmentDelete(this.reuploadId),this.reuploadId=0),this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else this.$alert.error("this file format not supporting")},async getAttachments(t){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let e=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["t"].getAttachments(this.workflowId,t||this.selectedProcess.processId);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else{if(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)}),s.length){let t=s.length-1;this.getFileData(s[t],"attach"),e!==s.length&&(this.attachmentList=s.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})}else this.attachmentList=[];this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1})}},async getFileData(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s&&(this.fileData=s,e||(this.fileDetailsSheet=!0))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},async getRepository(){const{error:t,payload:e}=await r["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(Q["a"])(t)},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},async attachmentDelete(t){this.$store.commit("showLoadingBar");const{error:e}=await r["p"].fileDelete(this.workflow.repositoryId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):this.getAttachments()},closeCommentsSheet(){this.closeCommnetsSheet=!1},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t&&"http://localhost:8080"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async getComments(t){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:e,payload:i}=await r["t"].getProcessComments(this.workflowId,t||this.selectedProcess.processId);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],i.length&&(this.commentsList=i,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})))},async saveComment(){let t=location.origin;if(this.commentText&&this.selectedProcess.processId){if("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t&&"http://localhost:8080"!==t||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.commentAction=1,this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText&&this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin&&"http://localhost:8080"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},showComments(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.getComments(t.processId),this.selectedTicket=t,t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.commentsSheet=!0},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId)&&"http://localhost:8080"!==t||(this.commentAction=2,!1)},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t||"http://localhost:8080"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},lastActionDuration(t){const e=t instanceof Date?t:new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await r["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},documentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();Object(V["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await r["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop(),i="";"inbox"===this.selectedNode&&(i="&action=all");let s="";if(Object(V["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(V["c"])(e)?"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(V["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}${i}`}},getModel(t){this.formModel={},this.itemModel={},this.workflowRequestList.forEach(e=>{if(e.processId==t&&e.id==this.workflow.id)if(this.headerTitle=`${e.requestNo} - ${e.stage}`,e.formData){let t=Object.keys(e.formData.fields),i={};t.forEach(t=>{i[t]=this.validateTypeValue(e.formData.fields[t])}),this.formModel=i}else e.itemData&&(this.itemModel=e.itemData)})},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"VALIDATION"===t||"PAYMENT_TABLE"===t||"MAIL"===t&&(this.getMailTransactions(),this.mailTransactionSheet=!0)},openProcess(t=!1){if(this.actions=[],this.formEditAccess=!1,t){this.tabs.find(t=>{t.count=0}),this.commentsList=[],this.attachmentList=[],this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[];let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}if(e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=!1,t.length&&t.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})}}}else{if("inbox"===this.selectedNode){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length)){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=!1,t.length&&t.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})}}else this.formEditAccess=!0;this.actions=this.processActions;location.origin}if("inbox"===this.selectedNode){this.processActions=[],this.processActionsAddOn=[];let t=location.origin;var e=JSON.parse(this.workflow.flowJson);"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&"http://localhost:8080"!==t||"psyCrYXtKfcs-EJmrYIhv"!==this.selectedProcess.activityId?e.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.processActions.indexOf(t.proceedAction)<0&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}):e.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&"Force Close"===t.proceedAction&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}),e.blocks.forEach(t=>{if(t.id===this.selectedProcess.activityId){if("Forward"===this.selectedProcess.lastAction&&"REPLY"===t.settings.forwardedUserAction)this.processActions=[],this.processActionsAddOn=[],this.processActions.push("Reply to "+this.selectedProcess.transaction_createdByEmail),this.processActionsAddOn.push({action:"Reply to "+this.selectedProcess.transaction_createdByEmail,remarks:!0,passwordAccess:!1,confirm:!1}),this.customReply=!0;else if(t.settings.userReply&&-1===this.processActions.indexOf("Reply")&&(this.processActions.push("Reply to "+this.selectedProcess.lastActionStageName),this.userReply=!0),t.settings.toInitiator&&-1===this.processActions.indexOf("To Requester")&&(this.processActions.push("To Requester"),this.toRequester=!0),t.settings.internalForward){let e=location.origin;"https://app.ezofis.com"!==e&&"https://appuat.ezofis.com"!==e||2!==this.$store.state.session.tenantId?this.processActions.push("Forward"):this.processActions.push("Assign"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],t.settings.internalForwardUser&&t.settings.internalForwardUser.length&&t.settings.internalForwardUser.forEach(t=>{let e=this.userList.filter(e=>e.value==t);e.length&&this.internalForward.users.push({id:this.$nano.id(),label:e[0].label,value:t})}),t.settings.internalForwardGroup&&t.settings.internalForwardGroup.length&&t.settings.internalForwardGroup.forEach(t=>{let e=this.groupList.filter(e=>e.value==t);e.length&&this.internalForward.groups.push({id:this.$nano.id(),label:e[0].label,value:t})})}this.userSignature=t.settings.userSignature,t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}))}}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.processActions.push("Force Close")}else if("sent"===this.selectedNode){let t=location.origin;"https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId?"http://demo.ezofis.com"!==t&&"http://52.172.32.88"!==t||6===this.selectedWorkflow.id&&this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback")):this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback"))}this.actions=this.processActions},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await r["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["g"].getFormEntry(t,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",n="",r="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":n=s[0][t.id];break;case"Priority":r=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:n,priority:r,status:l})}},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",n="",r="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":n=t.entryInfo[0][i.id];break;case"Task Status":r=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:n,status:r})})}},async insertTaskEntry(t,e){this.$store.commit("showLoadingBar");const{error:i}=await r["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):this.getTaskList()},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await r["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy)),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups});let a=!1;"CustomVerify"!==this.saveAction||"https://ag-appsvc01.azurewebsites.net"!==s&&"https://ag-appsvc05.azurewebsites.net"!==s&&"http://localhost:8080"!==s||(a=!0),this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:o}=await r["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),a||(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.closeProcessSheet()))},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await r["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},closeProcessSheet(){this.processSheet=!1},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},getFormColumns(){let t=[];if(this.form){const e=[...this.form.panels,...this.form.secondaryPanels];if(!e.length)return;let i=[];for(const t of e)i.push(...t.fields);i.forEach(e=>{"DIVIDER"===e.type||"LABEL"===e.type||"PARAGRAPH"===e.type||!e.label&&"TABLE"!==e.type||"DISABLE"===e.settings.general.visibility||t.push({id:e.id,label:e.label,isVisible:!0,display:""})})}this.columns=t},searchKanban(t,e,i){if(console.log(e,t),t){let e=["attachmentList","commentsList","completedStatus","currentActionDate","currentActionUser","currentTransactionId","nodeName","processId","requestNo","slaTime"];this.kanbanList[i].tickets.forEach(i=>{for(let s in i){let a=e.indexOf(s);if(a>=0&&i[s]&&String(i[s]).toLowerCase().includes(t.toLowerCase()))return}})}else this.kanbanList[i].tickets=this.kanbanDataList[i].tickets}}},Ct=kt,St=(i("76bc"),i("a246"),i("b047")),At=i("cb32"),Tt=i("8169"),It=Object(p["a"])(Ct,pt,mt,!1,null,"b747428a",null),Pt=It.exports;F()(It,"components",{QChip:St["a"],QAvatar:At["a"],QChatMessage:Tt["a"],QMenu:Y["a"]});var Mt=i("470f"),Lt=i("b0ba"),_t=i("ec15"),Dt=i("bb36");ut()(I.a),ct["a"].register(ct["d"],ht["b"],ht["a"]);var Ft={name:"WorkflowsOverview",components:{Portal:o["Portal"],ItemActions:n["a"],WorkflowFilter:f,OverviewReportCharts:E,BPMSReportChart:U,Sheet:H["a"],RenderForm:K["a"],SignatureField:Z["a"],Modal:tt["a"],Confirm:st["a"],TextBuilderField:at["a"],PasswordField:ot["a"],CheckboxField:nt["a"],TextAreaField:rt["a"],SingleChoiceField:lt["a"],FileIcon:$["a"],ListItem:W["a"],SelectField:h["a"],VueHighcharts:w.a,WorkflowKanban:Pt,AddTask:yt["a"],FileDetails:ft["a"],EmailSharing:gt["a"],ProcessHistory:wt["a"],SubWorkflowProcess:Mt["a"],FormEntryHistory:Lt["a"],Attachments:_t["a"],Comments:Dt["a"],UnpinDashboard:P["a"]},data(){return{showItemActions:!1,activeView:"CHART",workflowId:0,workflowList:[],refreshInbox:!1,filter:[],Highcharts:I.a,sankeyCharts:{title:{text:""},credits:{enabled:!1},accessibility:{point:{valueDescriptionFormat:"{index}. {point.from} to {point.to}, {point.weight}."}},series:[{keys:["from","to","weight"],data:[],type:"sankey"}]},sankeyChartsFilter:[],tableReport:[],tableReportData:[],dataViews:[{id:this.$nano.id(),label:"Sankey Diagram",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"},{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"}],dataView:"SANKEY",columns:[],search:"",slaSettings:0,formFields:[],superUser:!1,initiatedBy:"",formId:"",repositoryId:0,repositoryFields:[],processId:0,workflow:{},workflowRequestList:[],form:null,formModel:{},formEditAccess:!1,formEditControls:[],readonlyControls:[],formVisibilityAccess:!0,formSecureControls:[],workflowFormModel:{},saveAction:"",generatePDF:0,attachmentLoad:null,attachmentList:[],attachmentSheet:!1,commentsLoad:null,commentText:"",commentsList:[],commentsSheet:!1,selectedProcess:{},selectedFile:{},fileSheet:!1,fileDetailsSheet:!1,fileData:[],checkList:[],rowIndex:null,hideFileSheet:!1,processSheet:!1,totalItems:0,itemsPerPage:10,currentPage:1,title:"NO DATA",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Sub Process",value:"SUB_PROCESS",icon:"eva-link-2-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskSheet:!1,headerTitle:"",taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",selectedTask:{},filterBy:[],processActionsAddOn:[],advancedCommentsSheet:!1,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:1,advancedCommentText:"",actionText:"",actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionConfirmAlert:!1,actionUserPassword:"",isLoading:!1,internalForward:{proceed:!1,users:[],groups:[]},userSignature:!1,signImg:"",signList:[],actions:[],itemModel:{},checkListRowIndex:null,selectAll:!1,userList:[],groupList:[],processForwardGroupAction:!1,processForwardModal:!1,forwardUsers:[],forwardGroups:[],errorMessage:"",alertModal:!1,errorModal:!1,documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],activeKanbanView:"LIST",isVisibleKanbanView:!1,showKanbanView:!1,kanbanSettings:[],kanbanSettingsList:[],workflowName:"",workflowProcessList:[],addTaskEnabled:!1,loadingBarContent:!1,emailSharingSheet:!1,selectedFileList:[],fileNames:[],selectedFileForAttach:0,attachComment:!1,displayInternalPublic:!1,historyProcessId:0,notifyInitiator:!1,formView:!0,stageLevel:[],currentStep:0,hasWflowInitiator:!1,subWorkflowId:0,initiateSubWorkflowProcess:!1,subProcessSheet:!1,subProcessData:{},subTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],subProcessLink:"",openSubProcessSheet:!1,subProcessTickets:[],subProcessId:0,showFormEntryHistoryModal:!1,showAttachmentSheet:!1,wform:{},repositoryDetails:{},showCommentsSheet:!1,repositoryName:"",listedData:[],pined:!1,isDeleteConfirmationVisible:!1,deleteData:{},deleteName:""}},computed:{panels(){return this.form?this.form.panels:[]},secondaryPanels(){return this.form?this.form.secondaryPanels:[]},formSettings(){return this.form?this.form.settings:{}},checkListTemplate(){return!!this.checkList.length&&this.checkList.filter(t=>t.template).length>0},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},_enableControls(){let t=[],e=[];return this.panels&&this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}},customChart(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(2077===this.workflowId||2092===this.workflowId)return!0}else if(("https://edmsuat.sobhaapps.com"===t||"http://localhost:8080"===t)&&(30===this.workflowId||55===this.workflowId))return!0;return!1},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&"http://localhost:80801"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},commentsSheetHeight(){return this.checkTenant()?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 270px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 230px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 200px)":this.displayInternalPublic?"calc(100vh - 220px)":"START"!==this.selectedProcess.stageType?"calc(100vh - 180px)":"calc(100vh - 150px)":"calc(100vh - 150px)"},notifyInitiatorClass(){return this.attachmentList.length&&this.fileNames.length?"":"action-container"}},watch:{filter:{immediate:!0,deep:!0,handler(){if(this.filter.length&&this.filter[this.filter.length-1]&&"CHART"===this.activeView)try{this.$refs.refCharts.removeSeries()}catch(t){}}},workflowId:{immediate:!0,deep:!0,async handler(){if(this.workflow={},this.workflowId){this.getKanbanViewSettings(),this.getWorkflowData();let t=this.workflowList.find(t=>t.value===this.workflowId),e=this.workflowList.find(t=>t.value===this.workflowId);this.workflowName=e.label,this.initiatedBy=t.initiatedBy,this.formId="",this.formFields=[],this.repositoryId=0,this.repositoryFields=[],await this.getWorkflow(),"FORM"===this.initiatedBy||"DOCUMENT_FORM"===this.initiatedBy?(this.formId=String(t.formId),t.formId&&await this.getForm(),this.repositoryId=t.repositoryId,t.repositoryId&&this.getRepository()):"DOCUMENT"===this.initiatedBy&&(this.repositoryId=t.repositoryId,t.repositoryId&&await this.getRepository()),"SANKEY"===this.activeView&&(this.formFields.forEach(t=>{this.sankeyChartsFilter.length<2&&"SINGLE_SELECT"===t.dataType&&this.sankeyChartsFilter.push(t.value)}),this.sankeyChartsFilter.length&&(await this.getFilterList(),this.overviewChart(),this.overviewTableReport()))}}},activeView:{immediate:!0,deep:!0,handler(){if("CHART"===this.activeView)try{this.$refs.refCharts.removeSeries()}catch(t){}else"SANKEY"===this.activeView&&this.workflowId&&(this.formFields.forEach(t=>{this.sankeyChartsFilter.length<2&&"SINGLE_SELECT"===t.dataType&&this.sankeyChartsFilter.push(t.value)}),this.sankeyChartsFilter.length&&(this.overviewChart(),this.overviewTableReport()))}},dataView:{immediate:!0,deep:!0,handler(){"SANKEY"===this.activeView&&("SANKEY"===this.dataView?this.overviewChart():"TABLE"===this.activeView&&this.overviewTableReport())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.checkRequiredDocument()}},attachmentSheet:{immediate:!0,handler(){if(this.attachmentSheet&&this.selectedProcess.processId){if(this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},3e4)}else clearInterval(this.attachmentLoad)}},commentsSheet:{immediate:!0,handler(){this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments()},3e4):clearInterval(this.commentsLoad)}},subWorkflowId(){if(this.subWorkflowId){let t=this.workflowList.find(t=>t.value==this.subWorkflowId);if(t){this.subWorkflowName="Initiate - "+t.label,this.hasWflowInitiator=!1;let e=t.flowJson,i=e.blocks.find(t=>"START"===t.type);if(i&&"MANUAL"===i.settings.initiateMode&&"DOCUMENT"!==t.initiatedBy&&((i.settings.users.indexOf(this.$store.state.session.id)>-1||i.settings.users.indexOf("0")>-1)&&(this.hasWflowInitiator=!0),i.settings.initiateBy.indexOf("DOMAIN_USER")>-1)){let t=this.$store.state.session.email.split("@").pop();i.settings.userDomains.indexOf(t)>-1&&(this.hasWflowInitiator=!0)}}else this.hasWflowInitiator=!1}}},created(){this.getUserWorkflow(),this.getUsers(),this.getGroups()},mounted(){this.showItemActions=!0},methods:{isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t},checkTabAccess(t){return"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1,this.notifyInitiator=!1},searchRow(t){this.tableReport=t?this.tableReportData.filter(e=>{for(let i in e){let s=this.columns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.tableReportData},export_Data(){this.tableReportData.length&&Object(J["a"])(this.tableReportData)},refreshData(){if("CHART"===this.activeView)try{this.$refs.refCharts.removeSeries()}catch(t){}else"SANKEY"===this.activeView&&(this.overviewChart(),this.overviewTableReport())},loadingOverviewChart(){this.overviewChart(),this.overviewTableReport()},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},duration(t){const e=t instanceof Date?t:new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateURL(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return e.test(t)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(Q["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();return this.selectedFile.initiate?Object(V["d"])(e)?`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`:Object(V["d"])(e)?`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:Object(V["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2`}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&action=all`},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},download(t){window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t}`)},downloadAll(){this.checkList.forEach(t=>{t.id&&t.template&&window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t.id}`)})},attachTemplate(t){this.rowIndex=t,this.$refs.attachments.click()},lastActionDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},closeTaskSheet(){this.taskSheet=!1},closeProcessSheet(){this.processSheet=!1,this.subProcessData={},this.subProcessTickets=[]},addSankeyChartsFilter(){this.sankeyChartsFilter.push("")},removeSankeyChartsFilter(t){this.sankeyChartsFilter.splice(t,1),this.refreshData()},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async getUserWorkflow(){this.workflowList=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await r["t"].getUserWorkflow();this.$store.commit("hideLoadingBarPage"),t?this.$alert.error(t):e.length&&e.forEach(t=>{this.workflowList.push({id:this.$nano.id(),label:t.name,value:t.id,initiatedBy:t.initiatedBy,formId:t.wFormId,repositoryId:t.repositoryId,flowJson:JSON.parse(t.flowJson)})})},async getUsers(){this.userList=[];const{error:t,payload:e}=await r["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{t.id!==this.$store.state.session.id&&this.userList.push({id:this.$nano.id(),label:t.value,value:t.id})})},async getGroups(){const{error:t,payload:e}=await r["i"].getGroupList();t?this.$alert.error("Error fetching groups"):this.groupList=e&&e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))},async overviewChart(){this.pined=!1,this.loadingBarContent=!0;try{this.$refs.refCharts.removeSeries()}catch(i){}const{error:t,payload:e}=await r["t"].overviewChart(this.workflowId,this.sankeyChartsFilter);this.loadingBarContent=!1,t?this.$alert.error(t):(this.listedData.length&&this.listedData.forEach(t=>{let e=JSON.parse(t.filterJson),i=e[0].filters.toString(),s=JSON.stringify([...this.sankeyChartsFilter]),a=e[0].uId;a===this.workflowId&&s===i&&(this.pined=!0)}),e.length&&(this.sankeyCharts.series[0].data=e,this.sankeyCharts.series[0].name=r["t"].name,this.$refs.refCharts.addSeries(this.sankeyCharts.series[0])))},async overviewTableReport(){this.columns=[],this.loadingBarContent=!0;const{error:t,payload:e}=await r["t"].overviewTableReport(this.workflowId,this.sankeyChartsFilter);if(this.loadingBarContent=!1,t)this.$alert.error(t);else if(this.listedData.length&&this.listedData.forEach(t=>{let e=JSON.parse(t.filterJson),i=e[0].filters.toString(),s=JSON.stringify([...this.sankeyChartsFilter]),a=e[0].uId;a===this.workflowId&&s===i&&(this.pined=!0)}),e&&e.Table.length){this.tableReport=e.Table,this.tableReportData=this.tableReport;let t=Object.keys(this.tableReport[0]);t.forEach(t=>{this.columns.push({id:this.$nano.id(),name:t})})}},async getWorkflow(){this.loadingBarContent=!0;const{error:t,payload:e}=await r["t"].getWorkflow(this.workflowId);if(this.loadingBarContent=!1,t)return void this.$alert.error(t);this.workflow=e,this.getTaskForm();let i=JSON.parse(this.workflow.flowJson);this.slaSettings=i.hasSLASettings,i.settings.general.coordinator.length&&i.settings.general.coordinator.forEach(t=>{t===this.$store.state.session.id&&(this.superUser=!0)}),i.settings.general.superuser.length&&i.settings.general.superuser.forEach(t=>{t===this.$store.state.session.id&&(this.superUser=!0)});let s=i.blocks.find(t=>t.id===this.selectedProcess.activityId);s&&(this.headerTitle=`${this.selectedProcess.requestNo} - ${s.settings.label}`,""===s.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===s.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===s.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=s.settings.formEditControls),s.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=s.settings.formSecureControls),this.actions=this.processActions)},async getForm(){if(this.formFields=[],this.formId){this.loadingBarContent=!0;const{error:t,payload:e}=await r["g"].getForm(this.formId);if(this.loadingBarContent=!1,t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.form=i,this.wform=e;const s=[...i.panels,...i.secondaryPanels];if("CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),!s.length)return;let a=[];for(const o of s)a.push(...o.fields);a.forEach(t=>{this.formFields.push({id:this.$nano.id(),label:t.label?t.label:t.type,value:t.id,dataType:t.type})})}},async getRepository(){this.repositoryFields=[];const{error:t,payload:e}=await r["p"].getRepository(this.repositoryId);if(t)return void this.$alert.error(t);let i=e;this.repositoryName=e.name,this.repositoryFields=i.fields,this.repositoryDetails=i},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await r["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async openProcess(t){this.processActions=[],this.processActionsAddOn=[],this.internalForward={proceed:!1,users:[],groups:[]},this.userSignature=!1,this.checkList=[],this.form={},this.formModel={},this.itemModel={},this.hasWflowInitiator=!1,this.selectedProcess=t;let e=this.workflowList.find(t=>t.value==this.selectedProcess.id);this.workflow=e;let i=e.flowJson;e.formId&&(this.formId=String(e.formId),await this.getForm()),this.actions=[],this.processActionsAddOn=[];let s=location.origin;if("https://ag-appsvc01.azurewebsites.net"!==s&&"https://ag-appsvc05.azurewebsites.net"!==s&&"http://localhost:8080"!==s||"psyCrYXtKfcs-EJmrYIhv"!==this.selectedProcess.activityId?i.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.actions.indexOf(t.proceedAction)<0&&(this.actions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}):i.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&"Force Close"===t.proceedAction&&(this.actions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}),i.blocks.forEach(t=>{if(t.id===this.selectedProcess.activityId){if("Forward"===this.selectedProcess.lastAction&&"REPLY"===t.settings.forwardedUserAction)this.actions=[],this.processActionsAddOn=[],this.actions.push("Reply to "+this.selectedProcess.transaction_createdByEmail),this.processActionsAddOn.push({action:"Reply to "+this.selectedProcess.transaction_createdByEmail,remarks:!0,passwordAccess:!1,confirm:!1}),this.customReply=!0;else if(t.settings.userReply&&-1===this.actions.indexOf("Reply")&&(this.actions.push("Reply to "+this.selectedProcess.lastActionStageName),this.userReply=!0),t.settings.toInitiator&&-1===this.actions.indexOf("To Requester")&&(this.actions.push("To Requester"),this.toRequester=!0),t.settings.internalForward){let e=location.origin;"https://app.ezofis.com"!==e&&"https://appuat.ezofis.com"!==e||2!==this.$store.state.session.tenantId?this.actions.push("Forward"):this.actions.push("Assign"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],t.settings.internalForwardUser&&t.settings.internalForwardUser.length&&t.settings.internalForwardUser.forEach(t=>{let e=this.userList.filter(e=>e.value==t);e.length&&this.internalForward.users.push({id:this.$nano.id(),label:e[0].label,value:t})}),t.settings.internalForwardGroup&&t.settings.internalForwardGroup.length&&t.settings.internalForwardGroup.forEach(t=>{let e=this.groupList.filter(e=>e.value==t);e.length&&this.internalForward.groups.push({id:this.$nano.id(),label:e[0].label,value:t})})}if(this.formEditAccess=!1,""===t.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===t.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===t.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=t.settings.formEditControls),t.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=t.settings.formSecureControls),i.settings.general.processNumberPrefix.indexOf("[")>-1){let t=JSON.parse(i.settings.general.processNumberPrefix);this.readonlyControls=[];let e=t.filter(t=>"formColumn"===t.key);e.length&&e.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}this.userSignature=t.settings.userSignature,t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),t.settings.workflowInitiator&&(this.subWorkflowId=t.settings.subWorkflowId)}}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.actions.push("Force Close"),this.headerTitle=`${e.label} - ${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData);this.getAttachments(),this.clearAttach(),this.getComments(),this.getProcessSignature(),this.getSubWorkflow(),this.processSheet=!0},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},checkRequiredDocument(){let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()},proceedSubmission(){this.alertModal=!1,this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},async processRequest(t=!0,e=!0){if(t&&"Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={};this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy)),this.formId?i={workflowId:this.selectedProcess.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel},userIds:this.forwardUsers,groupIds:this.forwardGroups}:this.itemModel&&(i={workflowId:this.selectedProcess.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},console.log(i),this.$store.commit("showLoadingBarSave");const{error:s,payload:a}=await r["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.subProcessId&&this.addSubWorkflowProcess(a.processId),this.closeProcessSheet(),this.refreshInbox=!0)},showLinks(t){if("ATTACHMENTS"===t)this.showAttachmentSheet=!0;else if("COMMENTS"===t){this.displayInternalPublic=!1;let t=this.workflowList.find(t=>t.value==this.selectedProcess.id),e=t.flowJson,i=e.blocks.find(t=>"START"===t.type);i&&i.settings.initiateBy.indexOf("PORTAL")>-1&&(this.displayInternalPublic=!0),this.fileNames=[],this.fileNames=this.attachmentList.filter(t=>{let e=t.name.split(".").pop().toUpperCase();return"pdf"===e.toLowerCase()}).map(t=>({id:this.$nano.id(),label:t.name,value:t.id})),this.showCommentsSheet=!0}else"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.selectedProcess.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskSheet=!0:"SUB_PROCESS"===t?this.subProcessSheet=!0:"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},openHistory(t){this.selectedProcess=t,this.showLinks("HISTORY")},async openAttachments(t){this.selectedProcess=t,await this.getAttachments(),this.showLinks("ATTACHMENTS")},async openComments(t){this.selectedProcess=t,this.clearAttach(),await this.getAttachments(),await this.getComments(),this.showLinks("COMMENTS")},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].getProcessComments(this.selectedProcess.id,this.selectedProcess.processId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){const{error:t}=await r["t"].insertProcessComment(this.selectedProcess.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.selectedProcess.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.commentText="",this.clearAttach(),this.getComments()}}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){const{error:t}=await r["t"].insertProcessComment(this.selectedProcess.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1;this.actionComments&&this.processRequest(!1,!1)}},async uploadAttachments(t){if(this.selectedProcess.processId){const i=t.target.files[0],s=new FormData;s.append("workflowId",this.selectedProcess.id),s.append("repositoryId",this.selectedProcess.repositoryId),s.append("processId",this.selectedProcess.processId),s.append("transactionId",this.selectedProcess.transactionId),s.append("fields",""),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(!Object(V["a"])(o))return void this.$alert.info("This file format is not supported");try{const t=await it()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached")}catch(e){this.$alert.error("Error uploading file"),console.error(e)}this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}else{const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("repositoryId",this.workflow.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(!Object(V["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await it()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:o,data:n}=e;if(200!==o)throw"Invalid response";let r=JSON.parse(n);this.attachmentList.push({id:Number(r.fileId),name:a,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,uid:this.checkListRowIndex}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(e){console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){if(this.checkList=[],this.selectedProcess.processId){let t=this.workflowList.find(t=>t.value==this.selectedProcess.id),e=t.flowJson,i=e.blocks.find(t=>t.id===this.selectedProcess.activityId);i&&i.settings.fileSettings&&i.settings.fileSettings.fileCheckList.length&&(this.checkList=i.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let s=this.attachmentList.length;const{error:a,payload:o}=await r["t"].getAttachments(this.selectedProcess.id,this.selectedProcess.processId);if(a)return void this.$alert.error(a);o.length?(s!==o.length&&(this.attachmentList=o.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i)return e});e.length?t.attach=!0:t.attach=!1})}},async getFileData(t,e){const{error:i,payload:s}=await r["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await r["t"].saveProcessSignature(t.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async attachmentDelete(t){this.$store.commit("showLoadingBar");const{error:e}=await r["p"].fileDelete(this.selectedProcess.repositoryId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):this.getAttachments()},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await r["t"].getProcessSignature(this.selectedProcess.id,this.selectedProcess.processId);t?this.$alert.error(t):this.signList=e},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.selectedProcess.id}/${t}`},async validatePassword(){const t=await this.$refs.passwordForm.validate();if(!t)return;this.isLoading=!0;const{error:e}=await r["a"].validatePassword({password:this.actionUserPassword});if(this.isLoading=!1,e)return console.log(e),void this.$alert.warning(e);this.actionUserPassword="",this.actionPasswordConfirm=!1,this.actionRemarks?(this.actionComments=!0,this.advancedCommentsSheet=!0):(this.actionRemarks=!1,this.actionPassword=!1,this.processRequest(!1,!1))},documentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();Object(V["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await r["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await r["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async getKanbanViewSettings(){this.loadingBarContent=!0;const{error:t,payload:e}=await r["t"].getKanbanViewSettings(this.workflowId);this.loadingBarContent=!1,t?this.$alert.error(t):(this.kanbanSettings=[],this.kanbanSettingsList=[],e.length?(this.isVisibleKanbanView=!0,e.forEach(t=>{this.kanbanSettings.push({...t,search:""}),this.kanbanSettingsList.push({...t,search:""})})):this.isVisibleKanbanView=!1)},showKanbanSettings(){this.activeKanbanView="kanban",this.showKanbanView=!0,this.activeView="KANBAN"},async getWorkflowData(){var t;this.loadingBarContent=!0,this.workflowProcessList=[];const{error:e,payload:i}=await r["o"].getWorkflowData(this.workflowId,{filterBy:[],itemsPerPage:100,currentPage:1,mode:""});this.loadingBarContent=!1,e?this.$alert.error(e):(i.data.forEach(t=>{t.value.forEach(t=>{this.workflowProcessList.push({...t})})}),this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0)},searchKanban(t,e,i){if(console.log(e,t),t){let e=["attachmentList","commentsList","completedStatus","currentActionDate","currentActionUser","currentTransactionId","nodeName","processId","requestNo","slaTime"],s=this.kanbanSettingsList[i].tickets.filter(i=>{for(let s in i){let a=e.indexOf(s);if(a>=0&&i[s]&&String(i[s]).toLowerCase().includes(t.toLowerCase()))return i}});this.kanbanSettings[i].tickets=s}else this.kanbanSettings[i].tickets=this.kanbanSettingsList[i].tickets},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await r["t"].getTaskEntries(this.selectedProcess.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBarPage"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",n="",r="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":n=t.entryInfo[0][i.id];break;case"Task Status":r=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:n,status:r})})}},async getTaskFormEntry(t,e){const{error:i,payload:s}=await r["g"].getFormEntry(t,e);if(i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",n="",r="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":n=s[0][t.id];break;case"Priority":r=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:n,priority:r,status:l})}},async insertTaskEntry(t,e){const{error:i}=await r["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});i?this.$alert.error(i):this.getTaskList()},validateType(t){let e="";return this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await r["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},initiateSubWorkflow(){this.initiateSubWorkflowProcess=!0},async getSubWorkflow(){this.tabs.find(t=>{"SUB_PROCESS"===t.value&&(t.count=0)});const{error:t,payload:e}=await r["t"].getSubWorkflow(this.workflow.value,this.selectedProcess.processId);t?this.$alert.error(t):(console.log(e,"payload"),e.length&&this.getSubProcessDetails(e[0].subWorkflowId,e))},async getSubProcessDetails(t,e){this.subProcessTickets=[];const{error:i,payload:s}=await r["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:0,currentPage:0,mode:""});if(i)this.$alert.error(i);else if(console.log(s),s.meta.totalItems){console.log(s);let t=[];e.forEach(e=>{let i=s.data[0].value.find(t=>t.processId===Number(e.subProcessId));console.log(i),i&&t.push(i)}),t.length&&(this.subProcessTickets=t),this.tabs.find(e=>{"SUB_PROCESS"===e.value&&(e.count=t.length)})}},subProcessShowLinks(t,e){this.subProcessLink="",this.subProcessData=e,this.subProcessLink=t},openSubProcess(t){this.subProcessData=t,this.openSubProcessSheet=!0},closeSubProcess(){this.openSubProcessSheet=!1,this.subProcessData={},this.initiateSubWorkflowProcess=!1},async addSubWorkflowProcess(t){let e={mainWorkflowId:this.workflow.value,subWorkflowId:this.subWorkflowId,mainProcessId:t,subProcessId:this.subProcessId,subProcessStatus:0,review:""};const{error:i}=await r["t"].addSubWorkflow(e);i?this.$alert.error(i):this.updateSubWorkflowProcess()},async updateSubWorkflowProcess(){const{error:t,payload:e}=await r["q"].updateSubWorkflowProcess(this.workflow.value,this.$store.state.session.tenantId,this.subWorkflowId);t?this.$alert.error(t):console.log(e)},closeSubProcessSheet(){this.subProcessSheet=!1},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})},async saveFilter(t){this.sucess=!1;let e=JSON.stringify(this.sankeyChartsFilter);console.log(this.sankeyChartsFilter,"label"),console.log(this.formFields,"label");let i=this.formFields.filter(t=>this.sankeyChartsFilter.indexOf(t.value)>-1);console.log(i,"label");let s=[{uId:this.workflowId,type:t,filters:e,label:i,formField:this.formFields}],a=JSON.stringify(s),o=[this.$store.state.session.id],n="",l="",c=new Date,h=c.toISOString();0!==this.workflowId&&"sankey"===t&&(n=this.repositoryName+"  sankey "+h,l=this.repositoryName);let d={name:n,description:l,filterJson:a,filterFrom:"workflowOverview",pinDashboard:!0,assignTo:JSON.stringify(o)};console.log(d,"input");const{error:u}=await r["e"].saveDashboard(d);u?this.$alert.warning("The Name Already Registered "):(this.pined=!0,this.getFilterList(),this.$alert.success(n+"  Pinned SucessFully"))},async getFilterList(){this.loadingBarContent=!0;let t=this.$store.state.session.id.toString();const{error:e,payload:i}=await r["e"].getDashboardData({sortBy:this.sortBy,groupBy:"",filterBy:[{groupCondition:"",filters:[{criteria:"filterFrom",condition:"IS_EQUALS_TO",value:"workflowOverview"},{criteria:"createdBy",condition:"IS_EQUALS_TO",value:t},{criteria:"filterJson",condition:"CONTAINS",value:'"type":"sankey",'}]}],currentPage:this.currentPage,itemsPerPage:this.itemsPerPage});if(this.loadingBarContent=!1,this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);let s=i.data[0].value;this.listedData=s,console.log(this.listedData,"hytur")},deleteItem(t){let e="";0!==this.workflowId&&("sankey"===t&&(e=this.repositoryName+"  sankey "),this.deleteName=e,this.listedData.map(t=>{let e=JSON.parse(t.filterJson),i=e[0].filters.toString(),s=JSON.stringify([...this.sankeyChartsFilter]),a=e[0].uId;a===this.workflowId&&s===i&&(this.isDeleteConfirmationVisible=!0,this.deleteData={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!0})}))}}},Ot=Ft,Et=(i("61f3"),i("8f7d"),Object(p["a"])(Ot,s,a,!1,null,"1dda39dc",null));e["default"]=Et.exports;F()(Et,"components",{QChip:St["a"],QAvatar:At["a"],QChatMessage:Tt["a"],QMenu:Y["a"]})},"0c04":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"addTask"}},[e("Sheet",{attrs:{value:t.value,width:t.taskWidth,"no-padding":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.title))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"task-form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 60px)"}},[e("RenderForm",{attrs:{"no-padding":"",panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.taskModel,"is-readonly":"VIEW"===t.mode},on:{save:t.saveTask}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"workflows",expression:"'workflows'",modifiers:{left:!0}}],staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:"o_account_tree",color:"primary"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.taskWorkflowList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:"mdi-sitemap",label:i.label},on:{click:function(e){return t.getForm(i)}}})})),1)],1)],1)],2)])]},proxy:!0}],null,!0)}),e("Sheet",{attrs:{width:t.taskWidth,"has-footer":""},on:{input:t.closeAddTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.headerTitle))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"no-padding":"","workflow-id":t.workflowFormId,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"workflow-form-model":t.workflowFormModel,"save-action":t.saveAction},on:{"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),1)])]},proxy:!0},{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.addTaskSheet,callback:function(e){t.addTaskSheet=e},expression:"addTaskSheet"}}),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.attachmentList.length,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")],e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),(t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Workflows ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Workflows",expression:"'Add Workflows'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getworkflowForm(t.workflowFormId)}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.processInfo,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.getWorkflowAudit(i.requestNo)}}},[t._v(" Request No: "+t._s(i.requestNo)+" ")]),i.actionUser?[e("q-chip",{attrs:{size:"10px",color:"yellow","text-color":"white"}},[t._v(" "+t._s(i.actionUser)+" ")])]:t._e(),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.flowStatus),"text-color":"white"}},[t._v(" "+t._s("0"===i.flowStatus?"Open":"Completed")+" ")])],2)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v(" Raised By: "+t._s(i.raisedBy)+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" Raised At: "+t._s(t.$day.format(i.raisedAt))+" ")],1)])])]}))],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"form-id":t.formIdName,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("EmailSharing",{attrs:{"repository-id":t.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}})],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),n=i("4bc4"),r=i("869e"),l=i("6df3"),c=i("1b0d"),h=i("9bc4"),d=i("fa1f"),u=i("a7d2"),p=i("dd90"),m=i("bc3a"),f=i.n(m),g=i("cade"),v=i("695e"),y=i("6a70"),b=i("2f62"),x=i("5e23"),w={name:"AddTask",components:{Sheet:o["a"],RenderForm:n["a"],FileIcon:d["a"],CheckboxField:r["a"],TextAreaField:l["a"],ListItem:g["a"],TextBuilderField:v["a"],Modal:y["a"],EmailSharing:x["a"]},props:{value:{type:Boolean,default:!1},formSettings:{type:Object,required:!0},panels:{type:Array,required:!0},secondaryPanels:{type:Array,default:()=>[]},formId:{type:Number,default:0},taskModel:{type:Object,default:()=>{}},mode:{type:String,default:""},taskName:{type:String,default:""},repositoryId:{type:Number,default:0},workflowTask:{type:Boolean,default:!1},taskWorkflowList:{type:Array,default:()=>[]},selectedTask:{type:Object,default:()=>{}},documentTask:{type:Boolean,default:!1},repositoryFile:{type:Object,default:()=>{}}},data(){return{taskWidth:"720px",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0}],attachmentSheet:!1,addTaskSheet:!1,taskSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],selectAll:!1,attachmentLoad:null,attachmentList:[],fileSheet:!1,selectedFile:{},actions:[],workflowsSheet:!0,workflowList:[],saveAction:"",workflowId:0,addWorkflowForm:[],workflowPanels:[],form:[],workflowName:"",workflowDescription:"",workflowFormId:0,workflowFormModel:{},processId:0,transactionId:0,workflowDetails:[],countWorkflow:0,processInfo:[],workflowFormTaskList:{},formList:{},formStage:{},processSheet:!1,formDetails:{},formIdName:"",formModel:{},headerTitle:"",advancedCommentsSheet:!1,advancedCommentText:"",emailSharingSheet:!1,selectedFileList:[]}},computed:{...Object(b["c"])(["LoadingBarPage"]),isMaximized(){return"100vw"===this.taskWidth},title(){return"VIEW"===this.mode?"View Task":"EDIT"===this.mode?"Edit Task":"FORWARD"===this.mode?"Forward Task":"COPY"===this.mode?"Copy Task":"Add Task"},formName(){return this.formSettings.general.name},formDescription(){return this.formSettings.general.description},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{taskModel:{immediate:!0,handler(){this.taskModel.id&&(this.attachmentList=[],this.getComments(),this.getAttachments())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateRequest()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet&&this.taskModel.id||clearInterval(this.attachmentLoad)}}},methods:{toggleWidth(){this.taskWidth="100vw"===this.taskWidth?"720px":"100vw"},closeSheet(){this.$emit("close",!1)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeAddTaskSheet(){this.addTaskSheet=!1},closeTaskSheet(){this.taskSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},getColor(t){return"0"===t?"orange":"1"===t||"Medium"===t?"green":"primary"},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t?this.$emit("history",this.formList[0].value[0].processId,this.formList[0].workflowId,this.formList[0].value[0].requestNo):"PRINT"===t&&window.print()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},showHistory(){},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(u["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`}{let i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`}}},openFile(t){this.selectedFile=t,this.fileSheet=!0},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async saveTask(t){const e=["itemid","createdBy","createdAt","modifiedBy","modifiedAt","icon","buttonAction","formId","status","color","link","selected","isDeleted","createdByEmail","modifiedByEmail","emailStatus","expandSubworkflow"],i=Object(h["a"])(t,e);try{this.$store.commit("showLoadingBarPage");const{id:t,...e}=i;let s=0;s="COPY"===this.mode?0:t||0;let a={};if(s)a={fields:e};else{let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)}),a={fields:e,task:{comments:this.commentsList,fileIds:t}}}const{data:o,error:n}=await c["g"].saveFormEntry(this.formId,s,a);if(this.workflowDetails.length&&this.linkTaskWorkflowProcess(o.output),n)return void this.$alert.error(n);t?this.$alert.success(this.taskName+" edited successfully"):(this.documentTask&&this.linkTaskDocument(o.output),this.$alert.success("New task added successfully")),this.getUsers(a.fields),this.closeSheet(),this.workflowTask||this.documentTask?this.$emit("addEntry",this.formId,o.output):this.$emit("refresh",this.workflowId)}catch(s){console.log(s)}finally{this.$store.commit("hideLoadingBarPage")}},async linkTaskDocument(t){let e={wFormId:this.formId,formEntryId:t,fileInfo:{repositoryId:this.repositoryFile.repositoryId,itemId:this.repositoryFile.id}};const{error:i}=await c["g"].linkTaskDocument(e);i&&this.$alert.error(i)},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["g"].getFormComments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1},async uploadAttachments(t){if(this.taskModel.id){const i=t.target.files[0];this.$store.commit("showLoadingBar");const s=new FormData;s.append("formId",this.formId),s.append("repositoryId",this.repositoryId),s.append("entryId",this.taskModel.id),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(p["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/form/taskAttachmentWithEntryId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:i,data:a}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==i||!a)throw e;this.$alert.success("Document attached")}catch(e){this.$store.commit("hideLoadingBar"),this.$alert.error("Error uploading file"),console.error(e)}this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{this.$store.commit("showLoadingBar");const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("formId",this.formId),s.append("repositoryId",this.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(p["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==a)throw"Invalid response";let n=JSON.parse(o);this.attachmentList.push({id:Number(n.fileId),name:i.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,checked:!1})}catch(e){this.$store.commit("hideLoadingBar"),console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let t=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:e,payload:i}=await c["g"].getFormAttachments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i.length?(t!==i.length&&(this.attachmentList=i.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[]},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await c["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}else{const{error:e}=await c["p"].fileDelete(t.repositoryId,t.id);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.getAttachments()}},validateRequest(t){this.saveAction=t},async initiateRequest(){let t={};t={workflowId:this.workflowId,transactionId:0,review:this.saveAction,formData:{formId:this.workflowFormId,formEntryId:this.form.entryCount,fields:this.workflowFormModel}},this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await c["t"].processTransaction(t);this.$store.commit("hideLoadingBarSave"),this.saveAction="",e?this.$alert.error(e):(this.$alert.success(i.requestNo+" Request Initiated"),this.workflowDetails.push({workflowId:this.workflowId,processId:i.processId,transactionId:i.transactionId}),this.selectedTask.id&&this.linkTaskWorkflowProcess(this.selectedTask.id),this.closeAddTaskSheet(),this.$emit("refresh",this.workflowId))},async getForm(t){if(this.workflowId=t.id,this.headerTitle=t.stage,this.actions=t.actions,this.selectedTask.formId&&this.selectedTask.id&&await this.getWorkflowList(this.workflowId),t.formId)if(this.workflowFormId=t.formId,this.processInfo.length)this.countWorkflow=this.processInfo.length,this.taskSheet=!0;else{const{error:t,payload:e}=await c["g"].getForm(this.workflowFormId);if(t)return void this.$alert.error(t);e&&(this.form=e,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(e.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)}},async getworkflowForm(t){this.closeTaskSheet();const{error:e,payload:i}=await c["g"].getForm(t);this.workflowFormId=t,e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)},async getworkflowDetailsForm(t){const{error:e,payload:i}=await c["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.processSheet=!0,this.$store.commit("hideLoadingBarPage"))},async linkTaskWorkflowProcess(t){let e={};e={wFormId:this.formId,formEntryId:t,workflow:this.workflowDetails};const{error:i}=await c["g"].linkTaskWorkflowProcess(e);i&&this.$alert.error(i)},async getWorkflowList(t){let e={};e={wId:t,fId:this.selectedTask.formId,entryId:this.selectedTask.id};const{error:i,payload:s}=await c["g"].getWorkflowTaskList(t,this.selectedTask.formId,this.selectedTask.id,e);this.workflowFormTaskList=s,s.processInfo&&(this.processInfo=s.processInfo),i&&this.$alert.error(i)},async getWorkflowAudit(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s,meta:a}=i;if(this.formList=s||{},this.formStage=a,this.formList[0].value[0].formData){let t=Object.keys(this.formList[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.formList[0].value[0].formData.fields[t])}),this.formModel=e}this.headerTitle=""+this.formList[0].value[0].name,this.formIdName=String(this.formList[0].value[0].formData.formId),this.getworkflowDetailsForm(this.formIdName),e&&this.$alert.error(e)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async getUsers(t){const{error:e,payload:i}=await c["s"].getUserList();if(e)return void this.$alert.error("Error fetching users");let s={id:0,title:t["e_NFnW0JxrLpZxqPeJS7K"],status:t["11m7YRT-7kdLx-g6iGojc"],remarks:t["2XOJMCR_DVb-5TwVPVdEX"],category:"TASK",createdBy:t["pM6Vly-JRlfroRrziE1jr"],lastActionBy:this.$store.state.session.email};const a=s.createdBy,o=i.filter(t=>a.includes(t.value)),n=o.map(t=>t.id);n.forEach(t=>{const e={...s,createdBy:t};this.insertNotification(e)}),console.log("email",o,n)},async insertNotification(t){const{error:e}=await c["b"].insertNotification(t);e&&this.$alert.error(e)}}},k=w,C=(i("a4c9"),i("2877")),S=i("4e73"),A=i("8169"),T=i("cb32"),I=i("b047"),P=i("93dc"),M=i.n(P),L=Object(C["a"])(k,s,a,!1,null,"0b56d901",null);e["a"]=L.exports;M()(L,"components",{QMenu:S["a"],QChatMessage:A["a"],QAvatar:T["a"],QChip:I["a"]})},"0ce8":function(t,e,i){},"11f5":function(t,e,i){"use strict";i("4759")},1483:function(t,e,i){},1549:function(t,e,i){"use strict";var s=i("2250"),a=i("a809"),o=i("5132"),n=i("e621");function r(t,e){return e.length<2?t:Object(o["a"])(t,Object(n["a"])(e,0,-1))}var l=r,c=i("4dc8");function h(t,e){return e=Object(s["a"])(e,t),t=l(t,e),null==t||delete t[Object(c["a"])(Object(a["a"])(e))]}e["a"]=h},1858:function(t,e,i){},"1a1b":function(t,e,i){},"27bd":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-funnel-outline",color:t.activeFilter?"secondary":"gray"},on:{click:function(e){t.model=!0}}},[e("Sheet",{attrs:{width:"50vw","has-footer":""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Filter "+t._s(t.item)+"s ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md",attrs:{id:"filters"}},[t.searchContent?[e("div",{staticClass:"description"},[t._v(" To search by content, type any text to search the entire folder ")]),e("TextField",{staticClass:"q-mb-md",attrs:{placeholder:"Search the document by content"},model:{value:t.contentSearch.contentSearchValue,callback:function(e){t.$set(t.contentSearch,"contentSearchValue",e)},expression:"contentSearch.contentSearchValue"}}),e("div",{staticClass:"q-mb-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t.showAdvanceOptions?e("div",{staticClass:"q-my-md"},[e("SingleChoiceField",{staticClass:"col q-mb-md",attrs:{options:t.searchOptions,"options-per-line":2,label:"Advanced Search Options"},model:{value:t.contentSearch.searchType,callback:function(e){t.$set(t.contentSearch,"searchType",e)},expression:"contentSearch.searchType"}}),e("FormFieldLabel",{attrs:{label:"Search similarity"}}),e("q-slider",{attrs:{color:"secondary",markers:"","marker-labels":"",min:0,max:10,label:""},model:{value:t.contentSearch.fuzzy,callback:function(e){t.$set(t.contentSearch,"fuzzy",e)},expression:"contentSearch.fuzzy"}})],1):t._e(),e("div",{staticClass:"row items-center q-mb-md"},[e("div",{staticClass:"col"},[t.showAdvanceOptions?e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!1}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-minus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Hide Advanced Options")])],1):e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!0}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-plus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Advanced Options")])],1)]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"actions"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearContentSearch}}),e("BaseButton",{attrs:{label:"search"},on:{click:t.apply}})],1)])])])]:t._e(),t.filterGroups.length?[t._l(t.filterGroups,(function(i,s){return[e("div",{key:i.id,staticClass:"filter-group"},[e("div",{staticClass:"header"},[e("div",{staticClass:"label q-mr-md"},[t._v("Criteria")]),e("div",{staticClass:"label q-mr-md"},[t._v("Condition")]),e("div",{staticClass:"label q-mr-sm"},[t._v("Value")]),e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"eva-plus","no-border":""},on:{click:function(e){return t.addFilter(s)}}})],1),e("BaseSeparator",{staticClass:"q-mb-md",attrs:{"has-inset":""}}),t._l(i.filters,(function(i,a){return e("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"filter row"},[e("ValidationProvider",{key:i.id,staticClass:"col q-mr-md",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:o}){return[e("MultiSelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t._columns,error:o[0]},on:{input:function(e){return t.applyDataType(s,a,i.criteriaArray)}},model:{value:i.criteriaArray,callback:function(e){t.$set(i,"criteriaArray",e)},expression:"filter.criteriaArray"}})]}}],null,!0)}),e("ValidationProvider",{staticClass:"col-3 q-mr-md",attrs:{name:"condition",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("SelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t.conditions(i.criteriaArray),error:s[0]},model:{value:i.condition,callback:function(e){t.$set(i,"condition",e)},expression:"filter.condition"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?e("ValidationProvider",{staticClass:"col-3 q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"NUMBER"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("NumberField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("DateField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"TIME"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TimeField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[t.checkOptions(i.criteriaArray)?[e("AsyncMultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],"api-path":t.apiPath,"column-name":i.criteriaArray},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}}),t._e()]:[t._e(),e("MultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:t.getOptions(i.criteriaArray),error:s[0]},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}})]]}}],null,!0)}):e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}),e("div",{staticClass:"remove-filter"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"red","no-border":"",icon:"eva-close-outline"},on:{click:function(e){return t.removeFilter(s,a)}}})],1)],1)})),e("BaseSeparator",{attrs:{"has-inset":""}}),e("div",{staticClass:"row"},[e("Action",{staticClass:"col",attrs:{icon:"eva-plus-outline",label:"Add Filter Group"},on:{click:function(e){return t.addFilterGroup(s+1)}}}),e("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),e("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete Group"},on:{click:function(e){return t.removeFilterGroup(s)}}})],1)],2),s!==t.filterGroups.length-1?e("div",{key:s,staticClass:"row justify-center"},[e("Toggle",{staticClass:"q-my-md",attrs:{options:t.groupConditions},on:{input:t.groupCondition},model:{value:i.groupCondition,callback:function(e){t.$set(i,"groupCondition",e)},expression:"group.groupCondition"}})],1):t._e()]}))]:[e("div",{staticClass:"add-filter",on:{click:t.addFilterGroup}},[e("BaseIcon",{attrs:{name:"eva-plus","inherit-color":""}}),e("div",{staticClass:"q-ml-sm"},[t._v("Add Filter")])],1)]],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearFilter}}),e("BaseButton",{attrs:{label:"apply"},on:{click:t.apply}})]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)},a=[],o=(i("13d5"),i("14d9"),i("874f")),n=i("9996"),r=i("7bb1"),l=i("381e"),c=i("b3d1"),h=i("12b8"),d=i("94f5"),u=i("670a"),p=i("970a"),m=i("ad54"),f=i("53c1"),g=i("cedb"),v=i("70a9"),y=i("0c21"),b=i("c3d2"),x=i("1b0d"),w=i("0d5e"),k=i("3445"),C=i("9234"),S={name:"FilterItems",components:{ValidationObserver:r["a"],ValidationProvider:r["b"],Sheet:l["a"],TextField:c["a"],SelectField:h["a"],Action:d["a"],Toggle:u["a"],NumberField:m["a"],DateField:f["a"],TimeField:g["a"],AsyncMultiSelectField:v["a"],MultiSelectField:b["a"],AsyncSelectField:y["a"],FormFieldLabel:k["a"],SingleChoiceField:C["a"]},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},filterBy:{type:Array,required:!0},isBordered:{type:Boolean,default:!1},selectedFilter:{type:Array,default:()=>[]},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},module:{type:String,default:""},moduleId:{type:[String,Number],default:0}},data(){return{model:!1,groupConditions:["AND","OR"],filterGroups:[],activeFilter:!1,userList:[],options:[],showAdvanceOptions:!1,searchOptions:[{id:this.$nano.id(),label:"Any of the Words",value:1},{id:this.$nano.id(),label:"All of the Words",value:2}]}},computed:{_columns(){var t=this.columns.reduce((t,e)=>("isFilter"in e?e.isFilter&&t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}):t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}),t),[]);return t},apiPath(){if("repository"===this.module){if(this.$route.query.repositoryId)return`/repository/${this.moduleId}/uniqueColumnValues`}else if("form"===this.module)return`/form/${this.moduleId}/uniqueColumnValues`;return""}},watch:{model:{deep:!0,handler(){this.model}},$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.filterGroups=[],this.activeFilter=!1)}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}},contentSearch:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}}},created(){this.getUsers()},methods:{conditions(t){if(!t)return[];if(1!==t.length)return Object(p["a"])("SHORT_TEXT").map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(n["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}));{const e=this.columns.find(e=>e.name===t[0]);if(e)return Object(p["a"])(e.dataType).map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(n["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}))}},addFilterGroup(t=0){this.filterGroups.splice(t,0,{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"",value:"",arrayValue:[]}],groupCondition:(this.filterGroups.length,"")}),this.filterGroups.length&&this.selectedFilter.length&&this.selectedFilter[1]&&1===this.selectedFilter[1].level&&(this.filterGroups[0].filters=[],this.selectedFilter.forEach((t,e)=>{0!=e&&this.filterGroups[0].filters.push({id:this.$nano.id(),criteria:t.fieldName,condition:"IS_EQUALS_TO",value:t.label,arrayValue:t.arrayValue||[]})}))},removeFilterGroup(t){this.filterGroups.splice(t,1)},addFilter(t){this.filterGroups[t].filters.push({id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"CONTAINS",value:"",arrayValue:[]})},removeFilter(t,e){this.filterGroups[t].filters.splice(e,1)},async apply(){let t=0,e={};if(!this.$refs.form)return void(this.searchContent&&(this.$emit("update",this.filterGroups,e),this.model=!1,this.activeFilter=!0));for(const s of this.$refs.form){const e=await s.validate();e||t++}if(t)return;let i=!1;if(this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.filterGroups[0].filters.length||(this.filterGroups=[]),this.filterGroups.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{t.criteriaArray.length>1?i=!0:t.criteria=t.criteriaArray[0],"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify(t.arrayValue))})})),i){let t=[];this.filterGroups.forEach(e=>{e.filters.length&&e.filters.forEach(e=>{e.criteriaArray.forEach((i,s)=>{t.push({filters:[{criteria:i,condition:e.condition,value:e.value,dataType:e.dataType}],groupCondition:s?"OR":""})})})}),this.$emit("update",t,e)}else this.$emit("update",this.filterGroups,e);this.model=!1,this.activeFilter=!0},applyDataType(t,e,i){if(this.filterGroups[t].filters[e].condition="",1===i.length){this.filterGroups[t].filters[e].dataType="";let s=this._columns.find(t=>t.label===i[0]||t.value===i[0]);s&&(this.filterGroups[t].filters[e].dataType=s.dataType,"SHORT_TEXT"===s.dataType?this.filterGroups[t].filters[e].condition="CONTAINS":"SINGLE_SELECT"===s.dataType&&(this.filterGroups[t].filters[e].condition="IS_EQUALS_TO"));let a=this.filterGroups[t].filters[e];"SINGLE_SELECT"===a.dataType?this.filterGroups[t].filters[e].value=[]:this.filterGroups[t].filters[e].value=""}else this.filterGroups[t].filters[e].condition="CONTAINS",this.filterGroups[t].filters[e].dataType="SHORT_TEXT",this.filterGroups[t].filters[e].value=""},clearFilter(){this.filterGroups=[],this.activeFilter=!1,this.clearContentSearch(),this.$emit("update",this.filterGroups,"")},clearContentSearch(){this.showAdvanceOptions=!1,this.contentSearch.contentSearchValue="",this.contentSearch.searchType=1,this.contentSearch.fuzzy=0,this.$emit("updateContentSearch",this.contentSearch)},groupCondition(t){this.filterGroups[this.filterGroups.length-1].groupCondition=t},checkOptions(t){if(1===t.length){let e=this.columns.find(e=>e.name===t[0]);if(e&&e.apiLoad)return!0}return!1},getOptions(t){var e;return 1===t.length?"createdBy"===t[0]||"modifiedBy"===t[0]||"owner"===t[0]||"coordinator"===t[0]?this.userList:null===(e=this.columns.find(e=>e.name===t[0]))||void 0===e?void 0:e.options:[]},async getUsers(){this.userList=[];const{error:t,payload:e}=await x["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.userList.push({id:this.$nano.id(),label:t.value,value:String(t.id)})})},async getUniqueOptions(t){try{const e=await w["b"].post(this.apiPath,JSON.stringify({column:t,keyword:"",rowFrom:0,rowCount:10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);return this.options=[],a.forEach(t=>{let e=this.userList.find(e=>e.value===t);e&&this.options.push({id:this.$nano.id(),label:e.label,value:e.value})}),this.options}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},A=S,T=(i("ae23"),i("2877")),I=i("a026"),P=i("75c3"),M=i("b7fa"),L=i("f89c"),_=i("7937"),D=i("d882"),F=i("5ff7");const O="q-slider__marker-labels",E=t=>({value:t}),B=[34,37,40,33,39,38],N={mixins:[M["a"],L["b"]],directives:{TouchPan:P["a"]},props:{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},data(){return{active:!1,preventFocus:!1,focus:!1,dragging:!1}},computed:{axis(){return!0===this.vertical?"--v":"--h"},labelSide(){return"-"+(!0===this.switchLabelSide?"switched":"standard")},isReversed(){return!0===this.vertical?!0===this.reverse:this.reverse!==(!0===this.$q.lang.rtl)},computedInnerMin(){return this.__getInnerMin(this.innerMin)},computedInnerMax(){return this.__getInnerMax(this.innerMax)},editable(){return!0!==this.disable&&!0!==this.readonly&&this.computedInnerMin<this.computedInnerMax},computedDecimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},trackLen(){return this.max-this.min},innerBarLen(){return this.computedInnerMax-this.computedInnerMin},innerMinRatio(){return this.__convertModelToRatio(this.computedInnerMin)},innerMaxRatio(){return this.__convertModelToRatio(this.computedInnerMax)},positionProp(){return!0===this.vertical?!0===this.isReversed?"bottom":"top":!0===this.isReversed?"right":"left"},sizeProp(){return!0===this.vertical?"height":"width"},thicknessProp(){return!0===this.vertical?"width":"height"},orientation(){return!0===this.vertical?"vertical":"horizontal"},attributes(){const t={role:"slider","aria-valuemin":this.computedInnerMin,"aria-valuemax":this.computedInnerMax,"aria-orientation":this.orientation,"data-step":this.step};return!0===this.disable?t["aria-disabled"]="true":!0===this.readonly&&(t["aria-readonly"]="true"),t},classes(){return`q-slider q-slider${this.axis} q-slider--${!0===this.active?"":"in"}active inline no-wrap `+(!0===this.vertical?"row":"column")+(!0===this.disable?" disabled":" q-slider--enabled"+(!0===this.editable?" q-slider--editable":""))+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense q-slider--dense"+this.axis:"")},selectionBarClass(){const t=this.selectionColor||this.color;return"q-slider__selection absolute"+(void 0!==t?" text-"+t:"")},markerClass(){return this.__getAxisClass("markers")+" absolute overflow-hidden"},trackContainerClass(){return this.__getAxisClass("track-container")},pinClass(){return this.__getPositionClass("pin")},labelClass(){return this.__getPositionClass("label")},textContainerClass(){return this.__getPositionClass("text-container")},markerLabelsContainerClass(){return this.__getPositionClass("marker-labels-container")+(void 0!==this.markerLabelsClass?" "+this.markerLabelsClass:"")},trackClass(){return"q-slider__track relative-position no-outline"+(void 0!==this.trackColor?" bg-"+this.trackColor:"")},trackStyle(){const t={[this.thicknessProp]:this.trackSize};return void 0!==this.trackImg&&(t.backgroundImage=`url(${this.trackImg}) !important`),t},innerBarClass(){return"q-slider__inner absolute"+(void 0!==this.innerTrackColor?" bg-"+this.innerTrackColor:"")},innerBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.innerMaxRatio-this.innerMinRatio)+"%"};return void 0!==this.innerTrackImg&&(t.backgroundImage=`url(${this.innerTrackImg}) !important`),t},markerStep(){return!0===Object(F["c"])(this.markers)?this.markers:this.computedStep},markerTicks(){const t=[],e=this.markerStep;let i=this.min;do{t.push(i),i+=e}while(i<this.max);return t.push(this.max),t},markerLabelClass(){const t=` ${O}${this.axis}-`;return O+`${t}${!0===this.switchMarkerLabelsSide?"switched":"standard"}`+`${t}${!0===this.isReversed?"rtl":"ltr"}`},markerLabelsList(){return!1===this.markerLabels?null:this.__getMarkerList(this.markerLabels).map((t,e)=>({index:e,value:t.value,label:t.label||t.value,classes:this.markerLabelClass+(void 0!==t.classes?" "+t.classes:""),style:{...this.__getMarkerLabelStyle(t.value),...t.style||{}}}))},markerScope(){return{markerList:this.markerLabelsList,markerMap:this.markerLabelsMap,classes:this.markerLabelClass,getStyle:this.__getMarkerLabelStyle}},markerStyle(){if(0!==this.innerBarLen){const t=100*this.markerStep/this.innerBarLen;return{...this.innerBarStyle,backgroundSize:!0===this.vertical?`2px ${t}%`:t+"% 2px"}}return null},markerLabelsMap(){if(!1===this.markerLabels)return null;const t={};return this.markerLabelsList.forEach(e=>{t[e.value]=e}),t},panDirectives(){return!0===this.editable?[{name:"touch-pan",value:this.__onPan,modifiers:{[this.orientation]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null}},methods:{__getInnerMin(t){return!0===isNaN(t)||this.innerMin<this.min?this.min:this.innerMin},__getInnerMax(t){return!0===isNaN(t)||t>this.max?this.max:this.innerMax},__getPositionClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis} ${e}${this.axis}${this.labelSide}`},__getAxisClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis}`},__convertRatioToModel(t){let e=this.min+t*(this.max-this.min);if(this.step>0){const t=(e-this.min)%this.step;e+=(Math.abs(t)>=this.step/2?(t<0?-1:1)*this.step:0)-t}return this.computedDecimals>0&&(e=parseFloat(e.toFixed(this.computedDecimals))),Object(_["a"])(e,this.computedInnerMin,this.computedInnerMax)},__convertModelToRatio(t){return 0===this.trackLen?0:(t-this.min)/this.trackLen},__getDraggingRatio(t,e){const i=Object(D["h"])(t),s=!0===this.vertical?Object(_["a"])((i.top-e.top)/e.height,0,1):Object(_["a"])((i.left-e.left)/e.width,0,1);return Object(_["a"])(!0===this.isReversed?1-s:s,this.innerMinRatio,this.innerMaxRatio)},__getMarkerList(t){if(!1===t)return null;if(!0===t)return this.markerTicks.map(E);if("function"===typeof t)return this.markerTicks.map(e=>{const i=t(e);return!0===Object(F["d"])(i)?{...i,value:e}:{value:e,label:i}});const e=({value:t})=>t>=this.min&&t<=this.max;return!0===Array.isArray(t)?t.map(t=>!0===Object(F["d"])(t)?t:{value:t}).filter(e):Object.keys(t).map(e=>{const i=t[e],s=Number(e);return!0===Object(F["d"])(i)?{...i,value:s}:{value:s,label:i}}).filter(e)},__getMarkerLabelStyle(t){return{[this.positionProp]:100*(t-this.min)/this.trackLen+"%"}},__getMarkerLabelsContent(t){if(void 0!==this.$scopedSlots["marker-label-group"])return this.$scopedSlots["marker-label-group"](this.markerScope);const e=this.$scopedSlots["marker-label"];return void 0!==e?this.markerLabelsList.map(t=>e({marker:t,...this.markerScope})):this.markerLabelsList.map(e=>t("div",{key:e.value,style:e.style,class:e.classes},e.label))},__onPan(t){!0===t.isFinal?(void 0!==this.dragging&&(this.__updatePosition(t.evt),!0===t.touch&&this.__updateValue(!0),this.dragging=void 0,this.$emit("pan","end")),this.active=!1,this.focus=!1):!0===t.isFirst?(this.dragging=this.__getDragging(t.evt),this.__updatePosition(t.evt),this.__updateValue(),this.active=!0,this.$emit("pan","start")):(this.__updatePosition(t.evt),this.__updateValue())},__onBlur(){this.focus=!1},__onActivate(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__onDeactivate,!0)},__onDeactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__onBlur(),document.removeEventListener("mouseup",this.__onDeactivate,!0)},__onMobileClick(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(!0)},__onKeyup(t){B.includes(t.keyCode)&&this.__updateValue(!0)},__getTextContainerStyle(t){if(!0===this.vertical)return null;const e=this.$q.lang.rtl!==this.reverse?1-t:t;return{transform:`translateX(calc(${2*e-1} * ${this.thumbSize} / 2 + ${50-100*e}%))`}},__getThumb(t,e){const i=[t("svg",{class:"q-slider__thumb-shape absolute-full",attrs:{viewBox:"0 0 20 20","aria-hidden":"true"}},[t("path",{attrs:{d:this.thumbPath}})]),t("div",{class:"q-slider__focus-ring fit"})];return!0!==this.label&&!0!==this.labelAlways||(i.push(t("div",{class:this.pinClass+" absolute fit no-pointer-events"+e.pinColor},[t("div",{class:this.labelClass,style:{minWidth:this.thumbSize}},[t("div",{class:this.textContainerClass,style:e.textContainerStyle},[t("span",{class:e.textClass},e.label)])])])),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(i,"push")),t("div",{class:e.classes,style:e.style,...e.nodeData},i)},__getContent(t,e){const i=[];"transparent"!==this.innerTrackColor&&i.push(t("div",{key:"inner",class:this.innerBarClass,style:this.innerBarStyle})),"transparent"!==this.selectionColor&&i.push(t("div",{key:"selection",class:this.selectionBarClass,style:this.selectionBarStyle})),!1!==this.markers&&i.push(t("div",{key:"marker",class:this.markerClass,style:this.markerStyle})),e(i);const s=[t("div",{key:"trackC",class:this.trackContainerClass,attrs:this.trackContainerAttrs,on:this.trackContainerEvents,directives:this.panDirectives},[t("div",{class:this.trackClass,style:this.trackStyle},i)])];if(!1!==this.markerLabels){const e=!0===this.switchMarkerLabelsSide?"unshift":"push";s[e](t("div",{key:"markerL",class:this.markerLabelsContainerClass},this.__getMarkerLabelsContent(t)))}return s}},beforeDestroy(){document.removeEventListener("mouseup",this.__onDeactivate,!0)}};var R=I["default"].extend({name:"QSlider",mixins:[N],props:{value:{required:!0,default:null,validator:t=>"number"===typeof t||null===t},labelValue:[String,Number]},data(){const t=this.__getInnerMin(this.innerMin),e=this.__getInnerMax(this.innerMax);return{model:null===this.value?t:Object(_["a"])(this.value,t,e),curRatio:0}},computed:{modelRatio(){return this.__convertModelToRatio(this.model)},ratio(){return!0===this.active?this.curRatio:this.modelRatio},selectionBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.ratio-this.innerMinRatio)+"%"};return void 0!==this.selectionImg&&(t.backgroundImage=`url(${this.selectionImg}) !important`),t},thumbLabel(){return void 0!==this.labelValue?this.labelValue:this.model},thumbClasses(){const t=this.thumbColor||this.color;return`q-slider__thumb q-slider__thumb${this.axis} q-slider__thumb${this.axis}-${!0===this.isReversed?"rtl":"ltr"} absolute non-selectable`+(!1===this.preventFocus&&!0===this.focus?" q-slider--focus":"")+(void 0!==t?" text-"+t:"")},thumbStyle(){return{width:this.thumbSize,height:this.thumbSize,[this.positionProp]:100*this.ratio+"%"}},thumbPinColor(){return void 0!==this.labelColor?" text-"+this.labelColor:""},thumbTextContainerStyle(){return this.__getTextContainerStyle(this.ratio)},thumbTextClass(){return"q-slider__text"+(void 0!==this.labelTextColor?" text-"+this.labelTextColor:"")},trackContainerEvents(){return!0!==this.editable?{}:!0===this.$q.platform.is.mobile?{click:this.__onMobileClick}:{mousedown:this.__onActivate,focus:this.__onFocus,blur:this.__onBlur,keydown:this.__onKeydown,keyup:this.__onKeyup}},trackContainerAttrs(){return{tabindex:!0!==this.$q.platform.is.mobile?this.computedTabindex:null}},modelUpdate(){return`${this.value}|${this.computedInnerMin}|${this.computedInnerMax}`}},watch:{modelUpdate(){this.model=null===this.value?this.computedInnerMin:Object(_["a"])(this.value,this.computedInnerMin,this.computedInnerMax)}},methods:{__updateValue(t){this.model!==this.value&&this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(t,e=this.dragging){const i=this.__getDraggingRatio(t,e);this.model=this.__convertRatioToModel(i),this.curRatio=!0!==this.snap||0===this.computedStep?i:this.__convertModelToRatio(this.model)},__onFocus(){this.focus=!0},__onKeydown(t){if(!B.includes(t.keyCode))return;Object(D["l"])(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=([34,37,40].includes(t.keyCode)?-1:1)*(!0===this.isReversed?-1:1)*(!0===this.vertical?-1:1)*e;this.model=Object(_["a"])(parseFloat((this.model+i).toFixed(this.computedDecimals)),this.computedInnerMin,this.computedInnerMax),this.__updateValue()}},render(t){const e=this.__getContent(t,e=>{e.push(this.__getThumb(t,{pinColor:this.thumbPinColor,textContainerStyle:this.thumbTextContainerStyle,textClass:this.thumbTextClass,label:this.thumbLabel,classes:this.thumbClasses,style:this.thumbStyle,nodeData:{}}))});return t("div",{class:this.classes+(null===this.value?" q-slider--no-value":""),attrs:{...this.attributes,"aria-valuenow":this.value}},e)}}),z=i("93dc"),$=i.n(z),V=Object(T["a"])(A,s,a,!1,null,"2eff0750",null);e["a"]=V.exports;$()(V,"components",{QSlider:R})},"2ac6":function(t,e,i){"use strict";i("0ce8")},"2adf":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"chart-wrapper"}},[t.dashboardView?t._e():e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("q-space"),t._t("header")],2),e("div",{ref:"chart",staticClass:"chart"})])},a=[],o=i("2f62"),n=i("a1a34"),r=i("ba30"),l=i.n(r),c={name:"ChartWrapper",props:{title:{type:String,required:!0},options:{type:Object,default:()=>{}},series:{type:Array,default:()=>[]},dashboardView:{type:Boolean,default:!1}},data(){return{chartRef:"",globalOptions:{chart:{fontFamily:"Poppins",parentHeightOffset:0,toolbar:{tools:{selection:!1,zoom:!1,zoomin:'<i class="q-icon text-gray eva eva-plus-circle-outline" style="font-size: 20px;"></i>',zoomout:'<i class="q-icon text-gray eva eva-minus-circle-outline" style="font-size: 20px;"></i>',pan:'<i class="q-icon text-gray eva eva-move-outline" style="font-size: 20px;"></i>',reset:'<i class="q-icon text-gray eva eva-refresh-outline" style="font-size: 20px;"></i>',download:'<i class="q-icon text-gray eva eva-download-outline" style="font-size: 20px;"></i>'},export:{csv:{filename:this.title},svg:{filename:this.title},png:{filename:this.title}}},background:"#ffffff"},grid:{padding:{top:16,bottom:16},borderColor:"#e2e8f0"},colors:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],dataLabels:{style:{fontWeight:"500",fontSize:"14px"}},legend:{fontWeight:"500"},markers:{size:6,strokeWidth:0},xaxis:{axisBorder:{show:!1}},stroke:{curve:"straight"},plotOptions:{boxPlot:{colors:{upper:"#4a89dd",lower:"#36bd9a"}}},series:[]}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{deep:!0,handler(){Object(n["a"])(this.globalOptions,this.options),this.chartRef.updateOptions(this.globalOptions)}},series:{deep:!0,handler(){this.chartRef.updateSeries(this.series)}},darkTheme(){this.globalOptions.chart.background=this.darkTheme?"#1d2129":"#ffffff",this.globalOptions.grid.borderColor=this.darkTheme?"#334155":"#e2e8f0",this.globalOptions.colors=this.darkTheme?["#5c9dec","#48ceaf","#fecf55","#fa6f52","#ac92ed","#ec87bf","#a1d568"]:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],this.globalOptions.plotOptions={boxPlot:{colors:{upper:this.darkTheme?"#5c9dec":"#4a89dd",lower:this.darkTheme?"#48ceaf":"#36bd9a"}}},this.chartRef.updateOptions(this.globalOptions)}},mounted(){Object(n["a"])(this.globalOptions,this.options),this.globalOptions.series=this.series,this.chartRef=new l.a(this.$refs.chart,this.globalOptions),this.chartRef.render()}},h=c,d=(i("fb47"),i("2877")),u=i("2c91"),p=i("0016"),m=i("93dc"),f=i.n(m),g=Object(d["a"])(h,s,a,!1,null,"49e033f6",null);e["a"]=g.exports;f()(g,"components",{QSpace:u["a"],QIcon:p["a"]})},"2b88":function(t,e,i){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function s(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("a026"));function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t){return r(t)||l(t)||c()}function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var h="undefined"!==typeof window;function d(t){return Array.isArray(t)||"object"===o(t)?Object.freeze(t):t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,i){var s=i.passengers[0],a="function"===typeof s?s(e):i.passengers;return t.concat(a)}),[])}function p(t,e){return t.map((function(t,e){return[e,t]})).sort((function(t,i){return e(t[1],i[1])||t[0]-i[0]})).map((function(t){return t[1]}))}function m(t,e){return e.reduce((function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e}),{})}var f={},g={},v={},y=a.extend({data:function(){return{transports:f,targets:g,sources:v,trackInstances:h}},methods:{open:function(t){if(h){var e=t.to,i=t.from,s=t.passengers,o=t.order,n=void 0===o?1/0:o;if(e&&i&&s){var r={to:e,from:i,passengers:d(s),order:n},l=Object.keys(this.transports);-1===l.indexOf(e)&&a.set(this.transports,e,[]);var c=this.$_getTransportIndex(r),u=this.transports[e].slice(0);-1===c?u.push(r):u[c]=r,this.transports[e]=p(u,(function(t,e){return t.order-e.order}))}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.to,s=t.from;if(i&&(s||!1!==e)&&this.transports[i])if(e)this.transports[i]=[];else{var a=this.$_getTransportIndex(t);if(a>=0){var o=this.transports[i].slice(0);o.splice(a,1),this.transports[i]=o}}},registerTarget:function(t,e,i){h&&(this.trackInstances&&!i&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,i){h&&(this.trackInstances&&!i&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,i=t.from;for(var s in this.transports[e])if(this.transports[e][s].from===i)return+s;return-1}}}),b=new y(f),x=1,w=a.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(x++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick((function(){b.registerSource(t.name,t)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){b.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};b.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:n(t),order:this.order};b.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(i,[this.normalizeOwnChildren(e)]):this.slim?t():t(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),k=a.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:b.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){b.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){b.unregisterTarget(e),b.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){b.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return u(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),i=this.children(),s=this.transition||this.tag;return e?i[0]:this.slim&&!s?t():t(s,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),C=0,S=["disabled","name","order","slim","slotProps","tag","to"],A=["multiple","transition"],T=a.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(C++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(b.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=b.targets[e.name];else{var i=e.append;if(i){var s="string"===typeof i?i:"DIV",a=document.createElement(s);t.appendChild(a),t=a}var o=m(this.$props,A);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new k({el:t,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=m(this.$props,S);return t(w,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||t()}});function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",w),t.component(e.portalTargetName||"PortalTarget",k),t.component(e.MountingPortalName||"MountingPortal",T)}var P={install:I};e.default=P,e.Portal=w,e.PortalTarget=k,e.MountingPortal=T,e.Wormhole=b},3002:function(t,e,i){},3497:function(t,e,i){},"381b":function(t,e,i){"use strict";const s={SHORT_TEXT:"SHORT_TEXT",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",DATE:"DATE",TIME:"TIME",DATE_TIME:"DATE_TIME",SINGLE_SELECT:"SINGLE_SELECT",TABLE:"TABLE",BARCODE:"BARCODE",OMR:"OMR",AUTO_GENERATED:"AUTO_GENERATED"};Object.freeze(s),e["a"]=s},4045:function(t,e,i){"use strict";i("1a1b")},"40f9":function(t,e,i){"use strict";i("c589")},"42fc":function(t,e,i){"use strict";i.d(e,"a",(function(){return F}));i("d9e2");function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,e){if(!t)throw new Error(e)}function o(t){return Object.keys(t)}function n(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function r(t,e,i){var s="."+e,a=new RegExp("(\\".concat(e,")?$"));return i(t).replace(a,s)}function l(t){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),t.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(t){return Array(t+1).join(" ")}function h(t){return t.replace(/([<>&])/g,(function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function d(t,e,i){switch(e){case"txt":var s="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"css":s="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"html":s="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"json":s="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"csv":s="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xls":s="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xml":s="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);default:return""}}function u(t,e,i,s){void 0===i&&(i="download"),void 0===s&&(s=!0);var a=d(t,e,s),o=document.createElement("a");o.href=a,o.download=i,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(o)}var p=function(){return p=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},p.apply(this,arguments)},m=function(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,a,o=i.call(t),n=[];try{while((void 0===e||e-- >0)&&!(s=o.next()).done)n.push(s.value)}catch(r){a={error:r}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(a)throw a.error}}return n};function f(t){if(!t||s(t)&&!t.length||!s(t)&&!o(t).length)return function(t){return t};var e=s(t)?t.reduce((function(t,e){var i;return p(p({},t),(i={},i[e]=e,i))}),Object.create(null)):t;return function(t){return s(t)?t.map((function(t){return n(t).reduce((function(t,i){var s=m(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))})).filter((function(t){return o(t).length})):n(t).reduce((function(t,i){var s=m(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))}}function g(t){var e="Invalid export data. Please provide a valid JSON";try{return"string"===typeof t?JSON.parse(t):t}catch(i){throw new Error(e)}}function v(t,e,i){void 0===e&&(e=null);var s="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(t,e,i)}catch(a){throw new Error(s)}}function y(t){return t.map(n).reduce((function(e,i,s){return i.reduce((function(e,i){var a=m(i,2),o=a[0],n=a[1],r=e[o]||Array.from({length:t.length}).map((function(t){return""}));return r[s]=("string"!==typeof n?JSON.stringify(n):n)||"",e[o]=r,e}),e)}),Object.create(null))}function b(t,e){return void 0===e&&(e=function(t){return t}),e(n(t).map((function(t){var e=m(t,2),i=e[0],s=e[1];return{fieldName:i,fieldValues:s}})))}function x(t){var e=/,|"|\n/.test(t)?'"':"",i=t.replace(/"/g,'""');return"".concat(e).concat(i).concat(e)}var w={beforeTableEncode:function(t){return t},delimiter:","};function k(t,e){void 0===e&&(e={});var i=p(p({},w),e),s=i.beforeTableEncode,a=i.delimiter;if(!t.length)return"";var o=y(t),n=b(o,s),r=n.map((function(t){var e=t.fieldName;return e})).join(a)+"\r\n",l=n.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map(x)})),c=l.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(a).concat(e[i])}))}));return r+c.join("\r\n")}function C(t,e){a(t.length>0);var i=y(t),s=b(i,e),o=s.map((function(t){var e=t.fieldName;return e})).join("</b></th><th><b>"),n=s.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map((function(t){return"<td>".concat(t,"</td>")}))})),r=n.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(e[i])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(o,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(r.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var S={beforeTableEncode:function(t){return t}};function A(t,e){var i=p(p({},S),e).beforeTableEncode;if(!t.length)return"";var s='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(C(t,i),"\n  </body>\n</html >\n");return s}function T(t){var e='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(I(t,"base"),"\n");return e}function I(t,e,i,a){void 0===i&&(i="element"),void 0===a&&(a=0);var o=l(e),r=c(a);if(null===t||void 0===t)return"".concat(r,"<").concat(o," />");var d=s(t)?t.map((function(t){return I(t,i,i,a+2)})).join("\n"):"object"===typeof t?n(t).map((function(t){var e=m(t,2),s=e[0],o=e[1];return I(o,s,i,a+2)})).join("\n"):r+"  "+h(String(t)),u="".concat(r,"<").concat(o,">\n").concat(d,"\n").concat(r,"</").concat(o,">");return u}var P={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function M(t){var e=t.data,i=t.fileName,o=void 0===i?"download":i,n=t.extension,l=t.fileNameFormatter,c=void 0===l?function(t){return t.replace(/\s+/,"_")}:l,h=t.fields,d=t.exportType,p=void 0===d?"txt":d,m=t.replacer,y=void 0===m?null:m,b=t.space,x=void 0===b?4:b,w=t.processor,C=void 0===w?u:w,S=t.withBOM,I=void 0!==S&&S,P=t.beforeTableEncode,M=void 0===P?function(t){return t}:P,L=t.delimiter,_=void 0===L?",":L,D="Invalid export data. Please provide an array of objects",F="Can't export unknown data type ".concat(p,"."),O="Can't export string data to ".concat(p,".");if("string"===typeof e)switch(p){case"txt":case"css":case"html":return C(e,p,r(o,null!==n&&void 0!==n?n:p,c));default:throw new Error(O)}var E=f(h),B=E(g(e)),N=v(B,y,x);switch(p){case"txt":case"css":case"html":return C(N,p,r(o,null!==n&&void 0!==n?n:p,c));case"json":return C(N,p,r(o,null!==n&&void 0!==n?n:"json",c));case"csv":a(s(B),D);var R="\ufeff",z=k(B,{beforeTableEncode:M,delimiter:_}),$=I?R+z:z;return C($,p,r(o,null!==n&&void 0!==n?n:"csv",c));case"xls":a(s(B),D);$=A(B,{beforeTableEncode:M});return C($,p,r(o,null!==n&&void 0!==n?n:"xls",c));case"xml":$=T(B);return C($,p,r(o,null!==n&&void 0!==n?n:"xml",c));default:throw new Error(F)}}M.types=P,M.processors={downloadFile:u};var L=M,_=L;const D=()=>{function t(t,e,i){if(t)try{const s=e||"exported-data",a=_.types[i||"xls"];_({data:t,fileName:s,exportType:a})}catch(s){throw new Error("Parsing failed!")}}return{exportDataFromJSON:t}};function F(t,e){if(!t)return this.$alert.info("Data not found");let i=new Date;return e||(e=`${i.getFullYear()}${i.getMonth()+1}${i.getDate()}${i.getHours()}${i.getMinutes()}${i.getSeconds()}`),D().exportDataFromJSON(t,e,null)}},4523:function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],(function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}})),e(t,"Extensions/Breadcrumbs/Breadcrumbs.js",[t["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function a(){if(this.breadcrumbs){const t=this.resetZoomButton&&this.resetZoomButton.getBBox(),e=this.breadcrumbs.options;t&&"right"===e.position.align&&"plotBox"===e.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-t.width-e.buttonSpacing)}}function o(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function n(){const t=this.breadcrumbs;if(t&&!t.options.floating&&t.level){var e=t.options,i=e.buttonTheme;i=(i.height||0)+2*(i.padding||0)+e.buttonSpacing,e=e.position.verticalAlign,"bottom"===e?(this.marginBottom=(this.marginBottom||0)+i,t.yOffset=i):"middle"!==e?(this.plotTop+=i,t.yOffset=-i):t.yOffset=void 0}}function r(){this.breadcrumbs&&this.breadcrumbs.redraw()}function l(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}const{format:c}=i,{addEvent:h,defined:d,extend:u,fireEvent:p,isString:m,merge:f,objectEach:g,pick:v}=s,y=[];class b{static compose(i,c){s.pushUnique(y,i)&&(h(e,"destroy",o),h(e,"afterShowResetZoom",a),h(e,"getMargins",n),h(e,"redraw",r),h(e,"selection",l)),s.pushUnique(y,c)&&u(c.lang,t.lang)}constructor(t,e){this.elementList={},this.isDirty=!0,this.level=0,this.list=[],e=f(t.options.drilldown&&t.options.drilldown.drillUpButton,b.defaultOptions,t.options.navigation&&t.options.navigation.breadcrumbs,e),this.chart=t,this.options=e||{}}updateProperties(t){this.setList(t),this.setLevel(),this.isDirty=!0}setList(t){this.list=t}setLevel(){this.level=this.list.length&&this.list.length-1}getLevel(){return this.level}getButtonText(t){const e=this.chart,i=this.options;var s=e.options.lang;const a=v(i.format,i.showFullPath?"{level.name}":"← {level.name}");return s=s&&v(s.drillUpText,s.mainBreadcrumb),t=i.formatter&&i.formatter(t)||c(a,{level:t.levelOptions},e)||"",(m(t)&&!t.length||"← "===t)&&d(s)&&(t=i.showFullPath?s:"← "+s),t}redraw(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1}render(){const t=this.chart,e=this.options;!this.group&&e&&(this.group=t.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:e.zIndex}).add()),e.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()}renderFullPathButtons(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()}renderSingleButton(){const t=this.chart;var e=this.list;const i=this.options.buttonSpacing;this.destroyListElements();const s=this.group?this.group.getBBox().width:i;e=e[e.length-2],!t.drillUpButton&&0<this.level?t.drillUpButton=this.renderButton(e,s,i):t.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())}alignBreadcrumbsGroup(t){if(this.group){var e=this.options;const s=e.buttonTheme,a=e.position,o="chart"===e.relativeTo||"spacingBox"===e.relativeTo?void 0:"scrollablePlotBox";var i=this.group.getBBox();e=2*(s.padding||0)+e.buttonSpacing,a.width=i.width+e,a.height=i.height+e,i=f(a),t&&(i.x+=t),this.options.rtl&&(i.x+=a.width),i.y=v(i.y,this.yOffset,0),this.group.align(i,!0,o)}}renderButton(t,e,i){const s=this,a=this.chart,o=s.options,n=f(o.buttonTheme);return e=a.renderer.button(s.getButtonText(t),e,i,(function(e){const i=o.events&&o.events.click;let a;i&&(a=i.call(s,e,t)),!1!==a&&(e.newLevel=o.showFullPath?t.level:s.level-1,p(s,"up",e))}),n).addClass("highcharts-breadcrumbs-button").add(s.group),a.styledMode||e.attr(o.style),e}renderSeparator(t,e){const i=this.chart,s=this.options.separator;return t=i.renderer.label(s.text,t,e,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),i.styledMode||t.css(s.style),t}update(t){f(!0,this.options,t),this.destroy(),this.isDirty=!0}updateSingleButton(){const t=this.chart,e=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(e)})}destroy(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0}destroyListElements(t){const e=this.elementList;g(e,(i,s)=>{!t&&e[s].updated||(i=e[s],i.button&&i.button.destroy(),i.separator&&i.separator.destroy(),delete i.button,delete i.separator,delete e[s])}),t&&(this.elementList={})}destroySingleButton(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)}resetElementListState(){g(this.elementList,t=>{t.updated=!1})}updateListElements(){const t=this.elementList,e=this.options.buttonSpacing,i=this.list,s=this.options.rtl,a=s?-1:1,o=function(t,e){return a*t.getBBox().width+a*e},n=function(t,e,i){t.translate(e-t.getBBox().width,i)};let r,l,c=this.group?o(this.group,e):e;for(let h=0,d=i.length;h<d;++h){const u=h===d-1;let p,m;l=i[h],t[l.level]?(r=t[l.level],p=r.button,r.separator||u?r.separator&&u&&(r.separator.destroy(),delete r.separator):(c+=a*e,r.separator=this.renderSeparator(c,e),s&&n(r.separator,c,e),c+=o(r.separator,e)),t[l.level].updated=!0):(p=this.renderButton(l,c,e),s&&n(p,c,e),c+=o(p,e),u||(m=this.renderSeparator(c,e),s&&n(m,c,e),c+=o(m,e)),t[l.level]={button:p,separator:m,updated:!0}),p&&p.setState(u?2:0)}}}return b.defaultOptions=t.options,b})),e(t,"Extensions/Drilldown.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"]],(function(t,e,i,s,a,o,n,r,l,c,h,d,u,p){function m(t){const e=f(this.chart.options.drilldown.animation);t&&(t.hide(),S((function(){t&&t.added&&t.fadeIn()}),Math.max(e.duration-50,0)))}const{animObject:f}=t,{noop:g}=o;({defaultOptions:t}=n),({seriesTypes:c}=c);const{addEvent:v,extend:y,fireEvent:b,merge:x,objectEach:w,pick:k,removeEvent:C,syncTimeout:S}=u;u=c.pie,c=c.map;let A=1;y(t.lang,{}),t.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}},mapZooming:!0},h.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:k(this.newOpacity,1)},t||{duration:250})},i.prototype.addSeriesAsDrilldown=function(t,e){const i=this;if(i.mapView)if(t.series.isDrilling=!0,t.series.options.inactiveOtherPoints=!0,i.options.drilldown&&i.options.drilldown.animation&&i.options.drilldown.mapZooming){t.series.dataLabelsGroup&&(t.series.dataLabelsGroup.destroy(),delete t.series.dataLabelsGroup),i.mapView.allowTransformAnimation=!0;const s=f(i.options.drilldown.animation);if("boolean"!==typeof s){const a=s.complete,o=function(s){s&&s.applyDrilldown&&i.mapView&&(i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown(),i.mapView.allowTransformAnimation=!1)};s.complete=function(){a&&a.apply(this,arguments),o.apply(this,arguments)}}t.zoomTo(s)}else i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown();else i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown()},i.prototype.addSingleSeriesAsDrilldown=function(t,e){let i,a,o,n,r=t.series,l=r.xAxis,c=r.yAxis,h=[],d=[];n=this.styledMode?{colorIndex:k(t.colorIndex,r.colorIndex)}:{color:t.color||r.color},this.drilldownLevels||(this.drilldownLevels=[]),a=r.options._levelNumber||0,(o=this.drilldownLevels[this.drilldownLevels.length-1])&&o.levelNumber!==a&&(o=void 0),e=y(y({_ddSeriesId:A++},n),e),i=r.points.indexOf(t),r.chart.series.forEach((function(t){t.xAxis===l&&(t.options._ddSeriesId=t.options._ddSeriesId||A++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||a,o?(h=o.levelSeries,d=o.levelSeriesOptions):(h.push(t),t.purgedOptions=x({_ddSeriesId:t.options._ddSeriesId,_levelNumber:t.options._levelNumber,selected:t.options.selected},t.userOptions),d.push(t.purgedOptions)))})),t=y({levelNumber:a,seriesOptions:r.options,seriesPurgedOptions:r.purgedOptions,levelSeriesOptions:d,levelSeries:h,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:t.isNull?s.parse(n.color).setOpacity(0).get():n.color,lowerSeriesOptions:e,pointOptions:r.options.data[i],pointIndex:i,oldExtremes:{xMin:l&&l.userMin,xMax:l&&l.userMax,yMin:c&&c.userMin,yMax:c&&c.userMax},resetZoomButton:o&&o.levelNumber===a?void 0:this.resetZoomButton},n),this.drilldownLevels.push(t),l&&l.names&&(l.names.length=0),e=t.lowerSeries=this.addSeries(e,!1),e.options._levelNumber=a+1,l&&(l.oldPos=l.pos,l.userMin=l.userMax=null,c.userMin=c.userMax=null),e.isDrilling=!0,r.type===e.type&&(e.animate=e.animateDrilldown||g,e.options.animation=!0)},i.prototype.applyDrilldown=function(){const t=this,e=this.drilldownLevels;let i;e&&0<e.length&&(i=e[e.length-1].levelNumber,this.drilldownLevels.forEach((function(e){t.mapView&&t.options.drilldown&&t.options.drilldown.mapZooming&&(t.redraw(),e.lowerSeries.isDrilling=!1,t.mapView.fitToBounds(e.lowerSeries.bounds),e.lowerSeries.isDrilling=!0),e.levelNumber===i&&e.levelSeries.forEach((function(e,s){t.mapView?e.options&&e.options._levelNumber===i&&e.group&&(s={},t.options.drilldown&&(s=t.options.drilldown.animation),e.group.animate({opacity:0},s,(function(){e.remove(!1),t.resetZoomButton&&(t.resetZoomButton.hide(),delete t.resetZoomButton),t.pointer.reset(),b(t,"afterDrilldown"),t.mapView&&(t.series.forEach(t=>{t.isDirtyData=!0}),t.mapView.setView(void 0,1)),t.series.forEach(t=>{t.isDrilling=!1}),b(t,"afterApplyDrilldown")}))):e.options&&e.options._levelNumber===i&&e.remove(!1)}))}))),t.mapView||(this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),b(this,"afterDrilldown"),this.redraw(),b(this,"afterApplyDrilldown"))};const T=function(t){const e=[];return(t=t.drilldownLevels)&&t.length&&(e[0]||e.push({level:0,levelOptions:t[0].seriesOptions}),t.forEach((function(t,i){t.levelNumber+1>e[e.length-1].level&&e.push({level:t.levelNumber+1,levelOptions:x({name:t.lowerSeries.name},t.pointOptions)})}))),e};i.prototype.drillUp=function(t){if(this.drilldownLevels&&0!==this.drilldownLevels.length){b(this,"beforeDrillUp");for(var e,i,s=this,a=s.drilldownLevels,o=a[a.length-1].levelNumber,n=s.series,r=s.drilldownLevels.length,l=function(t,e){let a;if(n.forEach((function(e){e.options._ddSeriesId===t._ddSeriesId&&(a=e)})),a=a||s.addSeries(t,!1),a.type===e.type&&a.animateDrillupTo&&(a.animate=a.animateDrillupTo),t===i.seriesPurgedOptions)return a},c=t=>{t.remove(!1),s.series.forEach(t=>{t.colorAxis&&(t.isDirtyData=!0),t.options.inactiveOtherPoints=!1}),s.redraw()},h=a.length;h--;){let d,u;if(i=a[h],i.levelNumber===o){if(a.pop(),d=i.lowerSeries,!d.chart)for(e=n.length;e--;)if(n[e].options.id===i.lowerSeriesOptions.id&&n[e].options._levelNumber===o+1){d=n[e];break}d.xData=[],d.xAxis&&d.xAxis.names&&(0===r||h===r)&&(d.xAxis.names.length=0),i.levelSeriesOptions.forEach(t=>{u=l(t,d)}),b(s,"drillup",{seriesOptions:i.seriesPurgedOptions||i.seriesOptions}),u&&(u.type===d.type&&(u.drilldownLevel=i,u.options.animation=s.options.drilldown.animation,d.animateDrillupFrom&&d.chart&&d.animateDrillupFrom(i)),u.options._levelNumber=o),e=d,s.mapView||e.remove(!1),u&&u.xAxis&&(e=i.oldExtremes,u.xAxis.setExtremes(e.xMin,e.xMax,!1),u.yAxis.setExtremes(e.yMin,e.yMax,!1)),i.resetZoomButton&&(s.resetZoomButton=i.resetZoomButton),this.mapView?(e=s.options.drilldown&&s.options.drilldown.animation&&s.options.drilldown.mapZooming,i.levelNumber===o&&t?d.remove(!1):(d.dataLabelsGroup&&(d.dataLabelsGroup.destroy(),delete d.dataLabelsGroup),s.mapView&&u&&(e&&(d.isDrilling=!0,u.isDrilling=!0,s.redraw(!1),s.mapView.fitToBounds(d.bounds,void 0,!0,!1)),s.mapView.allowTransformAnimation=!0,b(s,"afterDrillUp",{seriesOptions:u?u.userOptions:void 0}),e?s.mapView.setView(void 0,1,!0,{complete:function(){Object.prototype.hasOwnProperty.call(this,"complete")&&c(d)}}):(s.mapView.allowTransformAnimation=!1,d.group?d.group.animate({opacity:0},s.options.drilldown.animation,(function(){c(d),s.mapView&&(s.mapView.allowTransformAnimation=!0)})):(c(d),s.mapView.allowTransformAnimation=!0)),u.isDrilling=!1,s.ddDupes&&(s.ddDupes.length=0),b(s,"drillupall")))):(b(s,"afterDrillUp"),this.redraw(),this.ddDupes&&(this.ddDupes.length=0),b(s,"drillupall"))}}}},v(i,"afterInit",(function(){const t=this;t.drilldown={chart:t,fadeInGroup:m,update:function(e,i){x(!0,t.options.drilldown,e),k(i,!0)&&t.redraw()}}})),v(i,"render",(function(){(this.xAxis||[]).forEach((function(t){t.ddPoints={},t.series.forEach((function(e){let i,s=e.xData||[],a=e.points;for(i=0;i<s.length;i++){var o=e.options.data[i];"number"!==typeof o&&(o=e.pointClass.prototype.optionsToObject.call({series:e},o),o.drilldown&&(t.ddPoints[s[i]]||(t.ddPoints[s[i]]=[]),o=i-(e.cropStart||0),t.ddPoints[s[i]].push(!(a&&0<=o&&o<a.length)||a[o])))}})),w(t.ticks,d.prototype.drillable)}))})),v(p,"up",(function(t){const e=this.chart;t=this.getLevel()-t.newLevel;let i=1<t;for(let s=0;s<t;s++)s===t-1&&(i=!1),e.drillUp(i)})),v(i,"afterDrilldown",(function(){var t=this.options.drilldown;t=t&&t.breadcrumbs,this.breadcrumbs||(this.breadcrumbs=new p(this,t)),this.breadcrumbs.updateProperties(T(this))})),v(i,"afterDrillUp",(function(){this.breadcrumbs&&this.breadcrumbs.updateProperties(T(this))})),v(i,"update",(function(t){const e=this.breadcrumbs,i=t.options.drilldown&&t.options.drilldown.breadcrumbs;e&&i&&e.update(t.options.drilldown.breadcrumbs)})),a.prototype.animateDrillupTo=function(t){if(!t){const t=this,e=t.drilldownLevel;this.points.forEach((function(t){const e=t.dataLabel;t.graphic&&t.graphic.hide(),e&&(e.hidden="hidden"===e.attr("visibility"),e.hidden||(e.hide(),t.connector&&t.connector.hide()))})),S((function(){if(t.points){let i=[];t.data.forEach((function(t){i.push(t)})),t.nodes&&(i=i.concat(t.nodes)),i.forEach((function(t,i){i=i===(e&&e.pointIndex)?"show":"fadeIn";const s="show"===i||void 0,a=t.dataLabel;t.graphic&&t.visible&&t.graphic[i](s),a&&!a.hidden&&(a.fadeIn(),t.connector&&t.connector.fadeIn())}))}}),Math.max(this.chart.options.drilldown.animation.duration-50,0)),delete this.animate}},a.prototype.animateDrilldown=function(t){let e,i=this,s=this.chart,a=s.drilldownLevels,o=f(s.options.drilldown.animation),n=this.xAxis,r=s.styledMode;t||(a.forEach((function(t){i.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(e=t.shapeArgs,r||(e.fill=t.color))})),e.x+=k(n.oldPos,n.pos)-n.pos,this.points.forEach((function(t){const s=t.shapeArgs;r||(s.fill=t.color),t.graphic&&t.graphic.attr(e).animate(y(t.shapeArgs,{fill:t.color||i.color}),o)})),s.drilldown&&s.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)},a.prototype.animateDrillupFrom=function(t){let e=f(this.chart.options.drilldown.animation),i=this.group,s=i!==this.chart.columnGroup,a=this;a.trackerGroups.forEach((function(t){a[t]&&a[t].on("mouseover")})),s&&delete this.group,this.points.forEach((function(o){const n=o.graphic,r=t.shapeArgs,l=function(){n.destroy(),i&&s&&(i=i.destroy())};n&&r&&(delete o.graphic,a.chart.styledMode||(r.fill=t.color),e.duration?n.animate(r,x(e,{complete:l})):(n.attr(r),l()))}))},u&&y(u.prototype,{animateDrillupTo:a.prototype.animateDrillupTo,animateDrillupFrom:a.prototype.animateDrillupFrom,animateDrilldown:function(t){const e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],i=this.chart.options.drilldown.animation;if(this.is("item")&&(i.duration=0),this.center){const s=e.shapeArgs,a=s.start,o=(s.end-a)/this.points.length,n=this.chart.styledMode;t||(this.points.forEach((function(t,r){const l=t.shapeArgs;n||(s.fill=e.color,l.fill=t.color),t.graphic&&t.graphic.attr(x(s,{start:a+r*o,end:a+(r+1)*o}))[i?"animate":"attr"](l,i)})),this.chart.drilldown&&this.chart.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)}}}),c&&y(c.prototype,{animateDrilldown(t){const e=this,i=this.chart,s=this.group;i&&s&&e.options&&(t&&i.mapView?(s.attr({opacity:.01}),i.mapView.allowTransformAnimation=!1,e.options.inactiveOtherPoints=!0,e.options.enableMouseTracking=!1):(s.animate({opacity:1},i.options.drilldown.animation,(function(){e.options&&(e.options.inactiveOtherPoints=!1,e.options.enableMouseTracking=k(e.userOptions&&e.userOptions.enableMouseTracking,!0))})),i.drilldown&&i.drilldown.fadeInGroup(this.dataLabelsGroup)))},animateDrillupFrom(){const t=this.chart;t&&t.mapView&&(t.mapView.allowTransformAnimation=!1),this.options&&(this.options.inactiveOtherPoints=!0)},animateDrillupTo(t){const e=this.chart,i=this.group;e&&i&&(t?(i.attr({opacity:.01}),this.options&&(this.options.inactiveOtherPoints=!0)):(i.animate({opacity:1},e.options.drilldown.animation),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup)))}}),r.prototype.doDrilldown=function(){this.runDrilldown()},r.prototype.runDrilldown=function(t,e,i){const s=this.series.chart,a=s.options.drilldown;let o,n=(a.series||[]).length;for(s.ddDupes||(s.ddDupes=[]);n--&&!o;)a.series[n].id===this.drilldown&&-1===s.ddDupes.indexOf(this.drilldown)&&(o=a.series[n],s.ddDupes.push(this.drilldown));b(s,"drilldown",{point:this,seriesOptions:o,category:e,originalEvent:i,points:"undefined"!==typeof e&&this.series.xAxis.getDDPoints(e).slice(0)},(function(e){const i=e.point.series&&e.point.series.chart,s=e.seriesOptions;i&&s&&(t?i.addSingleSeriesAsDrilldown(e.point,s):i.addSeriesAsDrilldown(e.point,s))}))},e.prototype.drilldownCategory=function(t,e){this.getDDPoints(t).forEach((function(i){i&&i.series&&i.series.visible&&i.runDrilldown&&i.runDrilldown(!0,t,e)})),this.chart.applyDrilldown()},e.prototype.getDDPoints=function(t){return this.ddPoints&&this.ddPoints[t]||[]},d.prototype.drillable=function(){const t=this.pos,e=this.label,i=this.axis,s="xAxis"===i.coll&&i.getDDPoints,a=s&&i.getDDPoints(t),o=i.chart.styledMode;s&&(e&&a&&a.length?(e.drillable=!0,e.basicStyles||o||(e.basicStyles=x(e.styles)),e.addClass("highcharts-drilldown-axis-label"),e.removeOnDrillableClick&&C(e.element,"click"),e.removeOnDrillableClick=v(e.element,"click",(function(e){e.preventDefault(),i.drilldownCategory(t,e)})),o||e.css(i.chart.options.drilldown.activeAxisLabelStyle)):e&&e.drillable&&e.removeOnDrillableClick&&(o||(e.styles={},e.element.removeAttribute("style"),e.css(e.basicStyles)),e.removeOnDrillableClick(),e.removeClass("highcharts-drilldown-axis-label")))},v(r,"afterInit",(function(){return this.drilldown&&!this.unbindDrilldownClick&&(this.unbindDrilldownClick=v(this,"click",I)),this})),v(r,"update",(function(t){t=t.options||{},t.drilldown&&!this.unbindDrilldownClick?this.unbindDrilldownClick=v(this,"click",I):!t.drilldown&&void 0!==t.drilldown&&this.unbindDrilldownClick&&(this.unbindDrilldownClick=this.unbindDrilldownClick())}));const I=function(t){const e=this.series;e.xAxis&&!1===e.chart.options.drilldown.allowPointDrilldown?e.xAxis.drilldownCategory(this.x,t):this.runDrilldown(void 0,void 0,t)};v(l,"afterDrawDataLabels",(function(){const t=this.chart.options.drilldown.activeDataLabelStyle,e=this.chart.renderer,i=this.chart.styledMode;this.points.forEach((function(s){const a=s.options.dataLabels,o=k(s.dlOptions,a&&a.style,{});s.drilldown&&s.dataLabel&&("contrast"!==t.color||i||(o.color=e.getContrast(s.color||this.color)),a&&a.color&&(o.color=a.color),s.dataLabel.addClass("highcharts-drilldown-data-label"),i||s.dataLabel.css(t).css(o))}),this)}));const P=function(t,e,i,s){t[i?"addClass":"removeClass"]("highcharts-drilldown-point"),s||t.css({cursor:e})};v(l,"afterDrawTracker",(function(){const t=this.chart.styledMode;this.points.forEach((function(e){e.drilldown&&e.graphic&&P(e.graphic,"pointer",!0,t)}))})),v(r,"afterSetState",(function(){const t=this.series.chart.styledMode;this.drilldown&&this.series.halo&&"hover"===this.state?P(this.series.halo,"pointer",!0,t):this.series.halo&&P(this.series.halo,"auto",!1,t)})),v(i,"drillup",(function(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())})),v(i,"drillupall",(function(){this.resetZoomButton&&this.showResetZoom()}))})),e(t,"masters/modules/drilldown.src.js",[t["Core/Globals.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"]],(function(t,e){t.Breadcrumbs=e,e.compose(t.Chart,t.defaultOptions)}))}))},"467fa":function(t,e,i){},4697:function(t,e,i){"use strict";i("d30f")},"470f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"process-sheet"}},[e("Sheet",{attrs:{width:t.formWidth,"has-footer":!t.isCustomizedWorkflow||!t.initiateProcess,"no-padding":""},on:{input:t.closeProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.isCustomizedWorkflow||"DOCUMENT"===t.workflow.initiatedBy?t._e():[t.mandatory.filledValue||t.mandatory.nonFilledValue?[e("q-circular-progress",{staticClass:"q-mr-sm",attrs:{"show-value":"","font-size":"12px",value:t.mandatoryFilling,size:"lg",thickness:.22,color:"primary","track-color":"grey-3"}},[t._v(" "+t._s(t.mandatoryFilling)+"% ")])]:t._e(),t.mandatory.filledValue?e("div",{staticClass:"chip-success q-mr-sm"},[e("div",{},[t._v(t._s(t.mandatory.filledValue)+" ready")])]):t._e(),t.mandatory.nonFilledValue?e("div",{staticClass:"chip-warning",on:{click:t.checkFormValidation}},[e("div",{},[t._v(t._s(t.mandatory.nonFilledValue)+" need to work")])]):t._e()],t.mandatoryDocument.length?[e("div",{staticClass:"chip-warning cursor-pointer",on:{click:function(e){t.attachmentSheet=!0}}},[e("div",{},[t._v(t._s(t.mandatoryDocument.length)+" document required")])])]:t._e(),t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i.id)}}})})),1)],1)],1):t._e(),t.formView||t.initiateProcess||0!==t.actions.length?t.initiateProcess||0!==t.actions.length?t._e():e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}}),t.isCustomizedWorkflow?t._e():e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i||"Decline"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formView?e("div",{attrs:{id:"form-view"}},[t.formId&&Object.keys(t.form).length?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"readonly-controls":t.readonlyControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList,"form-upload-files":t.formUploadFiles,"has-check-form-validate":t.hasCheckFormValidate},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e},"update:hasCheckFormValidate":function(e){t.hasCheckFormValidate=e},"update:has-check-form-validate":function(e){t.hasCheckFormValidate=e},uploadFiles:t.getOCRResult,mandatoryControlsList:t.mandatoryControlsList,deletedFiles:t.deletedFiles}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[t.requestFormData.length?e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.requestFormData[0].value[0].createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.requestFormData[0].value[0].createdByName)+" ")])]):t._e(),e("tr",[t.requestFormData[0].value[0].raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.requestFormData[0].value[0].raisedBy?e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.requestFormData[0].value[0].formData.fields,(function(i,s){return[i&&"[]"!=i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])]):t._e()])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),t.formId||t.itemModel.itemId?e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2):t._e()])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.formJsonId?e("div",{staticClass:"col-auto"},[e("q-chip",{staticClass:"cursor-pointer green-hover",attrs:{outline:"",color:"green"}},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])],1):t._e(),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),i.formJsonId?e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis attachment-label"},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])])]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]):t._e(),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),i.formJsonId?t._e():[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()&&!t.portal?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()&&!t.portal?[e("div",{staticClass:"row actions advance-cmd"},[t.attachmentList.length&&t.fileNames.length?[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},on:{input:t.handleAttachComment},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()]:t._e()],2),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t.processForwardGroupAction?t._e():e("span",[t._v('"'+t._s(t.selectedProcess.requestNo)+'"')]),t._v(" Process Forward")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"users",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}),e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}),t.processForwardGroupAction?e("TextAreaField",{staticClass:"field q-mt-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantGOTO()?[e("BaseButton",{attrs:{label:"Assign",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]:[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]]},proxy:!0}]),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Sheet",{attrs:{width:"40vw","has-footer":""},on:{input:t.closeJiraIssueSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" JIRA - Create Issue ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"jiraIssue",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"Issue Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"field",attrs:{label:"Issue Name","is-mandatory":"",error:i[0]},model:{value:t.issueName,callback:function(e){t.issueName=e},expression:"issueName"}})]}}])}),t._e(),t._e(),e("ValidationProvider",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"field",attrs:{label:"Description","is-mandatory":"",error:i[0]},model:{value:t.issueDescription,callback:function(e){t.issueDescription=e},expression:"issueDescription"}})]}}])}),t._e(),t._e(),t._e()],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Create Issue",color:"primary"},on:{click:t.createJiraIssue}})]},proxy:!0}]),model:{value:t.jiraIssueSheet,callback:function(e){t.jiraIssueSheet=e},expression:"jiraIssueSheet"}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"read-only":!0,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}}),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.addTask()}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.viewTask(i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),t.importExcel?e("ImportPopup",{staticClass:"row items-center q-mr-xs",attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":String(t.masterFormId)},on:{upload:function(e){return t.$refs.input.click()},close:function(e){t.dataImported=!1}}}):t._e(),e("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:t.uploadFile}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"form-check-list":t.formCheckList,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":t.workflowModel,"form-upload-files":t.formUploadFiles,"repository-field":t.repositoryField,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":t.fileNames,comments:t.commentsList,"display-internal-public":t.displayInternalPublic},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},a=[],o=(i("14d9"),i("13d5"),i("7bb1")),n=i("381e"),r=i("4bc4"),l=i("1b0d"),c=i("0cdc"),h=i("eff0"),d=i("bc3a"),u=i.n(d),p=i("dd90"),m=i("a7d2"),f=i("6a70"),g=i("cade"),v=i("c3d2"),y=i("fa1f"),b=i("ee54"),x=i("869e"),w=i("6df3"),k=i("b3d1"),C=i("9234"),S=i("695e"),A=i("b94d"),T=i("0c04"),I=i("1c54"),P=i("5e23"),M=i("abe1"),L=i("8505"),_=i("98cf"),D=i("909a"),F=i("9996"),O=i("3445"),E=i("b0ba"),B=i("ec15"),N=i("bb36"),R={name:"SubWorkflowProcess",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],MultiSelectField:v["a"],FileIcon:y["a"],ListItem:g["a"],Sheet:n["a"],RenderForm:r["a"],Confirm:I["a"],SignatureField:h["a"],Modal:f["a"],MetaDataEdit:b["a"],CheckboxField:x["a"],TextAreaField:w["a"],TextField:k["a"],SingleChoiceField:C["a"],TextBuilderField:S["a"],Tabs:A["a"],AddTask:T["a"],ImportPopup:c["a"],EmailSharing:P["a"],FileDetails:M["a"],ProcessHistory:L["a"],FormFieldLabel:O["a"],FormEntryHistory:E["a"],Attachments:B["a"],Comments:N["a"]},props:{workflowId:{type:Number,default:0},initiateSubWorkflowProcess:{type:Boolean,default:!1},mainWorkflowId:{type:Number,default:0},mainProcessId:{type:Number,default:0},subProcessLink:{type:String,default:""},selectedProcess:{type:Object,default:()=>{}},openSubProcess:{type:Boolean,default:!1},mainFormFields:{type:Array,default:()=>[]},mainFormModel:{type:Object,default:()=>{}},portal:{type:Boolean,default:!1},subProcessId:{type:Number,default:0}},data(){return{workflow:{},workflowList:[],initiate:!1,processSheet:!1,headerTitle:"",formModel:{},form:{},formId:"",formData:"",actions:[],processActionsAddOn:[],workflowFormModel:{},saveAction:"",commentsList:[],attachmentList:[],initiateProcess:!1,signList:[],formEditAccess:!1,formEditControls:[],readonlyControls:[],formVisibilityAccess:!0,formSecureControls:[],repositoryDetails:{},repositoryField:[],formWidth:"100vw",checkList:[],stageLevel:[],currentStep:0,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,formFields:[],checkListRowIndex:null,requestPrefix:"",mlPrediction:"",advancedCommentsSheet:!1,advancedCommentText:"",docWarning:!1,alertModal:!1,actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",actionComments:!1,actionConfirm:!1,actionConfirmAlert:!1,showMetaDataEditModal:!1,selectedUploadFile:{},workflowModel:{},customVerify:!1,formCheckList:!1,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],scrollPosition:0,commentsLoad:null,mailTransactionLoad:null,documentLoad:null,documentLoadList:[],uploadFilename:"",filterSearchColumn:{},selectedFilterColumn:"",watchViewerClose:null,saveOnly:!1,wform:[],userSignature:!1,dataValidationValues:[],processForwardModal:!1,forwardUsers:[],forwardGroups:[],processForwardGroupAction:!1,selectedFilter:[],filterBy:[],attachmentLoad:null,signImg:"",selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],jiraConnect:!1,jiraAccounts:[],jiraIssueSheet:!1,issueName:"",projectKey:"",issueType:"",issueDescription:"",issueEpicValue:"",issueAssignee:"",issueAssigneeUsers:[],issueDescriptionTable:!1,issueDescriptionFields:[],jiraConfirmModal:!1,issueRef:{},taskSheet:!1,itemModel:{},errorMessage:"",errorModal:!1,successModal:!1,selectedNode:"",attachmentSheet:!1,commentsSheet:!1,processId:0,tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskEntries:[],addTaskEnabled:!1,mailTab:"OUTGOING",mailTransactionSheet:!1,commentText:"",mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],userList:[],groupList:[],refreshTree:!0,loadInitial:!0,customReply:!1,userReply:!1,toRequester:!1,customCloseProcessSheet:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],activeViewLoad:null,hideColumns:[],columns:[],generatePDF:0,documentRequired:!1,hasSelectedProcess:0,hasSelectedWorkflow:0,taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntryList:[],taskMode:"",selectedTask:{},importExcel:!1,masterFormId:0,dataImported:!1,sameFormFields:[],historyProcessId:0,attachComment:!1,fileNames:[],selectedFileForAttach:0,displayInternalPublic:!1,formUploadFiles:[],mandatory:{},fileControlDeleteFile:[],hasCheckFormValidate:!1,fileUploadForControl:!1,fileUploadInput:{},metaDataUpdate:!1,metaDataModal:{},metaDataTitle:"",requestFormData:[],formView:!0,showFormEntryHistoryModal:!1,showAttachmentSheet:!1,showCommentsSheet:!1}},computed:{formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){return this.formId?this.form.panels:[]},secondaryPanels(){return this.formId?this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isMaximized(){return"100vw"===this.formWidth},_enableControls(){let t=[],e=[];return this.panels&&this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&1===this.workflow.id)return!0;return!1},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)},commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode?this.checkCommentsOption()?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 240px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 200px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 190px)":this.displayInternalPublic?"calc(100vh - 190px)":"calc(100vh - 150px)":"calc(100vh - 150px)":""},mandatoryDocument(){return this.checkList.filter(t=>t.required&&!t.attach)},mandatoryFilling(){return this.mandatory.filledValue&&this.mandatory.nonFilledValue?Math.floor(this.mandatory.filledValue/(this.mandatory.filledValue+this.mandatory.nonFilledValue)*100):this.mandatory.filledValue?100:0},request(){return this.selectedProcess}},watch:{workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&(this.initiateProcess,this.checkRequiredDocument())}},attachmentSheet:{immediate:!0,handler(){if(this.attachmentSheet&&this.selectedProcess.processId){if(this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}},commentsSheet:{immediate:!0,handler(){this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments(this.workflowId,this.selectedProcess.processId)},3e4):clearInterval(this.commentsLoad)}},mailTransactionSheet:{immediate:!0,handler(){this.mailTransactionSheet&&this.selectedProcess.processId?this.mailTransactionLoad=setInterval(()=>{this.getMailTransactions()},3e4):clearInterval(this.mailTransactionLoad)}},taskEntries:{immediate:!0,handler(){this.tabs.find(t=>{"TASK"===t.value&&(t.count=this.taskEntries.length)})}},workflowId:{immediate:!0,handler(){}},initiateSubWorkflowProcess:{immediate:!0,handler(){this.initiateSubWorkflowProcess&&this.getWorkflow()}},processSheet(){this.fileData=[],this.workflowModel={}},dataValidationValues:{immediate:!0,deep:!0,handler(){if(this.customVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.filter(t=>"Matched"!==t.status&&"Verified"!==t.status);t.length&&(this.customVerify=!0)}}},customCloseProcessSheet:{deep:!0,immediate:!0,handler(){}},subProcessLink(){this.subProcessLink&&(this.selectedNode="sent",this.showLinks(this.subProcessLink))},openSubProcess:{immediate:!0,handler(){this.openSubProcess&&(this.formId="",this.formView=!1,this.selectedProcess.inbox?(this.formView=!0,this.getWorkflow()):this.getWorkflow("process"))}},selectedProcess:{deep:!0,handler(){this.selectedProcess.processId&&(this.getAttachments(this.workflowId,this.selectedProcess.processId),this.getComments(this.workflowId,this.selectedProcess.processId))}},workflowModel:{deep:!0,handler(){this.sameFormFields.forEach(t=>{t.value&&(this.workflowModel[t.name]=t.value)})}}},created(){this.getTaskForm()},methods:{isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},checkTabAccess(t){return this.portal?"ATTACHMENTS"===t||"COMMENTS"===t:"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},reset(){this.headerTitle="",this.mandatory={},this.actions=[],this.processActionsAddOn=[],this.form={},this.formId="",this.formFields=[],this.tabs.find(t=>{t.count=0}),this.taskEntries=[],this.commentsList=[],this.attachmentList=[],this.initiateProcess=!0,this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.readonlyControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[],this.importExcel=!1},async getWorkflow(t){this.reset(),this.processSheet=!0,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await l["t"].getWorkflow(this.workflowId);e?this.$alert.error(e):(this.workflow=i,this.selectedNode=t?"sent":"inbox",this.selectedProcess.inbox?await this.openProcess(!1):await this.openProcess(!t),this.$store.commit("hideLoadingBarSave"))},closeProcessSheet(){this.processSheet=!1,this.saveAction="",this.workflowFormModel={},this.requestFormData=[],this.formView=!0,this.$emit("closeProcessSheet")},getLabel(t){let e="";return Object.keys(this.form).length&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async openProcess(t=!1){if(this.getRepository(),t){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(console.log(e.settings.fileSettings),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}else"MANUAL_AUTOMATIC"===e.settings.initiateMode&&(e.settings.users.indexOf(this.$store.state.session.id)>-1||e.settings.users.indexOf("0")>-1)&&e.settings.initiateBy.indexOf("MASTER_FORM")>-1&&(this.importExcel=!0,this.masterFormId=e.settings.masterFormId);if(this.generatePDF=e.settings.generatePDF?1:0,this.documentRequired=e.settings.documentRequired||!1,e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}}else this.checkList=[]}}else{if(this.getFormDetails(),"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){this.formEditAccess=!1;let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e){if(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}if(e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.actions.indexOf(t.proceedAction)<0&&(this.actions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))})}else this.checkList=[]}}else this.formEditAccess=!0;this.initiateProcess=!1,this.getModel(this.selectedProcess.processId);let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.dataValidation(this.selectedProcess.processId,!1),"https://edmsuat.sobhaapps.com"===t&&55===this.workflow.id&&(this.formEditAccess=!0),this.loadProcessLinks()}this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),await this.getForm(t,this.workflow.wFormId))},async getFormDetails(){this.$store.commit("showLoadingBarPage");let t=this.selectedProcess.requestNo;const{error:e,payload:i}=await l["o"].getWorkflowData(this.selectedProcess.id,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s}=i;this.$store.commit("hideLoadingBarPage");let a=s||[];if(a[0].value[0].formData){let t=Object.keys(a[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(a[0].value[0].formData.fields[t])}),this.requestFormData=a,this.formModel=a[0].value[0].formData.fields}e&&this.$alert.error(e)},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await l["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else{if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}this.$emit("attachmentLength",this.attachmentList.length)}},async getForm(t){const{error:e,payload:i}=await l["g"].getForm(this.formId);if(e)this.$alert.error(e);else if(i){this.wform=i,this.form=JSON.parse(this.wform.formJson),t||"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB");let e=JSON.parse(this.wform.formJson);const s=[...e.panels,...e.secondaryPanels];if(!s.length)return;let a=[];for(const t of s)a.push(...t.fields);a.forEach(t=>{"DIVIDER"===t.type||"LABEL"===t.type||"PARAGRAPH"===t.type||!t.label&&"TABLE"!==t.type||"DISABLE"===t.settings.general.visibility||this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings})}),this.sameFormFields=[],this.mainFormFields.forEach(t=>{let e=this.formFields.findIndex(e=>t.label===e.label);e>-1&&this.sameFormFields.push({id:this.$nano.id(),index:e,label:t.label,name:this.formFields[e].value,value:this.mainFormModel[t.value]})})}},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflow.id}/${t}`},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");return"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&action=all`:"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments.value=null},async showLinks(t){if("ATTACHMENTS"===t)this.showAttachmentSheet=!0;else if("COMMENTS"===t){if(this.displayInternalPublic=!1,!this.portal){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);e&&e.settings.initiateBy.indexOf("PORTAL")>-1&&(this.displayInternalPublic=!0),this.fileNames=[],this.fileNames=this.attachmentList.filter(t=>{let e=t.name.split(".").pop().toUpperCase();return"pdf"===e.toLowerCase()}).map(t=>({id:this.$nano.id(),label:t.name,value:t.id}))}this.showCommentsSheet=!0}else"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},validateType(t){let e="";return this.panels&&this.panels.length&&this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},async getFileData(t,e){const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:n}=await l["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(n),this.jiraCommentAction=1},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflow.id),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),this.formData=a,e?(a.append("fields",e),this.formData=e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const n=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+n),o=t[0].name+"."+n}if(!Object(p["a"])(n))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const n=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+n),o=t[0].name+"."+n}else a.append("filename",o);if(!Object(p["a"])(n))return void this.$alert.info("This file format is not supported");try{const i=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:r,data:l}=i;if(200!==r)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let h=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),d=this.fileData.find(t=>t.name===h.name),p=!1;"pdf"!==n.toLowerCase()&&(p=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?d.value+"."+n:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:p}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async uploadWflowAttachments(t){if(this.fileUploadForControl=!1,"STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;this.showMetaDataEditModal=!0}else this.uploadAttachments(t)},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflow.id||2092===this.workflow.id)&&0===this.attachmentList.length},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},toggleWidth(){this.formWidth="100vw"===this.formWidth?"50vw":"100vw"},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})),this.$emit("commentsLength",this.commentsList.length))},async saveComment(){if(this.commentText)if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)});this.actionComments&&this.processRequest(!1,!1)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(m["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(p["d"])(e))s="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="";"inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(i="&action=all");let s="";if(Object(p["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(p["c"])(e)?t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${i}`}}},closeTaskSheet(){this.taskSheet=!1},closeJiraIssueSheet(){this.issueName="",this.projectKey="",this.issueType="",this.issueDescription="",this.issueEpicValue="",this.issueAssignee="",this.issueDescriptionTable=!1,this.issueDescriptionFields=[],this.jiraIssueSheet=!1},loadProcessLinks(){this.getComments(),this.getAttachments(),this.getProcessSignature(),this.getMailTransactions()},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await l["t"].getProcessSignature(this.workflow.id,this.selectedProcess.processId);t?this.$alert.error(t):this.signList=e},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length-1)}),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await l["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getAppConnection(){this.jiraConnect=!1;const{error:t,payload:e}=await l["j"].getJiraConnection({filterBy:[]});t?this.$alert.error(t):e.forEach(t=>{"jira"===t.cloudName&&(this.jiraConnect=!0,this.jiraAccounts.push(t))})},async createJiraIssue(){this.issueRef={};const t=await this.$refs.form.validate();if(!t)return;let e=[],i="",s="",a=0;this.groupKey.forEach(t=>{if(t.checked)return e=[],void(i=t.name)}),""===i&&(this.workflowRequestList.forEach(t=>{t.checked&&e.push(t.transactionId)}),this.issueDescriptionTable&&(s="||Action Taken (Mandatory)",this.issueDescriptionFields.forEach(t=>{s+="||"+t}),s+="||\n",this.workflowRequestList.forEach(t=>{t.checked&&(s+="|| ",this.issueDescriptionFields.forEach(e=>{var i;let o=null===(i=this.formFields.find(t=>t.label===e))||void 0===i?void 0:i.value;"Savings"===e?t.formData.fields[o]?(s+="||"+Number(t.formData.fields[o]).toFixed(2),a+=Number(t.formData.fields[o])):s+="|| ":t.formData.fields[o]?s+="||"+t.formData.fields[o]:s+="|| "}),s+="||\n")}),s+="Potential Savings: "+a.toFixed(2)+"\n"));let o={};o=this.jiraAccounts[0].email?{fields_cloud:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:{content:[{content:[{text:this.issueDescription+s,type:"text"}],type:"paragraph"}],type:"doc",version:1}}},cloudIntegrationId:this.jiraAccounts[0].id}:{fields_onpremise:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:this.issueDescription+s,customfield_14635:{value:"No"},customfield_15136:{value:"Maintenance"}}},cloudIntegrationId:this.jiraAccounts[0].id,workflowId:this.workflow.id,transactionId:e,mlPrediction:i,assignee:this.issueAssignee?{name:this.issueAssignee}:{},filterBy:this.filterBy},this.$store.commit("showLoadingBar");const{error:n,payload:r}=await l["j"].createJiraIssue(o);if(this.$store.commit("hideLoadingBar"),n){this.$alert.warning("error creating issue in jira");let t=JSON.parse(n);return console.log(t),this.errorMessage=t.errorMessages,void(this.errorModal=!0)}if(i)this.successModal=!0;else{if(!r)return void this.$alert.warning("error creating issue in jira");this.issueRef=JSON.parse(r),this.issueRef.self=this.getJIRALink(this.issueRef),this.$alert.success("Issue Created in JIRA"),this.jiraConfirmModal=!0}this.closeJiraIssueSheet()},async insertJiraIssueComment(){var t,e;let i="",s="";if(i=null===(t=this.formFields.find(t=>"Reference ID"===t.label))||void 0===t?void 0:t.value,s=null===(e=this.formFields.find(t=>"Remarks"===t.label))||void 0===e?void 0:e.value,this.workflowFormModel[i]&&this.workflowFormModel[s]){this.$store.commit("showLoadingBar");let t={};t=this.jiraAccounts[0].email?{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_cloud:{body:this.workflowFormModel[s]}}:{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_onpremise:{body:this.workflowFormModel[s]}};const{error:e,payload:a}=await l["j"].insertJiraIssueComments(t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);console.log(a)}},async getJiraUsers(){this.issueAssigneeUsers=[];const{error:t,payload:e}=await l["j"].getJiraUsers({cloudIntegrationId:this.jiraAccounts[0].id});t?this.$alert.error(t):e.length&&e.forEach(t=>{this.issueAssigneeUsers.push({id:t.key,label:t.displayName,value:t.name})})},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy));let a=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let e=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&e.push(t.fileId)}),e.length&&a.push({jsonId:t.value,fileIds:e}),delete this.workflowFormModel[t.value]}}),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel,formUpload:a},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},this.saveOnly||this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.saveOnly||this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),this.saveOnly?this.saveOnly=!1:(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.customReply=!1,this.userReply=!1,this.toRequester=!1,this.closeProcessSheet()),this.fileControlDeleteFile.length&&(this.fileControlDeleteFile.forEach(t=>{this.fileControlDeletedFile(t)}),this.fileControlDeleteFile=[]))},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{if(this.documentRequired&&0===this.attachmentList.length)return this.$alert.warning("A minimum of one document is required for submission"),this.saveAction="",void(this.workflowFormModel={});let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.initiateProcess?this.initiateRequest():this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},async groupProcessRequest(){let t=[],e="";this.workflowRequestList.forEach(e=>{e.key===this.groupActionKey&&e.checked&&t.push(e.transactionId)}),this.groupKey.forEach(i=>{if(i.checked)return t=[],void(e=i.name)});let i={workflowId:this.workflow.id,transactionId:t,review:"Save"===this.saveAction?"":this.saveAction,fields:this.workflowFormModel,mlPrediction:e,comments:this.commentText,userIds:this.forwardUsers,groupIds:this.forwardGroups,filterBy:this.filterBy};const{error:s}=await l["t"].groupRequestAction(i);this.$store.commit("hideLoadingBar"),s?this.$alert.error(s):(await this.insertJiraIssueComment(),this.saveAction="",this.workflowFormModel={},this.forwardUsers=[],this.forwardGroups=[],this.$alert.success("Group Request Processed"),this.closeRequestActionModal(),this.$emit("refresh",this.workflow.id))},async initiateRequest(){let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)});let e=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let i=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&i.push(t.fileId)}),i.length&&e.push({jsonId:t.value,fileIds:i}),delete this.workflowFormModel[t.value]}});let i={workflowId:this.workflow.id,review:"Save"===this.saveAction?"":this.saveAction,comments:this.commentsList,formData:{formId:this.formId,fields:this.workflowFormModel,formUpload:e},fileIds:t,task:this.taskEntryId,hasFormPDF:this.generatePDF,prefix:this.requestPrefix,mlPrediction:this.mlPrediction};this.$store.commit("showLoadingBarSave");const{error:s,payload:a}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.workflowFormModel={},this.alertModal=!1,s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(a),this.$alert.success(a.requestNo+" Request Initiated"),this.mainProcessId?this.addSubWorkflowProcess(a.processId):this.$emit("update:subProcessId",a.processId),this.closeProcessSheet())},saveMetaData(t){let e=[];if(this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(F["a"])(e.label)===Object(F["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.fileUploadForControl){this.metaDataModal=t;let i=this.fileUploadInput;this.uploadFilesFromForm(i.files,i.control,i.fieldId,JSON.stringify(e))}else this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",n="",r="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":n=s[0][t.id];break;case"Priority":r=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:n,priority:r,status:l})}},async getTaskList(){this.taskEntries=[];const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",n="",r="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":n=t.entryInfo[0][i.id];break;case"Task Status":r=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:n,status:r})})}},async insertTaskEntry(t,e){const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});i?this.$alert.error(i):this.getTaskList()},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},async uploadFile(t){const e=t.target.files[0];if("text/csv"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type){const s=new FormData;s.append("formId",this.masterFormId),s.append("file",e);try{this.$store.commit("showLoadingBarSave");const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/form/uploadMasterFile",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBarSave");const{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Data imported successfully")}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.dataImported=!0,t.target.value=""}else this.$alert.error("Please upload a csv/excel file")},async addSubWorkflowProcess(t){let e={mainWorkflowId:this.mainWorkflowId,subWorkflowId:this.workflowId,mainProcessId:this.mainProcessId,subProcessId:t,subProcessStatus:0,review:""};const{error:i}=await l["t"].addSubWorkflow(e);i?this.$alert.error(i):this.updateSubWorkflowProcess()},getModel(t){if(this.formModel={},this.itemModel={},console.log(this.selectedProcess.processId,t,this.selectedProcess.id,this.workflow.id),this.selectedProcess.processId==t&&this.selectedProcess.id==this.workflow.id)if(this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stageName}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData)},async dataValidation(t,e=!0){const{error:i,payload:s}=await l["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:t}],groupCondition:""}],mode:"BROWSE"});i?this.$alert.error(i):s.length?(this.dataValidationValues=s,e&&(this.dataValidationModal=!0)):(this.dataValidationValues=[],e&&this.$alert.info("Data not found"))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(p["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async updateSubWorkflowProcess(){const{error:t,payload:e}=await l["q"].updateSubWorkflowProcess(this.mainWorkflowId,this.$store.state.session.tenantId,this.workflowId);t?this.$alert.error(t):console.log(e)},async uploadFilesFromForm(t,e,i,s){this.formUploadFiles=[];const a=new FormData;let o=[];if(e&&e.length&&e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&o.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t)if(e.name&&!e.error){a.append("repositoryId",this.workflow.repositoryId),a.append("file",e),a.append("filename",e.name),o.length&&a.append("formFields",JSON.stringify(o)),s?a.append("fields",s):a.append("fields","");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),this.workflowModel[i][a].uploadedPercentage=s)}.bind(this)}),{status:s,data:o}=t;if(200!==s)throw"Invalid response";e.createdAt=this.$day.newDateTime(),e.createdBy=this.$store.state.session.email;let n=JSON.parse(o);e.fileId=n.fileId,e.fieldId=i}catch(n){console.error(n),this.$alert.error("error attaching file")}}let r=Array.from(t);this.formUploadFiles=[];for(let t of r)if(t.name){const e=await Object(_["a"])(t);this.formUploadFiles.push({name:t.name,size:t.size,file:e,fileId:t.fileId,createdBy:t.createdBy,createdAt:t.createdAt,workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,fieldId:t.fieldId})}e.forEach(t=>{let e=this.readonlyControls.findIndex(e=>e===t);e>=0&&this.readonlyControls.splice(e,1)}),this.$store.commit("hideLoadingBarSave")}},mandatoryControlsList(t){this.mandatory=t},deletedFiles(t){this.fileControlDeleteFile.push(t)},async fileControlDeletedFile(t){this.$store.commit("showLoadingBar");let e=[];t.forEach(t=>{t.id&&e.push(t.id)});let i={ids:e,formInfo:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,jsonId:t[0].jsonId}};const{error:s}=await l["p"].fileControlDeleteFile(this.workflow.repositoryId,i);this.$store.commit("hideLoadingBar"),s&&this.$alert.error(s)},async checkFormValidation(){this.hasCheckFormValidate=!0},async getOCRResult(t,e,i){const s=new FormData;let a=[];if(e&&e.length){if(e.forEach(t=>{this.readonlyControls.push(t)}),e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&a.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t){if(e.name&&!e.error){s.append("repositoryId",this.workflow.repositoryId),s.append("file",e),a.length&&s.append("formFields",JSON.stringify(a));try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/uploadforStaticMetadata",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),100!==s&&(this.workflowModel[i][a].uploadedPercentage=s))}.bind(this)}),{status:a,data:o}=t;if(200!==a)throw"Invalid response";let n=Object(D["a"])(o,this.$store.state.identity.key,this.$store.state.identity.iv),r=JSON.parse(n),l=JSON.parse(r),c=JSON.parse(l);Array.isArray(c)&&c.forEach(t=>{let e=this.formFields.find(e=>e.label===t.name);e&&t.value&&(this.workflowModel[e.value]=t.value)})}catch(o){console.error(o),this.$alert.error("error on get ocr result")}}this.workflowModel[i].findIndex(t=>t.name===e.name)}this.$store.commit("hideLoadingBarSave"),this.uploadFileForControl(t,e,i)}}else this.uploadFileForControl(t,e,i)},async uploadFileForControl(t,e,i){if(this.fileUploadInput={files:t,control:e,fieldId:i},"STATIC"===this.repositoryDetails.fieldsType){if(this.fileUploadForControl=!1,this.customCheckUpload()){let t=this.formFields.find(t=>"Document No"===t.label);t&&(this.uploadFilename=this.workflowModel[t.value]+".pdf")}this.fileUploadForControl=!0,this.showMetaDataEditModal=!0}else this.uploadFilesFromForm(t,e,i)},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await l["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})}}},z=R,$=(i("e98d"),i("5ab0"),i("2877")),V=i("58ea"),H=i("4e73"),W=i("b047"),j=i("cb32"),q=i("8169"),X=i("93dc"),Y=i.n(X),G=Object($["a"])(z,s,a,!1,null,"5b96b9ec",null);e["a"]=G.exports;Y()(G,"components",{QCircularProgress:V["a"],QMenu:H["a"],QChip:W["a"],QAvatar:j["a"],QChatMessage:q["a"]})},4759:function(t,e,i){},"4aa3":function(t,e,i){},"4d38":function(t,e,i){},"4ddc":function(t,e,i){},5042:function(t,e,i){},"50ff":function(t,e,i){},5132:function(t,e,i){"use strict";var s=i("2250"),a=i("4dc8");function o(t,e){e=Object(s["a"])(e,t);var i=0,o=e.length;while(null!=t&&i<o)t=t[Object(a["a"])(e[i++])];return i&&i==o?t:void 0}e["a"]=o},"55ff":function(t,e,i){"use strict";i("9db8")},"56e0":function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Series/NodesComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:i,prototype:{pointClass:{prototype:s}}}}=t,{defined:a,extend:o,find:n,merge:r,pick:l}=e;var c;return function(t){function c(){return this.data=[].concat(this.points||[],this.nodes),i.destroy.apply(this,arguments)}function h(){this.nodes&&(this.nodes.forEach(t=>{t.destroy()}),this.nodes.length=0),i.setData.apply(this,arguments)}function d(t){const e=arguments,i=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==t&&i.forEach(t=>{t&&t.series&&(s.setState.apply(t,e),t.isNode||(t.fromNode.graphic&&s.setState.apply(t.fromNode,e),t.toNode&&t.toNode.graphic&&s.setState.apply(t.toNode,e)))}),s.setState.apply(this,e)}function u(t,e,i,a){const o=this.series.options.nodes,n=this.series.options.data,c=n&&n.length||0,h=n&&n[this.index];s.update.call(this,t,!this.isNode&&e,i,a),this.isNode&&(t=(o||[]).reduce((t,e,i)=>this.id===e.id?i:t,-1),a=r(o&&o[t]||{},n&&n[this.index]||{}),n&&(h?n[this.index]=h:n.length=c),o?0<=t?o[t]=a:o.push(a):this.series.options.nodes=[a],l(e,!0)&&this.series.chart.redraw(i))}const p=[];t.compose=function(t,i){return e.pushUnique(p,t)&&(t=t.prototype,t.setNodeState=d,t.setState=d,t.update=u),e.pushUnique(p,i)&&(t=i.prototype,t.destroy=c,t.setData=h),i},t.createNode=function(t){const e=this.pointClass;var i=(t,e)=>n(t,t=>t.id===e);let s=i(this.nodes,t);if(!s){i=this.options.nodes&&i(this.options.nodes,t);const a=(new e).init(this,o({className:"highcharts-node",isNode:!0,id:t,y:1},i));a.linksTo=[],a.linksFrom=[],a.getSum=function(){let t=0,e=0;return a.linksTo.forEach(e=>{t+=e.weight||0}),a.linksFrom.forEach(t=>{e+=t.weight||0}),Math.max(t,e)},a.offset=function(t,e){let i=0;for(let s=0;s<a[e].length;s++){if(a[e][s]===t)return i;i+=a[e][s].weight}},a.hasShape=function(){let t=0;return a.linksTo.forEach(e=>{e.outgoing&&t++}),!a.linksTo.length||t!==a.linksTo.length},a.index=this.nodes.push(a)-1,s=a}return s.formatPrefix="node",s.name=s.name||s.options.id||"",s.mass=l(s.options.mass,s.options.marker&&s.options.marker.radius,this.options.marker&&this.options.marker.radius,4),s},t.destroy=c,t.generatePoints=function(){const t=this.chart,e={};i.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(t=>{t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level}),this.points.forEach(i=>{a(i.from)&&(e[i.from]||(e[i.from]=this.createNode(i.from)),e[i.from].linksFrom.push(i),i.fromNode=e[i.from],t.styledMode?i.colorIndex=l(i.options.colorIndex,e[i.from].colorIndex):i.color=i.options.color||e[i.from].color),a(i.to)&&(e[i.to]||(e[i.to]=this.createNode(i.to)),e[i.to].linksTo.push(i),i.toNode=e[i.to]),i.name=i.name||i.id},this),this.nodeLookup=e},t.setNodeState=d,t.updateNode=u}(c||(c={})),c})),e(t,"Series/Sankey/SankeyPoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){({seriesTypes:{column:e}}=e);const{defined:s}=i;class a extends e.prototype.pointClass{constructor(){super(...arguments),this.toNode=this.series=this.options=this.nodeY=this.nodeX=this.mass=this.linksTo=this.linksFrom=this.linkBase=this.level=this.fromNode=this.className=void 0}applyOptions(e,i){return t.prototype.applyOptions.call(this,e,i),s(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+t.prototype.getClassName.call(this)}getFromNode(){let t,e=-1;for(let i=0;i<this.linksTo.length;i++){const s=this.linksTo[i];s.fromNode.column>e&&s.fromNode!==this&&(t=s.fromNode,e=t.column)}return{fromNode:t,fromColumn:e}}setNodeColumn(){s(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"===typeof this.weight}}return a})),e(t,"Series/Sankey/SankeySeriesDefaults.js",[],(function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} → {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}})),e(t,"Series/Sankey/SankeyColumnComposition.js",[t["Core/Utilities.js"]],(function(t){const{defined:e,relativeLength:i}=t;var s;return function(t){t.compose=function(t,e){return t.sankeyColumn=new s(t,e),t};class s{constructor(t,e){this.points=t,this.series=e}getTranslationFactor(t){const e=this.points,i=e.slice(),s=t.options.minLinkWidth||0;let a,o=0,n=(t.chart.plotSizeY||0)-(t.options.borderWidth||0)-(e.length-1)*t.nodePadding;for(;e.length;){for(o=n/e.sankeyColumn.sum(),t=!1,a=e.length;a--;)e[a].getSum()*o<s&&(e.splice(a,1),n-=s,t=!0);if(!t)break}return e.length=0,i.forEach(t=>{e.push(t)}),o}top(t){const e=this.series,i=e.nodePadding,s=this.points.reduce((function(s,a){return 0<s&&(s+=i),a=Math.max(a.getSum()*t,e.options.minLinkWidth||0),s+a}),0);return((e.chart.plotSizeY||0)-s)/2}left(t){const e=this.series,i=e.chart,s=e.options.equalNodes,a=i.inverted?i.plotHeight:i.plotWidth,o=e.nodePadding,n=this.points.reduce((function(i,n){return 0<i&&(i+=o),n=s?a/n.series.nodes.length-o:Math.max(n.getSum()*t,e.options.minLinkWidth||0),i+n}),0);return((i.plotSizeX||0)-Math.round(n))/2}sum(){return this.points.reduce((function(t,e){return t+e.getSum()}),0)}offset(t,s){const a=this.points,o=this.series,n=o.nodePadding;let r=0;if(o.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(let c=0;c<a.length;c++){var l=a[c].getSum();const h=Math.max(l*s,o.options.minLinkWidth||0),d=t.options[o.chart.inverted?"offsetHorizontal":"offsetVertical"],u=t.options.offset||0;if(l=l?h+n:0,a[c]===t)return{relativeTop:r+(e(d)?i(d,h):i(u,l))};r+=l}}}t.SankeyColumnAdditions=s}(s||(s={})),s})),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){function i(t,e){var a=e.before;const o=e.idRoot,n=e.mapIdToNode[o],r=e.points[t.i],c=r&&r.options||{},h=[];let d=0;return t.levelDynamic=t.level-(!1!==e.levelIsConstant?0:n.level),t.name=l(r&&r.name,""),t.visible=o===t.id||!0===e.visible,"function"===typeof a&&(t=a(t,e)),t.children.forEach((a,o)=>{const n=s({},e);s(n,{index:o,siblings:t.children.length,visible:t.visible}),a=i(a,n),h.push(a),a.visible&&(d+=a.val)}),a=l(c.value,d),t.visible=0<=a&&(0<d||t.visible),t.children=h,t.childrenTotal=d,t.isLeaf=t.visible&&!d,t.val=a,t}const{extend:s,isArray:a,isNumber:o,isObject:n,merge:r,pick:l}=e;return{getColor:function(e,i){const s=i.index;var a=i.mapOptionsToLevel;const o=i.parentColor,n=i.parentColorIndex,r=i.series;var c=i.colors;const h=i.siblings;var d=r.points,u=r.chart.options.chart;let p;var m;let f;if(e){if(d=d[e.i],e=a[e.level]||{},a=d&&e.colorByPoint){p=d.index%(c?c.length:u.colorCount);var g=c&&c[p]}r.chart.styledMode||(c=d&&d.options.color,u=e&&e.color,(m=o)&&(m=(m=e&&e.colorVariation)&&"brightness"===m.key&&s&&h?t.parse(o).brighten(s/h*m.to).get():o),m=l(c,u,g,m,r.color)),f=l(d&&d.options.colorIndex,e&&e.colorIndex,p,n,i.colorIndex)}return{color:m,colorIndex:f}},getLevelOptions:function(t){let e,i,s,c={};if(n(t)){s=o(t.from)?t.from:1;var h=t.levels;for(i={},e=n(t.defaults)?t.defaults:{},a(h)&&(i=h.reduce((t,i)=>{let a,c;return n(i)&&o(i.level)&&(c=r({},i),a=l(c.levelIsConstant,e.levelIsConstant),delete c.levelIsConstant,delete c.level,i=i.level+(a?0:s-1),n(t[i])?r(!0,t[i],c):t[i]=c),t},{})),h=o(t.to)?t.to:1,t=0;t<=h;t++)c[t]=r({},e,n(i[t])?i[t]:{})}return c},setTreeValues:i,updateRootId:function(t){if(n(t)){var e=n(t.options)?t.options:{};e=l(t.rootNode,e.rootId,""),n(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Series/Sankey/SankeySeries.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Series/NodesComposition.js"],t["Series/Sankey/SankeyPoint.js"],t["Series/Sankey/SankeySeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Sankey/SankeyColumnComposition.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r,l){const{series:c,seriesTypes:{column:h}}=o,{getLevelOptions:d}=r,{extend:u,isObject:p,merge:m,pick:f,relativeLength:g,stableSort:v}=l;class y extends h{constructor(){super(...arguments),this.translationFactor=this.points=this.options=this.nodeWidth=this.nodes=this.nodePadding=this.nodeLookup=this.group=this.data=this.colDistance=void 0}static getDLOptions(t){const e=p(t.optionsPoint)?t.optionsPoint.dataLabels:{};return t=p(t.level)?t.level.dataLabels:{},m({style:{}},t,e)}createNodeColumns(){const t=[];this.nodes.forEach((function(e){e.setNodeColumn(),t[e.column]||(t[e.column]=n.compose([],this)),t[e.column].push(e)}),this);for(let e=0;e<t.length;e++)"undefined"===typeof t[e]&&(t[e]=n.compose([],this));return t}order(t,e){const i=this;"undefined"===typeof t.level&&(t.level=e,t.linksFrom.forEach((function(t){t.toNode&&i.order(t.toNode,e+1)})))}generatePoints(){i.generatePoints.apply(this,arguments);const t=this;this.orderNodes&&(this.nodes.filter((function(t){return 0===t.linksTo.length})).forEach((function(e){t.order(e,0)})),v(this.nodes,(function(t,e){return t.level-e.level})))}getNodePadding(){let t=this.options.nodePadding||0;if(this.nodeColumns){const e=this.nodeColumns.reduce((t,e)=>Math.max(t,e.length),0);e*t>this.chart.plotSizeY&&(t=this.chart.plotSizeY/e)}return t}hasData(){return!!this.processedXData.length}pointAttribs(e,i){if(!e)return{};const s=this,a=s.mapOptionsToLevel[(e.isNode?e.level:e.fromNode.level)||0]||{},o=e.options,n=a.states&&a.states[i||""]||{};i=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((function(t,e){return t[e]=f(n[e],o[e],a[e],s.options[e]),t}),{});const r=f(n.color,o.color,i.colorByPoint?e.color:a.color);return e.isNode?{fill:r,stroke:i.borderColor,"stroke-width":i.borderWidth,opacity:i.opacity}:{fill:t.parse(r).setOpacity(i.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=g(this.options.nodeWidth,this.chart.plotSizeX);const t=this,e=this.chart,i=this.options,s=this.nodeWidth,a=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=a.reduce((e,i)=>Math.min(e,i.sankeyColumn.getTranslationFactor(t)),1/0),this.colDistance=(e.plotSizeX-s-i.borderWidth)/Math.max(1,a.length-1),t.mapOptionsToLevel=d({from:1,levels:i.levels,to:a.length-1,defaults:{borderColor:i.borderColor,borderRadius:i.borderRadius,borderWidth:i.borderWidth,color:t.color,colorByPoint:i.colorByPoint,levelIsConstant:!0,linkColor:i.linkColor,linkLineWidth:i.linkLineWidth,linkOpacity:i.linkOpacity,states:i.states}}),a.forEach((function(e){e.forEach((function(i){t.translateNode(i,e)}))}),this),this.nodes.forEach((function(e){e.linksFrom.forEach((function(e){(e.weight||e.isNull)&&e.to&&(t.translateLink(e),e.allowShadow=!1)}))}))}translateLink(t){var e=(e,i)=>(i=e.offset(t,i)*o,Math.min(e.nodeY+i,e.nodeY+(e.shapeArgs&&e.shapeArgs.height||0)-n));let i=t.fromNode;var s=t.toNode;let a=this.chart,o=this.translationFactor,n=Math.max(t.weight*o,this.options.minLinkWidth);var r=(a.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor;let l=e(i,"linksFrom");e=e(s,"linksTo");let c=i.nodeX,h=this.nodeWidth;s=s.nodeX;var d=t.outgoing,u=s>c+h;if(a.inverted&&(l=a.plotSizeY-l,e=(a.plotSizeY||0)-e,h=-h,n=-n,u=c>s),t.shapeType="path",t.linkBase=[l,l+n,e,e+n],u&&"number"===typeof e)t.shapeArgs={d:[["M",c+h,l],["C",c+h+r,l,s-r,e,s,e],["L",s+(d?h:0),e+n/2],["L",s,e+n],["C",s-r,e+n,c+h+r,l+n,c+h,l+n],["Z"]]};else if("number"===typeof e){r=s-20-n,d=s-20,u=c+h;const i=u+20,o=i+n,p=l,m=l+n,f=m+20,g=f+(a.plotHeight-l-n),v=g+20,y=v+n,b=e,x=b+n,w=x+20,k=v+.7*n,C=s-.7*n,S=u+.7*n;t.shapeArgs={d:[["M",u,p],["C",S,p,o,m-.7*n,o,f],["L",o,g],["C",o,k,S,y,u,y],["L",s,y],["C",C,y,r,k,r,g],["L",r,w],["C",r,x-.7*n,C,b,s,b],["L",s,x],["C",d,x,d,x,d,w],["L",d,g],["C",d,v,d,v,s,v],["L",u,v],["C",i,v,i,v,i,g],["L",i,f],["C",i,m,i,m,u,m],["Z"]]}}t.dlBox={x:c+(s-c+h)/2,y:l+(e-l)/2,height:n,width:0},t.tooltipPos=a.inverted?[a.plotSizeY-t.dlBox.y-n/2,a.plotSizeX-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+n/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=i.color)}translateNode(t,e){var i=this.translationFactor;const s=this.chart,a=this.options,{borderRadius:o,borderWidth:n=0}=a;var r=t.getSum();const l=Math.max(Math.round(r*i),this.options.minLinkWidth),c=Math.round(this.nodeWidth);var h=Math.round(n)%2/2,d=e.sankeyColumn.offset(t,i);if(e=Math.floor(f(d.absoluteTop,e.sankeyColumn.top(i)+d.relativeTop))+h,h=Math.floor(this.colDistance*t.column+n/2)+g(t.options.offsetHorizontal||0,c)+h,h=s.inverted?s.plotSizeX-h:h,t.sum=r){t.shapeType="roundedRect",t.nodeX=h,t.nodeY=e,r=h,i=e,d=t.options.width||a.width||c;let n=t.options.height||a.height||l;const u=g("object"===typeof o?o.radius:o||0,d);s.inverted&&(r=h-c,i=s.plotSizeY-e-l,d=t.options.height||a.height||c,n=t.options.width||a.width||l),t.dlOptions=y.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options}),t.plotX=1,t.plotY=1,t.tooltipPos=s.inverted?[s.plotSizeY-i-n/2,s.plotSizeX-r-d/2]:[r+d/2,i+n/2],t.shapeArgs={x:r,y:i,width:d,height:n,r:u,display:t.hasShape()?"":"none"}}else t.dlOptions={enabled:!1}}}return y.defaultOptions=m(h.defaultOptions,a),i.compose(s,y),u(y.prototype,{animate:c.prototype.animate,createNode:i.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:s,searchPoint:e.noop}),o.registerSeriesType("sankey",y),y})),e(t,"masters/modules/sankey.src.js",[],(function(){}))}))},"5ab0":function(t,e,i){"use strict";i("a945")},"5d0b":function(t,e,i){},"5e23":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":!0,"has-footer":"",width:"650px"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Document Sharing By Email")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"document-sharing-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("BaseScrollbar",{attrs:{height:"calc(100vh - 170px)"}},[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"to",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"to","is-mandatory":"","new-option":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("ValidationProvider",{attrs:{name:"subject",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"subject","is-mandatory":"",error:i[0]},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})]}}])}),"attach link"===t.tab?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm"},[e("ValidationProvider",{attrs:{name:"Expiry from Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry from Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})]}}],null,!1,714078504)})],1),e("div",{staticClass:"col-6 q-pl-sm"},[e("ValidationProvider",{attrs:{name:"Expiry to Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry to Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})]}}],null,!1,738413864)})],1)])]:t._e(),t._l(t.fileList,(function(i){return[e("q-chip",{key:i.id,staticClass:"chips secondary-hover cursor-pointer",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{attrs:{icon:"mdi-file",color:"secondary","text-color":"white"},on:{click:function(e){return t.remove(i.id)}}}),t._v(" "+t._s(i.name)+" "),e("q-avatar",{staticClass:"close-icon",attrs:{icon:"mdi-close","text-color":"red"},on:{click:function(e){return t.remove(i.id)}}})],1)]})),e("TextBuilderField",{model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],2)])],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:function(e){return t.$emit("input",!1)}}}),e("BaseButton",{attrs:{label:"send"},on:{click:t.documentShare}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),n=i("381e"),r=i("b94d"),l=i("b3d1"),c=i("53c1"),h=i("c3d2"),d=i("695e"),u=i("1b0d"),p={name:"EmailSharing",components:{Sheet:n["a"],ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:l["a"],Tabs:r["a"],DateField:c["a"],MultiSelectField:h["a"],TextBuilderField:d["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},fileList:{type:Array,default:()=>[]}},data(){return{tab:"attach file",tabs:[{id:this.$nano.id(),label:"attach file",value:"attach file"},{id:this.$nano.id(),label:"attach link",value:"attach link"}],email:[],subject:"",body:"",fromDate:"",toDate:"",minimumFromDate:""}},created(){const t=new Date,e=t.toISOString().split("T")[0];this.minimumFromDate=e},methods:{clearFields(){this.tab="attach file",this.email=[],this.subject="",this.body="",this.fromDate="",this.toDate=""},remove(t){if(this.fileList.length>1){let e=this.fileList.filter(e=>e.id!=t);this.$emit("update:fileList",e)}else this.$alert.warning("Minimum one document is required")},async documentShare(){const t=await this.$refs.form.validate();if(!t)return;let e=[];if(this.fileList.forEach(t=>{e.push(t.id)}),"attach file"===this.tab){let t={repositoryId:this.repositoryId,itemIds:e,toAdd:this.email.toString(),subject:this.subject,body:this.body};const{error:i}=await u["k"].documentShare(t);if(i)return void this.$alert.error(i)}else if("attach link"===this.tab){if(this.toDate<this.fromDate)return void this.$alert.warning("ToDate Is Must Be Greater Than Or Equal To FromDate");let t={toAddress:this.email.toString(),subject:this.subject,body:this.body,expiryFromDate:this.fromDate,expiryTodate:this.toDate,repositoryId:this.repositoryId,itemIdArray:e};const{error:i}=await u["k"].documentShareLink(t);if(i)return void this.$alert.error(i)}this.$alert.success("Initiated Document Sharing by Email"),this.clearFields(),this.$emit("input",!1)}}},m=p,f=(i("5fab"),i("2877")),g=i("b047"),v=i("cb32"),y=i("93dc"),b=i.n(y),x=Object(f["a"])(m,s,a,!1,null,"2c37c0ea",null);e["a"]=x.exports;b()(x,"components",{QChip:g["a"],QAvatar:v["a"]})},"5f3d":function(t,e,i){},"5fab":function(t,e,i){"use strict";i("467fa")},"604f":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=3)}([function(t,e,i){var s=i(6)(i(1),i(7),null,null);t.exports=s.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i.n(s),o=i(2);e["default"]={props:{classname:{type:String,default:"vue-highcharts"},styles:{type:Object,default:function(){return{}}},options:Object,highcharts:Object},name:"VueHighcharts",data:function(){return{chart:null}},mounted:function(){!this.getChart()&&this.options&&this.init()},methods:{getChart:function(){return this.chart},addSeries:function(t){this.delegateMethod("addSeries",t)},removeSeries:function(){while(0!==this.getChart().series.length)this.getChart().series[0].remove()},mergeOption:function(t){this.delegateMethod("update",t)},showLoading:function(t){this.getChart().showLoading(t)},hideLoading:function(){this.getChart().hideLoading()},delegateMethod:function(t){var e;if(this.getChart()){for(var s=arguments.length,a=Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return(e=this.getChart())[t].apply(e,a)}i.i(o["a"])("Cannot call [$name] before the chart is initialized. Set prop [options] first.",this)},initHigcharts:function(t){},init:function(){if(!this.getChart()&&this.options){var t=this.highcharts||a.a;if("Highstock"===t.product)return void(this.chart=new t.stockChart(this.$el,this.options));if("Highmaps"===t.product)return void(this.chart=new t.mapChart(this.$el,this.options));this.chart=new t.Chart(this.$el,this.options)}}},watch:{options:function(t){!this.getChart()&&t?this.init():this.getChart().update(this.options)}},beforeDestroy:function(){this.getChart()&&this.getChart().destroy()}}},function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var s=function(){};if("production"!==t.env.NODE_ENV){var a="undefined"!==typeof console;s=function(t,e){a&&console.error("[Vue warn]: "+t+(e?n(o(e)):""))};var o=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return e?"component <"+e+">":"anonymous component"},n=function(t){return"anonymous component"===t&&(t+='-use the "name" option for better debugging messages.'),t}}}).call(e,i(5))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i.n(s);e["default"]=a.a},function(t,e){(function(e,i){"object"===typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)})("undefined"!==typeof window?window:this,(function(t){var e=function(){var e="undefined"===typeof t?window:t,i=e.document,s=e.navigator&&e.navigator.userAgent||"",a=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(s)&&!e.opera,n=-1!==s.indexOf("Firefox"),r=-1!==s.indexOf("Chrome"),l=n&&4>parseInt(s.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.1.1",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:o,isWebKit:-1!==s.indexOf("AppleWebKit"),isFirefox:n,isChrome:r,isSafari:!r&&-1!==s.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(s),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:a,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();(function(t){t.timers=[];var e=t.charts,i=t.doc,s=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);s.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],s=[],a=this.now,o=e.length;if(1===a)s=this.toD;else if(o===i.length&&1>a)for(;o--;)t=parseFloat(e[o]),s[o]=isNaN(t)?i[o]:a*parseFloat(i[o]-t)+t;else s=i;this.elem.attr("d",s,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)},run:function(e,i,a){var o=this,n=o.options,r=function(t){return!r.stopped&&o.step(t)},l=s.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=a,this.now=this.start,this.pos=0,r.elem=this.elem,r.prop=this.prop,r()&&1===t.timers.push(r)&&l(c)):(delete n.curAnim[this.prop],n.complete&&0===t.keys(n.curAnim).length&&n.complete.call(this.elem))},step:function(e){var i,s=+new Date,a=this.options,o=this.elem,n=a.complete,r=a.duration,l=a.curAnim;return o.attr&&!o.element?e=!1:e||s>=r+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,(function(t){!0!==t&&(i=!1)})),i&&n&&n.call(o),e=!1):(this.pos=a.easing((s-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,s){function a(t){var e,i;for(h=t.length;h--;)e="M"===t[h]||"L"===t[h],i=/[a-zA-Z]/.test(t[h+3]),e&&i&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,m);[].splice.apply(t,[0,0].concat(i)),g&&(i=t.slice(t.length-m),[].splice.apply(t,[t.length,0].concat(i)),h--)}t[0]="M"}function n(t,e){for(var i=(l-t.length)/m;0<i&&i--;)c=t.slice().splice(t.length/v-m,m*v),c[0]=e[l-m-i*m],p&&(c[m-6]=c[m-2],c[m-5]=c[m-1]),[].splice.apply(t,[t.length/v,0].concat(c)),g&&i--}i=i||"";var r,l,c,h,d=e.startX,u=e.endX,p=-1<i.indexOf("C"),m=p?7:3;i=i.split(" "),s=s.slice();var f,g=e.isArea,v=g?2:1;if(p&&(a(i),a(s)),d&&u){for(h=0;h<d.length;h++){if(d[h]===u[0]){r=h;break}if(d[0]===u[u.length-d.length+h]){r=h,f=!0;break}}void 0===r&&(i=[])}return i.length&&t.isNumber(r)&&(l=s.length+r*v*m,f?(o(i,s),n(s,i)):(o(s,i),n(i,s))),[i,s]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.merge=function(){var e,i,s=arguments,a={},o=function(e,i){return"object"!==typeof e&&(e={}),t.objectEach(i,(function(s,a){!t.isObject(s,!0)||t.isClass(s)||t.isDOMElement(s)?e[a]=i[a]:e[a]=o(e[a]||{},s)})),e};for(!0===s[0]&&(a=s[1],s=Array.prototype.slice.call(s,2)),i=s.length,e=0;e<i;e++)a=o(a,s[e]);return a},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"===typeof t},t.isArray=function(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t},t.isObject=function(e,i){return!!e&&"object"===typeof e&&(!i||!t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"===typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,s){var a;return t.isString(i)?t.defined(s)?e.setAttribute(i,s):e&&e.getAttribute&&((a=e.getAttribute(i))||"class"!==i||(a=e.getAttribute(i+"Name"))):t.defined(i)&&t.isObject(i)&&t.objectEach(i,(function(t,i){e.setAttribute(i,t)})),a},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,s=i.length;for(t=0;t<s;t++)if(e=i[t],void 0!==e&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,s,a,o,n){e=i.createElement(e);var r=t.css;return s&&t.extend(e,s),n&&r(e,{padding:0,border:"none",margin:0}),a&&r(e,a),o&&o.appendChild(e),e},t.extendClass=function(e,i){var s=function(){};return s.prototype=new e,t.extend(s.prototype,i),s},t.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var s=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,a=this;return a.proceed=function(){s.apply(a,arguments.length?arguments:e)},t.unshift(s),t=i.apply(this,t),a.proceed=null,t}},t.formatSingle=function(e,i,s){var a=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(s=(s=e.match(a))?s[1]:-1,null!==i&&(i=t.numberFormat(i,s,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):i=(s||t.time).dateFormat(e,i),i},t.format=function(e,i,s){for(var a,o,n,r,l,c="{",h=!1,d=[];e;){if(c=e.indexOf(c),-1===c)break;if(a=e.slice(0,c),h){for(a=a.split(":"),o=a.shift().split("."),r=o.length,l=i,n=0;n<r;n++)l&&(l=l[o[n]]);a.length&&(l=t.formatSingle(a.join(":"),l,s)),d.push(l)}else d.push(a);e=e.slice(c+1),c=(h=!h)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,s,a,o){var n,r=e;for(s=t.pick(s,1),n=e/s,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===s?i=t.grep(i,(function(t){return 0===t%1})):.1>=s&&(i=[1/s]))),a=0;a<i.length&&(r=i[a],!(o&&r*s>=e||!o&&n<=(i[a]+(i[a+1]||i[a]))/2));a++);return t.correctFloat(r*s,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,s,a=t.length;for(s=0;s<a;s++)t[s].safeI=s;for(t.sort((function(t,s){return i=e(t,s),0===i?t.safeI-s.safeI:i})),s=0;s<a;s++)delete t[s].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,(function(t,s){t&&t!==i&&t.destroy&&t.destroy(),delete e[s]}))},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,s,a){e=+e||0,i=+i;var o,n,r=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===i?i=Math.min(l,20):t.isNumber(i)?i&&c[1]&&0>c[1]&&(o=i+ +c[1],0<=o?(c[0]=(+c[0]).toExponential(o).split("e")[0],i=o):(c[0]=c[0].split(".")[0]||0,e=20>i?(c[0]*Math.pow(10,c[1])).toFixed(i):0,c[1]=0)):i=2,n=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),l=String(t.pInt(n)),o=3<l.length?l.length%3:0,s=t.pick(s,r.decimalPoint),a=t.pick(a,r.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+a:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+a),i&&(e+=s+n.slice(-i)),c[1]&&0!==+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,a){return"width"===i?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(s.getComputedStyle||t.error(27,!0),(e=s.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(a,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i,s){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e,s)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]},t.some=function(e,i,s){return(t.somePolyfill||Array.prototype.some).call(e,i,s)},t.map=function(t,e){for(var i=[],s=0,a=t.length;s<a;s++)i[s]=e.call(t[s],t[s],s,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,s){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[i,s]:[i])},t.offset=function(t){var e=i.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(s.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(s.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var s=t.timers.length;s--;)t.timers[s].elem!==e||i&&i!==t.timers[s].prop||(t.timers[s].stopped=!0)},t.each=function(e,i,s){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,s)},t.objectEach=function(t,e,i){for(var s in t)t.hasOwnProperty(s)&&e.call(i||t[s],t[s],s,t)},t.addEvent=function(e,i,s,a){var o,n=e.addEventListener||t.addEventListenerPolyfill;return o="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),n&&n.call(e,i,s,!1),o[i]||(o[i]=[]),o[i].push(s),a&&t.isNumber(a.order)&&(s.order=a.order,o[i].sort((function(t,e){return t.order-e.order}))),function(){t.removeEvent(e,i,s)}},t.removeEvent=function(e,i,s){function a(i,s){var a=e.removeEventListener||t.removeEventListenerPolyfill;a&&a.call(e,i,s,!1)}function o(s){var o,n;e.nodeName&&(i?(o={},o[i]=!0):o=s,t.objectEach(o,(function(t,e){if(s[e])for(n=s[e].length;n--;)a(e,s[e][n])})))}var n,r;t.each(["protoEvents","hcEvents"],(function(l){var c=e[l];c&&(i?(n=c[i]||[],s?(r=t.inArray(s,n),-1<r&&(n.splice(r,1),c[i]=n),a(i,s)):(o(c),c[i]=[])):(o(c),e[l]={}))}))},t.fireEvent=function(e,s,a,o){var n,r,l,c,h;a=a||{},i.createEvent&&(e.dispatchEvent||e.fireEvent)?(n=i.createEvent("Events"),n.initEvent(s,!0,!0),t.extend(n,a),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent(s,n)):t.each(["protoEvents","hcEvents"],(function(i){if(e[i])for(r=e[i][s]||[],l=r.length,a.target||t.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:e,type:s}),c=0;c<l;c++)(h=r[c])&&!1===h.call(e,a)&&a.preventDefault()})),o&&!a.defaultPrevented&&o.call(e,a)},t.animate=function(e,i,s){var a,o,n,r,l="";t.isObject(s)||(r=arguments,s={duration:r[2],easing:r[3],complete:r[4]}),t.isNumber(s.duration)||(s.duration=400),s.easing="function"===typeof s.easing?s.easing:Math[s.easing]||Math.easeInOutSine,s.curAnim=t.merge(i),t.objectEach(i,(function(r,c){t.stop(e,c),n=new t.Fx(e,s,c),o=null,"d"===c?(n.paths=n.initPath(e,e.d,i.d),n.toD=i.d,a=0,o=1):e.attr?a=e.attr(c):(a=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=r),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),n.run(a,o,l)}))},t.seriesType=function(e,i,s,a,o){var n=t.getOptions(),r=t.seriesTypes;return n.plotOptions[e]=t.merge(n.plotOptions[i],s),r[e]=t.extendClass(r[i]||function(){},a),r[e].prototype.type=e,o&&(r[e].prototype.pointClass=t.extendClass(t.Point,o)),r[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),s.jQuery&&(s.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})})(e),function(t){var e=t.each,i=t.isNumber,s=t.map,a=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,a,o,n;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=s(e.stops,(function(e){return new t.Color(e[1])}));else if(e&&e.charAt&&"#"===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?a=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(a=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!a)for(o=this.parsers.length;o--&&!a;)n=this.parsers[o],(i=n.regex.exec(e))&&(a=n.parse(i));this.rgba=a||[]},get:function(t){var s,o=this.input,n=this.rgba;return this.stops?(s=a(o),s.stops=[].concat(s.stops),e(this.stops,(function(e,i){s.stops[i]=[s.stops[i][0],e.get(t)]}))):s=n&&i(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":o,s},brighten:function(t){var s,a=this.rgba;if(this.stops)e(this.stops,(function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(s=0;3>s;s++)a[s]+=o(255*t),0>a[s]&&(a[s]=0),255<a[s]&&(a[s]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,s=t.rgba;return s.length&&i&&i.length?(t=1!==s[3]||1!==i[3],e=(t?"rgba(":"rgb(")+Math.round(s[0]+(i[0]-s[0])*(1-e))+","+Math.round(s[1]+(i[1]-s[1])*(1-e))+","+Math.round(s[2]+(i[2]-s[2])*(1-e))+(t?","+(s[3]+(i[3]-s[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,i,s=t.addEvent,a=t.animate,o=t.attr,n=t.charts,r=t.color,l=t.css,c=t.createElement,h=t.defined,d=t.deg2rad,u=t.destroyObjectProperties,p=t.doc,m=t.each,f=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,w=t.isFirefox,k=t.isMS,C=t.isObject,S=t.isString,A=t.isWebKit,T=t.merge,I=t.noop,P=t.objectEach,M=t.pick,L=t.pInt,_=t.removeEvent,D=t.stop,F=t.svg,O=t.SVG_NS,E=t.symbolSizes,B=t.win;e=t.SVGElement=function(){return this},f(e.prototype,{opacity:1,SVG_NS:O,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?c(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,s){return i=t.animObject(M(i,this.renderer.globalAnimation,!0)),0!==i.duration?(s&&(i.complete=s),a(this,e,i)):(this.attr(e,null,s),i.step&&i.step.call(this)),this},complexColor:function(e,i,s){var a,o,n,r,l,c,d,u,p,f,g,v,y=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},(function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(n=e[o],l=y.gradients,d=e.stops,f=s.radialReference,x(n)&&(e[o]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&f&&!h(n.gradientUnits)&&(r=n,n=T(n,y.getRadialAttr(f,r),{gradientUnits:"userSpaceOnUse"})),P(n,(function(t,e){"id"!==e&&b.push(e,t)})),P(d,(function(t){b.push(t)})),b=b.join(","),l[b]?g=l[b].attr("id"):(n.id=g=t.uniqueKey(),l[b]=c=y.createElement(o).attr(n).add(y.defs),c.radAttr=r,c.stops=[],m(d,(function(e){0===e[1].indexOf("rgba")?(a=t.color(e[1]),u=a.get("rgb"),p=a.get("a")):(u=e[1],p=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":u,"stop-opacity":p}).add(c),c.stops.push(e)}))),v="url("+y.url+"#"+g+")",s.setAttribute(i,v),s.gradient=b,e.toString=function(){return v})}))},applyTextOutline:function(e){var i,s,a,n,r,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),s=e[e.length-1],(a=e[0])&&"none"!==a&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*e+i})),r=e.length;r--;)i=e[r],"highcharts-text-outline"===i.getAttribute("class")&&g(e,l.removeChild(i));n=l.firstChild,m(e,(function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":a,"stroke-linejoin":"round"}),l.insertBefore(t,n)}))}},attr:function(t,e,i,s){var a,o,n,r,l=this.element,c=this;return"string"===typeof t&&void 0!==e&&(a=t,t={},t[a]=e),"string"===typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(P(t,(function(e,i){n=!1,s||D(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),n=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),n||(r=this[i+"Setter"]||this._defaultSetter,r.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,r))}),this),this.afterSetters()),i&&i.call(this),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var s=this.shadows,a=s.length;a--;)i.call(s[a],"height"===t?Math.max(e-(s[a].cutHeight||0),0):"d"===t?this.d:e,t,s[a])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;m("x y r start end width height innerR anchorX anchorY".split(" "),(function(i){e[i]=M(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),h(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,s=this.styles,a={},n=this.element,r="",c=!s,h=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),s&&P(t,(function(t,e){t!==s[e]&&(a[e]=t,c=!0)})),c&&(s&&(t=f(s,a)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===n.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=L(t.width))),this.styles=t,e&&!F&&this.renderer.forExport&&delete t.width,n.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},P(t,(function(t,e){-1===b(e,h)&&(r+=e.replace(/([A-Z])/g,i)+":"+t+";")})),r&&o(n,"style",r)):l(n,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,s=i.element;return y&&"click"===t?(s.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(s,t)},s.onclick=function(t){(-1===B.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(s,t)}):s["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,s=this.scaleY,a=this.inverted,o=this.rotation,n=this.matrix,r=this.element;a&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],h(n)&&t.push("matrix("+n.join(",")+")"),a?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+M(this.rotationOriginX,r.getAttribute("x"),0)+" "+M(this.rotationOriginY,r.getAttribute("y")||0)+")"),(h(i)||h(s))&&t.push("scale("+M(i,1)+" "+M(s,1)+")"),t.length&&r.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,a,o,n,r,l,c={};return a=this.renderer,o=a.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=s=i||"renderer",g(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=M(i,a[s],a),s=t.align,a=t.verticalAlign,o=(i.x||0)+(t.x||0),n=(i.y||0)+(t.y||0),"right"===s?r=1:"center"===s&&(r=2),r&&(o+=(i.width-(t.width||0))/r),c[e?"translateX":"x"]=Math.round(o),"bottom"===a?l=1:"middle"===a&&(l=2),l&&(n+=(i.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(n),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var i,s,a,o,n,r=this.renderer,l=this.element,c=this.styles,u=this.textStr,p=r.cache,g=r.cacheKeys;if(e=M(e,this.rotation),s=e*d,a=c&&c.fontSize,h(u)&&(n=u.toString(),-1===n.indexOf("<")&&(n=n.replace(/[0-9]/g,"0")),n+=["",e||0,a,this.textWidth,c&&c.textOverflow].join()),n&&!t&&(i=p[n]),!i){if(l.namespaceURI===this.SVG_NS||r.forExport){try{(o=this.fakeTS&&function(t){m(l.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))})&&o("none"),i=l.getBBox?f({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(v){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(r.isSVG&&(t=i.width,r=i.height,c&&"11px"===c.fontSize&&17===Math.round(r)&&(i.height=r=14),e&&(i.width=Math.abs(r*Math.sin(s))+Math.abs(t*Math.cos(s)),i.height=Math.abs(r*Math.cos(s))+Math.abs(t*Math.sin(s)))),n&&0<i.height){for(;250<g.length;)delete p[g.shift()];p[n]||g.push(n),p[n]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,s=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(s),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,s=e.ownerSVGElement,a=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,D(t),a&&s&&(m(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){var e=t.getAttribute("clip-path"),i=a.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")})),t.clipPath=a.destroy()),t.stops){for(s=0;s<t.stops.length;s++)t.stops[s]=t.stops[s].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&g(t.renderer.alignedObjects,t),P(t,(function(e,i){delete t[i]})),null},shadow:function(t,e,i){var s,a,n,r,l,c,h=[],d=this.element;if(t){if(!this.shadows){for(r=M(t.width,3),l=(t.opacity||.15)/r,c=this.parentInverted?"(-1,-1)":"("+M(t.offsetX,1)+", "+M(t.offsetY,1)+")",s=1;s<=r;s++)a=d.cloneNode(0),n=2*r+1-2*s,o(a,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*s,"stroke-width":n,transform:"translate"+c,fill:"none"}),i&&(o(a,"height",Math.max(o(a,"height")-n,0)),a.cutHeight=n),e?e.element.appendChild(a):d.parentNode&&d.parentNode.insertBefore(a,d),h.push(a);this.shadows=h}}else this.destroyShadows();return this},destroyShadows:function(){m(this.shadows||[],(function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=M(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=L(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(M(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,s,a,o,n=this.renderer,r=this.parentGroup,l=(r||n).element||n.box,c=this.element;n=l===n.box;if(i=this.added,h(t)?(c.setAttribute("data-z-index",t),t=+t,this[e]===t&&(i=!1)):h(this[e])&&c.removeAttribute("data-z-index"),this[e]=t,i){for((t=this.zIndex)&&r&&(r.handleZ=!0),e=l.childNodes,o=e.length-1;0<=o&&!s;o--)r=e[o],i=r.getAttribute("data-z-index"),a=!h(i),r!==c&&(0>t&&a&&!n&&!o?(l.insertBefore(c,e[o]),s=!0):(L(i)<=t||a&&(!h(t)||0<=t))&&(l.insertBefore(c,e[o+1]||null),s=!0));s||(l.insertBefore(c,e[n?3:0]||null),s=!0)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,s){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",s),s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(s.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},f(i.prototype,{Element:e,SVG_NS:O,init:function(t,e,i,a,n,r){var c,h;a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(a)),c=a.element,t.appendChild(c),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=a,this.alignedObjects=[],this.url=(w||A)&&p.getElementsByTagName("base").length?B.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 6.1.1")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),w&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})},e(),this.unSubPixelFix=s(B,"resize",e))},getStyle:function(t){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),u(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:I,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t){return t.getBBox(!0).width},applyEllipsis:function(t,e,i,s){var a,o,n=t.rotation,r=i,l=0,c=i.length,h=function(t){e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))};if(t.rotation=0,r=this.getSpanWidth(t,e),o=r>s){for(;l<=c;)a=Math.ceil((l+c)/2),r=i.substring(0,a)+"…",h(r),r=this.getSpanWidth(t,e),l===c?l=c+1:r>s?c=a-1:l=a;0===c&&h("")}return t.rotation=n,o},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,i,s,a=t.element,n=this,r=n.forExport,c=M(t.textStr,"").toString(),h=-1!==c.indexOf("<"),d=a.childNodes,u=o(a,"x"),f=t.styles,g=t.textWidth,y=f&&f.lineHeight,x=f&&f.textOutline,w=f&&"ellipsis"===f.textOverflow,k=f&&"nowrap"===f.whiteSpace,C=f&&f.fontSize,S=d.length,A=(f=g&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:C||n.style.fontSize||12,y?L(y):n.fontMetrics(e,t.getAttribute("style")?t:a).h}),T=function(t,e){return P(n.escapes,(function(i,s){e&&-1!==b(i,e)||(t=t.toString().replace(new RegExp(i,"g"),s))})),t},I=function(t,e){var i;if(i=t.indexOf("<"),t=t.substring(i,t.indexOf(">")-i),i=t.indexOf(e+"="),-1!==i&&(i=i+e.length+1,e=t.charAt(i),'"'===e||"'"===e))return t=t.substring(i+1),t.substring(0,t.indexOf(e))};if(i=[c,w,k,y,x,C,g].join(),i!==t.textCache){for(t.textCache=i;S--;)a.removeChild(d[S]);h||x||w||g||-1!==c.indexOf(" ")?(f&&f.appendChild(a),c=h?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,(function(t){return""!==t})),m(c,(function(i,c){var h,d=0;i=i.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),h=i.split("|||"),m(h,(function(i){if(""!==i||1===h.length){var m,f,v={},y=p.createElementNS(n.SVG_NS,"tspan");if((m=I(i,"class"))&&o(y,"class",m),(m=I(i,"style"))&&(m=m.replace(/(;| |^)color([ :])/,"$1fill$2"),o(y,"style",m)),(f=I(i,"href"))&&!r&&(o(y,"onclick",'location.href="'+f+'"'),o(y,"class","highcharts-anchor"),l(y,{cursor:"pointer"})),i=T(i.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==i){if(y.appendChild(p.createTextNode(i)),d?v.dx=0:c&&null!==u&&(v.x=u),o(y,v),a.appendChild(y),!d&&s&&(!F&&r&&l(y,{display:"block"}),o(y,"dy",A(y))),g){v=i.replace(/([^\^])-/g,"$1- ").split(" "),f=1<h.length||c||1<v.length&&!k;var b,x=[],C=A(y),S=t.rotation;for(w&&(e=n.applyEllipsis(t,y,i,g));!w&&f&&(v.length||x.length);)t.rotation=0,b=n.getSpanWidth(t,y),i=b>g,void 0===e&&(e=i),i&&1!==v.length?(y.removeChild(y.firstChild),x.unshift(v.pop())):(v=x,x=[],v.length&&!k&&(y=p.createElementNS(O,"tspan"),o(y,{dy:C,x:u}),m&&o(y,"style",m),a.appendChild(y)),b>g&&(g=b+1)),v.length&&y.appendChild(p.createTextNode(v.join(" ").replace(/- /g,"-")));t.rotation=S}d++}}})),s=s||a.childNodes.length})),w&&e&&t.attr("title",T(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(a),x&&t.applyTextOutline&&t.applyTextOutline(x)):a.appendChild(p.createTextNode(T(c)))}},getContrast:function(t){return t=r(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,a,o,n,r,l,c){var h,d,u,p,m=this.label(t,e,i,c,null,null,null,null,"button"),g=0;return m.attr(T({padding:8,r:2},o)),o=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),h=o.style,delete o.style,n=T(o,{fill:"#e6e6e6"},n),d=n.style,delete n.style,r=T(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},r),u=r.style,delete r.style,l=T(o,{style:{color:"#cccccc"}},l),p=l.style,delete l.style,s(m.element,k?"mouseover":"mouseenter",(function(){3!==g&&m.setState(1)})),s(m.element,k?"mouseout":"mouseleave",(function(){3!==g&&m.setState(g)})),m.setState=function(t){1!==t&&(m.state=g=t),m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),m.attr([o,n,r,l][t||0]).css([h,d,u,p][t||0])},m.attr(o).css(f({cursor:"default"},h)),m.on("click",(function(t){3!==g&&a.call(m,t)}))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:C(t)&&f(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=C(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,s,a,o){return C(t)?(s=t,e=s.y,i=s.r,t=s.x):s={innerR:s,start:a,end:o},t=this.symbol("arc",t,e,i,i,s),t.r=i,t},rect:function(t,e,i,s,a,n){a=C(t)?t.r:a;var r=this.createElement("rect");return t=C(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(s,0)},void 0!==n&&(t.strokeWidth=n,t=r.crisp(t)),t.fill="none",a&&(t.r=a),r.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},r.attr(t)},setSize:function(t,e,i){var s=this.alignedObjects,a=s.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:M(i,!0)?void 0:0});a--;)s[a].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,a,o,n){var r,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},h=function(e){c(r.element,t),n.call(r,e)};return 1<arguments.length&&f(l,{x:e,y:i,width:a,height:o}),r=this.createElement("image").attr(l),n?(c(r.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new B.Image,s(l,"load",h),l.src=t,l.complete&&h({})):c(r.element,t),r},symbol:function(t,e,i,s,a,o){var r,d,u,g=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],w=h(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(i),s,a,o);return x?(r=this.path(w),r.attr("fill","none"),f(r,{symbolName:b,x:e,y:i,width:s,height:a}),o&&f(r,o)):y&&(d=t.match(v)[1],r=this.image(d),r.imgwidth=M(E[d]&&E[d].width,o&&o.width),r.imgheight=M(E[d]&&E[d].height,o&&o.height),u=function(){r.attr({width:r.width,height:r.height})},m(["width","height"],(function(t){r[t+"Setter"]=function(t,e){var i={},s=this["img"+e],a="width"===e?"translateX":"translateY";this[e]=t,h(s)&&(this.element&&this.element.setAttribute(e,s),this.alignByTranslate||(i[a]=((this[e]||0)-s)/2,this.attr(i)))}})),h(e)&&r.attr({x:e,y:i}),r.isImg=!0,h(r.imgwidth)&&h(r.imgheight)?u():(r.attr({width:0,height:0}),c("img",{onload:function(){var t=n[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),E[d]={width:this.width,height:this.height},r.imgwidth=this.width,r.imgheight=this.height,r.element&&u(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),r},symbols:{circle:function(t,e,i,s){return this.arc(t+i/2,e+s/2,i/2,s/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i,e+s,t,e+s,"Z"]},triangle:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s,t,e+s,"Z"]},"triangle-down":function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i/2,e+s,"Z"]},diamond:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s/2,t+i/2,e+s,t,e+s/2,"Z"]},arc:function(t,e,i,s,a){var o=a.start,n=a.r||i,r=a.r||s||i,l=a.end-.001;i=a.innerR,s=M(a.open,.001>Math.abs(a.end-a.start-2*Math.PI));var c=Math.cos(o),d=Math.sin(o),u=Math.cos(l);l=Math.sin(l);return a=.001>a.end-o-Math.PI?0:1,n=["M",t+n*c,e+r*d,"A",n,r,0,a,1,t+n*u,e+r*l],h(i)&&n.push(s?"M":"L",t+i*u,e+i*l,"A",i,i,0,a,0,t+i*c,e+i*d),n.push(s?"":"Z"),n},callout:function(t,e,i,s,a){var o,n=Math.min(a&&a.r||0,i,s),r=n+6,l=a&&a.anchorX;return a=a&&a.anchorY,o=["M",t+n,e,"L",t+i-n,e,"C",t+i,e,t+i,e,t+i,e+n,"L",t+i,e+s-n,"C",t+i,e+s,t+i,e+s,t+i-n,e+s,"L",t+n,e+s,"C",t,e+s,t,e+s,t,e+s-n,"L",t,e+n,"C",t,e,t,e,t+n,e],l&&l>i?a>e+r&&a<e+s-r?o.splice(13,3,"L",t+i,a-6,t+i+6,a,t+i,a+6,t+i,e+s-n):o.splice(13,3,"L",t+i,s/2,l,a,t+i,s/2,t+i,e+s-n):l&&0>l?a>e+r&&a<e+s-r?o.splice(33,3,"L",t,a+6,t-6,a,t,a-6,t,e+n):o.splice(33,3,"L",t,s/2,l,a,t,s/2,t,e+n):a&&a>s&&l>t+r&&l<t+i-r?o.splice(23,3,"L",l+6,e+s,l,e+s+6,l-6,e+s,t+n,e+s):a&&0>a&&l>t+r&&l<t+i-r&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-n,e),o}},clipRect:function(e,i,s,a){var o=t.uniqueKey(),n=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,i,s,a,0).add(n),e.id=o,e.clipPath=n,e.count=0,e},text:function(t,e,i,s){var a={};return!s||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),t=this.createElement("text").attr(a),s||(t.xSetter=function(t,e,i){var s,a,o=i.getElementsByTagName("tspan"),n=i.getAttribute(e);for(a=0;a<o.length;a++)s=o[a],s.getAttribute(e)===n&&s.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?L(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var s=t;return e&&i&&(s=Math.max(s*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:s}},label:function(i,s,a,o,n,r,l,c,d){var u,p,g,v,y,b,x,w,k,C,S,A,I,P=this,M=P.g("button"!==d&&"label"),L=M.text=P.text("",0,0,l).attr({zIndex:1}),D=0,F=3,O=0,E={},B=/^url\((.*?)\)$/.test(o),N=B;d&&M.addClass("highcharts-"+d),N=B,C=function(){return(w||0)%2/2},S=function(){var t=L.element.style,e={};p=(void 0===g||void 0===v||x)&&h(L.textStr)&&L.getBBox(),M.width=(g||p.width||0)+2*F+O,M.height=(v||p.height||0)+2*F,k=F+P.fontMetrics(t&&t.fontSize,L).b,N&&(u||(M.box=u=P.symbols[o]||B?P.symbol(o):P.rect(),u.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),u.add(M),t=C(),e.x=t,e.y=(c?-k:0)+t),e.width=Math.round(M.width),e.height=Math.round(M.height),u.attr(f(e,E)),E={})},A=function(){var t,e=O+F;t=c?0:k,h(g)&&p&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(g-p.width)),e===L.x&&t===L.y||(L.attr("x",e),L.hasBoxWidthChanged&&(p=L.getBBox(!0),S()),void 0!==t&&L.attr("y",t)),L.x=e,L.y=t},I=function(t,e){u?u.attr(t,e):E[t]=e},M.onAdd=function(){L.add(M),M.attr({text:i||0===i?i:"",x:s,y:a}),u&&h(n)&&M.attr({anchorX:n,anchorY:r})},M.widthSetter=function(e){g=t.isNumber(e)?e:null},M.heightSetter=function(t){v=t},M["text-alignSetter"]=function(t){x=t},M.paddingSetter=function(t){h(t)&&t!==F&&(F=M.padding=t,A())},M.paddingLeftSetter=function(t){h(t)&&t!==O&&(O=t,A())},M.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==D&&(D=t,p&&M.attr({x:y}))},M.textSetter=function(t){void 0!==t&&L.textSetter(t),S(),A()},M["stroke-widthSetter"]=function(t,e){t&&(N=!0),w=this["stroke-width"]=t,I(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(N=!0),M[e]=t),I(e,t)},M.anchorXSetter=function(t,e){n=M.anchorX=t,I(e,Math.round(t)-C()-y)},M.anchorYSetter=function(t,e){r=M.anchorY=t,I(e,t-b)},M.xSetter=function(t){M.x=t,D&&(t-=D*((g||p.width)+2*F),M["forceAnimate:x"]=!0),y=Math.round(t),M.attr("translateX",y)},M.ySetter=function(t){b=M.y=Math.round(t),M.attr("translateY",b)};var R=M.css;return f(M,{css:function(t){if(t){var e={};t=T(t),m(M.textProps,(function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])})),L.css(e),"width"in e&&S()}return R.call(M,t)},getBBox:function(){return{width:p.width+2*F,height:p.height+2*F,x:p.x-F,y:p.y-F}},shadow:function(t){return t&&(S(),u&&u.shadow(t)),M},destroy:function(){_(M.element,"mouseenter"),_(M.element,"mouseleave"),L&&(L=L.destroy()),u&&(u=u.destroy()),e.prototype.destroy.call(M),M=P=S=A=I=null}})}}),t.Renderer=i}(e),function(t){var e=t.attr,i=t.createElement,s=t.css,a=t.defined,o=t.each,n=t.extend,r=t.isFirefox,l=t.isMS,c=t.isWebKit,h=t.pick,d=t.pInt,u=t.SVGRenderer,p=t.win,m=t.wrap;n(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=n(this.styles,t),s(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,r=this.x||0,l=this.y||0,c=this.textAlign||"left",h={left:0,center:.5,right:1}[c],u=this.styles,p=u&&u.whiteSpace;if(s(e,{marginLeft:i,marginTop:n}),this.shadows&&o(this.shadows,(function(t){s(t,{marginLeft:i+1,marginTop:n+1})})),this.inverted&&o(e.childNodes,(function(i){t.invertChild(i,e)})),"SPAN"===e.tagName){u=this.rotation;var m,f=this.textWidth&&d(this.textWidth),g=[u,c,e.innerHTML,this.textWidth,this.textAlign].join();(m=f!==this.oldTextWidth)&&!(m=f>this.oldTextWidth)&&((m=this.textPxLength)||(s(e,{width:"",whiteSpace:p||"nowrap"}),m=e.offsetWidth),m=m>f),m&&/[ \-]/.test(e.textContent||e.innerText)?(s(e,{width:f+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,a(u)&&u!==(this.oldRotation||0)&&this.setSpanRotation(u,h,p),this.getSpanCorrection(!a(u)&&this.textPxLength||e.offsetWidth,p,h,u,c)),s(e,{left:r+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var a={},o=this.renderer.getTransformKey();a[o]=a.transform="rotate("+t+"deg)",a[o+(r?"Origin":"-origin")]=a.transformOrigin=100*e+"% "+i+"px",s(this.element,a)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),n(u.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":r?"MozTransform":p.opera?"-o-transform":""},html:function(t,s,a){var r=this.createElement("span"),l=r.element,c=r.renderer,d=c.isSVG,u=function(t,e){o(["opacity","visibility"],(function(i){m(t,i+"Setter",(function(t,i,s,a){t.call(this,i,s,a),e[s]=i}))})),t.addedSetters=!0};return r.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=h(t,""),r.doTransform=!0},d&&u(r,r.element.style),r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),r[e]=t,r.doTransform=!0},r.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},r.attr({text:t,x:Math.round(s),y:Math.round(a)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",r.css=r.htmlCss,d&&(r.add=function(t){var s,a=c.box.parentNode,h=[];if(this.parentGroup=t){if(s=t.div,!s){for(;t;)h.push(t),t=t.parentGroup;o(h.reverse(),(function(t){function o(e,i){t[i]=e,"translateX"===i?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,c=e(t.element,"class");c&&(c={className:c}),s=t.div=t.div||i("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},s||a),l=s.style,n(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return h[0].div&&r.on.apply({element:h[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||u(t,l)}))}}else s=a;return s.appendChild(l),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}})}(e),function(t){var e=t.defined,i=t.each,s=t.extend,a=t.merge,o=t.pick,n=t.timeUnits,r=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(e){var i=o(e&&e.useUTC,!0),s=this;this.options=e=a(!0,this.options||{},e),this.Date=e.Date||r.Date,this.timezoneOffset=(this.useUTC=i)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(i&&!e.getTimezoneOffset&&!e.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),a=i-s.getTimezoneOffset(e);return e.setTime(a),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(e,i,a){var o;-1!==t.inArray(e,["Milliseconds","Seconds","Minutes"])?i["set"+e](a):(o=s.getTimezoneOffset(i),o=i.getTime()-o,i.setTime(o),i["setUTC"+e](a),e=s.getTimezoneOffset(i),o=i.getTime()+e,i.setTime(o))}):i?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(e,i,s,a,n,r){var l,c,h;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(l),l+=c,h=this.getTimezoneOffset(l),c!==h?l+=h-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,i,o(s,1),o(a,0),o(n,0),o(r,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,i=this.options,s=r.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(s)return function(t){return 6e4*-s.tz(t,i.timezone).utcOffset()};t.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,i,s){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var a=this,o=new this.Date(i),n=this.get("Hours",o),r=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),h=this.get("FullYear",o),d=t.defaultOptions.lang,u=d.weekdays,p=d.shortWeekdays,m=t.pad;o=t.extend({a:p?p[r]:u[r].substr(0,3),A:u[r],d:m(l),e:m(l,2," "),w:r,b:d.shortMonths[c],B:d.months[c],m:m(c+1),o:c+1,y:h.toString().substr(2,2),Y:h,H:m(n),k:n,I:m(n%12||12),l:n%12||12,M:m(a.get("Minutes",o)),p:12>n?"AM":"PM",P:12>n?"am":"pm",S:m(o.getSeconds()),L:m(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(o,(function(t,s){for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"===typeof t?t.call(a,i):t)})),s?e.substr(0,1).toUpperCase()+e.substr(1):e},getTimeTicks:function(t,a,r,l){var c,h,d=this,u=[],p={},m=new d.Date(a),f=t.unitRange,g=t.count||1;if(e(a)){d.set("Milliseconds",m,f>=n.second?0:g*Math.floor(d.get("Milliseconds",m)/g)),f>=n.second&&d.set("Seconds",m,f>=n.minute?0:g*Math.floor(d.get("Seconds",m)/g)),f>=n.minute&&d.set("Minutes",m,f>=n.hour?0:g*Math.floor(d.get("Minutes",m)/g)),f>=n.hour&&d.set("Hours",m,f>=n.day?0:g*Math.floor(d.get("Hours",m)/g)),f>=n.day&&d.set("Date",m,f>=n.month?1:g*Math.floor(d.get("Date",m)/g)),f>=n.month&&(d.set("Month",m,f>=n.year?0:g*Math.floor(d.get("Month",m)/g)),c=d.get("FullYear",m)),f>=n.year&&d.set("FullYear",m,c-c%g),f===n.week&&d.set("Date",m,d.get("Date",m)-d.get("Day",m)+o(l,1)),c=d.get("FullYear",m),l=d.get("Month",m);var v=d.get("Date",m),y=d.get("Hours",m);for(a=m.getTime(),d.variableTimezone&&(h=r-a>4*n.month||d.getTimezoneOffset(a)!==d.getTimezoneOffset(r)),m=m.getTime(),a=1;m<r;)u.push(m),m=f===n.year?d.makeTime(c+a*g,0):f===n.month?d.makeTime(c,l+a*g):!h||f!==n.day&&f!==n.week?h&&f===n.hour&&1<g?d.makeTime(c,l,v,y+a*g):m+f*g:d.makeTime(c,l,v+a*g*(f===n.day?1:7)),a++;u.push(m),f<=n.hour&&1e4>u.length&&i(u,(function(t){0===t%18e5&&"000000000"===d.dateFormat("%H%M%S%L",t)&&(p[t]="day")}))}return u.info=s(t,{higherRanks:p,totalRange:f*g}),u}}}(e),function(t){var e=t.color,i=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=i(!0,t.defaultOptions,e),t.time.update(i(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,s){return t.time.dateFormat(e,i,s)}}(e),function(t){var e=t.correctFloat,i=t.defined,s=t.destroyObjectProperties,a=t.fireEvent,o=t.isNumber,n=t.merge,r=t.pick,l=t.deg2rad;t.Tick=function(t,e,i,s){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||s||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,s=this.axis,a=s.options,o=s.chart,l=s.categories,c=s.names,h=this.pos,d=a.labels,u=s.tickPositions,p=h===u[0],m=h===u[u.length-1];c=l?r(l[h],c[h],h):h,l=this.label,u=u.info;s.isDatetimeAxis&&u&&(t=a.dateTimeLabelFormats[u.higherRanks[h]||u.unitName]),this.isFirst=p,this.isLast=m,a=s.labelFormatter.call({axis:s,chart:o,isFirst:p,isLast:m,dateTimeLabelFormat:t,value:s.isLog?e(s.lin2log(c)):c,pos:h}),i(l)?l&&l.attr({text:a}):((this.label=l=i(a)&&d.enabled?o.renderer.text(a,0,0,d.useHTML).css(n(d.style)).add(s.labelGroup):null)&&(l.textPxLength=l.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,s=i.options.labels,a=t.x,o=i.chart.chartWidth,n=i.chart.spacing,c=r(i.labelLeft,Math.min(i.pos,n[3])),h=(n=r(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,o-n[1])),this.label),d=this.rotation,u={left:0,center:.5,right:1}[i.labelAlign||h.attr("align")],p=h.getBBox().width,m=i.getSlotWidth(this),f=m,g=1,v={};d||!1===s.overflow?0>d&&a-u*p<c?e=Math.round(a/Math.cos(d*l)-c):0<d&&a+u*p>n&&(e=Math.round((o-a)/Math.cos(d*l))):(o=a+(1-u)*p,a-u*p<c?f=t.x+f*(1-u)-c:o>n&&(f=n-t.x+f*u,g=-1),f=Math.min(m,f),f<m&&"center"===i.labelAlign&&(t.x+=g*(m-f-u*(m-Math.min(p,f)))),(p>f||i.autoRotation&&(h.styles||{}).width)&&(e=f)),e&&(v.width=e,(s.style||{}).textOverflow||(v.textOverflow="ellipsis"),h.css(v))},getPosition:function(e,i,s,o){var n=this.axis,r=n.chart,l=o&&r.oldChartHeight||r.chartHeight;return e={x:e?t.correctFloat(n.translate(i+s,null,null,o)+n.transB):n.left+n.offset+(n.opposite?(o&&r.oldChartWidth||r.chartWidth)-n.right-n.left:0),y:e?l-n.bottom+n.offset-(n.opposite?n.height:0):t.correctFloat(l-n.translate(i+s,null,null,o)-n.transB)},a(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,s,o,n,r,c,h){var d=this.axis,u=d.transA,p=d.reversed,m=d.staggerLines,f=d.tickRotCorr||{x:0,y:0},g=n.y,v=o||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),y={};return i(g)||(g=0===d.side?s.rotation?-8:-s.getBBox().height:2===d.side?f.y+8:Math.cos(s.rotation*l)*(f.y-s.getBBox(!1,0).height/2)),t=t+n.x+v+f.x-(r&&o?r*u*(p?-1:1):0),e=e+g-(r&&!o?r*u*(p?1:-1):0),m&&(s=c/(h||1)%m,d.opposite&&(s=m-s-1),e+=d.labelOffset/m*s),y.x=t,y.y=Math.round(e),a(this,"afterGetLabelPosition",{pos:y}),y},getMarkPath:function(t,e,i,s,a,o){return o.crispLine(["M",t,e,"L",t+(a?0:-i),e+(a?i:0)],s)},renderGridLine:function(t,e,i){var s=this.axis,a=s.options,o=this.gridLine,n={},r=this.pos,l=this.type,c=s.tickmarkOffset,h=s.chart.renderer,d=l?l+"Grid":"grid",u=a[d+"LineWidth"],p=a[d+"LineColor"];a=a[d+"LineDashStyle"];o||(n.stroke=p,n["stroke-width"]=u,a&&(n.dashstyle=a),l||(n.zIndex=1),t&&(n.opacity=0),this.gridLine=o=h.path().attr(n).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(s.gridGroup)),!t&&o&&(t=s.getPlotLinePath(r+c,o.strokeWidth()*i,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var s=this.axis,a=s.options,o=s.chart.renderer,n=this.type,l=n?n+"Tick":"tick",c=s.tickSize(l),h=this.mark,d=!h,u=t.x;t=t.y;var p=r(a[l+"Width"],!n&&s.isXAxis?1:0);a=a[l+"Color"];c&&(s.opposite&&(c[0]=-c[0]),d&&(this.mark=h=o.path().addClass("highcharts-"+(n?n+"-":"")+"tick").add(s.axisGroup),h.attr({stroke:a,"stroke-width":p})),h[d?"attr":"animate"]({d:this.getMarkPath(u,t,c[0],h.strokeWidth()*i,s.horiz,o),opacity:e}))},renderLabel:function(t,e,i,s){var a=this.axis,n=a.horiz,l=a.options,c=this.label,h=l.labels,d=h.step,u=(a=a.tickmarkOffset,!0),p=t.x;t=t.y,c&&o(p)&&(c.xy=t=this.getLabelPosition(p,t,c,n,h,a,s,d),this.isFirst&&!this.isLast&&!r(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!r(l.showLastLabel,1)?u=!1:!n||h.step||h.rotation||e||0===i||this.handleOverflow(t),d&&s%d&&(u=!1),u&&o(t.y)?(t.opacity=i,c[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(e,i,s){var a=this.axis,o=a.horiz,n=this.getPosition(o,this.pos,a.tickmarkOffset,i),l=n.x,c=n.y;a=o&&l===a.pos+a.len||!o&&c===a.pos?-1:1;s=r(s,1),this.isActive=!0,this.renderGridLine(i,s,a),this.renderMark(n,s,a),this.renderLabel(n,i,s,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){s(this,this.axis)}}}(e);var i=function(t){var e=t.addEvent,i=t.animObject,s=t.arrayMax,a=t.arrayMin,o=t.color,n=t.correctFloat,r=t.defaultOptions,l=t.defined,c=t.deg2rad,h=t.destroyObjectProperties,d=t.each,u=t.extend,p=t.fireEvent,m=t.format,f=t.getMagnitude,g=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,x=t.isString,w=t.merge,k=t.normalizeTickInterval,C=t.objectEach,S=t.pick,A=t.removeEvent,T=t.splat,I=t.syncTimeout,P=t.Tick,M=function(){this.init.apply(this,arguments)};return t.extend(M.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var s=i.isX,a=this;a.chart=t,a.horiz=t.inverted&&!a.isZAxis?!s:s,a.isXAxis=s,a.coll=a.coll||(s?"xAxis":"yAxis"),p(this,"init",{userOptions:i}),a.opposite=i.opposite,a.side=i.side||(a.horiz?a.opposite?0:2:a.opposite?1:3),a.setOptions(i);var o=this.options,n=o.type;a.labelFormatter=o.labels.formatter||a.defaultLabelFormatter,a.userOptions=i,a.minPixelPadding=0,a.reversed=o.reversed,a.visible=!1!==o.visible,a.zoomEnabled=!1!==o.zoomEnabled,a.hasNames="category"===n||!0===o.categories,a.categories=o.categories||a.hasNames,a.names||(a.names=[],a.names.keys={}),a.plotLinesAndBandsGroups={},a.isLog="logarithmic"===n,a.isDatetimeAxis="datetime"===n,a.positiveValuesOnly=a.isLog&&!a.allowNegativeLog,a.isLinked=l(o.linkedTo),a.ticks={},a.labelEdge=[],a.minorTicks={},a.plotLinesAndBands=[],a.alternateBands={},a.len=0,a.minRange=a.userMinRange=o.minRange||o.maxZoom,a.range=o.range,a.offset=o.offset||0,a.stacks={},a.oldStacks={},a.stacksTouched=0,a.max=null,a.min=null,a.crosshair=S(o.crosshair,T(t.options.tooltip.crosshairs)[s?0:1],!1),i=a.options.events,-1===v(a,t.axes)&&(s?t.axes.splice(t.xAxis.length,0,a):t.axes.push(a),t[a.coll].push(a)),a.series=a.series||[],t.inverted&&!a.isZAxis&&s&&void 0===a.reversed&&(a.reversed=!0),C(i,(function(t,i){e(a,i,t)})),a.lin2log=o.linearToLogConverter||a.lin2log,a.isLog&&(a.val2lin=a.log2lin,a.lin2val=a.lin2log),p(this,"afterInit")},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(r[this.coll],t)),p(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,i=this.axis,s=this.value,a=i.chart.time,o=i.categories,n=this.dateTimeLabelFormat,l=r.lang,c=l.numericSymbols,h=(l=l.numericSymbolMagnitude||1e3,c&&c.length),d=i.options.labels.format;i=i.isLog?Math.abs(s):i.tickInterval;if(d)e=m(d,this,a);else if(o)e=s;else if(n)e=a.dateFormat(n,s);else if(h&&1e3<=i)for(;h--&&void 0===e;)a=Math.pow(l,h+1),i>=a&&0===10*s%a&&null!==c[h]&&0!==s&&(e=t.numberFormat(s/a,-1)+c[h]);return void 0===e&&(e=1e4<=Math.abs(s)?t.numberFormat(s,-1):t.numberFormat(s,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,(function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,n=i.options,r=n.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=r&&(r=null),t.isXAxis?(n=i.xData,n.length&&(i=a(n),o=s(n),b(i)||i instanceof Date||(n=g(n,b),i=a(n),o=s(n)),n.length&&(t.dataMin=Math.min(S(t.dataMin,n[0],i),i),t.dataMax=Math.max(S(t.dataMax,n[0],o),o)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,l(i)&&l(o)&&(t.dataMin=Math.min(S(t.dataMin,i),i),t.dataMax=Math.max(S(t.dataMax,o),o)),l(r)&&(t.threshold=r),(!n.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),p(this,"afterGetSeriesExtremes")},translate:function(t,e,i,s,a,o){var n=this.linkedParent||this,r=1,l=0,c=s?n.oldTransA:n.transA;s=s?n.oldMin:n.min;var h=n.minPixelPadding;return a=(n.isOrdinal||n.isBroken||n.isLog&&a)&&n.lin2val,c||(c=n.transA),i&&(r*=-1,l=n.len),n.reversed&&(r*=-1,l-=r*(n.sector||n.len)),e?(t=(t*r+l-h)/c+s,a&&(t=n.lin2val(t))):(a&&(t=n.val2lin(t)),t=b(s)?r*(t-s)*c+l+r*h+(b(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,s,a){var o,n,r,l=this.chart,c=this.left,h=this.top,d=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(s?t=Math.min(Math.max(e,t),i):r=!0),t};return a=S(a,this.translate(t,null,null,i)),a=Math.min(Math.max(-1e5,a),1e5),t=i=Math.round(a+o),o=n=Math.round(d-a-o),b(a)?this.horiz?(o=h,n=d-this.bottom,t=i=p(t,c,c+this.width)):(t=c,i=u-this.right,o=n=p(o,h,h+this.height)):(r=!0,s=!1),r&&!s?null:l.renderer.crispLine(["M",t,o,"L",i,n],e||1)},getLinearTickPositions:function(t,e,i){var s,a=n(Math.floor(e/t)*t);i=n(Math.ceil(i/t)*t);var o,r=[];if(n(a+t)===a&&(o=20),this.single)return[e];for(e=a;e<=i;){if(r.push(e),e=n(e+t,o),e===s)break;s=e}return r},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?S(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,s=t.minorTickInterval,a=[],o=t.pointRangePadding||0,n=t.min-o,r=(o=t.max+o,o-n);if(r&&r/s<t.len/3)if(t.isLog)d(this.paddedTicks,(function(e,i,o){i&&a.push.apply(a,t.getLogTickPositions(s,o[i-1],o[i],!0))}));else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())a=a.concat(t.getTimeTicks(t.normalizeTimeTickInterval(s),n,o,e.startOfWeek));else for(e=n+(i[0]-n)%s;e<=o&&e!==a[0];e+=s)a.push(e);return 0!==a.length&&t.trimTicks(a),a},adjustForMinRange:function(){var t,e,i,o,n,r,c,h=this.options,u=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(d(this.series,(function(t){for(r=t.xData,o=t.xIncrement?1:r.length-1;0<o;o--)n=r[o]-r[o-1],(void 0===i||n<i)&&(i=n)})),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),p-u<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,t=(c-p+u)/2,t=[u-t,S(h.min,u-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=s(t),p=[u+c,S(h.max,u+c)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),p=a(p),p-u<c&&(t[0]=p-c,t[1]=S(h.min,p-c),u=s(t))),this.min=u,this.max=p},getClosest:function(){var t;return this.categories?t=1:d(this.series,(function(e){var i=e.closestPointRange,s=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&s&&(t=l(t)?Math.min(t,i):i)})),t},nameToX:function(t){var e,i=y(this.categories),s=i?this.categories:this.names,a=t.options.x;return t.series.requireSorting=!1,l(a)||(a=!1===this.options.uniqueNames?t.series.autoIncrement():i?v(t.name,s):S(s.keys[t.name],-1)),-1===a?i||(e=s.length):e=a,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,i=this.names;0<i.length&&(d(t.keys(i.keys),(function(t){delete i.keys[t]})),i.length=0,this.minRange=this.userMinRange,d(this.series||[],(function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),d(t.points,(function(i,s){var a;i.options&&(a=e.nameToX(i),void 0!==a&&a!==i.x&&(i.x=a,t.xData[s]=a))}))})))},setAxisTranslation:function(t){var e,i=this,s=i.max-i.min,a=i.axisPointRange||0,o=0,n=0,r=i.linkedParent,l=!!i.categories,c=i.transA,h=i.isXAxis;(h||l||a)&&(e=i.getClosest(),r?(o=r.minPointOffset,n=r.pointRangePadding):d(i.series,(function(t){var s=l?1:h?S(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,a=Math.max(a,s),i.single||(o=Math.max(o,x(t)?0:s/2),n=Math.max(n,"on"===t?0:s))})),r=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=r,i.pointRangePadding=n*=r,i.pointRange=Math.min(a,s),h&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.options.staticScale||i.len/(s+n||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*o,p(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,s,a,o,r=this,c=r.chart,h=r.options,u=r.isLog,m=r.isDatetimeAxis,g=r.isXAxis,v=r.isLinked,y=h.maxPadding,x=h.minPadding,w=h.tickInterval,C=h.tickPixelInterval,A=r.categories,T=b(r.threshold)?r.threshold:null,I=r.softThreshold;m||A||v||this.getTickAmount(),a=S(r.userMin,h.min),o=S(r.userMax,h.max),v?(r.linkedParent=c[r.coll][h.linkedTo],c=r.linkedParent.getExtremes(),r.min=S(c.min,c.dataMin),r.max=S(c.max,c.dataMax),h.type!==r.linkedParent.options.type&&t.error(11,1)):(!I&&l(T)&&(r.dataMin>=T?(i=T,x=0):r.dataMax<=T&&(s=T,y=0)),r.min=S(a,i,r.dataMin),r.max=S(o,s,r.dataMax)),u&&(r.positiveValuesOnly&&!e&&0>=Math.min(r.min,S(r.dataMin,r.min))&&t.error(10,1),r.min=n(r.log2lin(r.min),15),r.max=n(r.log2lin(r.max),15)),r.range&&l(r.max)&&(r.userMin=r.min=a=Math.max(r.dataMin,r.minFromRange()),r.userMax=o=r.max,r.range=null),p(r,"foundExtremes"),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),!(A||r.axisPointRange||r.usePercentage||v)&&l(r.min)&&l(r.max)&&(c=r.max-r.min)&&(!l(a)&&x&&(r.min-=c*x),!l(o)&&y&&(r.max+=c*y)),b(h.softMin)&&!b(r.userMin)&&(r.min=Math.min(r.min,h.softMin)),b(h.softMax)&&!b(r.userMax)&&(r.max=Math.max(r.max,h.softMax)),b(h.floor)&&(r.min=Math.max(r.min,h.floor)),b(h.ceiling)&&(r.max=Math.min(r.max,h.ceiling)),I&&l(r.dataMin)&&(T=T||0,!l(a)&&r.min<T&&r.dataMin>=T?r.min=T:!l(o)&&r.max>T&&r.dataMax<=T&&(r.max=T)),r.tickInterval=r.min===r.max||void 0===r.min||void 0===r.max?1:v&&!w&&C===r.linkedParent.options.tickPixelInterval?w=r.linkedParent.tickInterval:S(w,this.tickAmount?(r.max-r.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(r.max-r.min)*C/Math.max(r.len,C)),g&&!e&&d(r.series,(function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)})),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&!w&&(r.tickInterval=Math.max(r.pointRange,r.tickInterval)),e=S(h.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!w&&r.tickInterval<e&&(r.tickInterval=e),m||u||w||(r.tickInterval=k(r.tickInterval,null,f(r.tickInterval),S(h.allowDecimals,!(.5<r.tickInterval&&5>r.tickInterval&&1e3<r.max&&9999>r.max)),!!this.tickAmount)),this.tickAmount||(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var s=e.tickPositioner,a=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()],t[0]===t[1]&&(t.length=1)),this.tickPositions=t,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=t=s),this.paddedTicks=t.slice(0),this.trimTicks(t,a,o),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),i||s||this.adjustTickAmount()),p(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var s=t[0],a=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==s)this.min=s;else for(;this.min-o>t[0];)t.shift();if(i)this.max=a;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(s)&&!this.options.tickPositions&&t.push((a+s)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||d(this.chart[this.coll],(function(i){var s=i.options;s=[i.horiz?s.left:s.top,s.width,s.height,s.pane].join();i.series.length&&(e[s]?t=!0:e[s]=1)})),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,s=this.finalTickAmt,a=e&&e.length,o=S(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<i){for(;e.length<i;)e.length%2||this.min===o?e.push(n(e[e.length-1]+t)):e.unshift(n(e[0]-t));this.transA*=(a-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else a>i&&(this.tickInterval*=2,this.setTickPositions());if(l(s)){for(t=i=e.length;t--;)(3===s&&1===t%2||2>=s&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,(function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)})),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),p(this,"afterSetScale")},setExtremes:function(t,e,i,s,a){var o=this,n=o.chart;i=S(i,!0),d(o.series,(function(t){delete t.kdTree})),a=u(a,{min:t,max:e}),p(o,"setExtremes",a,(function(){o.userMin=t,o.userMax=e,o.eventArgs=a,i&&n.redraw(s)}))},zoom:function(t,e){var i=this.dataMin,s=this.dataMax,a=this.options,o=Math.min(i,S(a.min,i));a=Math.max(s,S(a.max,s));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>a&&(t=a)),l(s)&&(e<o&&(e=o),e>a&&(e=a))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=this.options,s=i.offsets||[0,0,0,0],a=this.horiz,o=this.width=Math.round(t.relativeLength(S(i.width,e.plotWidth-s[3]+s[1]),e.plotWidth)),n=this.height=Math.round(t.relativeLength(S(i.height,e.plotHeight-s[0]+s[2]),e.plotHeight)),r=this.top=Math.round(t.relativeLength(S(i.top,e.plotTop+s[0]),e.plotHeight,e.plotTop));i=this.left=Math.round(t.relativeLength(S(i.left,e.plotLeft+s[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-n-r,this.right=e.chartWidth-o-i,this.len=Math.max(a?o:n,0),this.pos=a?i:r},getExtremes:function(){var t=this.isLog;return{min:t?n(this.lin2log(this.min)):this.min,max:t?n(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?this.lin2log(this.min):this.min;e=e?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(S(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],s=S(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(s&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,s]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,s=this.options.labels,a=this.horiz,o=this.tickInterval,r=o,h=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=s.rotation,p=this.labelMetrics(),m=Number.MAX_VALUE,f=function(t){return t/=h||1,t=1<t?Math.ceil(t):1,n(t*o)};return a?(i=!s.staggerLines&&!s.step&&(l(u)?[u]:h<S(s.autoRotationLimit,80)&&s.autoRotation))&&d(i,(function(i){var s;(i===u||i&&-90<=i&&90>=i)&&(e=f(Math.abs(p.h/Math.sin(c*i))),s=e+Math.abs(i/360),s<m&&(m=s,t=i,r=e))})):s.step||(r=f(p.h)),this.autoRotation=i,this.labelRotation=S(t,u),r},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,s=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/s||!e&&(i.style&&parseInt(i.style.width,10)||a&&a-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,s=this.chart,a=s.renderer,o=this.tickPositions,n=this.ticks,r=this.options.labels,l=r&&r.style||{},c=this.horiz,h=this.getSlotWidth(),u=Math.max(1,Math.round(h-2*(r.padding||5))),p={},m=this.labelMetrics(),f=r.style&&r.style.textOverflow,g=0;if(x(r.rotation)||(p.rotation=r.rotation||0),d(o,(function(t){(t=n[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)})),this.maxLabelLength=g,this.autoRotation)g>u&&g>m.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(t=u,!f))for(e="clip",u=o.length;!c&&u--;)i=o[u],(i=n[i].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>h&&i.css({width:h+"px"}),i.getBBox().height>this.len/o.length-(m.h-m.f)&&(i.specificTextOverflow="ellipsis"));p.rotation&&(t=g>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight,f||(e="ellipsis")),(this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),d(o,(function(i){var s=(i=n[i])&&i.label,a=l.width,o={};s&&(s.attr(p),t&&!a&&"nowrap"!==l.whiteSpace&&(t<s.textPxLength||"SPAN"===s.element.tagName)?(o.width=t,f||(o.textOverflow=s.specificTextOverflow||e),s.css(o)):s.styles&&s.styles.width&&!o.width&&!a&&s.css({width:null}),delete s.specificTextOverflow,i.rotation=p.rotation)})),this.tickRotCorr=a.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,s=this.horiz,a=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(s?{low:"left",middle:"center",high:"right"}:{low:a?"right":"left",middle:"center",high:a?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(w(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new P(this,t)},getOffset:function(){var t,e,i,s=this,a=s.chart,o=a.renderer,n=s.options,r=s.tickPositions,c=s.ticks,h=s.horiz,u=s.side,p=a.inverted&&!s.isZAxis?[1,0,3,2][u]:u,m=0,f=0,g=n.title,v=n.labels,y=0,b=a.axisOffset,x=(a=a.clipOffset,[-1,1,1,-1][u]),w=n.className,k=s.axisParent,A=this.tickSize("tick");t=s.hasData(),s.showAxis=e=t||S(n.showEmpty,!0),s.staggerLines=s.horiz&&v.staggerLines,s.axisGroup||(s.gridGroup=o.g("grid").attr({zIndex:n.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),s.axisGroup=o.g("axis").attr({zIndex:n.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),s.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||s.isLinked?(d(r,(function(t,e){s.generateTick(t,e)})),s.renderUnsquish(),s.reserveSpaceDefault=0===u||2===u||{1:"left",3:"right"}[u]===s.labelAlign,S(v.reserveSpace,"center"===s.labelAlign||null,s.reserveSpaceDefault)&&d(r,(function(t){y=Math.max(c[t].getLabelSize(),y)})),s.staggerLines&&(y*=s.staggerLines),s.labelOffset=y*(s.opposite?-1:1)):C(c,(function(t,e){t.destroy(),delete c[e]})),g&&g.text&&!1!==g.enabled&&(s.addTitle(e),e&&!1!==g.reserveSpace&&(s.titleOffset=m=s.axisTitle.getBBox()[h?"height":"width"],i=g.offset,f=l(i)?0:S(g.margin,h?5:10))),s.renderLine(),s.offset=x*S(n.offset,b[u]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=0===u?-s.labelMetrics().h:2===u?s.tickRotCorr.y:0,f=Math.abs(y)+f,y&&(f=f-o+x*(h?S(v.y,s.tickRotCorr.y+8*x):v.x)),s.axisTitleMargin=S(i,f),b[u]=Math.max(b[u],s.axisTitleMargin+m+x*s.offset,f,t&&r.length&&A?A[0]+x*s.offset:0),n=n.offset?0:2*Math.floor(s.axisLine.strokeWidth()/2),a[p]=Math.max(a[p],n)},getLinePath:function(t){var e=this.chart,i=this.opposite,s=this.offset,a=this.horiz,o=this.left+(i?this.width:0)+s;s=e.chartHeight-this.bottom-(i?this.height:0)+s;return i&&(t*=-1),e.renderer.crispLine(["M",a?this.left:o,a?s:this.top,"L",a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,s=this.len,a=this.options.title,o=t?e:i,n=this.opposite,r=this.offset,l=a.x||0,c=a.y||0,h=this.axisTitle,d=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,h);h=Math.max(h.getBBox(null,0).height-d.h-1,0),s={low:o+(t?0:s),middle:o+s/2,high:o+(t?s:0)}[a.align],e=(t?i+this.height:e)+(t?1:-1)*(n?-1:1)*this.axisTitleMargin+[-h,h,d.f,-h][this.side];return{x:t?s+l:e+(n?this.width:0)+r+l,y:t?e+c-(n?this.height:0)+r:s+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new P(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,s=this.ticks,a=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(s[t]||(s[t]=new P(this,t)),a&&s[t].isNew&&s[t].render(e,!0,.1),s[t].render(e))},render:function(){var e,s,a=this,o=a.chart,n=a.options,r=a.isLog,l=a.isLinked,c=a.tickPositions,h=a.axisTitle,u=a.ticks,m=a.minorTicks,f=a.alternateBands,g=n.stackLabels,v=n.alternateGridColor,y=a.tickmarkOffset,x=a.axisLine,w=a.showAxis,k=i(o.renderer.globalAnimation);a.labelEdge.length=0,a.overlap=!1,d([u,m,f],(function(t){C(t,(function(t){t.isActive=!1}))})),(a.hasData()||l)&&(a.minorTickInterval&&!a.categories&&d(a.getMinorTickPositions(),(function(t){a.renderMinorTick(t)})),c.length&&(d(c,(function(t,e){a.renderTick(t,e)})),y&&(0===a.min||a.single)&&(u[-1]||(u[-1]=new P(a,-1,null,!0)),u[-1].render(-1))),v&&d(c,(function(i,n){s=void 0!==c[n+1]?c[n+1]+y:a.max-y,0===n%2&&i<a.max&&s<=a.max+(o.polar?-y:y)&&(f[i]||(f[i]=new t.PlotLineOrBand(a)),e=i+y,f[i].options={from:r?a.lin2log(e):e,to:r?a.lin2log(s):s,color:v},f[i].render(),f[i].isActive=!0)})),a._addedPlotLB||(d((n.plotLines||[]).concat(n.plotBands||[]),(function(t){a.addPlotBandOrLine(t)})),a._addedPlotLB=!0)),d([u,m,f],(function(t){var e,i=[],s=k.duration;C(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),I((function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==f&&o.hasRendered&&s?s:0)})),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),h&&w&&(n=a.getTitlePosition(),b(n.y)?(h[h.isNew?"attr":"animate"](n),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),g&&g.enabled&&a.renderStackTotals(),a.isDirty=!1,p(this,"afterRender")},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,(function(t){t.render()}))),d(this.series,(function(t){t.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,s=i.stacks,a=i.plotLinesAndBands;if(p(this,"destroy",{keepEvents:t}),t||A(i),C(s,(function(t,e){h(t),s[e]=null})),d([i.ticks,i.minorTicks,i.alternateBands],(function(t){h(t)})),a)for(t=a.length;t--;)a[t].destroy();for(e in d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),(function(t){i[t]&&(i[t]=i[t].destroy())})),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();C(i,(function(t,e){-1===v(e,i.keepProps)&&delete i[e]}))},drawCrosshair:function(t,e){var i,s,a=this.crosshair,n=S(a.snap,!0),r=this.cross;if(p(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!n)){if(n?l(e)&&(s=S(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):s=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(s)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:S(e.stackY,e.y)),null,null,null,s)||null),!l(i))return void this.hideCrosshair();n=this.categories&&!this.isRadial,r||(this.cross=r=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(n?"category ":"thin ")+a.className).attr({zIndex:S(a.zIndex,2)}).add(),r.attr({stroke:a.color||(n?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&r.attr({dashstyle:a.dashStyle})),r.show().attr({d:i}),n&&!a.width&&r.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=M}(e);return function(t){var e=t.Axis,i=t.getMagnitude,s=t.normalizeTickInterval,a=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var n,r=a[e[0]],l=e[1];for(n=0;n<o.length&&(e=o[n],r=a[e[0]],l=e[1],!(o[n+1]&&t<=(r*l[l.length-1]+a[o[n+1][0]])/2));n++);return r===a.year&&t<5*r&&(l=[1,2,5]),t=s(t/r,l,"year"===e[0]?Math.max(i(t/r),1):1),{unitRange:r,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,i=t.getMagnitude,s=t.map,a=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,n,r){var l=this.options,c=this.len,h=[];if(r||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),h=this.getLinearTickPositions(t,e,n);else if(.08<=t){var d,u,p,m,f;for(c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<n+1&&!f;c++)for(u=l.length,d=0;d<u&&!f;d++)p=this.log2lin(this.lin2log(c)*l[d]),p>e&&(!r||m<=n)&&void 0!==m&&h.push(m),m>n&&(f=!0),m=p}else e=this.lin2log(e),n=this.lin2log(n),t=r?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(r?5:1)*(n-e)/((r?c/this.tickPositions.length:c)||1)),t=a(t,null,i(t)),h=s(this.getLinearTickPositions(t,e,n),this.log2lin),r||(this._minorAutoInterval=t/5);return r||(this.tickInterval=t),h},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var i=t.arrayMax,s=t.arrayMin,a=t.defined,o=t.destroyObjectProperties,n=t.each,r=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,s=i.horiz,o=e.options,n=o.label,r=e.label,h=o.to,d=o.from,u=o.value,p=a(d)&&a(h),m=a(u),f=e.svgElem,g=!f,v=[],y=o.color,b=c(o.zIndex,0),x=o.events,w=(v={class:"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},{}),k=i.chart.renderer,C=p?"bands":"lines";if(i.isLog&&(d=i.log2lin(d),h=i.log2lin(h),u=i.log2lin(u)),m?(v.stroke=y,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):p&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),w.zIndex=b,C+="-"+b,(y=i.plotLinesAndBandsGroups[C])||(i.plotLinesAndBandsGroups[C]=y=k.g("plot-"+C).attr(w).add()),g&&(e.svgElem=f=k.path().attr(v).add(y)),m)v=i.getPlotLinePath(u,f.strokeWidth());else{if(!p)return;v=i.getPlotBandPath(d,h,o)}return g&&v&&v.length?(f.attr({d:v}),x&&t.objectEach(x,(function(t,i){f.on(i,(function(t){x[i].apply(e,[t])}))}))):f&&(v?(f.show(),f.animate({d:v})):(f.hide(),r&&(e.label=r=r.destroy()))),n&&a(n.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.isFlat?(n=l({align:s&&p&&"center",x:s?!p&&4:10,verticalAlign:!s&&p&&"middle",y:s?p?16:10:p?6:-4,rotation:s&&!p&&90},n),this.renderLabel(n,v,p,b)):r&&r.hide(),e},renderLabel:function(t,e,a,o){var n=this.label,r=this.axis.chart.renderer;n||(n={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||"")},n.zIndex=o,this.label=n=r.text(t.text,0,0,t.useHTML).attr(n).add(),n.css(t.style)),o=e.xBounds||[e[1],e[4],a?e[6]:e[1]],e=e.yBounds||[e[2],e[5],a?e[7]:e[2]],a=s(o),r=s(e),n.align(t,!1,{x:a,y:r,width:i(o)-a,height:i(e)-r}),n.show()},destroy:function(){r(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,s=this.getPlotLinePath(e,null,null,!0),a=this.getPlotLinePath(t,null,null,!0),o=[],n=this.horiz,r=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,a&&s)for(t&&(i=a.toString()===s.toString(),r=0),t=0;t<a.length;t+=6)n&&s[t+1]===a[t+1]?(s[t+1]+=r,s[t+4]+=r):n||s[t+2]!==a[t+2]||(s[t+2]+=r,s[t+5]+=r),o.push("M",a[t+1],a[t+2],"L",a[t+4],a[t+5],s[t+4],s[t+5],s[t+1],s[t+2],"z"),o.isFlat=i;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var s=new t.PlotLineOrBand(this,e).render(),a=this.userOptions;return s&&(i&&(a[i]=a[i]||[],a[i].push(e)),this.plotLinesAndBands.push(s)),s},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,s=this.userOptions,a=e.length;a--;)e[a].id===t&&e[a].destroy();n([i.plotLines||[],s.plotLines||[],i.plotBands||[],s.plotBands||[]],(function(e){for(a=e.length;a--;)e[a].id===t&&r(e,e[a])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,i),function(t){var e=t.doc,i=t.each,s=t.extend,a=t.format,o=t.isNumber,n=t.map,r=t.merge,l=t.pick,c=t.splat,h=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){i(this.chart.series,(function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))},getLabel:function(){var e,i=this.chart.renderer,s=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:"none"}),t.doc.body.appendChild(e),this.renderer=i=new t.Renderer(e,0,0)),this.split?this.label=i.g("tooltip"):(this.label=i.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,"tooltip").attr({padding:s.padding,r:s.borderRadius}),this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).shadow(s.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),r(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,r(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,a,o){var n=this,r=n.now,l=!1!==n.options.animation&&!n.isHidden&&(1<Math.abs(e-r.x)||1<Math.abs(i-r.y)),c=n.followPointer||1<n.len;s(r,{x:l?(2*r.x+e)/3:e,y:l?(r.y+i)/2:i,anchorX:c?void 0:l?(2*r.anchorX+a)/3:a,anchorY:c?void 0:l?(r.anchorY+o)/2:o}),n.getLabel().attr(r),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){n&&n.move(e,i,a,o)}),32))},hide:function(e){var i=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=h((function(){i.getLabel()[e?"fadeOut":"hide"](),i.isHidden=!0}),e))},getAnchor:function(t,e){var s,a,o,r=this.chart,l=r.inverted,h=r.plotTop,d=r.plotLeft,u=0,p=0;return t=c(t),s=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=r.pointer.normalize(e)),s=[e.chartX-r.plotLeft,e.chartY-h]),s||(i(t,(function(t){a=t.series.yAxis,o=t.series.xAxis,u+=t.plotX+(!l&&o?o.left-d:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&a?a.top-h:0)})),u/=t.length,p/=t.length,s=[l?r.plotWidth-p:u,this.shared&&!l&&1<t.length&&e?e.chartY-h:l?r.plotHeight-u:p]),n(s,Math.round)},getPosition:function(t,i,s){var a,o=this.chart,n=this.distance,r={},c=o.inverted&&s.h||0,h=this.outside,d=h?e.documentElement.clientWidth-2*n:o.chartWidth,u=h?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,m=["y",u,i,(h?p.top-n:0)+s.plotY+o.plotTop,h?0:o.plotTop,h?u:o.plotTop+o.plotHeight],f=["x",d,t,(h?p.left-n:0)+s.plotX+o.plotLeft,h?0:o.plotLeft,h?d:o.plotLeft+o.plotWidth],g=!this.followPointer&&l(s.ttBelow,!o.inverted===!!s.negative),v=function(t,e,i,s,a,o){var l=i<s-n,h=s+n+i<e,d=s-n-i;if(s+=n,g&&h)r[t]=s;else if(!g&&l)r[t]=d;else if(l)r[t]=Math.min(o-i,0>d-c?d:d-c);else{if(!h)return!1;r[t]=Math.max(a,s+c+i>e?s:s+c)}},y=function(t,e,i,s){var a;return s<n||s>e-n?a=!1:r[t]=s<i/2?1:s>e-i/2?e-i-2:s-i/2,a},b=function(t){var e=m;m=f,f=e,a=t},x=function(){!1!==v.apply(0,m)?!1!==y.apply(0,f)||a||(b(!0),x()):a?r.x=r.y=0:(b(!0),x())};return(o.inverted||1<this.len)&&b(),x(),r},defaultFormatter:function(t){var e,i=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(e,s){var a,o,n,r=this.options,h=e,d={},u=[];a=r.formatter||this.defaultFormatter;var p;d=this.shared;r.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=c(h)[0].series.tooltipOptions.followPointer,n=this.getAnchor(h,s),s=n[0],o=n[1],!d||h.series&&h.series.noSharedTooltip?d=h.getLabelConfig():(i(h,(function(t){t.setState("hover"),u.push(t.getLabelConfig())})),d={x:h[0].category,y:h[0].y},d.points=u,h=h[0]),this.len=u.length,d=a.call(d,this),p=h.series,this.distance=l(p.tooltipOptions.distance,16),!1===d?this.hide():(a=this.getLabel(),this.isHidden&&a.attr({opacity:1}).show(),this.split?this.renderSplit(d,c(e)):(r.style.width||a.css({width:this.chart.spacingBox.width}),a.attr({text:d&&d.join?d.join(""):d}),a.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(h.colorIndex,p.colorIndex)),a.attr({stroke:r.borderColor||h.color||p.color||"#666666"}),this.updatePosition({plotX:s,plotY:o,negative:h.negative,ttBelow:h.ttBelow,h:n[2]||0})),this.isHidden=!1))},renderSplit:function(e,s){var a=this,o=[],n=this.chart,r=n.renderer,c=!0,h=this.options,d=0,u=this.getLabel();t.isString(e)&&(e=[!1,e]),i(e.slice(0,s.length+1),(function(t,e){if(!1!==t){e=s[e-1]||{isHeader:!0,plotX:s[0].plotX};var i=e.series||a,p=i.tt,m=e.series||{},f="highcharts-color-"+l(e.colorIndex,m.colorIndex,"none");p||(i.tt=p=r.label(null,null,null,"callout",null,null,h.useHTML).addClass("highcharts-tooltip-box "+f).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:h.borderColor||e.color||m.color||"#333333","stroke-width":h.borderWidth}).add(u)),p.isActive=!0,p.attr({text:t}),p.css(h.style).shadow(h.shadow),t=p.getBBox(),m=t.width+p.strokeWidth(),e.isHeader?(d=t.height,m=Math.max(0,Math.min(e.plotX+n.plotLeft-m/2,n.chartWidth-m))):m=e.plotX+n.plotLeft-l(h.distance,16)-m,0>m&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=n.plotTop,o.push({target:e.isHeader?n.plotHeight+d:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:m,tt:p})}})),this.cleanSplit(),t.distribute(o,n.plotHeight+d),i(o,(function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+n.plotLeft+l(h.distance,16),y:t.pos+n.plotTop,anchorX:e.isHeader?e.plotX+n.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+n.plotTop-15:e.plotY+i.yAxis.pos})}))},updatePosition:function(t){var e,i=this.chart,s=this.getLabel(),a=(this.options.positioner||this.getPosition).call(this,s.width,s.height,t),o=t.plotX+i.plotLeft;t=t.plotY+i.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(s.width+e,s.height+e,!1),o+=i.pointer.chartPosition.left-a.x,t+=i.pointer.chartPosition.top-a.y),this.move(Math.round(a.x),Math.round(a.y||0),o,t)},getDateFormat:function(t,e,i,s){var a,o,n=this.chart.time,r=n.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in d){if(t===d.week&&+n.dateFormat("%w",e)===i&&"00:00:00.000"===r.substr(6)){o="week";break}if(d[o]>t){o=c;break}if(l[o]&&r.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(a=s[o]),a},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var s=i&&i.closestPointRange;return(s?this.getDateFormat(s,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var s=t.series,n=s.tooltipOptions,r=n.xDateFormat,l=s.xAxis,c=l&&"datetime"===l.options.type&&o(t.key),h=n[e+"Format"];return c&&!r&&(r=this.getXDateFormat(t,n,l)),c&&r&&i(t.point&&t.point.tooltipDateKeys||["key"],(function(t){h=h.replace("{point."+t+"}","{point."+t+":"+r+"}")})),a(h,{point:t,series:s},this.chart.time)},bodyFormatter:function(t){return n(t,(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])}))}}}(e),function(t){var e=t.addEvent,i=t.attr,s=t.charts,a=t.color,o=t.css,n=t.defined,r=t.each,l=t.extend,c=t.find,h=t.fireEvent,d=t.isNumber,u=t.isObject,p=t.offset,m=t.pick,f=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=m(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,s=i.zoomType||"";e=e.inverted;/touch/.test(t.type)&&(s=m(i.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=t&&!e||s&&e,this.zoomVert=s&&!e||t&&e,this.hasZoom=t||s},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),l(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return r(this.chart.axes,(function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e},findNearestKDPoint:function(t,e,i){var s;return r(t,(function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,a),(a=u(t,!0))&&!(a=!u(s,!0))){a=s.distX-t.distX;var o=s.dist-t.dist,n=(t.series.group&&t.series.group.zIndex)-(s.series.group&&s.series.group.zIndex);a=0<(0!==a&&e?a:0!==o?o:0!==n?n:s.series.index>t.series.index?-1:1)}a&&(s=t)})),s},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,s=i.xAxis,a=(i=i.yAxis,m(t.clientX,t.plotX)),o=t.shapeArgs;return s&&i?e?{chartX:s.len+s.pos-a,chartY:i.len+i.pos-t.plotY}:{chartX:a+s.pos,chartY:t.plotY+i.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,i,s,a,o,n,l){var h,d=[],p=l&&l.isBoosting;return a=!(!a||!e),l=i&&!i.stickyTracking?[i]:t.grep(s,(function(t){return t.visible&&!(!o&&t.directTouch)&&m(t.options.enableMouseTracking,!0)&&t.stickyTracking})),i=(h=a?e:this.findNearestKDPoint(l,o,n))&&h.series,h&&(o&&!i.noSharedTooltip?(l=t.grep(s,(function(t){return t.visible&&!(!o&&t.directTouch)&&m(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip})),r(l,(function(t){var e=c(t.points,(function(t){return t.x===h.x&&!t.isNull}));u(e)&&(p&&(e=t.getPoint(e)),d.push(e))}))):d.push(h)),{hoverPoint:h,hoverSeries:i,hoverPoints:d}},runPointActions:function(i,a){var o,n=this.chart,l=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,c=!!l&&l.shared,h=a||n.hoverPoint,d=h&&h.series||n.hoverSeries;d=this.getHoverData(h,d,n.series,!!a||d&&d.directTouch&&this.isDirectTouch,c,i,{isBoosting:n.isBoosting}),h=d.hoverPoint;if(o=d.hoverPoints,a=(d=d.hoverSeries)&&d.tooltipOptions.followPointer,c=c&&d&&!d.noSharedTooltip,h&&(h!==n.hoverPoint||l&&l.isHidden)){if(r(n.hoverPoints||[],(function(e){-1===t.inArray(e,o)&&e.setState()})),r(o||[],(function(t){t.setState("hover")})),n.hoverSeries!==d&&d.onMouseOver(),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!h.series)return;h.firePointEvent("mouseOver"),n.hoverPoints=o,n.hoverPoint=h,l&&l.refresh(c?o:h,i)}else a&&l&&!l.isHidden&&(h=l.getAnchor([{}],i),l.updatePosition({plotX:h[0],plotY:h[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(n.container.ownerDocument,"mousemove",(function(e){var i=s[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)}))),r(n.axes,(function(e){var s=m(e.crosshair.snap,!0),a=s?t.find(o,(function(t){return t.series[e.coll]===e})):void 0;a||!s?e.drawCrosshair(i,a):e.hideCrosshair()}))},reset:function(t,e){var i=this.chart,s=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,n=i.tooltip,l=n&&n.shared?o:a;t&&l&&r(f(l),(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?n&&l&&(n.refresh(l),a&&(a.setState(a.state,!0),r(i.axes,(function(t){t.crosshair&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),o&&r(o,(function(t){t.setState()})),s&&s.onMouseOut(),n&&n.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),r(i.axes,(function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,s=this.chart;r(s.series,(function(a){i=t||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(e?s.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))})),s.clipRect.attr(e||s.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,s=i.options.chart,o=t.chartX,n=t.chartY,r=this.zoomHor,l=this.zoomVert,c=i.plotLeft,h=i.plotTop,d=i.plotWidth,u=i.plotHeight,p=this.selectionMarker,m=this.mouseDownX,f=this.mouseDownY,g=s.panKey&&t[s.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+d&&(o=c+d),n<h?n=h:n>h+u&&(n=h+u),this.hasDragged=Math.sqrt(Math.pow(m-o,2)+Math.pow(f-n,2)),10<this.hasDragged&&(e=i.isInsidePlot(m-c,f-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=i.renderer.rect(c,h,r?1:d,l?1:u,0).attr({fill:s.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&r&&(o-=m,p.attr({width:Math.abs(o),x:(0<o?0:o)+m})),p&&l&&(o=n-f,p.attr({height:Math.abs(o),y:(0<o?0:o)+f})),e&&!p&&s.panning&&i.pan(t,s.panning)))},drop:function(t){var e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){var a,c={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,p=u.attr?u.attr("x"):u.x,m=u.attr?u.attr("y"):u.y,f=u.attr?u.attr("width"):u.width,g=u.attr?u.attr("height"):u.height;(this.hasDragged||s)&&(r(i.axes,(function(i){if(i.zoomEnabled&&n(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,r="touchend"===t.type?i.minPixelPadding:0,l=i.toValue((o?p:m)+r);o=i.toValue((o?p+f:m+g)-r);c[i.coll].push({axis:i,min:Math.min(l,o),max:Math.max(l,o)}),a=!0}})),a&&h(i,"selection",c,(function(t){i.zoom(l(t,s?{animation:!1}:null))}))),d(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&d(i.index)&&(o(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){s[t.hoverChartIndex]&&s[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=s[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;n(t.hoverChartIndex)&&s[t.hoverChartIndex]&&s[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var s;t;){if(s=i(t,"class")){if(-1!==s.indexOf(e))return!0;if(-1!==s.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,s=e.plotLeft,a=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(h(i.series,"click",l(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-s,t.chartY-a)&&h(e,"click",t)))},setDOMEvents:function(){var i=this,s=i.chart.container,a=s.ownerDocument;s.onmousedown=function(t){i.onContainerMouseDown(t)},s.onmousemove=function(t){i.onContainerMouseMove(t)},s.onclick=function(t){i.onContainerClick(t)},this.unbindContainerMouseLeave=e(s,"mouseleave",i.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(a,"mouseup",i.onDocumentMouseUp)),t.hasTouch&&(s.ontouchstart=function(t){i.onContainerTouchStart(t)},s.ontouchmove=function(t){i.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(a,"touchend",i.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,(function(t,i){e[i]=null}))}}}(e),function(t){var e=t.charts,i=t.each,s=t.extend,a=t.map,o=t.noop,n=t.pick;s(t.Pointer.prototype,{pinchTranslate:function(t,e,i,s,a,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,s,a,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,s,a,o)},pinchTranslateDirection:function(t,e,i,s,a,o,n,r){var l,c,h,d=this.chart,u=t?"x":"y",p=t?"X":"Y",m="chart"+p,f=t?"width":"height",g=d["plot"+(t?"Left":"Top")],v=r||1,y=d.inverted,b=d.bounds[t?"h":"v"],x=1===e.length,w=e[0][m],k=i[0][m],C=!x&&e[1][m],S=!x&&i[1][m];i=function(){!x&&20<Math.abs(w-C)&&(v=r||Math.abs(k-S)/Math.abs(w-C)),c=(g-k)/v+w,l=d["plot"+(t?"Width":"Height")]/v},i(),e=c,e<b.min?(e=b.min,h=!0):e+l>b.max&&(e=b.max-l,h=!0),h?(k-=.8*(k-n[u][0]),x||(S-=.8*(S-n[u][1])),i()):n[u]=[k,S],y||(o[u]=c-g,o[f]=l),o=y?1/v:v,a[f]=l,a[u]=e,s[y?t?"scaleY":"scaleX":"scale"+p]=v,s["translate"+p]=o*g+(k-o*w)},pinch:function(t){var e=this,r=e.chart,l=e.pinchDown,c=t.touches,h=c.length,d=e.lastValidTouch,u=e.hasZoom,p=e.selectionMarker,m={},f=1===h&&(e.inClass(t.target,"highcharts-tracker")&&r.runTrackerClick||e.runChartClick),g={};1<h&&(e.initiated=!0),u&&e.initiated&&!f&&t.preventDefault(),a(c,(function(t){return e.normalize(t)})),"touchstart"===t.type?(i(c,(function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}})),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],i(r.axes,(function(t){if(t.zoomEnabled){var e=r.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(n(t.options.min,t.dataMin)),a=t.toPixels(n(t.options.max,t.dataMax)),o=Math.max(s,a);e.min=Math.min(t.pos,Math.min(s,a)-i),e.max=Math.max(t.pos+t.len,o+i)}})),e.res=!0):e.followTouchMove&&1===h?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=s({destroy:o,touch:!0},r.plotBox)),e.pinchTranslate(l,c,m,p,g,d),e.hasPinched=u,e.scaleGroups(m,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var s,a=this.chart;a.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=a.index,1===e.touches.length?(e=this.normalize(e),a.isInsidePlot(e.chartX-a.plotLeft,e.chartY-a.plotTop)&&!a.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,s=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),n(s,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){var e=t.addEvent,i=t.charts,s=t.css,a=t.doc,o=t.extend,n=t.noop,r=t.Pointer,l=t.removeEvent,c=t.win,h=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var d={},u=!!c.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e},m=function(e,s,a,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),o=i[t.hoverChartIndex].pointer,o[s]({type:a,target:e.currentTarget,preventDefault:n,touches:p()}))};o(r.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",(function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",(function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",(function(t){delete d[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,u?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,u?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(a,u?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(r.prototype,"init",(function(t,e,i){t.call(this,e,i),this.hasZoom&&s(e.container,{"-ms-touch-action":"none","touch-action":"none"})})),h(r.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)})),h(r.prototype,"destroy",(function(t){this.batchMSEvents(l),t.call(this)}))}}(e),function(t){var e=t.addEvent,i=t.css,s=t.discardElement,a=t.defined,o=t.each,n=t.fireEvent,r=t.isFirefox,l=t.marginNames,c=t.merge,h=t.pick,d=t.setAnimation,u=t.stableSort,p=t.win,m=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=e(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=h(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=h(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,h(e,!0)&&i.redraw(),n(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,s=t.legendItem,a=t.legendLine,o=t.legendSymbol,r=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:r,e&&t.color||r),c=t.options&&t.options.marker,h={fill:l};s&&s.css({fill:i,color:i}),a&&a.attr({stroke:l}),o&&(c&&o.isMarker&&(h=t.pointAttribs(),e||(h.stroke=h.fill=r)),o.attr(h)),n(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,i=e.symbolPadding,s=(e=!e.rtl,t._legendItemPos),o=s[0],n=(s=s[1],t.checkbox);(t=t.legendGroup)&&t.element&&t[a(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*i-4,translateY:s}),n&&(n.x=o,n.y=s)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],(function(e){t[e]&&(t[e]=t[e].destroy())})),e&&s(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),(function(e){o(["legendItem","legendGroup"],t,e)})),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,s=this.clipHeight||this.legendHeight,a=this.titleHeight;e&&(t=e.translateY,o(this.allItems,(function(o){var n,r=o.checkbox;r&&(n=t+a+r.y+(this.scrollOffset||0)+3,i(r,{left:e.translateX+o.checkboxOffset+r.x-20+"px",top:n+"px",display:n>t-6&&n<t+s-6?"":"none"}))}),this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,s=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),s=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:s})),this.titleHeight=s},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,s=this.options,a=this.symbolWidth,o=s.symbolPadding,n=this.itemStyle,r=this.itemHiddenStyle,l="horizontal"===s.layout?h(s.itemDistance,20):0,d=!s.rtl,u=t.legendItem,p=!t.series,m=!p&&t.series.drawLegendSymbol?t.series:t,f=m.options,g=(f=this.createCheckboxForItem&&f&&f.showCheckbox,l=a+o+l+(f?20:0),s.useHTML),v=t.options.className;u||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+m.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=u=i.text("",d?a+o:-o,this.baseline||0,g).css(c(t.visible?n:r)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=n.fontSize,this.fontMetrics=i.fontMetrics(a,u),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,u.attr("y",this.baseline)),this.symbolHeight=s.symbolHeight||this.fontMetrics.f,m.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,u,g),f&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),n.width||u.css({width:(s.itemWidth||s.width||e.spacingBox.width)-l}),this.setText(t),e=u.getBBox(),t.itemWidth=t.checkboxOffset=s.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,s="horizontal"===e.layout,a=t.itemHeight,o=e.itemMarginBottom||0,n=this.itemMarginTop,r=s?h(e.itemDistance,20):0,l=e.width,c=l||this.chart.spacingBox.width-2*i-e.x;e=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth;s&&this.itemX-i+e>c&&(this.itemX=i,this.itemY+=n+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=n+this.itemY+o,this.lastLineHeight=Math.max(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=e:(this.itemY+=n+a+o,this.lastLineHeight=a),this.offsetWidth=l||Math.max((s?this.itemX-i-(t.checkbox?0:r):e)+i,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,(function(e){var i=e&&e.options;e&&h(i.showInLegend,!a(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))})),n(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,s=this.options,n=this.getAlignment();n&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(o,r){o.test(n)&&!a(t[r])&&(i[l[r]]=Math.max(i[l[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*s[r%2?"x":"y"]+h(s.margin,12)+e[r]+(0===r&&void 0!==i.options.title.margin?i.titleOffset+i.options.title.margin:0)))}))},proximatePositions:function(){var e=this.chart,i=[],s="left"===this.options.align;o(this.allItems,(function(a){var o,n;o=s,a.xAxis&&a.points&&(a.xAxis.options.reversed&&(o=!o),o=t.find(o?a.points:a.points.slice(0).reverse(),(function(e){return t.isNumber(e.plotY)})),n=a.legendGroup.getBBox().height,i.push({target:a.visible?o.plotY-.3*n:e.plotHeight,size:n,item:a}))}),this),t.distribute(i,e.plotHeight),o(i,(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos}))},render:function(){var t,e,i,s=this.chart,a=s.renderer,n=this.group,r=this.box,l=this.options,h=this.padding;this.itemX=h,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,n||(this.group=n=a.g("legend").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(n),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),u(t,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+h,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=h,r||(this.box=r=a.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(n),r.isNew=!0),r.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<i&&(r[r.isNew?"attr":"animate"](r.crisp.call({},{x:0,y:0,width:t,height:i},r.strokeWidth())),r.isNew=!1),r[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=i,e&&(a=s.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(a=c(a,{y:a.y+s.titleOffset+s.options.title.margin})),n.align(c(l,{width:t,height:i,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,a)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,i,s=this,a=this.chart,n=a.renderer,r=this.options,l=r.y,c=this.padding,d=(a=a.spacingBox.height+("top"===r.verticalAlign?-l:l)-c,l=r.maxHeight,this.clipRect),u=r.navigation,p=h(u.animation,!0),m=u.arrowSize||12,f=this.nav,g=this.pages,v=this.allItems,y=function(t){"number"===typeof t?d.attr({height:t}):d&&(s.clipRect=d.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==r.layout||"middle"===r.verticalAlign||r.floating||(a/=2),l&&(a=Math.min(a,l)),g.length=0,t>a&&!1!==u.enabled?(this.clipHeight=e=Math.max(a-20-this.titleHeight-c,0),this.currentPage=h(this.currentPage,1),this.fullHeight=t,o(v,(function(t,s){var a=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),n=g.length;(!n||a-g[n-1]>e&&(i||a)!==g[n-1])&&(g.push(i||a),n++),t.pageIx=n-1,i&&(v[s-1].pageIx=n-1),s===v.length-1&&a+o-g[n-1]>e&&(g.push(a),t.pageIx=n),a!==i&&(i=a)})),d||(d=s.clipRect=n.clipRect(0,c,9999,0),s.contentGroup.clip(d)),y(e),f||(this.nav=f=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,m,m).on("click",(function(){s.scroll(-1,p)})).add(f),this.pager=n.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(f),this.down=n.symbol("triangle-down",0,0,m,m).on("click",(function(){s.scroll(1,p)})).add(f)),s.scroll(0),t=a):f&&(y(),this.nav=f.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,s=i.length;t=this.currentPage+t;var a=this.clipHeight,o=this.options.navigation,n=this.pager,r=this.padding;t>s&&(t=s),0<t&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:r,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),n.attr({text:t+"/"+s}),this.down.attr({x:18+this.pager.getBBox().width,class:t===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===s?o.inactiveColor:o.activeColor}).css({cursor:t===s?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,s=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(s?(t.symbolWidth-i)/2:0,t.baseline-i+1,s?i:t.symbolWidth,i,h(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,s=i.marker,a=t.symbolWidth,o=t.symbolHeight,n=o/2,r=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=r.path(["M",0,t,"L",a,t]).addClass("highcharts-graph").attr(e).add(l),s&&!1!==s.enabled&&a&&(i=Math.min(h(s.radius,n),n),0===this.symbol.indexOf("url")&&(s=c(s,{width:o,height:o}),i=0),this.legendSymbol=s=r.symbol(this.symbol,a/2-i,t-i,2*i,2*i,s).addClass("highcharts-point").add(l),s.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||r)&&m(t.Legend.prototype,"positionItem",(function(t,e){var i=this,s=function(){e._legendItemPos&&t.call(i,e)};s(),setTimeout(s)}))}(e),function(t){var e=t.addEvent,i=t.animate,s=t.animObject,a=t.attr,o=t.doc,n=t.Axis,r=t.createElement,l=t.defaultOptions,c=t.discardElement,h=t.charts,d=t.css,u=t.defined,p=t.each,m=t.extend,f=t.find,g=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,x=t.isString,w=t.Legend,k=t.marginNames,C=t.merge,S=t.objectEach,A=t.Pointer,T=t.pick,I=t.pInt,P=t.removeEvent,M=t.seriesTypes,L=t.splat,_=t.syncTimeout,D=t.win,F=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new F(t,e,i)},m(F.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(x(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,s){var a,o,n=i.series,r=i.plotOptions||{};g(this,"init",{args:arguments},(function(){for(o in i.series=null,a=C(l,i),a.plotOptions)a.plotOptions[o].tooltip=r[o]&&C(r[o].tooltip)||void 0;a.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,a.series=i.series=n,this.userOptions=i;var c=a.chart,d=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=s,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=i.time&&t.keys(i.time).length?new t.Time(i.time):t.time,this.hasCartesianSeries=c.showAxes;var u=this;u.index=h.length,h.push(u),t.chartCount++,d&&S(d,(function(t,i){e(u,i,t)})),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,g(u,"afterInit"),u.firstRender()}))},initSeries:function(e){var i=this.options.chart;return(i=M[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),i=new i,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var s=i?e:t;return t=i?t:e,0<=s&&s<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var i,s,a,o=this.axes,n=this.series,r=this.pointer,l=this.legend,c=this.isDirtyLegend,h=this.hasCartesianSeries,d=this.isDirtyBox,u=this.renderer,f=u.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),f&&this.temporaryDisplay(),this.layOutTitles(),e=n.length;e--;)if(a=n[e],a.options.stacking&&(i=!0,a.isDirty)){s=!0;break}if(s)for(e=n.length;e--;)a=n[e],a.options.stacking&&(a.isDirty=!0);p(n,(function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&g(t,"updatedData")})),c&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),h&&p(o,(function(t){t.updateNames(),t.setScale()})),this.getMargins(),h&&(p(o,(function(t){t.isDirty&&(d=!0)})),p(o,(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push((function(){g(t,"afterSetExtremes",m(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(d||i)&&t.redraw()}))),d&&this.drawChartBox(),g(this,"predraw"),p(n,(function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),r&&r.reset(!0),u.draw(),g(this,"redraw"),g(this,"render"),f&&this.temporaryDisplay(!0),p(v,(function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,s,a=this.series;for(i=f(this.axes,e)||f(this.series,e),s=0;!i&&s<a.length;s++)i=f(a[s].points||[],e);return i},getAxes:function(){var t=this,e=this.options,i=e.xAxis=L(e.xAxis||{});e=e.yAxis=L(e.yAxis||{});g(this,"getAxes"),p(i,(function(t,e){t.index=e,t.isX=!0})),p(e,(function(t,e){t.index=e})),i=i.concat(e),p(i,(function(e){new n(t,e)})),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return p(this.series,(function(e){t=t.concat(v(e.data||[],(function(t){return t.selected})))})),t},getSelectedSeries:function(){return v(this.series,(function(t){return t.selected}))},setTitle:function(t,e,i){var s,a=this,o=a.options;s=o.title=C({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=C({style:{color:"#666666"}},o.subtitle,e),p([["title",t,s],["subtitle",e,o]],(function(t,e){var i=t[0],s=a[i],o=t[1];t=t[2],s&&o&&(a[i]=s=s.destroy()),t&&!s&&(a[i]=a.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),a[i].update=function(t){a.setTitle(!e&&t,e&&t)},a[i].css(t.style))})),a.layOutTitles(i)},layOutTitles:function(t){var e,i=0,s=this.renderer,a=this.spacingBox;p(["title","subtitle"],(function(t){var e,o=this[t],n=this.options[t];t="title"===t?-3:n.verticalAlign?0:i+2,o&&(e=n.style.fontSize,e=s.fontMetrics(e,o).b,o.css({width:(n.width||a.width+n.widthAdjust)+"px"}).align(m({y:t+e},n),!1,"spacingBox"),n.floating||n.verticalAlign||(i=Math.ceil(i+o.getBBox(n.useHTML).height)))}),this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width,s=(e=e.height,this.renderTo);u(i)||(this.containerWidth=t.getStyle(s,"width")),u(e)||(this.containerHeight=t.getStyle(s,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(o.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style;)if(o.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,o.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),i=i.parentNode,i===o.body)break},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,s,n=this.options,l=n.chart;e=this.renderTo;var c,d=t.uniqueKey();e||(this.renderTo=e=l.renderTo),x(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),i=I(a(e,"data-highcharts-chart")),y(i)&&h[i]&&h[i].hasRendered&&h[i].destroy(),a(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,s=this.chartHeight,c=m({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=r("div",{id:d},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,i,s,null,l.forExport,n.exporting&&n.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,s=this.titleOffset;this.resetMargins(),s&&!u(i[0])&&(this.plotTop=Math.max(this.plotTop,s+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,(function(t){t.visible&&t.getOffset()})),p(k,(function(s,a){u(i[a])||(t[s]+=e[a])})),t.setChartSize()},reflow:function(e){var i=this,s=i.options.chart,a=i.renderTo,n=u(s.width)&&u(s.height),r=s.width||t.getStyle(a,"width");s=s.height||t.getStyle(a,"height"),a=e?e.target:D;n||i.isPrinting||!r||!s||a!==D&&a!==o||(r===i.containerWidth&&s===i.containerHeight||(t.clearTimeout(i.reflowTimeout),i.reflowTimeout=_((function(){i.container&&i.setSize(void 0,void 0,!1)}),e?100:0)),i.containerWidth=r,i.containerHeight=s)},setReflow:function(t){var i=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(D,"resize",(function(t){i.reflow(t)})),e(this,"destroy",this.unbindReflow))},setSize:function(e,a,o){var n=this,r=n.renderer;n.isResizing+=1,t.setAnimation(o,n),n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,void 0!==e&&(n.options.chart.width=e),void 0!==a&&(n.options.chart.height=a),n.getChartSize(),e=r.globalAnimation,(e?i:d)(n.container,{width:n.chartWidth+"px",height:n.chartHeight+"px"},e),n.setChartSize(!0),r.setSize(n.chartWidth,n.chartHeight,o),p(n.axes,(function(t){t.isDirty=!0,t.setScale()})),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(o),n.oldChartHeight=null,g(n,"resize"),_((function(){n&&g(n,"endResize",null,(function(){--n.isResizing}))}),s(e).duration)},setChartSize:function(t){var e,i,s,a,o=this.inverted,n=this.renderer,r=this.chartWidth,l=this.chartHeight,c=this.options.chart,h=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=s=Math.max(0,Math.round(r-e-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=o?a:s,this.plotSizeY=o?s:a,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:h[3],y:h[0],width:r-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=n.plotBox={x:e,y:i,width:s,height:a},r=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(r,d[3])/2),n=Math.ceil(Math.max(r,d[0])/2),this.clipBox={x:o,y:n,width:Math.floor(this.plotSizeX-Math.max(r,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(r,d[2])/2-n))},t||p(this.axes,(function(t){t.setAxisSize(),t.setAxisTranslation()})),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],(function(i){var s=e[i],a=b(s)?s:[s,s,s,s];p(["Top","Right","Bottom","Left"],(function(s,o){t[i][o]=T(e[i+s],a[o])}))})),p(k,(function(e,i){t[e]=T(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,s=this.renderer,a=this.chartWidth,o=this.chartHeight,n=this.chartBackground,r=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,h=i.backgroundColor,d=i.plotBackgroundColor,u=i.plotBackgroundImage,p=this.plotLeft,m=this.plotTop,f=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox,w="animate";n||(this.chartBackground=n=s.rect().addClass("highcharts-background").add(),w="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),h={fill:h||"none"},(t||n["stroke-width"])&&(h.stroke=i.borderColor,h["stroke-width"]=t),n.attr(h).shadow(i.shadow),n[w]({x:e/2,y:e/2,width:a-e-t%2,height:o-e-t%2,r:i.borderRadius}),w="animate",r||(w="attr",this.plotBackground=r=s.rect().addClass("highcharts-plot-background").add()),r[w](y),r.attr({fill:d||"none"}).shadow(i.plotShadow),u&&(c?c.animate(y):this.plotBGImage=s.image(u,p,m,f,v).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=s.clipRect(x),w="animate",l||(w="attr",this.plotBorder=l=s.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:p,y:m,width:f,height:v},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,s=this,a=s.options.chart,o=s.options.series;p(["inverted","angular","polar"],(function(n){for(t=M[a.type||a.defaultSeriesType],i=a[n]||t&&t.prototype[n],e=o&&o.length;!i&&e--;)(t=M[o[e].type])&&t.prototype[n]&&(i=!0);s[n]=i}))},linkSeries:function(){var t=this,e=t.series;p(e,(function(t){t.linkedSeries.length=0})),p(e,(function(e){var i=e.options.linkedTo;x(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=T(e.options.visible,i.options.visible,e.visible))})),g(this,"afterLinkSeries")},renderSeries:function(){p(this.series,(function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,(function(i){var s=m(e.style,i.style),a=I(s.left)+t.plotLeft,o=I(s.top)+t.plotTop+12;delete s.left,delete s.top,t.renderer.text(i.html,a,o).attr({zIndex:2}).css(s).add()}))},render:function(){var t,e,i,s=this.axes,a=this.renderer,o=this.options;this.setTitle(),this.legend=new w(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(s,(function(t){t.setScale()})),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(p(s,(function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(s,(function(t){t.visible&&t.render()})),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(D.location.href=t.href)})).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,s=i.axes,a=i.series,o=i.container,n=o&&o.parentNode;for(g(i,"destroy"),i.renderer.forExport?t.erase(h,i):h[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),P(i),e=s.length;e--;)s[e]=s[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=a.length;e--;)a[e]=a[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),(function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())})),o&&(o.innerHTML="",P(o),n&&c(o)),S(i,(function(t,e){delete i[e]}))},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],(function(e){t.initSeries(e)})),t.linkSeries(),g(t,"beforeRender"),A&&(t.pointer=new A(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),(function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),g(this,"load"),g(this,"render"),u(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,i=t.Chart,s=t.each;e(i,"afterSetChartSize",(function(e){var i=this.options.chart.scrollablePlotArea;(i=i&&i.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=i=Math.max(0,i-this.chartWidth))&&(this.plotWidth+=i,this.clipBox.width+=i,e.skipAxes||s(this.axes,(function(e){1===e.side?e.getPlotLinePath=function(){var i,s=this.right;return this.right=s-e.chart.scrollablePixels,i=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=s,i}:(e.setAxisSize(),e.setAxisTranslation())})))})),e(i,"render",(function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.applyFixed=function(){var e,i,s=this.container,a=!this.fixedDiv;a&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title"],(function(i){t.each(s.querySelectorAll(i),(function(t){e.box.appendChild(t),t.style.pointerEvents="auto"}))}))),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),i=this.chartWidth+this.scrollablePixels,this.container.style.width=i+"px",this.renderer.boxWrapper.attr({width:i,height:this.chartHeight,viewBox:[0,0,i,this.chartHeight].join(" ")}),a&&(i=this.options.chart.scrollablePlotArea,i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*i.scrollPositionX)),a=this.axisOffset,i=this.plotTop-a[0]-1;a=this.plotTop+this.plotHeight+a[2];var o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,i,"L",this.plotLeft-1,i,"L",this.plotLeft-1,a,"L",0,a,"Z","M",o,i,"L",this.chartWidth,i,"L",this.chartWidth,a,"L",o,a,"Z"]:["M",0,0]})}}(e),function(t){var e,i=t.each,s=t.extend,a=t.erase,o=t.fireEvent,n=t.format,r=t.isArray,l=t.isNumber,c=t.pick,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=c(this.colorIndex,i),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,i){var a=this.series,o=a.options.pointValKey||a.pointValKey;return t=e.prototype.optionsToObject.call(this,t),s(this,t),this.options=this.options?s(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===i?a.autoIncrement(this):i),this},setNestedProperty:function(e,i,s){return s=s.split("."),t.reduce(s,(function(e,s,a,o){return e[s]=o.length-1===a?i:t.isObject(e[s],!0)?e[s]:{},e[s]}),e),e},optionsToObject:function(e){var i={},s=this.series,a=s.options.keys,o=a||s.pointArrayMap||["y"],n=o.length,c=0,h=0;if(l(e)||null===e)i[o[0]]=e;else if(r(e))for(!a&&e.length>n&&(s=typeof e[0],"string"===s?i.name=e[0]:"number"===s&&(i.x=e[0]),c++);h<n;)a&&void 0===e[c]||(0<o[h].indexOf(".")?t.Point.prototype.setNestedProperty(i,e[c],o[h]):i[o[h]]=e[c]),c++,h++;else"object"===typeof e&&(i=e,e.dataLabels&&(s._hasPointLabels=!0),e.marker&&(s._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,s=(e=e.zoneAxis||"y",0);for(t=i[s];this[e]>=t.value;)t=i[++s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),a(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,s=e.tooltipOptions,a=c(s.valueDecimals,""),o=s.valuePrefix||"",r=s.valueSuffix||"";return i(e.pointArrayMap||["y"],(function(e){e="{point."+e,(o||r)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+r)),t=t.replace(RegExp(e+"}","g"),e+":,."+a+"f}")})),n(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var s=this,a=this.series.options;(a.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&this.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){s.select&&s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(e),function(t){var e=t.addEvent,i=t.animObject,s=t.arrayMax,a=t.arrayMin,o=t.correctFloat,n=t.defaultOptions,r=t.defaultPlotOptions,l=t.defined,c=t.each,h=t.erase,d=t.extend,u=t.fireEvent,p=t.grep,m=t.isArray,f=t.isNumber,g=t.isString,v=t.merge,y=t.objectEach,b=t.pick,x=t.removeEvent,w=t.splat,k=t.SVGElement,C=t.syncTimeout,S=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var s,a,o=this,n=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),d(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),s=i.events,y(s,(function(t,i){e(o,i,t)})),(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,(function(t){o[t+"Data"]=[]})),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),n.length&&(a=n[n.length-1]),o._i=b(a&&a._i,-1)+1,t.orderSeries(this.insert(n)),u(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(f(i)){for(e=t.length;e--;)if(i>=b(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return b(e,t.length-1)},bindAxes:function(){var e,i=this,s=i.options,a=i.chart;c(i.axisTypes||[],(function(o){c(a[o],(function(t){e=t.options,(s[o]===e.index||void 0!==s[o]&&s[o]===e.id||void 0===s[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)})),i[o]||i.optionalAxis===o||t.error(18,!0)}))},updateParallelArrays:function(t,e){var i=t.series,s=arguments,a=f(e)?function(s){var a="y"===s&&i.toYData?i.toYData(t):t[s];i[s+"Data"][e]=a}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(s,2))};c(i.parallelArrays,a)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,s=e.pointIntervalUnit,a=this.chart.time;i=b(i,e.pointStart,0);return this.pointInterval=t=b(this.pointInterval,e.pointInterval,1),s&&(e=new a.Date(i),"day"===s?a.set("Date",e,a.get("Date",e)+t):"month"===s?a.set("Month",e,a.get("Month",e)+t):"year"===s&&a.set("FullYear",e,a.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,s=i.plotOptions,a=(e.userOptions||{}).plotOptions||{},o=s[this.type];return this.userOptions=t,e=v(o,s.series,t),this.tooltipOptions=v(n.tooltip,n.plotOptions.series&&n.plotOptions.series.tooltip,n.plotOptions[this.type].tooltip,i.tooltip.userOptions,s.series&&s.series.tooltip,s[this.type].tooltip,t.tooltip),this.stickyTracking=b(t.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),u(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var s,a=this.chart,o=this.userOptions,n=t+"Index",r=t+"Counter",c=i?i.length:b(a.options.chart[t+"Count"],a[t+"Count"]);e||(s=b(o[n],o["_"+n]),l(s)||(a.series.length||(a[r]=0),o["_"+n]=s=a[r]%c,a[r]+=1),i&&(e=i[s])),void 0!==s&&(this[n]=s),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||r[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var i,s,a,o=this.options,n=this.points,r=[],l=this.requireSorting;if(c(e,(function(e){var s;s=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,f(s)&&(s=t.inArray(s,this.xData,a),-1===s?r.push(e):e!==o.data[s]?(n[s].update(e,!1,null,!1),n[s].touched=!0,l&&(a=s)):n[s]&&(n[s].touched=!0),i=!0)}),this),i)for(e=n.length;e--;)s=n[e],s.touched||s.remove(!1),s.touched=!1;else{if(e.length!==n.length)return!1;c(e,(function(t,e){n[e].update&&t!==o.data[e]&&n[e].update(t,!1,null,!1)}))}return c(r,(function(t){this.addPoint(t,!1)}),this),!0},setData:function(e,i,s,a){var o,n,r=this,l=r.points,h=l&&l.length||0,d=r.options,u=r.chart,p=null,v=r.xAxis,y=d.turboThreshold,x=this.xData,w=this.yData,k=(o=r.pointArrayMap)&&o.length;if(e=e||[],o=e.length,i=b(i,!0),!1!==a&&o&&h&&!r.cropped&&!r.hasGroupedData&&r.visible&&(n=this.updateData(e)),!n){if(r.xIncrement=null,r.colorCounter=0,c(this.parallelArrays,(function(t){r[t+"Data"].length=0})),y&&o>y){for(s=0;null===p&&s<o;)p=e[s],s++;if(f(p))for(s=0;s<o;s++)x[s]=this.autoIncrement(),w[s]=e[s];else if(m(p))if(k)for(s=0;s<o;s++)p=e[s],x[s]=p[0],w[s]=p.slice(1,k+1);else for(s=0;s<o;s++)p=e[s],x[s]=p[0],w[s]=p[1];else t.error(12)}else for(s=0;s<o;s++)void 0!==e[s]&&(p={series:r},r.pointClass.prototype.applyOptions.apply(p,[e[s]]),r.updateParallelArrays(p,s));for(w&&g(w[0])&&t.error(14,!0),r.data=[],r.options.data=r.userOptions.data=e,s=h;s--;)l[s]&&l[s].destroy&&l[s].destroy();v&&(v.minRange=v.userMinRange),r.isDirty=u.isDirtyBox=!0,r.isDirtyData=!!l,s=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&u.redraw(s)},processData:function(e){var i,s=this.xData,a=this.yData,o=s.length;i=0;var n,r,l,c=this.xAxis,h=this.options;l=h.cropThreshold;var d,u,p=this.getExtremesFromAll||h.getExtremesFromAll,m=this.isCartesian,f=(h=c&&c.val2lin,c&&c.isLog),g=this.requireSorting;if(m&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),d=e.min,u=e.max),m&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(s[o-1]<d||s[0]>u?(s=[],a=[]):(s[0]<d||s[o-1]>u)&&(i=this.cropData(this.xData,this.yData,d,u),s=i.xData,a=i.yData,i=i.start,n=!0)),l=s.length||1;--l;)o=f?h(s[l])-h(s[l-1]):s[l]-s[l-1],0<o&&(void 0===r||o<r)?r=o:0>o&&g&&(t.error(15),g=!1);this.cropped=n,this.cropStart=i,this.processedXData=s,this.processedYData=a,this.closestPointRange=r},cropData:function(t,e,i,s,a){var o,n=t.length,r=0,l=n;for(a=b(a,this.cropShoulder,1),o=0;o<n;o++)if(t[o]>=i){r=Math.max(0,o-a);break}for(i=o;i<n;i++)if(t[i]>s){l=i+a;break}return{xData:t.slice(r,l),yData:e.slice(r,l),start:r,end:l}},generatePoints:function(){var t,e,i,s,a=this.options,o=a.data,n=this.data,r=this.processedXData,l=this.processedYData,c=this.pointClass,h=r.length,d=this.cropStart||0,u=this.hasGroupedData,p=(a=a.keys,[]);for(n||u||(n=[],n.length=o.length,n=this.data=n),a&&u&&(this.options.keys=!1),s=0;s<h;s++)e=d+s,u?(i=(new c).init(this,[r[s]].concat(w(l[s]))),i.dataGroup=this.groupMap[s]):(i=n[e])||void 0===o[e]||(n[e]=i=(new c).init(this,o[e],r[s])),i&&(i.index=e,p[s]=i);if(this.options.keys=a,n&&(h!==(t=n.length)||u))for(s=0;s<t;s++)s!==d||u||(s+=h),n[s]&&(n[s].destroyElements(),n[s].plotX=void 0);this.data=n,this.points=p},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,n=[],r=0;e=this.xAxis.getExtremes();var l,c,h,d,u=e.min,p=e.max,g=this.requireSorting?1:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,d=0;d<e;d++)if(c=o[d],h=t[d],l=(f(h,!0)||m(h))&&(!i.positiveValuesOnly||h.length||0<h),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[d+g]||c)>=u&&(o[d-g]||c)<=p,l&&c)if(l=h.length)for(;l--;)"number"===typeof h[l]&&(n[r++]=h[l]);else n[r++]=h;this.dataMin=a(n),this.dataMax=s(n)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,s,a=this.options,n=a.stacking,r=this.xAxis,c=r.categories,h=this.yAxis,d=this.points,p=d.length,m=!!this.modifyValue,g=a.pointPlacement,v="between"===g||f(g),y=a.threshold,x=a.startFromThreshold?y:0,w=Number.MAX_VALUE;for("between"===g&&(g=.5),f(g)&&(g*=b(a.pointRange||r.pointRange)),a=0;a<p;a++){var k=d[a],C=k.x,S=k.y;e=k.low;var A,T=n&&h.stacks[(this.negStacks&&S<(x?0:y)?"-":"")+this.stackKey];h.positiveValuesOnly&&null!==S&&0>=S&&(k.isNull=!0),k.plotX=t=o(Math.min(Math.max(-1e5,r.translate(C,0,0,0,1,g,"flags"===this.type)),1e5)),n&&this.visible&&!k.isNull&&T&&T[C]&&(s=this.getStackIndicator(s,C,this.index),A=T[C],S=A.points[s.key],e=S[0],S=S[1],e===x&&s.key===T[C].base&&(e=b(f(y)&&y,h.min)),h.positiveValuesOnly&&0>=e&&(e=null),k.total=k.stackTotal=A.total,k.percentage=A.total&&k.y/A.total*100,k.stackY=S,A.setOffset(this.pointXOffset||0,this.barW||0)),k.yBottom=l(e)?Math.min(Math.max(-1e5,h.translate(e,0,1,0,1)),1e5):null,m&&(S=this.modifyValue(S,k)),k.plotY=e="number"===typeof S&&1/0!==S?Math.min(Math.max(-1e5,h.translate(S,0,1,0,1)),1e5):void 0,k.isInside=void 0!==e&&0<=e&&e<=h.len&&0<=t&&t<=r.len,k.clientX=v?o(r.translate(C,0,0,0,1,g)):t,k.negative=k.y<(y||0),k.category=c&&void 0!==c[k.x]?c[k.x]:k.x,k.isNull||(void 0!==i&&(w=Math.min(w,Math.abs(t-i))),i=t),k.zone=this.zones.length&&k.getZone()}this.closestPointRangePx=w,u(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return p(t||this.points||[],(function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull}))},setClip:function(t){var e=this.chart,i=this.options,s=e.renderer,a=e.inverted,o=this.clipBox,n=o||e.clipBox,r=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,n.height,i.xAxis,i.yAxis].join(),l=e[r],c=e[r+"m"];l||(t&&(n.width=0,a&&(n.x=e.plotSizeX),e[r+"m"]=c=s.clipRect(a?e.plotSizeX+99:-99,a?-e.plotLeft:-e.plotTop,99,a?e.chartWidth:e.chartHeight)),e[r]=l=s.clipRect(n),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=r),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&r&&e[r]&&(o||(e[r]=e[r].destroy()),e[r+"m"]&&(e[r+"m"]=e[r+"m"].destroy())))},animate:function(t){var e,s=this.chart,a=i(this.options.animation);t?this.setClip(a):(e=this.sharedClipKey,(t=s[e])&&t.animate({width:s.plotSizeX,x:0},a),s[e+"m"]&&s[e+"m"].animate({width:s.plotSizeX+99,x:0},a),this.animate=null)},afterAnimate:function(){this.setClip(),u(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,s,a,o,n,r,l=this.points,c=this.chart,h=this.options.marker,d=this[this.specialGroup]||this.markerGroup,u=b(h.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=h.enabledThreshold*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)e=l[t],s=e.graphic,a=e.marker||{},o=!!e.marker,i=u&&void 0===a.enabled||a.enabled,n=e.isInside,i&&!e.isNull?(i=b(a.symbol,this.symbol),r=this.markerAttribs(e,e.selected&&"select"),s?s[n?"show":"hide"](!0).animate(r):n&&(0<r.width||e.hasImage)&&(e.graphic=s=c.renderer.symbol(i,r.x,r.y,r.width,r.height,o?a:h).add(d)),s&&s.attr(this.pointAttribs(e,e.selected&&"select")),s&&s.addClass(e.getClassName(),!0)):s&&(e.graphic=s.destroy())},markerAttribs:function(t,e){var i=this.options.marker,s=t.marker||{},a=s.symbol||i.symbol,o=b(s.radius,i.radius);return e&&(i=i.states[e],e=s.states&&s.states[e],o=b(e&&e.radius,i&&i.radius,o+(i&&i.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var i=this.options.marker,s=t&&t.options,a=s&&s.marker||{},o=this.color,n=s&&s.color,r=t&&t.color;s=b(a.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,o=n||t||r||o,t=a.fillColor||i.fillColor||o,o=a.lineColor||i.lineColor||o,e&&(i=i.states[e],e=a.states&&a.states[e]||{},s=b(e.lineWidth,i.lineWidth,s+b(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,o=e.lineColor||i.lineColor||o),{stroke:o,"stroke-width":s,fill:t}},destroy:function(){var e,i,s,a,o=this,n=o.chart,r=/AppleWebKit\/533/.test(S.navigator.userAgent),l=o.data||[];for(u(o,"destroy"),x(o),c(o.axisTypes||[],(function(t){(a=o[t])&&a.series&&(h(a.series,o),a.isDirty=a.forceRedraw=!0)})),o.legendItem&&o.chart.legend.destroyItem(o),i=l.length;i--;)(s=l[i])&&s.destroy&&s.destroy();o.points=null,t.clearTimeout(o.animationTimeout),y(o,(function(t,i){t instanceof k&&!t.survive&&(e=r&&"group"===i?"hide":"destroy",t[e]())})),n.hoverSeries===o&&(n.hoverSeries=null),h(n.series,o),n.orderSeries(),y(o,(function(t,e){delete o[e]}))},getGraphPath:function(t,e,i){var s,a,o=this,n=o.options,r=n.step,h=[],d=[];return t=t||o.points,(s=t.reversed)&&t.reverse(),(r={right:1,center:2}[r]||r&&3)&&s&&(r=4-r),!n.connectNulls||e||i||(t=this.getValidPoints(t)),c(t,(function(s,c){var u=s.plotX,p=s.plotY,m=t[c-1];(s.leftCliff||m&&m.rightCliff)&&!i&&(a=!0),s.isNull&&!l(e)&&0<c?a=!n.connectNulls:s.isNull&&!e?a=!0:(0===c||a?c=["M",s.plotX,s.plotY]:o.getPointSpline?c=o.getPointSpline(t,s,c):r?(c=1===r?["L",m.plotX,p]:2===r?["L",(m.plotX+u)/2,m.plotY,"L",(m.plotX+u)/2,p]:["L",u,m.plotY],c.push("L",u,p)):c=["L",u,p],d.push(s.x),r&&(d.push(s.x),2===r&&d.push(s.x)),h.push.apply(h,c),a=!1)})),h.xMap=d,o.graphPath=h},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];s=t.getZonesGraphs(s);c(s,(function(s,a){var o=s[0],n=t[o];n?(n.endX=t.preventGraphAnimation?null:i.xMap,n.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(s[1]).attr({zIndex:1}).add(t.group),n={stroke:s[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},s[3]?n.dashstyle=s[3]:"square"!==e.linecap&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),n=t[o].attr(n).shadow(2>a&&e.shadow)),n&&(n.startX=i.xMap,n.isArea=i.isArea)}))},getZonesGraphs:function(t){return c(this.zones,(function(e,i){t.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])}),this),t},applyZones:function(){var t,e,i,s,a,o,n,r,l,h=this,d=this.chart,u=d.renderer,p=this.zones,m=this.clips||[],f=this.graph,g=this.area,v=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],x=d.inverted,w=!1;p.length&&(f||g)&&y&&void 0!==y.min&&(a=y.reversed,o=y.horiz,f&&!this.showLine&&f.hide(),g&&g.hide(),s=y.getExtremes(),c(p,(function(c,p){t=a?o?d.plotWidth:0:o?0:y.toPixels(s.min),t=Math.min(Math.max(b(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(b(c.value,s.max),!0)),0),v),w&&(t=e=y.toPixels(s.max)),n=Math.abs(t-e),r=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:x?l:r,y:0,width:n,height:v},o||(i.x=d.plotHeight-i.x)):(i={x:0,y:x?l:r,width:v,height:n},o&&(i.y=d.plotWidth-i.y)),x&&u.isVML&&(i=y.isXAxis?{x:0,y:a?r:l,height:i.width,width:d.chartWidth}:{x:i.y-d.plotLeft-d.spacingBox.x,y:0,width:i.height,height:d.chartHeight}),m[p]?m[p].animate(i):(m[p]=u.clipRect(i),f&&h["zone-graph-"+p].clip(m[p]),g&&h["zone-area-"+p].clip(m[p])),w=c.value>s.max,h.resetZones&&0===e&&(e=void 0)})),this.clips=m)},invertGroups:function(t){function i(){c(["group","markerGroup"],(function(e){a[e]&&(o.renderer.isVML&&a[e].attr({width:a.yAxis.len,height:a.xAxis.len}),a[e].width=a.yAxis.len,a[e].height=a.xAxis.len,a[e].invert(t))}))}var s,a=this,o=a.chart;a.xAxis&&(s=e(o,"resize",i),e(a,"destroy",s),i(t),a.invertGroups=i)},plotGroup:function(t,e,i,s,a){var o=this[t],n=!o;return n&&(this[t]=o=this.chart.renderer.g().attr({zIndex:s||.1}).add(a)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:i})[n?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,s=e.chart,a=e.options,o=!!e.animate&&s.renderer.isSVG&&i(a.animation).duration,n=e.visible?"inherit":"hidden",r=a.zIndex,l=e.hasRendered,c=s.seriesGroup,h=s.inverted;t=e.plotGroup("group","series",n,r,c),e.markerGroup=e.plotGroup("markerGroup","markers",n,r,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&h,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(h),!1===a.clip||e.sharedClipKey||l||t.clip(s.clipRect),o&&e.animate(),l||(e.animationTimeout=C((function(){e.afterAnimate()}),o)),e.isDirty=!1,e.hasRendered=!0,u(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,s=this.xAxis,a=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:b(s&&s.left,t.plotLeft),translateY:b(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,s=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?s.len-t.chartX+s.pos:t.chartY-s.pos},e)},buildKDTree:function(){function t(i,s,a){var o,n;if(n=i&&i.length)return o=e.kdAxisArray[s%a],i.sort((function(t,e){return t[o]-e[o]})),n=Math.floor(n/2),{point:i[n],left:t(i.slice(0,n),s+1,a),right:t(i.slice(n+1),s+1,a)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,C((function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1}),e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,r,c){var h,d,u=e.point,p=s.kdAxisArray[r%c],m=u;return d=l(t[a])&&l(u[a])?Math.pow(t[a]-u[a],2):null,h=l(t[o])&&l(u[o])?Math.pow(t[o]-u[o],2):null,h=(d||0)+(h||0),u.dist=l(h)?Math.sqrt(h):Number.MAX_VALUE,u.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,p=t[p]-u[p],h=0>p?"left":"right",d=0>p?"right":"left",e[h]&&(h=i(t,e[h],r+1,c),m=h[n]<m[n]?h:u),e[d]&&Math.sqrt(p*p)<m[n]&&(t=i(t,e[d],r+1,c),m=t[n]<m[n]?t:m),m}var s=this,a=this.kdAxisArray[0],o=this.kdAxisArray[1],n=e?"distX":"dist";if(e=-1<s.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,i=t.Chart,s=t.correctFloat,a=t.defined,o=t.destroyObjectProperties,n=t.each,r=t.format,l=t.objectEach,c=t.pick,h=t.Series;t.StackItem=function(t,e,i,s,a){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=s,this.total=null,this.points={},this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:c(e.y,o?4:i?14:-6),x:c(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,s=i.format;s=s?r(s,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:s,visibility:"hidden"}):this.label=e.renderer.text(s,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,s=i.chart,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),o=i.translate(0);o=Math.abs(a-o);t=s.xAxis[0].translate(this.x)+t,i=this.getStackBox(s,this,t,a,e,o,i),(e=this.label)&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||s.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,s,a,o,n){var r=e.axis.reversed,l=t.inverted;return t=n.height+n.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!r||!e.isNegative&&r,{x:l?e?s:s-o:i,y:l?t-i-a:e?t-s-o:t-s,width:l?o:a,height:l?a:o}}},i.prototype.getStacks=function(){var t=this;n(t.yAxis,(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),n(t.series,(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))}))},e.prototype.buildStacks=function(){var t,e=this.series,i=c(this.options.reversedStacks,!0),s=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=s;t--;)e[i?t:s-t-1].setStackedPoints();for(t=0;t<s;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(t.plotLeft,t.plotTop),l(i,(function(t){l(t,(function(t){t.render(s)}))}))},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,(function(e){l(e,(function(i,s){i.touched<t.stacksTouched?(i.destroy(),delete e[s]):(i.total=null,i.cumulative=null)}))}))},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,(function(t){l(t,(function(t){t.cumulative=t.total}))})))},h.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,o,n,r,l,h,d=this.processedXData,u=this.processedYData,p=[],m=u.length,f=this.options,g=f.threshold,v=c(f.startFromThreshold&&g,0),y=f.stack,b=(f=f.stacking,this.stackKey),x="-"+b,w=this.negStacks,k=this.yAxis,C=k.stacks,S=k.oldStacks;for(k.stacksTouched+=1,r=0;r<m;r++)l=d[r],h=u[r],e=this.getStackIndicator(e,l,this.index),n=e.key,o=(i=w&&h<(v?0:g))?x:b,C[o]||(C[o]={}),C[o][l]||(S[o]&&S[o][l]?(C[o][l]=S[o][l],C[o][l].total=null):C[o][l]=new t.StackItem(k,k.options.stackLabels,i,l,y)),o=C[o][l],null!==h?(o.points[n]=o.points[this.index]=[c(o.cumulative,v)],a(o.cumulative)||(o.base=n),o.touched=k.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[n][0]=o.points[this.index+","+l+",0"][0])):o.points[n]=o.points[this.index]=null,"percent"===f?(i=i?b:x,w&&C[i]&&C[i][l]?(i=C[i][l],o.total=i.total=Math.max(i.total,o.total)+Math.abs(h)||0):o.total=s(o.total+(Math.abs(h)||0))):o.total=s(o.total+(h||0)),o.cumulative=c(o.cumulative,v)+(h||0),null!==h&&(o.points[n].push(o.cumulative),p[r]=o.cumulative);"percent"===f&&(k.usePercentage=!0),this.stackedYData=p,k.oldStacks={}}},h.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,s=e.yAxis.stacks,a=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&n([i,"-"+i],(function(i){for(var n,r,l=a.length;l--;)n=a[l],t=e.getStackIndicator(t,n,e.index,i),(r=(n=s[i]&&s[i][n])&&n.points[t.key])&&e[o+"Stacker"](r,n,l)}))},h.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=s(t[0]*e),t[1]=s(t[1]*e),this.stackedYData[i]=t[1]},h.prototype.getStackIndicator=function(t,e,i,s){return!a(t)||t.x!==e||s&&t.key!==s?t={x:e,index:0,key:s}:t.index++,t.key=[i,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,i=t.animate,s=t.Axis,a=t.createElement,o=t.css,n=t.defined,r=t.each,l=t.erase,c=t.extend,h=t.fireEvent,d=t.inArray,u=t.isNumber,p=t.isObject,m=t.isArray,f=t.merge,g=t.objectEach,v=t.pick,y=t.Point,b=t.Series,x=t.seriesTypes,w=t.setAnimation,k=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,i){var s,a=this;return t&&(e=v(e,!0),h(a,"addSeries",{options:t},(function(){s=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),h(a,"afterAddSeries"),e&&a.redraw(i)}))),s},addAxis:function(t,e,i,a){var o=e?"xAxis":"yAxis",n=this.options;return t=f(t,{index:this[o].length,isX:e}),e=new s(this,t),n[o]=k(n[o]||{}),n[o].push(t),v(i,!0)&&this.redraw(a),e},showLoading:function(t){var s=this,n=s.options,r=s.loadingDiv,l=n.loading,h=function(){r&&o(r,{left:s.plotLeft+"px",top:s.plotTop+"px",width:s.plotWidth+"px",height:s.plotHeight+"px"})};r||(s.loadingDiv=r=a("div",{className:"highcharts-loading highcharts-loading-hidden"},null,s.container),s.loadingSpan=a("span",{className:"highcharts-loading-inner"},null,r),e(s,"redraw",h)),r.className="highcharts-loading",s.loadingSpan.innerHTML=t||n.lang.loading,o(r,c(l.style,{zIndex:10})),o(s.loadingSpan,l.labelStyle),s.loadingShown||(o(r,{opacity:0,display:""}),i(r,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),s.loadingShown=!0,h()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,i,s){var a,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},p=t.chart,m=[];h(l,"update",{options:t}),p&&(f(!0,l.options.chart,p),"className"in p&&l.setClassName(p.className),"reflow"in p&&l.setReflow(p.reflow),("inverted"in p||"polar"in p||"type"in p)&&(l.propFromSeries(),a=!0),"alignTicks"in p&&(a=!0),g(p,(function(t,e){-1!==d("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==d(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)})),"style"in p&&l.renderer.setStyle(p.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&f(!0,this.options.plotOptions,t.plotOptions),g(t,(function(t,e){l[e]&&"function"===typeof l[e].update?l[e].update(t,!1):"function"===typeof l[c[e]]&&l[c[e]](t),"chart"!==e&&-1!==d(e,l.propsRequireUpdateSeries)&&(o=!0)})),r("xAxis yAxis zAxis series colorAxis pane".split(" "),(function(e){var s;t[e]&&("series"===e&&(s=[],r(l[e],(function(t,e){t.options.isInternal||s.push(e)}))),r(k(t[e]),(function(t,a){(a=n(t.id)&&l.get(t.id)||l[e][s?s[a]:a])&&a.coll===e&&(a.update(t,!1),i&&(a.touched=!0)),!a&&i&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))})),i&&r(l[e],(function(t){t.touched||t.options.isInternal?delete t.touched:m.push(t)})))})),r(m,(function(t){t.remove(!1)})),a&&r(l.axes,(function(t){t.update({},!1)})),o&&r(l.series,(function(t){t.update({},!1)})),t.loading&&f(!0,l.options.loading,t.loading),a=p&&p.width,p=p&&p.height,u(a)&&a!==l.chartWidth||u(p)&&p!==l.chartHeight?l.setSize(a,p,s):v(e,!0)&&l.redraw(s),h(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(y.prototype,{update:function(t,e,i,s){function a(){n.applyOptions(t),null===n.y&&l&&(n.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(n.graphic=l.destroy()),t&&t.dataLabels&&n.dataLabel&&(n.dataLabel=n.dataLabel.destroy()),n.connector&&(n.connector=n.connector.destroy())),o=n.index,r.updateParallelArrays(n,o),h.data[o]=p(h.data[o],!0)||p(t,!0)?n.options:v(t,h.data[o]),r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===h.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var o,n=this,r=n.series,l=n.graphic,c=r.chart,h=r.options;e=v(e,!0),!1===s?a():n.firePointEvent("update",{options:t},a)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),c(b.prototype,{addPoint:function(t,e,i,s){var a,o,n,r,l=this.options,c=this.data,h=this.chart,d=this.xAxis,u=(d=d&&d.hasNames&&d.names,l.data),p=this.xData;if(e=v(e,!0),a={series:this},this.pointClass.prototype.applyOptions.apply(a,[t]),r=a.x,n=p.length,this.requireSorting&&r<p[n-1])for(o=!0;n&&p[n-1]>r;)n--;this.updateParallelArrays(a,"splice",n,0,0),this.updateParallelArrays(a,n),d&&a.name&&(d[r]=a.name),u.splice(n,0,t),o&&(this.data.splice(n,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(a,"shift"),u.shift())),this.isDirtyData=this.isDirty=!0,e&&h.redraw(s)},removePoint:function(t,e,i){var s=this,a=s.data,o=a[t],n=s.points,r=s.chart,l=function(){n&&n.length===a.length&&n.splice(t,1),a.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(o||{series:s},"splice",t,1),o&&o.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&r.redraw()};w(i,r),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function s(){a.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var a=this,o=a.chart;!1!==i?h(a,"remove",null,s):s()},update:function(e,i){var s,a=this,o=a.chart,n=a.userOptions,l=a.oldType||a.type,u=e.type||n.type||o.options.chart.type,p=x[l].prototype,m=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],y=a.finishedAnimating&&{animation:!1},b=["data","name","turboThreshold"],w=t.keys(e),k=0<w.length;if(r(w,(function(t){-1===d(t,b)&&(k=!1)})),k)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(s in g=m.concat(g),r(g,(function(t){g[t]=a[t],delete a[t]})),e=f(n,y,{index:a.index,pointStart:v(n.pointStart,a.xData[0])},{data:a.options.data},e),a.remove(!1,null,!1),p)a[s]=void 0;x[u||l]?c(a,x[u||l].prototype):t.error(17,!0),r(g,(function(t){a[t]=g[t]})),a.init(o,e),e.zIndex!==n.zIndex&&r(m,(function(t){a[t]&&a[t].attr({zIndex:e.zIndex})})),a.oldType=l,o.linkSeries()}h(this,"afterUpdate"),v(i,!0)&&o.redraw(!1)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(s.prototype,{update:function(t,e){var i=this.chart,s=t&&t.events||{};t=f(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),g(i.options[this.coll].events,(function(t,e){"undefined"===typeof s[e]&&(s[e]=void 0)})),this.destroy(!0),this.init(i,c(t,{events:s})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,s=this.series,a=s.length;a--;)s[a]&&s[a].remove(!1);l(e.axes,this),l(e[i],this),m(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],r(e[i],(function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,i=t.each,s=t.map,a=t.pick,o=t.Series,n=t.seriesType;n("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,n,r=[],l=[],c=this.xAxis,h=this.yAxis,d=h.stacks[this.stackKey],u={},p=this.index,m=h.series,f=m.length,g=a(h.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(n=0;n<e.length;n++)e[n].leftNull=e[n].rightNull=null,u[e[n].x]=e[n];t.objectEach(d,(function(t,e){null!==t.total&&l.push(e)})),l.sort((function(t,e){return t-e})),o=s(m,(function(){return this.visible})),i(l,(function(t,e){var s,a,m=0;if(u[t]&&!u[t].isNull)r.push(u[t]),i([-1,1],(function(i){var r=1===i?"rightNull":"leftNull",c=0,h=d[l[e+i]];if(h)for(n=p;0<=n&&n<f;)s=h.points[n],s||(n===p?u[t][r]=!0:o[n]&&(a=d[t].points[n])&&(c-=a[1]-a[0])),n+=g;u[t][1===i?"rightCliff":"leftCliff"]=c}));else{for(n=p;0<=n&&n<f;){if(s=d[t].points[n]){m=s[1];break}n+=g}m=h.translate(m,0,1,0,1),r.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:m,yBottom:m})}}))}return r},getGraphPath:function(t){var e,i,s,n,r=o.prototype.getGraphPath,l=this.options,c=l.stacking,h=this.yAxis,d=[],u=[],p=this.index,m=h.stacks[this.stackKey],f=l.threshold,g=h.getThreshold(l.threshold),v=(l=l.connectNulls||"percent"===c,function(e,i,a){var o=t[e];e=c&&m[o.x].points[p];var n=o[a+"Null"]||0;a=o[a+"Cliff"]||0;var r,l;o=!0;a||n?(r=(n?e[0]:e[1])+a,l=e[0]+a,o=!!n):!c&&t[i]&&t[i].isNull&&(r=l=f),void 0!==r&&(u.push({plotX:s,plotY:null===r?g:h.getThreshold(r),isNull:o,isCliff:!0}),d.push({plotX:s,plotY:null===l?g:h.getThreshold(l),doCurve:!1}))});for(t=t||this.points,c&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)i=t[e].isNull,s=a(t[e].rectPlotX,t[e].plotX),n=a(t[e].yBottom,g),(!i||l)&&(l||v(e,e-1,"left"),i&&!c&&l||(u.push(t[e]),d.push({x:e,plotX:s,plotY:n})),l||v(e,e+1,"right"));return e=r.call(this,u,!0,!0),d.reversed=!0,i=r.call(this,d,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),r=r.call(this,u,!1,l),i.xMap=e.xMap,this.areaPath=i,r},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,s=this.areaPath,n=this.options,r=[["area","highcharts-area",this.color,n.fillColor]];i(this.zones,(function(e,i){r.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||n.fillColor])})),i(r,(function(i){var o=i[0],r=t[o];r?(r.endX=t.preventGraphAnimation?null:s.xMap,r.animate({d:s})):(r=t[o]=t.chart.renderer.path(s).addClass(i[1]).attr({fill:a(i[3],e(i[2]).setOpacity(a(n.fillOpacity,.75)).get()),zIndex:0}).add(t.group),r.isArea=!0),r.startX=s.xMap,r.shiftUnit=n.step?2:1}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;t=t.seriesType,t("spline","line",{},{getPointSpline:function(t,i,s){var a,o,n,r,l=i.plotX,c=i.plotY,h=t[s-1];if(s=t[s+1],h&&!h.isNull&&!1!==h.doCurve&&!i.isCliff&&s&&!s.isNull&&!1!==s.doCurve&&!i.isCliff){t=h.plotY,n=s.plotX,s=s.plotY;var d=0;a=(1.5*l+h.plotX)/2.5,o=(1.5*c+t)/2.5,n=(1.5*l+n)/2.5,r=(1.5*c+s)/2.5,n!==a&&(d=(r-o)*(n-l)/(n-a)+c-r),o+=d,r+=d,o>t&&o>c?(o=Math.max(t,c),r=2*c-o):o<t&&o<c&&(o=Math.min(t,c),r=2*c-o),r>s&&r>c?(r=Math.max(s,c),o=2*c-r):r<s&&r<c&&(r=Math.min(s,c),o=2*c-r),i.rightContX=n,i.rightContY=r}return i=["C",e(h.rightContX,h.plotX),e(h.rightContY,h.plotY),e(a,l),e(o,c),l,c],h.rightContX=h.rightContY=null,i}})}(e),function(t){var e=t.seriesTypes.area.prototype,i=t.seriesType;i("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,i=t.color,s=t.each,a=t.extend,o=t.isNumber,n=t.merge,r=t.pick,l=t.Series,c=t.seriesType,h=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&s(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t,e=this,i=e.options,a=e.xAxis,o=e.yAxis,n=a.options.reversedStacks,l=(n=a.reversed&&!n||!a.reversed&&n,{}),c=0;!1===i.grouping?c=1:s(e.chart.series,(function(i){var s,a=i.options,n=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==n.len||o.pos!==n.pos||(a.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=c++),s=l[t]):!1!==a.grouping&&(s=c++),i.columnIndex=s)}));var h=Math.min(Math.abs(a.transA)*(a.ordinalSlope||i.pointRange||a.closestPointRange||a.tickInterval||1),a.len),d=h*i.groupPadding,u=(h-2*d)/(c||1);i=Math.min(i.maxPointWidth||a.len,r(i.pointWidth,u*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(u-i)/2+(d+((e.columnIndex||0)+(n?1:0))*u-h/2)*(n?-1:1)},e.columnMetrics},crispCol:function(t,e,i,s){var a=this.chart,o=this.borderWidth,n=-(o%2?.5:0);o=o%2?.5:1;return a.inverted&&a.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+n,t=Math.round(t)+n,i-=t),s=Math.round(e+s)+o,n=.5>=Math.abs(e)&&.5<s,e=Math.round(e)+o,s-=e,n&&s&&(--e,s+=1),{x:t,y:e,width:i,height:s}},translate:function(){var t=this,e=t.chart,i=t.options,a=t.dense=2>t.closestPointRange*t.xAxis.transA,o=(a=t.borderWidth=r(i.borderWidth,a?0:1),t.yAxis),n=i.threshold,c=t.translatedThreshold=o.getThreshold(n),h=r(i.minPointLength,5),d=t.getColumnMetrics(),u=d.width,p=t.barW=Math.max(u,1+2*a),m=t.pointXOffset=d.offset;e.inverted&&(c-=.5),i.pointPadding&&(p=Math.ceil(p)),l.prototype.translate.apply(t),s(t.points,(function(i){var s,a=r(i.yBottom,c),l=999+Math.abs(a),d=(l=Math.min(Math.max(-l,i.plotY),o.len+l),i.plotX+m),f=p,g=Math.min(l,a),v=Math.max(l,a)-g;h&&Math.abs(v)<h&&(v=h,s=!o.reversed&&!i.negative||o.reversed&&i.negative,i.y===n&&t.dataMax<=n&&o.min<n&&(s=!s),g=Math.abs(g-c)>h?a-h:c-(s?h:0)),i.barX=d,i.pointWidth=u,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-d-f/2,v]:[d+f/2,l+o.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[d,c,f,0]:[d,g,f,v])}))},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var s,a=this.options,o=this.pointAttrToOptions||{};s=o.stroke||"borderColor";var r=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t&&t[s]||a[s]||this.color||l,h=t&&t[r]||a[r]||this[r]||0;o=a.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=n(a.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&i(l).brighten(t.brightness).get()||l,c=t[s]||c,h=t[r]||h,o=t.dashStyle||o),s={fill:l,stroke:c,"stroke-width":h},o&&(s.dashstyle=o),s},drawPoints:function(){var t,e=this,i=this.chart,a=e.options,r=i.renderer,l=a.animationLimit||250;s(e.points,(function(s){var c=s.graphic,h=c&&i.pointCount<l?"animate":"attr";o(s.plotY)&&null!==s.y?(t=s.shapeArgs,c?c[h](n(t)):s.graphic=c=r[s.shapeType](t).add(s.group||e.group),a.borderRadius&&c.attr({r:a.borderRadius}),c[h](e.pointAttribs(s,s.selected&&"select")).shadow(a.shadow,null,a.stacking&&!a.borderRadius),c.addClass(s.getClassName(),!0)):c&&(s.graphic=c.destroy())}))},animate:function(t){var i,s=this,o=this.yAxis,n=s.options,r=this.chart.inverted,l={},c=r?"translateX":"translateY";h&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(n.threshold))),r?l.translateX=t-o.len:l.translateY=t,s.group.attr(l)):(i=s.group.attr(c),s.group.animate({scaleY:1},a(e(s.options.animation),{step:function(t,e){l[c]=i+e.pos*(o.pos-i),s.group.attr(l)}})),s.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&s(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)})),l.prototype.remove.apply(t,arguments)}})}(e),function(t){t=t.seriesType,t("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;t=t.seriesType,t("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,i=t.isNumber,s=t.pick,a=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,n=2*(i.slicedOffset||0),r=o.plotWidth-2*n,l=(o=o.plotHeight-2*n,i.center),c=(l=[s(l[0],"50%"),s(l[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(r,o));for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=a(e,[r,o,c,l[2]][t])+(i?n:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,s){return t=i(t)?t:0,s=i(s)&&s>t&&360>s-t?s:t+360,{start:e*(t+-90),end:e*(s+-90)}}}}(e),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,s=t.defined,a=t.each,o=t.extend,n=i.getStartAndEndRadians,r=t.inArray,l=t.noop,c=t.pick,h=t.Point,d=t.Series,u=t.seriesType,p=t.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,s=e.startAngleRad;t||(a(i,(function(t){var i=t.graphic,a=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:s,end:s}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))})),e.animate=null)},updateTotals:function(){var t,e,i=0,s=this.points,a=s.length,o=this.options.ignoreHiddenPoint;for(t=0;t<a;t++)e=s[t],i+=o&&!e.visible||e.isNull?0:e.y;for(this.total=i,t=0;t<a;t++)e=s[t],e.percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,s,a,o,r,l=0,h=this.options,d=h.slicedOffset,u=d+(h.borderWidth||0),p=n(h.startAngle,h.endAngle),m=this.startAngleRad=p.start,f=(p=(this.endAngleRad=p.end)-m,this.points),g=h.dataLabels.distance,v=(h=h.ignoreHiddenPoint,f.length);for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,a){return s=Math.asin(Math.min((e-t[1])/(t[2]/2+a.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(s)*(t[2]/2+a.labelDistance)},o=0;o<v;o++)r=f[o],r.labelDistance=c(r.options.dataLabels&&r.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,r.labelDistance),e=m+l*p,h&&!r.visible||(l+=r.percentage/100),i=m+l*p,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},s=(i+e)/2,s>1.5*Math.PI?s-=2*Math.PI:s<-Math.PI/2&&(s+=2*Math.PI),r.slicedTranslation={translateX:Math.round(Math.cos(s)*d),translateY:Math.round(Math.sin(s)*d)},i=Math.cos(s)*t[2]/2,a=Math.sin(s)*t[2]/2,r.tooltipPos=[t[0]+.7*i,t[1]+.7*a],r.half=s<-Math.PI/2||s>Math.PI/2?1:0,r.angle=s,e=Math.min(u,r.labelDistance/5),r.labelPos=[t[0]+i+Math.cos(s)*r.labelDistance,t[1]+a+Math.sin(s)*r.labelDistance,t[0]+i+Math.cos(s)*e,t[1]+a+Math.sin(s)*e,t[0]+i,t[1]+a,0>r.labelDistance?"center":r.half?"right":"left",s]},drawGraph:null,drawPoints:function(){var t,e,i,s,n=this,r=n.chart.renderer,l=n.options.shadow;l&&!n.shadowGroup&&(n.shadowGroup=r.g("shadow").add(n.group)),a(n.points,(function(a){if(e=a.graphic,a.isNull)e&&(a.graphic=e.destroy());else{s=a.shapeArgs,t=a.getTranslate();var c=a.shadowGroup;l&&!c&&(c=a.shadowGroup=r.g("shadow").add(n.shadowGroup)),c&&c.attr(t),i=n.pointAttribs(a,a.selected&&"select"),e?e.setRadialReference(n.center).attr(i).animate(o(s,t)):(a.graphic=e=r[a.shapeType](s).setRadialReference(n.center).attr(t).add(n.group),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.attr({visibility:a.visible?"inherit":"hidden"}),e.addClass(a.getClassName())}}))},searchPoint:l,sortByAngle:function(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:i.getCenter,getSymbol:l},{init:function(){h.prototype.init.apply(this,arguments);var t,i=this;return i.name=c(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,s=i.series,o=s.chart,n=s.options.ignoreHiddenPoint;e=c(e,n),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,s.options.data[r(i,s.data)]=i.options,a(["graphic","dataLabel","connector","shadowGroup"],(function(e){i[e]&&i[e][t?"show":"hide"](!0)})),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),n&&(s.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var a=this.series;p(i,a.chart),c(e,!0),this.sliced=this.options.sliced=s(t)?t:!this.sliced,a.options.data[r(this,a.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,i=t.arrayMax,s=t.defined,a=t.each,o=t.extend,n=t.format,r=t.map,l=t.merge,c=t.noop,h=t.pick,d=t.relativeLength,u=t.Series,p=t.seriesTypes,m=t.some,f=t.stableSort;t.distribute=function(e,i,s){function o(t,e){return t.target-e.target}var n,l,c=!0,d=e,u=[];l=0;var p=d.reducedLen||i;for(n=e.length;n--;)l+=e[n].size;if(l>p){for(f(e,(function(t,e){return(e.rank||0)-(t.rank||0)})),l=n=0;l<=p;)l+=e[n].size,n++;u=e.splice(n-1,e.length)}for(f(e,o),e=r(e,(function(t){return{size:t.size,targets:[t.target],align:h(t.align,.5)}}));c;){for(n=e.length;n--;)c=e[n],l=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=Math.min(Math.max(0,l-c.size*c.align),i-c.size);for(n=e.length,c=!1;n--;)0<n&&e[n-1].pos+e[n-1].size>e[n].pos&&(e[n-1].size+=e[n].size,e[n-1].targets=e[n-1].targets.concat(e[n].targets),e[n-1].align=.5,e[n-1].pos+e[n-1].size>i&&(e[n-1].pos=i-e[n-1].size),e.splice(n,1),c=!0)}d.push.apply(d,u),n=0,m(e,(function(e){var o=0;if(m(e.targets,(function(){if(d[n].pos=e.pos+o,Math.abs(d[n].pos-d[n].target)>s)return a(d.slice(0,n+1),(function(t){delete t.pos})),d.reducedLen=(d.reducedLen||i)-.1*i,d.reducedLen>.1*i&&t.distribute(d,i,s),!0;o+=d[n].size,n++})))return!0})),f(d,o)},u.prototype.drawDataLabels=function(){function i(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}var o,r,c,d,u=this,p=u.chart,m=u.options,f=m.dataLabels,g=u.points,v=u.hasRendered||0,y=h(f.defer,!!m.animation),b=p.renderer;(f.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(f),d=u.plotGroup("dataLabelsGroup","data-labels",y&&!v?"hidden":"visible",f.zIndex||6),y&&(d.attr({opacity:+v}),v||e(u,"afterAnimate",(function(){u.visible&&d.show(!0),d[m.animation?"animate":"attr"]({opacity:1},{duration:200})}))),r=f,a(g,(function(e){var a,g,v,y,x=e.dataLabel,w=e.connector,k=!x;o=e.dlOptions||e.options&&e.options.dataLabels,(a=h(o&&o.enabled,r.enabled)&&!e.isNull)&&(a=!0===i(e,o||f)),a&&(f=l(r,o),g=e.getLabelConfig(),y=f[e.formatPrefix+"Format"]||f.format,c=s(y)?n(y,g,p.time):(f[e.formatPrefix+"Formatter"]||f.formatter).call(g,f),y=f.style,g=f.rotation,y.color=h(f.color,y.color,u.color,"#000000"),"contrast"===y.color&&(e.contrastColor=b.getContrast(e.color||u.color),y.color=f.inside||0>h(e.labelDistance,f.distance)||m.stacking?e.contrastColor:"#000000"),m.cursor&&(y.cursor=m.cursor),v={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:g,padding:f.padding,zIndex:1},t.objectEach(v,(function(t,e){void 0===t&&delete v[e]}))),!x||a&&s(c)?a&&s(c)&&(x?v.text=c:(x=e.dataLabel=g?b.text(c,0,-9999).addClass("highcharts-data-label"):b.label(c,0,-9999,f.shape,null,null,f.useHTML,null,"data-label"),x.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")+(f.useHTML?" highcharts-tracker":""))),x.attr(v),x.css(y).shadow(f.shadow),x.added||x.add(d),u.alignDataLabel(e,x,f,null,k)):(e.dataLabel=x=x.destroy(),w&&(e.connector=w.destroy()))}))),t.fireEvent(this,"afterDrawDataLabels")},u.prototype.alignDataLabel=function(t,e,i,s,a){var n,r=this.chart,l=r.inverted,c=h(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=h(t.plotY,-9999),u=e.getBBox(),p=i.rotation,m=i.align,f=this.visible&&(t.series.forceDL||r.isInsidePlot(c,Math.round(d),l)||s&&r.isInsidePlot(c,l?s.x+1:s.y+s.height-1,l)),g="justify"===h(i.overflow,"justify");f&&(n=i.style.fontSize,n=r.renderer.fontMetrics(n,e).b,s=o({x:l?this.yAxis.len-d:c,y:Math.round(l?this.xAxis.len-c:d),width:0,height:0},s),o(i,{width:u.width,height:u.height}),p?(g=!1,c=r.renderer.rotCorr(n,p),c={x:s.x+i.x+s.width/2+c.x,y:s.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*s.height},e[a?"attr":"animate"](c).attr({align:m}),d=(p+720)%360,d=180<d&&360>d,"left"===m?c.y-=d?u.height:0:"center"===m?(c.x-=u.width/2,c.y-=u.height/2):"right"===m&&(c.x-=u.width,c.y-=d?0:u.height),e.placed=!0,e.alignAttr=c):(e.align(i,null,s),c=e.alignAttr),g?t.isLabelJustified=this.justifyDataLabel(e,i,c,u,s,a):h(i.crop,!0)&&(f=r.isInsidePlot(c.x,c.y)&&r.isInsidePlot(c.x+u.width,c.y+u.height)),i.shape&&!p)&&e[a?"attr":"animate"]({anchorX:l?r.plotWidth-t.plotY:t.plotX,anchorY:l?r.plotHeight-t.plotX:t.plotY}),f||(e.attr({y:-9999}),e.placed=!1)},u.prototype.justifyDataLabel=function(t,e,i,s,a,o){var n,r,l=this.chart,c=e.align,h=e.verticalAlign,d=t.box?0:t.padding||0;return n=i.x+d,0>n&&("right"===c?e.align="left":e.x=-n,r=!0),n=i.x+s.width-d,n>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-n,r=!0),n=i.y+d,0>n&&("bottom"===h?e.verticalAlign="top":e.y=-n,r=!0),n=i.y+s.height-d,n>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-n,r=!0),r&&(t.placed=!o,t.align(e,null,a)),r},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,n,r,l,c,d,p,m,f,g=this,v=g.data,y=g.chart,b=g.options.dataLabels,x=h(b.connectorPadding,10),w=h(b.connectorWidth,1),k=y.plotWidth,C=y.plotHeight,S=Math.round(y.chartWidth/3),A=g.center,T=A[2]/2,I=A[1],P=[[],[]],M=[0,0,0,0];g.visible&&(b.enabled||g._hasPointLabels)&&(a(v,(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),u.prototype.drawDataLabels.apply(g),a(v,(function(t){t.dataLabel&&(t.visible?(P[t.half].push(t),t.dataLabel._pos=null,!s(b.style.width)&&!s(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>S&&(t.dataLabel.css({width:.7*S}),t.dataLabel.shortened=!0)):t.dataLabel=t.dataLabel.destroy())})),a(P,(function(i,o){var u,v,w,S=i.length,P=[];if(S)for(g.sortByAngle(i,o-.5),0<g.maxLabelDistance&&(u=Math.max(0,I-T-g.maxLabelDistance),v=Math.min(I+T+g.maxLabelDistance,y.plotHeight),a(i,(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,I-T-t.labelDistance),t.bottom=Math.min(I+T+t.labelDistance,y.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},P.push(t.distributeBox))})),u=v+w-u,t.distribute(P,u,u/5)),f=0;f<S;f++)e=i[f],l=e.labelPos,n=e.dataLabel,m=!1===e.visible?"hidden":"inherit",p=u=l[1],P&&s(e.distributeBox)&&(void 0===e.distributeBox.pos?m="hidden":(c=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,d=b.justify?A[0]+(o?-1:1)*(T+e.labelDistance):g.getX(p<e.top+2||p>e.bottom-2?u:p,o,e),n._attr={visibility:m,align:l[6]},n._pos={x:d+b.x+({left:x,right:-x}[l[6]]||0),y:p+b.y-10},l.x=d,l.y=p,h(b.crop,!0)&&(r=n.getBBox().width,u=null,d-r<x&&1===o?(u=Math.round(r-d+x),M[3]=Math.max(u,M[3])):d+r>k-x&&0===o&&(u=Math.round(d+r-k+x),M[1]=Math.max(u,M[1])),0>p-c/2?M[0]=Math.max(Math.round(c/2-p),M[0]):p+c/2>C&&(M[2]=Math.max(Math.round(p+c/2-C),M[2])),n.sideOverflow=u)})),0===i(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),w&&a(this.points,(function(t){var e;o=t.connector,(n=t.dataLabel)&&n._pos&&t.visible&&0<t.labelDistance?(m=n._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),o.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",m)):o&&(t.connector=o.destroy())})))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return h(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){a(this.points,(function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:this.options.dataLabels.style.textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))}),this)},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,s=this.options,a=s.center,o=s.minSize||80,n=null!==s.size;return n||(null!==a[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(d(s.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):n=!0),n}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,s,a){var o=this.chart.inverted,n=t.series,r=t.dlBox||t.shapeArgs,c=h(t.below,t.plotY>h(this.translatedThreshold,n.yAxis.len)),d=h(i.inside,!!this.options.stacking);r&&(s=l(r),0>s.y&&(s.height+=s.y,s.y=0),r=s.y+s.height-n.yAxis.len,0<r&&(s.height-=r),o&&(s={x:n.yAxis.len-s.y-s.height,y:n.xAxis.len-s.x-s.width,width:s.height,height:s.width}),d||(o?(s.x+=c?0:s.width,s.width=0):(s.y+=c?s.height:0,s.height=0))),i.align=h(i.align,!o||d?"center":c?"right":"left"),i.verticalAlign=h(i.verticalAlign,o||d?"middle":c?"top":"bottom"),u.prototype.alignDataLabel.call(this,t,e,i,s,a),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,i=t.each,s=t.objectEach,a=t.pick;t=t.addEvent,t(e,"render",(function(){var t=[];i(this.labelCollectors||[],(function(e){t=t.concat(e())})),i(this.yAxis||[],(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&s(e.stacks,(function(e){s(e,(function(e){t.push(e.label)}))}))})),i(this.series||[],(function(e){var s=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(s.enabled||e._hasPointLabels)&&!s.allowOverlap&&e.visible&&i(o,(function(s){i(e.points,(function(e){e[s]&&(e[s].labelrank=a(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[s]))}))}))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(t){var e,s,a,o,n,r,l=t.length,c=function(t,e,i,s,a,o,n,r){return!(a>t+i||a+n<t||o>e+s||o+r<e)};for(a=function(t){var e,i,s,a=2*(t.box?0:t.padding||0);if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(s=t.getBBox(),t.width=s.width,t.height=s.height),{x:e.x+(i.translateX||0),y:e.y+(i.translateY||0),width:t.width-a,height:t.height-a}},s=0;s<l;s++)(e=t[s])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=a(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),s=0;s<l;s++)for(r=(a=t[s])&&a.absoluteBox,e=s+1;e<l;++e)n=(o=t[e])&&o.absoluteBox,r&&n&&a!==o&&0!==a.newOpacity&&0!==o.newOpacity&&(n=c(r.x,r.y,r.width,r.height,n.x,n.y,n.width,n.height))&&((a.labelrank<o.labelrank?a:o).newOpacity=0);i(t,(function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)}))}}(e),function(t){var e,i=t.addEvent,s=t.Chart,a=t.createElement,o=t.css,n=t.defaultOptions,r=t.defaultPlotOptions,l=t.each,c=t.extend,h=t.fireEvent,d=t.hasTouch,u=t.inArray,p=t.isObject,m=t.Legend,f=t.merge,g=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)})),t._hasTracking||(l(t.trackerGroups,(function(s){t[s]&&(t[s].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",(function(t){e.onTrackerMouseOut(t)})),d&&t[s].on("touchstart",i),t.options.cursor&&t[s].css(o).css({cursor:t.options.cursor}))})),t._hasTracking=!0),h(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,s=i.trackByArea,a=[].concat(s?e.areaPath:e.graphPath),o=a.length,n=e.chart,r=n.pointer,c=n.renderer,u=n.options.tooltip.snap,p=e.tracker,m=function(){n.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(x?1e-4:.002)+")";if(o&&!s)for(t=o+1;t--;)"M"===a[t]&&a.splice(t+1,0,a[t+1]-u,a[t+2],"L"),(t&&"M"===a[t]||t===o)&&a.splice(t,0,"L",a[t-2]+u,a[t-1]);p?p.attr({d:a}):e.graph&&(e.tracker=c.path(a).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:s?f:"none","stroke-width":e.graph.strokeWidth()+(s?0:2*u),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],(function(t){t.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),i.cursor&&t.css({cursor:i.cursor}),d&&t.on("touchstart",m)}))),h(this,"afterDrawTracker")}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),c(m.prototype,{setItemEvents:function(t,e,i){var s=this,a=s.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",(function(){t.setState("hover"),a.addClass(o),e.css(s.options.itemHoverStyle)})).on("mouseout",(function(){e.css(f(t.visible?s.itemStyle:s.itemHiddenStyle)),a.removeClass(o),t.setState()})).on("click",(function(e){var i=function(){t.setVisible&&t.setVisible()};a.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):h(t,"legendItemClick",e,i)}))},createCheckboxForItem:function(t){t.checkbox=a("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",(function(e){h(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),n.legend.itemStyle.cursor="pointer",c(s.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=n.lang,s=e.options.chart.resetZoomButton,a=s.theme,o=a.states,r="chart"===s.relativeTo?null:"plotBox";h(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,a,o&&o.hover).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,r)}))},zoomOut:function(){h(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,i,s=this.pointer,a=!1;!t||t.resetSelection?(l(this.axes,(function(t){e=t.zoom()})),s.initiated=!1):l(t.xAxis.concat(t.yAxis),(function(t){var i=t.axis;s[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(a=!0))})),i=this.resetZoomButton,a&&!i?this.showResetZoom():!a&&p(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,s=this,a=s.hoverPoints;a&&l(a,(function(t){t.setState()})),l("xy"===e?[1,0]:[1],(function(e){e=s[e?"xAxis":"yAxis"][0];var a=e.horiz,o=t[a?"chartX":"chartY"],n=(a=a?"mouseDownX":"mouseDownY",s[a]),r=(e.pointRange||0)/2,l=e.reversed&&!s.inverted||!e.reversed&&s.inverted?-1:1,c=e.getExtremes(),h=e.toValue(n-o,!0)+r*l,d=(l=e.toValue(n+e.len-o,!0)-r*l,l<h);n=d?l:h,h=d?h:l,l=Math.min(c.dataMin,r?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)),r=Math.max(c.dataMax,r?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding)),d=l-n;0<d&&(h+=d,n=l),d=h-r,0<d&&(h=r,n-=d),e.series.length&&n!==c.min&&h!==c.max&&(e.setExtremes(n,h,!1,!1,{trigger:"pan"}),i=!0),s[a]=o})),i&&s.redraw(!1),o(s.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var i=this,s=i.series,a=s.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,s.options.data[u(i,s.data)]=i.options,i.setState(t&&"select"),e||l(a.getSelectedPoints(),(function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,s.options.data[u(t,s.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))}))}))},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],(function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,s=f(e.series.options.point,e.options).events;e.events=s,t.objectEach(s,(function(t,s){i(e,s,t)})),this.hasImportedEvents=!0}},setState:function(t,e){var i,s=Math.floor(this.plotX),a=this.plotY,o=this.series,n=o.options.states[t||"normal"]||{},l=r[o.type].marker&&o.options.marker,d=l&&!1===l.enabled,u=l&&l.states&&l.states[t||"normal"]||{},p=!1===u.enabled,m=o.stateMarkerGraphic,f=this.marker||{},v=o.chart,y=o.halo,b=l&&o.markerAttribs;t=t||"",t===this.state&&!e||this.selected&&"select"!==t||!1===n.enabled||t&&(p||d&&!1===u.enabled)||t&&f.states&&f.states[t]&&!1===f.states[t].enabled||(b&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),g(v.options.chart.animation,n.animation)),i&&this.graphic.animate(i,g(v.options.chart.animation,u.animation,l.animation)),m&&m.hide()):(t&&u&&(l=f.symbol||o.symbol,m&&m.currentSymbol!==l&&(m=m.destroy()),m?m[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(o.stateMarkerGraphic=m=v.renderer.symbol(l,i.x,i.y,i.width,i.height).add(o.markerGroup),m.currentSymbol=l),m&&m.attr(o.pointAttribs(this,t))),m&&(m[t&&v.isInsidePlot(s,a,v.inverted)?"show":"hide"](),m.element.point=this)),(s=n.halo)&&s.size?(y||(o.halo=y=v.renderer.path().add((this.graphic||m).parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(s.size)}),y.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),y.point=this,y.attr(c({fill:this.color||o.color,"fill-opacity":s.opacity},s.attributes))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)},null,y.hide),this.state=t,h(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&h(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&h(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,s=e.graph,a=i.states,o=i.lineWidth;i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],(function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))})),e.state=t,!a[t]||!1!==a[t].enabled)&&(t&&(o=a[t].lineWidth||o+(a[t].lineWidthPlus||0)),s&&!s.dashstyle))for(o={"stroke-width":o},s.animate(o,g(a[t||"normal"]&&a[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,s=this,a=s.chart,o=s.legendItem,n=a.options.chart.ignoreHiddenSeries,r=s.visible;i=(s.visible=t=s.options.visible=s.userOptions.visible=void 0===t?!r:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(t){s[t]&&s[t][i]()})),a.hoverSeries!==s&&(a.hoverPoint&&a.hoverPoint.series)!==s||s.onMouseOut(),o&&a.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&l(a.series,(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),l(s.linkedSeries,(function(e){e.setVisible(t,!1)})),n&&(a.isDirtyBox=!0),h(s,i),!1!==e&&a.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),h(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,i=t.each,s=t.inArray,a=t.isArray,o=t.isObject,n=t.pick,r=t.splat;e.prototype.setResponsive=function(e){var s=this.options.responsive,a=[],o=this.currentResponsive;s&&s.rules&&i(s.rules,(function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,a,e)}),this);var n=t.merge.apply(0,t.map(a,(function(e){return t.find(s.rules,(function(t){return t._id===e})).chartOptions})));a=a.toString()||void 0;a!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),a?(this.currentResponsive={ruleIds:a,mergedOptions:n,undoOptions:this.currentOptions(n)},this.update(n,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=n(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=n(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=n(i.minWidth,0)&&this.chartHeight>=n(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,n,l,c){var h;t.objectEach(e,(function(t,e){if(!c&&-1<s(e,["series","xAxis","yAxis"]))for(t=r(t),l[e]=[],h=0;h<t.length;h++)n[e][h]&&(l[e][h]={},i(t[h],n[e][h],l[e][h],c+1));else o(t)?(l[e]=a(t)?[]:{},i(t,n[e]||{},l[e],c+1)):l[e]=n[e]||null}))}var n={};return i(e,this.options,n,0),n}}(e),e}))},function(t,e){var i,s,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(s===clearTimeout)return clearTimeout(t);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{return s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:o}catch(t){i=o}try{s="function"===typeof clearTimeout?clearTimeout:n}catch(t){s=n}})();var c,h=[],d=!1,u=-1;function p(){d&&c&&(d=!1,c.length?h=c.concat(h):u=-1,h.length&&m())}function m(){if(!d){var t=r(p);d=!0;var e=h.length;while(e){c=h,h=[];while(++u<e)c&&c[u].run();u=-1,e=h.length}c=null,d=!1,l(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new f(t,e)),1!==h.length||d||r(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){t.exports=function(t,e,i,s){var a,o=t=t||{},n=typeof t.default;"object"!==n&&"function"!==n||(a=t,o=t.default);var r="function"===typeof o?o.options:o;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),i&&(r._scopeId=i),s){var l=r.computed||(r.computed={});Object.keys(s).forEach((function(t){var e=s[t];l[t]=function(){return e}}))}return{esModule:a,exports:o,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classname,style:t.styles})},staticRenderFns:[]}}])}))},"61f3":function(t,e,i){"use strict";i("3497")},"651a":function(t,e,i){t.exports=i.p+"img/psg-logo.20670f47.png"},"65c0":function(t,e,i){},"670a":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"toggle"}},t._l(t.options,(function(i){return e("div",{key:i,staticClass:"option",class:{"is-selected":t.value===i},on:{click:function(e){return t.$emit("input",i)}}},[t._v(" "+t._s(i)+" ")])})),0)},a=[],o={name:"Toggle",props:{value:{type:String,required:!0},options:{type:Array,required:!0}}},n=o,r=(i("fa79"),i("2877")),l=Object(r["a"])(n,s,a,!1,null,"0e83c5c2",null);e["a"]=l.exports},"686b":function(t,e,i){},"6c88":function(t,e,i){"use strict";i("5d0b")},"6e8c":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"mdi-pin-outline","icon-color":"primary"},on:{input:t.handleInput},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("UnPin")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to unpin the "),e("b",[t._v('"'+t._s(t.label)+'"')]),t._v(". If you unpin, you will not be able to use this in the dashboard. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.deleteFilter}})]},proxy:!0}])})},a=[],o=i("1c54"),n=i("1b0d"),r={name:"ConfirmDeleteRepository",components:{Confirm:o["a"]},props:{value:{type:Boolean,required:!0},deleteData:{type:Object,required:!0},label:{type:String,default:""}},methods:{handleInput(t){this.$emit("input",t)},handleNo(){this.$emit("input",!1)},async deleteFilter(){const{error:t}=await n["e"].deleteFilter(this.deleteData.id,this.deleteData);t?this.$alert.warning("error"):(this.$emit("input",!1),this.$emit("delete"),this.$alert.success("Unpinned Successfully"))}}},l=r,c=i("2877"),h=Object(c["a"])(l,s,a,!1,null,"88551dfe",null);e["a"]=h.exports},"70a9":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"async-select-field"}},[t.label?e("FormFieldLabel",{attrs:{label:t.label,"is-mandatory":t.isMandatory,tooltip:t.tooltip}}):t._e(),e("FormFieldWrapper",{ref:"wrapper",attrs:{"is-focused":t._isFocused,"is-clearable":t._isClearable,"is-readonly":t.isReadonly,"is-disabled":t.isDisabled,"has-error":!!t.error,"action-icon":"eva-chevron-down"},on:{click:t.showOptionPicker,clear:t.handleClear},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"async-select"},[t._l(t.value,(function(i,s){return e("div",{key:i,staticClass:"chip"},[e("div",{staticClass:"q-mr-xs"},[t._v(t._s(i))]),e("BaseIcon",{attrs:{name:"eva-close"},on:{click:function(e){return e.stopPropagation(),t.removeOption(s)}}})],1)})),e("div",{staticClass:"col search-query"},[e("input",{ref:"searchQuery",attrs:{type:"text",placeholder:t._placeholder},domProps:{value:t.searchQuery},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},input:t.debouncedInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeypress.apply(null,arguments)}}})])],2),e("q-menu",{attrs:{target:t.$refs.wrapper,fit:"","no-focus":"","no-refocus":"","no-parent-event":"","transition-show":"scale","transition-hide":"scale"},model:{value:t.optionPicker,callback:function(e){t.optionPicker=e},expression:"optionPicker"}},[e("OptionPicker",{attrs:{"is-multiple":"",value:t.value,options:t._options,"new-option":t.newOption},on:{select:t.handleSelect,loadMore:t.getOptions}})],1)]},proxy:!0},{key:"action",fn:function(){return[t.isLoading?e("q-spinner",{staticClass:"q-mr-sm",attrs:{color:"secondary",size:"20px"}}):t._e()]},proxy:!0}])}),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e()],1)},a=[],o=(i("caad"),i("14d9"),i("3445")),n=i("0f01"),r=i("e683"),l=i("29db"),c=i("0d5e"),h=i("9996"),d=i("32e8"),u=i("5c8a"),p=i("85b1"),m={name:"AsyncMultiSelectField",components:{FormFieldLabel:o["a"],FormFieldWrapper:n["a"],FormFieldError:r["a"],OptionPicker:l["a"]},props:{value:{type:Array,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:""},isMandatory:{type:Boolean,default:!1},tooltip:{type:String,default:""},isDisabled:{type:Boolean,default:!1},isReadonly:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},error:{type:String,default:""},newOption:{type:Boolean,default:!1},apiPath:{type:String,default:""},columnName:{type:String,default:""}},data(){return{isFocused:!1,optionPicker:!1,searchQuery:"",options:[],isLoading:!1,optionsCount:0,optionsClone:[]}},computed:{_placeholder(){if(!this.value.length)return this.placeholder||"Select"},_isFocused(){return this.isFocused||this.optionPicker},_isClearable(){return this.isClearable&&!!this.value.length},_options(){return this.searchQuery?this.optionsClone.filter(t=>Object(h["a"])(t).includes(Object(h["a"])(this.searchQuery))):this.optionsClone}},watch:{options:{immediate:!0,deep:!0,handler(){Object(d["a"])(this.options,this.optionsClone)||(this.optionsClone=Object(u["a"])(this.options))}},optionPicker(){this.optionPicker||(this.searchQuery="")},columnName(){this.columnName&&(this.options=[],this.getOptions())}},created(){this.getOptions()},methods:{showOptionPicker(){this.optionPicker=!0},handleChange(t){this.searchQuery=t.target.value},handleSelect(t){const e=[...this.value],i=e.findIndex(e=>e===t);-1===i?e.push(t):e.splice(i,1),this.$emit("input",e),this.searchQuery=""},removeOption(t){const e=[...this.value];e.splice(t,1),this.$emit("input",e)},handleKeypress(){this.searchQuery&&this.newOption&&(this.handleSelect(this.searchQuery),this.$refs.searchQuery.blur())},handleClear(){this.$emit("input",[])},debouncedInput:Object(p["a"])((function(t){this.searchQuery=t.target.value}),500),async getOptions(){try{let t="";t=this.label?this.label:"object"===typeof this.columnName?this.columnName[0]:this.columnName;const e=await c["b"].post(this.apiPath,JSON.stringify({column:t,keyword:this.searchQuery,rowFrom:this.options.length||0,rowCount:this.options.length+10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);this.options.push(...a)}catch(t){console.error(t),this.$alert.error("Error fetching options")}},loadMoreOptions(){}}},f=m,g=(i("c187"),i("2877")),v=i("4e73"),y=i("0d59"),b=i("93dc"),x=i.n(b),w=Object(g["a"])(f,s,a,!1,null,"b0cc9a00",null);e["a"]=w.exports;x()(w,"components",{QMenu:v["a"],QSpinner:y["a"]})},"70d4":function(t,e,i){},7225:function(t,e,i){"use strict";i("afe7")},"742a":function(t,e,i){"use strict";i("ef04")},"75c3":function(t,e,i){"use strict";var s=i("0967"),a=i("7c86"),o=i("d882"),n=i("f249");function r(t,e,i){const s=Object(o["h"])(t);let a,n=s.left-e.event.x,r=s.top-e.event.y,l=Math.abs(n),c=Math.abs(r);const h=e.direction;!0===h.horizontal&&!0!==h.vertical?a=n<0?"left":"right":!0!==h.horizontal&&!0===h.vertical?a=r<0?"up":"down":!0===h.up&&r<0?(a="up",l>c&&(!0===h.left&&n<0?a="left":!0===h.right&&n>0&&(a="right"))):!0===h.down&&r>0?(a="down",l>c&&(!0===h.left&&n<0?a="left":!0===h.right&&n>0&&(a="right"))):!0===h.left&&n<0?(a="left",l<c&&(!0===h.up&&r<0?a="up":!0===h.down&&r>0&&(a="down"))):!0===h.right&&n>0&&(a="right",l<c&&(!0===h.up&&r<0?a="up":!0===h.down&&r>0&&(a="down")));let d=!1;if(void 0===a&&!1===i){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};a=e.event.lastDir,d=!0,"left"===a||"right"===a?(s.left-=n,l=0,n=0):(s.top-=r,c=0,r=0)}return{synthetic:d,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:s,direction:a,isFirst:e.event.isFirst,isFinal:!0===i,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:n,y:r},delta:{x:s.left-e.event.lastX,y:s.top-e.event.lastY}}}}function l(t){const e=t.__qtouchpan;void 0!==e&&(void 0!==e.event&&e.end(),Object(o["b"])(e,"main"),Object(o["b"])(e,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchpan)}let c=0;e["a"]={name:"touch-pan",bind(t,{value:e,modifiers:i}){if(void 0!==t.__qtouchpan&&(l(t),t.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function h(t,e){!0===i.mouse&&!0===e?Object(o["l"])(t):(!0===i.stop&&Object(o["k"])(t),!0===i.prevent&&Object(o["i"])(t))}const d={uid:"qvtp_"+c++,handler:e,modifiers:i,direction:Object(a["a"])(i),noop:o["g"],mouseStart(t){Object(a["b"])(t,d)&&Object(o["e"])(t)&&(Object(o["a"])(d,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),d.start(t,!0))},touchStart(t){if(Object(a["b"])(t,d)){const e=t.target;Object(o["a"])(d,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),d.start(t)}},start(e,a){!0===s["a"].is.firefox&&Object(o["j"])(t,!0),d.lastEvt=e;const n=Object(o["h"])(e);if(!0===a||!0===i.stop){if(!0!==d.direction.all&&(!0!==a||!0!==d.modifiers.mouseAllDir&&!0!==d.modifiers.mousealldir)){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&Object(o["i"])(t),!0===e.cancelBubble&&Object(o["k"])(t),t.qClonedBy=void 0===e.qClonedBy?[d.uid]:e.qClonedBy.concat(d.uid),t.qKeyEvent=e.qKeyEvent,t.qClickOutside=e.qClickOutside,d.initialEvent={target:e.target,event:t}}Object(o["k"])(e)}d.event={x:n.left,y:n.top,time:Date.now(),mouse:!0===a,detected:!1,isFirst:!0,isFinal:!1,lastX:n.left,lastY:n.top}},move(t){if(void 0===d.event)return;d.lastEvt=t;const e=!0===d.event.mouse,i=()=>{let i;h(t,e),!0!==d.modifiers.preserveCursor&&!0!==d.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===e&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(n["a"])(),d.styleCleanup=t=>{if(d.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===e){const e=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==t?setTimeout(()=>{e(),t()},50):e()}else void 0!==t&&t()}};if(!0===d.event.detected){!0!==d.event.isFirst&&h(t,d.event.mouse);const{payload:e,synthetic:s}=r(t,d,!1);return void(void 0!==e&&(!1===d.handler(e)?d.end(t):(void 0===d.styleCleanup&&!0===d.event.isFirst&&i(),d.event.lastX=e.position.left,d.event.lastY=e.position.top,d.event.lastDir=!0===s?void 0:e.direction,d.event.isFirst=!1)))}if(!0===d.direction.all||!0===e&&(!0===d.modifiers.mouseAllDir||!0===d.modifiers.mousealldir))return i(),d.event.detected=!0,void d.move(t);const s=Object(o["h"])(t),a=s.left-d.event.x,l=s.top-d.event.y,c=Math.abs(a),u=Math.abs(l);c!==u&&(!0===d.direction.horizontal&&c>u||!0===d.direction.vertical&&c<u||!0===d.direction.up&&c<u&&l<0||!0===d.direction.down&&c<u&&l>0||!0===d.direction.left&&c>u&&a<0||!0===d.direction.right&&c>u&&a>0?(d.event.detected=!0,d.move(t)):d.end(t,!0))},end(e,i){if(void 0!==d.event){if(Object(o["b"])(d,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),!0===i)void 0!==d.styleCleanup&&d.styleCleanup(),!0!==d.event.detected&&void 0!==d.initialEvent&&d.initialEvent.target.dispatchEvent(d.initialEvent.event);else if(!0===d.event.detected){!0===d.event.isFirst&&d.handler(r(void 0===e?d.lastEvt:e,d).payload);const{payload:t}=r(void 0===e?d.lastEvt:e,d,!0),i=()=>{d.handler(t)};void 0!==d.styleCleanup?d.styleCleanup(i):i()}d.event=void 0,d.initialEvent=void 0,d.lastEvt=void 0}}};t.__qtouchpan=d,!0===i.mouse&&Object(o["a"])(d,"main",[[t,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(o["a"])(d,"main",[[t,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},update(t,{oldValue:e,value:i}){const s=t.__qtouchpan;void 0!==s&&e!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(t){void 0===t.__qtouchpan_destroyed?l(t):delete t.__qtouchpan_destroyed}}},"76bc":function(t,e,i){"use strict";i("f2ec")},7794:function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"repository-field"}},[t.showFreeze?e("div",{attrs:{id:"checkbox-field"}},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Freeze",expression:"'Freeze'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:t.freezed?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:t.handleFreeze},model:{value:t.freezed,callback:function(e){t.freezed=e},expression:"freezed"}})],1):t._e(),"SHORT_TEXT"===t.field.dataType||"BARCODE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2138129544)}):t._e(),"NUMBER"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory,integer:!t.field.options.allowDecimals}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,3272965974)}):t._e(),"DATE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2736912833)}):t._e(),"TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2195704480)}):t._e(),"DATE_TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1802324180)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["EXISTING"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("AsyncSelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,"api-path":t.apiPath,error:i[0],"new-option":t.field.options.allowToAddNewOptions,"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,364407705)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&"PREDEFINED"===t.field.options.optionsType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.predefinedSelectOptions,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,3382750843)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["MASTER"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.options,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,768311157)}):t._e(),"BOOLEAN"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.booleanOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,61245750)}):t._e(),"OMR"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.omrOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1875132930)}):t._e()],1),e("div",{staticClass:"row items-center justify-center q-mt-sm"},[t.visiableSyncBtn?e("BaseButton",{attrs:{label:"Sync",color:"secondary"},on:{click:function(e){return t.$emit("saveSync",t.field)}}}):t._e()],1)])},a=[],o=i("7bb1"),n=i("b3d1"),r=i("ad54"),l=i("53c1"),c=i("cedb"),h=i("d1e5"),d=i("12b8"),u=i("0c21"),p=i("9234"),m=i("0d5e"),f={name:"RepositoryField",components:{ValidationProvider:o["b"],TextField:n["a"],NumberField:r["a"],DateField:l["a"],TimeField:c["a"],DateTimeField:h["a"],SelectField:d["a"],AsyncSelectField:u["a"],SingleChoiceField:p["a"]},props:{field:{type:Object,required:!0},repositoryId:{type:[String,Number],required:!0},value:{type:[String,Number],required:!0},readOnly:{type:Boolean,default:!1},label:{type:String,default:""},syncField:{type:Object,default:()=>{}},parentControl:{type:Boolean,default:!1},rowIndex:{type:Number,required:!0},filter:{type:Boolean,default:!1},freezedData:{type:Object,default:()=>{}},showFreeze:{type:Boolean,default:!1}},data(){return{booleanOptions:[{id:this.$nano.id(),label:this.field.options.truthyValue,value:this.field.options.truthyValue},{id:this.$nano.id(),label:this.field.options.falsyValue,value:this.field.options.falsyValue}],omrOptions:[{id:this.$nano.id(),label:"Yes",value:"true"},{id:this.$nano.id(),label:"No",value:"false"}],visiableSyncBtn:!1,options:[],freeze:!1,freezeData:this.freezedData,freezed:!1}},computed:{predefinedSelectOptions(){return this.field.options.predefinedOptions.map(t=>({id:this.$nano.id(),label:t,value:t}))},apiPath(){return`/repository/${this.repositoryId}/uniqueColumnValues`}},watch:{field:{immediate:!0,async handler(){for(let t in this.syncField)this.syncField[t]===this.field.name&&(this.visiableSyncBtn=!0)}},filter:{immediate:!0,deep:!0,handler(){this.field.filterBy&&this.field.options.masterFormId&&this.getMasterEntriesFilter(this.field)}}},created(){this.freezedData&&(this.freezed=this.field.name in this.freezedData),this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn)},methods:{handleInput(t){this.$emit("input",t),this.parentControl&&this.$emit("filterBy",this.field,this.rowIndex),this.freezed&&this.updateOrAddField(this.field.name,t)},handleFreeze(){this.freezed=!this.freezed,this.freezed?(this.updateOrAddField(this.field.name,this.value),this.$emit("update:freezed",this.freeze)):this.$emit("update:removeFreezed",this.field.name)},updateOrAddField(t,e){t in this.freezeData?this.freezeData[t]=e:this.freezeData={...this.freezeData,[t]:e},this.$emit("update:freezedData",this.freezeData)},async getMasterEntries(t,e){try{const i=await m["b"].post(`/form/${t}/uniqueColumnValues`,JSON.stringify({column:e,keyword:"",rowFrom:0,rowCount:0})),{status:s,data:a}=i;if(200!==s)throw i;const o=JSON.parse(a);o.length&&(this.options=o.map(t=>({id:this.$nano.id(),label:t,value:t})))}catch(i){console.error(i),this.$alert.error("Error fetching options")}},async getMasterEntriesFilter(t){try{const e=await m["b"].post(`/form/${t.options.masterFormId}/uniqueColumnValues`,JSON.stringify({column:t.options.masterTableColumn,keyword:"",rowFrom:0,rowCount:0,filters:t.filterBy})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length?(this.options=a.map(t=>({id:this.$nano.id(),label:t,value:t})),1===this.options.length&&this.handleInput(this.options[0].value)):(this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn),this.handleInput(""))}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},g=f,v=(i("87dc"),i("2877")),y=Object(v["a"])(g,s,a,!1,null,"174d3602",null);e["a"]=y.exports},8169:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("87e8");e["a"]=s["default"].extend({name:"QChatMessage",mixins:[a["a"]],props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){return"q-message-text-content q-message-text-content--"+this.op+(void 0!==this.textColor?" text-"+this.textColor:"")},messageClass(){return"q-message-text q-message-text--"+this.op+(void 0!==this.bgColor?" text-"+this.bgColor:"")},containerClass(){return"q-message-container row items-end no-wrap"+(!0===this.sent?" reverse":"")},sizeClass(){if(void 0!==this.size)return"col-"+this.size},op(){return!0===this.sent?"sent":"received"}},methods:{__wrapStamp(t,e){if(void 0!==this.$scopedSlots.stamp)return[e,t("div",{staticClass:"q-message-stamp"},this.$scopedSlots.stamp())];if(this.stamp){const i=!0===this.stampSanitize?"textContent":"innerHTML";return[e,t("div",{staticClass:"q-message-stamp",domProps:{[i]:this.stamp}})]}return[e]},__getText(t,e,i){const s=!0===this.textSanitize?"textContent":"innerHTML";if(!0===i&&!0===e.some(t=>void 0===t.tag&&void 0!==t.text))return[t("div",{class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,t("div",e)))])];const a=!0!==i?e=>t("div",{domProps:{[s]:e}}):e.length>1?t=>t:e=>t("div",[e]);return e.map((e,i)=>t("div",{key:i,class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,a(e)))]))}},render(t){const e=[];void 0!==this.$scopedSlots.avatar?e.push(this.$scopedSlots.avatar()):void 0!==this.avatar&&e.push(t("img",{class:"q-message-avatar q-message-avatar--"+this.op,attrs:{src:this.avatar,"aria-hidden":"true"}}));const i=[];void 0!==this.$scopedSlots.name?i.push(t("div",{class:"q-message-name q-message-name--"+this.op},this.$scopedSlots.name())):void 0!==this.name&&i.push(t("div",{class:"q-message-name q-message-name--"+this.op,domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}})),void 0!==this.text&&i.push(this.__getText(t,this.text)),void 0!==this.$scopedSlots.default&&i.push(this.__getText(t,this.$scopedSlots.default(),!0)),e.push(t("div",{class:this.sizeClass},i));const s=[];return void 0!==this.$scopedSlots.label?s.push(t("div",{staticClass:"q-message-label"},this.$scopedSlots.label())):void 0!==this.label&&s.push(t("div",{staticClass:"q-message-label",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}})),s.push(t("div",{class:this.containerClass},e)),t("div",{class:"q-message q-message-"+this.op,on:{...this.qListeners}},s)}})},8180:function(t,e,i){"use strict";i("e0b6")},8277:function(t,e,i){},"839a":function(t,e,i){},8505:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Modal",{attrs:{width:t.externalAccess?"100vw":"70vw","external-access":t.externalAccess},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.historyTitle)+'" Process History')]},proxy:!0},{key:"action",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:t.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processHistory"}},[e("div",{staticClass:"col-12 q-mb-md q-pt-sm"},[e("Stepper",{attrs:{"stage-level":t.stageLevel,"current-step":t.currentStep}})],1),e("table",{attrs:{id:"history"}},[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.processHistoryData,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:"stage"===s.name?[t._v(" "+t._s(i[s.name]||"-")+" "),i.subWorkflowHistory?[i.subWorkflowHistory.length?[e("span",{staticClass:"text-secondary"},[t._v(" [CONNECTOR] ")])]:t._e()]:t._e()]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0),i.comments.length?e("tr",{key:i.id,on:{click:function(t){i.showComments=!i.showComments}}},[e("td",{staticClass:"comments",attrs:{colspan:"6"}},[e("BaseIcon",{attrs:{name:i.showComments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Comments ("+t._s(i.comments.length)+") ")],1)]):t._e(),i.comments.length&&i.showComments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"comments1"}},[e("thead",[e("tr",[e("th",{staticClass:"large"},[t._v("Comments")]),e("th",{staticClass:"medium"},[t._v("Commented By")]),e("th",{staticClass:"medium"},[t._v("Commented On")]),e("th",{staticClass:"medium"},[t._v("Attached In")])])]),e("tbody",[t._l(i.comments,(function(i,s){return[e("tr",{key:s},[e("td",{staticClass:"commentsText ellipsis"},[t._v(" "+t._s(t.removeTags(i.comments)||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(i.createdByEmail||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")]),e("td",[i.embedFileList&&i.embedFileList.length?[e("div",{staticClass:"file-icons",on:{click:function(e){return t.openFileByCmd(i.embedFileList[0])}}},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"\n                                    comment.embedFileList[0].fileName\n                                  ",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}}),e("a",{staticClass:"file-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(i.embedFileList[0].fileName||"-"))])],1)]:[t._v(" "+t._s("-")+" ")]],2)])]}))],2)])])]):t._e(),i.attachments.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showAttachments=!i.showAttachments}}},[e("BaseIcon",{attrs:{name:i.showAttachments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Attachments ("+t._s(i.attachments.length)+") ")],1)]):t._e(),i.attachments.length&&i.showAttachments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",[e("tr",[e("th",[t._v("File Name")]),e("th",[t._v("Attached By")]),e("th",[t._v("Attached On")])])]),e("tbody",[t._l(i.attachments,(function(i,s){return[e("tr",{key:s},[e("td",[t._v(t._s(i.name||"-"))]),e("td",[t._v(t._s(i.createdByEmail||"-"))]),e("td",[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")])])]}))],2)])])]):t._e(),i.subWorkflowHistory?[i.subWorkflowHistory.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showSubWorkflowHistory=!i.showSubWorkflowHistory}}},[e("BaseIcon",{attrs:{name:i.showSubWorkflowHistory?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),1===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Completed",expression:"'Completed'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-check",color:"green"}})]:0===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-progress",expression:"'In-progress'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-clock",color:"orange"}})]:t._e(),t._v(" "+t._s(i.subWorkflowHistory[0].requestNo)+" ")],2)]):t._e(),i.showSubWorkflowHistory?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",[t._l(i.subWorkflowHistory,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]):t._e()]:t._e()]}))],2)])])]},proxy:!0}],null,!0),model:{value:t.processHistoryModal,callback:function(e){t.processHistoryModal=e},expression:"processHistoryModal"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFiles[0].createdAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFiles[0].createdByEmail))]),t.selectedFiles[0].size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFiles[0].size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],1)},a=[],o=(i("14d9"),i("1b0d")),n=i("6a70"),r=i("0006"),l=i("fa1f"),c=i("381e"),h=i("dd90"),d=i("a7d2"),u=i("42fc"),p={name:"ProcessHistory",components:{Modal:n["a"],Stepper:r["a"],Sheet:c["a"],FileIcon:l["a"]},props:{processId:{type:Number,required:!0},selectedProcess:{type:Object,default:()=>{}},externalAccess:{type:Boolean,default:!1}},data(){return{historyTitle:"",processHistoryData:[],processHistoryModal:!1,columns:[{id:this.$nano.id(),name:"stage",label:"STAGE",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"actionUser",label:"ACTION USER",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"receivedOn",label:"RECEIVED ON",type:"DATE"},{id:this.$nano.id(),name:"processedBy",label:"PROCESSED BY",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"processedOn",label:"PROCESSED ON",type:"DATE"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"SHORT_TEXT"}],stageLevel:[],currentStep:0,selectedFile:{},fileSheet:!1,selectedFiles:[]}},watch:{processId:{immediate:!0,handler(){this.processId&&this.showHistory(this.processId)}}},methods:{async showHistory(t){this.processHistoryModal=!0,this.processHistoryData=[],this.historyTitle=this.selectedProcess.requestNo,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await o["t"].processHistory(this.selectedProcess.id,t);this.$store.commit("hideLoadingBarSave"),e?this.$alert.error(e):i.length&&(i.forEach(t=>{this.processHistoryData.push({...t,showComments:!1,showAttachments:!1,showSubWorkflowHistory:!1})}),this.stageLevel=[],this.currentStep=0,i.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},openFileByCmd(t){const e=t,{fileName:i,itemid:s,...a}=e;this.selectedFile={name:i,id:s,...a};const o=this.processHistoryData.map(t=>t.attachments).flat();this.selectedFiles=o.filter(t=>t.id==this.selectedFile.id&&t.name==this.selectedFile.name),this.openFile(this.selectedFile)},fileSize(t){return Object(d["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;return"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2),Object(h["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`}return Object(h["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(h["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:Object(h["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},closeModal(){this.processHistoryModal=!1,this.$emit("close")},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},export_Data1(){let t=[];this.processHistoryData.forEach(e=>{t.push({Stage:e.stage,"Action User":e.actionUser,"Received On":this.$day.format(e.receivedOn),"Processed On":this.$day.format(e.processedOn),"Processed By":e.processedBy,Status:e.status})}),Object(u["a"])(t,this.historyTitle+" - Process History")},export_Data(){let t=[];this.processHistoryData.forEach(e=>{if(t.push({Stage:e.stage,"Action User":e.actionUser||"","Received On":this.$day.format(e.receivedOn)||"","Processed On":this.$day.format(e.processedOn)||"","Processed By":e.processedBy||"",Status:e.status||""}),e.comments&&e.comments.length){let i;t.push({Stage:`<span style="color: #00BCD4;font-weight: bold;">Comments(${e.comments.length})</span>`}),t.push({Stage:"<strong>Comments<strong>","Action User":"<strong>Commented By<strong>","Received On":"<strong>Commented On<strong>","Processed On":"<strong>Attached In<strong>"}),e.comments.forEach(e=>{e.embedFileList&&e.embedFileList.length&&e.embedFileList.forEach(t=>{i=t.fileName}),t.push({Stage:`<span style="color: #00BCD4;">${e.comments||""}</span>`,"Action User":`<span style="color: #00BCD4;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #00BCD4;">${this.$day.format(e.createdAt)||""}</span>`,"Processed On":`<span style="color: #00BCD4;">${i||""}</span>`})})}e.attachments&&e.attachments.length&&(t.push({Stage:`<span style="color: #643094;font-weight: bold;">Attachment(${e.attachments.length})</span>`}),t.push({Stage:"<strong>File Name<strong>","Action User":"<strong>\tAttached By<strong>","Received On":"<strong>Attached On<strong>"}),e.attachments.forEach(e=>{t.push({Stage:`<span style="color: #643094; border: 12px solid#50067e;">${e.name||""}</span>`,"Action User":`<span style="color: #643094;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #643094;">${this.$day.format(e.createdAt)||""}</span>`})})),e.subWorkflowHistory&&e.subWorkflowHistory.length&&(t.push({Stage:`<span style="color: #e97f06;font-weight: bold;">${e.subWorkflowHistory[0].requestNo}[Connector]<span>`}),t.push({Stage:"<strong>Stage</strong>","Action User":"<strong>Action User</strong>","Received On":"<strong>Received On</strong>","Processed On":"<strong>Processed On</strong>","Processed By":"<strong>Processed By</strong>",Status:"<strong>status</strong>"}),e.subWorkflowHistory.forEach(e=>{t.push({Stage:`<span style="color: #e97f06;">${e.stage}</span>`,"Action User":`<span style="color: #e97f06;border:2px solid black">${e.actionUser||""}</span>`,"Received On":`<span style="color: #e97f06;">${this.$day.format(e.receivedOn)||""}</span>`,"Processed On":`<span style="color: #e97f06;">${this.$day.format(e.processedOn)||""}</span>`,"Processed By":`<span style="color: #e97f06;">${e.processedBy||""}</span>`,Status:`<span style="color: #e97f06;">${e.status||""}</span>`})}))}),Object(u["a"])(t,this.historyTitle+" Report")}}},m=p,f=(i("bf55"),i("2877")),g=i("4e73"),v=i("93dc"),y=i.n(v),b=Object(f["a"])(m,s,a,!1,null,"2443da3d",null);e["a"]=b.exports;y()(b,"components",{QMenu:g["a"]})},"874f":function(t,e,i){"use strict";var s=i("7c4a"),a=i("0e40"),o=Object(s["a"])((function(t,e,i){return t+(i?" ":"")+Object(a["a"])(e)}));e["a"]=o},"87dc":function(t,e,i){"use strict";i("5f3d")},"891f":function(t,e,i){"use strict";i("8277")},"8b55":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({class:{active:t.isActive,"is-full-width":t.isFullWidth},style:{color:t.isActive?t._color:""},attrs:{id:"tab"}},t.$listeners),[t._v(" "+t._s(t.label)+" ")])},a=[],o={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},n=o,r=(i("2ac6"),i("2877")),l=Object(r["a"])(n,s,a,!1,null,"f3c4783e",null);e["a"]=l.exports},"8f7d":function(t,e,i){"use strict";i("b2ee")},"91dd":function(t,e,i){},9254:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.barChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),n=i("2adf"),r={name:"BarChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},isHorizontal:{type:Boolean,default:!1},isStacked:{type:Boolean,default:!1},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{barChartOptions:{chart:{type:"bar",barHeight:"100%",stacked:this.isStacked},xaxis:{categories:this.xData},plotOptions:{bar:{borderRadius:4,horizontal:this.isHorizontal}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.barChartOptions,this.options)}}}},l=r,c=i("2877"),h=Object(c["a"])(l,s,a,!1,null,"8af710e6",null);e["a"]=h.exports},"94f5":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({attrs:{id:"action"}},t.$listeners),[e("BaseIcon",{attrs:{name:t.icon,"inherit-color":""}}),e("div",{staticClass:"label"},[t._v(t._s(t.label))])],1)},a=[],o={name:"Action",props:{icon:{type:String,required:!0},label:{type:String,default:""}}},n=o,r=(i("a116"),i("2877")),l=Object(r["a"])(n,s,a,!1,null,"1619714d",null);e["a"]=l.exports},"970a":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const s={CONTAINS:"CONTAINS",IS_EQUALS_TO:"IS_EQUALS_TO (=)",IS_NOT_EQUALS_TO:"IS_NOT_EQUALS_TO (!=)",IS_GREATER_THAN:"IS_GREATER_THAN (>)",IS_GREATER_THAN_OR_EQUALS_TO:"IS_GREATER_THAN_OR_EQUALS_TO (>=)",IS_LESSER_THAN:"IS_LESSER_THAN (<)",IS_LESSER_THAN_OR_EQUALS_TO:"IS_LESSER_THAN_OR_EQUALS_TO (<=)",IS_EMPTY:"IS_EMPTY ({})",IS_NOT_EMPTY:"IS_NOT_EMPTY (!{})",IS_ANY_OF:"IS_ANY_OF",IS_NOT_ANY_OF:"IS_NOT_ANY_OF",NOT_CONTAINS:"NOT_CONTAINS",STARTS_WITH:"STARTS_WITH",NOT_STARTS_WITH:"NOT_STARTS_WITH",ENDS_WITH:"ENDS_WITH",NOT_ENDS_WITH:"NOT_ENDS_WITH"};Object.freeze(s);var a=s,o=i("381b");function n(t){switch(t){case o["a"].NUMBER:case o["a"].DATE:case o["a"].TIME:case o["a"].DATE_TIME:case o["a"].COUNTER:case o["a"].CALCULATED:return[a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_GREATER_THAN,a.IS_GREATER_THAN_OR_EQUALS_TO,a.IS_LESSER_THAN,a.IS_LESSER_THAN_OR_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SHORT_TEXT:case o["a"].LONG_TEXT:case o["a"].TABLE:return[a.CONTAINS,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.NOT_CONTAINS,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SINGLE_SELECT:case o["a"].MULTI_SELECT:case o["a"].MULTIPLE_CHOICE:return[a.CONTAINS,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_ANY_OF,a.IS_NOT_ANY_OF];default:return[a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO]}}},9935:function(t,e,i){},"9b4a":function(t,e,i){"use strict";i.d(e,"a",(function(){return Sa})),i.d(e,"b",(function(){return ki})),i.d(e,"c",(function(){return Bs})),i.d(e,"d",(function(){return go}));const s=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function a(t,e){let i=!1,a=[];return function(...o){a=Array.prototype.slice.call(o),i||(i=!0,s.call(window,()=>{i=!1,t.apply(e,a)}))}}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const o={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return-t*(t-2)},easeInOutQuad(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic(t){return t*t*t},easeOutCubic(t){return(t-=1)*t*t+1},easeInOutCubic(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return-((t-=1)*t*t*t-1)},easeInOutQuart(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return(t-=1)*t*t*t*t+1},easeInOutQuint(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine(t){return Math.sin(t*(Math.PI/2))},easeInOutSine(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:2===(t/=.5)?1:(i||(i=.45),e=i/(2*Math.PI)*Math.asin(1/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:s*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce(t){return 1-o.easeOutBounce(1-t)},easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce(t){return t<.5?.5*o.easeInBounce(2*t):.5*o.easeOutBounce(2*t-1)+.5}};var n=o;
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function r(){}const l=function(){let t=0;return function(){return t++}}();function c(t){return null===t||"undefined"===typeof t}function h(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function d(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const u=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function p(t,e){return"undefined"===typeof t?e:t}function m(t,e,i){if(t&&"function"===typeof t.call)return t.apply(i,e)}function f(t,e,i,s){let a,o,n;if(h(t))if(o=t.length,s)for(a=o-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<o;a++)e.call(i,t[a],a);else if(d(t))for(n=Object.keys(t),o=n.length,a=0;a<o;a++)e.call(i,t[n[a]],n[a])}function g(t,e){let i,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(a=t[i],o=e[i],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function v(t){if(h(t))return t.map(v);if(d(t)){const e={},i=Object.keys(t),s=i.length;let a=0;for(;a<s;++a)e[i[a]]=v(t[i[a]]);return e}return t}function y(t,e,i,s){const a=e[t],o=i[t];d(a)&&d(o)?b(a,o,s):e[t]=v(o)}function b(t,e,i){const s=h(e)?e:[e],a=s.length;if(!d(t))return t;i=i||{};const o=i.merger||y;for(let n=0;n<a;++n){if(e=s[n],!d(e))continue;const a=Object.keys(e);for(let s=0,n=a.length;s<n;++s)o(a[s],t,e,i)}return t}function x(t,e){return b(t,e,{merger:w})}function w(t,e,i){const s=e[t],a=i[t];d(s)&&d(a)?x(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=v(a))}function k(t,e){if(e.length<3)return t[e];const i=e.split(".");for(let s=0,a=i.length;s<a;++s){const e=i[s];if(!(e in t))return;t=t[e]}return t}function C(t){return t.charAt(0).toUpperCase()+t.slice(1)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const S=Math.PI,A=S/180,T=2*S,I=S/2,P=S/4,M=2*S/3;function L(t){return!t||c(t.size)||c(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _(t,e,i,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,i.push(a)),o>s&&(s=o),s}function D(t,e,i,s){s=s||{};let a=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let n=0;const r=i.length;let l,c,d,u,p;for(l=0;l<r;l++)if(u=i[l],void 0!==u&&null!==u&&!0!==h(u))n=_(t,a,o,n,u);else if(h(u))for(c=0,d=u.length;c<d;c++)p=u[c],void 0===p||null===p||h(p)||(n=_(t,a,o,n,p));t.restore();const m=o.length/2;if(m>i.length){for(l=0;l<m;l++)delete a[o[l]];o.splice(0,m)}return n}function F(t,e,i){const s=t.currentDevicePixelRatio,a=i/2;return Math.round((e-a)*s)/s+a}function O(t){t.ctx.clearRect(0,0,t.width,t.height)}function E(t,e,i,s){let a,o,n,r,l;const c=e.pointStyle,h=e.rotation,d=e.radius;let u=(h||0)*A;if(c&&"object"===typeof c&&(a=c.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(i,s),t.rotate(u),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),c){default:t.arc(i,s,d,0,T),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=M,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=M,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),t.closePath();break;case"rectRounded":l=.516*d,r=d-l,o=Math.cos(u+P)*r,n=Math.sin(u+P)*r,t.arc(i-o,s-n,l,u-S,u-I),t.arc(i+n,s-o,l,u-I,u),t.arc(i+o,s+n,l,u,u+I),t.arc(i-n,s+o,l,u+I,u+S),t.closePath();break;case"rect":if(!h){r=Math.SQRT1_2*d,t.rect(i-r,s-r,2*r,2*r);break}u+=P;case"rectRot":o=Math.cos(u)*d,n=Math.sin(u)*d,t.moveTo(i-o,s-n),t.lineTo(i+n,s-o),t.lineTo(i+o,s+n),t.lineTo(i-n,s+o),t.closePath();break;case"crossRot":u+=P;case"cross":o=Math.cos(u)*d,n=Math.sin(u)*d,t.moveTo(i-o,s-n),t.lineTo(i+o,s+n),t.moveTo(i+n,s-o),t.lineTo(i-n,s+o);break;case"star":o=Math.cos(u)*d,n=Math.sin(u)*d,t.moveTo(i-o,s-n),t.lineTo(i+o,s+n),t.moveTo(i+n,s-o),t.lineTo(i-n,s+o),u+=P,o=Math.cos(u)*d,n=Math.sin(u)*d,t.moveTo(i-o,s-n),t.lineTo(i+o,s+n),t.moveTo(i+n,s-o),t.lineTo(i-n,s+o);break;case"line":o=Math.cos(u)*d,n=Math.sin(u)*d,t.moveTo(i-o,s-n),t.lineTo(i+o,s+n);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(u)*d,s+Math.sin(u)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function B(t,e){const i=.5;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function N(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function R(t){t.restore()}function z(t,e,i,s,a){if(!e)return t.lineTo(i.x,i.y);if("middle"===a){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===a!==!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function $(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.controlPointPreviousX:e.controlPointNextX,s?e.controlPointPreviousY:e.controlPointNextY,s?i.controlPointNextX:i.controlPointPreviousX,s?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function V(t,e){if(!e)return t;const i=e.split(".");for(let s=0,a=i.length;s<a;++s){const e=i[s];t=t[e]||(t[e]={})}return t}class H{constructor(){this.color="rgba(0,0,0,0.1)",this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={color:"#666",family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null,lineWidth:0,strokeStyle:void 0},this.hover={onHover:null,mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onClick=null,this.responsive=!0,this.showLines=!0,this.plugins={},this.scale=void 0,this.doughnut=void 0,this.scales={},this.controllers=void 0}set(t,e){return b(V(this,t),e)}get(t){return V(this,t)}route(t,e,i,s){const a=V(this,t),o=V(this,i),n="_"+e;Object.defineProperties(a,{[n]:{writable:!0},[e]:{enumerable:!0,get(){return p(this[n],o[s])},set(t){this[n]=t}}})}}var W=new H;function j(t,e){const i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}function q(t){let e,i,s,a;return d(t)?(e=+t.top||0,i=+t.right||0,s=+t.bottom||0,a=+t.left||0):e=i=s=a=+t||0,{top:e,right:i,bottom:s,left:a,height:e+s,width:a+i}}function X(t,e){t=t||{},e=e||W.font;let i=p(t.size,e.size);"string"===typeof i&&(i=parseInt(i,10));const s={color:p(t.color,e.color),family:p(t.family,e.family),lineHeight:j(p(t.lineHeight,e.lineHeight),i),lineWidth:p(t.lineWidth,e.lineWidth),size:i,style:p(t.style,e.style),weight:p(t.weight,e.weight),strokeStyle:p(t.strokeStyle,e.strokeStyle),string:""};return s.string=L(s),s}function Y(t,e,i,s){let a,o,n,r=!0;for(a=0,o=t.length;a<o;++a)if(n=t[a],void 0!==n&&(void 0!==e&&"function"===typeof n&&(n=n(e),r=!1),void 0!==i&&h(n)&&(n=n[i%n.length],r=!1),void 0!==n))return s&&!r&&(s.cacheable=!1),n}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const G={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},U="0123456789ABCDEF",J=t=>U[15&t],K=t=>U[(240&t)>>4]+U[15&t],Z=t=>(240&t)>>4===(15&t);function Q(t){return Z(t.r)&&Z(t.g)&&Z(t.b)&&Z(t.a)}function tt(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*G[t[1]],g:255&17*G[t[2]],b:255&17*G[t[3]],a:5===i?17*G[t[4]]:255}:7!==i&&9!==i||(e={r:G[t[1]]<<4|G[t[2]],g:G[t[3]]<<4|G[t[4]],b:G[t[5]]<<4|G[t[6]],a:9===i?G[t[7]]<<4|G[t[8]]:255})),e}function et(t){var e=Q(t)?J:K;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function it(t){return t+.5|0}const st=(t,e,i)=>Math.max(Math.min(t,i),e);function at(t){return st(it(2.55*t),0,255)}function ot(t){return st(it(255*t),0,255)}function nt(t){return st(it(t/2.55)/100,0,1)}function rt(t){return st(it(100*t),0,100)}const lt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ct(t){const e=lt.exec(t);let i,s,a,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?at(t):255*t)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?at(i):i),s=255&(e[4]?at(s):s),a=255&(e[6]?at(a):a),{r:i,g:s,b:a,a:o}}}function ht(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${nt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const dt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ut(t,e,i){const s=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function pt(t,e,i){const s=(s,a=(s+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function mt(t,e,i){const s=ut(t,1,.5);let a;for(e+i>1&&(a=1/(e+i),e*=a,i*=a),a=0;a<3;a++)s[a]*=1-e-i,s[a]+=e;return s}function ft(t){const e=255,i=t.r/e,s=t.g/e,a=t.b/e,o=Math.max(i,s,a),n=Math.min(i,s,a),r=(o+n)/2;let l,c,h;return o!==n&&(h=o-n,c=r>.5?h/(2-o-n):h/(o+n),l=o===i?(s-a)/h+(s<a?6:0):o===s?(a-i)/h+2:(i-s)/h+4,l=60*l+.5),[0|l,c||0,r]}function gt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(ot)}function vt(t,e,i){return gt(ut,t,e,i)}function yt(t,e,i){return gt(mt,t,e,i)}function bt(t,e,i){return gt(pt,t,e,i)}function xt(t){return(t%360+360)%360}function wt(t){const e=dt.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?at(+e[5]):ot(+e[5]));const a=xt(+e[2]),o=+e[3]/100,n=+e[4]/100;return i="hwb"===e[1]?yt(a,o,n):"hsv"===e[1]?bt(a,o,n):vt(a,o,n),{r:i[0],g:i[1],b:i[2],a:s}}function kt(t,e){var i=ft(t);i[0]=xt(i[0]+e),i=vt(i),t.r=i[0],t.g=i[1],t.b=i[2]}function Ct(t){if(!t)return;const e=ft(t),i=e[0],s=rt(e[1]),a=rt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${a}%, ${nt(t.a)})`:`hsl(${i}, ${s}%, ${a}%)`}const St={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},At={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Tt(){const t={},e=Object.keys(At),i=Object.keys(St);let s,a,o,n,r;for(s=0;s<e.length;s++){for(n=r=e[s],a=0;a<i.length;a++)o=i[a],r=r.replace(o,St[o]);o=parseInt(At[n],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}let It;function Pt(t){It||(It=Tt(),It.transparent=[0,0,0,0]);const e=It[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Mt(t,e,i){if(t){let s=ft(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=vt(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Lt(t,e){return t?Object.assign(e||{},t):t}function _t(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ot(t[3]))):(e=Lt(t,{r:0,g:0,b:0,a:1}),e.a=ot(e.a)),e}function Dt(t){return"r"===t.charAt(0)?ct(t):wt(t)}class Ft{constructor(t){if(t instanceof Ft)return t;const e=typeof t;let i;"object"===e?i=_t(t):"string"===e&&(i=tt(t)||Pt(t)||Dt(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Lt(this._rgb);return t&&(t.a=nt(t.a)),t}set rgb(t){this._rgb=_t(t)}rgbString(){return this._valid?ht(this._rgb):this._rgb}hexString(){return this._valid?et(this._rgb):this._rgb}hslString(){return this._valid?Ct(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,a=t.rgb;let o;const n=e===o?.5:e,r=2*n-1,l=s.a-a.a,c=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;o=1-c,s.r=255&c*s.r+o*a.r+.5,s.g=255&c*s.g+o*a.g+.5,s.b=255&c*s.b+o*a.b+.5,s.a=n*s.a+(1-n)*a.a,i.rgb=s}return i}clone(){return new Ft(this.rgb)}alpha(t){return this._rgb.a=ot(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=it(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Mt(this._rgb,2,t),this}darken(t){return Mt(this._rgb,2,-t),this}saturate(t){return Mt(this._rgb,1,t),this}desaturate(t){return Mt(this._rgb,1,-t),this}rotate(t){return kt(this._rgb,t),this}}function Ot(t){return new Ft(t)}const Et=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function Bt(t){return Et(t)?t:Ot(t)}function Nt(t){return Et(t)?t:Ot(t).saturate(.5).darken(.1).hexString()}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Rt(t,e){let i,s=t.length-1,a=0;while(s-a>1)i=a+s>>1,t[i]<e?a=i:s=i;return{lo:a,hi:s}}function zt(t,e,i){let s,a=t.length-1,o=0;while(a-o>1)s=o+a>>1,t[s][e]<i?o=s:a=s;return{lo:o,hi:a}}function $t(t,e,i){let s,a=t.length-1,o=0;while(a-o>1)s=o+a>>1,t[s][e]<i?a=s:o=s;return{lo:o,hi:a}}function Vt(t,e,i){let s=0,a=t.length;while(s<a&&t[s]<e)s++;while(a>s&&t[a-1]>i)a--;return s>0||a<t.length?t.slice(s,a):t}const Ht=["push","pop","shift","splice","unshift"];function Wt(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ht.forEach(e=>{const i="_onData"+C(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const a=s.apply(this,e);return t._chartjs.listeners.forEach(t=>{"function"===typeof t[i]&&t[i](...e)}),a}})}))}function jt(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,a=s.indexOf(e);-1!==a&&s.splice(a,1),s.length>0||(Ht.forEach(e=>{delete t[e]}),delete t._chartjs)}function qt(t){const e=new Set;let i,s;for(i=0,s=t.length;i<s;++i)e.add(t[i]);if(e.size===s)return t;const a=[];return e.forEach(t=>{a.push(t)}),a}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const Xt=Math.PI,Yt=2*Xt,Gt=Yt+Xt;function Ut(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s===0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort((t,e)=>t-e).pop(),e}const Jt=Math.log10||function(t){const e=Math.log(t)*Math.LOG10E,i=Math.round(e),s=t===Math.pow(10,i);return s?i:e};function Kt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Zt(t,e,i){return Math.abs(t-e)<i}function Qt(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function te(t,e,i){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}const ee=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1};function ie(t){return t*(Xt/180)}function se(t){return t*(180/Xt)}function ae(t){if(!u(t))return;let e=1,i=0;while(Math.round(t*e)/e!==t)e*=10,i++;return i}function oe(t,e){const i=e.x-t.x,s=e.y-t.y,a=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*Xt&&(o+=Yt),{angle:o,distance:a}}function ne(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function re(t,e){return(t-e+Gt)%Yt-Xt}function le(t){return(t%Yt+Yt)%Yt}function ce(t,e,i){const s=le(t),a=le(e),o=le(i),n=le(a-s),r=le(o-s),l=le(s-a),c=le(s-o);return s===a||s===o||n>r&&l<c}function he(t,e,i){return Math.max(e,Math.min(i,t))}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function de(t){return void 0!==t&&null!==t&&"none"!==t}function ue(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function pe(t,e,i){let s;return"string"===typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}function me(t,e,i){const s=document.defaultView,a=ue(t),o=s.getComputedStyle(t)[e],n=s.getComputedStyle(a)[e],r=de(o),l=de(n),c=Number.POSITIVE_INFINITY;if(r||l)return Math.min(r?pe(o,t,i):c,l?pe(n,a,i):c)}function fe(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function ge(t){return me(t,"max-width","clientWidth")}function ve(t){return me(t,"max-height","clientHeight")}function ye(t,e,i){return e=fe(t,e),""===e?0:e.indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)}function be(t,e){const i=t.originalEvent||t,s=i.touches,a=s&&s.length?s[0]:i,o=a.clientX,n=a.clientY,r=a.offsetX||a.layerX||o,l=a.offsetY||a.layerY||n;if(r!==o&&l!==n)return{x:r,y:l};const c=e.canvas,h=e.currentDevicePixelRatio,d=c.getBoundingClientRect(),u=parseFloat(fe(c,"padding-left")),p=parseFloat(fe(c,"padding-top")),m=parseFloat(fe(c,"padding-right")),f=parseFloat(fe(c,"padding-bottom")),g=d.right-d.left-u-m,v=d.bottom-d.top-p-f;return{x:Math.round((r-d.left-u)/g*c.width/h),y:Math.round((l-d.top-p)/v*c.height/h)}}function xe(t,e){return"number"===typeof t?t:e}function we(t){const e=ue(t);if(!e)return xe(t.clientWidth,t.width);const i=e.clientWidth,s=ye(e,"padding-left",i),a=ye(e,"padding-right",i),o=i-s-a,n=ge(t);return isNaN(n)?o:Math.min(o,n)}function ke(t){const e=ue(t);if(!e)return xe(t.clientHeight,t.height);const i=e.clientHeight,s=ye(e,"padding-top",i),a=ye(e,"padding-bottom",i),o=i-s-a,n=ve(t);return isNaN(n)?o:Math.min(o,n)}function Ce(t,e){const i=t.currentDevicePixelRatio=e||"undefined"!==typeof window&&window.devicePixelRatio||1,{canvas:s,width:a,height:o}=t;s.height=o*i,s.width=a*i,t.ctx.setTransform(i,0,0,i,0,0),!s.style||s.style.height||s.style.width||(s.style.height=o+"px",s.style.width=a+"px")}const Se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Ae(t,e){const i=fe(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Te(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Ie(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function Pe(t,e,i,s){const a={x:t.controlPointNextX,y:t.controlPointNextY},o={x:e.controlPointPreviousX,y:e.controlPointPreviousY},n=Te(t,a,i),r=Te(a,o,i),l=Te(o,e,i),c=Te(n,r,i),h=Te(r,l,i);return Te(c,h,i)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Me(t){return"angle"===t?{between:ce,compare:re,normalize:le}:{between:(t,e,i)=>t>=e&&t<=i,compare:(t,e)=>t-e,normalize:t=>t}}function Le(t,e,i,s){return{start:t%s,end:e%s,loop:i&&(e-t+1)%s===0}}function _e(t,e,i){const{property:s,start:a,end:o}=i,{between:n,normalize:r}=Me(s),l=e.length;let c,h,{start:d,end:u,loop:p}=t;if(p){for(d+=l,u+=l,c=0,h=l;c<h;++c){if(!n(r(e[d%l][s]),a,o))break;d--,u--}d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:p}}function De(t,e,i){if(!i)return[t];const{property:s,start:a,end:o}=i,n=e.length,{compare:r,between:l,normalize:c}=Me(s),{start:h,end:d,loop:u}=_e(t,e,i),p=[];let m,f,g,v=!1,y=null;const b=()=>l(a,g,m)&&0!==r(a,g),x=()=>0===r(o,m)||l(o,g,m),w=()=>v||b(),k=()=>!v||x();for(let C=h,S=h;C<=d;++C)f=e[C%n],f.skip||(m=c(f[s]),v=l(m,a,o),null===y&&w()&&(y=0===r(m,a)?C:S),null!==y&&k()&&(p.push(Le(y,C,u,n)),y=null),S=C,g=m);return null!==y&&p.push(Le(y,d,u,n)),p}function Fe(t,e){const i=[],s=t.segments;for(let a=0;a<s.length;a++){const o=De(s[a],t.points,e);o.length&&i.push(...o)}return i}function Oe(t,e,i,s){let a=0,o=e-1;if(i&&!s)while(a<e&&!t[a].skip)a++;while(a<e&&t[a].skip)a++;a%=e,i&&(o+=a);while(o>a&&t[o%e].skip)o--;return o%=e,{start:a,end:o}}function Ee(t,e,i,s){const a=t.length,o=[];let n,r=e,l=t[e];for(n=e+1;n<=i;++n){const i=t[n%a];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%a,end:(n-1)%a,loop:s}),e=r=i.stop?n:null):(r=n,l.skip&&(e=n)),l=i}return null!==r&&o.push({start:e%a,end:r%a,loop:s}),o}function Be(t){const e=t.points,i=t.options.spanGaps,s=e.length;if(!s)return[];const a=!!t._loop,{start:o,end:n}=Oe(e,s,a,i);if(!0===i)return[{start:o,end:n,loop:a}];const r=n<o?n+s:n,l=!!t._fullLoop&&0===o&&n===s-1;return Ee(e,o,r,l)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const Ne=Number.EPSILON||1e-14;function Re(t,e,i,s){const a=t.skip?e:t,o=e,n=i.skip?e:i,r=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2));let c=r/(r+l),h=l/(r+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=s*c,u=s*h;return{previous:{x:o.x-d*(n.x-a.x),y:o.y-d*(n.y-a.y)},next:{x:o.x+u*(n.x-a.x),y:o.y+u*(n.y-a.y)}}}function ze(t){const e=(t||[]).map(t=>({model:t,deltaK:0,mK:0})),i=e.length;let s,a,o,n,r,l,c,h,d;for(s=0;s<i;++s)if(o=e[s],!o.model.skip){if(a=s>0?e[s-1]:null,n=s<i-1?e[s+1]:null,n&&!n.model.skip){const t=n.model.x-o.model.x;o.deltaK=0!==t?(n.model.y-o.model.y)/t:0}!a||a.model.skip?o.mK=o.deltaK:!n||n.model.skip?o.mK=a.deltaK:ee(a.deltaK)!==ee(o.deltaK)?o.mK=0:o.mK=(a.deltaK+o.deltaK)/2}for(s=0;s<i-1;++s)o=e[s],n=e[s+1],o.model.skip||n.model.skip||(Zt(o.deltaK,0,Ne)?o.mK=n.mK=0:(r=o.mK/o.deltaK,l=n.mK/o.deltaK,h=Math.pow(r,2)+Math.pow(l,2),h<=9||(c=3/Math.sqrt(h),o.mK=r*c*o.deltaK,n.mK=l*c*o.deltaK)));for(s=0;s<i;++s)o=e[s],o.model.skip||(a=s>0?e[s-1]:null,n=s<i-1?e[s+1]:null,a&&!a.model.skip&&(d=(o.model.x-a.model.x)/3,o.model.controlPointPreviousX=o.model.x-d,o.model.controlPointPreviousY=o.model.y-d*o.mK),n&&!n.model.skip&&(d=(n.model.x-o.model.x)/3,o.model.controlPointNextX=o.model.x+d,o.model.controlPointNextY=o.model.y+d*o.mK))}function $e(t,e,i){return Math.max(Math.min(t,i),e)}function Ve(t,e){let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i],B(a,e)&&(i>0&&B(t[i-1],e)&&(a.controlPointPreviousX=$e(a.controlPointPreviousX,e.left,e.right),a.controlPointPreviousY=$e(a.controlPointPreviousY,e.top,e.bottom)),i<t.length-1&&B(t[i+1],e)&&(a.controlPointNextX=$e(a.controlPointNextX,e.left,e.right),a.controlPointNextY=$e(a.controlPointNextY,e.top,e.bottom)))}function He(t,e,i,s){let a,o,n,r;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)ze(t);else{let i=s?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)n=t[a],r=Re(i,n,t[Math.min(a+1,o-(s?0:1))%o],e.tension),n.controlPointPreviousX=r.previous.x,n.controlPointPreviousY=r.previous.y,n.controlPointNextX=r.next.x,n.controlPointNextY=r.next.y,i=n}e.capBezierPoints&&Ve(t,i)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const We=function(t,e){return{x(i){return t+t+e-i},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},je=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function qe(t,e,i){return t?We(e,i):je()}function Xe(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Ye(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Ge(t,e,i,s){const a=1e3/(i-s)|0,o=t.ctx;o.save(),o.clearRect(0,0,50,24),o.fillStyle="black",o.textAlign="right",e&&(o.fillText(e,50,8),o.fillText(a+" fps",50,18)),o.restore()}class Ue{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s]||[],o=e.duration;a.forEach(s=>s({chart:t,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){const t=this;t._request||(t._running=!0,t._request=s.call(window,()=>{t._update(),t._request=null,t._running&&t._refresh()}))}_update(){const t=this,e=Date.now();let i=0;t._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let n,r=o.length-1,l=!1;for(;r>=0;--r)n=o[r],n._active?(n.tick(e),l=!0):(o[r]=o[o.length-1],o.pop());l&&(a.draw(),t._notify(a,s,e,"progress")),a.options.animation.debug&&Ge(a,o.length,e,t._lastDate),o.length||(s.running=!1,t._notify(a,s,e,"complete")),i+=o.length}),t._lastDate=e,0===i&&(t._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Je=new Ue;const Ke="transparent",Ze={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const s=Bt(t||Ke),a=s.valid&&Bt(e||Ke);return a&&a.valid?a.mix(s,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class Qe{constructor(t,e,i,s){const a=e[i];s=Y([t.to,s,a,t.from]);const o=Y([t.from,a,s]);this._active=!0,this._fn=t.fn||Ze[t.type||typeof o],this._easing=n[t.easing||"linear"],this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){const s=this;if(s._active){const a=s._target[s._prop],o=i-s._start,n=s._duration-o;s._start=i,s._duration=Math.floor(Math.max(n,t.duration)),s._loop=!!t.loop,s._to=Y([t.to,e,a,t.from]),s._from=Y([t.from,a,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,i=t-e._start,s=e._duration,a=e._prop,o=e._from,n=e._loop,r=e._to;let l;if(e._active=o!==r&&(n||i<s),!e._active)return e._target[a]=r,void e._notify(!0);i<0?e._target[a]=o:(l=i/s%2,l=n&&l>1?2-l:l,l=e._easing(Math.min(1,Math.max(0,l))),e._target[a]=e._fn(o,r,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}const ti=["x","y","borderWidth","radius","tension"],ei=["borderColor","backgroundColor"];function ii(t,e){const i=t.options,s=e.options;i&&s&&(i.$shared&&!s.$shared?t.options=Object.assign({},i,s,{$shared:!1}):Object.assign(i,s),delete e.options)}function si(t){const e={};return Object.keys(t).forEach(i=>{const s=t[i];d(s)||(e[i]=s)}),e}W.set("animation",{duration:1e3,easing:"easeOutQuart",onProgress:r,onComplete:r,colors:{type:"color",properties:ei},numbers:{type:"number",properties:ti},active:{duration:400},resize:{duration:0},show:{colors:{type:"color",properties:ei,from:"transparent"},visible:{type:"boolean",duration:0}},hide:{colors:{type:"color",properties:ei,to:"transparent"},visible:{type:"boolean",easing:"easeInExpo"}}});class ai{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!d(t))return;const e=this._properties,i=si(t);Object.keys(t).forEach(s=>{const a=t[s];d(a)&&(a.properties||[s]).forEach(t=>{if(e.has(t)){if(t===s){const{properties:i,...s}=e.get(t);e.set(t,Object.assign({},s,a))}}else e.set(t,Object.assign({},i,a))})})}_animateOptions(t,e){const i=e.options,s=ni(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&!s.$shared&&oi(t.$animations,i).then(()=>{t.options=i}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),o=Object.keys(e),n=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(t,e));continue}const c=e[l];let h=a[l];const d=i.get(l);if(h){if(d&&h.active()){h.update(d,c,n);continue}h.cancel()}d&&d.duration?(a[l]=h=new Qe(d,t,l,c),s.push(h)):t[l]=c}return s}update(t,e){if(0===this._properties.size)return ii(t,e),void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Je.add(this._chart,i),!0):void 0}}function oi(t,e){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const e=t[s[a]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}function ni(t,e){if(!e)return;let i=t.options;if(i)return i.$shared&&!e.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}function ri(t,e){const i=t&&t.options||{},s=i.reverse,a=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:a,end:s?a:o}}function li(t,e,i){if(!1===i)return!1;const s=ri(t,i),a=ri(e,i);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function ci(t){let e,i,s,a;return d(t)?(e=t.top,i=t.right,s=t.bottom,a=t.left):e=i=s=a=t,{top:e,right:i,bottom:s,left:a}}function hi(t,e){const i=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)i.push(s[a].index);return i}function di(t,e,i,s){const a=t.keys;let o,n,r,l;for(o=0,n=a.length;o<n;++o){if(r=+a[o],r===i){if(s)continue;break}l=t.values[r],isNaN(l)||0!==e&&ee(e)!==ee(l)||(e+=l)}return e}function ui(t){const e=Object.keys(t),i=new Array(e.length);let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s],i[s]={x:o,y:t[o]};return i}function pi(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function mi(t,e,i){return t.id+"."+e.id+"."+i.stack+"."+i.type}function fi(t){const{min:e,max:i,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?i:Number.POSITIVE_INFINITY}}function gi(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function vi(t,e){const{chart:i,_cachedMeta:s}=t,a=i._stacks||(i._stacks={}),{iScale:o,vScale:n,index:r}=s,l=o.axis,c=n.axis,h=mi(o,n,s),d=e.length;let u;for(let p=0;p<d;++p){const t=e[p],{[l]:i,[c]:s}=t,o=t._stacks||(t._stacks={});u=o[c]=gi(a,h,i),u[r]=s}}function yi(t,e){const i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function bi(t){return h(t)?t:Object.keys(t)}function xi(t,e){return e?"hover"+C(t):t}function wi(t){return"reset"===t||"none"===t}class ki{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedAnimations={},this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this._config=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this.enableOptionSharing=!1,this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=pi(e.vScale,e),t.addElements()}updateIndex(t){this.index=t}linkScales(){const t=this,e=t.chart,i=t._cachedMeta,s=t.getDataset(),a=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,o=i.xAxisID=p(s.xAxisID,yi(e,"x")),n=i.yAxisID=p(s.yAxisID,yi(e,"y")),r=i.rAxisID=p(s.rAxisID,yi(e,"r")),l=i.indexAxis,c=i.iAxisID=a(l,o,n,r),h=i.vAxisID=a(l,n,o,r);i.xScale=t.getScaleForId(o),i.yScale=t.getScaleForId(n),i.rScale=t.getScaleForId(r),i.iScale=t.getScaleForId(c),i.vScale=t.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){this._data&&jt(this._data,this)}_dataCheck(){const t=this,e=t.getDataset(),i=e.data||(e.data=[]);d(i)?t._data=ui(i):t._data!==i&&(t._data&&jt(t._data,t),i&&Object.isExtensible(i)&&Wt(i,t),t._data=i)}addElements(){const t=this,e=t._cachedMeta;t._dataCheck();const i=t._data,s=e.data=new Array(i.length);for(let a=0,o=i.length;a<o;++a)s[a]=new t.dataElementType;t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(){const t=this,e=t._cachedMeta,i=t.getDataset();let s=!1;t._dataCheck(),e._stacked=pi(e.vScale,e),e.stack!==i.stack&&(s=!0,e._parsed.forEach(t=>{delete t._stacks[e.vScale.id][e.index]}),e.stack=i.stack),t._resyncElements(),s&&vi(t,e._parsed)}configure(){const t=this;t._config=b({},[t.chart.options[t._type].datasets,t.getDataset()],{merger(t,e,i){"data"!==t&&y(t,e,i)}}),t._parsing=Y([t._config.parsing,t.chart.options.parsing,!0])}parse(t,e){const i=this,{_cachedMeta:s,_data:a}=i,{iScale:o,vScale:n,_stacked:r}=s,l=o.axis;let c,u,p,m,f=!0;if(t>0&&(f=s._sorted,m=s._parsed[t-1]),!1===i._parsing)s._parsed=a,s._sorted=!0;else{for(u=h(a[t])?i.parseArrayData(s,a,t,e):d(a[t])?i.parseObjectData(s,a,t,e):i.parsePrimitiveData(s,a,t,e),c=0;c<e;++c)s._parsed[c+t]=p=u[c],f&&(m&&p[l]<m[l]&&(f=!1),m=p);s._sorted=f}r&&vi(i,u),o.invalidateCaches(),n.invalidateCaches()}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:o}=t,n=a.axis,r=o.axis,l=a.getLabels(),c=a===o,h=new Array(s);let d,u,p;for(d=0,u=s;d<u;++d)p=d+i,h[d]={[n]:c||a.parse(l[p],p),[r]:o.parse(e[p],p)};return h}parseArrayData(t,e,i,s){const{xScale:a,yScale:o}=t,n=new Array(s);let r,l,c,h;for(r=0,l=s;r<l;++r)c=r+i,h=e[c],n[r]={x:a.parse(h[0],c),y:o.parse(h[1],c)};return n}parseObjectData(t,e,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:n="x",yAxisKey:r="y"}=this._parsing,l=new Array(s);let c,h,d,u;for(c=0,h=s;c<h;++c)d=c+i,u=e[d],l[c]={x:a.parse(k(u,n),d),y:o.parse(k(u,r),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}applyStack(t,e){const i=this.chart,s=this._cachedMeta,a=e[t.axis],o={keys:hi(i,!0),values:e._stacks[t.axis]};return di(o,a,s.index)}updateRangeFromParsed(t,e,i,s){let a=i[e.axis];const o=s&&i._stacks[e.axis];s&&o&&(s.values=o,t.min=Math.min(t.min,a),t.max=Math.max(t.max,a),a=di(s,a,this._cachedMeta.index,!0)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this,s=i._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,n=a.length,r=i._getOtherScale(t),l=e&&s._stacked&&{keys:hi(i.chart,!0),values:null},c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=fi(r);let u,p,m,f;function g(){return m=a[u],p=m[t.axis],f=m[r.axis],isNaN(p)||h>f||d<f}for(u=0;u<n;++u)if(!g()&&(i.updateRangeFromParsed(c,t,m,l),o))break;if(o)for(u=n-1;u>=0;--u)if(!g()){i.updateRangeFromParsed(c,t,m,l);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s][t.axis],isNaN(o)||i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=i.iScale,a=i.vScale,o=e.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this,i=e._cachedMeta;e.configure(),e._cachedAnimations={},e._cachedDataOpts={},e.update(t||"default"),i._clip=ci(p(e._config.clip,li(i.xScale,i.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,i=t.chart,s=t._cachedMeta,a=s.data||[],o=i.chartArea,n=[];let r,l;for(s.dataset&&s.dataset.draw(e,o),r=0,l=a.length;r<l;++r){const t=a[r];t.active?n.push(t):t.draw(e,o)}for(r=0,l=n.length;r<l;++r)n[r].draw(e,o)}_addAutomaticHoverColors(t,e){const i=this,s=i.getStyle(t),a=Object.keys(s).filter(t=>-1!==t.indexOf("Color")&&!(t in e));let o,n=a.length-1;for(;n>=0;n--)o=a[n],e[o]=Nt(s[o])}getStyle(t,e){const i=this,s=i._cachedMeta,a=s.dataset;i._config||i.configure();const o=a&&void 0===t?i.resolveDatasetElementOptions(e):i.resolveDataElementOptions(t||0,e&&"active");return e&&i._addAutomaticHoverColors(t,o),o}_getContext(t,e){return{chart:this.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:this.getDataset(),datasetIndex:this.index,active:e}}resolveDatasetElementOptions(t){return this._resolveOptions(this.datasetElementOptions,{active:t,type:this.datasetElementType.id})}resolveDataElementOptions(t,e){e=e||"default";const i=this,s="active"===e,a=i._cachedDataOpts,o=i.enableOptionSharing;if(a[e])return a[e];const n={cacheable:!s},r=i._resolveOptions(i.dataElementOptions,{index:t,active:s,info:n,type:i.dataElementType.id});return n.cacheable&&(r.$shared=o,a[e]=o?Object.freeze(r):r),r}_resolveOptions(t,e){const i=this,{index:s,active:a,type:o,info:n}=e,r=i._config,l=i.chart.options.elements[o]||{},c={},h=i._getContext(s,a),d=bi(t);for(let u=0,p=d.length;u<p;++u){const e=d[u],i=xi(e,a),o=Y([r[t[i]],r[i],l[i]],h,s,n);void 0!==o&&(c[e]=o)}return c}_resolveAnimations(t,e,i){const s=this,a=s.chart,o=s._cachedAnimations;if(e=e||"default",o[e])return o[e];const n={cacheable:!0},r=s._getContext(t,i),l=Y([s._config.animation],r,t,n),c=Y([a.options.animation],r,t,n);let h=x({},[l,c]);h[e]&&(h=Object.assign({},h,h[e]));const d=new ai(a,h);return n.cacheable&&(o[e]=d&&Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||wi(t)}updateElement(t,e,i,s){wi(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&this._resolveAnimations(void 0,e).update({options:t},{options:i})}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(){const t=this,e=t._cachedMeta,i=e.data.length,s=t._data.length;s>i?t._insertElements(i,s-i):s<i&&(e.data.splice(s,i-s),e._parsed.splice(s,i-s)),t.parse(0,Math.min(s,i))}_insertElements(t,e){const i=this,s=new Array(e),a=i._cachedMeta,o=a.data;let n;for(n=0;n<e;++n)s[n]=new i.dataElementType;o.splice(t,0,...s),i._parsing&&a._parsed.splice(t,0,...new Array(e)),i.parse(t,e),i.updateElements(s,t,"reset")}updateElements(t,e,i){}_removeElements(t,e){const i=this;i._parsing&&i._cachedMeta._parsed.splice(t,e),i._cachedMeta.data.splice(t,e)}_onDataPush(){const t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}_onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}_onDataShift(){this._removeElements(0,1)}_onDataSplice(t,e){this._removeElements(t,e),this._insertElements(t,arguments.length-2)}_onDataUnshift(){this._insertElements(0,arguments.length)}}function Ci(t,e){let i,s,a,o,n=t._length;for(a=1,o=e.length;a<o;++a)n=Math.min(n,Math.abs(e[a]-e[a-1]));for(a=0,o=t.ticks.length;a<o;++a)s=t.getPixelForTick(a),n=a>0?Math.min(n,Math.abs(s-i)):n,i=s;return n}function Si(t,e,i){const s=i.barThickness,a=e.stackCount;let o,n;return c(s)?(o=e.min*i.categoryPercentage,n=i.barPercentage):(o=s*a,n=1),{chunk:o/a,ratio:n,start:e.pixels[t]-o/2}}function Ai(t,e,i){const s=e.pixels,a=s[t];let o=t>0?s[t-1]:null,n=t<s.length-1?s[t+1]:null;const r=i.categoryPercentage;null===o&&(o=a-(null===n?e.end-e.start:n-a)),null===n&&(n=a+a-o);const l=a-(a-Math.min(o,n))/2*r,c=Math.abs(n-o)/2*r;return{chunk:c/e.stackCount,ratio:i.barPercentage,start:l}}function Ti(t,e,i,s){const a=i.parse(t[0],s),o=i.parse(t[1],s),n=Math.min(a,o),r=Math.max(a,o);let l=n,c=r;Math.abs(n)>Math.abs(r)&&(l=r,c=n),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:a,end:o,min:n,max:r}}function Ii(t,e,i,s){return h(t)?Ti(t,e,i,s):e[i.axis]=i.parse(t,s),e}function Pi(t,e,i,s){const a=t.iScale,o=t.vScale,n=a.getLabels(),r=a===o,l=[];let c,h,d,u;for(c=i,h=i+s;c<h;++c)u=e[c],d={},d[a.axis]=r||a.parse(n[c],c),l.push(Ii(u,d,o,c));return l}function Mi(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}ki.defaults={},ki.prototype.datasetElementType=null,ki.prototype.dataElementType=null,ki.prototype.datasetElementOptions=["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],ki.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","pointStyle"];class Li extends ki{parsePrimitiveData(t,e,i,s){return Pi(t,e,i,s)}parseArrayData(t,e,i,s){return Pi(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:o}=t,{xAxisKey:n="x",yAxisKey:r="y"}=this._parsing,l="x"===a.axis?n:r,c="x"===o.axis?n:r,h=[];let d,u,p,m;for(d=i,u=i+s;d<u;++d)m=e[d],p={},p[a.axis]=a.parse(k(m,l),d),h.push(Ii(k(m,c),p,o,d));return h}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getLabelAndValue(t){const e=this,i=e._cachedMeta,{iScale:s,vScale:a}=i,o=e.getParsed(t),n=o._custom,r=Mi(n)?"["+n.start+", "+n.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:r}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize();const e=t._cachedMeta;e.stack=t.getDataset().stack}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,o=s._cachedMeta.vScale,n=o.getBasePixel(),r=o.isHorizontal(),l=s._getRuler(),c=s.resolveDataElementOptions(e,i),h=s.getSharedOptions(c),d=s.includeOptions(i,h);s.updateSharedOptions(h,i,c);for(let u=0;u<t.length;u++){const o=e+u,c=h||s.resolveDataElementOptions(o,i),p=s._calculateBarValuePixels(o,c),m=s._calculateBarIndexPixels(o,l,c),f={horizontal:r,base:a?n:p.base,x:r?a?n:p.head:m.center,y:r?m.center:a?n:p.head,height:r?m.size:void 0,width:r?void 0:m.size};d&&(f.options=c),s.updateElement(t[u],o,f,i)}}_getStacks(t){const e=this,i=e._cachedMeta,s=i.iScale,a=s.getMatchingVisibleMetas(e._type),o=s.options.stacked,n=a.length,r=[];let l,c;for(l=0;l<n;++l)if(c=a[l],(!1===o||-1===r.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&r.push(c.stack),c.index===t)break;return r.length||r.push(void 0),r}_getStackCount(){return this._getStacks().length}_getStackIndex(t,e){const i=this._getStacks(t),s=void 0!==e?i.indexOf(e):-1;return-1===s?i.length-1:s}_getRuler(){const t=this,e=t._cachedMeta,i=e.iScale,s=[];let a,o;for(a=0,o=e.data.length;a<o;++a)s.push(i.getPixelForValue(t.getParsed(a)[i.axis],a));const n=Ci(i,s);return{min:n,pixels:s,start:i._startPixel,end:i._endPixel,stackCount:t._getStackCount(),scale:i}}_calculateBarValuePixels(t,e){const i=this,s=i._cachedMeta,a=s.vScale,o=e.minBarLength,n=i.getParsed(t),r=n._custom;let l,c,h=n[a.axis],d=0,u=s._stacked?i.applyStack(a,n):h;u!==h&&(d=u-h,u=h),Mi(r)&&(h=r.barStart,u=r.barEnd-r.barStart,0!==h&&ee(h)!==ee(r.barEnd)&&(d=0),d+=h);let p=he(a.getPixelForValue(d),a._startPixel-10,a._endPixel+10);return l=a.getPixelForValue(d+u),c=l-p,void 0!==o&&Math.abs(c)<o&&(c=c<0?-o:o,0===h&&(p-=c/2),l=p+c),{size:c,base:p,head:l,center:l+c/2}}_calculateBarIndexPixels(t,e,i){const s=this,a="flex"===i.barThickness?Ai(t,e,i):Si(t,e,i),o=s._getStackIndex(s.index,s._cachedMeta.stack),n=a.start+a.chunk*o+a.chunk/2,r=Math.min(p(i.maxBarThickness,1/0),a.chunk*a.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}draw(){const t=this,e=t.chart,i=t._cachedMeta,s=i.vScale,a=i.data,o=a.length;let n=0;for(N(e.ctx,e.chartArea);n<o;++n)isNaN(t.getParsed(n)[s.axis])||a[n].draw(t._ctx);R(e.ctx)}}Li.id="bar",Li.defaults={datasetElementType:!1,dataElementType:"rectangle",dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],hover:{mode:"index"},datasets:{categoryPercentage:.8,barPercentage:.9,animation:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},scales:{_index_:{type:"category",offset:!0,gridLines:{offsetGridLines:!0}},_value_:{type:"linear",beginAtZero:!0}}};class _i extends ki{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,e,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:n="x",yAxisKey:r="y"}=this._parsing,l=[];let c,h,d;for(c=i,h=i+s;c<h;++c)d=e[c],l.push({x:a.parse(k(d,n),c),y:o.parse(k(d,r),c),_custom:d&&d.r&&+d.r});return l}getMaxOverflow(){const t=this,e=t._cachedMeta;let i=(e.data||[]).length-1,s=0;for(;i>=0;--i)s=Math.max(s,t.getStyle(i,!0).radius);return s>0&&s}getLabelAndValue(t){const e=this,i=e._cachedMeta,{xScale:s,yScale:a}=i,o=e.getParsed(t),n=s.getLabelForValue(o.x),r=a.getLabelForValue(o.y),l=o._custom;return{label:i.label,value:"("+n+", "+r+(l?", "+l:"")+")"}}update(t){const e=this,i=e._cachedMeta.data;e.updateElements(i,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,{xScale:o,yScale:n}=s._cachedMeta,r=s.resolveDataElementOptions(e,i),l=s.getSharedOptions(r),c=s.includeOptions(i,l);for(let h=0;h<t.length;h++){const r=t[h],l=e+h,d=!a&&s.getParsed(l),u=a?o.getPixelForDecimal(.5):o.getPixelForValue(d.x),p=a?n.getBasePixel():n.getPixelForValue(d.y),m={x:u,y:p,skip:isNaN(u)||isNaN(p)};c&&(m.options=s.resolveDataElementOptions(l,i),a&&(m.options.radius=0)),s.updateElement(r,l,m,i)}s.updateSharedOptions(l,i,r)}resolveDataElementOptions(t,e){const i=this,s=i.chart,a=i.getDataset(),o=i.getParsed(t);let n=super.resolveDataElementOptions(t,e);const r={chart:s,dataPoint:o,dataIndex:t,dataset:a,datasetIndex:i.index};return n.$shared&&(n=Object.assign({},n,{$shared:!1})),"active"!==e&&(n.radius=0),n.radius+=Y([o&&o._custom,i._config.radius,s.options.elements.point.radius],r,t),n}}_i.id="bubble",_i.defaults={datasetElementType:!1,dataElementType:"point",dataElementOptions:["backgroundColor","borderColor","borderWidth","hitRadius","radius","pointStyle","rotation"],animation:{numbers:{properties:["x","y","borderWidth","radius"]}},scales:{x:{type:"linear"},y:{type:"linear"}},tooltips:{callbacks:{title(){return""}}}};const Di=Math.PI,Fi=2*Di,Oi=Di/2;function Ei(t,e,i){let s=1,a=1,o=0,n=0;if(e<Fi){let r=t%Fi;r+=r>=Di?-Fi:r<-Di?Fi:0;const l=r+e,c=Math.cos(r),h=Math.sin(r),d=Math.cos(l),u=Math.sin(l),p=r<=0&&l>=0||l>=Fi,m=r<=Oi&&l>=Oi||l>=Fi+Oi,f=r===-Di||l>=Di,g=r<=-Oi&&l>=-Oi||l>=Di+Oi,v=f?-1:Math.min(c,c*i,d,d*i),y=g?-1:Math.min(h,h*i,u,u*i),b=p?1:Math.max(c,c*i,d,d*i),x=m?1:Math.max(h,h*i,u,u*i);s=(b-v)/2,a=(x-y)/2,o=-(b+v)/2,n=-(x+y)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:n}}class Bi extends ki{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;let a,o;for(a=t,o=t+e;a<o;++a)s._parsed[a]=+i[a]}getRingIndex(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e}update(t){const e=this,i=e.chart,{chartArea:s,options:a}=i,o=e._cachedMeta,n=o.data,r=a.cutoutPercentage/100||0,l=e._getRingWeight(e.index),{ratioX:c,ratioY:h,offsetX:d,offsetY:u}=Ei(a.rotation,a.circumference,r),p=e.getMaxBorderWidth()+e.getMaxOffset(n),m=(s.right-s.left-p)/c,f=(s.bottom-s.top-p)/h,g=Math.max(Math.min(m,f)/2,0),v=Math.max(g*r,0),y=(g-v)/e._getVisibleDatasetWeightTotal();e.offsetX=d*g,e.offsetY=u*g,o.total=e.calculateTotal(),e.outerRadius=g-y*e._getRingWeightOffset(e.index),e.innerRadius=Math.max(e.outerRadius-y*l,0),e.updateElements(n,0,t)}_circumference(t,e){const i=this,s=i.chart.options,a=i._cachedMeta;return e&&s.animation.animateRotate?0:this.chart.getDataVisibility(t)?i.calculateCircumference(a._parsed[t]*s.circumference/Fi):0}updateElements(t,e,i){const s=this,a="reset"===i,o=s.chart,n=o.chartArea,r=o.options,l=r.animation,c=(n.left+n.right)/2,h=(n.top+n.bottom)/2,d=a&&l.animateScale,u=d?0:s.innerRadius,p=d?0:s.outerRadius,m=s.resolveDataElementOptions(e,i),f=s.getSharedOptions(m),g=s.includeOptions(i,f);let v,y=r.rotation;for(v=0;v<e;++v)y+=s._circumference(v,a);for(v=0;v<t.length;++v){const o=e+v,n=s._circumference(o,a),r=t[v],l={x:c+s.offsetX,y:h+s.offsetY,startAngle:y,endAngle:y+n,circumference:n,outerRadius:p,innerRadius:u};g&&(l.options=f||s.resolveDataElementOptions(o,i)),y+=n,s.updateElement(r,o,l,i)}s.updateSharedOptions(f,i,m)}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const e=t._parsed[i];!isNaN(e)&&this.chart.getDataVisibility(i)&&(s+=Math.abs(e))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Fi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=e.chart,a=s.data.labels||[];return{label:a[t]||"",value:i._parsed[t]}}getMaxBorderWidth(t){const e=this;let i=0;const s=e.chart;let a,o,n,r,l;if(!t)for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){n=s.getDatasetMeta(a),t=n.data,r=n.controller,r!==e&&r.configure();break}if(!t)return 0;for(a=0,o=t.length;a<o;++a)l=r.resolveDataElementOptions(a),"inner"!==l.borderAlign&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(p(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Bi.id="doughnut",Bi.defaults={datasetElementType:!1,dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]},animateRotate:!0,animateScale:!1},aspectRatio:1,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((e,i)=>{const s=t.getDatasetMeta(0),a=s.controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(i),index:i}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},cutoutPercentage:50,rotation:-Oi,circumference:Fi,tooltips:{callbacks:{title(){return""},label(t){let e=t.label;const i=": "+t.formattedValue;return h(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}};class Ni extends ki{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,i=e._cachedMeta,s=i.dataset,a=i.data||[];if("resize"!==t){const i={points:a,options:e.resolveDatasetElementOptions()};e.updateElement(s,void 0,i,t)}e.updateElements(a,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,{xScale:o,yScale:n,_stacked:r}=s._cachedMeta,l=s.resolveDataElementOptions(e,i),c=s.getSharedOptions(l),h=s.includeOptions(i,c),d=p(s._config.spanGaps,s.chart.options.spanGaps),u=Kt(d)?d:Number.POSITIVE_INFINITY;let m;for(let p=0;p<t.length;++p){const l=e+p,d=t[p],f=s.getParsed(l),g=o.getPixelForValue(f.x,l),v=a?n.getBasePixel():n.getPixelForValue(r?s.applyStack(n,f):f.y,l),y={x:g,y:v,skip:isNaN(g)||isNaN(v),stop:p>0&&f.x-m.x>u};h&&(y.options=c||s.resolveDataElementOptions(l,i)),s.updateElement(d,l,y,i),m=f}s.updateSharedOptions(c,i,l)}resolveDatasetElementOptions(t){const e=this,i=e._config,s=e.chart.options,a=s.elements.line,o=super.resolveDatasetElementOptions(t),n=p(i.showLine,s.showLines);return o.spanGaps=p(i.spanGaps,s.spanGaps),o.tension=p(i.lineTension,a.tension),o.stepped=Y([i.stepped,a.stepped]),n||(o.borderWidth=0),o}getMaxOverflow(){const t=this,e=t._cachedMeta,i=e.dataset.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(),o=s[s.length-1].size();return Math.max(i,a,o)/2}draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),super.draw()}}function Ri(t){return ie(t)-.5*Math.PI}Ni.id="line",Ni.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","capBezierPoints","cubicInterpolationMode","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverHitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},showLines:!0,spanGaps:!1,hover:{mode:"index"},scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class zi extends ki{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,t)}_updateRadius(){const t=this,e=t.chart,i=e.chartArea,s=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(a/2,0),n=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),r=(o-n)/e.getVisibleDatasetCount();t.outerRadius=o-r*t.index,t.innerRadius=t.outerRadius-r}updateElements(t,e,i){const s=this,a="reset"===i,o=s.chart,n=s.getDataset(),r=o.options,l=r.animation,c=s._cachedMeta.rScale,h=c.xCenter,d=c.yCenter,u=Ri(r.startAngle);let p,m=u;for(s._cachedMeta.count=s.countVisibleElements(),p=0;p<e;++p)m+=s._computeAngle(p);for(p=0;p<t.length;p++){const o=t[p],r=e+p;let f=m,g=m+s._computeAngle(r),v=this.chart.getDataVisibility(r)?c.getDistanceFromCenterForValue(n.data[r]):0;m=g,a&&(l.animateScale&&(v=0),l.animateRotate&&(f=u,g=u));const y={x:h,y:d,innerRadius:0,outerRadius:v,startAngle:f,endAngle:g,options:s.resolveDataElementOptions(r,i)};s.updateElement(o,r,y,i)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let i=0;return e.data.forEach((e,s)=>{!isNaN(t.data[s])&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t){const e=this,i=e._cachedMeta,s=i.count,a=e.getDataset();if(isNaN(a.data[t])||!this.chart.getDataVisibility(t))return 0;const o={chart:e.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:a,datasetIndex:e.index};return Y([e.chart.options.elements.arc.angle,2*Math.PI/s],o,t)}}zi.id="polarArea",zi.defaults={dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]},animateRotate:!0,animateScale:!0},aspectRatio:1,datasets:{indexAxis:"r"},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,gridLines:{circular:!0},pointLabels:{display:!1}}},startAngle:0,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((e,i)=>{const s=t.getDatasetMeta(0),a=s.controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(i),index:i}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltips:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}};class $i extends Bi{}$i.id="pie",$i.defaults={cutoutPercentage:0};class Vi extends ki{getLabelAndValue(t){const e=this,i=e._cachedMeta.vScale,s=e.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(s[i.axis])}}update(t){const e=this,i=e._cachedMeta,s=i.dataset,a=i.data||[],o=i.iScale.getLabels();if("resize"!==t){const i={points:a,_loop:!0,_fullLoop:o.length===a.length,options:e.resolveDatasetElementOptions()};e.updateElement(s,void 0,i,t)}e.updateElements(a,0,t)}updateElements(t,e,i){const s=this,a=s.getDataset(),o=s._cachedMeta.rScale,n="reset"===i;let r;for(r=0;r<t.length;r++){const l=t[r],c=e+r,h=s.resolveDataElementOptions(c,i),d=o.getPointPositionForValue(c,a.data[c]),u=n?o.xCenter:d.x,p=n?o.yCenter:d.y,m={x:u,y:p,angle:d.angle,skip:isNaN(u)||isNaN(p),options:h};s.updateElement(l,c,m,i)}}resolveDatasetElementOptions(t){const e=this,i=e._config,s=e.chart.options,a=super.resolveDatasetElementOptions(t),o=p(i.showLine,s.showLines);return a.spanGaps=p(i.spanGaps,s.spanGaps),a.tension=p(i.lineTension,s.elements.line.tension),o||(a.borderWidth=0),a}}Vi.id="radar",Vi.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","borderWidth","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},aspectRatio:1,spanGaps:!1,scales:{r:{type:"radialLinear"}},datasets:{indexAxis:"r"},elements:{line:{fill:"start",tension:0}}};class Hi extends Ni{}function Wi(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}Hi.id="scatter",Hi.defaults={scales:{x:{type:"linear"},y:{type:"linear"}},datasets:{showLine:!1,fill:!1},tooltips:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}};class ji{constructor(t){this.options=t||{}}formats(){return Wi()}parse(t,e){return Wi()}format(t,e){return Wi()}add(t,e,i){return Wi()}diff(t,e,i){return Wi()}startOf(t,e,i){return Wi()}endOf(t,e){return Wi()}}ji.override=function(t){Object.assign(ji.prototype,t)};var qi={_date:ji};function Xi(t,e){return"native"in t?{x:t.x,y:t.y}:be(t,e)}function Yi(t,e){const i=t.getSortedVisibleDatasetMetas();let s,a,o;for(let n=0,r=i.length;n<r;++n){({index:s,data:a}=i[n]);for(let t=0,i=a.length;t<i;++t)o=a[t],o.skip||e(o,s,t)}}function Gi(t,e,i,s){const{controller:a,data:o,_sorted:n}=t,r=a._cachedMeta.iScale;if(r&&e===r.axis&&n&&o.length){const t=r._reversePixels?$t:zt;if(!s)return t(o,e,i);if(a._sharedOptions){const s=o[0],a="function"===typeof s.getRange&&s.getRange(e);if(a){const s=t(o,e,i-a),n=t(o,e,i+a);return{lo:s.lo,hi:n.hi}}}}return{lo:0,hi:o.length-1}}function Ui(t,e,i,s,a){const o=t.getSortedVisibleDatasetMetas(),n=i[e];for(let r=0,l=o.length;r<l;++r){const{index:t,data:i}=o[r],{lo:l,hi:c}=Gi(o[r],e,n,a);for(let e=l;e<=c;++e){const a=i[e];a.skip||s(a,t,e)}}}function Ji(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const a=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Ki(t,e,i,s){const a=[];if(!B(e,t.chartArea))return a;const o=function(t,i,o){t.inRange(e.x,e.y,s)&&a.push({element:t,datasetIndex:i,index:o})};return Ui(t,i,e,o,!0),a}function Zi(t,e,i,s,a){const o=Ji(i);let n=Number.POSITIVE_INFINITY,r=[];if(!B(e,t.chartArea))return r;const l=function(t,i,l){if(s&&!t.inRange(e.x,e.y,a))return;const c=t.getCenterPoint(a),h=o(e,c);h<n?(r=[{element:t,datasetIndex:i,index:l}],n=h):h===n&&r.push({element:t,datasetIndex:i,index:l})};return Ui(t,i,e,l),r}var Qi={modes:{index(t,e,i,s){const a=Xi(e,t),o=i.axis||"x",n=i.intersect?Ki(t,a,o,s):Zi(t,a,o,!1,s),r=[];return n.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=n[0].index,i=t.data[e];i&&!i.skip&&r.push({element:i,datasetIndex:t.index,index:e})}),r):[]},dataset(t,e,i,s){const a=Xi(e,t),o=i.axis||"xy";let n=i.intersect?Ki(t,a,o,s):Zi(t,a,o,!1,s);if(n.length>0){const e=n[0].datasetIndex,i=t.getDatasetMeta(e).data;n=[];for(let t=0;t<i.length;++t)n.push({element:i[t],datasetIndex:e,index:t})}return n},point(t,e,i,s){const a=Xi(e,t),o=i.axis||"xy";return Ki(t,a,o,s)},nearest(t,e,i,s){const a=Xi(e,t),o=i.axis||"xy";return Zi(t,a,o,i.intersect,s)},x(t,e,i,s){const a=Xi(e,t),o=[];let n=!1;return Yi(t,(t,e,i)=>{t.inXRange(a.x,s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(a.x,a.y,s)&&(n=!0)}),i.intersect&&!n?[]:o},y(t,e,i,s){const a=Xi(e,t),o=[];let n=!1;return Yi(t,(t,e,i)=>{t.inYRange(a.y,s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(a.x,a.y,s)&&(n=!0)}),i.intersect&&!n?[]:o}}};const ts=["left","top","right","bottom"];function es(t,e){return t.filter(t=>t.pos===e)}function is(t,e){return t.filter(t=>-1===ts.indexOf(t.pos)&&t.box.axis===e)}function ss(t,e){return t.sort((t,i)=>{const s=e?i:t,a=e?t:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function as(t){const e=[];let i,s,a;for(i=0,s=(t||[]).length;i<s;++i)a=t[i],e.push({index:i,box:a,pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return e}function os(t,e){let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i],a.width=a.horizontal?a.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,a.height=a.horizontal&&e.hBoxMaxHeight}function ns(t){const e=as(t),i=ss(es(e,"left"),!0),s=ss(es(e,"right")),a=ss(es(e,"top"),!0),o=ss(es(e,"bottom")),n=is(e,"x"),r=is(e,"y");return{leftAndTop:i.concat(a),rightAndBottom:s.concat(r).concat(o).concat(n),chartArea:es(e,"chartArea"),vertical:i.concat(s).concat(r),horizontal:a.concat(o).concat(n)}}function rs(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ls(t,e,i){const s=i.box,a=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?s.height:s.width,t[i.pos]+=i.size,s.getPadding){const t=s.getPadding();a.top=Math.max(a.top,t.top),a.left=Math.max(a.left,t.left),a.bottom=Math.max(a.bottom,t.bottom),a.right=Math.max(a.right,t.right)}const o=e.outerWidth-rs(a,t,"left","right"),n=e.outerHeight-rs(a,t,"top","bottom");if(o!==t.w||n!==t.h)return t.w=o,t.h=n,i.horizontal?o!==t.w:n!==t.h}function cs(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function hs(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{s[t]=Math.max(e[t],i[t])}),s}return s(t?["left","right"]:["top","bottom"])}function ds(t,e,i){const s=[];let a,o,n,r,l,c;for(a=0,o=t.length;a<o;++a)n=t[a],r=n.box,r.update(n.width||e.w,n.height||e.h,hs(n.horizontal,e)),ls(e,i,n)&&(c=!0,s.length&&(l=!0)),r.fullWidth||s.push(n);return l&&ds(s,e,i)||c}function us(t,e,i){const s=i.padding;let a,o,n,r,l=e.x,c=e.y;for(a=0,o=t.length;a<o;++a)n=t[a],r=n.box,n.horizontal?(r.left=r.fullWidth?s.left:e.left,r.right=r.fullWidth?i.outerWidth-s.right:e.left+e.w,r.top=c,r.bottom=c+r.height,r.width=r.right-r.left,c=r.bottom):(r.left=l,r.right=l+r.width,r.top=e.top,r.bottom=e.top+e.h,r.height=r.bottom-r.top,l=r.right);e.x=l,e.y=c}W.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var ps={addBox(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){const s=["fullWidth","position","weight"],a=s.length;let o,n=0;for(;n<a;++n)o=s[n],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},update(t,e,i){if(!t)return;const s=t.options.layout||{},a=q(s.padding),o=e-a.width,n=i-a.height,r=ns(t.boxes),l=r.vertical,c=r.horizontal,h=Object.freeze({outerWidth:e,outerHeight:i,padding:a,availableWidth:o,vBoxMaxWidth:o/2/l.length,hBoxMaxHeight:n/2}),d=Object.assign({maxPadding:Object.assign({},a),w:o,h:n,x:a.left,y:a.top},a);os(l.concat(c),h),ds(l,d,h),ds(c,d,h)&&ds(l,d,h),cs(d),us(r.leftAndTop,d,h),d.x+=d.w,d.y+=d.h,us(r.rightAndBottom,d,h),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},f(r.chartArea,e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(d.w,d.h)})}};class ms{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}isAttached(t){return!0}}class fs extends ms{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const gs="$chartjs",vs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ys=t=>null===t||""===t;function bs(t,e){const i=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[gs]={initial:{height:s,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ys(a)){const e=Ae(t,"width");void 0!==e&&(t.width=e)}if(ys(s))if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{const e=Ae(t,"height");void 0!==e&&(t.height=e)}return t}const xs=!!Se&&{passive:!0};function ws(t,e,i){t.addEventListener(e,i,xs)}function ks(t,e,i){t.canvas.removeEventListener(e,i,xs)}function Cs(t,e,i,s,a){return{type:t,chart:e,native:a||null,x:void 0!==i?i:null,y:void 0!==s?s:null}}function Ss(t,e){const i=vs[t.type]||t.type,s=be(t,e);return Cs(i,e,s.x,s.y,t)}function As(t,e,i){const s=t.canvas,a=s&&ue(s),o=a||s,n=new MutationObserver(t=>{const e=ue(o);t.forEach(t=>{for(let s=0;s<t.addedNodes.length;s++){const a=t.addedNodes[s];a!==o&&a!==e||i(t.target)}})});return n.observe(document,{childList:!0,subtree:!0}),n}function Ts(t,e,i){const s=t.canvas,a=s&&ue(s);if(!a)return;const o=new MutationObserver(t=>{t.forEach(t=>{for(let e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===s){i();break}})});return o.observe(a,{childList:!0}),o}const Is=new Map;let Ps=0;function Ms(){const t=window.devicePixelRatio;t!==Ps&&(Ps=t,Is.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function Ls(t,e){Is.size||window.addEventListener("resize",Ms),Is.set(t,e)}function _s(t){Is.delete(t),Is.size||window.removeEventListener("resize",Ms)}function Ds(t,e,i){const s=t.canvas,o=s&&ue(s);if(!o)return;const n=a((t,e)=>{const s=o.clientWidth;i(t,e),s<o.clientWidth&&i()},window),r=new ResizeObserver(t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||n(i,s)});return r.observe(o),Ls(t,n),r}function Fs(t,e,i){i&&i.disconnect(),"resize"===e&&_s(t)}function Os(t,e,i){const s=t.canvas,o=a(e=>{null!==t.ctx&&i(Ss(e,t))},t);return ws(s,e,o),o}class Es extends ms{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(bs(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gs])return!1;const i=e[gs].initial;["height","width"].forEach(t=>{const s=i[t];c(s)?e.removeAttribute(t):e.setAttribute(t,s)});const s=i.style||{};return Object.keys(s).forEach(t=>{e.style[t]=s[t]}),e.width=e.width,delete e[gs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),a={attach:As,detach:Ts,resize:Ds},o=a[e]||Os;s[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;const a={attach:Fs,detach:Fs,resize:Fs},o=a[e]||ks;o(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}isAttached(t){const e=ue(t);return!(!e||!ue(e))}}class Bs{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Kt(this.x)&&Kt(this.y)}getProps(t,e){const i=this,s=this.$animations;if(!e||!s)return i;const a={};return t.forEach(t=>{a[t]=s[t]&&s[t].active?s[t]._to:i[t]}),a}}Bs.defaults={},Bs.defaultRoutes=void 0;const Ns={values(t){return h(t)?t:""+t},numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale,a=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));let o;(a<1e-4||a>1e15)&&(o="scientific");let n=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));const r=Jt(Math.abs(n)),l=Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),new Intl.NumberFormat(s,c).format(t)},logarithmic:function(t,e,i){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(Jt(t)));return 1===s||2===s||5===s?Ns.numeric.call(this,t,e,i):""}};var Rs={formatters:Ns};function zs(t,e){const i=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)i.push(t[Math.floor(o)]);return i}function $s(t,e,i){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,n=t._endPixel,r=1e-6;let l,c=t.getPixelForTick(a);if(!(i&&(l=1===s?Math.max(c-o,n-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(a-1))/2,c+=a<e?l:-l,c<o-r||c>n+r)))return c}function Vs(t,e){f(t,t=>{const i=t.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[i[a]];i.splice(0,s)}})}function Hs(t){return t.drawTicks?t.tickMarkLength:0}function Ws(t,e){if(!t.display)return 0;const i=X(t.font,e),s=q(t.padding);return i.lineHeight+s.height}function js(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}function qs(t,e,i){const s=js(t),a=e.length/i;if(!s)return Math.max(a,1);const o=Ut(s);for(let n=0,r=o.length-1;n<r;n++){const t=o[n];if(t>a)return t}return Math.max(a,1)}function Xs(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}function Ys(t,e,i,s){let a,o=0,n=i[0];for(s=Math.ceil(s),a=0;a<t.length;a++)a===n&&(e.push(t[a]),o++,n=i[o*s])}function Gs(t,e,i,s,a){const o=p(s,0),n=Math.min(p(a,t.length),t.length);let r,l,c,h=0;i=Math.ceil(i),a&&(r=a-s,i=r/Math.floor(r/i)),c=o;while(c<0)h++,c=Math.round(o+h*i);for(l=Math.max(o,0);l<n;l++)l===c&&(e.push(t[l]),h++,c=Math.round(o+h*i))}W.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,lineWidth:0,strokeStyle:"",padding:0,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Rs.formatters.values,minor:{},major:{}}});class Us extends Bs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._ticksLength=0,this._borderValue=0}init(t){const e=this;e.options=t,e.axis=e.isHorizontal()?"x":"y",e._userMin=e.parse(t.min),e._userMax=e.parse(t.max)}parse(t,e){return t}getUserBounds(){let t=this._userMin,e=this._userMax;return(c(t)||isNaN(t))&&(t=Number.POSITIVE_INFINITY),(c(e)||isNaN(e))&&(e=Number.NEGATIVE_INFINITY),{min:t,max:e,minDefined:u(t),maxDefined:u(e)}}getMinMax(t){const e=this;let i,{min:s,max:a,minDefined:o,maxDefined:n}=e.getUserBounds();if(o&&n)return{min:s,max:a};const r=e.getMatchingVisibleMetas();for(let l=0,c=r.length;l<c;++l)i=r[l].controller.getMinMax(e,t),o||(s=Math.min(s,i.min)),n||(a=Math.max(a,i.max));return{min:s,max:a}}invalidateCaches(){}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeUpdate(){m(this.options.beforeUpdate,[this])}update(t,e,i){const s=this,a=s.options.ticks,o=a.sampleSize;s.beforeUpdate(),s.maxWidth=t,s.maxHeight=e,s._margins=Object.assign({left:0,right:0,top:0,bottom:0},i),s.ticks=null,s._labelSizes=null,s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),s.ticks=s.buildTicks()||[],s.afterBuildTicks();const n=o<s.ticks.length;s._convertTicksToLabels(n?zs(s.ticks,o):s.ticks),s.configure(),s.beforeCalculateLabelRotation(),s.calculateLabelRotation(),s.afterCalculateLabelRotation(),s.beforeFit(),s.fit(),s.afterFit(),s.ticks=a.display&&(a.autoSkip||"auto"===a.source)?s._autoSkip(s.ticks):s.ticks,n&&s._convertTicksToLabels(s.ticks),s.afterUpdate()}configure(){const t=this;let e,i,s=t.options.reverse;t.isHorizontal()?(e=t.left,i=t.right):(e=t.top,i=t.bottom,s=!s),t._startPixel=e,t._endPixel=i,t._reversePixels=s,t._length=i-e}afterUpdate(){m(this.options.afterUpdate,[this])}beforeSetDimensions(){m(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){m(this.options.afterSetDimensions,[this])}beforeDataLimits(){m(this.options.beforeDataLimits,[this])}determineDataLimits(){}afterDataLimits(){m(this.options.afterDataLimits,[this])}beforeBuildTicks(){m(this.options.beforeBuildTicks,[this])}buildTicks(){return[]}afterBuildTicks(){m(this.options.afterBuildTicks,[this])}beforeTickToLabelConversion(){m(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,i=e.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=m(i.callback,[o.value,s,t],e)}afterTickToLabelConversion(){m(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){m(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,i=e.ticks,s=t.ticks.length,a=i.minRotation||0,o=i.maxRotation;let n,r,l,c=a;if(!t._isVisible()||!i.display||a>=o||s<=1||!t.isHorizontal())return void(t.labelRotation=a);const h=t._getLabelSizes(),d=h.widest.width,u=h.highest.height-h.highest.offset,p=Math.min(t.maxWidth,t.chart.width-d);n=e.offset?t.maxWidth/s:p/(s-1),d+6>n&&(n=p/(s-(e.offset?.5:1)),r=t.maxHeight-Hs(e.gridLines)-i.padding-Ws(e.scaleLabel,t.chart.options.font),l=Math.sqrt(d*d+u*u),c=se(Math.min(Math.asin(Math.min((h.highest.height+6)/n,1)),Math.asin(Math.min(r/l,1))-Math.asin(u/l))),c=Math.max(a,Math.min(o,c))),t.labelRotation=c}afterCalculateLabelRotation(){m(this.options.afterCalculateLabelRotation,[this])}beforeFit(){m(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},i=t.chart,s=t.options,a=s.ticks,o=s.scaleLabel,n=s.gridLines,r=t._isVisible(),l="top"!==s.position&&"x"===t.axis,c=t.isHorizontal(),h=r&&Ws(o,i.options.font);if(c?e.width=t.maxWidth:r&&(e.width=Hs(n)+h),c?r&&(e.height=Hs(n)+h):e.height=t.maxHeight,a.display&&r&&t.ticks.length){const i=t._getLabelSizes(),s=i.first,o=i.last,n=i.widest,r=i.highest,h=.8*r.offset,d=a.padding;if(c){const i=0!==t.labelRotation,a=ie(t.labelRotation),c=Math.cos(a),u=Math.sin(a),p=u*n.width+c*(r.height-(i?r.offset:0))+(i?0:h);e.height=Math.min(t.maxHeight,e.height+p+d);const m=t.getPixelForTick(0)-t.left,f=t.right-t.getPixelForTick(t.ticks.length-1);let g,v;i?(g=l?c*s.width+u*s.offset:u*(s.height-s.offset),v=l?u*(o.height-o.offset):c*o.width+u*o.offset):(g=s.width/2,v=o.width/2),t.paddingLeft=Math.max((g-m)*t.width/(t.width-m),0)+3,t.paddingRight=Math.max((v-f)*t.width/(t.width-f),0)+3}else{const i=a.mirror?0:n.width+d+h;e.width=Math.min(t.maxWidth,e.width+i),t.paddingTop=o.height/2,t.paddingBottom=s.height/2}}t._handleMargins(),c?(t.width=t._length=i.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t._margins.top-t._margins.bottom)}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){m(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullWidth(){return this.options.fullWidth}_convertTicksToLabels(t){const e=this;e.beforeTickToLabelConversion(),e.generateTickLabels(t),e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;return e||(t._labelSizes=e=t._computeLabelSizes()),e}_computeLabelSizes(){const t=this,e=t.ctx,i=t._longestTextCache,s=t.options.ticks.sampleSize,a=[],o=[],n=[];let r=t.ticks;s<r.length&&(r=zs(r,s));const l=r.length;let d,u,p,m,f,g,v,y,b,x,w;for(d=0;d<l;++d){if(m=r[d].label,f=t._resolveTickFontOptions(d),e.font=g=f.string,v=i[g]=i[g]||{data:{},gc:[]},y=f.lineHeight,b=x=0,c(m)||h(m)){if(h(m))for(u=0,p=m.length;u<p;++u)w=m[u],c(w)||h(w)||(b=_(e,v.data,v.gc,b,w),x+=y)}else b=_(e,v.data,v.gc,b,m),x=y;a.push(b),o.push(x),n.push(y/2)}Vs(i,l);const k=a.indexOf(Math.max.apply(null,a)),C=o.indexOf(Math.max.apply(null,o));function S(t){return{width:a[t]||0,height:o[t]||0,offset:n[t]||0}}return{first:S(0),last:S(l-1),widest:S(k),highest:S(C)}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}_autoSkip(t){const e=this,i=e.options.ticks,s=i.maxTicksLimit||e._length/e._tickSize(),a=i.major.enabled?Xs(t):[],o=a.length,n=a[0],r=a[o-1],l=[];if(o>s)return Ys(t,l,a,o/s),l;const h=qs(a,t,s);if(o>0){let e,i;const s=o>1?Math.round((r-n)/(o-1)):null;for(Gs(t,l,h,c(s)?0:n-s,n),e=0,i=o-1;e<i;e++)Gs(t,l,h,a[e],a[e+1]);return Gs(t,l,h,r,c(s)?t.length:r+s),l}return Gs(t,l,h),l}_tickSize(){const t=this,e=t.options.ticks,i=ie(t.labelRotation),s=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),o=t._getLabelSizes(),n=e.autoSkipPadding||0,r=o?o.widest.width+n:0,l=o?o.highest.height+n:0;return t.isHorizontal()?l*s>r*a?r/s:l/a:l*a<r*s?l/s:r/a}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,i=e.axis,s=e.chart,a=e.options,{gridLines:o,position:n}=a,r=o.offsetGridLines,l=e.isHorizontal(),c=e.ticks,h=c.length+(r?1:0),u=Hs(o),p=[];let m={chart:s,scale:e,tick:c[0],index:0};const f=o.drawBorder?Y([o.borderWidth,o.lineWidth,0],m,0):0,g=f/2,v=function(t){return F(s,t,f)};let y,b,x,w,k,C,S,A,T,I,P,M;if("top"===n)y=v(e.bottom),C=e.bottom-u,A=y-g,I=v(t.top)+g,M=t.bottom;else if("bottom"===n)y=v(e.top),I=t.top,M=v(t.bottom)-g,C=y+g,A=e.top+u;else if("left"===n)y=v(e.right),k=e.right-u,S=y-g,T=v(t.left)+g,P=t.right;else if("right"===n)y=v(e.left),T=t.left,P=v(t.right)-g,k=y+g,S=e.left+u;else if("x"===i){if("center"===n)y=v((t.top+t.bottom)/2);else if(d(n)){const t=Object.keys(n)[0],i=n[t];y=v(e.chart.scales[t].getPixelForValue(i))}I=t.top,M=t.bottom,C=y+g,A=C+u}else if("y"===i){if("center"===n)y=v((t.left+t.right)/2);else if(d(n)){const t=Object.keys(n)[0],i=n[t];y=v(e.chart.scales[t].getPixelForValue(i))}k=y-g,S=k-u,T=t.left,P=t.right}for(b=0;b<h;++b){const t=c[b]||{};m={chart:s,scale:e,tick:t,index:b};const i=Y([o.lineWidth],m,b),a=Y([o.color],m,b),n=o.borderDash||[],h=Y([o.borderDashOffset],m,b);x=$s(e,b,r),void 0!==x&&(w=F(s,x,i),l?k=S=T=P=w:C=A=I=M=w,p.push({tx1:k,ty1:C,tx2:S,ty2:A,x1:T,y1:I,x2:P,y2:M,width:i,color:a,borderDash:n,borderDashOffset:h}))}return e._ticksLength=h,e._borderValue=y,p}_computeLabelItems(t){const e=this,i=e.axis,s=e.options,{position:a,ticks:o}=s,n=o.mirror,r=e.isHorizontal(),l=e.ticks,c=o.padding,u=Hs(s.gridLines),p=-ie(e.labelRotation),m=[];let f,g,v,y,b,x,w,k,C,S,A,T;if("top"===a)x=e.bottom-u-c,w=p?"left":"center";else if("bottom"===a)x=e.top+u+c,w=p?"right":"center";else if("left"===a)b=e.right-(n?0:u)-c,w=n?"left":"right";else if("right"===a)b=e.left+(n?0:u)+c,w=n?"right":"left";else if("x"===i){if("center"===a)x=(t.top+t.bottom)/2+u+c;else if(d(a)){const t=Object.keys(a)[0],i=a[t];x=e.chart.scales[t].getPixelForValue(i)+u+c}w=p?"right":"center"}else if("y"===i){if("center"===a)b=(t.left+t.right)/2-u-c;else if(d(a)){const t=Object.keys(a)[0],i=a[t];b=e.chart.scales[t].getPixelForValue(i)}w="right"}for(f=0,g=l.length;f<g;++f)v=l[f],y=v.label,k=e.getPixelForTick(f)+o.labelOffset,C=e._resolveTickFontOptions(f),S=C.lineHeight,A=h(y)?y.length:1,r?(b=k,"top"===a?(T=(Math.sin(p)*(A/2)+.5)*S,T-=(0===p?A-.5:Math.cos(p)*(A/2))*S):(T=Math.sin(p)*(A/2)*S,T+=(0===p?.5:Math.cos(p)*(A/2))*S)):(x=k,T=(1-A)*S/2),m.push({x:b,y:x,rotation:p,label:y,font:C,textOffset:T,textAlign:w});return m}drawGrid(t){const e=this,i=e.options.gridLines,s=e.ctx,a=e.chart;let o={chart:a,scale:e,tick:e.ticks[0],index:0};const n=i.drawBorder?Y([i.borderWidth,i.lineWidth,0],o,0):0,r=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let l,c;if(i.display)for(l=0,c=r.length;l<c;++l){const t=r[l],e=t.width,a=t.color;e&&a&&(s.save(),s.lineWidth=e,s.strokeStyle=a,s.setLineDash&&(s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset),s.beginPath(),i.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),i.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore())}if(n){const t=n;o={chart:a,scale:e,tick:e.ticks[e._ticksLength-1],index:e._ticksLength-1};const r=Y([i.lineWidth,1],o,e._ticksLength-1),l=e._borderValue;let c,h,d,u;e.isHorizontal()?(c=F(a,e.left,t)-t/2,h=F(a,e.right,r)+r/2,d=u=l):(d=F(a,e.top,t)-t/2,u=F(a,e.bottom,r)+r/2,c=h=l),s.lineWidth=n,s.strokeStyle=Y([i.borderColor,i.color],o,0),s.beginPath(),s.moveTo(c,d),s.lineTo(h,u),s.stroke()}}drawLabels(t){const e=this,i=e.options.ticks;if(!i.display)return;const s=e.ctx,a=e._labelItems||(e._labelItems=e._computeLabelItems(t));let o,n,r,l;for(o=0,r=a.length;o<r;++o){const t=a[o],e=t.font,i=e.lineWidth>0&&""!==e.strokeStyle;s.save(),s.translate(t.x,t.y),s.rotate(t.rotation),s.font=e.string,s.fillStyle=e.color,s.textBaseline="middle",s.textAlign=t.textAlign,i&&(s.strokeStyle=e.strokeStyle,s.lineWidth=e.lineWidth);const r=t.label;let c=t.textOffset;if(h(r))for(n=0,l=r.length;n<l;++n)i&&s.strokeText(""+r[n],0,c),s.fillText(""+r[n],0,c),c+=e.lineHeight;else i&&s.strokeText(r,0,c),s.fillText(r,0,c);s.restore()}}drawTitle(t){const e=this,i=e.ctx,s=e.options,a=s.scaleLabel;if(!a.display)return;const o=X(a.font,e.chart.options.font),n=q(a.padding),r=o.lineHeight/2,l=a.align,c=s.position,h=e.options.reverse;let d,u,p,m=0;if(e.isHorizontal()){switch(l){case"start":u=e.left+(h?e.width:0),d=h?"right":"left";break;case"end":u=e.left+(h?0:e.width),d=h?"left":"right";break;default:u=e.left+e.width/2,d="center"}p="top"===c?e.top+r+n.top:e.bottom-r-n.bottom}else{const t="left"===c;switch(u=t?e.left+r+n.top:e.right-r-n.top,l){case"start":p=e.top+(h?0:e.height),d=h===t?"right":"left";break;case"end":p=e.top+(h?e.height:0),d=h===t?"left":"right";break;default:p=e.top+e.height/2,d="center"}m=t?-.5*Math.PI:.5*Math.PI}i.save(),i.translate(u,p),i.rotate(m),i.textAlign=d,i.textBaseline="middle",i.fillStyle=o.color,i.font=o.string,i.fillText(a.labelString,0,0),i.restore()}draw(t){const e=this;e._isVisible()&&(e.drawGrid(t),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,i=e.ticks&&e.ticks.z||0,s=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==s&&t.draw===t._draw?[{z:s,draw(e){t.drawGrid(e),t.drawTitle()}},{z:i,draw(e){t.drawLabels(e)}}]:[{z:i,draw(e){t.draw(e)}}]}getMatchingVisibleMetas(t){const e=this,i=e.chart.getSortedVisibleDatasetMetas(),s=e.axis+"AxisID",a=[];let o,n;for(o=0,n=i.length;o<n;++o){const n=i[o];n[s]!==e.id||t&&n.type!==t||a.push(n)}return a}_resolveTickFontOptions(t){const e=this,i=e.chart,s=e.options.ticks,a=e.ticks||[],o={chart:i,scale:e,tick:a[t],index:t};return X(Y([s.font],o),i.options.font)}}Us.prototype._draw=Us.prototype.draw;class Js{constructor(t,e){this.type=t,this.scope=e,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Qs(e)&&(i=this.register(e));const s=this.items,a=t.id,o=this.scope,n=o?o+"."+a:a;if(!a)throw new Error("class does not have id: "+t);if(a in s)return n;if(Object.keys(W.get(n)).length)throw new Error('Can not register "'+a+'", because "defaults.'+n+'" would collide with existing defaults');return s[a]=t,Ks(t,n,i),n}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in W[s]?delete W[s][i]:i in W&&delete W[i]}}function Ks(t,e,i){const s=i?Object.assign({},W.get(i),t.defaults):t.defaults;W.set(e,s),t.defaultRoutes&&Zs(e,t.defaultRoutes)}function Zs(t,e){Object.keys(e).forEach(i=>{const s=e[i].split("."),a=s.pop(),o=s.join(".");W.route(t,i,o,a)})}function Qs(t){return"id"in t&&"defaults"in t}class ta{constructor(){this.controllers=new Js(ki,""),this.elements=new Js(Bs,"elements"),this.plugins=new Js(Object,"plugins"),this.scales=new Js(Us,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){const s=this;[...e].forEach(e=>{const a=i||s._getRegistryForType(e);i||a.isForType(e)||a===s.plugins&&e.id?s._exec(t,a,e):f(e,e=>{const a=i||s._getRegistryForType(e);s._exec(t,a,e)})})}_exec(t,e,i){const s=C(t);m(i["before"+s],[],i),e[t](i),m(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var ea=new ta;class ia{notify(t,e,i){const s=this._descriptors(t);for(let a=0;a<s.length;++a){const o=s[a],n=o.plugin,r=n[e];if("function"===typeof r){const e=[t].concat(i||[]);if(e.push(o.options),!1===r.apply(n,e))return!1}}return!0}invalidate(){this._cache=void 0}_descriptors(t){if(this._cache)return this._cache;const e=t&&t.config||{},i=e.options&&e.options.plugins||{},s=sa(e),a=aa(s,i);return this._cache=a,a}}function sa(t){const e=[],i=Object.keys(ea.plugins.items);for(let a=0;a<i.length;a++)e.push(ea.getPlugin(i[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const t=s[a];-1===e.indexOf(t)&&e.push(t)}return e}function aa(t,e){const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=a.id;let n=e[o];!1!==n&&(!0===n&&(n={}),i.push({plugin:a,options:x({},[n,W.plugins[o]])}))}return i}var oa="3.0.0-beta";function na(t,e){const i=W[t]||{},s=i.datasets||{},a=e[t]||{},o=a.datasets||{};return o.indexAxis||e.indexAxis||s.indexAxis||"x"}function ra(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}function la(t,e){return t===e?"_index_":"_value_"}function ca(t,e){e=e||{};const i=W[t.type]||{scales:{}},s=e.scales||{},a=na(t.type,e),o={},n={};return Object.keys(s).forEach(t=>{const e=s[t],r=va(t,e),l=la(r,a);o[r]=o[r]||t,n[t]=x({axis:r},[e,i.scales[r],i.scales[l]])}),e.scale&&(n[e.scale.id||"r"]=x({axis:"r"},[e.scale,i.scales.r]),o.r=o.r||e.scale.id||"r"),t.data.datasets.forEach(i=>{const a=i.type||t.type,r=i.indexAxis||na(a,e),l=W[a]||{},c=l.scales||{};Object.keys(c).forEach(t=>{const e=ra(t,r),a=i[e+"AxisID"]||o[e]||e;n[a]=n[a]||{},x(n[a],[{axis:e},s[a],c[t]])})}),Object.keys(n).forEach(t=>{const e=n[t];x(e,[W.scales[e.type],W.scale])}),n}function ha(...t){return b({},t,{merger(t,e,i,s){"scales"!==t&&"scale"!==t&&y(t,e,i,s)}})}function da(t){t=t||{};const e=t.data=t.data||{datasets:[],labels:[]};e.datasets=e.datasets||[],e.labels=e.labels||[];const i=ca(t,t.options),s=t.options=ha(W,W[t.type],t.options||{});return s.scales=i,s.title=!1!==s.title&&b({},[W.plugins.title,s.title]),s.tooltips=!1!==s.tooltips&&b({},[W.plugins.tooltip,s.tooltips]),t}function ua(t){return!t.animation}function pa(t){let e=t.options;f(t.scales,e=>{ps.removeBox(t,e)});const i=ca(t.config,e);e=ha(W,W[t.config.type],e),t.options=t.config.options=e,t.options.scales=i,t._animationsDisabled=ua(e)}const ma=["top","bottom","left","right","chartArea"];function fa(t,e){return"top"===t||"bottom"===t||-1===ma.indexOf(t)&&"x"===e}function ga(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function va(t,e){return"x"===t||"y"===t||"r"===t?t:e.axis||ga(e.position)||t.charAt(0).toLowerCase()}function ya(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function ba(t){const e=t.chart,i=e.options.animation;e._plugins.notify(e,"afterRender"),m(i&&i.onComplete,[t],e)}function xa(t){const e=t.chart,i=e.options.animation;m(i&&i.onProgress,[t],e)}function wa(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ka(t){return wa()&&"string"===typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}function Ca(t,e,i,s){return void 0!==e&&void 0!==i||(e=we(t),i=ke(t)),e=Math.max(0,Math.floor(e)),{width:e,height:Math.max(0,Math.floor(s?e/s:i))}}class Sa{constructor(t,e){const i=this;e=da(e);const s=ka(t);this.platform=i._initializePlatform(s,e);const a=i.platform.acquireContext(s,e),o=a&&a.canvas,n=o&&o.height,r=o&&o.width;this.id=l(),this.ctx=a,this.canvas=o,this.config=e,this.width=r,this.height=n,this.aspectRatio=n?r/n:null,this.options=e.options,this._bufferedRender=!1,this._layers=[],this._metasets=[],this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.data=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this._updating=!1,this.scales={},this.scale=void 0,this._plugins=new ia,this.$proxies={},this._hiddenIndices={},this.attached=!1,Sa.instances[i.id]=i,Object.defineProperty(i,"data",{get(){return i.config.data},set(t){i.config.data=t}}),a&&o?(Je.listen(i,"complete",ba),Je.listen(i,"progress",xa),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}_initialize(){const t=this;return t._plugins.notify(t,"beforeInit"),t.options.responsive?t.resize(!0):Ce(t,t.options.devicePixelRatio),t.bindEvents(),t._plugins.notify(t,"afterInit"),t}_initializePlatform(t,e){return e.platform?new e.platform:!wa()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new fs:new Es}clear(){return O(this),this}stop(){return Je.stop(this),this}resize(t,e,i){const s=this,a=s.options,o=s.canvas,n=a.maintainAspectRatio&&s.aspectRatio,r=Ca(o,e,i,n),l=s.currentDevicePixelRatio,c=a.devicePixelRatio||s.platform.getDevicePixelRatio();s.width===r.width&&s.height===r.height&&l===c||(o.width=s.width=r.width,o.height=s.height=r.height,o.style&&(o.style.width=r.width+"px",o.style.height=r.height+"px"),Ce(s,c),t||(s._plugins.notify(s,"resize",[r]),m(a.onResize,[r],s),s.attached&&s.update("resize")))}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{},i=t.scale;f(e,(t,e)=>{t.id=e}),i&&(i.id=i.id||"scale")}buildOrUpdateScales(){const t=this,e=t.options,i=e.scales,s=t.scales||{},a=Object.keys(s).reduce((t,e)=>(t[e]=!1,t),{});let o=[];i&&(o=o.concat(Object.keys(i).map(t=>{const e=i[t],s=va(t,e),a="r"===s,o="x"===s;return{options:e,dposition:a?"chartArea":o?"bottom":"left",dtype:a?"radialLinear":o?"category":"linear"}}))),f(o,i=>{const o=i.options,n=o.id,r=va(n,o),l=p(o.type,i.dtype);void 0!==o.position&&fa(o.position,r)===fa(i.dposition)||(o.position=i.dposition),a[n]=!0;let c=null;if(n in s&&s[n].type===l)c=s[n];else{const e=ea.getScale(l);c=new e({id:n,type:l,ctx:t.ctx,chart:t}),s[c.id]=c}c.init(o,e),i.isDefault&&(t.scale=c)}),f(a,(t,e)=>{t||delete s[e]}),t.scales=s,f(s,e=>{e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,ps.addBox(t,e)})}_updateMetasetIndex(t,e){const i=this._metasets,s=t.index;s!==e&&(i[s]=i[e],i[e]=t,t.index=e)}_updateMetasets(){const t=this,e=t._metasets,i=t.data.datasets.length,s=e.length;if(s>i){for(let e=i;e<s;++e)t._destroyDatasetMeta(e);e.splice(i,s-i)}t._sortedMetasets=e.slice(0).sort(ya("order","index"))}buildOrUpdateControllers(){const t=this,e=[],i=t.data.datasets;let s,a;for(s=0,a=i.length;s<a;s++){const a=i[s];let o=t.getDatasetMeta(s);const n=a.type||t.config.type;if(o.type&&o.type!==n&&(t._destroyDatasetMeta(s),o=t.getDatasetMeta(s)),o.type=n,o.indexAxis=a.indexAxis||na(n,t.options),o.order=a.order||0,t._updateMetasetIndex(o,s),o.label=""+a.label,o.visible=t.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const i=W[n],a=ea.getController(n);Object.assign(a.prototype,{dataElementType:ea.getElement(i.dataElementType),datasetElementType:i.datasetElementType&&ea.getElement(i.datasetElementType),dataElementOptions:i.dataElementOptions,datasetElementOptions:i.datasetElementOptions}),o.controller=new a(t,s),e.push(o.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;f(t.data.datasets,(e,i)=>{t.getDatasetMeta(i).controller.reset()},t)}reset(){this._resetElements(),this._plugins.notify(this,"reset")}update(t){const e=this;let i,s;if(e._updating=!0,pa(e),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e._plugins.invalidate(),!1===e._plugins.notify(e,"beforeUpdate"))return;const a=e.buildOrUpdateControllers();for(i=0,s=e.data.datasets.length;i<s;i++)e.getDatasetMeta(i).controller.buildOrUpdateElements();e._updateLayout(),f(a,t=>{t.reset()}),e._updateDatasets(t),e._plugins.notify(e,"afterUpdate"),e._layers.sort(ya("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render(),e._updating=!1}_updateLayout(){const t=this;!1!==t._plugins.notify(t,"beforeLayout")&&(ps.update(t,t.width,t.height),t._layers=[],f(t.boxes,e=>{e.configure&&e.configure(),t._layers.push(...e._layers())},t),t._layers.forEach((t,e)=>{t._idx=e}),t._plugins.notify(t,"afterLayout"))}_updateDatasets(t){const e=this,i="function"===typeof t;if(!1!==e._plugins.notify(e,"beforeDatasetsUpdate")){for(let s=0,a=e.data.datasets.length;s<a;++s)e._updateDataset(s,i?t({datasetIndex:s}):t);e._plugins.notify(e,"afterDatasetsUpdate")}}_updateDataset(t,e){const i=this,s=i.getDatasetMeta(t),a={meta:s,index:t,mode:e};!1!==i._plugins.notify(i,"beforeDatasetUpdate",[a])&&(s.controller._update(e),i._plugins.notify(i,"afterDatasetUpdate",[a]))}render(){const t=this,e=t.options.animation;if(!1===t._plugins.notify(t,"beforeRender"))return;const i=function(){t._plugins.notify(t,"afterRender"),m(e&&e.onComplete,[],t)};Je.has(t)?t.attached&&!Je.running(t)&&Je.start(t):(t.draw(),i())}draw(){const t=this;let e;if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t._plugins.notify(t,"beforeDraw"))return;const i=t._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(t.chartArea);for(t._drawDatasets();e<i.length;++e)i[e].draw(t.chartArea);t._plugins.notify(t,"afterDraw")}_getSortedDatasetMetas(t){const e=this,i=e._sortedMetasets,s=[];let a,o;for(a=0,o=i.length;a<o;++a){const e=i[a];t&&!e.visible||s.push(e)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t._plugins.notify(t,"beforeDatasetsDraw"))return;const e=t.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)t._drawDataset(e[i]);t._plugins.notify(t,"afterDatasetsDraw")}_drawDataset(t){const e=this,i=e.ctx,s=t._clip,a=e.chartArea,o={meta:t,index:t.index};!1!==e._plugins.notify(e,"beforeDatasetDraw",[o])&&(N(i,{left:!1===s.left?0:a.left-s.left,right:!1===s.right?e.width:a.right+s.right,top:!1===s.top?0:a.top-s.top,bottom:!1===s.bottom?e.height:a.bottom+s.bottom}),t.controller.draw(),R(i),e._plugins.notify(e,"afterDatasetDraw",[o]))}getElementAtEvent(t){return Qi.modes.nearest(this,t,{intersect:!0})}getElementsAtEvent(t){return Qi.modes.index(this,t,{intersect:!0})}getElementsAtXAxis(t){return Qi.modes.index(this,t,{intersect:!1})}getElementsAtEventForMode(t,e,i,s){const a=Qi.modes[e];return"function"===typeof a?a(this,t,i,s):[]}getDatasetAtEvent(t){return Qi.modes.dataset(this,t,{intersect:!0})}getDatasetMeta(t){const e=this,i=e.data.datasets[t],s=e._metasets;let a=s.filter(t=>t._dataset===i).pop();return a||(a=s[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1}),a}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.getDatasetMeta(t);return"boolean"===typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateDatasetVisibility(t,e){const i=this,s=e?"show":"hide",a=i.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,s);i.setDatasetVisibility(t,e),o.update(a,{visible:e}),i.update(e=>e.datasetIndex===t?s:void 0)}hide(t){this._updateDatasetVisibility(t,!1)}show(t){this._updateDatasetVisibility(t,!0)}_destroyDatasetMeta(t){const e=this,i=e._metasets&&e._metasets[t];i&&(i.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,e=t.canvas;let i,s;for(t.stop(),Je.remove(t),i=0,s=t.data.datasets.length;i<s;++i)t._destroyDatasetMeta(i);e&&(t.unbindEvents(),O(t),t.platform.releaseContext(t.ctx),t.canvas=null,t.ctx=null),t._plugins.notify(t,"destroy"),delete Sa.instances[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){const t=this,e=t._listeners,i=t.platform,s=(s,a)=>{i.addEventListener(t,s,a),e[s]=a},a=(s,a)=>{e[s]&&(i.removeEventListener(t,s,a),delete e[s])};let o=function(e){t._eventHandler(e)};if(f(t.options.events,t=>s(t,o)),t.options.responsive){let e;o=(e,i)=>{t.canvas&&t.resize(!1,e,i)};const n=()=>{a("attach",n),t.resize(),t.attached=!0,s("resize",o),s("detach",e)};e=()=>{t.attached=!1,a("resize",o),s("attach",n)},i.isAttached(t.canvas)?n():e()}else t.attached=!0}unbindEvents(){const t=this,e=t._listeners;e&&(delete t._listeners,f(e,(e,i)=>{t.platform.removeEventListener(t,i,e)}))}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,o,n,r;for("dataset"===e&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),n=0,r=t.length;n<r;++n)o=t[n],o&&this.getDatasetMeta(o.datasetIndex).controller[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}_updateHoverStyles(t,e){const i=this,s=i.options||{},a=s.hover;e.length&&i.updateHoverStyle(e,a.mode,!1),t.length&&a.mode&&i.updateHoverStyle(t,a.mode,!0)}_eventHandler(t,e){const i=this;if(!1!==i._plugins.notify(i,"beforeEvent",[t,e]))return i._handleEvent(t,e),i._plugins.notify(i,"afterEvent",[t,e]),i.render(),i}_handleEvent(t,e){const i=this,s=i._active||[],a=i.options,o=a.hover,n=e;let r=[],l=!1;return"mouseout"===t.type?i._lastEvent=null:(r=i.getElementsAtEventForMode(t,o.mode,o,n),i._lastEvent="click"===t.type?i._lastEvent:t),m(a.onHover||a.hover.onHover,[t,r,i],i),"mouseup"!==t.type&&"click"!==t.type||B(t,i.chartArea)&&m(a.onClick,[t,r,i],i),l=!g(r,s),(l||e)&&(i._active=r,i._updateHoverStyles(r,s)),l}}Sa.defaults=W,Sa.instances={},Sa.registry=ea,Sa.version=oa;const Aa=()=>f(Sa.instances,t=>t._plugins.invalidate());Sa.register=(...t)=>{ea.add(...t),Aa()},Sa.unregister=(...t)=>{ea.remove(...t),Aa()};const Ta=2*Math.PI;function Ia(t,e){const{startAngle:i,endAngle:s,pixelMargin:a,x:o,y:n,outerRadius:r,innerRadius:l}=e;let c=a/r;t.beginPath(),t.arc(o,n,r,i-c,s+c),l>a?(c=a/l,t.arc(o,n,l,s+c,i-c,!0)):t.arc(o,n,a,s+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}function Pa(t,e){const{x:i,y:s,startAngle:a,endAngle:o,pixelMargin:n}=e,r=Math.max(e.outerRadius-n,0),l=e.innerRadius+n;t.beginPath(),t.arc(i,s,r,a,o),t.arc(i,s,l,o,a,!0),t.closePath()}function Ma(t,e){if(e.fullCircles){e.endAngle=e.startAngle+Ta,Pa(t,e);for(let i=0;i<e.fullCircles;++i)t.fill();e.endAngle=e.startAngle+e.circumference%Ta}Pa(t,e),t.fill()}function La(t,e,i){const{x:s,y:a,startAngle:o,endAngle:n,pixelMargin:r}=e,l=Math.max(e.outerRadius-r,0),c=e.innerRadius+r;let h;for(i&&(e.endAngle=e.startAngle+Ta,Ia(t,e),e.endAngle=n,e.endAngle===e.startAngle&&(e.endAngle+=Ta,e.fullCircles--)),t.beginPath(),t.arc(s,a,c,o+Ta,o,!0),h=0;h<e.fullCircles;++h)t.stroke();for(t.beginPath(),t.arc(s,a,l,o,o+Ta),h=0;h<e.fullCircles;++h)t.stroke()}function _a(t,e){const{x:i,y:s,startAngle:a,endAngle:o,pixelMargin:n,options:r}=e,l=e.outerRadius,c=e.innerRadius+n,h="inner"===r.borderAlign;r.borderWidth&&(h?(t.lineWidth=2*r.borderWidth,t.lineJoin="round"):(t.lineWidth=r.borderWidth,t.lineJoin="bevel"),e.fullCircles&&La(t,e,h),h&&Ia(t,e),t.beginPath(),t.arc(i,s,l,a,o),t.arc(i,s,c,o,a,!0),t.closePath(),t.stroke())}class Da extends Bs{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=oe(s,{x:t,y:e}),{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=h>=Ta||ce(a,n,r),u=o>=l&&o<=c;return d&&u}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:n}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),r=(s+a)/2,l=(o+n)/2;return{x:e+Math.cos(r)*l,y:i+Math.sin(r)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,i=e.options,s=i.offset||0;if(e.pixelMargin="inner"===i.borderAlign?.33:0,e.fullCircles=Math.floor(e.circumference/Ta),0!==e.circumference){if(t.save(),s&&e.circumference<Ta){const i=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(i)*s,Math.sin(i)*s)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,Ma(t,e),_a(t,e),t.restore()}}}function Fa(t,e){t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor}function Oa(t,e,i){t.lineTo(i.x,i.y)}function Ea(t){return t.stepped?z:t.tension?$:Oa}function Ba(t,e,i,s){const{start:a,end:o,loop:n}=i,{points:r,options:l}=e,c=Ea(l),h=r.length;let{move:d=!0,reverse:u}=s||{};const p=o<a?h+o-a:o-a;let m,f,g;for(m=0;m<=p;++m)f=r[(a+(u?p-m:m))%h],f.skip||(d?(t.moveTo(f.x,f.y),d=!1):c(t,g,f,u,l.stepped),g=f);return n&&(f=r[(a+(u?p:0))%h],c(t,g,f,u,l.stepped)),!!n}function Na(t,e,i,s){const a=e.points,o=a.length,{start:n,end:r}=i,{move:l=!0,reverse:c}=s||{},h=r<n?o+r-n:r-n;let d,u,p,m,f,g,v=0,y=0;const b=t=>(n+(c?h-t:t))%o,x=()=>{m!==f&&(t.lineTo(v,f),t.lineTo(v,m),t.lineTo(v,g))};for(l&&(u=a[b(0)],t.moveTo(u.x,u.y)),d=0;d<=h;++d){if(u=a[b(d)],u.skip)continue;const e=u.x,i=u.y,s=0|e;s===p?(i<m?m=i:i>f&&(f=i),v=(y*v+e)/++y):(x(),t.lineTo(e,i),p=s,y=0,m=f=i),g=i}x()}function Ra(t){const e=t.options,i=e.borderDash&&e.borderDash.length,s=!t._loop&&!e.tension&&!e.stepped&&!i;return s?Na:Ba}function za(t){return t.stepped?Ie:t.tension?Pe:Te}Da.id="arc",Da.defaults={borderAlign:"center",borderColor:"#fff",borderWidth:2,offset:0},Da.defaultRoutes={backgroundColor:"color"};class $a extends Bs{constructor(t){super(),this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._points=void 0,this._segments=void 0,this._pointsUpdated=!1,t&&Object.assign(this,t)}updateControlPoints(t){const e=this,i=e.options;if(i.tension&&!i.stepped&&!e._pointsUpdated){const s=i.spanGaps?e._loop:e._fullLoop;He(e._points,i,t,s),e._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments}get points(){return this._points}get segments(){return this._segments||(this._segments=Be(this))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this,s=i.options,a=t[e],o=i.points,n=Fe(i,{property:e,start:a,end:a});if(!n.length)return;const r=[],l=za(s);let c,h;for(c=0,h=n.length;c<h;++c){const{start:i,end:h}=n[c],d=o[i],u=o[h];if(d===u){r.push(d);continue}const p=Math.abs((a-d[e])/(u[e]-d[e])),m=l(d,u,p,s.stepped);m[e]=t[e],r.push(m)}return 1===r.length?r[0]:r}pathSegment(t,e,i){const s=Ra(this);return s(t,this,e,i)}path(t){const e=this,i=e.segments,s=i.length,a=Ra(e);let o=e._loop;for(let n=0;n<s;++n)o&=a(t,e,i[n]);return!!o}draw(t){const e=this.options||{},i=this.points||[];i.length&&e.borderWidth&&(t.save(),Fa(t,e),t.beginPath(),this.path(t)&&t.closePath(),t.stroke(),t.restore(),this._pointsUpdated=!1)}}$a.id="line",$a.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,fill:!0,tension:0},$a.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Va extends Bs{constructor(t){super(),this.options=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){const i=this.options,{x:s}=this.getProps(["x"],e);return Math.abs(t-s)<i.radius+i.hitRadius}inYRange(t,e){const i=this.options,{y:s}=this.getProps(["x"],e);return Math.abs(t-s)<i.radius+i.hitRadius}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(){const t=this.options||{},e=Math.max(t.radius,t.hoverRadius)||0,i=e&&t.borderWidth||0;return 2*(e+i)}draw(t,e){const i=this,s=i.options;i.skip||s.radius<=0||(void 0===e||B(i,e))&&(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,E(t,s,i.x,i.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Ha(t,e){const{x:i,y:s,base:a,width:o,height:n}=t.getProps(["x","y","base","width","height"],e);let r,l,c,h,d;return t.horizontal?(d=n/2,r=Math.min(i,a),l=Math.max(i,a),c=s-d,h=s+d):(d=o/2,r=i-d,l=i+d,c=Math.min(s,a),h=Math.max(s,a)),{left:r,top:c,right:l,bottom:h}}function Wa(t){let e=t.options.borderSkipped;const i={};return e?(e=t.horizontal?ja(e,"left","right",t.base>t.x):ja(e,"bottom","top",t.base<t.y),i[e]=!0,i):i}function ja(t,e,i,s){return s?(t=qa(t,e,i),t=Xa(t,i,e)):t=Xa(t,e,i),t}function qa(t,e,i){return t===e?i:t===i?e:t}function Xa(t,e,i){return"start"===t?e:"end"===t?i:t}function Ya(t,e,i,s){return t?0:Math.max(Math.min(e,s),i)}function Ga(t,e,i){const s=t.options.borderWidth,a=Wa(t);let o,n,r,l;return d(s)?(o=+s.top||0,n=+s.right||0,r=+s.bottom||0,l=+s.left||0):o=n=r=l=+s||0,{t:Ya(a.top,o,0,i),r:Ya(a.right,n,0,e),b:Ya(a.bottom,r,0,i),l:Ya(a.left,l,0,e)}}function Ua(t){const e=Ha(t),i=e.right-e.left,s=e.bottom-e.top,a=Ga(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s},inner:{x:e.left+a.l,y:e.top+a.t,w:i-a.l-a.r,h:s-a.t-a.b}}}function Ja(t,e,i,s){const a=null===e,o=null===i,n=!(!t||a&&o)&&Ha(t,s);return n&&(a||e>=n.left&&e<=n.right)&&(o||i>=n.top&&i<=n.bottom)}Va.id="point",Va.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3},Va.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Ka extends Bs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:i,outer:s}=Ua(this);t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),t.rect(s.x,s.y,s.w,s.h),t.clip(),t.rect(i.x,i.y,i.w,i.h),t.fillStyle=e.borderColor,t.fill("evenodd")),t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),t.restore()}inRange(t,e,i){return Ja(this,t,e,i)}inXRange(t,e){return Ja(this,t,null,e)}inYRange(t,e){return Ja(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ka.id="rectangle",Ka.defaults={borderSkipped:"start",borderWidth:0},Ka.defaultRoutes={backgroundColor:"color",borderColor:"color"};const Za={average(t){if(!t.length)return!1;let e,i,s=0,a=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,a+=t.y,++o}}return{x:s/o,y:a/o}},nearest(t,e){let i,s,a,o=e.x,n=e.y,r=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=s.getCenterPoint(),i=ne(e,t);i<r&&(r=i,a=s)}}if(a){const t=a.tooltipPosition();o=t.x,n=t.y}return{x:o,y:n}}};function Qa(t,e){return e&&(h(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function to(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function eo(t,e){const{element:i,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:n,value:r}=o.getLabelAndValue(a);return{chart:t,label:n,dataPoint:o.getParsed(a),formattedValue:r,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:i}}function io(t,e){return t=b({},[W.plugins.tooltip,t]),t.bodyFont=X(t.bodyFont,e),t.titleFont=X(t.titleFont,e),t.footerFont=X(t.footerFont,e),t.boxHeight=p(t.boxHeight,t.bodyFont.size),t.boxWidth=p(t.boxWidth,t.bodyFont.size),t}function so(t){const e=t._chart.ctx,{body:i,footer:s,options:a,title:o}=t,{bodyFont:n,footerFont:r,titleFont:l,boxWidth:c,boxHeight:h}=a,d=o.length,u=s.length,p=i.length;let m=2*a.yPadding,g=0,v=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*l.size+(d-1)*a.titleSpacing+a.titleMarginBottom),v){const t=a.displayColors?Math.max(h,n.size):n.size;m+=p*t+(v-p)*n.size+(v-1)*a.bodySpacing}u&&(m+=a.footerMarginTop+u*r.size+(u-1)*a.footerSpacing);let y=0;const b=function(t){g=Math.max(g,e.measureText(t).width+y)};return e.save(),e.font=l.string,f(t.title,b),e.font=n.string,f(t.beforeBody.concat(t.afterBody),b),y=a.displayColors?c+2:0,f(i,t=>{f(t.before,b),f(t.lines,b),f(t.after,b)}),y=0,e.font=r.string,f(t.footer,b),e.restore(),g+=2*a.xPadding,{width:g,height:m}}function ao(t,e,i){const{x:s,y:a,width:o,height:n}=i,r=t.chartArea;let l,c,h="center",d="center";a<n?d="top":a>t.height-n&&(d="bottom");const u=(r.left+r.right)/2,p=(r.top+r.bottom)/2;"center"===d?(l=t=>t<=u,c=t=>t>u):(l=t=>t<=o/2,c=e=>e>=t.width-o/2);const m=i=>i+o+e.caretSize+e.caretPadding>t.width,f=t=>t-o-e.caretSize-e.caretPadding<0,g=t=>t<=p?"top":"bottom";return l(s)?(h="left",m(s)&&(h="center",d=g(a))):c(s)&&(h="right",f(s)&&(h="center",d=g(a))),{xAlign:e.xAlign?e.xAlign:h,yAlign:e.yAlign?e.yAlign:d}}function oo(t,e,i){let{x:s,width:a}=t;return"right"===e?s-=a:"center"===e&&(s-=a/2,s+a>i&&(s=i-a),s<0&&(s=0)),s}function no(t,e,i){let{y:s,height:a}=t;return"top"===e?s+=i:s-="bottom"===e?a+i:a/2,s}function ro(t,e,i,s){const{caretSize:a,caretPadding:o,cornerRadius:n}=t,{xAlign:r,yAlign:l}=i,c=a+o,h=n+o;let d=oo(e,r,s.width);const u=no(e,l,c);return"center"===l?"left"===r?d+=c:"right"===r&&(d-=c):"left"===r?d-=h:"right"===r&&(d+=h),{x:d,y:u}}function lo(t,e){const i=t.options;return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.xPadding:t.x+i.xPadding}function co(t){return Qa([],to(t))}class ho extends Bs{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this.$animations=void 0,this.options=void 0,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelTextColors=void 0,this.initialize()}initialize(){const t=this,e=t._chart.options;t.options=io(e.tooltips,e.font)}_resolveAnimations(){const t=this,e=t._cachedAnimations;if(e)return e;const i=t._chart,s=t.options,a=s.enabled&&i.options.animation&&s.animation,o=new ai(t._chart,a);return t._cachedAnimations=Object.freeze(o),o}getTitle(t){const e=this,i=e.options,s=i.callbacks,a=s.beforeTitle.apply(e,[t]),o=s.title.apply(e,[t]),n=s.afterTitle.apply(e,[t]);let r=[];return r=Qa(r,to(a)),r=Qa(r,to(o)),r=Qa(r,to(n)),r}getBeforeBody(t){return co(this.options.callbacks.beforeBody.apply(this,[t]))}getBody(t){const e=this,i=e.options.callbacks,s=[];return f(t,t=>{const a={before:[],lines:[],after:[]};Qa(a.before,to(i.beforeLabel.call(e,t))),Qa(a.lines,i.label.call(e,t)),Qa(a.after,to(i.afterLabel.call(e,t))),s.push(a)}),s}getAfterBody(t){return co(this.options.callbacks.afterBody.apply(this,[t]))}getFooter(t){const e=this,i=e.options.callbacks,s=i.beforeFooter.apply(e,[t]),a=i.footer.apply(e,[t]),o=i.afterFooter.apply(e,[t]);let n=[];return n=Qa(n,to(s)),n=Qa(n,to(a)),n=Qa(n,to(o)),n}_createItems(){const t=this,e=t._active,i=t.options,s=t._chart.data,a=[],o=[];let n,r,l=[];for(n=0,r=e.length;n<r;++n)l.push(eo(t._chart,e[n]));return i.filter&&(l=l.filter((t,e,a)=>i.filter(t,e,a,s))),i.itemSort&&(l=l.sort((t,e)=>i.itemSort(t,e,s))),f(l,e=>{a.push(i.callbacks.labelColor.call(t,e)),o.push(i.callbacks.labelTextColor.call(t,e))}),t.labelColors=a,t.labelTextColors=o,t.dataPoints=l,l}update(t){const e=this,i=e.options,s=e._active;let a;if(s.length){const t=Za[i.position].call(e,s,e._eventPosition),o=e._createItems();e.title=e.getTitle(o),e.beforeBody=e.getBeforeBody(o),e.body=e.getBody(o),e.afterBody=e.getAfterBody(o),e.footer=e.getFooter(o);const n=e._size=so(e),r=Object.assign({},t,n),l=ao(e._chart,i,r),c=ro(i,r,l,e._chart);e.xAlign=l.xAlign,e.yAlign=l.yAlign,a={opacity:1,x:c.x,y:c.y,width:n.width,height:n.height,caretX:t.x,caretY:t.y}}else 0!==e.opacity&&(a={opacity:0});a&&e._resolveAnimations().update(e,a),t&&i.custom&&i.custom.call(e,{chart:e._chart,tooltip:e})}drawCaret(t,e,i){const s=this.getCaretPosition(t,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e){const{xAlign:i,yAlign:s,options:a}=this,{cornerRadius:o,caretSize:n}=a,{x:r,y:l}=t,{width:c,height:h}=e;let d,u,p,m,f,g;return"center"===s?(f=l+h/2,"left"===i?(d=r,u=d-n,m=f+n,g=f-n):(d=r+c,u=d+n,m=f-n,g=f+n),p=d):(u="left"===i?r+o+n:"right"===i?r+c-o-n:this.caretX,"top"===s?(m=l,f=m-n,d=u-n,p=u+n):(m=l+h,f=m+n,d=u+n,p=u-n),g=m),{x1:d,x2:u,x3:p,y1:m,y2:f,y3:g}}drawTitle(t,e){const i=this,s=i.options,a=i.title,o=a.length;let n,r,l;if(o){const c=qe(s.rtl,i.x,i.width);for(t.x=lo(i,s.titleAlign),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",n=s.titleFont,r=s.titleSpacing,e.fillStyle=s.titleFont.color,e.font=n.string,l=0;l<o;++l)e.fillText(a[l],c.x(t.x),t.y+n.size/2),t.y+=n.size+r,l+1===o&&(t.y+=s.titleMarginBottom-r)}}_drawColorBox(t,e,i,s){const a=this,o=a.options,n=a.labelColors[i],{boxHeight:r,boxWidth:l,bodyFont:c}=o,h=lo(a,"left"),d=s.x(h),u=r<c.size?(c.size-r)/2:0,p=e.y+u;t.fillStyle=o.multiKeyBackground,t.fillRect(s.leftForLtr(d,l),p,l,r),t.lineWidth=1,t.strokeStyle=n.borderColor,t.strokeRect(s.leftForLtr(d,l),p,l,r),t.fillStyle=n.backgroundColor,t.fillRect(s.leftForLtr(s.xPlus(d,1),l-2),p+1,l-2,r-2),t.fillStyle=a.labelTextColors[i]}drawBody(t,e){const i=this,{body:s,options:a}=i,{bodyFont:o,bodySpacing:n,bodyAlign:r,displayColors:l,boxHeight:c,boxWidth:h}=a;let d=o.size,u=0;const p=qe(a.rtl,i.x,i.width),m=function(i){e.fillText(i,p.x(t.x+u),t.y+d/2),t.y+=d+n},g=p.textAlign(r);let v,y,b,x,w,k,C;for(e.textAlign=r,e.textBaseline="middle",e.font=o.string,t.x=lo(i,g),e.fillStyle=o.color,f(i.beforeBody,m),u=l&&"right"!==g?"center"===r?h/2+1:h+2:0,x=0,k=s.length;x<k;++x){for(v=s[x],y=i.labelTextColors[x],e.fillStyle=y,f(v.before,m),b=v.lines,l&&b.length&&(i._drawColorBox(e,t,x,p),d=Math.max(o.size,c)),w=0,C=b.length;w<C;++w)m(b[w]),d=o.size;f(v.after,m)}u=0,d=o.size,f(i.afterBody,m),t.y-=n}drawFooter(t,e){const i=this,s=i.options,a=i.footer,o=a.length;let n,r;if(o){const l=qe(s.rtl,i.x,i.width);for(t.x=lo(i,s.footerAlign),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",n=s.footerFont,e.fillStyle=s.footerFont.color,e.font=n.string,r=0;r<o;++r)e.fillText(a[r],l.x(t.x),t.y+n.size/2),t.y+=n.size+s.footerSpacing}}drawBackground(t,e,i){const{xAlign:s,yAlign:a,options:o}=this,{x:n,y:r}=t,{width:l,height:c}=i,h=o.cornerRadius;e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(n+h,r),"top"===a&&this.drawCaret(t,e,i),e.lineTo(n+l-h,r),e.quadraticCurveTo(n+l,r,n+l,r+h),"center"===a&&"right"===s&&this.drawCaret(t,e,i),e.lineTo(n+l,r+c-h),e.quadraticCurveTo(n+l,r+c,n+l-h,r+c),"bottom"===a&&this.drawCaret(t,e,i),e.lineTo(n+h,r+c),e.quadraticCurveTo(n,r+c,n,r+c-h),"center"===a&&"left"===s&&this.drawCaret(t,e,i),e.lineTo(n,r+h),e.quadraticCurveTo(n,r,n+h,r),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(){const t=this,e=t._chart,i=t.options,s=t.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const s=Za[i.position].call(t,t._active,t._eventPosition);if(!s)return;const n=t._size=so(t),r=Object.assign({},s,t._size),l=ao(e,i,r),c=ro(i,r,l,e);a._to===c.x&&o._to===c.y||(t.xAlign=l.xAlign,t.yAlign=l.yAlign,t.width=n.width,t.height=n.height,t.caretX=s.x,t.caretY=s.y,t._resolveAnimations().update(t,c))}}draw(t){const e=this,i=e.options;let s=e.opacity;if(!s)return;e._updateAnimationTarget();const a={width:e.width,height:e.height},o={x:e.x,y:e.y};s=Math.abs(s)<.001?0:s;const n=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;i.enabled&&n&&(t.save(),t.globalAlpha=s,e.drawBackground(o,t,a),Xe(t,i.textDirection),o.y+=i.yPadding,e.drawTitle(o,t),e.drawBody(o,t),e.drawFooter(o,t),Ye(t,i.textDirection),t.restore())}handleEvent(t,e){const i=this,s=i.options,a=i._active||[];let o=!1,n=[];"mouseout"!==t.type&&(n=i._chart.getElementsAtEventForMode(t,s.mode,s,e),s.reverse&&n.reverse());const r=Za[s.position].call(i,n,t),l=this.caretX!==r.x||this.caretY!==r.y;return o=e||!g(n,a)||l,o&&(i._active=n,(s.enabled||s.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0))),o}}ho.positioners=Za;class uo extends Us{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){const i=this.getLabels();if(i[e]===t)return e;const s=i.indexOf(t),a=i.lastIndexOf(t);return-1===s||s!==a?e:s}determineDataLimits(){const t=this,e=t.getLabels().length-1;t.min=Math.max(t._userMin||0,0),t.max=Math.min(t._userMax||e,e)}buildTicks(){const t=this,e=t.min,i=t.max,s=t.options.offset,a=[];let o=t.getLabels();o=0===e&&i===o.length-1?o:o.slice(e,i+1),t._valueRange=Math.max(o.length-(s?0:1),1),t._startValue=t.min-(s?.5:0);for(let n=e;n<=i;n++)a.push({value:n});return a}getLabelForValue(t){const e=this,i=e.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return"number"!==typeof t&&(t=e.parse(t)),e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const e=this,i=e.ticks;return t<0||t>i.length-1?null:e.getPixelForValue(i[t].value)}getValueForPixel(t){const e=this,i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)}getBasePixel(){return this.bottom}}function po(t){const e=Math.floor(Jt(t)),i=t/Math.pow(10,e);let s;return s=i<=1?1:i<=2?2:i<=5?5:10,s*Math.pow(10,e)}function mo(t,e){const i=[],s=1e-14,{stepSize:a,min:o,max:n,precision:r}=t,l=a||1,h=t.maxTicks-1,{min:d,max:u}=e;let p,m,f,g,v=po((u-d)/h/l)*l;if(v<s&&c(o)&&c(n))return[{value:d},{value:u}];g=Math.ceil(u/v)-Math.floor(d/v),g>h&&(v=po(g*v/h/l)*l),a||c(r)?p=Math.pow(10,ae(v)):(p=Math.pow(10,r),v=Math.ceil(v*p)/p),m=Math.floor(d/v)*v,f=Math.ceil(u/v)*v,!a||c(o)||c(n)||Qt((n-o)/a,v/1e3)&&(m=o,f=n),g=(f-m)/v,g=Zt(g,Math.round(g),v/1e3)?Math.round(g):Math.ceil(g),m=Math.round(m*p)/p,f=Math.round(f*p)/p,i.push({value:c(o)?m:o});for(let c=1;c<g;++c)i.push({value:Math.round((m+c*v)*p)/p});return i.push({value:c(n)?f:n}),i}uo.id="category",uo.defaults={ticks:{callback:uo.prototype.getLabelForValue}};class fo extends Us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return c(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?NaN:+t}handleTickRangeOptions(){const t=this,e=t.options;if(e.beginAtZero){const e=ee(t.min),i=ee(t.max);e<0&&i<0?t.max=0:e>0&&i>0&&(t.min=0)}const i=void 0!==e.min||void 0!==e.suggestedMin,s=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),i!==s&&t.min>=t.max&&(i?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)}getTickLimit(){const t=this,e=t.options.ticks;let i,{maxTicksLimit:s,stepSize:a}=e;return a?i=Math.ceil(t.max/a)-Math.floor(t.min/a)+1:(i=t.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,i=e.ticks;let s=t.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,min:e.min,max:e.max,precision:i.precision,stepSize:p(i.fixedStepSize,i.stepSize)},o=mo(a,t);return te(o,t,"value"),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),o}configure(){const t=this,e=t.ticks;let i=t.min,s=t.max;if(super.configure(),t.options.offset&&e.length){const t=(s-i)/Math.max(e.length-1,1)/2;i-=t,s+=t}t._startValue=i,t._endValue=s,t._valueRange=s-i}getLabelForValue(t){return new Intl.NumberFormat(this.options.locale).format(t)}}class go extends fo{determineDataLimits(){const t=this,e=t.options,{min:i,max:s}=t.getMinMax(!0);t.min=u(i)?i:p(e.suggestedMin,0),t.max=u(s)?s:p(e.suggestedMax,1),e.stacked&&i>0&&(t.min=0),t.handleTickRangeOptions()}computeTickLimit(){const t=this;if(t.isHorizontal())return Math.ceil(t.width/40);const e=t._resolveTickFontOptions(0);return Math.ceil(t.height/e.lineHeight)}getPixelForValue(t){const e=this;return e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function vo(t){const e=t/Math.pow(10,Math.floor(Jt(t)));return 1===e}function yo(t,e){return u(t)?t:e}function bo(t,e){const i=Math.floor(Jt(e.max)),s=Math.ceil(e.max/Math.pow(10,i)),a=[];let o=yo(t.min,Math.pow(10,Math.floor(Jt(e.min)))),n=Math.floor(Jt(o)),r=Math.floor(o/Math.pow(10,n)),l=n<0?Math.pow(10,Math.abs(n)):1;do{a.push({value:o,major:vo(o)}),++r,10===r&&(r=1,++n,l=n>=0?1:l),o=Math.round(r*Math.pow(10,n)*l)/l}while(n<i||n===i&&r<s);const c=yo(t.max,o);return a.push({value:c,major:vo(o)}),a}go.id="linear",go.defaults={ticks:{callback:Rs.formatters.numeric}};class xo extends Us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=fo.prototype.parse.apply(this,[t,e]);if(0!==i)return u(i)&&i>0?i:NaN}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=u(e)?Math.max(0,e):null,t.max=u(i)?Math.max(0,i):null,t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,e=1,i=10;let s=t.min,a=t.max;s===a&&(s<=0?(s=e,a=i):(s=Math.pow(10,Math.floor(Jt(s))-1),a=Math.pow(10,Math.floor(Jt(a))+1))),s<=0&&(s=Math.pow(10,Math.floor(Jt(a))-1)),a<=0&&(a=Math.pow(10,Math.floor(Jt(s))+1)),t.min=s,t.max=a}buildTicks(){const t=this,e=t.options,i={min:t._userMin,max:t._userMax},s=bo(i,t);let a=!t.isHorizontal();return te(s,t,"value"),e.reverse?(a=!a,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),a&&s.reverse(),s}getLabelForValue(t){return void 0===t?"0":new Intl.NumberFormat(this.options.locale).format(t)}configure(){const t=this,e=t.min;super.configure(),t._startValue=Jt(e),t._valueRange=Jt(t.max)-Jt(e)}getPixelForValue(t){const e=this;return void 0!==t&&0!==t||(t=e.min),e.getPixelForDecimal(t===e.min?0:(Jt(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,i=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+i*e._valueRange)}}function wo(t){const e=t.ticks;return e.display&&t.display?p(e.font&&e.font.size,W.font.size)+2*e.backdropPaddingY:0}function ko(t,e,i){return h(i)?{w:D(t,t.font,i),h:i.length*e}:{w:t.measureText(i).width,h:e}}function Co(t,e,i,s,a){return t===s||t===a?{start:e-i/2,end:e+i/2}:t<s||t>a?{start:e-i,end:e}:{start:e,end:e+i}}function So(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},i={};let s,a,o;t._pointLabelSizes=[];const n=t.chart.data.labels.length;for(s=0;s<n;s++){o=t.getPointPosition(s,t.drawingArea+5);const n={chart:t.chart,scale:t,index:s,label:t.pointLabels[s]},r=X(Y([t.options.pointLabels.font],n,s),t.chart.options.font);t.ctx.font=r.string,a=ko(t.ctx,r.lineHeight,t.pointLabels[s]),t._pointLabelSizes[s]=a;const l=t.getIndexAngle(s),c=se(l),h=Co(c,o.x,a.w,0,180),d=Co(c,o.y,a.h,90,270);h.start<e.l&&(e.l=h.start,i.l=l),h.end>e.r&&(e.r=h.end,i.r=l),d.start<e.t&&(e.t=d.start,i.t=l),d.end>e.b&&(e.b=d.end,i.b=l)}t._setReductions(t.drawingArea,e,i)}function Ao(t){return 0===t||180===t?"center":t<180?"left":"right"}function To(t,e,i,s){let a,o,n=i.y+s/2;if(h(e))for(a=0,o=e.length;a<o;++a)t.fillText(e[a],i.x,n),n+=s;else t.fillText(e,i.x,n)}function Io(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function Po(t){const e=t.ctx,i=t.options,s=i.pointLabels,a=wo(i),o=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max);e.save(),e.textBaseline="middle";for(let n=t.chart.data.labels.length-1;n>=0;n--){const i=0===n?a/2:0,r=t.getPointPosition(n,o+i+5),l={chart:t.chart,scale:t,index:n,label:t.pointLabels[n]},c=X(Y([s.font],l,n),t.chart.options.font);e.font=c.string,e.fillStyle=c.color;const h=se(t.getIndexAngle(n));e.textAlign=Ao(h),Io(h,t._pointLabelSizes[n],r),To(e,t.pointLabels[n],r,c.lineHeight)}e.restore()}function Mo(t,e,i,s){const a=t.ctx,o=e.circular,n=t.chart.data.labels.length,r={chart:t.chart,scale:t,index:s,tick:t.ticks[s]},l=Y([e.color],r,s-1),c=Y([e.lineWidth],r,s-1);let h;if((o||n)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(Y([e.borderDash,[]],r)),a.lineDashOffset=Y([e.borderDashOffset],r,s-1)),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{h=t.getPointPosition(0,i),a.moveTo(h.x,h.y);for(let e=1;e<n;e++)h=t.getPointPosition(e,i),a.lineTo(h.x,h.y)}a.closePath(),a.stroke(),a.restore()}}function Lo(t){return Kt(t)?t:0}xo.id="logarithmic",xo.defaults={ticks:{callback:Rs.formatters.logarithmic,major:{enabled:!0}}};class _o extends fo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this.pointLabels=[]}init(t){super.init(t),this.axis="r"}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=wo(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!1);t.min=u(e)&&!isNaN(e)?e:0,t.max=u(i)&&!isNaN(i)?i:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wo(this.options))}generateTickLabels(t){const e=this;fo.prototype.generateTickLabels.call(e,t),e.pointLabels=e.chart.data.labels.map((t,i)=>{const s=m(e.options.pointLabels.callback,[t,i],e);return s||0===s?s:""})}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?So(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){const s=this;let a=e.l/Math.sin(i.l),o=Math.max(e.r-s.width,0)/Math.sin(i.r),n=-e.t/Math.cos(i.t),r=-Math.max(e.b-(s.height-s.paddingTop),0)/Math.cos(i.b);a=Lo(a),o=Lo(o),n=Lo(n),r=Lo(r),s.drawingArea=Math.min(Math.floor(t-(a+o)/2),Math.floor(t-(n+r)/2)),s.setCenterPoint(a,o,n,r)}setCenterPoint(t,e,i,s){const a=this,o=a.width-e-a.drawingArea,n=t+a.drawingArea,r=i+a.drawingArea,l=a.height-a.paddingTop-s-a.drawingArea;a.xCenter=Math.floor((n+o)/2+a.left),a.yCenter=Math.floor((r+l)/2+a.top+a.paddingTop)}getIndexAngle(t){const e=this.chart,i=2*Math.PI/e.data.labels.length,s=e.options||{},a=s.startAngle||0;return le(t*i+ie(a))}getDistanceFromCenterForValue(t){const e=this;if(c(t))return NaN;const i=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*i:(t-e.min)*i}getValueForDistanceFromCenter(t){if(c(t))return NaN;const e=this,i=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-i:e.min+i}getPointPosition(t,e){const i=this,s=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(s)*e+i.xCenter,y:Math.sin(s)*e+i.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}drawGrid(){const t=this,e=t.ctx,i=t.options,s=i.gridLines,a=i.angleLines;let o,n,r;if(i.pointLabels.display&&Po(t),s.display&&t.ticks.forEach((e,i)=>{0!==i&&(n=t.getDistanceFromCenterForValue(t.ticks[i].value),Mo(t,s,n,i))}),a.display){for(e.save(),o=t.chart.data.labels.length-1;o>=0;o--){const l={chart:t.chart,scale:t,index:o,label:t.pointLabels[o]},c=Y([a.lineWidth,s.lineWidth],l,o),h=Y([a.color,s.color],l,o);c&&h&&(e.lineWidth=c,e.strokeStyle=h,e.setLineDash&&(e.setLineDash(Y([a.borderDash,s.borderDash,[]],l)),e.lineDashOffset=Y([a.borderDashOffset,s.borderDashOffset,0],l,o)),n=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),r=t.getPointPosition(o,n),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(r.x,r.y),e.stroke())}e.restore()}}drawLabels(){const t=this,e=t.ctx,i=t.options,s=i.ticks;if(!s.display)return;const a=t.getIndexAngle(0);let o,n;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((a,r)=>{const l={chart:t.chart,scale:t,index:r,tick:a};if(0===r&&!i.reverse)return;const c=t._resolveTickFontOptions(r);e.font=c.string,o=t.getDistanceFromCenterForValue(t.ticks[r].value);const h=Y([s.showLabelBackdrop],l,r);h&&(n=e.measureText(a.label).width,e.fillStyle=Y([s.backdropColor],l,r),e.fillRect(-n/2-s.backdropPaddingX,-o-c.size/2-s.backdropPaddingY,n+2*s.backdropPaddingX,c.size+2*s.backdropPaddingY)),e.fillStyle=c.color,e.fillText(a.label,0,-o)}),e.restore()}drawTitle(){}}_o.id="radialLinear",_o.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Rs.formatters.numeric},pointLabels:{display:!0,font:{size:10},callback(t){return t}}};const Do=Number.MAX_SAFE_INTEGER||9007199254740991,Fo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oo=Object.keys(Fo);function Eo(t,e){return t-e}function Bo(t,e){if(c(e))return null;const i=t._adapter,s=t.options.time,{parser:a,round:o,isoWeekday:n}=s;let r=e;return"function"===typeof a&&(r=a(r)),u(r)||(r="string"===typeof a?i.parse(r,a):i.parse(r)),null===r?r:(o&&(r="week"===o&&n?t._adapter.startOf(r,"isoWeek",n):t._adapter.startOf(r,o)),+r)}function No(t,e,i,s){const a=Oo.length;for(let o=Oo.indexOf(t);o<a-1;++o){const t=Fo[Oo[o]],a=t.steps?t.steps:Do;if(t.common&&Math.ceil((i-e)/(a*t.size))<=s)return Oo[o]}return Oo[a-1]}function Ro(t,e,i,s,a){for(let o=Oo.length-1;o>=Oo.indexOf(i);o--){const i=Oo[o];if(Fo[i].common&&t._adapter.diff(a,s,i)>=e-1)return i}return Oo[i?Oo.indexOf(i):0]}function zo(t){for(let e=Oo.indexOf(t)+1,i=Oo.length;e<i;++e)if(Fo[Oo[e]].common)return Oo[e]}function $o(t,e,i){if(!t.length)return;const{lo:s,hi:a}=Rt(t,i),o=t[s]>=i?t[s]:t[a];e[o]=!0}function Vo(t,e,i,s){const a=t._adapter,o=+a.startOf(e[0].value,s),n=e[e.length-1].value;let r,l;for(r=o;r<=n;r=+a.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}function Ho(t,e,i){const s=[],a={},o=e.length;let n,r;for(n=0;n<o;++n)r=e[n],a[r]=n,s.push({value:r,major:!1});return 0!==o&&i?Vo(t,s,a,i):s}class Wo extends Us{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1}init(t,e){const i=t.time||(t.time={}),s=this._adapter=new qi._date(t.adapters.date);x(i.displayFormats,s.formats()),super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?NaN:Bo(this,t)}invalidateCaches(){this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,e=t.options,i=t._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:n,maxDefined:r}=t.getUserBounds();function l(t){n||isNaN(t.min)||(a=Math.min(a,t.min)),r||isNaN(t.max)||(o=Math.max(o,t.max))}n&&r||(l(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(t.getMinMax(!1))),a=u(a)&&!isNaN(a)?a:+i.startOf(Date.now(),s),o=u(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,t.min=Math.min(a,o),t.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this,e=t.options,i=e.time,s=e.ticks,a="labels"===s.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&a.length&&(t.min=t._userMin||a[0],t.max=t._userMax||a[a.length-1]);const o=t.min,n=t.max,r=Vt(a,o,n);return t._unit=i.unit||(s.autoSkip?No(i.minUnit,t.min,t.max,t._getLabelCapacity(o)):Ro(t,r.length,i.minUnit,t.min,t.max)),t._majorUnit=s.major.enabled&&"year"!==t._unit?zo(t._unit):void 0,t.initOffsets(a),e.reverse&&r.reverse(),Ho(t,r,t._majorUnit)}initOffsets(t){const e=this;let i,s,a=0,o=0;e.options.offset&&t.length&&(i=e.getDecimalForValue(t[0]),a=1===t.length?1-i:(e.getDecimalForValue(t[1])-i)/2,s=e.getDecimalForValue(t[t.length-1]),o=1===t.length?s:(s-e.getDecimalForValue(t[t.length-2]))/2),e._offsets={start:a,end:o,factor:1/(a+1+o)}}_generate(){const t=this,e=t._adapter,i=t.min,s=t.max,a=t.options,o=a.time,n=o.unit||No(o.minUnit,i,s,t._getLabelCapacity(i)),r=p(o.stepSize,1),l="week"===n&&o.isoWeekday,c={};let h,d=i;if(l&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,l?"day":n),e.diff(s,i,n)>1e5*r)throw new Error(i+" and "+s+" are too far apart with stepSize of "+r+" "+n);if("data"===t.options.ticks.source){const i=t.getDataTimestamps();for(h=d;h<s;h=+e.add(h,r,n))$o(i,c,h);h!==s&&"ticks"!==a.bounds||$o(i,c,h)}else{for(h=d;h<s;h=+e.add(h,r,n))c[h]=!0;h!==s&&"ticks"!==a.bounds||(c[h]=!0)}return Object.keys(c).map(t=>+t)}getLabelForValue(t){const e=this,i=e._adapter,s=e.options.time;return s.tooltipFormat?i.format(t,s.tooltipFormat):i.format(t,s.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){const a=this,o=a.options,n=o.time.displayFormats,r=a._unit,l=a._majorUnit,c=r&&n[r],h=l&&n[l],d=i[e],u=l&&h&&d&&d.major,p=a._adapter.format(t,s||(u?h:c)),m=o.ticks.callback;return m?m(p,e,i):p}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){const e=this;return(t-e.min)/(e.max-e.min)}getPixelForValue(t){const e=this,i=e._offsets,s=e.getDecimalForValue(t);return e.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return e.min+s*(e.max-e.min)}_getLabelSize(t){const e=this,i=e.options.ticks,s=e.ctx.measureText(t).width,a=ie(e.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(a),n=Math.sin(a),r=e._resolveTickFontOptions(0).size;return{w:s*o+r*n,h:s*n+r*o}}_getLabelCapacity(t){const e=this,i=e.options.time,s=i.displayFormats,a=s[i.unit]||s.millisecond,o=e._tickFormatFunction(t,0,Ho(e,[t],e._majorUnit),a),n=e._getLabelSize(o),r=Math.floor(e.isHorizontal()?e.width/n.w:e.height/n.h)-1;return r>0?r:1}getDataTimestamps(){const t=this;let e,i,s=t._cache.data||[];if(s.length)return s;const a=t.getMatchingVisibleMetas();if(t._normalized&&a.length)return t._cache.data=a[0].controller.getAllParsedValues(t);for(e=0,i=a.length;e<i;++e)s=s.concat(a[e].controller.getAllParsedValues(t));return t._cache.data=t.normalize(s)}getLabelTimestamps(){const t=this,e=t._cache.labels||[];let i,s;if(e.length)return e;const a=t.getLabels();for(i=0,s=a.length;i<s;++i)e.push(Bo(t,a[i]));return t._cache.labels=t._normalized?e:t.normalize(e)}normalize(t){return qt(t.sort(Eo))}}function jo(t,e,i){let s,a,o,n;if(i)s=Math.floor(e),a=Math.ceil(e),o=t[s],n=t[a];else{const i=Rt(t,e);o=i.lo,n=i.hi,s=t[o],a=t[n]}const r=a-s;return r?o+(n-o)*(e-s)/r:o}Wo.id="time",Wo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class qo extends Wo{constructor(t){super(t),this._table=[],this._maxIndex=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable();t._table=t.buildLookupTable(e),t._maxIndex=t._table.length-1,super.initOffsets(e)}buildLookupTable(t){const e=this,{min:i,max:s}=e;if(!t.length)return[{time:i,pos:0},{time:s,pos:1}];const a=[i];let o,n,r;for(o=0,n=t.length;o<n;++o)r=t[o],r>i&&r<s&&a.push(r);return a.push(s),a}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const i=t.getDataTimestamps(),s=t.getLabelTimestamps();return e=i.length&&s.length?t.normalize(i.concat(s)):i.length?i:s,e=t._cache.all=e,e}getPixelForValue(t,e){const i=this,s=i._offsets,a=i._normalized&&i._maxIndex>0&&!c(e)?e/i._maxIndex:i.getDecimalForValue(t);return i.getPixelForDecimal((s.start+a)*s.factor)}getDecimalForValue(t){return jo(this._table,t)/this._maxIndex}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return jo(e._table,s*this._maxIndex,!0)}}qo.id="timeseries",qo.defaults=Wo.defaults},"9bc4":function(t,e,i){"use strict";var s=i("b703"),a=i("09f4"),o=i("1549"),n=i("2250"),r=i("f842"),l=i("e8b2");function c(t){return Object(l["a"])(t)?void 0:t}var h=c,d=i("b4f1"),u=i("ca54"),p=i("f5fe"),m=i("ff51"),f=u["a"]?u["a"].isConcatSpreadable:void 0;function g(t){return Object(m["a"])(t)||Object(p["a"])(t)||!!(f&&t&&t[f])}var v=g;function y(t,e,i,s,a){var o=-1,n=t.length;i||(i=v),a||(a=[]);while(++o<n){var r=t[o];e>0&&i(r)?e>1?y(r,e-1,i,s,a):Object(d["a"])(a,r):s||(a[a.length]=r)}return a}var b=y;function x(t){var e=null==t?0:t.length;return e?b(t,1):[]}var w=x,k=i("500e"),C=i("c619");function S(t){return Object(C["a"])(Object(k["a"])(t,void 0,w),t+"")}var A=S,T=i("4e71"),I=1,P=2,M=4,L=A((function(t,e){var i={};if(null==t)return i;var l=!1;e=Object(s["a"])(e,(function(e){return e=Object(n["a"])(e,t),l||(l=e.length>1),e})),Object(r["a"])(t,Object(T["a"])(t),i),l&&(i=Object(a["a"])(i,I|P|M,h));var c=e.length;while(c--)Object(o["a"])(i,e[c]);return i}));e["a"]=L},"9db8":function(t,e,i){},a116:function(t,e,i){"use strict";i("f6de")},a246:function(t,e,i){"use strict";i("1858")},a4c9:function(t,e,i){"use strict";i("91dd")},a589:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{style:{width:t.formWidth},attrs:{id:"custom-form-view"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"col-auto logo"},[e("img",{attrs:{src:t._logo}})]),t._m(0)]),e("div",{staticClass:"content"},[e("FormFieldLabel",{attrs:{label:"Claimant Search"}}),e("div",{staticClass:"content-wrapper"},[t.$q.screen.width>1280?e("div",{staticClass:"row q-mb-md"},[e("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:t.lenderList},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:t.getData},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:t.getData},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),e("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:t.getData},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"province"},on:{enter:t.getData},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:t.getData},model:{value:t.claimNumber,callback:function(e){t.claimNumber=e},expression:"claimNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:t.getData},model:{value:t.contractNumber,callback:function(e){t.contractNumber=e},expression:"contractNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:t.getData},model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),e("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:t.getData}})],1):e("div",[e("div",{staticClass:"row q-mb-md"},[e("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:t.lenderList},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:t.getData},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:t.getData},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),e("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:t.getData},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})],1),e("div",{staticClass:"row q-mb-md"},[e("TextField",{staticClass:"col",attrs:{label:"province"},on:{enter:t.getData},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:t.getData},model:{value:t.claimNumber,callback:function(e){t.claimNumber=e},expression:"claimNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:t.getData},model:{value:t.contractNumber,callback:function(e){t.contractNumber=e},expression:"contractNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:t.getData},model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),e("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:t.getData}})],1)])]),e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col q-mt-sm"},[e("FormFieldLabel",{attrs:{label:"Search Results"}})],1),e("q-space"),e("div",{staticClass:"col-auto"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{attrs:{label:"Add Contract and Send Package",icon:"eva-plus-outline",color:"gray"},on:{click:function(e){t.addContractSheet=!0}}})],1)],1),e("div",{staticClass:"content-wrapper tables"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 360px)"}},[e("div",{staticClass:"row"},[e("FormFieldLabel",{attrs:{label:t.contractCount}}),e("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:t.contractExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(e){t.contractExpand=!t.contractExpand}}})],1),t.contractExpand?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),t._l(t.contractColumnsFilter,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky"})],2)]),e("tbody",[t._l(t.tableContracts,(function(i){return[e("tr",{key:i.id},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[e("div",{staticClass:"row items-center justify-center"},[e("BaseButton",{attrs:{label:"Expand",icon:i.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){i.infoVisible=!i.infoVisible}}})],1)]),t._l(t.contractColumnsFilter,(function(s){return e("td",{key:s.id},[s.editable?["email"===s.valueType?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("TextField",{attrs:{"is-mandatory":"",error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:"lender"===s.name?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("SelectField",{attrs:{"is-mandatory":"",options:t.lenderList,error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:[e("TextField",{attrs:{"is-mandatory":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)})),e("td",{staticClass:"sticky"},[e("div",{staticClass:"row justify-center"},[e("BaseButton",{staticClass:"col-auto q-ml-md",attrs:{label:"Send Package",icon:"mdi-file-send-outline",color:"secondary"},on:{click:function(e){return t.getProduct(i.id)}}})],1)])],2),i.infoVisible?e("tr",{key:"sub-"+i.id},[e("td",{attrs:{colspan:t.contractColumnsFilter.length+2}},[e("table",{staticClass:"subDetails"},[e("thead",t._l(t.contractColumnsInfo,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",t._l(t.contractColumnsInfo,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)])])]):t._e()]}))],2)]):t._e(),e("div",{staticClass:"row"},[e("FormFieldLabel",{attrs:{label:t.claimCount}}),e("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:t.claimExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(e){t.claimExpand=!t.claimExpand}}})],1),t.claimExpand?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),t._l(t.claimColumnsFilter,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky"})],2)]),e("tbody",[t._l(t.tableClaims,(function(i){return[e("tr",{key:i.id},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[e("div",{staticClass:"row items-center justify-center"},[e("BaseButton",{attrs:{label:"Expand",icon:i.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){i.infoVisible=!i.infoVisible}}})],1)]),t._l(t.claimColumnsFilter,(function(s){return e("td",{key:s.id},["history"===s.name?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Claim History",expression:"'Claim History'",modifiers:{bottom:!0}}],attrs:{icon:"mdi-history",color:"secondary","is-flat":"","no-border":""},on:{click:function(e){return t.claimHistory(i)}}})]:s.editable?["email"===s.valueType?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("TextField",{attrs:{"is-mandatory":"",error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:[e("TextField",{attrs:{"is-mandatory":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)})),e("td",{staticClass:"sticky"},[e("div",{staticClass:"row justify-center q-mt-sm"},[t.claimStatus(i)?[e("div",{on:{click:function(e){return t.reopenClaim(i.id)}}},[e("q-chip",{staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-arrow-top-right",color:"pink","text-color":"white"}}),t._v(" Re-open ")],1)],1)]:t._e(),e("div",{on:{click:function(e){return t.viewClaim(i.id)}}},[e("q-chip",{staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-eye-outline",color:"orange","text-color":"white"}}),t._v(" View Claim ")],1)],1)],2)])],2),i.infoVisible?e("tr",{key:"sub-"+i.id},[e("td",{attrs:{colspan:t.claimColumnsFilter.length+2}},[e("table",{staticClass:"subDetails"},[e("thead",t._l(t.claimColumnsInfo,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",t._l(t.claimColumnsInfo,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)])])]):t._e()]}))],2)]):t._e()])],1)],1),e("AddContract",{attrs:{value:t.addContractSheet,"lender-list":t.lenderList},on:{initiate:t.processInitiate,close:function(e){t.addContractSheet=!1}}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.productModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Choose Product")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"productModal"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"product","is-mandatory":"",options:t.productList},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Send Package",color:"primary"},on:{click:function(e){return t.processInitiate("")}}})]},proxy:!0}]),model:{value:t.productModal,callback:function(e){t.productModal=e},expression:"productModal"}}),e("Modal",{attrs:{width:"70vw"},on:{input:function(e){t.claimHistoryModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Claim History")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"claimHistory"}},[e("table",[e("thead",[e("tr",t._l(t.historyColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.claimHistoryData,(function(i){return e("tr",{key:i.id},t._l(t.historyColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name]||"-")+" ")]}),{value:i[s.name],item:i})],2)})),0)})),0)])])]},proxy:!0}],null,!0),model:{value:t.claimHistoryModal,callback:function(e){t.claimHistoryModal=e},expression:"claimHistoryModal"}}),e("Sheet",{attrs:{width:"100vw","no-padding":"","has-footer":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"footer row"},[e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Update Claim Details",color:"secondary"},on:{click:function(e){return t.updateClaimDetails()}}})],1)]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col"},[e("CustomProcessForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"selected-process":t.selectedProcess,"is-readonly":!1,"check-list":t.checkList,"form-model":t.formModel,"form-fields":t.formFields,inbox:!0},on:{"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e}}})],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!1,"no-padding":""},on:{input:function(e){t.attachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",[t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","no-padding":""},on:{input:function(e){t.commentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 160px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row q-ma-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col q-mr-xl text-center"},[e("div",{staticClass:"title-1"},[t._v("Request Submission")]),e("div",{staticClass:"description"},[t._v("To submit the Claim Request")])])}],o=(i("caad"),i("14d9"),i("1b0d")),n=i("7bb1"),r=i("be3f"),l=i("3445"),c=i("b3d1"),h=i("c3d2"),d=i("12b8"),u=i("53c1"),p=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"30vw",height:"70vh","has-footer":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Add Contract")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"First Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"First Name","is-mandatory":"",error:i[0]},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})]}}])}),e("ValidationProvider",{attrs:{name:"Last Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Last Name","is-mandatory":"",error:i[0]},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})]}}])}),e("ValidationProvider",{attrs:{name:"DOB",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"DOB","is-mandatory":"",error:i[0]},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})]}}])}),e("NumberField",{staticClass:"q-mb-sm",attrs:{label:"Current Age","is-mandatory":"","is-readonly":""},model:{value:t.currentAge,callback:function(e){t.currentAge=e},expression:"currentAge"}}),e("ValidationProvider",{attrs:{name:"Email",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Email","is-mandatory":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Loan Number"},model:{value:t.loanNumber,callback:function(e){t.loanNumber=e},expression:"loanNumber"}}),e("ValidationProvider",{attrs:{name:"Product",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"Product","is-mandatory":"",options:t.productList,error:i[0]},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})]}}])}),e("ValidationProvider",{attrs:{name:"Lender",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"Lender","is-mandatory":"",options:t.lenderList,error:i[0]},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}})]}}])})],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Save and Send Package",color:"primary"},on:{click:t.createContract}})]},proxy:!0}])})},m=[],f=i("381e"),g=i("ad54"),v={name:"AddContract",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],Sheet:f["a"],TextField:c["a"],DateField:u["a"],NumberField:g["a"],MultiSelectField:h["a"],SelectField:d["a"]},props:{value:{type:Boolean,default:!1},lenderList:{type:Array,default:()=>[]}},data(){return{firstName:"",lastName:"",dob:"",currentAge:0,email:"",loanNumber:"",products:["Involuntary Unemployment"],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],lender:""}},watch:{dob:{deep:!0,immediate:!0,handler(){this.dob?this.currentAge=this.calculateAge(this.dob):this.currentAge=0}}},methods:{closeSheet(){this.$emit("close")},reset(){this.firstName="",this.lastName="",this.dob="",this.currentAge=0,this.email="",this.loanNumber="",this.products=["Involuntary Unemployment"],this.lender=""},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},async createContract(){const t=await this.$refs.form.validate();if(!t)return;this.$store.commit("showLoadingBar");let e={firstName:this.firstName,lastName:this.lastName,dob:this.dob,loanNumber:this.loanNumber,product:this.products};const{error:i}=await o["d"].createContract(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(e.lender=this.lender,e.currentAge=this.currentAge,e.email=this.email,this.$emit("initiate",e),this.reset(),this.closeSheet())}}},y=v,b=i("2877"),x=Object(b["a"])(y,p,m,!1,null,null,null),w=x.exports,k=i("6a70"),C=i("b94d"),S=i("fa1f"),A=i("a7d2"),T=i("dd90"),I=i("c52a"),P=i("8505"),M=i("6df3"),L=i("695e"),_={name:"CustomForm",components:{ValidationProvider:n["b"],ExpandableSearch:r["a"],FormFieldLabel:l["a"],TextField:c["a"],MultiSelectField:h["a"],SelectField:d["a"],DateField:u["a"],AddContract:w,Modal:k["a"],Sheet:f["a"],Tabs:C["a"],FileIcon:S["a"],CustomProcessForm:I["a"],ProcessHistory:P["a"],TextAreaField:M["a"],TextBuilderField:L["a"]},props:{workflowId:{type:Number,default:0},workflow:{type:Object,default:()=>{}},formId:{type:[String,Number],default:0},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},actions:{type:Array,default:()=>[]},requestPrefix:{type:String,default:""},mlPrediction:{type:String,default:""},formFields:{type:Array,default:()=>[]},generatePDF:{type:Number,default:0}},data(){return{form:null,formWidth:"100%",lender:[],firstName:"",lastName:"",dob:"",province:"",claimNumber:"",contractNumber:"",refNumber:"",contractColumns:[{id:this.$nano.id(),name:"firstName",label:"First Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"lastName",label:"Last Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan Number",subLabel:"Loan No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"dob",label:"DOB",subLabel:"",type:"NORMAL",editable:!1,valueType:"date",main:!0,visible:!0},{id:this.$nano.id(),name:"currentAge",label:"Current Age",subLabel:"",type:"NORMAL",editable:!1,valueType:"number",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"policyNumber",label:"Policy Number",subLabel:"Group Policy",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"email",label:"Email",subLabel:"Email ID",type:"NORMAL",editable:!0,valueType:"email",required:!0,main:!0,visible:!0},{id:this.$nano.id(),name:"address1",label:"Address1",subLabel:"Address",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"address2",label:"Address2",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"city",label:"City",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"province",label:"Province",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"postalCode",label:"Postal Code",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"phone",label:"Phone",subLabel:"Phone No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"startDate",label:"Start Date",subLabel:"Loan Start Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"endDate",label:"End Date",subLabel:"Loan End Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"cancelDate",label:"Cancel Date",subLabel:"Cancellation Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"contractNumber",label:"Contract Number",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"product",label:"Product",subLabel:"Benefit Claimed",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan No.",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"paymentFrequency",label:"Payment Freq",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"term",label:"Term",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"remitDate",label:"Last Remitted Date",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"reason",label:"Reason",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1}],claimColumns:[{id:this.$nano.id(),name:"claimsStoreLoanNumber",label:"Claims Store Loan Number",store:"Loan Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimNumber",label:"Claim Number",store:"Claim Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantFirstName",label:"Claimant First Name",store:"First Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantLastName",label:"Claimant Last Name",store:"Last Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantDOB",label:"Claimant DOB",store:"DOB",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantEmail",label:"Claimant Email",store:"Email",type:"NORMAL",editable:!0,main:!0},{id:this.$nano.id(),name:"claimStatus",label:"Claim Status",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"history",label:"",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"branchNumber",label:"Branch Number",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimDate",label:"Claim Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"receiveDate",label:"Receive Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"recommendation",label:"Recommendation",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"product",label:"Product",store:"Product",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantCity",label:"Claimant City",store:"City",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantProv",label:"Claimant Prov",store:"Province",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"currentAge",label:"Current Age",store:"Current Age",type:"NORMAL",editable:!1,main:!1}],tableContracts:[],tableContractsData:[],tableClaims:[],tableClaimsData:[],contractExpand:!0,claimExpand:!0,selectedContract:{},selectedClaim:{},search:"",addContractSheet:!1,productModal:!1,products:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],fieldsModel:{},historyColumns:[{id:this.$nano.id(),name:"claimNumber",label:"Claim Number"},{id:this.$nano.id(),name:"status",label:"Status"},{id:this.$nano.id(),name:"date",label:"Date"},{id:this.$nano.id(),name:"note",label:"Note"}],claimHistoryData:[],claimHistoryModal:!1,lenderList:[],totalItems:0,itemsPerPage:500,currentPage:1,contractDataResult:!1,claimDataResult:!1,selectedProcess:{},processSheet:!1,headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",attachmentSheet:!1,commentsSheet:!1,mailTransactionSheet:!1,commentText:"",commentsList:[],attachmentList:[],mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},formModel:{},historyProcessId:0,checkList:[],advancedCommentsSheet:!1,advancedCommentText:""}},computed:{isMaximized(){return"100%"===this.formWidth},_logo(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?i("651a"):i("bcdf")(`./name-${this.darkTheme?"dark":"light"}.png`)},contractCount(){return`Contracts (${this.tableContracts.length})`},claimCount(){return`Claims (${this.tableClaims.length})`},contractColumnsFilter(){return this.contractColumns.filter(t=>t.main&&t.visible)},contractColumnsInfo(){return this.contractColumns.filter(t=>!t.main&&t.visible)},claimColumnsFilter(){return this.claimColumns.filter(t=>t.main)},claimColumnsInfo(){return this.claimColumns.filter(t=>!t.main)},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{},created(){let t=location.origin;"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId||"http://localhost:8080"===t?this.getLenderMaster(3):this.getLenderMaster(3056)},methods:{toggleWidth(){this.formWidth="100%"===this.formWidth?"720px":"100%"},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},claimStatus(t){return t.claimStatus.indexOf("Declined")>-1||t.claimStatus.indexOf("Force Close")>-1},isArrayField(t){return["MULTIPLE_CHOICE","FILE_UPLOAD","MULTI_SELECT"].includes(t)},searchRow(t){t?(this.tableContracts=this.tableContractsData.filter(e=>{for(let i in e){let s=this.contractColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}),this.tableClaims=this.tableClaimsData.filter(e=>{for(let i in e){let s=this.claimColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}})):(this.tableContracts=this.tableContractsData,this.tableClaims=this.tableClaimsData)},processInitiate(t){let e="",i="",s="";t?this.selectedContract=t:this.selectedContract.product=this.products;let a=[];this.selectedContract.product.length&&this.selectedContract.product.forEach(t=>{if(this.panels.length){if(this.selectedContract.policyNumber){let t=this.selectedContract.policyNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}else this.selectedContract.lender&&(e=this.selectedContract.lender);let a=this.lenderList.filter(t=>t.value===e);a.length&&(i=a[0].email,s=a[0].label),this.fieldsModel={},this.panels.forEach(e=>{if(e.fields.length)for(let a of e.fields)if("Lender Email"===a.label)this.fieldsModel[a.id]=i;else if("Lender Name"===a.label)this.fieldsModel[a.id]=s;else if("Initials1"===a.label){let t="";this.$store.state.session.firstName&&(t+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?t+=this.$store.state.session.lastName[0].toUpperCase():t+=this.$store.state.session.firstName[1],this.fieldsModel[a.id]=t}else{let e=this.contractColumns.find(t=>t.label===a.label||t.subLabel===a.label);e&&("product"===e.name?this.fieldsModel[a.id]=t:this.fieldsModel[a.id]=this.selectedContract[e.name]||"")}})}a.push(this.fieldsModel)}),this.actions.length?this.initiateRequest(a,e,s,this.actions[0]):this.$alert.error("Process Configuration Error")},async initiateRequest(t,e,i,s){let a=[];if(t&&t.length)for(let n of t){let t={workflowId:this.workflow.id,review:"Save"===s?"":s,comments:this.commentsList,formData:{formId:this.formId,fields:n,formUpload:[]},fileIds:[],task:[],hasFormPDF:this.generatePDF,prefix:e,mlPrediction:i};this.$store.commit("showLoadingBarSave");const{error:r,payload:l}=await o["t"].processTransaction(t);if(this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.fieldsModel={},r)return void this.$alert.error(r);a.push(l.requestNo)}a.length&&("Save"!==s?this.$alert.success(a.toString()+" Request Initiated"):this.$alert.success(a.toString()+" Request Initiated and Moved to your inbox")),this.$emit("refresh")},newClaim(t){let e="",i="",s="";this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.panels.length&&this.panels.forEach(t=>{if(!t.fields.length)return;if(this.selectedClaim.claimNumber){let t=this.selectedClaim.claimNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}let a=this.lenderList.filter(t=>t.value===e);a.length&&(i=a[0].email,s=a[0].label);for(let o of t.fields)if("Lender Email"===o.label)this.fieldsModel[o.id]=i;else if("Product"===o.label)this.fieldsModel[o.id]=this.selectedClaim.product.split(",")||"";else if("Lender Name"===o.label)this.fieldsModel[o.id]=s;else if("Initials"===o.label)this.fieldsModel[o.id]=e;else{let t=this.claimColumns.find(t=>t.store===o.label);t&&(this.fieldsModel[o.id]=this.selectedClaim[t.name]||"")}}),this.$emit("update:workflowFormModel",this.fieldsModel),this.$emit("update:requestPrefix",e),this.$emit("update:mlPrediction",s),this.actions.length?this.$emit("update:saveAction",this.actions[0]):this.$alert.error("Process Configuration Error")},async viewClaim(t){this.formModel={},this.selectedProcess={},this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.$store.commit("showLoadingBarSave"),this.workflowProcessList=[];const{error:e,payload:i}=await o["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:this.selectedClaim.claimNumber}]}],itemsPerPage:10,currentPage:1,mode:""});if(this.$store.commit("hideLoadingBarSave"),e)this.$alert.error(e);else if(i.data.length){if(i.data[0].value.length){this.selectedProcess=i.data[0].value[0],this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`;let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e,this.tabs.find(t=>{"COMMENTS"===t.value?t.count=this.selectedProcess.commentsCount:"ATTACHMENTS"===t.value&&(t.count=this.selectedProcess.attachmentCount)});let s=JSON.parse(this.workflow.flowJson);s.blocks.forEach(t=>{t.id===this.selectedProcess.activityId&&t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}))}),this.getComments(),this.getAttachments(),this.getMailTransactions(),this.processSheet=!0}}else this.$alert.info("No Details Found")},async reopenClaim(t){this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.$store.commit("showLoadingBarSave");const{error:e}=await o["t"].reopenRequest(1,0,{requestNumber:this.selectedClaim.claimNumber});if(this.$store.commit("hideLoadingBarSave"),e)return console.log(e),void this.$alert.info(e);this.$alert.success(this.selectedClaim.claimNumber+" request re-initiated")},async getLenderMaster(t){this.$store.commit("showLoadingBar");const{error:e,payload:i}=await o["g"].getFormEntries(t,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);const{data:s}=i;this.lenderList=s[0].value.map(t=>({id:t.itemid,label:t["xPAsoGQlJ_xrm5f3EAeo6"],value:t["aeyluPk9Q8w6NaUs0HO8r"],email:t["XsPSz3d4dF2VSz1Svmymv"]}))},async getProduct(t){if(this.selectedContract=this.tableContracts.find(e=>e.id===t),Object.keys(this.selectedContract).length){let t="";if(this.selectedContract.policyNumber){let e=this.selectedContract.policyNumber.split("-");t=isNaN(e[1][2])?e[1].substring(0,3):e[1].substring(0,2)}else this.selectedContract.lender&&(t=this.selectedContract.lender);if(!t)return void this.$alert.warning("Policy Number Not Found");if(!this.selectedContract.email)return void this.$alert.warning("Required Claimant Email");this.products=[],this.selectedContract.product&&!this.products.includes(this.selectedContract.product)&&this.products.push(this.selectedContract.product),this.productModal=!0}},async claimHistory(t){this.claimHistoryData=[];let e="",i="";if(t.claimNumber){let i=t.claimNumber.split("-");e=isNaN(i[1][2])?i[1].substring(0,3):i[1].substring(0,2)}let s=this.lenderList.filter(t=>t.value===e);s.length&&(i=s[0].label),this.$store.commit("showLoadingBarSave");let a={claimNumber:t.claimNumber,lenderName:i};const{payload:n,error:r}=await o["d"].getClaimHistory(a);this.$store.commit("hideLoadingBarSave"),r?this.$alert.error(r):n.length?(this.claimHistoryData=n.map(t=>({id:t.ClaimStatusID,claimNumber:t.CSClaimNumber,status:t.ClaimStatus,date:this.$day.format(t.CSDate,!1),note:t.CSNote})),this.claimHistoryModal=!0):this.$alert.info("Claim history records not found")},getData(){this.tableContracts=[],this.tableContractsData=[],this.tableClaims=[],this.tableClaimsData=[],this.contractDataResult=!1,this.claimDataResult=!1,this.getContractData(),this.getClaimData()},async getContractData(){if(this.firstName||this.lastName||this.dob||this.province||this.contractNumber||this.refNumber){let t={};this.firstName&&(t["FirstName"]=this.firstName),this.lastName&&(t["LastName"]=this.lastName),this.dob&&(t["DOB"]=this.dob),this.province&&(t["Province"]=this.province),this.contractNumber&&(t["StoreLoanNumber"]=this.contractNumber),this.refNumber;let e="";if(this.lender.length){let t=this.lenderList.filter(t=>t.value===this.lender[0]);t.length&&(e=t[0].label)}this.$store.commit("showLoadingBarSave");let i={hublinkId:1,lenderName:e,payloadMapping:JSON.stringify(t),itemsPerPage:500,currentPage:1};const{payload:s,error:a}=await o["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),this.contractDataResult=!0,a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:n,meta:r}=s;r.totalItems?n.length&&n[0].value.length&&(this.tableContracts=n[0].value.map(t=>({id:this.$nano.id(),firstName:t.FirstName,lastName:t.LastName,loanNumber:t.LoanNumber,dob:t.DOB?t.DOB.split(" ")[0]:"",policyNumber:t.PolicyNumber,lender:"",email:t.Email||"",currentAge:t.DOB?this.calculateAge(t.DOB.split(" ")[0]):"",address1:t.Address1,address2:t.Address2,city:t.City,province:t.Province,postalCode:t.PostalCode,phone:t.Phone,startDate:t.StartDate?t.StartDate.split(" ")[0]:"",endDate:t.EndDate?t.EndDate.split(" ")[0]:"",cancelDate:t.CancelDate?t.CancelDate.split(" ")[0]:"",contractNumber:t.StoreLoanNumber,product:t.Product,paymentFrequency:t.PmtFrq,term:t.Term,remitDate:t.RemitDate?t.RemitDate.split(" ")[0]:"",reason:t.Comments,infoVisible:!1})),this.tableContractsData=this.tableContracts):this.claimDataResult&&0===this.tableClaimData.length&&this.$alert.info("No result found")}},async getClaimData(){if(this.firstName||this.lastName||this.dob||this.province||this.claimNumber||this.contractNumber){this.$store.commit("showLoadingBarSave");let t={};this.firstName&&(t["ClaimantFirstName"]=this.firstName),this.lastName&&(t["ClaimantLastName"]=this.lastName),this.dob&&(t["ClaimantDOB"]=this.dob),this.province&&(t["ClaimantProv"]=this.province),this.claimNumber&&(t["ClaimNumber"]=this.claimNumber),this.contractNumber&&(t["ClaimsStoreLoanNumber"]=this.contractNumber);let e="";if(this.lender.length){let t=this.lenderList.filter(t=>t.value===this.lender[0]);t.length&&(e=t[0].label)}let i={hublinkId:2,lenderName:e,payloadMapping:JSON.stringify(t),itemsPerPage:500,currentPage:1};const{payload:s,error:a}=await o["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),this.claimDataResult=!0,a)return void this.$alert.error(a);const{data:n,meta:r}=s;r.totalItems?n.length&&n[0].value.length&&(this.tableClaims=n[0].value.map(t=>({id:this.$nano.id(),claimsStoreLoanNumber:t.ClaimsStoreLoanNumber,claimNumber:t.ClaimNumber,claimantFirstName:t.ClaimantFirstName,claimantLastName:t.ClaimantLastName,claimantDOB:t.ClaimantDOB?t.ClaimantDOB.split(" ")[0]:"",claimantEmail:t.ClaimantEmail,claimStatus:t.ClaimStatus||t.ClaimDecision||"",branchNumber:t.BranchNumber,claimDate:t.ClaimDate?t.ClaimDate.split(" ")[0]:"",receiveDate:t.ReceiveDate?t.ReceiveDate.split(" ")[0]:"",recommendation:t.Recommendation,product:t.Product,claimantCity:t.ClaimantCIty,claimantProv:t.ClaimantProv,currentAge:t.ClaimantDOB?this.calculateAge(t.ClaimantDOB.split(" ")[0]):"",infoVisible:!1})),this.tableClaimsData=this.tableClaims):this.contractDataResult&&0===this.tableContractsData.length&&this.$alert.info("No result found")}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(A["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,window.open(this.fileLink()))},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(Object(T["d"])(e)){let e="";return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`}return Object(T["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},async showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflowId}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$emit("addTask"):"VALIDATION"===t?this.$emit("validation",this.selectedProcess.processId):"PAYMENT_TABLE"===t?this.$emit("paymentTable"):"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"SUB_PROCESS"===t&&(this.subProcessSheet=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(T["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await o["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await o["t"].getMailTransactions(this.workflowId,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await o["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await o["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}},async saveComment(){if(this.commentText&&this.selectedProcess.processId){const{error:t}=await o["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:2});if(t)return void this.$alert.error(t);this.commentText="",this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.selectedProcess.processId){const{error:t}=await o["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:2});if(t)return void this.$alert.error(t)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},async updateClaimDetails(){let t={};t={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"",formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.formModel}};const{error:e}=await o["t"].processTransaction(t);e?this.$alert.error(e):(this.$alert.success("Claim details are updated"),this.processSheet=!1)}}},D=_,F=(i("ccc5"),i("2c91")),O=i("b047"),E=i("cb32"),B=i("8169"),N=i("93dc"),R=i.n(N),z=Object(b["a"])(D,s,a,!1,null,"1b34e972",null);e["default"]=z.exports;R()(z,"components",{QSpace:F["a"],QChip:O["a"],QAvatar:E["a"],QChatMessage:B["a"]})},a809:function(t,e,i){"use strict";function s(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}e["a"]=s},a945:function(t,e,i){},abe1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"40vw"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Metadata ")]},proxy:!0}])},[e("div",{attrs:{id:"file-details"}},[e("div",{attrs:{id:"item-overview"}},[e("table",[e("tbody",t._l(t.fileData,(function(i){return e("tr",{key:i.name,staticClass:"tableRow"},[e("td",{staticClass:"label"},[t._v(t._s(i.name))]),"TABLE"!==i.type?e("td",{staticClass:"value"},[t._t(i.name,(function(){return[t._v(" "+t._s(i.value||"-")+" ")]}),{value:i.value})],2):e("td",{staticClass:"value",staticStyle:{padding:"8px"}},[t._t(i.name,(function(){return[i.value?[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return t.showTable(i.name)}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]}))],2)])})),0)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableHeader))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],1)])},a=[],o=i("381e"),n=i("6a70"),r={name:"FileDetails",components:{Sheet:o["a"],Modal:n["a"]},props:{value:{type:Boolean,required:!0},fileData:{type:Array,required:!0}},data(){return{expandTableModal:!1,tableHeader:"",tableData:[]}},methods:{showTable(t){this.expandTableModal=!0;let e=this.fileData.filter(e=>e.name===t);console.log(e),this.tableHeader=e[0].name,this.tableData=JSON.parse(e[0].value),console.log(this.tableData)}}},l=r,c=(i("4045"),i("2877")),h=Object(c["a"])(l,s,a,!1,null,"65baddda",null);e["a"]=h.exports},ae23:function(t,e,i){"use strict";i("4ddc")},afe7:function(t,e,i){},b0ba:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"50vw","no-padding":""},on:{input:t.closeFormHistorySheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Form Entry History ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getFormHistory()}}})]},proxy:!0}]),model:{value:t.formHistorySheet,callback:function(e){t.formHistorySheet=e},expression:"formHistorySheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"\n          calc(100vh - 200px)\n        "}},[e("div",{attrs:{id:"history"}},[t.history.length?t._l(t.history,(function(i){return e("div",{key:i.id,staticClass:"entry"},[e("div",{staticClass:"header"},[t._v(" "+t._s(i.changes.length)+" "+t._s(i.changes.length>1?"Changes":"Change")+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v(t._s(i.changedBy))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.changedAt))])],1),t._l(i.changes,(function(i,s){return e("div",{key:s+1,staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),"isDeleted"===i.name?e("div",[Number(i.newValue)?e("span",{staticClass:"font-semibold"},[t._v(' "Deleted" ')]):e("span",{staticClass:"font-semibold"},[t._v('"Restored"')]),t._v(" the item ")]):i.oldValue?e("div",[t._v(" Modified "+t._s(i.name)+" from "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.oldValue)+'"')]),t._v(" to "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')])]):e("div",[t._v(" Assigned "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')]),t._v(" as "+t._s(i.name)+" ")])],1)}))],2)])})):e("div",{staticClass:"no-history"},[t._v("No data found")])],2)])],1)])],1)},a=[],o=i("381e"),n=i("1b0d"),r={name:"FormEntryHistory",components:{Sheet:o["a"]},props:{value:{type:Boolean,default:!1},processId:{type:Number,required:!0},workflowId:{type:Number,required:!0}},data(){return{changes:[],history:[],formHistorySheet:!1}},watch:{value:{immediate:!0,handler(){this.value&&this.getFormHistory()}}},methods:{async getFormHistory(){this.formHistorySheet=!0,this.history=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await n["g"].formHistory(this.workflowId,this.processId);if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e){let t=e;this.history=t.length&&t.map(t=>({id:this.$nano.id(),changedBy:t.modifiedBy,changedAt:this.$day.format(t.modifiedAt),changes:t.fields}))}},closeFormHistorySheet(){this.formHistorySheet=!1,this.$emit("update:value",!1)}}},l=r,c=(i("742a"),i("2877")),h=Object(c["a"])(l,s,a,!1,null,"231e188e",null);e["a"]=h.exports},b173:function(t,e,i){"use strict";i("4aa3")},b21f:function(t,e,i){"use strict";i("70d4")},b2ee:function(t,e,i){},b811:function(t,e,i){},b94d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{color:t._color},attrs:{id:"tabs"}},[t._l(t.tabs,(function(i){return e("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,color:t.color,"is-full-width":t.isFullWidth,"is-active":i.value===t.value},on:{click:function(e){return t.handleClick(i)}}})})),e("div",{ref:"indicator",staticClass:"indicator"})],2)},a=[],o=i("8b55"),n={name:"Tabs",components:{Tab:o["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const t=this.tabs.findIndex(t=>t.value===this.value),e=this.$refs.tab[t],i=e.$el.offsetLeft;this.$refs.indicator.style.left=i+"px";const s=e.$el.clientWidth;this.$refs.indicator.style.width=s+"px"},handleClick(t){t.value!==this.value&&this.$emit("input",t.value)}}},r=n,l=(i("40f9"),i("2877")),c=Object(l["a"])(r,s,a,!1,null,"48eb7e5e",null);e["a"]=c.exports},ba30:function(t,e,i){"use strict";var s;
/*!
 * ApexCharts v3.36.2
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function m(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=u(t);if(e){var a=u(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return m(this,i)}}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,a,o=[],n=!0,r=!1;try{for(i=i.call(t);!(n=(s=i.next()).done)&&(o.push(s.value),!e||o.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return o}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var x=function(){function t(){r(this,t)}return c(t,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),s=t<0?0:255,a=t<0?-1*t:t,o=parseInt(i[0].slice(4),10),n=parseInt(i[1],10),r=parseInt(i[2],10);return"rgb("+(Math.round((s-o)*a)+o)+","+(Math.round((s-n)*a)+n)+","+(Math.round((s-r)*a)+r)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),s=t<0?0:255,a=t<0?-1*t:t,o=i>>16,n=i>>8&255,r=255&i;return"#"+(16777216+65536*(Math.round((s-o)*a)+o)+256*(Math.round((s-n)*a)+n)+(Math.round((s-r)*a)+r)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===n(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(e[a]=s[a])}return e});var s=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(a){i.isObject(e[a])&&a in t?s[a]=i.extend(t[a],e[a]):Object.assign(s,h({},a,e[a]))})),s}},{key:"extendArray",value:function(e,i){var s=[];return e.map((function(e){s.push(t.extend(i,e))})),s}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var i=[],s=0;s<e.length;s++)i[s]=this.clone(e[s]);return i}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if("object"===n(e)){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=this.clone(e[o]));return a}return e}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",s=t<0?"-":"",a=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(i=s+"0.";o++;)i+="0";return i+a.replace(/^-/,"")}for(o-=a.length;o--;)i+="0";return a+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,s=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[s-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(1===i[s].length?i[s]+i[s]:i[s],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],s=2*Math.PI/e,a=0;a<e;a++){var o={};o.x=t*Math.sin(a*s),o.y=-t*Math.cos(a*s),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,s){var a=(s-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=t.toString().slice();return i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var s=i-t.length+1;s--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}}]),t}(),w=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return c(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,s){t.attr(e).animate(s).attr(i)}},{key:"animateMarker",value:function(t,e,i,s,a,o){e||(e=0),t.attr({r:e,width:e,height:e}).animate(s,a).attr({r:i,width:i.width,height:i.height}).afterAll((function(){o()}))}},{key:"animateCircle",value:function(t,e,i,s,a){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(s,a).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,s,a){t.attr(e).animate(s).attr(i).afterAll((function(){return a()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,s=t.j,a=t.fill,o=t.pathFrom,n=t.pathTo,r=t.speed,l=t.delay,c=this.w,h=0;c.config.chart.animations.animateGradually.enabled&&(h=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(h=0),this.morphSVG(e,i,s,"line"!==c.config.chart.type||c.globals.comboCharts?a:"stroke",o,n,r,l*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,s,a,o,n,r){var l=this,c=this.w;a||(a=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var h=function(t){return"radar"===c.config.chart.type&&(n=1),"M 0 ".concat(c.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=h()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=h()),c.globals.shouldAnimate||(n=1),t.plot(a).animate(1,c.globals.easing,r).plot(a).animate(n,c.globals.easing,r).plot(o).afterAll((function(){x.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==s&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),k=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:s});break;case"darken":this.addDarkenFilter(t,e,{intensity:s})}}},{key:"addShadow",value:function(t,e,i){var s=i.blur,a=i.top,o=i.left,n=i.color,r=i.opacity,l=t.flood(Array.isArray(n)?n[e]:n,r).composite(t.sourceAlpha,"in").offset(o,a).gaussianBlur(s).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e.top,a=e.left,o=e.blur,n=e.color,r=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),x.isIE()&&"radialBar"===c.config.chart.type||(n=Array.isArray(n)?n[i]:n,t.filter((function(t){var e=null;e=x.isSafari()||x.isFirefox()||x.isIE()?t.flood(n,r).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o):t.flood(n,r).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var s=this.w;if(void 0!==s.globals.selectedDataPoints[e]&&s.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var a=s.config.states.active.filter;"none"!==a&&this.applyFilter(t,e,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),C=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"roundPathCorners",value:function(t,e){function i(t,e,i){var a=e.x-t.x,o=e.y-t.y,n=Math.sqrt(a*a+o*o);return s(t,e,Math.min(1,i/n))}function s(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function a(t,e){t.length>2&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function o(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var n=t.split(/[,\s]/).reduce((function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t}),[]).reduce((function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t}),[]),r=[];if(n.length>1){var l=o(n[0]),c=null;"Z"==n[n.length-1][0]&&n[0].length>2&&(c=["L",l.x,l.y],n[n.length-1]=c),r.push(n[0]);for(var h=1;h<n.length;h++){var d=r[r.length-1],u=n[h],p=u==c?n[1]:n[h+1];if(p&&d&&d.length>2&&"L"==u[0]&&p.length>2&&"L"==p[0]){var m,f,g=o(d),v=o(u),y=o(p);m=i(v,g,e),f=i(v,y,e),a(u,m),u.origPoint=v,r.push(u);var b=s(m,v,.5),x=s(v,f,.5),w=["C",b.x,b.y,x.x,x.y,f.x,f.y];w.origPoint=v,r.push(w)}else r.push(u)}if(c){var k=o(r[r.length-1]);r.push(["Z"]),a(r[0],k)}}else r=n;return r.reduce((function(t,e){return t+e.join(" ")+" "}),"")}},{key:"drawLine",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:s,stroke:a,"stroke-dasharray":o,"stroke-width":n,"stroke-linecap":r});return c}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=this.w,d=h.globals.dom.Paper.rect();return d.attr({x:t,y:e,width:i>0?i:0,height:s>0?s:0,rx:a,ry:a,opacity:n,"stroke-width":null!==r?r:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",o),d}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",a=this.w,o=a.globals.dom.Paper.polygon(t).attr({fill:s,stroke:e,"stroke-width":i});return o}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;t<0&&(t=0);var s=i.globals.dom.Paper.circle(2*t);return null!==e&&s.attr(e),s}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,s=t.stroke,a=void 0===s?"#a8a8a8":s,o=t.strokeWidth,n=void 0===o?1:o,r=t.fill,l=t.fillOpacity,c=void 0===l?1:l,h=t.strokeOpacity,d=void 0===h?1:h,u=t.classes,p=t.strokeLinecap,m=void 0===p?null:p,f=t.strokeDashArray,g=void 0===f?0:f,v=this.w;return null===m&&(m=v.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(i).attr({fill:r,"fill-opacity":c,stroke:a,"stroke-opacity":d,"stroke-linecap":m,"stroke-width":n,"stroke-dasharray":g,class:u})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=e.globals.dom.Paper.group();return null!==t&&i.attr(t),i}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;return null===i?s=[" L",t,e].join(" "):"H"===i?s=[" H",t].join(" "):"V"===i&&(s=[" V",e].join(" ")),s}},{key:"curve",value:function(t,e,i,s,a,o){var n=["C",t,e,i,s,a,o].join(" ");return n}},{key:"quadraticCurve",value:function(t,e,i,s){return["Q",t,e,i,s].join(" ")}},{key:"arc",value:function(t,e,i,s,a,o,n){var r=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";r&&(l="a");var c=[l,t,e,i,s,a,o,n].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,s=t.realIndex,a=t.pathFrom,n=t.pathTo,r=t.stroke,l=t.strokeWidth,c=t.strokeLinecap,h=t.fill,d=t.animationDelay,u=t.initialSpeed,p=t.dataChangeSpeed,m=t.className,f=t.shouldClipToGrid,g=void 0===f||f,v=t.bindEventsOnPaths,y=void 0===v||v,b=t.drawShadow,x=void 0===b||b,C=this.w,S=new k(this.ctx),A=new w(this.ctx),T=this.w.config.chart.animations.enabled,I=T&&this.w.config.chart.animations.dynamicAnimation.enabled,P=!!(T&&!C.globals.resized||I&&C.globals.dataChanged&&C.globals.shouldAnimate);P?e=a:(e=n,C.globals.animationEnded=!0);var M=C.config.stroke.dashArray,L=0;L=Array.isArray(M)?M[s]:C.config.stroke.dashArray;var _=this.drawPath({d:e,stroke:r,strokeWidth:l,fill:h,fillOpacity:1,classes:m,strokeLinecap:c,strokeDashArray:L});if(_.attr("index",s),g&&_.attr({"clip-path":"url(#gridRectMask".concat(C.globals.cuid,")")}),"none"!==C.config.states.normal.filter.type)S.getDefaultFilter(_,s);else if(C.config.chart.dropShadow.enabled&&x&&(!C.config.chart.dropShadow.enabledOnSeries||C.config.chart.dropShadow.enabledOnSeries&&-1!==C.config.chart.dropShadow.enabledOnSeries.indexOf(s))){var D=C.config.chart.dropShadow;S.dropShadow(_,D,s)}y&&(_.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,_)),_.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,_)),_.node.addEventListener("mousedown",this.pathMouseDown.bind(this,_))),_.attr({pathTo:n,pathFrom:a});var F={el:_,j:i,realIndex:s,pathFrom:a,pathTo:n,fill:h,strokeWidth:l,delay:d};return!T||C.globals.resized||C.globals.dataChanged?!C.globals.resized&&C.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(o(o({},F),{},{speed:u})),C.globals.dataChanged&&I&&P&&A.animatePathsGradually(o(o({},F),{},{speed:p})),_}},{key:"drawPattern",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.w,n=o.globals.dom.Paper.pattern(e,i,(function(o){"horizontalLines"===t?o.line(0,0,i,0).stroke({color:s,width:a+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:s,width:a+1}):"slantedLines"===t?o.line(0,0,e,i).stroke({color:s,width:a}):"squares"===t?o.rect(e,i).fill("none").stroke({color:s,width:a}):"circles"===t&&o.circle(e).fill("none").stroke({color:s,width:a})}));return n}},{key:"drawGradient",value:function(t,e,i,s,a){var o,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=this.w;e.length<9&&0===e.indexOf("#")&&(e=x.hexToRgba(e,s)),i.length<9&&0===i.indexOf("#")&&(i=x.hexToRgba(i,a));var d=0,u=1,p=1,m=null;null!==r&&(d=void 0!==r[0]?r[0]/100:0,u=void 0!==r[1]?r[1]/100:1,p=void 0!==r[2]?r[2]/100:1,m=void 0!==r[3]?r[3]/100:null);var f=!("donut"!==h.config.chart.type&&"pie"!==h.config.chart.type&&"polarArea"!==h.config.chart.type&&"bubble"!==h.config.chart.type);if(o=null===l||0===l.length?h.globals.dom.Paper.gradient(f?"radial":"linear",(function(t){t.at(d,e,s),t.at(u,i,a),t.at(p,i,a),null!==m&&t.at(m,e,s)})):h.globals.dom.Paper.gradient(f?"radial":"linear",(function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))})),f){var g=h.globals.gridWidth/2,v=h.globals.gridHeight/2;"bubble"!==h.config.chart.type?o.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:v,r:n}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,s=t.fontSize,a=t.fontFamily,o=this.getTextRects(e,s,a),n=o.width/e.length,r=Math.floor(i/n);return i<o.width?e.slice(0,r-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,s=t.y,a=t.text,n=t.textAnchor,r=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.foreColor,d=t.opacity,u=t.maxWidth,p=t.cssClass,m=void 0===p?"":p,f=t.isPlainText,g=void 0===f||f,v=this.w;void 0===a&&(a="");var y=a;n||(n="start"),h&&h.length||(h=v.config.chart.foreColor),l=l||v.config.chart.fontFamily,c=c||"regular";var b,x={maxWidth:u,fontSize:r=r||"11px",fontFamily:l};return Array.isArray(a)?b=v.globals.dom.Paper.text((function(t){for(var i=0;i<a.length;i++)y=a[i],u&&(y=e.getTextBasedOnMaxWidth(o({text:a[i]},x))),0===i?t.tspan(y):t.tspan(y).newLine()})):(u&&(y=this.getTextBasedOnMaxWidth(o({text:a},x))),b=g?v.globals.dom.Paper.plain(a):v.globals.dom.Paper.text((function(t){return t.tspan(y)}))),b.attr({x:i,y:s,"text-anchor":n,"dominant-baseline":"auto","font-size":r,"font-family":l,"font-weight":c,fill:h,class:"apexcharts-text "+m}),b.node.style.fontFamily=l,b.node.style.opacity=d,b}},{key:"drawMarker",value:function(t,e,i){t=t||0;var s=i.pSize||0,a=null;if("square"===i.shape||"rect"===i.shape){var o=void 0===i.pRadius?s/2:i.pRadius;null!==e&&s||(s=0,o=0);var n=1.2*s+o,r=this.drawRect(n,n,n,n,o);r.attr({x:t-n/2,y:e-n/2,cx:t,cy:e,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),a=r}else"circle"!==i.shape&&i.shape||(x.isNumber(e)||(s=0,e=0),a=this.drawCircle(s,{cx:t,cy:e,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var n=i.config.states.hover.filter;s.applyFilter(t,a,n.type,n.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&s.getDefaultFilter(t,a)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),n="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(o)>-1){var r=i.globals.selectedDataPoints[a].indexOf(o);i.globals.selectedDataPoints[a].splice(r,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,h=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),s.getDefaultFilter(t,a)}))};h(l),h(c)}t.node.setAttribute("selected","true"),n="true",void 0===i.globals.selectedDataPoints[a]&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(o)}if("true"===n){var d=i.config.states.active.filter;if("none"!==d)s.applyFilter(t,a,d.type,d.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var u=i.config.states.hover.filter;s.applyFilter(t,a,u.type,u.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?s.getDefaultFilter(t,a):(u=i.config.states.hover.filter,s.applyFilter(t,a,u.type,u.value)));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,n=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});s&&n.attr("transform",s),o.globals.dom.Paper.add(n);var r=n.bbox();return a||(r=n.node.getBoundingClientRect()),n.remove(),{width:r.width,height:r.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var s=e.length-3;s>0;s-=3)if(t.getSubStringLength(0,s)<=i/1.1)return void(t.textContent=e.substring(0,s)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),t}(),S=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0===e.globals.series.length)return i;for(var s=0;s<e.globals.series[e.globals.maxValsInArrayIndex].length;s++){for(var a=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][s]&&-1===t.indexOf(o)&&(a+=e.globals.series[o][s]);i.push(a)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(t,i){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach((function(t){e=Math.max(e,t.size)})),e>0&&(e+=t.config.markers.hover.sizeOffset+1),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var i=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=t[s];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(s,a){for(var o=0,n=0;n<s.length;n++)i.globals.seriesX[a][n]>t&&i.globals.seriesX[a][n]<e&&(o+=s[n]);return o}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var s=[];if(Array.isArray(e))for(var a=0;a<e.length;a++){var o=t.globals.stackedSeriesTotals[a],n=0;o&&(n=100*e[a]/o),s.push(n)}else{var r=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);s.push(r)}return s}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,s,a=this.w.globals,o=[],n=0,r=[],l=.1,c=0;if(a.yRange=[],a.isMultipleYAxis)for(var h=0;h<a.minYArr.length;h++)a.yRange.push(Math.abs(a.minYArr[h]-a.maxYArr[h])),r.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var d=0;d<a.yRange.length;d++)o.push(a.yRange[d]/a.gridHeight);if(e=a.xRange/a.gridWidth,i=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,t=a.yRange/a.gridWidth,s=a.xRange/a.gridHeight,(n=a.zRange/a.gridHeight*16)||(n=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){r=[];for(var u=0;u<o.length;u++)r.push(-a.minYArr[u]/o[u])}else r.push(-a.minY/o[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(l=-a.minY/t,c=a.minX/e);return{yRatio:o,invertedYRatio:t,zRatio:n,xRatio:e,initialXRatio:i,invertedXRatio:s,baseLineInvertedY:l,baseLineY:r,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(t,s){return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(i.config.yaxis[s].logBase,t,s)})):t})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(0===e)return 0;var s=this.w,a=0===s.globals.minYArr[i]?-1:this.getBaseLog(t,s.globals.minYArr[i]),o=(0===s.globals.maxYArr[i]?0:this.getBaseLog(t,s.globals.maxYArr[i]))-a;return e<1?e/o:(this.getBaseLog(t,e)-a)/o}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,s=this.w.globals;return s.yLogRatio=t.slice(),s.logYRange=s.yRange.map((function(t,a){if(i.config.yaxis[a]&&e.w.config.yaxis[a].logarithmic){var o,n=-Number.MAX_VALUE,r=Number.MIN_VALUE;return s.seriesLog.forEach((function(t,e){t.forEach((function(t){i.config.yaxis[e]&&i.config.yaxis[e].logarithmic&&(n=Math.max(t,n),r=Math.min(t,r))}))})),o=Math.pow(s.yRange[a],Math.abs(r-n)/s.yRange[a]),s.yLogRatio[a]=o/s.gridHeight,o}})),s.invalidLogScale?t.slice():s.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0,s=0;return t.length&&void 0!==t[0].type&&t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type&&"boxPlot"!==t.type||i++,void 0!==t.type&&s++})),s>0&&(e=!0),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),A=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===t.label.orientation){var s=null!==e?e:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(null!==a){var o=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-o.height+4),"top"===t.label.position?a.setAttribute("y",parseFloat(a.getAttribute("y"))+o.width):a.setAttribute("y",parseFloat(a.getAttribute("y"))-o.width);var n=this.annoCtx.graphics.rotateAroundCenter(a),r=n.x,l=n.y;a.setAttribute("transform","rotate(-90 ".concat(r," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||void 0===e.label.text||void 0!==e.label.text&&!String(e.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=t.getBoundingClientRect(),o=e.label.style.padding.left,n=e.label.style.padding.right,r=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(r=e.label.style.padding.left,l=e.label.style.padding.right,o=e.label.style.padding.top,n=e.label.style.padding.bottom);var c=a.left-s.left-o,h=a.top-s.top-r,d=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,h,a.width+o+n,a.height+r+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&d.node.classList.add(e.id),d}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(i,s,a){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var n=o.parentNode,r=t.addBackgroundToAnno(o,i);r&&(n.insertBefore(r.node,o),i.label.mouseEnter&&r.node.addEventListener("mouseenter",i.label.mouseEnter.bind(t,i)),i.label.mouseLeave&&r.node.addEventListener("mouseleave",i.label.mouseLeave.bind(t,i)),i.label.click&&r.node.addEventListener("click",i.label.click.bind(t,i)))}};e.config.annotations.xaxis.map((function(t,e){i(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){i(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){i(t,e,"point")}))}},{key:"getY1Y2",value:function(t,e){var i,s="y1"===t?e.y:e.y2,a=this.w;if(this.annoCtx.invertAxis){var o=a.globals.labels.indexOf(s);a.config.xaxis.convertedCatToNumeric&&(o=a.globals.categoryLabels.indexOf(s));var n=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(o+1)+")");n&&(i=parseFloat(n.getAttribute("y")))}else{var r;r=a.config.yaxis[e.yAxisIndex].logarithmic?(s=new S(this.annoCtx.ctx).getLogVal(s,e.yAxisIndex))/a.globals.yLogRatio[e.yAxisIndex]:(s-a.globals.minYArr[e.yAxisIndex])/(a.globals.yRange[e.yAxisIndex]/a.globals.gridHeight),i=a.globals.gridHeight-r,!e.marker||void 0!==e.y&&null!==e.y||(i=0),a.config.yaxis[e.yAxisIndex]&&a.config.yaxis[e.yAxisIndex].reversed&&(i=r)}return"string"==typeof s&&s.indexOf("px")>-1&&(i=parseFloat(s)),i}},{key:"getX1X2",value:function(t,e){var i=this.w,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,n=(e.x-s)/(o/i.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(n=(a-e.x)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(n=this.getStringX(e.x));var r=(e.x2-s)/(o/i.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(r=(a-e.x2)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(r=this.getStringX(e.x2)),void 0!==e.x&&null!==e.x||!e.marker||(n=i.globals.gridWidth),"x1"===t&&"string"==typeof e.x&&e.x.indexOf("px")>-1&&(n=parseFloat(e.x)),"x2"===t&&"string"==typeof e.x2&&e.x2.indexOf("px")>-1&&(r=parseFloat(e.x2)),"x1"===t?n:r}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var s=e.globals.labels.indexOf(t),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(s+1)+")");return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),t}(),T=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addXaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=this.helpers.getX1X2("x1",t),n=t.label.text,r=t.strokeDashArray;if(x.isNumber(o)){if(null===t.x2||void 0===t.x2){var l=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,a.globals.gridHeight+t.offsetY,t.borderColor,r,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getX1X2("x2",t))<o){var c=o;o=s,s=c}var h=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,s-o,a.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,r);h.node.classList.add("apexcharts-annotation-rect"),h.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}var d=this.annoCtx.graphics.getTextRects(n,parseFloat(t.label.style.fontSize)),u="top"===t.label.position?4:"center"===t.label.position?a.globals.gridHeight/2+("vertical"===t.label.orientation?d.width/2:0):a.globals.gridHeight,p=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:u+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?d.width/2-12:-d.width/2:0),text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});p.attr({rel:i}),e.appendChild(p.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,s){t.addXaxisAnnotation(e,i.node,s)})),i}}]),t}(),I=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addYaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=t.strokeDashArray,n=this.helpers.getY1Y2("y1",t),r=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,n+t.offsetY,this._getYAxisAnnotationWidth(t),n+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getY1Y2("y2",t))>n){var c=n;n=s,s=c}var h=this.annoCtx.graphics.drawRect(0+t.offsetX,s+t.offsetY,this._getYAxisAnnotationWidth(t),n-s,0,t.fillColor,t.opacity,1,t.borderColor,o);h.node.classList.add("apexcharts-annotation-rect"),h.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}var d="right"===t.label.position?a.globals.gridWidth:"center"===t.label.position?a.globals.gridWidth/2:0,u=this.annoCtx.graphics.drawText({x:d+t.label.offsetX,y:(null!=s?s:n)+t.label.offsetY-3,text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});u.attr({rel:i}),e.appendChild(u.node)}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,s){t.addYaxisAnnotation(e,i.node,s)})),i}}]),t}(),P=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addPointAnnotation",value:function(t,e,i){this.w;var s=this.helpers.getX1X2("x1",t),a=this.helpers.getY1Y2("y1",t);if(x.isNumber(s)){var o={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},n=this.annoCtx.graphics.drawMarker(s+t.marker.offsetX,a+t.marker.offsetY,o);e.appendChild(n.node);var r=t.label.text?t.label.text:"",l=this.annoCtx.graphics.drawText({x:s+t.label.offsetX,y:a+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(l.attr({rel:i}),e.appendChild(l.node),t.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});c.attr({transform:"translate(".concat(s+t.customSVG.offsetX,", ").concat(a+t.customSVG.offsetY,")")}),c.node.innerHTML=t.customSVG.SVG,e.appendChild(c.node)}if(t.image.path){var h=t.image.width?t.image.width:20,d=t.image.height?t.image.height:20;n=this.annoCtx.addImage({x:s+t.image.offsetX-h/2,y:a+t.image.offsetY-d/2,width:h,height:d,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&n.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&n.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&n.node.addEventListener("click",t.click.bind(this,t))}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,s){t.addPointAnnotation(e,i.node,s)})),i}}]),t}(),M={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},L=function(){function t(){r(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[M],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),_=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.graphics=new C(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new A(this),this.xAxisAnnotations=new T(this),this.yAxisAnnotations=new I(this),this.pointsAnnotations=new P(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=t.config.chart.animations.enabled,o=[e,i,s],n=[i.node,e.node,s.node],r=0;r<3;r++)t.globals.dom.elGraphical.add(o[r]),!a||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&n[r].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:n[r],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,s=t.y,a=t.text,o=t.textAnchor,n=t.foreColor,r=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.cssClass,d=t.backgroundColor,u=t.borderWidth,p=t.strokeDashArray,m=t.borderRadius,f=t.borderColor,g=t.appendTo,v=void 0===g?".apexcharts-annotations":g,y=t.paddingLeft,b=void 0===y?4:y,x=t.paddingRight,w=void 0===x?4:x,k=t.paddingBottom,C=void 0===k?2:k,S=t.paddingTop,A=void 0===S?2:S,T=this.w,I=this.graphics.drawText({x:i,y:s,text:a,textAnchor:o||"start",fontSize:r||"12px",fontWeight:c||"regular",fontFamily:l||T.config.chart.fontFamily,foreColor:n||T.config.chart.foreColor,cssClass:h}),P=T.globals.dom.baseEl.querySelector(v);P&&P.appendChild(I.node);var M=I.bbox();if(a){var L=this.graphics.drawRect(M.x-b,M.y-A,M.width+b+w,M.height+C+A,m,d||"transparent",1,u,f,p);P.insertBefore(L.node,I.node)}}},{key:"addImage",value:function(t,e){var i=this.w,s=t.path,a=t.x,o=void 0===a?0:a,n=t.y,r=void 0===n?0:n,l=t.width,c=void 0===l?20:l,h=t.height,d=void 0===h?20:h,u=t.appendTo,p=void 0===u?".apexcharts-annotations":u,m=i.globals.dom.Paper.image(s);m.size(c,d).move(o,r);var f=i.globals.dom.baseEl.querySelector(p);return f&&f.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,s=t.context,a=t.type,o=t.contextMethod,n=s,r=n.w,l=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),c=l.childNodes.length+1,h=new L,d=Object.assign({},"xaxis"===a?h.xAxisAnnotation:"yaxis"===a?h.yAxisAnnotation:h.pointAnnotation),u=x.extend(d,e);switch(a){case"xaxis":this.addXaxisAnnotation(u,l,c);break;case"yaxis":this.addYaxisAnnotation(u,l,c);break;case"point":this.addPointAnnotation(u,l,c)}var p=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(c,"']")),m=this.helpers.addBackgroundToAnno(p,u);return m&&l.insertBefore(m.node,p),i&&r.globals.memory.methodsToExec.push({context:n,id:u.id?u.id:x.randomId(),method:o,label:"addAnnotation",params:e}),s}},{key:"clearAnnotations",value:function(t){var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,i){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(i,1)})),i=x.listToArray(i),Array.prototype.forEach.call(i,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(e));s&&(i.globals.memory.methodsToExec.map((function(t,s){t.id===e&&i.globals.memory.methodsToExec.splice(s,1)})),Array.prototype.forEach.call(s,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),D=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(v(i.months)),o=[""].concat(v(i.shortMonths)),n=[""].concat(v(i.days)),r=[""].concat(v(i.shortDays));function l(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var c=s?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var h=(s?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+l(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=s?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+n[0])).replace(/(^|[^\\])ddd/g,"$1"+r[0])).replace(/(^|[^\\])dd/g,"$1"+l(d))).replace(/(^|[^\\])d/g,"$1"+d);var u=s?t.getUTCHours():t.getHours(),p=u>12?u-12:0===u?12:u;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(u))).replace(/(^|[^\\])H/g,"$1"+u)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=s?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(m))).replace(/(^|[^\\])m/g,"$1"+m);var f=s?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(f))).replace(/(^|[^\\])s/g,"$1"+f);var g=s?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(g,3)),g=Math.round(g/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(g)),g=Math.round(g/10);var y=u<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+g)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var x=-t.getTimezoneOffset(),w=s||!x?"Z":x>0?"+":"-";if(!s){var k=(x=Math.abs(x))%60;w+=l(Math.floor(x/60))+":"+l(k)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var C=(s?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(n[0],"g"),n[C])).replace(new RegExp(r[0],"g"),r[C])).replace(new RegExp(a[0],"g"),a[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var s=this.w;void 0!==s.config.xaxis.min&&(t=s.config.xaxis.min),void 0!==s.config.xaxis.max&&(e=s.config.xaxis.max);var a=this.getDate(t),o=this.getDate(e),n=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),r=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(n[6],10),maxMillisecond:parseInt(r[6],10),minSecond:parseInt(n[5],10),maxSecond:parseInt(r[5],10),minMinute:parseInt(n[4],10),maxMinute:parseInt(r[4],10),minHour:parseInt(n[3],10),maxHour:parseInt(r[3],10),minDate:parseInt(n[2],10),maxDate:parseInt(r[2],10),minMonth:parseInt(n[1],10)-1,maxMonth:parseInt(r[1],10)-1,minYear:parseInt(n[0],10),maxYear:parseInt(r[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var s=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=x.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),t}(),F=function(t){var e,i=t.ctx,s=t.seriesIndex,a=t.dataPointIndex,o=t.y1,n=t.y2,r=t.w,l=r.globals.seriesRangeStart[s][a],c=r.globals.seriesRangeEnd[s][a],h=r.globals.labels[a],d=r.config.series[s].name?r.config.series[s].name:"",u=r.config.tooltip.y.formatter,p=r.config.tooltip.y.title.formatter,m={w:r,seriesIndex:s,dataPointIndex:a,start:l,end:c};"function"==typeof p&&(d=p(d,m)),null!==(e=r.config.series[s].data[a])&&void 0!==e&&e.x&&(h=r.config.series[s].data[a].x+":"),"function"==typeof u&&(h=u(h,m)),Number.isFinite(o)&&Number.isFinite(n)&&(l=o,c=n);var f="",g="",v=r.globals.colors[s];if(void 0===r.config.tooltip.x.formatter)if("datetime"===r.config.xaxis.type){var y=new D(i);f=y.formatDate(y.getDate(l),r.config.tooltip.x.format),g=y.formatDate(y.getDate(c),r.config.tooltip.x.format)}else f=l,g=c;else f=r.config.tooltip.x.formatter(l),g=r.config.tooltip.x.formatter(c);return{start:l,end:c,startVal:f,endVal:g,ylabel:h,color:v,seriesName:d}},O=function(t){var e=t.color,i=t.seriesName,s=t.ylabel,a=t.start,o=t.end,n=t.seriesIndex,r=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(n);a=l.yLbFormatter(a),o=l.yLbFormatter(o);var c=l.yLbFormatter(t.w.globals.series[n][r]),h='<span class="value start-value">\n  '.concat(a,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(o,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+s+" </span> "+(t.w.globals.comboCharts?"rangeArea"===t.w.config.series[n].type||"rangeBar"===t.w.config.series[n].type?h:"<span>".concat(c,"</span>"):h)+" </div></div>"},E=function(){function t(e){r(this,t),this.opts=e}return c(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,x.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,s=e.dataPointIndex,a=e.w,o=function(){var t=a.globals.seriesRangeStart[i][s];return a.globals.seriesRangeEnd[i][s]-t};return a.globals.comboCharts?"rangeBar"===a.config.series[i].type||"rangeArea"===a.config.series[i].type?o():t:o()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=F(t),i=e.color,s=e.seriesName,a=e.ylabel,n=e.startVal,r=e.endVal;return O(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:n,end:r}))}(t):function(t){var e=F(t),i=e.color,s=e.seriesName,a=e.ylabel,n=e.start,r=e.end;return O(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:n,end:r}))}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return function(t){var e=F(t),i=e.color,s=e.seriesName,a=e.ylabel,n=e.start,r=e.end;return O(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:n,end:r}))}(t)}}}}},{key:"brush",value:function(t){return x.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return x.isNumber(t)?Math.floor(t):t};var s=t.xaxis.labels.formatter,a=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(a=i.map((function(t){return Array.isArray(t)?t:String(t)}))),a&&a.length&&(t.xaxis.labels.formatter=function(t){return x.isNumber(t)?s(a[Math.floor(t)-1]):s(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(t,e,i,s,a){var o=t.globals.seriesCandleO[e][i],n=t.globals.seriesCandleH[e][i],r=t.globals.seriesCandleM[e][i],l=t.globals.seriesCandleL[e][i],c=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+n+"</span></div>"+(r?"<div>".concat(s[2],': <span class="value">')+r+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+c+"</span></div></div>"}}]),t}(),B=function(){function t(e){r(this,t),this.opts=e}return c(t,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,s=new L,a=new E(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=x.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=s.init(),r={};if(i&&"object"===n(i)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?a[i.chart.type]():a.line(),i.chart.brush&&i.chart.brush.enabled&&(l=a.brush(l)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=a.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,l,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=a.sparkline(l)),r=x.extend(o,l)}var c=x.extend(r,window.Apex);return o=x.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var s=new E(i),a=("bar"===t||"boxPlot"===t)&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,o="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,n="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,r=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return a||o||!n||"between"===r||(i=s.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new L;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=x.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[x.extend(i.yAxis,t.yaxis)]:t.yaxis=x.extendArray(t.yaxis,i.yAxis);var s=!1;t.yaxis.forEach((function(t){t.logarithmic&&(s=!0)}));var a=t.series;return e&&!a&&(a=e.config.series),s&&a.length!==t.yaxis.length&&a.length&&(t.yaxis=a.map((function(e,s){if(e.name||(a[s].name="series-".concat(s+1)),t.yaxis[s])return t.yaxis[s].seriesName=a[s].name,t.yaxis[s];var o=x.extend(i.yAxis,t.yaxis[0]);return o.show=!1,o}))),s&&a.length>1&&a.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new L;return t.annotations.yaxis=x.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new L;return t.annotations.xaxis=x.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new L;return t.annotations.points=x.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),t}(),N=function(){function t(){r(this,t)}return c(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasGroups=!1,t.groups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=x.extend({},t),e.initialSeries=x.clone(t.series),e.lastXAxis=x.clone(e.initialConfig.xaxis),e.lastYAxis=x.clone(e.initialConfig.yaxis),e}}]),t}(),R=function(){function t(e){r(this,t),this.opts=e}return c(t,[{key:"init",value:function(){var t=new B(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new N).init(t)}}}]),t}(),z=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return c(t,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,s=parseInt(e.globals.gridWidth,10),a=parseInt(e.globals.gridHeight,10),o=s>a?s:a,n=t.image,r=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(r=i.fill.image.width+1,l=i.fill.image.height):(r=o+1,l=o):(r=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");C.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:r+"px",height:l+"px"});var h=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",n),C.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:r+"px",height:l+"px"}),h.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,s,a,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var n=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(n=e.globals.seriesColors[this.seriesIndex]),"function"==typeof n&&(n=n({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var r=t.fillType?t.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;t.color&&(n=t.color);var c=n;if(-1===n.indexOf("rgb")?n.length<9&&(c=x.hexToRgba(n,l)):n.indexOf("rgba")>-1&&(l=x.getOpacityFromRGBA(n)),t.opacity&&(l=t.opacity),"pattern"===r&&(s=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:s,fillColor:n,fillOpacity:l,defaultColor:c})),"gradient"===r&&(a=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:n,fillOpacity:l,i:this.seriesIndex})),"image"===r){var h=o.fill.image.src,d=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(h)?t.seriesNumber<h.length?h[t.seriesNumber]:h[0]:h,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(d)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(d,")")}else i="gradient"===r?a:"pattern"===r?s:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,s=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors),void 0!==i.fillColors&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=t.patternFill,s=t.fillColor,a=t.fillOpacity,o=t.defaultColor,n=this.w.config.fill;e&&(n=e);var r=this.opts,l=new C(this.ctx),c=Array.isArray(n.pattern.strokeWidth)?n.pattern.strokeWidth[this.seriesIndex]:n.pattern.strokeWidth,h=s;return i=Array.isArray(n.pattern.style)?void 0!==n.pattern.style[r.seriesNumber]?l.drawPattern(n.pattern.style[r.seriesNumber],n.pattern.width,n.pattern.height,h,c,a):o:l.drawPattern(n.pattern.style,n.pattern.width,n.pattern.height,h,c,a),i}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,s=t.fillConfig,a=t.i,n=this.w.config.fill;s&&(n=o(o({},n),s));var r,l=this.opts,c=new C(this.ctx),h=new x,d=n.gradient.type,u=e,p=void 0===n.gradient.opacityFrom?i:Array.isArray(n.gradient.opacityFrom)?n.gradient.opacityFrom[a]:n.gradient.opacityFrom;u.indexOf("rgba")>-1&&(p=x.getOpacityFromRGBA(u));var m=void 0===n.gradient.opacityTo?i:Array.isArray(n.gradient.opacityTo)?n.gradient.opacityTo[a]:n.gradient.opacityTo;if(void 0===n.gradient.gradientToColors||0===n.gradient.gradientToColors.length)r="dark"===n.gradient.shade?h.shadeColor(-1*parseFloat(n.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e):h.shadeColor(parseFloat(n.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e);else if(n.gradient.gradientToColors[l.seriesNumber]){var f=n.gradient.gradientToColors[l.seriesNumber];r=f,f.indexOf("rgba")>-1&&(m=x.getOpacityFromRGBA(f))}else r=e;if(n.gradient.gradientFrom&&(u=n.gradient.gradientFrom),n.gradient.gradientTo&&(r=n.gradient.gradientTo),n.gradient.inverseColors){var g=u;u=r,r=g}return u.indexOf("rgb")>-1&&(u=x.rgb2hex(u)),r.indexOf("rgb")>-1&&(r=x.rgb2hex(r)),c.drawGradient(d,u,r,p,m,l.size,n.gradient.stops,n.gradient.colorStops,a)}}]),t}(),$=function(){function t(e,i){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,i,s){var a,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=this.w,r=e,l=t,c=null,h=new C(this.ctx),d=n.config.markers.discrete&&n.config.markers.discrete.length;if((n.globals.markers.size[e]>0||o||d)&&(c=h.group({class:o||d?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(l.x))for(var u=0;u<l.x.length;u++){var p=i;1===i&&0===u&&(p=0),1===i&&1===u&&(p=1);var m="apexcharts-marker";"line"!==n.config.chart.type&&"area"!==n.config.chart.type||n.globals.comboCharts||n.config.tooltip.intersect||(m+=" no-pointer-events");var f=Array.isArray(n.config.markers.size)?n.globals.markers.size[e]>0:n.config.markers.size>0;if(f||o||d){x.isNumber(l.y[u])?m+=" w".concat(x.randomId()):m="apexcharts-nullpoint";var g=this.getMarkerConfig({cssClass:m,seriesIndex:e,dataPointIndex:p});n.config.series[r].data[p]&&(n.config.series[r].data[p].fillColor&&(g.pointFillColor=n.config.series[r].data[p].fillColor),n.config.series[r].data[p].strokeColor&&(g.pointStrokeColor=n.config.series[r].data[p].strokeColor)),s&&(g.pSize=s),(a=h.drawMarker(l.x[u],l.y[u],g)).attr("rel",p),a.attr("j",p),a.attr("index",e),a.node.setAttribute("default-marker-size",g.pSize);var v=new k(this.ctx);v.setSelectionFilter(a,e,p),this.addEvents(a),c&&c.add(a)}else void 0===n.globals.pointsArray[e]&&(n.globals.pointsArray[e]=[]),n.globals.pointsArray[e].push([l.x[u],l.y[u]])}return c}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,s=t.dataPointIndex,a=void 0===s?null:s,o=t.finishRadius,n=void 0===o?null:o,r=this.w,l=this.getMarkerStyle(i),c=r.globals.markers.size[i],h=r.config.markers;return null!==a&&h.discrete.length&&h.discrete.map((function(t){t.seriesIndex===i&&t.dataPointIndex===a&&(l.pointStrokeColor=t.strokeColor,l.pointFillColor=t.fillColor,c=t.size,l.pointShape=t.shape)})),{pSize:null===n?c:n,pRadius:h.radius,width:Array.isArray(h.width)?h.width[i]:h.width,height:Array.isArray(h.height)?h.height[i]:h.height,pointStrokeWidth:Array.isArray(h.strokeWidth)?h.strokeWidth[i]:h.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(h.shape)?h.shape[i]:h.shape),class:e,pointStrokeOpacity:Array.isArray(h.strokeOpacity)?h.strokeOpacity[i]:h.strokeOpacity,pointStrokeDashArray:Array.isArray(h.strokeDashArray)?h.strokeDashArray[i]:h.strokeDashArray,pointFillOpacity:Array.isArray(h.fillOpacity)?h.fillOpacity[i]:h.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new C(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,s=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[t]:s,pointFillColor:Array.isArray(i)?i[t]:i}}}]),t}(),V=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(t,[{key:"draw",value:function(t,e,i){var s=this.w,a=new C(this.ctx),o=i.realIndex,n=i.pointsPos,r=i.zRatio,l=i.elParent,c=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(n.x))for(var h=0;h<n.x.length;h++){var d=e+1,u=!0;0===e&&0===h&&(d=0),0===e&&1===h&&(d=1);var p=0,m=s.globals.markers.size[o];if(r!==1/0){var f=s.config.plotOptions.bubble;m=s.globals.seriesZ[o][d],f.zScaling&&(m/=r),f.minBubbleRadius&&m<f.minBubbleRadius&&(m=f.minBubbleRadius),f.maxBubbleRadius&&m>f.maxBubbleRadius&&(m=f.maxBubbleRadius)}s.config.chart.animations.enabled||(p=m);var g=n.x[h],v=n.y[h];if(p=p||0,null!==v&&void 0!==s.globals.series[o][d]||(u=!1),u){var y=this.drawPoint(g,v,p,m,o,d,e);c.add(y)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,s,a,o,n){var r=this.w,l=a,c=new w(this.ctx),h=new k(this.ctx),d=new z(this.ctx),u=new $(this.ctx),p=new C(this.ctx),m=u.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:o,finishRadius:"bubble"===r.config.chart.type||r.globals.comboCharts&&r.config.series[a]&&"bubble"===r.config.series[a].type?s:null});s=m.pSize;var f,g=d.fillPath({seriesNumber:a,dataPointIndex:o,color:m.pointFillColor,patternUnits:"objectBoundingBox",value:r.globals.series[a][n]});if("circle"===m.shape?f=p.drawCircle(i):"square"!==m.shape&&"rect"!==m.shape||(f=p.drawRect(0,0,m.width-m.pointStrokeWidth/2,m.height-m.pointStrokeWidth/2,m.pRadius)),r.config.series[l].data[o]&&r.config.series[l].data[o].fillColor&&(g=r.config.series[l].data[o].fillColor),f.attr({x:t-m.width/2-m.pointStrokeWidth/2,y:e-m.height/2-m.pointStrokeWidth/2,cx:t,cy:e,fill:g,"fill-opacity":m.pointFillOpacity,stroke:m.pointStrokeColor,r:s,"stroke-width":m.pointStrokeWidth,"stroke-dasharray":m.pointStrokeDashArray,"stroke-opacity":m.pointStrokeOpacity}),r.config.chart.dropShadow.enabled){var v=r.config.chart.dropShadow;h.dropShadow(f,v,a)}if(!this.initialAnim||r.globals.dataChanged||r.globals.resized)r.globals.animationEnded=!0;else{var y=r.config.chart.animations.speed;c.animateMarker(f,0,"circle"===m.shape?s:{width:m.width,height:m.height},y,r.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(f)}),100)}))}if(r.globals.dataChanged&&"circle"===m.shape)if(this.dynamicAnim){var b,x,S,A,T=r.config.chart.animations.dynamicAnimation.speed;null!=(A=r.globals.previousPaths[a]&&r.globals.previousPaths[a][n])&&(b=A.x,x=A.y,S=void 0!==A.r?A.r:s);for(var I=0;I<r.globals.collapsedSeries.length;I++)r.globals.collapsedSeries[I].index===a&&(T=1,s=0);0===t&&0===e&&(s=0),c.animateCircle(f,{cx:b,cy:x,r:S},{cx:t,cy:e,r:s},T,r.globals.easing)}else f.attr({r:s});return f.attr({rel:o,j:o,index:a,"default-marker-size":s}),h.setSelectionFilter(f,a,o),u.addEvents(f),f.node.classList.add("apexcharts-marker"),f}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),t}(),H=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"dataLabelsCorrection",value:function(t,e,i,s,a,o,n){var r=this.w,l=!1,c=new C(this.ctx).getTextRects(i,n),h=c.width,d=c.height;e<0&&(e=0),e>r.globals.gridHeight+d&&(e=r.globals.gridHeight+d/2),void 0===r.globals.dataLabelsRects[s]&&(r.globals.dataLabelsRects[s]=[]),r.globals.dataLabelsRects[s].push({x:t,y:e,width:h,height:d});var u=r.globals.dataLabelsRects[s].length-2,p=void 0!==r.globals.lastDrawnDataLabelsIndexes[s]?r.globals.lastDrawnDataLabelsIndexes[s][r.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(void 0!==r.globals.dataLabelsRects[s][u]){var m=r.globals.dataLabelsRects[s][p];(t>m.x+m.width+2||e>m.y+m.height+2||t+h<m.x)&&(l=!0)}return(0===a||o)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,s=t.pos,a=t.i,o=t.j,n=t.isRangeStart,r=t.strokeWidth,l=void 0===r?2:r,c=this.w,h=new C(this.ctx),d=c.config.dataLabels,u=0,p=0,m=o,f=null;if(!d.enabled||!Array.isArray(s.x))return f;f=h.group({class:"apexcharts-data-labels"});for(var g=0;g<s.x.length;g++)if(u=s.x[g]+d.offsetX,p=s.y[g]+d.offsetY+l,!isNaN(u)){1===o&&0===g&&(m=0),1===o&&1===g&&(m=1);var v=c.globals.series[a][m];"rangeArea"===i&&(v=n?c.globals.seriesRangeStart[a][m]:c.globals.seriesRangeEnd[a][m]);var y="",b=function(t){return c.config.dataLabels.formatter(t,{ctx:e.ctx,seriesIndex:a,dataPointIndex:m,w:c})};"bubble"===c.config.chart.type?(y=b(v=c.globals.seriesZ[a][m]),p=s.y[g],p=new V(this.ctx).centerTextInBubble(p,a,m).y):void 0!==v&&(y=b(v)),this.plotDataLabelsText({x:u,y:p,text:y,i:a,j:m,parent:f,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels})}return f}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new C(this.ctx),s=t.x,a=t.y,o=t.i,n=t.j,r=t.text,l=t.textAnchor,c=t.fontSize,h=t.parent,d=t.dataLabelsConfig,u=t.color,p=t.alwaysDrawDataLabel,m=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var f={x:s,y:a,drawnextLabel:!0,textRects:null};m&&(f=this.dataLabelsCorrection(s,a,r,o,n,p,parseInt(d.style.fontSize,10))),e.globals.zoomed||(s=f.x,a=f.y),f.textRects&&(s<-10-f.textRects.width||s>e.globals.gridWidth+f.textRects.width+10)&&(r="");var g=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(g=e.globals.dataLabels.style.colors[n]),"function"==typeof g&&(g=g({series:e.globals.series,seriesIndex:o,dataPointIndex:n,w:e})),u&&(g=u);var v=d.offsetX,y=d.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(v=0,y=0),f.drawnextLabel){var b=i.drawText({width:100,height:parseInt(d.style.fontSize,10),x:s+v,y:a+y,foreColor:g,textAnchor:l||d.textAnchor,text:r,fontSize:c||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"});if(b.attr({class:"apexcharts-datalabel",cx:s,cy:a}),d.dropShadow.enabled){var x=d.dropShadow;new k(this.ctx).dropShadow(b,x)}h.add(b),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(n)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,s=i.config.dataLabels.background,a=s.padding,o=s.padding/2,n=e.width,r=e.height,l=new C(this.ctx).drawRect(e.x-a,e.y-o/2,n+2*a,r+o,s.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new k(this.ctx).dropShadow(l,s.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var s=e[i],a=s.getBBox(),o=null;if(a.width&&a.height&&(o=this.addBackgroundToDataLabel(s,a)),o){s.parentNode.insertBefore(o.node,s);var n=s.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:n}):o.animate().attr({fill:n}),s.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<e.length;s++)i&&i.insertBefore(e[s],i.nextSibling)}}]),t}(),W=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(x.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function s(i){for(var s=0;s<i.length;s++)i[s].index===e&&t.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w,a=x.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,t&&(e&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var a=parseInt(e.getAttribute("rel"),10)-1,o=null,n=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),n=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var r=0;r<s.length;r++)s[r].classList.add(this.legendInactiveClass);null!==o&&(i.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==n&&n.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<s.length;l++)s[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(t){for(var e=0;e<a.length;e++)a[e].classList[t](i.legendInactiveClass)};if("mousemove"===t.type){var n=parseInt(e.getAttribute("rel"),10)-1;o("add"),function(t){for(var e=0;e<a.length;e++){var s=parseInt(a[e].getAttribute("val"),10);s>=t.from&&s<=t.to&&a[e].classList.remove(i.legendInactiveClass)}}(s.config.plotOptions.heatmap.colorScale.ranges[n])}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.w,s=0;if(i.config.series.length>1)for(var a=i.config.series.map((function(t,s){return t.data&&t.data.length>0&&-1===i.globals.collapsedSeriesIndices.indexOf(s)&&(!i.globals.comboCharts||0===e.length||e.length&&e.indexOf(i.config.series[s].type)>-1)?s:-1})),o="asc"===t?0:a.length-1;"asc"===t?o<a.length:o>=0;"asc"===t?o++:o--)if(-1!==a[o]){s=a[o];break}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(t,e){return"bar"===t.type||"column"===t.type?e:-1})).filter((function(t){return-1!==t})):this.w.config.series.map((function(t,e){return e}))}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,i,s){for(var a=e[i].childNodes,o={type:s,paths:[],realIndex:e[i].getAttribute("data:realIndex")},n=0;n<a.length;n++)if(a[n].hasAttribute("pathTo")){var r=a[n].getAttribute("pathTo");o.paths.push({d:r})}t.globals.previousPaths.push(o)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(i){for(var s,a=(s=i,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series"))),o=0;o<a.length;o++)e(a,o,i)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(e){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(e,"'] rect")),s=[],a=function(t){var e=function(e){return i[t].getAttribute(e)},a={x:parseFloat(e("x")),y:parseFloat(e("y")),width:parseFloat(e("width")),height:parseFloat(e("height"))};s.push({rect:a,color:i[t].getAttribute("color")})},o=0;o<i.length;o++)a(o);t.globals.previousPaths.push(s)},a=0;a<i.length;a++)s(a);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var s=0;s<i.length;s++){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(s,"'] circle")),o=[],n=0;n<a.length;n++)o.push({x:a[n].getAttribute("cx"),y:a[n].getAttribute("cy"),r:a[n].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new C(this.ctx),s=t.globals.svgWidth/2,a=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(s=10,o="start"):"right"===e.align&&(s=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?a=50:"bottom"===e.verticalAlign&&(a=t.globals.svgHeight-50),s+=e.offsetX,a=a+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var n=i.drawText({x:s,y:a,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(n)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var s=0;s<t[e.globals.maxValsInArrayIndex].length;s++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return t}}]),t}(),j=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new S(this.ctx)}return c(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new W(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new W(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,s=this.w.globals,a="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,o=0;o<t[e].data.length;o++)if(void 0!==t[e].data[o][1]&&(Array.isArray(t[e].data[o][1])&&4===t[e].data[o][1].length&&!a?this.twoDSeries.push(x.parseNumber(t[e].data[o][1][3])):t[e].data[o].length>=5?this.twoDSeries.push(x.parseNumber(t[e].data[o][4])):this.twoDSeries.push(x.parseNumber(t[e].data[o][1])),s.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var n=new Date(t[e].data[o][0]);n=new Date(n).getTime(),this.twoDSeriesX.push(n)}else this.twoDSeriesX.push(t[e].data[o][0]);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r][2]&&(this.threeDSeries.push(t[e].data[r][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,s=this.w.globals,a=new D(this.ctx),o=e;s.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var n=0;n<t[e].data.length;n++)void 0!==t[e].data[n].y&&(Array.isArray(t[e].data[n].y)?this.twoDSeries.push(x.parseNumber(t[e].data[n].y[t[e].data[n].y.length-1])):this.twoDSeries.push(x.parseNumber(t[e].data[n].y))),void 0!==t[e].data[n].goals&&Array.isArray(t[e].data[n].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[n].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var r=0;r<t[o].data.length;r++){var l="string"==typeof t[o].data[r].x,c=Array.isArray(t[o].data[r].x),h=!c&&!!a.isValidDate(t[o].data[r].x.toString());if(l||h)if(l||i.xaxis.convertedCatToNumeric){var d=s.isBarHorizontal&&s.isRangeData;"datetime"!==i.xaxis.type||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[r].x)):this.twoDSeriesX.push(a.parseDate(t[o].data[r].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(a.parseDate(t[o].data[r].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[r].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[r].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[r].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var u=0;u<t[e].data.length;u++)this.threeDSeries.push(t[e].data[u].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(s.start),i.seriesRangeEnd.push(s.end),i.seriesRange.push(s.rangeUniques),i.seriesRange.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,i){for(var s=0;s<t.y.length;s++)if(i!==s){var a=e.y1,o=e.y2,n=t.y[s].y1;a<=t.y[s].y2&&n<=o&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[s].rangeName)<0&&t.overlaps.push(t.y[s].rangeName))}}))}))})),s}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=s.o,i.seriesCandleH[e]=s.h,i.seriesCandleM[e]=s.m,i.seriesCandleL[e]=s.l,i.seriesCandleC[e]=s.c,s}},{key:"handleRangeDataFormat",value:function(t,e,i){var s=[],a=[],o=e[i].data.filter((function(t,e,i){return e===i.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}}));if("array"===t)for(var n=0;n<e[i].data.length;n++)Array.isArray(e[i].data[n])?(s.push(e[i].data[n][1][0]),a.push(e[i].data[n][1][1])):(s.push(e[i].data[n]),a.push(e[i].data[n]));else if("xy"===t)for(var r=function(t){var n=Array.isArray(e[i].data[t].y),r=x.randomId(),l=e[i].data[t].x,c={y1:n?e[i].data[t].y[0]:e[i].data[t].y,y2:n?e[i].data[t].y[1]:e[i].data[t].y,rangeName:r};e[i].data[t].rangeName=r;var h=o.findIndex((function(t){return t.x===l}));o[h].y.push(c),s.push(c.y1),a.push(c.y2)},l=0;l<e[i].data.length;l++)r(l);return{start:s,end:a,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var s=this.w,a="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[i].type,o=[],n=[],r=[],l=[],c=[];if("array"===t)if(a&&6===e[i].data[0].length||!a&&5===e[i].data[0].length)for(var h=0;h<e[i].data.length;h++)o.push(e[i].data[h][1]),n.push(e[i].data[h][2]),a?(r.push(e[i].data[h][3]),l.push(e[i].data[h][4]),c.push(e[i].data[h][5])):(l.push(e[i].data[h][3]),c.push(e[i].data[h][4]));else for(var d=0;d<e[i].data.length;d++)Array.isArray(e[i].data[d][1])&&(o.push(e[i].data[d][1][0]),n.push(e[i].data[d][1][1]),a?(r.push(e[i].data[d][1][2]),l.push(e[i].data[d][1][3]),c.push(e[i].data[d][1][4])):(l.push(e[i].data[d][1][2]),c.push(e[i].data[d][1][3])));else if("xy"===t)for(var u=0;u<e[i].data.length;u++)Array.isArray(e[i].data[u].y)&&(o.push(e[i].data[u].y[0]),n.push(e[i].data[u].y[1]),a?(r.push(e[i].data[u].y[2]),l.push(e[i].data[u].y[3]),c.push(e[i].data[u].y[4])):(l.push(e[i].data[u].y[2]),c.push(e[i].data[u].y[3])));return{o:o,h:n,m:r,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,o=new D(i),n=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar="rangeBar"===s.chart.type&&a.isBarHorizontal,a.hasGroups="category"===s.xaxis.type&&s.xaxis.group.groups.length>0,a.hasGroups&&(a.groups=s.xaxis.group.groups);for(var r=function(){for(var t=0;t<n.length;t++)if("string"==typeof n[t]){if(!o.isValidDate(n[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(n[t]))}else e.twoDSeriesX.push(n[t])},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(a.isRangeData=!0,a.isComboCharts?"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||this.handleRangeData(t,l):"rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type||this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==s.chart.type&&"candlestick"!==t[l].type&&"boxPlot"!==s.chart.type&&"boxPlot"!==t[l].type||this.handleCandleStickBoxData(t,l),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===s.xaxis.type?(a.isXNumeric=!0,r(),a.seriesX.push(this.twoDSeriesX)):"numeric"===s.xaxis.type&&(a.isXNumeric=!0,n.length>0&&(this.twoDSeriesX=n,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return x.parseNumber(t)}));a.series.push(c)}a.seriesZ.push(this.threeDSeries),void 0!==t[l].name?a.seriesNames.push(t[l].name):a.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==t[l].color?a.seriesColors.push(t[l].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var s=0;s<e.series.length;s++)void 0===e.seriesNames[s]&&e.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(t){t.forEach((function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)}))})),i.labels=i.labels.filter((function(t,e,i){return i.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new E(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,s=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var a=i.series.map((function(t,e){return t.data.filter((function(t,e,i){return i.findIndex((function(e){return e.x===t.x}))===e}))})),o=a.reduce((function(t,e,i,s){return s[t].length>e.length?t:i}),0),n=0;n<a[o].length;n++)s.push(n+1);else for(var r=0;r<e.series[e.maxValsInArrayIndex].length;r++)s.push(r+1);e.seriesX=[];for(var l=0;l<t.length;l++)e.seriesX.push(s);e.isXNumeric=!0}if(0===s.length){s=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var c=0;c<t.length;c++)e.seriesX.push(s)}e.labels=s,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=s.map((function(t){return i.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,s=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),"bar"===i.chart.type&&i.chart.stacked){var a=new W(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(s.labels),n=0;n<o.length;n++)if(Array.isArray(o[n])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(i,s){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return i.index}))}}]),t}(),q=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return c(t,[{key:"xLabelFormat",value:function(t,e,i,s){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var o=new D(this.ctx);return o.formatDate(o.getDate(e),a.config.tooltip.x.format)}return t(e,i,s)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,i){var s=this.w;return x.isNumber(t)&&(t=0!==s.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:s.globals.yValueDecimal):s.globals.maxYArr[i]-s.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},void 0!==e.config.xaxis.labels.formatter?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(t){if(x.isNumber(t)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(x.isNumber(e.config.xaxis.decimalsInFloat))return t.toFixed(e.config.xaxis.decimalsInFloat);var i=e.globals.maxX-e.globals.minX;return i>0&&i<100?t.toFixed(1):t.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?t.toFixed(1):t.toFixed(0)}return t},"function"==typeof e.config.tooltip.x.formatter?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,s){void 0!==i.labels.formatter?e.globals.yLabelFormatters[s]=i.labels.formatter:e.globals.yLabelFormatters[s]=function(a){return e.globals.xyCharts?Array.isArray(a)?a.map((function(e){return t.defaultYFormatter(e,i,s)})):t.defaultYFormatter(a,i,s):a}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),X=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getLabel",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",n=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],r=this.w,l=void 0===t[s]?"":t[s],c=l,h=r.globals.xLabelFormatter,d=r.config.xaxis.labels.formatter,u=!1,p=new q(this.ctx),m=l;n&&(c=p.xLabelFormat(h,l,m,{i:s,dateFormatter:new D(this.ctx).formatDate,w:r}),void 0!==d&&(c=d(l,t[s],{i:s,dateFormatter:new D(this.ctx).formatDate,w:r})));var f=function(t){var i=null;return e.forEach((function(t){"month"===t.unit?i="year":"day"===t.unit?i="month":"hour"===t.unit?i="day":"minute"===t.unit&&(i="hour")})),i===t};e.length>0?(u=f(e[s].unit),i=e[s].position,c=e[s].value):"datetime"===r.config.xaxis.type&&void 0===d&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();var g=new C(this.ctx),v={};v=r.globals.rotateXLabels&&n?g.getTextRects(c,parseInt(o,10),null,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(c,parseInt(o,10));var y=!r.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||c.toLowerCase().indexOf("infinity")>=0||a.indexOf(c)>=0&&y)&&(c=""),{x:i,text:c,textRect:v,isBold:u}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var s=this.w,a=s.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(s.globals.gridWidth/120)),a>i||t%Math.round(i/(a+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,s,a){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var n=a[a.length-1];e.x<n.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+n.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new S(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,s,a,o,n){var r=this.w,l=new C(this.ctx),c=r.globals.translateY;if(s.show&&e>0){!0===r.config.yaxis[a].opposite&&(t+=s.width);for(var h=e;h>=0;h--){var d=c+e/10+r.config.yaxis[a].labels.offsetY-1;r.globals.isBarHorizontal&&(d=o*h),"heatmap"===r.config.chart.type&&(d+=o/2);var u=l.drawLine(t+i.offsetX-s.width+s.offsetX,d+s.offsetY,t+i.offsetX+s.offsetX,d+s.offsetY,s.color);n.add(u),c+=o}}}}]),t}(),Y=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),s=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",s*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"fixSvgStringForIe11",value:function(t){if(!x.isIE11())return t.replace(/&nbsp;/g,"&#160;");var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2===++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':t}));return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(t){null==t&&(t=1);var e=this.w.globals.dom.Paper.svg();if(1!==t){var i=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(i,t),e=(new XMLSerializer).serializeToString(i)}return this.fixSvgStringForIe11(e)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(t){var e=this;return new Promise((function(i){var s=e.w,a=t?t.scale||t.width/s.globals.svgWidth:1;e.cleanup();var o=document.createElement("canvas");o.width=s.globals.svgWidth*a,o.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var n="transparent"===s.config.chart.background?"#fff":s.config.chart.background,r=o.getContext("2d");r.fillStyle=n,r.fillRect(0,0,o.width*a,o.height*a);var l=e.getSvgString(a);if(window.canvg&&x.isIE11()){var c=window.canvg.Canvg.fromString(r,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var h=o.msToBlob();c.stop(),i({blob:h})}else{var d="data:image/svg+xml,"+encodeURIComponent(l),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(r.drawImage(u,0,0),o.msToBlob){var t=o.msToBlob();i({blob:t})}else{var e=o.toDataURL("image/png");i({imgURI:e})}},u.src=d}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var i=e.imgURI,s=e.blob;s?navigator.msSaveOrOpenBlob(s,t.w.globals.chartID+".png"):t.triggerDownload(i,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,s=t.fileName,a=t.columnDelimiter,o=void 0===a?",":a,n=t.lineDelimiter,r=void 0===n?"\n":n,l=this.w;i||(i=l.config.series);var c=[],h=[],d="",u=l.globals.series.map((function(t,e){return-1===l.globals.collapsedSeriesIndices.indexOf(e)?t:[]})),p=Math.max.apply(Math,v(i.map((function(t){return t.data?t.data.length:0})))),m=new j(this.ctx),f=new X(this.ctx),g=function(t){var i="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var s=l.globals.yLabelFormatters[0],a=new W(e.ctx).getActiveConfigSeriesIndex();i=s(l.globals.labels[t],{seriesIndex:a,dataPointIndex:t,w:l})}else i=f.getLabel(l.globals.labels,l.globals.timescaleLabels,0,t).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?i=l.config.xaxis.categories[t]:l.config.labels.length&&(i=l.config.labels[t]))}else i=l.config.labels[t];return Array.isArray(i)&&(i=i.join(" ")),x.isNumber(i)?i:i.split(o).join("")},y=function(t,e){if(c.length&&0===e&&h.push(c.join(o)),t.data){t.data=t.data.length&&t.data||v(Array(p)).map((function(){return""}));for(var s=0;s<t.data.length;s++){c=[];var a=g(s);if(a||(m.isFormatXY()?a=i[e].data[s].x:m.isFormat2DArray()&&(a=i[e].data[s]?i[e].data[s][0]:"")),0===e){c.push((r=a,"datetime"===l.config.xaxis.type&&String(r).length>=10?l.config.chart.toolbar.export.csv.dateFormatter(a):x.isNumber(a)?a:a.split(o).join("")));for(var n=0;n<l.globals.series.length;n++)m.isFormatXY()?c.push(i[n].data[s].y):c.push(u[n][s])}("candlestick"===l.config.chart.type||t.type&&"candlestick"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),("boxPlot"===l.config.chart.type||t.type&&"boxPlot"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleM[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),"rangeBar"===l.config.chart.type&&(c.pop(),c.push(l.globals.seriesRangeStart[e][s]),c.push(l.globals.seriesRangeEnd[e][s])),c.length&&h.push(c.join(o))}}var r};c.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(c.push("minimum"),c.push("q1"),c.push("median"),c.push("q3"),c.push("maximum")):"candlestick"===l.config.chart.type?(c.push("open"),c.push("high"),c.push("low"),c.push("close")):"rangeBar"===l.config.chart.type?(c.push("minimum"),c.push("maximum")):i.map((function(t,e){var i=t.name?t.name:"series-".concat(e);l.globals.axisCharts&&c.push(i.split(o).join("")?i.split(o).join(""):"series-".concat(e))})),l.globals.axisCharts||(c.push(l.config.chart.toolbar.export.csv.headerValue),h.push(c.join(o))),i.map((function(t,e){l.globals.axisCharts?y(t,e):((c=[]).push(l.globals.labels[e].split(o).join("")),c.push(u[e]),h.push(c.join(o)))})),d+=h.join(r),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+d),s||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var s=document.createElement("a");s.href=t,s.download=(e||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),t}(),G=function(){function t(e,i){r(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.axesUtils=new X(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===s.config.xaxis.position?this.offY=0:this.offY=s.globals.gridHeight+1,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return c(t,[{key:"drawXaxis",value:function(){var t=this.w,e=new C(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),s=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(s);for(var a=[],o=0;o<this.xaxisLabels.length;o++)a.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,s,a,t.globals.isXNumeric,(function(t,e){return e})),t.globals.hasGroups){var n=t.globals.groups;a=[];for(var r=0;r<n.length;r++)a.push(n[r].title);var l={};t.config.xaxis.group.style&&(l.xaxisFontSize=t.config.xaxis.group.style.fontSize,l.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,l.xaxisForeColors=t.config.xaxis.group.style.colors,l.fontWeight=t.config.xaxis.group.style.fontWeight,l.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,s,a,!1,(function(t,e){return n[t].cols*e}),l)}if(void 0!==t.config.xaxis.title.text){var c=e.group({class:"apexcharts-xaxis-title"}),h=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.title.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});c.add(h),i.add(c)}if(t.config.xaxis.axisBorder.show){var d=t.globals.barPadForNumericAxis,u=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(u):i.add(u)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,s,a,o){var n,r=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],h=[],d=this.w,u=l.xaxisFontSize||this.xaxisFontSize,p=l.xaxisFontFamily||this.xaxisFontFamily,m=l.xaxisForeColors||this.xaxisForeColors,f=l.fontWeight||d.config.xaxis.labels.style.fontWeight,g=l.cssClass||d.config.xaxis.labels.style.cssClass,v=d.globals.padHorizontal,y=s.length,b="category"===d.config.xaxis.type?d.globals.dataPoints:y;if(0===b&&y>b&&(b=y),a){var x=b>1?b-1:b;n=d.globals.gridWidth/x,v=v+o(0,n)/2+d.config.xaxis.labels.offsetX}else n=d.globals.gridWidth/b,v=v+o(0,n)+d.config.xaxis.labels.offsetX;for(var w=function(a){var l=v-o(a,n)/2+d.config.xaxis.labels.offsetX;0===a&&1===y&&n/2===v&&1===b&&(l=d.globals.gridWidth/2);var x=r.axesUtils.getLabel(s,d.globals.timescaleLabels,l,a,c,u,t),w=28;if(d.globals.rotateXLabels&&t&&(w=22),d.config.xaxis.title.text&&"top"===d.config.xaxis.position&&(w+=parseFloat(d.config.xaxis.title.style.fontSize)+2),t||(w=w+parseFloat(u)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),x=void 0!==d.config.xaxis.tickAmount&&"dataPoints"!==d.config.xaxis.tickAmount&&"datetime"!==d.config.xaxis.type?r.axesUtils.checkLabelBasedOnTickamount(a,x,y):r.axesUtils.checkForOverflowingLabels(a,x,y,c,h),t&&x.text&&d.globals.xaxisLabelsCount++,d.config.xaxis.labels.show){var k=e.drawText({x:x.x,y:r.offY+d.config.xaxis.labels.offsetY+w-("top"===d.config.xaxis.position?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:x.text,textAnchor:"middle",fontWeight:x.isBold?600:f,fontSize:u,fontFamily:p,foreColor:Array.isArray(m)?t&&d.config.xaxis.convertedCatToNumeric?m[d.globals.minX+a-1]:m[a]:m,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(i.add(k),k.on("click",(function(t){if("function"==typeof d.config.chart.events.xAxisLabelClick){var e=Object.assign({},d,{labelIndex:a});d.config.chart.events.xAxisLabelClick(t,r.ctx,e)}})),t){var C=document.createElementNS(d.globals.SVGNS,"title");C.textContent=Array.isArray(x.text)?x.text.join(" "):x.text,k.node.appendChild(C),""!==x.text&&(c.push(x.text),h.push(x))}}a<y-1&&(v+=o(a+1,n))},k=0;k<=y-1;k++)w(k)}},{key:"drawXaxisInversed",value:function(t){var e,i,s=this,a=this.w,o=new C(this.ctx),n=a.config.yaxis[0].opposite?a.globals.translateYAxisX[t]:0,r=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),l=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+n+", 0)"});r.add(l);var c=[];if(a.config.yaxis[t].show)for(var h=0;h<this.xaxisLabels.length;h++)c.push(this.xaxisLabels[h]);e=a.globals.gridHeight/c.length,i=-e/2.2;var d=a.globals.yLabelFormatters[0],u=a.config.yaxis[0].labels;if(u.show)for(var p=function(n){var r=void 0===c[n]?"":c[n];r=d(r,{seriesIndex:t,dataPointIndex:n,w:a});var h=s.axesUtils.getYAxisForeColor(u.style.colors,t),p=0;Array.isArray(r)&&(p=r.length/2*parseInt(u.style.fontSize,10));var m=o.drawText({x:u.offsetX-15,y:i+e+u.offsetY-p,text:r,textAnchor:s.yaxis.opposite?"start":"end",foreColor:Array.isArray(h)?h[n]:h,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.style.cssClass,maxWidth:u.maxWidth});l.add(m),m.on("click",(function(t){if("function"==typeof a.config.chart.events.xAxisLabelClick){var e=Object.assign({},a,{labelIndex:n});a.config.chart.events.xAxisLabelClick(t,s.ctx,e)}}));var f=document.createElementNS(a.globals.SVGNS,"title");if(f.textContent=Array.isArray(r)?r.join(" "):r,m.node.appendChild(f),0!==a.config.yaxis[t].labels.rotate){var g=o.rotateAroundCenter(m.node);m.node.setAttribute("transform","rotate(".concat(a.config.yaxis[t].labels.rotate," 0 ").concat(g.y,")"))}i+=e},m=0;m<=c.length-1;m++)p(m);if(void 0!==a.config.yaxis[0].title.text){var f=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+n+", 0)"}),g=o.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});f.add(g),r.add(f)}var v=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(v=a.globals.gridWidth);var y=a.config.xaxis.axisBorder;if(y.show){var b=o.drawLine(a.globals.padHorizontal+y.offsetX+v,1+y.offsetY,a.globals.padHorizontal+y.offsetX+v,a.globals.gridHeight+y.offsetY,y.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(b):r.add(b)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,e,r),r}},{key:"drawXaxisTicks",value:function(t,e,i){var s=this.w,a=t;if(!(t<0||t-2>s.globals.gridWidth)){var o=this.offY+s.config.xaxis.axisTicks.offsetY;if(e=e+o+s.config.xaxis.axisTicks.height,"top"===s.config.xaxis.position&&(e=o-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var n=new C(this.ctx).drawLine(t+s.config.xaxis.axisTicks.offsetX,o+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,e+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(n),n.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,s=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)s=this.xaxisLabels[a].position,e.push(s);else for(var o=i,n=0;n<o;n++){var r=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(r-=1),s+=t.globals.gridWidth/r,e.push(s)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new C(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var n=0;n<s.length;n++){var r=e.rotateAroundCenter(s[n]);r.y=r.y-1,r.x=r.x+1,s[n].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(r.x," ").concat(r.y,")")),s[n].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var l=s[n].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(i){e.placeTextWithEllipsis(i,i.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var i=t.globals.gridWidth/(t.globals.labels.length+1),a=0;a<s.length;a++){var o=s[a].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(o,(function(t){e.placeTextWithEllipsis(t,t.textContent,i)}))}}();if(a.length>0){var c=a[a.length-1].getBBox(),h=a[0].getBBox();c.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),h.x+h.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var d=0;d<o.length;d++)e.placeTextWithEllipsis(o[d],o[d].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),U=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new X(e),this.isRangeBar=i.globals.seriesRange.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return c(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new C(this.ctx);null===t&&(t=i.group({class:"apexcharts-grid"}));var s=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),a=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(a),t.add(s),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new C(this.ctx),s=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var a=0;t.config.stroke.width.forEach((function(t){a=Math.max(a,t)})),s=a}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elForecastMask.setAttribute("id","forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(e.cuid));var o=t.config.chart.type,n=0,r=0;("bar"===o||"rangeBar"===o||"candlestick"===o||"boxPlot"===o||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(n=t.config.grid.padding.left,r=t.config.grid.padding.right,e.barPadForNumericAxis>n&&(n=e.barPadForNumericAxis,r=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-s/2-n-2,-s/2,e.gridWidth+s+r+n+4,e.gridHeight+s,0,"#fff");var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elForecastMask),c.appendChild(e.dom.elNonForecastMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,n=t.xCount,r=t.parent,l=this.w;if(!(0===e&&l.globals.skipFirstTimelinelabel||e===n-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:s,x2:a,y2:o,xCount:n,parent:r});var c=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var h=l.globals.groups;if(h){for(var d=0,u=0;d<e&&u<h.length;u++)d+=h[u].cols;d===e&&(c=.6*l.globals.xAxisLabelsHeight)}}new G(this.ctx).drawXaxisTicks(i,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,n=t.xCount,r=t.parent,l=this.w,c=!1,h=r.node.classList.contains("apexcharts-gridlines-horizontal"),d=l.config.grid.strokeDashArray,u=l.globals.barPadForNumericAxis;(0===s&&0===o||0===i&&0===a)&&(c=!0),s===l.globals.gridHeight&&o===l.globals.gridHeight&&(c=!0),!l.globals.isBarHorizontal||0!==e&&e!==n-1||(c=!0);var p=new C(this).drawLine(i-(h?u:0),s,a+(h?u:0),o,l.config.grid.borderColor,d);p.node.classList.add("apexcharts-gridline"),c?this.elGridBorders.add(p):r.add(p)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,s=t.y1,a=t.x2,o=t.y2,n=t.type,r=this.w,l=new C(this.ctx),c=r.globals.barPadForNumericAxis;if("column"!==n||"datetime"!==r.config.xaxis.type){var h=r.config.grid[n].colors[e],d=l.drawRect(i-("row"===n?c:0),s,a+("row"===n?2*c:0),o,0,h,r.config.grid[n].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(n))}}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,s=t.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var o,n=a.globals.padHorizontal,r=a.globals.gridHeight;a.globals.timescaleLabels.length?function(t){for(var s=t.xC,a=t.x1,o=t.y1,n=t.x2,r=t.y2,l=0;l<s;l++)a=e.xaxisLabels[l].position,n=e.xaxisLabels[l].position,e._drawGridLines({i:l,x1:a,y1:o,x2:n,y2:r,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:n,y1:0,x2:o,y2:r}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),a.config.xaxis.convertedCatToNumeric&&(i=a.globals.xaxisLabelsCount),function(t){var s=t.xC,o=t.x1,n=t.y1,r=t.x2,l=t.y2;if(void 0!==a.config.xaxis.tickAmount&&"dataPoints"!==a.config.xaxis.tickAmount&&"on"===a.config.xaxis.tickPlacement)a.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(t,s){var a=t.getBBox();e._drawGridLines({i:s,x1:a.x+a.width/2,y1:n,x2:a.x+a.width/2,y2:l,xCount:i,parent:e.elgridLinesV})}));else for(var c=0;c<s+(a.globals.isXNumeric?0:1);c++)0===c&&1===s&&1===a.globals.dataPoints&&(r=o=a.globals.gridWidth/2),e._drawGridLines({i:c,x1:o,y1:n,x2:r,y2:l,xCount:i,parent:e.elgridLinesV}),r=o+=a.globals.gridWidth/(a.globals.isXNumeric?s-1:s)}({xC:i,x1:n,y1:0,x2:o,y2:r}))}if(a.config.grid.yaxis.lines.show){var l=0,c=0,h=a.globals.gridWidth,d=s+1;this.isRangeBar&&(d=a.globals.labels.length);for(var u=0;u<d+(this.isRangeBar?1:0);u++)this._drawGridLine({i:u,xCount:d+(this.isRangeBar?1:0),x1:0,y1:l,x2:h,y2:c,parent:this.elgridLinesH}),c=l+=a.globals.gridHeight/(this.isRangeBar?d:s)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,a=i.globals.padHorizontal,o=i.globals.gridHeight,n=0;n<e+1;n++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,xCount:e+1,x1:a,y1:0,x2:s,y2:o,parent:this.elgridLinesV}),new G(this.ctx).drawXaxisTicks(a,0,i.globals.dom.elGraphical),s=a=a+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var r=0,l=0,c=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:i.globals.dataPoints+1,x1:0,y1:r,x2:c,y2:l,parent:this.elgridLinesH}),l=r+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new C(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=e.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i,s=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,a=0;a<t.globals.series.length&&(void 0!==t.globals.yAxisScale[a]&&(s=t.globals.yAxisScale[a].result.length-1),!(s>2));a++);return!t.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(s=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:s})):(i=s,s=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:s})),this.drawGridBands(i,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var s=0,a=i.globals.gridHeight/e,o=i.globals.gridWidth,n=0,r=0;n<e;n++,r++)r>=i.config.grid.row.colors.length&&(r=0),this._drawGridBandRect({c:r,x1:0,y1:s,x2:o,y2:a,type:"row"}),s+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,h=i.globals.padHorizontal+i.globals.gridWidth/l,d=i.globals.gridHeight,u=0,p=0;u<t;u++,p++)p>=i.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:c,y1:0,x2:h,y2:d,type:"column"}),c+=i.globals.gridWidth/l}}]),t}(),J=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"niceScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=this.w,n=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,s,n))&&(i=o.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!x.isNumber(t)&&!x.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){t=0,e=i;var r=this.linearScale(t,e,i);return r}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[];n<1&&a&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[s].type||"boxPlot"===o.config.chart.type||"boxPlot"===o.config.series[s].type||o.globals.isRangeData)&&(e*=1.01);var c=i+1;c<2?c=2:c>2&&(c-=2);var h=n/c,d=Math.floor(x.log10(h)),u=Math.pow(10,d),p=Math.round(h/u);p<1&&(p=1);var m=p*u,f=m*Math.floor(t/m),g=m*Math.ceil(e/m),v=f;if(a&&n>2){for(;l.push(v),!((v+=m)>g););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var y=t;(l=[]).push(y);for(var b=Math.abs(e-t)/i,w=0;w<=i;w++)y+=b,l.push(y);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3?arguments[3]:void 0,a=Math.abs(e-t);"dataPoints"===(i=this._adjustTicksForSmallRange(i,s,a))&&(i=this.w.globals.dataPoints-1);var o=a/i;i===Number.MAX_VALUE&&(i=10,o=1);for(var n=[],r=t;i>=0;)n.push(r),r+=o,i-=1;return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<a;o++)s.push(Math.pow(i,o));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),n=a-o,r=Math.round(n),l=n/r,c=0,h=o;c<r;c++,h+=l)s.push(Math.pow(i,h));return s.push(Math.pow(i,a)),{result:s,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var s=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var a=this.w.config.yaxis[e].labels.formatter(1);x.isNumber(Number(a))&&!x.isFloat(a)&&(s=Math.ceil(i))}return s<t?s:t}},{key:"setYScaleForIndex",value:function(t,e,i){var s=this.w.globals,a=this.w.config,o=s.isBarHorizontal?a.xaxis:a.yaxis[t];void 0===s.yAxisScale[t]&&(s.yAxisScale[t]=[]);var n=Math.abs(i-e);if(o.logarithmic&&n<=5&&(s.invalidLogScale=!0),o.logarithmic&&n>5)s.allSeriesCollapsed=!1,s.yAxisScale[t]=this.logarithmicScale(e,i,o.logBase),s.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase);else if(i!==-Number.MAX_VALUE&&x.isNumber(i))if(s.allSeriesCollapsed=!1,void 0===o.min&&void 0===o.max||o.forceNiceScale){var r=void 0===a.yaxis[t].max&&void 0===a.yaxis[t].min||a.yaxis[t].forceNiceScale;s.yAxisScale[t]=this.niceScale(e,i,o.tickAmount?o.tickAmount:n<5&&n>1?n+1:5,t,r)}else s.yAxisScale[t]=this.linearScale(e,i,o.tickAmount,t);else s.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,s=i.globals,a=i.config.xaxis,o=Math.abs(e-t);return e!==-Number.MAX_VALUE&&x.isNumber(e)?s.xAxisScale=this.linearScale(t,e,a.tickAmount?a.tickAmount:o<5&&o>1?o+1:5,0):s.xAxisScale=this.linearScale(0,5,5),s.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,i=this.w.config,s=e.minYArr.concat([]),a=e.maxYArr.concat([]),o=[];i.yaxis.forEach((function(e,n){var r=n;i.series.forEach((function(t,i){t.name===e.seriesName&&(r=i,n!==i?o.push({index:i,similarIndex:n,alreadyExists:!0}):o.push({index:i}))}));var l=s[r],c=a[r];t.setYScaleForIndex(n,l,c)})),this.sameScaleInMultipleAxes(s,a,o)}},{key:"sameScaleInMultipleAxes",value:function(t,e,i){var s=this,a=this.w.config,o=this.w.globals,n=[];i.forEach((function(t){t.alreadyExists&&(void 0===n[t.index]&&(n[t.index]=[]),n[t.index].push(t.index),n[t.index].push(t.similarIndex))})),o.yAxisSameScaleIndices=n,n.forEach((function(t,e){n.forEach((function(i,s){var a,o;e!==s&&(a=t,o=i,a.filter((function(t){return-1!==o.indexOf(t)}))).length>0&&(n[e]=n[e].concat(n[s]))}))}));var r=n.map((function(t){return t.filter((function(e,i){return t.indexOf(e)===i}))})).map((function(t){return t.sort()}));n=n.filter((function(t){return!!t}));var l=r.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var h=[],d=[];t.forEach((function(t,i){l.forEach((function(s,a){s.indexOf(i)>-1&&(void 0===h[a]&&(h[a]=[],d[a]=[]),h[a].push({key:i,value:t}),d[a].push({key:i,value:e[i]}))}))}));var u=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);h.forEach((function(t,e){t.forEach((function(t,i){u[e]=Math.min(t.value,u[e])}))})),d.forEach((function(t,e){t.forEach((function(t,i){p[e]=Math.max(t.value,p[e])}))})),t.forEach((function(t,e){d.forEach((function(t,i){var n=u[i],r=p[i];a.chart.stacked&&(r=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(r+=t.value),n!==Number.MIN_VALUE&&(n+=h[i][e].value)}))),t.forEach((function(i,l){t[l].key===e&&(void 0!==a.yaxis[e].min&&(n="function"==typeof a.yaxis[e].min?a.yaxis[e].min(o.minY):a.yaxis[e].min),void 0!==a.yaxis[e].max&&(r="function"==typeof a.yaxis[e].max?a.yaxis[e].max(o.maxY):a.yaxis[e].max),s.setYScaleForIndex(e,n,r))}))}))}))}},{key:"autoScaleY",value:function(t,e,i){t||(t=this);var s=t.w;if(s.globals.isMultipleYAxis||s.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var a=s.globals.seriesX[0],o=s.config.chart.stacked;return e.forEach((function(t,n){for(var r=0,l=0;l<a.length;l++)if(a[l]>=i.xaxis.min){r=l;break}var c,h,d=s.globals.minYArr[n],u=s.globals.maxYArr[n],p=s.globals.stackedSeriesTotals;s.globals.series.forEach((function(n,l){var m=n[r];o?(m=p[r],c=h=m,p.forEach((function(t,e){a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min&&(t>h&&null!==t&&(h=t),n[e]<c&&null!==n[e]&&(c=n[e]))}))):(c=h=m,n.forEach((function(t,e){if(a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min){var o=t,n=t;s.globals.series.forEach((function(i,s){null!==t&&(o=Math.min(i[e],o),n=Math.max(i[e],n))})),n>h&&null!==n&&(h=n),o<c&&null!==o&&(c=o)}}))),void 0===c&&void 0===h&&(c=d,h=u),h*=h<0?.9:1.1,0===(c*=c<0?1.1:.9)&&0===h&&(c=-1,h=1),h<0&&h<u&&(h=u),c<0&&c>d&&(c=d),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?h:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?h:t.max)}))})),e}}]),t}(),K=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.scales=new J(e)}return c(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,o=this.w.globals,n=-Number.MAX_VALUE,r=Number.MIN_VALUE;null===s&&(s=t+1);var l=o.series,c=l,h=l;"candlestick"===a.chart.type?(c=o.seriesCandleL,h=o.seriesCandleH):"boxPlot"===a.chart.type?(c=o.seriesCandleO,h=o.seriesCandleC):o.isRangeData&&(c=o.seriesRangeStart,h=o.seriesRangeEnd);for(var d=t;d<s;d++){o.dataPoints=Math.max(o.dataPoints,l[d].length),o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(t){return void 0!==t})).length);for(var u=0;u<o.series[d].length;u++){var p=l[d][u];null!==p&&x.isNumber(p)?(void 0!==h[d][u]&&(n=Math.max(n,h[d][u]),e=Math.min(e,h[d][u])),void 0!==c[d][u]&&(e=Math.min(e,c[d][u]),i=Math.max(i,c[d][u])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==o.seriesCandleC[d][u]&&(n=Math.max(n,o.seriesCandleO[d][u]),n=Math.max(n,o.seriesCandleH[d][u]),n=Math.max(n,o.seriesCandleL[d][u]),n=Math.max(n,o.seriesCandleC[d][u]),"boxPlot"===this.w.config.chart.type&&(n=Math.max(n,o.seriesCandleM[d][u]))),!a.series[d].type||"candlestick"===a.series[d].type&&"boxPlot"===a.series[d].type&&"rangeArea"===a.series[d].type&&"rangeBar"===a.series[d].type||(n=Math.max(n,o.series[d][u]),e=Math.min(e,o.series[d][u])),i=n),o.seriesGoals[d]&&o.seriesGoals[d][u]&&Array.isArray(o.seriesGoals[d][u])&&o.seriesGoals[d][u].forEach((function(t){r!==Number.MIN_VALUE&&(r=Math.min(r,t.value),e=r),n=Math.max(n,t.value),i=n})),x.isFloat(p)&&(p=x.noExponents(p),o.yValueDecimal=Math.max(o.yValueDecimal,p.toString().split(".")[1].length)),r>c[d][u]&&c[d][u]<0&&(r=c[d][u])):o.hasNullValues=!0}}return"rangeBar"===a.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(r=e),"bar"===a.chart.type&&(r<0&&n<0&&(n=0),r===Number.MIN_VALUE&&(r=0)),{minY:r,maxY:n,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var s=0;s<t.series.length;s++){var a=this.getMinYMaxY(s,i,null,s+1);t.minYArr.push(a.minY),t.maxYArr.push(a.maxY),i=a.lowestY}var o=this.getMinYMaxY(0,i,null,t.series.length);if(t.minY=o.minY,t.maxY=o.maxY,i=o.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==t.maxY){var n=t.maxY-i;(i>=0&&i<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(n=0),t.minY=i-5*n/100,i>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*n/100}return e.yaxis.forEach((function(e,i){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[i]=e.max:"function"==typeof e.max&&(t.maxYArr[i]=e.max(t.isMultipleYAxis?t.maxYArr[i]:t.maxY)),t.maxY=t.maxYArr[i]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[i]=e.min:"function"==typeof e.min&&(t.minYArr[i]=e.min(t.isMultipleYAxis?t.minYArr[i]===Number.MIN_VALUE?0:t.minYArr[i]:t.minY)),t.minY=t.minYArr[i])})),t.isBarHorizontal&&["min","max"].forEach((function(i){void 0!==e.xaxis[i]&&"number"==typeof e.xaxis[i]&&("min"===i?t.minY=e.xaxis[i]:t.maxY=e.xaxis[i])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=i,t.yAxisScale.forEach((function(e,i){t.minYArr[i]=e.niceMin,t.maxYArr[i]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var i=0;i<t.labels[e].length;i++)null!==t.labels[e][i]&&x.isNumber(t.labels[e][i])&&(t.maxX=Math.max(t.maxX,t.labels[e][i]),t.initialMaxX=Math.max(t.maxX,t.labels[e][i]),t.minX=Math.min(t.minX,t.labels[e][i]),t.initialMinX=Math.min(t.minX,t.labels[e][i]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var s;if(void 0===e.xaxis.tickAmount?(s=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(s=t.dataPoints-1),s>t.dataPoints&&0!==t.dataPoints&&(s=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(s=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(s=t.maxX-t.minX-1)):s=e.xaxis.tickAmount,t.xTickAmount=s,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var a=[],o=t.minX-1;o<t.maxX;o++)a.push(o+1);t.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,s,s),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,s-1),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&x.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new D(this.ctx);if("datetime"===e.xaxis.type){var s=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),t.minX=new Date(s).getTime();var a=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),t.maxX=new Date(a).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var s=e.slice();s.sort((function(t,e){return t-e})),s.forEach((function(e,i){if(i>0){var a=e-s[i-1];a>0&&(t.minXDiff=Math.min(a,t.minXDiff))}})),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++)for(var a=0,o=0,n=0;n<t.series.length;n++)null!==t.series[n][s]&&x.isNumber(t.series[n][s])&&(t.series[n][s]>0?a=a+parseFloat(t.series[n][s])+1e-4:o+=parseFloat(t.series[n][s])),n===t.series.length-1&&(e.push(a),i.push(o));for(var r=0;r<e.length;r++)t.maxY=Math.max(t.maxY,e[r]),t.minY=Math.min(t.minY,i[r])}}]),t}(),Z=function(){function t(e,i){r(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===s.config.xaxis.position&&(this.xAxisoffX=s.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(e)}return c(t,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,s=new C(this.ctx),a=i.config.yaxis[t].labels.style,o=a.fontSize,n=a.fontFamily,r=a.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return l;var c=s.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var h=i.globals.yAxisScale[t].result.length-1,d=i.globals.gridHeight/h,u=i.globals.translateY,p=i.globals.yLabelFormatters[t],m=i.globals.yAxisScale[t].result.slice();m=this.axesUtils.checkForReversedLabels(t,m);var f="";if(i.config.yaxis[t].labels.show)for(var g=function(l){var g=m[l];g=p(g,l,i);var v=i.config.yaxis[t].labels.padding;i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(v*=-1);var y=e.axesUtils.getYAxisForeColor(a.colors,t),b=s.drawText({x:v,y:u+h/10+i.config.yaxis[t].labels.offsetY+1,text:g,textAnchor:i.config.yaxis[t].opposite?"start":"end",fontSize:o,fontFamily:n,fontWeight:r,maxWidth:i.config.yaxis[t].labels.maxWidth,foreColor:Array.isArray(y)?y[l]:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});l===h&&(f=b),c.add(b);var x=document.createElementNS(i.globals.SVGNS,"title");if(x.textContent=Array.isArray(g)?g.join(" "):g,b.node.appendChild(x),0!==i.config.yaxis[t].labels.rotate){var w=s.rotateAroundCenter(f.node),k=s.rotateAroundCenter(b.node);b.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(w.x," ").concat(k.y,")"))}u+=d},v=h;v>=0;v--)g(v);if(void 0!==i.config.yaxis[t].title.text){var y=s.group({class:"apexcharts-yaxis-title"}),b=0;i.config.yaxis[t].opposite&&(b=i.globals.translateYAxisX[t]);var x=s.drawText({x:b,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass});y.add(x),l.add(y)}var w=i.config.yaxis[t].axisBorder,k=31+w.offsetX;if(i.config.yaxis[t].opposite&&(k=-31-w.offsetX),w.show){var S=s.drawLine(k,i.globals.translateY+w.offsetY-2,k,i.globals.gridHeight+i.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(S)}return i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,h,w,i.config.yaxis[t].axisTicks,t,d,l),l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);var o=e.globals.yAxisScale[t].result.length-1,n=e.globals.gridWidth/o+.1,r=n+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),h=e.globals.timescaleLabels;h.length>0&&(this.xaxisLabels=h.slice(),o=(c=h.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var d=h.length;if(e.config.xaxis.labels.show)for(var u=d?0:o;d?u<d:u>=0;d?u++:u--){var p=c[u];p=l(p,u,e);var m=e.globals.gridWidth+e.globals.padHorizontal-(r-n+e.config.xaxis.labels.offsetX);if(h.length){var f=this.axesUtils.getLabel(c,h,m,u,this.drawnLabels,this.xaxisFontSize);m=f.x,p=f.text,this.drawnLabels.push(f.text),0===u&&e.globals.skipFirstTimelinelabel&&(p=""),u===c.length-1&&e.globals.skipLastTimelinelabel&&(p="")}var g=i.drawText({x:m,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});a.add(g),g.tspan(p);var v=document.createElementNS(e.globals.SVGNS,"title");v.textContent=p,g.node.appendChild(v),r+=n}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new C(this.ctx),s=e.config.xaxis.axisBorder;if(s.show){var a=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(a-=15);var o=i.drawLine(e.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(o):t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new C(this.ctx);if(void 0!==e.config.xaxis.title.text){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});s.add(a),t.add(s)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,s=new C(this.ctx),a={width:0,height:0},o={width:0,height:0},n=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==n&&(a=n.getBoundingClientRect());var r=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==r&&(o=r.getBoundingClientRect()),null!==r){var l=this.xPaddingForYAxisTitle(t,a,o,e);r.setAttribute("x",l.xPos-(e?10:0))}if(null!==r){var c=s.rotateAroundCenter(r);r.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,s){var a=this.w,o=0,n=0,r=10;return void 0===a.config.yaxis[t].title.text||t<0?{xPos:n,padd:0}:(s?(n=e.width+a.config.yaxis[t].title.offsetX+i.width/2+r/2,0===(o+=1)&&(n-=r/2)):(n=-1*e.width+a.config.yaxis[t].title.offsetX+r/2+i.width/2,a.globals.isBarHorizontal&&(r=25,n=-1*e.width-a.config.yaxis[t].title.offsetX-r)),{xPos:n,padd:r})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,s=0,a=0,o=18,n=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map((function(r,l){var c=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!r.show||r.floating||0===t[l].width,h=t[l].width+e[l].width;r.opposite?i.globals.isBarHorizontal?(a=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[l]=a-r.labels.offsetX):(a=i.globals.gridWidth+i.globals.translateX+n,c||(n=n+h+20),i.globals.translateYAxisX[l]=a-r.labels.offsetX+20):(s=i.globals.translateX-o,c||(o=o+h+20),i.globals.translateYAxisX[l]=s+r.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=x.listToArray(e)).forEach((function(e,i){var s=t.config.yaxis[i];if(s&&void 0!==s.labels.align){var a=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"));o=x.listToArray(o);var n=a.getBoundingClientRect();"left"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","start")})),s.opposite||a.setAttribute("transform","translate(-".concat(n.width,", 0)"))):"center"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),a.setAttribute("transform","translate(".concat(n.width/2*(s.opposite?1:-1),", 0)"))):"right"===s.labels.align&&(o.forEach((function(t,e){t.setAttribute("text-anchor","end")})),s.opposite&&a.setAttribute("transform","translate(".concat(n.width,", 0)")))}}))}}]),t}(),Q=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.documentEvent=x.bind(this.documentEvent,this)}return c(t,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var s=i.globals.events[t].indexOf(e);-1!==s&&i.globals.events[t].splice(s,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var s=i.globals.events[t],a=s.length,o=0;o<a;o++)s[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,s=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){s.addEventListener(t,(function(t){var s=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,i,s):"mouseleave"===t.type||"touchleave"===t.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(t,i,s):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,i,s),i.ctx.events.fireEvent("click",[t,i,s]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){e.globals.dom.baseEl.addEventListener(i,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var s=e.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&s.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),tt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(e){return e.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=x.extend(M,i);this.w.globals.locale=s.options}}]),t}(),et=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawAxis",value:function(t,e){var i,s,a=this.w.globals,o=this.w.config,n=new G(this.ctx,e),r=new Z(this.ctx,e);a.axisCharts&&"radar"!==t&&(a.isBarHorizontal?(s=r.drawYaxisInversed(0),i=n.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(s)):(i=n.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map((function(t,e){-1===a.ignoreYAxisIndexes.indexOf(e)&&(s=r.drawYaxis(e),a.dom.Paper.add(s))}))))}}]),t}(),it=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new C(this.ctx),i=new k(this.ctx),s=t.config.xaxis.crosshairs.fill.gradient,a=t.config.xaxis.crosshairs.dropShadow,o=t.config.xaxis.crosshairs.fill.type,n=s.colorFrom,r=s.colorTo,l=s.opacityFrom,c=s.opacityTo,h=s.stops,d=a.enabled,u=a.left,p=a.top,m=a.blur,f=a.color,g=a.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===o&&(v=e.drawGradient("vertical",n,r,l,c,null,h,null));var y=e.drawRect();1===t.config.xaxis.crosshairs.width&&(y=e.drawLine());var b=t.globals.gridHeight;(!x.isNumber(b)||b<0)&&(b=0);var w=t.config.xaxis.crosshairs.width;(!x.isNumber(w)||w<0)&&(w=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:b,width:w,height:b,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),d&&(y=i.dropShadow(y,{left:u,top:p,blur:m,color:f,opacity:g})),t.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new C(this.ctx),i=t.config.yaxis[0].crosshairs,s=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var a=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(a)}var o=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),t}(),st=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,s=i.config;if(0!==s.responsive.length){var a=s.responsive.slice();a.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var o=new B({}),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a[0].breakpoint,n=window.innerWidth>0?window.innerWidth:screen.width;if(n>s){var r=S.extendArrayProps(o,i.globals.initialConfig,i);t=x.extend(r,t),t=x.extend(i.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<a.length;l++)n<a[l].breakpoint&&(t=S.extendArrayProps(o,a[l].options,i),t=x.extend(i.config,t),e.overrideResponsiveOptions(t))};if(t){var r=S.extendArrayProps(o,t,i);r=x.extend(i.config,r),n(r=x.extend(r,t))}else n({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new B(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),at=function(){function t(e){r(this,t),this.ctx=e,this.colors=[],this.w=e.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===i.config.chart.type&&i.config.plotOptions.treemap.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)}return c(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,i=new x;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(i,s){var a=e.config.colors[s];return a||(a=e.config.colors[0]),"function"==typeof a?(t.isColorFn=!0,a({value:e.globals.axisCharts?e.globals.series[s][0]?e.globals.series[s][0]:0:e.globals.series[s],seriesIndex:s,dataPointIndex:s,w:e})):a})))),e.globals.seriesColors.map((function(t,i){t&&(e.globals.colors[i]=t)})),e.config.theme.monochrome.enabled){var s=[],a=e.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=e.globals.series[0].length*e.globals.series.length);for(var o=e.config.theme.monochrome.color,n=1/(a/e.config.theme.monochrome.shadeIntensity),r=e.config.theme.monochrome.shadeTo,l=0,c=0;c<a;c++){var h=void 0;"dark"===r?(h=i.shadeColor(-1*l,o),l+=n):(h=i.shadeColor(l,o),l+=n),s.push(h)}e.globals.colors=s.slice()}var d=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(i){void 0===e.config[i].colors?e.globals[i].colors=t.isColorFn?e.config.colors:d:e.globals[i].colors=e.config[i].colors.slice(),t.pushExtraColors(e.globals[i].colors)})),void 0===e.config.dataLabels.style.colors?e.globals.dataLabels.style.colors=d:e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),void 0===e.config.plotOptions.radar.polygons.fill.colors?e.globals.radarPolygons.fill.colors=["dark"===e.config.theme.mode?"#424242":"none"]:e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),void 0===e.config.markers.colors?e.globals.markers.colors=d:e.globals.markers.colors=e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=e||s.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),t.length<a)for(var o=a-t.length,n=0;n<o;n++)t.push(t[n])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",s=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=s,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),t}(),ot=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,s=e.globals.svgWidth/2,a=i.offsetY,o="middle";if("left"===i.align?(s=10,o="start"):"right"===i.align&&(s=e.globals.svgWidth-10,o="end"),s+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var n=new C(this.ctx).drawText({x:s,y:a,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});n.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(n)}}}]),t}(),nt=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,s=0,a="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!a){var n=o.getBoundingClientRect();i=n.width,s=e.globals.axisCharts?n.height+5:n.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},x.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var s=e.map((function(t,e){return Array.isArray(t)?t.length:1})),a=Math.max.apply(Math,v(s));i=e[s.indexOf(a)]}return i}}]),t}(),rt=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();t={width:s.width,height:s.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var a=e.globals.xLabelFormatter,o=x.getLargestStringFromArr(i),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);e.globals.isBarHorizontal&&(n=o=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var r=new q(this.dCtx.ctx),l=o;o=r.xLabelFormat(a,o,l,{i:void 0,dateFormatter:new D(this.dCtx.ctx).formatDate,w:e}),n=r.xLabelFormat(a,n,l,{i:void 0,dateFormatter:new D(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(n=o="1");var c=new C(this.dCtx.ctx),h=c.getTextRects(o,e.config.xaxis.labels.style.fontSize),d=h;if(o!==n&&(d=c.getTextRects(n,e.config.xaxis.labels.style.fontSize)),(t={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var u=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};h=u(o),o!==n&&(d=u(n)),t.height=(h.height>d.height?h.height:d.height)/1.5,t.width=h.width>d.width?h.width:d.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasGroups)return{width:0,height:0};var i,s=(null===(t=e.config.xaxis.group.style)||void 0===t?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,a=e.globals.groups.map((function(t){return t.title})),o=x.getLargestStringFromArr(a),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,a),r=new C(this.dCtx.ctx),l=r.getTextRects(o,s),c=l;return o!==n&&(c=r.getTextRects(n,s)),i={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var s=new C(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=s.width,i=s.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(t){return t.value})),s=i.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new C(this.dCtx.ctx).getTextRects(s,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,s=i.globals,a=i.config,o=a.xaxis.type,n=t.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var r=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,l=function(t,r){(function(t){return-1!==s.collapsedSeriesIndices.indexOf(t)})(r)||function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var r=e.dCtx.timescaleLabels[0],l=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+n/1.75-e.dCtx.yAxisWidthRight,c=r.position-n/1.75+e.dCtx.yAxisWidthLeft,h="right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;l>s.svgWidth-s.translateX-h&&(s.skipLastTimelinelabel=!0),c<-(t.show&&!t.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:n/1.75)&&(s.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<n&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<n/2-e.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(e.dCtx.xPadRight=n/2+1)}(t)};a.yaxis.forEach((function(t,i){r?(e.dCtx.gridPad.left<n&&(e.dCtx.xPadLeft=n/2+1),e.dCtx.xPadRight=n/2+1):l(t,i)}))}}]),t}(),lt=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],s=10,a=new X(this.dCtx.ctx);return e.config.yaxis.map((function(o,n){var r=e.globals.yAxisScale[n],l=0;if(!a.isYAxisHidden(n)&&o.labels.show&&void 0!==o.labels.minWidth&&(l=o.labels.minWidth),!a.isYAxisHidden(n)&&o.labels.show&&r.result.length){var c=e.globals.yLabelFormatters[n],h=r.niceMin===Number.MIN_VALUE?0:r.niceMin,d=String(h).length>String(r.niceMax).length?h:r.niceMax,u=c(d,{seriesIndex:n,dataPointIndex:-1,w:e}),p=u;if(void 0!==u&&0!==u.length||(u=d),e.globals.isBarHorizontal){s=0;var m=e.globals.labels.slice();u=c(u=x.getLargestStringFromArr(m),{seriesIndex:n,dataPointIndex:-1,w:e}),p=t.dCtx.dimHelpers.getLargestStringFromMultiArr(u,m)}var f=new C(t.dCtx.ctx),g="rotate(".concat(o.labels.rotate," 0 0)"),v=f.getTextRects(u,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1),y=v;u!==p&&(y=f.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1)),i.push({width:(l>y.width||l>v.width?l:y.width>v.width?y.width:v.width)+s,height:y.height>v.height?y.height:v.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(e,s){if(e.show&&void 0!==e.title.text){var a=new C(t.dCtx.ctx),o="rotate(".concat(e.title.rotate," 0 0)"),n=a.getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,o,!1);i.push({width:n.width,height:n.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,s=0,a=t.globals.yAxisScale.length>1?10:0,o=new X(this.dCtx.ctx),n=function(n,r){var l=t.config.yaxis[r].floating,c=0;n.width>0&&!l?(c=n.width+a,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(r)&&(c=c-n.width-a)):c=l||o.isYAxisHidden(r)?0:5,t.config.yaxis[r].opposite?s+=c:i+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){n(t,e)})),t.globals.yTitleCoords.map((function(t,e){n(t,e)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,e}}]),t}(),ct=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=function(t){return"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t},s=e.config.chart.type,a=0,o=i(s)?e.config.series.length:1;if(e.globals.comboBarCount>0&&(o=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){i(t.type)&&(o-=1)})),e.config.chart.stacked&&(o=1),(i(s)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&o>0){var n,r,l=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);l<=3&&(l=e.globals.dataPoints),n=l/t,e.globals.minXDiff&&e.globals.minXDiff/n>0&&(r=e.globals.minXDiff/n),r>t/2&&(r/=2),(a=r/o*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),a=a/(o>1?1:1.5)+5,e.globals.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,s=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(i){void 0!==e.config[i].text?s+=e.config[i].margin:s+=t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||e.globals.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-a.height-o.height-s,i.translateY=i.translateY+a.height+o.height+s}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,s=new X(this.dCtx.ctx);i.config.yaxis.map((function(a,o){-1!==i.globals.ignoreYAxisIndexes.indexOf(o)||a.floating||s.isYAxisHidden(o)||(a.opposite&&(i.globals.translateX=i.globals.translateX-(e[o].width+t[o].width)-parseInt(i.config.yaxis[o].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),t}(),ht=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new nt(this),this.dimYAxis=new lt(this),this.dimXAxis=new rt(this),this.dimGrid=new ct(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(t,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(e){var i=g(e,2),s=i[0],a=i[1];t.gridPad[s]=Math.max(a,t.w.globals.markers.largestSize/1.5)})),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s+4:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,i){e.globals.yLabelsCoords.push({width:s[i].width,index:i}),e.globals.yTitleCoords.push({width:a[i].width,index:i})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),n=this.dimXAxis.getxAxisGroupLabelsCoords(),r=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,r,n),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-r.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var h=10;("radar"===e.config.chart.type||this.isSparkline)&&(l=0,c=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(l=0,c=0,h=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(o);var d=function(){i.translateX=l,i.gridHeight=i.svgHeight-t.lgRect.height-c-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-l};switch("top"===e.config.xaxis.position&&(h=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=h,d();break;case"top":i.translateY=this.lgRect.height+h,d();break;case"left":i.translateY=h,i.translateX=this.lgRect.width+l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l;break;case"right":i.translateY=h,i.translateX=l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new Z(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,s=0;t.config.legend.show&&!t.config.legend.floating&&(s=20);var a="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",o=i.plotOptions[a].offsetY,n=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=o,void(e.translateX=n+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=o-10,e.translateX=n+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+o+10,e.translateX=n+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-s,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=n+this.lgRect.width+s;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-s-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=n+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var s=this.w,a=s.globals.hasGroups?2:1,o=i.height+t.height+e.height,n=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,r=s.globals.rotateXLabels?22:10,l=s.globals.rotateXLabels&&"bottom"===s.config.legend.position?10:0;this.xAxisHeight=o*n+a*r+l,this.xAxisWidth=t.width,this.xAxisHeight-e.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,h=0;s.config.yaxis.forEach((function(t){c+=t.labels.minWidth,h+=t.labels.maxWidth})),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),t}(),dt=function(){function t(e){r(this,t),this.w=e.w,this.lgCtx=e}return c(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,s=this.w;if(s.globals.axisCharts||"radialBar"===s.config.chart.type){s.globals.resized=!0;var a=null,o=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(a.getAttribute("rel"),10)-1),e?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){i.riseCollapsedSeries(t.cs,t.csi,o)})):this.hideSeries({seriesEl:a,realIndex:o})}else{var n=s.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),r=s.config.chart.type;if("pie"===r||"polarArea"===r||"donut"===r){var l=s.config.plotOptions.pie.donut.labels;new C(this.lgCtx.ctx).pathMouseDown(n.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(n.members[0].node,l)}n.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,s=this.w,a=x.clone(s.config.series);if(s.globals.axisCharts){var o=!1;if(s.config.yaxis[i]&&s.config.yaxis[i].show&&s.config.yaxis[i].showAlways&&(o=!0,s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(s.globals.ancillaryCollapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.ancillaryCollapsedSeriesIndices.push(i))),!o){s.globals.collapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.collapsedSeriesIndices.push(i);var n=s.globals.risingSeries.indexOf(i);s.globals.risingSeries.splice(n,1)}}else s.globals.collapsedSeries.push({index:i,data:a[i]}),s.globals.collapsedSeriesIndices.push(i);for(var r=e.childNodes,l=0;l<r.length;l++)r[l].classList.contains("apexcharts-series-markers-wrap")&&(r[l].classList.contains("apexcharts-hide")?r[l].classList.remove("apexcharts-hide"):r[l].classList.add("apexcharts-hide"));s.globals.allSeriesCollapsed=s.globals.collapsedSeries.length===s.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var s=this.w,a=x.clone(s.config.series);if(t.length>0){for(var o=0;o<t.length;o++)t[o].index===i&&(s.globals.axisCharts?(a[i].data=t[o].data.slice(),t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)):(a[i]=t[o].data,t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w;return e.globals.axisCharts?t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s].data=[])})):t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s]=0)})),t}}]),t}(),ut=function(){function t(e,i){r(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new dt(this)}return c(t,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),x.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,s=e.globals.seriesNames,a=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var o=e.config.plotOptions.heatmap.colorScale.ranges;s=o.map((function(t){return t.name?t.name:t.from+" - "+t.to})),a=o.map((function(t){return t.color}))}else this.isBarsDistributed&&(s=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(s=e.config.legend.customLegendItems);for(var n=e.globals.legendFormatter,r=e.config.legend.inverseOrder,l=r?s.length-1:0;r?l>=0:l<=s.length-1;r?l--:l++){var c=n(s[l],{seriesIndex:l,w:e}),h=!1,d=!1;if(e.globals.collapsedSeries.length>0)for(var u=0;u<e.globals.collapsedSeries.length;u++)e.globals.collapsedSeries[u].index===l&&(h=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<e.globals.ancillaryCollapsedSeriesIndices.length;p++)e.globals.ancillaryCollapsedSeriesIndices[p]===l&&(d=!0);var m=document.createElement("span");m.classList.add("apexcharts-legend-marker");var f=e.config.legend.markers.offsetX,g=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,y=e.config.legend.markers.width,b=e.config.legend.markers.strokeWidth,w=e.config.legend.markers.strokeColor,k=e.config.legend.markers.radius,A=m.style;A.background=a[l],A.color=a[l],A.setProperty("background",a[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(A.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(A.background=e.globals.seriesColors[l],A.color=e.globals.seriesColors[l]),A.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",A.width=Array.isArray(y)?parseFloat(y[l])+"px":parseFloat(y)+"px",A.left=(Array.isArray(f)?parseFloat(f[l]):parseFloat(f))+"px",A.top=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",A.borderWidth=Array.isArray(b)?b[l]:b,A.borderColor=Array.isArray(w)?w[l]:w,A.borderRadius=Array.isArray(k)?parseFloat(k[l])+"px":parseFloat(k)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(m.innerHTML=e.config.legend.markers.customHTML[l]()):m.innerHTML=e.config.legend.markers.customHTML()),C.setAttrs(m,{rel:l+1,"data:collapsed":h||d}),(h||d)&&m.classList.add("apexcharts-inactive-legend");var T=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(c)?c.join(" "):c;var P=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;P||(P=e.config.chart.foreColor),I.style.color=P,I.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",I.style.fontWeight=e.config.legend.fontWeight,I.style.fontFamily=i||e.config.chart.fontFamily,C.setAttrs(I,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":h||d}),T.appendChild(m),T.appendChild(I);var M=new S(this.ctx);e.config.legend.showForZeroSeries||0===M.getSeriesTotalByIndex(l)&&M.seriesHaveSameValues(l)&&!M.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&T.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||M.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&T.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(T),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),T.classList.add("apexcharts-legend-series"),T.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",C.setAttrs(T,{rel:l+1,seriesName:x.escapeString(s[l]),"data:collapsed":h||d}),(h||d)&&T.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||T.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,s=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),a=s.getBoundingClientRect(),o=0,n=0;if("bottom"===i.config.legend.position)n+=i.globals.svgHeight-a.height/2;else if("top"===i.config.legend.position){var r=new ht(this.ctx),l=r.dimHelpers.getTitleSubtitleCoords("title").height,c=r.dimHelpers.getTitleSubtitleCoords("subtitle").height;n=n+(l>0?l-10:0)+(c>0?c-10:0)}s.style.position="absolute",o=o+t+i.config.legend.offsetX,n=n+e+i.config.legend.offsetY,s.style.left=o+"px",s.style.top=n+"px","bottom"===i.config.legend.position?(s.style.top="auto",s.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(t){s.style[t]&&(s.style[t]=parseInt(i.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new ht(this.ctx),s=i.dimHelpers.getTitleSubtitleCoords("title"),a=i.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===t.config.legend.position?o=-e.clwh/1.8:"top"===t.config.legend.position&&(o=s.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var s=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new W(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new W(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,s="true"===t.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&t.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),t}(),pt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return c(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=e.config.chart.toolbar.offsetY+"px",s.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var o=[],n=function(i,s,a){var n=i.toLowerCase();t.t[n]&&e.config.chart.zoom.enabled&&o.push({el:s,icon:"string"==typeof t.t[n]?t.t[n]:a,title:t.localeValues[i],class:"apexcharts-".concat(n,"-icon")})};n("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),n("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var r=function(i){t.t[i]&&e.config.chart[i].enabled&&o.push({el:"zoom"===i?t.elZoom:t.elSelection,icon:"string"==typeof t.t[i]?t.t[i]:"zoom"===i?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===i?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(i,"-icon")})};r("zoom"),r("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),n("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)o.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});o.forEach((function(t,e){t.index&&x.moveIndexInArray(o,e,t.index)}));for(var c=0;c<o.length;c++)C.setAttrs(o[c].el,{class:o[c].class,title:o[c].title}),o[c].el.innerHTML=o[c].icon,s.appendChild(o[c].el);this._createHamburgerMenu(s),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),C.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,C.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,s="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[s]=!e.w.globals[s],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,s=(this.maxX+e)/2,a=this._getNewMinXMaxX(i,s);t.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),s=this.maxX-(e-this.maxX),a=this._getNewMinXMaxX(i,s);t.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var s={min:t,max:e},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var o={xaxis:s},n=x.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(n=new J(this.ctx).autoScaleY(this.ctx,n,{xaxis:s})),i.config.chart.group||(o.yaxis=n),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,n)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new Y(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(x.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(s,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),mt=function(t){d(i,pt);var e=f(i);function i(t){var s;return r(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.dragged=!1,s.graphics=new C(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s}return c(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,s=this.w,a=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.elGraphical.add(this.zoomRect),s.globals.dom.elGraphical.add(this.selectionRect),"x"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,a.svgMouseEvents.bind(a,i),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,s=this,a=this.ctx.toolbar,o=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,n=i.config.chart.toolbar.autoSelected;if(e.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar("pan"===n?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(n),this.shiftWasPressed=!1),e.target){var r,l=e.target.classList;if(e.target.parentNode&&null!==e.target.parentNode&&(r=e.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||r&&r.contains("apexcharts-toolbar"))){if(s.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,s.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var c=s.gridRect.getBoundingClientRect();s.startX=s.clientX-c.left,s.startY=s.clientY-c.top,s.dragged=!1,s.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(s.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,s.w.globals.mousedown&&s.panDragging({context:s,zoomtype:o,xyRatios:t})):(s.w.globals.mousedown&&i.globals.zoomEnabled||s.w.globals.mousedown&&i.globals.selectionEnabled)&&(s.selection=s.selectionDrawing({context:s,zoomtype:o}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var h=s.gridRect.getBoundingClientRect();s.w.globals.mousedown&&(s.endX=s.clientX-h.left,s.endY=s.clientY-h.top,s.dragX=Math.abs(s.endX-s.startX),s.dragY=Math.abs(s.endY-s.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&s.selectionDrawn({context:s,zoomtype:o}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&s.delayedPanScrolled()),i.globals.zoomEnabled&&s.hideSelectionRect(this.selectionRect),s.dragged=!1,s.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,s={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(s),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,s=t.width,a=t.height,o=t.translateX,n=void 0===o?0:o,r=t.translateY,l=void 0===r?0:r,c=this.w,h=this.zoomRect,d=this.selectionRect;if(this.dragged||null!==c.globals.selection){var u={transform:"translate("+n+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),h.attr({x:e,y:i,width:s,height:a,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),C.setAttrs(h.node,u)),c.globals.selectionEnabled&&(d.attr({x:e,y:i,width:s>0?s:0,height:a>0?a:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),C.setAttrs(d.node,u))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.gridRect.getBoundingClientRect(),n=a.startX-1,r=a.startY,l=!1,c=!1,h=a.clientX-o.left-n,d=a.clientY-o.top-r,u={};return Math.abs(h+n)>s.globals.gridWidth?h=s.globals.gridWidth-n:a.clientX-o.left<0&&(h=n),n>a.clientX-o.left&&(l=!0,h=Math.abs(h)),r>a.clientY-o.top&&(c=!0,d=Math.abs(d)),u="x"===i?{x:l?n-h:n,y:0,width:h,height:s.globals.gridHeight}:"y"===i?{x:0,y:c?r-d:r,width:s.globals.gridWidth,height:d}:{x:l?n-h:n,y:c?r-d:r,width:h,height:d},a.drawSelectionRect(u),a.selectionDragging("resizing"),u}},{key:"selectionDragging",value:function(t,e){var i=this,s=this.w,a=this.xyRatios,o=this.selectionRect,n=0;"resizing"===t&&(n=30);var r=function(t){return parseFloat(o.node.getAttribute(t))},l={x:r("x"),y:r("y"),width:r("width"),height:r("height")};s.globals.selection=l,"function"==typeof s.config.chart.events.selection&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=i.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect(),n={xaxis:{min:s.globals.xAxisScale.niceMin+(e.left-t.left)*a.xRatio,max:s.globals.xAxisScale.niceMin+(e.right-t.left)*a.xRatio},yaxis:{min:s.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*a.yRatio[0],max:s.globals.yAxisScale[0].niceMax-(e.top-t.top)*a.yRatio[0]}};s.config.chart.events.selection(i.ctx,n),s.config.chart.brush.enabled&&void 0!==s.config.chart.events.brushScrolled&&s.config.chart.events.brushScrolled(i.ctx,n)}),n))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.xyRatios,n=this.ctx.toolbar;if(a.startX>a.endX){var r=a.startX;a.startX=a.endX,a.endX=r}if(a.startY>a.endY){var l=a.startY;a.startY=a.endY,a.endY=l}var c=void 0,h=void 0;s.globals.isRangeBar?(c=s.globals.yAxisScale[0].niceMin+a.startX*o.invertedYRatio,h=s.globals.yAxisScale[0].niceMin+a.endX*o.invertedYRatio):(c=s.globals.xAxisScale.niceMin+a.startX*o.xRatio,h=s.globals.xAxisScale.niceMin+a.endX*o.xRatio);var d=[],u=[];if(s.config.yaxis.forEach((function(t,e){d.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.startY),u.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.endY)})),a.dragged&&(a.dragX>10||a.dragY>10)&&c!==h)if(s.globals.zoomEnabled){var p=x.clone(s.globals.initialConfig.yaxis),m=x.clone(s.globals.initialConfig.xaxis);if(s.globals.zoomed=!0,s.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),h=Math.floor(h),c<1&&(c=1,h=s.globals.dataPoints),h-c<2&&(h=c+1)),"xy"!==i&&"x"!==i||(m={min:c,max:h}),"xy"!==i&&"y"!==i||p.forEach((function(t,e){p[e].min=u[e],p[e].max=d[e]})),s.config.chart.zoom.autoScaleYaxis){var f=new J(a.ctx);p=f.autoScaleY(a.ctx,p,{xaxis:m})}if(n){var g=n.getBeforeZoomRange(m,p);g&&(m=g.xaxis?g.xaxis:m,p=g.yaxis?g.yaxis:p)}var v={xaxis:m};s.config.chart.group||(v.yaxis=p),a.ctx.updateHelpers._updateOptions(v,!1,a.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof s.config.chart.events.zoomed&&n.zoomCallback(m,p)}else if(s.globals.selectionEnabled){var y,b=null;y={min:c,max:h},"xy"!==i&&"y"!==i||(b=x.clone(s.config.yaxis)).forEach((function(t,e){b[e].min=u[e],b[e].max=d[e]})),s.globals.selection=a.selection,"function"==typeof s.config.chart.events.selection&&s.config.chart.events.selection(a.ctx,{xaxis:y,yaxis:b})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,s=e;if(void 0!==i.globals.lastClientPosition.x){var a=i.globals.lastClientPosition.x-s.clientX,o=i.globals.lastClientPosition.y-s.clientY;Math.abs(a)>Math.abs(o)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(o)&&a<0?this.moveDirection="right":Math.abs(o)>Math.abs(a)&&o>0?this.moveDirection="up":Math.abs(o)>Math.abs(a)&&o<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:s.clientX,y:s.clientY};var n=i.globals.isRangeBar?i.globals.minY:i.globals.minX,r=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||s.panScrolled(n,r)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,s=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+s,i=t.globals.maxX+s):"right"===this.moveDirection&&(e=t.globals.minX-s,i=t.globals.maxX-s),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,s=this.xyRatios,a=x.clone(i.globals.initialConfig.yaxis),o=s.xRatio,n=i.globals.minX,r=i.globals.maxX;i.globals.isRangeBar&&(o=s.invertedYRatio,n=i.globals.minY,r=i.globals.maxY),"left"===this.moveDirection?(t=n+i.globals.gridWidth/15*o,e=r+i.globals.gridWidth/15*o):"right"===this.moveDirection&&(t=n-i.globals.gridWidth/15*o,e=r-i.globals.gridWidth/15*o),i.globals.isRangeBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=n,e=r);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(a=new J(this.ctx).autoScaleY(this.ctx,a,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=a),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var s=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof s.config.chart.events.scrolled&&s.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),ft=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return c(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,s=t.clientX,a=t.clientY,o=this.w,n=i.getBoundingClientRect(),r=n.width,l=n.height,c=r/(o.globals.dataPoints-1),h=l/o.globals.dataPoints,d=this.hasBars();!o.globals.comboCharts&&!d||o.config.xaxis.convertedCatToNumeric||(c=r/o.globals.dataPoints);var u=s-n.left-o.globals.barPadForNumericAxis,p=a-n.top;u<0||p<0||u>r||p>l?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var m=Math.round(u/c),f=Math.floor(p/h);d&&!o.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(u/c),m-=1);var g=null,v=null,y=[],b=[];if(o.globals.seriesXvalues.forEach((function(t){y.push([t[0]+1e-6].concat(t))})),o.globals.seriesYvalues.forEach((function(t){b.push([t[0]+1e-6].concat(t))})),y=y.map((function(t){return t.filter((function(t){return x.isNumber(t)}))})),b=b.map((function(t){return t.filter((function(t){return x.isNumber(t)}))})),o.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),k=u*(w.width/r),C=p*(w.height/l);g=(v=this.closestInMultiArray(k,C,y,b)).index,m=v.j,null!==g&&(y=o.globals.seriesXvalues[g],m=(v=this.closestInArray(k,y)).index)}return o.globals.capturedSeriesIndex=null===g?-1:g,(!m||m<1)&&(m=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=f:o.globals.capturedDataPointIndex=m,{capturedSeries:g,j:o.globals.isBarHorizontal?f:m,hoverX:u,hoverY:p}}},{key:"closestInMultiArray",value:function(t,e,i,s){var a=this.w,o=0,n=null,r=-1;a.globals.series.length>1?o=this.getFirstActiveXArray(i):n=0;var l=i[o][0],c=Math.abs(t-l);if(i.forEach((function(e){e.forEach((function(e,i){var s=Math.abs(t-e);s<c&&(c=s,r=i)}))})),-1!==r){var h=s[o][r],d=Math.abs(e-h);n=o,s.forEach((function(t,i){var s=Math.abs(e-t[r]);s<d&&(d=s,n=i)}))}return{index:n,j:r}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,s=t.map((function(t,e){return t.length>0?e:-1})),a=0;a<s.length;a++)if(-1!==s[a]&&-1===e.globals.collapsedSeriesIndices.indexOf(a)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){i=s[a];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],s=null,a=Math.abs(t-i),o=0;o<e.length;o++){var n=Math.abs(t-e[o]);n<a&&(a=n,s=o)}return{index:s}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(i.length>0)for(var s=0;s<i.length-1;s++)void 0!==i[s][t]&&void 0!==i[s+1][t]&&i[s][t]!==i[s+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return v(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=v(t)).sort((function(t,e){var i=Number(t.getAttribute("data:realIndex")),s=Number(e.getAttribute("data:realIndex"));return s<i?1:s>i?-1:0}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,a=0;a<s.length;a++)"enable"===t?(s[a].classList.add("apexcharts-active"),s[a].style.display=e.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),t}(),gt=function(){function t(e){r(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ft(e)}return c(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,s=t.ttItems,a=t.i,o=void 0===a?0:a,n=t.j,r=void 0===n?null:n,l=t.y1,c=t.y2,h=t.e,d=this.w;void 0!==d.config.tooltip.custom?this.handleCustomTooltip({i:o,j:r,y1:l,y2:c,w:d}):this.toggleActiveInactiveSeries(i);var u=this.getValuesToPrint({i:o,j:r});this.printLabels({i:o,j:r,values:u,ttItems:s,shared:i,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,s=t.i,a=t.j,n=t.values,r=t.ttItems,l=t.shared,c=t.e,h=this.w,d=[],u=function(t){return h.globals.seriesGoals[t]&&h.globals.seriesGoals[t][a]&&Array.isArray(h.globals.seriesGoals[t][a])},p=n.xVal,m=n.zVal,f=n.xAxisTTVal,g="",v=h.globals.colors[s];null!==a&&h.config.plotOptions.bar.distributed&&(v=h.globals.colors[a]);for(var y=function(t,n){var y=i.getFormatters(s);g=i.getSeriesName({fn:y.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),"treemap"===h.config.chart.type&&(g=y.yLbTitleFormatter(String(h.config.series[s].data[a].x),{series:h.globals.series,seriesIndex:s,dataPointIndex:a,w:h}));var b=h.config.tooltip.inverseOrder?n:t;if(h.globals.axisCharts){var x=function(t){return y.yLbFormatter(h.globals.series[t][a],{series:h.globals.series,seriesIndex:t,dataPointIndex:a,w:h})};if(l)y=i.getFormatters(b),g=i.getSeriesName({fn:y.yLbTitleFormatter,index:b,seriesIndex:s,j:a}),v=h.globals.colors[b],e=x(b),u(b)&&(d=h.globals.seriesGoals[b][a].map((function(t){return{attrs:t,val:y.yLbFormatter(t.value,{seriesIndex:b,dataPointIndex:a,w:h})}})));else{var w,k=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");k&&(v=-1!==k.indexOf("url")?document.querySelector(k.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):k),e=x(s),u(s)&&Array.isArray(h.globals.seriesGoals[s][a])&&(d=h.globals.seriesGoals[s][a].map((function(t){return{attrs:t,val:y.yLbFormatter(t.value,{seriesIndex:s,dataPointIndex:a,w:h})}})))}}null===a&&(e=y.yLbFormatter(h.globals.series[s],o(o({},h),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:b,j:a,ttItems:r,values:{val:e,goalVals:d,xVal:p,xAxisTTVal:f,zVal:m},seriesName:g,shared:l,pColor:v})},b=0,x=h.globals.series.length-1;b<h.globals.series.length;b++,x--)y(b,x)}},{key:"getFormatters",value:function(t){var e,i=this.w,s=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(s=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof s&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:s,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,s=t.seriesIndex,a=t.j,o=this.w;return e(String(o.globals.seriesNames[i]),{series:o.globals.series,seriesIndex:s,dataPointIndex:a,w:o})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,s=t.ttItems,a=t.values,o=t.seriesName,n=t.shared,r=t.pColor,l=this.w,c=this.ttCtx,h=a.val,d=a.goalVals,u=a.xVal,p=a.xAxisTTVal,m=a.zVal,f=null;f=s[e].children,l.config.tooltip.fillSeriesColor&&(s[e].style.backgroundColor=r,f[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=u),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==p?p:u);var g=s[e].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=o||"");var v=s[e].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==h?h:""),f[0]&&f[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(r=l.config.tooltip.marker.fillColors[e]),f[0].style.backgroundColor=r),l.config.tooltip.marker.show||(f[0].style.display="none");var y=s[e].querySelector(".apexcharts-tooltip-text-goals-label"),b=s[e].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&l.globals.seriesGoals[e]){var x=function(){var t="<div >",e="<div>";d.forEach((function(i,s){t+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(i.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(i.attrs.name,"</div>"),e+="<div>".concat(i.val,"</div>")})),y.innerHTML=t+"</div>",b.innerHTML=e+"</div>"};n?l.globals.seriesGoals[e][i]&&Array.isArray(l.globals.seriesGoals[e][i])?x():(y.innerHTML="",b.innerHTML=""):x()}else y.innerHTML="",b.innerHTML="";null!==m&&(s[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,s[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==m?m:""),n&&f[0]&&(null==h||l.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||l.globals.collapsedSeriesIndices.indexOf(e)>-1?f[0].parentNode.style.display="none":f[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,s=this.w,a=this.ctx.series.filteredSeriesX(),o="",n="",r=null,l=null,c={series:s.globals.series,seriesIndex:e,dataPointIndex:i,w:s},h=s.globals.ttZFormatter;null===i?l=s.globals.series[e]:s.globals.isXNumeric&&"treemap"!==s.config.chart.type?(o=a[e][i],0===a[e].length&&(o=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):o=void 0!==s.globals.labels[i]?s.globals.labels[i]:"";var d=o;return o=s.globals.isXNumeric&&"datetime"===s.config.xaxis.type?new q(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new D(this.ctx).formatDate,w:this.w}):s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](d,c):s.globals.xLabelFormatter(d,c),void 0!==s.config.tooltip.x.formatter&&(o=s.globals.ttKeyFormatter(d,c)),s.globals.seriesZ.length>0&&s.globals.seriesZ[e].length>0&&(r=h(s.globals.seriesZ[e][i],s)),n="function"==typeof s.config.xaxis.tooltip.formatter?s.globals.xaxisTooltipFormatter(d,c):o,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(n)?n.join(" "):n,zVal:r}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,s=t.y1,a=t.y2,o=t.w,n=this.ttCtx.getElTooltip(),r=o.config.tooltip.custom;Array.isArray(r)&&r[e]&&(r=r[e]),n.innerHTML=r({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:i,y1:s,y2:a,w:o})}}]),t}(),vt=function(){function t(e){r(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return c(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,s=this.w,a=i.getElXCrosshairs(),o=t-i.xcrosshairsWidth/2,n=s.globals.labels.slice().length;if(null!==e&&(o=s.globals.gridWidth/n*e),null===a||s.globals.isBarHorizontal||(a.setAttribute("x",o),a.setAttribute("x1",o),a.setAttribute("x2",o),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),o<0&&(o=0),o>s.globals.gridWidth&&(o=s.globals.gridWidth),i.isXAxisTooltipEnabled){var r=o;"tickWidth"!==s.config.xaxis.crosshairs.width&&"barWidth"!==s.config.xaxis.crosshairs.width||(r=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(r)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&C.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&C.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var s,a=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,s=new C(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=s.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=a+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=e.globals.translateY+s,o=i.yaxisTTEls[t].getBoundingClientRect().height,n=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(n-=26),a-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=n+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=this.ttCtx,o=a.getElTooltip(),n=a.tooltipRect,r=null!==i?parseFloat(i):1,l=parseFloat(t)+r+5,c=parseFloat(e)+r/2;if(l>s.globals.gridWidth/2&&(l=l-n.ttWidth-r-10),l>s.globals.gridWidth-n.ttWidth-10&&(l=s.globals.gridWidth-n.ttWidth),l<-20&&(l=-20),s.config.tooltip.followCursor){var h=a.getElGrid(),d=h.getBoundingClientRect();c=a.e.clientY+s.globals.translateY-d.top-n.ttHeight/2}else s.globals.isBarHorizontal||(n.ttHeight/2+c>s.globals.gridHeight&&(c=s.globals.gridHeight-n.ttHeight+s.globals.translateY),c<0&&(c=0));isNaN(l)||(l+=s.globals.translateX,o.style.left=l+"px",o.style.top=c+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[t]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<a.length;o++)parseInt(a[o].getAttribute("rel"),10)===e&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(e,a[o]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,s,a=this.w,o=this.ttCtx,n=a.globals.pointsArray,r=o.tooltipUtil.getHoverMarkerSize(e),l=a.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){i=n[e][t][0],s=n[e][t][1]?n[e][t][1]:0;var c=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&s<a.globals.gridHeight&&s>0&&(c.setAttribute("r",r),c.setAttribute("cx",i),c.setAttribute("cy",s)),this.moveXCrosshairs(i),o.fixedTooltip||this.moveTooltip(i,s,r)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,s=i.w,a=0,o=0,n=s.globals.pointsArray;e=new W(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var r=i.tooltipUtil.getHoverMarkerSize(e);n[e]&&(a=n[e][t][0],o=n[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<s.globals.series.length;c++){var h=n[c];if(s.globals.comboCharts&&void 0===h&&l.splice(c,0,null),h&&h.length){var d=n[c][t][1],u=void 0;if(l[c].setAttribute("cx",a),"rangeArea"===s.config.chart.type&&!s.globals.comboCharts){var p=t+s.globals.series[c].length;u=n[c][p][1],d-=Math.abs(d-u)/2}null!==d&&!isNaN(d)&&d<s.globals.gridHeight+r&&d+r>0?(l[c]&&l[c].setAttribute("r",r),l[c]&&l[c].setAttribute("cy",d)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(a),!i.fixedTooltip){var m=o||s.globals.gridHeight;this.moveTooltip(a,m,r)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e=this.w,i=this.ttCtx,s=e.globals.columnSeries?e.globals.columnSeries.length:e.globals.series.length,a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;e.globals.isBarHorizontal&&(a=new W(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"']")),n=o?parseFloat(o.getAttribute("cx")):0,r=o?parseFloat(o.getAttribute("cy")):0,l=o?parseFloat(o.getAttribute("barWidth")):0,c=o?parseFloat(o.getAttribute("barHeight")):0,h=i.getElGrid().getBoundingClientRect(),d=o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area");if(e.globals.isXNumeric?(o&&!d&&(n-=s%2!=0?l/2:0),o&&d&&e.globals.comboCharts&&(n-=l/2)):e.globals.isBarHorizontal||(n=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(n)&&(n=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2)),e.globals.isBarHorizontal?(r>e.globals.gridHeight/2&&(r-=i.tooltipRect.ttHeight),(r=r+e.config.grid.padding.top+c/3)+c>e.globals.gridHeight&&(r=e.globals.gridHeight-c)):e.config.tooltip.followCursor?r=i.e.clientY-h.top-i.tooltipRect.ttHeight/2:r+i.tooltipRect.ttHeight+15>e.globals.gridHeight&&(r=e.globals.gridHeight),r<-10&&(r=-10),e.globals.isBarHorizontal||this.moveXCrosshairs(n),!i.fixedTooltip){var u=r||e.globals.gridHeight;this.moveTooltip(n,u)}}}]),t}(),yt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new vt(e)}return c(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new C(this.ctx),i=new $(this.ctx),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=v(s),t.config.chart.stacked&&s.sort((function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))}));for(var a=0;a<s.length;a++){var o=s[a].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var n=void 0,r="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(r+=" no-pointer-events");var l=i.getMarkerConfig({cssClass:r,seriesIndex:Number(o.getAttribute("data:realIndex"))});(n=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(n.node),o.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),n=e.getAttribute("cy");if(null!==i&&null!==s&&(o=i,n=s),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===a.config.chart.type){var r=this.ttCtx.getElGrid(),l=r.getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,n,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,s=this.ttCtx,a=t,o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=e.config.markers.hover.size,r=0;r<o.length;r++){var l=o[r].getAttribute("rel"),c=o[r].getAttribute("index");if(void 0===n&&(n=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),a===parseInt(l,10)){i.newPointSize(a,o[r]);var h=o[r].getAttribute("cx"),d=o[r].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),s.fixedTooltip||i.tooltipPosition.moveTooltip(h,d,n)}else i.oldPointSize(o[r])}}},{key:"newPointSize",value:function(t,e){var i=this.w,s=i.config.markers.hover.size,a=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var o=parseInt(a.getAttribute("index"),10);void 0===s&&(s=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),s<0&&(s=0),a.setAttribute("r",s)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));x.isNumber(i)&&i>=0?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),t}(),bt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,s=t.x,a=t.y,o=t.type,n=this.ttCtx,r=this.w;if(e.target.classList.contains("apexcharts-".concat(o,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),h=this.getAttr(e,"cx"),d=this.getAttr(e,"cy"),u=this.getAttr(e,"width"),p=this.getAttr(e,"height");if(n.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),r.globals.capturedSeriesIndex=l,r.globals.capturedDataPointIndex=c,s=h+n.tooltipRect.ttWidth/2+u,a=d+n.tooltipRect.ttHeight/2-p/2,n.tooltipPosition.moveXCrosshairs(h+u/2),s>r.globals.gridWidth/2&&(s=h-n.tooltipRect.ttWidth/2+u),n.w.config.tooltip.followCursor){var m=r.globals.dom.elWrap.getBoundingClientRect();s=r.globals.clientX-m.left-(s>r.globals.gridWidth/2?n.tooltipRect.ttWidth:0),a=r.globals.clientY-m.top-(a>r.globals.gridHeight/2?n.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=t.x,n=t.y,r=this.w,l=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var c=parseInt(a.paths.getAttribute("cx"),10),h=parseInt(a.paths.getAttribute("cy"),10),d=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),e=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var u=x.findAncestor(a.paths,"apexcharts-series");u&&(e=parseInt(u.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:e,j:i,shared:!l.showOnIntersect&&r.config.tooltip.shared,e:s}),"mouseup"===s.type&&l.markerClick(s,e,i),r.globals.capturedSeriesIndex=e,r.globals.capturedDataPointIndex=i,o=c,n=h+r.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();n=l.e.clientY+r.globals.translateY-p.top}d<0&&(n=h),l.marker.enlargeCurrentPoint(i,a.paths,o,n)}return{x:o,y:n}}},{key:"handleBarTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,n=this.ttCtx,r=n.getElTooltip(),l=0,c=0,h=0,d=this.getBarTooltipXY({e:s,opt:a});e=d.i;var u=d.barHeight,p=d.j;o.globals.capturedSeriesIndex=e,o.globals.capturedDataPointIndex=p,o.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||!o.config.tooltip.shared?(c=d.x,h=d.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,l=c):o.globals.comboCharts||o.config.tooltip.shared||(l/=2),isNaN(h)?h=o.globals.svgHeight-n.tooltipRect.ttHeight:h<0&&(h=0);var m=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),f=o.globals.isMultipleYAxis?o.config.yaxis[m]&&o.config.yaxis[m].reversed:o.config.yaxis[0].reversed;if(c+n.tooltipRect.ttWidth>o.globals.gridWidth&&!f?c-=n.tooltipRect.ttWidth:c<0&&(c=0),n.w.config.tooltip.followCursor){var g=n.getElGrid().getBoundingClientRect();h=n.e.clientY-g.top}null===n.tooltip&&(n.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?n.tooltipPosition.moveXCrosshairs(l+i/2):n.tooltipPosition.moveXCrosshairs(l)),!n.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&n.tooltipUtil.hasBars())&&(f&&(c-=n.tooltipRect.ttWidth)<0&&(c=0),!f||o.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||(h=h+u-2*(o.globals.series[e][p]<0?u:0)),n.tooltipRect.ttHeight+h>o.globals.gridHeight?h=o.globals.gridHeight-n.tooltipRect.ttHeight+o.globals.translateY:(h=h+o.globals.translateY-n.tooltipRect.ttHeight/2)<0&&(h=0),r.style.left=c+o.globals.translateX+"px",r.style.top=h+"px")}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,s=this.w,a=null,o=this.ttCtx,n=0,r=0,l=0,c=0,h=0,d=e.target.classList;if(d.contains("apexcharts-bar-area")||d.contains("apexcharts-candlestick-area")||d.contains("apexcharts-boxPlot-area")||d.contains("apexcharts-rangebar-area")){var u=e.target,p=u.getBoundingClientRect(),m=i.elGrid.getBoundingClientRect(),f=p.height;h=p.height;var g=p.width,v=parseInt(u.getAttribute("cx"),10),y=parseInt(u.getAttribute("cy"),10);c=parseFloat(u.getAttribute("barWidth"));var b="touchmove"===e.type?e.touches[0].clientX:e.clientX;a=parseInt(u.getAttribute("j"),10),n=parseInt(u.parentNode.getAttribute("rel"),10)-1;var x=u.getAttribute("data-range-y1"),w=u.getAttribute("data-range-y2");s.globals.comboCharts&&(n=parseInt(u.parentNode.getAttribute("data:realIndex"),10)),o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:n,j:a,y1:x?parseInt(x,10):null,y2:w?parseInt(w,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:e}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(r=b-m.left+15,l=y-o.dataPointsDividedHeight+f/2-o.tooltipRect.ttHeight/2):(r=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=e.clientY-m.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((r=v)<o.xyRatios.baseLineInvertedY&&(r=v-o.tooltipRect.ttWidth),l=y-o.dataPointsDividedHeight+f/2-o.tooltipRect.ttHeight/2):(r=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=y)}return{x:r,y:l,barHeight:h,barWidth:c,i:n,j:a}}}]),t}(),xt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=function(i){var s=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=s?t.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,s){e.map((function(e,s){s===i&&(a+=t.config.yaxis[s].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))},s=0;s<t.config.yaxis.length;s++)i(s)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===t.config.xaxis.crosshairs.width){var a=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=a}else if("tickWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var n=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/n}else if("barWidth"===t.config.xaxis.crosshairs.width){var r=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==r){var l=parseFloat(r.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var s=this.ttCtx,a=this.w,o=a.globals.yLabelFormatters[t];if(s.yaxisTooltips[t]){var n=s.getElGrid().getBoundingClientRect(),r=(e-n.top)*i.yRatio[t],l=a.globals.maxYArr[t]-a.globals.minYArr[t],c=a.globals.minYArr[t]+(l-r);s.tooltipPosition.moveYCrosshairs(e-n.top),s.yaxisTooltipText[t].innerHTML=o(c),s.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),wt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new ft(this),this.tooltipLabels=new gt(this),this.tooltipPosition=new vt(this),this.marker=new yt(this),this.intersect=new bt(this),this.axesTooltip=new xt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,i){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new G(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,s=[],a=this.getElTooltip(),o=function(o){var n=document.createElement("div");n.classList.add("apexcharts-tooltip-series-group"),n.style.order=i.config.tooltip.inverseOrder?t-o:o+1,e.tConfig.shared&&e.tConfig.enabledOnSeries&&Array.isArray(e.tConfig.enabledOnSeries)&&e.tConfig.enabledOnSeries.indexOf(o)<0&&n.classList.add("apexcharts-tooltip-series-group-hidden");var r=document.createElement("span");r.classList.add("apexcharts-tooltip-marker"),r.style.backgroundColor=i.globals.colors[o],n.appendChild(r);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,l.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach((function(t){var e=document.createElement("div");e.classList.add("apexcharts-tooltip-".concat(t,"-group"));var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(t,"-label")),e.appendChild(i);var s=document.createElement("span");s.classList.add("apexcharts-tooltip-text-".concat(t,"-value")),e.appendChild(s),l.appendChild(e)})),n.appendChild(l),a.appendChild(n),s.push(n)},n=0;n<t;n++)o(n);return s}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),s=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),a="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,n=this.getElGrid();n&&(this.seriesBound=n.getBoundingClientRect());var r,l=[],c=[],h={hoverArea:o,elGrid:n,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(a?r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),r&&r.length))for(var d=0;d<r.length;d++)l.push(r[d].getAttribute("cy")),c.push(r[d].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],h);else if(s&&!t.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var u=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(u,h)}if(this.showOnIntersect){var p=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),s=i.width+10,a=i.height+10,o=this.tConfig.fixed.offsetX,n=this.tConfig.fixed.offsetY,r=this.tConfig.fixed.position.toLowerCase();return r.indexOf("right")>-1&&(o=o+t.globals.svgWidth-s+10),r.indexOf("bottom")>-1&&(n=n+t.globals.svgHeight-a-10),e.style.left=o+"px",e.style.top=n+"px",{x:o,y:n,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,s=function(s){var a={paths:t[s],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[s].addEventListener(e,i.onSeriesHover.bind(i,a),{capture:!1,passive:!0})}))},a=0;a<t.length;a++)s(a)}},{key:"onSeriesHover",value:function(t,e){var i=this,s=Date.now()-this.lastHoverTime;s>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(t,e)}),100-s))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(s.length?s.forEach((function(s){var a=i.getElTooltip(s),o={paths:t.paths,tooltipEl:a,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===i.w.globals.minX&&s.w.globals.maxX===i.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:o,e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,s=t.opt,a=t.e,o=e.w,n=this.getElTooltip();n&&(i.tooltipRect={x:0,y:0,ttWidth:n.getBoundingClientRect().width,ttHeight:n.getBoundingClientRect().height},i.e=a,!i.tooltipUtil.hasBars()||o.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new W(e).toggleSeriesOnHover(a,a.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),o.globals.axisCharts?i.axisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,n=a.elGrid.getBoundingClientRect(),r="touchmove"===s.type?s.touches[0].clientX:s.clientX,l="touchmove"===s.type?s.touches[0].clientY:s.clientY;if(this.clientY=l,this.clientX=r,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,l<n.top||l>n.top+n.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var c=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(a)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),u=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===s.type||"touchmove"===s.type||"mouseup"===s.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==d&&d.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),u&&!this.showOnIntersect)this.handleStickyTooltip(s,r,l,a);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var m=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:e,y:i,type:o.config.chart.type});e=m.x,i=m.y,h.style.left=e+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:e,y:i});if(this.yaxisTooltips.length)for(var f=0;f<o.config.yaxis.length;f++)this.axesTooltip.drawYaxisTooltipText(f,l,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==s.type&&"touchend"!==s.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,s=t.tooltipRect,a=this.w,o=i.paths.getAttribute("rel"),n=this.getElTooltip(),r=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){n.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var l=a.globals.clientX-r.left-s.ttWidth/2,c=a.globals.clientY-r.top-s.ttHeight-10;if(n.style.left=l+"px",n.style.top=c+"px",a.config.legend.tooltipHoverFormatter){var h=o-1,d=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:a});this.legendLabels[h].innerHTML=d}}else"mouseout"!==e.type&&"touchend"!==e.type||(n.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})))}},{key:"handleStickyTooltip",value:function(t,e,i,s){var a=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:e,clientY:i}),n=o.j,r=o.capturedSeries,l=s.elGrid.getBoundingClientRect();o.hoverX<0||o.hoverX>l.width?this.handleMouseOut(s):null!==r?this.handleStickyCapturedSeries(t,r,s,n):(this.tooltipUtil.isXoverlap(n)||a.globals.isBarHorizontal)&&this.create(t,this,0,n,s.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,s){var a=this.w;this.tConfig.shared||null!==a.globals.series[e][s]?void 0!==a.globals.series[e][s]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,s,i.ttItems):this.create(t,this,e,s,i.ttItems,!1):this.tooltipUtil.isXoverlap(s)&&this.create(t,this,0,s,i.ttItems):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new C(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),s=0;s<i.length;s++)e.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,i){var s=this.w;"function"==typeof s.config.chart.events.markerClick&&s.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}])}},{key:"create",value:function(t,e,i,s,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,n=this.w,r=e;"mouseup"===t.type&&this.markerClick(t,i,s),null===o&&(o=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(n.config.legend.tooltipHoverFormatter){var h=n.config.legend.tooltipHoverFormatter,d=Array.from(this.legendLabels);d.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var u=0;u<d.length;u++){var p=d[u],m=parseInt(p.getAttribute("i"),10),f=decodeURIComponent(p.getAttribute("data:default-text")),g=h(f,{seriesIndex:o?m:i,dataPointIndex:s,w:n});if(o)p.innerHTML=n.globals.collapsedSeriesIndices.indexOf(m)<0?g:f;else if(p.innerHTML=m===i?g:f,i===m)break}}if(o){if(r.tooltipLabels.drawSeriesTexts({ttItems:a,i:i,j:s,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(n.globals.markers.largestSize>0?r.marker.enlargePoints(s):r.tooltipPosition.moveDynamicPointsOnHover(s)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var v=new C(this.ctx),y=n.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(s);for(var b=0;b<y.length;b++)v.pathMouseEnter(y[b])}}else r.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:a,i:i,j:s}),this.tooltipUtil.hasBars()&&r.tooltipPosition.moveStickyTooltipOverBars(s),l&&r.tooltipPosition.moveMarkers(i,s)}}]),t}(),kt=function(){function t(e){r(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return c(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,s=t.y1,a=t.y2,o=t.i,n=t.j,r=t.realIndex,l=t.series,c=t.barHeight,h=t.barWidth,d=t.barYPosition,u=t.visibleSeries,p=t.renderedPath,m=this.w,f=new C(this.barCtx.ctx),g=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[r]:this.barCtx.strokeWidth,v=e+parseFloat(h*u),y=i+parseFloat(c*u);m.globals.isXNumeric&&!m.globals.isBarHorizontal&&(v=e+parseFloat(h*(u+1)),y=i+parseFloat(c*(u+1))-g);var b,x=null,w=e,k=i,S={},A=m.config.dataLabels,T=this.barCtx.barOptions.dataLabels,I=this.barCtx.barOptions.dataLabels.total;void 0!==d&&this.barCtx.isRangeBar&&(y=d,k=d);var P=A.offsetX,M=A.offsetY,L={width:0,height:0};if(m.config.dataLabels.enabled){var _=this.barCtx.series[o][n];L=f.getTextRects(m.globals.yLabelFormatters[0](_),parseFloat(A.style.fontSize))}var D={x:e,y:i,i:o,j:n,realIndex:r,renderedPath:p,bcx:v,bcy:y,barHeight:c,barWidth:h,textRects:L,strokeWidth:g,dataLabelsX:w,dataLabelsY:k,dataLabelsConfig:A,barDataLabelsConfig:T,barTotalDataLabelsConfig:I,offX:P,offY:M};return S=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(D):this.calculateColumnsDataLabelsPosition(D),p.attr({cy:S.bcy,cx:S.bcx,j:n,val:l[o][n],barHeight:c,barWidth:h}),b=this.drawCalculatedDataLabels({x:S.dataLabelsX,y:S.dataLabelsY,val:this.barCtx.isRangeBar?[s,a]:l[o][n],i:r,j:n,barWidth:h,barHeight:c,textRects:L,dataLabelsConfig:A}),m.config.chart.stacked&&I.enabled&&(x=this.drawTotalDataLabels({x:S.totalDataLabelsX,y:S.totalDataLabelsY,realIndex:r,textAnchor:S.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:r,j:n}),dataLabelsConfig:A,barTotalDataLabelsConfig:I})),{dataLabels:b,totalDataLabels:x}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,s=this.w,a=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(a=this.totalFormatter(a,o(o({},s),{},{seriesIndex:e,dataPointIndex:i,w:s}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i,s,a=this.w,o=t.i,n=t.j,r=t.realIndex,l=t.y,c=t.bcx,h=t.barWidth,d=t.barHeight,u=t.textRects,p=t.dataLabelsY,m=t.dataLabelsConfig,f=t.barDataLabelsConfig,g=t.barTotalDataLabelsConfig,v=t.strokeWidth,y=t.offX,b=t.offY;d=Math.abs(d);var x="vertical"===a.config.plotOptions.bar.dataLabels.orientation;c-=v/2;var w=a.globals.gridWidth/a.globals.dataPoints;e=a.globals.isXNumeric?c-h/2+y:c-w+h/2+y,x&&(e=e+u.height/2-v/2-2);var k=this.barCtx.series[o][n]<0,S=l;switch(this.barCtx.isReversed&&(S=l-d+(k?2*d:0),l-=d),f.position){case"center":p=x?k?S+d/2+b:S+d/2-b:k?S-d/2+u.height/2+b:S+d/2+u.height/2-b;break;case"bottom":p=x?k?S+d+b:S+d-b:k?S-d+u.height+v+b:S+d-u.height/2+v-b;break;case"top":p=x?k?S+b:S-b:k?S-u.height/2-b:S+u.height+b}if(this.barCtx.lastActiveBarSerieIndex===r&&g.enabled){var A=new C(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:r,j:n}),m.fontSize);i=k?S-A.height/2-b-g.offsetY+18:S+A.height+b+g.offsetY-18,s=e+g.offsetX}return a.config.chart.stacked||(p<0?p=0+v:p+u.height/3>a.globals.gridHeight&&(p=a.globals.gridHeight-v)),{bcx:c,bcy:l,dataLabelsX:e,dataLabelsY:p,totalDataLabelsX:s,totalDataLabelsY:i,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,s=t.i,a=t.j,o=t.realIndex,n=t.bcy,r=t.barHeight,l=t.barWidth,c=t.textRects,h=t.dataLabelsX,d=t.strokeWidth,u=t.dataLabelsConfig,p=t.barDataLabelsConfig,m=t.barTotalDataLabelsConfig,f=t.offX,g=t.offY,v=e.globals.gridHeight/e.globals.dataPoints;l=Math.abs(l);var y,b,x=n-(this.barCtx.isRangeBar?0:v)+r/2+c.height/2+g-3,w="start",k=this.barCtx.series[s][a]<0,S=i;switch(this.barCtx.isReversed&&(S=i+l-(k?2*l:0),i=e.globals.gridWidth-l),p.position){case"center":h=k?S+l/2-f:Math.max(c.width/2,S-l/2)+f;break;case"bottom":h=k?S+l-d-Math.round(c.width/2)-f:S-l+d+Math.round(c.width/2)+f;break;case"top":h=k?S-d+Math.round(c.width/2)-f:S-d-Math.round(c.width/2)+f}if(this.barCtx.lastActiveBarSerieIndex===o&&m.enabled){var A=new C(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),u.fontSize);k?(y=S-d+Math.round(A.width/2)-f-m.offsetX-15,w="end"):y=S-d-Math.round(A.width/2)+f+m.offsetX+15,b=x+m.offsetY}return e.config.chart.stacked||(h<0?h=h+c.width+d:h+c.width/2>e.globals.gridWidth&&(h=e.globals.gridWidth-c.width-d)),{bcx:i,bcy:n,dataLabelsX:h,dataLabelsY:x,totalDataLabelsX:y,totalDataLabelsY:b,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,s=t.val,a=t.i,n=t.j,r=t.textRects,l=t.barHeight,c=t.barWidth,h=t.dataLabelsConfig,d=this.w,u="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(u="rotate(-90, ".concat(e,", ").concat(i,")"));var p=new H(this.barCtx.ctx),m=new C(this.barCtx.ctx),f=h.formatter,g=null,v=d.globals.collapsedSeriesIndices.indexOf(a)>-1;if(h.enabled&&!v){g=m.group({class:"apexcharts-data-labels",transform:u});var y="";void 0!==s&&(y=f(s,o(o({},d),{},{seriesIndex:a,dataPointIndex:n,w:d})));var b=d.globals.series[a][n]<0,x=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(h.textAnchor=b?"end":"start"),"center"===x&&(h.textAnchor="middle"),"bottom"===x&&(h.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<m.getTextRects(y,parseFloat(h.style.fontSize)).width&&(y=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?r.width/1.6>Math.abs(c)&&(y=""):r.height/1.6>Math.abs(l)&&(y=""));var w=o({},h);this.barCtx.isHorizontal&&s<0&&("start"===h.textAnchor?w.textAnchor="end":"end"===h.textAnchor&&(w.textAnchor="start")),p.plotDataLabelsText({x:e,y:i,text:y,i:a,j:n,parent:g,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}},{key:"drawTotalDataLabels",value:function(t){var e,i=t.x,s=t.y,a=t.val,o=t.realIndex,n=t.textAnchor,r=t.barTotalDataLabelsConfig,l=new C(this.barCtx.ctx);return r.enabled&&void 0!==i&&void 0!==s&&this.barCtx.lastActiveBarSerieIndex===o&&(e=l.drawText({x:i,y:s,foreColor:r.style.color,text:a,textAnchor:n,fontFamily:r.style.fontFamily,fontSize:r.style.fontSize,fontWeight:r.style.fontWeight})),e}}]),t}(),Ct=function(){function t(e){r(this,t),this.w=e.w,this.barCtx=e}return c(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var s=0;s<t[i].length;s++)e.globals.seriesX[i][s]>e.globals.minX&&e.globals.seriesX[i][s]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=t.length-1,e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,s,a,o,n,r,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var h=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)a=(i=l.globals.gridHeight/c)/h,l.globals.isXNumeric&&(a=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,r=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-a*this.barCtx.seriesLen)/2;else{if(s=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(s=l.globals.gridWidth/l.globals.dataPoints),o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var d=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(d=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/d>0&&(s=l.globals.minXDiff/d),(o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}n=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(s-o*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:s,barHeight:a,barWidth:o,zeroH:n,zeroW:r}}},{key:"getPathFillColor",value:function(t,e,i,s){var a,o,n,r,l=this.w,c=new z(this.barCtx.ctx),h=null,d=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(s){t[e][i]>=s.from&&t[e][i]<=s.to&&(h=s.color)})),l.config.series[e].data[i]&&l.config.series[e].data[i].fillColor&&(h=l.config.series[e].data[i].fillColor),c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:s,dataPointIndex:i,color:h,value:t[e][i],fillConfig:null===(a=l.config.series[e].data[i])||void 0===a?void 0:a.fill,fillType:null!==(o=l.config.series[e].data[i])&&void 0!==o&&null!==(n=o.fill)&&void 0!==n&&n.type?null===(r=l.config.series[e].data[i])||void 0===r?void 0:r.fill.type:l.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var s=0,a=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"shouldApplyRadius",value:function(t){var e=this.w,i=!1;return e.config.plotOptions.bar.borderRadius>0&&(e.config.chart.stacked&&"last"===e.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===t&&(i=!0):i=!0),i}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,s=t.x1,a=t.x2,o=t.y1,n=t.y2,r=t.elSeries,l=this.w,c=new C(this.barCtx.ctx),h=new W(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[e],u=c.drawRect(void 0!==s?s:0,void 0!==o?o:0,void 0!==a?a:l.globals.gridWidth,void 0!==n?n:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);r.add(u),u.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,s=t.barXPosition,a=t.y1,o=t.y2,n=t.strokeWidth,r=t.realIndex,l=t.i,c=t.j,h=t.w,d=new C(this.barCtx.ctx);(n=Array.isArray(n)?n[r]:n)||(n=0);var u=i,p=s;null!==(e=h.config.series[r].data[c])&&void 0!==e&&e.columnWidthOffset&&(p=s-h.config.series[r].data[c].columnWidthOffset/2,u=i+h.config.series[r].data[c].columnWidthOffset);var m=p,f=p+u;a+=.001,o+=.001;var g=d.move(m,a),v=d.move(m,a),y=d.line(f-n,a);return h.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(r,c,!1)),g=g+d.line(m,o)+d.line(f-n,o)+d.line(f-n,a)+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+d.line(m,a)+y+y+y+y+y+d.line(m,a)+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(r)&&(g=d.roundPathCorners(g,h.config.plotOptions.bar.borderRadius)),h.config.chart.stacked&&(this.barCtx.yArrj.push(o),this.barCtx.yArrjF.push(Math.abs(a-o)),this.barCtx.yArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,s=t.barHeight,a=t.x1,o=t.x2,n=t.strokeWidth,r=t.realIndex,l=t.i,c=t.j,h=t.w,d=new C(this.barCtx.ctx);(n=Array.isArray(n)?n[r]:n)||(n=0);var u=i,p=s;null!==(e=h.config.series[r].data[c])&&void 0!==e&&e.barHeightOffset&&(u=i-h.config.series[r].data[c].barHeightOffset/2,p=s+h.config.series[r].data[c].barHeightOffset);var m=u,f=u+p;a+=.001,o+=.001;var g=d.move(a,m),v=d.move(a,m);h.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(r,c,!1));var y=d.line(a,f-n);return g=g+d.line(o,m)+d.line(o,f-n)+y+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+d.line(a,m)+y+y+y+y+y+d.line(a,m)+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(r)&&(g=d.roundPathCorners(g,h.config.plotOptions.bar.borderRadius)),h.config.chart.stacked&&(this.barCtx.xArrj.push(o),this.barCtx.xArrjF.push(Math.abs(a-o)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,s=0;s<e.length;s++){for(var a=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)a+=e[s][o];0===a&&this.barCtx.zeroSerieses.push(s)}for(var n=e.length-1;n>=0;n--)this.barCtx.zeroSerieses.indexOf(n)>-1&&n===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var r=e.length-1;r>=0;r--)i.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e-t/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(t,e,i,s,a){var o=this,n=this.w,r=[];return n.globals.seriesGoals[s]&&n.globals.seriesGoals[s][a]&&Array.isArray(n.globals.seriesGoals[s][a])&&n.globals.seriesGoals[s][a].forEach((function(s){var a;r.push((h(a={},t,"x"===t?o.getXForValue(s.value,e,!1):o.getYForValue(s.value,i,!1)),h(a,"attrs",s),a))})),r}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,s=t.goalX,a=t.goalY,o=t.barWidth,n=t.barHeight,r=new C(this.barCtx.ctx),l=r.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach((function(t){var e=void 0!==t.attrs.strokeHeight?t.attrs.strokeHeight:n/2,s=i+e+n/2;c=r.drawLine(t.x,s-2*e,t.x,s,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeWidth?t.attrs.strokeWidth:2,t.attrs.strokeLineCap),l.add(c)})):Array.isArray(a)&&a.forEach((function(t){var i=void 0!==t.attrs.strokeWidth?t.attrs.strokeWidth:o/2,s=e+i+o/2;c=r.drawLine(s-2*i,t.y,s,t.y,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeHeight?t.attrs.strokeHeight:2,t.attrs.strokeLineCap),l.add(c)})),l}}]),t}(),St=function(){function t(e,i){r(this,t),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=i,null!==this.xyRatios&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var a=new W(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]);var o=a.getBarSeriesIndices(),n=new S(this.ctx);this.stackedSeriesTotals=n.getStackedSeriesTotals(this.w.config.series.map((function(t,e){return-1===o.indexOf(e)?e:-1})).filter((function(t){return-1!==t}))),this.barHelpers=new Ct(this)}return c(t,[{key:"draw",value:function(t,e){var i=this.w,s=new C(this.ctx),a=new S(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var n=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var r=0,l=0;r<t.length;r++,l++){var c,h,d,u,p=void 0,m=void 0,f=[],g=[],v=i.globals.comboCharts?e[r]:r,y=s.group({class:"apexcharts-series",rel:r+1,seriesName:x.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(y,v),t[r].length>0&&(this.visibleI=this.visibleI+1);var b=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();m=k.y,b=k.barHeight,h=k.yDivision,u=k.zeroW,p=k.x,w=k.barWidth,c=k.xDivision,d=k.zeroH,this.horizontal||g.push(p+w/2);for(var A=s.group({class:"apexcharts-datalabels","data:realIndex":v}),T=s.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),I=0;I<i.globals.dataPoints;I++){var P=this.barHelpers.getStrokeWidth(r,I,v),M=null,L={indexes:{i:r,j:I,realIndex:v,bc:l},x:p,y:m,strokeWidth:P,elSeries:y};this.isHorizontal?(M=this.drawBarPaths(o(o({},L),{},{barHeight:b,zeroW:u,yDivision:h})),w=this.series[r][I]/this.invertedYRatio):(M=this.drawColumnPaths(o(o({},L),{},{xDivision:c,barWidth:w,zeroH:d})),b=this.series[r][I]/this.yRatio[this.yaxisIndex]);var _=this.barHelpers.drawGoalLine({barXPosition:M.barXPosition,barYPosition:M.barYPosition,goalX:M.goalX,goalY:M.goalY,barHeight:b,barWidth:w});_&&T.add(_),m=M.y,p=M.x,I>0&&g.push(p+w/2),f.push(m);var D=this.barHelpers.getPathFillColor(t,r,I,v);this.renderSeries({realIndex:v,pathFill:D,j:I,i:r,pathFrom:M.pathFrom,pathTo:M.pathTo,strokeWidth:P,elSeries:y,x:p,y:m,series:t,barHeight:b,barWidth:w,elDataLabelsWrap:A,elGoalsMarkers:T,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[v]=g,i.globals.seriesYvalues[v]=f,n.add(y)}return n}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,s=t.lineFill,a=t.j,o=t.i,n=t.pathFrom,r=t.pathTo,l=t.strokeWidth,c=t.elSeries,h=t.x,d=t.y,u=t.y1,p=t.y2,m=t.series,f=t.barHeight,g=t.barWidth,v=t.barYPosition,y=t.elDataLabelsWrap,b=t.elGoalsMarkers,x=t.visibleSeries,w=t.type,S=this.w,A=new C(this.ctx);s||(s=this.barOptions.distributed?S.globals.stroke.colors[a]:S.globals.stroke.colors[e]),S.config.series[o].data[a]&&S.config.series[o].data[a].strokeColor&&(s=S.config.series[o].data[a].strokeColor),this.isNullValue&&(i="none");var T=a/S.config.chart.animations.animateGradually.delay*(S.config.chart.animations.speed/S.globals.dataPoints)/2.4,I=A.renderPaths({i:o,j:a,realIndex:e,pathFrom:n,pathTo:r,stroke:s,strokeWidth:l,strokeLineCap:S.config.stroke.lineCap,fill:i,animationDelay:T,initialSpeed:S.config.chart.animations.speed,dataChangeSpeed:S.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});I.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")"));var P=S.config.forecastDataPoints;P.count>0&&a>=S.globals.dataPoints-P.count&&(I.node.setAttribute("stroke-dasharray",P.dashArray),I.node.setAttribute("stroke-width",P.strokeWidth),I.node.setAttribute("fill-opacity",P.fillOpacity)),void 0!==u&&void 0!==p&&(I.attr("data-range-y1",u),I.attr("data-range-y2",p)),new k(this.ctx).setSelectionFilter(I,e,a),c.add(I);var M=new kt(this).handleBarDataLabels({x:h,y:d,y1:u,y2:p,i:o,j:a,series:m,realIndex:e,barHeight:f,barWidth:g,barYPosition:v,renderedPath:I,visibleSeries:x});return null!==M.dataLabels&&y.add(M.dataLabels),M.totalDataLabels&&y.add(M.totalDataLabels),c.add(y),b&&c.add(b),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,s=t.strokeWidth,a=t.zeroW,o=t.x,n=t.y,r=t.yDivision,l=t.elSeries,c=this.w,h=e.i,d=e.j;c.globals.isXNumeric&&(n=(c.globals.seriesX[h][d]-c.globals.minX)/this.invertedXRatio-i);var u=n+i*this.visibleI;o=this.barHelpers.getXForValue(this.series[h][d],a);var p=this.barHelpers.getBarpaths({barYPosition:u,barHeight:i,x1:a,x2:o,strokeWidth:s,series:this.series,realIndex:e.realIndex,i:h,j:d,w:c});return c.globals.isXNumeric||(n+=r),this.barHelpers.barBackground({j:d,i:h,y1:u-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:o,y:n,goalX:this.barHelpers.getGoalValues("x",a,null,h,d),barYPosition:u}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,n=t.zeroH,r=t.strokeWidth,l=t.elSeries,c=this.w,h=e.realIndex,d=e.i,u=e.j,p=e.bc;if(c.globals.isXNumeric){var m=h;c.globals.seriesX[h].length||(m=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[m][u]-c.globals.minX)/this.xRatio-o*this.seriesLen/2}var f=i+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[d][u],n);var g=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:o,y1:n,y2:s,strokeWidth:r,series:this.series,realIndex:e.realIndex,i:d,j:u,w:c});return c.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:p,j:u,i:d,x1:f-r/2-o*this.visibleI,x2:o*this.seriesLen+r/2,elSeries:l}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,n,d,u),barXPosition:f}}},{key:"getPreviousPath",value:function(t,e){for(var i,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==s.globals.previousPaths[a].paths[e]&&(i=s.globals.previousPaths[a].paths[e].d)}return i}}]),t}(),At=function(t){d(i,St);var e=f(i);function i(){return r(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w;this.graphics=new C(this.ctx),this.bar=new St(this.ctx,this.xyRatios);var a=new S(this.ctx,s);t=a.getLogSeries(t),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===s.config.chart.stackType&&(t=s.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var n=0;n<t.length;n++)t[n].length>0&&(this.totalItems+=t[n].length);for(var r=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,h=function(a,n){var h=void 0,d=void 0,u=void 0,p=void 0,m=[],f=[],g=s.globals.comboCharts?e[a]:a;i.yRatio.length>1&&(i.yaxisIndex=g),i.isReversed=s.config.yaxis[i.yaxisIndex]&&s.config.yaxis[i.yaxisIndex].reversed;var v=i.graphics.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[g]),rel:a+1,"data:realIndex":g});i.ctx.series.addCollapsedClassToSeries(v,g);var y=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":g}),b=i.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),w=0,k=0,C=i.initialPositions(l,c,h,d,u,p);c=C.y,w=C.barHeight,d=C.yDivision,p=C.zeroW,l=C.x,k=C.barWidth,h=C.xDivision,u=C.zeroH,i.yArrj=[],i.yArrjF=[],i.yArrjVal=[],i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],1===i.prevY.length&&i.prevY[0].every((function(t){return isNaN(t)}))&&(i.prevY[0]=i.prevY[0].map((function(t){return u})),i.prevYF[0]=i.prevYF[0].map((function(t){return 0})));for(var S=0;S<s.globals.dataPoints;S++){var A=i.barHelpers.getStrokeWidth(a,S,g),T={indexes:{i:a,j:S,realIndex:g,bc:n},strokeWidth:A,x:l,y:c,elSeries:v},I=null;i.isHorizontal?(I=i.drawStackedBarPaths(o(o({},T),{},{zeroW:p,barHeight:w,yDivision:d})),k=i.series[a][S]/i.invertedYRatio):(I=i.drawStackedColumnPaths(o(o({},T),{},{xDivision:h,barWidth:k,zeroH:u})),w=i.series[a][S]/i.yRatio[i.yaxisIndex]);var P=i.barHelpers.drawGoalLine({barXPosition:I.barXPosition,barYPosition:I.barYPosition,goalX:I.goalX,goalY:I.goalY,barHeight:w,barWidth:k});P&&b.add(P),c=I.y,l=I.x,m.push(l),f.push(c);var M=i.barHelpers.getPathFillColor(t,a,S,g);v=i.renderSeries({realIndex:g,pathFill:M,j:S,i:a,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:A,elSeries:v,x:l,y:c,series:t,barHeight:w,barWidth:k,elDataLabelsWrap:y,elGoalsMarkers:b,type:"bar",visibleSeries:0})}s.globals.seriesXvalues[g]=m,s.globals.seriesYvalues[g]=f,i.prevY.push(i.yArrj),i.prevYF.push(i.yArrjF),i.prevYVal.push(i.yArrjVal),i.prevX.push(i.xArrj),i.prevXF.push(i.xArrjF),i.prevXVal.push(i.xArrjVal),r.add(v)},d=0,u=0;d<t.length;d++,u++)h(d,u);return r}},{key:"initialPositions",value:function(t,e,i,s,a,o){var n,r,l=this.w;return this.isHorizontal?(n=(n=s=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(s-n)/2):(r=i=l.globals.gridWidth/l.globals.dataPoints,r=l.globals.isXNumeric&&l.globals.dataPoints>1?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:r*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,a=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-r)/2),{x:t,y:e,yDivision:s,xDivision:i,barHeight:n,barWidth:r,zeroH:a,zeroW:o}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,s=t.barHeight,a=t.strokeWidth,o=t.zeroW,n=t.x,r=t.y,l=t.yDivision,c=t.elSeries,h=this.w,d=r,u=i.i,p=i.j,m=0,f=0;f<this.prevXF.length;f++)m+=this.prevXF[f][p];if(u>0){var g=o;this.prevXVal[u-1][p]<0?g=this.series[u][p]>=0?this.prevX[u-1][p]+m-2*(this.isReversed?m:0):this.prevX[u-1][p]:this.prevXVal[u-1][p]>=0&&(g=this.series[u][p]>=0?this.prevX[u-1][p]:this.prevX[u-1][p]-m+2*(this.isReversed?m:0)),e=g}else e=o;n=null===this.series[u][p]?e:e+this.series[u][p]/this.invertedYRatio-2*(this.isReversed?this.series[u][p]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:d,barHeight:s,x1:e,x2:n,strokeWidth:a,series:this.series,realIndex:i.realIndex,i:u,j:p,w:h});return this.barHelpers.barBackground({j:p,i:u,y1:d,y2:s,elSeries:c}),r+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,goalX:this.barHelpers.getGoalValues("x",o,null,u,p),barYPosition:d,x:n,y:r}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,n=t.zeroH;t.strokeWidth;var r=t.elSeries,l=this.w,c=e.i,h=e.j,d=e.bc;if(l.globals.isXNumeric){var u=l.globals.seriesX[c][h];u||(u=0),i=(u-l.globals.minX)/this.xRatio-o/2}for(var p,m=i,f=0,g=0;g<this.prevYF.length;g++)f+=isNaN(this.prevYF[g][h])?0:this.prevYF[g][h];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][h]===l.globals.seriesX[c][h]){var v,y,b=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var x=1;x<b;x++)if(!isNaN(this.prevY[c-x][h])){y=this.prevY[c-x][h];break}for(var w=1;w<b;w++){if(this.prevYVal[c-w][h]<0){v=this.series[c][h]>=0?y-f+2*(this.isReversed?f:0):y;break}if(this.prevYVal[c-w][h]>=0){v=this.series[c][h]>=0?y:y+f-2*(this.isReversed?f:0);break}}void 0===v&&(v=l.globals.gridHeight),p=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?n:v}else p=n;s=p-this.series[c][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][h]/this.yRatio[this.yaxisIndex]:0);var k=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:o,y1:p,y2:s,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:h,w:l});return this.barHelpers.barBackground({bc:d,j:h,i:c,x1:m,x2:o,elSeries:r}),i+=a,{pathTo:k.pathTo,pathFrom:k.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,n,c,h),barXPosition:m,x:l.globals.isXNumeric?i-a:i,y:s}}}]),i}(),Tt=function(t){d(i,St);var e=f(i);function i(){return r(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w,a=new C(this.ctx),n=new z(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal;var r=new S(this.ctx,s);t=r.getLogSeries(t),this.series=t,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var l=a.group({class:"apexcharts-".concat(s.config.chart.type,"-series apexcharts-plot-series")}),c=function(r){i.isBoxPlot="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[r].type;var c,h,d,u,p,m,f=void 0,g=void 0,v=[],y=[],b=s.globals.comboCharts?e[r]:r,w=a.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[b]),rel:r+1,"data:realIndex":b});i.ctx.series.addCollapsedClassToSeries(w,b),t[r].length>0&&(i.visibleI=i.visibleI+1),i.yRatio.length>1&&(i.yaxisIndex=b);var k=i.barHelpers.initialPositions();g=k.y,p=k.barHeight,h=k.yDivision,u=k.zeroW,f=k.x,m=k.barWidth,c=k.xDivision,d=k.zeroH,y.push(f+m/2);for(var C=a.group({class:"apexcharts-datalabels","data:realIndex":b}),S=function(e){var a=i.barHelpers.getStrokeWidth(r,e,b),l=null,x={indexes:{i:r,j:e,realIndex:b},x:f,y:g,strokeWidth:a,elSeries:w};l=i.isHorizontal?i.drawHorizontalBoxPaths(o(o({},x),{},{yDivision:h,barHeight:p,zeroW:u})):i.drawVerticalBoxPaths(o(o({},x),{},{xDivision:c,barWidth:m,zeroH:d})),g=l.y,f=l.x,e>0&&y.push(f+m/2),v.push(g),l.pathTo.forEach((function(o,c){var h=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?l.color[c]:s.globals.stroke.colors[r],d=n.fillPath({seriesNumber:b,dataPointIndex:e,color:l.color[c],value:t[r][e]});i.renderSeries({realIndex:b,pathFill:d,lineFill:h,j:e,i:r,pathFrom:l.pathFrom,pathTo:o,strokeWidth:a,elSeries:w,x:f,y:g,series:t,barHeight:p,barWidth:m,elDataLabelsWrap:C,visibleSeries:i.visibleI,type:s.config.chart.type})}))},A=0;A<s.globals.dataPoints;A++)S(A);s.globals.seriesXvalues[b]=y,s.globals.seriesYvalues[b]=v,l.add(w)},h=0;h<t.length;h++)c(h);return l}},{key:"drawVerticalBoxPaths",value:function(t){var e=t.indexes,i=t.x;t.y;var s=t.xDivision,a=t.barWidth,o=t.zeroH,n=t.strokeWidth,r=this.w,l=new C(this.ctx),c=e.i,h=e.j,d=!0,u=r.config.plotOptions.candlestick.colors.upward,p=r.config.plotOptions.candlestick.colors.downward,m="";this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.yRatio[this.yaxisIndex],g=e.realIndex,v=this.getOHLCValue(g,h),y=o,b=o;v.o>v.c&&(d=!1);var x=Math.min(v.o,v.c),w=Math.max(v.o,v.c),k=v.m;r.globals.isXNumeric&&(i=(r.globals.seriesX[g][h]-r.globals.minX)/this.xRatio-a/2);var S=i+a*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?(x=o,w=o):(x=o-x/f,w=o-w/f,y=o-v.h/f,b=o-v.l/f,k=o-v.m/f);var A=l.move(S,o),T=l.move(S+a/2,x);return r.globals.previousPaths.length>0&&(T=this.getPreviousPath(g,h,!0)),A=this.isBoxPlot?[l.move(S,x)+l.line(S+a/2,x)+l.line(S+a/2,y)+l.line(S+a/4,y)+l.line(S+a-a/4,y)+l.line(S+a/2,y)+l.line(S+a/2,x)+l.line(S+a,x)+l.line(S+a,k)+l.line(S,k)+l.line(S,x+n/2),l.move(S,k)+l.line(S+a,k)+l.line(S+a,w)+l.line(S+a/2,w)+l.line(S+a/2,b)+l.line(S+a-a/4,b)+l.line(S+a/4,b)+l.line(S+a/2,b)+l.line(S+a/2,w)+l.line(S,w)+l.line(S,k)+"z"]:[l.move(S,w)+l.line(S+a/2,w)+l.line(S+a/2,y)+l.line(S+a/2,w)+l.line(S+a,w)+l.line(S+a,x)+l.line(S+a/2,x)+l.line(S+a/2,b)+l.line(S+a/2,x)+l.line(S,x)+l.line(S,w-n/2)],T+=l.move(S,x),r.globals.isXNumeric||(i+=s),{pathTo:A,pathFrom:T,x:i,y:w,barXPosition:S,color:this.isBoxPlot?m:d?[u]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(t){var e=t.indexes;t.x;var i=t.y,s=t.yDivision,a=t.barHeight,o=t.zeroW,n=t.strokeWidth,r=this.w,l=new C(this.ctx),c=e.i,h=e.j,d=this.boxOptions.colors.lower;this.isBoxPlot&&(d=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var u=this.invertedYRatio,p=e.realIndex,m=this.getOHLCValue(p,h),f=o,g=o,v=Math.min(m.o,m.c),y=Math.max(m.o,m.c),b=m.m;r.globals.isXNumeric&&(i=(r.globals.seriesX[p][h]-r.globals.minX)/this.invertedXRatio-a/2);var x=i+a*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?(v=o,y=o):(v=o+v/u,y=o+y/u,f=o+m.h/u,g=o+m.l/u,b=o+m.m/u);var w=l.move(o,x),k=l.move(v,x+a/2);return r.globals.previousPaths.length>0&&(k=this.getPreviousPath(p,h,!0)),w=[l.move(v,x)+l.line(v,x+a/2)+l.line(f,x+a/2)+l.line(f,x+a/2-a/4)+l.line(f,x+a/2+a/4)+l.line(f,x+a/2)+l.line(v,x+a/2)+l.line(v,x+a)+l.line(b,x+a)+l.line(b,x)+l.line(v+n/2,x),l.move(b,x)+l.line(b,x+a)+l.line(y,x+a)+l.line(y,x+a/2)+l.line(g,x+a/2)+l.line(g,x+a-a/4)+l.line(g,x+a/4)+l.line(g,x+a/2)+l.line(y,x+a/2)+l.line(y,x)+l.line(b,x)+"z"],k+=l.move(v,x),r.globals.isXNumeric||(i+=s),{pathTo:w,pathFrom:k,x:y,y:i,barYPosition:x,color:d}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:this.isBoxPlot?i.globals.seriesCandleH[t][e]:i.globals.seriesCandleO[t][e],h:this.isBoxPlot?i.globals.seriesCandleO[t][e]:i.globals.seriesCandleH[t][e],m:i.globals.seriesCandleM[t][e],l:this.isBoxPlot?i.globals.seriesCandleC[t][e]:i.globals.seriesCandleL[t][e],c:this.isBoxPlot?i.globals.seriesCandleL[t][e]:i.globals.seriesCandleC[t][e]}}}]),i}(),It=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(t,i){t.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,s){var a=this.w,o=1,n=a.config.plotOptions[t].shadeIntensity,r=this.determineColor(t,e,i);a.globals.hasNegs||s?o=a.config.plotOptions[t].reverseNegativeShade?r.percent<0?r.percent/100*(1.25*n):(1-r.percent/100)*(1.25*n):r.percent<=0?1-(1+r.percent/100)*n:(1-r.percent/100)*n:(o=1-r.percent/100,"treemap"===t&&(o=(1-r.percent/100)*(1.25*n)));var l=r.color,c=new x;return a.config.plotOptions[t].enableShades&&(l="dark"===this.w.config.theme.mode?x.hexToRgba(c.shadeColor(-1*o,r.color),a.config.fill.opacity):x.hexToRgba(c.shadeColor(o,r.color),a.config.fill.opacity)),{color:l,colorProps:r}}},{key:"determineColor",value:function(t,e,i){var s=this.w,a=s.globals.series[e][i],o=s.config.plotOptions[t],n=o.colorScale.inverse?i:e;o.distributed&&"treemap"===s.config.chart.type&&(n=i);var r=s.globals.colors[n],l=null,c=Math.min.apply(Math,v(s.globals.series[e])),h=Math.max.apply(Math,v(s.globals.series[e]));o.distributed||"heatmap"!==t||(c=s.globals.minY,h=s.globals.maxY),void 0!==o.colorScale.min&&(c=o.colorScale.min<s.globals.minY?o.colorScale.min:s.globals.minY,h=o.colorScale.max>s.globals.maxY?o.colorScale.max:s.globals.maxY);var d=Math.abs(h)+Math.abs(c),u=100*a/(0===d?d-1e-6:d);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(t,e){if(a>=t.from&&a<=t.to){r=t.color,l=t.foreColor?t.foreColor:null,c=t.from,h=t.to;var i=Math.abs(h)+Math.abs(c);u=100*a/(0===i?i-1e-6:i)}})),{color:r,foreColor:l,percent:u}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,s=t.y,a=t.i,o=t.j,n=t.colorProps,r=t.fontSize,l=this.w.config.dataLabels,c=new C(this.ctx),h=new H(this.ctx),d=null;if(l.enabled){d=c.group({class:"apexcharts-data-labels"});var u=l.offsetX,p=l.offsetY,m=i+u,f=s+parseFloat(l.style.fontSize)/3+p;h.plotDataLabelsText({x:m,y:f,text:e,i:a,j:o,color:n.foreColor,parent:d,fontSize:r,dataLabelsConfig:l})}return d}},{key:"addListeners",value:function(t){var e=new C(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),t}(),Pt=function(){function t(e,i){r(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new It(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(t,[{key:"draw",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var a=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,n=0,r=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(r=!0,l.reverse());for(var c=r?0:l.length-1;r?c<l.length:c>=0;r?c++:c--){var h=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:x.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(h,c),e.config.chart.dropShadow.enabled){var d=e.config.chart.dropShadow;new k(this.ctx).dropShadow(h,d,c)}for(var u=0,p=e.config.plotOptions.heatmap.shadeIntensity,m=0;m<l[c].length;m++){var f=this.helpers.getShadeColor(e.config.chart.type,c,m,this.negRange),g=f.color,v=f.colorProps;"image"===e.config.fill.type&&(g=new z(this.ctx).fillPath({seriesNumber:c,dataPointIndex:m,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:x.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:a,height:e.config.fill.image.height?e.config.fill.image.height:o}));var y=this.rectRadius,b=i.drawRect(u,n,a,o,y);if(b.attr({cx:u,cy:n}),b.node.classList.add("apexcharts-heatmap-rect"),h.add(b),b.attr({fill:g,i:c,index:c,j:m,val:l[c][m],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?g:e.globals.stroke.colors[0],color:g}),this.helpers.addListeners(b),e.config.chart.animations.enabled&&!e.globals.dataChanged){var w=1;e.globals.resized||(w=e.config.chart.animations.speed),this.animateHeatMap(b,u,n,a,o,w)}if(e.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){S=this.dynamicAnim.speed;var A=e.globals.previousPaths[c]&&e.globals.previousPaths[c][m]&&e.globals.previousPaths[c][m].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(b,x.isColorHex(A)?A:x.rgb2hex(A),x.isColorHex(g)?g:x.rgb2hex(g),S)}}var T=(0,e.config.dataLabels.formatter)(e.globals.series[c][m],{value:e.globals.series[c][m],seriesIndex:c,dataPointIndex:m,w:e}),I=this.helpers.calculateDataLabels({text:T,x:u+a/2,y:n+o/2,i:c,j:m,colorProps:v,series:l});null!==I&&h.add(I),u+=a}n+=o,s.add(h)}var P=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?P.unshift(""):P.push(""),e.globals.yAxisScale[0].result=P;var M=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-M/2,s}},{key:"animateHeatMap",value:function(t,e,i,s,a,o){var n=new w(this.ctx);n.animateRect(t,{x:e+s/2,y:i+a/2,width:0,height:0},{x:e,y:i,width:s,height:a},o,(function(){n.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,s){t.attr({fill:e}).animate(s).attr({fill:i})}}]),t}(),Mt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawYAxisTexts",value:function(t,e,i,s){var a=this.w,o=a.config.yaxis[0],n=a.globals.yLabelFormatters[0];return new C(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:n(s,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),t}(),Lt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,"radialBar"===i.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new C(this.ctx);if(this.ret=s.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var a=0,o=0;o<t.length;o++)a+=x.negToZero(t[o]);var n=[],r=s.group();0===a&&(a=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var c=this.fullAngle*x.negToZero(t[l])/a;n.push(c),"polarArea"===this.chartType?(n[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var h,d=0,u=0;u<i.globals.previousPaths.length;u++)d+=x.negToZero(i.globals.previousPaths[u]);for(var p=0;p<i.globals.previousPaths.length;p++)h=this.fullAngle*x.negToZero(i.globals.previousPaths[p])/d,this.prevSectorAngleArr.push(h)}this.donutSize<0&&(this.donutSize=0);var m=i.config.plotOptions.pie.customScale,f=i.globals.gridWidth/2,g=i.globals.gridHeight/2,v=f-i.globals.gridWidth/2*m,y=g-i.globals.gridHeight/2*m;if("donut"===this.chartType){var b=s.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),r.add(b)}var w=this.drawArcs(n,t);if(this.sliceLabels.forEach((function(t){w.add(t)})),r.attr({transform:"translate(".concat(v,", ").concat(y,") scale(").concat(m,")")}),r.add(w),this.ret.add(r),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:y});this.ret.add(k)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,s=new k(this.ctx),a=new C(this.ctx),o=new z(this.ctx),n=a.group({class:"apexcharts-slices"}),r=this.initialAngle,l=this.initialAngle,c=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var d=0;d<t.length;d++){var u=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:x.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});n.add(u),l=h,c=(r=c)+t[d],h=l+this.prevSectorAngleArr[d];var p=c<r?this.fullAngle+c-r:c-r,m=o.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:e[d]}),f=this.getChangedPath(l,h),g=a.drawPath({d:f,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(g.attr({index:0,j:d}),s.setSelectionFilter(g,0,d),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;s.dropShadow(g,v,d)}this.addListeners(g,this.donutDataLabels),C.setAttrs(g.node,{"data:angle":p,"data:startAngle":r,"data:strokeWidth":this.strokeWidth,"data:value":e[d]});var y={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?y=x.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(r+p/2)%this.fullAngle):"donut"===this.chartType&&(y=x.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(r+p/2)%this.fullAngle)),u.add(g);var b=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0===(b=p/this.fullAngle*i.config.chart.animations.speed)&&(b=1),this.animDur=b+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[d],endAngle:c,startAngle:r,prevStartAngle:l,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[d],endAngle:c,startAngle:r,i:d,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:b}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,d)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),i.config.dataLabels.enabled){var w=y.x,S=y.y,A=100*p/this.fullAngle+"%";if(0!==p&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[d]){var T=i.config.dataLabels.formatter;void 0!==T&&(A=T(i.globals.seriesPercent[d][0],{seriesIndex:d,w:i}));var I=i.globals.dataLabels.style.colors[d],P=a.group({class:"apexcharts-datalabels"}),M=a.drawText({x:w,y:S,text:A,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:I});if(P.add(M),i.config.dataLabels.dropShadow.enabled){var L=i.config.dataLabels.dropShadow;s.dropShadow(M,L)}M.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(M.node.classList.add("apexcharts-pie-label-delay"),M.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(P)}}}return n}},{key:"addListeners",value:function(t,e){var i=new C(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,s=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,a=s,o=e.startAngle,n=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,a=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(s+n>this.fullAngle?e.endAngle=e.endAngle-(s+n):s+n<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(s+n)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(t,o,n,s,a,e)}},{key:"animateArc",value:function(t,e,i,s,a,o){var n,r=this,l=this.w,c=new w(this.ctx),h=o.size;(isNaN(e)||isNaN(a))&&(e=i,a=s,o.dur=0);var d=s,u=i,p=e<i?this.fullAngle+e-i:e-i;l.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(n=r.getPiePath({me:r,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),t.attr({d:n})),0!==o.dur?t.animate(o.dur,l.globals.easing,o.animBeginArr[o.i]).afterAll((function(){"pie"!==r.chartType&&"donut"!==r.chartType&&"polarArea"!==r.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":r.strokeWidth}),o.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){d=p+(s-p)*l,o.animateStartingPos&&(d=a+(s-a)*l,u=e-a+(i-(e-a))*l),n=r.getPiePath({me:r,startAngle:u,angle:d,size:h}),t.node.setAttribute("data:pathOrig",n),t.attr({d:n})})):(n=r.getPiePath({me:r,startAngle:u,angle:s,size:h}),o.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",n),t.attr({d:n,"stroke-width":r.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,s=this,a=s.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.select(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==o.attr("data:pieClicked")){var n=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(n,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),o.attr("data:pieClicked","true");var r=parseInt(o.attr("data:startAngle"),10),l=parseInt(o.attr("data:angle"),10);e=s.getPiePath({me:s,startAngle:r,angle:l,size:a}),360!==l&&o.plot(e)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var c=o.attr("data:pathOrig");o.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,s=t.angle,a=t.size,o=i,n=Math.PI*(o-90)/180,r=s+i;Math.ceil(r)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(r=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(r)>this.fullAngle&&(r-=this.fullAngle);var l=Math.PI*(r-90)/180,c=e.centerX+a*Math.cos(n),h=e.centerY+a*Math.sin(n),d=e.centerX+a*Math.cos(l),u=e.centerY+a*Math.sin(l),p=x.polarToCartesian(e.centerX,e.centerY,e.donutSize,r),m=x.polarToCartesian(e.centerX,e.centerY,e.donutSize,o),f=s>180?1:0,g=["M",c,h,"A",a,a,0,f,1,d,u];return"donut"===e.chartType?[].concat(g,["L",p.x,p.y,"A",e.donutSize,e.donutSize,0,f,0,m.x,m.y,"L",c,h,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(g,["L",e.centerX,e.centerY,"L",c,h]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new J(this.ctx),s=new C(this.ctx),a=new Mt(this.ctx),o=s.group(),n=s.group(),r=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),l=r.result.reverse(),c=r.result.length;this.maxY=r.niceMax;for(var h=e.globals.radialSize,d=h/(c-1),u=0;u<c-1;u++){var p=s.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var m=a.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,u,l[u]);n.add(m)}o.add(p),h-=d}this.drawSpokes(t),t.add(o),t.add(n)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,s=new C(this.ctx),a=s.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),o=t.total.show;a.node.style.opacity=e.opacity;var n,r,l=e.centerX,c=e.centerY;n=void 0===t.name.color?i.globals.colors[0]:t.name.color;var h=t.name.fontSize,d=t.name.fontFamily,u=t.name.fontWeight;r=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",f="";if(o?(n=t.total.color,h=t.total.fontSize,d=t.total.fontFamily,u=t.total.fontWeight,f=t.total.label,m=t.total.formatter(i)):1===i.globals.series.length&&(m=p(i.globals.series[0],i),f=i.globals.seriesNames[0]),f&&(f=t.name.formatter(f,t.total.show,i)),t.name.show){var g=s.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:f,textAnchor:"middle",foreColor:n,fontSize:h,fontWeight:u,fontFamily:d});g.node.classList.add("apexcharts-datalabel-label"),a.add(g)}if(t.value.show){var v=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,y=s.drawText({x:l,y:c+v,text:m,textAnchor:"middle",foreColor:r,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),a.add(y)}return a}},{key:"printInnerLabels",value:function(t,e,i,s){var a,o=this.w;s?a=void 0===t.name.color?o.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(a=t.total.color);var n=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,o),s||"function"!=typeof t.total.formatter||(i=t.total.formatter(o));var l=e===t.total.label;e=t.name.formatter(e,l,o),null!==n&&(n.textContent=e),null!==r&&(r.textContent=i),null!==n&&(n.style.fill=a)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,s=t.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,a,s,t);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,s=new C(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var o=[],n=360/i.globals.series.length,r=0;r<i.globals.series.length;r++)o.push(x.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+n*r));o.forEach((function(i,o){var n=s.drawLine(i.x,i.y,e.centerX,e.centerY,Array.isArray(a.connectorColors)?a.connectorColors[o]:a.connectorColors);t.add(n)}))}}},{key:"revertDataLabelsInner",value:function(t,e,i){var s=this,a=this.w,o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),n=!1,r=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var i=t.makeSliceOut,a=t.printLabel;Array.prototype.forEach.call(r,(function(t){"true"===t.getAttribute("data:pieClicked")&&(i&&(n=!0),a&&s.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&a.globals.series.length>1)n&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(a));else if(l({makeSliceOut:!1,printLabel:!0}),!n)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var c=a.globals.selectedDataPoints[0],h=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(h,e)}else o&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(o.style.opacity=0);else o&&a.globals.series.length>1&&(o.style.opacity=0)}}]),t}(),_t=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new C(this.ctx),this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new S(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),void 0!==i.config.plotOptions.radar.size&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new z(this.ctx),a=[],n=new H(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var r=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=r+i.config.plotOptions.radar.offsetX,h=l+i.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(h||0,")")}),u=[],p=null,m=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,r){var l=t.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:x.escapeString(i.globals.seriesNames[r]),rel:r+1,"data:realIndex":r});e.dataRadiusOfPercent[r]=[],e.dataRadius[r]=[],e.angleArr[r]=[],t.forEach((function(t,i){var s=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.isLog&&(t=e.coreUtils.getLogVal(t,0)),e.dataRadiusOfPercent[r][i]=t/s,e.dataRadius[r][i]=e.dataRadiusOfPercent[r][i]*e.size,e.angleArr[r][i]=i*e.disAngle})),u=e.getDataPointsPos(e.dataRadius[r],e.angleArr[r]);var h=e.createPaths(u,{x:0,y:0});p=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),m=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":r}),i.globals.delayedElements.push({el:p.node,index:r});var d={i:r,realIndex:r,animationDelay:r,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[r],strokeLineCap:i.config.stroke.lineCap},f=null;i.globals.previousPaths.length>0&&(f=e.getPreviousPath(r));for(var g=0;g<h.linePathsTo.length;g++){var v=e.graphics.renderPaths(o(o({},d),{},{pathFrom:null===f?h.linePathsFrom[g]:f,pathTo:h.linePathsTo[g],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[r]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var y=s.fillPath({seriesNumber:r}),b=e.graphics.renderPaths(o(o({},d),{},{pathFrom:null===f?h.areaPathsFrom[g]:f,pathTo:h.areaPathsTo[g],strokeWidth:0,fill:y,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var w=new k(e.ctx),C=i.config.chart.dropShadow;w.dropShadow(b,Object.assign({},C,{noUserSpaceOnUse:!0}),r)}c.add(b)}t.forEach((function(t,s){var a=new $(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:r,dataPointIndex:s}),l=e.graphics.drawMarker(u[s].x,u[s].y,a);l.attr("rel",s),l.attr("j",s),l.attr("index",r),l.node.setAttribute("default-marker-size",a.pSize);var h=e.graphics.group({class:"apexcharts-series-markers"});h&&h.add(l),p.add(h),c.add(p);var d=i.config.dataLabels;if(d.enabled){var f=d.formatter(i.globals.series[r][s],{seriesIndex:r,dataPointIndex:s,w:i});n.plotDataLabelsText({x:u[s].x,y:u[s].y,text:f,textAnchor:"middle",i:r,j:r,parent:m,offsetCorrection:!1,dataLabelsConfig:o({},d)})}c.add(m)})),a.push(c)})),this.drawPolygons({parent:d}),i.config.xaxis.labels.show){var f=this.drawXAxisTexts();d.add(f)}return a.forEach((function(t){d.add(t)})),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,s=t.parent,a=new Mt(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),n=o.length,r=[],l=this.size/(n-1),c=0;c<n;c++)r[c]=l*c;r.reverse();var h=[],d=[];r.forEach((function(t,i){var s=x.getPolygonPos(t,e.dataPointsLen),a="";s.forEach((function(t,s){if(0===i){var o=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[s]:e.polygons.connectorColors);d.push(o)}0===s&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),a+=t.x+","+t.y+" "})),h.push(a)})),h.forEach((function(t,a){var o=e.polygons.strokeColors,n=e.polygons.strokeWidth,r=e.graphics.drawPolygon(t,Array.isArray(o)?o[a]:o,Array.isArray(n)?n[a]:n,i.globals.radarPolygons.fill.colors[a]);s.add(r)})),d.forEach((function(t){s.add(t)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,i){var s=a.drawYAxisTexts(t.x,t.y,i,o[i]);e.yaxisLabels.add(s)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=x.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(n,r){var l=e.config.xaxis.labels.formatter,c=new H(t.ctx);if(a[r]){var h=t.getTextPos(a[r],t.size),d=l(n,{seriesIndex:-1,dataPointIndex:r,w:e});c.plotDataLabelsText({x:h.newX,y:h.newY,text:d,textAnchor:h.textAnchor,i:r,j:r,parent:s,color:Array.isArray(i.style.colors)&&i.style.colors[r]?i.style.colors[r]:"#a8a8a8",dataLabelsConfig:o({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}})),s}},{key:"createPaths",value:function(t,e){var i=this,s=[],a=[],o=[],n=[];if(t.length){a=[this.graphics.move(e.x,e.y)],n=[this.graphics.move(e.x,e.y)];var r=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,s){r+=i.graphics.line(e.x,e.y),l+=i.graphics.line(e.x,e.y),s===t.length-1&&(r+="Z",l+="Z")})),s.push(r),o.push(l)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:n,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var i="middle",s=t.x,a=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",s+=10):t.x<0&&(i="end",s-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?a-=10:t.y>0&&(a+=10)),{textAnchor:i,newX:s,newY:a}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,s=0;s<e.globals.previousPaths.length;s++){var a=e.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[s].paths[0]&&(i=e.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var s=[],a=0;a<i;a++){var o={};o.x=t[a]*Math.sin(e[a]),o.y=-t[a]*Math.cos(e[a]),s.push(o)}return s}}]),t}(),Dt=function(t){d(i,Lt);var e=f(i);function i(t){var s;r(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),360===s.endAngle&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s}return c(i,[{key:"draw",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-radialbar"});if(e.globals.noData)return s;var a=i.group(),o=this.defaultSize/2,n=e.globals.gridWidth/2,r=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(r=r-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:r,centerX:n,centerY:o,colorArr:l,series:t});a.add(c)}var h=this.drawArcs({size:r,centerX:n,centerY:o,colorArr:l,series:t}),d=360;e.config.plotOptions.radialBar.startAngle<0&&(d=this.totalAngle);var u=(360-d)/360;if(e.globals.radialSize=r-r*u,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=p*u}return a.add(h.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(h.g.add(h.elHollow),h.dataLabels&&h.g.add(h.dataLabels)),s.add(a),s}},{key:"drawTracks",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-tracks"}),a=new k(this.ctx),o=new z(this.ctx),n=this.getStrokeWidth(t);t.size=t.size-n/2;for(var r=0;r<t.series.length;r++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(l),l.attr({rel:r+1}),t.size=t.size-n-this.margin;var c=e.config.plotOptions.radialBar.track,h=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[r]:c.background,solid:!0}),d=this.trackStartAngle,u=this.trackEndAngle;Math.abs(u)+Math.abs(d)>=360&&(u=360-Math.abs(this.startAngle)-.1);var p=i.drawPath({d:"",stroke:h,strokeWidth:n*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var m=c.dropShadow;a.dropShadow(p,m)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+r),this.animatePaths(p,{centerX:t.centerX,centerY:t.centerY,endAngle:u,startAngle:d,size:t.size,i:r,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return s}},{key:"drawArcs",value:function(t){var e=this.w,i=new C(this.ctx),s=new z(this.ctx),a=new k(this.ctx),o=i.group(),n=this.getStrokeWidth(t);t.size=t.size-n/2;var r=e.config.plotOptions.radialBar.hollow.background,l=t.size-n*t.series.length-this.margin*t.series.length-n*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(r=this.drawHollowImage(t,o,l,r));var h=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:r||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var d=e.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(h,d)}var u=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(u=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:u})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(h),p&&o.add(p));var m=!1;e.config.plotOptions.radialBar.inverseOrder&&(m=!0);for(var f=m?t.series.length-1:0;m?f>=0:f<t.series.length;m?f--:f++){var g=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:x.escapeString(e.globals.seriesNames[f])});o.add(g),g.attr({rel:f+1,"data:realIndex":f}),this.ctx.series.addCollapsedClassToSeries(g,f),t.size=t.size-n-this.margin;var v=s.fillPath({seriesNumber:f,size:t.size,value:t.series[f]}),y=this.startAngle,b=void 0,w=x.negToZero(t.series[f]>100?100:t.series[f])/100,S=Math.round(this.totalAngle*w)+this.startAngle,A=void 0;e.globals.dataChanged&&(b=this.startAngle,A=Math.round(this.totalAngle*x.negToZero(e.globals.previousPaths[f])/100)+b),Math.abs(S)+Math.abs(y)>=360&&(S-=.01),Math.abs(A)+Math.abs(b)>=360&&(A-=.01);var T=S-y,I=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[f]:e.config.stroke.dashArray,P=i.drawPath({d:"",stroke:v,strokeWidth:n,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+f,strokeDashArray:I});if(C.setAttrs(P.node,{"data:angle":T,"data:value":t.series[f]}),e.config.chart.dropShadow.enabled){var M=e.config.chart.dropShadow;a.dropShadow(P,M,f)}a.setSelectionFilter(P,0,f),this.addListeners(P,this.radialDataLabels),g.add(P),P.attr({index:0,j:f});var L=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(L=e.config.chart.animations.speed),e.globals.dataChanged&&(L=e.config.chart.animations.dynamicAnimation.speed),this.animDur=L/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(P,{centerX:t.centerX,centerY:t.centerY,endAngle:S,startAngle:y,prevEndAngle:A,prevStartAngle:b,size:t.size,i:f,totalItems:2,animBeginArr:this.animBeginArr,dur:L,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:h,dataLabels:p}}},{key:"drawHollow",value:function(t){var e=new C(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,i,s){var a=this.w,o=new z(this.ctx),n=x.randomId(),r=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:i,height:i,image:r,patternID:"pattern".concat(a.globals.cuid).concat(n)}),s="url(#pattern".concat(a.globals.cuid).concat(n,")");else{var l=a.config.plotOptions.radialBar.hollow.imageWidth,c=a.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var h=a.globals.dom.Paper.image(r).loaded((function(e){this.move(t.centerX-e.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(h)}else{var d=a.globals.dom.Paper.image(r).loaded((function(e){this.move(t.centerX-l/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(d)}}return s}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),i}(),Ft=function(t){d(i,St);var e=f(i);function i(){return r(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this.w,s=new C(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var a=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),n=0;n<t.length;n++){var r,l,c,h=void 0,d=void 0,u=void 0,p=i.globals.comboCharts?e[n]:n,m=s.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[p]),rel:n+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(m,p),t[n].length>0&&(this.visibleI=this.visibleI+1);var f=0,g=0;this.yRatio.length>1&&(this.yaxisIndex=p);var v=this.barHelpers.initialPositions();d=v.y,c=v.zeroW,h=v.x,g=v.barWidth,r=v.xDivision,l=v.zeroH;for(var y=s.group({class:"apexcharts-datalabels","data:realIndex":p}),b=s.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<i.globals.dataPoints;w++){var k=this.barHelpers.getStrokeWidth(n,w,p),S=this.seriesRangeStart[n][w],A=this.seriesRangeEnd[n][w],T=null,I=null,P={x:h,y:d,strokeWidth:k,elSeries:m};if(u=v.yDivision,f=v.barHeight,this.isHorizontal){I=d+f*this.visibleI;var M=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(M=1);var L=(u-f*M)/2;if(void 0===i.config.series[n].data[w])break;if(i.config.series[n].data[w].x){var _=this.detectOverlappingBars({i:n,j:w,barYPosition:I,srty:L,barHeight:f,yDivision:u,initPositions:v});f=_.barHeight,I=_.barYPosition}g=(T=this.drawRangeBarPaths(o({indexes:{i:n,j:w,realIndex:p},barHeight:f,barYPosition:I,zeroW:c,yDivision:u,y1:S,y2:A},P))).barWidth}else f=(T=this.drawRangeColumnPaths(o({indexes:{i:n,j:w,realIndex:p},zeroH:l,barWidth:g,xDivision:r},P))).barHeight;var D=this.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:I,goalX:T.goalX,goalY:T.goalY,barHeight:f,barWidth:g});D&&b.add(D),d=T.y,h=T.x;var F=this.barHelpers.getPathFillColor(t,n,w,p),O=i.globals.stroke.colors[p];this.renderSeries({realIndex:p,pathFill:F,lineFill:O,j:w,i:n,x:h,y:d,y1:S,y2:A,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:k,elSeries:m,series:t,barHeight:f,barYPosition:I,barWidth:g,elDataLabelsWrap:y,elGoalsMarkers:b,visibleSeries:this.visibleI,type:"rangebar"})}a.add(m)}return a}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,s=t.barYPosition,a=t.srty,o=t.barHeight,n=t.yDivision,r=t.initPositions,l=this.w,c=[],h=l.config.series[e].data[i].rangeName,d=l.config.series[e].data[i].x,u=l.globals.labels.indexOf(d),p=l.globals.seriesRange[e].findIndex((function(t){return t.x===d&&t.overlaps.length>0}));return s=l.config.plotOptions.bar.rangeBarGroupRows?a+n*u:a+o*this.visibleI+n*u,p>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRange[e][p].overlaps).indexOf(h)>-1&&(s=(o=r.barHeight/c.length)*this.visibleI+n*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+c.indexOf(h))+n*u),{barYPosition:s,barHeight:o}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x;t.strokeWidth;var s=t.xDivision,a=t.barWidth,o=t.zeroH,n=this.w,r=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],h=e.realIndex,d=this.getRangeValue(h,l),u=Math.min(d.start,d.end),p=Math.max(d.start,d.end);n.globals.isXNumeric&&(i=(n.globals.seriesX[r][l]-n.globals.minX)/this.xRatio-a/2);var m=i+a*this.visibleI;void 0===this.series[r][l]||null===this.series[r][l]?u=o:(u=o-u/c,p=o-p/c);var f=Math.abs(p-u),g=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:a,y1:u,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:h,j:l,w:n});return n.globals.isXNumeric||(i+=s),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:f,x:i,y:p,goalY:this.barHelpers.getGoalValues("y",null,o,r,l),barXPosition:m}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,s=t.y1,a=t.y2,o=t.yDivision,n=t.barHeight,r=t.barYPosition,l=t.zeroW,c=this.w,h=l+s/this.invertedYRatio,d=l+a/this.invertedYRatio,u=Math.abs(d-h),p=this.barHelpers.getBarpaths({barYPosition:r,barHeight:n,x1:h,x2:d,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=o),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:u,x:d,goalX:this.barHelpers.getGoalValues("x",l,null,e.realIndex,e.j),y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}}]),i}(),Ot=function(){function t(e){r(this,t),this.w=e.w,this.lineCtx=e}return c(t,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if(("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new S(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var s=e[t].slice();s[s.length-1]=s[s.length-1]+1e-6,e[t]=s}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,s=t.x,a=t.y,o=t.i,n=t.j,r=t.prevY,l=this.w,c=[],h=[];if(0===n){var d=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(d=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(d),h.push(x.isNumber(e[o][0])?r+l.config.markers.offsetY:null),c.push(s+l.config.markers.offsetX),h.push(x.isNumber(e[o][n+1])?a+l.config.markers.offsetY:null)}else c.push(s+l.config.markers.offsetX),h.push(x.isNumber(e[o][n+1])?a+l.config.markers.offsetY:null);return{x:c,y:h}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,s=t.realIndex,a=this.w,o=0;o<a.globals.previousPaths.length;o++){var n=a.globals.previousPaths[o];("line"===n.type||"area"===n.type)&&n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(s,10)&&("line"===n.type?(this.lineCtx.appendPathFrom=!1,e=a.globals.previousPaths[o].paths[0].d):"area"===n.type&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[o].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[o].paths[1]&&(e=a.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i=t.i,s=t.series,a=t.prevY,o=t.lineYPosition,n=this.w;if(void 0!==(null===(e=s[i])||void 0===e?void 0:e[0]))a=(o=n.config.chart.stacked&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(n.config.chart.stacked&&i>0&&void 0===s[i][0])for(var r=i-1;r>=0;r--)if(null!==s[r][0]&&void 0!==s[r][0]){a=o=this.lineCtx.prevSeriesY[r][0];break}return{prevY:a,lineYPosition:o}}}]),t}(),Et=function(){function t(e,i,s){r(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||s,this.scatter=new V(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ot(this),this.markers=new $(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(t,[{key:"draw",value:function(t,e,i,s){var a=this.w,n=new C(this.ctx),r=a.globals.comboCharts?e:a.config.chart.type,l=n.group({class:"apexcharts-".concat(r,"-series apexcharts-plot-series")}),c=new S(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=c.getLogSeries(t),this.yRatio=c.getLogYRatios(this.yRatio);for(var h=[],d=0;d<t.length;d++){t=this.lineHelpers.sameValueSeriesFix(d,t);var u=a.globals.comboCharts?i[d]:d;this._initSerieVariables(t,d,u);var p=[],m=[],f=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(f=(a.globals.seriesX[u][0]-a.globals.minX)/this.xRatio),m.push(f);var g,v=f,y=void 0,b=v,x=this.zeroY,w=this.zeroY;x=this.lineHelpers.determineFirstPrevY({i:d,series:t,prevY:x,lineYPosition:0}).prevY,p.push(x),g=x,"rangeArea"===r&&(y=w=this.lineHelpers.determineFirstPrevY({i:d,series:s,prevY:w,lineYPosition:0}).prevY);var k={type:r,series:t,realIndex:u,i:d,x:f,y:1,pX:v,pY:g,pathsFrom:this._calculatePathsFrom({type:r,series:t,i:d,realIndex:u,prevX:b,prevY:x,prevY2:w}),linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:m,yArrj:p,seriesRangeEnd:s},A=this._iterateOverDataPoints(o(o({},k),{},{iterations:"rangeArea"===r?t[d].length-1:void 0,isRangeStart:!0}));if("rangeArea"===r){var T=this._calculatePathsFrom({series:s,i:d,realIndex:u,prevX:b,prevY:w}),I=this._iterateOverDataPoints(o(o({},k),{},{series:s,pY:y,pathsFrom:T,iterations:s[d].length-1,isRangeStart:!1}));A.linePaths[0]=I.linePath+A.linePath,A.pathFromLine=I.pathFromLine+A.pathFromLine}this._handlePaths({type:r,realIndex:u,i:d,paths:A}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(a.config.chart.stacked)for(var P=h.length;P>0;P--)l.add(h[P-1]);else for(var M=0;M<h.length;M++)l.add(h[M]);return l}},{key:"_initSerieVariables",value:function(t,e,i){var s=this.w,a=new C(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-("on"===s.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||"end"===s.config.plotOptions.area.fillTo)&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i});var o=t[e].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":o,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,s,a,o=t.type,n=t.series,r=t.i,l=t.realIndex,c=t.prevX,h=t.prevY,d=t.prevY2,u=this.w,p=new C(this.ctx);if(null===n[r][0]){for(var m=0;m<n[r].length;m++)if(null!==n[r][m]){c=this.xDivision*m,h=this.zeroY-n[r][m]/this.yRatio[this.yaxisIndex],e=p.move(c,h),i=p.move(c,this.areaBottomY);break}}else e=p.move(c,h),"rangeArea"===o&&(e=p.move(c,d)+p.line(c,h)),i=p.move(c,this.areaBottomY)+p.line(c,h);if(s=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),a=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),u.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:l});s=f.pathFromLine,a=f.pathFromArea}return{prevX:c,prevY:h,linePath:e,areaPath:i,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,s=t.i,a=t.paths,n=this.w,r=new C(this.ctx),l=new z(this.ctx);this.prevSeriesY.push(a.yArrj),n.globals.seriesXvalues[i]=a.xArrj,n.globals.seriesYvalues[i]=a.yArrj;var c=n.config.forecastDataPoints;if(c.count>0&&"rangeArea"!==e){var h=n.globals.seriesXvalues[i][n.globals.seriesXvalues[i].length-c.count-1],d=r.drawRect(h,0,n.globals.gridWidth,n.globals.gridHeight,0);n.globals.dom.elForecastMask.appendChild(d.node);var u=r.drawRect(0,0,h,n.globals.gridHeight,0);n.globals.dom.elNonForecastMask.appendChild(u.node)}this.pointsChart||n.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var p={i:s,realIndex:i,animationDelay:s,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var m=l.fillPath({seriesNumber:i}),f=0;f<a.areaPaths.length;f++){var g=r.renderPaths(o(o({},p),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[f],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:m}));this.elSeries.add(g)}if(n.config.stroke.show&&!this.pointsChart){var v=null;if("line"===e)v=l.fillPath({seriesNumber:i,i:s});else if("solid"===n.config.stroke.fill.type)v=n.globals.stroke.colors[i];else{var y=n.config.fill;n.config.fill=n.config.stroke.fill,v=l.fillPath({seriesNumber:i,i:s}),n.config.fill=y}for(var b=0;b<a.linePaths.length;b++){var x=v;"rangeArea"===e&&(x=l.fillPath({seriesNumber:i}));var w=o(o({},p),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:n.config.stroke.lineCap,fill:"rangeArea"===e?x:"none"}),k=r.renderPaths(w);if(this.elSeries.add(k),k.attr("fill-rule","evenodd"),c.count>0&&"rangeArea"!==e){var S=r.renderPaths(w);S.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&S.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(n.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(n.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e=t.type,i=t.series,s=t.iterations,a=t.realIndex,o=t.i,n=t.x,r=t.y,l=t.pX,c=t.pY,h=t.pathsFrom,d=t.linePaths,u=t.areaPaths,p=t.seriesIndex,m=t.lineYPosition,f=t.xArrj,g=t.yArrj,v=t.isRangeStart,y=t.seriesRangeEnd,b=this.w,w=new C(this.ctx),k=this.yRatio,S=h.prevY,A=h.linePath,T=h.areaPath,I=h.pathFromLine,P=h.pathFromArea,M=x.isNumber(b.globals.minYArr[a])?b.globals.minYArr[a]:b.globals.minY;s||(s=b.globals.dataPoints>1?b.globals.dataPoints-1:b.globals.dataPoints);for(var L=r,_=0;_<s;_++){var D=void 0===i[o][_+1]||null===i[o][_+1];if(b.globals.isXNumeric){var F=b.globals.seriesX[a][_+1];void 0===b.globals.seriesX[a][_+1]&&(F=b.globals.seriesX[a][s-1]),n=(F-b.globals.minX)/this.xRatio}else n+=this.xDivision;m=b.config.chart.stacked&&o>0&&b.globals.collapsedSeries.length<b.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<b.globals.series.length;i++)if(b.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(o-1)][_+1]:this.zeroY,D?r=m-M/k[this.yaxisIndex]+2*(this.isReversed?M/k[this.yaxisIndex]:0):(r=m-i[o][_+1]/k[this.yaxisIndex]+2*(this.isReversed?i[o][_+1]/k[this.yaxisIndex]:0),"rangeArea"===e&&(L=m-y[o][_+1]/k[this.yaxisIndex]+2*(this.isReversed?y[o][_+1]/k[this.yaxisIndex]:0))),f.push(n),g.push(r);var O=this.lineHelpers.calculatePoints({series:i,x:n,y:r,realIndex:a,i:o,j:_,prevY:S}),E=this._createPaths({type:e,series:i,i:o,realIndex:a,j:_,x:n,y:r,y2:L,pX:l,pY:c,linePath:A,areaPath:T,linePaths:d,areaPaths:u,seriesIndex:p,isRangeStart:v});u=E.areaPaths,d=E.linePaths,l=E.pX,c=E.pY,T=E.areaPath,A=E.linePath,this.appendPathFrom&&(I+=w.line(n,this.zeroY),P+=w.line(n,this.zeroY)),this.handleNullDataPoints(i,O,o,_,a),this._handleMarkersAndLabels({type:e,pointsPos:O,i:o,j:_,realIndex:a,isRangeStart:v})}return{yArrj:g,xArrj:f,pathFromArea:P,areaPaths:u,pathFromLine:I,linePaths:d,linePath:A,areaPath:T}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,s=t.isRangeStart,a=t.i,o=t.j,n=t.realIndex,r=this.w,l=new H(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:n,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{r.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(i,n,o+1);null!==c&&this.elPointsMain.add(c)}var h=l.drawDataLabel({type:e,isRangeStart:s,pos:i,i:n,j:o+1});null!==h&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(t){var e=t.type,i=t.series,s=t.i,a=t.realIndex,o=t.j,n=t.x,r=t.y,l=t.y2,c=t.pX,h=t.pY,d=t.linePath,u=t.areaPath,p=t.linePaths,m=t.areaPaths,f=t.seriesIndex,g=t.isRangeStart,v=this.w,y=new C(this.ctx),b=v.config.stroke.curve,x=this.areaBottomY;if(Array.isArray(v.config.stroke.curve)&&(b=Array.isArray(f)?v.config.stroke.curve[f[s]]:v.config.stroke.curve[s]),"smooth"===b){var w=.35*(n-c);v.globals.hasNullValues?(null!==i[s][o]&&(null!==i[s][o+1]?(d=y.move(c,h)+y.curve(c+w,h,n-w,r,n+1,r),u=y.move(c+1,h)+y.curve(c+w,h,n-w,r,n+1,r)+y.line(n,x)+y.line(c,x)+"z"):(d=y.move(c,h),u=y.move(c,h)+"z")),p.push(d),m.push(u)):(d+=y.curve(c+w,h,n-w,r,n,r),u+=y.curve(c+w,h,n-w,r,n,r)),c=n,h=r,o===i[s].length-2&&(u=u+y.curve(c,h,n,r,n,x)+y.move(n,r)+"z","rangeArea"===e&&g?d=d+y.curve(c,h,n,r,n,l)+y.move(n,l)+"z":v.globals.hasNullValues||(p.push(d),m.push(u)))}else{if(null===i[s][o+1]){d+=y.move(n,r);var k=v.globals.isXNumeric?(v.globals.seriesX[a][o]-v.globals.minX)/this.xRatio:n-this.xDivision;u=u+y.line(k,x)+y.move(n,r)+"z"}null===i[s][o]&&(d+=y.move(n,r),u+=y.move(n,x)),"stepline"===b?(d=d+y.line(n,null,"H")+y.line(null,r,"V"),u=u+y.line(n,null,"H")+y.line(null,r,"V")):"straight"===b&&(d+=y.line(n,r),u+=y.line(n,r)),o===i[s].length-2&&(u=u+y.line(n,x)+y.move(n,r)+"z","rangeArea"===e&&g?d=d+y.line(n,l)+y.move(n,l)+"z":(p.push(d),m.push(u)))}return{linePaths:p,areaPaths:m,pX:c,pY:h,linePath:d,areaPath:u}}},{key:"handleNullDataPoints",value:function(t,e,i,s,a){var o=this.w;if(null===t[i][s]&&o.config.markers.showNullDataPoints||1===t[i].length){var n=this.markers.plotChartMarkers(e,a,s+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0);null!==n&&this.elPointsMain.add(n)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(e,i,s,a){this.xoffset=e,this.yoffset=i,this.height=a,this.width=s,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],s=this.xoffset,a=this.yoffset,n=o(t)/this.height,r=o(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([s,a,s+n,a+t[e]/n]),a+=t[e]/n;else for(e=0;e<t.length;e++)i.push([s,a,s+t[e]/r,a+r]),s+=t[e]/r;return i},this.cutArea=function(e){var i;if(this.width>=this.height){var s=e/this.height,a=this.width-s;i=new t(this.xoffset+s,this.yoffset,a,this.height)}else{var o=e/this.width,n=this.height-o;i=new t(this.xoffset,this.yoffset+o,this.width,n)}return i}}function e(e,s,a,n,r){n=void 0===n?0:n,r=void 0===r?0:r;var l=i(function(t,e){var i,s=[],a=e/o(t);for(i=0;i<t.length;i++)s[i]=t[i]*a;return s}(e,s*a),[],new t(n,r,s,a),[]);return function(t){var e,i,s=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)s.push(t[e][i]);return s}(l)}function i(t,e,a,n){var r,l,c;if(0!==t.length)return r=a.shortestEdge(),function(t,e,i){var a;if(0===t.length)return!0;(a=t.slice()).push(e);var o=s(t,i),n=s(a,i);return o>=n}(e,l=t[0],r)?(e.push(l),i(t.slice(1),e,a,n)):(c=a.cutArea(o(e),n),n.push(a.getCoordinates(e)),i(t,[],c,n)),n;n.push(a.getCoordinates(e))}function s(t,e){var i=Math.min.apply(Math,t),s=Math.max.apply(Math,t),a=o(t);return Math.max(Math.pow(e,2)*s/Math.pow(a,2),Math.pow(a,2)/(Math.pow(e,2)*i))}function a(t){return t&&t.constructor===Array}function o(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function n(t){var e,i=0;if(a(t[0]))for(e=0;e<t.length;e++)i+=n(t[e]);else i=o(t);return i}return function t(i,s,o,r,l){r=void 0===r?0:r,l=void 0===l?0:l;var c,h,d=[],u=[];if(a(i[0])){for(h=0;h<i.length;h++)d[h]=n(i[h]);for(c=e(d,s,o,r,l),h=0;h<i.length;h++)u.push(t(i[h],c[h][2]-c[h][0],c[h][3]-c[h][1],c[h][0],c[h][1]))}else u=e(i,s,o,r,l);return u}}();var Bt,Nt,Rt=function(){function t(e,i){r(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new It(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new C(this.ctx),a=new z(this.ctx),o=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var n=[];return t.forEach((function(t){var e=t.map((function(t){return Math.abs(t)}));n.push(e)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(t,i){t.data.forEach((function(t){Array.isArray(e.labels[i])||(e.labels[i]=[]),e.labels[i].push(t.x)}))})),window.TreemapSquared.generate(n,i.globals.gridWidth,i.globals.gridHeight).forEach((function(n,r){var l=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:x.escapeString(i.globals.seriesNames[r]),rel:r+1,"data:realIndex":r});if(i.config.chart.dropShadow.enabled){var c=i.config.chart.dropShadow;new k(e.ctx).dropShadow(o,c,r)}var h=s.group({class:"apexcharts-data-labels"});n.forEach((function(o,n){var c=o[0],h=o[1],d=o[2],u=o[3],p=s.drawRect(c,h,d-c,u-h,0,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?f:i.globals.stroke.colors[r]);p.attr({cx:c,cy:h,index:r,i:r,j:n,width:d-c,height:u-h});var m=e.helpers.getShadeColor(i.config.chart.type,r,n,e.negRange),f=m.color;void 0!==i.config.series[r].data[n]&&i.config.series[r].data[n].fillColor&&(f=i.config.series[r].data[n].fillColor);var g=a.fillPath({color:f,seriesNumber:r,dataPointIndex:n});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),e.helpers.addListeners(p);var v={x:c+(d-c)/2,y:h+(u-h)/2,width:0,height:0},y={x:c,y:h,width:d-c,height:u-h};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var b=1;i.globals.resized||(b=i.config.chart.animations.speed),e.animateTreemap(p,v,y,b)}if(i.globals.dataChanged){var x=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(x=e.dynamicAnim.speed,i.globals.previousPaths[r]&&i.globals.previousPaths[r][n]&&i.globals.previousPaths[r][n].rect&&(v=i.globals.previousPaths[r][n].rect),e.animateTreemap(p,v,y,x))}var w=e.getFontSize(o),k=i.config.dataLabels.formatter(e.labels[r][n],{value:i.globals.series[r][n],seriesIndex:r,dataPointIndex:n,w:i}),C=e.helpers.calculateDataLabels({text:k,x:(c+d)/2,y:(h+u)/2+e.strokeWidth/2+w/3,i:r,j:n,colorProps:m,fontSize:w,series:t});i.config.dataLabels.enabled&&C&&e.rotateToFitLabel(C,w,k,c,h,d,u),l.add(p),null!==C&&l.add(C)})),l.add(h),o.add(l)})),o}},{key:"getFontSize",value:function(t){var e,i,s,a,o=this.w,n=function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=e[i].length;return s}(this.labels)/function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=1;return s}(this.labels);return e=t[2]-t[0],i=t[3]-t[1],s=e*i,a=Math.pow(s,.5),Math.min(a/n,parseInt(o.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,s,a,o,n){var r=new C(this.ctx),l=r.getTextRects(i,e);if(l.width+this.w.config.stroke.width+5>o-s&&l.width<=n-a){var c=r.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,s){var a=new w(this.ctx);a.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},s,(function(){a.animationCompleted(t)}))}}]),t}(),zt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new D(this.ctx),n=(e-t)/864e5;this.determineInterval(n),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,n<.00011574074074074075?s.globals.disableZoomIn=!0:n>5e4&&(s.globals.disableZoomOut=!0);var r=a.getTimeUnitsfromTimestamp(t,e,this.utc),l=s.globals.gridWidth/n,c=l/24,h=c/60,d=h/60,u=Math.floor(24*n),p=Math.floor(1440*n),m=Math.floor(86400*n),f=Math.floor(n),g=Math.floor(n/30),v=Math.floor(n/365),y={minMillisecond:r.minMillisecond,minSecond:r.minSecond,minMinute:r.minMinute,minHour:r.minHour,minDate:r.minDate,minMonth:r.minMonth,minYear:r.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:d,numberOfSeconds:m,numberOfMinutes:p,numberOfHours:u,numberOfDays:f,numberOfMonths:g,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var x=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?o(o({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?o(o({},e),{},{value:t.value}):"minute"===t.unit?o(o({},e),{},{value:t.value,minute:t.value}):"second"===t.unit?o(o({},e),{},{value:t.value,minute:t.minute,second:t.second}):t}));return x.filter((function(t){var e=1,a=Math.ceil(s.globals.gridWidth/120),o=t.value;void 0!==s.config.xaxis.tickAmount&&(a=s.config.xaxis.tickAmount),x.length>a&&(e=Math.floor(x.length/a));var n=!1,r=!1;switch(i.tickInterval){case"years":"year"===t.unit&&(n=!0);break;case"half_year":e=7,"year"===t.unit&&(n=!0);break;case"months":e=1,"year"===t.unit&&(n=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(n=!0),30===o&&(r=!0);break;case"months_days":e=10,"month"===t.unit&&(n=!0),30===o&&(r=!0);break;case"week_days":e=8,"month"===t.unit&&(n=!0);break;case"days":e=1,"month"===t.unit&&(n=!0);break;case"hours":"day"===t.unit&&(n=!0);break;case"minutes_fives":case"seconds_fives":o%5!=0&&(r=!0);break;case"seconds_tens":o%10!=0&&(r=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!r)return!0}else if((o%e==0||n)&&!r)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,s=this.formatDates(t),a=this.removeOverlappingTS(s);i.globals.timescaleLabels=a.slice(),new ht(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.daysWidthOnXAxis,o=t.numberOfYears,n=e.minYear,r=0,l=new D(this.ctx),c="year";if(e.minDate>1||e.minMonth>0){var h=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);r=(l.determineDaysOfYear(e.minYear)-h+1)*a,n=e.minYear+1,this.timeScaleArray.push({position:r,value:n,unit:c,year:n,month:x.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:r,value:n,unit:c,year:s,month:x.monthMod(i+1)});for(var d=n,u=r,p=0;p<o;p++)d++,u=l.determineDaysOfYear(d-1)*a+u,this.timeScaleArray.push({position:u,value:d,unit:c,year:d,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,s=t.currentMonth,a=t.currentYear,o=t.daysWidthOnXAxis,n=t.numberOfMonths,r=s,l=0,c=new D(this.ctx),h="month",d=0;if(e.minDate>1){l=(c.determineDaysOfMonths(s+1,e.minYear)-i+1)*o,r=x.monthMod(s+1);var u=a+d,p=x.monthMod(r),m=r;0===r&&(h="year",m=u,p=1,u+=d+=1),this.timeScaleArray.push({position:l,value:m,unit:h,year:u,month:p})}else this.timeScaleArray.push({position:l,value:r,unit:h,year:a,month:x.monthMod(s)});for(var f=r+1,g=l,v=0,y=1;v<n;v++,y++){0===(f=x.monthMod(f))?(h="year",d+=1):h="month";var b=this._getYear(a,f,d);g=c.determineDaysOfMonths(f,b)*o+g;var w=0===f?b:f;this.timeScaleArray.push({position:g,value:w,unit:h,year:b,month:0===f?1:f}),f++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.hoursWidthOnXAxis,o=t.numberOfDays,n=new D(this.ctx),r="day",l=e.minDate+1,c=l,h=function(t,e,i){return t>n.determineDaysOfMonths(e+1,i)?(c=1,r="month",u=e+=1,e):e},d=(24-e.minHour)*a,u=l,p=h(c,i,s);0===e.minHour&&1===e.minDate?(d=0,u=x.monthMod(e.minMonth),r="month",c=e.minDate,o++):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(d=0,l=e.minDate,u=l,p=h(c=l,i,s)),this.timeScaleArray.push({position:d,value:u,unit:r,year:this._getYear(s,p,0),month:x.monthMod(p),day:c});for(var m=d,f=0;f<o;f++){r="day",p=h(c+=1,p,this._getYear(s,p,0));var g=this._getYear(s,p,0);m=24*a+m;var v=1===c?x.monthMod(p):c;this.timeScaleArray.push({position:m,value:v,unit:r,year:g,month:x.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,s=t.currentMonth,a=t.currentYear,o=t.minutesWidthOnXAxis,n=t.numberOfHours,r=new D(this.ctx),l="hour",c=function(t,e){return t>r.determineDaysOfMonths(e+1,a)&&(f=1,e+=1),{month:e,date:f}},h=function(t,e){return t>r.determineDaysOfMonths(e+1,a)?e+=1:e},d=60-(e.minMinute+e.minSecond/60),u=d*o,p=e.minHour+1,m=p+1;60===d&&(u=0,m=(p=e.minHour)+1);var f=i,g=h(f,s);this.timeScaleArray.push({position:u,value:p,unit:l,day:f,hour:m,year:a,month:x.monthMod(g)});for(var v=u,y=0;y<n;y++){l="hour",m>=24&&(m=0,l="day",g=c(f+=1,g).month,g=h(f,g));var b=this._getYear(a,g,0);v=0===m&&0===y?d*o:60*o+v;var w=0===m?f:m;this.timeScaleArray.push({position:v,value:w,unit:l,hour:m,day:f,year:b,month:x.monthMod(g)}),m++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,n=t.currentMonth,r=t.currentYear,l=t.minutesWidthOnXAxis,c=t.secondsWidthOnXAxis,h=t.numberOfMinutes,d=s+1,u=o,p=n,m=r,f=a,g=(60-i-e/1e3)*c,v=0;v<h;v++)d>=60&&(d=0,24===(f+=1)&&(f=0)),this.timeScaleArray.push({position:g,value:d,unit:"minute",hour:f,minute:d,day:u,year:this._getYear(m,p,0),month:x.monthMod(p)}),g+=l,d++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,n=t.currentMonth,r=t.currentYear,l=t.secondsWidthOnXAxis,c=t.numberOfSeconds,h=i+1,d=s,u=o,p=n,m=r,f=a,g=(1e3-e)/1e3*l,v=0;v<c;v++)h>=60&&(h=0,++d>=60&&(d=0,24===++f&&(f=0))),this.timeScaleArray.push({position:g,value:h,unit:"second",hour:f,minute:d,second:h,day:u,year:this._getYear(m,p,0),month:x.monthMod(p)}),g+=l,h++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),"minute"===t.unit?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),"second"===t.unit?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(t){var s=t.value.toString(),a=new D(e.ctx),o=e.createRawDateString(t,s),n=a.getDate(a.parseDate(o));if(e.utc||(n=a.getDate(a.parseDateWithTimezone(o))),void 0===i.config.xaxis.labels.format){var r="dd MMM",l=i.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(r=l.year),"month"===t.unit&&(r=l.month),"day"===t.unit&&(r=l.day),"hour"===t.unit&&(r=l.hour),"minute"===t.unit&&(r=l.minute),"second"===t.unit&&(r=l.second),s=a.formatDate(n,r)}else s=a.formatDate(n,i.config.xaxis.labels.format);return{dateString:o,position:t.position,value:s,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,s=new C(this.ctx),a=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(a=!0,e=s.getTextRects(t[0].value).width);var o=0,n=t.map((function(n,r){if(r>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var l=a?e:s.getTextRects(t[o].value).width,c=t[o].position;return n.position>c+l+10?(o=r,n):null}return n}));return n.filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),t}(),$t=function(){function t(e,i){r(this,t),this.ctx=i,this.w=i.w,this.el=e}return c(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(i)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type||"boxPlot"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),C.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,s=i.config,a=i.globals,o={series:[],i:[]},n={series:[],i:[]},r={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},h={series:[],i:[]},d={series:[],i:[]},u={series:[],i:[]},p={series:[],seriesRangeEnd:[],i:[]};a.series.map((function(e,m){var f=0;void 0!==t[m].type?("column"===t[m].type||"bar"===t[m].type?(a.series.length>1&&s.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(m),f++,i.globals.columnSeries=c.series):"area"===t[m].type?(n.series.push(e),n.i.push(m),f++):"line"===t[m].type?(o.series.push(e),o.i.push(m),f++):"scatter"===t[m].type?(r.series.push(e),r.i.push(m)):"bubble"===t[m].type?(l.series.push(e),l.i.push(m),f++):"candlestick"===t[m].type?(h.series.push(e),h.i.push(m),f++):"boxPlot"===t[m].type?(d.series.push(e),d.i.push(m),f++):"rangeBar"===t[m].type?(u.series.push(e),u.i.push(m),f++):"rangeArea"===t[m].type?(p.series.push(a.seriesRangeStart[m]),p.seriesRangeEnd.push(a.seriesRangeEnd[m]),p.i.push(m),f++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),f>1&&(a.comboCharts=!0)):(o.series.push(e),o.i.push(m))}));var m=new Et(this.ctx,e),f=new Tt(this.ctx,e);this.ctx.pie=new Lt(this.ctx);var g=new Dt(this.ctx);this.ctx.rangeBar=new Ft(this.ctx,e);var v=new _t(this.ctx),y=[];if(a.comboCharts){if(n.series.length>0&&y.push(m.draw(n.series,"area",n.i)),c.series.length>0)if(i.config.chart.stacked){var b=new At(this.ctx,e);y.push(b.draw(c.series,c.i))}else this.ctx.bar=new St(this.ctx,e),y.push(this.ctx.bar.draw(c.series,c.i));if(p.series.length>0&&y.push(m.draw(p.series,"rangeArea",p.i,p.seriesRangeEnd)),o.series.length>0&&y.push(m.draw(o.series,"line",o.i)),h.series.length>0&&y.push(f.draw(h.series,h.i)),d.series.length>0&&y.push(f.draw(d.series,d.i)),u.series.length>0&&y.push(this.ctx.rangeBar.draw(u.series,u.i)),r.series.length>0){var x=new Et(this.ctx,e,!0);y.push(x.draw(r.series,"scatter",r.i))}if(l.series.length>0){var w=new Et(this.ctx,e,!0);y.push(w.draw(l.series,"bubble",l.i))}}else switch(s.chart.type){case"line":y=m.draw(a.series,"line");break;case"area":y=m.draw(a.series,"area");break;case"bar":s.chart.stacked?y=new At(this.ctx,e).draw(a.series):(this.ctx.bar=new St(this.ctx,e),y=this.ctx.bar.draw(a.series));break;case"candlestick":y=new Tt(this.ctx,e).draw(a.series);break;case"boxPlot":y=new Tt(this.ctx,e).draw(a.series);break;case"rangeBar":y=this.ctx.rangeBar.draw(a.series);break;case"rangeArea":y=m.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":y=new Pt(this.ctx,e).draw(a.series);break;case"treemap":y=new Rt(this.ctx,e).draw(a.series);break;case"pie":case"donut":case"polarArea":y=this.ctx.pie.draw(a.series);break;case"radialBar":y=g.draw(a.series);break;case"radar":y=v.draw(a.series);break;default:y=m.draw(a.series)}return y}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=x.getDimensions(this.el),s=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===s?x.isNumber(i[0])&&(0===i[0].width&&(i=x.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==s&&""!==s||(t.svgWidth=parseInt(e.chart.width,10));var a=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===a){var o=x.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),C.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==a){var n=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+n+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};C.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,s=t.config.chart.sparkline.enabled?1:15;s+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new ut(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*t.globals.radialSize;if(a&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var n=x.getBoundingClientRect(a);o=n.bottom;var r=n.bottom-n.top;o=Math.max(2.05*t.globals.radialSize,r)}var l=o+e.translateY+i+s;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),t.config.chart.height&&String(t.config.chart.height).indexOf("%")>0||(e.dom.elWrap.style.height=l+"px",C.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new K(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},i=new N,s=this.w.globals;i.initGlobalVars(s),s.seriesXvalues=e(),s.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new it(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new it(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new zt(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new S(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=e.config.chart.brush.targets||[e.config.chart.brush.target];i.forEach((function(e){var i=ApexCharts.getChartByID(e);i.w.globals.brushSource=t.ctx,"function"!=typeof i.w.config.chart.events.zoomed&&(i.w.config.chart.events.zoomed=function(){t.updateSourceChart(i)}),"function"!=typeof i.w.config.chart.events.scrolled&&(i.w.config.chart.events.scrolled=function(){t.updateSourceChart(i)})})),e.config.chart.events.selection=function(t,s){i.forEach((function(t){var i=ApexCharts.getChartByID(t),a=x.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===i.w.globals.series.length){var n=new J(i);a=n.autoScaleY(i,a,s)}var r=i.w.config.yaxis.reduce((function(t,e,s){return[].concat(v(t),[o(o({},i.w.config.yaxis[s]),{},{min:a[0].min,max:a[0].max})])}),[]);i.ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max},yaxis:r},!1,!1,!1,!1)}))}}}}]),t}(),Vt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(r){var l=[e.ctx];a&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach((function(a,c){var h=a.w;if(h.globals.shouldAnimate=s,i||(h.globals.resized=!0,h.globals.dataChanged=!0,s&&a.series.getPreviousPaths()),t&&"object"===n(t)&&(a.config=new B(t),t=S.extendArrayProps(a.config,t,h),a.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,h.config=x.extend(h.config,t),o&&(h.globals.lastXAxis=t.xaxis?x.clone(t.xaxis):[],h.globals.lastYAxis=t.yaxis?x.clone(t.yaxis):[],h.globals.initialConfig=x.extend({},h.config),h.globals.initialSeries=x.clone(h.config.series),t.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var u=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?u.data.slice():u}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?m.data.slice():m}a.series.emptyCollapsedSeries(h.config.series)}return a.update(t).then((function(){c===l.length-1&&r(a)}))}))}))}},{key:"_updateSeries",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a){var o,n=i.w;return n.globals.shouldAnimate=e,n.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),n.globals.axisCharts?(0===(o=t.map((function(t,e){return i._extendSeries(t,e)}))).length&&(o=[{data:[]}]),n.config.series=o):n.config.series=t.slice(),s&&(n.globals.initialConfig.series=x.clone(n.config.series),n.globals.initialSeries=x.clone(n.config.series)),i.ctx.update().then((function(){a(i.ctx)}))}))}},{key:"_extendSeries",value:function(t,e){var i=this.w,s=i.config.series[e];return o(o({},i.config.series[e]),{},{name:t.name?t.name:s&&s.name,color:t.color?t.color:s&&s.color,type:t.type?t.type:s&&s.type,data:t.data?t.data:s&&s.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"'], ").concat(a," circle[j='").concat(e,"'], ").concat(a," rect[j='").concat(e,"']")).members[0]:void 0===e&&(s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),s?(new C(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(i){void 0!==t.xaxis[i]&&(e.config.xaxis[i]=t.xaxis[i],e.globals.lastXAxis[i]=t.xaxis[i])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new E(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&"100%"===t.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,s=i.globals.lastXAxis,a=i.globals.lastYAxis;t&&t.xaxis&&(s=t.xaxis),t&&t.yaxis&&(a=t.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max;var o=function(t){void 0!==a[t]&&(i.config.yaxis[t].min=a[t].min,i.config.yaxis[t].max=a[t].max)};i.config.yaxis.map((function(t,s){i.globals.zoomed||void 0!==a[s]?o(s):void 0!==e.ctx.opts.yaxis[s]&&(t.min=e.ctx.opts.yaxis[s].min,t.max=e.ctx.opts.yaxis[s].max)}))}}]),t}();Bt="undefined"!=typeof window?window:void 0,Nt=function(t,e){var i=(void 0!==this?this:t).SVG=function(t){if(i.supported)return t=new i.Doc(t),i.parser.draw||i.prepare(),t};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(t){return"Svgjs"+d(t)+i.did++},i.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},i.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var s=t.length-1;s>=0;s--)if(t[s])for(var a in e)t[s].prototype[a]=e[a];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,i.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&i.extend(e,t.extend),t.construct&&i.extend(t.parent||i.Container,t.construct),e},i.adopt=function(e){return e?e.instance?e.instance:((s="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new i.Nested:new i.Doc:"linearGradient"==e.nodeName?new i.Gradient("linear"):"radialGradient"==e.nodeName?new i.Gradient("radial"):i[d(e.nodeName)]?new(i[d(e.nodeName)]):new i.Element(e)).type=e.nodeName,s.node=e,e.instance=s,s instanceof i.Doc&&s.namespace().defs(),s.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),s):null;var s},i.prepare=function(){var t=e.getElementsByTagName("body")[0],s=(t?new i.Doc(t):i.adopt(e.documentElement).nested()).size(2,0);i.parser={body:t||e.documentElement,draw:s.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:s.polyline().node,path:s.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},e.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)s.push(e(t[a]));return s},filter:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)e(t[a])&&s.push(t[a]);return s},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(t){var e,s;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?i.regex.isRgb.test(t)?(e=i.regex.rgb.exec(t.replace(i.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):i.regex.isHex.test(t)&&(e=i.regex.hex.exec(4==(s=t).length?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===n(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new i.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new i.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),i.Color.test=function(t){return t+="",i.regex.isHex.test(t)||i.regex.isRgb.test(t)},i.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},i.Color.isColor=function(t){return i.Color.isRgb(t)||i.Color.test(t)},i.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),i.PointArray=function(t,e){i.Array.call(this,t,e||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var s={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},a="mlhvqtcsaz".split(""),o=0,r=a.length;o<r;++o)s[a[o]]=function(t){return function(e,i,a){if("H"==t)e[0]=e[0]+i.x;else if("V"==t)e[0]=e[0]+i.y;else if("A"==t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var o=0,n=e.length;o<n;++o)e[o]=e[o]+(o%2?i.y:i.x);if(s&&"function"==typeof s[t])return s[t](e,i,a)}}(a[o].toUpperCase());i.PathArray=function(t,e){i.Array.call(this,t,e||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,s="";e<i;e++)s+=t[e][0],null!=t[e][1]&&(s+=t[e][1],null!=t[e][2]&&(s+=" ",s+=t[e][2],null!=t[e][3]&&(s+=" ",s+=t[e][3],s+=" ",s+=t[e][4],null!=t[e][5]&&(s+=" ",s+=t[e][5],s+=" ",s+=t[e][6],null!=t[e][7]&&(s+=" ",s+=t[e][7])))));return s+" "}(this.value)},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,s=this.destination.value,a=[],o=new i.PathArray,n=0,r=e.length;n<r;n++){a[n]=[e[n][0]];for(var l=1,c=e[n].length;l<c;l++)a[n][l]=e[n][l]+(s[n][l]-e[n][l])*t;"A"===a[n][0]&&(a[n][4]=+(0!=a[n][4]),a[n][5]=+(0!=a[n][5]))}return o.value=a,o},parse:function(t){if(t instanceof i.PathArray)return t.valueOf();var e,a={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(i.regex.numbersWithDots,c).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var o=[],n=new i.Point,r=new i.Point,l=0,h=t.length;do{i.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(s[e].call(null,t.slice(l,l+=a[e.toUpperCase()]).map(parseFloat),n,r))}while(h>l);return o},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(i.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof i.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new i.Number(t),new i.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new i.Number(t),new i.Number(this-t,this.unit||t.unit)},times:function(t){return t=new i.Number(t),new i.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new i.Number(t),new i.Number(this/t,this.unit||t.unit)},to:function(t){var e=new i.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new i.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new i.Number(this.destination).minus(this).times(t).plus(this):this}}}),i.Element=i.invent({create:function(t){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var s=p(this,t,e);return this.width(new i.Number(s.width)).height(new i.Number(s.height))},clone:function(t){this.writeDataToDom();var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(i.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return i.get(this.attr(t))},parent:function(e){var s=this;if(!s.node.parentNode)return null;if(s=i.adopt(s.node.parentNode),!e)return s;for(;s&&s.node instanceof t.SVGElement;){if("string"==typeof e?s.matches(e):s instanceof e)return s;if(!s.node.parentNode||"#document"==s.node.parentNode.nodeName)return null;s=i.adopt(s.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var s=e.createElement("svg");if(!(t&&this instanceof i.Parent))return s.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),s.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");s.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var a=0,o=s.firstChild.childNodes.length;a<o;a++)this.node.appendChild(s.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),i.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},i.morph=function(t){return function(e,s){return new i.MorphObj(e,s).at(t)}},i.Situation=i.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(t.duration).valueOf(),this.delay=new i.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,s){"object"===n(t)&&(e=t.ease,s=t.delay,t=t.duration);var a=new i.Situation({duration:t||1e3,delay:s||0,ease:i.easing[e||"-"]||e});return this.queue(a),this},target:function(t){return t&&t instanceof i.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof i.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var s in e.animations){t=this.target()[s](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[s])||(e.animations[s]=[e.animations[s]]);for(var a=t.length;a--;)e.animations[s][a]instanceof i.Number&&(t[a]=new i.Number(t[a])),e.animations[s][a]=t[a].morph(e.animations[s][a])}for(var s in e.attrs)e.attrs[s]=new i.MorphObj(this.target().attr(s),e.attrs[s]);for(var s in e.styles)e.styles[s]=new i.MorphObj(this.target().style(s),e.styles[s]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function i(s){s.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))})),this._callStart()},during:function(t){var e=this.last(),s=function(s){s.detail.situation==e&&t.call(this,s.detail.pos,i.morph(s.detail.pos),s.detail.eased,e)};return this.target().off("during.fx",s).on("during.fx",s),this.after((function(){this.off("during.fx",s)})),this._callStart()},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,s;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,s=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,s=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-s)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var a=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=a&&(this.situation.once[o].call(this.target(),this.pos,a),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:a,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=a,this):this},eachAt:function(){var t,e=this,s=this.target(),a=this.situation;for(var o in a.animations)t=[].concat(a.animations[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s[o].apply(s,t);for(var o in a.attrs)t=[o].concat(a.attrs[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.attr.apply(s,t);for(var o in a.styles)t=[o].concat(a.styles[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.style.apply(s,t);if(a.transforms.length){t=a.initialTransformation,o=0;for(var n=a.transforms.length;o<n;o++){var r=a.transforms[o];r instanceof i.Matrix?t=r.relative?t.multiply((new i.Matrix).morph(r).at(a.ease(this.pos))):t.morph(r).at(a.ease(this.pos)):(r.relative||r.undo(t.extract()),t=t.multiply(r.at(a.ease(this.pos))))}s.matrix(t)}return this},once:function(t,e,i){var s=this.last();return i||(t=s.ease(t)),s.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(t,e,s){return(this.fx||(this.fx=new i.FX(this))).animate(t,e,s)},delay:function(t){return(this.fx||(this.fx=new i.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(t,e){return i.Color.isColor(e)?new i.Color(t).morph(e):i.regex.delimiter.test(t)?i.regex.pathLetters.test(t)?new i.PathArray(t).morph(e):new i.Array(t).morph(e):i.regex.numberAndUnit.test(e)?new i.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(t,e,i){if("object"===n(t))for(var s in t)this.attr(s,t[s]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,s){return 4==arguments.length?this.plot([t,e,i,s]):this.add("plot",new(this.target().morphArray)(t))}}),i.Box=i.invent({create:function(t,e,s,a){if(!("object"!==n(t)||t instanceof i.Element))return i.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=s,this.height=a),v(this)}}),i.BBox=i.invent({create:function(t){if(i.Box.apply(this,[].slice.call(arguments)),t instanceof i.Element){var s;try{if(!e.documentElement.contains){for(var a=t.node;a.parentNode;)a=a.parentNode;if(a!=e)throw new Error("Element not in the dom")}s=t.node.getBBox()}catch(e){if(t instanceof i.Shape){i.parser.draw||i.prepare();var o=t.clone(i.parser.draw.instance).show();o&&o.node&&"function"==typeof o.node.getBBox&&(s=o.node.getBBox()),o&&"function"==typeof o.remove&&o.remove()}else s={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}i.Box.call(this,s)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(t){var e=f([1,0,0,1,0,0]);t=null===t?e:t instanceof i.Element?t.matrixify():"string"==typeof t?f(t.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(t)?f(t):t&&"object"===n(t)?t:e;for(var s=b.length-1;s>=0;--s)this[b[s]]=null!=t[b[s]]?t[b[s]]:e[b[s]]},extend:{extract:function(){var t=m(this,0,1);m(this,1,0);var e=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(t){return this.destination=new i.Matrix(t),this},multiply:function(t){return new i.Matrix(this.native().multiply(function(t){return t instanceof i.Matrix||(t=new i.Matrix(t)),t}(t).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(t,e){return new i.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=i.parser.native.createSVGMatrix(),e=b.length-1;e>=0;e--)t[b[e]]=this[b[e]];return t},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new i.Matrix(e)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===n(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(t,e){return this.destination=new i.Point(t,e),this}}}),i.extend(i.Element,{point:function(t,e){return new i.Point(t,e).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(t,e,s){if(null==t){for(t={},s=(e=this.node.attributes).length-1;s>=0;s--)t[e[s].nodeName]=i.regex.isNumber.test(e[s].nodeValue)?parseFloat(e[s].nodeValue):e[s].nodeValue;return t}if("object"===n(t))for(var a in t)this.attr(a,t[a]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?i.defaults.attrs[t]:i.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(i.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof i.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new i.Number(e):i.Color.isColor(e)?e=new i.Color(e):Array.isArray(e)&&(e=new i.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof s?this.node.setAttributeNS(s,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),i.extend(i.Element,{transform:function(t,e){var s;return"object"!==n(t)?(s=new i.Matrix(this).extract(),"string"==typeof t?s[t]:s):(s=new i.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(s=e?s.multiply(new i.Matrix(t)):new i.Matrix(t)),this.attr("transform",s))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(i.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(f(e[1])):t[e[0]].apply(t,e[1])}),new i.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[i];else if(t&&"object"===n(t))for(i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[this.arguments[i]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===n(t))for(var s in t)this.style(s,t[s]);else{if(!i.regex.isCss.test(t))return this.node.style[h(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[h(t)]=null===e||i.regex.isBlank.test(e)?"":e;return this}}),i.Parent=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(t){return i.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return i.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var s=this.children(),a=0,o=s.length;a<o;a++)s[a]instanceof i.Element&&t.apply(s[a],[a,s]),e&&s[a]instanceof i.Container&&s[a].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(t,e){return 0===e||this instanceof i.Defs||this.node==i.parser.draw||(t=t||(this instanceof i.Doc?this:this.parent(i.Parent)),e=e||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),i.Container=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){i.Element.prototype[t]=function(e){return i.on(this.node,t,e),this}})),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(t,e,s,a,o){var n=s.bind(a||t.instance||t),r=(i.handlerMap.indexOf(t)+1||i.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";i.listeners[r]=i.listeners[r]||{},i.listeners[r][l]=i.listeners[r][l]||{},i.listeners[r][l][c]=i.listeners[r][l][c]||{},s._svgjsListenerId||(s._svgjsListenerId=++i.listenerId),i.listeners[r][l][c][s._svgjsListenerId]=n,t.addEventListener(l,n,o||{passive:!0})},i.off=function(t,e,s){var a=i.handlerMap.indexOf(t),o=e&&e.split(".")[0],n=e&&e.split(".")[1],r="";if(-1!=a)if(s){if("function"==typeof s&&(s=s._svgjsListenerId),!s)return;i.listeners[a][o]&&i.listeners[a][o][n||"*"]&&(t.removeEventListener(o,i.listeners[a][o][n||"*"][s],!1),delete i.listeners[a][o][n||"*"][s])}else if(n&&o){if(i.listeners[a][o]&&i.listeners[a][o][n]){for(var l in i.listeners[a][o][n])i.off(t,[o,n].join("."),l);delete i.listeners[a][o][n]}}else if(n)for(var c in i.listeners[a])for(var r in i.listeners[a][c])n===r&&i.off(t,[c,n].join("."));else if(o){if(i.listeners[a][o]){for(var r in i.listeners[a][o])i.off(t,[o,r].join("."));delete i.listeners[a][o]}}else{for(var c in i.listeners[a])i.off(t,c);delete i.listeners[a],delete i.handlerMap[a]}},i.extend(i.Element,{on:function(t,e,s,a){return i.on(this.node,t,e,s,a),this},off:function(t,e){return i.off(this.node,t,e),this},fire:function(e,s){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new i.CustomEvent(e,{detail:s,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,i.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(t):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=g(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(t){this.constructor.call(this,i.create(t+"Gradient")),this.type=t},inherit:i.Container,extend:{at:function(t,e,s){return this.put(new i.Stop).update(t,e,s)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="gradientTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),i.extend(i.Gradient,i.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(t),fy:new i.Number(e)}):this.attr({x1:new i.Number(t),y1:new i.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(t),cy:new i.Number(e)}):this.attr({x2:new i.Number(t),y2:new i.Number(e)})}}),i.extend(i.Defs,{gradient:function(t,e){return this.put(new i.Gradient(t)).update(e)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(t){return("number"==typeof t||t instanceof i.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new i.Number(t.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="patternTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),i.extend(i.Defs,{pattern:function(t,e,s){return this.put(new i.Pattern).update(s).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,i.xlink)}},construct:{use:function(t,e){return this.put(new i.Use).element(t,e)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(t,e){return this.put(new i.Rect).size(t,e)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(t){return this.put(new i.Circle).rx(new i.Number(t).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(t,e){return this.put(new i.Ellipse).size(t,e).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),i.extend(i.Circle,i.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new i.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new i.Number(t).divide(2))},size:function(t,e){var s=p(this,t,e);return this.rx(new i.Number(s.width).divide(2)).ry(new i.Number(s.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,s,a){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:s,y2:a}:new i.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=p(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,s,a){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=t?[t,e,s,a]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(t){return this.put(new i.Polyline).plot(t||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(t){return this.put(new i.Polygon).plot(t||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new i.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=p(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new i.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new i.Path).plot(t||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(e){if(!e)return this;var s=this,a=new t.Image;return i.on(a,"load",(function(){i.off(a);var t=s.parent(i.Pattern);null!==t&&(0==s.width()&&0==s.height()&&s.size(a.width,a.height),t&&0==t.width()&&0==t.height()&&t.size(s.width(),s.height()),"function"==typeof s._loaded&&s._loaded.call(s,{width:a.width,height:a.height,ratio:a.width/a.height,url:e}))})),i.on(a,"error",(function(t){i.off(a),"function"==typeof s._error&&s._error.call(s,t)})),this.attr("href",a.src=this.src=e,i.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,s){return this.put(new i.Image).load(t).size(e||0,s||e||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,s=0,a=e.length;s<a;++s)0!=s&&3!=e[s].nodeType&&1==i.adopt(e[s]).dom.newLined&&(t+="\n"),t+=e[s].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{s=0;for(var o=(t=t.split("\n")).length;s<o;s++)this.tspan(t[s]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new i.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=i.utils.map(i.utils.filterSVGElements(t.childNodes),(function(t){return i.adopt(t)}));return new i.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,s=0,a=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?s+=a:(this.attr("dy",a+s),s=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new i.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new i.Text).text(t)},plain:function(t){return this.put(new i.Text).plain(t)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(i.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,s=new i.Tspan;return!1===this._build&&this.clear(),e.appendChild(s.node),s.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,s,a){return s+a.replace(i.regex.dots," .")}function h(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function p(t,e,i){if(null==e||null==i){var s=t.bbox();null==e?e=s.width/s.height*i:null==i&&(i=s.height/s.width*e)}return{width:e,height:i}}function m(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function f(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function g(e){for(var s=e.childNodes.length-1;s>=0;s--)e.childNodes[s]instanceof t.SVGElement&&g(e.childNodes[s]);return i.adopt(e).id(i.eid(e.nodeName))}function v(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function y(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||i.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var s=l[t].length-1;s>=0;s--)null!=e[l[t][s]]&&this.attr(l.prefix(t,l[t][s]),e[l[t][s]]);return this},i.extend(i.Element,i.FX,e)})),i.extend(i.Element,i.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new i.Number(t).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(t){return this.y(new i.Number(t).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),i.Set=i.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new i.Set(t)}}}),i.FX.Set=i.invent({create:function(t){this.set=t}}),i.Set.inherit=function(){var t=[];for(var e in i.Shape.prototype)"function"==typeof i.Shape.prototype[e]&&"function"!=typeof i.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){i.Set.prototype[t]=function(){for(var e=0,s=this.members.length;e<s;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new i.FX.Set(this)):this}})),t=[],i.FX.prototype)"function"==typeof i.FX.prototype[e]&&"function"!=typeof i.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){i.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(t,e){if("object"===n(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(t){var s=e.getElementById(function(t){var e=(t||"").toString().match(i.regex.reference);if(e)return e[1]}(t)||t);return i.adopt(s)},i.select=function(t,s){return new i.Set(i.utils.map((s||e).querySelectorAll(t),(function(t){return i.adopt(t)})))},i.extend(i.Parent,{select:function(t){return i.select(t,this.node)}});var b="abcdef".split("");if("function"!=typeof t.CustomEvent){var x=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var s=e.createEvent("CustomEvent");return s.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),s};x.prototype=t.Event.prototype,i.CustomEvent=x}else i.CustomEvent=t.CustomEvent;return i},s=function(){return Nt(Bt,Bt.document)}.call(e,i,e,t),void 0!==s&&(t.exports=s),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,s,a){return this.put(new SVG.DisplacementMapEffect(t,e,i,s,a))},specularLighting:function(t,e,i,s){return this.put(new SVG.SpecularLightingEffect(t,e,i,s))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,s,a){return this.put(new SVG.TurbulenceEffect(t,e,i,s,a))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,s){return this.parent()&&this.parent().displacementMap(this,t,e,i,s)},specularLighting:function(t,e,i,s){return this.parent()&&this.parent().specularLighting(t,e,i,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,s,a){return this.parent()&&this.parent().turbulence(t,e,i,s,a).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=a(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=a(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,s,a){this.attr({in:t,in2:e,scale:i,xChannelSelector:s,yChannelSelector:a})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",o(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,s,a){this.attr({numOctaves:e,seed:i,stitchTiles:s,baseFrequency:t,type:a})}},i={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach(function(e){this[e].attr(t.rgb)}.bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,s){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:s})}},s={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,s,a,o){this.attr({x:t,y:e,z:i,pointsAtX:s,pointsAtY:a,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function a(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function o(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,s=[];e<i;e++)s.push(t[e]);return s.join(" ")}function n(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}["r","g","b","a"].forEach((function(t){s["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),n(e,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),n(i,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),n(s,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function t(t,a,o,n,r,l,c){for(var h=t.slice(a,o||c),d=n.slice(r,l||c),u=0,p={pos:[0,0],start:[0,0]},m={pos:[0,0],start:[0,0]};;){if(h[u]=e.call(p,h[u]),d[u]=e.call(m,d[u]),h[u][0]!=d[u][0]||"M"==h[u][0]||"A"==h[u][0]&&(h[u][4]!=d[u][4]||h[u][5]!=d[u][5])?(Array.prototype.splice.apply(h,[u,1].concat(s.call(p,h[u]))),Array.prototype.splice.apply(d,[u,1].concat(s.call(m,d[u])))):(h[u]=i.call(p,h[u]),d[u]=i.call(m,d[u])),++u==h.length&&u==d.length)break;u==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),u==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]])}return{start:h,dest:d}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function i(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function s(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":e=function(t,e){var i,s,a,o,n,r,l,c,h,d,u,p,m,f,g,v,y,b,x,w,k,C,S,A,T,I,P=Math.abs(e[1]),M=Math.abs(e[2]),L=e[3]%360,_=e[4],D=e[5],F=e[6],O=e[7],E=new SVG.Point(t),B=new SVG.Point(F,O),N=[];if(0===P||0===M||E.x===B.x&&E.y===B.y)return[["C",E.x,E.y,B.x,B.y,B.x,B.y]];for(i=new SVG.Point((E.x-B.x)/2,(E.y-B.y)/2).transform((new SVG.Matrix).rotate(L)),(s=i.x*i.x/(P*P)+i.y*i.y/(M*M))>1&&(P*=s=Math.sqrt(s),M*=s),a=(new SVG.Matrix).rotate(L).scale(1/P,1/M).rotate(-L),E=E.transform(a),B=B.transform(a),o=[B.x-E.x,B.y-E.y],r=o[0]*o[0]+o[1]*o[1],n=Math.sqrt(r),o[0]/=n,o[1]/=n,l=r<4?Math.sqrt(1-r/4):0,_===D&&(l*=-1),c=new SVG.Point((B.x+E.x)/2+l*-o[1],(B.y+E.y)/2+l*o[0]),h=new SVG.Point(E.x-c.x,E.y-c.y),d=new SVG.Point(B.x-c.x,B.y-c.y),u=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(u*=-1),p=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(p*=-1),D&&u>p&&(p+=2*Math.PI),!D&&u<p&&(p-=2*Math.PI),f=Math.ceil(2*Math.abs(u-p)/Math.PI),v=[],y=u,m=(p-u)/f,g=4*Math.tan(m/4)/3,k=0;k<=f;k++)x=Math.cos(y),b=Math.sin(y),w=new SVG.Point(c.x+x,c.y+b),v[k]=[new SVG.Point(w.x+g*b,w.y-g*x),w,new SVG.Point(w.x-g*b,w.y+g*x)],y+=m;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),a=(new SVG.Matrix).rotate(L).scale(P,M).rotate(-L),k=0,C=v.length;k<C;k++)v[k][0]=v[k][0].transform(a),v[k][1]=v[k][1].transform(a),v[k][2]=v[k][2].transform(a);for(k=1,C=v.length;k<C;k++)S=(w=v[k-1][2]).x,A=w.y,T=(w=v[k][0]).x,I=w.y,F=(w=v[k][1]).x,O=w.y,N.push(["C",S,A,T,I,F,O]);return N}(this.pos,t),t=e[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function a(t,e){if(!1===e)return!1;for(var i=e,s=t.length;i<s;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var i=this.value,s=this.parse(e),o=0,n=0,r=!1,l=!1;!1!==o||!1!==n;){var c;r=a(i,!1!==o&&o+1),l=a(s,!1!==n&&n+1),!1===o&&(o=0==(c=new SVG.PathArray(h.start).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===n&&(n=0==(c=new SVG.PathArray(h.dest).bbox()).height||0==c.width?s.push(s[0])-1:s.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var h=t(i,o,r,s,n,l);i=i.slice(0,o).concat(h.start,!1===r?[]:i.slice(r)),s=s.slice(0,n).concat(h.dest,!1===l?[]:s.slice(l)),o=!1!==r&&o+h.start.length,n=!1!==l&&n+h.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=s,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){i.start(t)})),this.el.on("touchstart.drag",(function(t){i.start(t)}))},t.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,s=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:s,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),s=this.startPoints.box.x+i.x-this.startPoints.point.x,a=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,n=i.x-this.startPoints.point.x,r=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof o){var l=o.call(this.el,s,a,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(s):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(a):!1!==l.y&&this.el.y(l.y)}else"object"==typeof o&&(null!=o.minX&&s<o.minX?n=(s=o.minX)-this.startPoints.box.x:null!=o.maxX&&s>o.maxX-e.width&&(n=(s=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&a<o.minY?r=(a=o.minY)-this.startPoints.box.y:null!=o.maxY&&a>o.maxY-e.height&&(r=(a=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(s-=s%o.snapToGrid,a-=a%o.snapToGrid,n-=n%o.snapToGrid,r-=r%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:n,y:r},!0):this.el.move(s,a));return i},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,i){"function"!=typeof e&&"object"!=typeof e||(i=e,e=!0);var s=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?s.init(i||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var s="string"!=typeof t?t:e[t];return i?s/2:s},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var s=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==e[a]&&(this.options[a]=e[a]);var o=["points","pointsExclude"];for(var a in o){var n=this.options[o[a]];"string"==typeof n?n=n.length>0?n.split(/\s*,\s*/i):[]:"boolean"==typeof n&&"points"===o[a]&&(n=n?s:[]),this.options[o[a]]=n}this.options.points=[s,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,s=e.length;i<s;++i){var a=function(e){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;t.el.fire("point",{x:s,y:a,i:e,event:i})}}(i),o=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(o)}},t.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(i,s){var a=t.pointCoords(i,e);t.rectSelection.set.get(s+1).center(a.x,a.y)})),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function s(t){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.el.fire(t,{x:s,y:a,event:i})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,a){var o=e.pointCoords(t,i),n=e.drawPoint(o.x,o.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",s(t)).on("touchstart",s(t));e.rectSelection.set.add(n)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var i=t.pageX||t.touches[0].pageX,s=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:i,y:s,event:t})},o=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(o)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,i){return"object"==typeof e&&(i=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var s=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[s[t.detail.i][0],s[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,s=e+this.parameters.p.y,a=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),o=Math.atan2(s-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),n=this.parameters.rotation+180*(o-a)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(n-n%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),s=this.el.array().valueOf();s[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],s[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(s)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),s=i.x-this.parameters.p.x,a=i.y-this.parameters.p.y;this.lastUpdateCall=[s,a],this.calc(s,a),this.el.fire("resizing",{dx:s,dy:a,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,i,s){var a;return void 0!==s?a=[(i+t)%this.options.snapToGrid,(s+e)%this.options.snapToGrid]:(i=null==i?3:i,a=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(a[0]-=this.options.snapToGrid),e<0&&(a[1]-=this.options.snapToGrid),t-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,s)},t.prototype.constraintToBox=function(t,e,i,s){var a,o,n=this.options.constraint||{};return void 0!==s?(a=i,o=s):(a=this.parameters.box.x+(1&i?0:this.parameters.box.width),o=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==n.minX&&a+t<n.minX&&(t=n.minX-a),void 0!==n.maxX&&a+t>n.maxX&&(t=n.maxX-a),void 0!==n.minY&&o+e<n.minY&&(e=n.minY-o),void 0!==n.maxY&&o+e>n.maxY&&(e=n.maxY-o),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),s=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],n=a/o;return n<s?(i[1]=a/s-this.parameters.box.height,e&&(i[1]=-i[1])):n>s&&(i[0]=this.parameters.box.width-o*s,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ht=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new et(this.ctx),this.ctx.core=new $t(this.ctx.el,this.ctx),this.ctx.config=new B({}),this.ctx.data=new j(this.ctx),this.ctx.grid=new U(this.ctx),this.ctx.graphics=new C(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new it(this.ctx),this.ctx.events=new Q(this.ctx),this.ctx.exports=new Y(this.ctx),this.ctx.localization=new tt(this.ctx),this.ctx.options=new L,this.ctx.responsive=new st(this.ctx),this.ctx.series=new W(this.ctx),this.ctx.theme=new at(this.ctx),this.ctx.formatters=new q(this.ctx),this.ctx.titleSubtitle=new ot(this.ctx),this.ctx.legend=new ut(this.ctx),this.ctx.toolbar=new pt(this.ctx),this.ctx.tooltip=new wt(this.ctx),this.ctx.dimensions=new ht(this.ctx),this.ctx.updateHelpers=new Vt(this.ctx),this.ctx.zoomPanSelection=new mt(this.ctx),this.ctx.w.globals.tooltip=new wt(this.ctx)}}]),t}(),Wt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!i&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach((function(t){a.removeEventListener(t,e.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elAnnotations=null,o.elLegendWrap=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),t}(),jt=new WeakMap,qt=function(){function t(e,i){r(this,t),this.opts=i,this.ctx=this,this.w=new R(i).init(),this.el=e,this.w.globals.cuid=x.randomId(),this.w.globals.chartID=this.w.config.chart.id?x.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ht(this).initModules(),this.create=x.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var s=t.w.config.chart.events.beforeMount;if("function"==typeof s&&s(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(t,e){var i=!1;if(t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var s=t.getBoundingClientRect();"none"!==t.style.display&&0!==s.width||(i=!0)}var a=new ResizeObserver((function(s){i&&e.call(t,s),i=!0}));t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(t.children).forEach((function(t){return a.observe(t)})):a.observe(t),jt.set(e,a)}(t.el.parentNode,t.parentResizeHandler),!t.css){var a=t.el.getRootNode&&t.el.getRootNode(),o=x.is("ShadowRoot",a),n=t.el.ownerDocument,r=n.getElementById("apexcharts-css");!o&&r||(t.css=document.createElement("style"),t.css.id="apexcharts-css",t.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',o?a.prepend(t.css):n.head.appendChild(t.css))}var l=t.create(t.w.config.series,{});if(!l)return e(t);t.mount(l).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(l)})).catch((function(t){i(t)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this.w;new Ht(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new E(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return s.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===s.svgWidth)return s.animationEnded=!0,null;var a=S.checkComboSeries(t);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var o=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||o)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new $(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new S(this).getLargestMarkerSize(),this.dimensions.plotCoords();var n=this.core.xySettings();this.grid.createGridMask();var r=this.core.plotChartType(t,n),l=new H(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:r,xyRatios:n,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,s=i.w;return new Promise((function(a,o){if(null===i.el)return o(new Error("Not enough data to display or target element not found"));(null===e||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new U(i);var n=i.grid.drawGrid();"treemap"!==s.config.chart.type&&i.axes.drawAxis(s.config.chart.type,n),i.annotations=new _(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===s.config.grid.position&&n&&s.globals.dom.elGraphical.add(n.el);var r=new G(t.ctx,n),l=new Z(t.ctx,n);if(null!==n&&(r.xAxisLabelCorrections(n.xAxisTickWidth),l.setYAxisTextAlignments(),s.config.yaxis.map((function(t,e){-1===s.globals.ignoreYAxisIndexes.indexOf(e)&&l.yAxisTitleRotate(e,t.opposite)}))),"back"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(e.elGraph))for(var c=0;c<e.elGraph.length;c++)s.globals.dom.elGraphical.add(e.elGraph[c]);else s.globals.dom.elGraphical.add(e.elGraph);if("front"===s.config.grid.position&&n&&s.globals.dom.elGraphical.add(n.el),n&&n.elGridBorders&&n.elGridBorders.node&&s.globals.dom.elGraphical.add(n.elGridBorders),"front"===s.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===s.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var h=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){h[t]=!1}))}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),a(i)}))}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,t=this.parentResizeHandler,(e=jt.get(t))&&(e.disconnect(),jt.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach((function(t,e){t.id===x.escapeString(i)&&Apex._chartInstances.splice(e,1)})),new Wt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=this.w;return n.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,i){return e.updateHelpers._extendSeries(t,i)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),n.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,s,a,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w.config.series.slice();return s.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),a=0;a<s.length;a++)if(null!==t[a]&&void 0!==t[a])for(var o=0;o<t[a].data.length;o++)s[a].data.push(t[a].data[o]);return i.w.config.series=s,e&&(i.w.globals.initialSeries=x.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,s){new Wt(e.ctx).clear({isUpdating:!0});var a=e.create(e.w.config.series,t);if(!a)return i(e);e.mount(a).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(t){s(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(t,e,s)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(t,e,s)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(t,e,s)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new K(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new K(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new Y(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Y(this.ctx);return e.exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=x.escapeString(t),i=Apex._chartInstances.filter((function(t){return t.id===e}))[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var s=null;if(-1!==i.publicMethods.indexOf(e)){for(var a=arguments.length,o=new Array(a>2?a-2:0),n=2;n<a;n++)o[n-2]=arguments[n];s=i[e].apply(i,o)}return s}}},{key:"merge",value:function(t,e){return x.extend(t,e)}}]),t}();t.exports=qt},ba5a:function(t,e,i){"use strict";i("5042")},bb36:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"q-pr-sm",class:t.attachComment?"col-auto":"col",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||t.attachComment||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-auto notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||!t.attachComment&&t.attachmentList.length&&t.fileNames.length||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-12 q-pl-sm q-pb-sm q-pt-sm",class:t.notifyInitiatorClass,attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row actions advance-cmd"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e(),t.selectedProcess.processId&&"START"!==t.selectedProcess.stageType&&!t.isPortal?e("CheckboxField",{staticClass:"col-auto q-pl-sm adv-notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e()],1):t._e(),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[],o=(i("14d9"),i("381e")),n=i("1b0d"),r=i("1c54"),l=i("6df3"),c=i("6a70"),h=i("695e"),d=i("869e"),u=i("12b8"),p=i("9234"),m=i("fa1f"),f={name:"Comments",components:{Sheet:o["a"],Confirm:r["a"],TextAreaField:l["a"],Modal:c["a"],TextBuilderField:h["a"],CheckboxField:d["a"],SelectField:u["a"],SingleChoiceField:p["a"],FileIcon:m["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formFields:{type:Array,default:()=>[]},attachmentList:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},actionComments:{type:Boolean,default:!1},fileNames:{type:Array,default:()=>[]},comments:{type:Array,default:()=>[]},displayInternalPublic:{type:Boolean,default:!1},isPortal:{type:Boolean,default:!1}},data(){return{commentsSheet:!1,commentText:"",commentsList:[],attachComment:!1,selectedFileForAttach:0,advancedCommentsSheet:!1,advancedCommentText:"",commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,errorMessage:"",errorModal:!1,successModal:!1,notifyInitiator:!1}},computed:{commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode||this.initiateProcess||this.isPortal?this.checkCommentsOption()&&!this.isCustomizedWorkflow?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 270px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 230px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 200px)":this.displayInternalPublic?"calc(100vh - 220px)":"START"===this.selectedProcess.stageType||this.isPortal?"calc(100vh - 150px)":"calc(100vh - 180px)":"calc(100vh - 150px)":""},notifyInitiatorClass(){return this.attachmentList.length&&this.fileNames.length?"":"action-container"}},watch:{value:{immediate:!0,handler(){this.commentsSheet=!0,this.commentsList=this.comments,this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments()},3e4):clearInterval(this.commentsLoad)}}},methods:{closeCommentsSheet(){this.commentsSheet=!1,this.$emit("update:comments",this.commentsList),this.$emit("commentsCount",this.commentsList.length),this.$emit("update:value",!1)},async getComments(t=0,e=0){this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await n["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.$emit("commentsCount",this.commentsList.length))},async saveComment(){if(this.commentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){const{error:t,payload:e}=await n["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await n["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}this.commentText="",this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})}),this.$emit("commentsCount",this.commentsList.length),this.commentText="",this.clearAttach()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await n["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await n["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.$emit("commentsCount",this.commentsList.length);this.actionComments&&this.$emit("processRequest",!1,!1)}},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1,this.notifyInitiator=!1},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:r}=await n["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r),this.jiraCommentAction=1},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},checkCommentsOption(){return!this.isTenantArmgroup()&&(!this.isTenantGOTO()||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},checkTenant(){return!this.isTenantArmgroup()||(this.commentAction=2,!1)},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:80801"===t)&&3===this.$store.state.session.tenantId},isTenantGOTOComments(){return!!(Object.keys(this.selectedProcess).length&&this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id)},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)}}},g=f,v=(i("c5b7"),i("2877")),y=i("8169"),b=i("93dc"),x=i.n(b),w=Object(v["a"])(g,s,a,!1,null,null,null);e["a"]=w.exports;x()(w,"components",{QChatMessage:y["a"]})},bc04:function(t,e,i){"use strict";i("839a")},bcdf:function(t,e,i){var s={"./name-dark.png":"cd22","./name-light.png":"00c2"};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="bcdf"},be3f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search",expression:"'search'",modifiers:{top:!0}}],staticClass:"is-expanded",attrs:{id:"expandable-search"},on:{click:t.toggle}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-search"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"expandableSearch",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{keyup:function(e){return t.$emit("search",t.searchQuery)},blur:t.handleBlur,input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})],1)},a=[],o={name:"ExpandableSearch",data(){return{isExpanded:!1,searchQuery:""}},methods:{toggle(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs.expandableSearch.focus()},handleBlur(){this.isExpanded=!1}}},n=o,r=(i("fdd5"),i("2877")),l=Object(r["a"])(n,s,a,!1,null,"29b72610",null);e["a"]=l.exports},bf55:function(t,e,i){"use strict";i("686b")},c187:function(t,e,i){"use strict";i("9935")},c2d0:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.pieChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("2f62"),n=i("a1a34"),r=i("2adf"),l={name:"PieChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{pieChartOptions:{chart:{type:"pie"},labels:this.xData,stroke:{colors:["#ffffff"]}}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(n["a"])(this.pieChartOptions,this.options)}},darkTheme(){this.pieChartOptions.stroke.colors=this.darkTheme?["#1d2129"]:["#ffffff"]}}},c=l,h=i("2877"),d=Object(h["a"])(c,s,a,!1,null,"6f859db7",null);e["a"]=d.exports},c52a:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{width:t.formWidth},attrs:{id:"custom-process-form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 130px)"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"q-pr-sm row",class:t.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12",style:t.inbox?"":"height:10px;"},[e("div",{staticClass:"col-12 header",class:t.inbox?"":"q-mb-sm"},[t._v(" Customer Information ")]),e("table",{staticClass:"col-12 q-mb-sm"},[e("tbody",[e("tr",[e("td",[t._v("Claimant Info")]),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claimant Info"),options:t.claimantInfoList,"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Claimant Info")},onBlur:function(e){return t.autoSave("Claimant Info")}}})],1),e("td",[t._v("First Name")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("First Name"),highlight:t.checkHighlight("First Name"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"First Name")},onBlur:function(e){return t.autoSave("First Name")}}})],1),e("td",[t._v("Last Name")]),e("td",{attrs:{colspan:"2"}},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Last Name"),highlight:t.checkHighlight("Last Name"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Last Name")},onBlur:function(e){return t.autoSave("Last Name")}}})],1)]),e("tr",[e("td",[t._v("DOB")]),e("td",[e("DateField",{staticClass:"custom-controls",attrs:{value:t.getModel("DOB"),highlight:t.checkHighlight("DOB"),"is-readonly":t.isReadonly||!t.fieldVerification,"maximum-validation":!0},on:{input:function(e){return t.updateModel(e,"DOB")},onBlur:function(e){return t.autoSave("DOB")}}})],1),e("td",[t._v("Current Age")]),e("td",[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Current Age"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Current Age")},onBlur:function(e){return t.autoSave("Current Age")}}})],1),e("td",[t._v("Age at DOC")]),e("td",[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Age at Doc"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Age at Doc")},onBlur:function(e){return t.autoSave("Age at Doc")}}})],1)]),e("tr",[e("td",[t._v("Address")]),e("td",{attrs:{colspan:"5"}},[e("TextAreaField",{attrs:{value:t.getModel("Address"),highlight:t.checkHighlight("Address"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Address")},onBlur:function(e){return t.autoSave("Address")}}})],1)]),e("tr",[e("td",[t._v("City")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("City"),highlight:t.checkHighlight("City"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"City")},onBlur:function(e){return t.autoSave("City")}}})],1),e("td",[t._v("Province")]),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Province"),options:t.provinceList,highlight:t.checkHighlight("Province"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Province")},onBlur:function(e){return t.autoSave("Province")}}})],1),e("td",[t._v("Postal Code")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Postal Code"),highlight:t.checkHighlight("Postal Code"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Postal Code")},onBlur:function(e){return t.autoSave("Postal Code")}}})],1)]),e("tr",[e("td",[t._v("Phone No.")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Phone No."),highlight:t.checkHighlight("Phone No."),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Phone No.")},onBlur:function(e){return t.autoSave("Phone No.")}}})],1),e("td",[t._v("Email ID")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Email ID"),highlight:t.checkHighlight("Email ID"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Email ID")},onBlur:function(e){return t.autoSave("Email ID")}}})],1),e("td",[t._v("Name of Deceased")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Name of Deceased"),"is-readonly":t.isReadonly||!t.isNameOfDeceasedEditable||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Name of Deceased")},onBlur:function(e){return t.autoSave("Name of Deceased")}}})],1)])])]),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?e("div",{staticClass:"col-12"},[t.isReadonly?t.fieldVerification?t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}})]:[t.fieldVerification?[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmCustomerInfo}})]:[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmCustomerInfo}})]]],2):t._e(),e("div",{staticClass:"header col-12",class:t.inbox?"":"q-mb-sm"},[t._v(" Loan Information ")]),e("table",{staticClass:"col-12 q-mb-sm loan-info"},[e("tbody",[e("tr",[e("td",[t._v("Group Policy")]),e("td",[t._v(t._s(t.getModel("Group Policy")||"-"))]),e("td",[t._v("Payment Frequency")]),e("td",[t._v(t._s(t.getModel("Payment Frequency")||"-"))])]),e("tr",[e("td",[t._v("Loan No.")]),e("td",[t._v(t._s(t.getModel("Loan No.")||"-"))]),e("td",[t._v("No. of Loan Payments")]),e("td",[t._v(" "+t._s(t.getModel("No. of Loan Payments")||"-")+" ")])]),e("tr",[e("td",[t._v("Loan Start Date")]),e("td",[t._v(t._s(t.getModel("Loan Start Date")||"-"))]),e("td",[t._v("Last Remitted Date")]),e("td",[t._v(t._s(t.getModel("Last Remitted Date")||"-"))])]),e("tr",[e("td",[t._v("Term")]),e("td",[t._v(t._s(t.getModel("Term")||"-"))]),e("td",[t._v("Cancellation Date")]),e("td",[t._v(t._s(t.getModel("Cancellation Date")||"-"))])]),e("tr",[e("td",[t._v("Loan End Date")]),e("td",[t._v(t._s(t.getModel("Loan End Date")||"-"))]),e("td",[t._v("Cancel Reason")]),e("td",[t._v(t._s(t.getModel("Cancel Reason")||"-"))])])])]),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?e("div",{staticClass:"col-12"},[t.loanInfoVerify?t.loanInfoVerify?[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmLoanInfo}})]:t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmLoanInfo}})]],2):t._e()]),e("div",{staticClass:"row",class:t.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12"},[e("div",{staticClass:"col-12 header q-mb-sm"},[t._v("Claim Information")]),e("div",{staticClass:"col-12 full-border q-pa-sm"},[e("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[e("thead",[e("tr",[e("th",[t._v("Claim No.")]),e("th",[t._v("Reference No.")]),e("th",[t._v("Claim Date")]),e("th",[t._v("Claim Package Sent")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.getModel("Claim No.")||"-"))]),e("td",[t._v(t._s(t.getModel("Reference No.")||"-"))]),e("td",[e("DateField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claim Date"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Claim Date")},onBlur:function(e){return t.autoSave("Claim Date")}}})],1),e("td",[t._v(t._s(t.getModel("Claim Package Sent")||"-"))])])])]),e("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[e("thead",[e("tr",[e("th",[t._v("Claim Received Date")]),e("th",[t._v("Processing Date")]),e("th",[t._v("Initials")]),e("th",[t._v("Language")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.getModel("Claim Received Date")||"-"))]),e("td",[t._v(t._s(t.getModel("Processing Date")||"-"))]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Initials"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Initials")},onBlur:function(e){return t.autoSave("Initials")}}})],1),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Language"),options:t.languageList,"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Language")},onBlur:function(e){return t.autoSave("Language")}}})],1)])])]),e("table",{staticClass:"claim-info single-border"},[e("tbody",[e("tr",[e("td",[t._v("Benefit Claimed")]),e("td",{staticClass:"medium"},[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Benefit Claimed"),options:t._productList,"is-readonly":t.isReadonly||t.claimInfoVerify||!t.isChangeBenefitClaimed},on:{input:function(e){return t.updateModel(e,"Benefit Claimed")},onBlur:function(e){return t.autoSave("Benefit Claimed")}}})],1),e("td",[t._v("Loan Payment Amount")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Loan Payment Amount"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Loan Payment Amount")},onBlur:function(e){return t.autoSave("Loan Payment Amount")}}})],1)]),e("tr",[e("td",[t._v("Reason/Cause")]),e("td",{staticClass:"medium"},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Reason/Cause"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Reason/Cause")},onBlur:function(e){return t.autoSave("Reason/Cause")}}})],1),e("td",[t._v("LPP Premium Amount")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("LPP Premium Amount"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"LPP Premium Amount")},onBlur:function(e){return t.autoSave("LPP Premium Amount")}}})],1)]),e("tr",[e("td",[t._v("Claim Decision")]),e("td",{staticClass:"medium"},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claim Decision"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Claim Decision")},onBlur:function(e){return t.autoSave("Claim Decision")}}})],1),e("td",[t._v("Principal Balance at DOC")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Principal Balance At Doc"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Principal Balance At Doc")},onBlur:function(e){return t.autoSave("Principal Balance At Doc")}}})],1)]),e("tr",[e("td",[t._v("Decline Reason")]),e("td",{staticClass:"medium"},[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Decline Reason"),options:t.declineReasonList,"is-readonly":!0},on:{input:function(e){return t.updateModel(e,"Decline Reason")},onBlur:function(e){return t.autoSave("Decline Reason")}}})],1),e("td",[t._v("LumpSum Principal Balance")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("LumpSum Principal Balance"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"LumpSum Principal Balance")},onBlur:function(e){return t.autoSave("LumpSum Principal Balance")}}})],1)]),e("tr",[e("td",{attrs:{colspan:"3"}},[e("MultipleChoiceField",{staticClass:"custom-controls no-border",attrs:{value:t.getModel("Authorization"),options:t.authorizationTypes,"options-per-line":3,"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){t.updateModel(e,"Authorization"),t.autoSave("Authorization")}}})],1),e("td",["001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?[t.claimInfoVerify?t.claimInfoVerify?[e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto","margin-top":"10px"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmClaimInfo}})]:t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmClaimInfo}})]]:t._e()],2)])])])]),e("div",{staticClass:"col-12 q-mt-sm full-border q-pa-sm"},[e("div",{staticClass:"col header"},[t._v("Required Documents")]),e("MultipleChoiceField",{staticClass:"custom-controls q-mt-sm",attrs:{value:t.getModel("Required Documents"),options:t._documentCheckList,"options-per-line":3,"is-readonly":t.isReadonly},on:{input:function(e){t.updateModel(e,"Required Documents"),t.autoSave("Required Documents")}}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-mt-sm"},[e("div",{staticClass:"q-pl-sm q-mb-sm"},[e("Tabs",{attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}})],1),"Claim Status"===t.tab?[t.claimStatusTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.claimStatusTotalItems,"current-page":t.claimStatusCurrentPage,"items-per-page":t.claimStatusItemsPerPage},on:{"update:currentPage":function(e){t.claimStatusCurrentPage=e},"update:current-page":function(e){t.claimStatusCurrentPage=e},"update:itemsPerPage":function(e){t.claimStatusItemsPerPage=e},"update:items-per-page":function(e){t.claimStatusItemsPerPage=e},loadAll:t.loadAllClaimStatus}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.claimStatusSearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table table-content q-mt-sm",class:t.claimStatusTotalItems?"":"empty"},[e("thead",[e("tr",[t.inbox?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:t.addClaimStatus}})],1):t._e(),t._l(t.claimStatusColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])}))],2)]),e("tbody",t._l(t.claimStatusValues,(function(i,s){return e("tr",{key:"claimstatusrow"+s},[t.inbox?e("td",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"edit",expression:"'edit'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"secondary",icon:"mdi-square-edit-outline",size:"16px","is-flat":"","no-border":""},on:{click:function(e){return t.editClaimStatus(i)}}})],1):t._e(),t._l(t.claimStatusColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])}))],2)})),0)])])]:"Daily Data Summary"===t.tab?[t.dailyDataStatusTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.dailyDataStatusTotalItems,"current-page":t.dailyDataStatusCurrentPage,"items-per-page":t.dailyDataStatusItemsPerPage},on:{"update:currentPage":function(e){t.dailyDataStatusCurrentPage=e},"update:current-page":function(e){t.dailyDataStatusCurrentPage=e},"update:itemsPerPage":function(e){t.dailyDataStatusItemsPerPage=e},"update:items-per-page":function(e){t.dailyDataStatusItemsPerPage=e},loadAll:t.loadAllDailyDataStatus}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.dailyDataStatusSearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table q-mt-sm",class:t.dailyDataStatusTotalItems?"":"empty"},[e("thead",[e("tr",t._l(t.dailyDataStatusColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.dailyDataStatusValues,(function(i,s){return e("tr",{key:"dailydatarow"+s},t._l(t.dailyDataStatusColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])})),0)})),0)])])]:"Benefit Payment"===t.tab?[e("div",{attrs:{id:"paymentTable"}},[t.inbox?[t.hasLifeType||t.hasCIClaimsType?t._e():e("div",{staticClass:"row controls"},[e("div",{staticClass:"col"},["psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId||"psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId&&!t.isPaymentFound?[e("ValidationObserver",{ref:"form",staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Total Payment",rules:t.paymentValidationRules},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Total Payment","is-mandatory":"",error:i[0]},on:{input:t.updateLoanPaymentAmount},model:{value:t.totalPayment,callback:function(e){t.totalPayment=e},expression:"totalPayment"}})]}}],null,!1,452974274)})],1),t._e(),e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Payment Frequency",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Payment Frequency","is-mandatory":"",options:t.benefitTypes,"is-clearable":!1,error:i[0]},model:{value:t.benefitType,callback:function(e){t.benefitType=e},expression:"benefitType"}})]}}],null,!1,4170057051)})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action custom-button q-ml-sm",attrs:{label:"Calculate"},on:{click:t.paymentCalculation}})],1)])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&t.hasOtherClaimsType?e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-mr-sm custom-button",attrs:{label:"Add Lumpsum Payment",color:"primary"},on:{click:t.addLumpsumRow}})],1):t._e(),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId?[e("div",{staticClass:"col-auto"},[e("FormFieldLabel",{staticClass:"payment-action",attrs:{label:"Number of payments to approve"}})],1),e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Number of payments",rules:{min_value:0,max_value:t.paymentTableValues.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"payment-action q-ml-sm custom-controls",attrs:{"is-clearable":!1,"is-readonly":!t.paymentTableValues.length,error:i[0]},model:{value:t.numberOfApprovePayment,callback:function(e){t.numberOfApprovePayment=e},expression:"numberOfApprovePayment"}})]}}],null,!1,2997542867)})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Payment Approve",color:"secondary",disabled:!t.paymentTableValues.length},on:{click:t.paymentApprove}})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Clear",color:"red",disabled:!t.paymentTableValues.length},on:{click:t.clearPaymentApprove}})],1)]:t._e()],2)])])]:t._e(),e("div",{staticClass:"col"},[e("BaseScrollbar",[e("table",{staticClass:"tab-table table-content q-mb-sm",class:0===t.paymentTableValues.length?"empty":""},[e("thead",[e("tr",[t._l(t.paymentTableColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),t.inbox&&"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&!t.hasLifeType&&!t.hasCIClaimsType?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:t.addPaymentRow}})],1):t._e()],2)]),e("tbody",t._l(t.paymentTableValues,(function(i,s){return e("tr",{key:"paymentrow"+s},[t.inbox?[i["edit"]?t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes,"is-readonly":t.checkApprovalEdit(i)},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"NUMBER"===a.type?[e("NumberField",{attrs:{placeholder:"0.00"},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"SHORT_TEXT"===a.type?[e("TextField",{attrs:{"is-readonly":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]],2)})):[t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&""!==i[a.name]&&!i["delete"]?["approval"===a.name?["Approved"===i[a.name]?[e("span",{staticClass:"text-green",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]]:"paymentDate"===a.name?[e("DateField",{attrs:{"minimum-validation":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]:["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes,"is-readonly":t.checkApprovalEdit(i)},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"baseAmount"===a.name&&i["delete"]?[e("NumberField",{attrs:{placeholder:"0.00",min:0,max:2e3},on:{input:function(e){return t.calcOtherColumns(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"SHORT_TEXT"===a.type?[e("TextField",{attrs:{"is-readonly":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]],2)})),t.inbox&&"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound?e("td",{staticClass:"actions"},[i["delete"]?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"delete row",expression:"'delete row'"}],staticClass:"q-ml-xs small",attrs:{"is-flat":"",color:"red",icon:"eva-trash-outline","no-border":"",size:"16px"},on:{click:function(e){return t.removePaymentRow(s)}}}):t._e()],1):t._e()]]:t._l(t.paymentTableColumns,(function(s){return e("td",{key:s.id},["approval"===s.name?["Approved"===i[s.name]?[e("span",{staticClass:"text-green",attrs:{name:s.name,value:i[s.name],item:i}},[t._v(" "+t._s(i[s.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:s.name,value:i[s.name],item:i}},[t._v(" "+t._s(i[s.name])+" ")])]]:"paymentDate"===s.name?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===s.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":!0},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)}))],2)})),0)]),t.inbox&&t.paymentTableValues.length?e("BaseButton",{staticStyle:{float:"right"},attrs:{label:"Update Payments",color:"primary"},on:{click:t.updatePaymentTable}}):t._e()],1)],1)],2)]:"Payments"===t.tab?[t.paymentHistoryTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.paymentHistoryTotalItems,"current-page":t.paymentHistoryCurrentPage,"items-per-page":t.paymentHistoryItemsPerPage},on:{"update:currentPage":function(e){t.paymentHistoryCurrentPage=e},"update:current-page":function(e){t.paymentHistoryCurrentPage=e},"update:itemsPerPage":function(e){t.paymentHistoryItemsPerPage=e},"update:items-per-page":function(e){t.paymentHistoryItemsPerPage=e},loadAll:t.loadAllPaymentHistory}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.paymentHistorySearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table q-mt-sm",class:t.paymentHistoryTotalItems?"":"empty"},[e("thead",[e("tr",t._l(t.paymentHistoryColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.paymentHistoryValues,(function(i,s){return e("tr",{key:"paymenthistoryrow"+s},t._l(t.paymentHistoryColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])})),0)})),0)])])]:t._e()],2)])])]),e("Modal",{attrs:{width:"30vw",height:"40vh","has-footer":""},on:{input:function(e){t.declineReasonModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Recommend to Decline")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"declineModal"},[e("div",[e("ValidationProvider",{staticClass:"col",attrs:{name:"Decline Reason",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"field",attrs:{label:"Decline Reason","is-mandatory":"",options:t.declineReasonList,error:i[0]},model:{value:t.declineReason,callback:function(e){t.declineReason=e},expression:"declineReason"}})]}}])})],1)])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(e){t.declineReasonModal=!1}}}),e("BaseButton",{attrs:{label:"Recommend to Decline",color:"primary"},on:{click:t.updateDeclineReason}})]},proxy:!0}]),model:{value:t.declineReasonModal,callback:function(e){t.declineReasonModal=e},expression:"declineReasonModal"}}),e("Modal",{attrs:{width:"60vw",height:"70vh","has-footer":""},on:{input:function(e){t.claimStatusModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.selectedProcess.requestNo)+'" Claim Status Entry')]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"claim-status",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"claimStatusModal"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Claim Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"field",attrs:{label:"Claim Status","is-mandatory":"",options:t.claimStatusList,error:i[0]},model:{value:t.claimStatus,callback:function(e){t.claimStatus=e},expression:"claimStatus"}})]}}])})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Note",options:t.csNoteList,"new-option":"","is-readonly":""},model:{value:t.csNote,callback:function(e){t.csNote=e},expression:"csNote"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Claim Letter Sent",options:t.claimLetterSentList,"new-option":"","is-readonly":""},model:{value:t.claimLetterSent,callback:function(e){t.claimLetterSent=e},expression:"claimLetterSent"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Mailing Type",options:t.mailingTypeList},model:{value:t.mailingType,callback:function(e){t.mailingType=e},expression:"mailingType"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Lender Letter",options:t.lenderLetterList,"new-option":"","is-readonly":""},model:{value:t.lenderLetter,callback:function(e){t.lenderLetter=e},expression:"lenderLetter"}})],1),e("div",{staticClass:"col-4",staticStyle:{margin:"auto"}},[e("CheckboxField",{staticClass:"field",attrs:{label:"Internal Only"},model:{value:t.internalOnly,callback:function(e){t.internalOnly=e},expression:"internalOnly"}})],1),e("div",{staticClass:"col-12"},[e("TextAreaField",{staticClass:"field",attrs:{label:"Internal Notes"},model:{value:t.internalNotes,callback:function(e){t.internalNotes=e},expression:"internalNotes"}})],1)])])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(e){t.claimStatusModal=!1}}}),e("BaseButton",{attrs:{label:Object.keys(t.claimStatusRow).length?"Update":"Add",color:"primary"},on:{click:t.saveClaimStatus}})]},proxy:!0}]),model:{value:t.claimStatusModal,callback:function(e){t.claimStatusModal=e},expression:"claimStatusModal"}})],1)},a=[],o=(i("caad"),i("14d9"),i("7bb1")),n=i("3445"),r=i("12b8"),l=i("b3d1"),c=i("53c1"),h=i("ad54"),d=i("6df3"),u=i("1e48"),p=i("869e"),m=i("7286"),f=i("6a70"),g=i("42fc"),v=i("0d5e"),y=i("1b0d"),b=i("b6d2"),x=i("be3f"),w=i("5c8a"),k={name:"CustomProcessForm",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],FormFieldLabel:n["a"],SelectField:r["a"],TextField:l["a"],DateField:c["a"],NumberField:h["a"],TextAreaField:d["a"],MultipleChoiceField:u["a"],CheckboxField:p["a"],Tabs:m["a"],Modal:f["a"],Pagination:b["a"],ExpandableSearch:x["a"]},props:{formId:{type:String,default:"0"},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},formModel:{type:Object,default:()=>{}},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},formFields:{type:Array,default:()=>[]},dataValidationValues:{type:Array,default:()=>[]},selectedProcess:{type:Object,required:!0},isReadonly:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},formCheckList:{type:Boolean,default:!1},saveOnly:{type:Boolean,default:!1},inbox:{type:Boolean,default:!1},autoSaveModel:{type:Object,default:()=>{}}},data(){return{formWidth:"100%",claimantInfoList:[{id:this.$nano.id(),label:"Borrower",value:"Borrower",claimType:""},{id:this.$nano.id(),label:"Co-Borrower",value:"Co-Borrower",claimType:""},{id:this.$nano.id(),label:"Next of Kin",value:"Next of Kin",claimType:"Life"}],authorizationTypes:[{id:this.$nano.id(),label:"Claimant Submitted",value:"Claimant Submitted"},{id:this.$nano.id(),label:"Special Auth",value:"Special Auth"},{id:this.$nano.id(),label:"Goodwill Claim",value:"Goodwill Claim"},{id:this.$nano.id(),label:"Advance Receipt",value:"Advance Receipt"},{id:this.$nano.id(),label:"Lump Sum Eligibility Status",value:"Lump Sum Eligibility Status"},{id:this.$nano.id(),label:"Pandemic",value:"Pandemic"},{id:this.$nano.id(),label:"Return To Work",value:"Return To Work"},{id:this.$nano.id(),label:"Prior Loan Used",value:"Prior Loan Used"}],documentCheckList:[{id:this.$nano.id(),label:"Claimant's Statement",value:"Claimant's Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Application to Enroll",value:"Application to Enroll",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Payment Schedule/History",value:"Payment Schedule or History",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Employer's Statement/ROE",value:"Employer's Statement Or ROE",for:["Critical Illness","Involuntary Unemployment","Sickness or Injury","Unpaid Family Leave","Disability"]},{id:this.$nano.id(),label:"Loan Agreement",value:"Loan Agreement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Lender Claim Statement",value:"Lender Claim Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Physician's Statement",value:"Physician's Statement",for:["Critical Illness","Life","Sickness or Injury","Disability"]},{id:this.$nano.id(),label:"Section 2B",value:"Section 2B",for:["Lifetime Milestone"]},{id:this.$nano.id(),label:"Supporting Documentation",value:"Supporting Documentation",for:["Lifetime Milestone"]}],tabs:[{id:this.$nano.id(),label:"Claim Status",value:"Claim Status"},{id:this.$nano.id(),label:"Daily Data Summary",value:"Daily Data Summary"},{id:this.$nano.id(),label:"Benefit Payment",value:"Benefit Payment"},{id:this.$nano.id(),label:"Payments",value:"Payments"}],tab:"Claim Status",totalPayment:0,lumpsumAmount:0,benefitType:"",benefitTypes:[{id:this.$nano.id(),label:"Monthly",value:"Monthly"},{id:this.$nano.id(),label:"Bi-weekly",value:"BiWeekly"},{id:this.$nano.id(),label:"Semi-monthly",value:"SemiMonthly"},{id:this.$nano.id(),label:"Weekly",value:"Weekly"}],numberOfApprovePayment:0,paymentTableColumns:[{id:this.$nano.id(),name:"paymentNumber",label:"Payment Number",type:"LABEL"},{id:this.$nano.id(),name:"baseAmount",label:"Payment Base Amount",type:"NUMBER"},{id:this.$nano.id(),name:"claimAmount",label:"Claim Amount (20% Increased)",type:"NUMBER"},{id:this.$nano.id(),name:"cumulativeTotal",label:"Cumulative Total",type:"NUMBER"},{id:this.$nano.id(),name:"approval",label:"Approval",type:"SINGLE_SELECT"},{id:this.$nano.id(),name:"approvedDate",label:"Approved Date",type:"DATE"},{id:this.$nano.id(),name:"paymentDate",label:"Payment Date",type:"DATE"},{id:this.$nano.id(),name:"approvedBy",label:"Approved By",type:"LABEL"},{id:this.$nano.id(),name:"notes",label:"Notes",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"goodWill",label:"Goodwill",type:"CHECKBOX"},{id:this.$nano.id(),name:"lppPlus",label:"LPP Plus",type:"CHECKBOX"},{id:this.$nano.id(),name:"preApprovedPmt",label:"Pre Approved Pmt",type:"CHECKBOX"},{id:this.$nano.id(),name:"psgCovered",label:"PSG Covered",type:"CHECKBOX"}],paymentTableValues:[],isPaymentFound:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],cityList:[],provinceList:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],declineReasonList:[],declineReason:"",declineReasonModal:!1,loanInfoVerify:!1,claimInfoVerify:!1,languageList:[{id:this.$nano.id(),label:"EN",value:"EN"},{id:this.$nano.id(),label:"FR",value:"FR"}],isNameOfDeceasedEditable:!1,claimStatusColumns:[{id:this.$nano.id(),name:"ClaimStatus",label:"Claim Status"},{id:this.$nano.id(),name:"CSDate",label:"Date"},{id:this.$nano.id(),name:"CSNote",label:"Note"},{id:this.$nano.id(),name:"ClaimLetterSent",label:"Claim Letter Sent"},{id:this.$nano.id(),name:"AuthorizedBy",label:"Authorized By"},{id:this.$nano.id(),name:"MailingType",label:"Mailing Type"},{id:this.$nano.id(),name:"ModifiedBy",label:"Modified By"},{id:this.$nano.id(),name:"ModifiedDt",label:"Modified Date"},{id:this.$nano.id(),name:"LenderLetter",label:"Lender Letter"},{id:this.$nano.id(),name:"CreatedBy",label:"Created By"},{id:this.$nano.id(),name:"CreatedDt",label:"Created Date"},{id:this.$nano.id(),name:"InternalOnly",label:"Internal Only"},{id:this.$nano.id(),name:"InternalNotes",label:"Internal Notes"}],claimStatusValues:[],claimStatusValuesData:[],claimStatusTotalItems:0,claimStatusItemsPerPage:10,claimStatusCurrentPage:1,claimStatusRow:{},claimStatusModal:!1,claimStatusList:[],claimStatus:"",csDate:"",csNoteList:[],csNote:0,claimLetterSentList:[],claimLetterSent:0,mailingTypeList:[{id:this.$nano.id(),label:"Word Merged Letter",value:"WordmergedLetter"},{id:this.$nano.id(),label:"Email",value:"Email"}],mailingType:"",lenderLetterList:[],lenderLetter:"",internalOnly:!1,internalNotes:"",dailyDataStatusColumns:[{id:this.$nano.id(),name:"FileDate",label:"File Date"},{id:this.$nano.id(),name:"PolicyNumber",label:"Policy Number"},{id:this.$nano.id(),name:"Province",label:"Province"},{id:this.$nano.id(),name:"FirstName",label:"First Name"},{id:this.$nano.id(),name:"LastName",label:"Last Name"},{id:this.$nano.id(),name:"LoanKey",label:"Loan Key"},{id:this.$nano.id(),name:"PriorLoan",label:"Prior Loan"},{id:this.$nano.id(),name:"EffectiveDate",label:"Effective Date"},{id:this.$nano.id(),name:"CancellationDate",label:"Cancellation Date"},{id:this.$nano.id(),name:"LoanTerm",label:"Loan Term"},{id:this.$nano.id(),name:"PrincipalLent",label:"Principal Lent"},{id:this.$nano.id(),name:"Freq",label:"Freq"},{id:this.$nano.id(),name:"TotalObligation",label:"Total Obligation"},{id:this.$nano.id(),name:"FirstPayment",label:"First Payment"},{id:this.$nano.id(),name:"MinimumPrincipal",label:"Minimum Principal"},{id:this.$nano.id(),name:"MinimumInterest",label:"Minimum Interest"},{id:this.$nano.id(),name:"MinPIDue",label:"Min PI Due"},{id:this.$nano.id(),name:"LPPCharge",label:"LPP Charge"},{id:this.$nano.id(),name:"LPPCollected",label:"LPP Collected"},{id:this.$nano.id(),name:"LastPayment",label:"Last Payment"},{id:this.$nano.id(),name:"DefaultDate",label:"Default Date"},{id:this.$nano.id(),name:"ClearedPayments",label:"Cleared Payments"},{id:this.$nano.id(),name:"MissedPayments",label:"Missed Payments"},{id:this.$nano.id(),name:"PastDueAmount",label:"Past Due Amount"},{id:this.$nano.id(),name:"PastDueInterest",label:"Past Due Interest"},{id:this.$nano.id(),name:"PastDueInsuranceFee",label:"Past Due Insurance Fee"},{id:this.$nano.id(),name:"PastDuePrincipalAmount",label:"Past Due Principal Amount"},{id:this.$nano.id(),name:"PastDueNsfFee",label:"Past Due Nsf Fee"},{id:this.$nano.id(),name:"LoanBalance",label:"Loan Balance"},{id:this.$nano.id(),name:"PrincipalBalance",label:"Principal Balance"},{id:this.$nano.id(),name:"ExpectedMinPayment",label:"Expected Min Payment"}],dailyDataStatusValues:[],dailyDataStatusValuesData:[],dailyDataStatusTotalItems:0,dailyDataStatusItemsPerPage:10,dailyDataStatusCurrentPage:1,paymentHistoryColumns:[{id:this.$nano.id(),name:"StoreLoanNumber",label:"Store Loan Number"},{id:this.$nano.id(),name:"Premium",label:"Premium"},{id:this.$nano.id(),name:"PaymentDate",label:"Payment Date"},{id:this.$nano.id(),name:"TransactionType",label:"Transaction Type"},{id:this.$nano.id(),name:"Taxes",label:"Taxes"},{id:this.$nano.id(),name:"PaymentAmount",label:"Payment Amount"},{id:this.$nano.id(),name:"RemitDate",label:"Remit Date"}],paymentHistoryValues:[],paymentHistoryValuesData:[],paymentHistoryTotalItems:0,paymentHistoryItemsPerPage:10,paymentHistoryCurrentPage:1,clearPayment:!1,hasLifeType:!1,hasCIClaimsType:!1,hasLMUFLClaimsType:!1,hasOtherClaimsType:!1,isChangeBenefitClaimed:!1,hasSicknessClaimsChanged:!1}},computed:{isMaximized(){return"100%"===this.formWidth},fieldVerification(){let t=!1;if(this.dataValidationValues.length){let e=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];e.forEach(e=>{let i=this.dataValidationValues.find(t=>t.fieldName==e);i&&"Not Matched"!==i.status&&"Not Verified"!==i.status||(t=!0)})}else t=!0;return t},userInitials(){let t="";return this.$store.state.session.firstName&&(t+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?t+=this.$store.state.session.lastName[0].toUpperCase():t+=this.$store.state.session.firstName[1],t},userNames(){let t;return this.$store.state.session.firstName&&(t=this.$store.state.session.firstName),this.$store.state.session.lastName&&(t+=" "+this.$store.state.session.lastName),t},_productList(){let t=this.formFields.find(t=>"Benefit Claimed"===t.label),e="";return t&&(e=this.formModel[t.value]),"Critical Illness"===e||"Sickness or Injury"===e?this.productList.filter(t=>"Critical Illness"===t.label||"Sickness or Injury"===t.label):this.productList},_documentCheckList(){let t=this.formFields.find(t=>"Benefit Claimed"===t.label),e="";return t&&(e=this.formModel[t.value]),this.documentCheckList.filter(t=>t.for.includes(e))},STLOCTypeFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||("ST001"!==i[0]||"MM01"===i[1])&&"LOC001"!==i[0])},ENHTypeFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"ENH001"!==i[0])},mobileFinanceFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"CPL001M"!==i[0])},paymentValidationRules(){const t={required:!0,min_value:1};return this.STLOCTypeFormula&&!this.hasLMUFLClaimsType?t.max_value=4e3:this.STLOCTypeFormula&&this.hasLMUFLClaimsType?t.max_value=2e3:this.ENHTypeFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?t.max_value=1e3:this.mobileFinanceFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?t.max_value=1250:(this.ENHTypeFormula||this.mobileFinanceFormula)&&(t.max_value=1e3),t},moneyMartFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"ST001"!==i[0]||"MM01"!==i[1])}},watch:{saveAction:{immediate:!0,async handler(){if(this.saveAction){if("Save"===this.saveAction||"Force Close"===this.saveAction)return void this.$emit("update:workflowFormModel",this.formModel);if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Approve"==this.saveAction){if(this.fieldVerification||!this.loanInfoVerify||!this.claimInfoVerify)return this.$alert.warning("Verification Required"),void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Approve","Claim Decision")}else if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Decline"==this.saveAction){if(!this.getModel("Decline Reason"))return this.declineReasonModal=!0,void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Decline","Claim Decision")}else if("k4-junYNP5tico7rUVJY_"===this.selectedProcess.activityId||"pyEp-anz7DIWhvoQLf6oC"===this.selectedProcess.activityId){let t=this.paymentTableValues.filter(t=>t.approval);if(console.log(t),!t.length)return this.$alert.warning("Should be approve payment"),void this.$emit("update:saveAction","")}this.$emit("update:workflowFormModel",this.formModel)}}},dataValidationValues:{deep:!0,immediate:!0,handler(){if(this.loanInfoVerify=!1,this.claimInfoVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.find(t=>"Loan Info"===t.fieldName);t&&(this.loanInfoVerify="Verified"===t.status);let e=this.dataValidationValues.find(t=>"Claim Info"===t.fieldName);e&&(this.claimInfoVerify="Verified"===e.status)}}},selectedProcess:{immediate:!0,deep:!0,handler(){this.selectedProcess.processId&&(this.isChangeBenefitClaimed=!1,this.clearPayment=!1,this.getPaymentTable(),this.getClaimStatus(),this.getDailyDataStatus(),this.getPaymentHistory(),this.checkDocument())}},formCheckList:{immediate:!0,deep:!0,handler(){if(this.formCheckList){let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.checkList.length&&(this.documentValidation(),this.$emit("update:formCheckList",!1))}}},formModel:{immediate:!0,handler(){this.formModel&&(this.cloneFormModel=Object(w["a"])(this.formModel),this.getCalculateValidation(this.getModel("Benefit Claimed")))}},moneyMartFormula:{immediate:!0,handler(){this.moneyMartFormula?this.paymentTableColumns.forEach(t=>{"Claim Amount (20% Increased)"!==t.label||(t.label="Benefit Enhancement")}):this.paymentTableColumns.forEach(t=>{"Benefit Enhancement"!==t.label||(t.label="Claim Amount (20% Increased)")})}},hasSicknessClaimsChanged:{handler(){if(this.isPaymentFound&&this.hasSicknessClaimsChanged){if(this.paymentTableValues.length){let t=this.paymentTableValues[0];this.paymentTableValues=[],t&&this.paymentTableValues.push(t)}let t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)}else if(!this.isPaymentFound&&this.hasSicknessClaimsChanged){let t={paymentId:0,paymentNumber:1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};if(this.paymentTableValues.length){let e=this.paymentTableValues[0];this.paymentTableValues=[],this.paymentTableValues.push(e),this.paymentTableValues.push(t)}else this.paymentTableValues=[],this.paymentTableValues.push(t)}}},hasCIClaimsType:{immediate:!0,handler(){this.hasCIClaimsType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}},hasLifeType:{immediate:!0,handler(){this.hasLifeType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}}},created(){this.getProvinceList(),this.getDeclineReasonList(),this.getClaimStatusMaster(6)},mounted(){this.$watch(t=>[t.claimStatusCurrentPage,t.claimStatusItemsPerPage],()=>this.getClaimStatus(),{deep:!0,immediate:!0}),this.$watch(t=>[t.dailyDataStatusCurrentPage,t.dailyDataStatusItemsPerPage],()=>this.getDailyDataStatus(),{deep:!0,immediate:!0}),this.$watch(t=>[t.paymentHistoryCurrentPage,t.paymentHistoryItemsPerPage],()=>this.getPaymentHistory(),{deep:!0,immediate:!0})},methods:{getCalculateValidation(t){"Life"===t?(this.hasLifeType=!0,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Critical Illness"===t?(this.hasCIClaimsType=!0,this.hasLifeType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Lifetime Milestone"===t||"Unpaid Family Leave"===t?(this.hasLMUFLClaimsType=!0,this.hasCIClaimsType=!1,this.hasLifeType=!1,this.hasOtherClaimsType=!1):(this.hasOtherClaimsType=!0,this.hasLifeType=!1,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1)},getModel(t){let e=this.formFields.find(e=>e.label===t);if(e){if("Benefit Claimed"===t)"Critical Illness"===this.formModel[e.value]||"Sickness or Injury"===this.formModel[e.value]?this.isChangeBenefitClaimed=!0:this.isChangeBenefitClaimed=!1;else if("Current Age"===t){let t=this.formFields.find(t=>"DOB"===t.label);t&&this.formModel[t.value]&&(this.formModel[e.value]=this.calculateAge(this.formModel[t.value]))}return"MULTIPLE_CHOICE"===e.type?this.formModel[e.value]?this.formModel[e.value]:[]:"DATE"===e.type?this.$day.parseDate(this.formModel[e.value]):this.formModel[e.value]}},updateModel(t,e){"Sickness or Injury"===this.getModel(e)?"Critical Illness"===t&&(this.hasSicknessClaimsChanged=!0):"Critical Illness"===this.getModel(e)&&"Sickness or Injury"===t&&(this.isPaymentFound=!1,this.hasSicknessClaimsChanged=!1,this.paymentTableValues=[]);let i=this.formFields.find(t=>t.label===e);if(i&&(this.formModel[i.value]=t),"Claimant Info"===e)"Next of Kin"===t?this.isNameOfDeceasedEditable=!0:(this.isNameOfDeceasedEditable=!1,this.getContractData(t));else if("DOB"===e){let e=this.formFields.find(t=>"Current Age"===t.label);e&&(this.formModel[e.value]=this.calculateAge(t))}else if("Loan Payment Amount"===e)this.totalPayment=t,this.benefitType&&this.paymentCalculation();else if("Claim Date"===e){let e=this.formFields.find(t=>"Age at Doc"===t.label),i=this.formFields.find(t=>"Claim Date"===t.label);e&&this.formModel[i.value]&&(this.formModel[e.value]=this.calculateAgeAtDoc(t,this.$day.parseDate(this.formModel[i.value])))}else"Benefit Claimed"===e&&(this.getCalculateValidation(t),this.checkDocument())},updateLoanPaymentAmount(t){this.updateModel(t,"Loan Payment Amount")},checkHighlight(t){if(this.dataValidationValues.length){var e;let i=null===(e=this.dataValidationValues.find(e=>e.fieldName==t))||void 0===e?void 0:e.status;if("Matched"===i||"Verified"===i)return"green";if(""===i||"Not Verified"===i||"Partially Matched"===i)return"orange";if("Not Matched"===i)return"red"}return""},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},calculateAgeAtDoc(t,e){if(!t)return;if(new Date(t)>new Date(e))return"";const i=new Date(e)-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},checkDocument(){let t=this.checkList.filter(t=>(t.conditions&&t.conditions.length?(t.required=!1,t.conditions.forEach(e=>{var i;if("ANY"===t.groupLogic&&t.required)return;let s=(null===(i=this.formFields.find(t=>t.value===e.name))||void 0===i?void 0:i.type)||"",a=e.value,o=this.formModel[e.name];switch("NUMBER"===s&&(a=Number(a),o=Number(o)),e.logic){case"IS_EQUALS_TO":t.required=o===a;break;case"IS_NOT_EQUALS_TO":t.required=o!==a;break;case"CONTAINS":o.indexOf(a)>-1?t.required=!0:t.required=!1;break;case"IS_GREATER_THAN":t.required=o>a;break;case"IS_GREATER_THAN_OR_EQUALS_TO":t.required=o>=a;break;case"IS_LESSER_THAN":t.required=o<a;break;case"IS_LESSER_THAN_OR_EQUALS_TO":t.required=o<=a;break}}),t.required||t.visible?t.show=!0:t.show=!1):t.show=!0,t));this.$emit("update:checkList",t)},documentValidation(){let t=this.formFields.find(t=>"Required Documents"===t.label);if(t){"string"===typeof this.formModel[t.value]&&(this.formModel[t.value]=[]);let e=this.checkList.filter(t=>t.attach);e.length&&e.forEach(e=>{-1===this.formModel[t.value].indexOf(e.name)&&this.formModel[t.value].push(e.name)}),this.autoSave("Required Documents")}},autoSave(t){let e=location.origin;if(("https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e||"http://localhost:80801"===e)&&!this.saveOnly){let e=this.formFields.find(e=>e.label===t);if(e){let t={[e.value]:this.formModel[e.value]};this.$emit("update:autoSaveModel",t)}console.log(t),this.formModel[e.value]!=this.cloneFormModel[e.value]&&(this.$emit("update:saveOnly",!0),this.$emit("update:saveAction","Save"),this.cloneFormModel=Object(w["a"])(this.formModel))}},async updateDeclineReason(){const t=await this.$refs.declineModal.validate();t&&(this.declineReasonModal=!1,this.updateModel(this.declineReason,"Decline Reason"),this.updateModel("Recommend to Decline","Claim Decision"),this.$emit("update:workflowFormModel",this.formModel),this.$emit("update:saveAction","Recommend to Decline"))},async getCityList(){this.cityList=[];let t=this.formFields.find(t=>"City"===t.label);if(t)try{const e=await v["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:t.value,keyword:"",rowFrom:0,rowCount:0})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length&&(this.cityList=a.map(t=>({id:this.$nano.id(),label:t,value:t})));let o=this.cityList.find(e=>e.label===this.formModel[t.value]);o||this.cityList.push({id:this.$nano.id(),label:this.formModel[t.value],value:this.formModel[t.value]})}catch(e){console.error(e),this.$alert.error("Error fetching options")}},async getProvinceList(){this.provinceList=[];let t=this.formFields.find(t=>"Province"===t.label);if(t)try{const e=await v["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:t.value,keyword:"",rowFrom:0,rowCount:0})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length&&(this.provinceList=a.map(t=>({id:this.$nano.id(),label:t,value:t})));let o=this.provinceList.find(e=>e.label===this.formModel[t.value]);o||this.provinceList.push({id:this.$nano.id(),label:this.formModel[t.value],value:this.formModel[t.value]})}catch(e){console.error(e),this.$alert.error("Error fetching options")}},async getDeclineReasonList(){this.declineReasonList=[];const{error:t,payload:e}=await y["g"].getFormEntries(5,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(t)return void this.$alert.error(t);const{data:i}=e;this.declineReasonList=i[0].value.map(t=>({id:t.itemid,label:`${t["_siZd2ju1yrpaAcCiiJ8X"]} - ${t["xvC46pmC5uL77kIpjJ2p-"]}`,value:`${t["_siZd2ju1yrpaAcCiiJ8X"]} - ${t["xvC46pmC5uL77kIpjJ2p-"]}`}))},async getDataValidation(){const{error:t,payload:e}=await y["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length?this.$emit("updateDataValidationValues",e):this.$emit("updateDataValidationValues",[])},async confirmCustomerInfo(){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"],e=[],i=[];if(t.forEach(t=>{let s=this.dataValidationValues.find(e=>e.fieldName==t);s?(s.formValue=this.getModel(t),s.status="Not Matched"===s.status||"Not Verified"===s.status?"Verified":s.status,i.push(s)):e.push({processId:this.selectedProcess.processId,fieldName:t,formValue:this.getModel(t),status:"Verified"})}),i.length){const{error:t}=await y["d"].updateArmgroupMLValidation(i);if(t)return void this.$alert.error(t)}if(e.length){const{error:t}=await y["d"].insertArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}this.getDataValidation()},async unConfirmCustomerInfo(){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];if(this.dataValidationValues.length){t.forEach(t=>{let e=this.dataValidationValues.find(e=>e.fieldName==t);e&&(e.formValue=this.getModel(t),e.status="Verified"===e.status?"Not Verified":e.status)});const{error:e}=await y["d"].updateArmgroupMLValidation(this.dataValidationValues);if(e)return void this.$alert.error(e)}},async confirmLoanInfo(){this.loanInfoVerify=!0;let t=[],e=this.dataValidationValues.find(t=>"Loan Info"==t.fieldName);if(e?(e.formValue="Checked",e.status="Not Matched"===e.status||"Not Verified"===e.status?"Verified":e.status,t.push(e)):t=[{processId:this.selectedProcess.processId,fieldName:"Loan Info",formValue:"Checked",status:"Verified"}],t[0].id){const{error:e}=await y["d"].updateArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}else{const{error:e}=await y["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmLoanInfo(){this.loanInfoVerify=!1;let t=[],e=this.dataValidationValues.find(t=>"Loan Info"==t.fieldName);e&&(e.formValue="",e.status="Not Verified",t.push(e));const{error:i}=await y["d"].updateArmgroupMLValidation(t);i&&this.$alert.error(i)},async confirmClaimInfo(){this.claimInfoVerify=!0;let t=[],e=this.dataValidationValues.find(t=>"Claim Info"==t.fieldName);if(e?(e.formValue="Checked",e.status="Not Matched"===e.status||"Not Verified"===e.status?"Verified":e.status,t.push(e)):t=[{processId:this.selectedProcess.processId,fieldName:"Claim Info",formValue:"Checked",status:"Verified"}],t[0].id){const{error:e}=await y["d"].updateArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}else{const{error:e}=await y["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmClaimInfo(){this.claimInfoVerify=!1;let t=[],e=this.dataValidationValues.find(t=>"Claim Info"==t.fieldName);e&&(e.formValue="",e.status="Not Verified",t.push(e));const{error:i}=await y["d"].updateArmgroupMLValidation(t);i&&this.$alert.error(i)},export_Data(){if(this.paymentTableValues.length){let t=[];t=this.paymentTableValues.map(t=>({"Payment Number":t.paymentNumber,"Base Amount":t.baseAmount,"Claim Amount":t.claimAmount,"Cumulative Total":t.cumulativeTotal,Approval:t.approval,"Approved Date":t.approvedDate,"Payment Date":t.paymentDate,"Payment Frequency":t.benefitType})),Object(g["a"])(t)}},paymentApprove(){if(this.numberOfApprovePayment>0)if(this.numberOfApprovePayment>this.paymentTableValues.length)this.$alert.warning("Approved payment should be less than "+this.paymentTableValues.length);else if(this.isPaymentFound){let t=this.paymentTableValues.filter(t=>"Approved"!==t.approval);t.length&&t.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved";let i=0;t.approvedDate=this.$day.addDate(this.$day.newDate(),e*i),t.paymentDate=this.$day.addDate(this.$day.newDate(),e*i+1),t.approvedBy=this.userInitials}else t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""})}else this.paymentTableValues.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved";let i=0;t.approvedDate=this.$day.addDate(this.$day.newDate(),e*i),t.paymentDate=this.$day.addDate(this.$day.newDate(),e*i+1),t.approvedBy=this.userInitials}else t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""});else this.$alert.warning("Specify the valid number")},clearPaymentApprove(){this.numberOfApprovePayment=0,this.paymentTableValues.forEach(t=>{t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""})},checkApprovalEdit(t){return!!t.approvedDate&&this.$day.newDate()!==t.approvedDate},updateApprovalDate(t){if("Approved"===this.paymentTableValues[t].approval){this.paymentTableValues[t].approvedDate=this.$day.newDate();let e=new Date;e.setDate(e.getDate()+1);let i=e.getMonth()+1;i<10&&(i="0"+i);let s=e.getDate();s<10&&(s="0"+s),this.paymentTableValues[t].paymentDate=`${e.getFullYear()}-${i}-${s}`,this.paymentTableValues[t].approvedBy=this.userInitials}else this.paymentTableValues[t].approvedDate="",this.paymentTableValues[t].paymentDate="",this.paymentTableValues[t].approvedBy=""},addLumpsumRow(){if(!this.paymentTableValues[this.paymentTableValues.length-1].lumpsumRow){let t=0;4e3===Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)&&(t=4e3.toFixed(2));const e={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:t,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,lumpsumRow:!0,delete:!0};this.paymentTableValues.push(e)}},addPaymentRow(){let t=0;if(this.paymentTableValues.length&&(t=Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)),4e3!==t||this.hasCIClaimsType)if(15e3===t&&this.hasCIClaimsType)this.$alert.warning("Already maximum amount 15000 reached");else{const t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)}else this.$alert.warning("Already maximum amount 4000 reached")},removePaymentRow(t){this.paymentTableValues.splice(t,1)},calcOtherColumns(t){let e=0,i=this.paymentTableValues[t].baseAmount;if(this.hasOtherClaimsType){if(this.paymentTableValues[t].lumpsumRow){if(i>2e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[t].claimAmount=(0).toFixed(2),e=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===e&&this.paymentTableValues[t].baseAmount>0)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(e+=i,e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let s=i+.2*i;if(this.paymentTableValues[t].claimAmount=s.toFixed(2),e=s+Number(this.paymentTableValues[t-1].cumulativeTotal),this.STLOCTypeFormula&&e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].claimAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),e=0,void this.$alert.warning("Cumulative total shouldn't exceed $4000")}e>0&&i&&(this.paymentTableValues[t].cumulativeTotal=e.toFixed(2))}else if(this.hasLifeType){if(this.ENHTypeFormula){if(i>5e4)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $50000")}else if(i>15e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2)}else if(this.hasCIClaimsType){let e=0;if(t&&(e=Number(this.paymentTableValues[t-1].cumulativeTotal)+i),i<=15e3&&t)return void(this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2));if(i>15e3&&!t)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");if(e>15e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2)}},calcOtherColumns1(t){let e=0,i=this.paymentTableValues[t].baseAmount;if(this.paymentTableValues[t].lumpsumRow){if(i>2e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[t].claimAmount=(0).toFixed(2),e=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===e&&this.paymentTableValues[t].baseAmount>0)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(e+=i,e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let s=i+.2*i;this.paymentTableValues[t].claimAmount=s.toFixed(2),this.paymentTableValues.forEach(t=>{e+=Number(t.claimAmount)})}this.paymentTableValues[t].cumulativeTotal=e.toFixed(2)},claimStatusSearchRow(t){this.claimStatusValues=t?this.claimStatusValuesData.filter(e=>{for(let i in e){let s=this.claimStatusColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.claimStatusValuesData},loadAllClaimStatus(){this.claimStatusItemsPerPage=this.claimStatusTotalItems,1===this.claimStatusCurrentPage?this.getClaimStatus():this.claimStatusCurrentPage=1},dailyDataStatusSearchRow(t){this.dailyDataStatusValues=t?this.dailyDataStatusValuesData.filter(e=>{for(let i in e){let s=this.dailyDataStatusColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.dailyDataStatusValuesData},loadAllDailyDataStatus(){this.dailyDataStatusItemsPerPage=this.dailyDataStatusTotalItems,1===this.dailyDataStatusCurrentPage?this.getDailyDataStatus():this.dailyDataStatusCurrentPage=1},paymentHistorySearchRow(t){this.paymentHistoryValues=t?this.paymentHistoryValuesData.filter(e=>{for(let i in e){let s=this.paymentHistoryColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.payymentHistoryValuesData},loadAllPaymentHistory(){this.paymentHistoryItemsPerPage=this.paymentHistoryTotalItems,1===this.paymentHistoryCurrentPage?this.getPaymentHistory():this.payemntHistoryCurrentPage=1},addClaimStatus(){this.claimStatusRow={},this.claimStatus="",this.csDate="",this.csNote=0,this.claimLetterSent=0,this.mailingType="",this.lenderLetter="",this.internalOnly=!1,this.internalNotes="",this.claimStatusModal=!0},editClaimStatus(t){this.claimStatusRow=this.claimStatusValues.find(e=>e.ClaimStatusID===t.ClaimStatusID),this.claimStatusRow&&(this.claimStatus=this.claimStatusRow.ClaimStatus,this.csNote=this.claimStatusRow.CSNote,this.claimLetterSent=this.claimStatusRow.ClaimLetterSent,this.mailingType=this.claimStatusRow.MailingType,this.lenderLetter=this.claimStatusRow.lenderLetter,this.internalOnly=Boolean(this.claimStatusRow.InternalOnly),this.internalNotes=this.claimStatusRow.InternalNotes),this.claimStatusModal=!0},async getClaimStatusMaster(t){this.claimStatusList=[],this.$store.commit("showLoadingBar");const{error:e,payload:i}=await y["g"].getFormEntries(t,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);const{data:s}=i;this.claimStatusList=s[0].value.map(t=>({id:t.itemid,label:t["dKY2zhKPS4-hQy1I6yVSV"],value:t["dKY2zhKPS4-hQy1I6yVSV"]}))},async paymentCalculation(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=6;break;case"BiWeekly":case"SemiMonthly":i=12;break;case"Weekly":i=24;break}for(let s=1;s<=i;s++){if(this.hasLMUFLClaimsType&&s>3)return;let t=this.totalPayment,i=0,a=0;if(this.STLOCTypeFormula?(this.hasOtherClaimsType?a=4e3:this.hasLMUFLClaimsType&&(a=2e3),i=t+.2*t):this.ENHTypeFormula?this.hasOtherClaimsType?a=6e3:this.hasLMUFLClaimsType&&(a=2e3):this.mobileFinanceFormula?this.hasOtherClaimsType?a=7500:this.hasLMUFLClaimsType&&(a=2e3):this.moneyMartFormula&&this.hasLMUFLClaimsType&&(a=2e3),!this.moneyMartFormula&&e+i>a)return void this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:(a-e).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:a.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});if(this.STLOCTypeFormula)e+=i;else if(this.ENHTypeFormula)e+=t;else if(this.mobileFinanceFormula)e+=t;else if(this.moneyMartFormula){let s=this.getModel("Principal Balance At Doc"),a=0,o=0;if(this.hasOtherClaimsType&&s)if("BiWeekly"===this.benefitType||"SemiMonthly"===this.benefitType){let t=50*s/100;a=t.toFixed(2)}else if("Weekly"===this.benefitType){let t=25*s/100;a=t.toFixed(2)}else"Monthly"===this.benefitType&&(a=s);o=a/24,i=o,e+=o+t}if(this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType}),e===a)return}},async paymentCalculation1(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=6;break;case"BiWeekly":case"SemiMonthly":i=12;break;case"Weekly":i=24;break}for(let s=1;s<=i;s++){let t=this.totalPayment,i=t+.2*t;if(e+i>4e3)return void this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:(4e3-e).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:4e3.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});e+=i,this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType})}},async getPaymentTable1(){this.isPaymentFound=!1;const{error:t,payload:e}=await y["d"].getPaymentTable({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length&&(this.paymentTableValues=e,this.isPaymentFound=!0)},async getPaymentTable(){this.isPaymentFound=!1,this.paymentTableValues=[];let t=this.formFields.find(t=>"Claim No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};this.isPaymentFound||(this.hasLifeType||this.hasCIClaimsType)&&this.getLifeTypePaymentTable(),i["CPClaimNumber"]=this.formModel[t.value];let s={hublinkId:8,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:50,currentPage:1};const{payload:a,error:o}=await y["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:n,meta:r}=a;r.totalItems&&n.length&&n[0].value.length&&(this.paymentTableValues=[],n[0].value.forEach(t=>{this.paymentTableValues.push({paymentId:t.ClaimPaymentID,paymentNumber:t.ClaimPaymentNumber,baseAmount:Number(t.ClaimPaymentAmount).toFixed(2),claimAmount:Number(t.PrincipalPmt).toFixed(2),cumulativeTotal:Number(t.CumulativeTotal).toFixed(2),approval:t.Status,approvedDate:this.$day.parseDate(t.StatusDate),paymentDate:this.$day.parseDate(t.CPaymentDate),approvedBy:t.ApprovedBy,notes:t.CPNotes,goodWill:"True"===t.Goodwill,lppPlus:"True"===t.LPPPlus,preApprovedPmt:"True"===t.PreApprovedPmt,psgCovered:"True"===t.PSGCovered})}),this.isPaymentFound=!0)},async updatePaymentTable1(){this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let t={workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,paymentTableList:this.paymentTableValues};if(this.isPaymentFound){const{error:e}=await y["d"].updatePaymentTable(this.selectedProcess.processId,t);if(e)return void this.$alert.error(e);this.$alert.success("Payment entry updated")}else{const{error:e}=await y["d"].savePaymentTable(t);if(e)return void this.$alert.error(e);this.$alert.success("Payment entry added")}this.getPaymentTable()},async updatePaymentTable(){let t=this.formFields.find(t=>"Lender Name"===t.label),e=this.formFields.find(t=>"Claim No."===t.label);this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let i=[];this.paymentTableValues.forEach(t=>{let s={};s=t.paymentId?{modifiedBy:this.userNames,modifiedDt:this.$day.newDateTime()}:{createdBy:this.userNames,createdDt:this.$day.newDateTime()},i.push({claimPaymentID:t.paymentId,cPClaimNumber:this.formModel[e.value],paymentNumber:t.paymentNumber,paymentBaseAmount:t.baseAmount,claimAmount:t.claimAmount,cumulativeTotal:t.cumulativeTotal,approval:t.approval,paymentDate:t.paymentDate,approvedBy:0,cpNotes:t.notes,goodwill:t.goodWill,lppplus:t.lppPlus,preApprovedPMT:t.preApprovedPmt,psgCovered:t.psgCovered,approvalDate:t.approvedDate,proRated:!1,...s})});let s={lenderName:this.formModel[t.value],claimNumber:this.clearPayment?this.formModel[e.value]:"",paymentList:i};const{error:a}=await y["d"].savePaymentTable(s);a?this.$alert.error(a):(this.$alert.success("Payment entry updated"),this.numberOfApprovePayment=0,this.getPaymentTable())},async getContractData(t){let e=this.formFields.find(t=>"Loan No."===t.label),i=this.formFields.find(t=>"Lender Name"===t.label),s={};if(s["StoreLoanNumber"]=this.formModel[e.value],"Borrower"===t){let t={hublinkId:4,payloadMapping:JSON.stringify(s),lenderName:this.formModel[i.value],itemsPerPage:500,currentPage:1};const{payload:e,error:a}=await y["d"].getDataSync(t);if(this.$store.commit("hideLoadingBar"),a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:o,meta:n}=e;n.totalItems&&o.length&&o[0].value.length&&o[0].value.forEach(t=>{this.updateModel(t.FirstName,"First Name"),this.updateModel(t.LastName,"Last Name"),this.updateModel(t.DOB,"DOB"),this.updateModel(t.Address1,"Address"),this.updateModel(t.City,"City"),this.updateModel(t.Province,"Province"),this.updateModel(t.PostalCode,"Postal Code"),this.updateModel(t.Phone,"Phone No.")})}else if("Co-Borrower"===t){let t={hublinkId:3,payloadMapping:JSON.stringify(s),lenderName:this.formModel[i.value],itemsPerPage:500,currentPage:1};const{payload:e,error:a}=await y["d"].getDataSync(t);if(this.$store.commit("hideLoadingBar"),a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:o,meta:n}=e;n.totalItems&&o.length&&o[0].value.length&&o[0].value.forEach(t=>{this.updateModel(t.CoFirstName,"First Name"),this.updateModel(t.CoLastName,"Last Name"),this.updateModel(t.CoDOB,"DOB"),this.updateModel(t.CoAddress1,"Address"),this.updateModel(t.CoCity,"City"),this.updateModel(t.CoProvince,"Province"),this.updateModel(t.CoPostalCode,"Postal Code"),this.updateModel(t.CoPhone,"Phone No.")})}},async getClaimStatus(){this.claimStatusValues=[],this.claimStatusValuesData=[];let t=this.formFields.find(t=>"Claim No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["CSClaimNumber"]=this.formModel[t.value];let s={hublinkId:7,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.claimStatusItemsPerPage,currentPage:this.claimStatusCurrentPage};const{payload:a,error:o}=await y["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:n,meta:r}=a;r.totalItems&&(this.claimStatusTotalItems=r.totalItems,n.length&&n[0].value.length&&(this.claimStatusValues=n[0].value,this.claimStatusValuesData=n[0].value))},async saveClaimStatus(){const t=await this.$refs.claimStatusModal.validate();if(!t)return;let e=this.formFields.find(t=>"Claim No."===t.label),i=this.formFields.find(t=>"Lender Name"===t.label),s={};s=Object.keys(this.claimStatusRow).length?{CSClaimNumber:this.claimStatusRow.CSClaimNumber,ClaimStatus:this.claimStatus,CSDate:this.claimStatusRow.CSDate,ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.claimStatusRow.CreatedBy,CreatedDt:this.claimStatusRow.CreatedDt,ModifiedBy:this.userNames,ModifiedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0}:{CSClaimNumber:this.formModel[e.value],ClaimStatus:this.claimStatus,CSDate:this.$day.newDate(),ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.userNames,CreatedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0};let a={lenderName:this.formModel[i.value],claimStatusID:Object.keys(this.claimStatusRow).length?this.claimStatusRow.ClaimStatusID:0,fields:JSON.stringify(s)};const{error:o}=await y["d"].saveClaimStatus(a);o?this.$alert.error(o):(Object.keys(this.claimStatusRow).length?this.$alert.success("Claim status entry updated"):this.$alert.success("Claim status entry added"),this.claimStatusRow={},this.claimStatusModal=!1,this.getClaimStatus())},async getDailyDataStatus(){this.dailyDataStatusValues=[],this.dailyDataStatusValuesData=[];let t=this.formFields.find(t=>"Loan No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["loankey"]=this.formModel[t.value];let s={hublinkId:6,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.dailyDataStatusItemsPerPage,currentPage:this.dailyDataStatusCurrentPage};const{payload:a,error:o}=await y["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:n,meta:r}=a;r.totalItems&&(this.dailyDataStatusTotalItems=r.totalItems,n.length&&n[0].value.length&&(this.dailyDataStatusValues=n[0].value,this.dailyDataStatusValuesData=n[0].value))},async getPaymentHistory(){this.paymentHistoryValues=[],this.paymentHistoryValuesData=[];let t=this.formFields.find(t=>"Loan No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["StoreLoanNumber"]=this.formModel[t.value];let s={hublinkId:5,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.paymentHistoryItemsPerPage,currentPage:this.paymentHistoryCurrentPage};this.$store.commit("showLoadingBarSave");const{payload:a,error:o}=await y["d"].getDataSync(s);if(this.$store.commit("hideLoadingBarSave"),o)return void this.$alert.error(o);const{data:n,meta:r}=a;r.totalItems&&(this.paymentHistoryTotalItems=r.totalItems,n.length&&n[0].value.length&&(this.paymentHistoryValues=n[0].value,this.paymentHistoryValuesData=n[0].value))},getLifeTypePaymentTable(){this.paymentTableValues=[],this.paymentTableValues=[{approval:"",approvedBy:"",approvedDate:"",baseAmount:"",claimAmount:0,cumulativeTotal:"0",goodWill:!1,lppPlus:!1,notes:"",paymentDate:"",paymentId:0,paymentNumber:"1",preApprovedPmt:!1,psgCovered:!1,delete:!0}]}}},C=k,S=(i("55ff"),i("cea0"),i("2877")),A=Object(S["a"])(C,s,a,!1,null,"bdce7c08",null);e["a"]=A.exports},c559:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"sort",expression:"'sort'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-sort","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("BaseScrollbar",{attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Criteria")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:t.criteria===i.name?"eva-radio-button-on":"eva-radio-button-off","is-selected":t.criteria===i.name,label:i.label},on:{click:function(e){return t.updateCriteria(i.name)}}})}))],2),e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Order")]),e("ListItem",{attrs:{icon:"ASC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"ASC"===t.order,label:"Ascending"},on:{click:function(e){return t.updateOrder("ASC")}}}),e("ListItem",{staticClass:"q-mb-sm",attrs:{icon:"DESC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"DESC"===t.order,label:"Descending"},on:{click:function(e){return t.updateOrder("DESC")}}})],1)],1)},a=[],o=i("cade"),n={name:"SortItems",components:{ListItem:o["a"]},props:{columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isSortable)]},scrollbarHeight(){const t=54*this._columns.length;return t>216?"224px":t+"px"}},methods:{updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)}}},r=n,l=i("2877"),c=i("4e73"),h=i("93dc"),d=i.n(h),u=Object(l["a"])(r,s,a,!1,null,"12f6a366",null);e["a"]=u.exports;d()(u,"components",{QMenu:c["a"]})},c589:function(t,e,i){},c5b7:function(t,e,i){"use strict";i("0698")},c925:function(t,e,i){"use strict";i("65c0")},cbc3:function(t,e,i){},ccc5:function(t,e,i){"use strict";i("b811")},cd22:function(t,e,i){t.exports=i.p+"img/name-dark.ebb22601.png"},cd8d:function(t,e,i){"use strict";i("00f0")},cea0:function(t,e,i){"use strict";i("ee16")},d30f:function(t,e,i){},e0b6:function(t,e,i){},e8ea:function(t,e,i){"use strict";i.d(e,"a",(function(){return ut})),i.d(e,"b",(function(){return x}));var s=i("9b4a");
/*!
 * chartjs-chart-sankey v0.1.5
 * https://github.com/kurkle/chartjs-chart-sankey#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT license
 */function a(t,e){const i=new Set(e.map(t=>t.to)),s=new Set(e.map(t=>t.from)),a=new Set([...t.keys()]);let n=0;while(a.size){const s=o([...a],i);for(let e=0;e<s.length;e++)t.get(s[e]).x=n,a.delete(s[e]);a.size&&(i.clear(),e.filter(t=>a.has(t.from)).forEach(t=>i.add(t.to)),n++)}return[...t.keys()].filter(t=>!s.has(t)).forEach(e=>{t.get(e).x=n}),n}function o(t,e){const i=t.filter(t=>!e.has(t));return i.length?i:t.slice(0,1)}const n=(t,e)=>t.x!==e.x?t.x-e.x:t.y-e.y,r=(t,e)=>t.reduce((t,i)=>t+i.node[e].length+r(i.node[e],e),0),l=t=>(e,i)=>r(e.node[t],t)-r(i.node[t],t);function c(t){return t.sort((t,e)=>Math.max(e.in,e.out)-Math.max(t.in,t.out))[0]}function h(t,e){return t.from.sort(l("from")).forEach(t=>{const i=t.node;"y"in i||(i.y=e,e=Math.max(e+i.out,h(i,e)))}),e}function d(t,e){return t.to.sort(l("to")).forEach(t=>{const i=t.node;"y"in i||(i.y=e,e=Math.max(e+i.in,d(i,e)))}),e}function u(t,e){const i=t.filter(t=>0===t.x),s=t.filter(t=>t.x===e);let a=i.reduce((t,e)=>Math.max(t,e.y+e.out||0),0),o=s.reduce((t,e)=>Math.max(t,e.y+e.out||0),0);return a>=o?(i.forEach(t=>{"y"in t?a=t.y:t.y=a,a=Math.max(a+t.out,d(t,a))}),s.forEach(t=>{"y"in t?o=t.y:t.y=o,o=Math.max(o+t.in,d(t,o))})):(s.forEach(t=>{"y"in t?o=t.y:t.y=o,o=Math.max(o+t.in,d(t,o))}),i.forEach(t=>{"y"in t?a=t.y:t.y=a,a=Math.max(a+t.out,d(t,a))})),Math.max(a,o)}function p(t,e){const i=c(t);i.y=0;const s=h(i,0),a=d(i,0),o=u(t,e);return Math.max(s,a,o)}function m(t,e){let i=0;for(let s=0;s<=e;s++)i=Math.max(i,t.filter(t=>t.x===s).length);return i}function f(t,e){let i=1,s=0,a=0;const o=[];t.sort(n).forEach(t=>{if(t.y){if(0===t.x)o.push(t.y);else{for(s!==t.x&&(s=t.x,a=0),i=a+1;i<o.length;i++)if(o[i]>t.y)break;a=i}t.y+=i*e,i++}})}function g(t){t.forEach(t=>{let e=0;t.from.sort((t,e)=>t.node.y+t.node.out/2-(e.node.y+e.node.out/2)).forEach(t=>{t.addY=e,e+=t.flow}),e=0,t.to.sort((t,e)=>t.node.y+t.node.in/2-(e.node.y+e.node.in/2)).forEach(t=>{t.addY=e,e+=t.flow})})}function v(t,e){const i=[...t.values()],s=a(t,e),o=p(i,s),n=m(i,s),r=.03*o;return f(i,r),g(i),{maxX:s,maxY:o+n*r}}function y(t){const e=new Map;for(let s=0;s<t.length;s++){const i=t[s];if(e.has(i.from)){const t=e.get(i.from);t.out+=i.flow,t.to.push({key:i.to,flow:i.flow})}else e.set(i.from,{key:i.from,in:0,out:i.flow,from:[],to:[{key:i.to,flow:i.flow}]});if(e.has(i.to)){const t=e.get(i.to);t.in+=i.flow,t.from.push({key:i.from,flow:i.flow})}else e.set(i.to,{key:i.to,in:i.flow,out:0,from:[{key:i.from,flow:i.flow}],to:[]})}const i=(t,e)=>e.flow-t.flow;return[...e.values()].forEach(t=>{let s=0;t.from=t.from.sort(i),t.from.forEach(t=>{t.node=e.get(t.key),t.addY=s,s+=t.flow}),s=0,t.to=t.to.sort(i),t.to.forEach(t=>{t.node=e.get(t.key),t.addY=s,s+=t.flow})}),e}function b(t,e){for(let i=0;i<t.length;i++)if(t[i].key===e)return t[i].addY;return 0}class x extends s["b"]{parseObjectData(t,e,i,s){const a=this,{xScale:o,yScale:n}=t,r=[],l=a._nodes=y(e),{maxX:c,maxY:h}=v(l,e);o.options.max=c,n.options.max=h;for(let d=0,u=e.length;d<u;++d){const t=e[d],i=l.get(t.from),s=l.get(t.to),a=i.y+b(i.to,t.to),c=s.y+b(s.from,t.from);r.push({x:o.parse(i.x,d),y:n.parse(a,d),_custom:{from:i,to:s,x:o.parse(s.x,d),y:n.parse(c,d),height:n.parse(t.flow,d)}})}return r.slice(i,i+s)}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,t)}updateElements(t,e,i){const s=this,{xScale:a,yScale:o}=s._cachedMeta,n=s.resolveDataElementOptions(e,i),r=s.getSharedOptions(i,t[e],n);for(let l=0;l<t.length;l++){const n=e+l,r=s.getParsed(n),c=r._custom,h=o.getPixelForValue(r.y);s.updateElement(t[l],n,{x:a.getPixelForValue(r.x)+11,y:h,x2:a.getPixelForValue(c.x)-1,y2:o.getPixelForValue(c.y),from:c.from,to:c.to,progress:"reset"===i?0:1,height:Math.abs(o.getPixelForValue(r.y+c.height)-h),options:s.resolveDataElementOptions(l,i)},i)}s.updateSharedOptions(r,i)}_drawLabels(){const t=this,e=t._ctx,i=t._nodes||new Map,{xScale:s,yScale:a}=t._cachedMeta;e.save();const o=t.chart.chartArea;for(const n of i.values()){const t=s.getPixelForValue(n.x),i=a.getPixelForValue(n.y),r=Math.max(n.in,n.out),l=Math.abs(a.getPixelForValue(n.y+r)-i);e.fillStyle="black",e.textBaseline="middle",t<o.width/2?(e.textAlign="left",e.fillText(n.key,t+15,i+l/2)):(e.textAlign="right",e.fillText(n.key,t-5,i+l/2))}e.restore()}_drawNodes(){const t=this,e=t._ctx,i=t._nodes||new Map,{xScale:s,yScale:a}=t._cachedMeta;e.save(),e.strokeStyle="black";for(const o of i.values()){e.fillStyle=o.color;const t=s.getPixelForValue(o.x),i=a.getPixelForValue(o.y),n=Math.max(o.in,o.out),r=Math.abs(a.getPixelForValue(o.y+n)-i);e.strokeRect(t,i,10,r),e.fillRect(t,i,10,r)}e.restore()}draw(){const t=this,e=t._ctx,i=t.getMeta().data||[];for(let s=0,a=i.length;s<a;++s){const t=i[s];t.from.color=t.options.colorFrom,t.to.color=t.options.colorTo}t._drawLabels(),t._drawNodes();for(let s=0,a=i.length;s<a;++s)i[s].draw(e)}}x.id="sankey",x.defaults={dataElementType:"flow",dataElementOptions:["colorFrom","colorTo"],hover:{mode:"nearest",intersect:!0},datasets:{animation:t=>{let e=0,i=0;const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.dataIndex);return s&&(e=500*s.x+20*t.dataIndex,i=200*(s._custom.x-s.x)),{numbers:{type:"number",properties:["x","y","x2","y2","height"]},progress:{easing:"linear",duration:i,delay:e},colors:{type:"color",properties:["colorFrom","colorTo"]},hide:{colors:{type:"color",properties:["colorFrom","colorTo"],to:"transparent"}},show:{colors:{type:"color",properties:["colorFrom","colorTo"],from:"transparent"}}}},color:()=>"#efefef"},tooltips:{mode:"nearest",intersect:!0,callbacks:{title(){return""},label(t){const e=t.dataset.data[t.dataIndex];return e.from+" -> "+e.to+": "+e.flow}}},legend:{display:!1},scales:{x:{type:"linear",display:!1,min:0,offset:!0},y:{type:"linear",display:!1,min:0,reverse:!0,offset:!0}}};
/*!
 * Chart.js v3.0.0-alpha.2
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
const w={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k="0123456789ABCDEF",C=t=>k[15&t],S=t=>k[(240&t)>>4]+k[15&t],A=t=>(240&t)>>4===(15&t);function T(t){return A(t.r)&&A(t.g)&&A(t.b)&&A(t.a)}function I(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*w[t[1]],g:255&17*w[t[2]],b:255&17*w[t[3]],a:5===i?17*w[t[4]]:255}:7!==i&&9!==i||(e={r:w[t[1]]<<4|w[t[2]],g:w[t[3]]<<4|w[t[4]],b:w[t[5]]<<4|w[t[6]],a:9===i?w[t[7]]<<4|w[t[8]]:255})),e}function P(t){var e=T(t)?C:S;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function M(t){return t+.5|0}const L=(t,e,i)=>Math.max(Math.min(t,i),e);function _(t){return L(M(2.55*t),0,255)}function D(t){return L(M(255*t),0,255)}function F(t){return L(M(t/2.55)/100,0,1)}function O(t){return L(M(100*t),0,100)}const E=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function B(t){const e=E.exec(t);let i,s,a,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?_(t):255*t)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?_(i):i),s=255&(e[4]?_(s):s),a=255&(e[6]?_(a):a),{r:i,g:s,b:a,a:o}}}function N(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${F(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const R=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function z(t,e,i){const s=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function $(t,e,i){const s=(s,a=(s+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function V(t,e,i){const s=z(t,1,.5);let a;for(e+i>1&&(a=1/(e+i),e*=a,i*=a),a=0;a<3;a++)s[a]*=1-e-i,s[a]+=e;return s}function H(t){const e=255,i=t.r/e,s=t.g/e,a=t.b/e,o=Math.max(i,s,a),n=Math.min(i,s,a),r=(o+n)/2;let l,c,h;return o!==n&&(h=o-n,c=r>.5?h/(2-o-n):h/(o+n),l=o===i?(s-a)/h+(s<a?6:0):o===s?(a-i)/h+2:(i-s)/h+4,l=60*l+.5),[0|l,c||0,r]}function W(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(D)}function j(t,e,i){return W(z,t,e,i)}function q(t,e,i){return W(V,t,e,i)}function X(t,e,i){return W($,t,e,i)}function Y(t){return(t%360+360)%360}function G(t){const e=R.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?_(+e[5]):D(+e[5]));const a=Y(+e[2]),o=+e[3]/100,n=+e[4]/100;return i="hwb"===e[1]?q(a,o,n):"hsv"===e[1]?X(a,o,n):j(a,o,n),{r:i[0],g:i[1],b:i[2],a:s}}function U(t,e){var i=H(t);i[0]=Y(i[0]+e),i=j(i),t.r=i[0],t.g=i[1],t.b=i[2]}function J(t){if(!t)return;const e=H(t),i=e[0],s=O(e[1]),a=O(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${a}%, ${F(t.a)})`:`hsl(${i}, ${s}%, ${a}%)`}const K={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q(){const t={},e=Object.keys(Z),i=Object.keys(K);let s,a,o,n,r;for(s=0;s<e.length;s++){for(n=r=e[s],a=0;a<i.length;a++)o=i[a],r=r.replace(o,K[o]);o=parseInt(Z[n],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}let tt;function et(t){tt||(tt=Q(),tt.transparent=[0,0,0,0]);const e=tt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function it(t,e,i){if(t){let s=H(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=j(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function st(t,e){return t?Object.assign(e||{},t):t}function at(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=D(t[3]))):(e=st(t,{r:0,g:0,b:0,a:1}),e.a=D(e.a)),e}function ot(t){return"r"===t.charAt(0)?B(t):G(t)}class nt{constructor(t){if(t instanceof nt)return t;const e=typeof t;let i;"object"===e?i=at(t):"string"===e&&(i=I(t)||et(t)||ot(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=st(this._rgb);return t&&(t.a=F(t.a)),t}set rgb(t){this._rgb=at(t)}rgbString(){return this._valid?N(this._rgb):this._rgb}hexString(){return this._valid?P(this._rgb):this._rgb}hslString(){return this._valid?J(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,a=t.rgb;let o;const n=e===o?.5:e,r=2*n-1,l=s.a-a.a,c=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;o=1-c,s.r=255&c*s.r+o*a.r+.5,s.g=255&c*s.g+o*a.g+.5,s.b=255&c*s.b+o*a.b+.5,s.a=n*s.a+(1-n)*a.a,i.rgb=s}return i}clone(){return new nt(this.rgb)}alpha(t){return this._rgb.a=D(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=M(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return it(this._rgb,2,t),this}darken(t){return it(this._rgb,2,-t),this}saturate(t){return it(this._rgb,1,t),this}desaturate(t){return it(this._rgb,1,-t),this}rotate(t){return U(this._rgb,t),this}}function rt(t){return new nt(t)}const lt=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function ct(t){return lt(t)?t:rt(t)}const ht=(t,e,i,s)=>t<i?{cp1:{x:t+(i-t)/3*2,y:e},cp2:{x:t+(i-t)/3,y:s}}:{cp1:{x:t-(t-i)/3,y:0},cp2:{x:i+(t-i)/3,y:0}},dt=(t,e,i)=>({x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)});class ut extends s["c"]{constructor(t){super(),this.options=void 0,this.x=void 0,this.y=void 0,this.x2=void 0,this.y2=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this,{x:i,x2:s,y:a,y2:o,height:n,progress:r}=e,{cp1:l,cp2:c}=ht(i,a,s,o),h=e.options;if(0===r)return;t.save(),r<1&&(t.beginPath(),t.rect(i,Math.min(a,o),(s-i)*r+1,Math.abs(o-a)+n+1),t.clip());const d=t.createLinearGradient(i,0,s,0);d.addColorStop(0,ct(h.colorFrom).alpha(.5).rgbString()),d.addColorStop(1,ct(h.colorTo).alpha(.5).rgbString()),t.fillStyle=d,t.strokeStyle=d,t.lineWidth=.5,t.beginPath(),t.moveTo(i,a),t.bezierCurveTo(l.x,l.y,c.x,c.y,s,o),t.lineTo(s,o+n),t.bezierCurveTo(c.x,c.y+n,l.x,l.y+n,i,a+n),t.lineTo(i,a),t.stroke(),t.closePath(),t.fill(),t.restore()}inRange(t,e,i){const{x:s,y:a,x2:o,y2:n,height:r}=this.getProps(["x","y","x2","y2","height"],i);if(t<s||t>o)return!1;const{cp1:l,cp2:c}=ht(s,a,o,n),h=(t-s)/(o-s),d={x:s,y:a},u={x:o,y:n},p=dt(d,l,h),m=dt(l,c,h),f=dt(c,u,h),g=dt(p,m,h),v=dt(m,f,h),y=dt(g,v,h).y;return e>=y&&e<=y+r}inXRange(t,e){const{x:i,x2:s}=this.getProps(["x","x2"],e);return t>=i&&t<=s}inYRange(t,e){const{y:i,y2:s,height:a}=this.getProps(["y","y2","height"],e),o=Math.min(i,s),n=Math.max(i,s)+a;return t>=o&&t<=n}getCenterPoint(t){const{x:e,y:i,x2:s,y2:a,height:o}=this.getProps(["x","y","x2","y2","height"],t);return{x:(e+s)/2,y:(i+a+o)/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}ut.id="flow",ut.defaults={colorFrom:"red",colorTo:"green"}},e98d:function(t,e,i){"use strict";i("50ff")},ea7f:function(t,e,i){"use strict";var s;(function(a,o){t.exports?(o["default"]=o,t.exports=a.document?o(a):o):(s=function(){return o(a)}.call(e,i,e,t),void 0===s||(t.exports=s))})("undefined"!==typeof window?window:this,(function(t){function e(e,i,s,a){e.hasOwnProperty(i)||(e[i]=a.apply(null,s),"function"===typeof CustomEvent&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}var i={};return e(i,"Core/Globals.js",[],(function(){var e;return function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="11.0.0",e.win="undefined"!==typeof t?t:{},e.doc=e.win.document,e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect,e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10),e.hasTouch=!!e.win.TouchEvent,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){let t=!1;if(!e.isMS){const i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,i),e.win.removeEventListener("testPassive",e.noop,i))}return t}(),e.charts=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(e||(e={})),e})),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],(function(t){function e(i,s,a,o){const n=s?"Highcharts error":"Highcharts warning";32===i&&(i=n+": Deprecated member");const r=c(i);let l=r?`${n} #${i}: www.highcharts.com/errors/${i}/`:i.toString();if("undefined"!==typeof o){let t="";r&&(l+="?"),v(o,(function(e,i){t+=`\n - ${i}: ${e}`,r&&(l+=encodeURI(i)+"="+encodeURI(e))})),l+=t}b(t,"displayError",{chart:a,code:i,message:l,params:o},(function(){if(s)throw Error(l);k.console&&-1===e.messages.indexOf(l)&&console.warn(l)})),e.messages.push(l)}function i(t,e){const s={};return v(t,(function(a,o){n(t[o],!0)&&!t.nodeType&&e[o]?(a=i(t[o],e[o]),Object.keys(a).length&&(s[o]=a)):(n(t[o])||t[o]!==e[o]||o in t&&!(o in e))&&(s[o]=t[o])})),s}function s(t,e){return parseInt(t,e||10)}function a(t){return"string"===typeof t}function o(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t}function n(t,e){return!!t&&"object"===typeof t&&(!e||!o(t))}function r(t){return n(t)&&"number"===typeof t.nodeType}function l(t){const e=t&&t.constructor;return!(!n(t,!0)||r(t)||!e||!e.name||"Object"===e.name)}function c(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function h(t){return"undefined"!==typeof t&&null!==t}function d(t,e,i){const s=a(e)&&!h(i);let o;const n=(e,i)=>{h(e)?t.setAttribute(i,e):s?(o=t.getAttribute(i))||"class"!==i||(o=t.getAttribute(i+"Name")):t.removeAttribute(i)};return a(e)?n(i,e):v(e,n),o}function u(t,e){let i;for(i in t||(t={}),e)t[i]=e[i];return t}function p(){const t=arguments,e=t.length;for(let i=0;i<e;i++){const e=t[i];if("undefined"!==typeof e&&null!==e)return e}}function m(e,i){t.isMS&&!t.svg&&i&&h(i.opacity)&&(i.filter=`alpha(opacity=${100*i.opacity})`),u(e.style,i)}function f(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function g(t,e){return 1e14<t?t:parseFloat(t.toPrecision(e||14))}function v(t,e,i){for(const s in t)Object.hasOwnProperty.call(t,s)&&e.call(i||t[s],t[s],s,t)}function y(t,e,i){function s(e,i){const s=t.removeEventListener;s&&s.call(t,e,i,!1)}function a(i){let a,o;t.nodeName&&(e?(a={},a[e]=!0):a=i,v(a,(function(t,e){if(i[e])for(o=i[e].length;o--;)s(e,i[e][o].fn)})))}var o="function"===typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(o,"hcEvents")){const t=o.hcEvents;e?(o=t[e]||[],i?(t[e]=o.filter((function(t){return i!==t.fn})),s(e,i)):(a(t),t[e]=[])):(a(t),delete o.hcEvents)}}function b(e,i,s,a){if(s=s||{},w.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){var o=w.createEvent("Events");o.initEvent(i,!0,!0),s=u(o,s),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)}else if(e.hcEvents){s.target||u(s,{preventDefault:function(){s.defaultPrevented=!0},target:e,type:i}),o=[];let t=e,a=!1;for(;t.hcEvents;)Object.hasOwnProperty.call(t,"hcEvents")&&t.hcEvents[i]&&(o.length&&(a=!0),o.unshift.apply(o,t.hcEvents[i])),t=Object.getPrototypeOf(t);a&&o.sort((t,e)=>t.order-e.order),o.forEach(t=>{!1===t.fn.call(e,s)&&s.preventDefault()})}a&&!s.defaultPrevented&&a.call(e,s)}const{charts:x,doc:w,win:k}=t;(e||(e={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var C=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let i;const s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]};let S;v({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(i,s){t[s]=function(t){return e(32,!1,void 0,{["Highcharts."+s]:"use Array."+i}),Array.prototype[i].apply(t,[].slice.call(arguments,1))}}));const A=function(){const t=Math.random().toString(36).substring(2,9)+"-";let e=0;return function(){return"highcharts-"+(S?"":t)+e++}}();return k.jQuery&&(k.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[a(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):x[d(this[0],"data-highcharts-chart")]}),C={addEvent:function(e,i,s,a={}){var o="function"===typeof e&&e.prototype||e;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={}),o=o.hcEvents,t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);const n=e.addEventListener;return n&&n.call(e,i,s,!!t.supportsPassiveEvents&&{passive:void 0===a.passive?-1!==i.indexOf("touch"):a.passive,capture:!1}),o[i]||(o[i]=[]),o[i].push({fn:s,order:"number"===typeof a.order?a.order:1/0}),o[i].sort((t,e)=>t.order-e.order),function(){y(e,i,s)}},arrayMax:function(t){let e=t.length,i=t[0];for(;e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){let e=t.length,i=t[0];for(;e--;)t[e]<i&&(i=t[e]);return i},attr:d,clamp:function(t,e,i){return t>e?t<i?t:i:e},cleanRecursively:i,clearTimeout:function(t){h(t)&&clearTimeout(t)},correctFloat:g,createElement:function(t,e,i,s,a){return t=w.createElement(t),e&&u(t,e),a&&m(t,{padding:"0",border:"none",margin:"0"}),i&&m(t,i),s&&s.appendChild(t),t},css:m,defined:h,destroyObjectProperties:function(t,e){v(t,(function(i,s){i&&i!==e&&i.destroy&&i.destroy(),delete t[s]}))},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let i=t.length;for(;i--;)if(t[i]===e){t.splice(i,1);break}},error:e,extend:u,extendClass:function(t,e){const i=function(){};return i.prototype=new t,u(i.prototype,e),i},find:C,fireEvent:b,getMagnitude:f,getNestedProperty:function(t,e){for(t=t.split(".");t.length&&h(e);){const i=t.shift();if("undefined"===typeof i||"__proto__"===i)return;if(e=e[i],!h(e)||"function"===typeof e||"number"===typeof e.nodeType||e===k)return}return e},getStyle:function(e,i,a){const o=t.getStyle;let n;return"width"===i?(i=Math.min(e.offsetWidth,e.scrollWidth),a=e.getBoundingClientRect&&e.getBoundingClientRect().width,a<i&&a>=i-1&&(i=Math.floor(a)),Math.max(0,i-(o(e,"padding-left",!0)||0)-(o(e,"padding-right",!0)||0))):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(o(e,"padding-top",!0)||0)-(o(e,"padding-bottom",!0)||0)):((e=k.getComputedStyle(e,void 0))&&(n=e.getPropertyValue(i),p(a,"opacity"!==i)&&(n=s(n))),n)},inArray:function(t,i,s){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),i.indexOf(t,s)},isArray:o,isClass:l,isDOMElement:r,isFunction:function(t){return"function"===typeof t},isNumber:c,isObject:n,isString:a,keys:function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,i={};const s=function(t,e){return"object"!==typeof t&&(t={}),v(e,(function(i,a){"__proto__"!==a&&"constructor"!==a&&(!n(i,!0)||l(i)||r(i)?t[a]=e[a]:t[a]=s(t[a]||{},i))})),t};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));const a=e.length;for(t=0;t<a;t++)i=s(i,e[t]);return i},normalizeTickInterval:function(t,e,i,s,a){let o=t;i=p(i,f(t));const n=t/i;for(e||(e=a?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===i?e=e.filter((function(t){return 0===t%1})):.1>=i&&(e=[1/i]))),s=0;s<e.length&&(o=e[s],!(a&&o*i>=t||!a&&n<=(e[s]+(e[s+1]||e[s]))/2));s++);return g(o*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:v,offset:function(t){const e=w.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:t.top+(k.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(k.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:t.width,height:t.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:p,pInt:s,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:y,splat:function(t){return o(t)?t:[t]},stableSort:function(t,e){const i=t.length;let s,a;for(a=0;a<i;a++)t[a].safeI=a;for(t.sort((function(t,i){return s=e(t,i),0===s?t.safeI-i.safeI:s})),a=0;a<i;a++)delete t[a].safeI},syncTimeout:function(t,e,i){return 0<e?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:A,useSerialIds:function(t){return S=p(t,S)},wrap:function(t,e,i){const s=t[e];t[e]=function(){const t=arguments,e=this;return i.apply(this,[function(){return s.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}},C})),e(i,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{isNumber:i,merge:s,pInt:a}=e;class o{static parse(t){return t?new o(t):o.None}constructor(e){this.rgba=[NaN,NaN,NaN,NaN],this.input=e;const i=t.Color;if(i&&i!==o)return new i(e);this.init(e)}init(t){let e,i;if("object"===typeof t&&"undefined"!==typeof t.stops)this.stops=t.stops.map(t=>new o(t[1]));else if("string"===typeof t){if(this.input=t=o.names[t.toLowerCase()]||t,"#"===t.charAt(0)){var s=t.length,a=parseInt(t.substr(1),16);7===s?e=[(16711680&a)>>16,(65280&a)>>8,255&a,1]:4===s&&(e=[(3840&a)>>4|(3840&a)>>8,(240&a)>>4|240&a,(15&a)<<4|15&a,1])}if(!e)for(a=o.parsers.length;a--&&!e;)i=o.parsers[a],(s=i.regex.exec(t))&&(e=i.parse(s))}e&&(this.rgba=e)}get(t){const e=this.input,a=this.rgba;if("object"===typeof e&&"undefined"!==typeof this.stops){const i=s(e);return i.stops=[].slice.call(i.stops),this.stops.forEach((e,s)=>{i.stops[s]=[i.stops[s][0],e.get(t)]}),i}return a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?""+a[3]:"rgba("+a.join(",")+")":e}brighten(t){const e=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(let i=0;3>i;i++)e[i]+=a(255*t),0>e[i]&&(e[i]=0),255<e[i]&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){const s=this.rgba,a=t.rgba;return i(s[0])&&i(a[0])?(t=1!==a[3]||1!==s[3],(t?"rgba(":"rgb(")+Math.round(a[0]+(s[0]-a[0])*(1-e))+","+Math.round(a[1]+(s[1]-a[1])*(1-e))+","+Math.round(a[2]+(s[2]-a[2])*(1-e))+(t?","+(a[3]+(s[3]-a[3])*(1-e)):"")+")"):t.input||"none"}}return o.names={white:"#ffffff",black:"#000000"},o.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),1]}}],o.None=new o(""),o})),e(i,"Core/Color/Palettes.js",[],(function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}})),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{win:i}=t,{defined:s,error:a,extend:o,isObject:n,merge:r,objectEach:l,pad:c,pick:h,splat:d,timeUnits:u}=e,p=t.isSafari&&i.Intl&&i.Intl.DateTimeFormat.prototype.formatRange,m=t.isSafari&&i.Intl&&!i.Intl.DateTimeFormat.prototype.formatRange;class f{constructor(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=i.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}get(t,e){if(this.variableTimezone||this.timezoneOffset){const i=e.getTime(),s=i-this.getTimezoneOffset(e);return e.setTime(s),t=e["getUTC"+t](),e.setTime(i),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()}set(t,e,i){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===this.getTimezoneOffset(e)%36e5)return e["setUTC"+t](i);var s=this.getTimezoneOffset(e);return s=e.getTime()-s,e.setTime(s),e["setUTC"+t](i),t=this.getTimezoneOffset(e),s=e.getTime()+t,e.setTime(s)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](i):e["set"+t](i)}update(t={}){const e=h(t.useUTC,!0);this.options=t=r(!0,this.options,t),this.Date=t.Date||i.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)}makeTime(t,e,i,s,a,o){let n,r,l;return this.useUTC?(n=this.Date.UTC.apply(0,arguments),r=this.getTimezoneOffset(n),n+=r,l=this.getTimezoneOffset(n),r!==l?n+=l-r:r-36e5!==this.getTimezoneOffset(n-36e5)||m||(n-=36e5)):n=new this.Date(t,e,h(i,1),h(s,0),h(a,0),h(o,0)).getTime(),n}timezoneOffsetFunction(){const t=this,e=this.options,s=e.getTimezoneOffset,o=e.moment||i.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(o)return function(t){return 6e4*-o.tz(t,e.timezone).utcOffset()};a(25)}return this.useUTC&&s?function(t){return 6e4*s(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}}dateFormat(e,i,a){if(!s(i)||isNaN(i))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=h(e,"%Y-%m-%d %H:%M:%S");const n=this;var r=new this.Date(i);const d=this.get("Hours",r),u=this.get("Day",r),p=this.get("Date",r),m=this.get("Month",r),f=this.get("FullYear",r),g=t.defaultOptions.lang,v=g&&g.weekdays,y=g&&g.shortWeekdays;return r=o({a:y?y[u]:v[u].substr(0,3),A:v[u],d:c(p),e:c(p,2," "),w:u,b:g.shortMonths[m],B:g.months[m],m:c(m+1),o:m+1,y:f.toString().substr(2,2),Y:f,H:c(d),k:d,I:c(d%12||12),l:d%12||12,M:c(this.get("Minutes",r)),p:12>d?"AM":"PM",P:12>d?"am":"pm",S:c(r.getSeconds()),L:c(Math.floor(i%1e3),3)},t.dateFormats),l(r,(function(t,s){for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"===typeof t?t.call(n,i):t)})),a?e.substr(0,1).toUpperCase()+e.substr(1):e}resolveDTLFormat(t){return n(t,!0)?t:(t=d(t),{main:t[0],from:t[1],to:t[2]})}getTimeTicks(t,e,i,a){const n=this,r=[],l={};var c=new n.Date(e);const d=t.unitRange,p=t.count||1;let m;if(a=h(a,1),s(e)){if(n.set("Milliseconds",c,d>=u.second?0:p*Math.floor(n.get("Milliseconds",c)/p)),d>=u.second&&n.set("Seconds",c,d>=u.minute?0:p*Math.floor(n.get("Seconds",c)/p)),d>=u.minute&&n.set("Minutes",c,d>=u.hour?0:p*Math.floor(n.get("Minutes",c)/p)),d>=u.hour&&n.set("Hours",c,d>=u.day?0:p*Math.floor(n.get("Hours",c)/p)),d>=u.day&&n.set("Date",c,d>=u.month?1:Math.max(1,p*Math.floor(n.get("Date",c)/p))),d>=u.month){n.set("Month",c,d>=u.year?0:p*Math.floor(n.get("Month",c)/p));var f=n.get("FullYear",c)}d>=u.year&&n.set("FullYear",c,f-f%p),d===u.week&&(f=n.get("Day",c),n.set("Date",c,n.get("Date",c)-f+a+(f<a?-7:0))),f=n.get("FullYear",c),a=n.get("Month",c);const t=n.get("Date",c),o=n.get("Hours",c);for(e=c.getTime(),!n.variableTimezone&&n.useUTC||!s(i)||(m=i-e>4*u.month||n.getTimezoneOffset(e)!==n.getTimezoneOffset(i)),e=c.getTime(),c=1;e<i;)r.push(e),e=d===u.year?n.makeTime(f+c*p,0):d===u.month?n.makeTime(f,a+c*p):!m||d!==u.day&&d!==u.week?m&&d===u.hour&&1<p?n.makeTime(f,a,t,o+c*p):e+d*p:n.makeTime(f,a,t+c*p*(d===u.day?1:7)),c++;r.push(e),d<=u.hour&&1e4>r.length&&r.forEach((function(t){0===t%18e5&&"000000000"===n.dateFormat("%H%M%S%L",t)&&(l[t]="day")}))}return r.info=o(t,{higherRanks:l,totalRange:d*p}),r}getDateFormat(t,e,i,s){const a=this.dateFormat("%m-%d %H:%M:%S.%L",e),o={millisecond:15,second:12,minute:9,hour:6,day:3};let n,r="millisecond";for(n in u){if(t===u.week&&+this.dateFormat("%w",e)===i&&"00:00:00.000"===a.substr(6)){n="week";break}if(u[n]>t){n=r;break}if(o[n]&&a.substr(o[n])!=="01-01 00:00:00.000".substr(o[n]))break;"week"!==n&&(r=n)}return this.resolveDTLFormat(s[n]).main}}return f})),e(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{isTouchDevice:n,svg:r}=i,{merge:l}=o,c={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:r,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:n?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};c.chart.styledMode=!1;const h=new a(c.time);return t={defaultOptions:c,defaultTime:h,getOptions:function(){return c},setOptions:function(t){return l(!0,c,t),(t.time||t.global)&&(i.time?i.time.update(l(c.global,c.time,t.global,t.time)):i.time=h),c}},t})),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:s}=t,{win:a}=e,{isNumber:o,objectEach:n}=i;class r{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){var t=this.paths;const e=t&&t[0];t=t&&t[1];const i=this.now||0;let s=[];if(1!==i&&e&&t)if(e.length===t.length&&1>i)for(let a=0;a<t.length;a++){const n=e[a],r=t[a],l=[];for(let t=0;t<r.length;t++){const e=n[t],s=r[t];o(e)&&o(s)&&("A"!==r[0]||4!==t&&5!==t)?l[t]=e+i*(s-e):l[t]=s}s.push(l)}else s=t;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)}update(){const t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)}run(t,e,i){const s=this,o=s.options,n=function(t){return!n.stopped&&s.step(t)},l=a.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(let t=0;t<r.timers.length;t++)r.timers[t]()||r.timers.splice(t--,1);r.timers.length&&l(c)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&1===r.timers.push(n)&&l(c)):(delete o.curAnim[this.prop],o.complete&&0===Object.keys(o.curAnim).length&&o.complete.call(this.elem))}step(t){const e=+new Date,i=this.options,s=this.elem,a=i.complete,o=i.duration,r=i.curAnim;let l;return s.attr&&!s.element?t=!1:t||e>=o+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=r[this.prop]=!0,n(r,(function(t){!0!==t&&(l=!1)})),l&&a&&a.call(s),t=!1):(this.pos=i.easing((e-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t}initPath(t,e,i){function s(t,e){for(;t.length<d;){var i=t[0];const s=e[d-t.length];s&&"M"===i[0]&&(t[0]="C"===s[0]?["C",i[1],i[2],i[1],i[2],i[1],i[2]]:["L",i[1],i[2]]),t.unshift(i),l&&(i=t.pop(),t.push(t[t.length-1],i))}}function a(t,e){for(;t.length<d;)if(e=t[Math.floor(t.length/c)-1].slice(),"C"===e[0]&&(e[1]=e[5],e[2]=e[6]),l){const i=t[Math.floor(t.length/c)].slice();t.splice(t.length/2,0,e,i)}else t.push(e)}const n=t.startX,r=t.endX;i=i.slice();const l=t.isArea,c=l?2:1;let h,d,u;if(e=e&&e.slice(),!e)return[i,i];if(n&&r&&r.length){for(t=0;t<n.length;t++){if(n[t]===r[0]){h=t;break}if(n[0]===r[r.length-n.length+t]){h=t,u=!0;break}if(n[n.length-1]===r[r.length-n.length+t]){h=n.length-t;break}}"undefined"===typeof h&&(e=[])}return e.length&&o(h)&&(d=i.length+h*c,u?(s(e,i),a(i,e)):(s(i,e),a(e,i))),[e,i]}fillSetter(){r.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return r.timers=[],r})),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],(function(t,e){function i(t){return l(t)?c({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function s(e,i){let s=t.timers.length;for(;s--;)t.timers[s].elem!==e||i&&i!==t.timers[s].prop||(t.timers[s].stopped=!0)}const{defined:a,getStyle:o,isArray:n,isNumber:r,isObject:l,merge:c,objectEach:h,pick:d}=e;return{animate:function(e,i,a){let d,u,p,m,f="";l(a)||(m=arguments,a={duration:m[2],easing:m[3],complete:m[4]}),r(a.duration)||(a.duration=400),a.easing="function"===typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=c(i),h(i,(function(r,l){s(e,l),p=new t(e,a,l),u=void 0,"d"===l&&n(i.d)?(p.paths=p.initPath(e,e.pathArray,i.d),p.toD=i.d,d=0,u=1):e.attr?d=e.attr(l):(d=parseFloat(o(e,l))||0,"opacity"!==l&&(f="px")),u||(u=r),"string"===typeof u&&u.match("px")&&(u=u.replace(/px/g,"")),p.run(d,u,f)}))},animObject:i,getDeferredAnimation:function(t,e,s){const o=i(e);let n=0,r=0;return(s?[s]:t.series).forEach(t=>{t=i(t.options.animation),n=e&&a(e.defer)?o.defer:Math.max(n,t.duration+t.defer),r=Math.min(o.duration,t.duration)}),t.renderer.forExport&&(n=0),{defer:Math.max(0,n-r),duration:Math.min(n,r)}},setAnimation:function(t,e){e.renderer.globalAnimation=d(t,e.options.chart.animation,!0)},stop:s}})),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{SVG_NS:i,win:s}=t,{attr:a,createElement:o,css:n,error:r,isFunction:l,isString:c,objectEach:h,splat:d}=e;({trustedTypes:e}=s);const u=e&&l(e.createPolicy)&&e.createPolicy("highcharts",{createHTML:t=>t});e=u?u.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(e,"text/html")}catch(g){p=!1}const m=p;class f{static filterUserAttributes(t){return h(t,(e,i)=>{let s=!0;-1===f.allowedAttributes.indexOf(i)&&(s=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(s=c(e)&&f.allowedReferences.some(t=>0===e.indexOf(t))),s||(r(33,!1,void 0,{"Invalid attribute in config":""+i}),delete t[i]),c(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((t,e)=>{e=e.split(":").map(t=>t.trim());const i=e.shift();return i&&e.length&&(t[i.replace(/-([a-z])/g,t=>t[1].toUpperCase())]=e.join(":")),t},{})}static setElementHTML(t,e){t.innerHTML=f.emptyHTML,e&&new f(e).addToDOM(t)}constructor(t){this.nodes="string"===typeof t?this.parseMarkup(t):t}addToDOM(e){function s(e,o){let l;return d(e).forEach((function(e){var c=e.tagName;const d=e.textContent?t.doc.createTextNode(e.textContent):void 0,u=f.bypassHTMLFiltering;let p;if(c)if("#text"===c)p=d;else if(-1!==f.allowedTags.indexOf(c)||u){c=t.doc.createElementNS("svg"===c?i:o.namespaceURI||i,c);const r=e.attributes||{};h(e,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(r[e]=t)})),a(c,u?r:f.filterUserAttributes(r)),e.style&&n(c,e.style),d&&c.appendChild(d),s(e.children||[],c),p=c}else r(33,!1,void 0,{"Invalid tagName in config":c});p&&o.appendChild(p),l=p})),l}return s(this.nodes,e)}parseMarkup(t){const e=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),m)t=(new DOMParser).parseFromString(u?u.createHTML(t):t,"text/html");else{const e=o("div");e.innerHTML=t,t={body:e}}const i=(t,e)=>{var s=t.nodeName.toLowerCase();const a={tagName:s};if("#text"===s&&(a.textContent=t.textContent||""),s=t.attributes){const t={};[].forEach.call(s,e=>{"data-style"===e.name?a.style=f.parseStyle(e.value):t[e.name]=e.value}),a.attributes=t}if(t.childNodes.length){const e=[];[].forEach.call(t.childNodes,t=>{i(t,e)}),e.length&&(a.children=e)}e.push(a)};return[].forEach.call(t.body.childNodes,t=>i(t,e)),e}}return f.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),f.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),f.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),f.emptyHTML=e,f.bypassHTMLFiltering=!1,f})),e(i,"Core/FormatUtilities.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e,i,a){t=+t||0,e=+e;const o=s.lang;var c=(t.toString().split(".")[1]||"").split("e")[0].length;const h=t.toString().split("e"),d=e;if(-1===e)e=Math.min(c,20);else if(n(e)){if(e&&h[1]&&0>h[1]){var u=e+ +h[1];0<=u?(h[0]=(+h[0]).toExponential(u).split("e")[0],e=u):(h[0]=h[0].split(".")[0]||0,t=20>e?(h[0]*Math.pow(10,h[1])).toFixed(e):0,h[1]=0)}}else e=2;u=(Math.abs(h[1]?h[0]:t)+Math.pow(10,-Math.max(e,c)-1)).toFixed(e),c=String(l(u));const p=3<c.length?c.length%3:0;return i=r(i,o.decimalPoint),a=r(a,o.thousandsSep),t=(0>t?"-":"")+(p?c.substr(0,p)+a:""),t=0>+h[1]&&!d?"0":t+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+a),e&&(t+=i+u.slice(-e)),h[1]&&0!==+t&&(t+="e"+h[1]),t}const{defaultOptions:s,defaultTime:a}=t,{getNestedProperty:o,isNumber:n,pick:r,pInt:l}=e;return{dateFormat:function(t,e,i){return a.dateFormat(t,e,i)},format:function(t,e,n){var r="{";let l,c=!1;const h=/f$/,d=/\.([0-9])/,u=s.lang,p=n&&n.time||a;n=n&&n.numberFormatter||i;const m=[];for(;t;){if(l=t.indexOf(r),-1===l)break;var f=t.slice(0,l);if(c){if(f=f.split(":"),r=o(f.shift()||"",e),f.length&&"number"===typeof r)if(f=f.join(":"),h.test(f)){const t=parseInt((f.match(d)||["","-1"])[1],10);null!==r&&(r=n(r,t,u.decimalPoint,-1<f.indexOf(",")?u.thousandsSep:""))}else r=p.dateFormat(f,r);m.push(r)}else m.push(f);t=t.slice(l+1),r=(c=!c)?"}":"{"}return m.push(t),m.join("")},numberFormat:i}})),e(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],(function(t){const{clamp:e,pick:i,stableSort:s}=t;var a;return function(t){function a(t,o,n){const r=t;var l=r.reducedLen||o,c=(t,e)=>(e.rank||0)-(t.rank||0);const h=(t,e)=>t.target-e.target;let d,u=!0,p=[],m=0;for(d=t.length;d--;)m+=t[d].size;if(m>l){for(s(t,c),m=d=0;m<=l;)m+=t[d].size,d++;p=t.splice(d-1,t.length)}for(s(t,h),t=t.map(t=>({size:t.size,targets:[t.target],align:i(t.align,.5)}));u;){for(d=t.length;d--;)l=t[d],c=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=e(c-l.size*l.align,0,o-l.size);for(d=t.length,u=!1;d--;)0<d&&t[d-1].pos+t[d-1].size>t[d].pos&&(t[d-1].size+=t[d].size,t[d-1].targets=t[d-1].targets.concat(t[d].targets),t[d-1].align=.5,t[d-1].pos+t[d-1].size>o&&(t[d-1].pos=o-t[d-1].size),t.splice(d,1),u=!0)}return r.push.apply(r,p),d=0,t.some(t=>{let e=0;return(t.targets||[]).some(()=>(r[d].pos=t.pos+e,"undefined"!==typeof n&&Math.abs(r[d].pos-r[d].target)>n?(r.slice(0,d+1).forEach(t=>delete t.pos),r.reducedLen=(r.reducedLen||o)-.1*o,r.reducedLen>.1*o&&a(r,o,n),!0):(e+=r[d].size,d++,!1)))}),s(r,h),r}t.distribute=a}(a||(a={})),a})),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{animate:a,animObject:o,stop:n}=t,{deg2rad:r,doc:l,svg:c,SVG_NS:h,win:d}=i,{addEvent:u,attr:p,createElement:m,css:f,defined:g,erase:v,extend:y,fireEvent:b,isArray:x,isFunction:w,isObject:k,isString:C,merge:S,objectEach:A,pick:T,pInt:I,syncTimeout:P,uniqueKey:M}=s;class L{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=h}_defaultGetter(t){return t=T(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){const e=this.renderer,i=this.element;let s;return t&&(this.parentGroup=t),"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(s=this.zIndexSetter()),s||(t?t.element:e.box).appendChild(i),this.onAdd&&this.onAdd(),this}addClass(t,e){const i=e?"":this.attr("class")||"";return t=(t||"").split(/ /g).reduce((function(t,e){return-1===i.indexOf(e)&&t.push(e),t}),i?[i]:[]).join(" "),t!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i){const s={};var a,o=this.renderer,n=o.alignedObjects;let r,l;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||C(i))&&(this.alignTo=a=i||"renderer",v(n,this),n.push(this),i=void 0)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=T(i,o[a],"scrollablePlotBox"===a?o.plotBox:void 0,o),a=t.align;const c=t.verticalAlign;return o=(i.x||0)+(t.x||0),n=(i.y||0)+(t.y||0),"right"===a?r=1:"center"===a&&(r=2),r&&(o+=(i.width-(t.width||0))/r),s[e?"translateX":"x"]=Math.round(o),"bottom"===c?l=1:"middle"===c&&(l=2),l&&(n+=(i.height-(t.height||0))/l),s[e?"translateY":"y"]=Math.round(n),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this}alignSetter(t){const e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){const s=o(T(e,this.renderer.globalAnimation,!0));return e=s.defer,l.hidden&&(s.duration=0),0!==s.duration?(i&&(s.complete=i),P(()=>{this.element&&a(this,t,s)},e)):(this.attr(t,void 0,i||s.complete),A(t,(function(t,e){s.step&&s.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this}applyTextOutline(t){const e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));var s=t.split(" ");if(t=s[s.length-1],(s=s[0])&&"none"!==s&&i.svg){this.fakeTS=!0,s=s.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*Number(e)+i})),this.removeTextOutline();const i=l.createElementNS(h,"tspan");p(i,{class:"highcharts-text-outline",fill:t,stroke:t,"stroke-width":s,"stroke-linejoin":"round"}),t=e.querySelector("textPath")||e,[].forEach.call(t.childNodes,t=>{const e=t.cloneNode(!0);e.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(t=>e.removeAttribute(t)),i.appendChild(e)});let a=0;[].forEach.call(t.querySelectorAll("text tspan"),t=>{a+=Number(t.getAttribute("dy"))}),s=l.createElementNS(h,"tspan"),s.textContent="​",p(s,{x:Number(e.getAttribute("x")),dy:-a}),i.appendChild(s),t.insertBefore(i,t.firstChild)}}attr(t,e,i,s){const a=this.element,o=L.symbolCustomAttribs;let r,l,c,h,d=this;return"string"===typeof t&&"undefined"!==typeof e&&(r=t,t={},t[r]=e),"string"===typeof t?d=(this[t+"Getter"]||this._defaultGetter).call(this,t,a):(A(t,(function(e,i){c=!1,s||n(this,i),this.symbolName&&-1!==o.indexOf(i)&&(l||(this.symbolAttr(t),l=!0),c=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),c||(h=this[i+"Setter"]||this._defaultSetter,h.call(this,e,i,a))}),this),this.afterSetters()),i&&i.call(this),d}clip(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")}crisp(t,e){e=e||t.strokeWidth||0;const i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),g(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,i,s){const a=this.renderer;let o,n,r,l,c,h,d,u,p,m,f,v=[];b(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?n="radialGradient":t.linearGradient&&(n="linearGradient"),n){if(r=t[n],c=a.gradients,h=t.stops,p=s.radialReference,x(r)&&(t[n]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&p&&!g(r.gradientUnits)&&(l=r,r=S(r,a.getRadialAttr(p,l),{gradientUnits:"userSpaceOnUse"})),A(r,(function(t,e){"id"!==e&&v.push(e,t)})),A(h,(function(t){v.push(t)})),v=v.join(","),c[v])m=c[v].attr("id");else{r.id=m=M();const t=c[v]=a.createElement(n).attr(r).add(a.defs);t.radAttr=l,t.stops=[],h.forEach((function(i){0===i[1].indexOf("rgba")?(o=e.parse(i[1]),d=o.get("rgb"),u=o.get("a")):(d=i[1],u=1),i=a.createElement("stop").attr({offset:i[0],"stop-color":d,"stop-opacity":u}).add(t),t.stops.push(i)}))}f="url("+a.url+"#"+m+")",s.setAttribute(i,f),s.gradient=v,t.toString=function(){return f}}}))}css(t){const e=this.styles,i={},s=this.element;let a,o=!e;if(t.color&&(t.fill=t.color),e&&A(t,(function(t,s){e&&e[s]!==t&&(i[s]=t,o=!0)})),o){e&&(t=y(e,i)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(a=this.textWidth=I(t.width)),this.styles=t,a&&!c&&this.renderer.forExport&&delete t.width;const o=S(t);s.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(t=>o&&delete o[t]),f(s,o)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){const i=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=i.length;t--;)i[t]=""+I(i[t])*T(e,NaN);t=i.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){const t=this;var e=t.element||{};const i=t.renderer;var s=e.ownerSVGElement;let a="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,n(t),t.clipPath&&s){const e=t.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(e.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=e.destroy()}if(t.stops){for(s=0;s<t.stops.length;s++)t.stops[s].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);a&&a.div&&0===a.div.childNodes.length;)e=a.parentGroup,t.safeRemoveChild(a.div),delete a.div,a=e;t.alignTo&&v(i.alignedObjects,t),A(t,(function(e,i){t[i]&&t[i].parentGroup===t&&t[i].destroy&&t[i].destroy(),delete t[i]}))}dSetter(t,e,i){x(t)&&("string"===typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((t,e,i)=>e&&e.join?(i?t+" ":"")+e.join(" "):(e||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fadeOut(t){const e=this;e.animate({opacity:0},{duration:T(t,150),complete:function(){e.hide()}})}fillSetter(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}getBBox(t,e){const{alignValue:i,element:s,renderer:a,styles:o,textStr:n}=this,{cache:l,cacheKeys:c}=a;var h=s.namespaceURI===this.SVG_NS;e=T(e,this.rotation,0);var d=a.styledMode?s&&L.prototype.getStyle.call(s,"font-size"):o&&o.fontSize;let u,p;if(g(n)&&(p=n.toString(),-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",a.rootFontSize,d,e,this.textWidth,i,o&&o.textOverflow,o&&o.fontWeight].join()),p&&!t&&(u=l[p]),!u){if(h||a.forExport){try{var m=this.fakeTS&&function(t){const e=s.querySelector(".highcharts-text-outline");e&&f(e,{display:t})};w(m)&&m("none"),u=s.getBBox?y({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight,x:0,y:0},w(m)&&m("")}catch(C){}(!u||0>u.width)&&(u={x:0,y:0,width:0,height:0})}else u=this.htmlGetBBox();if(m=u.width,t=u.height,h&&(u.height=t={"11px,17":14,"13px,20":16}[`${d||""},${Math.round(t)}`]||t),e){h=Number(s.getAttribute("y")||0)-u.y,d={right:1,center:.5}[i||0]||0;var v=e*r,b=(e-90)*r,x=m*Math.cos(v);e=m*Math.sin(v);var k=Math.cos(b);v=Math.sin(b),m=u.x+d*(m-x)+h*k,b=m+x,k=b-t*k,x=k-x,h=u.y+h-d*e+h*v,d=h+e,t=d-t*v,e=t-e,u.x=Math.min(m,b,k,x),u.y=Math.min(h,d,t,e),u.width=Math.max(m,b,k,x)-u.x,u.height=Math.max(h,d,t,e)-u.y}}if(p&&(""===n||0<u.height)){for(;250<c.length;)delete l[c.shift()];l[p]||c.push(p),l[p]=u}return u}getStyle(t){return d.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(t,e){this.element="span"===e?m(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,b(this,"afterInit")}on(t,e){const{onEvents:i}=this;return i[t]&&i[t](),i[t]=u(this.element,t,e),this}opacitySetter(t,e,i){this.opacity=t=Number(Number(t).toFixed(3)),i.setAttribute(e,t)}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(C(t)?new RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){const t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){const e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){const e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}setTextPath(t,e){e=S(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);const i=this.renderer.url,s=this.text||this,a=s.textPath,{attributes:o,enabled:n}=e;return t=t||a&&a.path,a&&a.undo(),t&&n?(e=u(s,"afterModifyTree",e=>{if(t&&n){let n=t.attr("id");n||t.attr("id",n=M());var a={x:0,y:0};g(o.dx)&&(a.dx=o.dx,delete o.dx),g(o.dy)&&(a.dy=o.dy,delete o.dy),s.attr(a),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),a=e.nodes.slice(0),e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:y(o,{"text-anchor":o.textAnchor,href:`${i}#${n}`}),children:a}}}),s.textPath={path:t,undo:e}):(s.attr({dx:0,dy:0}),delete s.textPath),this.added&&(s.textCache="",this.renderer.buildText(s)),this}shadow(t){var e;const{renderer:i}=this,s=S(90===(null===(e=this.parentGroup)||void 0===e?void 0:e.rotation)?{offsetX:-1,offsetY:-1}:{},k(t)?t:{});return e=i.shadowDefinition(s),this.attr({filter:t?`url(${i.url}#${e})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}["stroke-widthSetter"](t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const t=this.getStyle("stroke-width");let e,i=0;return t.indexOf("px")===t.length-2?i=I(t):""!==t&&(e=l.createElementNS(h,"rect"),p(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),i=e.getBBox().width,e.parentNode.removeChild(e)),i}symbolAttr(t){const e=this;L.symbolCustomAttribs.forEach((function(i){e[i]=T(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))}titleSetter(t){const e=this.element,i=e.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=String(T(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(){const{element:t,matrix:e,rotation:i=0,scaleX:s,scaleY:a,translateX:o=0,translateY:n=0}=this,r=["translate("+o+","+n+")"];g(e)&&r.push("matrix("+e.join(",")+")"),i&&r.push("rotate("+i+" "+T(this.rotationOriginX,t.getAttribute("x"),0)+" "+T(this.rotationOriginY,t.getAttribute("y")||0)+")"),(g(s)||g(a))&&r.push("scale("+T(s,1)+" "+T(a,1)+")"),r.length&&!(this.text||this).textPath&&t.setAttribute("transform",r.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){var i=this.renderer,s=this.parentGroup;const a=(s||i).element||i.box,o=this.element;i=a===i.box;let n,r=!1;var l=this.added;let c;if(g(t)?(o.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):g(this[e])&&o.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,c=e.length-1;0<=c&&!r;c--)s=e[c],l=s.getAttribute("data-z-index"),n=!g(l),s!==o&&(0>t&&n&&!i&&!c?(a.insertBefore(o,e[c]),r=!0):(I(l)<=t||n&&(!g(t)||0<=t))&&(a.insertBefore(o,e[c+1]),r=!0));r||(a.insertBefore(o,e[i?3:0]),r=!0)}return r}}return L.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),L.prototype.strokeSetter=L.prototype.fillSetter,L.prototype.yGetter=L.prototype.xGetter,L.prototype.matrixSetter=L.prototype.rotationOriginXSetter=L.prototype.rotationOriginYSetter=L.prototype.rotationSetter=L.prototype.scaleXSetter=L.prototype.scaleYSetter=L.prototype.translateXSetter=L.prototype.translateYSetter=L.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},L})),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],(function(t){var e;return function(e){let i;e.rendererTypes={},e.getRendererType=function(t=i){return e.rendererTypes[t]||e.rendererTypes[i]},e.registerRendererType=function(s,a,o){e.rendererTypes[s]=a,i&&!o||(i=s,t.Renderer=a)}}(e||(e={})),e})),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e){const{defined:i,extend:s,isNumber:a,merge:o,pick:n,removeEvent:r}=e;class l extends t{constructor(t,e,i,s,a,o,n,r,c,h){let d;super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(t,"g"),this.textStr=e,this.x=i,this.y=s,this.anchorX=o,this.anchorY=n,this.baseline=c,this.className=h,this.addClass("button"===h?"highcharts-no-tooltip":"highcharts-label"),h&&this.addClass("highcharts-"+h),this.text=t.text(void 0,0,0,r).attr({zIndex:1}),"string"===typeof a&&((d=/^url\((.*?)\)$/.test(a))||this.renderer.symbols[a])&&(this.symbolKey=a),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||d,this.deferredAttr={},this.alignFactor=0}alignSetter(t){t={left:0,center:.5,right:1}[t],t!==this.alignFactor&&(this.alignFactor=t,this.bBox&&a(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){const t={};e=o(e),l.textProps.forEach(i=>{"undefined"!==typeof e[i]&&(t[i]=e[i],delete e[i])}),this.text.css(t),"fontSize"in t||"fontWeight"in t?this.updateTextPadding():("width"in t||"textOverflow"in t)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){r(this.element,"mouseenter"),r(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();const t=this.padding,e=n(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-e,y:this.bBox.y-t}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t}onAdd(){this.text.add(this),this.attr({text:n(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){a(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}["stroke-widthSetter"](t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}["text-alignSetter"](t){this.textAlign=t}textSetter(t){"undefined"!==typeof t&&this.text.attr({text:t}),this.updateTextPadding()}updateBoxSize(){var t=this.text;const e={},o=this.padding,n=this.bBox=a(this.widthSetting)&&a(this.heightSetting)&&!this.textAlign||!i(t.textStr)?l.emptyBBox:t.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||n.height||0)+2*o;const r=this.renderer.fontMetrics(t);this.baselineOffset=o+Math.min((this.text.firstLineMetrics||r).b,n.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-r.h)/2),this.needsBox&&!t.textPath&&(this.box||(t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),t.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)),t=this.getCrispAdjust(),e.x=t,e.y=(this.baseline?-this.baselineOffset:0)+t,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(s(e,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const t=this.text;if(!t.textPath){this.updateBoxSize();const e=this.baseline?0:this.baselineOffset;let s=n(this.paddingLeft,this.padding);i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(s+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),s===t.x&&e===t.y||(t.attr("x",s),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),"undefined"!==typeof e&&t.attr("y",e)),t.x=s,t.y=e}}widthSetter(t){this.widthSetting=a(t)?t:void 0}getPaddedWidth(){var t=this.padding;const e=n(this.paddingLeft,t);return t=n(this.paddingRight,t),(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),l})),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],(function(t){function e(t,e,i,s,o){const r=[];if(o){const l=o.start||0,c=n(o.r,i);i=n(o.r,s||i),s=(o.end||0)-.001;const h=o.innerR,d=n(o.open,.001>Math.abs((o.end||0)-l-2*Math.PI)),u=Math.cos(l),p=Math.sin(l),m=Math.cos(s),f=Math.sin(s),g=n(o.longArc,.001>s-l-Math.PI?0:1);let v=["A",c,i,0,g,n(o.clockwise,1),t+c*m,e+i*f];v.params={start:l,end:s,cx:t,cy:e},r.push(["M",t+c*u,e+i*p],v),a(h)&&(v=["A",h,h,0,g,a(o.clockwise)?1-o.clockwise:0,t+h*u,e+h*p],v.params={start:s,end:l,cx:t,cy:e},r.push(d?["M",t+h*m,e+h*f]:["L",t+h*m,e+h*f],v)),d||r.push(["Z"])}return r}function i(t,e,i,a,o){return o&&o.r?s(t,e,i,a,o):[["M",t,e],["L",t+i,e],["L",t+i,e+a],["L",t,e+a],["Z"]]}function s(t,e,i,s,a){return a=(null===a||void 0===a?void 0:a.r)||0,[["M",t+a,e],["L",t+i-a,e],["A",a,a,0,0,1,t+i,e+a],["L",t+i,e+s-a],["A",a,a,0,0,1,t+i-a,e+s],["L",t+a,e+s],["A",a,a,0,0,1,t,e+s-a],["L",t,e+a],["A",a,a,0,0,1,t+a,e],["Z"]]}const{defined:a,isNumber:o,pick:n}=t;return{arc:e,callout:function(t,e,i,a,n){const r=Math.min(n&&n.r||0,i,a),l=r+6,c=n&&n.anchorX;n=n&&n.anchorY||0;const h=s(t,e,i,a,{r:r});return o(c)?(t+c>=i?n>e+l&&n<e+a-l?h.splice(3,1,["L",t+i,n-6],["L",t+i+6,n],["L",t+i,n+6],["L",t+i,e+a-r]):h.splice(3,1,["L",t+i,a/2],["L",c,n],["L",t+i,a/2],["L",t+i,e+a-r]):0>=t+c?n>e+l&&n<e+a-l?h.splice(7,1,["L",t,n+6],["L",t-6,n],["L",t,n-6],["L",t,e+r]):h.splice(7,1,["L",t,a/2],["L",c,n],["L",t,a/2],["L",t,e+r]):n&&n>a&&c>t+l&&c<t+i-l?h.splice(5,1,["L",c+6,e+a],["L",c,e+a+6],["L",c-6,e+a],["L",t+r,e+a]):n&&0>n&&c>t+l&&c<t+i-l&&h.splice(1,1,["L",c-6,e],["L",c,e-6],["L",c+6,e],["L",i-r,e]),h):h},circle:function(t,i,s,a){return e(t+s/2,i+a/2,s/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s/2],["L",t+i/2,e+s],["L",t,e+s/2],["Z"]]},rect:i,roundedRect:s,square:i,triangle:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s],["L",t,e+s],["Z"]]},"triangle-down":function(t,e,i,s){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+s],["Z"]]}}})),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{doc:s,SVG_NS:a,win:o}=e,{attr:n,extend:r,fireEvent:l,isString:c,objectEach:h,pick:d}=i;class u{constructor(t){const e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){const e=this.svgElement,i=e.element;var a=e.renderer,o=d(e.textStr,"").toString();const n=-1!==o.indexOf("<"),r=i.childNodes;a=!e.added&&a.box;const l=/<br.*?>/g;var h=[o,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join();if(h!==e.textCache){for(e.textCache=h,delete e.actualWidth,h=r.length;h--;)i.removeChild(r[h]);n||this.ellipsis||this.width||e.textPath||-1!==o.indexOf(" ")&&(!this.noWrap||l.test(o))?""!==o&&(a&&a.appendChild(i),o=new t(o),this.modifyTree(o.nodes),o.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),a&&a.removeChild(i)):i.appendChild(s.createTextNode(this.unescapeEntities(o))),c(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){const t=this.svgElement,e=n(t.element,"x");let i;for(t.firstLineMetrics=void 0;i=t.element.firstChild;){if(!/^[\s\u200B]*$/.test(i.textContent||" "))break;t.element.removeChild(i)}[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(i,s)=>{i.nextSibling&&i.previousSibling&&(0===s&&1===i.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(i.previousSibling)),n(i,{dy:this.getLineHeight(i.nextSibling),x:e}))});const r=this.width||0;if(r){var l=(i,o)=>{var l=i.textContent||"";const c=l.replace(/([^\^])-/g,"$1- ").split(" ");var h=!this.noWrap&&(1<c.length||1<t.element.childNodes.length);const d=this.getLineHeight(o);let u=0,p=t.actualWidth;if(this.ellipsis)l&&this.truncate(i,l,void 0,0,Math.max(0,r-.8*d),(t,e)=>t.substring(0,e)+"…");else if(h){for(l=[],h=[];o.firstChild&&o.firstChild!==i;)h.push(o.firstChild),o.removeChild(o.firstChild);for(;c.length;)c.length&&!this.noWrap&&0<u&&(l.push(i.textContent||""),i.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(i,void 0,c,0===u&&p||0,r,(t,e)=>c.slice(0,e).join(" ").replace(/- /g,"-")),p=t.actualWidth,u++;h.forEach(t=>{o.insertBefore(t,i)}),l.forEach(t=>{o.insertBefore(s.createTextNode(t),i),t=s.createElementNS(a,"tspan"),t.textContent="​",n(t,{dy:d,x:e}),o.insertBefore(t,i)})}},c=e=>{[].slice.call(e.childNodes).forEach(i=>{i.nodeType===o.Node.TEXT_NODE?l(i,e):(-1!==i.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),c(i))})};c(t.element)}}getLineHeight(t){return t=t.nodeType===o.Node.TEXT_NODE?t.parentElement:t,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(t){const e=(i,s)=>{const{attributes:a={},children:o,style:n={},tagName:l}=i,c=this.renderer.styledMode;"b"===l||"strong"===l?c?a["class"]="highcharts-strong":n.fontWeight="bold":"i"!==l&&"em"!==l||(c?a["class"]="highcharts-emphasized":n.fontStyle="italic"),n&&n.color&&(n.fill=n.color),"br"===l?(a["class"]="highcharts-br",i.textContent="​",(s=t[s+1])&&s.textContent&&(s.textContent=s.textContent.replace(/^ +/gm,""))):"a"===l&&o&&o.some(t=>"#text"===t.tagName)&&(i.children=[{children:o,tagName:"tspan"}]),"#text"!==l&&"a"!==l&&(i.tagName="tspan"),r(i,{attributes:a,style:n}),o&&o.filter(t=>"#text"!==t.tagName).forEach(e)};t.forEach(e),l(this.svgElement,"afterModifyTree",{nodes:t})}truncate(t,e,i,s,a,o){const n=this.svgElement,{rotation:r}=n,l=[];let c,h,d=i?1:0,u=(e||i||"").length,p=u;const m=function(e,a){if(e=a||e,(a=t.parentNode)&&"undefined"===typeof l[e]&&a.getSubStringLength)try{l[e]=s+a.getSubStringLength(0,i?e+1:e)}catch(o){}return l[e]};if(n.rotation=0,h=m(t.textContent.length),s+h>a){for(;d<=u;)p=Math.ceil((d+u)/2),i&&(c=o(i,p)),h=m(p,c&&c.length-1),d===u?d=u+1:h>a?u=p-1:d=p;0===u?t.textContent="":e&&u===e.length-1||(t.textContent=c||o(e||i,p))}i&&i.splice(0,p),n.actualWidth=h,n.rotation=r}unescapeEntities(t,e){return h(this.renderer.escapes,(function(i,s){e&&-1!==e.indexOf(i)||(t=t.toString().replace(new RegExp(i,"g"),s))})),t}}return u})),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r,l){const{charts:c,deg2rad:h,doc:d,isFirefox:u,isMS:p,isWebKit:m,noop:f,SVG_NS:g,symbolSizes:v,win:y}=i,{addEvent:b,attr:x,createElement:w,css:k,defined:C,destroyObjectProperties:S,extend:A,isArray:T,isNumber:I,isObject:P,isString:M,merge:L,pick:_,pInt:D,uniqueKey:F}=l;let O;class E{constructor(t,e,i,s,a,o,n){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,i,s,a,o,n)}init(t,e,i,s,a,o,n){const r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),l=r.element;let c;n||r.css(this.getStyle(s)),t.appendChild(l),x(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&x(l,"xmlns",this.SVG_NS),this.box=l,this.boxWrapper=r,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(d.createTextNode("Created with Highcharts 11.0.0")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=a,this.styledMode=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=r.getStyle("font-size"),this.setSize(e,i,!1),u&&t.getBoundingClientRect&&(e=function(){k(t,{left:0,top:0}),c=t.getBoundingClientRect(),k(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),this.unSubPixelFix=b(y,"resize",e))}definition(e){return new t([e]).addToDOM(this.defs.element)}getReferenceURL(){if((u||m)&&d.getElementsByTagName("base").length){if(!C(O)){var e=F();e=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(d.body),k(e,{position:"fixed",top:0,left:0,zIndex:9e5});const i=d.elementFromPoint(6,6);O="hitme"===(i&&i.id),d.body.removeChild(e)}if(O)return y.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(t){return this.style=A({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t)}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),S(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(t){const e=new this.Element;return e.init(this,t),e}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){const e=["drop-shadow",...Object.keys(t).map(e=>t[e])].join("-").replace(/[^a-z0-9\-]/g,""),i=L({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector("#"+e)||this.definition({tagName:"filter",attributes:{id:e},children:[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}),e}buildText(t){new r(t).buildSVG()}getContrast(t){return t=e.parse(t).rgba.map(t=>(t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4))),t=.2126*t[0]+.7152*t[1]+.0722*t[2],1.05/(t+.05)>(t+.05)/.05?"#FFFFFF":"#000000"}button(e,i,s,a,o={},n,r,l,c,h){const d=this.label(e,i,s,c,void 0,void 0,h,void 0,"button"),u=this.styledMode;e=o.states||{};let m=0;o=L(o),delete o.states;const f=L({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},o.style);delete o.style;let g,v,y,x=t.filterUserAttributes(o);return d.attr(L({padding:8,r:2},x)),u||(x=L({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},x),n=L(x,{fill:"#e6e6e6"},t.filterUserAttributes(n||e.hover||{})),g=n.style,delete n.style,r=L(x,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},t.filterUserAttributes(r||e.select||{})),v=r.style,delete r.style,l=L(x,{style:{color:"#cccccc"}},t.filterUserAttributes(l||e.disabled||{})),y=l.style,delete l.style),b(d.element,p?"mouseover":"mouseenter",(function(){3!==m&&d.setState(1)})),b(d.element,p?"mouseout":"mouseleave",(function(){3!==m&&d.setState(m)})),d.setState=function(t){1!==t&&(d.state=m=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u||(d.attr([x,n,r,l][t||0]),t=[f,g,v,y][t||0],P(t)&&d.css(t))},u||(d.attr(x).css(A({cursor:"default"},f)),h&&d.text.css({pointerEvents:"none"})),d.on("touchstart",t=>t.stopPropagation()).on("click",(function(t){3!==m&&a.call(d,t)}))}crispLine(t,e,i="round"){const s=t[0],a=t[1];return C(s[1])&&s[1]===a[1]&&(s[1]=a[1]=Math[i](s[1])-e%2/2),C(s[2])&&s[2]===a[2]&&(s[2]=a[2]=Math[i](s[2])+e%2/2),t}path(t){const e=this.styledMode?{}:{fill:"none"};return T(t)?e.d=t:P(t)&&A(e,t),this.createElement("path").attr(e)}circle(t,e,i){return t=P(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)}arc(t,e,i,s,a,o){return P(t)?(s=t,e=s.y,i=s.r,t=s.x):s={innerR:s,start:a,end:o},t=this.symbol("arc",t,e,i,i,s),t.r=i,t}rect(t,e,i,s,a,o){t=P(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:a,width:Math.max(i||0,0),height:Math.max(s||0,0)};const n=this.createElement("rect");return this.styledMode||("undefined"!==typeof o&&(t["stroke-width"]=o,A(t,n.crisp(t))),t.fill="none"),n.rSetter=function(t,e,i){n.r=t,x(i,{rx:t,ry:t})},n.rGetter=function(){return n.r||0},n.attr(t)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:_(i,!0)?void 0:0}),this.alignElements()}g(t){const e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,s,a,o){const n={preserveAspectRatio:"none"},r=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)};I(e)&&(n.x=e),I(i)&&(n.y=i),I(s)&&(n.width=s),I(a)&&(n.height=a);const l=this.createElement("image").attr(n);return e=function(e){r(l.element,t),o.call(l,e)},o?(r(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i=new y.Image,b(i,"load",e),i.src=t,i.complete&&e({})):r(l.element,t),l}symbol(t,e,i,s,a,o){const n=this,r=/^url\((.*?)\)$/,l=r.test(t),h=!l&&(this.symbols[t]?t:"circle"),u=h&&this.symbols[h];let p,m,f,g;if(u)"number"===typeof e&&(m=u.call(this.symbols,Math.round(e||0),Math.round(i||0),s||0,a||0,o)),p=this.path(m),n.styledMode||p.attr("fill","none"),A(p,{symbolName:h||void 0,x:e,y:i,width:s,height:a}),o&&A(p,o);else if(l){f=t.match(r)[1];const s=p=this.image(f);s.imgwidth=_(o&&o.width,v[f]&&v[f].width),s.imgheight=_(o&&o.height,v[f]&&v[f].height),g=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach((function(t){s[t+"Setter"]=function(t,e){this[e]=t;const{alignByTranslate:i,element:s,width:a,height:n,imgwidth:r,imgheight:l}=this;if(t=this["img"+e],C(t)){let c=1;o&&"within"===o.backgroundSize&&a&&n?(c=Math.min(a/r,n/l),x(s,{width:Math.round(r*c),height:Math.round(l*c)})):s&&s.setAttribute(e,t),i||this.translate(((a||0)-r*c)/2,((n||0)-l*c)/2)}}})),C(e)&&s.attr({x:e,y:i}),s.isImg=!0,C(s.imgwidth)&&C(s.imgheight)?g(s):(s.attr({width:0,height:0}),w("img",{onload:function(){const t=c[n.chartIndex];0===this.width&&(k(this,{position:"absolute",top:"-999em"}),d.body.appendChild(this)),v[f]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&g(s),this.parentNode&&this.parentNode.removeChild(this),n.imgCount--,n.imgCount||!t||t.hasLoaded||t.onload()},src:f}),this.imgCount++)}return p}clipRect(t,e,i,s){const a=F()+"-",o=this.createElement("clipPath").attr({id:a}).add(this.defs);return t=this.rect(t,e,i,s,0).add(o),t.id=a,t.clipPath=o,t.count=0,t}text(t,e,i,s){const a={};return!s||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),C(t)&&(a.text=t),t=this.createElement("text").attr(a),(!s||this.forExport&&!this.allowHTML)&&(t.xSetter=function(t,e,i){const s=i.getElementsByTagName("tspan"),a=i.getAttribute(e);for(let o,n=0;n<s.length;n++)o=s[n],o.getAttribute(e)===a&&o.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)}fontMetrics(t){t=D(a.prototype.getStyle.call(t,"font-size")||0);const e=24>t?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:s}}pathToSegments(t){const e=[],i=[],s={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let a=0;a<t.length;a++)M(i[0])&&I(t[a])&&i.length===s[i[0].toUpperCase()]&&t.splice(a,0,i[0].replace("M","L").replace("m","l")),"string"===typeof t[a]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[a]);return e.push(i.slice(0)),e}label(t,e,i,s,a,n,r,l,c){return new o(this,t,e,i,s,a,n,r,l,c)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}return A(E.prototype,{Element:a,SVG_NS:g,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:n,draw:f}),s.registerRendererType("svg",E,!0),E})),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i){const{isFirefox:s,isMS:a,isWebKit:o,win:n}=t,{css:r,defined:l,extend:c,pick:h,pInt:d}=i,u=[];class p extends e{static compose(t){if(i.pushUnique(u,t)){const e=p.prototype,i=t.prototype;i.getSpanCorrection=e.getSpanCorrection,i.htmlCss=e.htmlCss,i.htmlGetBBox=e.htmlGetBBox,i.htmlUpdateTransform=e.htmlUpdateTransform,i.setSpanRotation=e.setSpanRotation}return t}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}htmlCss(t){const e="SPAN"===this.element.tagName&&t&&"width"in t,i=h(e&&t.width,void 0);let s;return e&&(delete t.width,this.textWidth=i,s=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=c(this.styles,t),r(this.element,t),s&&this.htmlUpdateTransform(),this}htmlGetBBox(){const t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}htmlUpdateTransform(){if(this.added){var t=this.renderer,e=this.element,i=this.x||0,s=this.y||0,a=this.textAlign||"left",o={left:0,center:.5,right:1}[a],n=this.styles,c=n&&n.whiteSpace;if(r(e,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),"SPAN"===e.tagName){n=this.rotation;const u=this.textWidth&&d(this.textWidth),p=[n,a,e.innerHTML,this.textWidth,this.textAlign].join();let m=!1;if(u!==this.oldTextWidth){if(this.textPxLength)var h=this.textPxLength;else r(e,{width:"",whiteSpace:c||"nowrap"}),h=e.offsetWidth;(u>this.oldTextWidth||h>u)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(r(e,{width:h>u||n?u+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=u,m=!0)}this.hasBoxWidthChanged=m,p!==this.cTT&&(t=t.fontMetrics(e).b,!l(n)||n===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(n,o,t),this.getSpanCorrection(!l(n)&&this.textPxLength||e.offsetWidth,t,o,n,a)),r(e,{left:i+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=n,this.oldAlign=a}}else this.alignOnAdd=!0}setSpanRotation(t,e,i){const l={},c=a&&!/Edge/.test(n.navigator.userAgent)?"-ms-transform":o?"-webkit-transform":s?"MozTransform":n.opera?"-o-transform":void 0;c&&(l[c]=l.transform="rotate("+t+"deg)",l[c+(s?"Origin":"-origin")]=l.transformOrigin=100*e+"% "+i+"px",r(this.element,l))}}return p})),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{attr:a,createElement:o,extend:n,pick:r}=s,l=[];class c extends i{static compose(t){return s.pushUnique(l,t)&&(t.prototype.html=c.prototype.html),t}html(i,s,l){const c=this.createElement("span"),h=c.element,d=c.renderer,u=function(t,i){["opacity","visibility"].forEach((function(s){t[s+"Setter"]=function(a,o,n){const r=t.div?t.div.style:i;e.prototype[s+"Setter"].call(this,a,o,n),r&&(r[o]=a)}})),t.addedSetters=!0};return c.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,r(e,"")),this.textStr=e,c.doTransform=!0)},u(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(t,e){"align"===e?c.alignValue=c.textAlign=t:c[e]=t,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:i,x:Math.round(s),y:Math.round(l)}).css({position:"absolute"}),d.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),h.style.whiteSpace="nowrap",c.css=c.htmlCss,c.add=function(t){const e=d.box.parentNode,i=[];let s;if(this.parentGroup=t){if(s=t.div,!s){for(;t;)i.push(t),t=t.parentGroup;i.reverse().forEach((function(t){function r(e,i){t[i]=e,"translateX"===i?d.left=e+"px":d.top=e+"px",t.doTransform=!0}const l=a(t.element,"class"),h=t.styles||{};s=t.div=t.div||o("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,cursor:h.cursor,pointerEvents:h.pointerEvents,visibility:t.visibility},s||e);const d=s.style;n(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return i[0].div&&c.on.apply({element:i[0].div,onEvents:t.onEvents},arguments),t},translateXSetter:r,translateYSetter:r}),t.addedSetters||u(t)}))}}else s=e;return s.appendChild(h),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c},c}}return c})),e(i,"Core/Axis/AxisDefaults.js",[],(function(){var t;return function(t){t.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},t.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t.defaultLeftAxisOptions={title:{rotation:270}},t.defaultRightAxisOptions={title:{rotation:90}},t.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},t.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(t||(t={})),t})),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,isFunction:i,objectEach:s,removeEvent:a}=t;var o;return function(t){t.registerEventOptions=function(t,o){t.eventOptions=t.eventOptions||{},s(o.events,(function(s,o){t.eventOptions[o]!==s&&(t.eventOptions[o]&&(a(t,o,t.eventOptions[o]),delete t.eventOptions[o]),i(s)&&(t.eventOptions[o]=s,e(t,o,s,{order:0})))}))}}(o||(o={})),o})),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:s}=e,{clamp:a,correctFloat:o,defined:n,destroyObjectProperties:r,extend:l,fireEvent:c,isNumber:h,merge:d,objectEach:u,pick:p}=i;class m{constructor(t,e,i,s,a){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=i||"",this.parameters=a||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),i||s||this.addLabel()}addLabel(){const e=this,i=e.axis;var s=i.options;const a=i.chart;var r=i.categories;const d=i.logarithmic,u=i.names,m=e.pos,f=p(e.options&&e.options.labels,s.labels);var g=i.tickPositions;const v=m===g[0],y=m===g[g.length-1],b=(!f.step||1===f.step)&&1===i.tickInterval;g=g.info;let x,w,k,C=e.label;r=this.parameters.category||(r?p(r[m],u[m],m):m),d&&h(r)&&(r=o(d.lin2log(r))),i.dateTime&&(g?(w=a.time.resolveDTLFormat(s.dateTimeLabelFormats[!s.grid&&g.higherRanks[m]||g.unitName]),x=w.main):h(r)&&(x=i.dateTime.getXDateFormat(r,s.dateTimeLabelFormats||{}))),e.isFirst=v,e.isLast=y;const S={axis:i,chart:a,dateTimeLabelFormat:x,isFirst:v,isLast:y,pos:m,tick:e,tickPositionInfo:g,value:r};c(this,"labelFormat",S);const A=e=>f.formatter?f.formatter.call(e,e):f.format?(e.text=i.defaultLabelFormatter.call(e,e),t.format(f.format,e,a)):i.defaultLabelFormatter.call(e,e);s=A.call(S,S);const T=w&&w.list;e.shortenLabel=T?function(){for(k=0;k<T.length;k++)if(l(S,{dateTimeLabelFormat:T[k]}),C.attr({text:A.call(S,S)}),C.getBBox().width<i.getSlotWidth(e)-2*f.padding)return;C.attr({text:""})}:void 0,b&&i._addedPlotLB&&e.moveLabel(s,f),n(C)||e.movedLabel?C&&C.textStr!==s&&!b&&(!C.textWidth||f.style.width||C.styles.width||C.css({width:null}),C.attr({text:s}),C.textPxLength=C.getBBox().width):(e.label=C=e.createLabel({x:0,y:0},s,f),e.rotation=0)}createLabel(t,e,i){const s=this.axis,a=s.chart;return(t=n(e)&&i.enabled?a.renderer.text(e,t.x,t.y,i.useHTML).add(s.labelGroup):null)&&(a.styledMode||t.css(d(i.style)),t.textPxLength=t.getBBox().width),t}destroy(){r(this,this.axis)}getPosition(t,e,i,s){const n=this.axis,r=n.chart,l=s&&r.oldChartHeight||r.chartHeight;return t={x:t?o(n.translate(e+i,void 0,void 0,s)+n.transB):n.left+n.offset+(n.opposite?(s&&r.oldChartWidth||r.chartWidth)-n.right-n.left:0),y:t?l-n.bottom+n.offset-(n.opposite?n.height:0):o(l-n.translate(e+i,void 0,void 0,s)-n.transB)},t.y=a(t.y,-1e5,1e5),c(this,"afterGetPosition",{pos:t}),t}getLabelPosition(t,e,i,a,o,r,l,h){const d=this.axis,u=d.transA,m=d.isLinked&&d.linkedParent?d.linkedParent.reversed:d.reversed,f=d.staggerLines,g=d.tickRotCorr||{x:0,y:0},v=a||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),y=o.distance,b={};return i=0===d.side?i.rotation?-y:-i.getBBox().height:2===d.side?g.y+y:Math.cos(i.rotation*s)*(g.y-i.getBBox(!1,0).height/2),n(o.y)&&(i=0===d.side&&d.horiz?o.y+i:o.y),t=t+p(o.x,[0,1,0,-1][d.side]*y)+v+g.x-(r&&a?r*u*(m?-1:1):0),e=e+i-(r&&!a?r*u*(m?1:-1):0),f&&(a=l/(h||1)%f,d.opposite&&(a=f-a-1),e+=d.labelOffset/f*a),b.x=t,b.y=Math.round(e),c(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:r,index:l}),b}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(t,e,i,s,a,o){return o.crispLine([["M",t,e],["L",t+(a?0:-i),e+(a?i:0)]],s)}handleOverflow(t){const e=this.axis,i=e.options.labels,a=t.x;var o=e.chart.chartWidth,n=e.chart.spacing;const r=p(e.labelLeft,Math.min(e.pos,n[3]));n=p(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,o-n[1]));const l=this.label,c=this.rotation,h={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],d=l.getBBox().width,u=e.getSlotWidth(this),m={};let f,g=u,v=1;c||"justify"!==i.overflow?0>c&&a-h*d<r?f=Math.round(a/Math.cos(c*s)-r):0<c&&a+h*d>n&&(f=Math.round((o-a)/Math.cos(c*s))):(o=a+(1-h)*d,a-h*d<r?g=t.x+g*(1-h)-r:o>n&&(g=n-t.x+g*h,v=-1),g=Math.min(u,g),g<u&&"center"===e.labelAlign&&(t.x+=v*(u-g-h*(u-Math.min(d,g)))),(d>g||e.autoRotation&&(l.styles||{}).width)&&(f=g)),f&&(this.shortenLabel?this.shortenLabel():(m.width=Math.floor(f)+"px",(i.style||{}).textOverflow||(m.textOverflow="ellipsis"),l.css(m)))}moveLabel(t,e){const i=this;var s=i.label;const a=i.axis;let o=!1;s&&s.textStr===t?(i.movedLabel=s,o=!0,delete i.label):u(a.ticks,(function(e){o||e.isNew||e===i||!e.label||e.label.textStr!==t||(i.movedLabel=e.label,o=!0,e.labelPos=i.movedLabel.xy,delete e.label)})),o||!i.labelPos&&!s||(s=i.labelPos||s.xy,i.movedLabel=i.createLabel(s,t,e),i.movedLabel&&i.movedLabel.attr({opacity:0}))}render(t,e,i){var s=this.axis,a=s.horiz,o=this.pos,n=p(this.tickmarkOffset,s.tickmarkOffset);o=this.getPosition(a,o,n,e),n=o.x;const r=o.y;s=a&&n===s.pos+s.len||!a&&r===s.pos?-1:1,a=p(i,this.label&&this.label.newOpacity,1),i=p(i,1),this.isActive=!0,this.renderGridLine(e,i,s),this.renderMark(o,i,s),this.renderLabel(o,e,a,t),this.isNew=!1,c(this,"afterRender")}renderGridLine(t,e,i){const s=this.axis,a=s.options,o={},n=this.pos,r=this.type,l=p(this.tickmarkOffset,s.tickmarkOffset),c=s.chart.renderer;let h=this.gridLine,d=a.gridLineWidth,u=a.gridLineColor,m=a.gridLineDashStyle;"minor"===this.type&&(d=a.minorGridLineWidth,u=a.minorGridLineColor,m=a.minorGridLineDashStyle),h||(s.chart.styledMode||(o.stroke=u,o["stroke-width"]=d||0,o.dashstyle=m),r||(o.zIndex=1),t&&(e=0),this.gridLine=h=c.path().attr(o).addClass("highcharts-"+(r?r+"-":"")+"grid-line").add(s.gridGroup)),h&&(i=s.getPlotLinePath({value:n+l,lineWidth:h.strokeWidth()*i,force:"pass",old:t,acrossPanes:!1}))&&h[t||this.isNew?"attr":"animate"]({d:i,opacity:e})}renderMark(t,e,i){const s=this.axis;var a=s.options;const o=s.chart.renderer,n=this.type,r=s.tickSize(n?n+"Tick":"tick"),l=t.x;t=t.y;const c=p(a["minor"!==n?"tickWidth":"minorTickWidth"],!n&&s.isXAxis?1:0);a=a["minor"!==n?"tickColor":"minorTickColor"];let h=this.mark;const d=!h;r&&(s.opposite&&(r[0]=-r[0]),h||(this.mark=h=o.path().addClass("highcharts-"+(n?n+"-":"")+"tick").add(s.axisGroup),s.chart.styledMode||h.attr({stroke:a,"stroke-width":c})),h[d?"attr":"animate"]({d:this.getMarkPath(l,t,r[0],h.strokeWidth()*i,s.horiz,o),opacity:e}))}renderLabel(t,e,i,s){var a=this.axis;const o=a.horiz,n=a.options,r=this.label,l=n.labels,c=l.step;a=p(this.tickmarkOffset,a.tickmarkOffset);const d=t.x;t=t.y;let u=!0;r&&h(d)&&(r.xy=t=this.getLabelPosition(d,t,r,o,l,a,s,c),this.isFirst&&!this.isLast&&!n.showFirstLabel||this.isLast&&!this.isFirst&&!n.showLastLabel?u=!1:!o||l.step||l.rotation||e||0===i||this.handleOverflow(t),c&&s%c&&(u=!1),u&&h(t.y)?(t.opacity=i,r[this.isNewLabel?"attr":"animate"](t).show(!0),this.isNewLabel=!1):(r.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const t=this.label,e=this.axis;t&&!this.isNew&&(t.animate({opacity:0},void 0,t.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return m})),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r){const{animObject:l}=t,{defaultOptions:c}=s,{registerEventOptions:h}=a,{deg2rad:d}=o,{arrayMax:u,arrayMin:p,clamp:m,correctFloat:f,defined:g,destroyObjectProperties:v,erase:y,error:b,extend:x,fireEvent:w,isArray:k,isNumber:C,isString:S,merge:A,normalizeTickInterval:T,objectEach:I,pick:P,relativeLength:M,removeEvent:L,splat:_,syncTimeout:D}=r,F=(t,e)=>T(e,void 0,void 0,P(t.options.allowDecimals,.5>e||void 0!==t.tickAmount),!!t.tickAmount);class O{constructor(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(t,e)}init(t,e){const i=e.isX;this.chart=t,this.horiz=t.inverted&&!this.isZAxis?!i:i,this.isXAxis=i,this.coll=this.coll||(i?"xAxis":"yAxis"),w(this,"init",{userOptions:e}),this.opposite=P(e.opposite,this.opposite),this.side=P(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);const s=this.options,a=s.labels,o=s.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=P(s.reversed,this.reversed),this.visible=s.visible,this.zoomEnabled=s.zoomEnabled,this.hasNames="category"===o||!0===s.categories,this.categories=s.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=g(s.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.min=this.max=null,e=P(s.crosshair,_(t.options.tooltip.crosshairs)[i?0:1]),this.crosshair=!0===e?{}:e,-1===t.axes.indexOf(this)&&(i?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&!this.isZAxis&&i&&"undefined"===typeof this.reversed&&(this.reversed=!0),this.labelRotation=C(a.rotation)?a.rotation:void 0,h(this,s),w(this,"afterInit")}setOptions(t){this.options=A(e.defaultXAxisOptions,"yAxis"===this.coll&&e.defaultYAxisOptions,[e.defaultTopAxisOptions,e.defaultRightAxisOptions,e.defaultBottomAxisOptions,e.defaultLeftAxisOptions][this.side],A(c[this.coll],t)),w(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(t){var e=this.axis;({numberFormatter:t}=this.chart);const i=C(this.value)?this.value:NaN,s=e.chart.time,a=this.dateTimeLabelFormat;var o=c.lang;const n=o.numericSymbols;o=o.numericSymbolMagnitude||1e3;const r=e.logarithmic?Math.abs(i):e.tickInterval;let l,h=n&&n.length;if(e.categories)l=""+this.value;else if(a)l=s.dateFormat(a,i);else if(h&&1e3<=r)for(;h--&&"undefined"===typeof l;)e=Math.pow(o,h+1),r>=e&&0===10*i%e&&null!==n[h]&&0!==i&&(l=t(i/e,-1)+n[h]);return"undefined"===typeof l&&(l=1e4<=Math.abs(i)?t(i,-1):t(i,-1,void 0,"")),l}getSeriesExtremes(){const t=this,e=t.chart;let i;w(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.series.forEach((function(s){if(s.visible||!e.options.chart.ignoreHiddenSeries){var a=s.options;let e,o,n=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=n&&(n=null),t.isXAxis?(a=s.xData)&&a.length&&(a=t.logarithmic?a.filter(t=>0<t):a,i=s.getXExtremes(a),e=i.min,o=i.max,C(e)||e instanceof Date||(a=a.filter(C),i=s.getXExtremes(a),e=i.min,o=i.max),a.length&&(t.dataMin=Math.min(P(t.dataMin,e),e),t.dataMax=Math.max(P(t.dataMax,o),o))):(s=s.applyExtremes(),C(s.dataMin)&&(e=s.dataMin,t.dataMin=Math.min(P(t.dataMin,e),e)),C(s.dataMax)&&(o=s.dataMax,t.dataMax=Math.max(P(t.dataMax,o),o)),g(n)&&(t.threshold=n),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),w(this,"afterGetSeriesExtremes")}translate(t,e,i,s,a,o){const n=this.linkedParent||this,r=s&&n.old?n.old.min:n.min;if(!C(r))return NaN;const l=n.minPixelPadding;a=(n.isOrdinal||n.brokenAxis&&n.brokenAxis.hasBreaks||n.logarithmic&&a)&&n.lin2val;let c=1,h=0;return s=s&&n.old?n.old.transA:n.transA,s||(s=n.transA),i&&(c*=-1,h=n.len),n.reversed&&(c*=-1,h-=c*(n.sector||n.len)),e?(o=(t*c+h-l)/s+r,a&&(o=n.lin2val(o))):(a&&(t=n.val2lin(t)),t=c*(t-r)*s,o=(n.isRadial?t:f(t))+h+c*l+(C(o)?s*o:0)),o}toPixels(t,e){return this.translate(t,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){function e(t,e,i){return"pass"!==b&&(t<e||t>i)&&(b?t=m(t,e,i):v=!0),t}const i=this,s=i.chart,a=i.left,o=i.top,n=t.old,r=t.value,l=t.lineWidth,c=n&&s.oldChartHeight||s.chartHeight,h=n&&s.oldChartWidth||s.chartWidth,d=i.transB;let u,p,f,g,v,y=t.translatedValue,b=t.force;return t={value:r,lineWidth:l,old:n,force:b,acrossPanes:t.acrossPanes,translatedValue:y},w(this,"getPlotLinePath",t,(function(t){y=P(y,i.translate(r,void 0,void 0,n)),y=m(y,-1e5,1e5),u=f=Math.round(y+d),p=g=Math.round(c-y-d),C(y)?i.horiz?(p=o,g=c-i.bottom,u=f=e(u,a,a+i.width)):(u=a,f=h-i.right,p=g=e(p,o,o+i.height)):(v=!0,b=!1),t.path=v&&!b?null:s.renderer.crispLine([["M",u,p],["L",f,g]],l||1)})),t.path}getLinearTickPositions(t,e,i){const s=f(Math.floor(e/t)*t);i=f(Math.ceil(i/t)*t);const a=[];let o,n;if(f(s+t)===s&&(n=20),this.single)return[e];for(e=s;e<=i;){if(a.push(e),e=f(e+t,n),e===o)break;o=e}return a}getMinorTickInterval(){const t=this.options;return!0===t.minorTicks?P(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval}getMinorTickPositions(){var t=this.options;const e=this.tickPositions,i=this.minorTickInterval;var s=this.pointRangePadding||0;const a=this.min-s;s=this.max+s;const o=s-a;let n=[];if(o&&o/i<this.len/3){const o=this.logarithmic;if(o)this.paddedTicks.forEach((function(t,e,s){e&&n.push.apply(n,o.getLogTickPositions(i,s[e-1],s[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())n=n.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),a,s,t.startOfWeek));else for(t=a+(e[0]-a)%i;t<=s&&t!==n[0];t+=i)n.push(t)}return 0!==n.length&&this.trimTicks(n),n}adjustForMinRange(){const t=this.options,e=this.logarithmic;let i=this.min;var s=this.max;let a,o,n,r,l,c,h=0;if(this.isXAxis&&"undefined"===typeof this.minRange&&!e&&(g(t.min)||g(t.max)||g(t.floor)||g(t.ceiling)?this.minRange=null:(this.series.forEach((function(t){if(r=t.xData,l=t.xIncrement?1:r.length-1,1<r.length)for(o=l;0<o;o--)n=r[o]-r[o-1],(!h||n<h)&&(h=n)})),this.minRange=Math.min(5*h,this.dataMax-this.dataMin))),s-i<this.minRange){a=this.dataMax-this.dataMin>=this.minRange,c=this.minRange;var d=(c-s+i)/2;d=[i-d,P(t.min,i-d)],a&&(d[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),i=u(d),s=[i+c,P(t.max,i+c)],a&&(s[2]=e?e.log2lin(this.dataMax):this.dataMax),s=p(s),s-i<c&&(d[0]=s-c,d[1]=P(t.min,s-c),i=u(d))}this.min=i,this.max=s}getClosest(){let t;return this.categories?t=1:this.series.forEach((function(e){const i=e.closestPointRange,s=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&g(i)&&s&&(t=g(t)?Math.min(t,i):i)})),t}nameToX(t){const e=k(this.options.categories),i=e?this.categories:this.names;let s,a=t.options.x;return t.series.requireSorting=!1,g(a)||(a=this.options.uniqueNames&&i?e?i.indexOf(t.name):P(i.keys[t.name],-1):t.series.autoIncrement()),-1===a?!e&&i&&(s=i.length):s=a,"undefined"!==typeof s?(this.names[s]=t.name,this.names.keys[t.name]=s):t.x&&(s=t.x),s}updateNames(){const t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(i,s){let a;i&&i.options&&"undefined"!==typeof i.name&&(a=t.nameToX(i),"undefined"!==typeof a&&a!==i.x&&(i.x=a,e.xData[s]=a))}))})))}setAxisTranslation(){const t=this,e=t.max-t.min;var i=t.linkedParent;const s=!!t.categories,a=t.isXAxis;let o,n=t.axisPointRange||0,r=0,l=0,c=t.transA;(a||s||n)&&(o=t.getClosest(),i?(r=i.minPointOffset,l=i.pointRangePadding):t.series.forEach((function(e){const i=s?1:a?P(e.options.pointRange,o,0):t.axisPointRange||0,c=e.options.pointPlacement;n=Math.max(n,i),t.single&&!s||(e=e.is("xrange")?!a:a,r=Math.max(r,e&&S(c)?0:i/2),l=Math.max(l,e&&"on"===c?0:i))})),i=t.ordinal&&t.ordinal.slope&&o?t.ordinal.slope/o:1,t.minPointOffset=r*=i,t.pointRangePadding=l*=i,t.pointRange=Math.min(n,t.single&&s?1:e),a&&(t.closestPointRange=o)),t.translationSlope=t.transA=c=t.staticScale||t.len/(e+l||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*r,w(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(t){var e=this.chart;const i=this.logarithmic,s=this.options,a=this.isXAxis,o=this.isLinked,n=s.tickPixelInterval,r=this.categories,l=this.softThreshold;let c,h,d,u=s.maxPadding,p=s.minPadding,m=C(s.tickInterval)&&0<=s.tickInterval?s.tickInterval:void 0,v=C(this.threshold)?this.threshold:null;if(this.dateTime||r||o||this.getTickAmount(),h=P(this.userMin,s.min),d=P(this.userMax,s.max),o){this.linkedParent=e[this.coll][s.linkedTo];var y=this.linkedParent.getExtremes();this.min=P(y.min,y.dataMin),this.max=P(y.max,y.dataMax),s.type!==this.linkedParent.options.type&&b(11,1,e)}else l&&g(v)&&(this.dataMin>=v?(y=v,p=0):this.dataMax<=v&&(c=v,u=0)),this.min=P(h,y,this.dataMin),this.max=P(d,c,this.dataMax);if(i&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,P(this.dataMin,this.min))&&b(10,1,e),this.min=f(i.log2lin(this.min),16),this.max=f(i.log2lin(this.max),16)),this.range&&g(this.max)&&(this.userMin=this.min=h=Math.max(this.dataMin,this.minFromRange()),this.userMax=d=this.max,this.range=null),w(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(r||this.axisPointRange||this.stacking&&this.stacking.usePercentage||o)&&g(this.min)&&g(this.max)&&(e=this.max-this.min)&&(!g(h)&&p&&(this.min-=e*p),!g(d)&&u&&(this.max+=e*u)),C(this.userMin)||(C(s.softMin)&&s.softMin<this.min&&(this.min=h=s.softMin),C(s.floor)&&(this.min=Math.max(this.min,s.floor))),C(this.userMax)||(C(s.softMax)&&s.softMax>this.max&&(this.max=d=s.softMax),C(s.ceiling)&&(this.max=Math.min(this.max,s.ceiling))),l&&g(this.dataMin)&&(v=v||0,!g(h)&&this.min<v&&this.dataMin>=v?this.min=this.options.minRange?Math.min(v,this.max-this.minRange):v:!g(d)&&this.max>v&&this.dataMax<=v&&(this.max=this.options.minRange?Math.max(v,this.min+this.minRange):v)),C(this.min)&&C(this.max)&&!this.chart.polar&&this.min>this.max&&(g(this.options.min)?this.max=this.min:g(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||"undefined"===typeof this.min||"undefined"===typeof this.max?1:o&&this.linkedParent&&!m&&n===this.linkedParent.options.tickPixelInterval?m=this.linkedParent.tickInterval:P(m,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,r?1:(this.max-this.min)*n/Math.max(this.len,n)),a&&!t){const t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(t)})),w(this,"postProcessData",{hasExtremesChanged:t})}this.setAxisTranslation(),w(this,"initialAxisTranslation"),this.pointRange&&!m&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),t=P(s.minTickInterval,this.dateTime&&!this.series.some(t=>t.noSharedTooltip)?this.closestPointRange:0),!m&&this.tickInterval<t&&(this.tickInterval=t),this.dateTime||this.logarithmic||m||(this.tickInterval=F(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var t=this.options;const e=t.tickPositions,i=t.tickPositioner;var s=this.getMinorTickInterval(),a=this.hasVerticalPanning(),o="colorAxis"===this.coll;const n=(o||!a)&&t.startOnTick;let r;if(a=(o||!a)&&t.endOnTick,o=[],this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===s&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:s,this.single=this.min===this.max&&g(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),e)o=e.slice();else if(C(this.min)&&C(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)o=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)o=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(s=t=this.tickInterval;s<=2*t;){if(o=this.getLinearTickPositions(this.tickInterval,this.min,this.max),!(this.tickAmount&&o.length>this.tickAmount))break;this.tickInterval=F(this,s*=1.1)}else o=[this.min,this.max],b(19,!1,this.chart);o.length>this.len&&(o=[o[0],o[o.length-1]],o[0]===o[1]&&(o.length=1)),i&&(this.tickPositions=o,(r=i.apply(this,[this.min,this.max]))&&(o=r))}this.tickPositions=o,this.paddedTicks=o.slice(0),this.trimTicks(o,n,a),!this.isLinked&&C(this.min)&&C(this.max)&&(this.single&&2>o.length&&!this.categories&&!this.series.some(t=>t.is("heatmap")&&"between"===t.options.pointPlacement)&&(this.min-=.5,this.max+=.5),e||r||this.adjustTickAmount()),w(this,"afterSetTickPositions")}trimTicks(t,e,i){const s=t[0],a=t[t.length-1],o=!this.isOrdinal&&this.minPointOffset||0;if(w(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==s)this.min=s;else for(;this.min-o>t[0];)t.shift();if(i)this.max=a;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&g(s)&&!this.options.tickPositions&&t.push((a+s)/2)}}alignToOthers(){const t=this,e=[this],i=t.options,s="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,a=[];let o;if(t.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&i.alignTicks||s)&&!1!==i.startOnTick&&!1!==i.endOnTick&&!t.logarithmic){const i=t=>{const{horiz:e,options:i}=t;return[e?i.left:i.top,i.width,i.height,i.pane].join()},s=i(this);this.chart[this.coll].forEach((function(a){const{series:n}=a;n.length&&n.some(t=>t.visible)&&a!==t&&i(a)===s&&(o=!0,e.push(a))}))}if(o&&s){e.forEach(e=>{e=e.getThresholdAlignment(t),C(e)&&a.push(e)});const i=1<a.length?a.reduce((t,e)=>t+e,0)/a.length:void 0;e.forEach(t=>{t.thresholdAlignment=i})}return o}getThresholdAlignment(t){if((!C(this.dataMin)||this!==t&&this.series.some(t=>t.isDirty||t.isDirtyData))&&this.getSeriesExtremes(),C(this.threshold))return t=m((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(t=1-t),t}getTickAmount(){const t=this.options,e=t.tickPixelInterval;let i=t.tickAmount;!g(t.tickInterval)&&!i&&this.len<e&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),4>i&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){const t=this,{finalTickAmt:e,max:i,min:s,options:a,tickPositions:o,tickAmount:n,thresholdAlignment:r}=t,l=o&&o.length;var c=P(t.threshold,t.softThreshold?0:null),h=t.tickInterval;let d;if(C(r)&&(d=.5>r?Math.ceil(r*(n-1)):Math.floor(r*(n-1)),a.reversed&&(d=n-1-d)),t.hasData()&&C(s)&&C(i)){const r=()=>{t.transA*=(l-1)/(n-1),t.min=a.startOnTick?o[0]:Math.min(s,o[0]),t.max=a.endOnTick?o[o.length-1]:Math.max(i,o[o.length-1])};if(C(d)&&C(t.threshold)){for(;o[d]!==c||o.length!==n||o[0]>s||o[o.length-1]<i;){for(o.length=0,o.push(t.threshold);o.length<n;)void 0===o[d]||o[d]>t.threshold?o.unshift(f(o[0]-h)):o.push(f(o[o.length-1]+h));if(h>8*t.tickInterval)break;h*=2}r()}else if(l<n){for(;o.length<n;)o.length%2||s===c?o.push(f(o[o.length-1]+h)):o.unshift(f(o[0]-h));r()}if(g(e)){for(h=c=o.length;h--;)(3===e&&1===h%2||2>=e&&0<h&&h<c-1)&&o.splice(h,1);t.finalTickAmt=void 0}}}setScale(){let t=!1,e=!1;this.series.forEach((function(i){t=t||i.isDirtyData||i.isDirty,e=e||i.xAxis&&i.xAxis.isDirty||!1})),this.setAxisSize();const i=this.len!==(this.old&&this.old.len);i||t||e||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=i||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),w(this,"afterSetScale")}setExtremes(t,e,i,s,a){const o=this,n=o.chart;i=P(i,!0),o.series.forEach((function(t){delete t.kdTree})),a=x(a,{min:t,max:e}),w(o,"setExtremes",a,(function(){o.userMin=t,o.userMax=e,o.eventArgs=a,i&&n.redraw(s)}))}zoom(t,e){const i=this,s=this.dataMin,a=this.dataMax,o=this.options,n=Math.min(s,P(o.min,s)),r=Math.max(a,P(o.max,a));return t={newMin:t,newMax:e},w(this,"zoom",t,(function(t){let e=t.newMin,o=t.newMax;e===i.min&&o===i.max||(i.allowZoomOutside||(g(s)&&(e<n&&(e=n),e>r&&(e=r)),g(a)&&(o<n&&(o=n),o>r&&(o=r))),i.displayBtn="undefined"!==typeof e||"undefined"!==typeof o,i.setExtremes(e,o,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed}setAxisSize(){const t=this.chart;var e=this.options;const i=e.offsets||[0,0,0,0],s=this.horiz,a=this.width=Math.round(M(P(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),o=this.height=Math.round(M(P(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),n=this.top=Math.round(M(P(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(M(P(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-o-n,this.right=t.chartWidth-a-e,this.len=Math.max(s?a:o,0),this.pos=s?e:n}getExtremes(){const t=this.logarithmic;return{min:t?f(t.lin2log(this.min)):this.min,max:t?f(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){var e=this.logarithmic;const i=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)}autoLabelAlign(t){const e=(P(t,0)-90*this.side+720)%360;return t={align:"center"},w(this,"autoLabelAlign",t,(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align}tickSize(t){const e=this.options,i=P(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);let s,a=e["tick"===t?"tickLength":"minorTickLength"];return i&&a&&("inside"===e[t+"Position"]&&(a=-a),s=[a,i]),t={tickSize:s},w(this,"afterTickSize",t),t.tickSize}labelMetrics(){const t=this.chart.renderer;var e=this.ticks;return e=e[Object.keys(e)[0]]||{},this.chart.renderer.fontMetrics(e.label||e.movedLabel||t.box)}unsquish(){const t=this.options.labels;var e=this.horiz;const i=this.tickInterval,s=this.len/(((this.categories?1:0)+this.max-this.min)/i),a=t.rotation,o=.75*this.labelMetrics().h,n=Math.max(this.max-this.min,0),r=function(t){let e=t/(s||1);return e=1<e?Math.ceil(e):1,e*i>n&&1/0!==t&&1/0!==s&&n&&(e=Math.ceil(n/i)),f(e*i)};let l,c,h=i,u=Number.MAX_VALUE;if(e){if(t.staggerLines||(C(a)?c=[a]:s<t.autoRotationLimit&&(c=t.autoRotation)),c){let t;for(const i of c)(i===a||i&&-90<=i&&90>=i)&&(e=r(Math.abs(o/Math.sin(d*i))),t=e+Math.abs(i/360),t<u&&(u=t,l=i,h=e))}}else h=r(o);return this.autoRotation=c,this.labelRotation=P(l,C(a)?a:0),t.step?i:h}getSlotWidth(t){const e=this.chart,i=this.horiz,s=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];if(t&&C(t.slotWidth))return t.slotWidth;if(i&&2>s.step)return s.rotation?0:(this.staggerLines||1)*this.len/a;if(!i){if(t=s.style.width,void 0!==t)return parseInt(String(t),10);if(o)return o-e.spacing[3]}return.33*e.chartWidth}renderUnsquish(){const t=this.chart,e=t.renderer,i=this.tickPositions,s=this.ticks,a=this.options.labels,o=a.style,n=this.horiz,r=this.getSlotWidth();var l=Math.max(1,Math.round(r-2*a.padding));const c={},h=this.labelMetrics(),d=o.textOverflow;let u,p,m=0;if(S(a.rotation)||(c.rotation=a.rotation||0),i.forEach((function(t){t=s[t],t.movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)})),this.maxLabelLength=m,this.autoRotation)m>l&&m>h.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(r&&(u=l,!d))for(p="clip",l=i.length;!n&&l--;){var f=i[l];(f=s[f].label)&&(f.styles&&"ellipsis"===f.styles.textOverflow?f.css({textOverflow:"clip"}):f.textPxLength>r&&f.css({width:r+"px"}),f.getBBox().height>this.len/i.length-(h.h-h.f)&&(f.specificTextOverflow="ellipsis"))}c.rotation&&(u=m>.5*t.chartHeight?.33*t.chartHeight:m,d||(p="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),i.forEach((function(t){const e=(t=s[t])&&t.label,i=o.width,a={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():u&&!i&&"nowrap"!==o.whiteSpace&&(u<e.textPxLength||"SPAN"===e.element.tagName)?(a.width=u+"px",d||(a.textOverflow=e.specificTextOverflow||p),e.css(a)):e.styles&&e.styles.width&&!a.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(h.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&g(this.min)&&g(this.max)}addTitle(t){const e=this.chart.renderer,i=this.horiz,s=this.opposite,a=this.options.title,o=this.chart.styledMode;let n;this.axisTitle||((n=a.textAlign)||(n=(i?{low:"left",middle:"center",high:"right"}:{low:s?"right":"left",middle:"center",high:s?"left":"right"})[a.align]),this.axisTitle=e.text(a.text||"",0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation,align:n}).addClass("highcharts-axis-title"),o||this.axisTitle.css(A(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||a.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){const e=this.ticks;e[t]?e[t].addLabel():e[t]=new n(this,t)}getOffset(){const t=this,{chart:e,horiz:i,options:s,side:a,ticks:o,tickPositions:n,coll:r,axisParent:l}=t,c=e.renderer,h=e.inverted&&!t.isZAxis?[1,0,3,2][a]:a;var d=t.hasData();const u=s.title;var p=s.labels,m=e.axisOffset;const f=e.clipOffset,v=[-1,1,1,-1][a],y=s.className;let b,x,k=0;var C=0;let S=0;if(t.showAxis=b=d||s.showEmpty,t.staggerLines=t.horiz&&p.staggerLines||void 0,!t.axisGroup){const e=(t,e,i)=>c.g(t).attr({zIndex:i}).addClass(`highcharts-${r.toLowerCase()}${e} `+(this.isRadial?`highcharts-radial-axis${e} `:"")+(y||"")).add(l);t.gridGroup=e("grid","-grid",s.gridZIndex),t.axisGroup=e("axis","",s.zIndex),t.labelGroup=e("axis-labels","-labels",p.zIndex)}d||t.isLinked?(n.forEach((function(e){t.generateTick(e)})),t.renderUnsquish(),t.reserveSpaceDefault=0===a||2===a||{1:"left",3:"right"}[a]===t.labelAlign,P(p.reserveSpace,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&n.forEach((function(t){S=Math.max(o[t].getLabelSize(),S)})),t.staggerLines&&(S*=t.staggerLines),t.labelOffset=S*(t.opposite?-1:1)):I(o,(function(t,e){t.destroy(),delete o[e]})),u&&u.text&&!1!==u.enabled&&(t.addTitle(b),b&&!1!==u.reserveSpace&&(t.titleOffset=k=t.axisTitle.getBBox()[i?"height":"width"],x=u.offset,C=g(x)?0:P(u.margin,i?5:10))),t.renderLine(),t.offset=v*P(s.offset,m[a]?m[a]+(s.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},d=0===a?-t.labelMetrics().h:2===a?t.tickRotCorr.y:0,C=Math.abs(S)+C,S&&(C=C-d+v*(i?P(p.y,t.tickRotCorr.y+v*p.distance):P(p.x,v*p.distance))),t.axisTitleMargin=P(x,C),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(o,n)),"colorAxis"!==r&&(p=this.tickSize("tick"),m[a]=Math.max(m[a],(t.axisTitleMargin||0)+k+v*t.offset,C,n&&n.length&&p?p[0]+v*t.offset:0),m=!t.axisLine||s.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),f[h]=Math.max(f[h],m)),w(this,"afterGetOffset")}getLinePath(t){const e=this.chart,i=this.opposite;var s=this.offset;const a=this.horiz,o=this.left+(i?this.width:0)+s;return s=e.chartHeight-this.bottom-(i?this.height:0)+s,i&&(t*=-1),e.renderer.crispLine([["M",a?this.left:o,a?s:this.top],["L",a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){var e=this.horiz,i=this.left;const s=this.top;var a=this.len;const o=this.options.title,n=e?i:s,r=this.opposite,l=this.offset,c=o.x,h=o.y,d=this.chart.renderer.fontMetrics(t);return t=t?Math.max(t.getBBox(!1,0).height-d.h-1,0):0,a={low:n+(e?0:a),middle:n+a/2,high:n+(e?a:0)}[o.align],i=(e?s+this.height:i)+(e?1:-1)*(r?-1:1)*(this.axisTitleMargin||0)+[-t,t,d.f,-t][this.side],e={x:e?a+c:i+(r?this.width:0)+l+c,y:e?i+h-(r?this.height:0)+l:a+h},w(this,"afterGetTitlePosition",{titlePosition:e}),e}renderMinorTick(t,e){const i=this.minorTicks;i[t]||(i[t]=new n(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){const s=this.ticks;(!this.isLinked||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(s[t]||(s[t]=new n(this,t)),i&&s[t].isNew&&s[t].render(e,!0,-1),s[t].render(e))}render(){const t=this,e=t.chart,i=t.logarithmic,s=t.options,a=t.isLinked,r=t.tickPositions,c=t.axisTitle,h=t.ticks,d=t.minorTicks,u=t.alternateBands,p=s.stackLabels,m=s.alternateGridColor,f=t.tickmarkOffset,g=t.axisLine,v=t.showAxis,y=l(e.renderer.globalAnimation);let b,x;if(t.labelEdge.length=0,t.overlap=!1,[h,d,u].forEach((function(t){I(t,(function(t){t.isActive=!1}))})),t.hasData()||a){const a=t.chart.hasRendered&&t.old&&C(t.old.min);t.minorTickInterval&&!t.categories&&t.getMinorTickPositions().forEach((function(e){t.renderMinorTick(e,a)})),r.length&&(r.forEach((function(e,i){t.renderTick(e,i,a)})),f&&(0===t.min||t.single)&&(h[-1]||(h[-1]=new n(t,-1,null,!0)),h[-1].render(-1))),m&&r.forEach((function(s,a){x="undefined"!==typeof r[a+1]?r[a+1]+f:t.max-f,0===a%2&&s<t.max&&x<=t.max+(e.polar?-f:f)&&(u[s]||(u[s]=new o.PlotLineOrBand(t)),b=s+f,u[s].options={from:i?i.lin2log(b):b,to:i?i.lin2log(x):x,color:m,className:"highcharts-alternate-grid"},u[s].render(),u[s].isActive=!0)})),t._addedPlotLB||(t._addedPlotLB=!0,(s.plotLines||[]).concat(s.plotBands||[]).forEach((function(e){t.addPlotBandOrLine(e)})))}[h,d,u].forEach((function(t){const i=[],s=y.duration;I(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),D((function(){let e=i.length;for(;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==u&&e.hasRendered&&s?s:0)})),g&&(g[g.isPlaced?"animate":"attr"]({d:this.getLinePath(g.strokeWidth())}),g.isPlaced=!0,g[v?"show":"hide"](v)),c&&v&&(c[c.isNew?"attr":"animate"](t.getTitlePosition(c)),c.isNew=!1),p&&p.enabled&&t.stacking&&t.stacking.renderStackTotals(),t.old={len:t.len,max:t.max,min:t.min,transA:t.transA,userMax:t.userMax,userMin:t.userMin},t.isDirty=!1,w(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))}getKeepProps(){return this.keepProps||O.keepProps}destroy(t){const e=this,i=e.plotLinesAndBands,s=this.eventOptions;if(w(this,"destroy",{keepEvents:t}),t||L(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){v(t)})),i)for(t=i.length;t--;)i[t].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){e[t]&&(e[t]=e[t].destroy())}));for(const a in e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[a]=e.plotLinesAndBandsGroups[a].destroy();I(e,(function(t,i){-1===e.getKeepProps().indexOf(i)&&delete e[i]})),this.eventOptions=s}drawCrosshair(t,e){const s=this.crosshair;var a=P(s&&s.snap,!0);const o=this.chart;let n,r=this.cross;if(w(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),s&&!1!==(g(e)||!a)){if(a?g(e)&&(n=P("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),g(n)){var l={value:e&&(this.isXAxis?e.x:P(e.stackY,e.y)),translatedValue:n};o.polar&&x(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),l=this.getPlotLinePath(l)||null}if(!g(l))return void this.hideCrosshair();a=this.categories&&!this.isRadial,r||(this.cross=r=o.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(a?"category ":"thin ")+(s.className||"")).attr({zIndex:P(s.zIndex,2)}).add(),o.styledMode||(r.attr({stroke:s.color||(a?i.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":P(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&r.attr({dashstyle:s.dashStyle}))),r.show().attr({d:l}),a&&!s.width&&r.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();w(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),w(this,"afterHideCrosshair")}hasVerticalPanning(){const t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))}update(t,e){const i=this.chart;t=A(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,P(e,!0)&&i.redraw()}remove(t){const e=this.chart,i=this.coll,s=this.series;let a=s.length;for(;a--;)s[a]&&s[a].remove(!1);y(e.axes,this),y(e[i],this),e[i].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,P(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}return O.defaultOptions=e.defaultXAxisOptions,O.keepProps="extKey hcEvents names series userMax userMin".split(" "),O})),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,getMagnitude:i,normalizeTickInterval:s,timeUnits:a}=t;var o;return function(o){function n(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function r(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new c(this))}const l=[];o.compose=function(i){return t.pushUnique(l,i)&&(i.keepProps.push("dateTime"),i.prototype.getTimeTicks=n,e(i,"init",r)),i};class c{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){const o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];let n,r=a[e[0]],l=e[1];for(n=0;n<o.length&&(e=o[n],r=a[e[0]],l=e[1],!(o[n+1]&&t<=(r*l[l.length-1]+a[o[n+1][0]])/2));n++);return r===a.year&&t<5*r&&(l=[1,2,5]),t=s(t/r,l,"year"===e[0]?Math.max(i(t/r),1):1),{unitRange:r,count:t,unitName:e[0]}}getXDateFormat(t,e){const{axis:i}=this,s=i.chart.time;return i.closestPointRange?s.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||s.resolveDTLFormat(e.year).main:s.resolveDTLFormat(e.day).main}}o.Additions=c}(o||(o={})),o})),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,normalizeTickInterval:i,pick:s}=t;var a;return function(a){function o(t){let e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:e||(this.logarithmic=new l(this))}function n(){const t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}const r=[];a.compose=function(i){return t.pushUnique(r,i)&&(i.keepProps.push("logarithmic"),e(i,"init",o),e(i,"afterInit",n)),i};class l{constructor(t){this.axis=t}getLogTickPositions(t,e,a,o){const n=this.axis;var r=n.len,l=n.options;let c=[];if(o||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),c=n.getLinearTickPositions(t,e,a);else if(.08<=t){let i,s,n,h,d;for(l=Math.floor(e),r=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<a+1&&!d;l++)for(s=r.length,i=0;i<s&&!d;i++)n=this.log2lin(this.lin2log(l)*r[i]),n>e&&(!o||h<=a)&&"undefined"!==typeof h&&c.push(h),h>a&&(d=!0),h=n}else e=this.lin2log(e),a=this.lin2log(a),t=o?n.getMinorTickInterval():l.tickInterval,t=s("auto"===t?null:t,this.minorAutoInterval,l.tickPixelInterval/(o?5:1)*(a-e)/((o?r/n.tickPositions.length:r)||1)),t=i(t),c=n.getLinearTickPositions(t,e,a).map(this.log2lin),o||(this.minorAutoInterval=t/5);return o||(n.tickInterval=t),c}lin2log(t){return Math.pow(10,t)}log2lin(t){return Math.log(t)/Math.LN10}}a.Additions=l}(a||(a={})),a})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],(function(t){const{erase:e,extend:i,isNumber:s}=t;var a;return function(a){function o(t){return this.addPlotBandOrLine(t,"plotBands")}function n(t,e){const i=this.userOptions;let s=new p(this,t);if(this.visible&&(s=s.render()),s){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach(t=>{this.addPlotBandOrLine(t)})),e){const s=i[e]||[];s.push(t),i[e]=s}this.plotLinesAndBands.push(s)}return s}function r(t){return this.addPlotBandOrLine(t,"plotLines")}function l(t,e,i=this.options){const a=this.getPlotLinePath({value:e,force:!0,acrossPanes:i.acrossPanes}),o=[],n=this.horiz;let r;if(e=!s(this.min)||!s(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,t=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes}),i=1,t&&a)for(e&&(r=t.toString()===a.toString(),i=0),e=0;e<t.length;e+=2){const s=t[e],l=t[e+1],c=a[e],h=a[e+1];"M"!==s[0]&&"L"!==s[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==h[0]&&"L"!==h[0]||(n&&c[1]===s[1]?(c[1]+=i,h[1]+=i):n||c[2]!==s[2]||(c[2]+=i,h[2]+=i),o.push(["M",s[1],s[2]],["L",l[1],l[2]],["L",h[1],h[2]],["L",c[1],c[2]],["Z"])),o.isFlat=r}return o}function c(t){this.removePlotBandOrLine(t)}function h(t){const i=this.plotLinesAndBands,s=this.options,a=this.userOptions;if(i){let o=i.length;for(;o--;)i[o].id===t&&i[o].destroy();[s.plotLines||[],a.plotLines||[],s.plotBands||[],a.plotBands||[]].forEach((function(i){for(o=i.length;o--;)(i[o]||{}).id===t&&e(i,i[o])}))}}function d(t){this.removePlotBandOrLine(t)}const u=[];let p;a.compose=function(e,s){return p||(p=e),t.pushUnique(u,s)&&i(s.prototype,{addPlotBand:o,addPlotLine:r,addPlotBandOrLine:n,getPlotBandPath:l,removePlotBand:c,removePlotLine:d,removePlotBandOrLine:h}),s}}(a||(a={})),a})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],(function(t,e){const{arrayMax:i,arrayMin:s,defined:a,destroyObjectProperties:o,erase:n,fireEvent:r,merge:l,objectEach:c,pick:h}=e;class d{static compose(e){return t.compose(d,e)}constructor(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}render(){r(this,"render");const t=this,e=t.axis,i=e.horiz;var s=e.logarithmic;const o=t.options,n=o.color,d=h(o.zIndex,0),u=o.events,p={},m=e.chart.renderer;let f=o.label,g=t.label,v=o.to,y=o.from,b=o.value,x=t.svgElem;var w=[];const k=a(y)&&a(v);w=a(b);const C=!x,S={class:"highcharts-plot-"+(k?"band ":"line ")+(o.className||"")};let A=k?"bands":"lines";if(s&&(y=s.log2lin(y),v=s.log2lin(v),b=s.log2lin(b)),e.chart.styledMode||(w?(S.stroke=n||"#999999",S["stroke-width"]=h(o.width,1),o.dashStyle&&(S.dashstyle=o.dashStyle)):k&&(S.fill=n||"#e6e9ff",o.borderWidth&&(S.stroke=o.borderColor,S["stroke-width"]=o.borderWidth))),p.zIndex=d,A+="-"+d,(s=e.plotLinesAndBandsGroups[A])||(e.plotLinesAndBandsGroups[A]=s=m.g("plot-"+A).attr(p).add()),C&&(t.svgElem=x=m.path().attr(S).add(s)),w)w=e.getPlotLinePath({value:b,lineWidth:x.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!k)return;w=e.getPlotBandPath(y,v,o)}return!t.eventsAdded&&u&&(c(u,(function(e,i){x.on(i,(function(e){u[i].apply(t,[e])}))})),t.eventsAdded=!0),(C||!x.d)&&w&&w.length?x.attr({d:w}):x&&(w?(x.show(),x.animate({d:w})):x.d&&(x.hide(),g&&(t.label=g=g.destroy()))),f&&(a(f.text)||a(f.formatter))&&w&&w.length&&0<e.width&&0<e.height&&!w.isFlat?(f=l({align:i&&k&&"center",x:i?!k&&4:10,verticalAlign:!i&&k&&"middle",y:i?k?16:10:k?6:-4,rotation:i&&!k&&90},f),this.renderLabel(f,w,k,d)):g&&g.hide(),t}renderLabel(t,e,a,o){const n=this.axis;var r=n.chart.renderer;let c=this.label;c||(this.label=c=r.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||""),zIndex:o}).add(),n.chart.styledMode||c.css(l({fontSize:"0.8em",textOverflow:"ellipsis"},t.style))),o=e.xBounds||[e[0][1],e[1][1],a?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],a?e[2][2]:e[0][2]],a=s(o),r=s(e),c.align(t,!1,{x:a,y:r,width:i(o)-a,height:i(e)-r}),c.alignValue&&"left"!==c.alignValue||(t=t.clip?n.width:n.chart.chartWidth,c.css({width:(90===c.rotation?n.height-(c.alignAttr.y-n.top):t-(c.alignAttr.x-n.left))+"px"})),c.show(!0)}getLabelText(t){return a(t.formatter)?t.formatter.call(this):t.text}destroy(){n(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}}return d})),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{format:o}=t,{doc:n}=e,{distribute:r}=i,{addEvent:l,clamp:c,css:h,discardElement:d,extend:u,fireEvent:p,isArray:m,isNumber:f,isString:g,merge:v,pick:y,splat:b,syncTimeout:x}=a;class w{constructor(t,e){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}bodyFormatter(t){return t.map((function(t){const e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(t){this.chart.series.forEach((function(e){const i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))}defaultFormatter(t){const e=this.points||b(this);let i;return i=[t.tooltipFooterHeaderFormatter(e[0])],i=i.concat(t.bodyFormatter(e)),i.push(t.tooltipFooterHeaderFormatter(e[0],!0)),i}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),a.clearTimeout(this.hideTimer),a.clearTimeout(this.tooltipTimeout)}getAnchor(t,e){var i=this.chart;const s=i.pointer,a=i.inverted,o=i.plotTop;if(i=i.plotLeft,t=b(t),t[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)"undefined"===typeof e.chartX&&(e=s.normalize(e)),t=[e.chartX-i,e.chartY-o];else if(t[0].tooltipPos)t=t[0].tooltipPos;else{let s=0,n=0;t.forEach((function(t){(t=t.pos(!0))&&(s+=t[0],n+=t[1])})),s/=t.length,n/=t.length,this.shared&&1<t.length&&e&&(a?s=e.chartX:n=e.chartY),t=[s-i,n-o]}return t.map(Math.round)}getClassName(t,e,i){const s=t.series,a=s.options;return[this.options.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+y(t.colorIndex,s.colorIndex),a&&a.className].filter(g).join(" ")}getLabel(){const t=this,i=this.chart.styledMode,a=this.options,o=this.split&&this.allowShared,n=a.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let r,l=this.chart.renderer;if(this.label){var c=!this.label.hasClass("highcharts-label");(!o&&c||o&&!c)&&this.destroy()}if(!this.label){if(this.outside){c=this.chart.options.chart.style;const t=s.getRendererType();this.container=r=e.doc.createElement("div"),r.className="highcharts-tooltip-container",h(r,{position:"absolute",top:"1px",pointerEvents:n,zIndex:Math.max(this.options.style.zIndex||0,(c&&c.zIndex||0)+3)}),e.doc.body.appendChild(r),this.renderer=l=new t(r,0,0,c,void 0,void 0,l.styledMode)}if(o?this.label=l.g("tooltip"):(this.label=l.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,"tooltip").attr({padding:a.padding,r:a.borderRadius}),i||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth||0}).css(a.style).css({pointerEvents:n})),t.outside){const e=this.label,{xSetter:i,ySetter:s}=e;e.xSetter=function(s){i.call(e,t.distance),r.style.left=s+"px"},e.ySetter=function(i){s.call(e,t.distance),r.style.top=i+"px"}}this.label.attr({zIndex:8}).shadow(a.shadow).add()}return this.label}getPlayingField(){const{body:t,documentElement:e}=n,{chart:i,distance:s,outside:a}=this;return{width:a?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*s:i.chartWidth,height:a?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){const s=this.chart,a=this.distance,o={},n=s.inverted&&i.h||0,r=this.outside;var l=this.getPlayingField();const c=l.width,h=l.height,d=s.pointer.getChartPosition();l=o=>{const n="x"===o;return[o,n?c:h,n?t:e].concat(r?[n?t*d.scaleX:e*d.scaleY,n?d.left-a+(i.plotX+s.plotLeft)*d.scaleX:d.top-a+(i.plotY+s.plotTop)*d.scaleY,0,n?c:h]:[n?t:e,n?i.plotX+s.plotLeft:i.plotY+s.plotTop,n?s.plotLeft:s.plotTop,n?s.plotLeft+s.plotWidth:s.plotTop+s.plotHeight])};let u,p=l("y"),m=l("x");l=!!i.negative,!s.polar&&s.hoverSeries&&s.hoverSeries.yAxis&&s.hoverSeries.yAxis.reversed&&(l=!l);const f=!this.followPointer&&y(i.ttBelow,!s.inverted===l),g=function(t,e,i,s,l,c,h){const u=r?"y"===t?a*d.scaleY:a*d.scaleX:a,p=(i-s)/2,m=s<l-a,g=l+a+s<e,v=l-u-i+p;if(l=l+u-p,f&&g)o[t]=l;else if(!f&&m)o[t]=v;else if(m)o[t]=Math.min(h-s,0>v-n?v:v-n);else{if(!g)return!1;o[t]=Math.max(c,l+n+i>e?l:l+n)}},v=function(t,e,i,s,n){let r;return n<a||n>e-a?r=!1:o[t]=n<i/2?1:n>e-s/2?e-s-2:n-i/2,r},b=function(t){const e=p;p=m,m=e,u=t},x=function(){!1!==g.apply(0,p)?!1!==v.apply(0,m)||u||(b(!0),x()):u?o.x=o.y=0:(b(!0),x())};return(s.inverted||1<this.len)&&b(),x(),o}hide(t){const e=this;a.clearTimeout(this.hideTimer),t=y(t,this.options.hideDelay),this.isHidden||(this.hideTimer=x((function(){e.getLabel().fadeOut(t?void 0:t),e.isHidden=!0}),t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=y(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.chart.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,s){const o=this,n=o.now,r=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-n.x)||1<Math.abs(e-n.y)),l=o.followPointer||1<o.len;u(n,{x:r?(2*n.x+t)/3:t,y:r?(n.y+e)/2:e,anchorX:l?void 0:r?(2*n.anchorX+i)/3:i,anchorY:l?void 0:r?(n.anchorY+s)/2:s}),o.getLabel().attr(n),o.drawTracker(),r&&(a.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(t,e,i,s)}),32))}refresh(t,e){const i=this.chart,s=this.options,o=i.pointer,n=b(t),r=n[0],l=[];var c=s.formatter||this.defaultFormatter,h=this.shared;const d=i.styledMode;let u={};if(s.enabled&&r.series){a.clearTimeout(this.hideTimer),this.allowShared=!(!m(t)&&t.series&&t.series.noSharedTooltip),this.followPointer=!this.split&&r.series.tooltipOptions.followPointer,t=this.getAnchor(t,e);var f=t[0],g=t[1];if(h&&this.allowShared?(o.applyInactiveState(n),n.forEach((function(t){t.setState("hover"),l.push(t.getLabelConfig())})),u={x:r.category,y:r.y},u.points=l):u=r.getLabelConfig(),this.len=l.length,c=c.call(u,this),h=r.series,this.distance=y(h.tooltipOptions.distance,16),!1===c)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(c,n);else{let a=f,l=g;if(e&&o.isDirectTouch&&(a=e.chartX-i.plotLeft,l=e.chartY-i.plotTop),!i.polar&&!1!==h.options.clip&&!n.some(t=>o.isDirectTouch||t.series.shouldShowTooltip(a,l)))return void this.hide();e=this.getLabel(),s.style.width&&!d||e.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),e.attr({text:c&&c.join?c.join(""):c}),e.addClass(this.getClassName(r),!0),d||e.attr({stroke:s.borderColor||r.color||h.color||"#666666"}),this.updatePosition({plotX:f,plotY:g,negative:r.negative,ttBelow:r.ttBelow,h:t[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}p(this,"refresh")}}renderSplit(t,e){function i(t,e,i,a,o=!0){return i?(e=P?0:F,t=c(t-a/2,A.left,A.right-a-(s.outside?M:0))):(e-=_,t=o?t-a-k:t+k,t=c(t,o?t:A.left,A.right)),{x:t,y:e}}const s=this,{chart:a,chart:{chartWidth:o,chartHeight:l,plotHeight:h,plotLeft:d,plotTop:p,pointer:m,scrollablePixelsY:f=0,scrollablePixelsX:v,scrollingContainer:{scrollLeft:b,scrollTop:x}={scrollLeft:0,scrollTop:0},styledMode:w},distance:k,options:C,options:{positioner:S}}=s,A=s.outside&&"number"!==typeof v?n.documentElement.getBoundingClientRect():{left:b,right:b+o,top:x,bottom:x+l},T=s.getLabel(),I=this.renderer||a.renderer,P=!(!a.xAxis[0]||!a.xAxis[0].opposite),{left:M,top:L}=m.getChartPosition();let _=p+x,D=0,F=h-f;g(t)&&(t=[!1,t]),t=t.slice(0,e.length+1).reduce((function(t,a,o){if(!1!==a&&""!==a){o=e[o-1]||{isHeader:!0,plotX:e[0].plotX,plotY:h,series:{}};const f=o.isHeader;var n,r=f?s:o.series;{var l=o;a=a.toString();var u=r.tt;const{isHeader:t,series:e}=l;u||(u={padding:C.padding,r:C.borderRadius},w||(u.fill=C.backgroundColor,u["stroke-width"]=null!==(n=C.borderWidth)&&void 0!==n?n:1),u=I.label("",0,0,C[t?"headerShape":"shape"],void 0,void 0,C.useHTML).addClass(s.getClassName(l,!0,t)).attr(u).add(T)),u.isActive=!0,u.attr({text:a}),w||u.css(C.style).attr({stroke:C.borderColor||l.color||e.color||"#333333"}),n=u}n=r.tt=n,l=n.getBBox(),r=l.width+n.strokeWidth(),f&&(D=l.height,F+=D,P&&(_-=D));{const{isHeader:t,plotX:e=0,plotY:i=0,series:s}=o;if(t){a=d+e;var m=p+h/2}else{const{xAxis:t,yAxis:o}=s;a=t.pos+c(e,-k,t.len+k),s.shouldShowTooltip(0,o.pos-p+i,{ignoreX:!0})&&(m=o.pos+i)}a=c(a,A.left-k,A.right+k),m={anchorX:a,anchorY:m}}const{anchorX:g,anchorY:v}=m;"number"===typeof v?(m=l.height+1,l=S?S.call(s,r,m,o):i(g,v,f,r),t.push({align:S?0:void 0,anchorX:g,anchorY:v,boxWidth:r,point:o,rank:y(l.rank,f?1:0),size:m,target:l.y,tt:n,x:l.x})):n.isActive=!1}return t}),[]),!S&&t.some(t=>{var{outside:e}=s;return e=(e?M:0)+t.anchorX,e<A.left&&e+t.boxWidth<A.right||e<M-A.left+t.boxWidth&&A.right-e>e})&&(t=t.map(t=>{const{x:e,y:s}=i(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return u(t,{target:s,x:e})})),s.cleanSplit(),r(t,F);var O=M,E=M;t.forEach((function(t){const{x:e,boxWidth:i,isHeader:a}=t;a||(s.outside&&M+e<O&&(O=M+e),!a&&s.outside&&O+i>E&&(E=M+e))})),t.forEach((function(t){const{x:e,anchorX:i,anchorY:a,pos:o,point:{isHeader:n}}=t,r={visibility:"undefined"===typeof o?"hidden":"inherit",x:e,y:(o||0)+_,anchorX:i,anchorY:a};if(s.outside&&e<i){const t=M-O;0<t&&(n||(r.x=e+t,r.anchorX=i+t),n&&(r.x=(E-O)/2,r.anchorX=i+t))}t.tt.attr(r)}));const{container:B,outside:N,renderer:R}=s;if(N&&B&&R){const{width:t,height:e,x:i,y:s}=T.getBBox();R.setSize(t+i,e+s,!1),B.style.left=O+"px",B.style.top=L+"px"}}drawTracker(){if(this.shouldStickOnContact()){var t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(e&&i){var s={x:0,y:0,width:0,height:0};i=this.getAnchor(i);var a=e.getBBox();i[0]+=t.plotLeft-e.translateX,i[1]+=t.plotTop-e.translateY,s.x=Math.min(0,i[0]),s.y=Math.min(0,i[1]),s.width=0>i[0]?Math.max(Math.abs(i[0]),a.width-i[0]):Math.max(Math.abs(i[0]),a.width),s.height=0>i[1]?Math.max(Math.abs(i[1]),a.height-Math.abs(i[1])):Math.max(Math.abs(i[1]),a.height),this.tracker?this.tracker.attr(s):(this.tracker=e.renderer.rect(s).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(t,e){const i=t.series,s=i.tooltipOptions;var a=i.xAxis;const n=a&&a.dateTime;a={isFooter:e,labelConfig:t};let r=s.xDateFormat,l=s[e?"footerFormat":"headerFormat"];return p(this,"headerFormatter",a,(function(e){n&&!r&&f(t.key)&&(r=n.getXDateFormat(t.key,s.dateTimeLabelFormats)),n&&r&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){l=l.replace("{point."+t+"}","{point."+t+":"+r+"}")})),i.chart.styledMode&&(l=this.styledModeFormat(l)),e.text=o(l,{point:t,series:i},this.chart)})),a.text}update(t){this.destroy(),v(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,v(!0,this.options,t))}updatePosition(t){const{chart:e,distance:i,options:s}=this;var a=e.pointer;const o=this.getLabel(),{left:n,top:r,scaleX:l,scaleY:c}=a.getChartPosition();a=(s.positioner||this.getPosition).call(this,o.width,o.height,t);let d,u=(t.plotX||0)+e.plotLeft;t=(t.plotY||0)+e.plotTop,this.outside&&(s.positioner&&(a.x+=n-i,a.y+=r-i),d=(s.borderWidth||0)+2*i,this.renderer.setSize(o.width+d,o.height+d,!1),1===l&&1===c||(h(this.container,{transform:`scale(${l}, ${c})`}),u*=l,t*=c),u+=n-a.x,t+=r-a.y),this.move(Math.round(a.x),Math.round(a.y||0),u,t)}}return function(t){const e=[];t.compose=function(i){a.pushUnique(e,i)&&l(i,"afterInit",(function(){const e=this.chart;e.options.tooltip&&(e.tooltip=new t(e,e.options.tooltip))}))}}(w||(w={})),w})),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{animObject:o}=e,{defaultOptions:n}=i,{format:r}=s,{addEvent:l,defined:c,erase:h,extend:d,fireEvent:u,getNestedProperty:p,isArray:m,isFunction:f,isNumber:g,isObject:v,merge:y,objectEach:b,pick:x,syncTimeout:w,removeEvent:k,uniqueKey:C}=a;class S{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach((function(i){t[i]=t[i].animate("dataLabel"===i?{x:t[i].startXPos,y:t[i].startYPos,opacity:0}:e)})),i.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(d({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))}applyOptions(t,e){const i=this.series,s=i.options.pointValKey||i.pointValKey;return t=S.prototype.optionsToObject.call(this,t),d(this,t),this.options=this.options?d(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,s&&(this.y=S.prototype.getNestedProperty.call(this,s)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),"undefined"===typeof this.x&&i?this.x="undefined"===typeof e?i.autoIncrement():e:g(t.x)&&i.options.relativeXValue&&(this.x=i.autoIncrement(t.x)),this}destroy(){if(!this.destroyed){const e=this;var t=e.series;const i=t.chart;t=t.options.dataSorting;const s=i.hoverPoints,a=o(e.series.chart.renderer.globalAnimation),n=()=>{(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(k(e),e.destroyElements());for(const t in e)delete e[t]};e.legendItem&&i.legend.destroyItem(e),s&&(e.setState(),h(s,e),s.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),t&&t.enabled?(this.animateBeforeDestroy(),w(n,a.duration)):n(),i.pointCount--}this.destroyed=!0}destroyElements(t){const e=this;t=e.getGraphicalProps(t),t.singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t&&t.element&&t.destroy()})),delete e[t]}))}firePointEvent(t,e,i){const s=this,a=this.series.options;(a.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&s.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){s.select&&s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),u(s,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){const e=this,i=[],s={singular:[],plural:[]};let a,o;for(t=t||{graphic:1,dataLabel:1},t.graphic&&i.push("graphic"),t.dataLabel&&i.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),o=i.length;o--;)a=i[o],e[a]&&s.singular.push(a);return["graphic","dataLabel","connector"].forEach((function(i){const a=i+"s";t[i]&&e[a]&&s.plural.push(a)})),s}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?p(t,this.options):this[t]}getZone(){var t=this.series;const e=t.zones;t=t.zoneAxis||"y";let i,s=0;for(i=e[s];this[t]>=i.value;)i=e[++s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=c(this.id)?this.id:C(),this.resolveColor(),t.chart.pointCount++,u(this,"afterInit"),this}isValid(){return null!==this.x&&g(this.y)}optionsToObject(t){var e=this.series;const i=e.options.keys,s=i||e.pointArrayMap||["y"],a=s.length;let o={},n=0,r=0;if(g(t)||null===t)o[s[0]]=t;else if(m(t))for(!i&&t.length>a&&(e=typeof t[0],"string"===e?o.name=t[0]:"number"===e&&(o.x=t[0]),n++);r<a;)i&&"undefined"===typeof t[n]||(0<s[r].indexOf(".")?S.prototype.setNestedProperty(o,t[n],s[r]):o[s[r]]=t[n]),n++,r++;else"object"===typeof t&&(o=t,t.dataLabels&&(e._hasPointLabels=!0),t.marker&&(e._hasPointMarkers=!0));return o}pos(t,e=this.plotY){if(!this.destroyed){const{plotX:i,series:s}=this,{chart:a,xAxis:o,yAxis:n}=s;let r=0,l=0;if(g(i)&&g(e))return t&&(r=o?o.pos:a.plotLeft,l=n?n.pos:a.plotTop),a.inverted&&o&&n?[n.len-e+l,o.len-i+r]:[i+r,e+l]}}resolveColor(){const t=this.series;var e=t.chart.styledMode;let i;var s=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(e||(s=t.options.colors||t.chart.options.colors,i=s[t.colorCounter],s=s.length),e=t.colorCounter,t.colorCounter++,t.colorCounter===s&&(t.colorCounter=0)):(e||(i=t.color),e=t.colorIndex),this.colorIndex=x(this.options.colorIndex,e),this.color=x(this.options.color,i)}setNestedProperty(t,e,i){return i.split(".").reduce((function(t,i,s,a){return t[i]=a.length-1===s?e:v(t[i],!0)?t[i]:{},t[i]}),t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){const e=this.series,i=e.tooltipOptions,s=x(i.valueDecimals,""),a=i.valuePrefix||"",o=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(a||o)&&(t=t.replace(RegExp(e+"}","g"),a+e+"}"+o)),t=t.replace(RegExp(e+"}","g"),e+":,."+s+"f}")})),r(t,{point:this,series:this.series},e.chart)}update(t,e,i,s){function a(){o.applyOptions(t);var s=r&&o.hasMockGraphic;s=null===o.y?!s:s,r&&s&&(o.graphic=r.destroy(),delete o.hasMockGraphic),v(t,!0)&&(r&&r.element&&t&&t.marker&&"undefined"!==typeof t.marker.symbol&&(o.graphic=r.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),h=o.index,n.updateParallelArrays(o,h),c.data[h]=v(c.data[h],!0)||v(t,!0)?o.options:x(t,c.data[h]),n.isDirty=n.isDirtyData=!0,!n.fixedBox&&n.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}const o=this,n=o.series,r=o.graphic,l=n.chart,c=n.options;let h;e=x(e,!0),!1===s?a():o.firePointEvent("update",{options:t},a)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){const i=this,s=i.series,a=s.chart;this.selectedStaging=t=x(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,s.options.data[s.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||a.getSelectedPoints().forEach((function(t){const e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(a.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(t){const e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)}onMouseOut(){const t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const t=this,e=y(t.series.options.point,t.options).events;t.events=e,b(e,(function(e,i){f(e)&&l(t,i,e)})),this.hasImportedEvents=!0}}setState(e,i){const s=this.series;var a=this.state,o=s.options.states[e||"normal"]||{},r=n.plotOptions[s.type].marker&&s.options.marker;const l=r&&!1===r.enabled,c=r&&r.states&&r.states[e||"normal"]||{},h=!1===c.enabled,p=this.marker||{},m=s.chart,f=r&&s.markerAttribs;let v=s.halo;var y;let b;var w=s.stateMarkerGraphic;if(e=e||"",!(e===this.state&&!i||this.selected&&"select"!==e||!1===o.enabled||e&&(h||l&&!1===c.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled)){if(this.state=e,f&&(y=s.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(a&&this.graphic.removeClass("highcharts-point-"+a),e&&this.graphic.addClass("highcharts-point-"+e),!m.styledMode){a=s.pointAttribs(this,e),b=x(m.options.chart.animation,o.animation);const t=a.opacity;s.options.inactiveOtherPoints&&g(t)&&((this.dataLabels||[]).forEach((function(e){e&&!e.hasClass("highcharts-data-label-hidden")&&e.animate({opacity:t},b)})),this.connector&&this.connector.animate({opacity:t},b)),this.graphic.animate(a,b)}y&&this.graphic.animate(y,x(m.options.chart.animation,c.animation,r.animation)),w&&w.hide()}else e&&c&&(r=p.symbol||s.symbol,w&&w.currentSymbol!==r&&(w=w.destroy()),y&&(w?w[i?"animate":"attr"]({x:y.x,y:y.y}):r&&(s.stateMarkerGraphic=w=m.renderer.symbol(r,y.x,y.y,y.width,y.height).add(s.markerGroup),w.currentSymbol=r)),!m.styledMode&&w&&"inactive"!==this.state&&w.attr(s.pointAttribs(this,e))),w&&(w[e&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));o=o.halo,y=(w=this.graphic||w)&&w.visibility||"inherit",o&&o.size&&w&&"hidden"!==y&&!this.isCluster?(v||(s.halo=v=m.renderer.path().add(w.parentGroup)),v.show()[i?"animate":"attr"]({d:this.haloPath(o.size)}),v.attr({class:"highcharts-halo highcharts-color-"+x(this.colorIndex,s.colorIndex)+(this.className?" "+this.className:""),visibility:y,zIndex:-1}),v.point=this,m.styledMode||v.attr(d({fill:this.color||s.color,"fill-opacity":o.opacity},t.filterUserAttributes(o.attributes||{})))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),u(this,"afterSetState",{state:e})}}haloPath(t){const e=this.pos();return e?this.series.chart.renderer.symbols.circle(Math.floor(e[0])-t,e[1]-t,2*t,2*t):[]}}return S})),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:s}=t,{charts:a,noop:o}=e,{addEvent:n,attr:r,css:l,defined:c,extend:h,find:d,fireEvent:u,isNumber:p,isObject:m,objectEach:f,offset:g,pick:v,splat:y}=i;class b{constructor(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}applyInactiveState(t){let e,i=[];(t||[]).forEach((function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))}destroy(){const t=this;this.eventsToUnbind.forEach(t=>t()),this.eventsToUnbind=[],e.chartCount||(b.unbindDocumentMouseUp&&(b.unbindDocumentMouseUp=b.unbindDocumentMouseUp()),b.unbindDocumentTouchEnd&&(b.unbindDocumentTouchEnd=b.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),f(t,(function(e,i){t[i]=void 0}))}getSelectionMarkerAttrs(t,e){const i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return u(this,"getSelectionMarkerAttrs",i,i=>{const{chart:s,mouseDownX:a=0,mouseDownY:o=0,zoomHor:n,zoomVert:r}=this;let l;i=i.attrs,i.x=s.plotLeft,i.y=s.plotTop,i.width=n?1:s.plotWidth,i.height=r?1:s.plotHeight,n&&(l=t-a,i.width=Math.abs(l),i.x=(0<l?0:l)+a),r&&(l=e-o,i.height=Math.abs(l),i.y=(0<l?0:l)+o)}),i}drag(t){const e=this.chart,i=e.options.chart;var a=e.plotLeft;const o=e.plotTop,n=e.plotWidth,r=e.plotHeight,l=this.mouseDownX||0,c=this.mouseDownY||0,h=m(i.panning)?i.panning&&i.panning.enabled:i.panning,d=i.panKey&&t[i.panKey+"Key"];let u=t.chartX,p=t.chartY,f=this.selectionMarker;if((!f||!f.touch)&&(u<a?u=a:u>a+n&&(u=a+n),p<o?p=o:p>o+r&&(p=o+r),this.hasDragged=Math.sqrt(Math.pow(l-u,2)+Math.pow(c-p,2)),10<this.hasDragged)){a=e.isInsidePlot(l-a,c-o,{visiblePlotOnly:!0});const{shapeType:n,attrs:r}=this.getSelectionMarkerAttrs(u,p);!e.hasCartesianSeries&&!e.mapView||!this.zoomX&&!this.zoomY||!a||d||f||(this.selectionMarker=f=e.renderer[n](),f.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||f.attr({fill:i.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),f&&f.attr(r),a&&!f&&h&&e.pan(t,i.panning)}}dragStart(t){const e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY}getSelectionBox(t){const e={args:{marker:t},result:{}};return u(this,"getSelectionBox",e,e=>{e.result={x:t.attr?+t.attr("x"):t.x,y:t.attr?+t.attr("y"):t.y,width:t.attr?t.attr("width"):t.width,height:t.attr?t.attr("height"):t.height}}),e.result}drop(t){const e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){const{x:a,y:o,width:n,height:r}=this.getSelectionBox(this.selectionMarker),l={originalEvent:t,xAxis:[],yAxis:[],x:a,y:o,width:n,height:r};let d=!!i.mapView;(this.hasDragged||s)&&(i.axes.forEach((function(i){if(i.zoomEnabled&&c(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])&&p(a)&&p(o)&&p(n)&&p(r)){var h=i.horiz;const e="touchend"===t.type?i.minPixelPadding:0,s=i.toValue((h?a:o)+e);h=i.toValue((h?a+n:o+r)-e),l[i.coll].push({axis:i,min:Math.min(s,h),max:Math.max(s,h)}),d=!0}})),d&&u(i,"selection",l,(function(t){i.zoom(h(t,s?{animation:!1}:null))}))),p(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&p(i.index)&&(l(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(t,e,i){let s;return t.forEach((function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,a),(a=m(t,!0)&&t.series)&&!(a=!m(s,!0))){{a=s.distX-t.distX;const i=s.dist-t.dist,o=(t.series.group&&t.series.group.zIndex)-(s.series.group&&s.series.group.zIndex);a=0!==a&&e?a:0!==i?i:0!==o?o:s.series.index>t.series.index?-1:1}a=0<a}a&&(s=t)})),s}getChartCoordinatesFromPoint(t,e){var i=t.series;const s=i.xAxis;i=i.yAxis;const a=t.shapeArgs;if(s&&i){let o=v(t.clientX,t.plotX),n=t.plotY||0;return t.isNode&&a&&p(a.x)&&p(a.y)&&(o=a.x,n=a.y),e?{chartX:i.len+i.pos-n,chartY:s.len+s.pos-o}:{chartX:o+s.pos,chartY:n+i.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:t}=this.chart;const e=g(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};const i=t.offsetWidth;return t=t.offsetHeight,2<i&&2<t&&(this.chartPosition.scaleX=e.width/i,this.chartPosition.scaleY=e.height/t),this.chartPosition}getCoordinates(t){const e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e}getHoverData(t,e,i,s,a,o){const n=[];s=!(!s||!t);const r=function(t){return t.visible&&!(!a&&t.directTouch)&&v(t.options.enableMouseTracking,!0)};let l,c={chartX:o?o.chartX:void 0,chartY:o?o.chartY:void 0,shared:a};u(this,"beforeGetHoverData",c),l=e&&!e.stickyTracking?[e]:i.filter(t=>t.stickyTracking&&(c.filter||r)(t));const h=s||!o?t:this.findNearestKDPoint(l,a,o);return e=h&&h.series,h&&(a&&!e.noSharedTooltip?(l=i.filter((function(t){return c.filter?c.filter(t):r(t)&&!t.noSharedTooltip})),l.forEach((function(t){let e=d(t.points,(function(t){return t.x===h.x&&!t.isNull}));m(e)&&(t.boosted&&t.boost&&(e=t.boost.getPoint(e)),n.push(e))}))):n.push(h)),c={hoverPoint:h},u(this,"afterGetHoverData",c),{hoverPoint:c.hoverPoint,hoverSeries:e,hoverPoints:n}}getPointFromEvent(t){let e;for(t=t.target;t&&!e;)e=t.point,t=t.parentNode;return e}onTrackerMouseOut(t){t=t.relatedTarget;const e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()}inClass(t,e){let i;for(;t;){if(i=r(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentElement}}init(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),u(this,"afterInit")}normalize(t,e){var i=t.touches,s=i?i.length?i.item(0):v(i.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),i=s.pageX-e.left,s=s.pageY-e.top,i/=e.scaleX,s/=e.scaleY,h(t,{chartX:Math.round(i),chartY:Math.round(s)})}onContainerClick(t){const e=this.chart,i=e.hoverPoint;t=this.normalize(t);const s=e.plotLeft,a=e.plotTop;e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(u(i.series,"click",h(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(h(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-s,t.chartY-a,{visiblePlotOnly:!0})&&u(e,"click",t)))}onContainerMouseDown(t){const i=1===(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),("undefined"===typeof t.button||i)&&(this.zoomOption(t),i&&t.preventDefault&&t.preventDefault(),this.dragStart(t))}onContainerMouseLeave(t){const e=a[v(b.hoverChartIndex,-1)];t=this.normalize(t),e&&t.relatedTarget&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.pointer.reset(),e.pointer.chartPosition=void 0)}onContainerMouseEnter(t){delete this.chartPosition}onContainerMouseMove(t){const e=this.chart,i=e.tooltip;t=this.normalize(t),this.setHoverChartIndex(),("mousedown"===e.mouseIsDown||this.touchSelect(t))&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||(this.inClass(t.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(t))}onDocumentTouchEnd(t){const e=a[v(b.hoverChartIndex,-1)];e&&e.pointer.drop(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){const e=this.chart,i=e.tooltip,s=this.chartPosition;t=this.normalize(t,s),!s||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||this.inClass(t.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){const e=a[v(b.hoverChartIndex,-1)];e&&e.pointer.drop(t)}pinch(t){const e=this,i=e.chart,s=e.pinchDown,a=t.touches||[],n=a.length,r=e.lastValidTouch,l=e.hasZoom,c={},d=1===n&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};var m=e.chart.tooltip;m=1===n&&v(m&&m.options.followTouchMove,!0);let f=e.selectionMarker;1<n?e.initiated=!0:m&&(e.initiated=!1),l&&e.initiated&&!d&&!1!==t.cancelable&&t.preventDefault(),[].map.call(a,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(a,(function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}})),r.x=[s[0].chartX,s[1]&&s[1].chartX],r.y=[s[0].chartY,s[1]&&s[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){const e=i.bounds[t.horiz?"h":"v"],s=t.minPixelPadding,a=t.toPixels(Math.min(v(t.options.min,t.dataMin),t.dataMin)),o=t.toPixels(Math.max(v(t.options.max,t.dataMax),t.dataMax)),n=Math.max(a,o);e.min=Math.min(t.pos,Math.min(a,o)-s),e.max=Math.max(t.pos+t.len,n+s)}})),e.res=!0):m?this.runPointActions(e.normalize(t)):s.length&&(u(i,"touchpan",{originalEvent:t},()=>{f||(e.selectionMarker=f=h({destroy:o,touch:!0},i.plotBox)),e.pinchTranslate(s,a,c,f,p,r),e.hasPinched=l,e.scaleGroups(c,p)}),e.res&&(e.res=!1,this.reset(!1,0)))}pinchTranslate(t,e,i,s,a,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,s,a,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,s,a,o)}pinchTranslateDirection(t,e,i,s,a,o,n,r){const l=this.chart,c=t?"x":"y",h=t?"X":"Y",d="chart"+h,u=t?"width":"height",p=l["plot"+(t?"Left":"Top")],m=l.inverted,f=l.bounds[t?"h":"v"],g=1===e.length,v=e[0][d],y=!g&&e[1][d];e=function(){"number"===typeof S&&20<Math.abs(v-y)&&(k=r||Math.abs(C-S)/Math.abs(v-y)),x=(p-C)/k+v,b=l["plot"+(t?"Width":"Height")]/k};let b,x,w,k=r||1,C=i[0][d],S=!g&&i[1][d];e(),i=x,i<f.min?(i=f.min,w=!0):i+b>f.max&&(i=f.max-b,w=!0),w?(C-=.8*(C-n[c][0]),"number"===typeof S&&(S-=.8*(S-n[c][1])),e()):n[c]=[C,S],m||(o[c]=x-p,o[u]=b),o=m?1/k:k,a[u]=b,a[c]=i,s[m?t?"scaleY":"scaleX":"scale"+h]=k,s["translate"+h]=o*p+(C-o*v)}reset(t,e){const i=this.chart,s=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,n=i.tooltip,r=n&&n.shared?o:a;t&&r&&y(r).forEach((function(e){e.series.isCartesian&&"undefined"===typeof e.plotX&&(t=!1)})),t?n&&r&&y(r).length&&(n.refresh(r),n.shared&&o?o.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):a&&(a.setState(a.state,!0),i.axes.forEach((function(t){t.crosshair&&a.series[t.coll]===t&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),o&&o.forEach((function(t){t.setState()})),s&&s.onMouseOut(),n&&n.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)}runPointActions(t,e,i){const s=this.chart,o=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,r=!!o&&o.shared;let l=e||s.hoverPoint,c=l&&l.series||s.hoverSeries;e=this.getHoverData(l,c,s.series,(!t||"touchmove"!==t.type)&&(!!e||c&&c.directTouch&&this.isDirectTouch),r,t),l=e.hoverPoint,c=e.hoverSeries;const h=e.hoverPoints;e=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split;const u=r&&c&&!c.noSharedTooltip;if(l&&(i||l!==s.hoverPoint||o&&o.isHidden)){if((s.hoverPoints||[]).forEach((function(t){-1===h.indexOf(t)&&t.setState()})),s.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(h),(h||[]).forEach((function(t){t.setState("hover")})),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!l.series)return;s.hoverPoints=h,s.hoverPoint=l,l.firePointEvent("mouseOver",void 0,()=>{o&&l&&o.refresh(u?h:l,t)})}else e&&o&&!o.isHidden&&(i=o.getAnchor([{}],t),s.isInsidePlot(i[0],i[1],{visiblePlotOnly:!0})&&o.updatePosition({plotX:i[0],plotY:i[1]}));this.unDocMouseMove||(this.unDocMouseMove=n(s.container.ownerDocument,"mousemove",(function(t){const e=a[b.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),s.axes.forEach((function(e){const i=v((e.crosshair||{}).snap,!0);let a;i&&((a=s.hoverPoint)&&a.series[e.coll]===e||(a=d(h,t=>t.series&&t.series[e.coll]===e))),a||!i?e.drawCrosshair(t,a):e.hideCrosshair()}))}scaleGroups(t,e){const i=this.chart;i.series.forEach((function(s){const a=t||s.getPlotBox();s.group&&(s.xAxis&&s.xAxis.zoomEnabled||i.mapView)&&(s.group.attr(a),s.markerGroup&&(s.markerGroup.attr(a),s.markerGroup.clip(e?i.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(a))})),i.clipRect.attr(e||i.clipBox)}setDOMEvents(){const t=this.chart.container,i=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(n(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(n(t,"mouseleave",this.onContainerMouseLeave.bind(this))),b.unbindDocumentMouseUp||(b.unbindDocumentMouseUp=n(i,"mouseup",this.onDocumentMouseUp.bind(this)));let s=this.chart.renderTo.parentElement;for(;s&&"BODY"!==s.tagName;)this.eventsToUnbind.push(n(s,"scroll",()=>{delete this.chartPosition})),s=s.parentElement;e.hasTouch&&(this.eventsToUnbind.push(n(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(n(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),b.unbindDocumentTouchEnd||(b.unbindDocumentTouchEnd=n(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const t=this.chart,i=e.charts[v(b.hoverChartIndex,-1)];i&&i!==t&&i.pointer.onContainerMouseLeave({relatedTarget:t.container}),i&&i.mouseIsDown||(b.hoverChartIndex=t.index)}touch(t,e){const i=this.chart;let s,a;this.setHoverChartIndex(),1===t.touches.length?(t=this.normalize(t),(a=i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop,{visiblePlotOnly:!0}))&&!i.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(e=this.pinchDown,s=!!e[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),v(s,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.options.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){var e=this.chart,i=e.options.chart;e=e.inverted;let s=i.zooming.type||"";/touch/.test(t.type)&&(s=v(i.zooming.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i}}return function(t){const e=[],s=[];t.compose=function(e){i.pushUnique(s,e)&&n(e,"beforeRender",(function(){this.pointer=new t(this,this.options)}))},t.dissolve=function(){for(let t=0,i=e.length;t<i;++t)e[t]();e.length=0}}(b||(b={})),b})),e(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{animObject:n,setAnimation:r}=t,{format:l}=e,{marginNames:c}=i,{distribute:h}=a,{addEvent:d,createElement:u,css:p,defined:m,discardElement:f,find:g,fireEvent:v,isNumber:y,merge:b,pick:x,relativeLength:w,stableSort:k,syncTimeout:C}=o;class S{constructor(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}init(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),d(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),d(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(t){const e=x(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=b(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=x(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){const i=this.chart;this.setOptions(b(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,x(e,!0)&&i.redraw(),v(this,"afterUpdate")}colorizeItem(t,e){const{group:i,label:s,line:a,symbol:o}=t.legendItem||{};if(i&&i[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options;const i=this.itemHiddenStyle.color;n=e?n.itemStyle.color:i;const r=e&&t.color||i,l=t.options&&t.options.marker;let c={fill:r};s&&s.css({fill:n}),a&&a.attr({stroke:r}),o&&(l&&o.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=i)),o.attr(c))}v(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){const{group:e,x:i=0,y:s=0}=t.legendItem||{};var a=this.options,o=a.symbolPadding;const n=!a.rtl;a=t.checkbox,e&&e.element&&(o={translateX:n?i:this.legendWidth-i-2*o-4,translateY:s},e[m(e.translateY)?"animate":"attr"](o,void 0,()=>{v(this,"afterPositionItem",{item:t})})),a&&(a.x=i,a.y=s)}destroyItem(t){const e=t.checkbox,i=t.legendItem||{};for(const s of["group","label","line","symbol"])i[s]&&(i[s]=i[s].destroy());e&&f(e),t.legendItem=void 0}destroy(){for(const t of this.getAllItems())this.destroyItem(t);for(const t of"clipRect up down pager nav box title group".split(" "))this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){const t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,i=this.titleHeight;let s;t&&(s=t.translateY,this.allItems.forEach((function(a){const o=a.checkbox;let n;o&&(n=s+i+o.y+(this.scrollOffset||0)+3,p(o,{left:t.translateX+a.checkboxOffset+o.x-20+"px",top:n+"px",display:this.proximate||n>s-6&&n<s+e-6?"":"none"}))}),this))}renderTitle(){var t=this.options;const e=this.padding,i=t.title;let s=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),t=this.title.getBBox(),s=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:s})),this.titleHeight=s}setText(t){const e=this.options;t.legendItem.label.attr({text:e.labelFormat?l(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){const e=t.legendItem=t.legendItem||{};var i=this.chart,s=i.renderer;const a=this.options,o=this.symbolWidth,n=a.symbolPadding||0,r=this.itemStyle,l=this.itemHiddenStyle,c="horizontal"===a.layout?x(a.itemDistance,20):0,h=!a.rtl,d=!t.series,u=!d&&t.series.drawLegendSymbol?t.series:t;var p=u.options;const m=this.createCheckboxForItem&&p&&p.showCheckbox,f=a.useHTML,g=t.options.className;let v=e.label;p=o+n+c+(m?20:0),v||(e.group=s.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+t.colorIndex+(g?" "+g:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=v=s.text("",h?o+n:-n,this.baseline||0,f),i.styledMode||v.css(b(t.visible?r:l)),v.attr({align:h?"left":"right",zIndex:2}).add(e.group),this.baseline||(this.fontMetrics=s.fontMetrics(v),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,v.attr("y",this.baseline),this.symbolHeight=x(a.symbolHeight,this.fontMetrics.f),a.squareSymbol&&(this.symbolWidth=x(a.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+n+c+(m?20:0),h&&v.attr("x",this.symbolWidth+n))),u.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,f)),m&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!i.styledMode&&r.width||v.css({width:(a.itemWidth||this.widthOption||i.spacingBox.width)-p+"px"}),this.setText(t),i=v.getBBox(),s=this.fontMetrics&&this.fontMetrics.h||0,t.itemWidth=t.checkboxOffset=a.itemWidth||e.labelWidth||i.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(i.height>1.5*s?i.height:s))}layoutItem(t){var e=this.options;const i=this.padding,s="horizontal"===e.layout,a=t.itemHeight,o=this.itemMarginBottom,n=this.itemMarginTop,r=s?x(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;const c=t.legendItem||{};s&&this.itemX-i+e>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=n+this.lastLineHeight+o),this.lastLineHeight=0),this.lastItemY=n+this.itemY+o,this.lastLineHeight=Math.max(a,this.lastLineHeight),c.x=this.itemX,c.y=this.itemY,s?this.itemX+=e:(this.itemY+=n+a+o,this.lastLineHeight=a),this.offsetWidth=this.widthOption||Math.max((s?this.itemX-i-(t.checkbox?0:r):e)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach((function(e){const i=e&&e.options;e&&x(i.showInLegend,!m(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||("point"===i.legendType?e.data:e)))})),v(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){const t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){const i=this.chart,s=this.options,a=this.getAlignment();a&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(o,n){o.test(a)&&!m(t[n])&&(i[c[n]]=Math.max(i[c[n]],i.legend[(n+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][n]*s[n%2?"x":"y"]+x(s.margin,12)+e[n]+(i.titleOffset[n]||0)))}))}proximatePositions(){const t=this.chart,e=[],i="left"===this.options.align;let s;this.allItems.forEach((function(s){var a,o=i;let n;s.yAxis&&(s.xAxis.options.reversed&&(o=!o),s.points&&(a=g(o?s.points:s.points.slice(0).reverse(),(function(t){return y(t.plotY)}))),o=this.itemMarginTop+s.legendItem.label.getBBox().height+this.itemMarginBottom,n=s.yAxis.top-t.plotTop,s.visible?(a=a?a.plotY:s.yAxis.height,a+=n-.3*o):a=n+s.yAxis.height,e.push({target:a,size:o,item:s}))}),this);for(const a of h(e,t.plotHeight))s=a.item.legendItem||{},y(a.pos)&&(s.y=t.plotTop-t.spacing[0]+a.pos)}render(){const t=this.chart,e=t.renderer,i=this.options,s=this.padding;var a=this.getAllItems();let o,n=this.group,r=this.box;this.itemX=s,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=w(i.width,t.spacingBox.width-s);var l=t.spacingBox.width-2*s-i.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(l/=2),this.maxLegendWidth=this.widthOption||l,n||(this.group=n=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(n),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),k(a,(t,e)=>(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)),i.reversed&&a.reverse(),this.allItems=a,this.display=l=!!a.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,a.forEach(this.renderItem,this),a.forEach(this.layoutItem,this),a=(this.widthOption||this.offsetWidth)+s,o=this.lastItemY+this.lastLineHeight+this.titleHeight,o=this.handleOverflow(o),o+=s,r||(this.box=r=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(n)),t.styledMode||r.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),0<a&&0<o&&r[r.placed?"animate":"attr"](r.crisp.call({},{x:0,y:0,width:a,height:o},r.strokeWidth())),n[l?"show":"hide"](),t.styledMode&&"none"===n.getStyle("display")&&(a=o=0),this.legendWidth=a,this.legendHeight=o,l&&this.align(),this.proximate||this.positionItems(),v(this,"afterRender")}align(t=this.chart.spacingBox){const e=this.chart,i=this.options;let s=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?s+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(s-=e.titleOffset[2]),s!==t.y&&(t=b(t,{y:s})),e.hasRendered||(this.group.placed=!1),this.group.align(b(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){const e=this,i=this.chart,s=i.renderer,a=this.options;var o=a.y;const n="top"===a.verticalAlign,r=this.padding,l=a.maxHeight,c=a.navigation,h=x(c.animation,!0),d=c.arrowSize||12,u=this.pages,p=this.allItems,m=function(t){"number"===typeof t?w.attr({height:t}):w&&(e.clipRect=w.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+r+"px,9999px,"+(r+t)+"px,0)":"auto")},f=function(t){return e[t]=s.circle(0,0,1.3*d).translate(d/2,d/2).add(b),i.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};let g,v,y;o=i.spacingBox.height+(n?-o:o)-r;let b=this.nav,w=this.clipRect;return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(o/=2),l&&(o=Math.min(o,l)),u.length=0,t&&0<o&&t>o&&!1!==c.enabled?(this.clipHeight=g=Math.max(o-20-this.titleHeight-r,0),this.currentPage=x(this.currentPage,1),this.fullHeight=t,p.forEach((t,e)=>{y=t.legendItem||{},t=y.y||0;const i=Math.round(y.label.getBBox().height);let s=u.length;(!s||t-u[s-1]>g&&(v||t)!==u[s-1])&&(u.push(v||t),s++),y.pageIx=s-1,v&&((p[e-1].legendItem||{}).pageIx=s-1),e===p.length-1&&t+i-u[s-1]>g&&t>u[s-1]&&(u.push(t),y.pageIx=s),t!==v&&(v=t)}),w||(w=e.clipRect=s.clipRect(0,r-2,9999,0),e.contentGroup.clip(w)),m(g),b||(this.nav=b=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,d,d).add(b),f("upTracker").on("click",(function(){e.scroll(-1,h)})),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&c.style&&this.pager.css(c.style),this.pager.add(b),this.down=s.symbol("triangle-down",0,0,d,d).add(b),f("downTracker").on("click",(function(){e.scroll(1,h)}))),e.scroll(0),t=o):b&&(m(),this.nav=b.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){const i=this.chart,s=this.pages,a=s.length,o=this.clipHeight,l=this.options.navigation,c=this.pager,h=this.padding;let d=this.currentPage+t;d>a&&(d=a),0<d&&("undefined"!==typeof e&&r(e,i),this.nav.attr({translateX:h,translateY:o+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:d+"/"+a}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:d===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),i.styledMode||(this.up.attr({fill:1===d?l.inactiveColor:l.activeColor}),this.upTracker.css({cursor:1===d?"default":"pointer"}),this.down.attr({fill:d===a?l.inactiveColor:l.activeColor}),this.downTracker.css({cursor:d===a?"default":"pointer"})),this.scrollOffset=-s[d-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=d,this.positionCheckboxes(),t=n(x(e,i.renderer.globalAnimation,!0)),C(()=>{v(this,"afterScroll",{currentPage:d})},t.duration))}setItemEvents(t,e,i){const a=this,o=t.legendItem||{},n=a.chart.renderer.boxWrapper,r=t instanceof s,l="highcharts-legend-"+(r?"point":"series")+"-active",c=a.chart.styledMode;i=i?[e,o.symbol]:[o.group];const h=e=>{a.allItems.forEach(i=>{t!==i&&[i].concat(i.linkedSeries||[]).forEach(t=>{t.setState(e,!r)})})};for(const s of i)s&&s.on("mouseover",(function(){t.visible&&h("inactive"),t.setState("hover"),t.visible&&n.addClass(l),c||e.css(a.options.itemHoverStyle)})).on("mouseout",(function(){a.chart.styledMode||e.css(b(t.visible?a.itemStyle:a.itemHiddenStyle)),h(""),n.removeClass(l),t.setState()})).on("click",(function(e){const i=function(){t.setVisible&&t.setVisible(),h(t.visible?"inactive":"")};n.removeClass(l),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):v(t,"legendItemClick",e,i)}))}createCheckboxForItem(t){t.checkbox=u("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),d(t.checkbox,"click",(function(e){v(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}return function(t){const e=[];t.compose=function(i){o.pushUnique(e,i)&&d(i,"beforeMargins",(function(){this.legend=new t(this,this.options.legend)}))}}(S||(S={})),S})),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{defaultOptions:a}=e,{extendClass:o,merge:n}=s;var r;return function(e){function s(t,s){const o=a.plotOptions||{},n=s.defaultOptions,r=s.prototype;r.type=t,r.pointClass||(r.pointClass=i),n&&(o[t]=n),e.seriesTypes[t]=s}e.seriesTypes=t.seriesTypes,e.registerSeriesType=s,e.seriesType=function(t,r,l,c,h){const d=a.plotOptions||{};return r=r||"",d[t]=n(d[r],l),s(t,o(e.seriesTypes[r]||function(){},c)),e.seriesTypes[t].prototype.type=t,h&&(e.seriesTypes[t].prototype.pointClass=o(i,h)),e.seriesTypes[t]}}(r||(r={})),r})),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],(function(t,e,i,s,a,o,n,r,l,c,h,d){const{animate:u,animObject:p,setAnimation:m}=t,{defaultOptions:f,defaultTime:g}=i,{numberFormat:v}=s,{registerEventOptions:y}=a,{charts:b,doc:x,marginNames:w,svg:k,win:C}=o,{seriesTypes:S}=r,{addEvent:A,attr:T,cleanRecursively:I,createElement:P,css:M,defined:L,discardElement:_,erase:D,error:F,extend:O,find:E,fireEvent:B,getStyle:N,isArray:R,isNumber:z,isObject:$,isString:V,merge:H,objectEach:W,pick:j,pInt:q,relativeLength:X,removeEvent:Y,splat:G,syncTimeout:U,uniqueKey:J}=h;class K{static chart(t,e,i){return new K(t,e,i)}constructor(t,e,i){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(t,e,i)}getArgs(t,e,i){V(t)||t.nodeName?(this.renderTo=t,this.init(e,i)):this.init(t,e)}init(t,e){const i=t.plotOptions||{};B(this,"init",{args:arguments},(function(){const s=H(f,t),a=s.chart;W(s.plotOptions,(function(t,e){$(t)&&(t.tooltip=i[e]&&H(i[e].tooltip)||void 0)})),s.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,this.userOptions=t,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0;const n=a.zooming=a.zooming||{};t.chart&&!t.chart.zooming&&(n.resetButton=a.resetZoomButton),n.key=j(n.key,a.zoomKey),n.pinchType=j(n.pinchType,a.pinchType),n.singleTouch=j(n.singleTouch,a.zoomBySingleTouch),n.type=j(n.type,a.zoomType),this.options=s,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new c(t.time):o.time,this.numberFormatter=a.numberFormatter||v,this.styledMode=a.styledMode,this.hasCartesianSeries=a.showAxes,this.index=b.length,b.push(this),o.chartCount++,y(this,a),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,B(this,"afterInit"),this.firstRender()}))}initSeries(t){var e=this.options.chart;e=t.type||e.type;const i=S[e];return i||F(17,!0,this,{missingModuleFor:e}),e=new i,"function"===typeof e.init&&e.init(this,t),e}setSeriesData(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))}orderSeries(t){const e=this.series;for(let i=t||0,s=e.length;i<s;++i)e[i]&&(e[i].index=i,e[i].name=e[i].getName())}isInsidePlot(t,e,i={}){const{inverted:s,plotBox:a,plotLeft:o,plotTop:n,scrollablePlotBox:r}=this;var l=0;let c=0;i.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:l,scrollTop:c}=this.scrollingContainer);const h=i.series,d=i.visiblePlotOnly&&r||a;var u=i.inverted?e:t;if(e=i.inverted?t:e,t={x:u,y:e,isInsidePlot:!0,options:i},!i.ignoreX){const e=h&&(s&&!this.polar?h.yAxis:h.xAxis)||{pos:o,len:1/0};u=i.paneCoordinates?e.pos+u:o+u,u>=Math.max(l+o,e.pos)&&u<=Math.min(l+o+d.width,e.pos+e.len)||(t.isInsidePlot=!1)}return!i.ignoreY&&t.isInsidePlot&&(l=!s&&i.axis&&!i.axis.isXAxis&&i.axis||h&&(s?h.xAxis:h.yAxis)||{pos:n,len:1/0},i=i.paneCoordinates?l.pos+e:n+e,i>=Math.max(c+n,l.pos)&&i<=Math.min(c+n+d.height,l.pos+l.len)||(t.isInsidePlot=!1)),B(this,"afterIsInsidePlot",t),t.isInsidePlot}redraw(t){B(this,"beforeRedraw");const e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,s=this.pointer,a=this.legend,o=this.userOptions.legend,n=this.renderer,r=n.isHidden(),l=[];let c,h,d,u=this.isDirtyBox,p=this.isDirtyLegend;for(n.rootFontSize=n.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),m(!!this.hasRendered&&t,this),r&&this.temporaryDisplay(),this.layOutTitles(),t=i.length;t--;)if(d=i[t],(d.options.stacking||d.options.centerInCategory)&&(h=!0,d.isDirty)){c=!0;break}if(c)for(t=i.length;t--;)d=i[t],d.options.stacking&&(d.isDirty=!0);i.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"===typeof t.updateTotals&&t.updateTotals(),p=!0):o&&(o.labelFormatter||o.labelFormat)&&(p=!0)),t.isDirtyData&&B(t,"updatedData")})),p&&a&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),h&&this.getStacks(),e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),e.forEach((function(t){t.isDirty&&(u=!0)})),e.forEach((function(t){const e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,l.push((function(){B(t,"afterSetExtremes",O(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(u||h)&&t.redraw()})),u&&this.drawChartBox(),B(this,"predraw"),i.forEach((function(t){(u||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),s&&s.reset(!0),n.draw(),B(this,"redraw"),B(this,"render"),r&&this.temporaryDisplay(!0),l.forEach((function(t){t.call()}))}get(t){function e(e){return e.id===t||e.options&&e.options.id===t}const i=this.series;let s=E(this.axes,e)||E(this.series,e);for(let a=0;!s&&a<i.length;a++)s=E(i[a].points||[],e);return s}getAxes(){const t=this;var i=this.options;const s=i.xAxis=G(i.xAxis||{});i=i.yAxis=G(i.yAxis||{}),B(this,"getAxes"),s.forEach((function(t,e){t.index=e,t.isX=!0})),i.forEach((function(t,e){t.index=e})),s.concat(i).forEach((function(i){new e(t,i)})),B(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(e=>{j(e.selectedStaging,e.selected)&&t.push(e)}),t),[])}getSelectedSeries(){return this.series.filter((function(t){return t.selected}))}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){const i=this;var s="title"===t?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};s=this.options[t]=H(!this.styledMode&&{style:s},this.options[t],e);let a=this[t];a&&e&&(this[t]=a=a.destroy()),s&&!a&&(a=this.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+t,zIndex:s.zIndex||4}).add(),a.update=function(e){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||a.css(s.style),this[t]=a)}layOutTitles(t){const e=[0,0,0],i=this.renderer,s=this.spacingBox;["title","subtitle","caption"].forEach((function(t){const a=this[t],o=this.options[t],n=o.verticalAlign||"top";if(t="title"===t?"top"===n?-3:0:"top"===n?e[0]+2:0,a){a.css({width:(o.width||s.width+(o.widthAdjust||0))+"px"});const r=i.fontMetrics(a).b,l=Math.round(a.getBBox(o.useHTML).height);a.align(O({y:"bottom"===n?r:t+r,height:l},o),!1,"spacingBox"),o.floating||("top"===n?e[0]=Math.ceil(e[0]+l):"bottom"===n&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);const a=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,B(this,"afterLayOutTitles"),!this.isDirtyBox&&a&&(this.isDirtyBox=this.isDirtyLegend=a,this.hasRendered&&j(t,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:N(this.renderTo,"width",!0)||0,height:N(this.renderTo,"height",!0)||0}}getChartSize(){var t=this.options.chart;const e=t.width;t=t.height;const i=this.getContainerBox();this.chartWidth=Math.max(0,e||i.width||600),this.chartHeight=Math.max(0,X(t,this.chartWidth)||(1<i.height?i.height:400)),this.containerBox=i}temporaryDisplay(t){let e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(M(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(x.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style;)if(x.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,x.body.appendChild(e)),("none"===N(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),M(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),e=e.parentNode,e===x.body)break}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){const t=this.options,e=t.chart;var i=J();let s,a=this.renderTo;a||(this.renderTo=a=e.renderTo),V(a)&&(this.renderTo=a=x.getElementById(a)),a||F(13,!0,this);var o=q(T(a,"data-highcharts-chart"));z(o)&&b[o]&&b[o].hasRendered&&b[o].destroy(),T(a,"data-highcharts-chart",this.index),a.innerHTML=d.emptyHTML,e.skipClone||a.offsetWidth||this.temporaryDisplay(),this.getChartSize(),o=this.chartWidth;const r=this.chartHeight;if(M(a,{overflow:"hidden"}),this.styledMode||(s=O({position:"relative",overflow:"hidden",width:o+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},e.style||{})),this.container=i=P("div",{id:i},s,a),this._cursor=i.style.cursor,this.renderer=new(e.renderer||!k?n.getRendererType(e.renderer):l)(i,o,r,void 0,e.forExport,t.exporting&&t.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),m(void 0,this),this.setClassName(e.className),this.styledMode)for(const n in t.defs)this.renderer.definition(t.defs[n]);else this.renderer.setStyle(e.style);this.renderer.chartIndex=this.index,B(this,"afterGetContainer")}getMargins(t){const{spacing:e,margin:i,titleOffset:s}=this;this.resetMargins(),s[0]&&!L(i[0])&&(this.plotTop=Math.max(this.plotTop,s[0]+e[0])),s[2]&&!L(i[2])&&(this.marginBottom=Math.max(this.marginBottom,s[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),B(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){const t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,s=t.margin,a=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?a(t.axes):i&&i.length&&a(i),w.forEach((function(i,a){L(s[a])||(t[i]+=e[a])})),t.setChartSize()}reflow(t){const e=this;var i=e.options.chart;i=L(i.width)&&L(i.height);const s=e.containerBox,a=e.getContainerBox();delete e.pointer.chartPosition,!i&&!e.isPrinting&&s&&a.width&&(a.width===s.width&&a.height===s.height||(h.clearTimeout(e.reflowTimeout),e.reflowTimeout=U((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerBox=a)}setReflow(){const t=this;var e=e=>{var i;null!==(i=t.options)&&void 0!==i&&i.chart.reflow&&t.hasLoaded&&t.reflow(e)};"function"===typeof ResizeObserver?new ResizeObserver(e).observe(t.renderTo):(e=A(C,"resize",e),A(this,"destroy",e))}setSize(t,e,i){const s=this,a=s.renderer;s.isResizing+=1,m(i,s),i=a.globalAnimation,s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,"undefined"!==typeof t&&(s.options.chart.width=t),"undefined"!==typeof e&&(s.options.chart.height=e),s.getChartSize(),s.styledMode||(i?u:M)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},i),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,i),s.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,B(s,"resize"),U((function(){s&&B(s,"endResize",null,(function(){--s.isResizing}))}),p(i).duration)}setChartSize(t){var e=this.inverted;const i=this.renderer;var s=this.chartWidth,a=this.chartHeight;const o=this.options.chart,n=this.spacing,r=this.clipOffset;let l,c,h,d;this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=h=Math.max(0,Math.round(s-l-this.marginRight)),this.plotHeight=d=Math.max(0,Math.round(a-c-this.marginBottom)),this.plotSizeX=e?d:h,this.plotSizeY=e?h:d,this.plotBorderWidth=o.plotBorderWidth||0,this.spacingBox=i.spacingBox={x:n[3],y:n[0],width:s-n[3]-n[1],height:a-n[0]-n[2]},this.plotBox=i.plotBox={x:l,y:c,width:h,height:d},e=2*Math.floor(this.plotBorderWidth/2),s=Math.ceil(Math.max(e,r[3])/2),a=Math.ceil(Math.max(e,r[0])/2),this.clipBox={x:s,y:a,width:Math.floor(this.plotSizeX-Math.max(e,r[1])/2-s),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,r[2])/2-a))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),i.alignElements()),B(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){B(this,"resetMargins");const t=this,e=t.options.chart;["margin","spacing"].forEach((function(i){const s=e[i],a=$(s)?s:[s,s,s,s];["Top","Right","Bottom","Left"].forEach((function(s,o){t[i][o]=j(e[i+s],a[o])}))})),w.forEach((function(e,i){t[e]=j(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]}drawChartBox(){const t=this.options.chart,e=this.renderer,i=this.chartWidth,s=this.chartHeight,a=this.styledMode,o=this.plotBGImage;var n=t.backgroundColor;const r=t.plotBackgroundColor,l=t.plotBackgroundImage,c=this.plotLeft,h=this.plotTop,d=this.plotWidth,u=this.plotHeight,p=this.plotBox,m=this.clipRect,f=this.clipBox;let g,v,y=this.chartBackground,b=this.plotBackground,x=this.plotBorder,w="animate";y||(this.chartBackground=y=e.rect().addClass("highcharts-background").add(),w="attr"),a?g=v=y.strokeWidth():(g=t.borderWidth||0,v=g+(t.shadow?8:0),n={fill:n||"none"},(g||y["stroke-width"])&&(n.stroke=t.borderColor,n["stroke-width"]=g),y.attr(n).shadow(t.shadow)),y[w]({x:v/2,y:v/2,width:i-v-g%2,height:s-v-g%2,r:t.borderRadius}),w="animate",b||(w="attr",this.plotBackground=b=e.rect().addClass("highcharts-plot-background").add()),b[w](p),a||(b.attr({fill:r||"none"}).shadow(t.plotShadow),l&&(o?(l!==o.attr("href")&&o.attr("href",l),o.animate(p)):this.plotBGImage=e.image(l,c,h,d,u).add())),m?m.animate({width:f.width,height:f.height}):this.clipRect=e.clipRect(f),w="animate",x||(w="attr",this.plotBorder=x=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),a||x.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),x[w](x.crisp({x:c,y:h,width:d,height:u},-x.strokeWidth())),this.isDirtyBox=!1,B(this,"afterDrawChartBox")}propFromSeries(){const t=this,e=t.options.chart,i=t.options.series;let s,a,o;["inverted","angular","polar"].forEach((function(n){for(a=S[e.type],o=e[n]||a&&a.prototype[n],s=i&&i.length;!o&&s--;)(a=S[i[s].type])&&a.prototype[n]&&(o=!0);t[n]=o}))}linkSeries(t){const e=this,i=e.series;i.forEach((function(t){t.linkedSeries.length=0})),i.forEach((function(t){let i=t.options.linkedTo;V(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,i.enabledDataSorting&&t.setDataSortingOptions(),t.visible=j(t.options.visible,i.options.visible,t.visible))})),B(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach((function(t){t.translate(),t.render()}))}render(){const t=this.axes,e=this.colorAxis,i=this.renderer,s=function(t){t.forEach((function(t){t.visible&&t.render()}))};let a=0;this.setTitle(),B(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const o=this.plotWidth;t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return a=21,!0}));const n=this.plotHeight=Math.max(this.plotHeight-a,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();const r=1.1<o/this.plotWidth,l=1.05<n/this.plotHeight;(r||l)&&(t.forEach((function(t){(t.horiz&&r||!t.horiz&&l)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?s(t):e&&e.length&&s(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){const e=this,i=H(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){i.href&&(C.location.href=i.href)})).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})}destroy(){const t=this,e=t.axes,i=t.series,s=t.container,a=s&&s.parentNode;let n;for(B(t,"destroy"),t.renderer.forExport?D(b,t):b[t.index]=void 0,o.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),Y(t),n=e.length;n--;)e[n]=e[n].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),n=i.length;n--;)i[n]=i[n].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){const i=t[e];i&&i.destroy&&(t[e]=i.destroy())})),s&&(s.innerHTML=d.emptyHTML,Y(s),a&&_(s)),W(t,(function(e,i){delete t[i]}))}firstRender(){const t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(R(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),B(t,"beforeRender"),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(t){t&&"undefined"!==typeof this.index&&t.apply(this,[this])}),this),B(this,"load"),B(this,"render"),L(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||F('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){const s=this;let a;return t&&(e=j(e,!0),B(s,"addSeries",{options:t},(function(){a=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),a.enabledDataSorting&&a.setData(t.data,!1),B(s,"afterAddSeries",{series:a}),e&&s.redraw(i)}))),a}addAxis(t,e,i,s){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:s})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,i){return t=new e(this,H(i.axis,{index:this[t].length,isX:"xAxis"===t})),j(i.redraw,!0)&&this.redraw(i.animation),t}showLoading(t){const e=this,i=e.options,s=i.loading,a=function(){o&&M(o,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};let o=e.loadingDiv,n=e.loadingSpan;o||(e.loadingDiv=o=P("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),n||(e.loadingSpan=n=P("span",{className:"highcharts-loading-inner"},null,o),A(e,"redraw",a)),o.className="highcharts-loading",d.setElementHTML(n,j(t,i.lang.loading,"")),e.styledMode||(M(o,O(s.style,{zIndex:10})),M(n,s.labelStyle),e.loadingShown||(M(o,{opacity:0,display:""}),u(o,{opacity:s.style.opacity||.5},{duration:s.showDuration||0}))),e.loadingShown=!0,a()}hideLoading(){const t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||u(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){M(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,s){const a=this,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},n=t.isResponsiveOptions,r=[];let l,h;B(a,"update",{options:t}),n||a.setResponsive(!1,!0),t=I(t,a.options),a.userOptions=H(a.userOptions,t);var d=t.chart;if(d){if(H(!0,a.options.chart,d),"className"in d&&a.setClassName(d.className),"inverted"in d||"polar"in d||"type"in d){a.propFromSeries();var u=!0}"alignTicks"in d&&(u=!0),"events"in d&&y(this,d),W(d,(function(t,e){-1!==a.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==a.propsRequireDirtyBox.indexOf(e)&&(a.isDirtyBox=!0),-1!==a.propsRequireReflow.indexOf(e)&&(n?a.isDirtyBox=!0:h=!0)})),!a.styledMode&&d.style&&a.renderer.setStyle(a.options.chart.style||{})}!a.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===g&&(this.time=new c(t.time)),H(!0,a.options.time,t.time)),W(t,(function(e,i){a[i]&&"function"===typeof a[i].update?a[i].update(e,!1):"function"===typeof a[o[i]]?a[o[i]](e):"colors"!==i&&-1===a.collectionsWithUpdate.indexOf(i)&&H(!0,a.options[i],t[i]),"chart"!==i&&-1!==a.propsRequireUpdateSeries.indexOf(i)&&(l=!0)})),this.collectionsWithUpdate.forEach((function(e){let s;t[e]&&(s=[],a[e].forEach((function(t,e){t.options.isInternal||s.push(j(t.options.index,e))})),G(t[e]).forEach((function(t,o){const n=L(t.id);let r;n&&(r=a.get(t.id)),!r&&a[e]&&(r=a[e][s?s[o]:o])&&n&&L(r.options.id)&&(r=void 0),r&&r.coll===e&&(r.update(t,!1),i&&(r.touched=!0)),!r&&i&&a.collectionsWithInit[e]&&(a.collectionsWithInit[e][0].apply(a,[t].concat(a.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),i&&a[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:r.push(t)})))})),r.forEach((function(t){t.chart&&t.remove&&t.remove(!1)})),u&&a.axes.forEach((function(t){t.update({},!1)})),l&&a.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),u=d&&d.width,d=d&&(V(d.height)?X(d.height,u||a.chartWidth):d.height),h||z(u)&&u!==a.chartWidth||z(d)&&d!==a.chartHeight?a.setSize(u,d,s):j(e,!0)&&a.redraw(s),B(a,"afterUpdate",{options:t,redraw:e,animation:s})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){function t(){e.zoomOut()}const e=this,i=f.lang,s=e.options.chart.zooming.resetButton,a=s.theme,o="chart"===s.relativeTo||"spacingBox"===s.relativeTo?null:"scrollablePlotBox";B(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,a).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,o)})),B(this,"afterShowResetZoom")}zoomOut(){B(this,"selection",{resetSelection:!0},this.zoom)}zoom(t){const e=this,i=e.pointer;let s,a=!1;!t||t.resetSelection?(e.axes.forEach((function(t){s=t.zoom()})),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){const o=t.axis;(i[o.isXAxis?"zoomX":"zoomY"]&&L(i.mouseDownX)&&L(i.mouseDownY)&&e.isInsidePlot(i.mouseDownX-e.plotLeft,i.mouseDownY-e.plotTop,{axis:o})||!L(e.inverted?i.mouseDownX:i.mouseDownY))&&(s=o.zoom(t.min,t.max),o.displayBtn&&(a=!0))}));const o=e.resetZoomButton;a&&!o?e.showResetZoom():!a&&$(o)&&(e.resetZoomButton=o.destroy()),s&&e.redraw(j(e.options.chart.animation,t&&t.animation,100>e.pointCount))}pan(t,e){const i=this,s=i.hoverPoints;e="object"===typeof e?e:{enabled:e,type:"x"};const a=i.options.chart;a&&a.panning&&(a.panning=e);const o=e.type;let n;B(this,"pan",{originalEvent:t},(function(){s&&s.forEach((function(t){t.setState()}));let e=i.xAxis;"xy"===o?e=e.concat(i.yAxis):"y"===o&&(e=i.yAxis);const a={};e.forEach((function(e){if(e.options.panningEnabled&&!e.options.isInternal){var s=e.horiz,r=t[s?"chartX":"chartY"];s=s?"mouseDownX":"mouseDownY";var l=i[s],c=e.minPointOffset||0,h=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,d=e.getExtremes(),u=e.toValue(l-r,!0)+c*h,p=e.toValue(l+e.len-r,!0)-(c*h||e.isXAxis&&e.pointRangePadding||0),m=p<u;h=e.hasVerticalPanning(),l=m?p:u,u=m?u:p;var f=e.panningState;!h||e.isXAxis||f&&!f.isDirty||e.series.forEach((function(t){var e=t.getProcessedData(!0);e=t.getExtremes(e.yData,!0),f||(f={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),z(e.dataMin)&&z(e.dataMax)&&(f.startMin=Math.min(j(t.options.threshold,1/0),e.dataMin,f.startMin),f.startMax=Math.max(j(t.options.threshold,-1/0),e.dataMax,f.startMax))})),h=Math.min(j(f&&f.startMin,d.dataMin),c?d.min:e.toValue(e.toPixels(d.min)-e.minPixelPadding)),p=Math.max(j(f&&f.startMax,d.dataMax),c?d.max:e.toValue(e.toPixels(d.max)+e.minPixelPadding)),e.panningState=f,e.isOrdinal||(c=h-l,0<c&&(u+=c,l=h),c=u-p,0<c&&(u=p,l-=c),e.series.length&&l!==d.min&&u!==d.max&&l>=h&&u<=p&&(e.setExtremes(l,u,!1,!1,{trigger:"pan"}),!i.resetZoomButton&&l!==h&&u!==p&&o.match("y")&&(i.showResetZoom(),e.displayBtn=!1),n=!0),a[s]=r)}})),W(a,(t,e)=>{i[e]=t}),n&&i.redraw(!1),M(i.container,{cursor:"move"})}))}}return O(K.prototype,{callbacks:[],collectionsWithInit:{xAxis:[K.prototype.addAxis,[!0]],yAxis:[K.prototype.addAxis,[!1]],series:[K.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),K})),e(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,merge:i,pick:s}=t;var a;return function(t){t.drawLineMarker=function(t){var a=this.legendItem=this.legendItem||{},o=this.options;const n=t.symbolWidth,r=t.symbolHeight,l=r/2,c=this.chart.renderer,h=a.group;t=t.baseline-Math.round(.3*t.fontMetrics.b);let d={},u=o.marker,p=0;this.chart.styledMode||(d={"stroke-width":Math.min(o.lineWidth||0,24)},o.dashStyle?d.dashstyle=o.dashStyle:"square"!==o.linecap&&(d["stroke-linecap"]="round")),a.line=c.path().addClass("highcharts-graph").attr(d).add(h),d["stroke-linecap"]&&(p=Math.min(a.line.strokeWidth(),n)/2),n&&a.line.attr({d:[["M",p,t],["L",n-p,t]]}),u&&!1!==u.enabled&&n&&(o=Math.min(s(u.radius,l),l),0===this.symbol.indexOf("url")&&(u=i(u,{width:r,height:r}),o=0),a.symbol=a=c.symbol(this.symbol,n/2-o,t-o,2*o,2*o,e({context:"legend"},u)).addClass("highcharts-point").add(h),a.isMarker=!0)},t.drawRectangle=function(t,e){e=e.legendItem||{};const i=t.symbolHeight,a=t.options.squareSymbol;e.symbol=this.chart.renderer.rect(a?(t.symbolWidth-i)/2:0,t.baseline-i+1,a?i:t.symbolWidth,i,s(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.group)}}(a||(a={})),a})),e(i,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:t}=this.series.chart;return"number"!==typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r,l,c){const{animObject:h,setAnimation:d}=t,{defaultOptions:u}=e,{registerEventOptions:p}=i,{hasTouch:m,svg:f,win:g}=s,{seriesTypes:v}=r,{arrayMax:y,arrayMin:b,clamp:x,cleanRecursively:w,correctFloat:k,defined:C,erase:S,error:A,extend:T,find:I,fireEvent:P,getNestedProperty:M,isArray:L,isNumber:_,isString:D,merge:F,objectEach:O,pick:E,removeEvent:B,splat:N,syncTimeout:R}=c;class z{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(t,e){P(this,"init",{options:e});const i=this,s=t.series;this.eventsToUnbind=[],i.chart=t,i.options=i.setOptions(e),e=i.options,i.linkedSeries=[],i.bindAxes(),T(i,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),p(this,e);const a=e.events;let o;(a&&a.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(o=s[s.length-1]),i._i=E(o&&o._i,-1)+1,i.opacity=i.options.opacity,t.orderSeries(this.insert(s)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),P(this,"afterInit")}is(t){return v[t]&&this instanceof v[t]}insert(t){const e=this.options.index;let i;if(_(e)){for(i=t.length;i--;)if(e>=E(t[i].options.index,t[i]._i)){t.splice(i+1,0,this);break}-1===i&&t.unshift(this),i+=1}else t.push(this);return E(i,t.length-1)}bindAxes(){const t=this,e=t.options,i=t.chart;let s;P(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(a){let o=0;i[a].forEach((function(i){s=i.options,(e[a]===o&&!s.isInternal||"undefined"!==typeof e[a]&&e[a]===s.id||"undefined"===typeof e[a]&&0===s.index)&&(t.insert(i.series),t[a]=i,i.isDirty=!0),s.isInternal||o++})),t[a]||t.optionalAxis===a||A(18,!0,i)}))})),P(this,"afterBindAxes")}updateParallelArrays(t,e,i){const s=t.series,a=_(e)?function(i){const a="y"===i&&s.toYData?s.toYData(t):t[i];s[i+"Data"][e]=a}:function(t){Array.prototype[e].apply(s[t+"Data"],i)};s.parallelArrays.forEach(a)}hasData(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length}autoIncrement(t){var e=this.options;const i=e.pointIntervalUnit,s=e.relativeXValue,a=this.chart.time;let o,n=this.xIncrement;return n=E(n,e.pointStart,0),this.pointInterval=o=E(this.pointInterval,e.pointInterval,1),s&&_(t)&&(o*=t),i&&(e=new a.Date(n),"day"===i?a.set("Date",e,a.get("Date",e)+o):"month"===i?a.set("Month",e,a.get("Month",e)+o):"year"===i&&a.set("FullYear",e,a.get("FullYear",e)+o),o=e.getTime()-n),s&&_(t)?n+o:(this.xIncrement=n+o,n)}setDataSortingOptions(){const t=this.options;T(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),C(t.pointRange)||(t.pointRange=1)}setOptions(t){var e=this.chart,i=e.options,s=i.plotOptions,a=e.userOptions||{};t=F(t),e=e.styledMode;const o={plotOptions:s,userOptions:t};P(this,"setOptions",o);const n=o.plotOptions[this.type],r=a.plotOptions||{};return this.userOptions=o.userOptions,a=F(n,s.series,a.plotOptions&&a.plotOptions[this.type],t),this.tooltipOptions=F(u.tooltip,u.plotOptions.series&&u.plotOptions.series.tooltip,u.plotOptions[this.type].tooltip,i.tooltip.userOptions,s.series&&s.series.tooltip,s[this.type].tooltip,t.tooltip),this.stickyTracking=E(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||a.stickyTracking),null===n.marker&&delete a.marker,this.zoneAxis=a.zoneAxis,s=this.zones=(a.zones||[]).slice(),!a.negativeColor&&!a.negativeFillColor||a.zones||(i={value:a[this.zoneAxis+"Threshold"]||a.threshold||0,className:"highcharts-negative"},e||(i.color=a.negativeColor,i.fillColor=a.negativeFillColor),s.push(i)),s.length&&C(s[s.length-1].value)&&s.push(e?{}:{color:this.color,fillColor:this.fillColor}),P(this,"afterSetOptions",{options:a}),a}getName(){return E(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){const s=this.chart,a=this.userOptions,o=t+"Index",n=t+"Counter",r=i?i.length:E(s.options.chart[t+"Count"],s[t+"Count"]);if(!e){var l=E(a[o],a["_"+o]);C(l)||(s.series.length||(s[n]=0),a["_"+o]=l=s[n]%r,s[n]+=1),i&&(e=i[l])}"undefined"!==typeof l&&(this[o]=l),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||u.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(t,e){const i=t.id,s=t.x,a=this.points;var n,r=this.options.dataSorting;let l,c;if(i)r=this.chart.get(i),r instanceof o&&(n=r);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(n=e=>!e.touched&&e.index===t.index,r&&r.matchByName?n=e=>!e.touched&&e.name===t.name:this.options.relativeXValue&&(n=e=>!e.touched&&e.options.x===t.x),n=I(a,n),!n))return;return n&&(c=n&&n.index,"undefined"!==typeof c&&(l=!0)),"undefined"===typeof c&&_(s)&&(c=this.xData.indexOf(s,e)),-1!==c&&"undefined"!==typeof c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!l&&_(c)&&a[c]&&a[c].touched&&(c=void 0),c}updateData(t,e){const i=this.options,s=i.dataSorting,a=this.points,o=[],n=this.requireSorting,r=t.length===a.length;let l,c,h,d=!0;if(this.xIncrement=null,t.forEach((function(t,e){var c=C(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{};const d=c.x;c.id||_(d)?(c=this.findPointIndex(c,h),-1===c||"undefined"===typeof c?o.push(t):a[c]&&t!==i.data[c]?(a[c].update(t,!1,null,!1),a[c].touched=!0,n&&(h=c+1)):a[c]&&(a[c].touched=!0),(!r||e!==c||s&&s.enabled||this.hasDerivedData)&&(l=!0)):o.push(t)}),this),l)for(t=a.length;t--;)(c=a[t])&&!c.touched&&c.remove&&c.remove(!1,e);else!r||s&&s.enabled?d=!1:(t.forEach((function(t,e){t===a[e].y||a[e].destroyed||a[e].update(t,!1,null,!1)})),o.length=0);return a.forEach((function(t){t&&(t.touched=!1)})),!!d&&(o.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=y(this.xData),this.autoIncrement()),!0)}setData(t,e=!0,i,s){var a;const o=this,n=o.points,r=n&&n.length||0,l=o.options,c=o.chart,h=l.dataSorting,d=o.xAxis,u=l.turboThreshold,p=this.xData,m=this.yData;var f=o.pointArrayMap;f=f&&f.length;const g=l.keys;let v,y=0,b=1,x=null;if(!c.options.chart.allowMutatingData){l.data&&delete o.options.data,o.userOptions.data&&delete o.userOptions.data;var w=F(!0,t)}if(t=w||t||[],w=t.length,h&&h.enabled&&(t=this.sortData(t)),c.options.chart.allowMutatingData&&!1!==s&&w&&r&&!o.cropped&&!o.hasGroupedData&&o.visible&&!o.boosted&&(v=this.updateData(t,i)),!v){if(o.xIncrement=null,o.colorCounter=0,this.parallelArrays.forEach((function(t){o[t+"Data"].length=0})),u&&w>u)if(x=o.getFirstValidPoint(t),_(x))for(i=0;i<w;i++)p[i]=this.autoIncrement(),m[i]=t[i];else if(L(x))if(f)if(x.length===f)for(i=0;i<w;i++)p[i]=this.autoIncrement(),m[i]=t[i];else for(i=0;i<w;i++)s=t[i],p[i]=s[0],m[i]=s.slice(1,f+1);else if(g&&(y=g.indexOf("x"),b=g.indexOf("y"),y=0<=y?y:0,b=0<=b?b:1),1===x.length&&(b=0),y===b)for(i=0;i<w;i++)p[i]=this.autoIncrement(),m[i]=t[i][b];else for(i=0;i<w;i++)s=t[i],p[i]=s[y],m[i]=s[b];else A(12,!1,c);else for(i=0;i<w;i++)s={series:o},o.pointClass.prototype.applyOptions.apply(s,[t[i]]),o.updateParallelArrays(s,i);for(m&&D(m[0])&&A(14,!0,c),o.data=[],o.options.data=o.userOptions.data=t,i=r;i--;)null===(a=n[i])||void 0===a||a.destroy();d&&(d.minRange=d.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!n,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)}sortData(t){const e=this,i=e.options.dataSorting.sortKey||"y",s=function(t,e){return C(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(i,a){t[a]=s(e,i),t[a].index=a}),this),t.concat().sort((t,e)=>(t=M(i,t),e=M(i,e),e<t?-1:e>t?1:0)).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){const i=e.options,a=i.data;i.dataSorting&&i.dataSorting.enabled||!a||(a.forEach((function(i,o){a[o]=s(e,i),t[o]&&(a[o].x=t[o].x,a[o].index=o)})),e.setData(a,!1))})),t}getProcessedData(t){var e=this.xAxis,i=this.options,s=i.cropThreshold;const a=t||this.getExtremesFromAll||i.getExtremesFromAll,o=this.isCartesian;t=e&&e.val2lin,i=!(!e||!e.logarithmic);let n,r,l,c=0,h=this.xData,d=this.yData,u=this.requireSorting;var p=!1;const m=h.length;if(e&&(p=e.getExtremes(),r=p.min,l=p.max,p=!(!e.categories||e.names.length)),o&&this.sorted&&!a&&(!s||m>s||this.forceCrop))if(h[m-1]<r||h[0]>l)h=[],d=[];else if(this.yData&&(h[0]<r||h[m-1]>l)){var f=this.cropData(this.xData,this.yData,r,l);h=f.xData,d=f.yData,c=f.start,f=!0}for(s=h.length||1;--s;)e=i?t(h[s])-t(h[s-1]):h[s]-h[s-1],0<e&&("undefined"===typeof n||e<n)?n=e:0>e&&u&&!p&&(A(15,!1,this.chart),u=!1);return{xData:h,yData:d,cropped:f,cropStart:c,closestPointRange:n}}processData(t){const e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange,P(this,"afterProcessData")}cropData(t,e,i,s,a){const o=t.length;let n,r=0,l=o;for(a=E(a,this.cropShoulder),n=0;n<o;n++)if(t[n]>=i){r=Math.max(0,n-a);break}for(i=n;i<o;i++)if(t[i]>s){l=i+a;break}return{xData:t.slice(r,l),yData:e.slice(r,l),start:r,end:l}}generatePoints(){var t=this.options;const e=this.processedData||t.data,i=this.processedXData,s=this.processedYData,a=this.pointClass,o=i.length,n=this.cropStart||0,r=this.hasGroupedData,l=t.keys,c=[];let h;t=t.dataGrouping&&t.dataGrouping.groupAll?n:0;let d,u,p=this.data;if(!p&&!r){var m=[];m.length=e.length,p=this.data=m}for(l&&r&&(this.options.keys=!1),u=0;u<o;u++)m=n+u,r?(d=(new a).init(this,[i[u]].concat(N(s[u]))),d.dataGroup=this.groupMap[t+u],d.dataGroup.options&&(d.options=d.dataGroup.options,T(d,d.dataGroup.options),delete d.dataLabels)):(d=p[m])||"undefined"===typeof e[m]||(p[m]=d=(new a).init(this,e[m],i[u])),d&&(d.index=r?t+u:m,c[u]=d);if(this.options.keys=l,p&&(o!==(h=p.length)||r))for(u=0;u<h;u++)u!==n||r||(u+=o),p[u]&&(p[u].destroyElements(),p[u].plotX=void 0);this.data=p,this.points=c,P(this,"afterGeneratePoints")}getXExtremes(t){return{min:b(t),max:y(t)}}getExtremes(t,e){const i=this.xAxis;var s=this.yAxis;const a=this.processedXData||this.xData,o=[],n=this.requireSorting?this.cropShoulder:0;s=!!s&&s.positiveValuesOnly;let r,l=0,c=0,h=0;t=t||this.stackedYData||this.processedYData||[];const d=t.length;if(i){var u=i.getExtremes();l=u.min,c=u.max}for(r=0;r<d;r++){var p=a[r];u=t[r];var m=(_(u)||L(u))&&(u.length||0<u||!s);if(p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(a[r+n]||p)>=l&&(a[r-n]||p)<=c,m&&p)if(m=u.length)for(;m--;)_(u[m])&&(o[h++]=u[m]);else o[h++]=u}return t={activeYData:o,dataMin:b(o),dataMax:y(o)},P(this,"afterGetExtremes",{dataExtremes:t}),t}applyExtremes(){const t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t){const e=t.length;let i=0,s=null;for(;null===s&&i<e;)s=t[i],i++;return s}translate(){var t;this.processedXData||this.processData(),this.generatePoints();const e=this.options,i=e.stacking,s=this.xAxis,a=s.categories,o=this.enabledDataSorting,n=this.yAxis,r=this.points,l=r.length,c=this.pointPlacementToXValue(),h=!!c,d=e.threshold,u=e.startFromThreshold?d:0,p=this.zoneAxis||"y";let m,f,g,v,y=Number.MAX_VALUE;for(m=0;m<l;m++){const l=r[m],b=l.x;let w,S,A=l.y,T=l.low;const I=i&&(null===(t=n.stacking)||void 0===t?void 0:t.stacks[(this.negStacks&&A<(u?0:d)?"-":"")+this.stackKey]);let P;f=s.translate(b,!1,!1,!1,!0,c),l.plotX=_(f)?k(x(f,-1e5,1e5)):void 0,i&&this.visible&&I&&I[b]&&(v=this.getStackIndicator(v,b,this.index),!l.isNull&&v.key&&(w=I[b],S=w.points[v.key]),w&&L(S)&&(T=S[0],A=S[1],T===u&&v.key===I[b].base&&(T=E(_(d)?d:n.min)),n.positiveValuesOnly&&C(T)&&0>=T&&(T=void 0),l.total=l.stackTotal=E(w.total),l.percentage=C(l.y)&&w.total?l.y/w.total*100:void 0,l.stackY=A,this.irregularWidths||w.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),l.yBottom=C(T)?x(n.translate(T,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(A=this.dataModify.modifyValue(A,m)),_(A)&&void 0!==l.plotX&&(P=n.translate(A,!1,!0,!1,!0),P=_(P)?x(P,-1e5,1e5):void 0),l.plotY=P,l.isInside=this.isPointInside(l),l.clientX=h?k(s.translate(b,!1,!1,!1,!0,c)):f,l.negative=l[p]<(e[p+"Threshold"]||d||0),l.category=E(a&&a[l.x],l.x),l.isNull||!1===l.visible||("undefined"!==typeof g&&(y=Math.min(y,Math.abs(f-g))),g=f),l.zone=this.zones.length?l.getZone():void 0,!l.graphic&&this.group&&o&&(l.isNew=!0)}this.closestPointRangePx=y,P(this,"afterTranslate")}getValidPoints(t,e,i){const s=this.chart;return(t||this.points||[]).filter((function(t){const{plotX:a,plotY:o}=t;return!(!(i||!t.isNull&&_(o))||e&&!s.isInsidePlot(a,o,{inverted:s.inverted}))&&!1!==t.visible}))}getClipBox(){const{chart:t,xAxis:e,yAxis:i}=this,s=F(t.clipBox);return e&&e.len!==t.plotSizeX&&(s.width=e.len),i&&i.len!==t.plotSizeY&&(s.height=i.len),s}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,a=t.renderer,o=this.getClipBox(),n=this.getSharedClipKey();let r=s[n];r?r.animate(o):s[n]=r=a.clipRect(o),e&&e.clip(!1===this.options.clip?void 0:r),i&&i.clip()}animate(t){const{chart:e,group:i,markerGroup:s}=this,a=e.inverted;var o=h(this.options.animation),n=[this.getSharedClipKey(),o.duration,o.easing,o.defer].join();let r=e.sharedClips[n],l=e.sharedClips[n+"m"];if(t&&i)o=this.getClipBox(),r?r.attr("height",o.height):(o.width=0,a&&(o.x=e.plotHeight),r=e.renderer.clipRect(o),e.sharedClips[n]=r,l=e.renderer.clipRect({x:-99,y:-99,width:a?e.plotWidth+199:99,height:a?99:e.plotHeight+199}),e.sharedClips[n+"m"]=l),i.clip(r),s&&s.clip(l);else if(r&&!r.hasClass("highcharts-animating")){n=this.getClipBox();const t=o.step;s&&s.element.childNodes.length&&(o.step=function(e,i){t&&t.apply(i,arguments),"width"===i.prop&&l&&l.element&&l.attr(a?"height":"width",e+99)}),r.addClass("highcharts-animating").animate(n,o)}}afterAnimate(){this.setClip(),O(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,P(this,"afterAnimate")}drawPoints(t=this.points){const e=this.chart,i=e.styledMode,{colorAxis:s,options:a}=this,o=a.marker,n=this[this.specialGroup||"markerGroup"],r=this.xAxis,l=E(o.enabled,!(r&&!r.isRadial)||null,this.closestPointRangePx>=o.enabledThreshold*o.radius);let c,h,d,u,p,m;if(!1!==o.enabled||this._hasPointMarkers)for(c=0;c<t.length;c++){h=t[c],u=(d=h.graphic)?"animate":"attr";var f=h.marker||{};if(p=!!h.marker,(l&&"undefined"===typeof f.enabled||f.enabled)&&!h.isNull&&!1!==h.visible){const t=E(f.symbol,this.symbol,"rect");m=this.markerAttribs(h,h.selected&&"select"),this.enabledDataSorting&&(h.startXPos=r.reversed?-(m.width||0):r.width);const a=!1!==h.isInside;!d&&a&&(0<(m.width||0)||h.hasImage)&&(h.graphic=d=e.renderer.symbol(t,m.x,m.y,m.width,m.height,p?f:o).add(n),this.enabledDataSorting&&e.hasRendered&&(d.attr({x:h.startXPos}),u="animate")),d&&"animate"===u&&d[a?"show":"hide"](a).animate(m),d&&(f=this.pointAttribs(h,i||!h.selected?void 0:"select"),i?s&&d.css({fill:f.fill}):d[u](f)),d&&d.addClass(h.getClassName(),!0)}else d&&(h.graphic=d.destroy())}}markerAttribs(t,e){const i=this.options;var s=i.marker;const a=t.marker||{},o=a.symbol||s.symbol,n={};let r=E(a.radius,s&&s.radius);return e&&(s=s.states[e],e=a.states&&a.states[e],r=E(e&&e.radius,s&&s.radius,r&&r+(s&&s.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(r=0),t=t.pos(),_(r)&&t&&(n.x=t[0]-r,n.y=t[1]-r,i.crisp&&(n.x=Math.floor(n.x))),r&&(n.width=n.height=2*r),n}pointAttribs(t,e){var i=this.options.marker,s=t&&t.options;const a=s&&s.marker||{};var o=s&&s.color,n=t&&t.color;const r=t&&t.zone&&t.zone.color;let l=this.color;return t=E(a.lineWidth,i.lineWidth),s=1,l=o||r||n||l,o=a.fillColor||i.fillColor||l,n=a.lineColor||i.lineColor||l,e=e||"normal",i=i.states[e]||{},e=a.states&&a.states[e]||{},t=E(e.lineWidth,i.lineWidth,t+E(e.lineWidthPlus,i.lineWidthPlus,0)),o=e.fillColor||i.fillColor||o,n=e.lineColor||i.lineColor||n,s=E(e.opacity,i.opacity,s),{stroke:n,"stroke-width":t,fill:o,opacity:s}}destroy(t){const e=this,i=e.chart,s=/AppleWebKit\/533/.test(g.navigator.userAgent),a=e.data||[];let o,n,r,h;for(P(e,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(e.axisTypes||[]).forEach((function(t){(h=e[t])&&h.series&&(S(h.series,e),h.isDirty=h.forceRedraw=!0)})),e.legendItem&&e.chart.legend.destroyItem(e),n=a.length;n--;)(r=a[n])&&r.destroy&&r.destroy();e.clips&&e.clips.forEach(t=>t.destroy()),c.clearTimeout(e.animationTimeout),O(e,(function(t,e){t instanceof l&&!t.survive&&(o=s&&"group"===e?"hide":"destroy",t[o]())})),i.hoverSeries===e&&(i.hoverSeries=void 0),S(i.series,e),i.orderSeries(),O(e,(function(i,s){t&&"hcEvents"===s||delete e[s]}))}applyZones(){const t=this,e=this.chart,i=e.renderer,s=this.zones,a=this.clips||[],o=this.graph,n=this.area,r=Math.max(e.plotWidth,e.plotHeight),l=this[(this.zoneAxis||"y")+"Axis"],c=e.inverted;let h,d,u,p,m,f,g,v,y,b,w,k=!1;s.length&&(o||n)&&l&&"undefined"!==typeof l.min?(m=l.reversed,f=l.horiz,o&&!this.showLine&&o.hide(),n&&n.hide(),p=l.getExtremes(),s.forEach((function(s,C){h=m?f?e.plotWidth:0:f?0:l.toPixels(p.min)||0,h=x(E(d,h),0,r),d=x(Math.round(l.toPixels(E(s.value,p.max),!0)||0),0,r),k&&(h=d=l.toPixels(p.max)),g=Math.abs(h-d),v=Math.min(h,d),y=Math.max(h,d),l.isXAxis?(u={x:c?y:v,y:0,width:g,height:r},f||(u.x=e.plotHeight-u.x)):(u={x:0,y:c?y:v,width:r,height:g},f&&(u.y=e.plotWidth-u.y)),a[C]?a[C].animate(u):a[C]=i.clipRect(u),b=t["zone-area-"+C],w=t["zone-graph-"+C],o&&w&&w.clip(a[C]),n&&b&&b.clip(a[C]),k=s.value>p.max,t.resetZones&&0===d&&(d=void 0)})),this.clips=a):t.visible&&(o&&o.show(),n&&n.show())}plotGroup(t,e,i,s,a){let o=this[t];const n=!o;return i={visibility:i,zIndex:s||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(i.opacity=this.opacity),n&&(this[t]=o=this.chart.renderer.g().add(a)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(C(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(i)[n?"attr":"animate"](this.getPlotBox(e)),o}getPlotBox(t){let e=this.xAxis,i=this.yAxis;const s=this.chart;return t=s.inverted&&!s.polar&&e&&!1!==this.invertible&&"series"===t,s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:t?90:0,rotationOriginX:t?(e.len-i.len)/2:0,rotationOriginY:t?(e.len+i.len)/2:0,scaleX:t?-1:1,scaleY:1}}removeEvents(t){t||B(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)}render(){const t=this;var e=t.chart;const i=t.options,s=h(i.animation),a=t.visible?"inherit":"hidden",o=i.zIndex,n=t.hasRendered;e=e.seriesGroup;let r=t.finishedAnimating?0:s.duration;P(this,"render"),t.plotGroup("group","series",a,o,e),t.markerGroup=t.plotGroup("markerGroup","markers",a,o,e),!1!==i.clip&&t.setClip(),t.animate&&r&&t.animate(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.animate&&r&&t.animate(),n||(r&&s.defer&&(r+=s.defer),t.animationTimeout=R((function(){t.afterAnimate()}),r||0)),t.isDirty=!1,t.hasRendered=!0,P(t,"afterRender")}redraw(){const t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}searchPoint(t,e){const i=this.xAxis,s=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){function e(t,s,a){var o=t&&t.length;let n;if(o)return n=i.kdAxisArray[s%a],t.sort((function(t,e){return t[n]-e[n]})),o=Math.floor(o/2),{point:t[o],left:e(t.slice(0,o),s+1,a),right:e(t.slice(o+1),s+1,a)}}this.buildingKdTree=!0;const i=this,s=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,R((function(){i.kdTree=e(i.getValidPoints(null,!i.directTouch),s,s),i.buildingKdTree=!1}),i.options.kdNow||t&&"touchstart"===t.type?0:1)}searchKDTree(t,e,i){function s(t,e,i,l){const c=e.point;var h=a.kdAxisArray[i%l];let d=c;var u=C(t[o])&&C(c[o])?Math.pow(t[o]-c[o],2):null,p=C(t[n])&&C(c[n])?Math.pow(t[n]-c[n],2):null;return p=(u||0)+(p||0),c.dist=C(p)?Math.sqrt(p):Number.MAX_VALUE,c.distX=C(u)?Math.sqrt(u):Number.MAX_VALUE,h=t[h]-c[h],p=0>h?"left":"right",u=0>h?"right":"left",e[p]&&(p=s(t,e[p],i+1,l),d=p[r]<d[r]?p:c),e[u]&&Math.sqrt(h*h)<d[r]&&(t=s(t,e[u],i+1,l),d=t[r]<d[r]?t:d),d}const a=this,o=this.kdAxisArray[0],n=this.kdAxisArray[1],r=e?"distX":"dist";if(e=-1<a.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return s(t,this.kdTree,e,e)}pointPlacementToXValue(){const{options:{pointPlacement:t,pointRange:e},xAxis:i}=this;let s=t;return"between"===s&&(s=i.reversed?-.5:.5),_(s)?s*(e||i.pointRange):0}isPointInside(t){const{chart:e,xAxis:i,yAxis:s}=this;return"undefined"!==typeof t.plotY&&"undefined"!==typeof t.plotX&&0<=t.plotY&&t.plotY<=(s?s.len:e.plotHeight)&&0<=t.plotX&&t.plotX<=(i?i.len:e.plotWidth)}drawTracker(){const t=this,e=t.options,i=e.trackByArea,s=[].concat(i?t.areaPath:t.graphPath),a=t.chart,o=a.pointer,n=a.renderer,r=a.options.tooltip.snap,l=t.tracker,c=function(e){a.hoverSeries!==t&&t.onMouseOver()},h="rgba(192,192,192,"+(f?1e-4:.002)+")";l?l.attr({d:s}):t.graph&&(t.tracker=n.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),a.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:h,fill:i?h:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*r)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){o.onTrackerMouseOut(t)})),e.cursor&&!a.styledMode&&t.css({cursor:e.cursor}),m)&&t.on("touchstart",c)}))),P(this,"afterDrawTracker")}addPoint(t,e,i,s,a){const o=this.options,n=this.data,r=this.chart;var l=this.xAxis;l=l&&l.hasNames&&l.names;const c=o.data,h=this.xData;let d,u;e=E(e,!0);const p={series:this};this.pointClass.prototype.applyOptions.apply(p,[t]);const m=p.x;if(u=h.length,this.requireSorting&&m<h[u-1])for(d=!0;u&&h[u-1]>m;)u--;this.updateParallelArrays(p,"splice",[u,0,0]),this.updateParallelArrays(p,u),l&&p.name&&(l[m]=p.name),c.splice(u,0,t),(d||this.processedData)&&(this.data.splice(u,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(n[0]&&n[0].remove?n[0].remove(!1):(n.shift(),this.updateParallelArrays(p,"shift"),c.shift())),!1!==a&&P(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,e&&r.redraw(s)}removePoint(t,e,i){const s=this,a=s.data,o=a[t],n=s.points,r=s.chart,l=function(){n&&n.length===a.length&&n.splice(t,1),a.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(o||{series:s},"splice",[t,1]),o&&o.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&r.redraw()};d(i,r),e=E(e,!0),o?o.firePointEvent("remove",null,l):l()}remove(t,e,i,s){function a(){o.destroy(s),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(s),E(t,!0)&&n.redraw(e)}const o=this,n=o.chart;!1!==i?P(o,"remove",null,a):a()}update(t,e){t=w(t,this.userOptions),P(this,"update",{options:t});const i=this,s=i.chart;var a=i.userOptions;const o=i.initialType||i.type;var n=s.options.plotOptions;const r=v[o].prototype;var l=i.finishedAnimating&&{animation:!1};const c={};let h,d=["eventOptions","navigatorSeries","baseSeries"],u=t.type||a.type||s.options.chart.type;const p=!(this.hasDerivedData||u&&u!==this.type||"undefined"!==typeof t.pointStart||"undefined"!==typeof t.pointInterval||"undefined"!==typeof t.relativeXValue||t.joinBy||t.mapData||i.hasOptionChanged("dataGrouping")||i.hasOptionChanged("pointStart")||i.hasOptionChanged("pointInterval")||i.hasOptionChanged("pointIntervalUnit")||i.hasOptionChanged("keys"));if(u=u||o,p&&(d.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&d.push("area","graph"),i.parallelArrays.forEach((function(t){d.push(t+"Data")})),t.data&&(t.dataSorting&&T(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=F(a,l,{index:"undefined"===typeof a.index?i.index:a.index,pointStart:E(n&&n.series&&n.series.pointStart,a.pointStart,i.xData[0])},!p&&{data:i.options.data},t),p&&t.data&&(t.data=i.options.data),d=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(d),d.forEach((function(t){d[t]=i[t],delete i[t]})),n=!1,v[u]){if(n=u!==i.type,i.remove(!1,!1,!1,!0),n)if(Object.setPrototypeOf)Object.setPrototypeOf(i,v[u].prototype);else{for(h in l=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents,r)i[h]=void 0;T(i,v[u].prototype),l?i.hcEvents=l:delete i.hcEvents}}else A(17,!0,s,{missingModuleFor:u});if(d.forEach((function(t){i[t]=d[t]})),i.init(s,t),p&&this.points){if(t=i.options,!1===t.visible)c.graphic=1,c.dataLabel=1;else if(!i._hasPointLabels){const{marker:e,dataLabels:i}=t;a=a.marker||{},!e||!1!==e.enabled&&a.symbol===e.symbol&&a.height===e.height&&a.width===e.width||(c.graphic=1),i&&!1===i.enabled&&(c.dataLabel=1)}for(const e of this.points)e&&e.series&&(e.resolveColor(),Object.keys(c).length&&e.destroyElements(c),!1===t.showInLegend&&e.legendItem&&s.legend.destroyItem(e))}i.initialType=o,s.linkSeries(),n&&i.linkedSeries.length&&(i.isDirtyData=!0),P(this,"afterUpdate"),E(e,!0)&&s.redraw(!!p&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){const e=this.options[t],i=this.chart.options.plotOptions,s=this.userOptions[t];return s?e!==s:e!==E(i&&i[this.type]&&i[this.type][t],i&&i.series&&i.series[t],e)}onMouseOver(){const t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&P(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){const t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&P(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach((function(t){t.setState("",!0)}))}setState(t,e){const i=this;var s=i.options;const a=i.graph,o=s.inactiveOtherPoints,n=s.states,r=E(n[t||"normal"]&&n[t||"normal"].animation,i.chart.options.chart.animation);let l=s.lineWidth,c=0,h=s.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach((function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))})),i.state=t,!i.chart.styledMode)){if(n[t]&&!1===n[t].enabled)return;if(t&&(l=n[t].lineWidth||l+(n[t].lineWidthPlus||0),h=E(n[t].opacity,h)),a&&!a.dashstyle&&_(l))for(s={"stroke-width":l},a.animate(s,r);i["zone-graph-"+c];)i["zone-graph-"+c].animate(s,r),c+=1;o||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach((function(t){t&&t.animate({opacity:h},r)}))}e&&o&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))}setVisible(t,e){const i=this,s=i.chart,a=s.options.chart.ignoreHiddenSeries,o=i.visible,n=(i.visible=t=i.options.visible=i.userOptions.visible="undefined"===typeof t?!o:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){i[t]&&i[t][n]()})),s.hoverSeries!==i&&(s.hoverPoint&&s.hoverPoint.series)!==i||i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&s.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),i.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),a&&(s.isDirtyBox=!0),P(i,n),!1!==e&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected="undefined"===typeof t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),P(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}}return z.defaultOptions=n,z.types=r.seriesTypes,z.registerType=r.registerSeriesType,T(z.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:a.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:o,requireSorting:!0,sorted:!0}),r.series=z,z})),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{stop:n}=t,{addEvent:r,createElement:l,defined:c,merge:h,pick:d}=o;r(i,"afterSetChartSize",(function(t){var i=this.options.chart.scrollablePlotArea,s=i&&i.minWidth;let a;i=i&&i.minHeight,this.renderer.forExport||(s?(this.scrollablePixelsX=s=Math.max(0,s-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.width=this.plotWidth+=s,this.inverted?this.clipBox.height+=s:this.clipBox.width+=s,a={1:{name:"right",value:s}}):i&&(this.scrollablePixelsY=s=Math.max(0,i-this.chartHeight),c(s)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.height=this.plotHeight+=s,this.inverted?this.clipBox.width+=s:this.clipBox.height+=s,a={2:{name:"bottom",value:s}})),a&&!t.skipAxes&&this.axes.forEach((function(t){a[t.side]?t.getPlotLinePath=function(){let i,s=a[t.side].name,o=this[s];return this[s]=o-a[t.side].value,i=e.prototype.getPlotLinePath.apply(this,arguments),this[s]=o,i}:(t.setAxisSize(),t.setAxisTranslation())})))})),r(i,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){const t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};let e;this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},t,this.scrollingParent),r(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(e=this.hoverPoint),this.pointer.runPointActions(void 0,e,!0))}),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.moveFixedElements=function(){let t,e=this.container,i=this.fixedRenderer,s=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&s.push(t+":not(.highcharts-radial-axis)",t+"-labels:not(.highcharts-radial-axis-labels)"),s.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},i.prototype.applyFixed=function(){var t=!this.fixedDiv,e=this.options.chart,i=e.scrollablePlotArea,s=a.getRendererType();t?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(e.style&&e.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new s(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":d(i.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),r(this,"afterShowResetZoom",this.moveFixedElements),r(this,"afterApplyDrilldown",this.moveFixedElements),r(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||t)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),s=this.chartHeight+(this.scrollablePixelsY||0),n(this.container),this.container.style.width=e+"px",this.container.style.height=s+"px",this.renderer.boxWrapper.attr({width:e,height:s,viewBox:[0,0,e,s].join(" ")}),this.chartBackground.attr({width:e,height:s}),this.scrollingContainer.style.height=this.chartHeight+"px",t&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY)),s=this.axisOffset,t=this.plotTop-s[0]-1,i=this.plotLeft-s[3]-1,e=this.plotTop+this.plotHeight+s[2]+1,s=this.plotLeft+this.plotWidth+s[1]+1;let o=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);t=this.scrollablePixelsX?[["M",0,t],["L",this.plotLeft-1,t],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",o,t],["L",this.chartWidth,t],["L",this.chartWidth,e],["L",o,e],["Z"]]:this.scrollablePixelsY?[["M",i,0],["L",i,this.plotTop-1],["L",s,this.plotTop-1],["L",s,0],["Z"],["M",i,c],["L",i,this.chartHeight],["L",s,this.chartHeight],["L",s,c],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:t})},r(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),r(s,"show",(function(){this.chart.scrollableDirty=!0}))})),e(i,"Core/Axis/Stacking/StackItem.js",[i["Core/FormatUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{format:s}=t,{series:a}=e,{destroyObjectProperties:o,fireEvent:n,isNumber:r,pick:l}=i;class c{constructor(t,e,i,s,a){const o=t.chart.inverted,n=t.reversed;this.axis=t,t=this.isNegative=!!i!==!!n,this.options=e=e||{},this.x=s,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?t?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":t?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(o?t?"right":"left":"center")}destroy(){o(this,this.axis)}render(t){const e=this.axis.chart,i=this.options;var a=i.format;a=a?s(a,this,e):i.formatter.call(this),this.label?this.label.attr({text:a,visibility:"hidden"}):(this.label=e.renderer.label(a,null,void 0,i.shape,void 0,void 0,i.useHTML,!1,"stack-labels"),a={r:i.borderRadius||0,text:a,padding:l(i.padding,5),visibility:"hidden"},e.styledMode||(a.fill=i.backgroundColor,a.stroke=i.borderColor,a["stroke-width"]=i.borderWidth,this.label.css(i.style||{})),this.label.attr(a),this.label.added||this.label.add(t)),this.label.labelrank=e.plotSizeY,n(this,"afterRender")}setOffset(t,e,i,s,o,c){const{alignOptions:h,axis:d,label:u,options:p,textAlign:m}=this,f=d.chart;i=this.getStackBox({xOffset:t,width:e,boxBottom:i,boxTop:s,defaultX:o,xAxis:c});var{verticalAlign:g}=h;if(u&&i){s=u.getBBox(),o=u.padding,c="justify"===l(p.overflow,"justify"),h.x=p.x||0,h.y=p.y||0;const{x:t,y:e}=this.adjustStackPosition({labelBox:s,verticalAlign:g,textAlign:m});i.x-=t,i.y-=e,u.align(h,!1,i),(g=f.isInsidePlot(u.alignAttr.x+h.x+t,u.alignAttr.y+h.y+e))||(c=!1),c&&a.prototype.justifyDataLabel.call(d,u,h,u.alignAttr,s,i),u.attr({x:u.alignAttr.x,y:u.alignAttr.y,rotation:p.rotation,rotationOriginX:s.width/2,rotationOriginY:s.height/2}),l(!c&&p.crop,!0)&&(g=r(u.x)&&r(u.y)&&f.isInsidePlot(u.x-o+u.width,u.y)&&f.isInsidePlot(u.x+o,u.y)),u[g?"show":"hide"]()}n(this,"afterSetOffset",{xOffset:t,width:e})}adjustStackPosition({labelBox:t,verticalAlign:e,textAlign:i}){const s={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:t.width/2+t.width/2*s[i],y:t.height/2*s[e]}}getStackBox(t){var e=this.axis;const i=e.chart,{boxTop:s,defaultX:a,xOffset:o,width:n,boxBottom:c}=t;var h=e.stacking.usePercentage?100:l(s,this.total,0);h=e.toPixels(h),t=t.xAxis||i.xAxis[0];const d=l(a,t.translate(this.x))+o;e=e.toPixels(c||r(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0),e=Math.abs(h-e);const u=this.isNegative;return i.inverted?{x:(u?h:h-e)-i.plotLeft,y:t.height-d-n,width:e,height:n}:{x:d+t.transB-i.plotLeft,y:(u?h-e:h)-i.plotTop,width:n,height:e}}}return c})),e(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){function o(){const t=this,e=t.inverted;t.yAxis.forEach(t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),t.series.forEach(i=>{const s=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==t.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,C(i.options.stack,""),e?s.top:s.left,e?s.height:s.width].join())})}function n(){const t=this.stacking;if(t){var e=t.stacks;k(e,(function(t,i){y(t),e[i]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}}function r(){"yAxis"!==this.coll||this.stacking||(this.stacking=new S(this))}function l(t,e,i,s){return!v(t)||t.x!==e||s&&t.stackKey!==s?t={x:e,index:0,key:s,stackKey:s}:t.index++,t.key=[i,e,t.index].join(),t}function c(){const t=this,e=t.stackKey,i=t.yAxis.stacking.stacks,s=t.processedXData,a=t[t.options.stacking+"Stacker"];let o;a&&[e,"-"+e].forEach(e=>{let n,r=s.length;for(;r--;){var l=s[r];o=t.getStackIndicator(o,l,t.index,e),(n=(l=i[e]&&i[e][l])&&l.points[o.key])&&a.call(t,n,l,r)}})}function h(t,e,i){e=e.total?100/e.total:0,t[0]=g(t[0]*e),t[1]=g(t[1]*e),this.stackedYData[i]=t[1]}function d(){const t=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?m.setStackedPoints.call(this,"group"):t&&k(t.stacks,(e,i)=>{"group"===i.slice(-5)&&(k(e,t=>t.destroy()),delete t.stacks[i])})}function u(t){var e=this.chart;const i=t||this.options.stacking;if(i&&(!0===this.visible||!1===e.options.chart.ignoreHiddenSeries)){var a=this.processedXData,o=this.processedYData,n=[],r=o.length,l=this.options,c=l.threshold,h=C(l.startFromThreshold&&c,0);l=l.stack,t=t?`${this.type},${i}`:this.stackKey;var d="-"+t,u=this.negStacks;e="group"===i?e.yAxis[0]:this.yAxis;var p,m,f=e.stacking.stacks,y=e.stacking.oldStacks;for(e.stacking.stacksTouched+=1,m=0;m<r;m++){var b=a[m],w=o[m],k=this.getStackIndicator(k,b,this.index),S=k.key,A=(p=u&&w<(h?0:c))?d:t;f[A]||(f[A]={}),f[A][b]||(y[A]&&y[A][b]?(f[A][b]=y[A][b],f[A][b].total=null):f[A][b]=new s(e,e.options.stackLabels,!!p,b,l)),A=f[A][b],null!==w?(A.points[S]=A.points[this.index]=[C(A.cumulative,h)],v(A.cumulative)||(A.base=S),A.touched=e.stacking.stacksTouched,0<k.index&&!1===this.singleStacks&&(A.points[S][0]=A.points[this.index+","+b+",0"][0])):A.points[S]=A.points[this.index]=null,"percent"===i?(p=p?t:d,u&&f[p]&&f[p][b]?(p=f[p][b],A.total=p.total=Math.max(p.total,A.total)+Math.abs(w)||0):A.total=g(A.total+(Math.abs(w)||0))):"group"===i?(x(w)&&(w=w[0]),null!==w&&(A.total=(A.total||0)+1)):A.total=g(A.total+(w||0)),A.cumulative="group"===i?(A.total||1)-1:g(C(A.cumulative,h)+(w||0)),null!==w&&(A.points[S].push(A.cumulative),n[m]=A.cumulative,A.hasValidPoints=!0)}"percent"===i&&(e.stacking.usePercentage=!0),"group"!==i&&(this.stackedYData=n),e.stacking.oldStacks={}}}const{getDeferredAnimation:p}=t,{series:{prototype:m}}=i,{addEvent:f,correctFloat:g,defined:v,destroyObjectProperties:y,fireEvent:b,isArray:x,isNumber:w,objectEach:k,pick:C}=a;class S{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){const t=this.axis,e=t.series,i=t.options.reversedStacks,s=e.length;let a,o;for(this.usePercentage=!1,o=s;o--;)a=e[i?o:s-o-1],a.setStackedPoints(),a.setGroupedPoints();for(o=0;o<s;o++)e[o].modifyStacks();b(t,"afterBuildStacks")}cleanStacks(){let t;this.oldStacks&&(t=this.stacks=this.oldStacks),k(t,(function(t){k(t,(function(t){t.cumulative=t.total}))}))}resetStacks(){k(this.stacks,t=>{k(t,(e,i)=>{w(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){var t=this.axis;const e=t.chart,i=e.renderer,s=this.stacks;t=p(e,t.options.stackLabels&&t.options.stackLabels.animation||!1);const a=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();a.translate(e.plotLeft,e.plotTop),k(s,(function(t){k(t,(function(t){t.render(a)}))})),a.animate({opacity:1},t)}}var A;return function(t){const e=[];t.compose=function(t,i,s){a.pushUnique(e,t)&&(f(t,"init",r),f(t,"destroy",n)),a.pushUnique(e,i)&&(i.prototype.getStacks=o),a.pushUnique(e,s)&&(t=s.prototype,t.getStackIndicator=l,t.modifyStacks=c,t.percentStacker=h,t.setGroupedPoints=d,t.setStackedPoints=u)}}(A||(A={})),A})),e(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{defined:s,merge:a}=i;class o extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode;let a=[["graph","highcharts-graph"]];s||a[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),a=t.getZonesGraphs(a),a.forEach((function(a,o){var n=a[0];let r=t[n];const l=r?"animate":"attr";r?(r.endX=t.preventGraphAnimation?null:i.xMap,r.animate({d:i})):i.length&&(t[n]=r=t.chart.renderer.path(i).addClass(a[1]).attr({zIndex:1}).add(t.group)),r&&!s&&(n={stroke:a[2],"stroke-width":e.lineWidth||0,fill:t.fillGraph&&t.color||"none"},a[3]?n.dashstyle=a[3]:"square"!==e.linecap&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),r[l](n).shadow(2>o&&e.shadow)),r&&(r.startX=i.xMap,r.isArea=i.isArea)}))}getGraphPath(t,e,i){const a=this,o=a.options,n=[],r=[];let l,c=o.step;t=t||a.points;const h=t.reversed;return h&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&h&&(c=4-c),t=this.getValidPoints(t,!1,!(o.connectNulls&&!e&&!i)),t.forEach((function(h,d){const u=h.plotX,p=h.plotY,m=t[d-1],f=h.isNull||"number"!==typeof p;(h.leftCliff||m&&m.rightCliff)&&!i&&(l=!0),f&&!s(e)&&0<d?l=!o.connectNulls:f&&!e?l=!0:(0===d||l?d=[["M",h.plotX,h.plotY]]:a.getPointSpline?d=[a.getPointSpline(t,h,d)]:c?(d=1===c?[["L",m.plotX,p]]:2===c?[["L",(m.plotX+u)/2,m.plotY],["L",(m.plotX+u)/2,p]]:[["L",u,m.plotY]],d.push(["L",u,p])):d=[["L",u,p]],r.push(h.x),c&&(r.push(h.x),2===c&&r.push(h.x)),n.push.apply(n,d),l=!1)})),n.xMap=r,a.graphPath=n}getZonesGraphs(t){return this.zones.forEach((function(e,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")],this.chart.styledMode||i.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(i)}),this),t}}return o.defaultOptions=a(t.defaultOptions,{}),e.registerSeriesType("line",o),o})),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{parse:a}=t,{seriesTypes:{line:o}}=i,{extend:n,merge:r,objectEach:l,pick:c}=s;class h extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const t=this,e=this.areaPath,i=this.options,s=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach((function(e,a){s.push(["zone-area-"+a,"highcharts-area highcharts-zone-area-"+a+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])})),s.forEach((function(s){const o=s[0],n={};let r=t[o];const l=r?"animate":"attr";r?(r.endX=t.preventGraphAnimation?null:e.xMap,r.animate({d:e})):(n.zIndex=0,r=t[o]=t.chart.renderer.path(e).addClass(s[1]).add(t.group),r.isArea=!0),t.chart.styledMode||(n.fill=c(s[3],a(s[2]).setOpacity(c(i.fillOpacity,.75)).get())),r[l](n),r.startX=e.xMap,r.shiftUnit=i.step?2:1}))}getGraphPath(t){var e=o.prototype.getGraphPath,i=this.options;const s=i.stacking,a=this.yAxis,n=[],r=[],l=this.index,h=a.stacking.stacks[this.stackKey],d=i.threshold,u=Math.round(a.getThreshold(i.threshold));i=c(i.connectNulls,"percent"===s);var p=function(e,i,o){var c=t[e];e=s&&h[c.x].points[l];const p=c[o+"Null"]||0;let f,g;o=c[o+"Cliff"]||0,c=!0,o||p?(f=(p?e[0]:e[1])+o,g=e[0]+o,c=!!p):!s&&t[i]&&t[i].isNull&&(f=g=d),"undefined"!==typeof f&&(r.push({plotX:m,plotY:null===f?u:a.getThreshold(f),isNull:c,isCliff:!0}),n.push({plotX:m,plotY:null===g?u:a.getThreshold(g),doCurve:!1}))};let m;t=t||this.points,s&&(t=this.getStackPoints(t));for(let o=0,v=t.length;o<v;++o){s||(t[o].leftCliff=t[o].rightCliff=t[o].leftNull=t[o].rightNull=void 0);var f=t[o].isNull;m=c(t[o].rectPlotX,t[o].plotX);var g=s?c(t[o].yBottom,u):u;f&&!i||(i||p(o,o-1,"left"),f&&!s&&i||(r.push(t[o]),n.push({x:o,plotX:m,plotY:g})),i||p(o,o+1,"right"))}return p=e.call(this,r,!0,!0),n.reversed=!0,f=e.call(this,n,!0,!0),(g=f[0])&&"M"===g[0]&&(f[0]=["L",g[1],g[2]]),f=p.concat(f),f.length&&f.push(["Z"]),e=e.call(this,r,!1,i),f.xMap=p.xMap,this.areaPath=f,e}getStackPoints(t){const e=this,i=[],s=[],a=this.xAxis,o=this.yAxis,n=o.stacking.stacks[this.stackKey],r={},h=o.series,d=h.length,u=o.options.reversedStacks?1:-1,p=h.indexOf(e);if(t=t||this.points,this.options.stacking){for(let e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,r[t[e].x]=t[e];l(n,(function(t,e){null!==t.total&&s.push(e)})),s.sort((function(t,e){return t-e}));const m=h.map(t=>t.visible);s.forEach((function(t,l){let f,g,v=0;if(r[t]&&!r[t].isNull)i.push(r[t]),[-1,1].forEach((function(i){const a=1===i?"rightNull":"leftNull",o=n[s[l+i]];let c=0;if(o){let i=p;for(;0<=i&&i<d;){const s=h[i].index;f=o.points[s],f||(s===e.index?r[t][a]=!0:m[i]&&(g=n[t].points[s])&&(c-=g[1]-g[0])),i+=u}}r[t][1===i?"rightCliff":"leftCliff"]=c}));else{let e=p;for(;0<=e&&e<d;){if(f=n[t].points[h[e].index]){v=f[1];break}e+=u}v=c(v,0),v=o.translate(v,0,1,0,1),i.push({isNull:!0,plotX:a.translate(t,0,0,0,1),x:t,plotY:v,yBottom:v})}}))}return i}}return h.defaultOptions=r(o.defaultOptions,{threshold:0}),n(h.prototype,{singleStacks:!1,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("area",h),h})),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e){const{line:i}=t.seriesTypes,{merge:s,pick:a}=e;class o extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(t,e,i){const s=e.plotX||0,o=e.plotY||0,n=t[i-1];let r,l,c;if(i=t[i+1],n&&!n.isNull&&!1!==n.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=n.plotY||0;var h=i.plotX||0;i=i.plotY||0;let a=0;r=(1.5*s+(n.plotX||0))/2.5,l=(1.5*o+t)/2.5,h=(1.5*s+h)/2.5,c=(1.5*o+i)/2.5,h!==r&&(a=(c-l)*(h-s)/(h-r)+o-c),l+=a,c+=a,l>t&&l>o?(l=Math.max(t,o),c=2*o-l):l<t&&l<o&&(l=Math.min(t,o),c=2*o-l),c>i&&c>o?(c=Math.max(i,o),l=2*o-c):c<i&&c<o&&(c=Math.min(i,o),l=2*o-c),e.rightContX=h,e.rightContY=c}return e=["C",a(n.rightContX,n.plotX,0),a(n.rightContY,n.plotY,0),a(r,s,0),a(l,o,0),s,o],n.rightContX=n.rightContY=void 0,e}}return o.defaultOptions=s(i.defaultOptions),t.registerSeriesType("spline",o),o})),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{area:a,area:{prototype:o}}=i.seriesTypes,{extend:n,merge:r}=s;class l extends t{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return l.defaultOptions=r(t.defaultOptions,a.defaultOptions),n(l.prototype,{getGraphPath:o.getGraphPath,getStackPoints:o.getStackPoints,drawGraph:o.drawGraph,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("areaspline",l),l})),e(i,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r){const{animObject:l}=t,{parse:c}=e,{hasTouch:h,noop:d}=s,{clamp:u,defined:p,extend:m,fireEvent:f,isArray:g,isNumber:v,merge:y,pick:b,objectEach:x}=r;class w extends o{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(t){const e=this,i=this.yAxis,s=i.pos,a=e.options,o=this.chart.inverted,n={},r=o?"translateX":"translateY";let c;t?(n.scaleY=.001,t=u(i.toPixels(a.threshold),s,s+i.len),o?n.translateX=t-i.len:n.translateY=t,e.clipBox&&e.setClip(),e.group.attr(n)):(c=Number(e.group.attr(r)),e.group.animate({scaleY:1},m(l(e.options.animation),{step:function(t,i){e.group&&(n[r]=c+i.pos*(s-c),e.group.attr(n))}})))}init(t,e){super.init.apply(this,arguments);const i=this;t=i.chart,t.hasRendered&&t.series.forEach((function(t){t.type===i.type&&(t.isDirty=!0)}))}getColumnMetrics(){const t=this;var e=t.options;const i=t.xAxis,s=t.yAxis;var a=i.options.reversedStacks;a=i.reversed&&!a||!i.reversed&&a;const o={};let n,r=0;!1===e.grouping?r=1:t.chart.series.forEach((function(e){const i=e.yAxis,a=e.options;let l;e.type!==t.type||!e.visible&&t.chart.options.chart.ignoreHiddenSeries||s.len!==i.len||s.pos!==i.pos||(a.stacking&&"group"!==a.stacking?(n=e.stackKey,"undefined"===typeof o[n]&&(o[n]=r++),l=o[n]):!1!==a.grouping&&(l=r++),e.columnIndex=l)}));const l=Math.min(Math.abs(i.transA)*(i.ordinal&&i.ordinal.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*e.groupPadding,h=(l-2*c)/(r||1);return e=Math.min(e.maxPointWidth||i.len,b(e.pointWidth,h*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(h-e)/2+(c+((t.columnIndex||0)+(a?1:0))*h-l/2)*(a?-1:1),paddedWidth:h,columnCount:r},t.columnMetrics}crispCol(t,e,i,s){var a=this.borderWidth,o=-(a%2?.5:0);return a=a%2?.5:1,this.options.crisp&&(i=Math.round(t+i)+o,t=Math.round(t)+o,i-=t),s=Math.round(e+s)+a,o=.5>=Math.abs(e)&&.5<s,e=Math.round(e)+a,s-=e,o&&s&&(--e,s+=1),{x:t,y:e,width:i,height:s}}adjustForMissingColumns(t,e,i,s){const a=this.options.stacking;if(!i.isNull&&1<s.columnCount){const o=this.yAxis.options.reversedStacks;let n=0,r=o?0:-s.columnCount;x(this.yAxis.stacking&&this.yAxis.stacking.stacks,t=>{if("number"===typeof i.x){const e=t[i.x.toString()];e&&(t=e.points[this.index],a?(t&&(n=r),e.hasValidPoints&&(o?r++:r--)):g(t)&&(t=Object.keys(e.points).filter(t=>!t.match(",")&&e.points[t]&&1<e.points[t].length).map(parseFloat).sort((t,e)=>e-t),n=t.indexOf(this.index),r=t.length))}}),t=(i.plotX||0)+((r-1)*s.paddedWidth+e)/2-e-n*s.paddedWidth}return t}translate(){const t=this,e=t.chart,i=t.options;var s=t.dense=2>t.closestPointRange*t.xAxis.transA;s=t.borderWidth=b(i.borderWidth,s?0:1);const a=t.xAxis,n=t.yAxis,r=i.threshold,l=b(i.minPointLength,5),c=t.getColumnMetrics(),h=c.width,d=t.pointXOffset=c.offset,m=t.dataMin,g=t.dataMax;let y=t.barW=Math.max(h,1+2*s),x=t.translatedThreshold=n.getThreshold(r);e.inverted&&(x-=.5),i.pointPadding&&(y=Math.ceil(y)),o.prototype.translate.apply(t),t.points.forEach((function(s){const o=b(s.yBottom,x);var f=999+Math.abs(o),w=s.plotX||0;f=u(s.plotY,-f,n.len+f);let k=Math.min(f,o),C=Math.max(f,o)-k,S=h,A=w+d,T=y;l&&Math.abs(C)<l&&(C=l,w=!n.reversed&&!s.negative||n.reversed&&s.negative,v(r)&&v(g)&&s.y===r&&g<=r&&(n.min||0)<r&&(m!==g||(n.max||0)<=r)&&(w=!w),k=Math.abs(k-x)>l?o-l:x-(w?l:0)),p(s.options.pointWidth)&&(S=T=Math.ceil(s.options.pointWidth),A-=Math.round((S-h)/2)),i.centerInCategory&&(A=t.adjustForMissingColumns(A,S,s,c)),s.barX=A,s.pointWidth=S,s.tooltipPos=e.inverted?[u(n.len+n.pos-e.plotLeft-f,n.pos-e.plotLeft,n.len+n.pos-e.plotLeft),a.len+a.pos-e.plotTop-A-T/2,C]:[a.left-e.plotLeft+A+T/2,u(f+n.pos-e.plotTop,n.pos-e.plotTop,n.len+n.pos-e.plotTop),C],s.shapeType=t.pointClass.prototype.shapeType||"roundedRect",s.shapeArgs=t.crispCol(A,s.isNull?x:k,T,s.isNull?0:C)})),f(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){const i=this.options;var s=this.pointAttrToOptions||{},a=s.stroke||"borderColor";const o=s["stroke-width"]||"borderWidth";let n,r=t&&t.color||this.color,l=t&&t[a]||i[a]||r;s=t&&t.options.dashStyle||i.dashStyle;let h=t&&t[o]||i[o]||this[o]||0,d=b(t&&t.opacity,i.opacity,1);return t&&this.zones.length&&(n=t.getZone(),r=t.options.color||n&&(n.color||t.nonZonedColor)||this.color,n&&(l=n.borderColor||l,s=n.dashStyle||s,h=n.borderWidth||h)),e&&t&&(t=y(i.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,r=t.color||"undefined"!==typeof e&&c(r).brighten(t.brightness).get()||r,l=t[a]||l,h=t[o]||h,s=t.dashStyle||s,d=b(t.opacity,d)),a={fill:r,stroke:l,"stroke-width":h,opacity:d},s&&(a.dashstyle=s),a}drawPoints(t=this.points){const e=this,i=this.chart,s=e.options,a=i.renderer,o=s.animationLimit||250;let n;t.forEach((function(t){let r=t.graphic,l=!!r,c=r&&i.pointCount<o?"animate":"attr";v(t.plotY)&&null!==t.y?(n=t.shapeArgs,r&&t.hasNewShapeType()&&(r=r.destroy()),e.enabledDataSorting&&(t.startXPos=e.xAxis.reversed?-(n&&n.width||0):e.xAxis.width),r||(t.graphic=r=a[t.shapeType](n).add(t.group||e.group))&&e.enabledDataSorting&&i.hasRendered&&i.pointCount<o&&(r.attr({x:t.startXPos}),l=!0,c="animate"),r&&l&&r[c](y(n)),i.styledMode||r[c](e.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&s.shadow),r&&(r.addClass(t.getClassName(),!0),r.attr({visibility:t.visible?"inherit":"hidden"}))):r&&(t.graphic=r.destroy())}))}drawTracker(t=this.points){const e=this,i=e.chart,s=i.pointer,a=function(t){const e=s.getPointFromEvent(t);"undefined"!==typeof e&&(s.isDirectTouch=!0,e.onMouseOver(t))};let o;t.forEach((function(t){o=g(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),o.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",(function(t){s.onTrackerMouseOut(t)})),h&&e[t].on("touchstart",a),!i.styledMode&&e.options.cursor&&e[t].css({cursor:e.options.cursor}))})),e._hasTracking=!0),f(this,"afterDrawTracker")}remove(){const t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),o.prototype.remove.apply(t,arguments)}}return w.defaultOptions=y(o.defaultOptions,i),m(w.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:a.drawRectangle,getSymbol:d,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),n.registerSeriesType("column",w),w})),e(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i){const{getDeferredAnimation:s}=t,{format:a}=e,{defined:o,extend:n,fireEvent:r,isArray:l,isString:c,merge:h,objectEach:d,pick:u,splat:p}=i;var m;return function(t){function e(t,e,i,s,a){const r=this.chart;var l=this.isCartesian&&r.inverted;const c=this.enabledDataSorting;var h=t.plotX,d=t.plotY;const p=i.rotation;var m=i.align;d=o(h)&&o(d)&&r.isInsidePlot(h,Math.round(d),{inverted:l,paneCoordinates:!0,series:this});let f="justify"===u(i.overflow,c?"none":"justify");if(l=this.visible&&!1!==t.visible&&o(h)&&(t.series.forceDL||c&&!f||d||u(i.inside,!!this.options.stacking)&&s&&r.isInsidePlot(h,l?s.x+1:s.y+s.height-1,{inverted:l,paneCoordinates:!0,series:this})),h=t.pos(),l&&h){p&&e.attr({align:m}),m=e.getBBox(!0);var g=[0,0],v=r.renderer.fontMetrics(e).b;if(s=n({x:h[0],y:Math.round(h[1]),width:0,height:0},s),n(i,{width:m.width,height:m.height}),p?(f=!1,g=r.renderer.rotCorr(v,p),v={x:s.x+(i.x||0)+s.width/2+g.x,y:s.y+(i.y||0)+{top:0,middle:.5,bottom:1}[i.verticalAlign]*s.height},g=[m.x-Number(e.attr("x")),m.y-Number(e.attr("y"))],c&&this.xAxis&&!f&&this.setDataLabelStartPos(t,e,a,d,v),e[a?"attr":"animate"](v)):(c&&this.xAxis&&!f&&this.setDataLabelStartPos(t,e,a,d,s),e.align(i,void 0,s),v=e.alignAttr),f&&0<=s.height)this.justifyDataLabel(e,i,v,m,s,a);else if(u(i.crop,!0)){let{x:t,y:e}=v;t+=g[0],e+=g[1],l=r.isInsidePlot(t,e,{paneCoordinates:!0,series:this})&&r.isInsidePlot(t+m.width,e+m.height,{paneCoordinates:!0,series:this})}i.shape&&!p&&e[a?"attr":"animate"]({anchorX:h[0],anchorY:h[1]})}a&&c&&(e.placed=!1),l||c&&!f?e.show():(e.hide(),e.placed=!1)}function m(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}function f(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function g(t){const e=this.hasRendered||0,i=this.initDataLabelsGroup().attr({opacity:+e});return!e&&i&&(this.visible&&i.show(),this.options.animation?i.animate({opacity:1},t):i.attr({opacity:1})),i}function v(t=this.points){const e=this,i=e.chart,n=e.options,h=i.renderer,{backgroundColor:f,plotBackgroundColor:g}=i.options.chart,v=h.getContrast(c(g)&&g||c(f)&&f||"#000000");let y,x,w=n.dataLabels;var k=p(w)[0];const C=k.animation;k=k.defer?s(i,C,e):{defer:0,duration:0},w=b(b(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[e.type]&&i.options.plotOptions[e.type].dataLabels),w),r(this,"drawDataLabels"),(l(w)||w.enabled||e._hasPointLabels)&&(x=this.initDataLabels(k),t.forEach(t=>{y=p(b(w,t.dlOptions||t.options&&t.options.dataLabels)),y.forEach((s,r)=>{const l=s.enabled&&(!t.isNull||t.dataLabelOnNull)&&m(t,s),c=t.connectors?t.connectors[r]:t.connector;let p,f,g=t.dataLabels?t.dataLabels[r]:t.dataLabel,y=!g;const b=u(s.distance,t.labelDistance);if(l){var w=t.getLabelConfig(),k=u(s[t.formatPrefix+"Format"],s.format);if(w=o(k)?a(k,w,i):(s[t.formatPrefix+"Formatter"]||s.formatter).call(w,s),k=s.style,p=s.rotation,i.styledMode||(k.color=u(s.color,k.color,e.color,"#000000"),"contrast"===k.color?(t.contrastColor=h.getContrast(t.color||e.color),k.color=!o(b)&&s.inside||0>b||n.stacking?t.contrastColor:v):delete t.contrastColor,n.cursor&&(k.cursor=n.cursor)),f={r:s.borderRadius||0,rotation:p,padding:s.padding,zIndex:1},!i.styledMode){const{backgroundColor:e,borderColor:i}=s;f.fill="auto"===e?t.color:e,f.stroke="auto"===i?t.color:i,f["stroke-width"]=s.borderWidth}d(f,(function(t,e){"undefined"===typeof t&&delete f[e]}))}!g||l&&o(w)&&!!g.div===!!s.useHTML&&(g.rotation&&s.rotation||g.rotation===s.rotation)||(y=!0,t.dataLabel=g=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[r]),r||delete t.dataLabel,c&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[r]))),l&&o(w)?(g?f.text=w:(t.dataLabels=t.dataLabels||[],g=t.dataLabels[r]=p?h.text(w,0,0,s.useHTML).addClass("highcharts-data-label"):h.label(w,0,0,s.shape,null,null,s.useHTML,null,"data-label"),r||(t.dataLabel=g),g.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(s.className||"")+(s.useHTML?" highcharts-tracker":""))),g.options=s,g.attr(f),i.styledMode||g.css(k).shadow(s.shadow),(r=s[t.formatPrefix+"TextPath"]||s.textPath)&&!s.useHTML&&(g.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(g)||t.graphic,r),t.dataLabelPath&&!r.enabled&&(t.dataLabelPath=t.dataLabelPath.destroy())),g.added||g.add(x),e.alignDataLabel(t,g,s,null,y)):g&&g.hide()})})),r(this,"afterDrawDataLabels")}function y(t,e,i,s,a,o){const n=this.chart,r=e.align,l=e.verticalAlign,c=t.box?0:t.padding||0;let h,d,{x:u=0,y:p=0}=e;return h=(i.x||0)+c,0>h&&("right"===r&&0<=u?(e.align="left",e.inside=!0):u-=h,d=!0),h=(i.x||0)+s.width-c,h>n.plotWidth&&("left"===r&&0>=u?(e.align="right",e.inside=!0):u+=n.plotWidth-h,d=!0),h=i.y+c,0>h&&("bottom"===l&&0<=p?(e.verticalAlign="top",e.inside=!0):p-=h,d=!0),h=(i.y||0)+s.height-c,h>n.plotHeight&&("top"===l&&0>=p?(e.verticalAlign="bottom",e.inside=!0):p+=n.plotHeight-h,d=!0),d&&(e.x=u,e.y=p,t.placed=!o,t.align(e,void 0,a)),d}function b(t,e){let i,s=[];if(l(t)&&!l(e))s=t.map((function(t){return h(t,e)}));else if(l(e)&&!l(t))s=e.map((function(e){return h(t,e)}));else if(l(t)||l(e))for(i=Math.max(t.length,e.length);i--;)s[i]=h(t[i],e[i]);else s=h(t,e);return s}function x(t,e,i,s,a){const o=this.chart,n=o.inverted,r=this.xAxis,l=r.reversed,c=n?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,e.startXPos=n?a.x:l?-c-t:r.width-c+t,e.startYPos=n?l?this.yAxis.height-c+t:-c-t:a.y,s?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),o.hasRendered&&(i&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)}const w=[];t.compose=function(t){i.pushUnique(w,t)&&(t=t.prototype,t.initDataLabelsGroup=f,t.initDataLabels=g,t.alignDataLabel=e,t.drawDataLabels=v,t.justifyDataLabel=y,t.setDataLabelStartPos=x)}}(m||(m={})),m})),e(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{series:s}=e,{merge:a,pick:o}=i;var n;return function(e){function n(t,e,i,n,r){let l=this.chart.inverted;var c=t.series;let h=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0;c=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0;var d=t.dlBox||t.shapeArgs;let u=o(t.below,t.plotY>o(this.translatedThreshold,c)),p=o(i.inside,!!this.options.stacking);d&&(n=a(d),0>n.y&&(n.height+=n.y,n.y=0),d=n.y+n.height-c,0<d&&d<n.height&&(n.height-=d),l&&(n={x:c-n.y-n.height,y:h-n.x-n.width,width:n.height,height:n.width}),p||(l?(n.x+=u?0:n.width,n.width=0):(n.y+=u?n.height:0,n.height=0))),i.align=o(i.align,!l||p?"center":u?"right":"left"),i.verticalAlign=o(i.verticalAlign,l||p?"middle":u?"top":"bottom"),s.prototype.alignDataLabel.call(this,t,e,i,n,r),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}const r=[];e.compose=function(e){t.compose(s),i.pushUnique(r,e)&&(e.prototype.alignDataLabel=n)}}(n||(n={})),n})),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{extend:s,merge:a}=i;class o extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return o.defaultOptions=a(t.defaultOptions,{}),s(o.prototype,{inverted:!0}),e.registerSeriesType("bar",o),o})),e(i,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{column:s,line:a}=e.seriesTypes,{addEvent:o,extend:n,merge:r}=i;class l extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach((function(s,a){["x","y"].forEach((function(o,n){let r,l,c="plot"+o.toUpperCase();if(e[o]&&!s.isNull){var h=t[o+"Axis"];l=e[o]*h.transA,h&&!h.isLog&&(r=Math.max(0,s[c]-l),h=Math.min(h.len,s[c]+l),n=1e4*Math.sin(a+n*i),n-=Math.floor(n),s[c]=r+(h-r)*n,"x"===o&&(s.clientX=s.plotX))}}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=r(a.defaultOptions,t),n(l.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),o(l,"afterTranslate",(function(){this.applyJitter()})),e.registerSeriesType("scatter",l),l})),e(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:s}=t,{fireEvent:a,isNumber:o,pick:n,relativeLength:r}=i;var l;return function(t){t.getCenter=function(){var t=this.options,i=this.chart;const s=2*(t.slicedOffset||0),l=i.plotWidth-2*s,c=i.plotHeight-2*s;var h=t.center;const d=Math.min(l,c),u=t.thickness;var p=t.size;let m=t.innerSize||0;for("string"===typeof p&&(p=parseFloat(p)),"string"===typeof m&&(m=parseFloat(m)),t=[n(h[0],"50%"),n(h[1],"50%"),n(p&&0>p?void 0:t.size,"100%"),n(m&&0>m?void 0:t.innerSize||0,"0%")],!i.angular||this instanceof e||(t[3]=0),h=0;4>h;++h)p=t[h],i=2>h||2===h&&/%$/.test(p),t[h]=r(p,[l,c,d,t[2]][h])+(i?s:0);return t[3]>t[2]&&(t[3]=t[2]),o(u)&&2*u<t[2]&&0<u&&(t[3]=t[2]-2*u),a(this,"afterGetCenter",{positions:t}),t},t.getStartAndEndRadians=function(t,e){return t=o(t)?t:0,e=o(e)&&e>t&&360>e-t?e:t+360,{start:s*(t+-90),end:s*(e+-90)}}}(l||(l={})),l})),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i){const{setAnimation:s}=t,{addEvent:a,defined:o,extend:n,isNumber:r,pick:l,relativeLength:c}=i;class h extends e{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const t=this.labelPosition,e=this.series.options.dataLabels,i=this.connectorShapes;let s=e.connectorShape;return i[s]&&(s=i[s]),s.call(this,{x:t.computed.x,y:t.computed.y,alignment:t.alignment},t.connectorPosition,e)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(t){const e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}init(){super.init.apply(this,arguments),this.name=l(this.name,"Slice");const t=t=>{this.slice("select"===t.type)};return a(this,"select",t),a(this,"unselect",t),this}isValid(){return r(this.y)&&0<=this.y}setVisible(t,e){const i=this.series,s=i.chart,a=i.options.ignoreHiddenPoint;e=l(e,a),t!==this.visible&&(this.visible=this.options.visible=t="undefined"===typeof t?!this.visible:t,i.options.data[i.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(e=>{this[e]&&this[e][t?"show":"hide"](t)}),this.legendItem&&s.legend.colorizeItem(this,t),t||"hover"!==this.state||this.setState(""),a&&(i.isDirty=!0),e&&s.redraw())}slice(t,e,i){const a=this.series;s(i,a.chart),l(e,!0),this.sliced=this.options.sliced=o(t)?t:!this.sliced,a.options.data[a.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return n(h.prototype,{connectorShapes:{fixedOffset:function(t,e,i){const s=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*s.x-e.x,2*s.y-e.y,s.x,s.y]:["L",s.x,s.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,i){const{breakAt:s,touchingSliceAt:a}=e;({series:e}=this);const[o,n,r]=e.center,l=r/2,h=e.chart.plotWidth,d=e.chart.plotLeft;e="left"===t.alignment;const{x:u,y:p}=t;return i.crookDistance?(t=c(i.crookDistance,1),t=e?o+l+(h+d-o-l)*(1-t):d+(o-l)*t):t=o+(n-p)*Math.tan((this.angle||0)-Math.PI/2),i=[["M",u,p]],(e?t<=u&&t>=s.x:t>=u&&t<=s.x)&&i.push(["L",t,p]),i.push(["L",s.x,s.y],["L",a.x,a.y]),i}}}),h})),e(i,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),e(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,n,r,l,c){const{getStartAndEndRadians:h}=t;({noop:i}=i);const{clamp:d,extend:u,fireEvent:p,merge:m,pick:f,relativeLength:g}=c;class v extends n{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(t){const e=this,i=e.points,s=e.startAngleRad;t||i.forEach((function(t){const i=t.graphic,a=t.shapeArgs;i&&a&&(i.attr({r:f(t.startR,e.center&&e.center[3]/2),start:s,end:s}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))}))}drawEmpty(){const t=this.startAngleRad,e=this.endAngleRad,i=this.options;let s,a;0===this.total&&this.center?(s=this.center[0],a=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(s,a,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:l.arc(s,a,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":i.borderWidth,fill:i.fillColor||"none",stroke:i.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i){const s=this.center,a=this.radii?this.radii[i.index]||0:s[2]/2;return t=Math.asin(d((t-s[1])/(a+i.labelDistance),-1,1)),s[0]+(e?-1:1)*Math.cos(t)*(a+i.labelDistance)+(0<i.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const t=this,e=t.chart;let i,s,a,o;this.drawEmpty(),t.group&&!e.styledMode&&t.group.shadow(t.options.shadow),t.points.forEach((function(n){const r={};s=n.graphic,!n.isNull&&s?(o=n.shapeArgs,i=n.getTranslate(),e.styledMode||(a=t.pointAttribs(n,n.selected&&"select")),n.delayedRendering?(s.setRadialReference(t.center).attr(o).attr(i),e.styledMode||s.attr(a).attr({"stroke-linejoin":"round"}),n.delayedRendering=!1):(s.setRadialReference(t.center),e.styledMode||m(!0,r,a),m(!0,r,o,i),s.animate(r)),s.attr({visibility:n.visible?"inherit":"hidden"}),s.addClass(n.getClassName(),!0)):s&&(n.graphic=s.destroy())}))}sortByAngle(t,e){t.sort((function(t,i){return"undefined"!==typeof t.angle&&(i.angle-t.angle)*e}))}translate(t){p(this,"translate"),this.generatePoints();var e=this.options;const i=e.slicedOffset,s=i+(e.borderWidth||0);var a=h(e.startAngle,e.endAngle);const o=this.startAngleRad=a.start;a=(this.endAngleRad=a.end)-o;const n=this.points,r=e.dataLabels.distance;e=e.ignoreHiddenPoint;const l=n.length;let c,d,u,m=0;for(t||(this.center=t=this.getCenter()),d=0;d<l;d++){u=n[d];var v=o+m*a;!u.isValid()||e&&!u.visible||(m+=u.percentage/100);var y=o+m*a,b={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*v)/1e3,end:Math.round(1e3*y)/1e3};u.shapeType="arc",u.shapeArgs=b,u.labelDistance=f(u.options.dataLabels&&u.options.dataLabels.distance,r),u.labelDistance=g(u.labelDistance,b.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,u.labelDistance),y=(y+v)/2,y>1.5*Math.PI?y-=2*Math.PI:y<-Math.PI/2&&(y+=2*Math.PI),u.slicedTranslation={translateX:Math.round(Math.cos(y)*i),translateY:Math.round(Math.sin(y)*i)},b=Math.cos(y)*t[2]/2,c=Math.sin(y)*t[2]/2,u.tooltipPos=[t[0]+.7*b,t[1]+.7*c],u.half=y<-Math.PI/2||y>Math.PI/2?1:0,u.angle=y,v=Math.min(s,u.labelDistance/5),u.labelPosition={natural:{x:t[0]+b+Math.cos(y)*u.labelDistance,y:t[1]+c+Math.sin(y)*u.labelDistance},computed:{},alignment:0>u.labelDistance?"center":u.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+b+Math.cos(y)*v,y:t[1]+c+Math.sin(y)*v},touchingSliceAt:{x:t[0]+b,y:t[1]+c}}}}p(this,"afterTranslate")}updateTotals(){const t=this.points,e=t.length,i=this.options.ignoreHiddenPoint;let s,a,o=0;for(s=0;s<e;s++)a=t[s],!a.isValid()||i&&!a.visible||(o+=a.y);for(this.total=o,s=0;s<e;s++)a=t[s],a.percentage=0<o&&(a.visible||!i)?a.y/o*100:0,a.total=o}}return v.defaultOptions=m(n.defaultOptions,o),u(v.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:s.drawRectangle,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:i,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:a,requireSorting:!1,searchPoint:i,trackerGroups:["group","dataLabelsGroup"]}),r.registerSeriesType("pie",v),v})),e(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{noop:o}=e,{distribute:n}=i,{series:r}=s,{arrayMax:l,clamp:c,defined:h,merge:d,pick:u,relativeLength:p}=a;var m;return function(e){function i(){const t=this,e=t.data,i=t.chart,s=t.options.dataLabels||{},a=s.connectorPadding,o=i.plotWidth,c=i.plotHeight,p=i.plotLeft,m=Math.round(i.chartWidth/3),f=t.center,g=f[2]/2,v=f[1],y=[[],[]],b=[0,0,0,0],x=t.dataLabelPositioners;let w,k,C,S,A,T,I,P,M,L,_,D;t.visible&&(s.enabled||t._hasPointLabels)&&(e.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),r.prototype.drawDataLabels.apply(t),e.forEach((function(t){t.dataLabel&&(t.visible?(y[t.half].push(t),t.dataLabel._pos=null,!h(s.style.width)&&!h(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>m&&(t.dataLabel.css({width:Math.round(.7*m)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),y.forEach((e,r)=>{const l=e.length,d=[];let m,y=0;if(l){if(t.sortByAngle(e,r-.5),0<t.maxLabelDistance){var k=Math.max(0,v-g-t.maxLabelDistance);m=Math.min(v+g+t.maxLabelDistance,i.plotHeight),e.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,v-g-t.labelDistance),t.bottom=Math.min(v+g+t.labelDistance,i.plotHeight),y=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+y/2,size:y,rank:t.y},d.push(t.distributeBox))})),k=m+y-k,n(d,k,k/5)}for(_=0;_<l;_++){if(w=e[_],T=w.labelPosition,S=w.dataLabel,L=!1===w.visible?"hidden":"inherit",M=k=T.natural.y,d&&h(w.distributeBox)&&("undefined"===typeof w.distributeBox.pos?L="hidden":(I=w.distributeBox.size,M=x.radialDistributionY(w))),delete w.positionIndex,s.justify)P=x.justify(w,g,f);else switch(s.alignTo){case"connectors":P=x.alignToConnectors(e,r,o,p);break;case"plotEdges":P=x.alignToPlotEdges(S,r,o,p);break;default:P=x.radialDistributionX(t,w,M,k)}S._attr={visibility:L,align:T.alignment},D=w.options.dataLabels||{},S._pos={x:P+u(D.x,s.x)+({left:a,right:-a}[T.alignment]||0),y:M+u(D.y,s.y)-S.getBBox().height/2},T&&(T.computed.x=P,T.computed.y=M),u(s.crop,!0)&&(A=S.getBBox().width,k=null,P-A<a&&1===r?(k=Math.round(A-P+a),b[3]=Math.max(k,b[3])):P+A>o-a&&0===r&&(k=Math.round(P+A-o+a),b[1]=Math.max(k,b[1])),0>M-I/2?b[0]=Math.max(Math.round(I/2-M),b[0]):M+I/2>c&&(b[2]=Math.max(Math.round(M+I/2-c),b[2])),S.sideOverflow=k)}}}),0===l(b)||this.verifyDataLabelOverflow(b))&&(this.placeDataLabels(),this.points.forEach((function(e){if(D=d(s,e.options.dataLabels),k=u(D.connectorWidth,1)){let s;C=e.connector,(S=e.dataLabel)&&S._pos&&e.visible&&0<e.labelDistance?(L=S._attr.visibility,(s=!C)&&(e.connector=C=i.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(t.dataLabelsGroup),i.styledMode||C.attr({"stroke-width":k,stroke:D.connectorColor||e.color||"#666666"})),C[s?"attr":"animate"]({d:e.getConnectorPath()}),C.attr("visibility",L)):C&&(e.connector=C.destroy())}})))}function s(){this.points.forEach((function(t){let e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999})),delete t.distributeBox}),this)}function m(t){let e,i=this.center,s=this.options,a=s.center,o=s.minSize||80,n=null!==s.size;return n||(null!==a[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?e=c(e,o,i[2]-Math.max(t[0],t[2])):(e=c(e,o,i[2]-t[0]-t[2]),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(s.thickness?Math.max(0,e-2*s.thickness):Math.max(0,p(s.innerSize||0,e)),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):n=!0),n}const f=[],g={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,i,s){return t.getX(i<e.top+2||i>e.bottom-2?s:i,e.half,e)},justify:function(t,e,i){return i[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,i,s){return t=t.getBBox().width,e?t+s:i-t-s},alignToConnectors:function(t,e,i,s){let a,o=0;return t.forEach((function(t){a=t.dataLabel.getBBox().width,a>o&&(o=a)})),e?o+s:i-o-s}};e.compose=function(e){t.compose(r),a.pushUnique(f,e)&&(e=e.prototype,e.dataLabelPositioners=g,e.alignDataLabel=o,e.drawDataLabels=i,e.placeDataLabels=s,e.verifyDataLabelOverflow=m)}}(m||(m={})),m})),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e){let i,s=!1;return t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(t[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:i?"auto":"none"})})),a(e,"afterHideOverlappingLabel")):t.attr({opacity:i})),t.isOld=!0),s}const{addEvent:s,fireEvent:a,isArray:o,isNumber:n,objectEach:r,pick:l}=e;s(t,"render",(function(){let t=this,e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&r(t.stacking.stacks,(function(t){r(t,(function(t){t.label&&e.push(t.label)}))}))})),(this.series||[]).forEach((function(s){var a=s.options.dataLabels;s.visible&&(!1!==a.enabled||s._hasPointLabels)&&(a=s=>s.forEach(s=>{s.visible&&(o(s.dataLabels)?s.dataLabels:s.dataLabel?[s.dataLabel]:[]).forEach((function(a){const o=a.options;a.labelrank=l(o.labelrank,s.labelrank,s.shapeArgs&&s.shapeArgs.height),o.allowOverlap?(a.oldOpacity=a.opacity,a.newOpacity=1,i(a,t)):e.push(a)}))}),a(s.nodes||[]),a(s.points))})),this.hideOverlappingLabels(e)})),t.prototype.hideOverlappingLabels=function(t){let e=this,s=t.length,o=e.renderer;var r;let l,c,h,d,u=!1;var p=function(t){let e,i;var s;let a,r,l=t.box?0:t.padding||0,c=s=0;if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(s=t.getBBox(),t.width=s.width,t.height=s.height,s=o.fontMetrics(t.element).h),a=t.width-2*l,(r={left:"0",center:"0.5",right:"1"}[t.alignValue])?c=+r*a:n(t.x)&&Math.round(t.x)!==t.translateX&&(c=t.x-t.translateX),{x:e.x+(i.translateX||0)+l-(c||0),y:e.y+(i.translateY||0)+l-s,width:t.width-2*l,height:t.height-2*l}};for(l=0;l<s;l++)(r=t[l])&&(r.oldOpacity=r.opacity,r.newOpacity=1,r.absoluteBox=p(r));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),l=0;l<s;l++)for(h=(p=t[l])&&p.absoluteBox,r=l+1;r<s;++r)d=(c=t[r])&&c.absoluteBox,!h||!d||p===c||0===p.newOpacity||0===c.newOpacity||"hidden"===p.visibility||"hidden"===c.visibility||d.x>=h.x+h.width||d.x+d.width<=h.x||d.y>=h.y+h.height||d.y+d.height<=h.y||((p.labelrank<c.labelrank?p:c).newOpacity=0);t.forEach((function(t){i(t,e)&&(u=!0)})),u&&a(e,"afterHideAllOverlappingLabels")}})),e(i,"Extensions/BorderRadius.js",[i["Core/Defaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{defaultOptions:n}=t;({seriesTypes:t}=i);const{addEvent:r,extend:l,isObject:c,merge:h,relativeLength:d}=o,u={radius:0,scope:"stack",where:void 0},p=(t,e)=>(c(t)||(t={radius:t||0}),h(u,e,t));if(-1===s.symbolCustomAttribs.indexOf("borderRadius")){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const i=a.prototype.symbols.arc;a.prototype.symbols.arc=function(t,e,s,a,o={}){t=i(t,e,s,a,o);const{innerR:n=0,r:r=s,start:l=0,end:c=0}=o;if(o.open||!o.borderRadius)return t;for(s=c-l,e=Math.sin(s/2),o=Math.max(Math.min(d(o.borderRadius||0,r-n),(r-n)/2,r*e/(1+e)),0),s=Math.min(o,s/Math.PI*2*n),e=t.length-1;e--;){let i=void 0,n=void 0,r=void 0;a=t;var h=e,u=1<e?s:o,p=a[h],m=a[h+1];if("Z"===m[0]&&(m=a[0]),"M"!==p[0]&&"L"!==p[0]||"A"!==m[0]?"A"!==p[0]||"M"!==m[0]&&"L"!==m[0]||(r=m,n=p):(r=p,n=m,i=!0),r&&n&&n.params){p=n[1];var f=n[5];m=n.params;const{start:t,end:e,cx:s,cy:o}=m;var g=f?p-u:p+u;const l=g?Math.asin(u/g):0;f=f?l:-l,g*=Math.cos(l),i?(m.start=t+f,r[1]=s+g*Math.cos(t),r[2]=o+g*Math.sin(t),a.splice(h+1,0,["A",u,u,0,0,1,s+p*Math.cos(m.start),o+p*Math.sin(m.start)])):(m.end=e-f,n[6]=s+p*Math.cos(m.end),n[7]=o+p*Math.sin(m.end),a.splice(h+1,0,["A",u,u,0,0,1,s+g*Math.cos(e),o+g*Math.sin(e)])),n[4]=Math.abs(m.end-m.start)<Math.PI?0:1}}return t};const o=a.prototype.symbols.roundedRect;a.prototype.symbols.roundedRect=function(t,e,i,s,a={}){const n=o(t,e,i,s,a),{r:r=0,brBoxHeight:l=s,brBoxY:c=e}=a;var h=e-c,d=c+l-(e+s);a=-.1<h-r?0:r;const u=-.1<d-r?0:r;var p=Math.max(a&&h,0);const m=Math.max(u&&d,0);d=[t+a,e],h=[t+i-a,e];const f=[t+i,e+a],g=[t+i,e+s-u],v=[t+i-u,e+s],y=[t+u,e+s],b=[t,e+s-u],x=[t,e+a];if(p){const t=Math.sqrt(Math.pow(a,2)-Math.pow(a-p,2));d[0]-=t,h[0]+=t,f[1]=x[1]=e+a-p}return s<a-p&&(p=Math.sqrt(Math.pow(a,2)-Math.pow(a-p-s,2)),f[0]=g[0]=t+i-a+p,v[0]=Math.min(f[0],v[0]),y[0]=Math.max(g[0],y[0]),b[0]=x[0]=t+a-p,f[1]=x[1]=e+s),m&&(p=Math.sqrt(Math.pow(u,2)-Math.pow(u-m,2)),v[0]+=p,y[0]-=p,g[1]=b[1]=e+s-u+m),s<u-m&&(s=Math.sqrt(Math.pow(u,2)-Math.pow(u-m-s,2)),f[0]=g[0]=t+i-u+s,h[0]=Math.min(f[0],h[0]),d[0]=Math.max(g[0],d[0]),b[0]=x[0]=t+u-s,g[1]=b[1]=e),n.length=0,n.push(["M",...d],["L",...h],["A",a,a,0,0,1,...f],["L",...g],["A",u,u,0,0,1,...v],["L",...y],["A",u,u,0,0,1,...b],["L",...x],["A",a,a,0,0,1,...d],["Z"]),n},r(t.pie,"afterTranslate",(function(){const t=p(this.options.borderRadius);for(const e of this.points){const i=e.shapeArgs;i&&(i.borderRadius=d(t.radius,(i.r||0)-(i.innerR||0)))}})),r(e,"afterColumnTranslate",(function(){var t,e;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:o,yAxis:r}=this,h="percent"===o.stacking;var i=null===(e=null===(t=n.plotOptions)||void 0===t?void 0:t[this.type])||void 0===e?void 0:e.borderRadius;t=p(o.borderRadius,c(i)?i:{}),e=r.options.reversed;for(const n of this.points)if(({shapeArgs:i}=n),"roundedRect"===n.shapeType&&i){const{width:c=0,height:u=0,y:p=0}=i;var s=p,a=u;"stack"===t.scope&&n.stackTotal&&(s=r.translate(h?100:n.stackTotal,!1,!0,!1,!0),a=r.translate(o.threshold||0,!1,!0,!1,!0),a=this.crispCol(0,Math.min(s,a),0,Math.abs(s-a)),s=a.y,a=a.height);const m=-1===(n.negative?-1:1)*(e?-1:1);let f=t.where;!f&&this.is("waterfall")&&Math.abs((n.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(f="all"),f||(f="end");const g=Math.min(d(t.radius,c),c/2,"all"===f?u/2:1/0)||0;"end"===f&&(m&&(s-=g),a+=g),l(i,{brBoxHeight:a,brBoxY:s,r:g})}}}),{order:9})}return e={optionsToObject:p},e})),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,find:i,isArray:s,isObject:a,merge:o,objectEach:n,pick:r,splat:l,uniqueKey:c}=t;var h;return function(h){function d(t){function e(t,o,r,c){let h;n(t,(function(t,n){if(!c&&-1<i.collectionsWithUpdate.indexOf(n)&&o[n])for(t=l(t),r[n]=[],h=0;h<Math.max(t.length,o[n].length);h++)o[n][h]&&(void 0===t[h]?r[n][h]=o[n][h]:(r[n][h]={},e(t[h],o[n][h],r[n][h],c+1)));else a(t)?(r[n]=s(t)?[]:{},e(t,o[n]||{},r[n],c+1)):r[n]="undefined"===typeof o[n]?null:o[n]}))}const i=this,o={};return e(t,this.options,o,0),o}function u(t,e){const i=t.condition;(i.callback||function(){return this.chartWidth<=r(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(i.minWidth,0)&&this.chartHeight>=r(i.minHeight,0)}).call(this)&&e.push(t._id)}function p(t,e){const s=this.options.responsive;var a=this.currentResponsive;let n=[];!e&&s&&s.rules&&s.rules.forEach(t=>{"undefined"===typeof t._id&&(t._id=c()),this.matchResponsiveRule(t,n)},this),e=o(...n.map(t=>i((s||{}).rules||[],e=>e._id===t)).map(t=>t&&t.chartOptions)),e.isResponsiveOptions=!0,n=n.toString()||void 0,n!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,t,!0),n?(a=this.currentOptions(e),a.isResponsiveOptions=!0,this.currentResponsive={ruleIds:n,mergedOptions:e,undoOptions:a},this.update(e,t,!0)):this.currentResponsive=void 0)}const m=[];h.compose=function(i){return t.pushUnique(m,i)&&e(i.prototype,{currentOptions:d,matchResponsiveRule:u,setResponsive:p}),i}}(h||(h={})),h})),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],(function(t,e,i,s,a,o,n,r,l,c,h,d,u,p,m,f,g,v,y,b,x,w,k,C,S,A,T,I,P,M,L,_,D,F){return t.animate=a.animate,t.animObject=a.animObject,t.getDeferredAnimation=a.getDeferredAnimation,t.setAnimation=a.setAnimation,t.stop=a.stop,t.timers=s.timers,t.AST=o,t.Axis=u,t.Chart=w,t.chart=w.chart,t.Fx=s,t.Legend=x,t.PlotLineOrBand=f,t.Point=y,t.Pointer=b,t.Series=S,t.StackItem=C,t.SVGElement=l,t.SVGRenderer=c,t.Tick=g,t.Time=F,t.Tooltip=v,t.Color=D,t.color=D.parse,d.compose(c),h.compose(l),b.compose(w),x.compose(w),t.defaultOptions=i.defaultOptions,t.getOptions=i.getOptions,t.time=i.defaultTime,t.setOptions=i.setOptions,t.dateFormat=n.dateFormat,t.format=n.format,t.numberFormat=n.numberFormat,t.addEvent=e.addEvent,t.arrayMax=e.arrayMax,t.arrayMin=e.arrayMin,t.attr=e.attr,t.clearTimeout=e.clearTimeout,t.correctFloat=e.correctFloat,t.createElement=e.createElement,t.css=e.css,t.defined=e.defined,t.destroyObjectProperties=e.destroyObjectProperties,t.discardElement=e.discardElement,t.distribute=r.distribute,t.erase=e.erase,t.error=e.error,t.extend=e.extend,t.extendClass=e.extendClass,t.find=e.find,t.fireEvent=e.fireEvent,t.getMagnitude=e.getMagnitude,t.getStyle=e.getStyle,t.inArray=e.inArray,t.isArray=e.isArray,t.isClass=e.isClass,t.isDOMElement=e.isDOMElement,t.isFunction=e.isFunction,t.isNumber=e.isNumber,t.isObject=e.isObject,t.isString=e.isString,t.keys=e.keys,t.merge=e.merge,t.normalizeTickInterval=e.normalizeTickInterval,t.objectEach=e.objectEach,t.offset=e.offset,t.pad=e.pad,t.pick=e.pick,t.pInt=e.pInt,t.relativeLength=e.relativeLength,t.removeEvent=e.removeEvent,t.seriesType=A.seriesType,t.splat=e.splat,t.stableSort=e.stableSort,t.syncTimeout=e.syncTimeout,t.timeUnits=e.timeUnits,t.uniqueKey=e.uniqueKey,t.useSerialIds=e.useSerialIds,t.wrap=e.wrap,I.compose(T),L.compose(S),p.compose(u),m.compose(u),M.compose(P),f.compose(u),_.compose(w),k.compose(u,w,S),v.compose(b),t})),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]}))},ec15:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[!i.name||i.hasOwnProperty("visible")&&!i.show?t._e():[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()])])]:t._e()]}))],2)],1)]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}})],1)},a=[],o=(i("14d9"),i("13d5"),i("381e")),n=i("5e23"),r=i("1b0d"),l=i("fa1f"),c=i("a7d2"),h=i("dd90"),d=i("abe1"),u=i("bc3a"),p=i.n(u),m=i("ee54"),f=i("9996"),g=i("869e"),v=i("cade"),y={name:"Attachments",components:{Sheet:o["a"],EmailSharing:n["a"],FileIcon:l["a"],FileDetails:d["a"],MetaDataEdit:m["a"],CheckboxField:g["a"],ListItem:v["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formCheckList:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},wform:{type:Object,default:()=>{}},repositoryDetails:{type:Object,default:()=>{}},workflowModel:{type:Object,default:()=>{}},formUploadFiles:{type:Array,default:()=>[]},formFields:{type:Array,default:()=>[]},repositoryField:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},attachments:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},isPortal:{type:Boolean,default:!1}},data(){return{attachmentSheet:!1,attachmentList:[],selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],checkListRowIndex:0,selectedFile:{},mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,watchViewerClose:null,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],uploadFilename:"",showMetaDataEditModal:!1,selectedUploadFile:{},documentLoad:null,documentLoadList:[],metaDataModal:{},metaDataTitle:"",selectedCheckListName:""}},computed:{selectedFileCount(){this.clearAttach();let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t}},watch:{value:{immediate:!0,handler(){if(this.value)if(this.attachmentSheet=!0,this.attachmentList=this.attachments,this.attachmentSheet&&this.selectedProcess.processId){if(this.getAttachments(),this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}}},methods:{async getAttachments(t=0,e=0){let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await r["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.$emit("attachmentCount",this.attachmentList.length)):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.selectedProcess.attachmentCount!==this.attachmentList.length&&this.$emit("update:formCheckList",!0)}},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&3===this.$store.state.session.tenantId},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await r["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},clearAttach(){console.log("clear")},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click(),this.selectedCheckListName=this.checkList.find(e=>t==e.uid).name},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},getLabel(t){let e="",i=this.wform.formJson?JSON.parse(this.wform.formJson):this.wform;const s=[...i.panels,...i.secondaryPanels];if(!s.length)return;let a=[];for(const o of s)a.push(...o.fields);return a.forEach(i=>{const s=i.settings.specific.tableColumns.find(e=>e.id===t);if(s)e=s.label;else if(i.id===t)return void(e=i.label)}),e},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,this.isTenantArmgroup()?window.open(this.fileLink()):this.fileSheet=!0)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(h["d"])(e))s=this.isTenantArmgroup()?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="",s="";if("inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(s="&action=all"),Object(h["d"])(e))this.isTenantArmgroup()?(s="",i="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):"https://trial.ezofis.com"!==t||Object(h["c"])(e)?i=this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":(localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="https://trial.ezofis.com/docsviewer/index.html");else{if(Object(h["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${s}`}}},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(h["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await r["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getFileData(t,e){const{error:i,payload:s}=await r["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.$emit("attachmentCount",this.attachmentList.length-1),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await r["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await r["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(this.fileSheet=!1,localStorage.removeItem("viewerClose"),clearInterval(this.watchViewerClose),this.workflow.initiatedBy)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflowId||2092===this.workflowId)&&0===this.attachmentList.length},async uploadWflowAttachments(t){if("STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;const e=this.repositoryField.reduce((t,e)=>e.level>t.level?e:t,this.repositoryField[0]),i=e.id,s=this.fileData.find(t=>i==t.id);if(!this.selectedCheckListName){const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length?s&&(s.value=""):(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName")),this.showMetaDataEditModal=!0}if(this.selectedCheckListName){s&&(s.value=this.selectedCheckListName);const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length||(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName"));const i=this.repositoryField.filter(t=>!0===t.isMandatory).map(t=>t.id),a=i.every(t=>{const e=this.fileData.find(e=>e.id===t);return e&&""!==e.value});if(this.showMetaDataEditModal=!a,a){const t={};this.fileData.forEach(e=>{t[e.name]=""!==e.value?e.value:""}),console.log(t,"New Object"),this.saveMetaData(t)}else this.showMetaDataEditModal=!0;this.selectedCheckListName=""}}else this.uploadAttachments(t)},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflowId),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),e?a.append("fields",e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const n=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+n),o=t[0].name+"."+n}if(!Object(h["a"])(n))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await p()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const n=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+n),o=t[0].name+"."+n}else a.append("filename",o);if(!Object(h["a"])(n))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const i=await p()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBar");const{status:r,data:l}=i;if(200!==r)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let h=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),d=this.fileData.find(t=>t.name===h.name),u=!1;"pdf"!==n.toLowerCase()&&(u=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?d.value+"."+n:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:u}),this.$emit("attachmentCount",this.attachmentList.length),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments&&(this.$refs.attachments.value=null)},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(f["a"])(e.label)===Object(f["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},closeAttachmentsSheet(){this.attachmentSheet=!1,this.$emit("update:attachments",this.attachmentList),this.$emit("attachmentCount",this.attachmentList.length),this.$emit("update:value",!1)}}},b=y,x=(i("11f5"),i("2877")),w=i("b047"),k=i("cb32"),C=i("4e73"),S=i("93dc"),A=i.n(S),T=Object(x["a"])(b,s,a,!1,null,"dc5d287e",null);e["a"]=T.exports;A()(T,"components",{QChip:w["a"],QAvatar:k["a"],QMenu:C["a"]})},ee16:function(t,e,i){},ee26:function(t,e,i){"use strict";i("cbc3")},ee54:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[t.editFromFileSheet?t._e():t._l(t._repositoryField,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:i,"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:t.fieldsModel[i.name],callback:function(e){t.$set(t.fieldsModel,i.name,e)},expression:"fieldsModel[field.name]"}})]]],2)})),t.editFromFileSheet?t._l(t.fieldsModalData,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:t.getField(i.fieldId),"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:i.newValue,callback:function(e){t.$set(i,"newValue",e)},expression:"field.newValue"}})]]],2)})):t._e()],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.save}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),n=i("6a70"),r=i("7794"),l=i("9996"),c=i("7ee8"),h={name:"MetaDataEdit",components:{Modal:n["a"],ValidationObserver:o["a"],RepositoryField:r["a"]},props:{value:{type:Boolean,default:!1},file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},fileData:{type:Array,required:!0},title:{type:String,default:"Metadata Edit"},columns:{type:Array,default:()=>[]},modalValue:{type:Object,default:()=>{}},readOnly:{type:Boolean,default:!1},uploadFilename:{type:String,default:""},editFromFileSheet:{type:Boolean,default:!1},metaDataFields:{type:Object,default:()=>{}}},data(){return{fieldsModel:{},fieldsModalData:[]}},computed:{_repositoryField(){return this.repositoryField.map(t=>({...t,options:t.options?JSON.parse(t.options):[]}))}},watch:{fileData:{immediate:!0,deep:!0,async handler(){this.editFromFileSheet?(this.fieldsModalData=[],this.fileData.length&&this.fileData.forEach(t=>{this.fieldsModalData.push({fieldId:t.id,oldValue:t.value,newValue:t.value})})):this.processFieldsModel()}},value(){this.value&&this.processFieldsModel()}},methods:{processFieldsModel(){if(this.fieldsModel={},this.fileData.length?this.fileData.forEach(t=>{this.$set(this.fieldsModel,t.name,t.value)}):this._repositoryField.forEach(t=>{let e=this.columns.find(e=>Object(l["a"])(e.label)===Object(l["a"])(t.name));e?this.modalValue.formData?this.$set(this.fieldsModel,t.name,this.modalValue.formData.fields[e.id]):this.modalValue[e.name]?this.$set(this.fieldsModel,t.name,this.modalValue[e.name]):this.modalValue[e.id]&&this.$set(this.fieldsModel,t.name,this.modalValue[e.id]):Object(c["a"])(this.metaDataFields)?this.$set(this.fieldsModel,t.name,""):this.$set(this.fieldsModel,t.name,this.metaDataFields[t.name])}),this.uploadFilename){let t=this.uploadFilename.substring(0,this.uploadFilename.lastIndexOf(".")),e=this._repositoryField.find(t=>"filename"==t.name.toLowerCase());e&&this.$set(this.fieldsModel,e.name,t)}},closeModal(){this.$emit("close",!1)},async save(){const t=await this.$refs.form.validate();t&&(this.$emit("save",this.editFromFileSheet?this.fieldsModalData:this.fieldsModel),this.$emit("close",!1))},getField(t){let e=this._repositoryField.find(e=>t===e.id);if(e)return e}}},d=h,u=(i("4697"),i("2877")),p=Object(u["a"])(d,s,a,!1,null,"059cbd7c",null);e["a"]=p.exports},ef04:function(t,e,i){},f2ec:function(t,e,i){},f6de:function(t,e,i){},fa79:function(t,e,i){"use strict";i("3002")},fb47:function(t,e,i){"use strict";i("1483")},fdd5:function(t,e,i){"use strict";i("4d38")}}]);
//# sourceMappingURL=workflows-overview.64475da9.js.map