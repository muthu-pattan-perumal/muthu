{"version":3,"sources":["webpack:///./src/views/portals/views/PortalsSignIn.vue?58ad","webpack:///./src/views/portals/views/PortalsSignIn.vue","webpack:///src/views/portals/views/PortalsSignIn.vue","webpack:///./src/views/portals/views/PortalsSignIn.vue?d008","webpack:///./src/views/portals/views/PortalsSignIn.vue?7fb0"],"names":["render","_vm","this","_c","_self","attrs","tenantId","portalId","staticClass","_v","loginType","passwordTypes","ref","required","scopedSlots","_u","key","fn","errors","isLoading","on","validate","model","value","username","callback","$$v","expression","password","_passwordHint","error","_e","settings","logged","showSocialLogin","userFieldError","checkTenant","normalLogin","validateSignIn","email","validateEmail","socialLogin","length","masterSocialLogin","staticRenderFns","name","components","AuthLayout","ValidationObserver","ValidationProvider","TextField","PasswordField","EmailAuthentication","MobileAuthentication","OrDivider","SocialAuths","FormFieldError","Email","Password","props","type","data","portalWidth","submissionModal","isFocused","title","description","computed","origin","watch","immediate","handler","methods","toggleWidth","url","method","status","console","formId","emailColumn","passwordColumn","nameColumn","loggedFrom","clientId","auth","redirectUri","scopes","loginHint","component"],"mappings":"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","file":"js/portal-sigin.50f636ce.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalsSignIn.vue?vue&type=style&index=0&id=7f6204bb&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AuthLayout',{attrs:{\"tenant-id\":_vm.tenantId,\"portal-id\":_vm.portalId}},[_c('div',{attrs:{\"id\":\"portals-sigin\"}},[_c('div',{staticClass:\"description\"},[_vm._v(\"Hi, Welcome!\")]),_c('div',{staticClass:\"title\"},[_vm._v(\"Sign in to your account\")]),_c('div',{staticClass:\"col\"},[(_vm.loginType === 'MASTER_LOGIN' && _vm.passwordTypes === 'PASSWORD')?[_c('div',{attrs:{\"id\":\"masterLogin\"}},[_c('ValidationObserver',{ref:\"form\"},[_c('ValidationProvider',{attrs:{\"name\":\"username\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{staticClass:\"q-mb-md\",attrs:{\"label\":\"username\",\"is-mandatory\":\"\",\"auto-focus\":true,\"is-readonly\":_vm.isLoading,\"error\":errors[0]},on:{\"enter\":_vm.validate},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})]}}],null,false,3070910777)}),_c('ValidationProvider',{attrs:{\"name\":\"password\",\"rules\":{ required: true, password: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('PasswordField',{staticClass:\"q-mb-md\",attrs:{\"label\":\"password\",\"is-mandatory\":\"\",\"is-readonly\":_vm.isLoading,\"tooltip\":_vm._passwordHint,\"error\":errors[0]},on:{\"enter\":_vm.validate},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})]}}],null,false,3748459213)})],1),_c('div',{staticClass:\"row items-center\"},[_c('div',{attrs:{\"id\":\"forgot-password\"}},[_vm._v(\"Forgot password?\")])]),_c('BaseButton',{staticClass:\"sign-in-btn\",attrs:{\"label\":\"sign in\",\"is-loading\":_vm.isLoading},on:{\"click\":_vm.validate}}),(_vm.error)?_c('FormFieldError',{staticClass:\"text-center\",attrs:{\"error\":_vm.error}}):_vm._e()],1)]:(\n          _vm.loginType === 'EMAIL_LOGIN' ||\n          (_vm.loginType === 'MASTER_LOGIN' &&\n            (_vm.passwordTypes === 'OTP' || _vm.passwordTypes === 'SOCIAL_LOGIN'))\n        )?[_c('EmailAuthentication',{attrs:{\"label\":\"Email\",\"tenant-id\":_vm.tenantId,\"portal-id\":_vm.portalId,\"login-type\":_vm.loginType,\"settings\":_vm.settings,\"password-types\":_vm.passwordTypes},on:{\"logged\":_vm.logged,\"showSocialLogin\":_vm.showSocialLogin,\"error\":_vm.userFieldError}}),(_vm.error)?_c('FormFieldError',{staticClass:\"text-center\",attrs:{\"error\":_vm.error}}):_vm._e()]:(_vm.loginType === 'MOBILE_LOGIN')?[_c('MobileAuthentication',{attrs:{\"label\":\"Mobile\",\"otp-verify\":false}})]:(_vm.loginType === 'APP_LOGIN')?[(_vm.checkTenant)?[(!_vm.normalLogin)?[_c('ValidationObserver',{ref:\"tenant\"},[_c('Email',{attrs:{\"is-loading\":_vm.isLoading},on:{\"enter\":_vm.validateEmail},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('BaseButton',{staticClass:\"sign-in-btn\",attrs:{\"label\":\"continue\",\"is-loading\":_vm.isLoading},on:{\"click\":_vm.validateEmail}})],1),(_vm.error)?_c('FormFieldError',{staticClass:\"text-center\",attrs:{\"error\":_vm.error}}):_vm._e()]:[_c('ValidationObserver',{ref:\"form\"},[_c('Email',{attrs:{\"is-loading\":_vm.isLoading},on:{\"enter\":_vm.validateSignIn},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('Password',{attrs:{\"is-loading\":_vm.isLoading},on:{\"enter\":_vm.validateSignIn},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('BaseButton',{staticClass:\"sign-in-btn\",attrs:{\"label\":\"sign in\",\"is-loading\":_vm.isLoading},on:{\"click\":_vm.validateSignIn}})],1),(_vm.error)?_c('FormFieldError',{staticClass:\"text-center\",attrs:{\"error\":_vm.error}}):_vm._e()]]:[_c('ValidationObserver',{ref:\"form\"},[_c('Email',{attrs:{\"is-loading\":_vm.isLoading},on:{\"enter\":_vm.validateSignIn},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('Password',{attrs:{\"is-loading\":_vm.isLoading},on:{\"enter\":_vm.validateSignIn},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('BaseButton',{staticClass:\"sign-in-btn\",attrs:{\"label\":\"sign in\",\"is-loading\":_vm.isLoading},on:{\"click\":_vm.validateSignIn}}),(_vm.error)?_c('FormFieldError',{staticClass:\"text-center\",attrs:{\"error\":_vm.error}}):_vm._e()]]:_vm._e(),(_vm.loginType === 'APP_LOGIN' && _vm.socialLogin.length)?[_c('OrDivider'),_c('SocialAuths',{attrs:{\"logged-from\":\"PORTAL\",\"tenant-id\":_vm.tenantId,\"social-login-list\":_vm.socialLogin},on:{\"logged\":_vm.logged}})]:_vm._e(),(_vm.masterSocialLogin)?[_c('OrDivider'),_c('SocialAuths',{attrs:{\"logged-from\":\"PORTAL\",\"tenant-id\":_vm.tenantId,\"social-login-list\":_vm.socialLogin},on:{\"logged\":_vm.logged}})]:_vm._e()],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <AuthLayout :tenant-id=\"tenantId\" :portal-id=\"portalId\">\n    <div id=\"portals-sigin\">\n      <div class=\"description\">Hi, Welcome!</div>\n      <div class=\"title\">Sign in to your account</div>\n      <!-- portal form -->\n      <div class=\"col\">\n        <template\n          v-if=\"loginType === 'MASTER_LOGIN' && passwordTypes === 'PASSWORD'\"\n        >\n          <div id=\"masterLogin\">\n            <ValidationObserver ref=\"form\">\n              <ValidationProvider\n                v-slot=\"{ errors }\"\n                name=\"username\"\n                :rules=\"{ required: true }\"\n              >\n                <TextField\n                  v-model=\"username\"\n                  label=\"username\"\n                  is-mandatory\n                  :auto-focus=\"true\"\n                  :is-readonly=\"isLoading\"\n                  :error=\"errors[0]\"\n                  class=\"q-mb-md\"\n                  @enter=\"validate\"\n                />\n              </ValidationProvider>\n              <ValidationProvider\n                v-slot=\"{ errors }\"\n                name=\"password\"\n                :rules=\"{ required: true, password: true }\"\n              >\n                <PasswordField\n                  v-model=\"password\"\n                  label=\"password\"\n                  is-mandatory\n                  :is-readonly=\"isLoading\"\n                  :tooltip=\"_passwordHint\"\n                  :error=\"errors[0]\"\n                  class=\"q-mb-md\"\n                  @enter=\"validate\"\n                />\n              </ValidationProvider>\n            </ValidationObserver>\n\n            <div class=\"row items-center\">\n              <div id=\"forgot-password\">Forgot password?</div>\n            </div>\n\n            <BaseButton\n              label=\"sign in\"\n              :is-loading=\"isLoading\"\n              class=\"sign-in-btn\"\n              @click=\"validate\"\n            />\n\n            <FormFieldError v-if=\"error\" :error=\"error\" class=\"text-center\" />\n          </div>\n        </template>\n        <template\n          v-else-if=\"\n            loginType === 'EMAIL_LOGIN' ||\n            (loginType === 'MASTER_LOGIN' &&\n              (passwordTypes === 'OTP' || passwordTypes === 'SOCIAL_LOGIN'))\n          \"\n        >\n          <EmailAuthentication\n            label=\"Email\"\n            :tenant-id=\"tenantId\"\n            :portal-id=\"portalId\"\n            :login-type=\"loginType\"\n            :settings=\"settings\"\n            :password-types=\"passwordTypes\"\n            @logged=\"logged\"\n            @showSocialLogin=\"showSocialLogin\"\n            @error=\"userFieldError\"\n          />\n\n          <FormFieldError v-if=\"error\" :error=\"error\" class=\"text-center\" />\n        </template>\n        <template v-else-if=\"loginType === 'MOBILE_LOGIN'\">\n          <MobileAuthentication label=\"Mobile\" :otp-verify=\"false\" />\n        </template>\n        <template v-else-if=\"loginType === 'APP_LOGIN'\">\n          <template v-if=\"checkTenant\">\n            <template v-if=\"!normalLogin\">\n              <ValidationObserver ref=\"tenant\">\n                <Email\n                  v-model=\"email\"\n                  :is-loading=\"isLoading\"\n                  @enter=\"validateEmail\"\n                />\n\n                <BaseButton\n                  label=\"continue\"\n                  :is-loading=\"isLoading\"\n                  class=\"sign-in-btn\"\n                  @click=\"validateEmail\"\n                />\n              </ValidationObserver>\n\n              <FormFieldError v-if=\"error\" :error=\"error\" class=\"text-center\" />\n            </template>\n            <template v-else>\n              <ValidationObserver ref=\"form\">\n                <Email\n                  v-model=\"email\"\n                  :is-loading=\"isLoading\"\n                  @enter=\"validateSignIn\"\n                />\n\n                <Password\n                  v-model=\"password\"\n                  :is-loading=\"isLoading\"\n                  @enter=\"validateSignIn\"\n                />\n\n                <BaseButton\n                  label=\"sign in\"\n                  :is-loading=\"isLoading\"\n                  class=\"sign-in-btn\"\n                  @click=\"validateSignIn\"\n                />\n              </ValidationObserver>\n\n              <FormFieldError v-if=\"error\" :error=\"error\" class=\"text-center\" />\n            </template>\n          </template>\n          <template v-else>\n            <ValidationObserver ref=\"form\">\n              <Email\n                v-model=\"email\"\n                :is-loading=\"isLoading\"\n                @enter=\"validateSignIn\"\n              />\n              <Password\n                v-model=\"password\"\n                :is-loading=\"isLoading\"\n                @enter=\"validateSignIn\"\n              />\n            </ValidationObserver>\n\n            <BaseButton\n              label=\"sign in\"\n              :is-loading=\"isLoading\"\n              class=\"sign-in-btn\"\n              @click=\"validateSignIn\"\n            />\n\n            <FormFieldError v-if=\"error\" :error=\"error\" class=\"text-center\" />\n          </template>\n        </template>\n        <template v-if=\"loginType === 'APP_LOGIN' && socialLogin.length\">\n          <OrDivider />\n          <SocialAuths\n            logged-from=\"PORTAL\"\n            :tenant-id=\"tenantId\"\n            :social-login-list=\"socialLogin\"\n            @logged=\"logged\"\n          />\n        </template>\n        <template v-if=\"masterSocialLogin\">\n          <OrDivider />\n          <SocialAuths\n            logged-from=\"PORTAL\"\n            :tenant-id=\"tenantId\"\n            :social-login-list=\"socialLogin\"\n            @logged=\"logged\"\n          />\n        </template>\n      </div>\n\n      <!-- ... -->\n    </div>\n  </AuthLayout>\n</template>\n\n<script>\nimport AuthLayout from \"@/layouts/auth/AuthLayout.vue\";\nimport { ValidationObserver, ValidationProvider } from \"vee-validate\";\nimport TextField from \"@/components/common/form/text-field/TextField.vue\";\nimport PasswordField from \"@/components/common/form/password-field/PasswordField.vue\";\nimport EmailAuthentication from \"@/components/common/form/email-authentication-field/EmailAuthentication.vue\";\nimport MobileAuthentication from \"@/components/common/form/mobile-authentication-field/MobileAuthentication.vue\";\nimport OrDivider from \"@/components/common/OrDivider.vue\";\nimport SocialAuths from \"@/views/sign-in/components/SocialAuths.vue\";\nimport FormFieldError from \"@/components/common/form/FormFieldError.vue\";\nimport { passwordHint } from \"@/helpers/password-hint.js\";\nimport axios from \"axios\";\nimport { auth } from \"@/api/factory.js\";\nimport Email from \"@/views/sign-in/components/Email.vue\";\nimport Password from \"@/views/sign-in/components/Password.vue\";\nimport * as Msal from \"msal\";\n\nexport default {\n  name: \"PortalsSignIn\",\n\n  components: {\n    AuthLayout,\n    ValidationObserver,\n    ValidationProvider,\n    TextField,\n    PasswordField,\n    EmailAuthentication,\n    MobileAuthentication,\n    OrDivider,\n    SocialAuths,\n    FormFieldError,\n    Email,\n    Password,\n  },\n\n  props: {\n    tenantId: {\n      type: String,\n      required: true,\n    },\n\n    portalId: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      portalWidth: \"720px\",\n      submissionModal: false,\n      isFocused: false,\n      title: \"Track Portal\",\n      description: \"To submit and track your request\",\n      settings: {},\n      loginType: \"\",\n      username: \"\",\n      password: \"\",\n      socialLogin: [],\n      isLoading: false,\n      error: \"\",\n      email: \"\",\n      normalLogin: false,\n      passwordTypes: \"\",\n      masterSocialLogin: false,\n    };\n  },\n\n  computed: {\n    _passwordHint() {\n      return passwordHint;\n    },\n\n    checkTenant() {\n      let origin = location.origin;\n      if (\n        origin === \"https://edmsuat.sobhaapps.com\" ||\n        origin === \"https://edms.sobhaapps.com\"\n      ) {\n        return true;\n      }\n      return false;\n    },\n  },\n\n  watch: {\n    portalId: {\n      immediate: true,\n      handler() {\n        if (this.portalId) {\n          this.getPortal();\n        }\n      },\n    },\n  },\n\n  methods: {\n    toggleWidth() {\n      this.portalWidth = this.portalWidth === \"100%\" ? \"720px\" : \"100%\";\n    },\n\n    logged() {\n      let origin = location.origin;\n      if (\n        origin === \"https://demo.ezofis.com\" ||\n        origin === \"http://52.172.32.88\"\n      ) {\n        if (this.portalId == 1) {\n          this.$router.push({\n            name: \"portals-access-custom\",\n          });\n        } else {\n          this.$router.push({\n            name: \"portals-access\",\n          });\n        }\n      } else {\n        this.$router.push({\n          name: \"portals-access\",\n        });\n      }\n    },\n\n    userFieldError(errorMsg) {\n      this.error = errorMsg;\n    },\n\n    showSocialLogin() {\n      this.masterSocialLogin = true;\n    },\n\n    async getPortal() {\n      this.$store.commit(\"showLoadingBar\");\n      try {\n        const response = await axios({\n          url: `${process.env.VUE_APP_API_URL}/portal/withoutToken/${this.tenantId}/${this.portalId}`,\n          method: \"GET\",\n        });\n        const { status, data } = response;\n        this.$store.commit(\"hideLoadingBar\");\n\n        if (status !== 200) {\n          throw response;\n        }\n        if (data) {\n          this.title = data.name;\n          this.description = data.description;\n          if (data.settingsJson) {\n            this.settings = JSON.parse(data.settingsJson);\n            this.loginType =\n              this.settings.authentication.loginType || \"EMAIL_LOGIN\";\n            this.passwordTypes = this.settings.authentication.passwordTypes;\n            this.socialLogin = this.settings.authentication.socialLogin;\n          } else {\n            this.loginType = \"EMAIL_LOGIN\";\n          }\n        }\n      } catch (error) {\n        this.$alert.error(\"Error fetching portal\");\n        console.error(error);\n      }\n    },\n\n    async validate() {\n      const areAllFieldsValid = await this.$refs.form.validate();\n\n      if (!areAllFieldsValid) {\n        return;\n      }\n\n      this.signIn();\n    },\n\n    async validateEmail() {\n      const areAllFieldsValid = await this.$refs.tenant.validate();\n\n      if (!areAllFieldsValid) {\n        return;\n      }\n\n      this.isLoading = true;\n\n      const payload = {\n        email: this.email,\n      };\n      const { error, data } = await auth.emailValidate(1, payload);\n\n      if (error) {\n        this.error = error;\n        this.isLoading = false;\n        return;\n      }\n      this.isLoading = false;\n      if (data === \"User\") {\n        this.normalLogin = true;\n      } else if (data === \"ADUser\") {\n        this.microsoftSignIn();\n      }\n    },\n\n    async signIn() {\n      this.isLoading = true;\n\n      const payload = {\n        tenantId: this.tenantId,\n        portalId: this.portalId,\n        email: this.username,\n        password: this.password,\n        formId: this.settings.authentication.formId,\n        emailColumn: this.settings.authentication.usernameField,\n        passwordColumn: this.settings.authentication.passwordField,\n        nameColumn: this.settings.authentication.firstnameField,\n      };\n\n      const { error } = await auth.portalLogin(payload);\n\n      if (error) {\n        this.error = error;\n        this.isLoading = false;\n        return;\n      }\n\n      this.logged();\n    },\n\n    async validateSignIn() {\n      const areAllFieldsValid = await this.$refs.form.validate();\n      if (!areAllFieldsValid) {\n        return;\n      }\n      this.signInPortal();\n    },\n\n    async signInPortal() {\n      this.isLoading = true;\n      const payload = {\n        email: this.email,\n        password: this.password,\n        loggedFrom: \"WEB\",\n        portalId: this.portalId,\n      };\n      const { error } = await auth.login(payload, this.tenantId);\n      if (error) {\n        this.error = error;\n        this.isLoading = false;\n        return;\n      }\n      this.$router.push({ name: \"portals-access\" });\n    },\n\n    async microsoftSignIn() {\n      let clientId = \"315d2d09-9633-419e-8e85-18b747eb5be5\";\n      let origin = location.origin;\n      if (origin === \"https://edmsuat.sobhaapps.com\") {\n        clientId = \"9db78754-f584-459d-a04d-f5a6d9b1e2cf\";\n      } else if (origin === \"https://edms.sobhaapps.com\") {\n        clientId = \"a403995e-94b6-4805-bee7-2fa606a751bd\";\n      }\n\n      // Microsoft Authentication\n      const mAuth = new Msal.UserAgentApplication({\n        auth: {\n          clientId: clientId,\n          redirectUri: origin,\n        },\n      });\n      await mAuth.loginPopup({\n        scopes: [\"user.read\"],\n        loginHint: this.email,\n      });\n      const user = mAuth.getAccount();\n      let email = user.userName;\n      // Microsoft Authentication\n      console.log(email);\n\n      this.isLoading = true;\n\n      const payload = {\n        tenantId: this.tenantId,\n        email: email,\n        loggedFrom: \"WEB\",\n      };\n\n      const { error } = await auth.socialLogin(payload);\n\n      if (error) {\n        this.error = error;\n        this.isLoading = false;\n        return;\n      }\n\n      this.logged();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#portals-sigin {\n  margin: auto;\n\n  .logo img {\n    height: 24px;\n    width: auto;\n  }\n\n  .description {\n    color: var(--icon-color-inverted);\n    margin-bottom: 4px;\n  }\n\n  .title {\n    @extend .text-lg;\n    font-weight: bold;\n    color: var(--title-1-color);\n    margin-bottom: 12px;\n  }\n\n  .header {\n    padding: 16px;\n    border-radius: 4px;\n    background-color: var(--component-bg-color);\n    border-top: 4px solid var(--primary);\n    margin-bottom: 16px;\n    display: flex;\n    align-items: center;\n\n    .description {\n      @extend .text-sm;\n      color: var(--icon-color-inverted);\n    }\n  }\n  .headerBody {\n    padding: 45px;\n    border-radius: 4px;\n    background-color: var(--component-bg-color);\n    border-top: 4px solid var(--primary);\n    margin-bottom: 16px;\n    margin-top: 16px;\n    display: flex;\n    align-items: center;\n  }\n\n  .footer {\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    left: 0;\n    bottom: 16px;\n    width: 100%;\n\n    .label {\n      @extend .text-sm;\n      color: var(--icon-color-inverted);\n      margin-right: 4px;\n    }\n\n    img {\n      height: 16px;\n      width: auto;\n    }\n  }\n\n  #masterLogin {\n    input {\n      min-height: 46px;\n    }\n  }\n\n  #forgot-password {\n    color: var(--secondary);\n    font-weight: 500;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .sign-in-btn {\n    min-height: 44px;\n    width: 100%;\n    margin-top: 18px;\n  }\n}\n\n#modal .imgCenter {\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.social-auth-btns {\n  display: flex;\n  align-items: center;\n}\n\n.social-auth-btn {\n  flex: 1;\n  height: 44px;\n  // padding: 0px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  background-color: var(--component-bg-color-inferior);\n  color: var(--icon-color) !important;\n  font-weight: 600;\n  text-transform: capitalize;\n  cursor: pointer;\n\n  &:nth-child(2) {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalsSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalsSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PortalsSignIn.vue?vue&type=template&id=7f6204bb&scoped=true&\"\nimport script from \"./PortalsSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./PortalsSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PortalsSignIn.vue?vue&type=style&index=0&id=7f6204bb&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f6204bb\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}