(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["custom-form~external-request~portal-accesss-custom"],{"42fc":function(e,t,s){"use strict";s.d(t,"a",(function(){return A}));s("d9e2");function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){if(!e)throw new Error(t)}function n(e){return Object.keys(e)}function o(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function r(e,t,s){var a="."+t,i=new RegExp("(\\".concat(t,")?$"));return s(e).replace(i,a)}function c(e){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),e.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function l(e){return Array(e+1).join(" ")}function d(e){return e.replace(/([<>&])/g,(function(e,t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function p(e,t,s){switch(t){case"txt":var a="text/plain;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);case"css":a="text/css;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);case"html":a="text/html;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);case"json":a="text/json;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);case"csv":a="text/csv;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);case"xls":a="text/application/vnd.ms-excel;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);case"xml":a="text/application/xml;charset=utf-8";return s?URL.createObjectURL(new Blob([e],{type:a})):"data:,".concat(a)+encodeURIComponent(e);default:return""}}function h(e,t,s,a){void 0===s&&(s="download"),void 0===a&&(a=!0);var i=p(e,t,a),n=document.createElement("a");n.href=i,n.download=s,n.setAttribute("style","visibility:hidden"),document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(n)}var u=function(){return u=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var i in t=arguments[s],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},m=function(e,t){var s="function"===typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,i,n=s.call(e),o=[];try{while((void 0===t||t-- >0)&&!(a=n.next()).done)o.push(a.value)}catch(r){i={error:r}}finally{try{a&&!a.done&&(s=n["return"])&&s.call(n)}finally{if(i)throw i.error}}return o};function f(e){if(!e||a(e)&&!e.length||!a(e)&&!n(e).length)return function(e){return e};var t=a(e)?e.reduce((function(e,t){var s;return u(u({},e),(s={},s[t]=t,s))}),Object.create(null)):e;return function(e){return a(e)?e.map((function(e){return o(e).reduce((function(e,s){var a=m(s,2),i=a[0],n=a[1];return i in t&&(e[t[i]]=n),e}),Object.create(null))})).filter((function(e){return n(e).length})):o(e).reduce((function(e,s){var a=m(s,2),i=a[0],n=a[1];return i in t&&(e[t[i]]=n),e}),Object.create(null))}}function v(e){var t="Invalid export data. Please provide a valid JSON";try{return"string"===typeof e?JSON.parse(e):e}catch(s){throw new Error(t)}}function y(e,t,s){void 0===t&&(t=null);var a="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(e,t,s)}catch(i){throw new Error(a)}}function g(e){return e.map(o).reduce((function(t,s,a){return s.reduce((function(t,s){var i=m(s,2),n=i[0],o=i[1],r=t[n]||Array.from({length:e.length}).map((function(e){return""}));return r[a]=("string"!==typeof o?JSON.stringify(o):o)||"",t[n]=r,t}),t)}),Object.create(null))}function b(e,t){return void 0===t&&(t=function(e){return e}),t(o(e).map((function(e){var t=m(e,2),s=t[0],a=t[1];return{fieldName:s,fieldValues:a}})))}function w(e){var t=/,|"|\n/.test(e)?'"':"",s=e.replace(/"/g,'""');return"".concat(t).concat(s).concat(t)}var $={beforeTableEncode:function(e){return e},delimiter:","};function x(e,t){void 0===t&&(t={});var s=u(u({},$),t),a=s.beforeTableEncode,i=s.delimiter;if(!e.length)return"";var n=g(e),o=b(n,a),r=o.map((function(e){var t=e.fieldName;return t})).join(i)+"\r\n",c=o.map((function(e){var t=e.fieldValues;return t})).map((function(e){return e.map(w)})),l=c.reduce((function(e,t){return e.map((function(e,s){return"".concat(e).concat(i).concat(t[s])}))}));return r+l.join("\r\n")}function S(e,t){i(e.length>0);var s=g(e),a=b(s,t),n=a.map((function(e){var t=e.fieldName;return t})).join("</b></th><th><b>"),o=a.map((function(e){var t=e.fieldValues;return t})).map((function(e){return e.map((function(e){return"<td>".concat(e,"</td>")}))})),r=o.reduce((function(e,t){return e.map((function(e,s){return"".concat(e).concat(t[s])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(n,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(r.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var I={beforeTableEncode:function(e){return e}};function _(e,t){var s=u(u({},I),t).beforeTableEncode;if(!e.length)return"";var a='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(S(e,s),"\n  </body>\n</html >\n");return a}function C(e){var t='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(F(e,"base"),"\n");return t}function F(e,t,s,i){void 0===s&&(s="element"),void 0===i&&(i=0);var n=c(t),r=l(i);if(null===e||void 0===e)return"".concat(r,"<").concat(n," />");var p=a(e)?e.map((function(e){return F(e,s,s,i+2)})).join("\n"):"object"===typeof e?o(e).map((function(e){var t=m(e,2),a=t[0],n=t[1];return F(n,a,s,i+2)})).join("\n"):r+"  "+d(String(e)),h="".concat(r,"<").concat(n,">\n").concat(p,"\n").concat(r,"</").concat(n,">");return h}var O={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function k(e){var t=e.data,s=e.fileName,n=void 0===s?"download":s,o=e.extension,c=e.fileNameFormatter,l=void 0===c?function(e){return e.replace(/\s+/,"_")}:c,d=e.fields,p=e.exportType,u=void 0===p?"txt":p,m=e.replacer,g=void 0===m?null:m,b=e.space,w=void 0===b?4:b,$=e.processor,S=void 0===$?h:$,I=e.withBOM,F=void 0!==I&&I,O=e.beforeTableEncode,k=void 0===O?function(e){return e}:O,B=e.delimiter,T=void 0===B?",":B,E="Invalid export data. Please provide an array of objects",A="Can't export unknown data type ".concat(u,"."),H="Can't export string data to ".concat(u,".");if("string"===typeof t)switch(u){case"txt":case"css":case"html":return S(t,u,r(n,null!==o&&void 0!==o?o:u,l));default:throw new Error(H)}var L=f(d),j=L(v(t)),P=y(j,g,w);switch(u){case"txt":case"css":case"html":return S(P,u,r(n,null!==o&&void 0!==o?o:u,l));case"json":return S(P,u,r(n,null!==o&&void 0!==o?o:"json",l));case"csv":i(a(j),E);var R="\ufeff",z=x(j,{beforeTableEncode:k,delimiter:T}),U=F?R+z:z;return S(U,u,r(n,null!==o&&void 0!==o?o:"csv",l));case"xls":i(a(j),E);U=_(j,{beforeTableEncode:k});return S(U,u,r(n,null!==o&&void 0!==o?o:"xls",l));case"xml":U=C(j);return S(U,u,r(n,null!==o&&void 0!==o?o:"xml",l));default:throw new Error(A)}}k.types=O,k.processors={downloadFile:h};var B=k,T=B;const E=()=>{function e(e,t,s){if(e)try{const a=t||"exported-data",i=T.types[s||"xls"];T({data:e,fileName:a,exportType:i})}catch(a){throw new Error("Parsing failed!")}}return{exportDataFromJSON:e}};function A(e,t){if(!e)return this.$alert.info("Data not found");let s=new Date;return t||(t=`${s.getFullYear()}${s.getMonth()+1}${s.getDate()}${s.getHours()}${s.getMinutes()}${s.getSeconds()}`),E().exportDataFromJSON(e,t,null)}},"686b":function(e,t,s){},8169:function(e,t,s){"use strict";s("14d9");var a=s("a026"),i=s("87e8");t["a"]=a["default"].extend({name:"QChatMessage",mixins:[i["a"]],props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){return"q-message-text-content q-message-text-content--"+this.op+(void 0!==this.textColor?" text-"+this.textColor:"")},messageClass(){return"q-message-text q-message-text--"+this.op+(void 0!==this.bgColor?" text-"+this.bgColor:"")},containerClass(){return"q-message-container row items-end no-wrap"+(!0===this.sent?" reverse":"")},sizeClass(){if(void 0!==this.size)return"col-"+this.size},op(){return!0===this.sent?"sent":"received"}},methods:{__wrapStamp(e,t){if(void 0!==this.$scopedSlots.stamp)return[t,e("div",{staticClass:"q-message-stamp"},this.$scopedSlots.stamp())];if(this.stamp){const s=!0===this.stampSanitize?"textContent":"innerHTML";return[t,e("div",{staticClass:"q-message-stamp",domProps:{[s]:this.stamp}})]}return[t]},__getText(e,t,s){const a=!0===this.textSanitize?"textContent":"innerHTML";if(!0===s&&!0===t.some(e=>void 0===e.tag&&void 0!==e.text))return[e("div",{class:this.messageClass},[e("div",{class:this.textClass},this.__wrapStamp(e,e("div",t)))])];const i=!0!==s?t=>e("div",{domProps:{[a]:t}}):t.length>1?e=>e:t=>e("div",[t]);return t.map((t,s)=>e("div",{key:s,class:this.messageClass},[e("div",{class:this.textClass},this.__wrapStamp(e,i(t)))]))}},render(e){const t=[];void 0!==this.$scopedSlots.avatar?t.push(this.$scopedSlots.avatar()):void 0!==this.avatar&&t.push(e("img",{class:"q-message-avatar q-message-avatar--"+this.op,attrs:{src:this.avatar,"aria-hidden":"true"}}));const s=[];void 0!==this.$scopedSlots.name?s.push(e("div",{class:"q-message-name q-message-name--"+this.op},this.$scopedSlots.name())):void 0!==this.name&&s.push(e("div",{class:"q-message-name q-message-name--"+this.op,domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}})),void 0!==this.text&&s.push(this.__getText(e,this.text)),void 0!==this.$scopedSlots.default&&s.push(this.__getText(e,this.$scopedSlots.default(),!0)),t.push(e("div",{class:this.sizeClass},s));const a=[];return void 0!==this.$scopedSlots.label?a.push(e("div",{staticClass:"q-message-label"},this.$scopedSlots.label())):void 0!==this.label&&a.push(e("div",{staticClass:"q-message-label",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}})),a.push(e("div",{class:this.containerClass},t)),e("div",{class:"q-message q-message-"+this.op,on:{...this.qListeners}},a)}})},8505:function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",[t("Modal",{attrs:{width:e.externalAccess?"100vw":"70vw","external-access":e.externalAccess},on:{input:e.closeModal},scopedSlots:e._u([{key:"title",fn:function(){return[e._v('"'+e._s(e.historyTitle)+'" Process History')]},proxy:!0},{key:"action",fn:function(){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:e.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[t("div",{attrs:{id:"processHistory"}},[t("div",{staticClass:"col-12 q-mb-md q-pt-sm"},[t("Stepper",{attrs:{"stage-level":e.stageLevel,"current-step":e.currentStep}})],1),t("table",{attrs:{id:"history"}},[t("thead",[t("tr",e._l(e.columns,(function(s){return t("th",{key:s.id},[e._v(" "+e._s(s.label)+" ")])})),0)]),t("tbody",[e._l(e.processHistoryData,(function(s){return[t("tr",{key:s.id},e._l(e.columns,(function(a){return t("td",{key:a.id,staticClass:"ellipsis"},[e._t(a.name,(function(){return["DATE"===a.type?[e._v(" "+e._s(e.$day.format(s[a.name])||"-")+" ")]:"stage"===a.name?[e._v(" "+e._s(s[a.name]||"-")+" "),s.subWorkflowHistory?[s.subWorkflowHistory.length?[t("span",{staticClass:"text-secondary"},[e._v(" [CONNECTOR] ")])]:e._e()]:e._e()]:[e._v(" "+e._s(s[a.name]||"-")+" ")]]}),{value:s[a.name],item:s})],2)})),0),s.comments.length?t("tr",{key:s.id,on:{click:function(e){s.showComments=!s.showComments}}},[t("td",{staticClass:"comments",attrs:{colspan:"6"}},[t("BaseIcon",{attrs:{name:s.showComments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),e._v(" Comments ("+e._s(s.comments.length)+") ")],1)]):e._e(),s.comments.length&&s.showComments?t("tr",{key:s.id},[t("td",{attrs:{colspan:"6"}},[t("table",{attrs:{id:"comments1"}},[t("thead",[t("tr",[t("th",{staticClass:"large"},[e._v("Comments")]),t("th",{staticClass:"medium"},[e._v("Commented By")]),t("th",{staticClass:"medium"},[e._v("Commented On")]),t("th",{staticClass:"medium"},[e._v("Attached In")])])]),t("tbody",[e._l(s.comments,(function(s,a){return[t("tr",{key:a},[t("td",{staticClass:"commentsText ellipsis"},[e._v(" "+e._s(e.removeTags(s.comments)||"-")+" ")]),t("td",{staticClass:"ellipsis"},[e._v(" "+e._s(s.createdByEmail||"-")+" ")]),t("td",{staticClass:"ellipsis"},[e._v(" "+e._s(e.$day.format(s.createdAt)||"-")+" ")]),t("td",[s.embedFileList&&s.embedFileList.length?[t("div",{staticClass:"file-icons",on:{click:function(t){return e.openFileByCmd(s.embedFileList[0])}}},[t("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:s.embedFileList[0].fileName,expression:"\n                                    comment.embedFileList[0].fileName\n                                  ",modifiers:{top:!0}}],key:"Icon-"+a,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":e.fileType(s.embedFileList[0].fileName)}}),t("a",{staticClass:"file-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(s.embedFileList[0].fileName||"-"))])],1)]:[e._v(" "+e._s("-")+" ")]],2)])]}))],2)])])]):e._e(),s.attachments.length?t("tr",{key:s.id},[t("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(e){s.showAttachments=!s.showAttachments}}},[t("BaseIcon",{attrs:{name:s.showAttachments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),e._v(" Attachments ("+e._s(s.attachments.length)+") ")],1)]):e._e(),s.attachments.length&&s.showAttachments?t("tr",{key:s.id},[t("td",{attrs:{colspan:"6"}},[t("table",{attrs:{id:"attachments"}},[t("thead",[t("tr",[t("th",[e._v("File Name")]),t("th",[e._v("Attached By")]),t("th",[e._v("Attached On")])])]),t("tbody",[e._l(s.attachments,(function(s,a){return[t("tr",{key:a},[t("td",[e._v(e._s(s.name||"-"))]),t("td",[e._v(e._s(s.createdByEmail||"-"))]),t("td",[e._v(" "+e._s(e.$day.format(s.createdAt)||"-")+" ")])])]}))],2)])])]):e._e(),s.subWorkflowHistory?[s.subWorkflowHistory.length?t("tr",{key:s.id},[t("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(e){s.showSubWorkflowHistory=!s.showSubWorkflowHistory}}},[t("BaseIcon",{attrs:{name:s.showSubWorkflowHistory?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),1===s.actionStatus?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Completed",expression:"'Completed'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-check",color:"green"}})]:0===s.actionStatus?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-progress",expression:"'In-progress'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-clock",color:"orange"}})]:e._e(),e._v(" "+e._s(s.subWorkflowHistory[0].requestNo)+" ")],2)]):e._e(),s.showSubWorkflowHistory?t("tr",{key:s.id},[t("td",{attrs:{colspan:"6"}},[t("table",{attrs:{id:"attachments"}},[t("thead",e._l(e.columns,(function(s){return t("th",{key:s.id},[e._v(" "+e._s(s.label)+" ")])})),0),t("tbody",[e._l(s.subWorkflowHistory,(function(s){return[t("tr",{key:s.id},e._l(e.columns,(function(a){return t("td",{key:a.id,staticClass:"ellipsis"},[e._t(a.name,(function(){return["DATE"===a.type?[e._v(" "+e._s(e.$day.format(s[a.name])||"-")+" ")]:[e._v(" "+e._s(s[a.name]||"-")+" ")]]}),{value:s[a.name],item:s})],2)})),0)]}))],2)])])]):e._e()]:e._e()]}))],2)])])]},proxy:!0}],null,!0),model:{value:e.processHistoryModal,callback:function(t){e.processHistoryModal=t},expression:"processHistoryModal"}}),t("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(t){e.fileSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"attachmentFileHeader"},[t("div",{staticClass:"avatar q-ml-sm"},[t("FileIcon",{attrs:{"mime-type":e.fileType(e.selectedFile.name)}})],1),t("div",{staticClass:"q-ml-md"},[t("div",{staticClass:"filename"},[e._v(" "+e._s(e.selectedFile.name)+" ")]),t("div",{staticClass:"meta"},[t("div",[e._v(" Archived At: "+e._s(e.$day.format(e.selectedFiles[0].createdAt))+" ")]),t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v("Archived By: "+e._s(e.selectedFiles[0].createdByEmail))]),e.selectedFiles[0].size?t("div",[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e._v(" File Size: "+e._s(e.fileSize(e.selectedFiles[0].size))+" ")],1):e._e()],1)])])]},proxy:!0}]),model:{value:e.fileSheet,callback:function(t){e.fileSheet=t},expression:"fileSheet"}},[t("div",{staticClass:"attachmentFileFrame"},[t("div",{staticClass:"file-list"},[t("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:e.fileLink(),frameborder:"0"}})])])])],1)},i=[],n=(s("14d9"),s("1b0d")),o=s("6a70"),r=s("0006"),c=s("fa1f"),l=s("381e"),d=s("dd90"),p=s("a7d2"),h=s("42fc"),u={name:"ProcessHistory",components:{Modal:o["a"],Stepper:r["a"],Sheet:l["a"],FileIcon:c["a"]},props:{processId:{type:Number,required:!0},selectedProcess:{type:Object,default:()=>{}},externalAccess:{type:Boolean,default:!1}},data(){return{historyTitle:"",processHistoryData:[],processHistoryModal:!1,columns:[{id:this.$nano.id(),name:"stage",label:"STAGE",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"actionUser",label:"ACTION USER",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"receivedOn",label:"RECEIVED ON",type:"DATE"},{id:this.$nano.id(),name:"processedBy",label:"PROCESSED BY",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"processedOn",label:"PROCESSED ON",type:"DATE"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"SHORT_TEXT"}],stageLevel:[],currentStep:0,selectedFile:{},fileSheet:!1,selectedFiles:[]}},watch:{processId:{immediate:!0,handler(){this.processId&&this.showHistory(this.processId)}}},methods:{async showHistory(e){this.processHistoryModal=!0,this.processHistoryData=[],this.historyTitle=this.selectedProcess.requestNo,this.$store.commit("showLoadingBarSave");const{error:t,payload:s}=await n["t"].processHistory(this.selectedProcess.id,e);this.$store.commit("hideLoadingBarSave"),t?this.$alert.error(t):s.length&&(s.forEach(e=>{this.processHistoryData.push({...e,showComments:!1,showAttachments:!1,showSubWorkflowHistory:!1})}),this.stageLevel=[],this.currentStep=0,s.forEach(e=>{if(2!==e.actionStatus)if(0===this.stageLevel.filter(t=>t.id===e.activityId).length)this.stageLevel.push({id:e.activityId,label:e.stage,status:e.status}),((e.actionUser||e.subWorkflowHistory)&&e.status&&"Forward"!==e.status||null===e.actionUser&&!e.subWorkflowHistory)&&(this.currentStep+=1);else if(e.status)this.stageLevel.filter(t=>t.id===e.activityId&&t.status!==e.status).length?this.currentStep+=1:this.currentStep-=1;else{let t=this.stageLevel.findIndex(t=>t.id===e.activityId);t>-1&&(this.stageLevel.splice(t,this.stageLevel.length-t),this.stageLevel.push({id:e.activityId,label:e.stage,status:e.status}),e.actionUser&&e.status&&"Forward"!==e.status||null===e.actionUser?this.currentStep=t+1:this.currentStep=t)}}))},openFileByCmd(e){const t=e,{fileName:s,itemid:a,...i}=t;this.selectedFile={name:s,id:a,...i};const n=this.processHistoryData.map(e=>e.attachments).flat();this.selectedFiles=n.filter(e=>e.id==this.selectedFile.id&&e.name==this.selectedFile.name),this.openFile(this.selectedFile)},fileSize(e){return Object(p["a"])(e)},fileLink(){let e=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let s=1;return"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(s=2),Object(d["d"])(t)?"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${s}`:"https://trial.ezofis.com"===e?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${s}`:"https://app.ezofis.com"===e?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${s}`:`${e}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${s}`:"http://52.172.32.88"===e?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${s}`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${s}`}return Object(d["d"])(t)?"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==e||Object(d["c"])(t)?"https://app.ezofis.com"===e?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`${e}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:Object(d["b"])(t)||"http://52.172.32.88"!==e?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},openFile(e){if(e.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=e;let t=location.origin;"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?window.open(this.fileLink()):this.fileSheet=!0}},fileType(e){if(e)return e.split(".").reverse()[0].slice(0,4)},closeModal(){this.processHistoryModal=!1,this.$emit("close")},removeTags(e){return e?e.replace(/(<([^>]+)>)/gi,""):""},export_Data1(){let e=[];this.processHistoryData.forEach(t=>{e.push({Stage:t.stage,"Action User":t.actionUser,"Received On":this.$day.format(t.receivedOn),"Processed On":this.$day.format(t.processedOn),"Processed By":t.processedBy,Status:t.status})}),Object(h["a"])(e,this.historyTitle+" - Process History")},export_Data(){let e=[];this.processHistoryData.forEach(t=>{if(e.push({Stage:t.stage,"Action User":t.actionUser||"","Received On":this.$day.format(t.receivedOn)||"","Processed On":this.$day.format(t.processedOn)||"","Processed By":t.processedBy||"",Status:t.status||""}),t.comments&&t.comments.length){let s;e.push({Stage:`<span style="color: #00BCD4;font-weight: bold;">Comments(${t.comments.length})</span>`}),e.push({Stage:"<strong>Comments<strong>","Action User":"<strong>Commented By<strong>","Received On":"<strong>Commented On<strong>","Processed On":"<strong>Attached In<strong>"}),t.comments.forEach(t=>{t.embedFileList&&t.embedFileList.length&&t.embedFileList.forEach(e=>{s=e.fileName}),e.push({Stage:`<span style="color: #00BCD4;">${t.comments||""}</span>`,"Action User":`<span style="color: #00BCD4;">${t.createdByEmail||""}</span>`,"Received On":`<span style="color: #00BCD4;">${this.$day.format(t.createdAt)||""}</span>`,"Processed On":`<span style="color: #00BCD4;">${s||""}</span>`})})}t.attachments&&t.attachments.length&&(e.push({Stage:`<span style="color: #643094;font-weight: bold;">Attachment(${t.attachments.length})</span>`}),e.push({Stage:"<strong>File Name<strong>","Action User":"<strong>\tAttached By<strong>","Received On":"<strong>Attached On<strong>"}),t.attachments.forEach(t=>{e.push({Stage:`<span style="color: #643094; border: 12px solid#50067e;">${t.name||""}</span>`,"Action User":`<span style="color: #643094;">${t.createdByEmail||""}</span>`,"Received On":`<span style="color: #643094;">${this.$day.format(t.createdAt)||""}</span>`})})),t.subWorkflowHistory&&t.subWorkflowHistory.length&&(e.push({Stage:`<span style="color: #e97f06;font-weight: bold;">${t.subWorkflowHistory[0].requestNo}[Connector]<span>`}),e.push({Stage:"<strong>Stage</strong>","Action User":"<strong>Action User</strong>","Received On":"<strong>Received On</strong>","Processed On":"<strong>Processed On</strong>","Processed By":"<strong>Processed By</strong>",Status:"<strong>status</strong>"}),t.subWorkflowHistory.forEach(t=>{e.push({Stage:`<span style="color: #e97f06;">${t.stage}</span>`,"Action User":`<span style="color: #e97f06;border:2px solid black">${t.actionUser||""}</span>`,"Received On":`<span style="color: #e97f06;">${this.$day.format(t.receivedOn)||""}</span>`,"Processed On":`<span style="color: #e97f06;">${this.$day.format(t.processedOn)||""}</span>`,"Processed By":`<span style="color: #e97f06;">${t.processedBy||""}</span>`,Status:`<span style="color: #e97f06;">${t.status||""}</span>`})}))}),Object(h["a"])(e,this.historyTitle+" Report")}}},m=u,f=(s("bf55"),s("2877")),v=s("4e73"),y=s("93dc"),g=s.n(y),b=Object(f["a"])(m,a,i,!1,null,"2443da3d",null);t["a"]=b.exports;g()(b,"components",{QMenu:v["a"]})},bf55:function(e,t,s){"use strict";s("686b")}}]);
//# sourceMappingURL=custom-form~external-request~portal-accesss-custom.c25d288c.js.map