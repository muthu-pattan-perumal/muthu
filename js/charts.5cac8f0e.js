(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["charts","custom-form~external-request~portal-accesss-custom","forms-overview~tasks-overview"],{"00c2":function(t,e,i){t.exports=i.p+"img/name-light.137e40b6.png"},"0170":function(t,e,i){"use strict";var s=i("a026"),a=i("87e8"),o=i("e277");e["a"]=s["default"].extend({name:"QItemLabel",mixins:[a["a"]],props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},computed:{classes(){return{"q-item__label--overline text-overline":this.overline,"q-item__label--caption text-caption":this.caption,"q-item__label--header":this.header,ellipsis:1===parseInt(this.lines,10)}},style(){if(void 0!==this.lines&&parseInt(this.lines,10)>1)return{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":this.lines}}},render(t){return t("div",{staticClass:"q-item__label",style:this.style,class:this.classes,on:{...this.qListeners}},Object(o["c"])(this,"default"))}})},"02fb":function(t,e,i){"use strict";i("8920")},"0698":function(t,e,i){},"09e3":function(t,e,i){"use strict";var s=i("a026"),a=i("87e8"),o=i("e277");e["a"]=s["default"].extend({name:"QPageContainer",mixins:[a["a"]],inject:{layout:{default(){console.error("QPageContainer needs to be child of QLayout")}}},provide:{pageContainer:!0},computed:{style(){const t={};return!0===this.layout.header.space&&(t.paddingTop=this.layout.header.size+"px"),!0===this.layout.right.space&&(t["padding"+(!0===this.$q.lang.rtl?"Left":"Right")]=this.layout.right.size+"px"),!0===this.layout.footer.space&&(t.paddingBottom=this.layout.footer.size+"px"),!0===this.layout.left.space&&(t["padding"+(!0===this.$q.lang.rtl?"Right":"Left")]=this.layout.left.size+"px"),t}},render(t){return t("div",{staticClass:"q-page-container",style:this.style,on:{...this.qListeners}},Object(o["c"])(this,"default"))}})},"0b2c":function(t,e,i){},"0b71":function(t,e,i){},"0c04":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"addTask"}},[e("Sheet",{attrs:{value:t.value,width:t.taskWidth,"no-padding":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.title))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"task-form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 60px)"}},[e("RenderForm",{attrs:{"no-padding":"",panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.taskModel,"is-readonly":"VIEW"===t.mode},on:{save:t.saveTask}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"workflows",expression:"'workflows'",modifiers:{left:!0}}],staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:"o_account_tree",color:"primary"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.taskWorkflowList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:"mdi-sitemap",label:i.label},on:{click:function(e){return t.getForm(i)}}})})),1)],1)],1)],2)])]},proxy:!0}],null,!0)}),e("Sheet",{attrs:{width:t.taskWidth,"has-footer":""},on:{input:t.closeAddTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.headerTitle))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"no-padding":"","workflow-id":t.workflowFormId,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"workflow-form-model":t.workflowFormModel,"save-action":t.saveAction},on:{"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),1)])]},proxy:!0},{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.addTaskSheet,callback:function(e){t.addTaskSheet=e},expression:"addTaskSheet"}}),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.attachmentList.length,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")],e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),(t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Workflows ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Workflows",expression:"'Add Workflows'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getworkflowForm(t.workflowFormId)}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.processInfo,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.getWorkflowAudit(i.requestNo)}}},[t._v(" Request No: "+t._s(i.requestNo)+" ")]),i.actionUser?[e("q-chip",{attrs:{size:"10px",color:"yellow","text-color":"white"}},[t._v(" "+t._s(i.actionUser)+" ")])]:t._e(),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.flowStatus),"text-color":"white"}},[t._v(" "+t._s("0"===i.flowStatus?"Open":"Completed")+" ")])],2)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v(" Raised By: "+t._s(i.raisedBy)+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" Raised At: "+t._s(t.$day.format(i.raisedAt))+" ")],1)])])]}))],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"form-id":t.formIdName,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("EmailSharing",{attrs:{"repository-id":t.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}})],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),r=i("4bc4"),n=i("869e"),l=i("6df3"),c=i("1b0d"),d=i("9bc4"),h=i("fa1f"),u=i("a7d2"),m=i("dd90"),p=i("bc3a"),f=i.n(p),g=i("cade"),v=i("695e"),b=i("6a70"),y=i("2f62"),x=i("5e23"),w={name:"AddTask",components:{Sheet:o["a"],RenderForm:r["a"],FileIcon:h["a"],CheckboxField:n["a"],TextAreaField:l["a"],ListItem:g["a"],TextBuilderField:v["a"],Modal:b["a"],EmailSharing:x["a"]},props:{value:{type:Boolean,default:!1},formSettings:{type:Object,required:!0},panels:{type:Array,required:!0},secondaryPanels:{type:Array,default:()=>[]},formId:{type:Number,default:0},taskModel:{type:Object,default:()=>{}},mode:{type:String,default:""},taskName:{type:String,default:""},repositoryId:{type:Number,default:0},workflowTask:{type:Boolean,default:!1},taskWorkflowList:{type:Array,default:()=>[]},selectedTask:{type:Object,default:()=>{}},documentTask:{type:Boolean,default:!1},repositoryFile:{type:Object,default:()=>{}}},data(){return{taskWidth:"720px",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0}],attachmentSheet:!1,addTaskSheet:!1,taskSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],selectAll:!1,attachmentLoad:null,attachmentList:[],fileSheet:!1,selectedFile:{},actions:[],workflowsSheet:!0,workflowList:[],saveAction:"",workflowId:0,addWorkflowForm:[],workflowPanels:[],form:[],workflowName:"",workflowDescription:"",workflowFormId:0,workflowFormModel:{},processId:0,transactionId:0,workflowDetails:[],countWorkflow:0,processInfo:[],workflowFormTaskList:{},formList:{},formStage:{},processSheet:!1,formDetails:{},formIdName:"",formModel:{},headerTitle:"",advancedCommentsSheet:!1,advancedCommentText:"",emailSharingSheet:!1,selectedFileList:[]}},computed:{...Object(y["c"])(["LoadingBarPage"]),isMaximized(){return"100vw"===this.taskWidth},title(){return"VIEW"===this.mode?"View Task":"EDIT"===this.mode?"Edit Task":"FORWARD"===this.mode?"Forward Task":"COPY"===this.mode?"Copy Task":"Add Task"},formName(){return this.formSettings.general.name},formDescription(){return this.formSettings.general.description},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{taskModel:{immediate:!0,handler(){this.taskModel.id&&(this.attachmentList=[],this.getComments(),this.getAttachments())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateRequest()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet&&this.taskModel.id||clearInterval(this.attachmentLoad)}}},methods:{toggleWidth(){this.taskWidth="100vw"===this.taskWidth?"720px":"100vw"},closeSheet(){this.$emit("close",!1)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeAddTaskSheet(){this.addTaskSheet=!1},closeTaskSheet(){this.taskSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},getColor(t){return"0"===t?"orange":"1"===t||"Medium"===t?"green":"primary"},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t?this.$emit("history",this.formList[0].value[0].processId,this.formList[0].workflowId,this.formList[0].value[0].requestNo):"PRINT"===t&&window.print()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},showHistory(){},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(u["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i="";if(Object(m["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`}{let i="";if(Object(m["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(m["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`}}},openFile(t){this.selectedFile=t,this.fileSheet=!0},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async saveTask(t){const e=["itemid","createdBy","createdAt","modifiedBy","modifiedAt","icon","buttonAction","formId","status","color","link","selected","isDeleted","createdByEmail","modifiedByEmail","emailStatus","expandSubworkflow"],i=Object(d["a"])(t,e);try{this.$store.commit("showLoadingBarPage");const{id:t,...e}=i;let s=0;s="COPY"===this.mode?0:t||0;let a={};if(s)a={fields:e};else{let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)}),a={fields:e,task:{comments:this.commentsList,fileIds:t}}}const{data:o,error:r}=await c["g"].saveFormEntry(this.formId,s,a);if(this.workflowDetails.length&&this.linkTaskWorkflowProcess(o.output),r)return void this.$alert.error(r);t?this.$alert.success(this.taskName+" edited successfully"):(this.documentTask&&this.linkTaskDocument(o.output),this.$alert.success("New task added successfully")),this.getUsers(a.fields),this.closeSheet(),this.workflowTask||this.documentTask?this.$emit("addEntry",this.formId,o.output):this.$emit("refresh",this.workflowId)}catch(s){console.log(s)}finally{this.$store.commit("hideLoadingBarPage")}},async linkTaskDocument(t){let e={wFormId:this.formId,formEntryId:t,fileInfo:{repositoryId:this.repositoryFile.repositoryId,itemId:this.repositoryFile.id}};const{error:i}=await c["g"].linkTaskDocument(e);i&&this.$alert.error(i)},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["g"].getFormComments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1},async uploadAttachments(t){if(this.taskModel.id){const i=t.target.files[0];this.$store.commit("showLoadingBar");const s=new FormData;s.append("formId",this.formId),s.append("repositoryId",this.repositoryId),s.append("entryId",this.taskModel.id),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(m["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/form/taskAttachmentWithEntryId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:i,data:a}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==i||!a)throw e;this.$alert.success("Document attached")}catch(e){this.$store.commit("hideLoadingBar"),this.$alert.error("Error uploading file"),console.error(e)}this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{this.$store.commit("showLoadingBar");const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("formId",this.formId),s.append("repositoryId",this.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(m["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==a)throw"Invalid response";let r=JSON.parse(o);this.attachmentList.push({id:Number(r.fileId),name:i.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,checked:!1})}catch(e){this.$store.commit("hideLoadingBar"),console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let t=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:e,payload:i}=await c["g"].getFormAttachments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i.length?(t!==i.length&&(this.attachmentList=i.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[]},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await c["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}else{const{error:e}=await c["p"].fileDelete(t.repositoryId,t.id);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.getAttachments()}},validateRequest(t){this.saveAction=t},async initiateRequest(){let t={};t={workflowId:this.workflowId,transactionId:0,review:this.saveAction,formData:{formId:this.workflowFormId,formEntryId:this.form.entryCount,fields:this.workflowFormModel}},this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await c["t"].processTransaction(t);this.$store.commit("hideLoadingBarSave"),this.saveAction="",e?this.$alert.error(e):(this.$alert.success(i.requestNo+" Request Initiated"),this.workflowDetails.push({workflowId:this.workflowId,processId:i.processId,transactionId:i.transactionId}),this.selectedTask.id&&this.linkTaskWorkflowProcess(this.selectedTask.id),this.closeAddTaskSheet(),this.$emit("refresh",this.workflowId))},async getForm(t){if(this.workflowId=t.id,this.headerTitle=t.stage,this.actions=t.actions,this.selectedTask.formId&&this.selectedTask.id&&await this.getWorkflowList(this.workflowId),t.formId)if(this.workflowFormId=t.formId,this.processInfo.length)this.countWorkflow=this.processInfo.length,this.taskSheet=!0;else{const{error:t,payload:e}=await c["g"].getForm(this.workflowFormId);if(t)return void this.$alert.error(t);e&&(this.form=e,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(e.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)}},async getworkflowForm(t){this.closeTaskSheet();const{error:e,payload:i}=await c["g"].getForm(t);this.workflowFormId=t,e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)},async getworkflowDetailsForm(t){const{error:e,payload:i}=await c["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.processSheet=!0,this.$store.commit("hideLoadingBarPage"))},async linkTaskWorkflowProcess(t){let e={};e={wFormId:this.formId,formEntryId:t,workflow:this.workflowDetails};const{error:i}=await c["g"].linkTaskWorkflowProcess(e);i&&this.$alert.error(i)},async getWorkflowList(t){let e={};e={wId:t,fId:this.selectedTask.formId,entryId:this.selectedTask.id};const{error:i,payload:s}=await c["g"].getWorkflowTaskList(t,this.selectedTask.formId,this.selectedTask.id,e);this.workflowFormTaskList=s,s.processInfo&&(this.processInfo=s.processInfo),i&&this.$alert.error(i)},async getWorkflowAudit(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s,meta:a}=i;if(this.formList=s||{},this.formStage=a,this.formList[0].value[0].formData){let t=Object.keys(this.formList[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.formList[0].value[0].formData.fields[t])}),this.formModel=e}this.headerTitle=""+this.formList[0].value[0].name,this.formIdName=String(this.formList[0].value[0].formData.formId),this.getworkflowDetailsForm(this.formIdName),e&&this.$alert.error(e)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async getUsers(t){const{error:e,payload:i}=await c["s"].getUserList();if(e)return void this.$alert.error("Error fetching users");let s={id:0,title:t["e_NFnW0JxrLpZxqPeJS7K"],status:t["11m7YRT-7kdLx-g6iGojc"],remarks:t["2XOJMCR_DVb-5TwVPVdEX"],category:"TASK",createdBy:t["pM6Vly-JRlfroRrziE1jr"],lastActionBy:this.$store.state.session.email};const a=s.createdBy,o=i.filter(t=>a.includes(t.value)),r=o.map(t=>t.id);r.forEach(t=>{const e={...s,createdBy:t};this.insertNotification(e)}),console.log("email",o,r)},async insertNotification(t){const{error:e}=await c["b"].insertNotification(t);e&&this.$alert.error(e)}}},C=w,k=(i("a4c9"),i("2877")),S=i("4e73"),A=i("8169"),I=i("cb32"),L=i("b047"),T=i("93dc"),P=i.n(T),_=Object(k["a"])(C,s,a,!1,null,"0b56d901",null);e["a"]=_.exports;P()(_,"components",{QMenu:S["a"],QChatMessage:A["a"],QAvatar:I["a"],QChip:L["a"]})},"0ce8":function(t,e,i){},1026:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("FileList",{staticClass:"q-mb-md",attrs:{"has-files":!!t.files.length},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Uploading")]},proxy:!0},t.files.length?{key:"actions-minimized",fn:function(){return[e("Pulse",{staticClass:"q-mr-md",attrs:{color:"light-green"}})]},proxy:!0}:null,{key:"default",fn:function(){return t._l(t.files,(function(i,s){return e("FileListItem",{key:i.id,staticClass:"file",attrs:{file:i}},[t.showProgress?e("q-circular-progress",{staticClass:"font-semibold",attrs:{"show-value":"","font-size":"13px",size:"48px",color:"light-green","track-color":t.trackColor,thickness:.22,value:i.uploadedPercentage,indeterminate:!i.uploadedPercentage}},[t._v(" "+t._s(i.uploadedPercentage)+"% ")]):t._e(),t.showDeleteBtn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:red.top",value:"Delete",expression:"'Delete'",arg:"red",modifiers:{top:!0}}],staticClass:"q-mr-md",attrs:{"is-flat":"",color:"red",icon:"eva-trash-2-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",s)}}}):t._e()],1)}))},proxy:!0}],null,!0)})},a=[],o=i("9ef6"),r=i("d406"),n=i("4e64"),l=i("2f62"),c={name:"UploadingFileList",components:{FileList:o["a"],FileListItem:r["a"],Pulse:n["a"]},props:{files:{type:Array,required:!0},showProgress:{type:Boolean,default:!0},showDeleteBtn:{type:Boolean,default:!1}},computed:{...Object(l["c"])(["darkTheme"]),trackColor(){return this.darkTheme?"gray-8":"gray-3"}}},d=c,h=(i("73e0"),i("2877")),u=i("58ea"),m=i("93dc"),p=i.n(m),f=Object(h["a"])(d,s,a,!1,null,"7aa1b7fe",null);e["a"]=f.exports;p()(f,"components",{QCircularProgress:u["a"]})},"108c":function(t,e,i){"use strict";i("bdf3")},1137:function(t,e,i){},"11f5":function(t,e,i){"use strict";i("4759")},1483:function(t,e,i){},1521:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.donutChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("2f62"),r=i("a1a34"),n=i("2adf"),l={name:"DonutChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{donutChartOptions:{chart:{type:"donut"},labels:this.xData,plotOptions:{pie:{donut:{labels:{show:!0,value:{show:!0,color:"#1e293b",fontWeight:600},total:{show:!0,color:"#1e293b"}}}}},stroke:{colors:["#ffffff"]}}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(r["a"])(this.donutChartOptions,this.options)}},darkTheme(){this.donutChartOptions.stroke.colors=this.darkTheme?["#1d2129"]:["#ffffff"],this.donutChartOptions.plotOptions.pie.donut.labels.value.color=this.darkTheme?"#cbd5e1":"#1e293b",this.donutChartOptions.plotOptions.pie.donut.labels.total.color=this.darkTheme?"#cbd5e1":"#1e293b"}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"eca0ab46",null);e["a"]=h.exports},1549:function(t,e,i){"use strict";var s=i("2250"),a=i("a809"),o=i("5132"),r=i("e621");function n(t,e){return e.length<2?t:Object(o["a"])(t,Object(r["a"])(e,0,-1))}var l=n,c=i("4dc8");function d(t,e){return e=Object(s["a"])(e,t),t=l(t,e),null==t||delete t[Object(c["a"])(Object(a["a"])(e))]}e["a"]=d},"1a1b":function(t,e,i){},"1a82":function(t,e,i){},"1bfa":function(t,e,i){},"1d87":function(t,e,i){t.exports=i.p+"img/kayaku-logo.34027bdf.png"},"204d":function(t,e,i){},"21d0":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.heatMapChartOptions,series:t.xyData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"HeatMapChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},xyData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{heatMapChartOptions:{chart:{type:"heatmap"},plotOptions:{heatmap:{useFillColorAsStroke:!0}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.heatMapChartOptions,this.options)}}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,"7baefb79",null);e["a"]=d.exports},"21e0":function(t,e,i){"use strict";i("7334")},"21fc":function(t,e,i){},2852:function(t,e,i){"use strict";i("e5e9")},"28f7":function(t,e,i){},"297e":function(t,e,i){"use strict";i("f98d")},"298f":function(t,e,i){"use strict";i("0b71")},"2ac6":function(t,e,i){"use strict";i("0ce8")},"2adf":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"chart-wrapper"}},[t.dashboardView?t._e():e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("q-space"),t._t("header")],2),e("div",{ref:"chart",staticClass:"chart"})])},a=[],o=i("2f62"),r=i("a1a34"),n=i("ba30"),l=i.n(n),c={name:"ChartWrapper",props:{title:{type:String,required:!0},options:{type:Object,default:()=>{}},series:{type:Array,default:()=>[]},dashboardView:{type:Boolean,default:!1}},data(){return{chartRef:"",globalOptions:{chart:{fontFamily:"Poppins",parentHeightOffset:0,toolbar:{tools:{selection:!1,zoom:!1,zoomin:'<i class="q-icon text-gray eva eva-plus-circle-outline" style="font-size: 20px;"></i>',zoomout:'<i class="q-icon text-gray eva eva-minus-circle-outline" style="font-size: 20px;"></i>',pan:'<i class="q-icon text-gray eva eva-move-outline" style="font-size: 20px;"></i>',reset:'<i class="q-icon text-gray eva eva-refresh-outline" style="font-size: 20px;"></i>',download:'<i class="q-icon text-gray eva eva-download-outline" style="font-size: 20px;"></i>'},export:{csv:{filename:this.title},svg:{filename:this.title},png:{filename:this.title}}},background:"#ffffff"},grid:{padding:{top:16,bottom:16},borderColor:"#e2e8f0"},colors:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],dataLabels:{style:{fontWeight:"500",fontSize:"14px"}},legend:{fontWeight:"500"},markers:{size:6,strokeWidth:0},xaxis:{axisBorder:{show:!1}},stroke:{curve:"straight"},plotOptions:{boxPlot:{colors:{upper:"#4a89dd",lower:"#36bd9a"}}},series:[]}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{deep:!0,handler(){Object(r["a"])(this.globalOptions,this.options),this.chartRef.updateOptions(this.globalOptions)}},series:{deep:!0,handler(){this.chartRef.updateSeries(this.series)}},darkTheme(){this.globalOptions.chart.background=this.darkTheme?"#1d2129":"#ffffff",this.globalOptions.grid.borderColor=this.darkTheme?"#334155":"#e2e8f0",this.globalOptions.colors=this.darkTheme?["#5c9dec","#48ceaf","#fecf55","#fa6f52","#ac92ed","#ec87bf","#a1d568"]:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],this.globalOptions.plotOptions={boxPlot:{colors:{upper:this.darkTheme?"#5c9dec":"#4a89dd",lower:this.darkTheme?"#48ceaf":"#36bd9a"}}},this.chartRef.updateOptions(this.globalOptions)}},mounted(){Object(r["a"])(this.globalOptions,this.options),this.globalOptions.series=this.series,this.chartRef=new l.a(this.$refs.chart,this.globalOptions),this.chartRef.render()}},d=c,h=(i("fb47"),i("2877")),u=i("2c91"),m=i("0016"),p=i("93dc"),f=i.n(p),g=Object(h["a"])(d,s,a,!1,null,"49e033f6",null);e["a"]=g.exports;f()(g,"components",{QSpace:u["a"],QIcon:m["a"]})},"2d9d":function(t,e,i){"use strict";i("6f95")},"2ddf":function(t,e,i){},"2e65":function(t,e,i){"use strict";i("3d68")},"2f12":function(t,e,i){"use strict";i("2ddf")},"307a":function(t,e,i){},3595:function(t,e,i){"use strict";i("ee74")},3846:function(t,e,i){t.exports=i.p+"img/sobha-mark-logo.7fc8820b.png"},3980:function(t,e,i){"use strict";var s=i("a026"),a=i("d882"),o=i("0967"),r={data(){return{canRender:!o["f"]}},mounted(){!1===this.canRender&&(this.canRender=!0)}},n=i("d54d");e["a"]=s["default"].extend({name:"QResizeObserver",mixins:[r],props:{debounce:{type:[String,Number],default:100}},data(){return!0===this.hasObserver?{}:{url:!0===this.$q.platform.is.ie?null:"about:blank"}},methods:{trigger(t){!0===t||0===this.debounce||"0"===this.debounce?this.__emit():null===this.timer&&(this.timer=setTimeout(this.__emit,this.debounce))},__emit(){if(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),!this.$el||!this.$el.parentNode)return;const t=this.$el.parentNode,e={width:t.offsetWidth,height:t.offsetHeight};e.width===this.size.width&&e.height===this.size.height||(this.size=e,this.$emit("resize",this.size))},__cleanup(){void 0!==this.curDocView&&(void 0!==this.curDocView.removeEventListener&&this.curDocView.removeEventListener("resize",this.trigger,a["f"].passive),this.curDocView=void 0)},__onObjLoad(){this.__cleanup(),this.$el.contentDocument&&(this.curDocView=this.$el.contentDocument.defaultView,this.curDocView.addEventListener("resize",this.trigger,a["f"].passive)),this.__emit()}},render(t){if(!1!==this.canRender&&!0!==this.hasObserver)return t("object",{style:this.style,attrs:{tabindex:-1,type:"text/html",data:this.url,"aria-hidden":"true"},on:Object(n["b"])(this,"load",{load:this.__onObjLoad})})},beforeCreate(){this.size={width:-1,height:-1},!0!==o["e"]&&(this.hasObserver="undefined"!==typeof ResizeObserver,!0!==this.hasObserver&&(this.style=(this.$q.platform.is.ie?"visibility:hidden;":"")+"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;"))},mounted(){if(this.timer=null,!0===this.hasObserver)return this.observer=new ResizeObserver(this.trigger),this.observer.observe(this.$el.parentNode),void this.__emit();!0===this.$q.platform.is.ie?(this.url="about:blank",this.__emit()):this.__onObjLoad()},beforeDestroy(){clearTimeout(this.timer),!0!==this.hasObserver?this.__cleanup():void 0!==this.observer&&this.$el.parentNode&&this.observer.unobserve(this.$el.parentNode)}})},"39cc":function(t,e,i){"use strict";i("fad0")},"3b73":function(t,e,i){"use strict";i("3c65"),i("14d9");var s=i("a026"),a=i("66e5"),o=i("4074"),r=i("0170"),n=i("0016"),l=i("e9c1"),c=i("eb85"),d=i("8716"),h=i("463c"),u=i("7ee0"),m=i("b7fa"),p=i("d882"),f=i("e277"),g=i("d54d"),v=i("1732");const b="q:expansion-item:close",y=Object.keys(d["b"]);e["a"]=s["default"].extend({name:"QExpansionItem",mixins:[m["a"],h["a"],u["a"]],props:{...d["b"],icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},data(){return{showing:void 0!==this.value?this.value:this.defaultOpened}},watch:{showing(t){!0===t&&void 0!==this.group&&this.$root.$emit(b,this)},group(t,e){void 0!==t&&void 0===e?this.$root.$on(b,this.__eventHandler):void 0===t&&void 0!==e&&this.$root.$off(b,this.__eventHandler)}},computed:{classes(){return"q-expansion-item--"+(!0===this.showing?"expanded":"collapsed")+" q-expansion-item--"+(!0===this.popup?"popup":"standard")},contentStyle(){if(void 0!==this.contentInsetLevel){const t=!0===this.$q.lang.rtl?"Right":"Left";return{["padding"+t]:56*this.contentInsetLevel+"px"}}},hasLink(){return!0!==this.disable&&(void 0!==this.href||void 0!==this.to&&null!==this.to&&""!==this.to)},linkProps(){const t={};return y.forEach(e=>{t[e]=this[e]}),t},isClickable(){return!0===this.hasLink||!0!==this.expandIconToggle},expansionIcon(){return void 0!==this.expandedIcon&&!0===this.showing?this.expandedIcon:this.expandIcon||this.$q.iconSet.expansionItem[!0===this.denseToggle?"denseIcon":"icon"]},activeToggleIcon(){return!0!==this.disable&&(!0===this.hasLink||!0===this.expandIconToggle)},headerSlotScope(){return{expanded:!0===this.showing,detailsId:this.targetUid,toggle:this.toggle,show:this.show,hide:this.hide}},toggleAriaAttrs(){const t=void 0!==this.toggleAriaLabel?this.toggleAriaLabel:this.$q.lang.label[!0===this.showing?"collapse":"expand"](this.label);return{role:"button","aria-expanded":!0===this.showing?"true":"false","aria-controls":this.targetUid,"aria-label":t}}},methods:{__onHeaderClick(t){!0!==this.hasLink&&this.toggle(t),this.$emit("click",t)},__toggleIconKeyboard(t){13===t.keyCode&&this.__toggleIcon(t,!0)},__toggleIcon(t,e){!0!==e&&void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),this.toggle(t),Object(p["l"])(t)},__eventHandler(t){this!==t&&this.group===t.group&&this.hide()},__getToggleIcon(t){const e={staticClass:"q-focusable relative-position cursor-pointer"+(!0===this.denseToggle&&!0===this.switchToggleSide?" items-end":""),class:this.expandIconClass,props:{side:!0!==this.switchToggleSide,avatar:this.switchToggleSide}},i=[t(n["a"],{staticClass:"q-expansion-item__toggle-icon",class:void 0===this.expandedIcon&&!0===this.showing?"q-expansion-item__toggle-icon--rotated":void 0,props:{name:this.expansionIcon}})];return!0===this.activeToggleIcon&&(Object.assign(e,{attrs:{tabindex:0,...this.toggleAriaAttrs},on:Object(g["b"])(this,"inpExt",{click:this.__toggleIcon,keyup:this.__toggleIconKeyboard})}),i.unshift(t("div",{ref:"blurTarget",staticClass:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",attrs:{tabindex:-1}}))),t(o["a"],e,i)},__getHeader(t){let e;void 0!==this.$scopedSlots.header?e=[].concat(this.$scopedSlots.header(this.headerSlotScope)):(e=[t(o["a"],[t(r["a"],{props:{lines:this.labelLines}},[this.label||""]),this.caption?t(r["a"],{props:{lines:this.captionLines,caption:!0}},[this.caption]):null])],this.icon&&e[!0===this.switchToggleSide?"push":"unshift"](t(o["a"],{props:{side:!0===this.switchToggleSide,avatar:!0!==this.switchToggleSide}},[t(n["a"],{props:{name:this.icon}})]))),!0!==this.disable&&!0!==this.hideExpandIcon&&e[!0===this.switchToggleSide?"unshift":"push"](this.__getToggleIcon(t));const i={ref:"item",style:this.headerStyle,class:this.headerClass,props:{dark:this.isDark,disable:this.disable,dense:this.dense,insetLevel:this.headerInsetLevel}};return!0===this.isClickable&&(i.props.clickable=!0,!0===this.hasLink?Object.assign(i.props,this.linkProps):i.attrs=this.toggleAriaAttrs,i.on={...this.qListeners,click:this.__onHeaderClick}),t(a["a"],i,e)},__getContent(t){const e=[this.__getHeader(t),t(l["a"],{props:{duration:this.duration},on:Object(g["b"])(this,"slide",{show:()=>{this.$emit("after-show")},hide:()=>{this.$emit("after-hide")}})},[t("div",{staticClass:"q-expansion-item__content relative-position",style:this.contentStyle,attrs:{id:this.targetUid},directives:[{name:"show",value:this.showing}]},Object(f["c"])(this,"default"))])];return this.expandSeparator&&e.push(t(c["a"],{staticClass:"q-expansion-item__border q-expansion-item__border--top absolute-top",props:{dark:this.isDark}}),t(c["a"],{staticClass:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",props:{dark:this.isDark}})),e}},render(t){return t("div",{staticClass:"q-expansion-item q-item-type",class:this.classes},[t("div",{staticClass:"q-expansion-item__container relative-position"},this.__getContent(t))])},created(){void 0!==this.group&&this.$root.$on(b,this.__eventHandler),this.targetUid="e_"+Object(v["a"])()},beforeDestroy(){void 0!==this.group&&this.$root.$off(b,this.__eventHandler)}})},"3d68":function(t,e,i){},"3fc6":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-my-md",attrs:{id:"process-sheet"}},[e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}})]},proxy:!0},"inbox"===t.selectedNode?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),"inbox"===t.selectedNode&&i.createdBy===t.$store.state.session.id?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadId=i.id,t.reupload(i.name)}}})],1)]:t._e()],2),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),"inbox"===t.selectedNode&&i.createdBy===t.$store.state.session.id?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1):t._e()]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode?t.checkCommentsOption()?"calc(100vh - 190px)":"calc(100vh - 150px)":""}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastActionDuration(i.createdAt),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),"inbox"===t.selectedNode?e("div",{staticClass:"col q-pa-sm"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}})]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.checkTenant()?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"100vw","has-footer":!t.isCustomizedWorkflow||"inbox"!==t.selectedNode,"no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i)}}})})),1)],1)],1):t._e()]},proxy:!0},{key:"footer",fn:function(){return[t.isCustomizedWorkflow&&"inbox"===t.selectedNode?t._e():[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()],"psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId?["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Verify",disabled:t.customVerify,color:"primary"},on:{click:function(e){return t.validateRequest("CustomVerify",!1,!1)}}}):t._e()]:t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.isCustomizedWorkflow&&"inbox"===t.selectedNode?[e("CustomForm",{attrs:{panels:t.panels,"secondary-panels":t.secondaryPanels,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,actions:t.actions,"request-prefix":t.requestPrefix,"ml-prediction":t.mlPrediction},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:requestPrefix":function(e){t.requestPrefix=e},"update:request-prefix":function(e){t.requestPrefix=e},"update:mlPrediction":function(e){t.mlPrediction=e},"update:ml-prediction":function(e){t.mlPrediction=e}}})]:[t.formId?e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t.enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e}}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1)],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return["TASK"===i.value?[t.addTaskEnabled?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]:["VALIDATION"!==i.value&&"PAYMENT_TABLE"!==i.value||("VALIDATION"===i.value||"PAYMENT_TABLE"===i.value)&&t.isCustomizedWorkflow?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]]}))],2)]],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,mode:"Indexing",file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:"Index",columns:t.columns,"modal-value":t.selectedProcess,"upload-filename":t.uploadFilename},on:{close:function(e){t.showMetaDataEditModal=!1},save:t.saveMetaData}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e()],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),r=i("bc3a"),n=i.n(r),l=i("1b0d"),c=i("a7d2"),d=i("fa1f"),h=i("abe1"),u=i("6a70"),m=i("9234"),p=i("6df3"),f=i("695e"),g=i("dd90"),v=i("cade"),b=i("869e"),y=i("5e23"),x=i("4bc4"),w=i("a589"),C=i("0c04"),k=i("b94d"),S=i("ee54"),A=i("8505"),I={name:"RequestProcessSheet",components:{Sheet:o["a"],FileIcon:d["a"],FileDetails:h["a"],Modal:u["a"],SingleChoiceField:m["a"],TextAreaField:p["a"],TextBuilderField:f["a"],ListItem:v["a"],CheckboxField:b["a"],EmailSharing:y["a"],RenderForm:x["a"],CustomForm:w["default"],AddTask:C["a"],Tabs:k["a"],MetaDataEdit:S["a"],ProcessHistory:A["a"]},props:{workflowId:{type:[String,Number],required:!0},processId:{type:[String,Number],required:!0},workflowRequestList:{type:Array,required:!0},workflow:{type:Object,default:()=>{}},form:{type:Object,default:()=>{}},enableControls:{type:Object,default:()=>{}},formId:{type:[String,Number],required:!0}},data(){return{attachmentSheet:!1,selectedProcess:{},attachmentList:[],emailSharingSheet:!1,checkList:[],selectedNode:"",selectedTicket:{},attachmentLoad:null,fileData:[],fileDetailsSheet:!1,checkListRowIndex:null,reuploadId:0,repositoryDetails:{},repositoryField:[],commentsSheet:!1,commentsList:[],commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,commentText:"",advancedCommentsSheet:!1,advancedCommentText:"",selectAll:!1,fileSheet:!1,selectedFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],selectedFileList:[],processSheet:!1,itemModel:{},formModel:{},headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Payment Table",value:"PAYMENT_TABLE",icon:"mdi-table",count:0}],actions:[],groupActionFields:[],saveAction:"",workflowFormModel:{},workflowModel:{},formEditAccess:!1,formEditControls:[],formVisibilityAccess:!0,formSecureControls:[],formFields:[],dataValidationValues:[],formCheckList:!1,signList:[],userSignature:!1,processActions:[],processActionsAddOn:[],taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",selectedTask:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",mailTransactionSheet:!1,mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],showMetaDataEditModal:!1,selectedUploadFile:[],columns:[],search:"",addTaskEnabled:!1,uploadFilename:"",historyProcessId:0}},computed:{selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&1===this.workflow.id)return!0;return!1},formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){if(!this.formId)return[];if(this.groupActionFields.length){let t=[];return this.form.panels.map(e=>{let i=[];e.fields.forEach(t=>{this.groupActionFields.indexOf(t.id)>-1&&i.push(t)}),t.push({id:e.id,fields:i,settings:e.settings})}),t}return this.form.panels},secondaryPanels(){return this.formId?this.groupActionFields.length?[]:this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{processId:{deep:!0,handler(){this.showProcessSheet()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet||clearInterval(this.attachmentLoad)}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.processRequest()}}},methods:{getColor(t){return t.color?{border:`1px solid var(--${t.color})`}:{border:"1px solid var(--secondary)"}},leftScroll(){const t=document.querySelector(".workflowKanbanRow");t.scrollBy(-200,0)},rightScroll(){const t=document.querySelector(".workflowKanbanRow");t.scrollBy(200,0)},showAttachments(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.getAttachments(t.processId),this.selectedTicket=t,t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.getFormColumns(),this.attachmentSheet=!0},showHistoryModal(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.historyProcessId=this.selectedProcess.processId},showProcessSheet(){this.selectedProcess=this.workflowRequestList.find(t=>t.processId===Number(this.processId)),this.selectedProcess.activityUserEmail===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.getTaskForm(),this.openProcess(),this.getAttachments(this.processId),this.getComments(this.processId),this.getModel(Number(this.processId)),this.getFormColumns(),this.processSheet=!0},closeAttachmentsSheet(){this.attachmentSheet=!1},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async uploadWflowAttachments(t){"STATIC"===this.repositoryDetails.fieldsType?(this.selectedUploadFile=t,this.uploadFilename=t.target.files[0].name,this.showMetaDataEditModal=!0):this.uploadAttachments(t)},async uploadAttachments(t,e){const i=t.target.files[0],s=new FormData;s.append("workflowId",this.workflowId),s.append("repositoryId",this.workflow.repositoryId),s.append("processId",this.selectedProcess.processId),s.append("transactionId",this.selectedProcess.transactionId),e?s.append("fields",e):s.append("fields",""),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(console.log(o),Object(g["a"])(o)){this.$store.commit("showLoadingBar");try{const t=await n()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached")}catch(r){this.$alert.error("Error uploading file"),console.error(r)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",this.reuploadId&&(await this.attachmentDelete(this.reuploadId),this.reuploadId=0),this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else this.$alert.error("this file format not supporting")},async getAttachments(t){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let e=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getAttachments(this.workflowId,t||this.selectedProcess.processId);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else{if(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)}),s.length){let t=s.length-1;this.getFileData(s[t],"attach"),e!==s.length&&(this.attachmentList=s.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})}else this.attachmentList=[];this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1})}},async getFileData(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s&&(this.fileData=s,e||(this.fileDetailsSheet=!0))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},async attachmentDelete(t){this.$store.commit("showLoadingBar");const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):this.getAttachments()},closeCommentsSheet(){this.closeCommnetsSheet=!1},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t&&"http://localhost:8080"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async getComments(t){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:e,payload:i}=await l["t"].getProcessComments(this.workflowId,t||this.selectedProcess.processId);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],i.length&&(this.commentsList=i,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})))},async saveComment(){let t=location.origin;if(this.commentText&&this.selectedProcess.processId){if("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t&&"http://localhost:8080"!==t||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.commentAction=1,this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText&&this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin&&"http://localhost:8080"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},showComments(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.getComments(t.processId),this.selectedTicket=t,t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.commentsSheet=!0},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId)&&"http://localhost:8080"!==t||(this.commentAction=2,!1)},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t||"http://localhost:8080"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},lastActionDuration(t){const e=t instanceof Date?t:new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},documentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();Object(g["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop(),i="";"inbox"===this.selectedNode&&(i="&action=all");let s="";if(Object(g["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(g["c"])(e)?"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(g["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${i}`}},getModel(t){this.formModel={},this.itemModel={},this.workflowRequestList.forEach(e=>{if(e.processId==t&&e.id==this.workflow.id)if(this.headerTitle=`${e.requestNo} - ${e.stage}`,e.formData){let t=Object.keys(e.formData.fields),i={};t.forEach(t=>{i[t]=this.validateTypeValue(e.formData.fields[t])}),this.formModel=i}else e.itemData&&(this.itemModel=e.itemData)})},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?window.print():"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"VALIDATION"===t||"PAYMENT_TABLE"===t||"MAIL"===t&&(this.getMailTransactions(),this.mailTransactionSheet=!0)},openProcess(t=!1){if(this.actions=[],this.formEditAccess=!1,t){this.tabs.find(t=>{t.count=0}),this.commentsList=[],this.attachmentList=[],this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[];let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}if(e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=!1,t.length&&t.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})}}}else{if("inbox"===this.selectedNode){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length)){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=!1,t.length&&t.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})}}else this.formEditAccess=!0;this.actions=this.processActions;location.origin}if("inbox"===this.selectedNode){this.processActions=[],this.processActionsAddOn=[];let t=location.origin;var e=JSON.parse(this.workflow.flowJson);"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&"http://localhost:8080"!==t||"psyCrYXtKfcs-EJmrYIhv"!==this.selectedProcess.activityId?e.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.processActions.indexOf(t.proceedAction)<0&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}):e.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&"Force Close"===t.proceedAction&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}),e.blocks.forEach(t=>{if(t.id===this.selectedProcess.activityId){if("Forward"===this.selectedProcess.lastAction&&"REPLY"===t.settings.forwardedUserAction)this.processActions=[],this.processActionsAddOn=[],this.processActions.push("Reply to "+this.selectedProcess.transaction_createdByEmail),this.processActionsAddOn.push({action:"Reply to "+this.selectedProcess.transaction_createdByEmail,remarks:!0,passwordAccess:!1,confirm:!1}),this.customReply=!0;else if(t.settings.userReply&&-1===this.processActions.indexOf("Reply")&&(this.processActions.push("Reply to "+this.selectedProcess.lastActionStageName),this.userReply=!0),t.settings.toInitiator&&-1===this.processActions.indexOf("To Requester")&&(this.processActions.push("To Requester"),this.toRequester=!0),t.settings.internalForward){let e=location.origin;"https://app.ezofis.com"!==e&&"https://appuat.ezofis.com"!==e||2!==this.$store.state.session.tenantId?this.processActions.push("Forward"):this.processActions.push("Assign"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],t.settings.internalForwardUser&&t.settings.internalForwardUser.length&&t.settings.internalForwardUser.forEach(t=>{let e=this.userList.filter(e=>e.value==t);e.length&&this.internalForward.users.push({id:this.$nano.id(),label:e[0].label,value:t})}),t.settings.internalForwardGroup&&t.settings.internalForwardGroup.length&&t.settings.internalForwardGroup.forEach(t=>{let e=this.groupList.filter(e=>e.value==t);e.length&&this.internalForward.groups.push({id:this.$nano.id(),label:e[0].label,value:t})})}this.userSignature=t.settings.userSignature,t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}))}}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.processActions.push("Force Close")}else if("sent"===this.selectedNode){let t=location.origin;"https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId?"http://demo.ezofis.com"!==t&&"http://52.172.32.88"!==t||6===this.selectedWorkflow.id&&this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback")):this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback"))}this.actions=this.processActions},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async insertTaskEntry(t,e){this.$store.commit("showLoadingBar");const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):this.getTaskList()},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy)),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups});let a=!1;"CustomVerify"!==this.saveAction||"https://ag-appsvc01.azurewebsites.net"!==s&&"https://ag-appsvc05.azurewebsites.net"!==s&&"http://localhost:8080"!==s||(a=!0),this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),a||(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.closeProcessSheet()))},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},closeProcessSheet(){this.processSheet=!1},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},getFormColumns(){let t=[];if(this.form){const e=[...this.form.panels,...this.form.secondaryPanels];if(!e.length)return;let i=[];for(const t of e)i.push(...t.fields);i.forEach(e=>{"DIVIDER"===e.type||"LABEL"===e.type||"PARAGRAPH"===e.type||!e.label&&"TABLE"!==e.type||"DISABLE"===e.settings.general.visibility||t.push({id:e.id,label:e.label,isVisible:!0,display:""})})}this.columns=t},searchKanban(t,e,i){if(console.log(e,t),t){let e=["attachmentList","commentsList","completedStatus","currentActionDate","currentActionUser","currentTransactionId","nodeName","processId","requestNo","slaTime"];this.kanbanList[i].tickets.forEach(i=>{for(let s in i){let a=e.indexOf(s);if(a>=0&&i[s]&&String(i[s]).toLowerCase().includes(t.toLowerCase()))return}})}else this.kanbanList[i].tickets=this.kanbanDataList[i].tickets}}},L=I,T=(i("298f"),i("d11f"),i("2877")),P=i("b047"),_=i("cb32"),F=i("8169"),M=i("4e73"),D=i("93dc"),B=i.n(D),$=Object(T["a"])(L,s,a,!1,null,"cd1d4496",null);e["a"]=$.exports;B()($,"components",{QChip:P["a"],QAvatar:_["a"],QChatMessage:F["a"],QMenu:M["a"]})},4045:function(t,e,i){"use strict";i("1a1b")},"40f9":function(t,e,i){"use strict";i("c589")},"42dc":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"workspace-list"}},[e("div",{staticClass:"title"},[t._v("Workspace")]),e("div",{staticClass:"wrapper"},[e("ValidationProvider",{attrs:{name:"workspace",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":"","is-clearable":!1,options:t.workspaces,"is-readonly":"",error:i[0]},on:{input:t.handleInput}})]}}])})],1)])},a=[],o=i("1b0d"),r=i("7bb1"),n=i("12b8"),l={name:"WorkspaceList",components:{ValidationProvider:r["b"],SelectField:n["a"]},props:{value:{type:Number,required:!0}},data(){return{workspaces:[]}},created(){this.getWorkspaces()},methods:{handleInput(t){this.$emit("input",t)},async getWorkspaces(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["u"].getWorkspaceList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.workspaces=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id})))}}},c=l,d=(i("2852"),i("2877")),h=Object(d["a"])(c,s,a,!1,null,"d504442c",null);e["a"]=h.exports},"42fc":function(t,e,i){"use strict";i.d(e,"a",(function(){return D}));i("d9e2");function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,e){if(!t)throw new Error(e)}function o(t){return Object.keys(t)}function r(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function n(t,e,i){var s="."+e,a=new RegExp("(\\".concat(e,")?$"));return i(t).replace(a,s)}function l(t){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),t.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(t){return Array(t+1).join(" ")}function d(t){return t.replace(/([<>&])/g,(function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function h(t,e,i){switch(e){case"txt":var s="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"css":s="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"html":s="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"json":s="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"csv":s="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xls":s="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xml":s="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);default:return""}}function u(t,e,i,s){void 0===i&&(i="download"),void 0===s&&(s=!0);var a=h(t,e,s),o=document.createElement("a");o.href=a,o.download=i,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(o)}var m=function(){return m=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},m.apply(this,arguments)},p=function(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,a,o=i.call(t),r=[];try{while((void 0===e||e-- >0)&&!(s=o.next()).done)r.push(s.value)}catch(n){a={error:n}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(a)throw a.error}}return r};function f(t){if(!t||s(t)&&!t.length||!s(t)&&!o(t).length)return function(t){return t};var e=s(t)?t.reduce((function(t,e){var i;return m(m({},t),(i={},i[e]=e,i))}),Object.create(null)):t;return function(t){return s(t)?t.map((function(t){return r(t).reduce((function(t,i){var s=p(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))})).filter((function(t){return o(t).length})):r(t).reduce((function(t,i){var s=p(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))}}function g(t){var e="Invalid export data. Please provide a valid JSON";try{return"string"===typeof t?JSON.parse(t):t}catch(i){throw new Error(e)}}function v(t,e,i){void 0===e&&(e=null);var s="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(t,e,i)}catch(a){throw new Error(s)}}function b(t){return t.map(r).reduce((function(e,i,s){return i.reduce((function(e,i){var a=p(i,2),o=a[0],r=a[1],n=e[o]||Array.from({length:t.length}).map((function(t){return""}));return n[s]=("string"!==typeof r?JSON.stringify(r):r)||"",e[o]=n,e}),e)}),Object.create(null))}function y(t,e){return void 0===e&&(e=function(t){return t}),e(r(t).map((function(t){var e=p(t,2),i=e[0],s=e[1];return{fieldName:i,fieldValues:s}})))}function x(t){var e=/,|"|\n/.test(t)?'"':"",i=t.replace(/"/g,'""');return"".concat(e).concat(i).concat(e)}var w={beforeTableEncode:function(t){return t},delimiter:","};function C(t,e){void 0===e&&(e={});var i=m(m({},w),e),s=i.beforeTableEncode,a=i.delimiter;if(!t.length)return"";var o=b(t),r=y(o,s),n=r.map((function(t){var e=t.fieldName;return e})).join(a)+"\r\n",l=r.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map(x)})),c=l.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(a).concat(e[i])}))}));return n+c.join("\r\n")}function k(t,e){a(t.length>0);var i=b(t),s=y(i,e),o=s.map((function(t){var e=t.fieldName;return e})).join("</b></th><th><b>"),r=s.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map((function(t){return"<td>".concat(t,"</td>")}))})),n=r.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(e[i])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(o,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(n.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var S={beforeTableEncode:function(t){return t}};function A(t,e){var i=m(m({},S),e).beforeTableEncode;if(!t.length)return"";var s='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(k(t,i),"\n  </body>\n</html >\n");return s}function I(t){var e='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(L(t,"base"),"\n");return e}function L(t,e,i,a){void 0===i&&(i="element"),void 0===a&&(a=0);var o=l(e),n=c(a);if(null===t||void 0===t)return"".concat(n,"<").concat(o," />");var h=s(t)?t.map((function(t){return L(t,i,i,a+2)})).join("\n"):"object"===typeof t?r(t).map((function(t){var e=p(t,2),s=e[0],o=e[1];return L(o,s,i,a+2)})).join("\n"):n+"  "+d(String(t)),u="".concat(n,"<").concat(o,">\n").concat(h,"\n").concat(n,"</").concat(o,">");return u}var T={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function P(t){var e=t.data,i=t.fileName,o=void 0===i?"download":i,r=t.extension,l=t.fileNameFormatter,c=void 0===l?function(t){return t.replace(/\s+/,"_")}:l,d=t.fields,h=t.exportType,m=void 0===h?"txt":h,p=t.replacer,b=void 0===p?null:p,y=t.space,x=void 0===y?4:y,w=t.processor,k=void 0===w?u:w,S=t.withBOM,L=void 0!==S&&S,T=t.beforeTableEncode,P=void 0===T?function(t){return t}:T,_=t.delimiter,F=void 0===_?",":_,M="Invalid export data. Please provide an array of objects",D="Can't export unknown data type ".concat(m,"."),B="Can't export string data to ".concat(m,".");if("string"===typeof e)switch(m){case"txt":case"css":case"html":return k(e,m,n(o,null!==r&&void 0!==r?r:m,c));default:throw new Error(B)}var $=f(d),O=$(g(e)),N=v(O,b,x);switch(m){case"txt":case"css":case"html":return k(N,m,n(o,null!==r&&void 0!==r?r:m,c));case"json":return k(N,m,n(o,null!==r&&void 0!==r?r:"json",c));case"csv":a(s(O),M);var E="\ufeff",z=C(O,{beforeTableEncode:P,delimiter:F}),R=L?E+z:z;return k(R,m,n(o,null!==r&&void 0!==r?r:"csv",c));case"xls":a(s(O),M);R=A(O,{beforeTableEncode:P});return k(R,m,n(o,null!==r&&void 0!==r?r:"xls",c));case"xml":R=I(O);return k(R,m,n(o,null!==r&&void 0!==r?r:"xml",c));default:throw new Error(D)}}P.types=T,P.processors={downloadFile:u};var _=P,F=_;const M=()=>{function t(t,e,i){if(t)try{const s=e||"exported-data",a=F.types[i||"xls"];F({data:t,fileName:s,exportType:a})}catch(s){throw new Error("Parsing failed!")}}return{exportDataFromJSON:t}};function D(t,e){if(!t)return this.$alert.info("Data not found");let i=new Date;return e||(e=`${i.getFullYear()}${i.getMonth()+1}${i.getDate()}${i.getHours()}${i.getMinutes()}${i.getSeconds()}`),M().exportDataFromJSON(t,e,null)}},"467fa":function(t,e,i){},4697:function(t,e,i){"use strict";i("d30f")},"470f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"process-sheet"}},[e("Sheet",{attrs:{width:t.formWidth,"has-footer":!t.isCustomizedWorkflow||!t.initiateProcess,"no-padding":""},on:{input:t.closeProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.isCustomizedWorkflow||"DOCUMENT"===t.workflow.initiatedBy?t._e():[t.mandatory.filledValue||t.mandatory.nonFilledValue?[e("q-circular-progress",{staticClass:"q-mr-sm",attrs:{"show-value":"","font-size":"12px",value:t.mandatoryFilling,size:"lg",thickness:.22,color:"primary","track-color":"grey-3"}},[t._v(" "+t._s(t.mandatoryFilling)+"% ")])]:t._e(),t.mandatory.filledValue?e("div",{staticClass:"chip-success q-mr-sm"},[e("div",{},[t._v(t._s(t.mandatory.filledValue)+" ready")])]):t._e(),t.mandatory.nonFilledValue?e("div",{staticClass:"chip-warning",on:{click:t.checkFormValidation}},[e("div",{},[t._v(t._s(t.mandatory.nonFilledValue)+" need to work")])]):t._e()],t.mandatoryDocument.length?[e("div",{staticClass:"chip-warning cursor-pointer",on:{click:function(e){t.attachmentSheet=!0}}},[e("div",{},[t._v(t._s(t.mandatoryDocument.length)+" document required")])])]:t._e(),t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i.id)}}})})),1)],1)],1):t._e(),t.formView||t.initiateProcess||0!==t.actions.length?t.initiateProcess||0!==t.actions.length?t._e():e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}}),t.isCustomizedWorkflow?t._e():e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i||"Decline"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formView?e("div",{attrs:{id:"form-view"}},[t.formId&&Object.keys(t.form).length?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"readonly-controls":t.readonlyControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList,"form-upload-files":t.formUploadFiles,"has-check-form-validate":t.hasCheckFormValidate},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e},"update:hasCheckFormValidate":function(e){t.hasCheckFormValidate=e},"update:has-check-form-validate":function(e){t.hasCheckFormValidate=e},uploadFiles:t.getOCRResult,mandatoryControlsList:t.mandatoryControlsList,deletedFiles:t.deletedFiles}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[t.requestFormData.length?e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.requestFormData[0].value[0].createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.requestFormData[0].value[0].createdByName)+" ")])]):t._e(),e("tr",[t.requestFormData[0].value[0].raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.requestFormData[0].value[0].raisedBy?e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.requestFormData[0].value[0].formData.fields,(function(i,s){return[i&&"[]"!=i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])]):t._e()])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),t.formId||t.itemModel.itemId?e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2):t._e()])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.formJsonId?e("div",{staticClass:"col-auto"},[e("q-chip",{staticClass:"cursor-pointer green-hover",attrs:{outline:"",color:"green"}},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])],1):t._e(),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),i.formJsonId?e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis attachment-label"},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])])]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]):t._e(),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),i.formJsonId?t._e():[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()&&!t.portal?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()&&!t.portal?[e("div",{staticClass:"row actions advance-cmd"},[t.attachmentList.length&&t.fileNames.length?[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},on:{input:t.handleAttachComment},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()]:t._e()],2),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t.processForwardGroupAction?t._e():e("span",[t._v('"'+t._s(t.selectedProcess.requestNo)+'"')]),t._v(" Process Forward")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"users",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}),e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}),t.processForwardGroupAction?e("TextAreaField",{staticClass:"field q-mt-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantGOTO()?[e("BaseButton",{attrs:{label:"Assign",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]:[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]]},proxy:!0}]),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Sheet",{attrs:{width:"40vw","has-footer":""},on:{input:t.closeJiraIssueSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" JIRA - Create Issue ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"jiraIssue",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"Issue Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"field",attrs:{label:"Issue Name","is-mandatory":"",error:i[0]},model:{value:t.issueName,callback:function(e){t.issueName=e},expression:"issueName"}})]}}])}),t._e(),t._e(),e("ValidationProvider",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"field",attrs:{label:"Description","is-mandatory":"",error:i[0]},model:{value:t.issueDescription,callback:function(e){t.issueDescription=e},expression:"issueDescription"}})]}}])}),t._e(),t._e(),t._e()],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Create Issue",color:"primary"},on:{click:t.createJiraIssue}})]},proxy:!0}]),model:{value:t.jiraIssueSheet,callback:function(e){t.jiraIssueSheet=e},expression:"jiraIssueSheet"}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"read-only":!0,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}}),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.addTask()}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.viewTask(i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),t.importExcel?e("ImportPopup",{staticClass:"row items-center q-mr-xs",attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":String(t.masterFormId)},on:{upload:function(e){return t.$refs.input.click()},close:function(e){t.dataImported=!1}}}):t._e(),e("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:t.uploadFile}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"form-check-list":t.formCheckList,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":t.workflowModel,"form-upload-files":t.formUploadFiles,"repository-field":t.repositoryField,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":t.fileNames,comments:t.commentsList,"display-internal-public":t.displayInternalPublic},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},a=[],o=(i("14d9"),i("13d5"),i("7bb1")),r=i("381e"),n=i("4bc4"),l=i("1b0d"),c=i("0cdc"),d=i("eff0"),h=i("bc3a"),u=i.n(h),m=i("dd90"),p=i("a7d2"),f=i("6a70"),g=i("cade"),v=i("c3d2"),b=i("fa1f"),y=i("ee54"),x=i("869e"),w=i("6df3"),C=i("b3d1"),k=i("9234"),S=i("695e"),A=i("b94d"),I=i("0c04"),L=i("1c54"),T=i("5e23"),P=i("abe1"),_=i("8505"),F=i("98cf"),M=i("909a"),D=i("9996"),B=i("3445"),$=i("b0ba"),O=i("ec15"),N=i("bb36"),E={name:"SubWorkflowProcess",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],MultiSelectField:v["a"],FileIcon:b["a"],ListItem:g["a"],Sheet:r["a"],RenderForm:n["a"],Confirm:L["a"],SignatureField:d["a"],Modal:f["a"],MetaDataEdit:y["a"],CheckboxField:x["a"],TextAreaField:w["a"],TextField:C["a"],SingleChoiceField:k["a"],TextBuilderField:S["a"],Tabs:A["a"],AddTask:I["a"],ImportPopup:c["a"],EmailSharing:T["a"],FileDetails:P["a"],ProcessHistory:_["a"],FormFieldLabel:B["a"],FormEntryHistory:$["a"],Attachments:O["a"],Comments:N["a"]},props:{workflowId:{type:Number,default:0},initiateSubWorkflowProcess:{type:Boolean,default:!1},mainWorkflowId:{type:Number,default:0},mainProcessId:{type:Number,default:0},subProcessLink:{type:String,default:""},selectedProcess:{type:Object,default:()=>{}},openSubProcess:{type:Boolean,default:!1},mainFormFields:{type:Array,default:()=>[]},mainFormModel:{type:Object,default:()=>{}},portal:{type:Boolean,default:!1},subProcessId:{type:Number,default:0}},data(){return{workflow:{},workflowList:[],initiate:!1,processSheet:!1,headerTitle:"",formModel:{},form:{},formId:"",formData:"",actions:[],processActionsAddOn:[],workflowFormModel:{},saveAction:"",commentsList:[],attachmentList:[],initiateProcess:!1,signList:[],formEditAccess:!1,formEditControls:[],readonlyControls:[],formVisibilityAccess:!0,formSecureControls:[],repositoryDetails:{},repositoryField:[],formWidth:"100vw",checkList:[],stageLevel:[],currentStep:0,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,formFields:[],checkListRowIndex:null,requestPrefix:"",mlPrediction:"",advancedCommentsSheet:!1,advancedCommentText:"",docWarning:!1,alertModal:!1,actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",actionComments:!1,actionConfirm:!1,actionConfirmAlert:!1,showMetaDataEditModal:!1,selectedUploadFile:{},workflowModel:{},customVerify:!1,formCheckList:!1,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],scrollPosition:0,commentsLoad:null,mailTransactionLoad:null,documentLoad:null,documentLoadList:[],uploadFilename:"",filterSearchColumn:{},selectedFilterColumn:"",watchViewerClose:null,saveOnly:!1,wform:[],userSignature:!1,dataValidationValues:[],processForwardModal:!1,forwardUsers:[],forwardGroups:[],processForwardGroupAction:!1,selectedFilter:[],filterBy:[],attachmentLoad:null,signImg:"",selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],jiraConnect:!1,jiraAccounts:[],jiraIssueSheet:!1,issueName:"",projectKey:"",issueType:"",issueDescription:"",issueEpicValue:"",issueAssignee:"",issueAssigneeUsers:[],issueDescriptionTable:!1,issueDescriptionFields:[],jiraConfirmModal:!1,issueRef:{},taskSheet:!1,itemModel:{},errorMessage:"",errorModal:!1,successModal:!1,selectedNode:"",attachmentSheet:!1,commentsSheet:!1,processId:0,tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskEntries:[],addTaskEnabled:!1,mailTab:"OUTGOING",mailTransactionSheet:!1,commentText:"",mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],userList:[],groupList:[],refreshTree:!0,loadInitial:!0,customReply:!1,userReply:!1,toRequester:!1,customCloseProcessSheet:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],activeViewLoad:null,hideColumns:[],columns:[],generatePDF:0,documentRequired:!1,hasSelectedProcess:0,hasSelectedWorkflow:0,taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntryList:[],taskMode:"",selectedTask:{},importExcel:!1,masterFormId:0,dataImported:!1,sameFormFields:[],historyProcessId:0,attachComment:!1,fileNames:[],selectedFileForAttach:0,displayInternalPublic:!1,formUploadFiles:[],mandatory:{},fileControlDeleteFile:[],hasCheckFormValidate:!1,fileUploadForControl:!1,fileUploadInput:{},metaDataUpdate:!1,metaDataModal:{},metaDataTitle:"",requestFormData:[],formView:!0,showFormEntryHistoryModal:!1,showAttachmentSheet:!1,showCommentsSheet:!1}},computed:{formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){return this.formId?this.form.panels:[]},secondaryPanels(){return this.formId?this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isMaximized(){return"100vw"===this.formWidth},_enableControls(){let t=[],e=[];return this.panels&&this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&1===this.workflow.id)return!0;return!1},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)},commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode?this.checkCommentsOption()?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 240px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 200px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 190px)":this.displayInternalPublic?"calc(100vh - 190px)":"calc(100vh - 150px)":"calc(100vh - 150px)":""},mandatoryDocument(){return this.checkList.filter(t=>t.required&&!t.attach)},mandatoryFilling(){return this.mandatory.filledValue&&this.mandatory.nonFilledValue?Math.floor(this.mandatory.filledValue/(this.mandatory.filledValue+this.mandatory.nonFilledValue)*100):this.mandatory.filledValue?100:0},request(){return this.selectedProcess}},watch:{workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&(this.initiateProcess,this.checkRequiredDocument())}},attachmentSheet:{immediate:!0,handler(){if(this.attachmentSheet&&this.selectedProcess.processId){if(this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}},commentsSheet:{immediate:!0,handler(){this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments(this.workflowId,this.selectedProcess.processId)},3e4):clearInterval(this.commentsLoad)}},mailTransactionSheet:{immediate:!0,handler(){this.mailTransactionSheet&&this.selectedProcess.processId?this.mailTransactionLoad=setInterval(()=>{this.getMailTransactions()},3e4):clearInterval(this.mailTransactionLoad)}},taskEntries:{immediate:!0,handler(){this.tabs.find(t=>{"TASK"===t.value&&(t.count=this.taskEntries.length)})}},workflowId:{immediate:!0,handler(){}},initiateSubWorkflowProcess:{immediate:!0,handler(){this.initiateSubWorkflowProcess&&this.getWorkflow()}},processSheet(){this.fileData=[],this.workflowModel={}},dataValidationValues:{immediate:!0,deep:!0,handler(){if(this.customVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.filter(t=>"Matched"!==t.status&&"Verified"!==t.status);t.length&&(this.customVerify=!0)}}},customCloseProcessSheet:{deep:!0,immediate:!0,handler(){}},subProcessLink(){this.subProcessLink&&(this.selectedNode="sent",this.showLinks(this.subProcessLink))},openSubProcess:{immediate:!0,handler(){this.openSubProcess&&(this.formId="",this.formView=!1,this.selectedProcess.inbox?(this.formView=!0,this.getWorkflow()):this.getWorkflow("process"))}},selectedProcess:{deep:!0,handler(){this.selectedProcess.processId&&(this.getAttachments(this.workflowId,this.selectedProcess.processId),this.getComments(this.workflowId,this.selectedProcess.processId))}},workflowModel:{deep:!0,handler(){this.sameFormFields.forEach(t=>{t.value&&(this.workflowModel[t.name]=t.value)})}}},created(){this.getTaskForm()},methods:{isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},checkTabAccess(t){return this.portal?"ATTACHMENTS"===t||"COMMENTS"===t:"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},reset(){this.headerTitle="",this.mandatory={},this.actions=[],this.processActionsAddOn=[],this.form={},this.formId="",this.formFields=[],this.tabs.find(t=>{t.count=0}),this.taskEntries=[],this.commentsList=[],this.attachmentList=[],this.initiateProcess=!0,this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.readonlyControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[],this.importExcel=!1},async getWorkflow(t){this.reset(),this.processSheet=!0,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await l["t"].getWorkflow(this.workflowId);e?this.$alert.error(e):(this.workflow=i,this.selectedNode=t?"sent":"inbox",this.selectedProcess.inbox?await this.openProcess(!1):await this.openProcess(!t),this.$store.commit("hideLoadingBarSave"))},closeProcessSheet(){this.processSheet=!1,this.saveAction="",this.workflowFormModel={},this.requestFormData=[],this.formView=!0,this.$emit("closeProcessSheet")},getLabel(t){let e="";return Object.keys(this.form).length&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async openProcess(t=!1){if(this.getRepository(),t){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(console.log(e.settings.fileSettings),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}else"MANUAL_AUTOMATIC"===e.settings.initiateMode&&(e.settings.users.indexOf(this.$store.state.session.id)>-1||e.settings.users.indexOf("0")>-1)&&e.settings.initiateBy.indexOf("MASTER_FORM")>-1&&(this.importExcel=!0,this.masterFormId=e.settings.masterFormId);if(this.generatePDF=e.settings.generatePDF?1:0,this.documentRequired=e.settings.documentRequired||!1,e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}}else this.checkList=[]}}else{if(this.getFormDetails(),"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){this.formEditAccess=!1;let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e){if(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}if(e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.actions.indexOf(t.proceedAction)<0&&(this.actions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))})}else this.checkList=[]}}else this.formEditAccess=!0;this.initiateProcess=!1,this.getModel(this.selectedProcess.processId);let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.dataValidation(this.selectedProcess.processId,!1),"https://edmsuat.sobhaapps.com"===t&&55===this.workflow.id&&(this.formEditAccess=!0),this.loadProcessLinks()}this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),await this.getForm(t,this.workflow.wFormId))},async getFormDetails(){this.$store.commit("showLoadingBarPage");let t=this.selectedProcess.requestNo;const{error:e,payload:i}=await l["o"].getWorkflowData(this.selectedProcess.id,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s}=i;this.$store.commit("hideLoadingBarPage");let a=s||[];if(a[0].value[0].formData){let t=Object.keys(a[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(a[0].value[0].formData.fields[t])}),this.requestFormData=a,this.formModel=a[0].value[0].formData.fields}e&&this.$alert.error(e)},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await l["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else{if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}this.$emit("attachmentLength",this.attachmentList.length)}},async getForm(t){const{error:e,payload:i}=await l["g"].getForm(this.formId);if(e)this.$alert.error(e);else if(i){this.wform=i,this.form=JSON.parse(this.wform.formJson),t||"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB");let e=JSON.parse(this.wform.formJson);const s=[...e.panels,...e.secondaryPanels];if(!s.length)return;let a=[];for(const t of s)a.push(...t.fields);a.forEach(t=>{"DIVIDER"===t.type||"LABEL"===t.type||"PARAGRAPH"===t.type||!t.label&&"TABLE"!==t.type||"DISABLE"===t.settings.general.visibility||this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings})}),this.sameFormFields=[],this.mainFormFields.forEach(t=>{let e=this.formFields.findIndex(e=>t.label===e.label);e>-1&&this.sameFormFields.push({id:this.$nano.id(),index:e,label:t.label,name:this.formFields[e].value,value:this.mainFormModel[t.value]})})}},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflow.id}/${t}`},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");return"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&action=all`:"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments.value=null},async showLinks(t){if("ATTACHMENTS"===t)this.showAttachmentSheet=!0;else if("COMMENTS"===t){if(this.displayInternalPublic=!1,!this.portal){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);e&&e.settings.initiateBy.indexOf("PORTAL")>-1&&(this.displayInternalPublic=!0),this.fileNames=[],this.fileNames=this.attachmentList.filter(t=>{let e=t.name.split(".").pop().toUpperCase();return"pdf"===e.toLowerCase()}).map(t=>({id:this.$nano.id(),label:t.name,value:t.id}))}this.showCommentsSheet=!0}else"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},validateType(t){let e="";return this.panels&&this.panels.length&&this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},async getFileData(t,e){const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:r}=await l["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r),this.jiraCommentAction=1},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflow.id),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),this.formData=a,e?(a.append("fields",e),this.formData=e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(m["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(m["a"])(r))return void this.$alert.info("This file format is not supported");try{const i=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let d=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),h=this.fileData.find(t=>t.name===d.name),m=!1;"pdf"!==r.toLowerCase()&&(m=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?h.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:m}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async uploadWflowAttachments(t){if(this.fileUploadForControl=!1,"STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;this.showMetaDataEditModal=!0}else this.uploadAttachments(t)},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflow.id||2092===this.workflow.id)&&0===this.attachmentList.length},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},toggleWidth(){this.formWidth="100vw"===this.formWidth?"50vw":"100vw"},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})),this.$emit("commentsLength",this.commentsList.length))},async saveComment(){if(this.commentText)if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)});this.actionComments&&this.processRequest(!1,!1)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(p["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(m["d"])(e))s="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="";"inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(i="&action=all");let s="";if(Object(m["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(m["c"])(e)?t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(m["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${i}`}}},closeTaskSheet(){this.taskSheet=!1},closeJiraIssueSheet(){this.issueName="",this.projectKey="",this.issueType="",this.issueDescription="",this.issueEpicValue="",this.issueAssignee="",this.issueDescriptionTable=!1,this.issueDescriptionFields=[],this.jiraIssueSheet=!1},loadProcessLinks(){this.getComments(),this.getAttachments(),this.getProcessSignature(),this.getMailTransactions()},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await l["t"].getProcessSignature(this.workflow.id,this.selectedProcess.processId);t?this.$alert.error(t):this.signList=e},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length-1)}),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await l["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getAppConnection(){this.jiraConnect=!1;const{error:t,payload:e}=await l["j"].getJiraConnection({filterBy:[]});t?this.$alert.error(t):e.forEach(t=>{"jira"===t.cloudName&&(this.jiraConnect=!0,this.jiraAccounts.push(t))})},async createJiraIssue(){this.issueRef={};const t=await this.$refs.form.validate();if(!t)return;let e=[],i="",s="",a=0;this.groupKey.forEach(t=>{if(t.checked)return e=[],void(i=t.name)}),""===i&&(this.workflowRequestList.forEach(t=>{t.checked&&e.push(t.transactionId)}),this.issueDescriptionTable&&(s="||Action Taken (Mandatory)",this.issueDescriptionFields.forEach(t=>{s+="||"+t}),s+="||\n",this.workflowRequestList.forEach(t=>{t.checked&&(s+="|| ",this.issueDescriptionFields.forEach(e=>{var i;let o=null===(i=this.formFields.find(t=>t.label===e))||void 0===i?void 0:i.value;"Savings"===e?t.formData.fields[o]?(s+="||"+Number(t.formData.fields[o]).toFixed(2),a+=Number(t.formData.fields[o])):s+="|| ":t.formData.fields[o]?s+="||"+t.formData.fields[o]:s+="|| "}),s+="||\n")}),s+="Potential Savings: "+a.toFixed(2)+"\n"));let o={};o=this.jiraAccounts[0].email?{fields_cloud:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:{content:[{content:[{text:this.issueDescription+s,type:"text"}],type:"paragraph"}],type:"doc",version:1}}},cloudIntegrationId:this.jiraAccounts[0].id}:{fields_onpremise:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:this.issueDescription+s,customfield_14635:{value:"No"},customfield_15136:{value:"Maintenance"}}},cloudIntegrationId:this.jiraAccounts[0].id,workflowId:this.workflow.id,transactionId:e,mlPrediction:i,assignee:this.issueAssignee?{name:this.issueAssignee}:{},filterBy:this.filterBy},this.$store.commit("showLoadingBar");const{error:r,payload:n}=await l["j"].createJiraIssue(o);if(this.$store.commit("hideLoadingBar"),r){this.$alert.warning("error creating issue in jira");let t=JSON.parse(r);return console.log(t),this.errorMessage=t.errorMessages,void(this.errorModal=!0)}if(i)this.successModal=!0;else{if(!n)return void this.$alert.warning("error creating issue in jira");this.issueRef=JSON.parse(n),this.issueRef.self=this.getJIRALink(this.issueRef),this.$alert.success("Issue Created in JIRA"),this.jiraConfirmModal=!0}this.closeJiraIssueSheet()},async insertJiraIssueComment(){var t,e;let i="",s="";if(i=null===(t=this.formFields.find(t=>"Reference ID"===t.label))||void 0===t?void 0:t.value,s=null===(e=this.formFields.find(t=>"Remarks"===t.label))||void 0===e?void 0:e.value,this.workflowFormModel[i]&&this.workflowFormModel[s]){this.$store.commit("showLoadingBar");let t={};t=this.jiraAccounts[0].email?{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_cloud:{body:this.workflowFormModel[s]}}:{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_onpremise:{body:this.workflowFormModel[s]}};const{error:e,payload:a}=await l["j"].insertJiraIssueComments(t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);console.log(a)}},async getJiraUsers(){this.issueAssigneeUsers=[];const{error:t,payload:e}=await l["j"].getJiraUsers({cloudIntegrationId:this.jiraAccounts[0].id});t?this.$alert.error(t):e.length&&e.forEach(t=>{this.issueAssigneeUsers.push({id:t.key,label:t.displayName,value:t.name})})},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy));let a=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let e=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&e.push(t.fileId)}),e.length&&a.push({jsonId:t.value,fileIds:e}),delete this.workflowFormModel[t.value]}}),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel,formUpload:a},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},this.saveOnly||this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.saveOnly||this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),this.saveOnly?this.saveOnly=!1:(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.customReply=!1,this.userReply=!1,this.toRequester=!1,this.closeProcessSheet()),this.fileControlDeleteFile.length&&(this.fileControlDeleteFile.forEach(t=>{this.fileControlDeletedFile(t)}),this.fileControlDeleteFile=[]))},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{if(this.documentRequired&&0===this.attachmentList.length)return this.$alert.warning("A minimum of one document is required for submission"),this.saveAction="",void(this.workflowFormModel={});let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.initiateProcess?this.initiateRequest():this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},async groupProcessRequest(){let t=[],e="";this.workflowRequestList.forEach(e=>{e.key===this.groupActionKey&&e.checked&&t.push(e.transactionId)}),this.groupKey.forEach(i=>{if(i.checked)return t=[],void(e=i.name)});let i={workflowId:this.workflow.id,transactionId:t,review:"Save"===this.saveAction?"":this.saveAction,fields:this.workflowFormModel,mlPrediction:e,comments:this.commentText,userIds:this.forwardUsers,groupIds:this.forwardGroups,filterBy:this.filterBy};const{error:s}=await l["t"].groupRequestAction(i);this.$store.commit("hideLoadingBar"),s?this.$alert.error(s):(await this.insertJiraIssueComment(),this.saveAction="",this.workflowFormModel={},this.forwardUsers=[],this.forwardGroups=[],this.$alert.success("Group Request Processed"),this.closeRequestActionModal(),this.$emit("refresh",this.workflow.id))},async initiateRequest(){let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)});let e=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let i=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&i.push(t.fileId)}),i.length&&e.push({jsonId:t.value,fileIds:i}),delete this.workflowFormModel[t.value]}});let i={workflowId:this.workflow.id,review:"Save"===this.saveAction?"":this.saveAction,comments:this.commentsList,formData:{formId:this.formId,fields:this.workflowFormModel,formUpload:e},fileIds:t,task:this.taskEntryId,hasFormPDF:this.generatePDF,prefix:this.requestPrefix,mlPrediction:this.mlPrediction};this.$store.commit("showLoadingBarSave");const{error:s,payload:a}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.workflowFormModel={},this.alertModal=!1,s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(a),this.$alert.success(a.requestNo+" Request Initiated"),this.mainProcessId?this.addSubWorkflowProcess(a.processId):this.$emit("update:subProcessId",a.processId),this.closeProcessSheet())},saveMetaData(t){let e=[];if(this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(D["a"])(e.label)===Object(D["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.fileUploadForControl){this.metaDataModal=t;let i=this.fileUploadInput;this.uploadFilesFromForm(i.files,i.control,i.fieldId,JSON.stringify(e))}else this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async getTaskList(){this.taskEntries=[];const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async insertTaskEntry(t,e){const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});i?this.$alert.error(i):this.getTaskList()},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},async uploadFile(t){const e=t.target.files[0];if("text/csv"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type){const s=new FormData;s.append("formId",this.masterFormId),s.append("file",e);try{this.$store.commit("showLoadingBarSave");const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/form/uploadMasterFile",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBarSave");const{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Data imported successfully")}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.dataImported=!0,t.target.value=""}else this.$alert.error("Please upload a csv/excel file")},async addSubWorkflowProcess(t){let e={mainWorkflowId:this.mainWorkflowId,subWorkflowId:this.workflowId,mainProcessId:this.mainProcessId,subProcessId:t,subProcessStatus:0,review:""};const{error:i}=await l["t"].addSubWorkflow(e);i?this.$alert.error(i):this.updateSubWorkflowProcess()},getModel(t){if(this.formModel={},this.itemModel={},console.log(this.selectedProcess.processId,t,this.selectedProcess.id,this.workflow.id),this.selectedProcess.processId==t&&this.selectedProcess.id==this.workflow.id)if(this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stageName}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData)},async dataValidation(t,e=!0){const{error:i,payload:s}=await l["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:t}],groupCondition:""}],mode:"BROWSE"});i?this.$alert.error(i):s.length?(this.dataValidationValues=s,e&&(this.dataValidationModal=!0)):(this.dataValidationValues=[],e&&this.$alert.info("Data not found"))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(m["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async updateSubWorkflowProcess(){const{error:t,payload:e}=await l["q"].updateSubWorkflowProcess(this.mainWorkflowId,this.$store.state.session.tenantId,this.workflowId);t?this.$alert.error(t):console.log(e)},async uploadFilesFromForm(t,e,i,s){this.formUploadFiles=[];const a=new FormData;let o=[];if(e&&e.length&&e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&o.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t)if(e.name&&!e.error){a.append("repositoryId",this.workflow.repositoryId),a.append("file",e),a.append("filename",e.name),o.length&&a.append("formFields",JSON.stringify(o)),s?a.append("fields",s):a.append("fields","");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),this.workflowModel[i][a].uploadedPercentage=s)}.bind(this)}),{status:s,data:o}=t;if(200!==s)throw"Invalid response";e.createdAt=this.$day.newDateTime(),e.createdBy=this.$store.state.session.email;let r=JSON.parse(o);e.fileId=r.fileId,e.fieldId=i}catch(r){console.error(r),this.$alert.error("error attaching file")}}let n=Array.from(t);this.formUploadFiles=[];for(let t of n)if(t.name){const e=await Object(F["a"])(t);this.formUploadFiles.push({name:t.name,size:t.size,file:e,fileId:t.fileId,createdBy:t.createdBy,createdAt:t.createdAt,workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,fieldId:t.fieldId})}e.forEach(t=>{let e=this.readonlyControls.findIndex(e=>e===t);e>=0&&this.readonlyControls.splice(e,1)}),this.$store.commit("hideLoadingBarSave")}},mandatoryControlsList(t){this.mandatory=t},deletedFiles(t){this.fileControlDeleteFile.push(t)},async fileControlDeletedFile(t){this.$store.commit("showLoadingBar");let e=[];t.forEach(t=>{t.id&&e.push(t.id)});let i={ids:e,formInfo:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,jsonId:t[0].jsonId}};const{error:s}=await l["p"].fileControlDeleteFile(this.workflow.repositoryId,i);this.$store.commit("hideLoadingBar"),s&&this.$alert.error(s)},async checkFormValidation(){this.hasCheckFormValidate=!0},async getOCRResult(t,e,i){const s=new FormData;let a=[];if(e&&e.length){if(e.forEach(t=>{this.readonlyControls.push(t)}),e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&a.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t){if(e.name&&!e.error){s.append("repositoryId",this.workflow.repositoryId),s.append("file",e),a.length&&s.append("formFields",JSON.stringify(a));try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/uploadforStaticMetadata",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),100!==s&&(this.workflowModel[i][a].uploadedPercentage=s))}.bind(this)}),{status:a,data:o}=t;if(200!==a)throw"Invalid response";let r=Object(M["a"])(o,this.$store.state.identity.key,this.$store.state.identity.iv),n=JSON.parse(r),l=JSON.parse(n),c=JSON.parse(l);Array.isArray(c)&&c.forEach(t=>{let e=this.formFields.find(e=>e.label===t.name);e&&t.value&&(this.workflowModel[e.value]=t.value)})}catch(o){console.error(o),this.$alert.error("error on get ocr result")}}this.workflowModel[i].findIndex(t=>t.name===e.name)}this.$store.commit("hideLoadingBarSave"),this.uploadFileForControl(t,e,i)}}else this.uploadFileForControl(t,e,i)},async uploadFileForControl(t,e,i){if(this.fileUploadInput={files:t,control:e,fieldId:i},"STATIC"===this.repositoryDetails.fieldsType){if(this.fileUploadForControl=!1,this.customCheckUpload()){let t=this.formFields.find(t=>"Document No"===t.label);t&&(this.uploadFilename=this.workflowModel[t.value]+".pdf")}this.fileUploadForControl=!0,this.showMetaDataEditModal=!0}else this.uploadFilesFromForm(t,e,i)},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await l["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})}}},z=E,R=(i("e98d"),i("5ab0"),i("2877")),q=i("58ea"),V=i("4e73"),H=i("b047"),W=i("cb32"),j=i("8169"),X=i("93dc"),Y=i.n(X),G=Object(R["a"])(z,s,a,!1,null,"5b96b9ec",null);e["a"]=G.exports;Y()(G,"components",{QCircularProgress:q["a"],QMenu:V["a"],QChip:H["a"],QAvatar:W["a"],QChatMessage:j["a"]})},4714:function(t,e,i){},4759:function(t,e,i){},"487e":function(t,e,i){"use strict";i("0b2c")},"4d38":function(t,e,i){},"4d5a":function(t,e,i){"use strict";var s=i("a026"),a=i("0967"),o=i("0831"),r=i("d882");const{passive:n}=r["f"];var l=s["default"].extend({name:"QScrollObserver",props:{debounce:[String,Number],horizontal:Boolean,scrollTarget:{default:void 0}},render:r["g"],data(){return{pos:0,dir:!0===this.horizontal?"right":"down",dirChanged:!1,dirChangePos:0}},watch:{scrollTarget(){this.__unconfigureScrollTarget(),this.__configureScrollTarget()},"$q.lang.rtl"(){this.__emit()}},methods:{getPosition(){return{position:this.pos,direction:this.dir,directionChanged:this.dirChanged,inflexionPosition:this.dirChangePos}},trigger(t){if(!0===t||0===this.debounce||"0"===this.debounce)this.__emit();else if(void 0===this.clearTimer){const[t,e]=this.debounce?[setTimeout(this.__emit,this.debounce),clearTimeout]:[requestAnimationFrame(this.__emit),cancelAnimationFrame];this.clearTimer=()=>{e(t),this.clearTimer=void 0}}},__emit(){void 0!==this.clearTimer&&this.clearTimer();const t=!0===this.horizontal?o["a"]:o["b"],e=Math.max(0,t(this.__scrollTarget)),i=e-this.pos,s=!0===this.horizontal?i<0?"left":"right":i<0?"up":"down";this.dirChanged=this.dir!==s,this.dirChanged&&(this.dir=s,this.dirChangePos=this.pos),this.pos=e,this.$emit("scroll",this.getPosition())},__configureScrollTarget(){this.__scrollTarget=Object(o["c"])(this.$el.parentNode,this.scrollTarget),this.__scrollTarget.addEventListener("scroll",this.trigger,n),this.trigger(!0)},__unconfigureScrollTarget(){void 0!==this.__scrollTarget&&(this.__scrollTarget.removeEventListener("scroll",this.trigger,n),this.__scrollTarget=void 0)}},mounted(){this.__configureScrollTarget()},beforeDestroy(){void 0!==this.clearTimer&&this.clearTimer(),this.__unconfigureScrollTarget()}}),c=i("3980"),d=i("87e8"),h=i("e277"),u=i("d54d");e["a"]=s["default"].extend({name:"QLayout",mixins:[d["a"]],provide(){return{layout:this}},props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())}},data(){return{height:this.$q.screen.height,width:!0===this.container?0:this.$q.screen.width,containerHeight:0,scrollbarWidth:!0===a["f"]?0:Object(o["d"])(),header:{size:0,offset:0,space:!1},right:{size:300,offset:0,space:!1},footer:{size:0,offset:0,space:!1},left:{size:300,offset:0,space:!1},scroll:{position:0,direction:"down"}}},computed:{rows(){const t=this.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}},style(){return!0===this.container?null:{minHeight:this.$q.screen.height+"px"}},targetStyle(){if(0!==this.scrollbarWidth)return{[!0===this.$q.lang.rtl?"left":"right"]:this.scrollbarWidth+"px"}},targetChildStyle(){if(0!==this.scrollbarWidth)return{[!0===this.$q.lang.rtl?"right":"left"]:0,[!0===this.$q.lang.rtl?"left":"right"]:`-${this.scrollbarWidth}px`,width:`calc(100% + ${this.scrollbarWidth}px)`}},totalWidth(){return this.width+this.scrollbarWidth},classes(){return"q-layout q-layout--"+(!0===this.container?"containerized":"standard")},scrollbarEvtAction(){return!0!==this.container&&this.scrollbarWidth>0?"add":"remove"}},watch:{scrollbarEvtAction:"__updateScrollEvent"},created(){this.instances={}},mounted(){"add"===this.scrollbarEvtAction&&this.__updateScrollEvent("add")},beforeDestroy(){"add"===this.scrollbarEvtAction&&this.__updateScrollEvent("remove")},render(t){const e=t("div",{class:this.classes,style:this.style,attrs:{tabindex:-1},on:{...this.qListeners}},Object(h["a"])([t(l,{on:Object(u["b"])(this,"scroll",{scroll:this.__onPageScroll})}),t(c["a"],{on:Object(u["b"])(this,"resizeOut",{resize:this.__onPageResize})})],this,"default"));return!0===this.container?t("div",{staticClass:"q-layout-container overflow-hidden"},[t(c["a"],{on:Object(u["b"])(this,"resizeIn",{resize:this.__onContainerResize})}),t("div",{staticClass:"absolute-full",style:this.targetStyle},[t("div",{staticClass:"scroll",style:this.targetChildStyle},[e])])]):e},methods:{__animate(){void 0!==this.timer?clearTimeout(this.timer):document.body.classList.add("q-body--layout-animate"),this.timer=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),this.timer=void 0},150)},__onPageScroll(t){!0!==this.container&&!0===document.qScrollPrevented||(this.scroll=t),void 0!==this.qListeners.scroll&&this.$emit("scroll",t)},__onPageResize({height:t,width:e}){let i=!1;this.height!==t&&(i=!0,this.height=t,void 0!==this.qListeners["scroll-height"]&&this.$emit("scroll-height",t),this.__updateScrollbarWidth()),this.width!==e&&(i=!0,this.width=e),!0===i&&void 0!==this.qListeners.resize&&this.$emit("resize",{height:t,width:e})},__onContainerResize({height:t}){this.containerHeight!==t&&(this.containerHeight=t,this.__updateScrollbarWidth())},__updateScrollbarWidth(){if(!0===this.container){const t=this.height>this.containerHeight?Object(o["d"])():0;this.scrollbarWidth!==t&&(this.scrollbarWidth=t)}},__updateScrollEvent(t){void 0!==this.timerScrollbar&&"remove"===t&&(clearTimeout(this.timerScrollbar),this.__restoreScrollbar()),window[t+"EventListener"]("resize",this.__hideScrollbar)},__hideScrollbar(){if(void 0===this.timerScrollbar){const t=document.body;if(t.scrollHeight>this.$q.screen.height)return;t.classList.add("hide-scrollbar")}else clearTimeout(this.timerScrollbar);this.timerScrollbar=setTimeout(this.__restoreScrollbar,200)},__restoreScrollbar(){this.timerScrollbar=void 0,document.body.classList.remove("hide-scrollbar")}}})},"4e64":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:t._style,attrs:{id:"pulse"}})},a=[],o=i("b263"),r={name:"Pulse",props:{color:{type:String,default:"secondary",validator:o["a"]}},computed:{_style(){return`background-color: var(--${this.color}); color: var(--${this.color})`}}},n=r,l=(i("e953"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,"123d286d",null);e["a"]=c.exports},"50ff":function(t,e,i){},5132:function(t,e,i){"use strict";var s=i("2250"),a=i("4dc8");function o(t,e){e=Object(s["a"])(e,t);var i=0,o=e.length;while(null!=t&&i<o)t=t[Object(a["a"])(e[i++])];return i&&i==o?t:void 0}e["a"]=o},"55ff":function(t,e,i){"use strict";i("9db8")},"56ec":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("AppLayout",[e("div",{attrs:{id:"charts"}},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-6"},[e("BarChart",{attrs:{title:"Bar Chart - Vertical","x-data":t.barChartxData,"y-data":t.barChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addBarChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeBarChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("BarChart",{attrs:{title:"Bar Chart - Horizontal","is-horizontal":"","x-data":t.barChartxData,"y-data":t.barChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addBarChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeBarChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("LineChart",{attrs:{title:"Line Chart","x-data":t.lineChartxData,"y-data":t.lineChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addLineChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeLineChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("StepChart",{attrs:{title:"Step Chart","x-data":t.lineChartxData,"y-data":t.lineChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addLineChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeLineChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("BarChart",{attrs:{title:"Stack Chart - Vertical","is-stacked":"","x-data":t.barChartxData,"y-data":t.barChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addBarChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeBarChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("BarChart",{attrs:{title:"Stack Chart - Horizontal","is-stacked":"","is-horizontal":"","x-data":t.barChartxData,"y-data":t.barChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addBarChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeBarChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("AreaChart",{attrs:{title:"Area Chart","x-data":t.lineChartxData,"y-data":t.lineChartyData},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"add"},on:{click:t.addLineChartData}}),e("BaseButton",{attrs:{label:"remove",color:"secondary"},on:{click:t.removeLineChartData}})],1)]},proxy:!0}])})],1),e("div",{staticClass:"col-6"},[e("PieChart",{attrs:{title:"Pie Chart","x-data":t.pieChartxData,"y-data":t.pieChartyData}})],1),e("div",{staticClass:"col-6"},[e("DonutChart",{attrs:{title:"Donut Chart","x-data":t.pieChartxData,"y-data":t.pieChartyData}})],1),e("div",{staticClass:"col-6"},[e("RadarChart",{attrs:{title:"Radar Chart","x-data":t.radarChartxData,"y-data":t.radarChartyData}})],1),e("div",{staticClass:"col-6"},[e("GaugeChart",{attrs:{title:"Gauge Chart","x-data":t.gaugeChartxData,"y-data":t.gaugeChartyData}})],1),e("div",{staticClass:"col-6"},[e("RadialBarChart",{attrs:{title:"Radial Bar Chart","x-data":t.radialBarChartxData,"y-data":t.radialBarChartyData}})],1),e("div",{staticClass:"col-6"},[e("BubbleChart",{attrs:{title:"Bubble Chart","x-data":t.bubbleChartxData,"y-data":t.bubbleChartyData}})],1),e("div",{staticClass:"col-6"},[e("BoxPlotChart",{attrs:{title:"Box Plot Chart - Vertical","xy-data":t.boxPlotChartxyData}})],1),e("div",{staticClass:"col-6"},[e("BoxPlotChart",{attrs:{title:"Box Plot Chart - Horizontal","is-horizontal":"","xy-data":t.boxPlotChartxyData}})],1),e("div",{staticClass:"col-6"},[e("CandleStickChart",{attrs:{title:"Candle Stick Chart","xy-data":t.candleStickChartxyData}})],1),e("div",{staticClass:"col-6"},[e("RangeChart",{attrs:{title:"Range Chart - Vertical","xy-data":t.rangeChartxyData}})],1),e("div",{staticClass:"col-6"},[e("RangeChart",{attrs:{title:"Range Chart - Horizontal","is-horizontal":"","xy-data":t.rangeChartxyData}})],1),e("div",{staticClass:"col-6"},[e("HeatMapChart",{attrs:{title:"Heat Map Chart","xy-data":t.heatMapChartxyData}})],1),e("div",{staticClass:"col-6"},[e("TreeMapChart",{attrs:{title:"Tree Map Chart","xy-data":t.treeMapChartxyData}})],1)])])])},a=[],o=(i("14d9"),i("5a75")),r=i("9254"),n=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.lineChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},l=[],c=i("a1a34"),d=i("2adf"),h={name:"LineChart",components:{ChartWrapper:d["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{lineChartOptions:{type:"line",xaxis:{categories:this.xData}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(c["a"])(this.lineChartOptions,this.options)}}}},u=h,m=i("2877"),p=Object(m["a"])(u,n,l,!1,null,"5aee4a54",null),f=p.exports,g=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.stepChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},v=[],b={name:"StepChart",components:{ChartWrapper:d["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{stepChartOptions:{type:"line",xaxis:{categories:this.xData},stroke:{curve:"stepline"}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(c["a"])(this.stepChartOptions,this.options)}}}},y=b,x=Object(m["a"])(y,g,v,!1,null,"758b2db9",null),w=x.exports,C=i("8a57"),k=i("c2d0"),S=i("1521"),A=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.radarChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},I=[],L=i("2f62"),T={name:"RadarChart",components:{ChartWrapper:d["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{radarChartOptions:{chart:{type:"radar"},labels:this.xData,fill:{opacity:.5},plotOptions:{radar:{size:230,polygons:{strokeColors:"#cbd5e1",connectorColors:"#cbd5e1"}}}}}},computed:{...Object(L["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(c["a"])(this.radarChartOptions,this.options)}},darkTheme(){this.radarChartOptions.plotOptions.radar.polygons.strokeColors=this.darkTheme?"#475569":"#cbd5e1",this.radarChartOptions.plotOptions.radar.polygons.connectorColors=this.darkTheme?"#475569":"#cbd5e1"}}},P=T,_=Object(m["a"])(P,A,I,!1,null,"01dd9b0a",null),F=_.exports,M=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.gaugeChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},D=[],B={name:"GaugeChart",components:{ChartWrapper:d["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{gaugeChartOptions:{chart:{type:"radialBar"},labels:this.xData,plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e2e8f0"},dataLabels:{name:{show:!0},value:{show:!0,color:"#1e293b",fontWeight:600}}}}}}},computed:{...Object(L["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(c["a"])(this.gaugeChartOptions,this.options)}},darkTheme(){this.gaugeChartOptions.plotOptions.radialBar.track.background=this.darkTheme?"#334155":"#e2e8f0",this.gaugeChartOptions.plotOptions.radialBar.dataLabels.value.color=this.darkTheme?"#cbd5e1":"#1e293b"}}},$=B,O=Object(m["a"])($,M,D,!1,null,"6259ec8c",null),N=O.exports,E=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.radialBarChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},z=[],R={name:"RadialBarChart",components:{ChartWrapper:d["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{radialBarChartOptions:{chart:{type:"radialBar"},labels:this.xData,plotOptions:{radialBar:{track:{background:"#e2e8f0"},dataLabels:{name:{show:!0},value:{show:!0,color:"#1e293b",fontWeight:600},total:{show:!0,color:"#1e293b"}}}}}}},computed:{...Object(L["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(c["a"])(this.radialBarChartOptions,this.options)}},darkTheme(){this.radialBarChartOptions.plotOptions.radialBar.track.background=this.darkTheme?"#334155":"#e2e8f0",this.radialBarChartOptions.plotOptions.radialBar.dataLabels.value.color=this.darkTheme?"#cbd5e1":"#1e293b",this.radialBarChartOptions.plotOptions.radialBar.dataLabels.total.color=this.darkTheme?"#cbd5e1":"#1e293b"}}},q=R,V=Object(m["a"])(q,E,z,!1,null,"5f379cfb",null),H=V.exports,W=i("8801"),j=i("eab1"),X=i("a176"),Y=i("7cc9"),G=i("21d0"),U=i("dd6d"),J={name:"Charts",components:{AppLayout:o["a"],BarChart:r["a"],LineChart:f,StepChart:w,AreaChart:C["a"],PieChart:k["a"],DonutChart:S["a"],RadarChart:F,GaugeChart:N,RadialBarChart:H,BubbleChart:W["a"],BoxPlotChart:j["a"],CandleStickChart:X["a"],RangeChart:Y["a"],HeatMapChart:G["a"],TreeMapChart:U["a"]},data(){return{barChartxData:[2019,2020,2021,2022],barChartyData:[{name:"Series 1",data:[34,19,44,42]},{name:"Series 2",data:[12,39,52,36]}],lineChartxData:[2019,2020,2021,2022],lineChartyData:[{name:"Series 1",data:[34,19,44,42]},{name:"Series 2",data:[12,39,52,36]}],pieChartxData:["Apple","Mango","Orange","Watermelon","Grapes","Pineapple"],pieChartyData:[44,55,13,33,38,9],boxPlotChartxyData:[{data:[{x:"Series 1",y:[40,51.98,56.29,59.59,63.85]},{x:"Series 2",y:[43.66,44.99,51.35,52.95,59.42]},{x:"Series 3",y:[52.76,57.35,59.15,63.03,67.98]},{x:"Series 4",y:[40.3,51.98,56.29,59.59,63.85]},{x:"Series 5",y:[43.66,44.99,51.35,52.95,59.42]}]}],candleStickChartxyData:[{data:[{x:"2022-04-13",y:[53.66,54.99,51.59,53.85]},{x:"2022-04-14",y:[53.66,54.99,51.35,52.95]},{x:"2022-04-15",y:[51.98,56.29,51.59,53.85]},{x:"2022-04-16",y:[53.66,54.99,51.35,53.42]},{x:"2022-04-17",y:[52.76,55.35,52.15,55.03]}]}],rangeChartxyData:[{name:"Cricket",data:[{x:"Team A",y:[65,96]},{x:"Team B",y:[55,78]},{x:"Team C",y:[65,96]}]},{name:"Football",data:[{x:"Team A",y:[25,88]},{x:"Team B",y:[35,88]},{x:"Team C",y:[75,85]}]}],heatMapChartxyData:[{name:"Cricket",data:[{x:"2019",y:42},{x:"2020",y:35},{x:"2021",y:50},{x:"2022",y:29}]},{name:"Football",data:[{x:"2019",y:50},{x:"2020",y:25},{x:"2021",y:40},{x:"2022",y:45}]}],treeMapChartxyData:[{name:"Population",data:[{x:"New Delhi",y:218},{x:"Kolkata",y:149},{x:"Mumbai",y:184},{x:"Ahmedabad",y:55},{x:"Bangaluru",y:84},{x:"Pune",y:31},{x:"Chennai",y:70}]}],radarChartxData:["April","May","June","July","August","September"],radarChartyData:[{name:"Cricket",data:[26,21,20,6,8,15]},{name:"Football",data:[45,52,38,24,33,10]}],gaugeChartxData:["Progress"],gaugeChartyData:[72],radialBarChartxData:["Apples","Oranges","Bananas","Berries"],radialBarChartyData:[44,55,67,83],bubbleChartxData:[2018,2019,2020,2021,2022],bubbleChartyData:[{name:"Cricket",data:[44,55,13,33,38,9]},{name:"Football",data:[12,39,52,36,44]}]}},methods:{addBarChartData(){this.barChartyData.length<5&&this.barChartyData.push({name:"Series "+(this.barChartyData.length+1),data:[Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random())]})},removeBarChartData(){this.barChartyData.length>1&&this.barChartyData.pop()},addLineChartData(){this.lineChartyData.length<5&&this.lineChartyData.push({name:"Series "+(this.lineChartyData.length+1),data:[Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random())]})},removeLineChartData(){this.lineChartyData.length>1&&this.lineChartyData.pop()}}},Q=J,Z=Object(m["a"])(Q,s,a,!1,null,"0dae41f0",null);e["default"]=Z.exports},5960:function(t,e,i){"use strict";i("9a8d")},"5a6e":function(t,e,i){"use strict";(function(t){i("14d9"),i("caad");var s=i("4e64"),a=i("381e"),o=i("1b0d"),r=i("4bc4"),n=i("eff0"),l=i("dd90"),c=i("a7d2"),d=i("6a70"),h=i("bc3a"),u=i.n(h),m=i("1c54"),p=i("695e"),f=i("8bc3"),g=i("869e"),v=i("6df3"),b=i("9234"),y=i("fa1f"),x=i("cade"),w=i("be3f"),C=i("8505"),k=i("470f"),S=i("b0ba"),A=i("ec15"),I=i("bb36");e["a"]={name:"Notifications",components:{Pulse:s["a"],Sheet:a["a"],RenderForm:r["a"],SignatureField:n["a"],Modal:d["a"],Confirm:m["a"],TextBuilderField:p["a"],PasswordField:f["a"],CheckboxField:g["a"],TextAreaField:v["a"],SingleChoiceField:b["a"],FileIcon:y["a"],ListItem:x["a"],ExpandableSearch:w["a"],ProcessHistory:C["a"],SubWorkflowProcess:k["a"],FormEntryHistory:S["a"],Attachments:A["a"],Comments:I["a"]},data(){return{notificationSheet:!1,notifyData:[],notifyCopyData:[],iconColor:"secondary",workflowId:0,processId:0,workflow:{},workflowRequestList:[],formId:"",form:null,formFields:[],formModel:{},formEditAccess:!1,formEditControls:[],formVisibilityAccess:!0,formSecureControls:[],workflowFormModel:{},saveAction:"",attachmentList:[],attachmentSheet:!1,commentText:"",commentsList:[],commentsSheet:!1,selectedProcess:{},selectedFile:{},fileSheet:!1,checkList:[],rowIndex:null,hideFileSheet:!1,processSheet:!1,totalItems:0,itemsPerPage:10,currentPage:1,title:"NO DATA",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Sub Process",value:"SUB_PROCESS",icon:"eva-link-2-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskSheet:!1,headerTitle:"",taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",filterBy:[],processActions:[],processActionsAddOn:[],advancedCommentsSheet:!1,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,advancedCommentText:"",actionText:"",actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",isLoading:!1,internalForward:{proceed:!1,users:[],groups:[]},userSignature:!1,signImg:"",signList:[],actions:[],itemModel:{},checkListRowIndex:null,selectAll:!1,processForwardGroupAction:!1,processForwardModal:!1,forwardUsers:[],forwardGroups:[],errorMessage:"",alertModal:!1,errorModal:!1,documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],addTaskEnabled:!1,notifyLoad:null,alertNotification:!1,historyProcessId:0,hasWflowInitiator:!1,subWorkflowId:0,initiateSubWorkflowProcess:!1,subProcessSheet:!1,subProcessData:{},subTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],subProcessLink:"",openSubProcessSheet:!1,subProcessTickets:[],subProcessId:0,workflowList:[],showFormEntryHistoryModal:!1,showAttachmentSheet:!1,wform:{},showCommentsSheet:!1}},computed:{panels(){return this.form?this.form.panels:[]},secondaryPanels(){return this.form?this.form.secondaryPanels:[]},formSettings(){return this.form?this.form.settings:{}},checkListTemplate(){return!!this.checkList.length&&this.checkList.filter(t=>t.template).length>0},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},_enableControls(){let t=[],e=[];return this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}}},watch:{selectedProcess:{immediate:!0,handler(){this.selectedProcess.processId&&(this.attachmentList=[],this.getComments(),this.getAttachments(),this.getProcessSignature())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.checkRequiredDocument()}},subWorkflowId(){if(this.subWorkflowId){let t=this.workflowList.find(t=>t.value==this.subWorkflowId);if(t){this.subWorkflowName="Initiate - "+t.label,this.hasWflowInitiator=!1;let e=t.flowJson,i=e.blocks.find(t=>"START"===t.type);if(i&&"MANUAL"===i.settings.initiateMode&&"DOCUMENT"!==t.initiatedBy&&((i.settings.users.indexOf(this.$store.state.session.id)>-1||i.settings.users.indexOf("0")>-1)&&(this.hasWflowInitiator=!0),i.settings.initiateBy.indexOf("DOMAIN_USER")>-1)){let t=this.$store.state.session.email.split("@").pop();i.settings.userDomains.indexOf(t)>-1&&(this.hasWflowInitiator=!0)}}else this.hasWflowInitiator=!1}}},created(){this.getNotifications();let t=location.origin;t.indexOf("http://localhost")>0&&(this.notifyLoad=setInterval(()=>{this.getNotifications(!0)},3e4))},methods:{checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t},checkTabAccess(t){return"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},duration(t){const e=t instanceof Date?t:new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateURL(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return e.test(t)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();return this.selectedFile.initiate?Object(l["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`:Object(l["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(l["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:Object(l["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2`}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},download(t){window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t}`)},downloadAll(){this.checkList.forEach(t=>{t.id&&t.template&&window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t.id}`)})},attachTemplate(t){this.rowIndex=t,this.$refs.attachments.click()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},checkDocument(){this.docWarning=!1,this.trackRequest||this.checkList.length&&this.checkList.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})},closeTaskSheet(){this.taskSheet=!1},closeProcessSheet(){this.processSheet=!1},openForm(t){if("WORKFLOW"===t.category){let e=JSON.parse(t.inputJson);this.workflowId=Number(e.workflowId),this.processId=Number(e.processId),this.filterBy=[{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"requestNo",condition:"IS_EQUALS_TO",value:t.title.split(": ")[1]}]}],this.getSubWorkflow(),this.getWorkflowData()}else"TASK"===t.category&&console.log(t)},openNotification(){this.alertNotification=!1,this.notifyLoad=setInterval(()=>{this.getNotifications(!0)},3e4),this.clearAllNotifications(2),this.getUserWorkflow(),this.notificationSheet=!0},getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async getNotifications(t=!1){let e={filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}],mode:"Browse"};t||this.$store.commit("showLoadingBar");const{error:i,payload:s}=await o["b"].getNotifications(e);if(t||this.$store.commit("hideLoadingBar"),i)return void this.$alert.error(i);let a=s.filter(t=>!1===t.readStatus);a.length&&(this.alertNotification=!0,clearInterval(this.notifyLoad)),this.notifyData=s,this.notifyCopyData=s},async clearAllNotifications(t=1){let e=this.$store.state.session.id;const{error:i}=await o["b"].clearAllNotifications(e,t);i?this.$alert.error(i):this.getNotifications()},async deleteNotification(t){let e={isDeleted:!0};const{error:i}=await o["b"].deleteNotification(t,e);i?this.$alert.error(i):this.getNotifications()},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await o["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getWorkflow(){this.checkList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].getWorkflow(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(this.workflow=e,this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),await this.getForm()),this.getTaskForm())},async getWorkflowData(){this.$store.commit("showLoadingBar"),this.workflowRequestList=[],this.list=[];const{error:t,payload:e}=await o["o"].getWorkflowData(this.workflowId,{filterBy:this.filterBy,itemsPerPage:10,currentPage:1,mode:""});this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.data.length&&(this.selectedProcess=e.data[0].value[0],await this.getWorkflow(),this.openProcess())},async getForm(){if(this.formFields=[],this.formId){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["g"].getForm(this.formId);if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.wform=e,this.form=i;const s=[...i.panels,...i.secondaryPanels];if("CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),!s.length)return;let a=[];for(const o of s)a.push(...o.fields);a.forEach(t=>{this.formFields.push({id:this.$nano.id(),label:t.label,value:t.id,dataType:"DATE"===t.type?t.type:"SHORT_TEXT"})})}},async openProcess(){if(this.formModel={},this.itemModel={},this.formEditAccess=!0,this.formEditControls=[],this.processActions=[],this.processActionsAddOn=[],this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcessrocess.itemData&&(this.itemModel=t.itemData);if(this.selectedProcess.activityUserEmail===this.$store.state.session.email){let t=JSON.parse(this.workflow.flowJson);t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.processActions.indexOf(t.proceedAction)<0&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1}))}),this.internalForward={proceed:!1,users:[],groups:[]},this.userSignature=!1,t.blocks.forEach(e=>{if(e.id===this.selectedProcess.activityId){if(e.settings.internalForward&&(this.processActions.push("Forward"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[]),""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}this.userSignature=e.settings.userSignature,e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),e.settings.workflowInitiator&&(this.subWorkflowId=e.settings.subWorkflowId)}}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.processActions.push("Force Close")}"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),this.actions=this.processActions,this.processSheet=!0,this.getTaskList()},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},async processRequest(t=!0,e=!0){if(t&&"Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0)}}let i={};this.formId?i={workflowId:this.workflowId,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel},userIds:this.forwardUsers,groupIds:this.forwardGroups}:this.itemModel&&(i={workflowId:this.workflowId,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:s}=await o["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.closeProcessSheet(),this.$emit("refresh",this.workflowId))},showLinks(t){"ATTACHMENTS"===t?this.showAttachmentSheet=!0:"COMMENTS"===t?this.showCommentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflowId}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$alert.info("Task not found"):"SUB_PROCESS"===t?this.subProcessSheet=!0:"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},searchRow(t){this.notifyData=t?this.notifyCopyData.filter(e=>{for(let i in e)if(String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}):this.notifyCopyData},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].getProcessComments(this.workflowId,this.selectedProcess.processId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.selectedProcess.processId){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e),this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText){if(this.selectedProcess.processId){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.advancedCommentText="",this.advancedCommentsSheet=!1;this.actionComments&&this.processRequest(!1,!1)}},async sendCommentsToJira(t,e,i){this.$store.commit("showLoadingBar");let s={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:a,payload:r}=await o["j"].insertJiraIssueComments(s);if(this.$store.commit("hideLoadingBar"),a){this.$alert.error("error posting comments to jira");let t=JSON.parse(a);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r)},async uploadAttachments(t){if(this.selectedProcess.processId){const i=t.target.files[0],s=new FormData;s.append("workflowId",this.workflowId),s.append("repositoryId",this.workflow.repositoryId),s.append("processId",this.selectedProcess.processId),s.append("transactionId",this.selectedProcess.transactionId),s.append("fields",""),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(!Object(l["a"])(o))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached")}catch(e){this.$alert.error("Error uploading file"),console.error(e)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("repositoryId",this.workflow.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(!Object(l["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:o,data:r}=e;if(200!==o)throw"Invalid response";let n=JSON.parse(r);this.attachmentList.push({id:Number(n.fileId),name:a,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,uid:this.checkListRowIndex}),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(e){console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){if(this.checkList=[],this.selectedProcess.processId){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);e&&e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.checkDocument()),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:s,payload:a}=await o["t"].getAttachments(this.workflowId,this.selectedProcess.processId);if(this.$store.commit("hideLoadingBar"),s)return void this.$alert.error(s);a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i)return e});e.length?t.attach=!0:t.attach=!1})}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await o["t"].saveProcessSignature(this.workflowId,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await o["t"].getProcessSignature(this.workflowId,this.processId);t?this.$alert.error(t):this.signList=e},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflowId}/${t}`},async validatePassword(){const t=await this.$refs.passwordForm.validate();if(!t)return;this.isLoading=!0;const{error:e}=await o["a"].validatePassword({password:this.actionUserPassword});if(this.isLoading=!1,e)return console.log(e),void this.$alert.warning(e);this.actionUserPassword="",this.actionPasswordConfirm=!1,this.actionRemarks?(this.actionComments=!0,this.advancedCommentsSheet=!0):(this.actionRemarks=!1,this.actionPassword=!1,this.processRequest(!1,!1))},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].getTaskEntries(this.workflowId,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},documentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();Object(l["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await o["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getSubWorkflow(){this.tabs.find(t=>{"SUB_PROCESS"===t.value&&(t.count=0)});const{error:t,payload:e}=await o["t"].getSubWorkflow(this.workflowId,this.processId);t?this.$alert.error(t):(console.log(e,"payload"),e.length&&this.getSubProcessDetails(e[0].subWorkflowId,e))},async getSubProcessDetails(t,e){this.subProcessTickets=[];const{error:i,payload:s}=await o["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:0,currentPage:0,mode:""});if(i)this.$alert.error(i);else if(console.log(s),s.meta.totalItems){console.log(s);let t=[];e.forEach(e=>{let i=s.data[0].value.find(t=>t.processId===Number(e.subProcessId));console.log(i),i&&t.push(i)}),t.length&&(this.subProcessTickets=t),this.tabs.find(e=>{"SUB_PROCESS"===e.value&&(e.count=t.length)})}},subProcessShowLinks(t,e){this.subProcessLink="",this.subProcessData=e,this.subProcessLink=t},openSubProcess(t){this.subProcessData=t,this.openSubProcessSheet=!0},closeSubProcess(){this.openSubProcessSheet=!1,this.subProcessData={},this.initiateSubWorkflowProcess=!1},initiateSubWorkflow(){this.initiateSubWorkflowProcess=!0},async getUserWorkflow(){this.workflowList=[],this.$store.commit("showLoadingBarSave");const{error:t,payload:e}=await o["t"].getUserWorkflow();t?this.$alert.error(t):(e.length&&e.forEach(t=>{this.workflowList.push({id:this.$nano.id(),label:t.name,value:t.id,initiatedBy:t.initiatedBy,formId:t.wFormId,repositoryId:t.repositoryId,flowJson:JSON.parse(t.flowJson)})}),this.$store.commit("hideLoadingBarSave"))},closeSubProcessSheet(){this.subProcessSheet=!1}}}}).call(this,i("4362"))},"5a75":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("q-layout",{attrs:{view:"hHh LpR fFf"}},[e("Toolbar"),e("Drawer"),e("q-page-container",[e("BaseScrollbar",{staticClass:"q-pa-md relative-position",attrs:{height:"calc(100vh - 56px)"}},[t._t("default")],2)],1)],1)},a=[],o=function(){var t=this,e=t._self._c;return e("q-header",{attrs:{id:"toolbar"}},[e("q-toolbar",{staticClass:"no-padding",staticStyle:{height:"56px"}},[e("Legend"),t.customerLogo?[e("CustomerLogo",{staticClass:"q-ml-md q-mr-xl"})]:[e("Logo",{staticClass:"q-ml-md q-mr-xl"})],e("GlobalSearch"),e("q-space"),t.customerLogo&&t.ezofisLogo?[e("Logo",{staticClass:"q-ml-md q-mr-md"})]:t._e(),e("ThemeSwitcher",{staticClass:"q-mr-sm"}),e("Notifications",{staticClass:"q-mr-sm"}),e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-power-outline","no-border":""},on:{click:t.logOut}}),e("Account",{staticClass:"q-mr-md"})],2)],1)},r=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative-position cursor-pointer",on:{click:t.homePage}},[t._m(0),e("div",{attrs:{id:"legend-tail"}})])},l=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"legend"}},[e("img",{attrs:{src:"https://demo.ezofis.com/Logo/mark-white.png"}})])}],c=(i("14d9"),{name:"Legend",methods:{homePage(){var t;if(this.$store.state.session.profile&&(this.$store.state.profileMenus.length&&null!==(t=this.$store.state.profileMenus.find(t=>t.workspaces))&&void 0!==t&&t.Menu["Overview"]))return void("repositories-browse"!==this.$route.name&&this.$router.push({name:"repositories-browse"}));"workflows-overview"!==this.$route.name&&this.$router.push({name:"workflows-overview"})}}}),d=c,h=(i("b2f9"),i("2877")),u=Object(h["a"])(d,n,l,!1,null,"7e06f69f",null),m=u.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"logo"},on:{click:t.homePage}},[e("img",{attrs:{src:t._logo,height:t.logoHeight}})])},f=[],g=i("2f62"),v={name:"Logo",computed:{...Object(g["c"])(["darkTheme"]),_logo(){return this.darkTheme?"https://demo.ezofis.com/Logo/name-dark.png":"https://demo.ezofis.com/Logo/name-light.png"},logoHeight(){return"24px"}},methods:{homePage(){var t;if(this.$store.state.session.profile&&(this.$store.state.profileMenus.length&&null!==(t=this.$store.state.profileMenus.find(t=>t.workspaces))&&void 0!==t&&t.Menu["Overview"]))return void("repositories-browse"!==this.$route.name&&this.$router.push({name:"repositories-browse"}));"workflows-overview"!==this.$route.name&&this.$router.push({name:"workflows-overview"})}}},b=v,y=(i("ea0d"),Object(h["a"])(b,p,f,!1,null,"ce8b9a52",null)),x=y.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"logo"},on:{click:t.homePage}},[e("img",{attrs:{src:t._logo,height:t.logoHeight}})])},C=[],k={name:"Logo",computed:{...Object(g["c"])(["darkTheme"]),_logo(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?i("3846"):"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?i("651a"):"http://172.16.1.118"===t||"http://localhost:8080"===t?i("1d87"):i("bcdf")(`./name-${this.darkTheme?"dark":"light"}.png`)},logoHeight(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?"28px":"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"42px":"http://172.16.1.118"===t?"38px":"24px"}},methods:{homePage(){var t;if(this.$store.state.session.profile&&(this.$store.state.profileMenus.length&&null!==(t=this.$store.state.profileMenus.find(t=>t.workspaces))&&void 0!==t&&t.Menu["Overview"]))return void("repositories-browse"!==this.$route.name&&this.$router.push({name:"repositories-browse"}));"workflows-overview"!==this.$route.name&&this.$router.push({name:"workflows-overview"})}}},S=k,A=(i("75a4"),Object(h["a"])(S,w,C,!1,null,"7d62c8eb",null)),I=A.exports,L=function(){var t=this,e=t._self._c;return e("div",{ref:"search",attrs:{id:"global-search"}},[e("BaseIcon",{attrs:{name:"eva-search"}}),e("div",{staticClass:"label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],ref:"searchQuery",staticClass:"q-px-xs",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("q-space"),t._e()],1),e("q-menu",{staticClass:"shadow-3",attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right","no-parent-event":"",fit:""},model:{value:t.showSearchOptions,callback:function(e){t.showSearchOptions=e},expression:"showSearchOptions"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:"calc(80vh - 273px)",width:"600px"}},[e("div",{attrs:{id:"search-menu"}},[e("table",[e("tbody",[e("tr",[e("td",{staticClass:"label"},[t._v("Type")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.typeList},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)]),t.type?["Folder"===t.type||"Workspace"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Workspace")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.workspaceList},model:{value:t.workspace,callback:function(e){t.workspace=e},expression:"workspace"}})],1)]):t._e(),"Folder"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Folder")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.folderList},model:{value:t.folder,callback:function(e){t.folder=e},expression:"folder"}})],1)]):t._e(),"Task"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Task")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.taskList},model:{value:t.task,callback:function(e){t.task=e},expression:"task"}})],1)]):t._e(),"Form"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Form")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.formList},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1)]):t._e(),"Workflow"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Workflow")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.workflowList},model:{value:t.workflow,callback:function(e){t.workflow=e},expression:"workflow"}})],1)]):t._e(),"User"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("User")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.userList},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)]):t._e(),"Group"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Group")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.groupList},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1)]):t._e(),t._e()]:t._e(),t._e()],2)])])]),e("div",{staticClass:"row items-center footer q-pa-sm"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row items-center date-filter"},[e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"From Date"},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"col-auto q-mx-sm"},[e("BaseIcon",{attrs:{name:"eva-arrow-forward-outline"}})],1),e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"To Date"},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)])]),e("q-space"),e("div",{staticClass:"col-auto footer1 q-ml-sm"},[e("div",{staticClass:"row items-center"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"reset"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"search more"},on:{click:t.searchFiles}})],1)])],1)],1),e("q-menu",{staticClass:"shadow-3",attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right","no-parent-event":"",fit:"","no-focus":"","no-refocus":""},model:{value:t.showSearchMenu,callback:function(e){t.showSearchMenu=e},expression:"showSearchMenu"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:"calc(80vh - 273px)",width:"600px"}},[e("div",{attrs:{id:"search-menu"}},[e("div",{staticClass:"row items-center chip-menu q-pb-sm",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t._l(t.typeList,(function(i){return[i.isVisible?e("div",{key:i.id,staticClass:"chip",class:{"condition-chip":i.isSelectMenu},on:{click:function(t){i.isSelectMenu=!i.isSelectMenu}}},[i.isSelectMenu?e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-checkmark-outline"}}):t._e(),e("div",[t._v(t._s(i.label))])],1):t._e()]})),e("div",{staticClass:"chip",on:{click:t.showFullTypeList}},[e("div",[t._v(" "+t._s(t.showAllButtonText)+" "),e("BaseIcon",{class:{"rotate-180":t.isShowAll},attrs:{name:"mdi-menu-down"}})],1)])],2),e("div",{staticClass:"row items-center q-py-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-search"}}),t._v(" "+t._s(t.search)+" ")],1),t.isLoadingActive?e("BaseLoadingBarSheet",{staticStyle:{position:"absolute !important","z-index":"9999"}}):t._e(),t.searchResult.length?[t._l(t.searchResult,(function(i,s){return e("div",{key:s,staticClass:"row items-center q-py-sm cursor-pointer",staticStyle:{"border-bottom":"1px solid var(--divider-color)"},on:{click:function(e){return t.goto(i)}}},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-md",attrs:{name:t.getMenuIcon(i.menu)}})],1),e("div",{staticClass:"col"},[e("div",{staticClass:"search-title"},[t._v(" "+t._s(i.searchName)+" ")]),e("div",{staticClass:"subtitle"},[t._v(" "+t._s(i.description)+" ")])]),e("div",{staticClass:"col-auto"},[t._v(t._s(i.date))])])})),e("BaseSeparator"),e("div",{staticClass:"row items-center q-pa-sm"},[e("div",{staticClass:"col subtitle"},[t._v(t._s(t.totalItems)+" results found")]),t.totalItems>=10?e("div",{staticClass:"show-all",on:{click:t.searchFiles}},[t._v(" "+t._s(t.loadMore?"view less":"view all")+" ")]):t._e()])]:[e("div",{staticClass:"row items-center q-py-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t._v(" No recent items match your search ")])]],2)]),e("div",{staticClass:"row items-center footer q-pa-sm"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row items-center date-filter"},[e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"From Date"},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"col-auto q-mx-sm"},[e("BaseIcon",{attrs:{name:"eva-arrow-forward-outline"}})],1),e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"To Date"},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)])]),e("q-space"),e("div",{staticClass:"col-auto footer1 q-ml-sm"},[e("div",{staticClass:"row items-center"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"reset"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"search more"},on:{click:t.searchFiles}})],1)])],1)],1),e("FileSheet",{attrs:{file:t.selectFile,"repository-field":t.repositoryField,options:{}},on:{"show-files":function(e){t.isFileSheetVisible=!0}},model:{value:t.isFileSheetVisible,callback:function(e){t.isFileSheetVisible=e},expression:"isFileSheetVisible"}}),e("RequestProcessSheet",{attrs:{"workflow-request-list":t.workflowTicketList,"process-id":t.processId,workflow:t.workflows,"workflow-id":t.workflowId,"form-id":t.formId,form:t.forms,"enable-controls":t._enableControls}})],1)},T=[],P=i("12b8"),_=i("b3d1"),F=i("53c1"),M=i("7104"),D=i("1b0d"),B=i("3fc6"),$=i("4360"),O={name:"GlobalSearch",components:{SelectField:P["a"],TextField:_["a"],DateField:F["a"],FileSheet:M["a"],RequestProcessSheet:B["a"]},data(){return{search:"",type:"",isShowAll:!1,typeList:[{id:this.$nano.id(),label:"Document",value:"Documents",isSelectMenu:!1,isVisible:!0,default:!0},{id:this.$nano.id(),label:"Content",value:"content",isSelectMenu:!0,isVisible:!0,default:!0},{id:this.$nano.id(),label:"Request No",value:"Request No",isSelectMenu:!1,isVisible:!0,default:!0},{id:this.$nano.id(),label:"Workspace",value:"Workspace",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Folder",value:"Folders",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Form",value:"Form",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Workflow",value:"WorkFlow",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"User",value:"User",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Group",value:"Group",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Menu",value:"Menu",isSelectMenu:!1,isVisible:!1,default:!1}],words:"",owner:"",itemName:"",location:location,date:"",workflow:"",folder:"",workspace:"",workspaceList:[],folderList:[],groupList:[],group:[],taskList:[],formList:[],form:"",task:"",workflowList:[],userList:[],user:"",isExpanded:!1,fromDate:"",toDate:"",showSearchOptions:!1,showSearchMenu:!1,isSelectMenu:!1,searchResult:[],selectFile:{},isFileSheetVisible:!1,repositoryField:[],loadMore:!1,totalItems:0,searchInput:{},workflowTicketList:[],selectedProcess:{},processId:0,workflows:{},workflowId:0,formId:0,forms:{},isLoadingActive:!1,showAllButtonText:"More"}},computed:{panels(){return this.form?this.form.panels:[]},_enableControls(){let t=[],e=[];return this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}}},watch:{workspace(){this.workspace&&this.getRepositories()},type(){this.workspace="",this.workflow="",this.user="",this.group="",this.task="",this.form="",this.folder="",this.date="","Workspace"===this.type||"Folder"===this.type?this.getWorkspaces():"Group"===this.type?this.getGroups():"Form"===this.type?this.getForms():"Task"===this.type?this.getTasks():"Workflow"===this.type?this.getWorkflows():"User"===this.type&&this.getUsers()},search(){this.search?this.search.length>=2&&(this.showSearchMenu=!0,this.getGlobalSearch()):this.showSearchMenu=!1},typeList:{deep:!0,handler(){let t=this.typeList.filter(t=>t.isSelectMenu);console.log(t);let e=[];t.forEach(t=>{e.push(t.value)}),this.getGlobalSearch(e.length?e:[""])}}},created(){},methods:{showFullTypeList(){this.isShowAll=!this.isShowAll,this.showAllButtonText=this.isShowAll?"Less":"More",this.typeList.forEach(t=>{t.isVisible=!!this.isShowAll||t.default})},async getWorkspaces(){const{error:t,payload:e}=await D["u"].getWorkspaceList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.workspaceList=e.map(t=>({id:t.id,label:t.value,value:t.value})))},async getRepositories(){if(this.workspace){this.folderList=[];let t=this.workspaceList.find(t=>t.value===this.workspace)["id"];const{error:e,payload:i}=await D["p"].getRepositoryList("workspaceId",t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);if(!i.length)return;this.folderList=i.map(t=>({id:this.$nano.id(),label:t.value,value:t.value}))}},async getGroups(){const{error:t,payload:e}=await D["i"].getGroupList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.groupList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getForms(){const{error:t,payload:e}=await D["g"].getFormList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.formList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getWorkflows(){const{error:t,payload:e}=await D["t"].getWorkflowList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.workflowList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getUsers(){const{error:t,payload:e}=await D["s"].getUserList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.userList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getTasks(){const{error:t,payload:e}=await D["g"].getFormEntries(19,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:100,currentPage:1});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=e;console.log(i),this.taskList=i||[],i.length&&i[0].value.length},searchFiles(){let t="";"Workspace"===this.type?t=this.workspace:"Form"===this.type?t=this.form:"Folder"===this.type?t=this.folder:"Task"===this.type?t=this.task:"Workflow"===this.type?t=this.workflow:"User"===this.type?t=this.user:"Group"===this.type&&(t=this.group),this.showSearchOptions?this.$router.replace({name:"search",query:{type:this.type,name:t}}):(this.searchInput.fromDate=this.fromDate,this.searchInput.toDate=this.toDate,"search"===this.$route.name?(this.$route.params.searchInput=this.searchInput,$["a"].commit("setSearchInput",this.searchInput)):this.$router.replace({name:"search",params:{searchInput:this.searchInput}})),this.showSearchMenu=!1},async getGlobalSearch(t){let e=this.typeList.filter(t=>t.isSelectMenu),i=[];e.forEach(t=>{i.push(t.value)});let s=[];s=t||(e.length?i:[""]);let a={SearchValue:this.search,type:s,itemsPerPage:10,currentPage:1,fromDate:this.fromDate,toDate:this.toDate,userId:this.$store.state.session.id};this.searchInput=a,this.isLoadingActive=!0;const{error:o,payload:r}=await D["h"].globalSearch(a);if(this.isLoadingActive=!1,o)return void this.$alert.error(o);console.log(r);let n=r;this.totalItems=r.meta.totalItems,n.data&&(console.log(n.data),n.data.length?(this.searchResult=[],n.data.forEach(t=>{this.searchResult.push({menu:t.type,searchName:"Documents"===t.type?t.ifileName:t.name,idJson:t.id,description:t.description?t.description:t.type,requestNo:t.requestNo,date:t.modifiedDateandtime?this.$day.format(t.modifiedDateandtime):this.$day.format(t.dateandtime)})})):this.searchResult=[])},getMenuIcon(t){switch(t){case"Folders":return"eva-archive-outline";case"WorkFlow":return"o_account_tree";case"Task":return"eva-cube-outline";case"Portal":return"eva-globe-outline";case"Form":return"mdi-text-box-outline";case"Settings":return"eva-settings-2-outline";case"Report":return"eva-pie-chart-outline";case"Documents":return"mdi-file-document-outline";case"Menu":return"mdi-menu";case"Content":return"mdi-file-document-outline";case"Request No":return"o_account_tree";default:return"o_dashboard"}},goto(t){console.log(t),t.idJson.itemId&&"Request No"!==t.menu?(this.getRepositoryField(t.idJson.repositoryId),this.getFile(t.idJson.repositoryId,t.idJson.itemId)):t.idJson.workflwId&&"Request No"===t.menu?this.getWorkflowData(t.idJson.workflowId,t.idJson.processId):"Folders"===t.menu?this.$router.replace({name:"repositories-browse",query:{workspaceId:t.idJson.workspaceId,repositoryId:t.idJson.repositoryId}}):"WorkFlow"===t.menu?this.$router.replace({name:"workflow-builder",params:{id:String(t.idJson.workflowId)}}):"Menu"===t.menu&&this.$router.replace({name:t.searchName})},async getFile(t,e){let i={repositoryId:t,parentNodeId:0,sortBy:{criteria:"",order:"ASC"},groupBy:"",filterBy:[{filters:[{id:this.$nano.id(),criteria:"itemid",condition:"IS_EQUALS_TO",value:e,dataType:"SHORT_TEXT"}],groupCondition:""}],currentPage:1,itemsPerPage:100,mode:"BROWSE",level:1};const{error:s,payload:a}=await D["p"].getEntities(i);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(console.log(a),a.data[0].value.length){let t=a.data[0].value;console.log(t);let i=t.find(t=>t.id===Number(e));console.log(i),this.selectFile=i,this.isFileSheetVisible=!0}},async getRepositoryField(t){const{error:e,payload:i}=await D["p"].getRepositoryField({criteria:"repositoryId",value:t});e?this.$alert.error(e):this.repositoryField=i},async getWorkflowData(t,e){this.workflowTicketList=[];const{error:i,payload:s}=await D["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:100,currentPage:1,mode:""});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(s.data.forEach(t=>{t.value.forEach(t=>{this.workflowTicketList.push({...t})})}),console.log(this.workflowTicketList),this.selectedProcess=this.workflowTicketList.find(t=>t.processId===Number(e)),await this.getWorkflow(t,e))},async getWorkflow(t,e){this.workflowId=t;const{error:i,payload:s}=await D["t"].getWorkflow(t);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(console.log(s),console.log(s.wFormId),this.workflows=s,this.formId=String(s.wFormId),await this.getForm(e))},async getForm(t){if(this.formId){const{error:t,payload:e}=await D["g"].getForm(this.formId);if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.forms=i}this.processId=Number(t)},reset(){this.search="",this.fromDate="",this.toDate=""}}},N=O,E=(i("2d9d"),i("2c91")),z=i("4e73"),R=i("93dc"),q=i.n(R),V=Object(h["a"])(N,L,T,!1,null,"48781ddd",null),H=V.exports;q()(V,"components",{QSpace:E["a"],QMenu:z["a"]});var W=i("fd26"),j=function(){var t=this,e=t._self._c;return e("div",[e("BaseActionButton",{attrs:{"is-flat":"",icon:"mdi-bell-outline","no-border":""},on:{click:t.openNotification}},[t.alertNotification?e("Pulse",{staticClass:"pulse"}):t._e()],1),e("Sheet",{attrs:{width:"40vw"},on:{input:function(e){t.notificationSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Notifications ")]},proxy:!0},{key:"actions",fn:function(){return[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getNotifications()}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear all",expression:"'clear all'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-notification-clear-all",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.clearAllNotifications()}}})]},proxy:!0}]),model:{value:t.notificationSheet,callback:function(e){t.notificationSheet=e},expression:"notificationSheet"}},[e("div",{staticClass:"notificationData",attrs:{id:"content-wrapper"}},[t.notifyData.length?t._l(t.notifyData,(function(i){return e("div",{key:i.id,staticClass:"notificationContent",class:!1===i.readStatus?"unread":""},[e("div",{staticClass:"entry",on:{click:function(e){return t.openForm(i)}}},[e("div",{staticClass:"header"},[t._v(t._s(i.title))]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",{staticClass:"ellipsis"},[t._v(t._s(i.createdByEmail))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",{staticClass:"ellipsis"},[t._v(t._s(t.$day.format(i.createdAt)))]),e("div",{staticClass:"action"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-trash-can-outline",color:"red","is-flat":"",size:"20px"},on:{click:function(e){return t.deleteNotification(i.id)}}})],1)],1),e("div",{staticClass:"changes-meta"},["COMPLETED"==i.status||"SUCCESS"==i.status?[e("div",{staticClass:"text-green"},[t._v(t._s(i.status))])]:"PROCESSING"==i.status?[e("div",{staticClass:"text-orange"},[t._v(t._s(i.status))])]:"FAILED"==i.status?[e("div",{staticClass:"text-red"},[t._v(t._s(i.status))])]:[e("div",{staticClass:"text-secondary"},[t._v(t._s(i.status))])],e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),t.validateURL(i.remarks)?[e("a",{staticClass:"ellipsis",attrs:{href:i.remarks,target:"_blank"}},[t._v(t._s(i.remarks))])]:[e("span",{staticClass:"font-semibold"},[t._v(t._s(i.remarks))])]],2),e("div",{staticClass:"changes-meta"},[e("div",{staticClass:"action"},[t._v(t._s(t.duration(i.createdAt)))])])])])])})):e("div",{staticClass:"no-history"},[t._v("No data found")])],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.hasWflowInitiator?e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:t.subWorkflowName,color:"secondary"},on:{click:t.initiateSubWorkflow}}):t._e()]},proxy:!0},{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},[e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}),t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1)],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess(i.value)?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.selectedProcess.processId,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[t.selectedProcess.processId&&t.attachmentList.length?[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")]:t._e(),(t.selectedProcess.processId&&t.selectedFileCount,t._e()),(t.selectedProcess.processId&&t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 250px)"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?t._e():e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.isTenantArmgroup()?"calc(100vh - 190px)":"calc(100vh - 150px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[t.isTenantArmgroup()?e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$emit("addTask")}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantArmgroup()?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e(),e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionPasswordConfirm=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Action Password")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"passwordForm"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{"is-mandatory":"","is-readonly":t.isLoading,error:i[0],"auto-focus":!0},on:{enter:t.validatePassword},model:{value:t.actionUserPassword,callback:function(e){t.actionUserPassword=e},expression:"actionUserPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"validate","is-loading":t.isLoading},on:{click:t.validatePassword}})]},proxy:!0}]),model:{value:t.actionPasswordConfirm,callback:function(e){t.actionPasswordConfirm=e},expression:"actionPasswordConfirm"}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeSubProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Linked Request ")]},proxy:!0}]),model:{value:t.subProcessSheet,callback:function(e){t.subProcessSheet=e},expression:"subProcessSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.subProcessTickets,(function(i,s){return[e("div",{key:s,staticClass:"subProcess"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"o_account_tree",color:"primary-4"}})],1),e("div",{staticClass:"col ellipsis text-underline",on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo)+" ")]),"1"===i.flowStatus?e("q-chip",{attrs:{size:"10px",color:"green","text-color":"white"}},[t._v(" Completed ")]):e("q-chip",{attrs:{size:"10px",color:"orange","text-color":"white"}},[t._v(" Running ")])],1),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(i.name))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.duration)+" ago")])],1)]),t._e()])]}))],2)]),e("SubWorkflowProcess",{attrs:{"workflow-id":t.subWorkflowId||t.subProcessData.id,"initiate-sub-workflow-process":t.initiateSubWorkflowProcess,"main-workflow-id":t.workflowId,"main-process-id":t.selectedProcess.processId,"sub-process-link":t.subProcessLink,"selected-process":t.subProcessData,"open-sub-process":t.openSubProcessSheet,"main-form-fields":t.formFields,"main-form-model":t.formModel,"sub-process-id":t.subProcessId},on:{"update:subProcessId":function(e){t.subProcessId=e},"update:sub-process-id":function(e){t.subProcessId=e},closeProcessSheet:t.closeSubProcess}}),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"inbox","initiate-process":!1,"form-check-list":!1,"check-list":t.checkList,wform:t.wform,"repository-details":{},"workflow-model":{},"form-upload-files":[],"repository-field":[],columns:[],attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"inbox","initiate-process":!1,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":[],comments:t.commentsList,"display-internal-public":!1},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},X=[],Y=i("5a6e"),G=Y["a"],U=(i("b97e"),i("b047")),J=i("cb32"),Q=i("8169"),Z=Object(h["a"])(G,j,X,!1,null,"e67e8e24",null),K=Z.exports;q()(Z,"components",{QChip:U["a"],QAvatar:J["a"],QChatMessage:Q["a"],QMenu:z["a"]});var tt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"account"}},[e("div",{attrs:{id:"user-avatar"},on:{click:function(e){t.profileSheet=!0}}},[e("img",{attrs:{src:t.imageURL(),alt:"avatar"}})]),e("Sheet",{attrs:{width:"25vw","has-footer":!1},on:{input:function(e){t.profileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Profile ")]},proxy:!0}]),model:{value:t.profileSheet,callback:function(e){t.profileSheet=e},expression:"profileSheet"}},[e("div",{staticClass:"profileData",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-mt-sm q-mb-sm"},[e("div",{staticClass:"text-center"},[e("div",{staticClass:"profile-avatar"},[e("img",{attrs:{src:t.imageURL(),alt:"avatar"}})]),e("div",{staticClass:"text-weight-bold q-mt-md"},[t.isAdUser?[t._v(" "+t._s(t.$store.state.session.firstName)+" "+t._s(t.$store.state.session.lastName)+" ")]:[t._v(" "+t._s(t.$store.state.session.email)+" ")]],2),e("div",{staticClass:"text-caption"},[t._v(" "+t._s(t.$store.state.session.role)+" ")])])]),t._l(t.menus,(function(i,s){return e("div",{key:s},[t._l(i,(function(i){return[i.required||!t.checkTenant?e("div",{key:i.label,staticClass:"row items-center hoverable",staticStyle:{height:"50px"},on:{click:i.action}},[e("div",{staticClass:"col-2 row items-center justify-center",staticStyle:{color:"var(--icon-color)"}},[e("q-icon",{attrs:{name:i.icon,size:"20px"}})],1),e("div",{staticClass:"col text-capitalize"},[t._v(" "+t._s(i.label)+" ")])]):t._e()]})),s!==t.menus.length-1?e("q-separator",{attrs:{inset:"",color:"grey-2"}}):t._e()],2)}))],2)]),e("Modal",{attrs:{width:"30vw",height:"70vh","has-footer":""},on:{input:function(e){t.changePasswordModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Change Password")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"changePassword"}},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-lg",attrs:{label:"password","is-mandatory":"",tooltip:t._passwordHint,error:i[0]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])}),e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-lg",attrs:{label:"confirm password","is-mandatory":"","is-readonly":t.isLoading,tooltip:t._passwordHint,error:i[0]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Update",color:"primary"},on:{click:t.updatePassword}})]},proxy:!0}]),model:{value:t.changePasswordModal,callback:function(e){t.changePasswordModal=e},expression:"changePasswordModal"}}),e("Modal",{attrs:{width:"30vw",height:"70vh","has-footer":""},on:{input:function(e){t.changeIdentityModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Change Identity")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"changePhoto"}},[e("ValidationProvider",{attrs:{name:"upload image",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("ImageField",{attrs:{label:"upload image","is-mandatory":!0,error:i[0]},model:{value:t.uploadImage,callback:function(e){t.uploadImage=e},expression:"uploadImage"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-md",attrs:{label:"Remove",color:"red"},on:{click:t.removeImage}}),e("BaseButton",{attrs:{label:"Update",color:"primary"},on:{click:t.updateImage}})]},proxy:!0}]),model:{value:t.changeIdentityModal,callback:function(e){t.changeIdentityModal=e},expression:"changeIdentityModal"}})],1)},et=[],it=i("381e"),st=i("6a70"),at=i("7bb1"),ot=i("8bc3"),rt=i("0c6e"),nt=i("6f00"),lt={name:"Account",components:{Sheet:it["a"],Modal:st["a"],ValidationProvider:at["b"],PasswordField:ot["a"],ImageField:nt["a"]},data(){return{profileSheet:!1,menus:[[{icon:"eva-person-outline",label:"change identity",action:this.changeIdentity,required:!1},{icon:"eva-lock-outline",label:"change password",action:this.changePassword,required:!1},{icon:"mdi-clipboard-text-outline",label:"Terms of Use",action:this.showTermsOfUse,required:!0},{icon:"eva-shield-outline",label:"Privacy Policy",action:this.showPrivacyPolicy,required:!0}],[{icon:"eva-log-out",label:"Log Out",action:this.logOut,required:!0}]],password:"",confirmPassword:"",changePasswordModal:!1,changeIdentityModal:!1,uploadImage:""}},computed:{_passwordHint(){return rt["a"]},checkTenant(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t},isAdUser(){let t=location.origin;return"http://172.16.1.118"===t}},methods:{logOut(){window.localStorage.clear(),this.$router.push({name:"signIn"})},changePassword(){this.changePasswordModal=!0},showTermsOfUse(){window.open("https://www.ezofis.com/privacy-policy/")},showPrivacyPolicy(){window.open("https://www.ezofis.com/privacy-policy/")},changeIdentity(){this.changeIdentityModal=!0},viewProfile(){this.showUserSheet()},imageURL(){return`https://appuat.ezofis.com/ezofisapi/api/user/avatar/${this.$store.state.session.tenantId}/${this.$store.state.session.id}?t=${(new Date).getTime()}`},async updatePassword(){if(this.password===this.confirmPassword){this.$store.commit("showLoadingBar");let t={password:this.password};const{error:e}=await D["s"].updateUser(this.$store.state.session.id,t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);this.$alert.success("Password updated"),this.changePasswordModal=!1,this.password="",this.confirmPassword=""}else this.$alert.warning("password not matched")},async updateImage(){this.$store.commit("showLoadingBar");let t={base64file:this.uploadImage.split(",")[1],fileType:"png"};const{error:e}=await D["s"].uploadImage(t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(this.$store.commit("hideLoadingBar"),this.changeIdentityModal=!1,this.uploadImage="")},async removeImage(){const{error:t}=await D["s"].removeImage(this.$store.state.session.tenantId,this.$store.state.session.id);t?this.$alert.error(t):(this.changeIdentityModal=!1,this.uploadImage="")}}},ct=lt,dt=(i("108c"),i("0016")),ht=i("eb85"),ut=Object(h["a"])(ct,tt,et,!1,null,"443b001b",null),mt=ut.exports;q()(ut,"components",{QIcon:dt["a"],QSeparator:ht["a"]});var pt={name:"Toolbar",components:{Legend:m,Logo:x,CustomerLogo:I,GlobalSearch:H,ThemeSwitcher:W["a"],Notifications:K,Account:mt},computed:{customerLogo(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t||"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://172.16.1.118"===t},ezofisLogo(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t}},methods:{logOut(){window.localStorage.clear(),location.reload()}}},ft=pt,gt=(i("b2a7"),i("e359")),vt=i("65c6"),bt=Object(h["a"])(ft,o,r,!1,null,"ea69e05a",null),yt=bt.exports;q()(bt,"components",{QHeader:gt["a"],QToolbar:vt["a"],QSpace:E["a"]});var xt=function(){var t=this,e=t._self._c;return e("q-drawer",{attrs:{mini:t.miniDrawer,side:"left",width:240,"mini-width":52},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("div",{attrs:{id:"drawer"}},[t._l(t.menus,(function(i){return[i.access&&t.checkTenantMenu(i.label)?e("Menu",{key:i.id,attrs:{menu:i,"is-active":i.label===t.activeMenu},on:{click:function(e){return t.goto(i.route)}}}):t._e()]})),e("q-space"),t.checkTenant?e("Menu",{attrs:{menu:{label:"help center",icon:"mdi-help-circle-outline",activeIcon:"mdi-help-circle"}},on:{click:function(e){return t.goto("helpCenter")}}}):t._e()],2)])},wt=[],Ct=function(){var t=this,e=t._self._c;return e("div",t._g({directives:[{name:"tooltip",rawName:"v-tooltip:secondary.right",value:t.menu.label,expression:"menu.label",arg:"secondary",modifiers:{right:!0}}],class:{active:t.isActive},attrs:{id:"menu"}},t.$listeners),[e("BaseIcon",{attrs:{name:t.isActive?t.menu.activeIcon:t.menu.icon,color:""}}),t.isActive?e("div",{staticClass:"indicator"}):t._e()],1)},kt=[],St={name:"Menu",props:{menu:{type:Object,required:!0},isActive:{type:Boolean,default:!1}}},At=St,It=(i("2e65"),Object(h["a"])(At,Ct,kt,!1,null,"87127af4",null)),Lt=It.exports,Tt={name:"Drawer",components:{Menu:Lt},data(){return{drawer:!0,miniDrawer:!0,menus:[{id:this.$nano.id(),label:"dashboard",route:"dashboard",icon:"o_dashboard",activeIcon:"dashboard",access:!0},{id:this.$nano.id(),label:"workspaces",route:"workspaces-overview",icon:"mdi-briefcase-outline",activeIcon:"mdi-briefcase",access:!1},{id:this.$nano.id(),label:"folders",route:"repositories-browse",icon:"eva-archive-outline",activeIcon:"eva-archive",access:!0},{id:this.$nano.id(),label:"tasks",route:"tasks-overview",icon:"eva-cube-outline",activeIcon:"eva-cube",access:!1},{id:this.$nano.id(),label:"portals",route:"portals-browse",icon:"eva-globe-outline",activeIcon:"eva-globe",access:!1},{id:this.$nano.id(),label:"forms",route:"forms-overview",icon:"mdi-text-box-outline",activeIcon:"mdi-text-box",access:!1},{id:this.$nano.id(),label:"workflows",route:"workflows-inbox",icon:"o_account_tree",activeIcon:"account_tree",access:!0},{id:this.$nano.id(),label:"reports",route:"reports",icon:"eva-pie-chart-outline",activeIcon:"eva-pie-chart",access:!1},{id:this.$nano.id(),label:"settings",route:"settings",icon:"eva-settings-2-outline",activeIcon:"eva-settings-2",access:!1}],activeMenu:"",profileMenu:[]}},computed:{checkTenant(){let t=location.origin;return"https://demo.ezofis.com"===t||"http://52.172.32.88"===t||"http://localhost:8080"===t}},watch:{$route:{immediate:!0,handler(){"user"===this.$route.meta.menu||"group"===this.$route.meta.menu||"profile"===this.$route.meta.menu?this.activeMenu="settings":this.activeMenu=this.$route.meta.menu}}},created(){this.$store.state.session.profile&&(0===this.$store.state.profileMenus.length?this.getProfileMenu():this.menus.forEach(t=>{var e;t.access||(t.access=null===(e=this.$store.state.profileMenus.find(e=>e[t.label]))||void 0===e?void 0:e[t.label])}))},methods:{goto(t){this.$router.push({name:t})},checkTenantMenu(t){let e=location.origin;return"http://localhost:80801"!==e&&"http://10.16.7.1"!==e||("dashboard"===t||"workspaces"===t||"folders"===t||"tasks"===t||"settings"===t)},async getProfileMenu(){const{error:t,payload:e}=await D["n"].getProfileList(this.$store.state.session.profile.id);t?this.$alert.error(t):(this.profileMenu=e?JSON.parse(e.menuOptions):[],this.menus.forEach(t=>{var e;t.access||(t.access=null===(e=this.profileMenu.find(e=>e[t.label]))||void 0===e?void 0:e[t.label])}),$["a"].commit("setProfileMenu",this.profileMenu))}}},Pt=Tt,_t=(i("b591"),i("9404")),Ft=Object(h["a"])(Pt,xt,wt,!1,null,"5cfd261b",null),Mt=Ft.exports;q()(Ft,"components",{QDrawer:_t["a"],QSpace:E["a"]});var Dt={name:"AppLayout",components:{Toolbar:yt,Drawer:Mt}},Bt=Dt,$t=i("4d5a"),Ot=i("09e3"),Nt=Object(h["a"])(Bt,s,a,!1,null,"afde89cc",null);e["a"]=Nt.exports;q()(Nt,"components",{QLayout:$t["a"],QPageContainer:Ot["a"]})},"5ab0":function(t,e,i){"use strict";i("a945")},"5e23":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":!0,"has-footer":"",width:"650px"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Document Sharing By Email")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"document-sharing-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("BaseScrollbar",{attrs:{height:"calc(100vh - 170px)"}},[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"to",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"to","is-mandatory":"","new-option":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("ValidationProvider",{attrs:{name:"subject",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"subject","is-mandatory":"",error:i[0]},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})]}}])}),"attach link"===t.tab?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm"},[e("ValidationProvider",{attrs:{name:"Expiry from Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry from Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})]}}],null,!1,714078504)})],1),e("div",{staticClass:"col-6 q-pl-sm"},[e("ValidationProvider",{attrs:{name:"Expiry to Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry to Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})]}}],null,!1,738413864)})],1)])]:t._e(),t._l(t.fileList,(function(i){return[e("q-chip",{key:i.id,staticClass:"chips secondary-hover cursor-pointer",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{attrs:{icon:"mdi-file",color:"secondary","text-color":"white"},on:{click:function(e){return t.remove(i.id)}}}),t._v(" "+t._s(i.name)+" "),e("q-avatar",{staticClass:"close-icon",attrs:{icon:"mdi-close","text-color":"red"},on:{click:function(e){return t.remove(i.id)}}})],1)]})),e("TextBuilderField",{model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],2)])],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:function(e){return t.$emit("input",!1)}}}),e("BaseButton",{attrs:{label:"send"},on:{click:t.documentShare}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("381e"),n=i("b94d"),l=i("b3d1"),c=i("53c1"),d=i("c3d2"),h=i("695e"),u=i("1b0d"),m={name:"EmailSharing",components:{Sheet:r["a"],ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:l["a"],Tabs:n["a"],DateField:c["a"],MultiSelectField:d["a"],TextBuilderField:h["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},fileList:{type:Array,default:()=>[]}},data(){return{tab:"attach file",tabs:[{id:this.$nano.id(),label:"attach file",value:"attach file"},{id:this.$nano.id(),label:"attach link",value:"attach link"}],email:[],subject:"",body:"",fromDate:"",toDate:"",minimumFromDate:""}},created(){const t=new Date,e=t.toISOString().split("T")[0];this.minimumFromDate=e},methods:{clearFields(){this.tab="attach file",this.email=[],this.subject="",this.body="",this.fromDate="",this.toDate=""},remove(t){if(this.fileList.length>1){let e=this.fileList.filter(e=>e.id!=t);this.$emit("update:fileList",e)}else this.$alert.warning("Minimum one document is required")},async documentShare(){const t=await this.$refs.form.validate();if(!t)return;let e=[];if(this.fileList.forEach(t=>{e.push(t.id)}),"attach file"===this.tab){let t={repositoryId:this.repositoryId,itemIds:e,toAdd:this.email.toString(),subject:this.subject,body:this.body};const{error:i}=await u["k"].documentShare(t);if(i)return void this.$alert.error(i)}else if("attach link"===this.tab){if(this.toDate<this.fromDate)return void this.$alert.warning("ToDate Is Must Be Greater Than Or Equal To FromDate");let t={toAddress:this.email.toString(),subject:this.subject,body:this.body,expiryFromDate:this.fromDate,expiryTodate:this.toDate,repositoryId:this.repositoryId,itemIdArray:e};const{error:i}=await u["k"].documentShareLink(t);if(i)return void this.$alert.error(i)}this.$alert.success("Initiated Document Sharing by Email"),this.clearFields(),this.$emit("input",!1)}}},p=m,f=(i("5fab"),i("2877")),g=i("b047"),v=i("cb32"),b=i("93dc"),y=i.n(b),x=Object(f["a"])(p,s,a,!1,null,"2c37c0ea",null);e["a"]=x.exports;y()(x,"components",{QChip:g["a"],QAvatar:v["a"]})},"5e5c":function(t,e,i){"use strict";i("204d")},"5f3d":function(t,e,i){},"5fab":function(t,e,i){"use strict";i("467fa")},"61cf":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t.showWorkspaceRepository?[e("WorkspaceList",{model:{value:t.workspaceId,callback:function(e){t.workspaceId=e},expression:"workspaceId"}}),e("RepositoryList",{attrs:{"workspace-id":t.workspaceId},model:{value:t.repositoryId,callback:function(e){t.repositoryId=e},expression:"repositoryId"}})]:t._e(),e("div",{class:[{"is-dragging":t.isDragging},{"is-indexing":t.tabIndexing}],attrs:{id:"dropzone"}},[e("div",{staticClass:"hint"},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"128px","inherit-color":""}}),e("div",{staticClass:"title"},[t._v("Drag & Drop your files here to upload")]),e("div",{staticClass:"description"},[t._v(" Simply dragging and dropping them from the user's computer or device onto a designated area on the screen ")]),e("OrDivider",{staticClass:"full-width"}),t.tabIndexing?e("BaseButton",{attrs:{icon:"eva-plus",label:"Add more files"}}):e("BaseButton",{attrs:{label:"browse files"}})],1),e("input",{ref:"dropzone",attrs:{type:"file",multiple:t.hasMultiple},on:{dragenter:function(e){t.isDragging=!0},dragleave:function(e){t.isDragging=!1},drop:function(e){t.isDragging=!1},change:t.handleChange}})])],2)},a=[],o=(i("caad"),i("14d9"),i("42dc")),r=i("dc7a"),n=i("9c79"),l=i("2f62"),c=i("dd90"),d={name:"Dropzone",components:{WorkspaceList:o["a"],RepositoryList:r["a"],OrDivider:n["a"]},props:{workspaceId:{type:Number,required:!0},repositoryId:{type:Number,required:!0},hasMultiple:{type:Boolean,default:!0},showWorkspaceRepository:{type:Boolean,default:!0},tabIndexing:{type:Boolean,default:!1}},data(){return{isDragging:!1}},computed:{...Object(l["c"])(["session"]),fileSizeLimit(){return this.session.license,52428800}},methods:{handleChange(t){const e=t.target.files,i=[],s=["exe"];if(e.length){for(let t of e){if(t.size>this.fileSizeLimit)return void this.$alert.warning(t.name+" - Maximum file size exceeded");const e=t.name.split(".").reverse()[0];if(s.includes(e))return void this.$alert.warning(t.name+" - Invalid file type");if(!Object(c["a"])(e))return void this.$alert.warning(t.name+" - Invalid file type");i.push({id:this.$nano.id(),name:t.name,type:e.slice(0,4),size:t.size,createdAt:"",status:"UPLOADING",file:t,uploadedPercentage:0})}this.$refs.dropzone.value="",this.$emit("upload",i)}}}},h=d,u=(i("9495"),i("2877")),m=Object(u["a"])(h,s,a,!1,null,"dc127c58",null);e["a"]=m.exports},"626d":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{value:t.value,"is-header":!1,"has-footer":!0,width:"60vw",height:"80vh"},on:{input:function(e){return t.$emit("input")}},scopedSlots:t._u([{key:"default",fn:function(){return[t.summarizeView?[e("div",{staticClass:"footer-modal q-pa-sm"},[e("BaseIcon",{attrs:{name:"mdi-creation",color:"secondary"}}),e("span",{staticClass:"footer-text"},[t._v("Recommended Action:")]),t._v(" "+t._s(t.summarizingData.description)+" ")],1),e("div",{staticClass:"q-pt-md"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 320px)"}},[e("table",[e("tbody",[t._l(t.summarizingData.data,(function(i,s){return["string"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(t._s(i))])])]:"object"===typeof i?[Array.isArray(i)?[e("tr",{key:s},[e("td",{staticClass:"tablekey",staticStyle:{color:"#643094"},attrs:{colspan:"2"}},[t._v(" "+t._s(s)+" ")])]),e("tr",{key:s},[e("td",{attrs:{colspan:"2"}},[e("table",{staticClass:"sub-table"},[e("thead",[e("tr",t._l(i[0],(function(i,s){return e("th",{key:s,staticClass:"tablevalue",staticStyle:{color:"#00bcd4"}},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(i,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s,staticClass:"tablevalue"},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])])]:[e("tr",{key:s},[e("td",{staticClass:"tablekey",staticStyle:{color:"#643094"},attrs:{colspan:"2"}},[t._v(" "+t._s(s)+" ")])]),t._l(i,(function(i,s){return["string"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(t._s(i))])])]:"object"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey",staticStyle:{color:"#f49d3a"},attrs:{colspan:"2"}},[t._v(" "+t._s(s)+" ")])]),t._l(i,(function(i,s){return["string"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(" "+t._s(i)+" ")])])]:t._e()]}))]:"array"===typeof i?[e("tr",{key:s},[e("td",{attrs:{colspan:"2"}},[t._v(t._s(s))])]),t._l(i,(function(i,s){return["string"===typeof t.objectvalueobject?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(" "+t._s(i)+" ")])])]:t._e()]}))]:t._e()]}))]]:t._e()]}))],2)])])],1)]:[e("div",{staticClass:"htmlElement",domProps:{innerHTML:t._s(t.summarizingData)}})]]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close"},on:{click:function(e){return t.$emit("input",!1)}}})]},proxy:!0}])})},a=[],o=i("6a70"),r=i("1b0d"),n={name:"Summarize",components:{Modal:o["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},itemid:{type:Number,default:0},transactionId:{type:Number,default:0},workflowId:{type:Number,default:0},processId:{type:Number,default:0},page:{type:String,default:""}},data(){return{summarizingData:"",summarizeView:!1}},watch:{value:{immediate:!0,handler(){this.value&&("REPOSITORY"===this.page?this.documentSummarize():"WORKFLOW"===this.page&&this.workflowRecommendation())}}},methods:{async documentSummarize(){this.$store.commit("showLoadingBarSave");const{error:t,payload:e}=await r["p"].getSummary(this.repositoryId,this.itemid);if(this.$store.commit("hideLoadingBarSave"),t)this.$alert.error(t);else if(e)try{this.summarizingData=JSON.parse(e.output),this.summarizeView=!0}catch(i){console.log(i),this.summarizeView=!1,this.summarizingData=e.output.replace(new RegExp("<title>","g"),'<title class="heading" style="display:block">').replace(new RegExp("<h1>","g"),'<h6 class="heading">').replace(new RegExp("<h2>","g"),'<h6 class="heading2">').replace(new RegExp("<table>","g"),'<table class="custom-table-style">').replace(new RegExp("<p>","g"),'<p style="margin-top:20px">')}},async workflowRecommendation(){this.$store.commit("showLoadingBarSave");const{error:t,payload:e}=await r["t"].getWorkflowRecommendation(this.workflowId,this.processId,this.transactionId);if(this.$store.commit("hideLoadingBarSave"),t)this.$alert.error(t);else if(e)try{this.summarizingData=JSON.parse(e.output),this.summarizeView=!0}catch(i){console.log(i),this.summarizeView=!1,this.summarizingData=e.replace(new RegExp("<title>","g"),'<title class="heading" style="display:block">').replace(new RegExp("<h1>","g"),'<h6 class="heading">').replace(new RegExp("<h2>","g"),'<h6 class="heading2">').replace(new RegExp("<table>","g"),'<table class="custom-table-style">').replace(new RegExp("<p>","g"),'<p style="margin-top:20px">')}}}},l=n,c=(i("3595"),i("e864"),i("2877")),d=Object(c["a"])(l,s,a,!1,null,"85a6110e",null);e["a"]=d.exports},"64ab":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"tip-tap-editor"}},[e("Toolbar",{attrs:{"hide-tool-bar":t.hideToolBar,"form-columns":t.formColumns},on:{"set-heading":t.setHeading,"unset-heading":t.unsetHeading,"toggle-alignment":t.toggleAlignment,"toggle-bold":t.toggleBold,"toggle-italic":t.toggleItalic,"toggle-underline":t.toggleUnderline,"toggle-bullet-list":t.toggleBulletList,"toggle-number-list":t.toggleNumberList,"increase-indent":t.increaseIndent,"decrease-indent":t.decreaseIndent,"set-text-color":t.setTextColor,"unset-text-color":t.unsetTextColor,"set-bg-color":t.setBgColor,"unset-bg-color":t.unsetBgColor,undo:t.undo,redo:t.redo,"set-link":t.setLink,"add-field":t.addField}}),e("EditorContent",{attrs:{editor:t.editor}})],1)},a=[],o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"toolbar"}},[e("AddField",{attrs:{"form-columns":t.formColumns},on:{click:t.addField}}),t.hideToolBar?[e("Heading",{on:{set:t.setHeading,unset:t.unsetHeading}}),e("Alignment",{on:{toggle:t.toggleAlignment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"bold",expression:"'bold'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-bold"},on:{click:t.toggleBold}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"italic",expression:"'italic'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-italic"},on:{click:t.toggleItalic}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"underline",expression:"'underline'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-underline"},on:{click:t.toggleUnderline}}),e("List",{on:{bullet:t.toggleBulletList,number:t.toggleNumberList}}),e("Indent",{on:{increase:t.increaseIndent,decrease:t.decreaseIndent}}),e("TextColor",{on:{set:t.setTextColor,unset:t.unsetTextColor}}),e("BackgroundColor",{on:{set:t.setBgColor,unset:t.unsetBgColor}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"undo",expression:"'undo'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-undo"},on:{click:t.undo}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"redo",expression:"'redo'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-redo"},on:{click:t.redo}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"link",expression:"'link'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-link-2-outline"},on:{click:t.setLink}})]:t._e()],2)},r=[],n=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"heading",expression:"'heading'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-size"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.headings,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"heading.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.handleClick(i.level)}}})})),1)],1)},l=[],c={name:"Heading",data(){return{headings:[{id:this.$nano.id(),label:"heading 1",icon:"mdi-format-header-1",level:1},{id:this.$nano.id(),label:"heading 2",icon:"mdi-format-header-2",level:2},{id:this.$nano.id(),label:"heading 3",icon:"mdi-format-header-3",level:3},{id:this.$nano.id(),label:"heading 4",icon:"mdi-format-header-4",level:4},{id:this.$nano.id(),label:"heading 5",icon:"mdi-format-header-5",level:5},{id:this.$nano.id(),label:"heading 6",icon:"mdi-format-header-6",level:6},{id:this.$nano.id(),label:"normal",icon:"mdi-format-paragraph",level:0}]}},methods:{handleClick(t){t?this.$emit("set",t):this.$emit("unset")}}},d=c,h=i("2877"),u=i("4e73"),m=i("93dc"),p=i.n(m),f=Object(h["a"])(d,n,l,!1,null,"5b56e398",null),g=f.exports;p()(f,"components",{QMenu:u["a"]});var v=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"alignment",expression:"'alignment'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-align-center"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.alignments,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"alignment.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.$emit("toggle",i.label)}}})})),1)],1)},b=[],y={name:"Alignment",data(){return{alignments:[{id:this.$nano.id(),label:"left",icon:"mdi-format-align-left"},{id:this.$nano.id(),label:"center",icon:"mdi-format-align-center"},{id:this.$nano.id(),label:"right",icon:"mdi-format-align-right"},{id:this.$nano.id(),label:"justify",icon:"mdi-format-align-justify"}]}}},x=y,w=Object(h["a"])(x,v,b,!1,null,"4a6ff39e",null),C=w.exports;p()(w,"components",{QMenu:u["a"]});var k=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"list",expression:"'list'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-list-bulleted-square"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.lists,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"list.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.$emit(i.value)}}})})),1)],1)},S=[],A={name:"List",data(){return{lists:[{id:this.$nano.id(),label:"bullet list",icon:"mdi-format-list-bulleted",value:"bullet"},{id:this.$nano.id(),label:"number list",icon:"mdi-format-list-numbered",value:"number"}]}}},I=A,L=Object(h["a"])(I,k,S,!1,null,"6f405cc2",null),T=L.exports;p()(L,"components",{QMenu:u["a"]});var P=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"indent",expression:"'indent'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-indent-increase"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.indents,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"indent.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.$emit(i.value)}}})})),1)],1)},_=[],F={name:"Indent",data(){return{indents:[{id:this.$nano.id(),label:"increase indent",icon:"mdi-format-indent-increase",value:"increase"},{id:this.$nano.id(),label:"decrease indent",icon:"mdi-format-indent-decrease",value:"decrease"}]}}},M=F,D=Object(h["a"])(M,P,_,!1,null,"fd1a0bc6",null),B=D.exports;p()(D,"components",{QMenu:u["a"]});var $=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"text color",expression:"'text color'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"format_color_text"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"auto-close":"","transition-show":"scale","transition-hide":"scale"}},[e("div",{attrs:{id:"colors"}},t._l(t.colors,(function(i){return e("div",{key:i.id,staticClass:"color",style:{backgroundColor:i.value},on:{click:function(e){return t.handleInput(i)}}},[t.activeColor===i.value?e("BaseIcon",{attrs:{name:"eva-checkmark",color:"white"}}):t._e()],1)})),0)])],1)},O=[],N={name:"TextColor",data(){return{colors:[{id:this.$nano.id(),label:"primary",value:"#643094"},{id:this.$nano.id(),label:"secondary",value:"#00bcd4"},{id:this.$nano.id(),label:"red",value:"#f44336"},{id:this.$nano.id(),label:"pink",value:"#e91e63"},{id:this.$nano.id(),label:"purple",value:"#9c27b0"},{id:this.$nano.id(),label:"deep-purple",value:"#673ab7"},{id:this.$nano.id(),label:"indigo",value:"#3f51b5"},{id:this.$nano.id(),label:"blue",value:"#2196f3"},{id:this.$nano.id(),label:"teal",value:"#009688"},{id:this.$nano.id(),label:"green",value:"#4caf50"},{id:this.$nano.id(),label:"light-green",value:"#8bc34a"},{id:this.$nano.id(),label:"lime",value:"#cddc39"},{id:this.$nano.id(),label:"amber",value:"#ffc107"},{id:this.$nano.id(),label:"orange",value:"#ff9800"},{id:this.$nano.id(),label:"deep-orange",value:"#ff5722"},{id:this.$nano.id(),label:"brown",value:"#795548"},{id:this.$nano.id(),label:"gray",value:"#64748b"},{id:this.$nano.id(),label:"none",value:""}],activeColor:""}},methods:{handleInput(t){this.activeColor=t.value,"none"!==t.label?this.$emit("set",t.value):this.$emit("unset")}}},E=N,z=(i("718c"),Object(h["a"])(E,$,O,!1,null,"781fdde1",null)),R=z.exports;p()(z,"components",{QMenu:u["a"]});var q=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"background color",expression:"'background color'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-color-palette-outline"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"auto-close":"","transition-show":"scale","transition-hide":"scale"}},[e("div",{attrs:{id:"colors"}},t._l(t.colors,(function(i){return e("div",{key:i.id,staticClass:"color",style:{backgroundColor:i.value},on:{click:function(e){return t.handleInput(i)}}},[t.activeColor===i.value?e("BaseIcon",{attrs:{name:"eva-checkmark",color:"white"}}):t._e()],1)})),0)])],1)},V=[],H={name:"BackgroundColor",data(){return{colors:[{id:this.$nano.id(),label:"primary",value:"#dec2e7"},{id:this.$nano.id(),label:"secondary",value:"#b2ebf2"},{id:this.$nano.id(),label:"red",value:"#ffcdd2"},{id:this.$nano.id(),label:"pink",value:"#f8bbd0"},{id:this.$nano.id(),label:"purple",value:"#e1bee7"},{id:this.$nano.id(),label:"deep-purple",value:"#d1c4e9"},{id:this.$nano.id(),label:"indigo",value:"#c5cae9"},{id:this.$nano.id(),label:"blue",value:"#bbdefb"},{id:this.$nano.id(),label:"teal",value:"#b2dfdb"},{id:this.$nano.id(),label:"green",value:"#c8e6c9"},{id:this.$nano.id(),label:"lime",value:"#f0f4c3"},{id:this.$nano.id(),label:"amber",value:"#ffecb3"},{id:this.$nano.id(),label:"orange",value:"#ffe0b2"},{id:this.$nano.id(),label:"deep-orange",value:"#ffccbc"},{id:this.$nano.id(),label:"brown",value:"#d7ccc8"},{id:this.$nano.id(),label:"none",value:""}],activeColor:""}},methods:{handleInput(t){this.activeColor=t.value,"none"!==t.label?this.$emit("set",t.value):this.$emit("unset")}}},W=H,j=(i("e21c"),Object(h["a"])(W,q,V,!1,null,"6647f5ea",null)),X=j.exports;p()(j,"components",{QMenu:u["a"]});var Y=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"add field",expression:"'add field'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-plus"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle","transition-show":"scale","transition-hide":"scale"}},[e("div",{staticClass:"row border"},[e("div",{staticClass:"title-3 q-pa-xs col-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Search",autofocus:""},domProps:{value:t.searchColumns},on:{keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})])]),e("BaseScrollbar",{attrs:{height:"200px"}},t._l(t.fields,(function(i){return e("ListItem",{key:i.id,staticClass:"text-capitalize",class:i.display,attrs:{label:i.label,color:i.color},on:{click:function(e){return t.$emit("click",i)}}})})),1)],1)],1)},G=[],U=(i("14d9"),i("caad"),i("cade")),J={name:"AddField",components:{ListItem:U["a"]},props:{formColumns:{type:Array,default:()=>[]}},data(){return{fields:[],searchColumns:""}},watch:{formColumns:{immediate:!0,handler(){this.formColumns.length&&this.formColumns.forEach(t=>{this.fields.push({id:this.$nano.id(),label:t.label,value:t.hasDefault?t.value:`#F#${t.label}#F#`,display:"",color:t.hasDefault?t.color:"#00bcd4"})})}}},methods:{searchColumnList(t){this.fields.forEach(e=>{e.display="",t&&(e.label.toLowerCase().includes(t.toLowerCase())||(e.display="hide"))})}}},Q=J,Z=(i("ea98"),Object(h["a"])(Q,Y,G,!1,null,"42d457c1",null)),K=Z.exports;p()(Z,"components",{QMenu:u["a"]});var tt={name:"Toolbar",components:{Heading:g,Alignment:C,List:T,Indent:B,TextColor:R,BackgroundColor:X,AddField:K},props:{hideToolBar:{type:Boolean,default:!1},formColumns:{type:Array,default:()=>[]}},methods:{setHeading(t){this.$emit("set-heading",t)},unsetHeading(){this.$emit("unset-heading")},toggleAlignment(t){this.$emit("toggle-alignment",t)},toggleBold(){this.$emit("toggle-bold")},toggleItalic(){this.$emit("toggle-italic")},toggleUnderline(){this.$emit("toggle-underline")},toggleBulletList(){this.$emit("toggle-bullet-list")},toggleNumberList(){this.$emit("toggle-number-list")},increaseIndent(){this.$emit("increase-indent")},decreaseIndent(){this.$emit("decrease-indent")},setTextColor(t){this.$emit("set-text-color",t)},unsetTextColor(){this.$emit("unset-text-color")},setBgColor(t){this.$emit("set-bg-color",t)},unsetBgColor(){this.$emit("unset-bg-color")},undo(){this.$emit("undo")},redo(){this.$emit("redo")},setLink(){this.$emit("set-link")},addField(t){this.$emit("add-field",t)}}},et=tt,it=(i("8829"),Object(h["a"])(et,o,r,!1,null,"10d390a9",null)),st=it.exports,at=i("1ab4"),ot=i("672a"),rt=i("3560"),nt=i("cc86"),lt=i("97a2"),ct=i("58e6"),dt=i("e8d8"),ht=i("9751"),ut=i("795d"),mt=i("9980"),pt=function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"field-placeholder-wrapper"},[e("div",{attrs:{id:"field-placeholder"}},[e("div",{staticClass:"field"},[t._v(" "+t._s(t.node.attrs.fieldType)+" ")]),e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-close",color:"red"},on:{click:t.deleteNode}})],1)])},ft=[],gt={name:"FieldPlaceholder",components:{NodeViewWrapper:at["c"]},props:at["e"]},vt=gt,bt=(i("2f12"),Object(h["a"])(vt,pt,ft,!1,null,"f6682294",null)),yt=bt.exports,xt=mt["d"].create({name:"FieldPlaceholder",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{fieldType:{type:String,required:!0}}},parseHTML(){return[{tag:"FieldPlaceholder"}]},renderHTML({HTMLAttributes:t}){return["FieldPlaceholder",Object(mt["r"])(t)]},addNodeView(){return Object(at["d"])(yt)}}),wt=i("dce4"),Ct={name:"TextEditor",components:{Toolbar:st,EditorContent:at["b"]},props:{value:{type:Object,required:!0},field:{type:Object,default:()=>{}},hideToolBar:{type:Boolean,default:!0},formColumns:{type:Array,default:()=>[]}},data(){return{editor:null,textContent:""}},watch:{editor:{deep:!0,handler(){if(this.value){const e=new DOMParser,i=e.parseFromString(this.editor.getHTML(),"text/html");var t="";i.body.childNodes.forEach(e=>{let i=e.outerHTML.replace(new RegExp('"></fieldplaceholder>',"g"),""),s=i.split('<fieldplaceholder fieldtype="');t+=s.join("")});let s={text:this.editor.getHTML(),content:t};this.$emit("input",s)}}}},created(){this.initiateEditor()},beforeDestroy(){this.editor.destroy()},methods:{initiateEditor(){this.editor=new at["a"]({content:this.value.text,extensions:[ot["a"],rt["a"],nt["a"],lt["a"].configure({types:["heading","paragraph"]}),ct["a"],dt["a"],ht["a"].configure({multicolor:!0}),ut["a"].configure({placeholder:"Start typing …"}),xt,Text,wt["b"]]})},setHeading(t){this.editor.chain().focus().toggleHeading({level:t}).run()},unsetHeading(){this.editor.chain().focus().clearNodes().unsetAllMarks().run()},toggleAlignment(t){this.editor.chain().focus().setTextAlign(t).run()},toggleBold(){this.editor.chain().focus().toggleBold().run()},toggleItalic(){this.editor.chain().focus().toggleItalic().run()},toggleUnderline(){this.editor.chain().focus().toggleUnderline().run()},toggleBulletList(){this.editor.chain().focus().toggleBulletList().run()},toggleNumberList(){this.editor.chain().focus().toggleOrderedList().run()},increaseIndent(){this.editor.chain().focus().sinkListItem("listItem").run()},decreaseIndent(){this.editor.chain().focus().liftListItem("listItem").run()},undo(){this.editor.chain().focus().undo().run()},redo(){this.editor.chain().focus().redo().run()},setLink(){const t=this.editor.getAttributes("link").href,e=window.prompt("URL",t);null!==e&&(e?this.editor.chain().focus().extendMarkRange("link").setLink({href:e}).run():this.editor.chain().focus().extendMarkRange("link").unsetLink().run())},setTextColor(t){this.editor.chain().focus().setColor(t).run()},unsetTextColor(){this.editor.chain().focus().unsetColor().run()},setBgColor(t){this.editor.chain().focus().setHighlight({color:t}).run()},unsetBgColor(){this.editor.chain().focus().unsetHighlight().run()},addField(t){const e=`<FieldPlaceholder fieldId="${t.id}" fieldType="${t.value}">${t.value}</FieldPlaceholder>`;this.editor.chain().focus().insertContent(e).run()}}},kt=Ct,St=(i("74d9"),Object(h["a"])(kt,s,a,!1,null,"b184c692",null));e["a"]=St.exports},"651a":function(t,e,i){t.exports=i.p+"img/psg-logo.20670f47.png"},"65c6":function(t,e,i){"use strict";var s=i("a026"),a=i("87e8"),o=i("e277");const r={role:"toolbar"};e["a"]=s["default"].extend({name:"QToolbar",mixins:[a["a"]],props:{inset:Boolean},render(t){return t("div",{staticClass:"q-toolbar row no-wrap items-center",class:this.inset?"q-toolbar--inset":null,attrs:r,on:{...this.qListeners}},Object(o["c"])(this,"default"))}})},"686b":function(t,e,i){},"6f95":function(t,e,i){},7104:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":"",width:"100vw"},on:{input:t.closeFileSheet},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{attrs:{id:"file"}},[t.menuActions?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"files",expression:"'files'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-menu-2"},on:{click:function(e){return t.$emit("show-files")}}}):t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.type}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.file.name)+" "),2===t.file.checkinStatus?e("q-chip",{staticClass:"chips red-hover ellipsis",staticStyle:{height:"20px","font-size":"12px"},attrs:{color:"red","text-color":"white"}},[t._v(" Readonly ")]):t._e()],1),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.file.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.file.createdBy))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("File Size: "+t._s(t.fileSize))])],1)])],1)]},proxy:!0},t.menuActions?{key:"actions",fn:function(){return[t.checkTenant?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Data Extraction",expression:"'Data Extraction'",modifiers:{top:!0}}],staticClass:"q-ml-xs btnColor",attrs:{icon:"mdi-creation",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){t.summarizeModal=!0}}}):t._e(),e("div",{staticClass:"row q-mr-sm"},[2===t.file.checkinStatus&&t.file.checkinBy===t.$store.state.session.email?e("q-chip",{staticClass:"chips ellipsis",staticStyle:{height:"25px"},attrs:{outline:"",color:"orange",clickable:""},on:{click:function(e){return t.showCheckinUploadFile(t.file)}}},[e("q-avatar",{attrs:{icon:"mdi-file-upload-outline",color:"orange","text-color":"white"}}),t._v(" CheckIn ")],1):t._e()],1),t.isSignProcessFound&&0===t.file.checkinStatus?e("div",{staticClass:"row q-mr-sm"},[e("q-chip",{staticClass:"chips ellipsis",staticStyle:{height:"25px"},attrs:{outline:"",color:"primary",clickable:""},on:{click:t.checkSignProcess}},[e("q-avatar",{attrs:{icon:"mdi-file-outline",color:"primary","text-color":"white"}}),t._v(" Request for Sign ")],1)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},t._l(t.actionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label,visible:i.visible,disabled:i.disable,"sub-list":i.subMenu||[]},on:{click:function(e){return t.updateColumns(i)},subListAction:t.checkWorkflow}})})),1)],1)],1)]},proxy:!0}:null],null,!0)},[e("div",{attrs:{id:"content-wrapper"}},[t.menuActions?e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})]):t._e(),t.documentEdit?t._e():e("div",{staticClass:"aside"},[e("div",{staticClass:"action-bar"},[e("Tabs",{attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}})],1),t.loadingBar?e("BaseLoadingBarSheet"):t._e(),e("div",["METADATA"===t.tab?e("FileDetails",{attrs:{file:t.file,"repository-field":t.repositoryField,"file-data":t.fileData,"is-retention-required":t.menuActions,"retention-list":t.retentionList},on:{refresh:t.getFileRetentions}}):t._e(),"COMMENTS"===t.tab?e("Comments",{attrs:{"repository-id":t.file.repositoryId,"item-id":t.file.id}}):t._e(),"HISTORY"===t.tab?e("DocumentHistory",{attrs:{history:t.history},on:{get:t.getFileHistory}}):t._e()],1)],1)]),e("Password",{attrs:{value:t.showPasswordModal,header:t.selectList,"repository-id":t.file.repositoryId,"item-id":t.file.id},on:{close:function(e){t.showPasswordModal=!1}}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.file,"repository-field":t.repositoryField,"file-data":t.fileData,"edit-from-file-sheet":""},on:{close:function(e){t.showMetaDataEditModal=!1},save:t.saveMetaData}}),e("EncryptDecrypt",{attrs:{value:t.showEncryptDecryptModal,header:t.selectList},on:{close:function(e){t.showEncryptDecryptModal=!1}}}),e("HidePage",{attrs:{value:t.showHidePageModal,header:t.selectList},on:{close:function(e){t.showHidePageModal=!1}}}),e("Task",{attrs:{value:t.showTaskModal},on:{close:function(e){t.showTaskModal=!1}}}),e("Alert",{attrs:{value:t.showAlertModal},on:{close:function(e){t.showAlertModal=!1}}}),e("CheckedInOut",{attrs:{value:t.showCheckedInOutModal,header:t.selectList,file:t.file},on:{close:function(e){t.showCheckedInOutModal=!1},checkout:t.closeFileSheet,downloadFile:t.fileDownload}}),e("Delete",{attrs:{value:t.showDeleteModal,header:t.selectList,"repository-id":t.file.repositoryId,"item-id":t.file.id},on:{close:t.closeDeleteFile}}),e("AddVault",{attrs:{value:t.showAddVaultModal},on:{close:function(e){t.showAddVaultModal=!1}}}),e("EmailSharing",{attrs:{"repository-id":t.file.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("Sheet",{attrs:{width:t.formWidth,"has-footer":"","no-padding":""},on:{input:t.closeProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},t.documentSignProcess?null:{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formId?e("div",[e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"enable-controls":t._enableControls},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1):t._e(),t.documentSignProcess?e("div",[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e()])],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.processTabs,(function(i){return["TASK"!==i.value||"TASK"===i.value&&t.addTaskEnabled?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"processTab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"upload documents",expression:"'upload documents'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-upload",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$refs.attachments.click()}}})]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.attachedFileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:t.commentsText(i),"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":t.bgCommentsColor(i)}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("File Size: "+t._s(t.attachedFileSize(t.selectedFile.size)))])],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{attrs:{id:"file-frame",src:t.attachedFileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.addTask}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"document-task":!0,file:t.file,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Sheet",{attrs:{width:"470px","has-footer":""},on:{input:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Upload File ")]},proxy:!0},{key:"default",fn:function(){return[t.filesToUpload.length?t._e():e("Dropzone",{attrs:{"show-workspace-repository":!1,"workspace-id":Number(t.$route.query.workspaceId),"repository-id":Number(t.file.repositoryId),"has-multiple":!1},on:{upload:t.queueFilesForUpload}}),t.filesError?e("FormFieldError",{staticClass:"q-mx-md",attrs:{error:"Please upload file"}}):t._e(),t.filesToUpload.length?e("UploadingFileList",{attrs:{files:t.filesToUpload,"show-progress":t.showProgress,"show-delete-btn":t.showDeleteBtn},on:{delete:t.deleteUploadFile}}):t._e(),e("div",{staticClass:"q-px-md"},[e("ValidationObserver",{ref:"checkin"},[e("ValidationProvider",{attrs:{name:"comment",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"q-mb-lg",attrs:{label:"Purpose for checking in","is-mandatory":"",error:i[0]},model:{value:t.comments,callback:function(e){t.comments=e},expression:"comments"}})]}}])})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.uploadFile}})]},proxy:!0}]),model:{value:t.showCheckinModal,callback:function(e){t.showCheckinModal=e},expression:"showCheckinModal"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.signProcessModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Document Sign")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"field-wrapper"},[e("SingleChoiceField",{staticClass:"q-mb-lg",attrs:{label:"Signature Type","is-mandatory":"",options:t.signTypes,"options-per-line":2},model:{value:t.signType,callback:function(e){t.signType=e},expression:"signType"}}),e("SingleChoiceField",{staticClass:"q-mb-lg",attrs:{label:"Order Type","is-mandatory":"",options:t.orderTypes,"options-per-line":2},model:{value:t.orderType,callback:function(e){t.orderType=e},expression:"orderType"}})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Continue",color:"primary"},on:{click:t.openSignProcess}})]},proxy:!0}]),model:{value:t.signProcessModal,callback:function(e){t.signProcessModal=e},expression:"signProcessModal"}}),e("Summarizing",{attrs:{itemid:t.file.id,"repository-id":t.file.repositoryId,page:"REPOSITORY"},on:{input:function(e){t.summarizeModal=!1}},model:{value:t.summarizeModal,callback:function(e){t.summarizeModal=e},expression:"summarizeModal"}})],1)},a=[],o=(i("14d9"),i("a7d2")),r=i("1b0d"),n=i("381e"),l=i("fa1f"),c=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"file-details"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[e("div",{attrs:{id:"item-overview"}},[e("div",{staticClass:"version"},[t._v("Version : "+t._s(t.file.fileVersion))]),e("table",[e("tbody",[t._l(t.fileData,(function(i,s){return e("tr",{key:s+""+i.name,staticClass:"tableRow",on:{click:function(e){return t.textSearchInFile(i.value)}}},[e("td",{staticClass:"label"},[t._v(t._s(i.name))]),"TABLE"!==i.type?e("td",{staticClass:"value"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col ellipsis"},[t._t(i.name,(function(){return[t._v(" "+t._s(i.value||"-")+" ")]}),{value:i.value})],2),t.isRetentionRequired&&"DATE"===i.type&&i.value?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Notification Settings",expression:"'Notification Settings'",modifiers:{top:!0}}],staticClass:"actions",attrs:{"is-flat":"","no-border":"",icon:"eva-settings-outline",color:t.checkRetention(i.id)},on:{click:function(e){return t.showRetention(i.id)}}})],1)]:t._e()],2)]):e("td",{staticClass:"value",staticStyle:{padding:"8px"}},[t._t(i.name,(function(){return[e("BaseActionButton",{attrs:{icon:"mdi-table-large","is-flat":"","no-border":""},on:{click:function(e){return t.showTable(i.name)}}})]}))],2)])})),e("tr",{staticClass:"tableRow"},[e("td",{staticClass:"label"},[t._v("Uploaded Date")]),e("td",{staticClass:"value"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col ellipsis"},[t._v(" "+t._s(t.$day.format(t.file.createdAt))+" ")]),t.isRetentionRequired?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Notification Settings",expression:"'Notification Settings'",modifiers:{top:!0}}],staticClass:"actions",attrs:{"is-flat":"","no-border":"",icon:"eva-settings-outline",color:t.checkRetention(0)},on:{click:function(e){return t.showRetention(0)}}})],1):t._e()])])])],2)])])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableHeader))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}}),e("Sheet",{attrs:{width:"750px","has-footer":""},on:{input:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Notification Settings ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"tab-settings"}},[e("div",{staticClass:"content"},[e("div",{},[e("ValidationObserver",{ref:"retention"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"GENERAL"===t.activeTab,expression:"activeTab === 'GENERAL'"}]},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-md",attrs:{label:"name","is-mandatory":"",error:i[0]},model:{value:t.retention.name,callback:function(e){t.$set(t.retention,"name",e)},expression:"retention.name"}})]}}])})],1)]),e("SingleChoiceField",{staticClass:"q-mb-md",attrs:{"is-mandatory":"",label:"Set Notification Date","options-per-line":t.notificationDateOptions.length,options:t.notificationDateOptions},model:{value:t.notificationDate,callback:function(e){t.notificationDate=e},expression:"notificationDate"}}),"field_date"===t.notificationDate?[e("FormFieldLabel",{staticClass:"q-mb-lg",attrs:{label:t.getFieldDateLabel}}),e("BaseSeparator",{staticClass:"q-mb-md"})]:t._e(),"specific_date"===t.notificationDate?[e("FormFieldLabel",{staticClass:"q-mb-lg",attrs:{label:"Define a specific date for document notification, activating automatic reminders when the chosen date is reached.",transform:""}}),e("BaseSeparator",{staticClass:"q-mb-md"}),e("ValidationProvider",{attrs:{name:"notification date",rules:t.dateValidation},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-md",attrs:{label:"notification date","is-mandatory":"",validation:"",error:i[0]},model:{value:t.retention.actionDate,callback:function(e){t.$set(t.retention,"actionDate",e)},expression:"retention.actionDate"}})]}}],null,!1,2663690688)})]:t._e(),"future_date"===t.notificationDate?e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12"},[e("FormFieldLabel",{staticClass:"q-mb-md",attrs:{label:"Allows to schedule a future expiry date\n              based on an existing date, which prompts automatic reminders\n              when due",transform:""}}),e("BaseSeparator")],1),e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"Duration",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("CounterField",{staticClass:"q-mb-md",attrs:{label:"Duration",error:i[0]},model:{value:t.retention.duration,callback:function(e){t.$set(t.retention,"duration",e)},expression:"retention.duration"}})]}}],null,!1,3325698584)})],1),e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"Duration Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-md",attrs:{label:"Duration Type",options:t.durationTypes,error:i[0]},model:{value:t.retention.durationType,callback:function(e){t.$set(t.retention,"durationType",e)},expression:"retention.durationType"}})]}}],null,!1,1187220727)})],1)]):t._e(),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"user",rules:{required:0===t.retention.notification.group.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-m-md",attrs:{label:"users",options:t.userList,error:i[0]},model:{value:t.retention.notification.user,callback:function(e){t.$set(t.retention.notification,"user",e)},expression:"retention.notification.user"}})]}}])})],1),e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"group",rules:{required:0===t.retention.notification.user.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-m-md",attrs:{label:"groups",options:t.groupList,error:i[0]},model:{value:t.retention.notification.group,callback:function(e){t.$set(t.retention.notification,"group",e)},expression:"retention.notification.group"}})]}}])})],1)]),t.dateError?e("FormFieldError",{attrs:{error:t.dateError}}):t._e()],2),"NOTIFICATION"===t.activeTab?[e("FormFieldLabel",{attrs:{label:"Mail Subject"}}),e("TextEditor",{staticClass:"mail-class",attrs:{"hide-tool-bar":!1,"form-columns":t.fieldColumns},model:{value:t.retention.notification.mailSubject,callback:function(e){t.$set(t.retention.notification,"mailSubject",e)},expression:"retention.notification.mailSubject"}}),e("FormFieldLabel",{staticClass:"q-my-md",attrs:{label:"Mail Content"}}),e("TextEditor",{staticClass:"mail-class",attrs:{"form-columns":t.fieldColumns},model:{value:t.retention.notification.mailBody,callback:function(e){t.$set(t.retention.notification,"mailBody",e)},expression:"retention.notification.mailBody"}})]:t._e()],2)],1)]),e("div",{staticClass:"tabs"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"q-mb-md",attrs:{"is-flat":t.activeTab!==i.value,icon:i.icon,color:t.activeTab===i.value?"primary":"gray"},on:{click:function(e){t.activeTab=i.value}}})})),1)])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.saveRetention}})]},proxy:!0}]),model:{value:t.retentionSettings,callback:function(e){t.retentionSettings=e},expression:"retentionSettings"}})],1)},d=[],h=i("6a70"),u=i("cc77"),m=i("c3d2"),p=i("b3d1"),f=i("12b8"),g=i("7bb1"),v=i("869e"),b=i("3445"),y=i("9234"),x=i("53c1"),w=i("64ab"),C=i("e683"),k={name:"FileDetails",components:{Modal:h["a"],Sheet:n["a"],CounterField:u["a"],MultiSelectField:m["a"],TextField:p["a"],SelectField:f["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],CheckboxField:v["a"],FormFieldLabel:b["a"],TextEditor:w["a"],SingleChoiceField:y["a"],DateField:x["a"],FormFieldError:C["a"]},props:{file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},fileData:{type:Array,required:!0},isRetentionRequired:{type:Boolean,default:!1},retentionList:{type:Array,default:()=>[]}},data(){return{expandTableModal:!1,tableHeader:"",tableData:[],retentionFieldId:0,retentionSettings:!1,retention:{id:0,repositoryId:this.file.repositoryId,itemId:this.file.id,name:"",fieldId:"",duration:0,durationType:"Day",conditionJson:"",action:"",actionDate:"",notification:{duration:0,durationType:"Day",user:[],group:[],mailSubject:{text:"",content:""},mailBody:{text:"",content:""}}},durationTypes:[{id:this.$nano.id(),label:"Year",value:"Year"},{id:this.$nano.id(),label:"Month",value:"Month"},{id:this.$nano.id(),label:"Day",value:"Day"}],userList:[],groupList:[],retentionActions:[{id:this.$nano.id(),label:"No Action",value:"NO_ACTION"},{id:this.$nano.id(),label:"Hide",value:"HIDE"},{id:this.$nano.id(),label:"Move to Trash",value:"TRASH"},{id:this.$nano.id(),label:"Permanent Delete",value:"DELETE"}],notify:!0,notificationDate:"field_date",activeTab:"GENERAL",tabs:[{id:this.$nano.id(),label:"general",value:"GENERAL",icon:"mdi-tune"},{id:this.$nano.id(),label:"notification",value:"NOTIFICATION",icon:"mdi-bell-outline"}],dateError:""}},computed:{fieldColumns(){let t=[{id:this.$nano.id(),label:"Uploaded Date",value:"#UPLOADEDDATE#",display:"",color:"#643094",hasDefault:!0},{id:this.$nano.id(),label:"Uploaded By",value:"#UPLOADBY#",display:"",color:"#643094",hasDefault:!0}],e=this.repositoryField.map(t=>({id:t.id,label:t.name,value:t.id,hasDefault:!1}));return[...t,...e]},getFieldDateLabel(){if(this.retention.fieldId){let t=this.repositoryField.find(t=>t.id===this.retention.fieldId);return`Set a Document's expiry based on\n                    an ${t.name}, which triggers auto-reminders when due.`}return""},notificationDateOptions(){return this.retention.fieldId?[{id:this.$nano.id(),label:"Use Field Date",value:"field_date"},{id:this.$nano.id(),label:"Use Specific Date",value:"specific_date"},{id:this.$nano.id(),label:"Set Future Date from Field Date",value:"future_date"}]:[{id:this.$nano.id(),label:"Use Specific Date",value:"specific_date"},{id:this.$nano.id(),label:"Set Future Date from Field Date",value:"future_date"}]},dateValidation(){const t={};"specific_date"===this.notificationDate&&(t.required=!0);let e="";if(this.retention.fieldId){let t=this.fileData.find(t=>t.id===this.retention.fieldId);e=t.value}else e=this.$day.format(this.file.createdAt,!1);return e&&(t.minDate=e),t}},watch:{file:{immediate:!0,deep:!0,async handler(){this.file}},notificationDate(){this.notificationDate&&(this.dateError="")}},mounted(){this.getUserList(),this.getGroupList()},methods:{textSearchInFile(t){localStorage.setItem("findText",t)},showTable(t){let e=this.fileData.filter(e=>e.name===t);this.tableHeader=e[0].name,this.tableData=JSON.parse(e[0].value),this.expandTableModal=!0},checkRetention(t){return this.retentionList.filter(e=>e.fieldId===t).length?"orange":""},showRetention(t){this.retentionFieldId=t,this.reset();let e=this.retentionList.find(e=>e.fieldId===t);e&&(this.retention.id=e.id,this.retention.name=e.name,this.retention.duration=e.duration,this.retention.durationType=e.durationType,this.retention.action=e.action,this.retention.actionDate=e.actionDate,this.notificationDate="field_date",this.retention.duration?this.notificationDate="future_date":this.retention.actionDate&&(this.notificationDate="specific_date"),this.retention.notification=JSON.parse(e.notifyJson),e.notifyJson&&(this.notify=!0),this.retention.notification.mailSubject||(this.retention.notification.mailSubject={text:"",content:""},this.retention.notification.mailBody={text:"",content:""})),this.retention.fieldId=t,e||(this.retention.fieldId?this.notificationDate="field_date":this.notificationDate="future_date"),this.retentionSettings=!0},reset(){this.activeTab="GENERAL",this.retentionSettings=!1,this.retention.name="",this.retention.fieldId="",this.retention.action="NO_ACTION",this.retention.actionDate="",this.retention.durationType="Day",this.retention.duration=0,this.retention.notification={duration:0,durationType:"Day",user:[],group:[],mailSubject:{text:"",content:""},mailBody:{text:"",content:""}},this.dateError="",this.notify=!0},async getUserList(){const{error:t,payload:e}=await r["s"].getUserList();t?this.$alert.error("Error fetching users"):this.userList=e&&e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))},async getGroupList(){const{error:t,payload:e}=await r["i"].getGroupList();t?this.$alert.error("Error fetching groups"):this.groupList=e&&e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))},async saveRetention(){"field_date"===this.notificationDate?(this.retention.actionDate="",this.retention.duration=0,this.retention.durationType="Day"):"specific_date"===this.notificationDate?(this.retention.duration=0,this.retention.durationType="Day"):"future_date"===this.notificationDate&&(this.retention.actionDate="");let t="";if(this.retention.fieldId){let e=this.fileData.find(t=>t.id===this.retention.fieldId);t=e.value}else t=this.$day.format(this.file.createdAt,!1);let e="",i="";if("future_date"===this.notificationDate?("Day"===this.retention.durationType&&(e=this.$day.addDate(t,this.retention.duration)),"Month"===this.retention.durationType&&(e=this.$day.addMonth(t,this.retention.duration)),"Year"===this.retention.durationType&&(e=this.$day.addYear(t,this.retention.duration)),i=this.$day.isDateGreater(t,this.$day.newDate())?t:this.$day.newDate()):e="specific_date"===this.notificationDate?this.retention.actionDate:t,!(e>=this.$day.newDate()))return void("field_date"===this.notificationDate?this.dateError="Its completed date. please select any one option in two options":this.dateError=`Please select any date after (${i}) this date`);this.dateError="";const s=await this.$refs.retention.validate();if(s){if(this.notify?this.retention.notifyJson=JSON.stringify(this.retention.notification):this.retention.notifyJson="",this.$store.commit("showLoadingBar"),this.retention.id&&this.retention.fieldId===this.retentionFieldId){const{error:t}=await r["p"].updateRetention(this.retention.id,this.retention);if(t)return void this.$alert.error(t);this.$alert.success("Notification rule updated succesfully")}else{const{error:t}=await r["p"].addRetention(this.retention);if(t)return void this.$alert.error(t);this.$alert.success("Notification rule added succesfully")}this.$store.commit("hideLoadingBar"),this.$emit("refresh"),this.reset()}}}},S=k,A=(i("d2fb"),i("2877")),I=Object(A["a"])(S,c,d,!1,null,"1ffcec1e",null),L=I.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"q-pa-xs"},[e("BaseScrollbar",{staticClass:"q-pa-sm",attrs:{height:"calc(100vh - 215px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:t.commentsText(i),"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":t.bgCommentsColor(i)}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},P=[],_=i("6df3"),F=i("695e"),M={name:"FileComments",components:{TextAreaField:_["a"],TextBuilderField:F["a"],Modal:h["a"]},props:{repositoryId:{type:Number,default:0},itemId:{type:Number,default:0}},data(){return{commentText:"",commentsList:[],advancedCommentsSheet:!1,advancedCommentText:""}},created(){this.getComments()},methods:{commentsText(t){return t.processId?[`<b>${t.workflowName} : ${t.requestNo}</b><br/> ${t.comments}`]:2===t.checkinStatus?["<b>CheckOut:</b><br/> "+t.comments]:1===t.checkinStatus?["<b>CheckIn:</b><br/> "+t.comments]:[t.comments]},bgCommentsColor(t){return t.processId?"orange-1":2===t.checkinStatus?"red-1":1===t.checkinStatus?"green-1":t.createdBy===this.$store.state.session.id?"primary-1":"secondary-1"},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getComments(){this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["p"].getFileComments(this.repositoryId,this.itemId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e)},async saveComment(){if(this.commentText){this.$store.commit("showLoadingBar");const{error:t}=await r["p"].insertFileComments(this.repositoryId,this.itemId,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText){this.$store.commit("showLoadingBar");const{error:t}=await r["p"].insertFileComments(this.repositoryId,this.itemId,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}}}},D=M,B=(i("81e5"),i("8169")),$=i("93dc"),O=i.n($),N=Object(A["a"])(D,T,P,!1,null,"f1ea4660",null),E=N.exports;O()(N,"components",{QChatMessage:B["a"]});var z=i("b94d"),R=i("cade"),q=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{label:"Set_Password"===t.header.id?"enter a password for to protect this file":"enter a password to remove this file protection","is-mandatory":"",tooltip:t._passwordHint,error:i[0]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])}),e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-lg",attrs:{label:"confirm password","is-mandatory":"",tooltip:t._passwordHint,error:i[0]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.updatePassword}})]},proxy:!0}])})},V=[],H=i("1c54"),W=i("8bc3"),j=i("0c6e"),X={name:"Password",components:{Confirm:H["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],PasswordField:W["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0},repositoryId:{type:Number,required:!0},itemId:{type:Number,required:!0}},data(){return{password:"",confirmPassword:""}},computed:{_passwordHint(){return j["a"]}},methods:{closeModal(){this.$emit("close",!1)},async updatePassword(){if(this.password===this.confirmPassword){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["k"].setRemoveFilePassword({repositoryId:this.repositoryId,itemId:this.itemId,password:"Set_Password"===this.header.id?this.confirmPassword:""});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);202===e.status&&("Set_Password"===this.header.id?this.$alert.success("password set successfully"):this.$alert.success("password removed successfully"),this.password="",this.confirmPassword=""),this.$emit("close",!1)}else this.$alert.warning("password not matched")}}},Y=X,G=Object(A["a"])(Y,q,V,!1,null,"5e2bad70",null),U=G.exports,J=i("ee54"),Q=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-my-lg",attrs:{label:"Encrypt"===t.header.id?"enter a password for to encrypt this file":"enter a password for to decrypt this file","is-mandatory":"",error:i[0]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},Z=[],K={name:"EncryptDecrypt",components:{Confirm:H["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextField:p["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0}},data(){return{password:""}},methods:{closeModal(){this.$emit("close",!1)}}},tt=K,et=Object(A["a"])(tt,Q,Z,!1,null,"30ac12fa",null),it=et.exports,st=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mt-lg",attrs:{label:"Pages","is-mandatory":"",error:i[0],placeholder:"enter page number like 2,3,4  or 2-5"},model:{value:t.pages,callback:function(e){t.pages=e},expression:"pages"}})]}}])}),e("div",{staticClass:"description q-mb-lg q-mt-sm"},[t._v(" Note: First page and last page cannot be hide ")])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},at=[],ot={name:"HidePage",components:{Confirm:H["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextField:p["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0}},data(){return{pages:""}},methods:{closeModal(){this.$emit("close",!1)}}},rt=ot,nt=(i("02fb"),Object(A["a"])(rt,st,at,!1,null,"7b871c5e",null)),lt=nt.exports,ct=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Task")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"task-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("div",{staticClass:"q-pa-md"},["form"===t.tab?e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"Type","is-mandatory":"",options:[],error:i[0]},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})]}}],null,!1,221057675)}),e("TextAreaField",{staticClass:"q-mb-sm",attrs:{value:t.task,label:"Task"}}),e("ValidationProvider",{attrs:{name:"start time",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{staticClass:"q-mb-sm",attrs:{value:t.startTime,label:"Start Time","is-mandatory":"",error:i[0]}})]}}],null,!1,882080563)}),e("ValidationProvider",{attrs:{name:"end time",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{staticClass:"q-mb-sm",attrs:{value:t.endTime,label:"End Time","is-mandatory":"",error:i[0]}})]}}],null,!1,384865875)}),e("ValidationProvider",{attrs:{name:"users",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"users","is-mandatory":"",options:[],error:i[0]},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})]}}],null,!1,1613393186)}),e("ValidationProvider",{attrs:{name:"priority",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"task priority","is-mandatory":"",options:t.priorityList,error:i[0]},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})]}}],null,!1,1876549040)})],1)]):t._e(),"history"===t.tab?e("div",{attrs:{id:"history"}},[[e("div",{staticClass:"entry"},[e("div",{staticClass:"header"},[t._v("1 Task Assign")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v("admin@ezofis.com")]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v("2022-May-06 09:35 PM")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Assigned" ')]),t._v(" to abc@ezofis.com ")])],1)])])]],2):t._e()],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},dt=[],ht=i("d1e5"),ut={name:"Task",components:{Sheet:n["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextAreaField:_["a"],SelectField:f["a"],DateTimeField:ht["a"],MultiSelectField:m["a"],Tabs:z["a"]},props:{value:{type:Boolean,default:!1}},data(){return{tab:"form",tabs:[{id:this.$nano.id(),label:"form",value:"form"},{id:this.$nano.id(),label:"history",value:"history"}],type:"",task:"",startTime:"",endTime:"",users:[],priority:"",priorityList:[{id:this.$nano.id(),label:"High",value:"High"},{id:this.$nano.id(),label:"Medium",value:"Medium"},{id:this.$nano.id(),label:"Low",value:"Low"}]}},methods:{closeModal(){this.$emit("close",!1)}}},mt=ut,pt=(i("21e0"),Object(A["a"])(mt,ct,dt,!1,null,"1a249f74",null)),ft=pt.exports,gt=(i("caad"),function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Alert")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"alert-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("div",{staticClass:"q-pa-md"},["form"===t.tab?e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("FormFieldLabel",{attrs:{label:"Conditions","is-mandatory":""}}),e("div",{staticClass:"options-wrapper"},[e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Checked In"),label:"Checked In"},on:{input:function(e){return t.updateValue("Checked In")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Checked Out"),label:"Checked Out"},on:{input:function(e){return t.updateValue("Checked Out")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Commented"),label:"Commented"},on:{input:function(e){return t.updateValue("Commented")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Email"),label:"Email"},on:{input:function(e){return t.updateValue("Email")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Link"),label:"Link"},on:{input:function(e){return t.updateValue("Link")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Viewed"),label:"Viewed"},on:{input:function(e){return t.updateValue("Viewed")}}})],1),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e(),e("ValidationProvider",{attrs:{name:"Alert To",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"alert to","is-mandatory":"",options:[],error:i[0]},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})]}}],null,!1,3515054549)})],1)]):t._e(),"history"===t.tab?e("div",{attrs:{id:"history"}},[[e("div",{staticClass:"entry"},[e("div",{staticClass:"header"},[t._v("2 Alerts")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v("admin@ezofis.com")]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v("2022-May-06 09:35 PM")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Checkin" ')]),t._v(" alert sent to abc@ezofis.com ")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Viewed" ')]),t._v(" alert sent to xyz@ezofis.com ")])],1)])])]],2):t._e()],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})}),vt=[],bt={name:"Alert",components:{Sheet:n["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],MultiSelectField:m["a"],FormFieldLabel:b["a"],CheckboxField:v["a"],FormFieldError:C["a"],Tabs:z["a"]},props:{value:{type:Boolean,default:!1}},data(){return{tab:"form",tabs:[{id:this.$nano.id(),label:"form",value:"form"},{id:this.$nano.id(),label:"history",value:"history"}],users:[],conditions:[],error:""}},methods:{closeModal(){this.$emit("close",!1)},updateValue(t){const e=[...this.conditions];if(e.includes(t)){const i=e.indexOf(t);e.splice(i,1)}else e.push(t);this.conditions=e}}},yt=bt,xt=(i("cccc"),Object(A["a"])(yt,gt,vt,!1,null,"67ebff79",null)),wt=xt.exports,Ct=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"q-my-lg",attrs:{label:"CheckIn"===t.header.id?"Purpose for checking in":"Purpose for checking out","is-mandatory":"",error:i[0]},model:{value:t.checkInOut,callback:function(e){t.checkInOut=e},expression:"checkInOut"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.saveCheckInCheckOut}})]},proxy:!0}])})},kt=[],St={name:"CheckedInOut",components:{Confirm:H["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextAreaField:_["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0},file:{type:Object,required:!0}},data(){return{checkInOut:""}},methods:{closeModal(){this.$emit("close",!1)},async saveCheckInCheckOut(){this.$store.commit("showLoadingBar");let t={comments:this.checkInOut};if("CheckOut"===this.header.label){const{error:e,payload:i}=await r["p"].fileCheckOut(this.file.repositoryId,this.file.id,t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);if(!i)return;console.log(i),this.$emit("checkout",!1),this.$emit("downloadFile","")}this.checkInOut="",this.$emit("close",!1)}}},At=St,It=Object(A["a"])(At,Ct,kt,!1,null,"3664c360",null),Lt=It.exports,Tt=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"red",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to delete this "),e("span",[t._v("file")])]),e("p",[t._v("You can always restore the deleted file from the trash page.")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:t.deleteFile}})]},proxy:!0}])})},Pt=[],_t={name:"Delete",components:{Confirm:H["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0},repositoryId:{type:Number,required:!0},itemId:{type:Number,required:!0}},data(){return{}},methods:{closeModal(){this.$emit("close",!1)},async deleteFile(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["p"].fileDelete(this.repositoryId,this.itemId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(200===e.status&&this.$alert.success("file deleted successfully"),this.$emit("close",!1))}}},Ft=_t,Mt=Object(A["a"])(Ft,Tt,Pt,!1,null,"5663a02d",null),Dt=Mt.exports,Bt=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Protect using password")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"vault-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("div",{staticClass:"q-pa-md"},["form"===t.tab?e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("FormFieldLabel",{attrs:{label:"Requires user to enter a password for","is-mandatory":""}}),e("div",{staticClass:"options-wrapper"},[e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Viewing"),label:"Viewing"},on:{input:function(e){return t.updateValue("Viewing")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Editing"),label:"Editing"},on:{input:function(e){return t.updateValue("Editing")}}})],1),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e(),e("ValidationProvider",{attrs:{name:"password",rules:{password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-sm",attrs:{"is-mandatory":"",label:"password",value:t.password,error:i[0]}})]}}],null,!1,2834753869)}),e("ValidationProvider",{attrs:{name:"confirm password",rules:{password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-sm",attrs:{"is-mandatory":"",label:"confirm password",value:t.password,error:i[0]}})]}}],null,!1,298225343)}),e("div",{staticClass:"advanced q-py-sm q-mb-sm",on:{click:function(e){t.showAdvanceOptions=!t.showAdvanceOptions}}},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"label"},[t._v("Advanced Options")]),e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-chevron-down","inherit-color":""}})],1)]),t.showAdvanceOptions?[e("FormFieldLabel",{attrs:{label:"Requires user to enter a password for","is-mandatory":""}}),e("div",{staticClass:"options-wrapper"},[e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Links"),label:"Links"},on:{input:function(e){return t.updateValue("Links")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Comments"),label:"Comments"},on:{input:function(e){return t.updateValue("Comments")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Share"),label:"Share"},on:{input:function(e){return t.updateValue("Share")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Task"),label:"Task"},on:{input:function(e){return t.updateValue("Task")}}})],1)]:t._e()],2)]):t._e(),"history"===t.tab?e("div",{attrs:{id:"history"}},[[e("div",{staticClass:"entry"},[e("div",{staticClass:"header"},[t._v("1 items protected")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v("admin@ezofis.com")]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v("2022-May-06 09:35 PM")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Editing" ')]),t._v(" menu protected ")])],1)])])]],2):t._e()],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},$t=[],Ot={name:"AddVault",components:{Sheet:n["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],PasswordField:W["a"],FormFieldLabel:b["a"],CheckboxField:v["a"],FormFieldError:C["a"],Tabs:z["a"]},props:{value:{type:Boolean,default:!1}},data(){return{tab:"form",tabs:[{id:this.$nano.id(),label:"form",value:"form"},{id:this.$nano.id(),label:"history",value:"history"}],password:"",conditions:[],error:"",showAdvanceOptions:!1}},methods:{closeModal(){this.$emit("close",!1)}}},Nt=Ot,Et=(i("297e"),Object(A["a"])(Nt,Bt,$t,!1,null,"4b214f92",null)),zt=Et.exports,Rt=i("5e23"),qt=i("4bc4"),Vt=i("bc3a"),Ht=i.n(Vt),Wt=i("0c04"),jt=i("dd90"),Xt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"history"}},[t.history.length?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 140px)"}},t._l(t.history,(function(i){return e("div",{key:i.id,staticClass:"entry"},[e("div",{staticClass:"header"},[t._v(" "+t._s(i.activity)+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v(t._s(i.activityBy))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.activityOn))])],1)])])})),0)]:e("div",{staticClass:"no-history"},[t._v("No data found")])],2)},Yt=[],Gt={name:"DocumentHistory",props:{history:{type:Array,required:!0}},data(){return{}},created(){this.$emit("get")}},Ut=Gt,Jt=(i("5960"),Object(A["a"])(Ut,Xt,Yt,!1,null,"707cfe64",null)),Qt=Jt.exports,Zt=i("61cf"),Kt=i("1026"),te=i("2f62"),ee=i("626d"),ie={name:"FileSheet",components:{Sheet:n["a"],FileIcon:l["a"],Tabs:z["a"],FileDetails:L,Comments:E,ListItem:R["a"],Password:U,MetaDataEdit:J["a"],EncryptDecrypt:it,HidePage:lt,Task:ft,Alert:wt,CheckedInOut:Lt,Delete:Dt,AddVault:zt,EmailSharing:Rt["a"],RenderForm:qt["a"],TextAreaField:_["a"],AddTask:Wt["a"],TextBuilderField:F["a"],Modal:h["a"],DocumentHistory:Qt,Dropzone:Zt["a"],UploadingFileList:Kt["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],FormFieldError:C["a"],SingleChoiceField:y["a"],Summarizing:ee["a"]},props:{value:{type:Boolean,default:!1},file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},options:{type:Object,default:()=>{}},menuActions:{type:Boolean,default:!0}},data(){return{tab:"METADATA",tabs:[{id:this.$nano.id(),label:"Metadata",value:"METADATA"},{id:this.$nano.id(),label:"Comments",value:"COMMENTS"},{id:this.$nano.id(),label:"History",value:"HISTORY"}],actionList:[{id:"Indexing_Change",key:"metadataEdit",label:"Metadata Edit",icon:"eva-edit-2-outline",visible:!0,disable:!0},{id:"Set_Password",key:"password",label:"Set Password",icon:"mdi-lock-outline",visible:!0,disable:!0},{id:"Remove_Password",key:"password",label:"Remove Password",icon:"mdi-lock-minus-outline",visible:!0,disable:!0},{id:"Add_To_Vault",key:"vault",label:"Add To Vault",icon:"mdi-eye-off-outline",visible:!0,disable:!0},{id:"Hide_Pages",key:"hidePages",label:"Hide Pages",icon:"mdi-book-open-page-variant-outline",visible:!0,disable:!0},{id:"Task",key:"task",label:"Task",icon:"mdi-send-outline",visible:!0,disable:!1},{id:"Initiate_Workflow",key:"workFlow",label:"Initiate Workflow",icon:"mdi-sitemap",subMenu:[],visible:!0,disable:!1},{id:"Alert",key:"alert",label:"Alert",icon:"mdi-file-alert-outline",visible:!0,disable:!0},{id:"CheckIn",key:"checkInAndOut",label:"CheckIn",icon:"mdi-file-upload-outline",visible:!0,disable:!0},{id:"CheckOut",key:"checkInAndOut",label:"CheckOut",icon:"mdi-file-download-outline",visible:!0,disable:!0},{id:"Delete",key:"deleteFile",label:"Delete",icon:"mdi-file-remove-outline",visible:!0,disable:!0},{id:"Email_Sharing",key:"emailSharing",label:"Email Sharing",icon:"mdi-email-outline",visible:!0,disable:!0},{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline",visible:!0,disable:!0},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline",visible:!0,disable:!0},{id:"Links",key:"links",label:"Links",icon:"mdi-link-variant",visible:!0,disable:!0}],showPasswordModal:!1,selectList:{},showMetaDataEditModal:!1,showEncryptDecryptModal:!1,showHidePageModal:!1,showTaskModal:!1,showAlertModal:!1,showCheckedInOutModal:!1,showDeleteModal:!1,showAddVaultModal:!1,emailSharingSheet:!1,selectedFileList:[],processSheet:!1,headerTitle:"",fileData:[],workflows:[],formId:"",form:{},formModel:{},workflowFormModel:{},actions:[],saveAction:"",processTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0}],attachmentSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],attachmentList:[],fileSheet:!1,selectedFile:{},taskSheet:!1,taskEntries:[],workflowInit:{},taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntryList:[],taskMode:"",selectedTask:{},formWidth:"100vw",advancedCommentsSheet:!1,advancedCommentText:"",history:[],fileAction:"",addTaskEnabled:!1,showCheckinModal:!1,filesToUpload:[],comments:"",showProgress:!1,filesError:!1,showDeleteBtn:!0,retentionList:[],isSignProcessFound:!1,documentSignProcess:!1,signWorkflow:{},signAction:"",signProcessModal:!1,signType:0,signTypes:[{id:this.$nano.id(),label:"E-Signature",value:0},{id:this.$nano.id(),label:"Digital Signature",value:1}],orderType:0,orderTypes:[{id:this.$nano.id(),label:"Sequential",value:1},{id:this.$nano.id(),label:"Non-Sequential",value:0}],watchViewerClose:null,watchViewerEdit:null,transactionUserIds:[],signerSettings:{},summarizeModal:!1,selectedUploadFile:[],repositoryDetails:{},userList:[],documentEdit:!1}},computed:{...Object(te["c"])(["loadingBar"]),checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&"http://10.16.7.1"!==t&&"http://172.16.1.118"!==t},type(){return this.file.name?this.file.name.split(".").reverse()[0].slice(0,4):""},fileSize(){return Object(o["a"])(this.file.size)},scrollbarHeight(){const t=36*this.actionList.length;return t>216?"276px":t+58+"px"},formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){return this.formId?this.form.panels:[]},secondaryPanels(){return this.formId?this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},updatedActionList(){const t=[...this.actionList];return t.forEach(t=>{t.key in this.options&&(t.disable="true"!==this.options[t.key],"download"!==t.key||t.disable?"print"!==t.key||t.disable||(this.fileAction+=",print"):(this.fileAction="",this.fileAction+="download"))}),t},_enableControls(){let t=[],e=[];return this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}}},watch:{value:{immediate:!0,deep:!0,async handler(){if(this.file.id&&this.value){if(this.getUserList(),this.getItemDetails(),this.getFileRetentions(),this.getWorkflows(),this.isSignProcessFound=!1,this.file.name){let t=this.file.name.split(".").pop();"pdf"===t.toLowerCase()&&this.getSignWorkflow()}if(this.getFileHistory(),this.getTaskForm(),this.file.repositoryId&&this.getFolderSecurity(),this.file.hasPassword)if(this.$store.state.session.id==this.file.encryptedBy){let t=this.actionList.findIndex(t=>"Set_Password"===t.id);this.actionList[t].label="Change Password",this.actionList[1].visible=!0,this.actionList[2].visible=!0}else this.actionList[1].visible=!1,this.actionList[2].visible=!1;else this.actionList[1].visible=!0,this.actionList[2].visible=!1;let t=this.actionList.findIndex(t=>"CheckIn"===t.id),e=this.actionList.findIndex(t=>"CheckOut"===t.id);this.file.checkinStatus?2===this.file.checkinStatus&&this.file.checkinBy===this.$store.state.session.email?t>=0&&(this.actionList[t].disable=!1,this.actionList[e].disable=!0):1===this.file.checkinStatus&&this.file.checkinBy===this.$store.state.session.email&&e>=0&&(this.actionList[e].disable=!1,this.actionList[t].disable=!0):e>=0&&(this.actionList[e].disable=!1,this.actionList[t].disable=!0)}}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateWorkflow()}},options:{deep:!0,immediate:!0,handler(){this.actionList=this.updatedActionList}}},methods:{fileLink(){let t=location.origin.replace("http://localhost:8080","https://trial.ezofis.com");if(this.file.name){let e=this.file.name.split(".").pop();if(Object(jt["d"])(e)){let i="";return this.fileAction&&(i="&action="+this.fileAction),"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}`:"https://trial.ezofis.com"!==t||Object(jt["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}${i}`:(this.isSignProcessFound&&0===this.file.checkinStatus&&(localStorage.setItem("viewerClose",!1),localStorage.setItem("viewerEdit",!1),this.watchViewerEdit=setInterval(()=>this.checkViewerEdit(),1e3),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3)),`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}${i}`)}return Object(jt["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.file.repositoryId}/${this.file.id}/2`:(localStorage.setItem("viewerClose",!1),localStorage.setItem("viewerEdit",!1),this.watchViewerEdit=setInterval(()=>this.checkViewerEdit(),1e3),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}`)}return""},closeFileSheet(){this.$emit("input",!1)},updateColumns(t){if(this.selectList={},"Set_Password"===t.id||"Remove_Password"===t.id)this.showPasswordModal=!0,this.selectList=t;else if("Indexing_Change"===t.id)this.showMetaDataEditModal=!0;else if("Encrypt"===t.id||"Decrypt"===t.id)this.showEncryptDecryptModal=!0,this.selectList=t;else if("Hide_Pages"===t.id&&this.file&&this.file.name&&this.file.name.endsWith(".pdf"))this.showHidePageModal=!0,this.selectList=t;else if("Task"===t.id)this.taskEntries.length?this.taskSheet=!0:this.addTask();else if("Alert"===t.id)this.showAlertModal=!0;else if("CheckIn"===t.id||"CheckOut"===t.id)"CheckOut"===t.id?this.showCheckedInOutModal=!0:(this.itemId=this.file.id,this.showCheckinModal=!0),this.selectList=t;else if("Delete"===t.id)this.showDeleteModal=!0,this.selectList=t;else if("Add_To_Vault"===t.id)this.showAddVaultModal=!0;else if("Email_Sharing"===t.id)this.selectedFileList=[],this.selectedFileList.push({id:this.file.id,name:this.file.name}),this.emailSharingSheet=!0;else if("Print"===t.id){if(this.file.name){let t=this.file.name.split(".").pop();Object(jt["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.file.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Initiate_Workflow"===t.id);else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.file.repositoryId}/${this.file.id}/2`,window.open(t,"_blank")}},closeProcessSheet(){this.processSheet=!1},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"PRINT"===t?window.print():"TASK"===t&&(this.taskEntries.length?this.taskSheet=!0:this.addTask())},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},commentsText(t){return t.processId?[`<b>${t.workflowName} : ${t.requestNo}</b><br/> ${t.comments}`]:2===t.checkinStatus?["<b>CheckOut:</b><br/> "+t.comments]:1===t.checkinStatus?["<b>CheckIn:</b><br/> "+t.comments]:[t.comments]},bgCommentsColor(t){return t.processId?"orange-1":2===t.checkinStatus?"red-1":1===t.checkinStatus?"green-1":t.createdBy===this.$store.state.session.id?"primary-1":"secondary-1"},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},attachedFileSize(t){return Object(o["a"])(t)},attachedFileLink(){return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view?id=${this.selectedFile.id}&type=1`},closeTaskSheet(){this.taskSheet=!1},validateRequest(t){this.saveAction=t},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},addTaskEntry(t,e){this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e)},getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},disableAction(t,e){return!!("Hide_Pages"===e.id&&t&&this.file&&this.file.name)&&!this.file.name.endsWith(".pdf")},closeDeleteFile(){this.showDeleteModal=!1,this.$emit("input",!1)},showCheckinUploadFile(t){if(2===t.checkinStatus)this.showCheckinModal=!0,console.log(t),this.itemId=t.id;else{this.showCheckedInOutModal=!0;let t=this.actionList.findIndex(t=>"CheckOut"===t.id);this.selectList=this.actionList[t]}},queueFilesForUpload(t){this.filesError=!1,this.filesToUpload.push(...t)},fileDownload(){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.file.repositoryId}/${this.file.id}/2`,window.open(t,"_blank")},reset(){this.filesToUpload=[],this.comments="",this.showCheckinModal=!1},deleteUploadFile(t){this.filesToUpload.splice(t,1)},checkSignProcess(){this.signType=0,this.orderType=1,this.signProcessModal=!0},openSignProcess(){this.signProcessModal=!1,this.actions=[];let t=JSON.parse(this.signWorkflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e&&"MANUAL"===e.settings.initiateMode){this.headerTitle=`${this.signWorkflow.name} - ${e.settings.label}`;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}localStorage.setItem("userList",JSON.stringify(this.userList)),localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),this.documentSignProcess=!0,this.processSheet=!0},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88"),e="";return e="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":"http://52.172.32.88"===t?"http://52.172.32.88/DocsViewer/index.html":t+"/PDFViewer/web/viewer.html",`${e}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&wId=${this.signWorkflow.id}&type=2&position=true&signType=${this.signType}&orderType=${this.orderType}`},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(clearInterval(this.watchViewerClose),localStorage.removeItem("viewerClose"),this.processSheet?this.getSignerSettings():this.closeFileSheet())},checkViewerEdit(){localStorage.getItem("viewerEdit")&&"true"===localStorage.getItem("viewerEdit")&&(localStorage.removeItem("viewerEdit"),clearInterval(this.watchViewerEdit),this.documentEdit=!0)},async getUserList(){const{error:t,payload:e}=await r["s"].getUserList();t?this.$alert.error("Error fetching users"):this.userList=e&&e.map(t=>({id:t.id,value:t.value,firstName:t.firstName}))},async getItemDetails(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["p"].getFileData({repositoryId:this.file.repositoryId,itemId:this.file.id});this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.fileData=e)},async getFileRetentions(){this.retentionList=[];const{error:t,payload:e}=await r["p"].getRetentions({sortBy:{criteria:"",order:"ASC"},groupBy:"",filterBy:[{filters:[{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.file.repositoryId},{criteria:"itemId",condition:"IS_EQUALS_TO",value:this.file.id}],groupCondition:""}],currentPage:0,itemsPerPage:0,mode:"BROWSE"});t?this.$alert.error(t):null!==e&&(this.retentionList=e&&e.map(t=>({id:t.id,name:t.name,action:t.action,actionDate:t.actionDate,fieldId:t.fieldId,durationType:t.durationType,duration:t.duration,notifyJson:t.notifyJson})))},async getWorkflows(){this.workflows=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].getWorkflows({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"initiatedBy",condition:"CONTAINS",value:"Document",dataType:""},{criteria:"flowstatus",condition:"IS_EQUALS_TO",value:"PUBLISHED",dataType:""},{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.file.repositoryId,dataType:""}],groupCondition:""}],itemsPerPage:0,currentPage:0,hasSecurity:!1});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(i[0].value.forEach(t=>{let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i&&i.settings.initiateBy.indexOf("USER")>-1){let s=!1;if((i.settings.users.indexOf(this.$store.state.session.id)>-1||i.settings.users.indexOf("0")>-1)&&(s=!0),i.settings.initiateBy.indexOf("DOMAIN_USER")>-1){let t=this.$store.state.session.email.split("@").pop();i.settings.userDomains.indexOf(t)>-1&&(s=!0)}if(s){let s="",a=e.rules.find(t=>t.fromBlockId===i.id);a&&(s=a.proceedAction),this.workflows.push({id:t.id,name:t.name,review:s,initiatedBy:t.initiatedBy,formId:t.wFormId,flowJson:t.flowJson})}}}),this.workflows.length&&this.actionList.find(t=>{"Initiate_Workflow"===t.id&&(t.subMenu=this.workflows)}))},async getSignWorkflow(){this.isSignProcessFound=!1,this.signWorkflow={},this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].getWorkflows({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"initiatedBy",condition:"CONTAINS",value:"DOCUMENT_SIGN",dataType:""},{criteria:"flowstatus",condition:"IS_EQUALS_TO",value:"PUBLISHED",dataType:""}],groupCondition:""}],itemsPerPage:0,currentPage:0,hasSecurity:!1});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.isSignProcessFound=!0,i[0].value.forEach(t=>{let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i){let s="",a=e.rules.find(t=>t.fromBlockId===i.id);a&&(s=a.proceedAction),this.signWorkflow={id:t.id,name:t.name,review:s,initiatedBy:t.initiatedBy,formId:t.wFormId,flowJson:t.flowJson}}}))},async checkWorkflow(t){if(this.documentSignProcess=!1,"DOCUMENT"===t.initiatedBy||"DOCUMENT_SIGN"===t.initiatedBy)this.workflowInit=t,this.saveAction=t.review,this.initiateWorkflow();else if("DOCUMENT_FORM"===t.initiatedBy&&t.formId){this.workflowInit=t,this.actions=[],await this.getForm(t.formId),this.formId=String(t.formId);let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i&&"MANUAL"===i.settings.initiateMode){this.headerTitle=`${t.name} - ${i.settings.label}`;let s=e.rules.find(t=>t.fromBlockId===i.id);s&&this.actions.push(s.proceedAction)}const s=[...this.form.panels,...this.form.secondaryPanels];if(!s.length)return;let a=[];for(const t of s)a.push(...t.fields);a.forEach(t=>{this.fileData.forEach(e=>{e.name==t.label&&(this.formModel[t.id]=e.value)})}),this.processSheet=!0}},async getForm(t){const{error:e,payload:i}=await r["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=JSON.parse(i.formJson))},async initiateWorkflow(){let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)});let e={workflowId:this.workflowInit.id,repositoryId:this.file.repositoryId,itemId:this.file.id,review:this.saveAction,formData:{formId:this.workflowInit.formId,fields:this.workflowFormModel},comments:this.commentsList,task:this.taskEntryId,userIds:this.transactionUserIds,fileIds:t};this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:i,payload:s}=await r["t"].processTransaction(e);this.$store.commit("hideLoadingBarSave"),i?this.$alert.error(i):(this.$alert.success(s.requestNo+" Request Initiated"),"DOCUMENT_SIGN"===this.workflowInit.initiatedBy&&this.updateSignerSettingWithProcessId(s),this.workflowInit={},this.closeProcessSheet())},async saveComment(){this.commentText&&(this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,fileIds:[0]}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.commentText="")},async saveAdvancedComment(){this.advancedCommentText&&(this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,fileIds:[0]}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.advancedCommentText="",this.advancedCommentsSheet=!1)},async getRepository(){const{error:t,payload:e}=await r["p"].getRepository(this.file.repositoryId);t?this.$alert.error(t):this.repositoryDetails=e},async uploadWflowAttachments(t){"STATIC"===this.repositoryDetails.fieldsType&&(this.selectedUploadFile=t,this.uploadFilename=t.target.files[0].name,this.showMetaDataEditModal=!0)},async uploadAttachments(t){const e=t.target.files[0],i=new FormData;i.append("file",e),i.append("repositoryId",this.file.repositoryId);let s=t.target.files[0].name;const a=s.split(".").pop();if(Object(jt["a"])(a))try{const s=await Ht()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:i,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=s;if(200!==a)throw"Invalid response";let r=JSON.parse(o);this.attachmentList.push({id:Number(r.fileId),name:e.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:e.size,initiate:!0}),t.target.value=""}catch(o){console.error(o),this.$alert.error("error attaching file")}else this.$alert.info("This file format is not supported")},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await r["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await r["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson),this.getDocumentTaskEntries()))},async getTaskFormEntry(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["g"].getFormEntry(t,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async getDocumentTaskEntries(){this.taskEntries=[];const{error:t,payload:e}=await r["g"].getDocumentTaskEntries(this.taskFormId,this.file.repositoryId,this.file.id);if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);let s="",a="",o="",r="",n="",l="";i.forEach(t=>{switch(t.label){case"Task Name":s=e[0][t.id];break;case"Task Assign":a=e[0][t.id];break;case"Start Date":o=e[0][t.id];break;case"End Date":r=e[0][t.id];break;case"Priority":n=e[0][t.id];break;case"Task Status":l=e[0][t.id];break}}),this.taskEntries.push({id:e[0].itemid,name:s,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async filePrintSession(){const{error:t}=await r["k"].filePrintSession({repositoryId:this.file.repositoryId,itemId:this.file.id,activityId:4});t&&this.$alert.error(t)},async getFileHistory(){this.$store.commit("showLoadingBar"),this.history=[];const{error:t,payload:e}=await r["o"].getRepositoryData(this.file.repositoryId,{itemId:this.file.id,filterBy:[],itemsPerPage:100,currentPage:1});this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.history=e.data[0].value.map(t=>({activity:t.activity,activityBy:t.activityBy,activityOn:this.$day.format(t.activityOn)})))},async uploadFile(){const t=await this.$refs.checkin.validate();if(!this.filesToUpload.length)return void(this.filesError=!0);if(!t)return;let e=this.filesToUpload[0],i=0;const s=new FormData;s.append("file",e.file),s.append("repositoryId",this.file.repositoryId),s.append("itemId",this.itemId),s.append("comments",this.comments),this.showProgress=!0,this.showDeleteBtn=!1;let a=e.name;const o=a.split(".").pop();if(!Object(jt["a"])(o))return this.filesToUpload.splice(i,1),void this.$alert.info("This file format is not supported");try{const t=await Ht()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){const i=Math.round(100*t.loaded/t.total);e.uploadedPercentage=i}}),{status:i}=t;if(200!==i)throw"Invalid response";this.$alert.success("file updated successfully"),this.reset(),this.showCheckinModal=!1,this.$emit("input",!1)}catch(r){console.error(r),this.$alert.error("error uploading file - "+e.name)}},async saveMetaData(t){this.$store.commit("showLoadingBar");let e=[],i=!1;if(t.forEach(t=>{t.oldValue!==t.newValue&&(i=!0,e.push(t))}),!i)return void this.$alert.error("Not edited any field");let s={repositoryId:this.file.repositoryId,itemId:this.file.id,settings:JSON.stringify(e)};const{error:a,payload:o}=await r["p"].saveMetaData(s);this.$store.commit("hideLoadingBar"),a?this.$alert.error(a):(o&&this.$alert.success("Metadata edit successfully"),this.getItemDetails())},async getFolderSecurity(){const{error:t,payload:e}=await r["p"].getRepositorySecurity(this.file.repositoryId);if(t)this.$alert.error(t);else if(e&&e.userOptions){const t=e.userOptions.map(t=>({id:t.id,userName:t.email,userId:t.userId,options:JSON.parse(t.options)}));let i=t.find(t=>t.userId===this.$store.state.session.id),s=!1;s=!(!i||!i.options)&&!!i.options.metadataEdit;const a=e.groupOptions.map(t=>({id:t.id,groupId:t.groupId,options:JSON.parse(t.options)}));let o=!1;this.$store.state.session.groups&&this.$store.state.session.groups.forEach(t=>{let e=a.find(e=>e.groupId===t.id);e&&e.options&&e.options.metadataEdit&&(o=!0)});let r=this.actionList.findIndex(t=>"Indexing_Change"===t.id);r>=0&&(this.actionList[r].disable=!s&&!o)}},async getSignerSettings(){this.transactionUserIds=[],this.signerSettings={};let t=[{groupCondition:"",filters:[{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.file.repositoryId.toString()},{criteria:"itemId",condition:"IS_EQUALS_TO",value:this.file.id.toString()}]}];try{const e=await Ht()({url:`https://appuat.ezofis.com/ezofisapi/api/annotation/signSettingsList/${this.$store.state.session.tenantId}/${this.signWorkflow.id}`,method:"POST",headers:{Accept:"application/json"},data:t}),{status:i,data:s}=e;if(200!==i)throw"Invalid response";this.signerSettings=JSON.parse(s);let a=JSON.parse(this.signerSettings.settingsJson);if(a.length)if(0===this.orderType)a.forEach(t=>{"External"===t.signerType?this.transactionUserIds.push(t.externalSignerId):this.transactionUserIds.push(t.signerId)});else{let t=a.find(t=>1===t.signOrder);if(t){let e="External"===t.signerType?t.externalSignerId:t.signerId;this.transactionUserIds.push(e)}}this.transactionUserIds.length&&this.checkWorkflow(this.signWorkflow)}catch(e){console.error(e),this.$alert.error("error getting signer details")}},async updateSignerSettingWithProcessId(t){try{this.signerSettings.processId=t.processId;let e={pId:t.processId,rId:this.signerSettings.repositoryId,itemId:this.signerSettings.itemId,settingsJson:this.signerSettings.settingsJson,isDeleted:0};const i=await Ht()({url:`https://appuat.ezofis.com/ezofisapi/api/annotation/signSettings/${this.$store.state.session.tenantId}/${this.signWorkflow.id}/${this.signerSettings.id}`,method:"PUT",headers:{Accept:"application/json"},data:e}),{status:s}=i;if(202!==s)throw"Invalid response"}catch(e){console.error(e),this.$alert.error("error updating signer details")}}}},se=ie,ae=(i("487e"),i("b047")),oe=i("cb32"),re=i("4e73"),ne=Object(A["a"])(se,s,a,!1,null,"07c89b08",null);e["a"]=ne.exports;O()(ne,"components",{QChip:ae["a"],QAvatar:oe["a"],QMenu:re["a"],QChatMessage:B["a"]})},"718c":function(t,e,i){"use strict";i("1a82")},"71f4":function(t,e,i){},7334:function(t,e,i){},"73e0":function(t,e,i){"use strict";i("8ddd")},"742a":function(t,e,i){"use strict";i("ef04")},"74d9":function(t,e,i){"use strict";i("ee7b")},"75a4":function(t,e,i){"use strict";i("f458")},"75c3":function(t,e,i){"use strict";var s=i("0967"),a=i("7c86"),o=i("d882"),r=i("f249");function n(t,e,i){const s=Object(o["h"])(t);let a,r=s.left-e.event.x,n=s.top-e.event.y,l=Math.abs(r),c=Math.abs(n);const d=e.direction;!0===d.horizontal&&!0!==d.vertical?a=r<0?"left":"right":!0!==d.horizontal&&!0===d.vertical?a=n<0?"up":"down":!0===d.up&&n<0?(a="up",l>c&&(!0===d.left&&r<0?a="left":!0===d.right&&r>0&&(a="right"))):!0===d.down&&n>0?(a="down",l>c&&(!0===d.left&&r<0?a="left":!0===d.right&&r>0&&(a="right"))):!0===d.left&&r<0?(a="left",l<c&&(!0===d.up&&n<0?a="up":!0===d.down&&n>0&&(a="down"))):!0===d.right&&r>0&&(a="right",l<c&&(!0===d.up&&n<0?a="up":!0===d.down&&n>0&&(a="down")));let h=!1;if(void 0===a&&!1===i){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};a=e.event.lastDir,h=!0,"left"===a||"right"===a?(s.left-=r,l=0,r=0):(s.top-=n,c=0,n=0)}return{synthetic:h,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:s,direction:a,isFirst:e.event.isFirst,isFinal:!0===i,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:r,y:n},delta:{x:s.left-e.event.lastX,y:s.top-e.event.lastY}}}}function l(t){const e=t.__qtouchpan;void 0!==e&&(void 0!==e.event&&e.end(),Object(o["b"])(e,"main"),Object(o["b"])(e,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchpan)}let c=0;e["a"]={name:"touch-pan",bind(t,{value:e,modifiers:i}){if(void 0!==t.__qtouchpan&&(l(t),t.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function d(t,e){!0===i.mouse&&!0===e?Object(o["l"])(t):(!0===i.stop&&Object(o["k"])(t),!0===i.prevent&&Object(o["i"])(t))}const h={uid:"qvtp_"+c++,handler:e,modifiers:i,direction:Object(a["a"])(i),noop:o["g"],mouseStart(t){Object(a["b"])(t,h)&&Object(o["e"])(t)&&(Object(o["a"])(h,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),h.start(t,!0))},touchStart(t){if(Object(a["b"])(t,h)){const e=t.target;Object(o["a"])(h,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),h.start(t)}},start(e,a){!0===s["a"].is.firefox&&Object(o["j"])(t,!0),h.lastEvt=e;const r=Object(o["h"])(e);if(!0===a||!0===i.stop){if(!0!==h.direction.all&&(!0!==a||!0!==h.modifiers.mouseAllDir&&!0!==h.modifiers.mousealldir)){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&Object(o["i"])(t),!0===e.cancelBubble&&Object(o["k"])(t),t.qClonedBy=void 0===e.qClonedBy?[h.uid]:e.qClonedBy.concat(h.uid),t.qKeyEvent=e.qKeyEvent,t.qClickOutside=e.qClickOutside,h.initialEvent={target:e.target,event:t}}Object(o["k"])(e)}h.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===a,detected:!1,isFirst:!0,isFinal:!1,lastX:r.left,lastY:r.top}},move(t){if(void 0===h.event)return;h.lastEvt=t;const e=!0===h.event.mouse,i=()=>{let i;d(t,e),!0!==h.modifiers.preserveCursor&&!0!==h.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===e&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(r["a"])(),h.styleCleanup=t=>{if(h.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===e){const e=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==t?setTimeout(()=>{e(),t()},50):e()}else void 0!==t&&t()}};if(!0===h.event.detected){!0!==h.event.isFirst&&d(t,h.event.mouse);const{payload:e,synthetic:s}=n(t,h,!1);return void(void 0!==e&&(!1===h.handler(e)?h.end(t):(void 0===h.styleCleanup&&!0===h.event.isFirst&&i(),h.event.lastX=e.position.left,h.event.lastY=e.position.top,h.event.lastDir=!0===s?void 0:e.direction,h.event.isFirst=!1)))}if(!0===h.direction.all||!0===e&&(!0===h.modifiers.mouseAllDir||!0===h.modifiers.mousealldir))return i(),h.event.detected=!0,void h.move(t);const s=Object(o["h"])(t),a=s.left-h.event.x,l=s.top-h.event.y,c=Math.abs(a),u=Math.abs(l);c!==u&&(!0===h.direction.horizontal&&c>u||!0===h.direction.vertical&&c<u||!0===h.direction.up&&c<u&&l<0||!0===h.direction.down&&c<u&&l>0||!0===h.direction.left&&c>u&&a<0||!0===h.direction.right&&c>u&&a>0?(h.event.detected=!0,h.move(t)):h.end(t,!0))},end(e,i){if(void 0!==h.event){if(Object(o["b"])(h,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),!0===i)void 0!==h.styleCleanup&&h.styleCleanup(),!0!==h.event.detected&&void 0!==h.initialEvent&&h.initialEvent.target.dispatchEvent(h.initialEvent.event);else if(!0===h.event.detected){!0===h.event.isFirst&&h.handler(n(void 0===e?h.lastEvt:e,h).payload);const{payload:t}=n(void 0===e?h.lastEvt:e,h,!0),i=()=>{h.handler(t)};void 0!==h.styleCleanup?h.styleCleanup(i):i()}h.event=void 0,h.initialEvent=void 0,h.lastEvt=void 0}}};t.__qtouchpan=h,!0===i.mouse&&Object(o["a"])(h,"main",[[t,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(o["a"])(h,"main",[[t,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},update(t,{oldValue:e,value:i}){const s=t.__qtouchpan;void 0!==s&&e!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(t){void 0===t.__qtouchpan_destroyed?l(t):delete t.__qtouchpan_destroyed}}},7794:function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"repository-field"}},[t.showFreeze?e("div",{attrs:{id:"checkbox-field"}},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Freeze",expression:"'Freeze'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:t.freezed?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:t.handleFreeze},model:{value:t.freezed,callback:function(e){t.freezed=e},expression:"freezed"}})],1):t._e(),"SHORT_TEXT"===t.field.dataType||"BARCODE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2138129544)}):t._e(),"NUMBER"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory,integer:!t.field.options.allowDecimals}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,3272965974)}):t._e(),"DATE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2736912833)}):t._e(),"TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2195704480)}):t._e(),"DATE_TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1802324180)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["EXISTING"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("AsyncSelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,"api-path":t.apiPath,error:i[0],"new-option":t.field.options.allowToAddNewOptions,"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,364407705)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&"PREDEFINED"===t.field.options.optionsType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.predefinedSelectOptions,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,3382750843)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["MASTER"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.options,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,768311157)}):t._e(),"BOOLEAN"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.booleanOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,61245750)}):t._e(),"OMR"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.omrOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1875132930)}):t._e()],1),e("div",{staticClass:"row items-center justify-center q-mt-sm"},[t.visiableSyncBtn?e("BaseButton",{attrs:{label:"Sync",color:"secondary"},on:{click:function(e){return t.$emit("saveSync",t.field)}}}):t._e()],1)])},a=[],o=i("7bb1"),r=i("b3d1"),n=i("ad54"),l=i("53c1"),c=i("cedb"),d=i("d1e5"),h=i("12b8"),u=i("0c21"),m=i("9234"),p=i("0d5e"),f={name:"RepositoryField",components:{ValidationProvider:o["b"],TextField:r["a"],NumberField:n["a"],DateField:l["a"],TimeField:c["a"],DateTimeField:d["a"],SelectField:h["a"],AsyncSelectField:u["a"],SingleChoiceField:m["a"]},props:{field:{type:Object,required:!0},repositoryId:{type:[String,Number],required:!0},value:{type:[String,Number],required:!0},readOnly:{type:Boolean,default:!1},label:{type:String,default:""},syncField:{type:Object,default:()=>{}},parentControl:{type:Boolean,default:!1},rowIndex:{type:Number,required:!0},filter:{type:Boolean,default:!1},freezedData:{type:Object,default:()=>{}},showFreeze:{type:Boolean,default:!1}},data(){return{booleanOptions:[{id:this.$nano.id(),label:this.field.options.truthyValue,value:this.field.options.truthyValue},{id:this.$nano.id(),label:this.field.options.falsyValue,value:this.field.options.falsyValue}],omrOptions:[{id:this.$nano.id(),label:"Yes",value:"true"},{id:this.$nano.id(),label:"No",value:"false"}],visiableSyncBtn:!1,options:[],freeze:!1,freezeData:this.freezedData,freezed:!1}},computed:{predefinedSelectOptions(){return this.field.options.predefinedOptions.map(t=>({id:this.$nano.id(),label:t,value:t}))},apiPath(){return`/repository/${this.repositoryId}/uniqueColumnValues`}},watch:{field:{immediate:!0,async handler(){for(let t in this.syncField)this.syncField[t]===this.field.name&&(this.visiableSyncBtn=!0)}},filter:{immediate:!0,deep:!0,handler(){this.field.filterBy&&this.field.options.masterFormId&&this.getMasterEntriesFilter(this.field)}}},created(){this.freezedData&&(this.freezed=this.field.name in this.freezedData),this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn)},methods:{handleInput(t){this.$emit("input",t),this.parentControl&&this.$emit("filterBy",this.field,this.rowIndex),this.freezed&&this.updateOrAddField(this.field.name,t)},handleFreeze(){this.freezed=!this.freezed,this.freezed?(this.updateOrAddField(this.field.name,this.value),this.$emit("update:freezed",this.freeze)):this.$emit("update:removeFreezed",this.field.name)},updateOrAddField(t,e){t in this.freezeData?this.freezeData[t]=e:this.freezeData={...this.freezeData,[t]:e},this.$emit("update:freezedData",this.freezeData)},async getMasterEntries(t,e){try{const i=await p["b"].post(`/form/${t}/uniqueColumnValues`,JSON.stringify({column:e,keyword:"",rowFrom:0,rowCount:0})),{status:s,data:a}=i;if(200!==s)throw i;const o=JSON.parse(a);o.length&&(this.options=o.map(t=>({id:this.$nano.id(),label:t,value:t})))}catch(i){console.error(i),this.$alert.error("Error fetching options")}},async getMasterEntriesFilter(t){try{const e=await p["b"].post(`/form/${t.options.masterFormId}/uniqueColumnValues`,JSON.stringify({column:t.options.masterTableColumn,keyword:"",rowFrom:0,rowCount:0,filters:t.filterBy})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length?(this.options=a.map(t=>({id:this.$nano.id(),label:t,value:t})),1===this.options.length&&this.handleInput(this.options[0].value)):(this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn),this.handleInput(""))}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},g=f,v=(i("87dc"),i("2877")),b=Object(v["a"])(g,s,a,!1,null,"174d3602",null);e["a"]=b.exports},"79b4":function(t,e,i){},"7cc9":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.rangeChartOptions,series:t.xyData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2f62"),n=i("2adf"),l={name:"RangeChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},isHorizontal:{type:Boolean,default:!1},xyData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{rangeChartOptions:{chart:{type:"rangeBar"},plotOptions:{bar:{horizontal:this.isHorizontal}}}}},computed:{...Object(r["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.rangeChartOptions,this.options)}}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"acbf4366",null);e["a"]=h.exports},8169:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("87e8");e["a"]=s["default"].extend({name:"QChatMessage",mixins:[a["a"]],props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){return"q-message-text-content q-message-text-content--"+this.op+(void 0!==this.textColor?" text-"+this.textColor:"")},messageClass(){return"q-message-text q-message-text--"+this.op+(void 0!==this.bgColor?" text-"+this.bgColor:"")},containerClass(){return"q-message-container row items-end no-wrap"+(!0===this.sent?" reverse":"")},sizeClass(){if(void 0!==this.size)return"col-"+this.size},op(){return!0===this.sent?"sent":"received"}},methods:{__wrapStamp(t,e){if(void 0!==this.$scopedSlots.stamp)return[e,t("div",{staticClass:"q-message-stamp"},this.$scopedSlots.stamp())];if(this.stamp){const i=!0===this.stampSanitize?"textContent":"innerHTML";return[e,t("div",{staticClass:"q-message-stamp",domProps:{[i]:this.stamp}})]}return[e]},__getText(t,e,i){const s=!0===this.textSanitize?"textContent":"innerHTML";if(!0===i&&!0===e.some(t=>void 0===t.tag&&void 0!==t.text))return[t("div",{class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,t("div",e)))])];const a=!0!==i?e=>t("div",{domProps:{[s]:e}}):e.length>1?t=>t:e=>t("div",[e]);return e.map((e,i)=>t("div",{key:i,class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,a(e)))]))}},render(t){const e=[];void 0!==this.$scopedSlots.avatar?e.push(this.$scopedSlots.avatar()):void 0!==this.avatar&&e.push(t("img",{class:"q-message-avatar q-message-avatar--"+this.op,attrs:{src:this.avatar,"aria-hidden":"true"}}));const i=[];void 0!==this.$scopedSlots.name?i.push(t("div",{class:"q-message-name q-message-name--"+this.op},this.$scopedSlots.name())):void 0!==this.name&&i.push(t("div",{class:"q-message-name q-message-name--"+this.op,domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}})),void 0!==this.text&&i.push(this.__getText(t,this.text)),void 0!==this.$scopedSlots.default&&i.push(this.__getText(t,this.$scopedSlots.default(),!0)),e.push(t("div",{class:this.sizeClass},i));const s=[];return void 0!==this.$scopedSlots.label?s.push(t("div",{staticClass:"q-message-label"},this.$scopedSlots.label())):void 0!==this.label&&s.push(t("div",{staticClass:"q-message-label",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}})),s.push(t("div",{class:this.containerClass},e)),t("div",{class:"q-message q-message-"+this.op,on:{...this.qListeners}},s)}})},"81e5":function(t,e,i){"use strict";i("e887")},8505:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Modal",{attrs:{width:t.externalAccess?"100vw":"70vw","external-access":t.externalAccess},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.historyTitle)+'" Process History')]},proxy:!0},{key:"action",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:t.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processHistory"}},[e("div",{staticClass:"col-12 q-mb-md q-pt-sm"},[e("Stepper",{attrs:{"stage-level":t.stageLevel,"current-step":t.currentStep}})],1),e("table",{attrs:{id:"history"}},[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.processHistoryData,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:"stage"===s.name?[t._v(" "+t._s(i[s.name]||"-")+" "),i.subWorkflowHistory?[i.subWorkflowHistory.length?[e("span",{staticClass:"text-secondary"},[t._v(" [CONNECTOR] ")])]:t._e()]:t._e()]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0),i.comments.length?e("tr",{key:i.id,on:{click:function(t){i.showComments=!i.showComments}}},[e("td",{staticClass:"comments",attrs:{colspan:"6"}},[e("BaseIcon",{attrs:{name:i.showComments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Comments ("+t._s(i.comments.length)+") ")],1)]):t._e(),i.comments.length&&i.showComments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"comments1"}},[e("thead",[e("tr",[e("th",{staticClass:"large"},[t._v("Comments")]),e("th",{staticClass:"medium"},[t._v("Commented By")]),e("th",{staticClass:"medium"},[t._v("Commented On")]),e("th",{staticClass:"medium"},[t._v("Attached In")])])]),e("tbody",[t._l(i.comments,(function(i,s){return[e("tr",{key:s},[e("td",{staticClass:"commentsText ellipsis"},[t._v(" "+t._s(t.removeTags(i.comments)||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(i.createdByEmail||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")]),e("td",[i.embedFileList&&i.embedFileList.length?[e("div",{staticClass:"file-icons",on:{click:function(e){return t.openFileByCmd(i.embedFileList[0])}}},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"\n                                    comment.embedFileList[0].fileName\n                                  ",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}}),e("a",{staticClass:"file-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(i.embedFileList[0].fileName||"-"))])],1)]:[t._v(" "+t._s("-")+" ")]],2)])]}))],2)])])]):t._e(),i.attachments.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showAttachments=!i.showAttachments}}},[e("BaseIcon",{attrs:{name:i.showAttachments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Attachments ("+t._s(i.attachments.length)+") ")],1)]):t._e(),i.attachments.length&&i.showAttachments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",[e("tr",[e("th",[t._v("File Name")]),e("th",[t._v("Attached By")]),e("th",[t._v("Attached On")])])]),e("tbody",[t._l(i.attachments,(function(i,s){return[e("tr",{key:s},[e("td",[t._v(t._s(i.name||"-"))]),e("td",[t._v(t._s(i.createdByEmail||"-"))]),e("td",[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")])])]}))],2)])])]):t._e(),i.subWorkflowHistory?[i.subWorkflowHistory.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showSubWorkflowHistory=!i.showSubWorkflowHistory}}},[e("BaseIcon",{attrs:{name:i.showSubWorkflowHistory?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),1===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Completed",expression:"'Completed'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-check",color:"green"}})]:0===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-progress",expression:"'In-progress'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-clock",color:"orange"}})]:t._e(),t._v(" "+t._s(i.subWorkflowHistory[0].requestNo)+" ")],2)]):t._e(),i.showSubWorkflowHistory?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",[t._l(i.subWorkflowHistory,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]):t._e()]:t._e()]}))],2)])])]},proxy:!0}],null,!0),model:{value:t.processHistoryModal,callback:function(e){t.processHistoryModal=e},expression:"processHistoryModal"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFiles[0].createdAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFiles[0].createdByEmail))]),t.selectedFiles[0].size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFiles[0].size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],1)},a=[],o=(i("14d9"),i("1b0d")),r=i("6a70"),n=i("0006"),l=i("fa1f"),c=i("381e"),d=i("dd90"),h=i("a7d2"),u=i("42fc"),m={name:"ProcessHistory",components:{Modal:r["a"],Stepper:n["a"],Sheet:c["a"],FileIcon:l["a"]},props:{processId:{type:Number,required:!0},selectedProcess:{type:Object,default:()=>{}},externalAccess:{type:Boolean,default:!1}},data(){return{historyTitle:"",processHistoryData:[],processHistoryModal:!1,columns:[{id:this.$nano.id(),name:"stage",label:"STAGE",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"actionUser",label:"ACTION USER",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"receivedOn",label:"RECEIVED ON",type:"DATE"},{id:this.$nano.id(),name:"processedBy",label:"PROCESSED BY",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"processedOn",label:"PROCESSED ON",type:"DATE"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"SHORT_TEXT"}],stageLevel:[],currentStep:0,selectedFile:{},fileSheet:!1,selectedFiles:[]}},watch:{processId:{immediate:!0,handler(){this.processId&&this.showHistory(this.processId)}}},methods:{async showHistory(t){this.processHistoryModal=!0,this.processHistoryData=[],this.historyTitle=this.selectedProcess.requestNo,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await o["t"].processHistory(this.selectedProcess.id,t);this.$store.commit("hideLoadingBarSave"),e?this.$alert.error(e):i.length&&(i.forEach(t=>{this.processHistoryData.push({...t,showComments:!1,showAttachments:!1,showSubWorkflowHistory:!1})}),this.stageLevel=[],this.currentStep=0,i.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},openFileByCmd(t){const e=t,{fileName:i,itemid:s,...a}=e;this.selectedFile={name:i,id:s,...a};const o=this.processHistoryData.map(t=>t.attachments).flat();this.selectedFiles=o.filter(t=>t.id==this.selectedFile.id&&t.name==this.selectedFile.name),this.openFile(this.selectedFile)},fileSize(t){return Object(h["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;return"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2),Object(d["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`}return Object(d["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(d["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:Object(d["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},closeModal(){this.processHistoryModal=!1,this.$emit("close")},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},export_Data1(){let t=[];this.processHistoryData.forEach(e=>{t.push({Stage:e.stage,"Action User":e.actionUser,"Received On":this.$day.format(e.receivedOn),"Processed On":this.$day.format(e.processedOn),"Processed By":e.processedBy,Status:e.status})}),Object(u["a"])(t,this.historyTitle+" - Process History")},export_Data(){let t=[];this.processHistoryData.forEach(e=>{if(t.push({Stage:e.stage,"Action User":e.actionUser||"","Received On":this.$day.format(e.receivedOn)||"","Processed On":this.$day.format(e.processedOn)||"","Processed By":e.processedBy||"",Status:e.status||""}),e.comments&&e.comments.length){let i;t.push({Stage:`<span style="color: #00BCD4;font-weight: bold;">Comments(${e.comments.length})</span>`}),t.push({Stage:"<strong>Comments<strong>","Action User":"<strong>Commented By<strong>","Received On":"<strong>Commented On<strong>","Processed On":"<strong>Attached In<strong>"}),e.comments.forEach(e=>{e.embedFileList&&e.embedFileList.length&&e.embedFileList.forEach(t=>{i=t.fileName}),t.push({Stage:`<span style="color: #00BCD4;">${e.comments||""}</span>`,"Action User":`<span style="color: #00BCD4;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #00BCD4;">${this.$day.format(e.createdAt)||""}</span>`,"Processed On":`<span style="color: #00BCD4;">${i||""}</span>`})})}e.attachments&&e.attachments.length&&(t.push({Stage:`<span style="color: #643094;font-weight: bold;">Attachment(${e.attachments.length})</span>`}),t.push({Stage:"<strong>File Name<strong>","Action User":"<strong>\tAttached By<strong>","Received On":"<strong>Attached On<strong>"}),e.attachments.forEach(e=>{t.push({Stage:`<span style="color: #643094; border: 12px solid#50067e;">${e.name||""}</span>`,"Action User":`<span style="color: #643094;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #643094;">${this.$day.format(e.createdAt)||""}</span>`})})),e.subWorkflowHistory&&e.subWorkflowHistory.length&&(t.push({Stage:`<span style="color: #e97f06;font-weight: bold;">${e.subWorkflowHistory[0].requestNo}[Connector]<span>`}),t.push({Stage:"<strong>Stage</strong>","Action User":"<strong>Action User</strong>","Received On":"<strong>Received On</strong>","Processed On":"<strong>Processed On</strong>","Processed By":"<strong>Processed By</strong>",Status:"<strong>status</strong>"}),e.subWorkflowHistory.forEach(e=>{t.push({Stage:`<span style="color: #e97f06;">${e.stage}</span>`,"Action User":`<span style="color: #e97f06;border:2px solid black">${e.actionUser||""}</span>`,"Received On":`<span style="color: #e97f06;">${this.$day.format(e.receivedOn)||""}</span>`,"Processed On":`<span style="color: #e97f06;">${this.$day.format(e.processedOn)||""}</span>`,"Processed By":`<span style="color: #e97f06;">${e.processedBy||""}</span>`,Status:`<span style="color: #e97f06;">${e.status||""}</span>`})}))}),Object(u["a"])(t,this.historyTitle+" Report")}}},p=m,f=(i("bf55"),i("2877")),g=i("4e73"),v=i("93dc"),b=i.n(v),y=Object(f["a"])(p,s,a,!1,null,"2443da3d",null);e["a"]=y.exports;b()(y,"components",{QMenu:g["a"]})},8749:function(t,e,i){},"87dc":function(t,e,i){"use strict";i("5f3d")},8801:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.bubbleChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("2f62"),r=i("a1a34"),n=i("2adf"),l={name:"BubbleChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{bubbleChartOptions:{chart:{type:"bubble"},labels:this.xData}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(r["a"])(this.bubbleChartOptions,this.options)}}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"4f9bf3e6",null);e["a"]=h.exports},8829:function(t,e,i){"use strict";i("4714")},"888a":function(t,e,i){},8920:function(t,e,i){},"8a57":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.areaChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"AreaChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{areaChartOptions:{chart:{type:"area"},xaxis:{categories:this.xData}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.areaChartOptions,this.options)}}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,"20f75742",null);e["a"]=d.exports},"8b18":function(t,e,i){"use strict";i("28f7")},"8b55":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({class:{active:t.isActive,"is-full-width":t.isFullWidth},style:{color:t.isActive?t._color:""},attrs:{id:"tab"}},t.$listeners),[t._v(" "+t._s(t.label)+" ")])},a=[],o={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},r=o,n=(i("2ac6"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"f3c4783e",null);e["a"]=l.exports},"8ddd":function(t,e,i){},"8fbb":function(t,e,i){},"91dd":function(t,e,i){},9254:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.barChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"BarChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},isHorizontal:{type:Boolean,default:!1},isStacked:{type:Boolean,default:!1},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{barChartOptions:{chart:{type:"bar",barHeight:"100%",stacked:this.isStacked},xaxis:{categories:this.xData},plotOptions:{bar:{borderRadius:4,horizontal:this.isHorizontal}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.barChartOptions,this.options)}}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,"8af710e6",null);e["a"]=d.exports},9404:function(t,e,i){"use strict";i("caad"),i("14d9");var s=i("a026"),a=i("58e5"),o=i("463c"),r=i("7ee0"),n=i("efe6"),l=i("b7fa"),c=i("75c3"),d=i("7937"),h=i("e277"),u=i("d54d"),m=i("f376");const p=150,f=["mouseover","mouseout","mouseenter","mouseleave"];e["a"]=s["default"].extend({name:"QDrawer",inject:{layout:{default(){console.error("QDrawer needs to be child of QLayout")}}},mixins:[l["a"],a["a"],o["a"],r["a"],n["a"]],directives:{TouchPan:c["a"]},props:{side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,contentStyle:[String,Object,Array],contentClass:[String,Object,Array],overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},data(){const t="mobile"===this.behavior||"desktop"!==this.behavior&&this.layout.totalWidth<=this.breakpoint;return{belowBreakpoint:t,showing:!0===this.showIfAbove&&!1===t||!0===this.value}},watch:{belowBreakpoint(t){!0===t?(this.lastDesktopState=this.showing,!0===this.showing&&this.hide(!1)):!1===this.overlay&&"mobile"!==this.behavior&&!1!==this.lastDesktopState&&(!0===this.showing?(this.__applyPosition(0),this.__applyBackdrop(0),this.__cleanup()):this.show(!1))},"layout.totalWidth"(){!0!==this.layout.container&&!0===document.qScrollPrevented||this.__updateBelowBreakpoint()},side(t,e){this.layout.instances[e]===this&&(this.layout.instances[e]=void 0,this.layout[e].space=!1,this.layout[e].offset=0),this.layout.instances[t]=this,this.layout[t].size=this.size,this.layout[t].space=this.onLayout,this.layout[t].offset=this.offset},behavior(){this.__updateBelowBreakpoint()},breakpoint(){this.__updateBelowBreakpoint()},"layout.container"(t){!0===this.showing&&this.__preventScroll(!0!==t),!0===t&&this.__updateBelowBreakpoint()},"layout.scrollbarWidth"(){this.__applyPosition(!0===this.showing?0:void 0)},offset(t){this.__update("offset",t)},onLayout(t){this.$emit("on-layout",t),this.__update("space",t)},rightSide(){this.__applyPosition()},size(t){this.__applyPosition(),this.__updateSizeOnLayout(this.miniToOverlay,t)},miniToOverlay(t){this.__updateSizeOnLayout(t,this.size)},"$q.lang.rtl"(){this.__applyPosition()},mini(){!0===this.value&&(this.__animateMini(),this.layout.__animate())},isMini(t){this.$emit("mini-state",t)}},computed:{rightSide(){return"right"===this.side},otherSide(){return!0===this.rightSide?"left":"right"},offset(){return!0===this.showing&&!1===this.belowBreakpoint&&!1===this.overlay?!0===this.miniToOverlay?this.miniWidth:this.size:0},size(){return!0===this.isMini?this.miniWidth:this.width},fixed(){return!0===this.overlay||!0===this.miniToOverlay||this.layout.view.indexOf(this.rightSide?"R":"L")>-1||this.$q.platform.is.ios&&!0===this.layout.container},onLayout(){return!0===this.showing&&!1===this.belowBreakpoint&&!1===this.overlay},onScreenOverlay(){return!0===this.showing&&!1===this.belowBreakpoint&&!0===this.overlay},backdropClass(){return!1===this.showing?"hidden":null},headerSlot(){return!0===this.rightSide?"r"===this.layout.rows.top[2]:"l"===this.layout.rows.top[0]},footerSlot(){return!0===this.rightSide?"r"===this.layout.rows.bottom[2]:"l"===this.layout.rows.bottom[0]},aboveStyle(){const t={};return!0===this.layout.header.space&&!1===this.headerSlot&&(!0===this.fixed?t.top=this.layout.header.offset+"px":!0===this.layout.header.space&&(t.top=this.layout.header.size+"px")),!0===this.layout.footer.space&&!1===this.footerSlot&&(!0===this.fixed?t.bottom=this.layout.footer.offset+"px":!0===this.layout.footer.space&&(t.bottom=this.layout.footer.size+"px")),t},style(){const t={width:this.size+"px"};return!0===this.belowBreakpoint?t:Object.assign(t,this.aboveStyle)},classes(){return"q-drawer--"+this.side+(!0===this.bordered?" q-drawer--bordered":"")+(!0===this.isDark?" q-drawer--dark q-dark":"")+(!0!==this.showing?" q-layout--prevent-focus":"")+(!0===this.belowBreakpoint?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":" q-drawer--"+(!0===this.isMini?"mini":"standard")+(!0===this.fixed||!0!==this.onLayout?" fixed":"")+(!0===this.overlay||!0===this.miniToOverlay?" q-drawer--on-top":"")+(!0===this.headerSlot?" q-drawer--top-padding":""))},stateDirection(){return(!0===this.$q.lang.rtl?-1:1)*(!0===this.rightSide?1:-1)},isMini(){return!0===this.mini&&!0!==this.belowBreakpoint},onNativeEvents(){if(!0!==this.belowBreakpoint){const t={"!click":t=>{this.$emit("click",t)}};return f.forEach(e=>{t[e]=t=>{void 0!==this.qListeners[e]&&this.$emit(e,t)}}),t}},hideOnRouteChange(){return!0!==this.persistent&&(!0===this.belowBreakpoint||!0===this.onScreenOverlay)},openDirective(){const t=!0===this.$q.lang.rtl?this.side:this.otherSide;return[{name:"touch-pan",value:this.__openByTouch,modifiers:{[t]:!0,mouse:!0}}]},contentCloseDirective(){if(!0!==this.noSwipeClose){const t=!0===this.$q.lang.rtl?this.otherSide:this.side;return[{name:"touch-pan",value:this.__closeByTouch,modifiers:{[t]:!0,mouse:!0}}]}},backdropCloseDirective(){if(!0!==this.noSwipeBackdrop){const t=!0===this.$q.lang.rtl?this.otherSide:this.side;return[{name:"touch-pan",value:this.__closeByTouch,modifiers:{[t]:!0,mouse:!0,mouseAllDir:!0}}]}}},methods:{__applyPosition(t){void 0===t?this.$nextTick(()=>{t=!0===this.showing?0:this.size,this.__applyPosition(this.stateDirection*t)}):void 0!==this.$refs.content&&(!0!==this.layout.container||!0!==this.rightSide||!0!==this.belowBreakpoint&&Math.abs(t)!==this.size||(t+=this.stateDirection*this.layout.scrollbarWidth),this.__lastPosition!==t&&(this.$refs.content.style.transform=`translateX(${t}px)`,this.__lastPosition=t))},__applyBackdrop(t,e){void 0!==this.$refs.backdrop?this.$refs.backdrop.style.backgroundColor=this.lastBackdropBg=`rgba(0,0,0,${.4*t})`:!0!==e&&this.$nextTick(()=>{this.__applyBackdrop(t,!0)})},__setBackdropVisible(t){void 0!==this.$refs.backdrop&&this.$refs.backdrop.classList[!0===t?"remove":"add"]("hidden")},__setScrollable(t){const e=!0===t?"remove":!0!==this.layout.container?"add":"";""!==e&&document.body.classList[e]("q-body--drawer-toggle")},__animateMini(){void 0!==this.timerMini?clearTimeout(this.timerMini):void 0!==this.$el&&this.$el.classList.add("q-drawer--mini-animate"),this.timerMini=setTimeout(()=>{void 0!==this.$el&&this.$el.classList.remove("q-drawer--mini-animate"),this.timerMini=void 0},150)},__openByTouch(t){if(!1!==this.showing)return;const e=this.size,i=Object(d["a"])(t.distance.x,0,e);if(!0===t.isFinal){const t=this.$refs.content,s=i>=Math.min(75,e);return t.classList.remove("no-transition"),void(!0===s?this.show():(this.layout.__animate(),this.__applyBackdrop(0),this.__applyPosition(this.stateDirection*e),t.classList.remove("q-drawer--delimiter"),t.classList.add("q-layout--prevent-focus"),this.__setBackdropVisible(!1)))}if(this.__applyPosition((!0===this.$q.lang.rtl?!0!==this.rightSide:this.rightSide)?Math.max(e-i,0):Math.min(0,i-e)),this.__applyBackdrop(Object(d["a"])(i/e,0,1)),!0===t.isFirst){const t=this.$refs.content;t.classList.add("no-transition"),t.classList.add("q-drawer--delimiter"),t.classList.remove("q-layout--prevent-focus"),this.__setBackdropVisible(!0)}},__closeByTouch(t){if(!0!==this.showing)return;const e=this.size,i=t.direction===this.side,s=(!0===this.$q.lang.rtl?!0!==i:i)?Object(d["a"])(t.distance.x,0,e):0;if(!0===t.isFinal){const t=Math.abs(s)<Math.min(75,e);return this.$refs.content.classList.remove("no-transition"),void(!0===t?(this.layout.__animate(),this.__applyBackdrop(1),this.__applyPosition(0)):this.hide())}this.__applyPosition(this.stateDirection*s),this.__applyBackdrop(Object(d["a"])(1-s/e,0,1)),!0===t.isFirst&&this.$refs.content.classList.add("no-transition")},__show(t,e){if(this.__addHistory(),this.__setBackdropVisible(!0),!1!==t&&this.layout.__animate(),this.__applyPosition(0),!0===this.belowBreakpoint){const t=this.layout.instances[this.otherSide];void 0!==t&&!0===t.belowBreakpoint&&t.hide(!1),this.__applyBackdrop(1),!0!==this.layout.container&&this.__preventScroll(!0)}else this.__applyBackdrop(0),!1!==t&&this.__setScrollable(!1);this.__registerTimeout(()=>{!1!==t&&this.__setScrollable(!0),!0!==e&&this.$emit("show",t)},p)},__hide(t,e){this.__removeHistory(),!1!==t&&this.layout.__animate(),this.__applyBackdrop(0),this.__applyPosition(this.stateDirection*this.size),this.__setBackdropVisible(!1),this.__cleanup(),!0!==e?this.__registerTimeout(()=>{this.$emit("hide",t)},p):this.__removeTimeout()},__cleanup(){this.__preventScroll(!1),this.__setScrollable(!0)},__update(t,e){this.layout[this.side][t]!==e&&(this.layout[this.side][t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)},__updateSizeOnLayout(t,e){this.__update("size",!0===t?this.miniWidth:e)},__updateBelowBreakpoint(){this.__updateLocal("belowBreakpoint","mobile"===this.behavior||"desktop"!==this.behavior&&this.layout.totalWidth<=this.breakpoint)}},created(){this.__useTimeout("__registerTimeout","__removeTimeout"),this.layout.instances[this.side]=this,this.__updateSizeOnLayout(this.miniToOverlay,this.size),this.__update("space",this.onLayout),this.__update("offset",this.offset),!0===this.showIfAbove&&!0!==this.value&&!0===this.showing&&void 0!==this.qListeners.input&&this.$emit("input",!0)},mounted(){this.$emit("on-layout",this.onLayout),this.$emit("mini-state",this.isMini),this.lastDesktopState=!0===this.showIfAbove;const t=()=>{const t=!0===this.showing?"show":"hide";this["__"+t](!1,!0)};0===this.layout.totalWidth?this.watcher=this.$watch("layout.totalWidth",()=>{this.watcher(),this.watcher=void 0,!1===this.showing&&!0===this.showIfAbove&&!1===this.belowBreakpoint?this.show(!1):t()}):this.$nextTick(t)},beforeDestroy(){void 0!==this.watcher&&this.watcher(),clearTimeout(this.timerMini),!0===this.showing&&this.__cleanup(),this.layout.instances[this.side]===this&&(this.layout.instances[this.side]=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},render(t){const e=[];!0===this.belowBreakpoint&&(!0!==this.noSwipeOpen&&e.push(t("div",{staticClass:"q-drawer__opener fixed-"+this.side,attrs:m["a"],directives:this.openDirective})),e.push(t("div",{ref:"backdrop",staticClass:"fullscreen q-drawer__backdrop",class:this.backdropClass,attrs:m["a"],style:void 0!==this.lastBackdropBg?{backgroundColor:this.lastBackdropBg}:null,on:Object(u["b"])(this,"bkdrop",{click:this.hide}),directives:!1===this.showing?void 0:this.backdropCloseDirective})));const i=[t("div",{staticClass:"q-drawer__content fit "+(!0===this.layout.container?"overflow-auto":"scroll"),class:this.contentClass,style:this.contentStyle},!0===this.isMini&&void 0!==this.$scopedSlots.mini?this.$scopedSlots.mini():Object(h["c"])(this,"default"))];return!0===this.elevated&&!0===this.showing&&i.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(t("aside",{ref:"content",staticClass:"q-drawer",class:this.classes,style:this.style,on:this.onNativeEvents,directives:!0===this.belowBreakpoint?this.contentCloseDirective:void 0},i)),t("div",{staticClass:"q-drawer-container"},e)}})},9495:function(t,e,i){"use strict";i("888a")},"9a8d":function(t,e,i){},"9bc4":function(t,e,i){"use strict";var s=i("b703"),a=i("09f4"),o=i("1549"),r=i("2250"),n=i("f842"),l=i("e8b2");function c(t){return Object(l["a"])(t)?void 0:t}var d=c,h=i("b4f1"),u=i("ca54"),m=i("f5fe"),p=i("ff51"),f=u["a"]?u["a"].isConcatSpreadable:void 0;function g(t){return Object(p["a"])(t)||Object(m["a"])(t)||!!(f&&t&&t[f])}var v=g;function b(t,e,i,s,a){var o=-1,r=t.length;i||(i=v),a||(a=[]);while(++o<r){var n=t[o];e>0&&i(n)?e>1?b(n,e-1,i,s,a):Object(h["a"])(a,n):s||(a[a.length]=n)}return a}var y=b;function x(t){var e=null==t?0:t.length;return e?y(t,1):[]}var w=x,C=i("500e"),k=i("c619");function S(t){return Object(k["a"])(Object(C["a"])(t,void 0,w),t+"")}var A=S,I=i("4e71"),L=1,T=2,P=4,_=A((function(t,e){var i={};if(null==t)return i;var l=!1;e=Object(s["a"])(e,(function(e){return e=Object(r["a"])(e,t),l||(l=e.length>1),e})),Object(n["a"])(t,Object(I["a"])(t),i),l&&(i=Object(a["a"])(i,L|T|P,d));var c=e.length;while(c--)Object(o["a"])(i,e[c]);return i}));e["a"]=_},"9db8":function(t,e,i){},"9ef6":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"file-list"}},[e("div",{staticClass:"header",class:{"has-selected-files":t.hasSelectedFiles},on:{click:t.toggleContent}},[e("div",{staticClass:"label name-and-files"},[t._t("label"),e("span",{staticClass:"q-ml-xs"},[t._v("("+t._s(t.numberOfFiles)+")")])],2),e("q-space"),t.showAutoLoad?e("div",{staticClass:"auto-reload"},[t.isContentMaximized?e("p",{staticClass:"q-ml-sm text-gray ellipsis",staticStyle:{"font-size":"10px","margin-top":"15px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.isContentMaximized?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.refreshClicked()}}}):t._e()],1):t._e(),t.isContentMaximized?t._t("actions-maximized"):t._t("actions-minimized"),e("BaseIcon",{staticClass:"icon",class:{"rotate-180":t.isContentMaximized},attrs:{name:"mdi-menu-down","inherit-color":""}})],2),e("q-expansion-item",{attrs:{value:t.isContentMaximized,"header-style":t._styles}},[t.hasFiles?e("div",{staticClass:"q-pb-sm"},[t._t("default")],2):e("div",{staticClass:"no-files"},[t._v("No files found")])])],1)},a=[],o={name:"FileList",props:{hasFiles:{type:Boolean,default:!1},hasSelectedFiles:{type:Boolean,default:!1},numberOfFiles:{type:Number,default:0},showAutoLoad:{type:Boolean,default:!1}},data(){return{reloadClicked:!1,isContentMaximized:this.hasFiles}},computed:{_styles(){return{minHeight:"0px",height:"0px",padding:"0px",overflow:"hidden"}}},watch:{hasFiles(t){this.isContentMaximized=t}},mounted(){this.startAutoRefresh()},beforeDestroy(){this.stopAutoRefresh()},methods:{toggleContent(){this.reloadClicked?this.reloadClicked=!1:this.isContentMaximized=!this.isContentMaximized},showContent(){this.isContentMaximized=this.hasFiles},refreshClicked(){this.reloadClicked=!0,this.getdata()},getdata(){this.isContentMaximized&&this.$emit("getFiles")},startAutoRefresh(){this.autoRefreshInterval=setInterval(()=>{this.getdata()},15e3)},stopAutoRefresh(){this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=null)}}},r=o,n=(i("5e5c"),i("2877")),l=i("2c91"),c=i("3b73"),d=i("93dc"),h=i.n(d),u=Object(n["a"])(r,s,a,!1,null,"d1f2acf4",null);e["a"]=u.exports;h()(u,"components",{QSpace:l["a"],QExpansionItem:c["a"]})},a176:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.candleStickChartOptions,series:t.xyData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2f62"),n=i("2adf"),l={name:"CandleStickChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xyData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{candleStickChartOptions:{chart:{type:"candlestick"},plotOptions:{candlestick:{colors:{upward:"#4a89dd",downward:"#36bd9a"}}}}}},computed:{...Object(r["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.candleStickChartOptions,this.options)}},darkTheme(){this.candleStickChartOptions.plotOptions.candlestick.colors={upward:this.darkTheme?"#5c9dec":"#4a89dd",downward:this.darkTheme?"#48ceaf":"#36bd9a"}}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"88c264a6",null);e["a"]=h.exports},a4c9:function(t,e,i){"use strict";i("91dd")},a589:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{style:{width:t.formWidth},attrs:{id:"custom-form-view"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"col-auto logo"},[e("img",{attrs:{src:t._logo}})]),t._m(0)]),e("div",{staticClass:"content"},[e("FormFieldLabel",{attrs:{label:"Claimant Search"}}),e("div",{staticClass:"content-wrapper"},[t.$q.screen.width>1280?e("div",{staticClass:"row q-mb-md"},[e("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:t.lenderList},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:t.getData},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:t.getData},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),e("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:t.getData},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"province"},on:{enter:t.getData},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:t.getData},model:{value:t.claimNumber,callback:function(e){t.claimNumber=e},expression:"claimNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:t.getData},model:{value:t.contractNumber,callback:function(e){t.contractNumber=e},expression:"contractNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:t.getData},model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),e("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:t.getData}})],1):e("div",[e("div",{staticClass:"row q-mb-md"},[e("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:t.lenderList},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:t.getData},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:t.getData},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),e("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:t.getData},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})],1),e("div",{staticClass:"row q-mb-md"},[e("TextField",{staticClass:"col",attrs:{label:"province"},on:{enter:t.getData},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:t.getData},model:{value:t.claimNumber,callback:function(e){t.claimNumber=e},expression:"claimNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:t.getData},model:{value:t.contractNumber,callback:function(e){t.contractNumber=e},expression:"contractNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:t.getData},model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),e("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:t.getData}})],1)])]),e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col q-mt-sm"},[e("FormFieldLabel",{attrs:{label:"Search Results"}})],1),e("q-space"),e("div",{staticClass:"col-auto"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{attrs:{label:"Add Contract and Send Package",icon:"eva-plus-outline",color:"gray"},on:{click:function(e){t.addContractSheet=!0}}})],1)],1),e("div",{staticClass:"content-wrapper tables"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 360px)"}},[e("div",{staticClass:"row"},[e("FormFieldLabel",{attrs:{label:t.contractCount}}),e("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:t.contractExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(e){t.contractExpand=!t.contractExpand}}})],1),t.contractExpand?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),t._l(t.contractColumnsFilter,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky"})],2)]),e("tbody",[t._l(t.tableContracts,(function(i){return[e("tr",{key:i.id},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[e("div",{staticClass:"row items-center justify-center"},[e("BaseButton",{attrs:{label:"Expand",icon:i.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){i.infoVisible=!i.infoVisible}}})],1)]),t._l(t.contractColumnsFilter,(function(s){return e("td",{key:s.id},[s.editable?["email"===s.valueType?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("TextField",{attrs:{"is-mandatory":"",error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:"lender"===s.name?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("SelectField",{attrs:{"is-mandatory":"",options:t.lenderList,error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:[e("TextField",{attrs:{"is-mandatory":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)})),e("td",{staticClass:"sticky"},[e("div",{staticClass:"row justify-center"},[e("BaseButton",{staticClass:"col-auto q-ml-md",attrs:{label:"Send Package",icon:"mdi-file-send-outline",color:"secondary"},on:{click:function(e){return t.getProduct(i.id)}}})],1)])],2),i.infoVisible?e("tr",{key:"sub-"+i.id},[e("td",{attrs:{colspan:t.contractColumnsFilter.length+2}},[e("table",{staticClass:"subDetails"},[e("thead",t._l(t.contractColumnsInfo,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",t._l(t.contractColumnsInfo,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)])])]):t._e()]}))],2)]):t._e(),e("div",{staticClass:"row"},[e("FormFieldLabel",{attrs:{label:t.claimCount}}),e("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:t.claimExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(e){t.claimExpand=!t.claimExpand}}})],1),t.claimExpand?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),t._l(t.claimColumnsFilter,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky"})],2)]),e("tbody",[t._l(t.tableClaims,(function(i){return[e("tr",{key:i.id},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[e("div",{staticClass:"row items-center justify-center"},[e("BaseButton",{attrs:{label:"Expand",icon:i.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){i.infoVisible=!i.infoVisible}}})],1)]),t._l(t.claimColumnsFilter,(function(s){return e("td",{key:s.id},["history"===s.name?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Claim History",expression:"'Claim History'",modifiers:{bottom:!0}}],attrs:{icon:"mdi-history",color:"secondary","is-flat":"","no-border":""},on:{click:function(e){return t.claimHistory(i)}}})]:s.editable?["email"===s.valueType?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("TextField",{attrs:{"is-mandatory":"",error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:[e("TextField",{attrs:{"is-mandatory":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)})),e("td",{staticClass:"sticky"},[e("div",{staticClass:"row justify-center q-mt-sm"},[t.claimStatus(i)?[e("div",{on:{click:function(e){return t.reopenClaim(i.id)}}},[e("q-chip",{staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-arrow-top-right",color:"pink","text-color":"white"}}),t._v(" Re-open ")],1)],1)]:t._e(),e("div",{on:{click:function(e){return t.viewClaim(i.id)}}},[e("q-chip",{staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-eye-outline",color:"orange","text-color":"white"}}),t._v(" View Claim ")],1)],1)],2)])],2),i.infoVisible?e("tr",{key:"sub-"+i.id},[e("td",{attrs:{colspan:t.claimColumnsFilter.length+2}},[e("table",{staticClass:"subDetails"},[e("thead",t._l(t.claimColumnsInfo,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",t._l(t.claimColumnsInfo,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)])])]):t._e()]}))],2)]):t._e()])],1)],1),e("AddContract",{attrs:{value:t.addContractSheet,"lender-list":t.lenderList},on:{initiate:t.processInitiate,close:function(e){t.addContractSheet=!1}}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.productModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Choose Product")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"productModal"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"product","is-mandatory":"",options:t.productList},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Send Package",color:"primary"},on:{click:function(e){return t.processInitiate("")}}})]},proxy:!0}]),model:{value:t.productModal,callback:function(e){t.productModal=e},expression:"productModal"}}),e("Modal",{attrs:{width:"70vw"},on:{input:function(e){t.claimHistoryModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Claim History")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"claimHistory"}},[e("table",[e("thead",[e("tr",t._l(t.historyColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.claimHistoryData,(function(i){return e("tr",{key:i.id},t._l(t.historyColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name]||"-")+" ")]}),{value:i[s.name],item:i})],2)})),0)})),0)])])]},proxy:!0}],null,!0),model:{value:t.claimHistoryModal,callback:function(e){t.claimHistoryModal=e},expression:"claimHistoryModal"}}),e("Sheet",{attrs:{width:"100vw","no-padding":"","has-footer":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"footer row"},[e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Update Claim Details",color:"secondary"},on:{click:function(e){return t.updateClaimDetails()}}})],1)]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col"},[e("CustomProcessForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"selected-process":t.selectedProcess,"is-readonly":!1,"check-list":t.checkList,"form-model":t.formModel,"form-fields":t.formFields,inbox:!0},on:{"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e}}})],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!1,"no-padding":""},on:{input:function(e){t.attachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",[t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","no-padding":""},on:{input:function(e){t.commentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 160px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row q-ma-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col q-mr-xl text-center"},[e("div",{staticClass:"title-1"},[t._v("Request Submission")]),e("div",{staticClass:"description"},[t._v("To submit the Claim Request")])])}],o=(i("caad"),i("14d9"),i("1b0d")),r=i("7bb1"),n=i("be3f"),l=i("3445"),c=i("b3d1"),d=i("c3d2"),h=i("12b8"),u=i("53c1"),m=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"30vw",height:"70vh","has-footer":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Add Contract")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"First Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"First Name","is-mandatory":"",error:i[0]},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})]}}])}),e("ValidationProvider",{attrs:{name:"Last Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Last Name","is-mandatory":"",error:i[0]},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})]}}])}),e("ValidationProvider",{attrs:{name:"DOB",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"DOB","is-mandatory":"",error:i[0]},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})]}}])}),e("NumberField",{staticClass:"q-mb-sm",attrs:{label:"Current Age","is-mandatory":"","is-readonly":""},model:{value:t.currentAge,callback:function(e){t.currentAge=e},expression:"currentAge"}}),e("ValidationProvider",{attrs:{name:"Email",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Email","is-mandatory":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Loan Number"},model:{value:t.loanNumber,callback:function(e){t.loanNumber=e},expression:"loanNumber"}}),e("ValidationProvider",{attrs:{name:"Product",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"Product","is-mandatory":"",options:t.productList,error:i[0]},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})]}}])}),e("ValidationProvider",{attrs:{name:"Lender",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"Lender","is-mandatory":"",options:t.lenderList,error:i[0]},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}})]}}])})],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Save and Send Package",color:"primary"},on:{click:t.createContract}})]},proxy:!0}])})},p=[],f=i("381e"),g=i("ad54"),v={name:"AddContract",components:{ValidationObserver:r["a"],ValidationProvider:r["b"],Sheet:f["a"],TextField:c["a"],DateField:u["a"],NumberField:g["a"],MultiSelectField:d["a"],SelectField:h["a"]},props:{value:{type:Boolean,default:!1},lenderList:{type:Array,default:()=>[]}},data(){return{firstName:"",lastName:"",dob:"",currentAge:0,email:"",loanNumber:"",products:["Involuntary Unemployment"],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],lender:""}},watch:{dob:{deep:!0,immediate:!0,handler(){this.dob?this.currentAge=this.calculateAge(this.dob):this.currentAge=0}}},methods:{closeSheet(){this.$emit("close")},reset(){this.firstName="",this.lastName="",this.dob="",this.currentAge=0,this.email="",this.loanNumber="",this.products=["Involuntary Unemployment"],this.lender=""},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},async createContract(){const t=await this.$refs.form.validate();if(!t)return;this.$store.commit("showLoadingBar");let e={firstName:this.firstName,lastName:this.lastName,dob:this.dob,loanNumber:this.loanNumber,product:this.products};const{error:i}=await o["d"].createContract(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(e.lender=this.lender,e.currentAge=this.currentAge,e.email=this.email,this.$emit("initiate",e),this.reset(),this.closeSheet())}}},b=v,y=i("2877"),x=Object(y["a"])(b,m,p,!1,null,null,null),w=x.exports,C=i("6a70"),k=i("b94d"),S=i("fa1f"),A=i("a7d2"),I=i("dd90"),L=i("c52a"),T=i("8505"),P=i("6df3"),_=i("695e"),F={name:"CustomForm",components:{ValidationProvider:r["b"],ExpandableSearch:n["a"],FormFieldLabel:l["a"],TextField:c["a"],MultiSelectField:d["a"],SelectField:h["a"],DateField:u["a"],AddContract:w,Modal:C["a"],Sheet:f["a"],Tabs:k["a"],FileIcon:S["a"],CustomProcessForm:L["a"],ProcessHistory:T["a"],TextAreaField:P["a"],TextBuilderField:_["a"]},props:{workflowId:{type:Number,default:0},workflow:{type:Object,default:()=>{}},formId:{type:[String,Number],default:0},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},actions:{type:Array,default:()=>[]},requestPrefix:{type:String,default:""},mlPrediction:{type:String,default:""},formFields:{type:Array,default:()=>[]},generatePDF:{type:Number,default:0}},data(){return{form:null,formWidth:"100%",lender:[],firstName:"",lastName:"",dob:"",province:"",claimNumber:"",contractNumber:"",refNumber:"",contractColumns:[{id:this.$nano.id(),name:"firstName",label:"First Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"lastName",label:"Last Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan Number",subLabel:"Loan No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"dob",label:"DOB",subLabel:"",type:"NORMAL",editable:!1,valueType:"date",main:!0,visible:!0},{id:this.$nano.id(),name:"currentAge",label:"Current Age",subLabel:"",type:"NORMAL",editable:!1,valueType:"number",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"policyNumber",label:"Policy Number",subLabel:"Group Policy",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"email",label:"Email",subLabel:"Email ID",type:"NORMAL",editable:!0,valueType:"email",required:!0,main:!0,visible:!0},{id:this.$nano.id(),name:"address1",label:"Address1",subLabel:"Address",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"address2",label:"Address2",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"city",label:"City",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"province",label:"Province",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"postalCode",label:"Postal Code",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"phone",label:"Phone",subLabel:"Phone No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"startDate",label:"Start Date",subLabel:"Loan Start Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"endDate",label:"End Date",subLabel:"Loan End Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"cancelDate",label:"Cancel Date",subLabel:"Cancellation Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"contractNumber",label:"Contract Number",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"product",label:"Product",subLabel:"Benefit Claimed",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan No.",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"paymentFrequency",label:"Payment Freq",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"term",label:"Term",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"remitDate",label:"Last Remitted Date",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"reason",label:"Reason",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1}],claimColumns:[{id:this.$nano.id(),name:"claimsStoreLoanNumber",label:"Claims Store Loan Number",store:"Loan Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimNumber",label:"Claim Number",store:"Claim Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantFirstName",label:"Claimant First Name",store:"First Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantLastName",label:"Claimant Last Name",store:"Last Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantDOB",label:"Claimant DOB",store:"DOB",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantEmail",label:"Claimant Email",store:"Email",type:"NORMAL",editable:!0,main:!0},{id:this.$nano.id(),name:"claimStatus",label:"Claim Status",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"history",label:"",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"branchNumber",label:"Branch Number",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimDate",label:"Claim Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"receiveDate",label:"Receive Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"recommendation",label:"Recommendation",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"product",label:"Product",store:"Product",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantCity",label:"Claimant City",store:"City",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantProv",label:"Claimant Prov",store:"Province",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"currentAge",label:"Current Age",store:"Current Age",type:"NORMAL",editable:!1,main:!1}],tableContracts:[],tableContractsData:[],tableClaims:[],tableClaimsData:[],contractExpand:!0,claimExpand:!0,selectedContract:{},selectedClaim:{},search:"",addContractSheet:!1,productModal:!1,products:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],fieldsModel:{},historyColumns:[{id:this.$nano.id(),name:"claimNumber",label:"Claim Number"},{id:this.$nano.id(),name:"status",label:"Status"},{id:this.$nano.id(),name:"date",label:"Date"},{id:this.$nano.id(),name:"note",label:"Note"}],claimHistoryData:[],claimHistoryModal:!1,lenderList:[],totalItems:0,itemsPerPage:500,currentPage:1,contractDataResult:!1,claimDataResult:!1,selectedProcess:{},processSheet:!1,headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",attachmentSheet:!1,commentsSheet:!1,mailTransactionSheet:!1,commentText:"",commentsList:[],attachmentList:[],mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},formModel:{},historyProcessId:0,checkList:[],advancedCommentsSheet:!1,advancedCommentText:""}},computed:{isMaximized(){return"100%"===this.formWidth},_logo(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?i("651a"):i("bcdf")(`./name-${this.darkTheme?"dark":"light"}.png`)},contractCount(){return`Contracts (${this.tableContracts.length})`},claimCount(){return`Claims (${this.tableClaims.length})`},contractColumnsFilter(){return this.contractColumns.filter(t=>t.main&&t.visible)},contractColumnsInfo(){return this.contractColumns.filter(t=>!t.main&&t.visible)},claimColumnsFilter(){return this.claimColumns.filter(t=>t.main)},claimColumnsInfo(){return this.claimColumns.filter(t=>!t.main)},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{},created(){let t=location.origin;"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId||"http://localhost:8080"===t?this.getLenderMaster(3):this.getLenderMaster(3056)},methods:{toggleWidth(){this.formWidth="100%"===this.formWidth?"720px":"100%"},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},claimStatus(t){return t.claimStatus.indexOf("Declined")>-1||t.claimStatus.indexOf("Force Close")>-1},isArrayField(t){return["MULTIPLE_CHOICE","FILE_UPLOAD","MULTI_SELECT"].includes(t)},searchRow(t){t?(this.tableContracts=this.tableContractsData.filter(e=>{for(let i in e){let s=this.contractColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}),this.tableClaims=this.tableClaimsData.filter(e=>{for(let i in e){let s=this.claimColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}})):(this.tableContracts=this.tableContractsData,this.tableClaims=this.tableClaimsData)},processInitiate(t){let e="",i="",s="";t?this.selectedContract=t:this.selectedContract.product=this.products;let a=[];this.selectedContract.product.length&&this.selectedContract.product.forEach(t=>{if(this.panels.length){if(this.selectedContract.policyNumber){let t=this.selectedContract.policyNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}else this.selectedContract.lender&&(e=this.selectedContract.lender);let a=this.lenderList.filter(t=>t.value===e);a.length&&(i=a[0].email,s=a[0].label),this.fieldsModel={},this.panels.forEach(e=>{if(e.fields.length)for(let a of e.fields)if("Lender Email"===a.label)this.fieldsModel[a.id]=i;else if("Lender Name"===a.label)this.fieldsModel[a.id]=s;else if("Initials1"===a.label){let t="";this.$store.state.session.firstName&&(t+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?t+=this.$store.state.session.lastName[0].toUpperCase():t+=this.$store.state.session.firstName[1],this.fieldsModel[a.id]=t}else{let e=this.contractColumns.find(t=>t.label===a.label||t.subLabel===a.label);e&&("product"===e.name?this.fieldsModel[a.id]=t:this.fieldsModel[a.id]=this.selectedContract[e.name]||"")}})}a.push(this.fieldsModel)}),this.actions.length?this.initiateRequest(a,e,s,this.actions[0]):this.$alert.error("Process Configuration Error")},async initiateRequest(t,e,i,s){let a=[];if(t&&t.length)for(let r of t){let t={workflowId:this.workflow.id,review:"Save"===s?"":s,comments:this.commentsList,formData:{formId:this.formId,fields:r,formUpload:[]},fileIds:[],task:[],hasFormPDF:this.generatePDF,prefix:e,mlPrediction:i};this.$store.commit("showLoadingBarSave");const{error:n,payload:l}=await o["t"].processTransaction(t);if(this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.fieldsModel={},n)return void this.$alert.error(n);a.push(l.requestNo)}a.length&&("Save"!==s?this.$alert.success(a.toString()+" Request Initiated"):this.$alert.success(a.toString()+" Request Initiated and Moved to your inbox")),this.$emit("refresh")},newClaim(t){let e="",i="",s="";this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.panels.length&&this.panels.forEach(t=>{if(!t.fields.length)return;if(this.selectedClaim.claimNumber){let t=this.selectedClaim.claimNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}let a=this.lenderList.filter(t=>t.value===e);a.length&&(i=a[0].email,s=a[0].label);for(let o of t.fields)if("Lender Email"===o.label)this.fieldsModel[o.id]=i;else if("Product"===o.label)this.fieldsModel[o.id]=this.selectedClaim.product.split(",")||"";else if("Lender Name"===o.label)this.fieldsModel[o.id]=s;else if("Initials"===o.label)this.fieldsModel[o.id]=e;else{let t=this.claimColumns.find(t=>t.store===o.label);t&&(this.fieldsModel[o.id]=this.selectedClaim[t.name]||"")}}),this.$emit("update:workflowFormModel",this.fieldsModel),this.$emit("update:requestPrefix",e),this.$emit("update:mlPrediction",s),this.actions.length?this.$emit("update:saveAction",this.actions[0]):this.$alert.error("Process Configuration Error")},async viewClaim(t){this.formModel={},this.selectedProcess={},this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.$store.commit("showLoadingBarSave"),this.workflowProcessList=[];const{error:e,payload:i}=await o["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:this.selectedClaim.claimNumber}]}],itemsPerPage:10,currentPage:1,mode:""});if(this.$store.commit("hideLoadingBarSave"),e)this.$alert.error(e);else if(i.data.length){if(i.data[0].value.length){this.selectedProcess=i.data[0].value[0],this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`;let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e,this.tabs.find(t=>{"COMMENTS"===t.value?t.count=this.selectedProcess.commentsCount:"ATTACHMENTS"===t.value&&(t.count=this.selectedProcess.attachmentCount)});let s=JSON.parse(this.workflow.flowJson);s.blocks.forEach(t=>{t.id===this.selectedProcess.activityId&&t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}))}),this.getComments(),this.getAttachments(),this.getMailTransactions(),this.processSheet=!0}}else this.$alert.info("No Details Found")},async reopenClaim(t){this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.$store.commit("showLoadingBarSave");const{error:e}=await o["t"].reopenRequest(1,0,{requestNumber:this.selectedClaim.claimNumber});if(this.$store.commit("hideLoadingBarSave"),e)return console.log(e),void this.$alert.info(e);this.$alert.success(this.selectedClaim.claimNumber+" request re-initiated")},async getLenderMaster(t){this.$store.commit("showLoadingBar");const{error:e,payload:i}=await o["g"].getFormEntries(t,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);const{data:s}=i;this.lenderList=s[0].value.map(t=>({id:t.itemid,label:t["xPAsoGQlJ_xrm5f3EAeo6"],value:t["aeyluPk9Q8w6NaUs0HO8r"],email:t["XsPSz3d4dF2VSz1Svmymv"]}))},async getProduct(t){if(this.selectedContract=this.tableContracts.find(e=>e.id===t),Object.keys(this.selectedContract).length){let t="";if(this.selectedContract.policyNumber){let e=this.selectedContract.policyNumber.split("-");t=isNaN(e[1][2])?e[1].substring(0,3):e[1].substring(0,2)}else this.selectedContract.lender&&(t=this.selectedContract.lender);if(!t)return void this.$alert.warning("Policy Number Not Found");if(!this.selectedContract.email)return void this.$alert.warning("Required Claimant Email");this.products=[],this.selectedContract.product&&!this.products.includes(this.selectedContract.product)&&this.products.push(this.selectedContract.product),this.productModal=!0}},async claimHistory(t){this.claimHistoryData=[];let e="",i="";if(t.claimNumber){let i=t.claimNumber.split("-");e=isNaN(i[1][2])?i[1].substring(0,3):i[1].substring(0,2)}let s=this.lenderList.filter(t=>t.value===e);s.length&&(i=s[0].label),this.$store.commit("showLoadingBarSave");let a={claimNumber:t.claimNumber,lenderName:i};const{payload:r,error:n}=await o["d"].getClaimHistory(a);this.$store.commit("hideLoadingBarSave"),n?this.$alert.error(n):r.length?(this.claimHistoryData=r.map(t=>({id:t.ClaimStatusID,claimNumber:t.CSClaimNumber,status:t.ClaimStatus,date:this.$day.format(t.CSDate,!1),note:t.CSNote})),this.claimHistoryModal=!0):this.$alert.info("Claim history records not found")},getData(){this.tableContracts=[],this.tableContractsData=[],this.tableClaims=[],this.tableClaimsData=[],this.contractDataResult=!1,this.claimDataResult=!1,this.getContractData(),this.getClaimData()},async getContractData(){if(this.firstName||this.lastName||this.dob||this.province||this.contractNumber||this.refNumber){let t={};this.firstName&&(t["FirstName"]=this.firstName),this.lastName&&(t["LastName"]=this.lastName),this.dob&&(t["DOB"]=this.dob),this.province&&(t["Province"]=this.province),this.contractNumber&&(t["StoreLoanNumber"]=this.contractNumber),this.refNumber;let e="";if(this.lender.length){let t=this.lenderList.filter(t=>t.value===this.lender[0]);t.length&&(e=t[0].label)}this.$store.commit("showLoadingBarSave");let i={hublinkId:1,lenderName:e,payloadMapping:JSON.stringify(t),itemsPerPage:500,currentPage:1};const{payload:s,error:a}=await o["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),this.contractDataResult=!0,a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:r,meta:n}=s;n.totalItems?r.length&&r[0].value.length&&(this.tableContracts=r[0].value.map(t=>({id:this.$nano.id(),firstName:t.FirstName,lastName:t.LastName,loanNumber:t.LoanNumber,dob:t.DOB?t.DOB.split(" ")[0]:"",policyNumber:t.PolicyNumber,lender:"",email:t.Email||"",currentAge:t.DOB?this.calculateAge(t.DOB.split(" ")[0]):"",address1:t.Address1,address2:t.Address2,city:t.City,province:t.Province,postalCode:t.PostalCode,phone:t.Phone,startDate:t.StartDate?t.StartDate.split(" ")[0]:"",endDate:t.EndDate?t.EndDate.split(" ")[0]:"",cancelDate:t.CancelDate?t.CancelDate.split(" ")[0]:"",contractNumber:t.StoreLoanNumber,product:t.Product,paymentFrequency:t.PmtFrq,term:t.Term,remitDate:t.RemitDate?t.RemitDate.split(" ")[0]:"",reason:t.Comments,infoVisible:!1})),this.tableContractsData=this.tableContracts):this.claimDataResult&&0===this.tableClaimData.length&&this.$alert.info("No result found")}},async getClaimData(){if(this.firstName||this.lastName||this.dob||this.province||this.claimNumber||this.contractNumber){this.$store.commit("showLoadingBarSave");let t={};this.firstName&&(t["ClaimantFirstName"]=this.firstName),this.lastName&&(t["ClaimantLastName"]=this.lastName),this.dob&&(t["ClaimantDOB"]=this.dob),this.province&&(t["ClaimantProv"]=this.province),this.claimNumber&&(t["ClaimNumber"]=this.claimNumber),this.contractNumber&&(t["ClaimsStoreLoanNumber"]=this.contractNumber);let e="";if(this.lender.length){let t=this.lenderList.filter(t=>t.value===this.lender[0]);t.length&&(e=t[0].label)}let i={hublinkId:2,lenderName:e,payloadMapping:JSON.stringify(t),itemsPerPage:500,currentPage:1};const{payload:s,error:a}=await o["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),this.claimDataResult=!0,a)return void this.$alert.error(a);const{data:r,meta:n}=s;n.totalItems?r.length&&r[0].value.length&&(this.tableClaims=r[0].value.map(t=>({id:this.$nano.id(),claimsStoreLoanNumber:t.ClaimsStoreLoanNumber,claimNumber:t.ClaimNumber,claimantFirstName:t.ClaimantFirstName,claimantLastName:t.ClaimantLastName,claimantDOB:t.ClaimantDOB?t.ClaimantDOB.split(" ")[0]:"",claimantEmail:t.ClaimantEmail,claimStatus:t.ClaimStatus||t.ClaimDecision||"",branchNumber:t.BranchNumber,claimDate:t.ClaimDate?t.ClaimDate.split(" ")[0]:"",receiveDate:t.ReceiveDate?t.ReceiveDate.split(" ")[0]:"",recommendation:t.Recommendation,product:t.Product,claimantCity:t.ClaimantCIty,claimantProv:t.ClaimantProv,currentAge:t.ClaimantDOB?this.calculateAge(t.ClaimantDOB.split(" ")[0]):"",infoVisible:!1})),this.tableClaimsData=this.tableClaims):this.contractDataResult&&0===this.tableContractsData.length&&this.$alert.info("No result found")}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(A["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,window.open(this.fileLink()))},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(Object(I["d"])(e)){let e="";return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`}return Object(I["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},async showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflowId}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$emit("addTask"):"VALIDATION"===t?this.$emit("validation",this.selectedProcess.processId):"PAYMENT_TABLE"===t?this.$emit("paymentTable"):"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"SUB_PROCESS"===t&&(this.subProcessSheet=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(I["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await o["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await o["t"].getMailTransactions(this.workflowId,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await o["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await o["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}},async saveComment(){if(this.commentText&&this.selectedProcess.processId){const{error:t}=await o["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:2});if(t)return void this.$alert.error(t);this.commentText="",this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.selectedProcess.processId){const{error:t}=await o["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:2});if(t)return void this.$alert.error(t)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},async updateClaimDetails(){let t={};t={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"",formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.formModel}};const{error:e}=await o["t"].processTransaction(t);e?this.$alert.error(e):(this.$alert.success("Claim details are updated"),this.processSheet=!1)}}},M=F,D=(i("ccc5"),i("2c91")),B=i("b047"),$=i("cb32"),O=i("8169"),N=i("93dc"),E=i.n(N),z=Object(y["a"])(M,s,a,!1,null,"1b34e972",null);e["default"]=z.exports;E()(z,"components",{QSpace:D["a"],QChip:B["a"],QAvatar:$["a"],QChatMessage:O["a"]})},a7f2:function(t,e,i){},a809:function(t,e,i){"use strict";function s(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}e["a"]=s},a945:function(t,e,i){},abe1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"40vw"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Metadata ")]},proxy:!0}])},[e("div",{attrs:{id:"file-details"}},[e("div",{attrs:{id:"item-overview"}},[e("table",[e("tbody",t._l(t.fileData,(function(i){return e("tr",{key:i.name,staticClass:"tableRow"},[e("td",{staticClass:"label"},[t._v(t._s(i.name))]),"TABLE"!==i.type?e("td",{staticClass:"value"},[t._t(i.name,(function(){return[t._v(" "+t._s(i.value||"-")+" ")]}),{value:i.value})],2):e("td",{staticClass:"value",staticStyle:{padding:"8px"}},[t._t(i.name,(function(){return[i.value?[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return t.showTable(i.name)}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]}))],2)])})),0)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableHeader))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],1)])},a=[],o=i("381e"),r=i("6a70"),n={name:"FileDetails",components:{Sheet:o["a"],Modal:r["a"]},props:{value:{type:Boolean,required:!0},fileData:{type:Array,required:!0}},data(){return{expandTableModal:!1,tableHeader:"",tableData:[]}},methods:{showTable(t){this.expandTableModal=!0;let e=this.fileData.filter(e=>e.name===t);console.log(e),this.tableHeader=e[0].name,this.tableData=JSON.parse(e[0].value),console.log(this.tableData)}}},l=n,c=(i("4045"),i("2877")),d=Object(c["a"])(l,s,a,!1,null,"65baddda",null);e["a"]=d.exports},ad4f:function(t,e,i){},b0ba:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"50vw","no-padding":""},on:{input:t.closeFormHistorySheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Form Entry History ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getFormHistory()}}})]},proxy:!0}]),model:{value:t.formHistorySheet,callback:function(e){t.formHistorySheet=e},expression:"formHistorySheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"\n          calc(100vh - 200px)\n        "}},[e("div",{attrs:{id:"history"}},[t.history.length?t._l(t.history,(function(i){return e("div",{key:i.id,staticClass:"entry"},[e("div",{staticClass:"header"},[t._v(" "+t._s(i.changes.length)+" "+t._s(i.changes.length>1?"Changes":"Change")+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v(t._s(i.changedBy))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.changedAt))])],1),t._l(i.changes,(function(i,s){return e("div",{key:s+1,staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),"isDeleted"===i.name?e("div",[Number(i.newValue)?e("span",{staticClass:"font-semibold"},[t._v(' "Deleted" ')]):e("span",{staticClass:"font-semibold"},[t._v('"Restored"')]),t._v(" the item ")]):i.oldValue?e("div",[t._v(" Modified "+t._s(i.name)+" from "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.oldValue)+'"')]),t._v(" to "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')])]):e("div",[t._v(" Assigned "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')]),t._v(" as "+t._s(i.name)+" ")])],1)}))],2)])})):e("div",{staticClass:"no-history"},[t._v("No data found")])],2)])],1)])],1)},a=[],o=i("381e"),r=i("1b0d"),n={name:"FormEntryHistory",components:{Sheet:o["a"]},props:{value:{type:Boolean,default:!1},processId:{type:Number,required:!0},workflowId:{type:Number,required:!0}},data(){return{changes:[],history:[],formHistorySheet:!1}},watch:{value:{immediate:!0,handler(){this.value&&this.getFormHistory()}}},methods:{async getFormHistory(){this.formHistorySheet=!0,this.history=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["g"].formHistory(this.workflowId,this.processId);if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e){let t=e;this.history=t.length&&t.map(t=>({id:this.$nano.id(),changedBy:t.modifiedBy,changedAt:this.$day.format(t.modifiedAt),changes:t.fields}))}},closeFormHistorySheet(){this.formHistorySheet=!1,this.$emit("update:value",!1)}}},l=n,c=(i("742a"),i("2877")),d=Object(c["a"])(l,s,a,!1,null,"231e188e",null);e["a"]=d.exports},b2a7:function(t,e,i){"use strict";i("79b4")},b2f9:function(t,e,i){"use strict";i("b3f6")},b3f6:function(t,e,i){},b591:function(t,e,i){"use strict";i("a7f2")},b811:function(t,e,i){},b94d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{color:t._color},attrs:{id:"tabs"}},[t._l(t.tabs,(function(i){return e("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,color:t.color,"is-full-width":t.isFullWidth,"is-active":i.value===t.value},on:{click:function(e){return t.handleClick(i)}}})})),e("div",{ref:"indicator",staticClass:"indicator"})],2)},a=[],o=i("8b55"),r={name:"Tabs",components:{Tab:o["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const t=this.tabs.findIndex(t=>t.value===this.value),e=this.$refs.tab[t],i=e.$el.offsetLeft;this.$refs.indicator.style.left=i+"px";const s=e.$el.clientWidth;this.$refs.indicator.style.width=s+"px"},handleClick(t){t.value!==this.value&&this.$emit("input",t.value)}}},n=r,l=(i("40f9"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,"48eb7e5e",null);e["a"]=c.exports},b97e:function(t,e,i){"use strict";i("21fc")},ba30:function(t,e,i){"use strict";var s;
/*!
 * ApexCharts v3.36.2
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=u(t);if(e){var a=u(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return p(this,i)}}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,a,o=[],r=!0,n=!1;try{for(i=i.call(t);!(r=(s=i.next()).done)&&(o.push(s.value),!e||o.length!==e);r=!0);}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return o}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var x=function(){function t(){n(this,t)}return c(t,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),s=t<0?0:255,a=t<0?-1*t:t,o=parseInt(i[0].slice(4),10),r=parseInt(i[1],10),n=parseInt(i[2],10);return"rgb("+(Math.round((s-o)*a)+o)+","+(Math.round((s-r)*a)+r)+","+(Math.round((s-n)*a)+n)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),s=t<0?0:255,a=t<0?-1*t:t,o=i>>16,r=i>>8&255,n=255&i;return"#"+(16777216+65536*(Math.round((s-o)*a)+o)+256*(Math.round((s-r)*a)+r)+(Math.round((s-n)*a)+n)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(e[a]=s[a])}return e});var s=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(a){i.isObject(e[a])&&a in t?s[a]=i.extend(t[a],e[a]):Object.assign(s,d({},a,e[a]))})),s}},{key:"extendArray",value:function(e,i){var s=[];return e.map((function(e){s.push(t.extend(i,e))})),s}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var i=[],s=0;s<e.length;s++)i[s]=this.clone(e[s]);return i}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if("object"===r(e)){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=this.clone(e[o]));return a}return e}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",s=t<0?"-":"",a=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(i=s+"0.";o++;)i+="0";return i+a.replace(/^-/,"")}for(o-=a.length;o--;)i+="0";return a+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,s=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[s-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(1===i[s].length?i[s]+i[s]:i[s],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],s=2*Math.PI/e,a=0;a<e;a++){var o={};o.x=t*Math.sin(a*s),o.y=-t*Math.cos(a*s),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,s){var a=(s-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=t.toString().slice();return i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var s=i-t.length+1;s--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}}]),t}(),w=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return c(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,s){t.attr(e).animate(s).attr(i)}},{key:"animateMarker",value:function(t,e,i,s,a,o){e||(e=0),t.attr({r:e,width:e,height:e}).animate(s,a).attr({r:i,width:i.width,height:i.height}).afterAll((function(){o()}))}},{key:"animateCircle",value:function(t,e,i,s,a){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(s,a).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,s,a){t.attr(e).animate(s).attr(i).afterAll((function(){return a()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,s=t.j,a=t.fill,o=t.pathFrom,r=t.pathTo,n=t.speed,l=t.delay,c=this.w,d=0;c.config.chart.animations.animateGradually.enabled&&(d=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(d=0),this.morphSVG(e,i,s,"line"!==c.config.chart.type||c.globals.comboCharts?a:"stroke",o,r,n,l*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,s,a,o,r,n){var l=this,c=this.w;a||(a=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var d=function(t){return"radar"===c.config.chart.type&&(r=1),"M 0 ".concat(c.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=d()),c.globals.shouldAnimate||(r=1),t.plot(a).animate(1,c.globals.easing,n).plot(a).animate(r,c.globals.easing,n).plot(o).afterAll((function(){x.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==s&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),C=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:s});break;case"darken":this.addDarkenFilter(t,e,{intensity:s})}}},{key:"addShadow",value:function(t,e,i){var s=i.blur,a=i.top,o=i.left,r=i.color,n=i.opacity,l=t.flood(Array.isArray(r)?r[e]:r,n).composite(t.sourceAlpha,"in").offset(o,a).gaussianBlur(s).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e.top,a=e.left,o=e.blur,r=e.color,n=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),x.isIE()&&"radialBar"===c.config.chart.type||(r=Array.isArray(r)?r[i]:r,t.filter((function(t){var e=null;e=x.isSafari()||x.isFirefox()||x.isIE()?t.flood(r,n).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o):t.flood(r,n).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var s=this.w;if(void 0!==s.globals.selectedDataPoints[e]&&s.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var a=s.config.states.active.filter;"none"!==a&&this.applyFilter(t,e,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),k=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"roundPathCorners",value:function(t,e){function i(t,e,i){var a=e.x-t.x,o=e.y-t.y,r=Math.sqrt(a*a+o*o);return s(t,e,Math.min(1,i/r))}function s(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function a(t,e){t.length>2&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function o(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var r=t.split(/[,\s]/).reduce((function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t}),[]).reduce((function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t}),[]),n=[];if(r.length>1){var l=o(r[0]),c=null;"Z"==r[r.length-1][0]&&r[0].length>2&&(c=["L",l.x,l.y],r[r.length-1]=c),n.push(r[0]);for(var d=1;d<r.length;d++){var h=n[n.length-1],u=r[d],m=u==c?r[1]:r[d+1];if(m&&h&&h.length>2&&"L"==u[0]&&m.length>2&&"L"==m[0]){var p,f,g=o(h),v=o(u),b=o(m);p=i(v,g,e),f=i(v,b,e),a(u,p),u.origPoint=v,n.push(u);var y=s(p,v,.5),x=s(v,f,.5),w=["C",y.x,y.y,x.x,x.y,f.x,f.y];w.origPoint=v,n.push(w)}else n.push(u)}if(c){var C=o(n[n.length-1]);n.push(["Z"]),a(n[0],C)}}else n=r;return n.reduce((function(t,e){return t+e.join(" ")+" "}),"")}},{key:"drawLine",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:s,stroke:a,"stroke-dasharray":o,"stroke-width":r,"stroke-linecap":n});return c}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w,h=d.globals.dom.Paper.rect();return h.attr({x:t,y:e,width:i>0?i:0,height:s>0?s:0,rx:a,ry:a,opacity:r,"stroke-width":null!==n?n:0,stroke:null!==l?l:"none","stroke-dasharray":c}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",a=this.w,o=a.globals.dom.Paper.polygon(t).attr({fill:s,stroke:e,"stroke-width":i});return o}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;t<0&&(t=0);var s=i.globals.dom.Paper.circle(2*t);return null!==e&&s.attr(e),s}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,s=t.stroke,a=void 0===s?"#a8a8a8":s,o=t.strokeWidth,r=void 0===o?1:o,n=t.fill,l=t.fillOpacity,c=void 0===l?1:l,d=t.strokeOpacity,h=void 0===d?1:d,u=t.classes,m=t.strokeLinecap,p=void 0===m?null:m,f=t.strokeDashArray,g=void 0===f?0:f,v=this.w;return null===p&&(p=v.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(i).attr({fill:n,"fill-opacity":c,stroke:a,"stroke-opacity":h,"stroke-linecap":p,"stroke-width":r,"stroke-dasharray":g,class:u})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=e.globals.dom.Paper.group();return null!==t&&i.attr(t),i}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;return null===i?s=[" L",t,e].join(" "):"H"===i?s=[" H",t].join(" "):"V"===i&&(s=[" V",e].join(" ")),s}},{key:"curve",value:function(t,e,i,s,a,o){var r=["C",t,e,i,s,a,o].join(" ");return r}},{key:"quadraticCurve",value:function(t,e,i,s){return["Q",t,e,i,s].join(" ")}},{key:"arc",value:function(t,e,i,s,a,o,r){var n=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";n&&(l="a");var c=[l,t,e,i,s,a,o,r].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,s=t.realIndex,a=t.pathFrom,r=t.pathTo,n=t.stroke,l=t.strokeWidth,c=t.strokeLinecap,d=t.fill,h=t.animationDelay,u=t.initialSpeed,m=t.dataChangeSpeed,p=t.className,f=t.shouldClipToGrid,g=void 0===f||f,v=t.bindEventsOnPaths,b=void 0===v||v,y=t.drawShadow,x=void 0===y||y,k=this.w,S=new C(this.ctx),A=new w(this.ctx),I=this.w.config.chart.animations.enabled,L=I&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(I&&!k.globals.resized||L&&k.globals.dataChanged&&k.globals.shouldAnimate);T?e=a:(e=r,k.globals.animationEnded=!0);var P=k.config.stroke.dashArray,_=0;_=Array.isArray(P)?P[s]:k.config.stroke.dashArray;var F=this.drawPath({d:e,stroke:n,strokeWidth:l,fill:d,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:_});if(F.attr("index",s),g&&F.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")}),"none"!==k.config.states.normal.filter.type)S.getDefaultFilter(F,s);else if(k.config.chart.dropShadow.enabled&&x&&(!k.config.chart.dropShadow.enabledOnSeries||k.config.chart.dropShadow.enabledOnSeries&&-1!==k.config.chart.dropShadow.enabledOnSeries.indexOf(s))){var M=k.config.chart.dropShadow;S.dropShadow(F,M,s)}b&&(F.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,F)),F.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,F)),F.node.addEventListener("mousedown",this.pathMouseDown.bind(this,F))),F.attr({pathTo:r,pathFrom:a});var D={el:F,j:i,realIndex:s,pathFrom:a,pathTo:r,fill:d,strokeWidth:l,delay:h};return!I||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(o(o({},D),{},{speed:u})),k.globals.dataChanged&&L&&T&&A.animatePathsGradually(o(o({},D),{},{speed:m})),F}},{key:"drawPattern",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.w,r=o.globals.dom.Paper.pattern(e,i,(function(o){"horizontalLines"===t?o.line(0,0,i,0).stroke({color:s,width:a+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:s,width:a+1}):"slantedLines"===t?o.line(0,0,e,i).stroke({color:s,width:a}):"squares"===t?o.rect(e,i).fill("none").stroke({color:s,width:a}):"circles"===t&&o.circle(e).fill("none").stroke({color:s,width:a})}));return r}},{key:"drawGradient",value:function(t,e,i,s,a){var o,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;e.length<9&&0===e.indexOf("#")&&(e=x.hexToRgba(e,s)),i.length<9&&0===i.indexOf("#")&&(i=x.hexToRgba(i,a));var h=0,u=1,m=1,p=null;null!==n&&(h=void 0!==n[0]?n[0]/100:0,u=void 0!==n[1]?n[1]/100:1,m=void 0!==n[2]?n[2]/100:1,p=void 0!==n[3]?n[3]/100:null);var f=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(o=null===l||0===l.length?d.globals.dom.Paper.gradient(f?"radial":"linear",(function(t){t.at(h,e,s),t.at(u,i,a),t.at(m,i,a),null!==p&&t.at(p,e,s)})):d.globals.dom.Paper.gradient(f?"radial":"linear",(function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))})),f){var g=d.globals.gridWidth/2,v=d.globals.gridHeight/2;"bubble"!==d.config.chart.type?o.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:v,r:r}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,s=t.fontSize,a=t.fontFamily,o=this.getTextRects(e,s,a),r=o.width/e.length,n=Math.floor(i/r);return i<o.width?e.slice(0,n-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,s=t.y,a=t.text,r=t.textAnchor,n=t.fontSize,l=t.fontFamily,c=t.fontWeight,d=t.foreColor,h=t.opacity,u=t.maxWidth,m=t.cssClass,p=void 0===m?"":m,f=t.isPlainText,g=void 0===f||f,v=this.w;void 0===a&&(a="");var b=a;r||(r="start"),d&&d.length||(d=v.config.chart.foreColor),l=l||v.config.chart.fontFamily,c=c||"regular";var y,x={maxWidth:u,fontSize:n=n||"11px",fontFamily:l};return Array.isArray(a)?y=v.globals.dom.Paper.text((function(t){for(var i=0;i<a.length;i++)b=a[i],u&&(b=e.getTextBasedOnMaxWidth(o({text:a[i]},x))),0===i?t.tspan(b):t.tspan(b).newLine()})):(u&&(b=this.getTextBasedOnMaxWidth(o({text:a},x))),y=g?v.globals.dom.Paper.plain(a):v.globals.dom.Paper.text((function(t){return t.tspan(b)}))),y.attr({x:i,y:s,"text-anchor":r,"dominant-baseline":"auto","font-size":n,"font-family":l,"font-weight":c,fill:d,class:"apexcharts-text "+p}),y.node.style.fontFamily=l,y.node.style.opacity=h,y}},{key:"drawMarker",value:function(t,e,i){t=t||0;var s=i.pSize||0,a=null;if("square"===i.shape||"rect"===i.shape){var o=void 0===i.pRadius?s/2:i.pRadius;null!==e&&s||(s=0,o=0);var r=1.2*s+o,n=this.drawRect(r,r,r,r,o);n.attr({x:t-r/2,y:e-r/2,cx:t,cy:e,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),a=n}else"circle"!==i.shape&&i.shape||(x.isNumber(e)||(s=0,e=0),a=this.drawCircle(s,{cx:t,cy:e,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,s=new C(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var r=i.config.states.hover.filter;s.applyFilter(t,a,r.type,r.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,s=new C(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&s.getDefaultFilter(t,a)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,s=new C(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),r="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(o)>-1){var n=i.globals.selectedDataPoints[a].indexOf(o);i.globals.selectedDataPoints[a].splice(n,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,d=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),s.getDefaultFilter(t,a)}))};d(l),d(c)}t.node.setAttribute("selected","true"),r="true",void 0===i.globals.selectedDataPoints[a]&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(o)}if("true"===r){var h=i.config.states.active.filter;if("none"!==h)s.applyFilter(t,a,h.type,h.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var u=i.config.states.hover.filter;s.applyFilter(t,a,u.type,u.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?s.getDefaultFilter(t,a):(u=i.config.states.hover.filter,s.applyFilter(t,a,u.type,u.value)));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,r=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});s&&r.attr("transform",s),o.globals.dom.Paper.add(r);var n=r.bbox();return a||(n=r.node.getBoundingClientRect()),r.remove(),{width:n.width,height:n.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var s=e.length-3;s>0;s-=3)if(t.getSubStringLength(0,s)<=i/1.1)return void(t.textContent=e.substring(0,s)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),t}(),S=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0===e.globals.series.length)return i;for(var s=0;s<e.globals.series[e.globals.maxValsInArrayIndex].length;s++){for(var a=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][s]&&-1===t.indexOf(o)&&(a+=e.globals.series[o][s]);i.push(a)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(t,i){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach((function(t){e=Math.max(e,t.size)})),e>0&&(e+=t.config.markers.hover.sizeOffset+1),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var i=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=t[s];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(s,a){for(var o=0,r=0;r<s.length;r++)i.globals.seriesX[a][r]>t&&i.globals.seriesX[a][r]<e&&(o+=s[r]);return o}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var s=[];if(Array.isArray(e))for(var a=0;a<e.length;a++){var o=t.globals.stackedSeriesTotals[a],r=0;o&&(r=100*e[a]/o),s.push(r)}else{var n=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);s.push(n)}return s}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,s,a=this.w.globals,o=[],r=0,n=[],l=.1,c=0;if(a.yRange=[],a.isMultipleYAxis)for(var d=0;d<a.minYArr.length;d++)a.yRange.push(Math.abs(a.minYArr[d]-a.maxYArr[d])),n.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var h=0;h<a.yRange.length;h++)o.push(a.yRange[h]/a.gridHeight);if(e=a.xRange/a.gridWidth,i=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,t=a.yRange/a.gridWidth,s=a.xRange/a.gridHeight,(r=a.zRange/a.gridHeight*16)||(r=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){n=[];for(var u=0;u<o.length;u++)n.push(-a.minYArr[u]/o[u])}else n.push(-a.minY/o[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(l=-a.minY/t,c=a.minX/e);return{yRatio:o,invertedYRatio:t,zRatio:r,xRatio:e,initialXRatio:i,invertedXRatio:s,baseLineInvertedY:l,baseLineY:n,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(t,s){return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(i.config.yaxis[s].logBase,t,s)})):t})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(0===e)return 0;var s=this.w,a=0===s.globals.minYArr[i]?-1:this.getBaseLog(t,s.globals.minYArr[i]),o=(0===s.globals.maxYArr[i]?0:this.getBaseLog(t,s.globals.maxYArr[i]))-a;return e<1?e/o:(this.getBaseLog(t,e)-a)/o}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,s=this.w.globals;return s.yLogRatio=t.slice(),s.logYRange=s.yRange.map((function(t,a){if(i.config.yaxis[a]&&e.w.config.yaxis[a].logarithmic){var o,r=-Number.MAX_VALUE,n=Number.MIN_VALUE;return s.seriesLog.forEach((function(t,e){t.forEach((function(t){i.config.yaxis[e]&&i.config.yaxis[e].logarithmic&&(r=Math.max(t,r),n=Math.min(t,n))}))})),o=Math.pow(s.yRange[a],Math.abs(n-r)/s.yRange[a]),s.yLogRatio[a]=o/s.gridHeight,o}})),s.invalidLogScale?t.slice():s.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0,s=0;return t.length&&void 0!==t[0].type&&t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type&&"boxPlot"!==t.type||i++,void 0!==t.type&&s++})),s>0&&(e=!0),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),A=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===t.label.orientation){var s=null!==e?e:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(null!==a){var o=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-o.height+4),"top"===t.label.position?a.setAttribute("y",parseFloat(a.getAttribute("y"))+o.width):a.setAttribute("y",parseFloat(a.getAttribute("y"))-o.width);var r=this.annoCtx.graphics.rotateAroundCenter(a),n=r.x,l=r.y;a.setAttribute("transform","rotate(-90 ".concat(n," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||void 0===e.label.text||void 0!==e.label.text&&!String(e.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=t.getBoundingClientRect(),o=e.label.style.padding.left,r=e.label.style.padding.right,n=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(n=e.label.style.padding.left,l=e.label.style.padding.right,o=e.label.style.padding.top,r=e.label.style.padding.bottom);var c=a.left-s.left-o,d=a.top-s.top-n,h=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,d,a.width+o+r,a.height+n+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&h.node.classList.add(e.id),h}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(i,s,a){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var r=o.parentNode,n=t.addBackgroundToAnno(o,i);n&&(r.insertBefore(n.node,o),i.label.mouseEnter&&n.node.addEventListener("mouseenter",i.label.mouseEnter.bind(t,i)),i.label.mouseLeave&&n.node.addEventListener("mouseleave",i.label.mouseLeave.bind(t,i)),i.label.click&&n.node.addEventListener("click",i.label.click.bind(t,i)))}};e.config.annotations.xaxis.map((function(t,e){i(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){i(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){i(t,e,"point")}))}},{key:"getY1Y2",value:function(t,e){var i,s="y1"===t?e.y:e.y2,a=this.w;if(this.annoCtx.invertAxis){var o=a.globals.labels.indexOf(s);a.config.xaxis.convertedCatToNumeric&&(o=a.globals.categoryLabels.indexOf(s));var r=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(o+1)+")");r&&(i=parseFloat(r.getAttribute("y")))}else{var n;n=a.config.yaxis[e.yAxisIndex].logarithmic?(s=new S(this.annoCtx.ctx).getLogVal(s,e.yAxisIndex))/a.globals.yLogRatio[e.yAxisIndex]:(s-a.globals.minYArr[e.yAxisIndex])/(a.globals.yRange[e.yAxisIndex]/a.globals.gridHeight),i=a.globals.gridHeight-n,!e.marker||void 0!==e.y&&null!==e.y||(i=0),a.config.yaxis[e.yAxisIndex]&&a.config.yaxis[e.yAxisIndex].reversed&&(i=n)}return"string"==typeof s&&s.indexOf("px")>-1&&(i=parseFloat(s)),i}},{key:"getX1X2",value:function(t,e){var i=this.w,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,r=(e.x-s)/(o/i.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(r=(a-e.x)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(r=this.getStringX(e.x));var n=(e.x2-s)/(o/i.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(n=(a-e.x2)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(n=this.getStringX(e.x2)),void 0!==e.x&&null!==e.x||!e.marker||(r=i.globals.gridWidth),"x1"===t&&"string"==typeof e.x&&e.x.indexOf("px")>-1&&(r=parseFloat(e.x)),"x2"===t&&"string"==typeof e.x2&&e.x2.indexOf("px")>-1&&(n=parseFloat(e.x2)),"x1"===t?r:n}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var s=e.globals.labels.indexOf(t),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(s+1)+")");return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),t}(),I=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addXaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=this.helpers.getX1X2("x1",t),r=t.label.text,n=t.strokeDashArray;if(x.isNumber(o)){if(null===t.x2||void 0===t.x2){var l=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,a.globals.gridHeight+t.offsetY,t.borderColor,n,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getX1X2("x2",t))<o){var c=o;o=s,s=c}var d=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,s-o,a.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,n);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(d.node),t.id&&d.node.classList.add(t.id)}var h=this.annoCtx.graphics.getTextRects(r,parseFloat(t.label.style.fontSize)),u="top"===t.label.position?4:"center"===t.label.position?a.globals.gridHeight/2+("vertical"===t.label.orientation?h.width/2:0):a.globals.gridHeight,m=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:u+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?h.width/2-12:-h.width/2:0),text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});m.attr({rel:i}),e.appendChild(m.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,s){t.addXaxisAnnotation(e,i.node,s)})),i}}]),t}(),L=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addYaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=t.strokeDashArray,r=this.helpers.getY1Y2("y1",t),n=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,r+t.offsetY,this._getYAxisAnnotationWidth(t),r+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getY1Y2("y2",t))>r){var c=r;r=s,s=c}var d=this.annoCtx.graphics.drawRect(0+t.offsetX,s+t.offsetY,this._getYAxisAnnotationWidth(t),r-s,0,t.fillColor,t.opacity,1,t.borderColor,o);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(d.node),t.id&&d.node.classList.add(t.id)}var h="right"===t.label.position?a.globals.gridWidth:"center"===t.label.position?a.globals.gridWidth/2:0,u=this.annoCtx.graphics.drawText({x:h+t.label.offsetX,y:(null!=s?s:r)+t.label.offsetY-3,text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});u.attr({rel:i}),e.appendChild(u.node)}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,s){t.addYaxisAnnotation(e,i.node,s)})),i}}]),t}(),T=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addPointAnnotation",value:function(t,e,i){this.w;var s=this.helpers.getX1X2("x1",t),a=this.helpers.getY1Y2("y1",t);if(x.isNumber(s)){var o={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},r=this.annoCtx.graphics.drawMarker(s+t.marker.offsetX,a+t.marker.offsetY,o);e.appendChild(r.node);var n=t.label.text?t.label.text:"",l=this.annoCtx.graphics.drawText({x:s+t.label.offsetX,y:a+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(l.attr({rel:i}),e.appendChild(l.node),t.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});c.attr({transform:"translate(".concat(s+t.customSVG.offsetX,", ").concat(a+t.customSVG.offsetY,")")}),c.node.innerHTML=t.customSVG.SVG,e.appendChild(c.node)}if(t.image.path){var d=t.image.width?t.image.width:20,h=t.image.height?t.image.height:20;r=this.annoCtx.addImage({x:s+t.image.offsetX-d/2,y:a+t.image.offsetY-h/2,width:d,height:h,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&r.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&r.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&r.node.addEventListener("click",t.click.bind(this,t))}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,s){t.addPointAnnotation(e,i.node,s)})),i}}]),t}(),P={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},_=function(){function t(){n(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[P],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),F=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.graphics=new k(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new A(this),this.xAxisAnnotations=new I(this),this.yAxisAnnotations=new L(this),this.pointsAnnotations=new T(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=t.config.chart.animations.enabled,o=[e,i,s],r=[i.node,e.node,s.node],n=0;n<3;n++)t.globals.dom.elGraphical.add(o[n]),!a||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&r[n].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:r[n],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,s=t.y,a=t.text,o=t.textAnchor,r=t.foreColor,n=t.fontSize,l=t.fontFamily,c=t.fontWeight,d=t.cssClass,h=t.backgroundColor,u=t.borderWidth,m=t.strokeDashArray,p=t.borderRadius,f=t.borderColor,g=t.appendTo,v=void 0===g?".apexcharts-annotations":g,b=t.paddingLeft,y=void 0===b?4:b,x=t.paddingRight,w=void 0===x?4:x,C=t.paddingBottom,k=void 0===C?2:C,S=t.paddingTop,A=void 0===S?2:S,I=this.w,L=this.graphics.drawText({x:i,y:s,text:a,textAnchor:o||"start",fontSize:n||"12px",fontWeight:c||"regular",fontFamily:l||I.config.chart.fontFamily,foreColor:r||I.config.chart.foreColor,cssClass:d}),T=I.globals.dom.baseEl.querySelector(v);T&&T.appendChild(L.node);var P=L.bbox();if(a){var _=this.graphics.drawRect(P.x-y,P.y-A,P.width+y+w,P.height+k+A,p,h||"transparent",1,u,f,m);T.insertBefore(_.node,L.node)}}},{key:"addImage",value:function(t,e){var i=this.w,s=t.path,a=t.x,o=void 0===a?0:a,r=t.y,n=void 0===r?0:r,l=t.width,c=void 0===l?20:l,d=t.height,h=void 0===d?20:d,u=t.appendTo,m=void 0===u?".apexcharts-annotations":u,p=i.globals.dom.Paper.image(s);p.size(c,h).move(o,n);var f=i.globals.dom.baseEl.querySelector(m);return f&&f.appendChild(p.node),p}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,s=t.context,a=t.type,o=t.contextMethod,r=s,n=r.w,l=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),c=l.childNodes.length+1,d=new _,h=Object.assign({},"xaxis"===a?d.xAxisAnnotation:"yaxis"===a?d.yAxisAnnotation:d.pointAnnotation),u=x.extend(h,e);switch(a){case"xaxis":this.addXaxisAnnotation(u,l,c);break;case"yaxis":this.addYaxisAnnotation(u,l,c);break;case"point":this.addPointAnnotation(u,l,c)}var m=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(c,"']")),p=this.helpers.addBackgroundToAnno(m,u);return p&&l.insertBefore(p.node,m),i&&n.globals.memory.methodsToExec.push({context:r,id:u.id?u.id:x.randomId(),method:o,label:"addAnnotation",params:e}),s}},{key:"clearAnnotations",value:function(t){var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,i){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(i,1)})),i=x.listToArray(i),Array.prototype.forEach.call(i,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(e));s&&(i.globals.memory.methodsToExec.map((function(t,s){t.id===e&&i.globals.memory.methodsToExec.splice(s,1)})),Array.prototype.forEach.call(s,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),M=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(v(i.months)),o=[""].concat(v(i.shortMonths)),r=[""].concat(v(i.days)),n=[""].concat(v(i.shortDays));function l(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var c=s?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var d=(s?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var h=s?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+n[0])).replace(/(^|[^\\])dd/g,"$1"+l(h))).replace(/(^|[^\\])d/g,"$1"+h);var u=s?t.getUTCHours():t.getHours(),m=u>12?u-12:0===u?12:u;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(u))).replace(/(^|[^\\])H/g,"$1"+u)).replace(/(^|[^\\])hh+/g,"$1"+l(m))).replace(/(^|[^\\])h/g,"$1"+m);var p=s?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(p))).replace(/(^|[^\\])m/g,"$1"+p);var f=s?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(f))).replace(/(^|[^\\])s/g,"$1"+f);var g=s?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(g,3)),g=Math.round(g/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(g)),g=Math.round(g/10);var b=u<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+g)).replace(/(^|[^\\])TT+/g,"$1"+b)).replace(/(^|[^\\])T/g,"$1"+b.charAt(0));var y=b.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var x=-t.getTimezoneOffset(),w=s||!x?"Z":x>0?"+":"-";if(!s){var C=(x=Math.abs(x))%60;w+=l(Math.floor(x/60))+":"+l(C)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var k=(s?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[k])).replace(new RegExp(n[0],"g"),n[k])).replace(new RegExp(a[0],"g"),a[d])).replace(new RegExp(o[0],"g"),o[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var s=this.w;void 0!==s.config.xaxis.min&&(t=s.config.xaxis.min),void 0!==s.config.xaxis.max&&(e=s.config.xaxis.max);var a=this.getDate(t),o=this.getDate(e),r=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),n=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(r[6],10),maxMillisecond:parseInt(n[6],10),minSecond:parseInt(r[5],10),maxSecond:parseInt(n[5],10),minMinute:parseInt(r[4],10),maxMinute:parseInt(n[4],10),minHour:parseInt(r[3],10),maxHour:parseInt(n[3],10),minDate:parseInt(r[2],10),maxDate:parseInt(n[2],10),minMonth:parseInt(r[1],10)-1,maxMonth:parseInt(n[1],10)-1,minYear:parseInt(r[0],10),maxYear:parseInt(n[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var s=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=x.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),t}(),D=function(t){var e,i=t.ctx,s=t.seriesIndex,a=t.dataPointIndex,o=t.y1,r=t.y2,n=t.w,l=n.globals.seriesRangeStart[s][a],c=n.globals.seriesRangeEnd[s][a],d=n.globals.labels[a],h=n.config.series[s].name?n.config.series[s].name:"",u=n.config.tooltip.y.formatter,m=n.config.tooltip.y.title.formatter,p={w:n,seriesIndex:s,dataPointIndex:a,start:l,end:c};"function"==typeof m&&(h=m(h,p)),null!==(e=n.config.series[s].data[a])&&void 0!==e&&e.x&&(d=n.config.series[s].data[a].x+":"),"function"==typeof u&&(d=u(d,p)),Number.isFinite(o)&&Number.isFinite(r)&&(l=o,c=r);var f="",g="",v=n.globals.colors[s];if(void 0===n.config.tooltip.x.formatter)if("datetime"===n.config.xaxis.type){var b=new M(i);f=b.formatDate(b.getDate(l),n.config.tooltip.x.format),g=b.formatDate(b.getDate(c),n.config.tooltip.x.format)}else f=l,g=c;else f=n.config.tooltip.x.formatter(l),g=n.config.tooltip.x.formatter(c);return{start:l,end:c,startVal:f,endVal:g,ylabel:d,color:v,seriesName:h}},B=function(t){var e=t.color,i=t.seriesName,s=t.ylabel,a=t.start,o=t.end,r=t.seriesIndex,n=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(r);a=l.yLbFormatter(a),o=l.yLbFormatter(o);var c=l.yLbFormatter(t.w.globals.series[r][n]),d='<span class="value start-value">\n  '.concat(a,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(o,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+s+" </span> "+(t.w.globals.comboCharts?"rangeArea"===t.w.config.series[r].type||"rangeBar"===t.w.config.series[r].type?d:"<span>".concat(c,"</span>"):d)+" </div></div>"},$=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,x.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,s=e.dataPointIndex,a=e.w,o=function(){var t=a.globals.seriesRangeStart[i][s];return a.globals.seriesRangeEnd[i][s]-t};return a.globals.comboCharts?"rangeBar"===a.config.series[i].type||"rangeArea"===a.config.series[i].type?o():t:o()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.startVal,n=e.endVal;return B(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t):function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.start,n=e.end;return B(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.start,n=e.end;return B(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t)}}}}},{key:"brush",value:function(t){return x.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return x.isNumber(t)?Math.floor(t):t};var s=t.xaxis.labels.formatter,a=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(a=i.map((function(t){return Array.isArray(t)?t:String(t)}))),a&&a.length&&(t.xaxis.labels.formatter=function(t){return x.isNumber(t)?s(a[Math.floor(t)-1]):s(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(t,e,i,s,a){var o=t.globals.seriesCandleO[e][i],r=t.globals.seriesCandleH[e][i],n=t.globals.seriesCandleM[e][i],l=t.globals.seriesCandleL[e][i],c=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+r+"</span></div>"+(n?"<div>".concat(s[2],': <span class="value">')+n+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+c+"</span></div></div>"}}]),t}(),O=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,s=new _,a=new $(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=x.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=s.init(),n={};if(i&&"object"===r(i)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?a[i.chart.type]():a.line(),i.chart.brush&&i.chart.brush.enabled&&(l=a.brush(l)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=a.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,l,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=a.sparkline(l)),n=x.extend(o,l)}var c=x.extend(n,window.Apex);return o=x.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var s=new $(i),a=("bar"===t||"boxPlot"===t)&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,o="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,r="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,n=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return a||o||!r||"between"===n||(i=s.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new _;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=x.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[x.extend(i.yAxis,t.yaxis)]:t.yaxis=x.extendArray(t.yaxis,i.yAxis);var s=!1;t.yaxis.forEach((function(t){t.logarithmic&&(s=!0)}));var a=t.series;return e&&!a&&(a=e.config.series),s&&a.length!==t.yaxis.length&&a.length&&(t.yaxis=a.map((function(e,s){if(e.name||(a[s].name="series-".concat(s+1)),t.yaxis[s])return t.yaxis[s].seriesName=a[s].name,t.yaxis[s];var o=x.extend(i.yAxis,t.yaxis[0]);return o.show=!1,o}))),s&&a.length>1&&a.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new _;return t.annotations.yaxis=x.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new _;return t.annotations.xaxis=x.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new _;return t.annotations.points=x.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),t}(),N=function(){function t(){n(this,t)}return c(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasGroups=!1,t.groups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=x.extend({},t),e.initialSeries=x.clone(t.series),e.lastXAxis=x.clone(e.initialConfig.xaxis),e.lastYAxis=x.clone(e.initialConfig.yaxis),e}}]),t}(),E=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"init",value:function(){var t=new O(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new N).init(t)}}}]),t}(),z=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return c(t,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,s=parseInt(e.globals.gridWidth,10),a=parseInt(e.globals.gridHeight,10),o=s>a?s:a,r=t.image,n=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(n=i.fill.image.width+1,l=i.fill.image.height):(n=o+1,l=o):(n=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");k.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:n+"px",height:l+"px"});var d=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",r),k.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:n+"px",height:l+"px"}),d.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,s,a,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var r=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(r=e.globals.seriesColors[this.seriesIndex]),"function"==typeof r&&(r=r({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var n=t.fillType?t.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;t.color&&(r=t.color);var c=r;if(-1===r.indexOf("rgb")?r.length<9&&(c=x.hexToRgba(r,l)):r.indexOf("rgba")>-1&&(l=x.getOpacityFromRGBA(r)),t.opacity&&(l=t.opacity),"pattern"===n&&(s=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:s,fillColor:r,fillOpacity:l,defaultColor:c})),"gradient"===n&&(a=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:r,fillOpacity:l,i:this.seriesIndex})),"image"===n){var d=o.fill.image.src,h=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(d)?t.seriesNumber<d.length?d[t.seriesNumber]:d[0]:d,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(h)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(h,")")}else i="gradient"===n?a:"pattern"===n?s:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,s=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors),void 0!==i.fillColors&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=t.patternFill,s=t.fillColor,a=t.fillOpacity,o=t.defaultColor,r=this.w.config.fill;e&&(r=e);var n=this.opts,l=new k(this.ctx),c=Array.isArray(r.pattern.strokeWidth)?r.pattern.strokeWidth[this.seriesIndex]:r.pattern.strokeWidth,d=s;return i=Array.isArray(r.pattern.style)?void 0!==r.pattern.style[n.seriesNumber]?l.drawPattern(r.pattern.style[n.seriesNumber],r.pattern.width,r.pattern.height,d,c,a):o:l.drawPattern(r.pattern.style,r.pattern.width,r.pattern.height,d,c,a),i}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,s=t.fillConfig,a=t.i,r=this.w.config.fill;s&&(r=o(o({},r),s));var n,l=this.opts,c=new k(this.ctx),d=new x,h=r.gradient.type,u=e,m=void 0===r.gradient.opacityFrom?i:Array.isArray(r.gradient.opacityFrom)?r.gradient.opacityFrom[a]:r.gradient.opacityFrom;u.indexOf("rgba")>-1&&(m=x.getOpacityFromRGBA(u));var p=void 0===r.gradient.opacityTo?i:Array.isArray(r.gradient.opacityTo)?r.gradient.opacityTo[a]:r.gradient.opacityTo;if(void 0===r.gradient.gradientToColors||0===r.gradient.gradientToColors.length)n="dark"===r.gradient.shade?d.shadeColor(-1*parseFloat(r.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e):d.shadeColor(parseFloat(r.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e);else if(r.gradient.gradientToColors[l.seriesNumber]){var f=r.gradient.gradientToColors[l.seriesNumber];n=f,f.indexOf("rgba")>-1&&(p=x.getOpacityFromRGBA(f))}else n=e;if(r.gradient.gradientFrom&&(u=r.gradient.gradientFrom),r.gradient.gradientTo&&(n=r.gradient.gradientTo),r.gradient.inverseColors){var g=u;u=n,n=g}return u.indexOf("rgb")>-1&&(u=x.rgb2hex(u)),n.indexOf("rgb")>-1&&(n=x.rgb2hex(n)),c.drawGradient(h,u,n,m,p,l.size,r.gradient.stops,r.gradient.colorStops,a)}}]),t}(),R=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,i,s){var a,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.w,n=e,l=t,c=null,d=new k(this.ctx),h=r.config.markers.discrete&&r.config.markers.discrete.length;if((r.globals.markers.size[e]>0||o||h)&&(c=d.group({class:o||h?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(l.x))for(var u=0;u<l.x.length;u++){var m=i;1===i&&0===u&&(m=0),1===i&&1===u&&(m=1);var p="apexcharts-marker";"line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(p+=" no-pointer-events");var f=Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0;if(f||o||h){x.isNumber(l.y[u])?p+=" w".concat(x.randomId()):p="apexcharts-nullpoint";var g=this.getMarkerConfig({cssClass:p,seriesIndex:e,dataPointIndex:m});r.config.series[n].data[m]&&(r.config.series[n].data[m].fillColor&&(g.pointFillColor=r.config.series[n].data[m].fillColor),r.config.series[n].data[m].strokeColor&&(g.pointStrokeColor=r.config.series[n].data[m].strokeColor)),s&&(g.pSize=s),(a=d.drawMarker(l.x[u],l.y[u],g)).attr("rel",m),a.attr("j",m),a.attr("index",e),a.node.setAttribute("default-marker-size",g.pSize);var v=new C(this.ctx);v.setSelectionFilter(a,e,m),this.addEvents(a),c&&c.add(a)}else void 0===r.globals.pointsArray[e]&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([l.x[u],l.y[u]])}return c}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,s=t.dataPointIndex,a=void 0===s?null:s,o=t.finishRadius,r=void 0===o?null:o,n=this.w,l=this.getMarkerStyle(i),c=n.globals.markers.size[i],d=n.config.markers;return null!==a&&d.discrete.length&&d.discrete.map((function(t){t.seriesIndex===i&&t.dataPointIndex===a&&(l.pointStrokeColor=t.strokeColor,l.pointFillColor=t.fillColor,c=t.size,l.pointShape=t.shape)})),{pSize:null===r?c:r,pRadius:d.radius,width:Array.isArray(d.width)?d.width[i]:d.width,height:Array.isArray(d.height)?d.height[i]:d.height,pointStrokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[i]:d.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(d.shape)?d.shape[i]:d.shape),class:e,pointStrokeOpacity:Array.isArray(d.strokeOpacity)?d.strokeOpacity[i]:d.strokeOpacity,pointStrokeDashArray:Array.isArray(d.strokeDashArray)?d.strokeDashArray[i]:d.strokeDashArray,pointFillOpacity:Array.isArray(d.fillOpacity)?d.fillOpacity[i]:d.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new k(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,s=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[t]:s,pointFillColor:Array.isArray(i)?i[t]:i}}}]),t}(),q=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(t,[{key:"draw",value:function(t,e,i){var s=this.w,a=new k(this.ctx),o=i.realIndex,r=i.pointsPos,n=i.zRatio,l=i.elParent,c=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(r.x))for(var d=0;d<r.x.length;d++){var h=e+1,u=!0;0===e&&0===d&&(h=0),0===e&&1===d&&(h=1);var m=0,p=s.globals.markers.size[o];if(n!==1/0){var f=s.config.plotOptions.bubble;p=s.globals.seriesZ[o][h],f.zScaling&&(p/=n),f.minBubbleRadius&&p<f.minBubbleRadius&&(p=f.minBubbleRadius),f.maxBubbleRadius&&p>f.maxBubbleRadius&&(p=f.maxBubbleRadius)}s.config.chart.animations.enabled||(m=p);var g=r.x[d],v=r.y[d];if(m=m||0,null!==v&&void 0!==s.globals.series[o][h]||(u=!1),u){var b=this.drawPoint(g,v,m,p,o,h,e);c.add(b)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,s,a,o,r){var n=this.w,l=a,c=new w(this.ctx),d=new C(this.ctx),h=new z(this.ctx),u=new R(this.ctx),m=new k(this.ctx),p=u.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:o,finishRadius:"bubble"===n.config.chart.type||n.globals.comboCharts&&n.config.series[a]&&"bubble"===n.config.series[a].type?s:null});s=p.pSize;var f,g=h.fillPath({seriesNumber:a,dataPointIndex:o,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:n.globals.series[a][r]});if("circle"===p.shape?f=m.drawCircle(i):"square"!==p.shape&&"rect"!==p.shape||(f=m.drawRect(0,0,p.width-p.pointStrokeWidth/2,p.height-p.pointStrokeWidth/2,p.pRadius)),n.config.series[l].data[o]&&n.config.series[l].data[o].fillColor&&(g=n.config.series[l].data[o].fillColor),f.attr({x:t-p.width/2-p.pointStrokeWidth/2,y:e-p.height/2-p.pointStrokeWidth/2,cx:t,cy:e,fill:g,"fill-opacity":p.pointFillOpacity,stroke:p.pointStrokeColor,r:s,"stroke-width":p.pointStrokeWidth,"stroke-dasharray":p.pointStrokeDashArray,"stroke-opacity":p.pointStrokeOpacity}),n.config.chart.dropShadow.enabled){var v=n.config.chart.dropShadow;d.dropShadow(f,v,a)}if(!this.initialAnim||n.globals.dataChanged||n.globals.resized)n.globals.animationEnded=!0;else{var b=n.config.chart.animations.speed;c.animateMarker(f,0,"circle"===p.shape?s:{width:p.width,height:p.height},b,n.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(f)}),100)}))}if(n.globals.dataChanged&&"circle"===p.shape)if(this.dynamicAnim){var y,x,S,A,I=n.config.chart.animations.dynamicAnimation.speed;null!=(A=n.globals.previousPaths[a]&&n.globals.previousPaths[a][r])&&(y=A.x,x=A.y,S=void 0!==A.r?A.r:s);for(var L=0;L<n.globals.collapsedSeries.length;L++)n.globals.collapsedSeries[L].index===a&&(I=1,s=0);0===t&&0===e&&(s=0),c.animateCircle(f,{cx:y,cy:x,r:S},{cx:t,cy:e,r:s},I,n.globals.easing)}else f.attr({r:s});return f.attr({rel:o,j:o,index:a,"default-marker-size":s}),d.setSelectionFilter(f,a,o),u.addEvents(f),f.node.classList.add("apexcharts-marker"),f}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),t}(),V=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"dataLabelsCorrection",value:function(t,e,i,s,a,o,r){var n=this.w,l=!1,c=new k(this.ctx).getTextRects(i,r),d=c.width,h=c.height;e<0&&(e=0),e>n.globals.gridHeight+h&&(e=n.globals.gridHeight+h/2),void 0===n.globals.dataLabelsRects[s]&&(n.globals.dataLabelsRects[s]=[]),n.globals.dataLabelsRects[s].push({x:t,y:e,width:d,height:h});var u=n.globals.dataLabelsRects[s].length-2,m=void 0!==n.globals.lastDrawnDataLabelsIndexes[s]?n.globals.lastDrawnDataLabelsIndexes[s][n.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(void 0!==n.globals.dataLabelsRects[s][u]){var p=n.globals.dataLabelsRects[s][m];(t>p.x+p.width+2||e>p.y+p.height+2||t+d<p.x)&&(l=!0)}return(0===a||o)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,s=t.pos,a=t.i,o=t.j,r=t.isRangeStart,n=t.strokeWidth,l=void 0===n?2:n,c=this.w,d=new k(this.ctx),h=c.config.dataLabels,u=0,m=0,p=o,f=null;if(!h.enabled||!Array.isArray(s.x))return f;f=d.group({class:"apexcharts-data-labels"});for(var g=0;g<s.x.length;g++)if(u=s.x[g]+h.offsetX,m=s.y[g]+h.offsetY+l,!isNaN(u)){1===o&&0===g&&(p=0),1===o&&1===g&&(p=1);var v=c.globals.series[a][p];"rangeArea"===i&&(v=r?c.globals.seriesRangeStart[a][p]:c.globals.seriesRangeEnd[a][p]);var b="",y=function(t){return c.config.dataLabels.formatter(t,{ctx:e.ctx,seriesIndex:a,dataPointIndex:p,w:c})};"bubble"===c.config.chart.type?(b=y(v=c.globals.seriesZ[a][p]),m=s.y[g],m=new q(this.ctx).centerTextInBubble(m,a,p).y):void 0!==v&&(b=y(v)),this.plotDataLabelsText({x:u,y:m,text:b,i:a,j:p,parent:f,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels})}return f}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new k(this.ctx),s=t.x,a=t.y,o=t.i,r=t.j,n=t.text,l=t.textAnchor,c=t.fontSize,d=t.parent,h=t.dataLabelsConfig,u=t.color,m=t.alwaysDrawDataLabel,p=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var f={x:s,y:a,drawnextLabel:!0,textRects:null};p&&(f=this.dataLabelsCorrection(s,a,n,o,r,m,parseInt(h.style.fontSize,10))),e.globals.zoomed||(s=f.x,a=f.y),f.textRects&&(s<-10-f.textRects.width||s>e.globals.gridWidth+f.textRects.width+10)&&(n="");var g=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(g=e.globals.dataLabels.style.colors[r]),"function"==typeof g&&(g=g({series:e.globals.series,seriesIndex:o,dataPointIndex:r,w:e})),u&&(g=u);var v=h.offsetX,b=h.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(v=0,b=0),f.drawnextLabel){var y=i.drawText({width:100,height:parseInt(h.style.fontSize,10),x:s+v,y:a+b,foreColor:g,textAnchor:l||h.textAnchor,text:n,fontSize:c||h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight||"normal"});if(y.attr({class:"apexcharts-datalabel",cx:s,cy:a}),h.dropShadow.enabled){var x=h.dropShadow;new C(this.ctx).dropShadow(y,x)}d.add(y),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(r)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,s=i.config.dataLabels.background,a=s.padding,o=s.padding/2,r=e.width,n=e.height,l=new k(this.ctx).drawRect(e.x-a,e.y-o/2,r+2*a,n+o,s.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new C(this.ctx).dropShadow(l,s.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var s=e[i],a=s.getBBox(),o=null;if(a.width&&a.height&&(o=this.addBackgroundToDataLabel(s,a)),o){s.parentNode.insertBefore(o.node,s);var r=s.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:r}):o.animate().attr({fill:r}),s.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<e.length;s++)i&&i.insertBefore(e[s],i.nextSibling)}}]),t}(),H=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(x.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function s(i){for(var s=0;s<i.length;s++)i[s].index===e&&t.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w,a=x.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,t&&(e&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var a=parseInt(e.getAttribute("rel"),10)-1,o=null,r=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),r=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var n=0;n<s.length;n++)s[n].classList.add(this.legendInactiveClass);null!==o&&(i.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==r&&r.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<s.length;l++)s[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(t){for(var e=0;e<a.length;e++)a[e].classList[t](i.legendInactiveClass)};if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1;o("add"),function(t){for(var e=0;e<a.length;e++){var s=parseInt(a[e].getAttribute("val"),10);s>=t.from&&s<=t.to&&a[e].classList.remove(i.legendInactiveClass)}}(s.config.plotOptions.heatmap.colorScale.ranges[r])}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.w,s=0;if(i.config.series.length>1)for(var a=i.config.series.map((function(t,s){return t.data&&t.data.length>0&&-1===i.globals.collapsedSeriesIndices.indexOf(s)&&(!i.globals.comboCharts||0===e.length||e.length&&e.indexOf(i.config.series[s].type)>-1)?s:-1})),o="asc"===t?0:a.length-1;"asc"===t?o<a.length:o>=0;"asc"===t?o++:o--)if(-1!==a[o]){s=a[o];break}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(t,e){return"bar"===t.type||"column"===t.type?e:-1})).filter((function(t){return-1!==t})):this.w.config.series.map((function(t,e){return e}))}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,i,s){for(var a=e[i].childNodes,o={type:s,paths:[],realIndex:e[i].getAttribute("data:realIndex")},r=0;r<a.length;r++)if(a[r].hasAttribute("pathTo")){var n=a[r].getAttribute("pathTo");o.paths.push({d:n})}t.globals.previousPaths.push(o)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(i){for(var s,a=(s=i,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series"))),o=0;o<a.length;o++)e(a,o,i)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(e){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(e,"'] rect")),s=[],a=function(t){var e=function(e){return i[t].getAttribute(e)},a={x:parseFloat(e("x")),y:parseFloat(e("y")),width:parseFloat(e("width")),height:parseFloat(e("height"))};s.push({rect:a,color:i[t].getAttribute("color")})},o=0;o<i.length;o++)a(o);t.globals.previousPaths.push(s)},a=0;a<i.length;a++)s(a);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var s=0;s<i.length;s++){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(s,"'] circle")),o=[],r=0;r<a.length;r++)o.push({x:a[r].getAttribute("cx"),y:a[r].getAttribute("cy"),r:a[r].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new k(this.ctx),s=t.globals.svgWidth/2,a=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(s=10,o="start"):"right"===e.align&&(s=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?a=50:"bottom"===e.verticalAlign&&(a=t.globals.svgHeight-50),s+=e.offsetX,a=a+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var r=i.drawText({x:s,y:a,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(r)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var s=0;s<t[e.globals.maxValsInArrayIndex].length;s++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return t}}]),t}(),W=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new S(this.ctx)}return c(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new H(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new H(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,s=this.w.globals,a="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,o=0;o<t[e].data.length;o++)if(void 0!==t[e].data[o][1]&&(Array.isArray(t[e].data[o][1])&&4===t[e].data[o][1].length&&!a?this.twoDSeries.push(x.parseNumber(t[e].data[o][1][3])):t[e].data[o].length>=5?this.twoDSeries.push(x.parseNumber(t[e].data[o][4])):this.twoDSeries.push(x.parseNumber(t[e].data[o][1])),s.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var r=new Date(t[e].data[o][0]);r=new Date(r).getTime(),this.twoDSeriesX.push(r)}else this.twoDSeriesX.push(t[e].data[o][0]);for(var n=0;n<t[e].data.length;n++)void 0!==t[e].data[n][2]&&(this.threeDSeries.push(t[e].data[n][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,s=this.w.globals,a=new M(this.ctx),o=e;s.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r].y&&(Array.isArray(t[e].data[r].y)?this.twoDSeries.push(x.parseNumber(t[e].data[r].y[t[e].data[r].y.length-1])):this.twoDSeries.push(x.parseNumber(t[e].data[r].y))),void 0!==t[e].data[r].goals&&Array.isArray(t[e].data[r].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[r].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var n=0;n<t[o].data.length;n++){var l="string"==typeof t[o].data[n].x,c=Array.isArray(t[o].data[n].x),d=!c&&!!a.isValidDate(t[o].data[n].x.toString());if(l||d)if(l||i.xaxis.convertedCatToNumeric){var h=s.isBarHorizontal&&s.isRangeData;"datetime"!==i.xaxis.type||h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[n].x)):this.twoDSeriesX.push(a.parseDate(t[o].data[n].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(a.parseDate(t[o].data[n].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[n].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[n].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[n].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var u=0;u<t[e].data.length;u++)this.threeDSeries.push(t[e].data[u].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(s.start),i.seriesRangeEnd.push(s.end),i.seriesRange.push(s.rangeUniques),i.seriesRange.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,i){for(var s=0;s<t.y.length;s++)if(i!==s){var a=e.y1,o=e.y2,r=t.y[s].y1;a<=t.y[s].y2&&r<=o&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[s].rangeName)<0&&t.overlaps.push(t.y[s].rangeName))}}))}))})),s}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=s.o,i.seriesCandleH[e]=s.h,i.seriesCandleM[e]=s.m,i.seriesCandleL[e]=s.l,i.seriesCandleC[e]=s.c,s}},{key:"handleRangeDataFormat",value:function(t,e,i){var s=[],a=[],o=e[i].data.filter((function(t,e,i){return e===i.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}}));if("array"===t)for(var r=0;r<e[i].data.length;r++)Array.isArray(e[i].data[r])?(s.push(e[i].data[r][1][0]),a.push(e[i].data[r][1][1])):(s.push(e[i].data[r]),a.push(e[i].data[r]));else if("xy"===t)for(var n=function(t){var r=Array.isArray(e[i].data[t].y),n=x.randomId(),l=e[i].data[t].x,c={y1:r?e[i].data[t].y[0]:e[i].data[t].y,y2:r?e[i].data[t].y[1]:e[i].data[t].y,rangeName:n};e[i].data[t].rangeName=n;var d=o.findIndex((function(t){return t.x===l}));o[d].y.push(c),s.push(c.y1),a.push(c.y2)},l=0;l<e[i].data.length;l++)n(l);return{start:s,end:a,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var s=this.w,a="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[i].type,o=[],r=[],n=[],l=[],c=[];if("array"===t)if(a&&6===e[i].data[0].length||!a&&5===e[i].data[0].length)for(var d=0;d<e[i].data.length;d++)o.push(e[i].data[d][1]),r.push(e[i].data[d][2]),a?(n.push(e[i].data[d][3]),l.push(e[i].data[d][4]),c.push(e[i].data[d][5])):(l.push(e[i].data[d][3]),c.push(e[i].data[d][4]));else for(var h=0;h<e[i].data.length;h++)Array.isArray(e[i].data[h][1])&&(o.push(e[i].data[h][1][0]),r.push(e[i].data[h][1][1]),a?(n.push(e[i].data[h][1][2]),l.push(e[i].data[h][1][3]),c.push(e[i].data[h][1][4])):(l.push(e[i].data[h][1][2]),c.push(e[i].data[h][1][3])));else if("xy"===t)for(var u=0;u<e[i].data.length;u++)Array.isArray(e[i].data[u].y)&&(o.push(e[i].data[u].y[0]),r.push(e[i].data[u].y[1]),a?(n.push(e[i].data[u].y[2]),l.push(e[i].data[u].y[3]),c.push(e[i].data[u].y[4])):(l.push(e[i].data[u].y[2]),c.push(e[i].data[u].y[3])));return{o:o,h:r,m:n,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,o=new M(i),r=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar="rangeBar"===s.chart.type&&a.isBarHorizontal,a.hasGroups="category"===s.xaxis.type&&s.xaxis.group.groups.length>0,a.hasGroups&&(a.groups=s.xaxis.group.groups);for(var n=function(){for(var t=0;t<r.length;t++)if("string"==typeof r[t]){if(!o.isValidDate(r[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(r[t]))}else e.twoDSeriesX.push(r[t])},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(a.isRangeData=!0,a.isComboCharts?"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||this.handleRangeData(t,l):"rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type||this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==s.chart.type&&"candlestick"!==t[l].type&&"boxPlot"!==s.chart.type&&"boxPlot"!==t[l].type||this.handleCandleStickBoxData(t,l),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===s.xaxis.type?(a.isXNumeric=!0,n(),a.seriesX.push(this.twoDSeriesX)):"numeric"===s.xaxis.type&&(a.isXNumeric=!0,r.length>0&&(this.twoDSeriesX=r,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return x.parseNumber(t)}));a.series.push(c)}a.seriesZ.push(this.threeDSeries),void 0!==t[l].name?a.seriesNames.push(t[l].name):a.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==t[l].color?a.seriesColors.push(t[l].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var s=0;s<e.series.length;s++)void 0===e.seriesNames[s]&&e.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(t){t.forEach((function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)}))})),i.labels=i.labels.filter((function(t,e,i){return i.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new $(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,s=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var a=i.series.map((function(t,e){return t.data.filter((function(t,e,i){return i.findIndex((function(e){return e.x===t.x}))===e}))})),o=a.reduce((function(t,e,i,s){return s[t].length>e.length?t:i}),0),r=0;r<a[o].length;r++)s.push(r+1);else for(var n=0;n<e.series[e.maxValsInArrayIndex].length;n++)s.push(n+1);e.seriesX=[];for(var l=0;l<t.length;l++)e.seriesX.push(s);e.isXNumeric=!0}if(0===s.length){s=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var c=0;c<t.length;c++)e.seriesX.push(s)}e.labels=s,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=s.map((function(t){return i.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,s=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),"bar"===i.chart.type&&i.chart.stacked){var a=new H(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(s.labels),r=0;r<o.length;r++)if(Array.isArray(o[r])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(i,s){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return i.index}))}}]),t}(),j=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return c(t,[{key:"xLabelFormat",value:function(t,e,i,s){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var o=new M(this.ctx);return o.formatDate(o.getDate(e),a.config.tooltip.x.format)}return t(e,i,s)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,i){var s=this.w;return x.isNumber(t)&&(t=0!==s.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:s.globals.yValueDecimal):s.globals.maxYArr[i]-s.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},void 0!==e.config.xaxis.labels.formatter?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(t){if(x.isNumber(t)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(x.isNumber(e.config.xaxis.decimalsInFloat))return t.toFixed(e.config.xaxis.decimalsInFloat);var i=e.globals.maxX-e.globals.minX;return i>0&&i<100?t.toFixed(1):t.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?t.toFixed(1):t.toFixed(0)}return t},"function"==typeof e.config.tooltip.x.formatter?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,s){void 0!==i.labels.formatter?e.globals.yLabelFormatters[s]=i.labels.formatter:e.globals.yLabelFormatters[s]=function(a){return e.globals.xyCharts?Array.isArray(a)?a.map((function(e){return t.defaultYFormatter(e,i,s)})):t.defaultYFormatter(a,i,s):a}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),X=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getLabel",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],n=this.w,l=void 0===t[s]?"":t[s],c=l,d=n.globals.xLabelFormatter,h=n.config.xaxis.labels.formatter,u=!1,m=new j(this.ctx),p=l;r&&(c=m.xLabelFormat(d,l,p,{i:s,dateFormatter:new M(this.ctx).formatDate,w:n}),void 0!==h&&(c=h(l,t[s],{i:s,dateFormatter:new M(this.ctx).formatDate,w:n})));var f=function(t){var i=null;return e.forEach((function(t){"month"===t.unit?i="year":"day"===t.unit?i="month":"hour"===t.unit?i="day":"minute"===t.unit&&(i="hour")})),i===t};e.length>0?(u=f(e[s].unit),i=e[s].position,c=e[s].value):"datetime"===n.config.xaxis.type&&void 0===h&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();var g=new k(this.ctx),v={};v=n.globals.rotateXLabels&&r?g.getTextRects(c,parseInt(o,10),null,"rotate(".concat(n.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(c,parseInt(o,10));var b=!n.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||c.toLowerCase().indexOf("infinity")>=0||a.indexOf(c)>=0&&b)&&(c=""),{x:i,text:c,textRect:v,isBold:u}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var s=this.w,a=s.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(s.globals.gridWidth/120)),a>i||t%Math.round(i/(a+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,s,a){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var r=a[a.length-1];e.x<r.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+r.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new S(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,s,a,o,r){var n=this.w,l=new k(this.ctx),c=n.globals.translateY;if(s.show&&e>0){!0===n.config.yaxis[a].opposite&&(t+=s.width);for(var d=e;d>=0;d--){var h=c+e/10+n.config.yaxis[a].labels.offsetY-1;n.globals.isBarHorizontal&&(h=o*d),"heatmap"===n.config.chart.type&&(h+=o/2);var u=l.drawLine(t+i.offsetX-s.width+s.offsetX,h+s.offsetY,t+i.offsetX+s.offsetX,h+s.offsetY,s.color);r.add(u),c+=o}}}}]),t}(),Y=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),s=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",s*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"fixSvgStringForIe11",value:function(t){if(!x.isIE11())return t.replace(/&nbsp;/g,"&#160;");var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2===++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':t}));return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(t){null==t&&(t=1);var e=this.w.globals.dom.Paper.svg();if(1!==t){var i=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(i,t),e=(new XMLSerializer).serializeToString(i)}return this.fixSvgStringForIe11(e)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(t){var e=this;return new Promise((function(i){var s=e.w,a=t?t.scale||t.width/s.globals.svgWidth:1;e.cleanup();var o=document.createElement("canvas");o.width=s.globals.svgWidth*a,o.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var r="transparent"===s.config.chart.background?"#fff":s.config.chart.background,n=o.getContext("2d");n.fillStyle=r,n.fillRect(0,0,o.width*a,o.height*a);var l=e.getSvgString(a);if(window.canvg&&x.isIE11()){var c=window.canvg.Canvg.fromString(n,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var d=o.msToBlob();c.stop(),i({blob:d})}else{var h="data:image/svg+xml,"+encodeURIComponent(l),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(n.drawImage(u,0,0),o.msToBlob){var t=o.msToBlob();i({blob:t})}else{var e=o.toDataURL("image/png");i({imgURI:e})}},u.src=h}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var i=e.imgURI,s=e.blob;s?navigator.msSaveOrOpenBlob(s,t.w.globals.chartID+".png"):t.triggerDownload(i,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,s=t.fileName,a=t.columnDelimiter,o=void 0===a?",":a,r=t.lineDelimiter,n=void 0===r?"\n":r,l=this.w;i||(i=l.config.series);var c=[],d=[],h="",u=l.globals.series.map((function(t,e){return-1===l.globals.collapsedSeriesIndices.indexOf(e)?t:[]})),m=Math.max.apply(Math,v(i.map((function(t){return t.data?t.data.length:0})))),p=new W(this.ctx),f=new X(this.ctx),g=function(t){var i="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var s=l.globals.yLabelFormatters[0],a=new H(e.ctx).getActiveConfigSeriesIndex();i=s(l.globals.labels[t],{seriesIndex:a,dataPointIndex:t,w:l})}else i=f.getLabel(l.globals.labels,l.globals.timescaleLabels,0,t).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?i=l.config.xaxis.categories[t]:l.config.labels.length&&(i=l.config.labels[t]))}else i=l.config.labels[t];return Array.isArray(i)&&(i=i.join(" ")),x.isNumber(i)?i:i.split(o).join("")},b=function(t,e){if(c.length&&0===e&&d.push(c.join(o)),t.data){t.data=t.data.length&&t.data||v(Array(m)).map((function(){return""}));for(var s=0;s<t.data.length;s++){c=[];var a=g(s);if(a||(p.isFormatXY()?a=i[e].data[s].x:p.isFormat2DArray()&&(a=i[e].data[s]?i[e].data[s][0]:"")),0===e){c.push((n=a,"datetime"===l.config.xaxis.type&&String(n).length>=10?l.config.chart.toolbar.export.csv.dateFormatter(a):x.isNumber(a)?a:a.split(o).join("")));for(var r=0;r<l.globals.series.length;r++)p.isFormatXY()?c.push(i[r].data[s].y):c.push(u[r][s])}("candlestick"===l.config.chart.type||t.type&&"candlestick"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),("boxPlot"===l.config.chart.type||t.type&&"boxPlot"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleM[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),"rangeBar"===l.config.chart.type&&(c.pop(),c.push(l.globals.seriesRangeStart[e][s]),c.push(l.globals.seriesRangeEnd[e][s])),c.length&&d.push(c.join(o))}}var n};c.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(c.push("minimum"),c.push("q1"),c.push("median"),c.push("q3"),c.push("maximum")):"candlestick"===l.config.chart.type?(c.push("open"),c.push("high"),c.push("low"),c.push("close")):"rangeBar"===l.config.chart.type?(c.push("minimum"),c.push("maximum")):i.map((function(t,e){var i=t.name?t.name:"series-".concat(e);l.globals.axisCharts&&c.push(i.split(o).join("")?i.split(o).join(""):"series-".concat(e))})),l.globals.axisCharts||(c.push(l.config.chart.toolbar.export.csv.headerValue),d.push(c.join(o))),i.map((function(t,e){l.globals.axisCharts?b(t,e):((c=[]).push(l.globals.labels[e].split(o).join("")),c.push(u[e]),d.push(c.join(o)))})),h+=d.join(n),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+h),s||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var s=document.createElement("a");s.href=t,s.download=(e||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),t}(),G=function(){function t(e,i){n(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.axesUtils=new X(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===s.config.xaxis.position?this.offY=0:this.offY=s.globals.gridHeight+1,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return c(t,[{key:"drawXaxis",value:function(){var t=this.w,e=new k(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),s=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(s);for(var a=[],o=0;o<this.xaxisLabels.length;o++)a.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,s,a,t.globals.isXNumeric,(function(t,e){return e})),t.globals.hasGroups){var r=t.globals.groups;a=[];for(var n=0;n<r.length;n++)a.push(r[n].title);var l={};t.config.xaxis.group.style&&(l.xaxisFontSize=t.config.xaxis.group.style.fontSize,l.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,l.xaxisForeColors=t.config.xaxis.group.style.colors,l.fontWeight=t.config.xaxis.group.style.fontWeight,l.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,s,a,!1,(function(t,e){return r[t].cols*e}),l)}if(void 0!==t.config.xaxis.title.text){var c=e.group({class:"apexcharts-xaxis-title"}),d=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.title.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});c.add(d),i.add(c)}if(t.config.xaxis.axisBorder.show){var h=t.globals.barPadForNumericAxis,u=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-h,this.offY,this.xaxisBorderWidth+h,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(u):i.add(u)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,s,a,o){var r,n=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],d=[],h=this.w,u=l.xaxisFontSize||this.xaxisFontSize,m=l.xaxisFontFamily||this.xaxisFontFamily,p=l.xaxisForeColors||this.xaxisForeColors,f=l.fontWeight||h.config.xaxis.labels.style.fontWeight,g=l.cssClass||h.config.xaxis.labels.style.cssClass,v=h.globals.padHorizontal,b=s.length,y="category"===h.config.xaxis.type?h.globals.dataPoints:b;if(0===y&&b>y&&(y=b),a){var x=y>1?y-1:y;r=h.globals.gridWidth/x,v=v+o(0,r)/2+h.config.xaxis.labels.offsetX}else r=h.globals.gridWidth/y,v=v+o(0,r)+h.config.xaxis.labels.offsetX;for(var w=function(a){var l=v-o(a,r)/2+h.config.xaxis.labels.offsetX;0===a&&1===b&&r/2===v&&1===y&&(l=h.globals.gridWidth/2);var x=n.axesUtils.getLabel(s,h.globals.timescaleLabels,l,a,c,u,t),w=28;if(h.globals.rotateXLabels&&t&&(w=22),h.config.xaxis.title.text&&"top"===h.config.xaxis.position&&(w+=parseFloat(h.config.xaxis.title.style.fontSize)+2),t||(w=w+parseFloat(u)+(h.globals.xAxisLabelsHeight-h.globals.xAxisGroupLabelsHeight)+(h.globals.rotateXLabels?10:0)),x=void 0!==h.config.xaxis.tickAmount&&"dataPoints"!==h.config.xaxis.tickAmount&&"datetime"!==h.config.xaxis.type?n.axesUtils.checkLabelBasedOnTickamount(a,x,b):n.axesUtils.checkForOverflowingLabels(a,x,b,c,d),t&&x.text&&h.globals.xaxisLabelsCount++,h.config.xaxis.labels.show){var C=e.drawText({x:x.x,y:n.offY+h.config.xaxis.labels.offsetY+w-("top"===h.config.xaxis.position?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:x.text,textAnchor:"middle",fontWeight:x.isBold?600:f,fontSize:u,fontFamily:m,foreColor:Array.isArray(p)?t&&h.config.xaxis.convertedCatToNumeric?p[h.globals.minX+a-1]:p[a]:p,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(i.add(C),C.on("click",(function(t){if("function"==typeof h.config.chart.events.xAxisLabelClick){var e=Object.assign({},h,{labelIndex:a});h.config.chart.events.xAxisLabelClick(t,n.ctx,e)}})),t){var k=document.createElementNS(h.globals.SVGNS,"title");k.textContent=Array.isArray(x.text)?x.text.join(" "):x.text,C.node.appendChild(k),""!==x.text&&(c.push(x.text),d.push(x))}}a<b-1&&(v+=o(a+1,r))},C=0;C<=b-1;C++)w(C)}},{key:"drawXaxisInversed",value:function(t){var e,i,s=this,a=this.w,o=new k(this.ctx),r=a.config.yaxis[0].opposite?a.globals.translateYAxisX[t]:0,n=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),l=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+r+", 0)"});n.add(l);var c=[];if(a.config.yaxis[t].show)for(var d=0;d<this.xaxisLabels.length;d++)c.push(this.xaxisLabels[d]);e=a.globals.gridHeight/c.length,i=-e/2.2;var h=a.globals.yLabelFormatters[0],u=a.config.yaxis[0].labels;if(u.show)for(var m=function(r){var n=void 0===c[r]?"":c[r];n=h(n,{seriesIndex:t,dataPointIndex:r,w:a});var d=s.axesUtils.getYAxisForeColor(u.style.colors,t),m=0;Array.isArray(n)&&(m=n.length/2*parseInt(u.style.fontSize,10));var p=o.drawText({x:u.offsetX-15,y:i+e+u.offsetY-m,text:n,textAnchor:s.yaxis.opposite?"start":"end",foreColor:Array.isArray(d)?d[r]:d,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.style.cssClass,maxWidth:u.maxWidth});l.add(p),p.on("click",(function(t){if("function"==typeof a.config.chart.events.xAxisLabelClick){var e=Object.assign({},a,{labelIndex:r});a.config.chart.events.xAxisLabelClick(t,s.ctx,e)}}));var f=document.createElementNS(a.globals.SVGNS,"title");if(f.textContent=Array.isArray(n)?n.join(" "):n,p.node.appendChild(f),0!==a.config.yaxis[t].labels.rotate){var g=o.rotateAroundCenter(p.node);p.node.setAttribute("transform","rotate(".concat(a.config.yaxis[t].labels.rotate," 0 ").concat(g.y,")"))}i+=e},p=0;p<=c.length-1;p++)m(p);if(void 0!==a.config.yaxis[0].title.text){var f=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+r+", 0)"}),g=o.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});f.add(g),n.add(f)}var v=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(v=a.globals.gridWidth);var b=a.config.xaxis.axisBorder;if(b.show){var y=o.drawLine(a.globals.padHorizontal+b.offsetX+v,1+b.offsetY,a.globals.padHorizontal+b.offsetX+v,a.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(y):n.add(y)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,e,n),n}},{key:"drawXaxisTicks",value:function(t,e,i){var s=this.w,a=t;if(!(t<0||t-2>s.globals.gridWidth)){var o=this.offY+s.config.xaxis.axisTicks.offsetY;if(e=e+o+s.config.xaxis.axisTicks.height,"top"===s.config.xaxis.position&&(e=o-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var r=new k(this.ctx).drawLine(t+s.config.xaxis.axisTicks.offsetX,o+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,e+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(r),r.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,s=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)s=this.xaxisLabels[a].position,e.push(s);else for(var o=i,r=0;r<o;r++){var n=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(n-=1),s+=t.globals.gridWidth/n,e.push(s)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new k(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var r=0;r<s.length;r++){var n=e.rotateAroundCenter(s[r]);n.y=n.y-1,n.x=n.x+1,s[r].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(n.x," ").concat(n.y,")")),s[r].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var l=s[r].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(i){e.placeTextWithEllipsis(i,i.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var i=t.globals.gridWidth/(t.globals.labels.length+1),a=0;a<s.length;a++){var o=s[a].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(o,(function(t){e.placeTextWithEllipsis(t,t.textContent,i)}))}}();if(a.length>0){var c=a[a.length-1].getBBox(),d=a[0].getBBox();c.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),d.x+d.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var h=0;h<o.length;h++)e.placeTextWithEllipsis(o[h],o[h].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),U=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new X(e),this.isRangeBar=i.globals.seriesRange.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return c(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new k(this.ctx);null===t&&(t=i.group({class:"apexcharts-grid"}));var s=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),a=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(a),t.add(s),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new k(this.ctx),s=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var a=0;t.config.stroke.width.forEach((function(t){a=Math.max(a,t)})),s=a}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elForecastMask.setAttribute("id","forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(e.cuid));var o=t.config.chart.type,r=0,n=0;("bar"===o||"rangeBar"===o||"candlestick"===o||"boxPlot"===o||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(r=t.config.grid.padding.left,n=t.config.grid.padding.right,e.barPadForNumericAxis>r&&(r=e.barPadForNumericAxis,n=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-s/2-r-2,-s/2,e.gridWidth+s+n+r+4,e.gridHeight+s,0,"#fff");var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elForecastMask),c.appendChild(e.dom.elNonForecastMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.xCount,n=t.parent,l=this.w;if(!(0===e&&l.globals.skipFirstTimelinelabel||e===r-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:s,x2:a,y2:o,xCount:r,parent:n});var c=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var h=0,u=0;h<e&&u<d.length;u++)h+=d[u].cols;h===e&&(c=.6*l.globals.xAxisLabelsHeight)}}new G(this.ctx).drawXaxisTicks(i,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.xCount,n=t.parent,l=this.w,c=!1,d=n.node.classList.contains("apexcharts-gridlines-horizontal"),h=l.config.grid.strokeDashArray,u=l.globals.barPadForNumericAxis;(0===s&&0===o||0===i&&0===a)&&(c=!0),s===l.globals.gridHeight&&o===l.globals.gridHeight&&(c=!0),!l.globals.isBarHorizontal||0!==e&&e!==r-1||(c=!0);var m=new k(this).drawLine(i-(d?u:0),s,a+(d?u:0),o,l.config.grid.borderColor,h);m.node.classList.add("apexcharts-gridline"),c?this.elGridBorders.add(m):n.add(m)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.type,n=this.w,l=new k(this.ctx),c=n.globals.barPadForNumericAxis;if("column"!==r||"datetime"!==n.config.xaxis.type){var d=n.config.grid[r].colors[e],h=l.drawRect(i-("row"===r?c:0),s,a+("row"===r?2*c:0),o,0,d,n.config.grid[r].opacity);this.elg.add(h),h.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),h.node.classList.add("apexcharts-grid-".concat(r))}}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,s=t.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var o,r=a.globals.padHorizontal,n=a.globals.gridHeight;a.globals.timescaleLabels.length?function(t){for(var s=t.xC,a=t.x1,o=t.y1,r=t.x2,n=t.y2,l=0;l<s;l++)a=e.xaxisLabels[l].position,r=e.xaxisLabels[l].position,e._drawGridLines({i:l,x1:a,y1:o,x2:r,y2:n,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:r,y1:0,x2:o,y2:n}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),a.config.xaxis.convertedCatToNumeric&&(i=a.globals.xaxisLabelsCount),function(t){var s=t.xC,o=t.x1,r=t.y1,n=t.x2,l=t.y2;if(void 0!==a.config.xaxis.tickAmount&&"dataPoints"!==a.config.xaxis.tickAmount&&"on"===a.config.xaxis.tickPlacement)a.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(t,s){var a=t.getBBox();e._drawGridLines({i:s,x1:a.x+a.width/2,y1:r,x2:a.x+a.width/2,y2:l,xCount:i,parent:e.elgridLinesV})}));else for(var c=0;c<s+(a.globals.isXNumeric?0:1);c++)0===c&&1===s&&1===a.globals.dataPoints&&(n=o=a.globals.gridWidth/2),e._drawGridLines({i:c,x1:o,y1:r,x2:n,y2:l,xCount:i,parent:e.elgridLinesV}),n=o+=a.globals.gridWidth/(a.globals.isXNumeric?s-1:s)}({xC:i,x1:r,y1:0,x2:o,y2:n}))}if(a.config.grid.yaxis.lines.show){var l=0,c=0,d=a.globals.gridWidth,h=s+1;this.isRangeBar&&(h=a.globals.labels.length);for(var u=0;u<h+(this.isRangeBar?1:0);u++)this._drawGridLine({i:u,xCount:h+(this.isRangeBar?1:0),x1:0,y1:l,x2:d,y2:c,parent:this.elgridLinesH}),c=l+=a.globals.gridHeight/(this.isRangeBar?h:s)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,a=i.globals.padHorizontal,o=i.globals.gridHeight,r=0;r<e+1;r++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,xCount:e+1,x1:a,y1:0,x2:s,y2:o,parent:this.elgridLinesV}),new G(this.ctx).drawXaxisTicks(a,0,i.globals.dom.elGraphical),s=a=a+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var n=0,l=0,c=i.globals.gridWidth,d=0;d<i.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:i.globals.dataPoints+1,x1:0,y1:n,x2:c,y2:l,parent:this.elgridLinesH}),l=n+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new k(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=e.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i,s=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,a=0;a<t.globals.series.length&&(void 0!==t.globals.yAxisScale[a]&&(s=t.globals.yAxisScale[a].result.length-1),!(s>2));a++);return!t.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(s=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:s})):(i=s,s=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:s})),this.drawGridBands(i,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var s=0,a=i.globals.gridHeight/e,o=i.globals.gridWidth,r=0,n=0;r<e;r++,n++)n>=i.config.grid.row.colors.length&&(n=0),this._drawGridBandRect({c:n,x1:0,y1:s,x2:o,y2:a,type:"row"}),s+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,d=i.globals.padHorizontal+i.globals.gridWidth/l,h=i.globals.gridHeight,u=0,m=0;u<t;u++,m++)m>=i.config.grid.column.colors.length&&(m=0),this._drawGridBandRect({c:m,x1:c,y1:0,x2:d,y2:h,type:"column"}),c+=i.globals.gridWidth/l}}]),t}(),J=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"niceScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=this.w,r=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,s,r))&&(i=o.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!x.isNumber(t)&&!x.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){t=0,e=i;var n=this.linearScale(t,e,i);return n}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[];r<1&&a&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[s].type||"boxPlot"===o.config.chart.type||"boxPlot"===o.config.series[s].type||o.globals.isRangeData)&&(e*=1.01);var c=i+1;c<2?c=2:c>2&&(c-=2);var d=r/c,h=Math.floor(x.log10(d)),u=Math.pow(10,h),m=Math.round(d/u);m<1&&(m=1);var p=m*u,f=p*Math.floor(t/p),g=p*Math.ceil(e/p),v=f;if(a&&r>2){for(;l.push(v),!((v+=p)>g););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var b=t;(l=[]).push(b);for(var y=Math.abs(e-t)/i,w=0;w<=i;w++)b+=y,l.push(b);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3?arguments[3]:void 0,a=Math.abs(e-t);"dataPoints"===(i=this._adjustTicksForSmallRange(i,s,a))&&(i=this.w.globals.dataPoints-1);var o=a/i;i===Number.MAX_VALUE&&(i=10,o=1);for(var r=[],n=t;i>=0;)r.push(n),n+=o,i-=1;return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<a;o++)s.push(Math.pow(i,o));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),r=a-o,n=Math.round(r),l=r/n,c=0,d=o;c<n;c++,d+=l)s.push(Math.pow(i,d));return s.push(Math.pow(i,a)),{result:s,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var s=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var a=this.w.config.yaxis[e].labels.formatter(1);x.isNumber(Number(a))&&!x.isFloat(a)&&(s=Math.ceil(i))}return s<t?s:t}},{key:"setYScaleForIndex",value:function(t,e,i){var s=this.w.globals,a=this.w.config,o=s.isBarHorizontal?a.xaxis:a.yaxis[t];void 0===s.yAxisScale[t]&&(s.yAxisScale[t]=[]);var r=Math.abs(i-e);if(o.logarithmic&&r<=5&&(s.invalidLogScale=!0),o.logarithmic&&r>5)s.allSeriesCollapsed=!1,s.yAxisScale[t]=this.logarithmicScale(e,i,o.logBase),s.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase);else if(i!==-Number.MAX_VALUE&&x.isNumber(i))if(s.allSeriesCollapsed=!1,void 0===o.min&&void 0===o.max||o.forceNiceScale){var n=void 0===a.yaxis[t].max&&void 0===a.yaxis[t].min||a.yaxis[t].forceNiceScale;s.yAxisScale[t]=this.niceScale(e,i,o.tickAmount?o.tickAmount:r<5&&r>1?r+1:5,t,n)}else s.yAxisScale[t]=this.linearScale(e,i,o.tickAmount,t);else s.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,s=i.globals,a=i.config.xaxis,o=Math.abs(e-t);return e!==-Number.MAX_VALUE&&x.isNumber(e)?s.xAxisScale=this.linearScale(t,e,a.tickAmount?a.tickAmount:o<5&&o>1?o+1:5,0):s.xAxisScale=this.linearScale(0,5,5),s.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,i=this.w.config,s=e.minYArr.concat([]),a=e.maxYArr.concat([]),o=[];i.yaxis.forEach((function(e,r){var n=r;i.series.forEach((function(t,i){t.name===e.seriesName&&(n=i,r!==i?o.push({index:i,similarIndex:r,alreadyExists:!0}):o.push({index:i}))}));var l=s[n],c=a[n];t.setYScaleForIndex(r,l,c)})),this.sameScaleInMultipleAxes(s,a,o)}},{key:"sameScaleInMultipleAxes",value:function(t,e,i){var s=this,a=this.w.config,o=this.w.globals,r=[];i.forEach((function(t){t.alreadyExists&&(void 0===r[t.index]&&(r[t.index]=[]),r[t.index].push(t.index),r[t.index].push(t.similarIndex))})),o.yAxisSameScaleIndices=r,r.forEach((function(t,e){r.forEach((function(i,s){var a,o;e!==s&&(a=t,o=i,a.filter((function(t){return-1!==o.indexOf(t)}))).length>0&&(r[e]=r[e].concat(r[s]))}))}));var n=r.map((function(t){return t.filter((function(e,i){return t.indexOf(e)===i}))})).map((function(t){return t.sort()}));r=r.filter((function(t){return!!t}));var l=n.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var d=[],h=[];t.forEach((function(t,i){l.forEach((function(s,a){s.indexOf(i)>-1&&(void 0===d[a]&&(d[a]=[],h[a]=[]),d[a].push({key:i,value:t}),h[a].push({key:i,value:e[i]}))}))}));var u=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),m=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);d.forEach((function(t,e){t.forEach((function(t,i){u[e]=Math.min(t.value,u[e])}))})),h.forEach((function(t,e){t.forEach((function(t,i){m[e]=Math.max(t.value,m[e])}))})),t.forEach((function(t,e){h.forEach((function(t,i){var r=u[i],n=m[i];a.chart.stacked&&(n=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(n+=t.value),r!==Number.MIN_VALUE&&(r+=d[i][e].value)}))),t.forEach((function(i,l){t[l].key===e&&(void 0!==a.yaxis[e].min&&(r="function"==typeof a.yaxis[e].min?a.yaxis[e].min(o.minY):a.yaxis[e].min),void 0!==a.yaxis[e].max&&(n="function"==typeof a.yaxis[e].max?a.yaxis[e].max(o.maxY):a.yaxis[e].max),s.setYScaleForIndex(e,r,n))}))}))}))}},{key:"autoScaleY",value:function(t,e,i){t||(t=this);var s=t.w;if(s.globals.isMultipleYAxis||s.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var a=s.globals.seriesX[0],o=s.config.chart.stacked;return e.forEach((function(t,r){for(var n=0,l=0;l<a.length;l++)if(a[l]>=i.xaxis.min){n=l;break}var c,d,h=s.globals.minYArr[r],u=s.globals.maxYArr[r],m=s.globals.stackedSeriesTotals;s.globals.series.forEach((function(r,l){var p=r[n];o?(p=m[n],c=d=p,m.forEach((function(t,e){a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min&&(t>d&&null!==t&&(d=t),r[e]<c&&null!==r[e]&&(c=r[e]))}))):(c=d=p,r.forEach((function(t,e){if(a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min){var o=t,r=t;s.globals.series.forEach((function(i,s){null!==t&&(o=Math.min(i[e],o),r=Math.max(i[e],r))})),r>d&&null!==r&&(d=r),o<c&&null!==o&&(c=o)}}))),void 0===c&&void 0===d&&(c=h,d=u),d*=d<0?.9:1.1,0===(c*=c<0?1.1:.9)&&0===d&&(c=-1,d=1),d<0&&d<u&&(d=u),c<0&&c>h&&(c=h),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?d:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?d:t.max)}))})),e}}]),t}(),Q=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.scales=new J(e)}return c(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,o=this.w.globals,r=-Number.MAX_VALUE,n=Number.MIN_VALUE;null===s&&(s=t+1);var l=o.series,c=l,d=l;"candlestick"===a.chart.type?(c=o.seriesCandleL,d=o.seriesCandleH):"boxPlot"===a.chart.type?(c=o.seriesCandleO,d=o.seriesCandleC):o.isRangeData&&(c=o.seriesRangeStart,d=o.seriesRangeEnd);for(var h=t;h<s;h++){o.dataPoints=Math.max(o.dataPoints,l[h].length),o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(t){return void 0!==t})).length);for(var u=0;u<o.series[h].length;u++){var m=l[h][u];null!==m&&x.isNumber(m)?(void 0!==d[h][u]&&(r=Math.max(r,d[h][u]),e=Math.min(e,d[h][u])),void 0!==c[h][u]&&(e=Math.min(e,c[h][u]),i=Math.max(i,c[h][u])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==o.seriesCandleC[h][u]&&(r=Math.max(r,o.seriesCandleO[h][u]),r=Math.max(r,o.seriesCandleH[h][u]),r=Math.max(r,o.seriesCandleL[h][u]),r=Math.max(r,o.seriesCandleC[h][u]),"boxPlot"===this.w.config.chart.type&&(r=Math.max(r,o.seriesCandleM[h][u]))),!a.series[h].type||"candlestick"===a.series[h].type&&"boxPlot"===a.series[h].type&&"rangeArea"===a.series[h].type&&"rangeBar"===a.series[h].type||(r=Math.max(r,o.series[h][u]),e=Math.min(e,o.series[h][u])),i=r),o.seriesGoals[h]&&o.seriesGoals[h][u]&&Array.isArray(o.seriesGoals[h][u])&&o.seriesGoals[h][u].forEach((function(t){n!==Number.MIN_VALUE&&(n=Math.min(n,t.value),e=n),r=Math.max(r,t.value),i=r})),x.isFloat(m)&&(m=x.noExponents(m),o.yValueDecimal=Math.max(o.yValueDecimal,m.toString().split(".")[1].length)),n>c[h][u]&&c[h][u]<0&&(n=c[h][u])):o.hasNullValues=!0}}return"rangeBar"===a.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(n=e),"bar"===a.chart.type&&(n<0&&r<0&&(r=0),n===Number.MIN_VALUE&&(n=0)),{minY:n,maxY:r,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var s=0;s<t.series.length;s++){var a=this.getMinYMaxY(s,i,null,s+1);t.minYArr.push(a.minY),t.maxYArr.push(a.maxY),i=a.lowestY}var o=this.getMinYMaxY(0,i,null,t.series.length);if(t.minY=o.minY,t.maxY=o.maxY,i=o.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==t.maxY){var r=t.maxY-i;(i>=0&&i<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(r=0),t.minY=i-5*r/100,i>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*r/100}return e.yaxis.forEach((function(e,i){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[i]=e.max:"function"==typeof e.max&&(t.maxYArr[i]=e.max(t.isMultipleYAxis?t.maxYArr[i]:t.maxY)),t.maxY=t.maxYArr[i]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[i]=e.min:"function"==typeof e.min&&(t.minYArr[i]=e.min(t.isMultipleYAxis?t.minYArr[i]===Number.MIN_VALUE?0:t.minYArr[i]:t.minY)),t.minY=t.minYArr[i])})),t.isBarHorizontal&&["min","max"].forEach((function(i){void 0!==e.xaxis[i]&&"number"==typeof e.xaxis[i]&&("min"===i?t.minY=e.xaxis[i]:t.maxY=e.xaxis[i])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=i,t.yAxisScale.forEach((function(e,i){t.minYArr[i]=e.niceMin,t.maxYArr[i]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var i=0;i<t.labels[e].length;i++)null!==t.labels[e][i]&&x.isNumber(t.labels[e][i])&&(t.maxX=Math.max(t.maxX,t.labels[e][i]),t.initialMaxX=Math.max(t.maxX,t.labels[e][i]),t.minX=Math.min(t.minX,t.labels[e][i]),t.initialMinX=Math.min(t.minX,t.labels[e][i]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var s;if(void 0===e.xaxis.tickAmount?(s=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(s=t.dataPoints-1),s>t.dataPoints&&0!==t.dataPoints&&(s=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(s=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(s=t.maxX-t.minX-1)):s=e.xaxis.tickAmount,t.xTickAmount=s,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var a=[],o=t.minX-1;o<t.maxX;o++)a.push(o+1);t.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,s,s),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,s-1),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&x.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new M(this.ctx);if("datetime"===e.xaxis.type){var s=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),t.minX=new Date(s).getTime();var a=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),t.maxX=new Date(a).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var s=e.slice();s.sort((function(t,e){return t-e})),s.forEach((function(e,i){if(i>0){var a=e-s[i-1];a>0&&(t.minXDiff=Math.min(a,t.minXDiff))}})),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++)for(var a=0,o=0,r=0;r<t.series.length;r++)null!==t.series[r][s]&&x.isNumber(t.series[r][s])&&(t.series[r][s]>0?a=a+parseFloat(t.series[r][s])+1e-4:o+=parseFloat(t.series[r][s])),r===t.series.length-1&&(e.push(a),i.push(o));for(var n=0;n<e.length;n++)t.maxY=Math.max(t.maxY,e[n]),t.minY=Math.min(t.minY,i[n])}}]),t}(),Z=function(){function t(e,i){n(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===s.config.xaxis.position&&(this.xAxisoffX=s.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(e)}return c(t,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,s=new k(this.ctx),a=i.config.yaxis[t].labels.style,o=a.fontSize,r=a.fontFamily,n=a.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return l;var c=s.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var d=i.globals.yAxisScale[t].result.length-1,h=i.globals.gridHeight/d,u=i.globals.translateY,m=i.globals.yLabelFormatters[t],p=i.globals.yAxisScale[t].result.slice();p=this.axesUtils.checkForReversedLabels(t,p);var f="";if(i.config.yaxis[t].labels.show)for(var g=function(l){var g=p[l];g=m(g,l,i);var v=i.config.yaxis[t].labels.padding;i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(v*=-1);var b=e.axesUtils.getYAxisForeColor(a.colors,t),y=s.drawText({x:v,y:u+d/10+i.config.yaxis[t].labels.offsetY+1,text:g,textAnchor:i.config.yaxis[t].opposite?"start":"end",fontSize:o,fontFamily:r,fontWeight:n,maxWidth:i.config.yaxis[t].labels.maxWidth,foreColor:Array.isArray(b)?b[l]:b,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});l===d&&(f=y),c.add(y);var x=document.createElementNS(i.globals.SVGNS,"title");if(x.textContent=Array.isArray(g)?g.join(" "):g,y.node.appendChild(x),0!==i.config.yaxis[t].labels.rotate){var w=s.rotateAroundCenter(f.node),C=s.rotateAroundCenter(y.node);y.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(w.x," ").concat(C.y,")"))}u+=h},v=d;v>=0;v--)g(v);if(void 0!==i.config.yaxis[t].title.text){var b=s.group({class:"apexcharts-yaxis-title"}),y=0;i.config.yaxis[t].opposite&&(y=i.globals.translateYAxisX[t]);var x=s.drawText({x:y,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass});b.add(x),l.add(b)}var w=i.config.yaxis[t].axisBorder,C=31+w.offsetX;if(i.config.yaxis[t].opposite&&(C=-31-w.offsetX),w.show){var S=s.drawLine(C,i.globals.translateY+w.offsetY-2,C,i.globals.gridHeight+i.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(S)}return i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(C,d,w,i.config.yaxis[t].axisTicks,t,h,l),l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new k(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);var o=e.globals.yAxisScale[t].result.length-1,r=e.globals.gridWidth/o+.1,n=r+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),d=e.globals.timescaleLabels;d.length>0&&(this.xaxisLabels=d.slice(),o=(c=d.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var h=d.length;if(e.config.xaxis.labels.show)for(var u=h?0:o;h?u<h:u>=0;h?u++:u--){var m=c[u];m=l(m,u,e);var p=e.globals.gridWidth+e.globals.padHorizontal-(n-r+e.config.xaxis.labels.offsetX);if(d.length){var f=this.axesUtils.getLabel(c,d,p,u,this.drawnLabels,this.xaxisFontSize);p=f.x,m=f.text,this.drawnLabels.push(f.text),0===u&&e.globals.skipFirstTimelinelabel&&(m=""),u===c.length-1&&e.globals.skipLastTimelinelabel&&(m="")}var g=i.drawText({x:p,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:m,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});a.add(g),g.tspan(m);var v=document.createElementNS(e.globals.SVGNS,"title");v.textContent=m,g.node.appendChild(v),n+=r}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new k(this.ctx),s=e.config.xaxis.axisBorder;if(s.show){var a=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(a-=15);var o=i.drawLine(e.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(o):t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new k(this.ctx);if(void 0!==e.config.xaxis.title.text){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});s.add(a),t.add(s)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,s=new k(this.ctx),a={width:0,height:0},o={width:0,height:0},r=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==r&&(a=r.getBoundingClientRect());var n=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==n&&(o=n.getBoundingClientRect()),null!==n){var l=this.xPaddingForYAxisTitle(t,a,o,e);n.setAttribute("x",l.xPos-(e?10:0))}if(null!==n){var c=s.rotateAroundCenter(n);n.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,s){var a=this.w,o=0,r=0,n=10;return void 0===a.config.yaxis[t].title.text||t<0?{xPos:r,padd:0}:(s?(r=e.width+a.config.yaxis[t].title.offsetX+i.width/2+n/2,0===(o+=1)&&(r-=n/2)):(r=-1*e.width+a.config.yaxis[t].title.offsetX+n/2+i.width/2,a.globals.isBarHorizontal&&(n=25,r=-1*e.width-a.config.yaxis[t].title.offsetX-n)),{xPos:r,padd:n})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,s=0,a=0,o=18,r=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map((function(n,l){var c=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!n.show||n.floating||0===t[l].width,d=t[l].width+e[l].width;n.opposite?i.globals.isBarHorizontal?(a=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[l]=a-n.labels.offsetX):(a=i.globals.gridWidth+i.globals.translateX+r,c||(r=r+d+20),i.globals.translateYAxisX[l]=a-n.labels.offsetX+20):(s=i.globals.translateX-o,c||(o=o+d+20),i.globals.translateYAxisX[l]=s+n.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=x.listToArray(e)).forEach((function(e,i){var s=t.config.yaxis[i];if(s&&void 0!==s.labels.align){var a=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"));o=x.listToArray(o);var r=a.getBoundingClientRect();"left"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","start")})),s.opposite||a.setAttribute("transform","translate(-".concat(r.width,", 0)"))):"center"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),a.setAttribute("transform","translate(".concat(r.width/2*(s.opposite?1:-1),", 0)"))):"right"===s.labels.align&&(o.forEach((function(t,e){t.setAttribute("text-anchor","end")})),s.opposite&&a.setAttribute("transform","translate(".concat(r.width,", 0)")))}}))}}]),t}(),K=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.documentEvent=x.bind(this.documentEvent,this)}return c(t,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var s=i.globals.events[t].indexOf(e);-1!==s&&i.globals.events[t].splice(s,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var s=i.globals.events[t],a=s.length,o=0;o<a;o++)s[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,s=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){s.addEventListener(t,(function(t){var s=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,i,s):"mouseleave"===t.type||"touchleave"===t.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(t,i,s):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,i,s),i.ctx.events.fireEvent("click",[t,i,s]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){e.globals.dom.baseEl.addEventListener(i,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var s=e.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&s.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),tt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(e){return e.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=x.extend(P,i);this.w.globals.locale=s.options}}]),t}(),et=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawAxis",value:function(t,e){var i,s,a=this.w.globals,o=this.w.config,r=new G(this.ctx,e),n=new Z(this.ctx,e);a.axisCharts&&"radar"!==t&&(a.isBarHorizontal?(s=n.drawYaxisInversed(0),i=r.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(s)):(i=r.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map((function(t,e){-1===a.ignoreYAxisIndexes.indexOf(e)&&(s=n.drawYaxis(e),a.dom.Paper.add(s))}))))}}]),t}(),it=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new k(this.ctx),i=new C(this.ctx),s=t.config.xaxis.crosshairs.fill.gradient,a=t.config.xaxis.crosshairs.dropShadow,o=t.config.xaxis.crosshairs.fill.type,r=s.colorFrom,n=s.colorTo,l=s.opacityFrom,c=s.opacityTo,d=s.stops,h=a.enabled,u=a.left,m=a.top,p=a.blur,f=a.color,g=a.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===o&&(v=e.drawGradient("vertical",r,n,l,c,null,d,null));var b=e.drawRect();1===t.config.xaxis.crosshairs.width&&(b=e.drawLine());var y=t.globals.gridHeight;(!x.isNumber(y)||y<0)&&(y=0);var w=t.config.xaxis.crosshairs.width;(!x.isNumber(w)||w<0)&&(w=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:y,width:w,height:y,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),h&&(b=i.dropShadow(b,{left:u,top:m,blur:p,color:f,opacity:g})),t.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new k(this.ctx),i=t.config.yaxis[0].crosshairs,s=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var a=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(a)}var o=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),t}(),st=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,s=i.config;if(0!==s.responsive.length){var a=s.responsive.slice();a.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var o=new O({}),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a[0].breakpoint,r=window.innerWidth>0?window.innerWidth:screen.width;if(r>s){var n=S.extendArrayProps(o,i.globals.initialConfig,i);t=x.extend(n,t),t=x.extend(i.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<a.length;l++)r<a[l].breakpoint&&(t=S.extendArrayProps(o,a[l].options,i),t=x.extend(i.config,t),e.overrideResponsiveOptions(t))};if(t){var n=S.extendArrayProps(o,t,i);n=x.extend(i.config,n),r(n=x.extend(n,t))}else r({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new O(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),at=function(){function t(e){n(this,t),this.ctx=e,this.colors=[],this.w=e.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===i.config.chart.type&&i.config.plotOptions.treemap.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)}return c(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,i=new x;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(i,s){var a=e.config.colors[s];return a||(a=e.config.colors[0]),"function"==typeof a?(t.isColorFn=!0,a({value:e.globals.axisCharts?e.globals.series[s][0]?e.globals.series[s][0]:0:e.globals.series[s],seriesIndex:s,dataPointIndex:s,w:e})):a})))),e.globals.seriesColors.map((function(t,i){t&&(e.globals.colors[i]=t)})),e.config.theme.monochrome.enabled){var s=[],a=e.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=e.globals.series[0].length*e.globals.series.length);for(var o=e.config.theme.monochrome.color,r=1/(a/e.config.theme.monochrome.shadeIntensity),n=e.config.theme.monochrome.shadeTo,l=0,c=0;c<a;c++){var d=void 0;"dark"===n?(d=i.shadeColor(-1*l,o),l+=r):(d=i.shadeColor(l,o),l+=r),s.push(d)}e.globals.colors=s.slice()}var h=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(i){void 0===e.config[i].colors?e.globals[i].colors=t.isColorFn?e.config.colors:h:e.globals[i].colors=e.config[i].colors.slice(),t.pushExtraColors(e.globals[i].colors)})),void 0===e.config.dataLabels.style.colors?e.globals.dataLabels.style.colors=h:e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),void 0===e.config.plotOptions.radar.polygons.fill.colors?e.globals.radarPolygons.fill.colors=["dark"===e.config.theme.mode?"#424242":"none"]:e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),void 0===e.config.markers.colors?e.globals.markers.colors=h:e.globals.markers.colors=e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=e||s.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),t.length<a)for(var o=a-t.length,r=0;r<o;r++)t.push(t[r])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",s=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=s,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),t}(),ot=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,s=e.globals.svgWidth/2,a=i.offsetY,o="middle";if("left"===i.align?(s=10,o="start"):"right"===i.align&&(s=e.globals.svgWidth-10,o="end"),s+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var r=new k(this.ctx).drawText({x:s,y:a,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});r.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(r)}}}]),t}(),rt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,s=0,a="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!a){var r=o.getBoundingClientRect();i=r.width,s=e.globals.axisCharts?r.height+5:r.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},x.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var s=e.map((function(t,e){return Array.isArray(t)?t.length:1})),a=Math.max.apply(Math,v(s));i=e[s.indexOf(a)]}return i}}]),t}(),nt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();t={width:s.width,height:s.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var a=e.globals.xLabelFormatter,o=x.getLargestStringFromArr(i),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);e.globals.isBarHorizontal&&(r=o=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var n=new j(this.dCtx.ctx),l=o;o=n.xLabelFormat(a,o,l,{i:void 0,dateFormatter:new M(this.dCtx.ctx).formatDate,w:e}),r=n.xLabelFormat(a,r,l,{i:void 0,dateFormatter:new M(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(r=o="1");var c=new k(this.dCtx.ctx),d=c.getTextRects(o,e.config.xaxis.labels.style.fontSize),h=d;if(o!==r&&(h=c.getTextRects(r,e.config.xaxis.labels.style.fontSize)),(t={width:d.width>=h.width?d.width:h.width,height:d.height>=h.height?d.height:h.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var u=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};d=u(o),o!==r&&(h=u(r)),t.height=(d.height>h.height?d.height:h.height)/1.5,t.width=d.width>h.width?d.width:h.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasGroups)return{width:0,height:0};var i,s=(null===(t=e.config.xaxis.group.style)||void 0===t?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,a=e.globals.groups.map((function(t){return t.title})),o=x.getLargestStringFromArr(a),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,a),n=new k(this.dCtx.ctx),l=n.getTextRects(o,s),c=l;return o!==r&&(c=n.getTextRects(r,s)),i={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var s=new k(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=s.width,i=s.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(t){return t.value})),s=i.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new k(this.dCtx.ctx).getTextRects(s,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,s=i.globals,a=i.config,o=a.xaxis.type,r=t.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var n=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,l=function(t,n){(function(t){return-1!==s.collapsedSeriesIndices.indexOf(t)})(n)||function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var n=e.dCtx.timescaleLabels[0],l=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+r/1.75-e.dCtx.yAxisWidthRight,c=n.position-r/1.75+e.dCtx.yAxisWidthLeft,d="right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;l>s.svgWidth-s.translateX-d&&(s.skipLastTimelinelabel=!0),c<-(t.show&&!t.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:r/1.75)&&(s.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<r&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<r/2-e.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(e.dCtx.xPadRight=r/2+1)}(t)};a.yaxis.forEach((function(t,i){n?(e.dCtx.gridPad.left<r&&(e.dCtx.xPadLeft=r/2+1),e.dCtx.xPadRight=r/2+1):l(t,i)}))}}]),t}(),lt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],s=10,a=new X(this.dCtx.ctx);return e.config.yaxis.map((function(o,r){var n=e.globals.yAxisScale[r],l=0;if(!a.isYAxisHidden(r)&&o.labels.show&&void 0!==o.labels.minWidth&&(l=o.labels.minWidth),!a.isYAxisHidden(r)&&o.labels.show&&n.result.length){var c=e.globals.yLabelFormatters[r],d=n.niceMin===Number.MIN_VALUE?0:n.niceMin,h=String(d).length>String(n.niceMax).length?d:n.niceMax,u=c(h,{seriesIndex:r,dataPointIndex:-1,w:e}),m=u;if(void 0!==u&&0!==u.length||(u=h),e.globals.isBarHorizontal){s=0;var p=e.globals.labels.slice();u=c(u=x.getLargestStringFromArr(p),{seriesIndex:r,dataPointIndex:-1,w:e}),m=t.dCtx.dimHelpers.getLargestStringFromMultiArr(u,p)}var f=new k(t.dCtx.ctx),g="rotate(".concat(o.labels.rotate," 0 0)"),v=f.getTextRects(u,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1),b=v;u!==m&&(b=f.getTextRects(m,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1)),i.push({width:(l>b.width||l>v.width?l:b.width>v.width?b.width:v.width)+s,height:b.height>v.height?b.height:v.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(e,s){if(e.show&&void 0!==e.title.text){var a=new k(t.dCtx.ctx),o="rotate(".concat(e.title.rotate," 0 0)"),r=a.getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,o,!1);i.push({width:r.width,height:r.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,s=0,a=t.globals.yAxisScale.length>1?10:0,o=new X(this.dCtx.ctx),r=function(r,n){var l=t.config.yaxis[n].floating,c=0;r.width>0&&!l?(c=r.width+a,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(n)&&(c=c-r.width-a)):c=l||o.isYAxisHidden(n)?0:5,t.config.yaxis[n].opposite?s+=c:i+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){r(t,e)})),t.globals.yTitleCoords.map((function(t,e){r(t,e)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,e}}]),t}(),ct=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=function(t){return"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t},s=e.config.chart.type,a=0,o=i(s)?e.config.series.length:1;if(e.globals.comboBarCount>0&&(o=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){i(t.type)&&(o-=1)})),e.config.chart.stacked&&(o=1),(i(s)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&o>0){var r,n,l=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);l<=3&&(l=e.globals.dataPoints),r=l/t,e.globals.minXDiff&&e.globals.minXDiff/r>0&&(n=e.globals.minXDiff/r),n>t/2&&(n/=2),(a=n/o*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),a=a/(o>1?1:1.5)+5,e.globals.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,s=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(i){void 0!==e.config[i].text?s+=e.config[i].margin:s+=t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||e.globals.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-a.height-o.height-s,i.translateY=i.translateY+a.height+o.height+s}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,s=new X(this.dCtx.ctx);i.config.yaxis.map((function(a,o){-1!==i.globals.ignoreYAxisIndexes.indexOf(o)||a.floating||s.isYAxisHidden(o)||(a.opposite&&(i.globals.translateX=i.globals.translateX-(e[o].width+t[o].width)-parseInt(i.config.yaxis[o].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),t}(),dt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rt(this),this.dimYAxis=new lt(this),this.dimXAxis=new nt(this),this.dimGrid=new ct(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(t,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(e){var i=g(e,2),s=i[0],a=i[1];t.gridPad[s]=Math.max(a,t.w.globals.markers.largestSize/1.5)})),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s+4:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,i){e.globals.yLabelsCoords.push({width:s[i].width,index:i}),e.globals.yTitleCoords.push({width:a[i].width,index:i})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),r=this.dimXAxis.getxAxisGroupLabelsCoords(),n=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,n,r),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-n.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var d=10;("radar"===e.config.chart.type||this.isSparkline)&&(l=0,c=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(l=0,c=0,d=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(o);var h=function(){i.translateX=l,i.gridHeight=i.svgHeight-t.lgRect.height-c-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-l};switch("top"===e.config.xaxis.position&&(d=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=d,h();break;case"top":i.translateY=this.lgRect.height+d,h();break;case"left":i.translateY=d,i.translateX=this.lgRect.width+l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l;break;case"right":i.translateY=d,i.translateX=l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new Z(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,s=0;t.config.legend.show&&!t.config.legend.floating&&(s=20);var a="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",o=i.plotOptions[a].offsetY,r=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=o,void(e.translateX=r+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=o-10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+o+10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-s,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+this.lgRect.width+s;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-s-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var s=this.w,a=s.globals.hasGroups?2:1,o=i.height+t.height+e.height,r=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,n=s.globals.rotateXLabels?22:10,l=s.globals.rotateXLabels&&"bottom"===s.config.legend.position?10:0;this.xAxisHeight=o*r+a*n+l,this.xAxisWidth=t.width,this.xAxisHeight-e.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,d=0;s.config.yaxis.forEach((function(t){c+=t.labels.minWidth,d+=t.labels.maxWidth})),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),t}(),ht=function(){function t(e){n(this,t),this.w=e.w,this.lgCtx=e}return c(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,s=this.w;if(s.globals.axisCharts||"radialBar"===s.config.chart.type){s.globals.resized=!0;var a=null,o=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(a.getAttribute("rel"),10)-1),e?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){i.riseCollapsedSeries(t.cs,t.csi,o)})):this.hideSeries({seriesEl:a,realIndex:o})}else{var r=s.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),n=s.config.chart.type;if("pie"===n||"polarArea"===n||"donut"===n){var l=s.config.plotOptions.pie.donut.labels;new k(this.lgCtx.ctx).pathMouseDown(r.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(r.members[0].node,l)}r.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,s=this.w,a=x.clone(s.config.series);if(s.globals.axisCharts){var o=!1;if(s.config.yaxis[i]&&s.config.yaxis[i].show&&s.config.yaxis[i].showAlways&&(o=!0,s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(s.globals.ancillaryCollapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.ancillaryCollapsedSeriesIndices.push(i))),!o){s.globals.collapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.collapsedSeriesIndices.push(i);var r=s.globals.risingSeries.indexOf(i);s.globals.risingSeries.splice(r,1)}}else s.globals.collapsedSeries.push({index:i,data:a[i]}),s.globals.collapsedSeriesIndices.push(i);for(var n=e.childNodes,l=0;l<n.length;l++)n[l].classList.contains("apexcharts-series-markers-wrap")&&(n[l].classList.contains("apexcharts-hide")?n[l].classList.remove("apexcharts-hide"):n[l].classList.add("apexcharts-hide"));s.globals.allSeriesCollapsed=s.globals.collapsedSeries.length===s.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var s=this.w,a=x.clone(s.config.series);if(t.length>0){for(var o=0;o<t.length;o++)t[o].index===i&&(s.globals.axisCharts?(a[i].data=t[o].data.slice(),t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)):(a[i]=t[o].data,t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w;return e.globals.axisCharts?t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s].data=[])})):t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s]=0)})),t}}]),t}(),ut=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ht(this)}return c(t,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),x.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,s=e.globals.seriesNames,a=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var o=e.config.plotOptions.heatmap.colorScale.ranges;s=o.map((function(t){return t.name?t.name:t.from+" - "+t.to})),a=o.map((function(t){return t.color}))}else this.isBarsDistributed&&(s=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(s=e.config.legend.customLegendItems);for(var r=e.globals.legendFormatter,n=e.config.legend.inverseOrder,l=n?s.length-1:0;n?l>=0:l<=s.length-1;n?l--:l++){var c=r(s[l],{seriesIndex:l,w:e}),d=!1,h=!1;if(e.globals.collapsedSeries.length>0)for(var u=0;u<e.globals.collapsedSeries.length;u++)e.globals.collapsedSeries[u].index===l&&(d=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var m=0;m<e.globals.ancillaryCollapsedSeriesIndices.length;m++)e.globals.ancillaryCollapsedSeriesIndices[m]===l&&(h=!0);var p=document.createElement("span");p.classList.add("apexcharts-legend-marker");var f=e.config.legend.markers.offsetX,g=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,b=e.config.legend.markers.width,y=e.config.legend.markers.strokeWidth,w=e.config.legend.markers.strokeColor,C=e.config.legend.markers.radius,A=p.style;A.background=a[l],A.color=a[l],A.setProperty("background",a[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(A.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(A.background=e.globals.seriesColors[l],A.color=e.globals.seriesColors[l]),A.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",A.width=Array.isArray(b)?parseFloat(b[l])+"px":parseFloat(b)+"px",A.left=(Array.isArray(f)?parseFloat(f[l]):parseFloat(f))+"px",A.top=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",A.borderWidth=Array.isArray(y)?y[l]:y,A.borderColor=Array.isArray(w)?w[l]:w,A.borderRadius=Array.isArray(C)?parseFloat(C[l])+"px":parseFloat(C)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(p.innerHTML=e.config.legend.markers.customHTML[l]()):p.innerHTML=e.config.legend.markers.customHTML()),k.setAttrs(p,{rel:l+1,"data:collapsed":d||h}),(d||h)&&p.classList.add("apexcharts-inactive-legend");var I=document.createElement("div"),L=document.createElement("span");L.classList.add("apexcharts-legend-text"),L.innerHTML=Array.isArray(c)?c.join(" "):c;var T=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;T||(T=e.config.chart.foreColor),L.style.color=T,L.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",L.style.fontWeight=e.config.legend.fontWeight,L.style.fontFamily=i||e.config.chart.fontFamily,k.setAttrs(L,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":d||h}),I.appendChild(p),I.appendChild(L);var P=new S(this.ctx);e.config.legend.showForZeroSeries||0===P.getSeriesTotalByIndex(l)&&P.seriesHaveSameValues(l)&&!P.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&I.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||P.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&I.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(I),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),I.classList.add("apexcharts-legend-series"),I.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",k.setAttrs(I,{rel:l+1,seriesName:x.escapeString(s[l]),"data:collapsed":d||h}),(d||h)&&I.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||I.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,s=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),a=s.getBoundingClientRect(),o=0,r=0;if("bottom"===i.config.legend.position)r+=i.globals.svgHeight-a.height/2;else if("top"===i.config.legend.position){var n=new dt(this.ctx),l=n.dimHelpers.getTitleSubtitleCoords("title").height,c=n.dimHelpers.getTitleSubtitleCoords("subtitle").height;r=r+(l>0?l-10:0)+(c>0?c-10:0)}s.style.position="absolute",o=o+t+i.config.legend.offsetX,r=r+e+i.config.legend.offsetY,s.style.left=o+"px",s.style.top=r+"px","bottom"===i.config.legend.position?(s.style.top="auto",s.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(t){s.style[t]&&(s.style[t]=parseInt(i.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new dt(this.ctx),s=i.dimHelpers.getTitleSubtitleCoords("title"),a=i.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===t.config.legend.position?o=-e.clwh/1.8:"top"===t.config.legend.position&&(o=s.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var s=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new H(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new H(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,s="true"===t.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&t.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),t}(),mt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return c(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=e.config.chart.toolbar.offsetY+"px",s.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var o=[],r=function(i,s,a){var r=i.toLowerCase();t.t[r]&&e.config.chart.zoom.enabled&&o.push({el:s,icon:"string"==typeof t.t[r]?t.t[r]:a,title:t.localeValues[i],class:"apexcharts-".concat(r,"-icon")})};r("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),r("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var n=function(i){t.t[i]&&e.config.chart[i].enabled&&o.push({el:"zoom"===i?t.elZoom:t.elSelection,icon:"string"==typeof t.t[i]?t.t[i]:"zoom"===i?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===i?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(i,"-icon")})};n("zoom"),n("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),r("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)o.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});o.forEach((function(t,e){t.index&&x.moveIndexInArray(o,e,t.index)}));for(var c=0;c<o.length;c++)k.setAttrs(o[c].el,{class:o[c].class,title:o[c].title}),o[c].el.innerHTML=o[c].icon,s.appendChild(o[c].el);this._createHamburgerMenu(s),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),k.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,k.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,s="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[s]=!e.w.globals[s],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,s=(this.maxX+e)/2,a=this._getNewMinXMaxX(i,s);t.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),s=this.maxX-(e-this.maxX),a=this._getNewMinXMaxX(i,s);t.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var s={min:t,max:e},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var o={xaxis:s},r=x.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(r=new J(this.ctx).autoScaleY(this.ctx,r,{xaxis:s})),i.config.chart.group||(o.yaxis=r),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,r)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new Y(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(x.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(s,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),pt=function(t){h(i,mt);var e=f(i);function i(t){var s;return n(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.dragged=!1,s.graphics=new k(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s}return c(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,s=this.w,a=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.elGraphical.add(this.zoomRect),s.globals.dom.elGraphical.add(this.selectionRect),"x"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,a.svgMouseEvents.bind(a,i),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,s=this,a=this.ctx.toolbar,o=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,r=i.config.chart.toolbar.autoSelected;if(e.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar("pan"===r?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(r),this.shiftWasPressed=!1),e.target){var n,l=e.target.classList;if(e.target.parentNode&&null!==e.target.parentNode&&(n=e.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||n&&n.contains("apexcharts-toolbar"))){if(s.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,s.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var c=s.gridRect.getBoundingClientRect();s.startX=s.clientX-c.left,s.startY=s.clientY-c.top,s.dragged=!1,s.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(s.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,s.w.globals.mousedown&&s.panDragging({context:s,zoomtype:o,xyRatios:t})):(s.w.globals.mousedown&&i.globals.zoomEnabled||s.w.globals.mousedown&&i.globals.selectionEnabled)&&(s.selection=s.selectionDrawing({context:s,zoomtype:o}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var d=s.gridRect.getBoundingClientRect();s.w.globals.mousedown&&(s.endX=s.clientX-d.left,s.endY=s.clientY-d.top,s.dragX=Math.abs(s.endX-s.startX),s.dragY=Math.abs(s.endY-s.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&s.selectionDrawn({context:s,zoomtype:o}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&s.delayedPanScrolled()),i.globals.zoomEnabled&&s.hideSelectionRect(this.selectionRect),s.dragged=!1,s.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,s={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(s),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,s=t.width,a=t.height,o=t.translateX,r=void 0===o?0:o,n=t.translateY,l=void 0===n?0:n,c=this.w,d=this.zoomRect,h=this.selectionRect;if(this.dragged||null!==c.globals.selection){var u={transform:"translate("+r+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),d.attr({x:e,y:i,width:s,height:a,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),k.setAttrs(d.node,u)),c.globals.selectionEnabled&&(h.attr({x:e,y:i,width:s>0?s:0,height:a>0?a:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),k.setAttrs(h.node,u))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.gridRect.getBoundingClientRect(),r=a.startX-1,n=a.startY,l=!1,c=!1,d=a.clientX-o.left-r,h=a.clientY-o.top-n,u={};return Math.abs(d+r)>s.globals.gridWidth?d=s.globals.gridWidth-r:a.clientX-o.left<0&&(d=r),r>a.clientX-o.left&&(l=!0,d=Math.abs(d)),n>a.clientY-o.top&&(c=!0,h=Math.abs(h)),u="x"===i?{x:l?r-d:r,y:0,width:d,height:s.globals.gridHeight}:"y"===i?{x:0,y:c?n-h:n,width:s.globals.gridWidth,height:h}:{x:l?r-d:r,y:c?n-h:n,width:d,height:h},a.drawSelectionRect(u),a.selectionDragging("resizing"),u}},{key:"selectionDragging",value:function(t,e){var i=this,s=this.w,a=this.xyRatios,o=this.selectionRect,r=0;"resizing"===t&&(r=30);var n=function(t){return parseFloat(o.node.getAttribute(t))},l={x:n("x"),y:n("y"),width:n("width"),height:n("height")};s.globals.selection=l,"function"==typeof s.config.chart.events.selection&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=i.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect(),r={xaxis:{min:s.globals.xAxisScale.niceMin+(e.left-t.left)*a.xRatio,max:s.globals.xAxisScale.niceMin+(e.right-t.left)*a.xRatio},yaxis:{min:s.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*a.yRatio[0],max:s.globals.yAxisScale[0].niceMax-(e.top-t.top)*a.yRatio[0]}};s.config.chart.events.selection(i.ctx,r),s.config.chart.brush.enabled&&void 0!==s.config.chart.events.brushScrolled&&s.config.chart.events.brushScrolled(i.ctx,r)}),r))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.xyRatios,r=this.ctx.toolbar;if(a.startX>a.endX){var n=a.startX;a.startX=a.endX,a.endX=n}if(a.startY>a.endY){var l=a.startY;a.startY=a.endY,a.endY=l}var c=void 0,d=void 0;s.globals.isRangeBar?(c=s.globals.yAxisScale[0].niceMin+a.startX*o.invertedYRatio,d=s.globals.yAxisScale[0].niceMin+a.endX*o.invertedYRatio):(c=s.globals.xAxisScale.niceMin+a.startX*o.xRatio,d=s.globals.xAxisScale.niceMin+a.endX*o.xRatio);var h=[],u=[];if(s.config.yaxis.forEach((function(t,e){h.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.startY),u.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.endY)})),a.dragged&&(a.dragX>10||a.dragY>10)&&c!==d)if(s.globals.zoomEnabled){var m=x.clone(s.globals.initialConfig.yaxis),p=x.clone(s.globals.initialConfig.xaxis);if(s.globals.zoomed=!0,s.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),d=Math.floor(d),c<1&&(c=1,d=s.globals.dataPoints),d-c<2&&(d=c+1)),"xy"!==i&&"x"!==i||(p={min:c,max:d}),"xy"!==i&&"y"!==i||m.forEach((function(t,e){m[e].min=u[e],m[e].max=h[e]})),s.config.chart.zoom.autoScaleYaxis){var f=new J(a.ctx);m=f.autoScaleY(a.ctx,m,{xaxis:p})}if(r){var g=r.getBeforeZoomRange(p,m);g&&(p=g.xaxis?g.xaxis:p,m=g.yaxis?g.yaxis:m)}var v={xaxis:p};s.config.chart.group||(v.yaxis=m),a.ctx.updateHelpers._updateOptions(v,!1,a.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof s.config.chart.events.zoomed&&r.zoomCallback(p,m)}else if(s.globals.selectionEnabled){var b,y=null;b={min:c,max:d},"xy"!==i&&"y"!==i||(y=x.clone(s.config.yaxis)).forEach((function(t,e){y[e].min=u[e],y[e].max=h[e]})),s.globals.selection=a.selection,"function"==typeof s.config.chart.events.selection&&s.config.chart.events.selection(a.ctx,{xaxis:b,yaxis:y})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,s=e;if(void 0!==i.globals.lastClientPosition.x){var a=i.globals.lastClientPosition.x-s.clientX,o=i.globals.lastClientPosition.y-s.clientY;Math.abs(a)>Math.abs(o)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(o)&&a<0?this.moveDirection="right":Math.abs(o)>Math.abs(a)&&o>0?this.moveDirection="up":Math.abs(o)>Math.abs(a)&&o<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:s.clientX,y:s.clientY};var r=i.globals.isRangeBar?i.globals.minY:i.globals.minX,n=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||s.panScrolled(r,n)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,s=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+s,i=t.globals.maxX+s):"right"===this.moveDirection&&(e=t.globals.minX-s,i=t.globals.maxX-s),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,s=this.xyRatios,a=x.clone(i.globals.initialConfig.yaxis),o=s.xRatio,r=i.globals.minX,n=i.globals.maxX;i.globals.isRangeBar&&(o=s.invertedYRatio,r=i.globals.minY,n=i.globals.maxY),"left"===this.moveDirection?(t=r+i.globals.gridWidth/15*o,e=n+i.globals.gridWidth/15*o):"right"===this.moveDirection&&(t=r-i.globals.gridWidth/15*o,e=n-i.globals.gridWidth/15*o),i.globals.isRangeBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=r,e=n);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(a=new J(this.ctx).autoScaleY(this.ctx,a,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=a),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var s=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof s.config.chart.events.scrolled&&s.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),ft=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return c(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,s=t.clientX,a=t.clientY,o=this.w,r=i.getBoundingClientRect(),n=r.width,l=r.height,c=n/(o.globals.dataPoints-1),d=l/o.globals.dataPoints,h=this.hasBars();!o.globals.comboCharts&&!h||o.config.xaxis.convertedCatToNumeric||(c=n/o.globals.dataPoints);var u=s-r.left-o.globals.barPadForNumericAxis,m=a-r.top;u<0||m<0||u>n||m>l?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var p=Math.round(u/c),f=Math.floor(m/d);h&&!o.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(u/c),p-=1);var g=null,v=null,b=[],y=[];if(o.globals.seriesXvalues.forEach((function(t){b.push([t[0]+1e-6].concat(t))})),o.globals.seriesYvalues.forEach((function(t){y.push([t[0]+1e-6].concat(t))})),b=b.map((function(t){return t.filter((function(t){return x.isNumber(t)}))})),y=y.map((function(t){return t.filter((function(t){return x.isNumber(t)}))})),o.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),C=u*(w.width/n),k=m*(w.height/l);g=(v=this.closestInMultiArray(C,k,b,y)).index,p=v.j,null!==g&&(b=o.globals.seriesXvalues[g],p=(v=this.closestInArray(C,b)).index)}return o.globals.capturedSeriesIndex=null===g?-1:g,(!p||p<1)&&(p=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=f:o.globals.capturedDataPointIndex=p,{capturedSeries:g,j:o.globals.isBarHorizontal?f:p,hoverX:u,hoverY:m}}},{key:"closestInMultiArray",value:function(t,e,i,s){var a=this.w,o=0,r=null,n=-1;a.globals.series.length>1?o=this.getFirstActiveXArray(i):r=0;var l=i[o][0],c=Math.abs(t-l);if(i.forEach((function(e){e.forEach((function(e,i){var s=Math.abs(t-e);s<c&&(c=s,n=i)}))})),-1!==n){var d=s[o][n],h=Math.abs(e-d);r=o,s.forEach((function(t,i){var s=Math.abs(e-t[n]);s<h&&(h=s,r=i)}))}return{index:r,j:n}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,s=t.map((function(t,e){return t.length>0?e:-1})),a=0;a<s.length;a++)if(-1!==s[a]&&-1===e.globals.collapsedSeriesIndices.indexOf(a)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){i=s[a];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],s=null,a=Math.abs(t-i),o=0;o<e.length;o++){var r=Math.abs(t-e[o]);r<a&&(a=r,s=o)}return{index:s}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(i.length>0)for(var s=0;s<i.length-1;s++)void 0!==i[s][t]&&void 0!==i[s+1][t]&&i[s][t]!==i[s+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return v(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=v(t)).sort((function(t,e){var i=Number(t.getAttribute("data:realIndex")),s=Number(e.getAttribute("data:realIndex"));return s<i?1:s>i?-1:0}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,a=0;a<s.length;a++)"enable"===t?(s[a].classList.add("apexcharts-active"),s[a].style.display=e.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),t}(),gt=function(){function t(e){n(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ft(e)}return c(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,s=t.ttItems,a=t.i,o=void 0===a?0:a,r=t.j,n=void 0===r?null:r,l=t.y1,c=t.y2,d=t.e,h=this.w;void 0!==h.config.tooltip.custom?this.handleCustomTooltip({i:o,j:n,y1:l,y2:c,w:h}):this.toggleActiveInactiveSeries(i);var u=this.getValuesToPrint({i:o,j:n});this.printLabels({i:o,j:n,values:u,ttItems:s,shared:i,e:d});var m=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=m.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=m.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,s=t.i,a=t.j,r=t.values,n=t.ttItems,l=t.shared,c=t.e,d=this.w,h=[],u=function(t){return d.globals.seriesGoals[t]&&d.globals.seriesGoals[t][a]&&Array.isArray(d.globals.seriesGoals[t][a])},m=r.xVal,p=r.zVal,f=r.xAxisTTVal,g="",v=d.globals.colors[s];null!==a&&d.config.plotOptions.bar.distributed&&(v=d.globals.colors[a]);for(var b=function(t,r){var b=i.getFormatters(s);g=i.getSeriesName({fn:b.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),"treemap"===d.config.chart.type&&(g=b.yLbTitleFormatter(String(d.config.series[s].data[a].x),{series:d.globals.series,seriesIndex:s,dataPointIndex:a,w:d}));var y=d.config.tooltip.inverseOrder?r:t;if(d.globals.axisCharts){var x=function(t){return b.yLbFormatter(d.globals.series[t][a],{series:d.globals.series,seriesIndex:t,dataPointIndex:a,w:d})};if(l)b=i.getFormatters(y),g=i.getSeriesName({fn:b.yLbTitleFormatter,index:y,seriesIndex:s,j:a}),v=d.globals.colors[y],e=x(y),u(y)&&(h=d.globals.seriesGoals[y][a].map((function(t){return{attrs:t,val:b.yLbFormatter(t.value,{seriesIndex:y,dataPointIndex:a,w:d})}})));else{var w,C=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");C&&(v=-1!==C.indexOf("url")?document.querySelector(C.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):C),e=x(s),u(s)&&Array.isArray(d.globals.seriesGoals[s][a])&&(h=d.globals.seriesGoals[s][a].map((function(t){return{attrs:t,val:b.yLbFormatter(t.value,{seriesIndex:s,dataPointIndex:a,w:d})}})))}}null===a&&(e=b.yLbFormatter(d.globals.series[s],o(o({},d),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:y,j:a,ttItems:n,values:{val:e,goalVals:h,xVal:m,xAxisTTVal:f,zVal:p},seriesName:g,shared:l,pColor:v})},y=0,x=d.globals.series.length-1;y<d.globals.series.length;y++,x--)b(y,x)}},{key:"getFormatters",value:function(t){var e,i=this.w,s=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(s=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof s&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:s,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,s=t.seriesIndex,a=t.j,o=this.w;return e(String(o.globals.seriesNames[i]),{series:o.globals.series,seriesIndex:s,dataPointIndex:a,w:o})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,s=t.ttItems,a=t.values,o=t.seriesName,r=t.shared,n=t.pColor,l=this.w,c=this.ttCtx,d=a.val,h=a.goalVals,u=a.xVal,m=a.xAxisTTVal,p=a.zVal,f=null;f=s[e].children,l.config.tooltip.fillSeriesColor&&(s[e].style.backgroundColor=n,f[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=u),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==m?m:u);var g=s[e].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=o||"");var v=s[e].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==d?d:""),f[0]&&f[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(n=l.config.tooltip.marker.fillColors[e]),f[0].style.backgroundColor=n),l.config.tooltip.marker.show||(f[0].style.display="none");var b=s[e].querySelector(".apexcharts-tooltip-text-goals-label"),y=s[e].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&l.globals.seriesGoals[e]){var x=function(){var t="<div >",e="<div>";h.forEach((function(i,s){t+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(i.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(i.attrs.name,"</div>"),e+="<div>".concat(i.val,"</div>")})),b.innerHTML=t+"</div>",y.innerHTML=e+"</div>"};r?l.globals.seriesGoals[e][i]&&Array.isArray(l.globals.seriesGoals[e][i])?x():(b.innerHTML="",y.innerHTML=""):x()}else b.innerHTML="",y.innerHTML="";null!==p&&(s[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,s[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==p?p:""),r&&f[0]&&(null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||l.globals.collapsedSeriesIndices.indexOf(e)>-1?f[0].parentNode.style.display="none":f[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,s=this.w,a=this.ctx.series.filteredSeriesX(),o="",r="",n=null,l=null,c={series:s.globals.series,seriesIndex:e,dataPointIndex:i,w:s},d=s.globals.ttZFormatter;null===i?l=s.globals.series[e]:s.globals.isXNumeric&&"treemap"!==s.config.chart.type?(o=a[e][i],0===a[e].length&&(o=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):o=void 0!==s.globals.labels[i]?s.globals.labels[i]:"";var h=o;return o=s.globals.isXNumeric&&"datetime"===s.config.xaxis.type?new j(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new M(this.ctx).formatDate,w:this.w}):s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](h,c):s.globals.xLabelFormatter(h,c),void 0!==s.config.tooltip.x.formatter&&(o=s.globals.ttKeyFormatter(h,c)),s.globals.seriesZ.length>0&&s.globals.seriesZ[e].length>0&&(n=d(s.globals.seriesZ[e][i],s)),r="function"==typeof s.config.xaxis.tooltip.formatter?s.globals.xaxisTooltipFormatter(h,c):o,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(r)?r.join(" "):r,zVal:n}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,s=t.y1,a=t.y2,o=t.w,r=this.ttCtx.getElTooltip(),n=o.config.tooltip.custom;Array.isArray(n)&&n[e]&&(n=n[e]),r.innerHTML=n({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:i,y1:s,y2:a,w:o})}}]),t}(),vt=function(){function t(e){n(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return c(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,s=this.w,a=i.getElXCrosshairs(),o=t-i.xcrosshairsWidth/2,r=s.globals.labels.slice().length;if(null!==e&&(o=s.globals.gridWidth/r*e),null===a||s.globals.isBarHorizontal||(a.setAttribute("x",o),a.setAttribute("x1",o),a.setAttribute("x2",o),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),o<0&&(o=0),o>s.globals.gridWidth&&(o=s.globals.gridWidth),i.isXAxisTooltipEnabled){var n=o;"tickWidth"!==s.config.xaxis.crosshairs.width&&"barWidth"!==s.config.xaxis.crosshairs.width||(n=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(n)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&k.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&k.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var s,a=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,s=new k(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=s.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=a+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=e.globals.translateY+s,o=i.yaxisTTEls[t].getBoundingClientRect().height,r=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(r-=26),a-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=r+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=this.ttCtx,o=a.getElTooltip(),r=a.tooltipRect,n=null!==i?parseFloat(i):1,l=parseFloat(t)+n+5,c=parseFloat(e)+n/2;if(l>s.globals.gridWidth/2&&(l=l-r.ttWidth-n-10),l>s.globals.gridWidth-r.ttWidth-10&&(l=s.globals.gridWidth-r.ttWidth),l<-20&&(l=-20),s.config.tooltip.followCursor){var d=a.getElGrid(),h=d.getBoundingClientRect();c=a.e.clientY+s.globals.translateY-h.top-r.ttHeight/2}else s.globals.isBarHorizontal||(r.ttHeight/2+c>s.globals.gridHeight&&(c=s.globals.gridHeight-r.ttHeight+s.globals.translateY),c<0&&(c=0));isNaN(l)||(l+=s.globals.translateX,o.style.left=l+"px",o.style.top=c+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[t]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<a.length;o++)parseInt(a[o].getAttribute("rel"),10)===e&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(e,a[o]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,s,a=this.w,o=this.ttCtx,r=a.globals.pointsArray,n=o.tooltipUtil.getHoverMarkerSize(e),l=a.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){i=r[e][t][0],s=r[e][t][1]?r[e][t][1]:0;var c=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&s<a.globals.gridHeight&&s>0&&(c.setAttribute("r",n),c.setAttribute("cx",i),c.setAttribute("cy",s)),this.moveXCrosshairs(i),o.fixedTooltip||this.moveTooltip(i,s,n)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,s=i.w,a=0,o=0,r=s.globals.pointsArray;e=new H(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var n=i.tooltipUtil.getHoverMarkerSize(e);r[e]&&(a=r[e][t][0],o=r[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<s.globals.series.length;c++){var d=r[c];if(s.globals.comboCharts&&void 0===d&&l.splice(c,0,null),d&&d.length){var h=r[c][t][1],u=void 0;if(l[c].setAttribute("cx",a),"rangeArea"===s.config.chart.type&&!s.globals.comboCharts){var m=t+s.globals.series[c].length;u=r[c][m][1],h-=Math.abs(h-u)/2}null!==h&&!isNaN(h)&&h<s.globals.gridHeight+n&&h+n>0?(l[c]&&l[c].setAttribute("r",n),l[c]&&l[c].setAttribute("cy",h)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(a),!i.fixedTooltip){var p=o||s.globals.gridHeight;this.moveTooltip(a,p,n)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e=this.w,i=this.ttCtx,s=e.globals.columnSeries?e.globals.columnSeries.length:e.globals.series.length,a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;e.globals.isBarHorizontal&&(a=new H(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"']")),r=o?parseFloat(o.getAttribute("cx")):0,n=o?parseFloat(o.getAttribute("cy")):0,l=o?parseFloat(o.getAttribute("barWidth")):0,c=o?parseFloat(o.getAttribute("barHeight")):0,d=i.getElGrid().getBoundingClientRect(),h=o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area");if(e.globals.isXNumeric?(o&&!h&&(r-=s%2!=0?l/2:0),o&&h&&e.globals.comboCharts&&(r-=l/2)):e.globals.isBarHorizontal||(r=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(r)&&(r=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2)),e.globals.isBarHorizontal?(n>e.globals.gridHeight/2&&(n-=i.tooltipRect.ttHeight),(n=n+e.config.grid.padding.top+c/3)+c>e.globals.gridHeight&&(n=e.globals.gridHeight-c)):e.config.tooltip.followCursor?n=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:n+i.tooltipRect.ttHeight+15>e.globals.gridHeight&&(n=e.globals.gridHeight),n<-10&&(n=-10),e.globals.isBarHorizontal||this.moveXCrosshairs(r),!i.fixedTooltip){var u=n||e.globals.gridHeight;this.moveTooltip(r,u)}}}]),t}(),bt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new vt(e)}return c(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new k(this.ctx),i=new R(this.ctx),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=v(s),t.config.chart.stacked&&s.sort((function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))}));for(var a=0;a<s.length;a++){var o=s[a].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var r=void 0,n="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(n+=" no-pointer-events");var l=i.getMarkerConfig({cssClass:n,seriesIndex:Number(o.getAttribute("data:realIndex"))});(r=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(r.node),o.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),r=e.getAttribute("cy");if(null!==i&&null!==s&&(o=i,r=s),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===a.config.chart.type){var n=this.ttCtx.getElGrid(),l=n.getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,r,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,s=this.ttCtx,a=t,o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=e.config.markers.hover.size,n=0;n<o.length;n++){var l=o[n].getAttribute("rel"),c=o[n].getAttribute("index");if(void 0===r&&(r=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),a===parseInt(l,10)){i.newPointSize(a,o[n]);var d=o[n].getAttribute("cx"),h=o[n].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(d),s.fixedTooltip||i.tooltipPosition.moveTooltip(d,h,r)}else i.oldPointSize(o[n])}}},{key:"newPointSize",value:function(t,e){var i=this.w,s=i.config.markers.hover.size,a=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var o=parseInt(a.getAttribute("index"),10);void 0===s&&(s=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),s<0&&(s=0),a.setAttribute("r",s)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));x.isNumber(i)&&i>=0?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),t}(),yt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,s=t.x,a=t.y,o=t.type,r=this.ttCtx,n=this.w;if(e.target.classList.contains("apexcharts-".concat(o,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),d=this.getAttr(e,"cx"),h=this.getAttr(e,"cy"),u=this.getAttr(e,"width"),m=this.getAttr(e,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),n.globals.capturedSeriesIndex=l,n.globals.capturedDataPointIndex=c,s=d+r.tooltipRect.ttWidth/2+u,a=h+r.tooltipRect.ttHeight/2-m/2,r.tooltipPosition.moveXCrosshairs(d+u/2),s>n.globals.gridWidth/2&&(s=d-r.tooltipRect.ttWidth/2+u),r.w.config.tooltip.followCursor){var p=n.globals.dom.elWrap.getBoundingClientRect();s=n.globals.clientX-p.left-(s>n.globals.gridWidth/2?r.tooltipRect.ttWidth:0),a=n.globals.clientY-p.top-(a>n.globals.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=t.x,r=t.y,n=this.w,l=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var c=parseInt(a.paths.getAttribute("cx"),10),d=parseInt(a.paths.getAttribute("cy"),10),h=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),e=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var u=x.findAncestor(a.paths,"apexcharts-series");u&&(e=parseInt(u.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:e,j:i,shared:!l.showOnIntersect&&n.config.tooltip.shared,e:s}),"mouseup"===s.type&&l.markerClick(s,e,i),n.globals.capturedSeriesIndex=e,n.globals.capturedDataPointIndex=i,o=c,r=d+n.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var m=l.getElGrid().getBoundingClientRect();r=l.e.clientY+n.globals.translateY-m.top}h<0&&(r=d),l.marker.enlargeCurrentPoint(i,a.paths,o,r)}return{x:o,y:r}}},{key:"handleBarTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,r=this.ttCtx,n=r.getElTooltip(),l=0,c=0,d=0,h=this.getBarTooltipXY({e:s,opt:a});e=h.i;var u=h.barHeight,m=h.j;o.globals.capturedSeriesIndex=e,o.globals.capturedDataPointIndex=m,o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||!o.config.tooltip.shared?(c=h.x,d=h.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,l=c):o.globals.comboCharts||o.config.tooltip.shared||(l/=2),isNaN(d)?d=o.globals.svgHeight-r.tooltipRect.ttHeight:d<0&&(d=0);var p=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),f=o.globals.isMultipleYAxis?o.config.yaxis[p]&&o.config.yaxis[p].reversed:o.config.yaxis[0].reversed;if(c+r.tooltipRect.ttWidth>o.globals.gridWidth&&!f?c-=r.tooltipRect.ttWidth:c<0&&(c=0),r.w.config.tooltip.followCursor){var g=r.getElGrid().getBoundingClientRect();d=r.e.clientY-g.top}null===r.tooltip&&(r.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?r.tooltipPosition.moveXCrosshairs(l+i/2):r.tooltipPosition.moveXCrosshairs(l)),!r.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars())&&(f&&(c-=r.tooltipRect.ttWidth)<0&&(c=0),!f||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||(d=d+u-2*(o.globals.series[e][m]<0?u:0)),r.tooltipRect.ttHeight+d>o.globals.gridHeight?d=o.globals.gridHeight-r.tooltipRect.ttHeight+o.globals.translateY:(d=d+o.globals.translateY-r.tooltipRect.ttHeight/2)<0&&(d=0),n.style.left=c+o.globals.translateX+"px",n.style.top=d+"px")}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,s=this.w,a=null,o=this.ttCtx,r=0,n=0,l=0,c=0,d=0,h=e.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){var u=e.target,m=u.getBoundingClientRect(),p=i.elGrid.getBoundingClientRect(),f=m.height;d=m.height;var g=m.width,v=parseInt(u.getAttribute("cx"),10),b=parseInt(u.getAttribute("cy"),10);c=parseFloat(u.getAttribute("barWidth"));var y="touchmove"===e.type?e.touches[0].clientX:e.clientX;a=parseInt(u.getAttribute("j"),10),r=parseInt(u.parentNode.getAttribute("rel"),10)-1;var x=u.getAttribute("data-range-y1"),w=u.getAttribute("data-range-y2");s.globals.comboCharts&&(r=parseInt(u.parentNode.getAttribute("data:realIndex"),10)),o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:r,j:a,y1:x?parseInt(x,10):null,y2:w?parseInt(w,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:e}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(n=y-p.left+15,l=b-o.dataPointsDividedHeight+f/2-o.tooltipRect.ttHeight/2):(n=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=e.clientY-p.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((n=v)<o.xyRatios.baseLineInvertedY&&(n=v-o.tooltipRect.ttWidth),l=b-o.dataPointsDividedHeight+f/2-o.tooltipRect.ttHeight/2):(n=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=b)}return{x:n,y:l,barHeight:d,barWidth:c,i:r,j:a}}}]),t}(),xt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=function(i){var s=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=s?t.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,s){e.map((function(e,s){s===i&&(a+=t.config.yaxis[s].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))},s=0;s<t.config.yaxis.length;s++)i(s)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===t.config.xaxis.crosshairs.width){var a=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=a}else if("tickWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var r=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/r}else if("barWidth"===t.config.xaxis.crosshairs.width){var n=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n){var l=parseFloat(n.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var s=this.ttCtx,a=this.w,o=a.globals.yLabelFormatters[t];if(s.yaxisTooltips[t]){var r=s.getElGrid().getBoundingClientRect(),n=(e-r.top)*i.yRatio[t],l=a.globals.maxYArr[t]-a.globals.minYArr[t],c=a.globals.minYArr[t]+(l-n);s.tooltipPosition.moveYCrosshairs(e-r.top),s.yaxisTooltipText[t].innerHTML=o(c),s.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),wt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new ft(this),this.tooltipLabels=new gt(this),this.tooltipPosition=new vt(this),this.marker=new bt(this),this.intersect=new yt(this),this.axesTooltip=new xt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,i){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new G(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,s=[],a=this.getElTooltip(),o=function(o){var r=document.createElement("div");r.classList.add("apexcharts-tooltip-series-group"),r.style.order=i.config.tooltip.inverseOrder?t-o:o+1,e.tConfig.shared&&e.tConfig.enabledOnSeries&&Array.isArray(e.tConfig.enabledOnSeries)&&e.tConfig.enabledOnSeries.indexOf(o)<0&&r.classList.add("apexcharts-tooltip-series-group-hidden");var n=document.createElement("span");n.classList.add("apexcharts-tooltip-marker"),n.style.backgroundColor=i.globals.colors[o],r.appendChild(n);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,l.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach((function(t){var e=document.createElement("div");e.classList.add("apexcharts-tooltip-".concat(t,"-group"));var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(t,"-label")),e.appendChild(i);var s=document.createElement("span");s.classList.add("apexcharts-tooltip-text-".concat(t,"-value")),e.appendChild(s),l.appendChild(e)})),r.appendChild(l),a.appendChild(r),s.push(r)},r=0;r<t;r++)o(r);return s}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),s=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),a="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,r=this.getElGrid();r&&(this.seriesBound=r.getBoundingClientRect());var n,l=[],c=[],d={hoverArea:o,elGrid:r,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(a?n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),n&&n.length))for(var h=0;h<n.length;h++)l.push(n[h].getAttribute("cy")),c.push(n[h].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],d);else if(s&&!t.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var u=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(u,d)}if(this.showOnIntersect){var m=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");m.length>0&&this.addPathsEventListeners(m,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),s=i.width+10,a=i.height+10,o=this.tConfig.fixed.offsetX,r=this.tConfig.fixed.offsetY,n=this.tConfig.fixed.position.toLowerCase();return n.indexOf("right")>-1&&(o=o+t.globals.svgWidth-s+10),n.indexOf("bottom")>-1&&(r=r+t.globals.svgHeight-a-10),e.style.left=o+"px",e.style.top=r+"px",{x:o,y:r,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,s=function(s){var a={paths:t[s],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[s].addEventListener(e,i.onSeriesHover.bind(i,a),{capture:!1,passive:!0})}))},a=0;a<t.length;a++)s(a)}},{key:"onSeriesHover",value:function(t,e){var i=this,s=Date.now()-this.lastHoverTime;s>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(t,e)}),100-s))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(s.length?s.forEach((function(s){var a=i.getElTooltip(s),o={paths:t.paths,tooltipEl:a,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===i.w.globals.minX&&s.w.globals.maxX===i.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:o,e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,s=t.opt,a=t.e,o=e.w,r=this.getElTooltip();r&&(i.tooltipRect={x:0,y:0,ttWidth:r.getBoundingClientRect().width,ttHeight:r.getBoundingClientRect().height},i.e=a,!i.tooltipUtil.hasBars()||o.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new H(e).toggleSeriesOnHover(a,a.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),o.globals.axisCharts?i.axisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,r=a.elGrid.getBoundingClientRect(),n="touchmove"===s.type?s.touches[0].clientX:s.clientX,l="touchmove"===s.type?s.touches[0].clientY:s.clientY;if(this.clientY=l,this.clientX=n,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,l<r.top||l>r.top+r.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var c=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(a)}var d=this.getElTooltip(),h=this.getElXCrosshairs(),u=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===s.type||"touchmove"===s.type||"mouseup"===s.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==h&&h.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),u&&!this.showOnIntersect)this.handleStickyTooltip(s,n,l,a);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var p=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:e,y:i,type:o.config.chart.type});e=p.x,i=p.y,d.style.left=e+"px",d.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:e,y:i});if(this.yaxisTooltips.length)for(var f=0;f<o.config.yaxis.length;f++)this.axesTooltip.drawYaxisTooltipText(f,l,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==s.type&&"touchend"!==s.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,s=t.tooltipRect,a=this.w,o=i.paths.getAttribute("rel"),r=this.getElTooltip(),n=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){r.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var l=a.globals.clientX-n.left-s.ttWidth/2,c=a.globals.clientY-n.top-s.ttHeight-10;if(r.style.left=l+"px",r.style.top=c+"px",a.config.legend.tooltipHoverFormatter){var d=o-1,h=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:a});this.legendLabels[d].innerHTML=h}}else"mouseout"!==e.type&&"touchend"!==e.type||(r.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})))}},{key:"handleStickyTooltip",value:function(t,e,i,s){var a=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:e,clientY:i}),r=o.j,n=o.capturedSeries,l=s.elGrid.getBoundingClientRect();o.hoverX<0||o.hoverX>l.width?this.handleMouseOut(s):null!==n?this.handleStickyCapturedSeries(t,n,s,r):(this.tooltipUtil.isXoverlap(r)||a.globals.isBarHorizontal)&&this.create(t,this,0,r,s.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,s){var a=this.w;this.tConfig.shared||null!==a.globals.series[e][s]?void 0!==a.globals.series[e][s]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,s,i.ttItems):this.create(t,this,e,s,i.ttItems,!1):this.tooltipUtil.isXoverlap(s)&&this.create(t,this,0,s,i.ttItems):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new k(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),s=0;s<i.length;s++)e.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,i){var s=this.w;"function"==typeof s.config.chart.events.markerClick&&s.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}])}},{key:"create",value:function(t,e,i,s,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=this.w,n=e;"mouseup"===t.type&&this.markerClick(t,i,s),null===o&&(o=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(r.config.legend.tooltipHoverFormatter){var d=r.config.legend.tooltipHoverFormatter,h=Array.from(this.legendLabels);h.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var u=0;u<h.length;u++){var m=h[u],p=parseInt(m.getAttribute("i"),10),f=decodeURIComponent(m.getAttribute("data:default-text")),g=d(f,{seriesIndex:o?p:i,dataPointIndex:s,w:r});if(o)m.innerHTML=r.globals.collapsedSeriesIndices.indexOf(p)<0?g:f;else if(m.innerHTML=p===i?g:f,i===p)break}}if(o){if(n.tooltipLabels.drawSeriesTexts({ttItems:a,i:i,j:s,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(r.globals.markers.largestSize>0?n.marker.enlargePoints(s):n.tooltipPosition.moveDynamicPointsOnHover(s)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var v=new k(this.ctx),b=r.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(s);for(var y=0;y<b.length;y++)v.pathMouseEnter(b[y])}}else n.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:a,i:i,j:s}),this.tooltipUtil.hasBars()&&n.tooltipPosition.moveStickyTooltipOverBars(s),l&&n.tooltipPosition.moveMarkers(i,s)}}]),t}(),Ct=function(){function t(e){n(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return c(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,s=t.y1,a=t.y2,o=t.i,r=t.j,n=t.realIndex,l=t.series,c=t.barHeight,d=t.barWidth,h=t.barYPosition,u=t.visibleSeries,m=t.renderedPath,p=this.w,f=new k(this.barCtx.ctx),g=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth,v=e+parseFloat(d*u),b=i+parseFloat(c*u);p.globals.isXNumeric&&!p.globals.isBarHorizontal&&(v=e+parseFloat(d*(u+1)),b=i+parseFloat(c*(u+1))-g);var y,x=null,w=e,C=i,S={},A=p.config.dataLabels,I=this.barCtx.barOptions.dataLabels,L=this.barCtx.barOptions.dataLabels.total;void 0!==h&&this.barCtx.isRangeBar&&(b=h,C=h);var T=A.offsetX,P=A.offsetY,_={width:0,height:0};if(p.config.dataLabels.enabled){var F=this.barCtx.series[o][r];_=f.getTextRects(p.globals.yLabelFormatters[0](F),parseFloat(A.style.fontSize))}var M={x:e,y:i,i:o,j:r,realIndex:n,renderedPath:m,bcx:v,bcy:b,barHeight:c,barWidth:d,textRects:_,strokeWidth:g,dataLabelsX:w,dataLabelsY:C,dataLabelsConfig:A,barDataLabelsConfig:I,barTotalDataLabelsConfig:L,offX:T,offY:P};return S=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(M):this.calculateColumnsDataLabelsPosition(M),m.attr({cy:S.bcy,cx:S.bcx,j:r,val:l[o][r],barHeight:c,barWidth:d}),y=this.drawCalculatedDataLabels({x:S.dataLabelsX,y:S.dataLabelsY,val:this.barCtx.isRangeBar?[s,a]:l[o][r],i:n,j:r,barWidth:d,barHeight:c,textRects:_,dataLabelsConfig:A}),p.config.chart.stacked&&L.enabled&&(x=this.drawTotalDataLabels({x:S.totalDataLabelsX,y:S.totalDataLabelsY,realIndex:n,textAnchor:S.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:n,j:r}),dataLabelsConfig:A,barTotalDataLabelsConfig:L})),{dataLabels:y,totalDataLabels:x}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,s=this.w,a=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(a=this.totalFormatter(a,o(o({},s),{},{seriesIndex:e,dataPointIndex:i,w:s}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i,s,a=this.w,o=t.i,r=t.j,n=t.realIndex,l=t.y,c=t.bcx,d=t.barWidth,h=t.barHeight,u=t.textRects,m=t.dataLabelsY,p=t.dataLabelsConfig,f=t.barDataLabelsConfig,g=t.barTotalDataLabelsConfig,v=t.strokeWidth,b=t.offX,y=t.offY;h=Math.abs(h);var x="vertical"===a.config.plotOptions.bar.dataLabels.orientation;c-=v/2;var w=a.globals.gridWidth/a.globals.dataPoints;e=a.globals.isXNumeric?c-d/2+b:c-w+d/2+b,x&&(e=e+u.height/2-v/2-2);var C=this.barCtx.series[o][r]<0,S=l;switch(this.barCtx.isReversed&&(S=l-h+(C?2*h:0),l-=h),f.position){case"center":m=x?C?S+h/2+y:S+h/2-y:C?S-h/2+u.height/2+y:S+h/2+u.height/2-y;break;case"bottom":m=x?C?S+h+y:S+h-y:C?S-h+u.height+v+y:S+h-u.height/2+v-y;break;case"top":m=x?C?S+y:S-y:C?S-u.height/2-y:S+u.height+y}if(this.barCtx.lastActiveBarSerieIndex===n&&g.enabled){var A=new k(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:r}),p.fontSize);i=C?S-A.height/2-y-g.offsetY+18:S+A.height+y+g.offsetY-18,s=e+g.offsetX}return a.config.chart.stacked||(m<0?m=0+v:m+u.height/3>a.globals.gridHeight&&(m=a.globals.gridHeight-v)),{bcx:c,bcy:l,dataLabelsX:e,dataLabelsY:m,totalDataLabelsX:s,totalDataLabelsY:i,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,s=t.i,a=t.j,o=t.realIndex,r=t.bcy,n=t.barHeight,l=t.barWidth,c=t.textRects,d=t.dataLabelsX,h=t.strokeWidth,u=t.dataLabelsConfig,m=t.barDataLabelsConfig,p=t.barTotalDataLabelsConfig,f=t.offX,g=t.offY,v=e.globals.gridHeight/e.globals.dataPoints;l=Math.abs(l);var b,y,x=r-(this.barCtx.isRangeBar?0:v)+n/2+c.height/2+g-3,w="start",C=this.barCtx.series[s][a]<0,S=i;switch(this.barCtx.isReversed&&(S=i+l-(C?2*l:0),i=e.globals.gridWidth-l),m.position){case"center":d=C?S+l/2-f:Math.max(c.width/2,S-l/2)+f;break;case"bottom":d=C?S+l-h-Math.round(c.width/2)-f:S-l+h+Math.round(c.width/2)+f;break;case"top":d=C?S-h+Math.round(c.width/2)-f:S-h-Math.round(c.width/2)+f}if(this.barCtx.lastActiveBarSerieIndex===o&&p.enabled){var A=new k(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),u.fontSize);C?(b=S-h+Math.round(A.width/2)-f-p.offsetX-15,w="end"):b=S-h-Math.round(A.width/2)+f+p.offsetX+15,y=x+p.offsetY}return e.config.chart.stacked||(d<0?d=d+c.width+h:d+c.width/2>e.globals.gridWidth&&(d=e.globals.gridWidth-c.width-h)),{bcx:i,bcy:r,dataLabelsX:d,dataLabelsY:x,totalDataLabelsX:b,totalDataLabelsY:y,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,s=t.val,a=t.i,r=t.j,n=t.textRects,l=t.barHeight,c=t.barWidth,d=t.dataLabelsConfig,h=this.w,u="rotate(0)";"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&(u="rotate(-90, ".concat(e,", ").concat(i,")"));var m=new V(this.barCtx.ctx),p=new k(this.barCtx.ctx),f=d.formatter,g=null,v=h.globals.collapsedSeriesIndices.indexOf(a)>-1;if(d.enabled&&!v){g=p.group({class:"apexcharts-data-labels",transform:u});var b="";void 0!==s&&(b=f(s,o(o({},h),{},{seriesIndex:a,dataPointIndex:r,w:h})));var y=h.globals.series[a][r]<0,x=h.config.plotOptions.bar.dataLabels.position;"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(d.textAnchor=y?"end":"start"),"center"===x&&(d.textAnchor="middle"),"bottom"===x&&(d.textAnchor=y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(b,parseFloat(d.style.fontSize)).width&&(b=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?n.width/1.6>Math.abs(c)&&(b=""):n.height/1.6>Math.abs(l)&&(b=""));var w=o({},d);this.barCtx.isHorizontal&&s<0&&("start"===d.textAnchor?w.textAnchor="end":"end"===d.textAnchor&&(w.textAnchor="start")),m.plotDataLabelsText({x:e,y:i,text:b,i:a,j:r,parent:g,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}},{key:"drawTotalDataLabels",value:function(t){var e,i=t.x,s=t.y,a=t.val,o=t.realIndex,r=t.textAnchor,n=t.barTotalDataLabelsConfig,l=new k(this.barCtx.ctx);return n.enabled&&void 0!==i&&void 0!==s&&this.barCtx.lastActiveBarSerieIndex===o&&(e=l.drawText({x:i,y:s,foreColor:n.style.color,text:a,textAnchor:r,fontFamily:n.style.fontFamily,fontSize:n.style.fontSize,fontWeight:n.style.fontWeight})),e}}]),t}(),kt=function(){function t(e){n(this,t),this.w=e.w,this.barCtx=e}return c(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var s=0;s<t[i].length;s++)e.globals.seriesX[i][s]>e.globals.minX&&e.globals.seriesX[i][s]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=t.length-1,e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,s,a,o,r,n,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var d=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)a=(i=l.globals.gridHeight/c)/d,l.globals.isXNumeric&&(a=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,n=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-a*this.barCtx.seriesLen)/2;else{if(s=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(s=l.globals.gridWidth/l.globals.dataPoints),o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var h=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(h=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/h>0&&(s=l.globals.minXDiff/h),(o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}r=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(s-o*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:s,barHeight:a,barWidth:o,zeroH:r,zeroW:n}}},{key:"getPathFillColor",value:function(t,e,i,s){var a,o,r,n,l=this.w,c=new z(this.barCtx.ctx),d=null,h=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(s){t[e][i]>=s.from&&t[e][i]<=s.to&&(d=s.color)})),l.config.series[e].data[i]&&l.config.series[e].data[i].fillColor&&(d=l.config.series[e].data[i].fillColor),c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?h:s,dataPointIndex:i,color:d,value:t[e][i],fillConfig:null===(a=l.config.series[e].data[i])||void 0===a?void 0:a.fill,fillType:null!==(o=l.config.series[e].data[i])&&void 0!==o&&null!==(r=o.fill)&&void 0!==r&&r.type?null===(n=l.config.series[e].data[i])||void 0===n?void 0:n.fill.type:l.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var s=0,a=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"shouldApplyRadius",value:function(t){var e=this.w,i=!1;return e.config.plotOptions.bar.borderRadius>0&&(e.config.chart.stacked&&"last"===e.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===t&&(i=!0):i=!0),i}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,s=t.x1,a=t.x2,o=t.y1,r=t.y2,n=t.elSeries,l=this.w,c=new k(this.barCtx.ctx),d=new H(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var h=this.barCtx.barOptions.colors.backgroundBarColors[e],u=c.drawRect(void 0!==s?s:0,void 0!==o?o:0,void 0!==a?a:l.globals.gridWidth,void 0!==r?r:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity);n.add(u),u.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,s=t.barXPosition,a=t.y1,o=t.y2,r=t.strokeWidth,n=t.realIndex,l=t.i,c=t.j,d=t.w,h=new k(this.barCtx.ctx);(r=Array.isArray(r)?r[n]:r)||(r=0);var u=i,m=s;null!==(e=d.config.series[n].data[c])&&void 0!==e&&e.columnWidthOffset&&(m=s-d.config.series[n].data[c].columnWidthOffset/2,u=i+d.config.series[n].data[c].columnWidthOffset);var p=m,f=m+u;a+=.001,o+=.001;var g=h.move(p,a),v=h.move(p,a),b=h.line(f-r,a);return d.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(n,c,!1)),g=g+h.line(p,o)+h.line(f-r,o)+h.line(f-r,a)+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+h.line(p,a)+b+b+b+b+b+h.line(p,a)+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(n)&&(g=h.roundPathCorners(g,d.config.plotOptions.bar.borderRadius)),d.config.chart.stacked&&(this.barCtx.yArrj.push(o),this.barCtx.yArrjF.push(Math.abs(a-o)),this.barCtx.yArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,s=t.barHeight,a=t.x1,o=t.x2,r=t.strokeWidth,n=t.realIndex,l=t.i,c=t.j,d=t.w,h=new k(this.barCtx.ctx);(r=Array.isArray(r)?r[n]:r)||(r=0);var u=i,m=s;null!==(e=d.config.series[n].data[c])&&void 0!==e&&e.barHeightOffset&&(u=i-d.config.series[n].data[c].barHeightOffset/2,m=s+d.config.series[n].data[c].barHeightOffset);var p=u,f=u+m;a+=.001,o+=.001;var g=h.move(a,p),v=h.move(a,p);d.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(n,c,!1));var b=h.line(a,f-r);return g=g+h.line(o,p)+h.line(o,f-r)+b+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+h.line(a,p)+b+b+b+b+b+h.line(a,p)+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(n)&&(g=h.roundPathCorners(g,d.config.plotOptions.bar.borderRadius)),d.config.chart.stacked&&(this.barCtx.xArrj.push(o),this.barCtx.xArrjF.push(Math.abs(a-o)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,s=0;s<e.length;s++){for(var a=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)a+=e[s][o];0===a&&this.barCtx.zeroSerieses.push(s)}for(var r=e.length-1;r>=0;r--)this.barCtx.zeroSerieses.indexOf(r)>-1&&r===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var n=e.length-1;n>=0;n--)i.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e-t/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(t,e,i,s,a){var o=this,r=this.w,n=[];return r.globals.seriesGoals[s]&&r.globals.seriesGoals[s][a]&&Array.isArray(r.globals.seriesGoals[s][a])&&r.globals.seriesGoals[s][a].forEach((function(s){var a;n.push((d(a={},t,"x"===t?o.getXForValue(s.value,e,!1):o.getYForValue(s.value,i,!1)),d(a,"attrs",s),a))})),n}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,s=t.goalX,a=t.goalY,o=t.barWidth,r=t.barHeight,n=new k(this.barCtx.ctx),l=n.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach((function(t){var e=void 0!==t.attrs.strokeHeight?t.attrs.strokeHeight:r/2,s=i+e+r/2;c=n.drawLine(t.x,s-2*e,t.x,s,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeWidth?t.attrs.strokeWidth:2,t.attrs.strokeLineCap),l.add(c)})):Array.isArray(a)&&a.forEach((function(t){var i=void 0!==t.attrs.strokeWidth?t.attrs.strokeWidth:o/2,s=e+i+o/2;c=n.drawLine(s-2*i,t.y,s,t.y,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeHeight?t.attrs.strokeHeight:2,t.attrs.strokeLineCap),l.add(c)})),l}}]),t}(),St=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=i,null!==this.xyRatios&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var a=new H(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]);var o=a.getBarSeriesIndices(),r=new S(this.ctx);this.stackedSeriesTotals=r.getStackedSeriesTotals(this.w.config.series.map((function(t,e){return-1===o.indexOf(e)?e:-1})).filter((function(t){return-1!==t}))),this.barHelpers=new kt(this)}return c(t,[{key:"draw",value:function(t,e){var i=this.w,s=new k(this.ctx),a=new S(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var r=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var n=0,l=0;n<t.length;n++,l++){var c,d,h,u,m=void 0,p=void 0,f=[],g=[],v=i.globals.comboCharts?e[n]:n,b=s.group({class:"apexcharts-series",rel:n+1,seriesName:x.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(b,v),t[n].length>0&&(this.visibleI=this.visibleI+1);var y=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var C=this.barHelpers.initialPositions();p=C.y,y=C.barHeight,d=C.yDivision,u=C.zeroW,m=C.x,w=C.barWidth,c=C.xDivision,h=C.zeroH,this.horizontal||g.push(m+w/2);for(var A=s.group({class:"apexcharts-datalabels","data:realIndex":v}),I=s.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),L=0;L<i.globals.dataPoints;L++){var T=this.barHelpers.getStrokeWidth(n,L,v),P=null,_={indexes:{i:n,j:L,realIndex:v,bc:l},x:m,y:p,strokeWidth:T,elSeries:b};this.isHorizontal?(P=this.drawBarPaths(o(o({},_),{},{barHeight:y,zeroW:u,yDivision:d})),w=this.series[n][L]/this.invertedYRatio):(P=this.drawColumnPaths(o(o({},_),{},{xDivision:c,barWidth:w,zeroH:h})),y=this.series[n][L]/this.yRatio[this.yaxisIndex]);var F=this.barHelpers.drawGoalLine({barXPosition:P.barXPosition,barYPosition:P.barYPosition,goalX:P.goalX,goalY:P.goalY,barHeight:y,barWidth:w});F&&I.add(F),p=P.y,m=P.x,L>0&&g.push(m+w/2),f.push(p);var M=this.barHelpers.getPathFillColor(t,n,L,v);this.renderSeries({realIndex:v,pathFill:M,j:L,i:n,pathFrom:P.pathFrom,pathTo:P.pathTo,strokeWidth:T,elSeries:b,x:m,y:p,series:t,barHeight:y,barWidth:w,elDataLabelsWrap:A,elGoalsMarkers:I,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[v]=g,i.globals.seriesYvalues[v]=f,r.add(b)}return r}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,s=t.lineFill,a=t.j,o=t.i,r=t.pathFrom,n=t.pathTo,l=t.strokeWidth,c=t.elSeries,d=t.x,h=t.y,u=t.y1,m=t.y2,p=t.series,f=t.barHeight,g=t.barWidth,v=t.barYPosition,b=t.elDataLabelsWrap,y=t.elGoalsMarkers,x=t.visibleSeries,w=t.type,S=this.w,A=new k(this.ctx);s||(s=this.barOptions.distributed?S.globals.stroke.colors[a]:S.globals.stroke.colors[e]),S.config.series[o].data[a]&&S.config.series[o].data[a].strokeColor&&(s=S.config.series[o].data[a].strokeColor),this.isNullValue&&(i="none");var I=a/S.config.chart.animations.animateGradually.delay*(S.config.chart.animations.speed/S.globals.dataPoints)/2.4,L=A.renderPaths({i:o,j:a,realIndex:e,pathFrom:r,pathTo:n,stroke:s,strokeWidth:l,strokeLineCap:S.config.stroke.lineCap,fill:i,animationDelay:I,initialSpeed:S.config.chart.animations.speed,dataChangeSpeed:S.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});L.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")"));var T=S.config.forecastDataPoints;T.count>0&&a>=S.globals.dataPoints-T.count&&(L.node.setAttribute("stroke-dasharray",T.dashArray),L.node.setAttribute("stroke-width",T.strokeWidth),L.node.setAttribute("fill-opacity",T.fillOpacity)),void 0!==u&&void 0!==m&&(L.attr("data-range-y1",u),L.attr("data-range-y2",m)),new C(this.ctx).setSelectionFilter(L,e,a),c.add(L);var P=new Ct(this).handleBarDataLabels({x:d,y:h,y1:u,y2:m,i:o,j:a,series:p,realIndex:e,barHeight:f,barWidth:g,barYPosition:v,renderedPath:L,visibleSeries:x});return null!==P.dataLabels&&b.add(P.dataLabels),P.totalDataLabels&&b.add(P.totalDataLabels),c.add(b),y&&c.add(y),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,s=t.strokeWidth,a=t.zeroW,o=t.x,r=t.y,n=t.yDivision,l=t.elSeries,c=this.w,d=e.i,h=e.j;c.globals.isXNumeric&&(r=(c.globals.seriesX[d][h]-c.globals.minX)/this.invertedXRatio-i);var u=r+i*this.visibleI;o=this.barHelpers.getXForValue(this.series[d][h],a);var m=this.barHelpers.getBarpaths({barYPosition:u,barHeight:i,x1:a,x2:o,strokeWidth:s,series:this.series,realIndex:e.realIndex,i:d,j:h,w:c});return c.globals.isXNumeric||(r+=n),this.barHelpers.barBackground({j:h,i:d,y1:u-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:m.pathTo,pathFrom:m.pathFrom,x:o,y:r,goalX:this.barHelpers.getGoalValues("x",a,null,d,h),barYPosition:u}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,r=t.zeroH,n=t.strokeWidth,l=t.elSeries,c=this.w,d=e.realIndex,h=e.i,u=e.j,m=e.bc;if(c.globals.isXNumeric){var p=d;c.globals.seriesX[d].length||(p=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[p][u]-c.globals.minX)/this.xRatio-o*this.seriesLen/2}var f=i+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[h][u],r);var g=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:o,y1:r,y2:s,strokeWidth:n,series:this.series,realIndex:e.realIndex,i:h,j:u,w:c});return c.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:m,j:u,i:h,x1:f-n/2-o*this.visibleI,x2:o*this.seriesLen+n/2,elSeries:l}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,r,h,u),barXPosition:f}}},{key:"getPreviousPath",value:function(t,e){for(var i,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==s.globals.previousPaths[a].paths[e]&&(i=s.globals.previousPaths[a].paths[e].d)}return i}}]),t}(),At=function(t){h(i,St);var e=f(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w;this.graphics=new k(this.ctx),this.bar=new St(this.ctx,this.xyRatios);var a=new S(this.ctx,s);t=a.getLogSeries(t),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===s.config.chart.stackType&&(t=s.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var r=0;r<t.length;r++)t[r].length>0&&(this.totalItems+=t[r].length);for(var n=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,d=function(a,r){var d=void 0,h=void 0,u=void 0,m=void 0,p=[],f=[],g=s.globals.comboCharts?e[a]:a;i.yRatio.length>1&&(i.yaxisIndex=g),i.isReversed=s.config.yaxis[i.yaxisIndex]&&s.config.yaxis[i.yaxisIndex].reversed;var v=i.graphics.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[g]),rel:a+1,"data:realIndex":g});i.ctx.series.addCollapsedClassToSeries(v,g);var b=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":g}),y=i.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),w=0,C=0,k=i.initialPositions(l,c,d,h,u,m);c=k.y,w=k.barHeight,h=k.yDivision,m=k.zeroW,l=k.x,C=k.barWidth,d=k.xDivision,u=k.zeroH,i.yArrj=[],i.yArrjF=[],i.yArrjVal=[],i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],1===i.prevY.length&&i.prevY[0].every((function(t){return isNaN(t)}))&&(i.prevY[0]=i.prevY[0].map((function(t){return u})),i.prevYF[0]=i.prevYF[0].map((function(t){return 0})));for(var S=0;S<s.globals.dataPoints;S++){var A=i.barHelpers.getStrokeWidth(a,S,g),I={indexes:{i:a,j:S,realIndex:g,bc:r},strokeWidth:A,x:l,y:c,elSeries:v},L=null;i.isHorizontal?(L=i.drawStackedBarPaths(o(o({},I),{},{zeroW:m,barHeight:w,yDivision:h})),C=i.series[a][S]/i.invertedYRatio):(L=i.drawStackedColumnPaths(o(o({},I),{},{xDivision:d,barWidth:C,zeroH:u})),w=i.series[a][S]/i.yRatio[i.yaxisIndex]);var T=i.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:L.barYPosition,goalX:L.goalX,goalY:L.goalY,barHeight:w,barWidth:C});T&&y.add(T),c=L.y,l=L.x,p.push(l),f.push(c);var P=i.barHelpers.getPathFillColor(t,a,S,g);v=i.renderSeries({realIndex:g,pathFill:P,j:S,i:a,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:A,elSeries:v,x:l,y:c,series:t,barHeight:w,barWidth:C,elDataLabelsWrap:b,elGoalsMarkers:y,type:"bar",visibleSeries:0})}s.globals.seriesXvalues[g]=p,s.globals.seriesYvalues[g]=f,i.prevY.push(i.yArrj),i.prevYF.push(i.yArrjF),i.prevYVal.push(i.yArrjVal),i.prevX.push(i.xArrj),i.prevXF.push(i.xArrjF),i.prevXVal.push(i.xArrjVal),n.add(v)},h=0,u=0;h<t.length;h++,u++)d(h,u);return n}},{key:"initialPositions",value:function(t,e,i,s,a,o){var r,n,l=this.w;return this.isHorizontal?(r=(r=s=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(s-r)/2):(n=i=l.globals.gridWidth/l.globals.dataPoints,n=l.globals.isXNumeric&&l.globals.dataPoints>1?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:n*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,a=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-n)/2),{x:t,y:e,yDivision:s,xDivision:i,barHeight:r,barWidth:n,zeroH:a,zeroW:o}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,s=t.barHeight,a=t.strokeWidth,o=t.zeroW,r=t.x,n=t.y,l=t.yDivision,c=t.elSeries,d=this.w,h=n,u=i.i,m=i.j,p=0,f=0;f<this.prevXF.length;f++)p+=this.prevXF[f][m];if(u>0){var g=o;this.prevXVal[u-1][m]<0?g=this.series[u][m]>=0?this.prevX[u-1][m]+p-2*(this.isReversed?p:0):this.prevX[u-1][m]:this.prevXVal[u-1][m]>=0&&(g=this.series[u][m]>=0?this.prevX[u-1][m]:this.prevX[u-1][m]-p+2*(this.isReversed?p:0)),e=g}else e=o;r=null===this.series[u][m]?e:e+this.series[u][m]/this.invertedYRatio-2*(this.isReversed?this.series[u][m]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:h,barHeight:s,x1:e,x2:r,strokeWidth:a,series:this.series,realIndex:i.realIndex,i:u,j:m,w:d});return this.barHelpers.barBackground({j:m,i:u,y1:h,y2:s,elSeries:c}),n+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,goalX:this.barHelpers.getGoalValues("x",o,null,u,m),barYPosition:h,x:r,y:n}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,r=t.zeroH;t.strokeWidth;var n=t.elSeries,l=this.w,c=e.i,d=e.j,h=e.bc;if(l.globals.isXNumeric){var u=l.globals.seriesX[c][d];u||(u=0),i=(u-l.globals.minX)/this.xRatio-o/2}for(var m,p=i,f=0,g=0;g<this.prevYF.length;g++)f+=isNaN(this.prevYF[g][d])?0:this.prevYF[g][d];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][d]===l.globals.seriesX[c][d]){var v,b,y=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var x=1;x<y;x++)if(!isNaN(this.prevY[c-x][d])){b=this.prevY[c-x][d];break}for(var w=1;w<y;w++){if(this.prevYVal[c-w][d]<0){v=this.series[c][d]>=0?b-f+2*(this.isReversed?f:0):b;break}if(this.prevYVal[c-w][d]>=0){v=this.series[c][d]>=0?b:b+f-2*(this.isReversed?f:0);break}}void 0===v&&(v=l.globals.gridHeight),m=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?r:v}else m=r;s=m-this.series[c][d]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][d]/this.yRatio[this.yaxisIndex]:0);var C=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:o,y1:m,y2:s,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:d,w:l});return this.barHelpers.barBackground({bc:h,j:d,i:c,x1:p,x2:o,elSeries:n}),i+=a,{pathTo:C.pathTo,pathFrom:C.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,r,c,d),barXPosition:p,x:l.globals.isXNumeric?i-a:i,y:s}}}]),i}(),It=function(t){h(i,St);var e=f(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w,a=new k(this.ctx),r=new z(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal;var n=new S(this.ctx,s);t=n.getLogSeries(t),this.series=t,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var l=a.group({class:"apexcharts-".concat(s.config.chart.type,"-series apexcharts-plot-series")}),c=function(n){i.isBoxPlot="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[n].type;var c,d,h,u,m,p,f=void 0,g=void 0,v=[],b=[],y=s.globals.comboCharts?e[n]:n,w=a.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[y]),rel:n+1,"data:realIndex":y});i.ctx.series.addCollapsedClassToSeries(w,y),t[n].length>0&&(i.visibleI=i.visibleI+1),i.yRatio.length>1&&(i.yaxisIndex=y);var C=i.barHelpers.initialPositions();g=C.y,m=C.barHeight,d=C.yDivision,u=C.zeroW,f=C.x,p=C.barWidth,c=C.xDivision,h=C.zeroH,b.push(f+p/2);for(var k=a.group({class:"apexcharts-datalabels","data:realIndex":y}),S=function(e){var a=i.barHelpers.getStrokeWidth(n,e,y),l=null,x={indexes:{i:n,j:e,realIndex:y},x:f,y:g,strokeWidth:a,elSeries:w};l=i.isHorizontal?i.drawHorizontalBoxPaths(o(o({},x),{},{yDivision:d,barHeight:m,zeroW:u})):i.drawVerticalBoxPaths(o(o({},x),{},{xDivision:c,barWidth:p,zeroH:h})),g=l.y,f=l.x,e>0&&b.push(f+p/2),v.push(g),l.pathTo.forEach((function(o,c){var d=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?l.color[c]:s.globals.stroke.colors[n],h=r.fillPath({seriesNumber:y,dataPointIndex:e,color:l.color[c],value:t[n][e]});i.renderSeries({realIndex:y,pathFill:h,lineFill:d,j:e,i:n,pathFrom:l.pathFrom,pathTo:o,strokeWidth:a,elSeries:w,x:f,y:g,series:t,barHeight:m,barWidth:p,elDataLabelsWrap:k,visibleSeries:i.visibleI,type:s.config.chart.type})}))},A=0;A<s.globals.dataPoints;A++)S(A);s.globals.seriesXvalues[y]=b,s.globals.seriesYvalues[y]=v,l.add(w)},d=0;d<t.length;d++)c(d);return l}},{key:"drawVerticalBoxPaths",value:function(t){var e=t.indexes,i=t.x;t.y;var s=t.xDivision,a=t.barWidth,o=t.zeroH,r=t.strokeWidth,n=this.w,l=new k(this.ctx),c=e.i,d=e.j,h=!0,u=n.config.plotOptions.candlestick.colors.upward,m=n.config.plotOptions.candlestick.colors.downward,p="";this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.yRatio[this.yaxisIndex],g=e.realIndex,v=this.getOHLCValue(g,d),b=o,y=o;v.o>v.c&&(h=!1);var x=Math.min(v.o,v.c),w=Math.max(v.o,v.c),C=v.m;n.globals.isXNumeric&&(i=(n.globals.seriesX[g][d]-n.globals.minX)/this.xRatio-a/2);var S=i+a*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(x=o,w=o):(x=o-x/f,w=o-w/f,b=o-v.h/f,y=o-v.l/f,C=o-v.m/f);var A=l.move(S,o),I=l.move(S+a/2,x);return n.globals.previousPaths.length>0&&(I=this.getPreviousPath(g,d,!0)),A=this.isBoxPlot?[l.move(S,x)+l.line(S+a/2,x)+l.line(S+a/2,b)+l.line(S+a/4,b)+l.line(S+a-a/4,b)+l.line(S+a/2,b)+l.line(S+a/2,x)+l.line(S+a,x)+l.line(S+a,C)+l.line(S,C)+l.line(S,x+r/2),l.move(S,C)+l.line(S+a,C)+l.line(S+a,w)+l.line(S+a/2,w)+l.line(S+a/2,y)+l.line(S+a-a/4,y)+l.line(S+a/4,y)+l.line(S+a/2,y)+l.line(S+a/2,w)+l.line(S,w)+l.line(S,C)+"z"]:[l.move(S,w)+l.line(S+a/2,w)+l.line(S+a/2,b)+l.line(S+a/2,w)+l.line(S+a,w)+l.line(S+a,x)+l.line(S+a/2,x)+l.line(S+a/2,y)+l.line(S+a/2,x)+l.line(S,x)+l.line(S,w-r/2)],I+=l.move(S,x),n.globals.isXNumeric||(i+=s),{pathTo:A,pathFrom:I,x:i,y:w,barXPosition:S,color:this.isBoxPlot?p:h?[u]:[m]}}},{key:"drawHorizontalBoxPaths",value:function(t){var e=t.indexes;t.x;var i=t.y,s=t.yDivision,a=t.barHeight,o=t.zeroW,r=t.strokeWidth,n=this.w,l=new k(this.ctx),c=e.i,d=e.j,h=this.boxOptions.colors.lower;this.isBoxPlot&&(h=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var u=this.invertedYRatio,m=e.realIndex,p=this.getOHLCValue(m,d),f=o,g=o,v=Math.min(p.o,p.c),b=Math.max(p.o,p.c),y=p.m;n.globals.isXNumeric&&(i=(n.globals.seriesX[m][d]-n.globals.minX)/this.invertedXRatio-a/2);var x=i+a*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(v=o,b=o):(v=o+v/u,b=o+b/u,f=o+p.h/u,g=o+p.l/u,y=o+p.m/u);var w=l.move(o,x),C=l.move(v,x+a/2);return n.globals.previousPaths.length>0&&(C=this.getPreviousPath(m,d,!0)),w=[l.move(v,x)+l.line(v,x+a/2)+l.line(f,x+a/2)+l.line(f,x+a/2-a/4)+l.line(f,x+a/2+a/4)+l.line(f,x+a/2)+l.line(v,x+a/2)+l.line(v,x+a)+l.line(y,x+a)+l.line(y,x)+l.line(v+r/2,x),l.move(y,x)+l.line(y,x+a)+l.line(b,x+a)+l.line(b,x+a/2)+l.line(g,x+a/2)+l.line(g,x+a-a/4)+l.line(g,x+a/4)+l.line(g,x+a/2)+l.line(b,x+a/2)+l.line(b,x)+l.line(y,x)+"z"],C+=l.move(v,x),n.globals.isXNumeric||(i+=s),{pathTo:w,pathFrom:C,x:b,y:i,barYPosition:x,color:h}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:this.isBoxPlot?i.globals.seriesCandleH[t][e]:i.globals.seriesCandleO[t][e],h:this.isBoxPlot?i.globals.seriesCandleO[t][e]:i.globals.seriesCandleH[t][e],m:i.globals.seriesCandleM[t][e],l:this.isBoxPlot?i.globals.seriesCandleC[t][e]:i.globals.seriesCandleL[t][e],c:this.isBoxPlot?i.globals.seriesCandleL[t][e]:i.globals.seriesCandleC[t][e]}}}]),i}(),Lt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(t,i){t.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,s){var a=this.w,o=1,r=a.config.plotOptions[t].shadeIntensity,n=this.determineColor(t,e,i);a.globals.hasNegs||s?o=a.config.plotOptions[t].reverseNegativeShade?n.percent<0?n.percent/100*(1.25*r):(1-n.percent/100)*(1.25*r):n.percent<=0?1-(1+n.percent/100)*r:(1-n.percent/100)*r:(o=1-n.percent/100,"treemap"===t&&(o=(1-n.percent/100)*(1.25*r)));var l=n.color,c=new x;return a.config.plotOptions[t].enableShades&&(l="dark"===this.w.config.theme.mode?x.hexToRgba(c.shadeColor(-1*o,n.color),a.config.fill.opacity):x.hexToRgba(c.shadeColor(o,n.color),a.config.fill.opacity)),{color:l,colorProps:n}}},{key:"determineColor",value:function(t,e,i){var s=this.w,a=s.globals.series[e][i],o=s.config.plotOptions[t],r=o.colorScale.inverse?i:e;o.distributed&&"treemap"===s.config.chart.type&&(r=i);var n=s.globals.colors[r],l=null,c=Math.min.apply(Math,v(s.globals.series[e])),d=Math.max.apply(Math,v(s.globals.series[e]));o.distributed||"heatmap"!==t||(c=s.globals.minY,d=s.globals.maxY),void 0!==o.colorScale.min&&(c=o.colorScale.min<s.globals.minY?o.colorScale.min:s.globals.minY,d=o.colorScale.max>s.globals.maxY?o.colorScale.max:s.globals.maxY);var h=Math.abs(d)+Math.abs(c),u=100*a/(0===h?h-1e-6:h);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(t,e){if(a>=t.from&&a<=t.to){n=t.color,l=t.foreColor?t.foreColor:null,c=t.from,d=t.to;var i=Math.abs(d)+Math.abs(c);u=100*a/(0===i?i-1e-6:i)}})),{color:n,foreColor:l,percent:u}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,s=t.y,a=t.i,o=t.j,r=t.colorProps,n=t.fontSize,l=this.w.config.dataLabels,c=new k(this.ctx),d=new V(this.ctx),h=null;if(l.enabled){h=c.group({class:"apexcharts-data-labels"});var u=l.offsetX,m=l.offsetY,p=i+u,f=s+parseFloat(l.style.fontSize)/3+m;d.plotDataLabelsText({x:p,y:f,text:e,i:a,j:o,color:r.foreColor,parent:h,fontSize:n,dataLabelsConfig:l})}return h}},{key:"addListeners",value:function(t){var e=new k(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),t}(),Tt=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Lt(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(t,[{key:"draw",value:function(t){var e=this.w,i=new k(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var a=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,r=0,n=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(n=!0,l.reverse());for(var c=n?0:l.length-1;n?c<l.length:c>=0;n?c++:c--){var d=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:x.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(d,c),e.config.chart.dropShadow.enabled){var h=e.config.chart.dropShadow;new C(this.ctx).dropShadow(d,h,c)}for(var u=0,m=e.config.plotOptions.heatmap.shadeIntensity,p=0;p<l[c].length;p++){var f=this.helpers.getShadeColor(e.config.chart.type,c,p,this.negRange),g=f.color,v=f.colorProps;"image"===e.config.fill.type&&(g=new z(this.ctx).fillPath({seriesNumber:c,dataPointIndex:p,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):m+v.percent/100:v.percent/100,patternID:x.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:a,height:e.config.fill.image.height?e.config.fill.image.height:o}));var b=this.rectRadius,y=i.drawRect(u,r,a,o,b);if(y.attr({cx:u,cy:r}),y.node.classList.add("apexcharts-heatmap-rect"),d.add(y),y.attr({fill:g,i:c,index:c,j:p,val:l[c][p],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?g:e.globals.stroke.colors[0],color:g}),this.helpers.addListeners(y),e.config.chart.animations.enabled&&!e.globals.dataChanged){var w=1;e.globals.resized||(w=e.config.chart.animations.speed),this.animateHeatMap(y,u,r,a,o,w)}if(e.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){S=this.dynamicAnim.speed;var A=e.globals.previousPaths[c]&&e.globals.previousPaths[c][p]&&e.globals.previousPaths[c][p].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(y,x.isColorHex(A)?A:x.rgb2hex(A),x.isColorHex(g)?g:x.rgb2hex(g),S)}}var I=(0,e.config.dataLabels.formatter)(e.globals.series[c][p],{value:e.globals.series[c][p],seriesIndex:c,dataPointIndex:p,w:e}),L=this.helpers.calculateDataLabels({text:I,x:u+a/2,y:r+o/2,i:c,j:p,colorProps:v,series:l});null!==L&&d.add(L),u+=a}r+=o,s.add(d)}var T=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?T.unshift(""):T.push(""),e.globals.yAxisScale[0].result=T;var P=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-P/2,s}},{key:"animateHeatMap",value:function(t,e,i,s,a,o){var r=new w(this.ctx);r.animateRect(t,{x:e+s/2,y:i+a/2,width:0,height:0},{x:e,y:i,width:s,height:a},o,(function(){r.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,s){t.attr({fill:e}).animate(s).attr({fill:i})}}]),t}(),Pt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawYAxisTexts",value:function(t,e,i,s){var a=this.w,o=a.config.yaxis[0],r=a.globals.yLabelFormatters[0];return new k(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:r(s,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),t}(),_t=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,"radialBar"===i.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new k(this.ctx);if(this.ret=s.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var a=0,o=0;o<t.length;o++)a+=x.negToZero(t[o]);var r=[],n=s.group();0===a&&(a=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var c=this.fullAngle*x.negToZero(t[l])/a;r.push(c),"polarArea"===this.chartType?(r[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var d,h=0,u=0;u<i.globals.previousPaths.length;u++)h+=x.negToZero(i.globals.previousPaths[u]);for(var m=0;m<i.globals.previousPaths.length;m++)d=this.fullAngle*x.negToZero(i.globals.previousPaths[m])/h,this.prevSectorAngleArr.push(d)}this.donutSize<0&&(this.donutSize=0);var p=i.config.plotOptions.pie.customScale,f=i.globals.gridWidth/2,g=i.globals.gridHeight/2,v=f-i.globals.gridWidth/2*p,b=g-i.globals.gridHeight/2*p;if("donut"===this.chartType){var y=s.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),n.add(y)}var w=this.drawArcs(r,t);if(this.sliceLabels.forEach((function(t){w.add(t)})),n.attr({transform:"translate(".concat(v,", ").concat(b,") scale(").concat(p,")")}),n.add(w),this.ret.add(n),this.donutDataLabels.show){var C=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:b});this.ret.add(C)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,s=new C(this.ctx),a=new k(this.ctx),o=new z(this.ctx),r=a.group({class:"apexcharts-slices"}),n=this.initialAngle,l=this.initialAngle,c=this.initialAngle,d=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var h=0;h<t.length;h++){var u=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:x.escapeString(i.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});r.add(u),l=d,c=(n=c)+t[h],d=l+this.prevSectorAngleArr[h];var m=c<n?this.fullAngle+c-n:c-n,p=o.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:e[h]}),f=this.getChangedPath(l,d),g=a.drawPath({d:f,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:p,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)});if(g.attr({index:0,j:h}),s.setSelectionFilter(g,0,h),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;s.dropShadow(g,v,h)}this.addListeners(g,this.donutDataLabels),k.setAttrs(g.node,{"data:angle":m,"data:startAngle":n,"data:strokeWidth":this.strokeWidth,"data:value":e[h]});var b={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?b=x.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(n+m/2)%this.fullAngle):"donut"===this.chartType&&(b=x.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(n+m/2)%this.fullAngle)),u.add(g);var y=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0===(y=m/this.fullAngle*i.config.chart.animations.speed)&&(y=1),this.animDur=y+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[h],endAngle:c,startAngle:n,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[h],endAngle:c,startAngle:n,i:h,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:y}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,h)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(h)>-1&&this.pieClicked(h),i.config.dataLabels.enabled){var w=b.x,S=b.y,A=100*m/this.fullAngle+"%";if(0!==m&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[h]){var I=i.config.dataLabels.formatter;void 0!==I&&(A=I(i.globals.seriesPercent[h][0],{seriesIndex:h,w:i}));var L=i.globals.dataLabels.style.colors[h],T=a.group({class:"apexcharts-datalabels"}),P=a.drawText({x:w,y:S,text:A,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:L});if(T.add(P),i.config.dataLabels.dropShadow.enabled){var _=i.config.dataLabels.dropShadow;s.dropShadow(P,_)}P.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(P.node.classList.add("apexcharts-pie-label-delay"),P.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return r}},{key:"addListeners",value:function(t,e){var i=new k(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,s=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,a=s,o=e.startAngle,r=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,a=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(s+r>this.fullAngle?e.endAngle=e.endAngle-(s+r):s+r<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(s+r)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(t,o,r,s,a,e)}},{key:"animateArc",value:function(t,e,i,s,a,o){var r,n=this,l=this.w,c=new w(this.ctx),d=o.size;(isNaN(e)||isNaN(a))&&(e=i,a=s,o.dur=0);var h=s,u=i,m=e<i?this.fullAngle+e-i:e-i;l.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(r=n.getPiePath({me:n,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:d}),t.attr({d:r})),0!==o.dur?t.animate(o.dur,l.globals.easing,o.animBeginArr[o.i]).afterAll((function(){"pie"!==n.chartType&&"donut"!==n.chartType&&"polarArea"!==n.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":n.strokeWidth}),o.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){h=m+(s-m)*l,o.animateStartingPos&&(h=a+(s-a)*l,u=e-a+(i-(e-a))*l),r=n.getPiePath({me:n,startAngle:u,angle:h,size:d}),t.node.setAttribute("data:pathOrig",r),t.attr({d:r})})):(r=n.getPiePath({me:n,startAngle:u,angle:s,size:d}),o.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",r),t.attr({d:r,"stroke-width":n.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,s=this,a=s.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.select(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==o.attr("data:pieClicked")){var r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(r,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),o.attr("data:pieClicked","true");var n=parseInt(o.attr("data:startAngle"),10),l=parseInt(o.attr("data:angle"),10);e=s.getPiePath({me:s,startAngle:n,angle:l,size:a}),360!==l&&o.plot(e)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var c=o.attr("data:pathOrig");o.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,s=t.angle,a=t.size,o=i,r=Math.PI*(o-90)/180,n=s+i;Math.ceil(n)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(n=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(n)>this.fullAngle&&(n-=this.fullAngle);var l=Math.PI*(n-90)/180,c=e.centerX+a*Math.cos(r),d=e.centerY+a*Math.sin(r),h=e.centerX+a*Math.cos(l),u=e.centerY+a*Math.sin(l),m=x.polarToCartesian(e.centerX,e.centerY,e.donutSize,n),p=x.polarToCartesian(e.centerX,e.centerY,e.donutSize,o),f=s>180?1:0,g=["M",c,d,"A",a,a,0,f,1,h,u];return"donut"===e.chartType?[].concat(g,["L",m.x,m.y,"A",e.donutSize,e.donutSize,0,f,0,p.x,p.y,"L",c,d,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(g,["L",e.centerX,e.centerY,"L",c,d]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new J(this.ctx),s=new k(this.ctx),a=new Pt(this.ctx),o=s.group(),r=s.group(),n=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),l=n.result.reverse(),c=n.result.length;this.maxY=n.niceMax;for(var d=e.globals.radialSize,h=d/(c-1),u=0;u<c-1;u++){var m=s.drawCircle(d);if(m.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var p=a.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,u,l[u]);r.add(p)}o.add(m),d-=h}this.drawSpokes(t),t.add(o),t.add(r)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,s=new k(this.ctx),a=s.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),o=t.total.show;a.node.style.opacity=e.opacity;var r,n,l=e.centerX,c=e.centerY;r=void 0===t.name.color?i.globals.colors[0]:t.name.color;var d=t.name.fontSize,h=t.name.fontFamily,u=t.name.fontWeight;n=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var m=t.value.formatter,p="",f="";if(o?(r=t.total.color,d=t.total.fontSize,h=t.total.fontFamily,u=t.total.fontWeight,f=t.total.label,p=t.total.formatter(i)):1===i.globals.series.length&&(p=m(i.globals.series[0],i),f=i.globals.seriesNames[0]),f&&(f=t.name.formatter(f,t.total.show,i)),t.name.show){var g=s.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:f,textAnchor:"middle",foreColor:r,fontSize:d,fontWeight:u,fontFamily:h});g.node.classList.add("apexcharts-datalabel-label"),a.add(g)}if(t.value.show){var v=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,b=s.drawText({x:l,y:c+v,text:p,textAnchor:"middle",foreColor:n,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),a.add(b)}return a}},{key:"printInnerLabels",value:function(t,e,i,s){var a,o=this.w;s?a=void 0===t.name.color?o.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(a=t.total.color);var r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),n=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,o),s||"function"!=typeof t.total.formatter||(i=t.total.formatter(o));var l=e===t.total.label;e=t.name.formatter(e,l,o),null!==r&&(r.textContent=e),null!==n&&(n.textContent=i),null!==r&&(r.style.fill=a)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,s=t.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,a,s,t);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,s=new k(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var o=[],r=360/i.globals.series.length,n=0;n<i.globals.series.length;n++)o.push(x.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+r*n));o.forEach((function(i,o){var r=s.drawLine(i.x,i.y,e.centerX,e.centerY,Array.isArray(a.connectorColors)?a.connectorColors[o]:a.connectorColors);t.add(r)}))}}},{key:"revertDataLabelsInner",value:function(t,e,i){var s=this,a=this.w,o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),r=!1,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var i=t.makeSliceOut,a=t.printLabel;Array.prototype.forEach.call(n,(function(t){"true"===t.getAttribute("data:pieClicked")&&(i&&(r=!0),a&&s.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&a.globals.series.length>1)r&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(a));else if(l({makeSliceOut:!1,printLabel:!0}),!r)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var c=a.globals.selectedDataPoints[0],d=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(d,e)}else o&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(o.style.opacity=0);else o&&a.globals.series.length>1&&(o.style.opacity=0)}}]),t}(),Ft=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new k(this.ctx),this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new S(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),void 0!==i.config.plotOptions.radar.size&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new z(this.ctx),a=[],r=new V(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var n=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=n+i.config.plotOptions.radar.offsetX,d=l+i.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(d||0,")")}),u=[],m=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,n){var l=t.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:x.escapeString(i.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});e.dataRadiusOfPercent[n]=[],e.dataRadius[n]=[],e.angleArr[n]=[],t.forEach((function(t,i){var s=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.isLog&&(t=e.coreUtils.getLogVal(t,0)),e.dataRadiusOfPercent[n][i]=t/s,e.dataRadius[n][i]=e.dataRadiusOfPercent[n][i]*e.size,e.angleArr[n][i]=i*e.disAngle})),u=e.getDataPointsPos(e.dataRadius[n],e.angleArr[n]);var d=e.createPaths(u,{x:0,y:0});m=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":n}),i.globals.delayedElements.push({el:m.node,index:n});var h={i:n,realIndex:n,animationDelay:n,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[n],strokeLineCap:i.config.stroke.lineCap},f=null;i.globals.previousPaths.length>0&&(f=e.getPreviousPath(n));for(var g=0;g<d.linePathsTo.length;g++){var v=e.graphics.renderPaths(o(o({},h),{},{pathFrom:null===f?d.linePathsFrom[g]:f,pathTo:d.linePathsTo[g],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[n]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var b=s.fillPath({seriesNumber:n}),y=e.graphics.renderPaths(o(o({},h),{},{pathFrom:null===f?d.areaPathsFrom[g]:f,pathTo:d.areaPathsTo[g],strokeWidth:0,fill:b,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var w=new C(e.ctx),k=i.config.chart.dropShadow;w.dropShadow(y,Object.assign({},k,{noUserSpaceOnUse:!0}),n)}c.add(y)}t.forEach((function(t,s){var a=new R(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:n,dataPointIndex:s}),l=e.graphics.drawMarker(u[s].x,u[s].y,a);l.attr("rel",s),l.attr("j",s),l.attr("index",n),l.node.setAttribute("default-marker-size",a.pSize);var d=e.graphics.group({class:"apexcharts-series-markers"});d&&d.add(l),m.add(d),c.add(m);var h=i.config.dataLabels;if(h.enabled){var f=h.formatter(i.globals.series[n][s],{seriesIndex:n,dataPointIndex:s,w:i});r.plotDataLabelsText({x:u[s].x,y:u[s].y,text:f,textAnchor:"middle",i:n,j:n,parent:p,offsetCorrection:!1,dataLabelsConfig:o({},h)})}c.add(p)})),a.push(c)})),this.drawPolygons({parent:h}),i.config.xaxis.labels.show){var f=this.drawXAxisTexts();h.add(f)}return a.forEach((function(t){h.add(t)})),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,s=t.parent,a=new Pt(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),r=o.length,n=[],l=this.size/(r-1),c=0;c<r;c++)n[c]=l*c;n.reverse();var d=[],h=[];n.forEach((function(t,i){var s=x.getPolygonPos(t,e.dataPointsLen),a="";s.forEach((function(t,s){if(0===i){var o=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[s]:e.polygons.connectorColors);h.push(o)}0===s&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),a+=t.x+","+t.y+" "})),d.push(a)})),d.forEach((function(t,a){var o=e.polygons.strokeColors,r=e.polygons.strokeWidth,n=e.graphics.drawPolygon(t,Array.isArray(o)?o[a]:o,Array.isArray(r)?r[a]:r,i.globals.radarPolygons.fill.colors[a]);s.add(n)})),h.forEach((function(t){s.add(t)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,i){var s=a.drawYAxisTexts(t.x,t.y,i,o[i]);e.yaxisLabels.add(s)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=x.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(r,n){var l=e.config.xaxis.labels.formatter,c=new V(t.ctx);if(a[n]){var d=t.getTextPos(a[n],t.size),h=l(r,{seriesIndex:-1,dataPointIndex:n,w:e});c.plotDataLabelsText({x:d.newX,y:d.newY,text:h,textAnchor:d.textAnchor,i:n,j:n,parent:s,color:Array.isArray(i.style.colors)&&i.style.colors[n]?i.style.colors[n]:"#a8a8a8",dataLabelsConfig:o({textAnchor:d.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}})),s}},{key:"createPaths",value:function(t,e){var i=this,s=[],a=[],o=[],r=[];if(t.length){a=[this.graphics.move(e.x,e.y)],r=[this.graphics.move(e.x,e.y)];var n=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,s){n+=i.graphics.line(e.x,e.y),l+=i.graphics.line(e.x,e.y),s===t.length-1&&(n+="Z",l+="Z")})),s.push(n),o.push(l)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:r,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var i="middle",s=t.x,a=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",s+=10):t.x<0&&(i="end",s-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?a-=10:t.y>0&&(a+=10)),{textAnchor:i,newX:s,newY:a}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,s=0;s<e.globals.previousPaths.length;s++){var a=e.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[s].paths[0]&&(i=e.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var s=[],a=0;a<i;a++){var o={};o.x=t[a]*Math.sin(e[a]),o.y=-t[a]*Math.cos(e[a]),s.push(o)}return s}}]),t}(),Mt=function(t){h(i,_t);var e=f(i);function i(t){var s;n(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),360===s.endAngle&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s}return c(i,[{key:"draw",value:function(t){var e=this.w,i=new k(this.ctx),s=i.group({class:"apexcharts-radialbar"});if(e.globals.noData)return s;var a=i.group(),o=this.defaultSize/2,r=e.globals.gridWidth/2,n=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(n=n-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:n,centerX:r,centerY:o,colorArr:l,series:t});a.add(c)}var d=this.drawArcs({size:n,centerX:r,centerY:o,colorArr:l,series:t}),h=360;e.config.plotOptions.radialBar.startAngle<0&&(h=this.totalAngle);var u=(360-h)/360;if(e.globals.radialSize=n-n*u,this.radialDataLabels.value.show){var m=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=m*u}return a.add(d.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),s.add(a),s}},{key:"drawTracks",value:function(t){var e=this.w,i=new k(this.ctx),s=i.group({class:"apexcharts-tracks"}),a=new C(this.ctx),o=new z(this.ctx),r=this.getStrokeWidth(t);t.size=t.size-r/2;for(var n=0;n<t.series.length;n++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(l),l.attr({rel:n+1}),t.size=t.size-r-this.margin;var c=e.config.plotOptions.radialBar.track,d=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[n]:c.background,solid:!0}),h=this.trackStartAngle,u=this.trackEndAngle;Math.abs(u)+Math.abs(h)>=360&&(u=360-Math.abs(this.startAngle)-.1);var m=i.drawPath({d:"",stroke:d,strokeWidth:r*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var p=c.dropShadow;a.dropShadow(m,p)}l.add(m),m.attr("id","apexcharts-radialbarTrack-"+n),this.animatePaths(m,{centerX:t.centerX,centerY:t.centerY,endAngle:u,startAngle:h,size:t.size,i:n,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return s}},{key:"drawArcs",value:function(t){var e=this.w,i=new k(this.ctx),s=new z(this.ctx),a=new C(this.ctx),o=i.group(),r=this.getStrokeWidth(t);t.size=t.size-r/2;var n=e.config.plotOptions.radialBar.hollow.background,l=t.size-r*t.series.length-this.margin*t.series.length-r*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(n=this.drawHollowImage(t,o,l,n));var d=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:n||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var h=e.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(d,h)}var u=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(u=0);var m=null;this.radialDataLabels.show&&(m=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:u})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(d),m&&o.add(m));var p=!1;e.config.plotOptions.radialBar.inverseOrder&&(p=!0);for(var f=p?t.series.length-1:0;p?f>=0:f<t.series.length;p?f--:f++){var g=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:x.escapeString(e.globals.seriesNames[f])});o.add(g),g.attr({rel:f+1,"data:realIndex":f}),this.ctx.series.addCollapsedClassToSeries(g,f),t.size=t.size-r-this.margin;var v=s.fillPath({seriesNumber:f,size:t.size,value:t.series[f]}),b=this.startAngle,y=void 0,w=x.negToZero(t.series[f]>100?100:t.series[f])/100,S=Math.round(this.totalAngle*w)+this.startAngle,A=void 0;e.globals.dataChanged&&(y=this.startAngle,A=Math.round(this.totalAngle*x.negToZero(e.globals.previousPaths[f])/100)+y),Math.abs(S)+Math.abs(b)>=360&&(S-=.01),Math.abs(A)+Math.abs(y)>=360&&(A-=.01);var I=S-b,L=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[f]:e.config.stroke.dashArray,T=i.drawPath({d:"",stroke:v,strokeWidth:r,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+f,strokeDashArray:L});if(k.setAttrs(T.node,{"data:angle":I,"data:value":t.series[f]}),e.config.chart.dropShadow.enabled){var P=e.config.chart.dropShadow;a.dropShadow(T,P,f)}a.setSelectionFilter(T,0,f),this.addListeners(T,this.radialDataLabels),g.add(T),T.attr({index:0,j:f});var _=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(_=e.config.chart.animations.speed),e.globals.dataChanged&&(_=e.config.chart.animations.dynamicAnimation.speed),this.animDur=_/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(T,{centerX:t.centerX,centerY:t.centerY,endAngle:S,startAngle:b,prevEndAngle:A,prevStartAngle:y,size:t.size,i:f,totalItems:2,animBeginArr:this.animBeginArr,dur:_,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:d,dataLabels:m}}},{key:"drawHollow",value:function(t){var e=new k(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,i,s){var a=this.w,o=new z(this.ctx),r=x.randomId(),n=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:i,height:i,image:n,patternID:"pattern".concat(a.globals.cuid).concat(r)}),s="url(#pattern".concat(a.globals.cuid).concat(r,")");else{var l=a.config.plotOptions.radialBar.hollow.imageWidth,c=a.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var d=a.globals.dom.Paper.image(n).loaded((function(e){this.move(t.centerX-e.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(d)}else{var h=a.globals.dom.Paper.image(n).loaded((function(e){this.move(t.centerX-l/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(h)}}return s}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),i}(),Dt=function(t){h(i,St);var e=f(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this.w,s=new k(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var a=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),r=0;r<t.length;r++){var n,l,c,d=void 0,h=void 0,u=void 0,m=i.globals.comboCharts?e[r]:r,p=s.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[m]),rel:r+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(p,m),t[r].length>0&&(this.visibleI=this.visibleI+1);var f=0,g=0;this.yRatio.length>1&&(this.yaxisIndex=m);var v=this.barHelpers.initialPositions();h=v.y,c=v.zeroW,d=v.x,g=v.barWidth,n=v.xDivision,l=v.zeroH;for(var b=s.group({class:"apexcharts-datalabels","data:realIndex":m}),y=s.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<i.globals.dataPoints;w++){var C=this.barHelpers.getStrokeWidth(r,w,m),S=this.seriesRangeStart[r][w],A=this.seriesRangeEnd[r][w],I=null,L=null,T={x:d,y:h,strokeWidth:C,elSeries:p};if(u=v.yDivision,f=v.barHeight,this.isHorizontal){L=h+f*this.visibleI;var P=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(P=1);var _=(u-f*P)/2;if(void 0===i.config.series[r].data[w])break;if(i.config.series[r].data[w].x){var F=this.detectOverlappingBars({i:r,j:w,barYPosition:L,srty:_,barHeight:f,yDivision:u,initPositions:v});f=F.barHeight,L=F.barYPosition}g=(I=this.drawRangeBarPaths(o({indexes:{i:r,j:w,realIndex:m},barHeight:f,barYPosition:L,zeroW:c,yDivision:u,y1:S,y2:A},T))).barWidth}else f=(I=this.drawRangeColumnPaths(o({indexes:{i:r,j:w,realIndex:m},zeroH:l,barWidth:g,xDivision:n},T))).barHeight;var M=this.barHelpers.drawGoalLine({barXPosition:I.barXPosition,barYPosition:L,goalX:I.goalX,goalY:I.goalY,barHeight:f,barWidth:g});M&&y.add(M),h=I.y,d=I.x;var D=this.barHelpers.getPathFillColor(t,r,w,m),B=i.globals.stroke.colors[m];this.renderSeries({realIndex:m,pathFill:D,lineFill:B,j:w,i:r,x:d,y:h,y1:S,y2:A,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:C,elSeries:p,series:t,barHeight:f,barYPosition:L,barWidth:g,elDataLabelsWrap:b,elGoalsMarkers:y,visibleSeries:this.visibleI,type:"rangebar"})}a.add(p)}return a}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,s=t.barYPosition,a=t.srty,o=t.barHeight,r=t.yDivision,n=t.initPositions,l=this.w,c=[],d=l.config.series[e].data[i].rangeName,h=l.config.series[e].data[i].x,u=l.globals.labels.indexOf(h),m=l.globals.seriesRange[e].findIndex((function(t){return t.x===h&&t.overlaps.length>0}));return s=l.config.plotOptions.bar.rangeBarGroupRows?a+r*u:a+o*this.visibleI+r*u,m>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRange[e][m].overlaps).indexOf(d)>-1&&(s=(o=n.barHeight/c.length)*this.visibleI+r*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+c.indexOf(d))+r*u),{barYPosition:s,barHeight:o}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x;t.strokeWidth;var s=t.xDivision,a=t.barWidth,o=t.zeroH,r=this.w,n=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],d=e.realIndex,h=this.getRangeValue(d,l),u=Math.min(h.start,h.end),m=Math.max(h.start,h.end);r.globals.isXNumeric&&(i=(r.globals.seriesX[n][l]-r.globals.minX)/this.xRatio-a/2);var p=i+a*this.visibleI;void 0===this.series[n][l]||null===this.series[n][l]?u=o:(u=o-u/c,m=o-m/c);var f=Math.abs(m-u),g=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:a,y1:u,y2:m,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:d,j:l,w:r});return r.globals.isXNumeric||(i+=s),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:f,x:i,y:m,goalY:this.barHelpers.getGoalValues("y",null,o,n,l),barXPosition:p}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,s=t.y1,a=t.y2,o=t.yDivision,r=t.barHeight,n=t.barYPosition,l=t.zeroW,c=this.w,d=l+s/this.invertedYRatio,h=l+a/this.invertedYRatio,u=Math.abs(h-d),m=this.barHelpers.getBarpaths({barYPosition:n,barHeight:r,x1:d,x2:h,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=o),{pathTo:m.pathTo,pathFrom:m.pathFrom,barWidth:u,x:h,goalX:this.barHelpers.getGoalValues("x",l,null,e.realIndex,e.j),y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}}]),i}(),Bt=function(){function t(e){n(this,t),this.w=e.w,this.lineCtx=e}return c(t,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if(("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new S(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var s=e[t].slice();s[s.length-1]=s[s.length-1]+1e-6,e[t]=s}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,s=t.x,a=t.y,o=t.i,r=t.j,n=t.prevY,l=this.w,c=[],d=[];if(0===r){var h=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(h=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(h),d.push(x.isNumber(e[o][0])?n+l.config.markers.offsetY:null),c.push(s+l.config.markers.offsetX),d.push(x.isNumber(e[o][r+1])?a+l.config.markers.offsetY:null)}else c.push(s+l.config.markers.offsetX),d.push(x.isNumber(e[o][r+1])?a+l.config.markers.offsetY:null);return{x:c,y:d}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,s=t.realIndex,a=this.w,o=0;o<a.globals.previousPaths.length;o++){var r=a.globals.previousPaths[o];("line"===r.type||"area"===r.type)&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(s,10)&&("line"===r.type?(this.lineCtx.appendPathFrom=!1,e=a.globals.previousPaths[o].paths[0].d):"area"===r.type&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[o].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[o].paths[1]&&(e=a.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i=t.i,s=t.series,a=t.prevY,o=t.lineYPosition,r=this.w;if(void 0!==(null===(e=s[i])||void 0===e?void 0:e[0]))a=(o=r.config.chart.stacked&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(r.config.chart.stacked&&i>0&&void 0===s[i][0])for(var n=i-1;n>=0;n--)if(null!==s[n][0]&&void 0!==s[n][0]){a=o=this.lineCtx.prevSeriesY[n][0];break}return{prevY:a,lineYPosition:o}}}]),t}(),$t=function(){function t(e,i,s){n(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||s,this.scatter=new q(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Bt(this),this.markers=new R(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(t,[{key:"draw",value:function(t,e,i,s){var a=this.w,r=new k(this.ctx),n=a.globals.comboCharts?e:a.config.chart.type,l=r.group({class:"apexcharts-".concat(n,"-series apexcharts-plot-series")}),c=new S(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=c.getLogSeries(t),this.yRatio=c.getLogYRatios(this.yRatio);for(var d=[],h=0;h<t.length;h++){t=this.lineHelpers.sameValueSeriesFix(h,t);var u=a.globals.comboCharts?i[h]:h;this._initSerieVariables(t,h,u);var m=[],p=[],f=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(f=(a.globals.seriesX[u][0]-a.globals.minX)/this.xRatio),p.push(f);var g,v=f,b=void 0,y=v,x=this.zeroY,w=this.zeroY;x=this.lineHelpers.determineFirstPrevY({i:h,series:t,prevY:x,lineYPosition:0}).prevY,m.push(x),g=x,"rangeArea"===n&&(b=w=this.lineHelpers.determineFirstPrevY({i:h,series:s,prevY:w,lineYPosition:0}).prevY);var C={type:n,series:t,realIndex:u,i:h,x:f,y:1,pX:v,pY:g,pathsFrom:this._calculatePathsFrom({type:n,series:t,i:h,realIndex:u,prevX:y,prevY:x,prevY2:w}),linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:p,yArrj:m,seriesRangeEnd:s},A=this._iterateOverDataPoints(o(o({},C),{},{iterations:"rangeArea"===n?t[h].length-1:void 0,isRangeStart:!0}));if("rangeArea"===n){var I=this._calculatePathsFrom({series:s,i:h,realIndex:u,prevX:y,prevY:w}),L=this._iterateOverDataPoints(o(o({},C),{},{series:s,pY:b,pathsFrom:I,iterations:s[h].length-1,isRangeStart:!1}));A.linePaths[0]=L.linePath+A.linePath,A.pathFromLine=L.pathFromLine+A.pathFromLine}this._handlePaths({type:n,realIndex:u,i:h,paths:A}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(a.config.chart.stacked)for(var T=d.length;T>0;T--)l.add(d[T-1]);else for(var P=0;P<d.length;P++)l.add(d[P]);return l}},{key:"_initSerieVariables",value:function(t,e,i){var s=this.w,a=new k(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-("on"===s.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||"end"===s.config.plotOptions.area.fillTo)&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i});var o=t[e].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":o,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,s,a,o=t.type,r=t.series,n=t.i,l=t.realIndex,c=t.prevX,d=t.prevY,h=t.prevY2,u=this.w,m=new k(this.ctx);if(null===r[n][0]){for(var p=0;p<r[n].length;p++)if(null!==r[n][p]){c=this.xDivision*p,d=this.zeroY-r[n][p]/this.yRatio[this.yaxisIndex],e=m.move(c,d),i=m.move(c,this.areaBottomY);break}}else e=m.move(c,d),"rangeArea"===o&&(e=m.move(c,h)+m.line(c,d)),i=m.move(c,this.areaBottomY)+m.line(c,d);if(s=m.move(-1,this.zeroY)+m.line(-1,this.zeroY),a=m.move(-1,this.zeroY)+m.line(-1,this.zeroY),u.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:l});s=f.pathFromLine,a=f.pathFromArea}return{prevX:c,prevY:d,linePath:e,areaPath:i,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,s=t.i,a=t.paths,r=this.w,n=new k(this.ctx),l=new z(this.ctx);this.prevSeriesY.push(a.yArrj),r.globals.seriesXvalues[i]=a.xArrj,r.globals.seriesYvalues[i]=a.yArrj;var c=r.config.forecastDataPoints;if(c.count>0&&"rangeArea"!==e){var d=r.globals.seriesXvalues[i][r.globals.seriesXvalues[i].length-c.count-1],h=n.drawRect(d,0,r.globals.gridWidth,r.globals.gridHeight,0);r.globals.dom.elForecastMask.appendChild(h.node);var u=n.drawRect(0,0,d,r.globals.gridHeight,0);r.globals.dom.elNonForecastMask.appendChild(u.node)}this.pointsChart||r.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var m={i:s,realIndex:i,animationDelay:s,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var p=l.fillPath({seriesNumber:i}),f=0;f<a.areaPaths.length;f++){var g=n.renderPaths(o(o({},m),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[f],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(g)}if(r.config.stroke.show&&!this.pointsChart){var v=null;if("line"===e)v=l.fillPath({seriesNumber:i,i:s});else if("solid"===r.config.stroke.fill.type)v=r.globals.stroke.colors[i];else{var b=r.config.fill;r.config.fill=r.config.stroke.fill,v=l.fillPath({seriesNumber:i,i:s}),r.config.fill=b}for(var y=0;y<a.linePaths.length;y++){var x=v;"rangeArea"===e&&(x=l.fillPath({seriesNumber:i}));var w=o(o({},m),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[y],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:r.config.stroke.lineCap,fill:"rangeArea"===e?x:"none"}),C=n.renderPaths(w);if(this.elSeries.add(C),C.attr("fill-rule","evenodd"),c.count>0&&"rangeArea"!==e){var S=n.renderPaths(w);S.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&S.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(r.globals.cuid,")")),C.attr("clip-path","url(#nonForecastMask".concat(r.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e=t.type,i=t.series,s=t.iterations,a=t.realIndex,o=t.i,r=t.x,n=t.y,l=t.pX,c=t.pY,d=t.pathsFrom,h=t.linePaths,u=t.areaPaths,m=t.seriesIndex,p=t.lineYPosition,f=t.xArrj,g=t.yArrj,v=t.isRangeStart,b=t.seriesRangeEnd,y=this.w,w=new k(this.ctx),C=this.yRatio,S=d.prevY,A=d.linePath,I=d.areaPath,L=d.pathFromLine,T=d.pathFromArea,P=x.isNumber(y.globals.minYArr[a])?y.globals.minYArr[a]:y.globals.minY;s||(s=y.globals.dataPoints>1?y.globals.dataPoints-1:y.globals.dataPoints);for(var _=n,F=0;F<s;F++){var M=void 0===i[o][F+1]||null===i[o][F+1];if(y.globals.isXNumeric){var D=y.globals.seriesX[a][F+1];void 0===y.globals.seriesX[a][F+1]&&(D=y.globals.seriesX[a][s-1]),r=(D-y.globals.minX)/this.xRatio}else r+=this.xDivision;p=y.config.chart.stacked&&o>0&&y.globals.collapsedSeries.length<y.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<y.globals.series.length;i++)if(y.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(o-1)][F+1]:this.zeroY,M?n=p-P/C[this.yaxisIndex]+2*(this.isReversed?P/C[this.yaxisIndex]:0):(n=p-i[o][F+1]/C[this.yaxisIndex]+2*(this.isReversed?i[o][F+1]/C[this.yaxisIndex]:0),"rangeArea"===e&&(_=p-b[o][F+1]/C[this.yaxisIndex]+2*(this.isReversed?b[o][F+1]/C[this.yaxisIndex]:0))),f.push(r),g.push(n);var B=this.lineHelpers.calculatePoints({series:i,x:r,y:n,realIndex:a,i:o,j:F,prevY:S}),$=this._createPaths({type:e,series:i,i:o,realIndex:a,j:F,x:r,y:n,y2:_,pX:l,pY:c,linePath:A,areaPath:I,linePaths:h,areaPaths:u,seriesIndex:m,isRangeStart:v});u=$.areaPaths,h=$.linePaths,l=$.pX,c=$.pY,I=$.areaPath,A=$.linePath,this.appendPathFrom&&(L+=w.line(r,this.zeroY),T+=w.line(r,this.zeroY)),this.handleNullDataPoints(i,B,o,F,a),this._handleMarkersAndLabels({type:e,pointsPos:B,i:o,j:F,realIndex:a,isRangeStart:v})}return{yArrj:g,xArrj:f,pathFromArea:T,areaPaths:u,pathFromLine:L,linePaths:h,linePath:A,areaPath:I}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,s=t.isRangeStart,a=t.i,o=t.j,r=t.realIndex,n=this.w,l=new V(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:r,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{n.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(i,r,o+1);null!==c&&this.elPointsMain.add(c)}var d=l.drawDataLabel({type:e,isRangeStart:s,pos:i,i:r,j:o+1});null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(t){var e=t.type,i=t.series,s=t.i,a=t.realIndex,o=t.j,r=t.x,n=t.y,l=t.y2,c=t.pX,d=t.pY,h=t.linePath,u=t.areaPath,m=t.linePaths,p=t.areaPaths,f=t.seriesIndex,g=t.isRangeStart,v=this.w,b=new k(this.ctx),y=v.config.stroke.curve,x=this.areaBottomY;if(Array.isArray(v.config.stroke.curve)&&(y=Array.isArray(f)?v.config.stroke.curve[f[s]]:v.config.stroke.curve[s]),"smooth"===y){var w=.35*(r-c);v.globals.hasNullValues?(null!==i[s][o]&&(null!==i[s][o+1]?(h=b.move(c,d)+b.curve(c+w,d,r-w,n,r+1,n),u=b.move(c+1,d)+b.curve(c+w,d,r-w,n,r+1,n)+b.line(r,x)+b.line(c,x)+"z"):(h=b.move(c,d),u=b.move(c,d)+"z")),m.push(h),p.push(u)):(h+=b.curve(c+w,d,r-w,n,r,n),u+=b.curve(c+w,d,r-w,n,r,n)),c=r,d=n,o===i[s].length-2&&(u=u+b.curve(c,d,r,n,r,x)+b.move(r,n)+"z","rangeArea"===e&&g?h=h+b.curve(c,d,r,n,r,l)+b.move(r,l)+"z":v.globals.hasNullValues||(m.push(h),p.push(u)))}else{if(null===i[s][o+1]){h+=b.move(r,n);var C=v.globals.isXNumeric?(v.globals.seriesX[a][o]-v.globals.minX)/this.xRatio:r-this.xDivision;u=u+b.line(C,x)+b.move(r,n)+"z"}null===i[s][o]&&(h+=b.move(r,n),u+=b.move(r,x)),"stepline"===y?(h=h+b.line(r,null,"H")+b.line(null,n,"V"),u=u+b.line(r,null,"H")+b.line(null,n,"V")):"straight"===y&&(h+=b.line(r,n),u+=b.line(r,n)),o===i[s].length-2&&(u=u+b.line(r,x)+b.move(r,n)+"z","rangeArea"===e&&g?h=h+b.line(r,l)+b.move(r,l)+"z":(m.push(h),p.push(u)))}return{linePaths:m,areaPaths:p,pX:c,pY:d,linePath:h,areaPath:u}}},{key:"handleNullDataPoints",value:function(t,e,i,s,a){var o=this.w;if(null===t[i][s]&&o.config.markers.showNullDataPoints||1===t[i].length){var r=this.markers.plotChartMarkers(e,a,s+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0);null!==r&&this.elPointsMain.add(r)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(e,i,s,a){this.xoffset=e,this.yoffset=i,this.height=a,this.width=s,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],s=this.xoffset,a=this.yoffset,r=o(t)/this.height,n=o(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([s,a,s+r,a+t[e]/r]),a+=t[e]/r;else for(e=0;e<t.length;e++)i.push([s,a,s+t[e]/n,a+n]),s+=t[e]/n;return i},this.cutArea=function(e){var i;if(this.width>=this.height){var s=e/this.height,a=this.width-s;i=new t(this.xoffset+s,this.yoffset,a,this.height)}else{var o=e/this.width,r=this.height-o;i=new t(this.xoffset,this.yoffset+o,this.width,r)}return i}}function e(e,s,a,r,n){r=void 0===r?0:r,n=void 0===n?0:n;var l=i(function(t,e){var i,s=[],a=e/o(t);for(i=0;i<t.length;i++)s[i]=t[i]*a;return s}(e,s*a),[],new t(r,n,s,a),[]);return function(t){var e,i,s=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)s.push(t[e][i]);return s}(l)}function i(t,e,a,r){var n,l,c;if(0!==t.length)return n=a.shortestEdge(),function(t,e,i){var a;if(0===t.length)return!0;(a=t.slice()).push(e);var o=s(t,i),r=s(a,i);return o>=r}(e,l=t[0],n)?(e.push(l),i(t.slice(1),e,a,r)):(c=a.cutArea(o(e),r),r.push(a.getCoordinates(e)),i(t,[],c,r)),r;r.push(a.getCoordinates(e))}function s(t,e){var i=Math.min.apply(Math,t),s=Math.max.apply(Math,t),a=o(t);return Math.max(Math.pow(e,2)*s/Math.pow(a,2),Math.pow(a,2)/(Math.pow(e,2)*i))}function a(t){return t&&t.constructor===Array}function o(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function r(t){var e,i=0;if(a(t[0]))for(e=0;e<t.length;e++)i+=r(t[e]);else i=o(t);return i}return function t(i,s,o,n,l){n=void 0===n?0:n,l=void 0===l?0:l;var c,d,h=[],u=[];if(a(i[0])){for(d=0;d<i.length;d++)h[d]=r(i[d]);for(c=e(h,s,o,n,l),d=0;d<i.length;d++)u.push(t(i[d],c[d][2]-c[d][0],c[d][3]-c[d][1],c[d][0],c[d][1]))}else u=e(i,s,o,n,l);return u}}();var Ot,Nt,Et=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Lt(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new k(this.ctx),a=new z(this.ctx),o=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var r=[];return t.forEach((function(t){var e=t.map((function(t){return Math.abs(t)}));r.push(e)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(t,i){t.data.forEach((function(t){Array.isArray(e.labels[i])||(e.labels[i]=[]),e.labels[i].push(t.x)}))})),window.TreemapSquared.generate(r,i.globals.gridWidth,i.globals.gridHeight).forEach((function(r,n){var l=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:x.escapeString(i.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});if(i.config.chart.dropShadow.enabled){var c=i.config.chart.dropShadow;new C(e.ctx).dropShadow(o,c,n)}var d=s.group({class:"apexcharts-data-labels"});r.forEach((function(o,r){var c=o[0],d=o[1],h=o[2],u=o[3],m=s.drawRect(c,d,h-c,u-d,0,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?f:i.globals.stroke.colors[n]);m.attr({cx:c,cy:d,index:n,i:n,j:r,width:h-c,height:u-d});var p=e.helpers.getShadeColor(i.config.chart.type,n,r,e.negRange),f=p.color;void 0!==i.config.series[n].data[r]&&i.config.series[n].data[r].fillColor&&(f=i.config.series[n].data[r].fillColor);var g=a.fillPath({color:f,seriesNumber:n,dataPointIndex:r});m.node.classList.add("apexcharts-treemap-rect"),m.attr({fill:g}),e.helpers.addListeners(m);var v={x:c+(h-c)/2,y:d+(u-d)/2,width:0,height:0},b={x:c,y:d,width:h-c,height:u-d};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var y=1;i.globals.resized||(y=i.config.chart.animations.speed),e.animateTreemap(m,v,b,y)}if(i.globals.dataChanged){var x=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(x=e.dynamicAnim.speed,i.globals.previousPaths[n]&&i.globals.previousPaths[n][r]&&i.globals.previousPaths[n][r].rect&&(v=i.globals.previousPaths[n][r].rect),e.animateTreemap(m,v,b,x))}var w=e.getFontSize(o),C=i.config.dataLabels.formatter(e.labels[n][r],{value:i.globals.series[n][r],seriesIndex:n,dataPointIndex:r,w:i}),k=e.helpers.calculateDataLabels({text:C,x:(c+h)/2,y:(d+u)/2+e.strokeWidth/2+w/3,i:n,j:r,colorProps:p,fontSize:w,series:t});i.config.dataLabels.enabled&&k&&e.rotateToFitLabel(k,w,C,c,d,h,u),l.add(m),null!==k&&l.add(k)})),l.add(d),o.add(l)})),o}},{key:"getFontSize",value:function(t){var e,i,s,a,o=this.w,r=function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=e[i].length;return s}(this.labels)/function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=1;return s}(this.labels);return e=t[2]-t[0],i=t[3]-t[1],s=e*i,a=Math.pow(s,.5),Math.min(a/r,parseInt(o.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,s,a,o,r){var n=new k(this.ctx),l=n.getTextRects(i,e);if(l.width+this.w.config.stroke.width+5>o-s&&l.width<=r-a){var c=n.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,s){var a=new w(this.ctx);a.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},s,(function(){a.animationCompleted(t)}))}}]),t}(),zt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new M(this.ctx),r=(e-t)/864e5;this.determineInterval(r),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,r<.00011574074074074075?s.globals.disableZoomIn=!0:r>5e4&&(s.globals.disableZoomOut=!0);var n=a.getTimeUnitsfromTimestamp(t,e,this.utc),l=s.globals.gridWidth/r,c=l/24,d=c/60,h=d/60,u=Math.floor(24*r),m=Math.floor(1440*r),p=Math.floor(86400*r),f=Math.floor(r),g=Math.floor(r/30),v=Math.floor(r/365),b={minMillisecond:n.minMillisecond,minSecond:n.minSecond,minMinute:n.minMinute,minHour:n.minHour,minDate:n.minDate,minMonth:n.minMonth,minYear:n.minYear},y={firstVal:b,currentMillisecond:b.minMillisecond,currentSecond:b.minSecond,currentMinute:b.minMinute,currentHour:b.minHour,currentMonthDate:b.minDate,currentDate:b.minDate,currentMonth:b.minMonth,currentYear:b.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:d,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:m,numberOfHours:u,numberOfDays:f,numberOfMonths:g,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(y);break;case"months":case"half_year":this.generateMonthScale(y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(y);break;case"hours":this.generateHourScale(y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(y)}var x=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?o(o({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?o(o({},e),{},{value:t.value}):"minute"===t.unit?o(o({},e),{},{value:t.value,minute:t.value}):"second"===t.unit?o(o({},e),{},{value:t.value,minute:t.minute,second:t.second}):t}));return x.filter((function(t){var e=1,a=Math.ceil(s.globals.gridWidth/120),o=t.value;void 0!==s.config.xaxis.tickAmount&&(a=s.config.xaxis.tickAmount),x.length>a&&(e=Math.floor(x.length/a));var r=!1,n=!1;switch(i.tickInterval){case"years":"year"===t.unit&&(r=!0);break;case"half_year":e=7,"year"===t.unit&&(r=!0);break;case"months":e=1,"year"===t.unit&&(r=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(r=!0),30===o&&(n=!0);break;case"months_days":e=10,"month"===t.unit&&(r=!0),30===o&&(n=!0);break;case"week_days":e=8,"month"===t.unit&&(r=!0);break;case"days":e=1,"month"===t.unit&&(r=!0);break;case"hours":"day"===t.unit&&(r=!0);break;case"minutes_fives":case"seconds_fives":o%5!=0&&(n=!0);break;case"seconds_tens":o%10!=0&&(n=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!n)return!0}else if((o%e==0||r)&&!n)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,s=this.formatDates(t),a=this.removeOverlappingTS(s);i.globals.timescaleLabels=a.slice(),new dt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.daysWidthOnXAxis,o=t.numberOfYears,r=e.minYear,n=0,l=new M(this.ctx),c="year";if(e.minDate>1||e.minMonth>0){var d=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);n=(l.determineDaysOfYear(e.minYear)-d+1)*a,r=e.minYear+1,this.timeScaleArray.push({position:n,value:r,unit:c,year:r,month:x.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:n,value:r,unit:c,year:s,month:x.monthMod(i+1)});for(var h=r,u=n,m=0;m<o;m++)h++,u=l.determineDaysOfYear(h-1)*a+u,this.timeScaleArray.push({position:u,value:h,unit:c,year:h,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,s=t.currentMonth,a=t.currentYear,o=t.daysWidthOnXAxis,r=t.numberOfMonths,n=s,l=0,c=new M(this.ctx),d="month",h=0;if(e.minDate>1){l=(c.determineDaysOfMonths(s+1,e.minYear)-i+1)*o,n=x.monthMod(s+1);var u=a+h,m=x.monthMod(n),p=n;0===n&&(d="year",p=u,m=1,u+=h+=1),this.timeScaleArray.push({position:l,value:p,unit:d,year:u,month:m})}else this.timeScaleArray.push({position:l,value:n,unit:d,year:a,month:x.monthMod(s)});for(var f=n+1,g=l,v=0,b=1;v<r;v++,b++){0===(f=x.monthMod(f))?(d="year",h+=1):d="month";var y=this._getYear(a,f,h);g=c.determineDaysOfMonths(f,y)*o+g;var w=0===f?y:f;this.timeScaleArray.push({position:g,value:w,unit:d,year:y,month:0===f?1:f}),f++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.hoursWidthOnXAxis,o=t.numberOfDays,r=new M(this.ctx),n="day",l=e.minDate+1,c=l,d=function(t,e,i){return t>r.determineDaysOfMonths(e+1,i)?(c=1,n="month",u=e+=1,e):e},h=(24-e.minHour)*a,u=l,m=d(c,i,s);0===e.minHour&&1===e.minDate?(h=0,u=x.monthMod(e.minMonth),n="month",c=e.minDate,o++):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(h=0,l=e.minDate,u=l,m=d(c=l,i,s)),this.timeScaleArray.push({position:h,value:u,unit:n,year:this._getYear(s,m,0),month:x.monthMod(m),day:c});for(var p=h,f=0;f<o;f++){n="day",m=d(c+=1,m,this._getYear(s,m,0));var g=this._getYear(s,m,0);p=24*a+p;var v=1===c?x.monthMod(m):c;this.timeScaleArray.push({position:p,value:v,unit:n,year:g,month:x.monthMod(m),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,s=t.currentMonth,a=t.currentYear,o=t.minutesWidthOnXAxis,r=t.numberOfHours,n=new M(this.ctx),l="hour",c=function(t,e){return t>n.determineDaysOfMonths(e+1,a)&&(f=1,e+=1),{month:e,date:f}},d=function(t,e){return t>n.determineDaysOfMonths(e+1,a)?e+=1:e},h=60-(e.minMinute+e.minSecond/60),u=h*o,m=e.minHour+1,p=m+1;60===h&&(u=0,p=(m=e.minHour)+1);var f=i,g=d(f,s);this.timeScaleArray.push({position:u,value:m,unit:l,day:f,hour:p,year:a,month:x.monthMod(g)});for(var v=u,b=0;b<r;b++){l="hour",p>=24&&(p=0,l="day",g=c(f+=1,g).month,g=d(f,g));var y=this._getYear(a,g,0);v=0===p&&0===b?h*o:60*o+v;var w=0===p?f:p;this.timeScaleArray.push({position:v,value:w,unit:l,hour:p,day:f,year:y,month:x.monthMod(g)}),p++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,r=t.currentMonth,n=t.currentYear,l=t.minutesWidthOnXAxis,c=t.secondsWidthOnXAxis,d=t.numberOfMinutes,h=s+1,u=o,m=r,p=n,f=a,g=(60-i-e/1e3)*c,v=0;v<d;v++)h>=60&&(h=0,24===(f+=1)&&(f=0)),this.timeScaleArray.push({position:g,value:h,unit:"minute",hour:f,minute:h,day:u,year:this._getYear(p,m,0),month:x.monthMod(m)}),g+=l,h++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,r=t.currentMonth,n=t.currentYear,l=t.secondsWidthOnXAxis,c=t.numberOfSeconds,d=i+1,h=s,u=o,m=r,p=n,f=a,g=(1e3-e)/1e3*l,v=0;v<c;v++)d>=60&&(d=0,++h>=60&&(h=0,24===++f&&(f=0))),this.timeScaleArray.push({position:g,value:d,unit:"second",hour:f,minute:h,second:d,day:u,year:this._getYear(p,m,0),month:x.monthMod(m)}),g+=l,d++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),"minute"===t.unit?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),"second"===t.unit?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(t){var s=t.value.toString(),a=new M(e.ctx),o=e.createRawDateString(t,s),r=a.getDate(a.parseDate(o));if(e.utc||(r=a.getDate(a.parseDateWithTimezone(o))),void 0===i.config.xaxis.labels.format){var n="dd MMM",l=i.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(n=l.year),"month"===t.unit&&(n=l.month),"day"===t.unit&&(n=l.day),"hour"===t.unit&&(n=l.hour),"minute"===t.unit&&(n=l.minute),"second"===t.unit&&(n=l.second),s=a.formatDate(r,n)}else s=a.formatDate(r,i.config.xaxis.labels.format);return{dateString:o,position:t.position,value:s,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,s=new k(this.ctx),a=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(a=!0,e=s.getTextRects(t[0].value).width);var o=0,r=t.map((function(r,n){if(n>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var l=a?e:s.getTextRects(t[o].value).width,c=t[o].position;return r.position>c+l+10?(o=n,r):null}return r}));return r.filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),t}(),Rt=function(){function t(e,i){n(this,t),this.ctx=i,this.w=i.w,this.el=e}return c(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(i)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type||"boxPlot"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),k.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,s=i.config,a=i.globals,o={series:[],i:[]},r={series:[],i:[]},n={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},d={series:[],i:[]},h={series:[],i:[]},u={series:[],i:[]},m={series:[],seriesRangeEnd:[],i:[]};a.series.map((function(e,p){var f=0;void 0!==t[p].type?("column"===t[p].type||"bar"===t[p].type?(a.series.length>1&&s.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(p),f++,i.globals.columnSeries=c.series):"area"===t[p].type?(r.series.push(e),r.i.push(p),f++):"line"===t[p].type?(o.series.push(e),o.i.push(p),f++):"scatter"===t[p].type?(n.series.push(e),n.i.push(p)):"bubble"===t[p].type?(l.series.push(e),l.i.push(p),f++):"candlestick"===t[p].type?(d.series.push(e),d.i.push(p),f++):"boxPlot"===t[p].type?(h.series.push(e),h.i.push(p),f++):"rangeBar"===t[p].type?(u.series.push(e),u.i.push(p),f++):"rangeArea"===t[p].type?(m.series.push(a.seriesRangeStart[p]),m.seriesRangeEnd.push(a.seriesRangeEnd[p]),m.i.push(p),f++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),f>1&&(a.comboCharts=!0)):(o.series.push(e),o.i.push(p))}));var p=new $t(this.ctx,e),f=new It(this.ctx,e);this.ctx.pie=new _t(this.ctx);var g=new Mt(this.ctx);this.ctx.rangeBar=new Dt(this.ctx,e);var v=new Ft(this.ctx),b=[];if(a.comboCharts){if(r.series.length>0&&b.push(p.draw(r.series,"area",r.i)),c.series.length>0)if(i.config.chart.stacked){var y=new At(this.ctx,e);b.push(y.draw(c.series,c.i))}else this.ctx.bar=new St(this.ctx,e),b.push(this.ctx.bar.draw(c.series,c.i));if(m.series.length>0&&b.push(p.draw(m.series,"rangeArea",m.i,m.seriesRangeEnd)),o.series.length>0&&b.push(p.draw(o.series,"line",o.i)),d.series.length>0&&b.push(f.draw(d.series,d.i)),h.series.length>0&&b.push(f.draw(h.series,h.i)),u.series.length>0&&b.push(this.ctx.rangeBar.draw(u.series,u.i)),n.series.length>0){var x=new $t(this.ctx,e,!0);b.push(x.draw(n.series,"scatter",n.i))}if(l.series.length>0){var w=new $t(this.ctx,e,!0);b.push(w.draw(l.series,"bubble",l.i))}}else switch(s.chart.type){case"line":b=p.draw(a.series,"line");break;case"area":b=p.draw(a.series,"area");break;case"bar":s.chart.stacked?b=new At(this.ctx,e).draw(a.series):(this.ctx.bar=new St(this.ctx,e),b=this.ctx.bar.draw(a.series));break;case"candlestick":b=new It(this.ctx,e).draw(a.series);break;case"boxPlot":b=new It(this.ctx,e).draw(a.series);break;case"rangeBar":b=this.ctx.rangeBar.draw(a.series);break;case"rangeArea":b=p.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":b=new Tt(this.ctx,e).draw(a.series);break;case"treemap":b=new Et(this.ctx,e).draw(a.series);break;case"pie":case"donut":case"polarArea":b=this.ctx.pie.draw(a.series);break;case"radialBar":b=g.draw(a.series);break;case"radar":b=v.draw(a.series);break;default:b=p.draw(a.series)}return b}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=x.getDimensions(this.el),s=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===s?x.isNumber(i[0])&&(0===i[0].width&&(i=x.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==s&&""!==s||(t.svgWidth=parseInt(e.chart.width,10));var a=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===a){var o=x.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),k.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==a){var r=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+r+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};k.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,s=t.config.chart.sparkline.enabled?1:15;s+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new ut(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*t.globals.radialSize;if(a&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var r=x.getBoundingClientRect(a);o=r.bottom;var n=r.bottom-r.top;o=Math.max(2.05*t.globals.radialSize,n)}var l=o+e.translateY+i+s;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),t.config.chart.height&&String(t.config.chart.height).indexOf("%")>0||(e.dom.elWrap.style.height=l+"px",k.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new Q(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},i=new N,s=this.w.globals;i.initGlobalVars(s),s.seriesXvalues=e(),s.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new it(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new it(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new zt(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new S(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=e.config.chart.brush.targets||[e.config.chart.brush.target];i.forEach((function(e){var i=ApexCharts.getChartByID(e);i.w.globals.brushSource=t.ctx,"function"!=typeof i.w.config.chart.events.zoomed&&(i.w.config.chart.events.zoomed=function(){t.updateSourceChart(i)}),"function"!=typeof i.w.config.chart.events.scrolled&&(i.w.config.chart.events.scrolled=function(){t.updateSourceChart(i)})})),e.config.chart.events.selection=function(t,s){i.forEach((function(t){var i=ApexCharts.getChartByID(t),a=x.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===i.w.globals.series.length){var r=new J(i);a=r.autoScaleY(i,a,s)}var n=i.w.config.yaxis.reduce((function(t,e,s){return[].concat(v(t),[o(o({},i.w.config.yaxis[s]),{},{min:a[0].min,max:a[0].max})])}),[]);i.ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max},yaxis:n},!1,!1,!1,!1)}))}}}}]),t}(),qt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(n){var l=[e.ctx];a&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach((function(a,c){var d=a.w;if(d.globals.shouldAnimate=s,i||(d.globals.resized=!0,d.globals.dataChanged=!0,s&&a.series.getPreviousPaths()),t&&"object"===r(t)&&(a.config=new O(t),t=S.extendArrayProps(a.config,t,d),a.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,d.config=x.extend(d.config,t),o&&(d.globals.lastXAxis=t.xaxis?x.clone(t.xaxis):[],d.globals.lastYAxis=t.yaxis?x.clone(t.yaxis):[],d.globals.initialConfig=x.extend({},d.config),d.globals.initialSeries=x.clone(d.config.series),t.series))){for(var h=0;h<d.globals.collapsedSeriesIndices.length;h++){var u=d.config.series[d.globals.collapsedSeriesIndices[h]];d.globals.collapsedSeries[h].data=d.globals.axisCharts?u.data.slice():u}for(var m=0;m<d.globals.ancillaryCollapsedSeriesIndices.length;m++){var p=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[m]];d.globals.ancillaryCollapsedSeries[m].data=d.globals.axisCharts?p.data.slice():p}a.series.emptyCollapsedSeries(d.config.series)}return a.update(t).then((function(){c===l.length-1&&n(a)}))}))}))}},{key:"_updateSeries",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a){var o,r=i.w;return r.globals.shouldAnimate=e,r.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),r.globals.axisCharts?(0===(o=t.map((function(t,e){return i._extendSeries(t,e)}))).length&&(o=[{data:[]}]),r.config.series=o):r.config.series=t.slice(),s&&(r.globals.initialConfig.series=x.clone(r.config.series),r.globals.initialSeries=x.clone(r.config.series)),i.ctx.update().then((function(){a(i.ctx)}))}))}},{key:"_extendSeries",value:function(t,e){var i=this.w,s=i.config.series[e];return o(o({},i.config.series[e]),{},{name:t.name?t.name:s&&s.name,color:t.color?t.color:s&&s.color,type:t.type?t.type:s&&s.type,data:t.data?t.data:s&&s.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"'], ").concat(a," circle[j='").concat(e,"'], ").concat(a," rect[j='").concat(e,"']")).members[0]:void 0===e&&(s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),s?(new k(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(i){void 0!==t.xaxis[i]&&(e.config.xaxis[i]=t.xaxis[i],e.globals.lastXAxis[i]=t.xaxis[i])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new $(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&"100%"===t.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,s=i.globals.lastXAxis,a=i.globals.lastYAxis;t&&t.xaxis&&(s=t.xaxis),t&&t.yaxis&&(a=t.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max;var o=function(t){void 0!==a[t]&&(i.config.yaxis[t].min=a[t].min,i.config.yaxis[t].max=a[t].max)};i.config.yaxis.map((function(t,s){i.globals.zoomed||void 0!==a[s]?o(s):void 0!==e.ctx.opts.yaxis[s]&&(t.min=e.ctx.opts.yaxis[s].min,t.max=e.ctx.opts.yaxis[s].max)}))}}]),t}();Ot="undefined"!=typeof window?window:void 0,Nt=function(t,e){var i=(void 0!==this?this:t).SVG=function(t){if(i.supported)return t=new i.Doc(t),i.parser.draw||i.prepare(),t};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(t){return"Svgjs"+h(t)+i.did++},i.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},i.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var s=t.length-1;s>=0;s--)if(t[s])for(var a in e)t[s].prototype[a]=e[a];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,i.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&i.extend(e,t.extend),t.construct&&i.extend(t.parent||i.Container,t.construct),e},i.adopt=function(e){return e?e.instance?e.instance:((s="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new i.Nested:new i.Doc:"linearGradient"==e.nodeName?new i.Gradient("linear"):"radialGradient"==e.nodeName?new i.Gradient("radial"):i[h(e.nodeName)]?new(i[h(e.nodeName)]):new i.Element(e)).type=e.nodeName,s.node=e,e.instance=s,s instanceof i.Doc&&s.namespace().defs(),s.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),s):null;var s},i.prepare=function(){var t=e.getElementsByTagName("body")[0],s=(t?new i.Doc(t):i.adopt(e.documentElement).nested()).size(2,0);i.parser={body:t||e.documentElement,draw:s.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:s.polyline().node,path:s.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},e.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)s.push(e(t[a]));return s},filter:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)e(t[a])&&s.push(t[a]);return s},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(t){var e,s;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?i.regex.isRgb.test(t)?(e=i.regex.rgb.exec(t.replace(i.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):i.regex.isHex.test(t)&&(e=i.regex.hex.exec(4==(s=t).length?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===r(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new i.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new i.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),i.Color.test=function(t){return t+="",i.regex.isHex.test(t)||i.regex.isRgb.test(t)},i.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},i.Color.isColor=function(t){return i.Color.isRgb(t)||i.Color.test(t)},i.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),i.PointArray=function(t,e){i.Array.call(this,t,e||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var s={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},a="mlhvqtcsaz".split(""),o=0,n=a.length;o<n;++o)s[a[o]]=function(t){return function(e,i,a){if("H"==t)e[0]=e[0]+i.x;else if("V"==t)e[0]=e[0]+i.y;else if("A"==t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var o=0,r=e.length;o<r;++o)e[o]=e[o]+(o%2?i.y:i.x);if(s&&"function"==typeof s[t])return s[t](e,i,a)}}(a[o].toUpperCase());i.PathArray=function(t,e){i.Array.call(this,t,e||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,s="";e<i;e++)s+=t[e][0],null!=t[e][1]&&(s+=t[e][1],null!=t[e][2]&&(s+=" ",s+=t[e][2],null!=t[e][3]&&(s+=" ",s+=t[e][3],s+=" ",s+=t[e][4],null!=t[e][5]&&(s+=" ",s+=t[e][5],s+=" ",s+=t[e][6],null!=t[e][7]&&(s+=" ",s+=t[e][7])))));return s+" "}(this.value)},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,s=this.destination.value,a=[],o=new i.PathArray,r=0,n=e.length;r<n;r++){a[r]=[e[r][0]];for(var l=1,c=e[r].length;l<c;l++)a[r][l]=e[r][l]+(s[r][l]-e[r][l])*t;"A"===a[r][0]&&(a[r][4]=+(0!=a[r][4]),a[r][5]=+(0!=a[r][5]))}return o.value=a,o},parse:function(t){if(t instanceof i.PathArray)return t.valueOf();var e,a={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(i.regex.numbersWithDots,c).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var o=[],r=new i.Point,n=new i.Point,l=0,d=t.length;do{i.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(s[e].call(null,t.slice(l,l+=a[e.toUpperCase()]).map(parseFloat),r,n))}while(d>l);return o},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(i.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof i.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new i.Number(t),new i.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new i.Number(t),new i.Number(this-t,this.unit||t.unit)},times:function(t){return t=new i.Number(t),new i.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new i.Number(t),new i.Number(this/t,this.unit||t.unit)},to:function(t){var e=new i.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new i.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new i.Number(this.destination).minus(this).times(t).plus(this):this}}}),i.Element=i.invent({create:function(t){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var s=m(this,t,e);return this.width(new i.Number(s.width)).height(new i.Number(s.height))},clone:function(t){this.writeDataToDom();var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(i.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return i.get(this.attr(t))},parent:function(e){var s=this;if(!s.node.parentNode)return null;if(s=i.adopt(s.node.parentNode),!e)return s;for(;s&&s.node instanceof t.SVGElement;){if("string"==typeof e?s.matches(e):s instanceof e)return s;if(!s.node.parentNode||"#document"==s.node.parentNode.nodeName)return null;s=i.adopt(s.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var s=e.createElement("svg");if(!(t&&this instanceof i.Parent))return s.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),s.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");s.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var a=0,o=s.firstChild.childNodes.length;a<o;a++)this.node.appendChild(s.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),i.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},i.morph=function(t){return function(e,s){return new i.MorphObj(e,s).at(t)}},i.Situation=i.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(t.duration).valueOf(),this.delay=new i.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,s){"object"===r(t)&&(e=t.ease,s=t.delay,t=t.duration);var a=new i.Situation({duration:t||1e3,delay:s||0,ease:i.easing[e||"-"]||e});return this.queue(a),this},target:function(t){return t&&t instanceof i.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof i.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var s in e.animations){t=this.target()[s](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[s])||(e.animations[s]=[e.animations[s]]);for(var a=t.length;a--;)e.animations[s][a]instanceof i.Number&&(t[a]=new i.Number(t[a])),e.animations[s][a]=t[a].morph(e.animations[s][a])}for(var s in e.attrs)e.attrs[s]=new i.MorphObj(this.target().attr(s),e.attrs[s]);for(var s in e.styles)e.styles[s]=new i.MorphObj(this.target().style(s),e.styles[s]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function i(s){s.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))})),this._callStart()},during:function(t){var e=this.last(),s=function(s){s.detail.situation==e&&t.call(this,s.detail.pos,i.morph(s.detail.pos),s.detail.eased,e)};return this.target().off("during.fx",s).on("during.fx",s),this.after((function(){this.off("during.fx",s)})),this._callStart()},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,s;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,s=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,s=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-s)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var a=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=a&&(this.situation.once[o].call(this.target(),this.pos,a),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:a,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=a,this):this},eachAt:function(){var t,e=this,s=this.target(),a=this.situation;for(var o in a.animations)t=[].concat(a.animations[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s[o].apply(s,t);for(var o in a.attrs)t=[o].concat(a.attrs[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.attr.apply(s,t);for(var o in a.styles)t=[o].concat(a.styles[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.style.apply(s,t);if(a.transforms.length){t=a.initialTransformation,o=0;for(var r=a.transforms.length;o<r;o++){var n=a.transforms[o];n instanceof i.Matrix?t=n.relative?t.multiply((new i.Matrix).morph(n).at(a.ease(this.pos))):t.morph(n).at(a.ease(this.pos)):(n.relative||n.undo(t.extract()),t=t.multiply(n.at(a.ease(this.pos))))}s.matrix(t)}return this},once:function(t,e,i){var s=this.last();return i||(t=s.ease(t)),s.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(t,e,s){return(this.fx||(this.fx=new i.FX(this))).animate(t,e,s)},delay:function(t){return(this.fx||(this.fx=new i.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(t,e){return i.Color.isColor(e)?new i.Color(t).morph(e):i.regex.delimiter.test(t)?i.regex.pathLetters.test(t)?new i.PathArray(t).morph(e):new i.Array(t).morph(e):i.regex.numberAndUnit.test(e)?new i.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(t,e,i){if("object"===r(t))for(var s in t)this.attr(s,t[s]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,s){return 4==arguments.length?this.plot([t,e,i,s]):this.add("plot",new(this.target().morphArray)(t))}}),i.Box=i.invent({create:function(t,e,s,a){if(!("object"!==r(t)||t instanceof i.Element))return i.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=s,this.height=a),v(this)}}),i.BBox=i.invent({create:function(t){if(i.Box.apply(this,[].slice.call(arguments)),t instanceof i.Element){var s;try{if(!e.documentElement.contains){for(var a=t.node;a.parentNode;)a=a.parentNode;if(a!=e)throw new Error("Element not in the dom")}s=t.node.getBBox()}catch(e){if(t instanceof i.Shape){i.parser.draw||i.prepare();var o=t.clone(i.parser.draw.instance).show();o&&o.node&&"function"==typeof o.node.getBBox&&(s=o.node.getBBox()),o&&"function"==typeof o.remove&&o.remove()}else s={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}i.Box.call(this,s)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(t){var e=f([1,0,0,1,0,0]);t=null===t?e:t instanceof i.Element?t.matrixify():"string"==typeof t?f(t.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(t)?f(t):t&&"object"===r(t)?t:e;for(var s=y.length-1;s>=0;--s)this[y[s]]=null!=t[y[s]]?t[y[s]]:e[y[s]]},extend:{extract:function(){var t=p(this,0,1);p(this,1,0);var e=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(t){return this.destination=new i.Matrix(t),this},multiply:function(t){return new i.Matrix(this.native().multiply(function(t){return t instanceof i.Matrix||(t=new i.Matrix(t)),t}(t).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(t,e){return new i.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=i.parser.native.createSVGMatrix(),e=y.length-1;e>=0;e--)t[y[e]]=this[y[e]];return t},toString:function(){return"matrix("+b(this.a)+","+b(this.b)+","+b(this.c)+","+b(this.d)+","+b(this.e)+","+b(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new i.Matrix(e)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===r(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(t,e){return this.destination=new i.Point(t,e),this}}}),i.extend(i.Element,{point:function(t,e){return new i.Point(t,e).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(t,e,s){if(null==t){for(t={},s=(e=this.node.attributes).length-1;s>=0;s--)t[e[s].nodeName]=i.regex.isNumber.test(e[s].nodeValue)?parseFloat(e[s].nodeValue):e[s].nodeValue;return t}if("object"===r(t))for(var a in t)this.attr(a,t[a]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?i.defaults.attrs[t]:i.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(i.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof i.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new i.Number(e):i.Color.isColor(e)?e=new i.Color(e):Array.isArray(e)&&(e=new i.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof s?this.node.setAttributeNS(s,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),i.extend(i.Element,{transform:function(t,e){var s;return"object"!==r(t)?(s=new i.Matrix(this).extract(),"string"==typeof t?s[t]:s):(s=new i.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(s=e?s.multiply(new i.Matrix(t)):new i.Matrix(t)),this.attr("transform",s))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(i.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(f(e[1])):t[e[0]].apply(t,e[1])}),new i.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[i];else if(t&&"object"===r(t))for(i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[this.arguments[i]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===r(t))for(var s in t)this.style(s,t[s]);else{if(!i.regex.isCss.test(t))return this.node.style[d(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[d(t)]=null===e||i.regex.isBlank.test(e)?"":e;return this}}),i.Parent=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(t){return i.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return i.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var s=this.children(),a=0,o=s.length;a<o;a++)s[a]instanceof i.Element&&t.apply(s[a],[a,s]),e&&s[a]instanceof i.Container&&s[a].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(t,e){return 0===e||this instanceof i.Defs||this.node==i.parser.draw||(t=t||(this instanceof i.Doc?this:this.parent(i.Parent)),e=e||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),i.Container=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){i.Element.prototype[t]=function(e){return i.on(this.node,t,e),this}})),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(t,e,s,a,o){var r=s.bind(a||t.instance||t),n=(i.handlerMap.indexOf(t)+1||i.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";i.listeners[n]=i.listeners[n]||{},i.listeners[n][l]=i.listeners[n][l]||{},i.listeners[n][l][c]=i.listeners[n][l][c]||{},s._svgjsListenerId||(s._svgjsListenerId=++i.listenerId),i.listeners[n][l][c][s._svgjsListenerId]=r,t.addEventListener(l,r,o||{passive:!0})},i.off=function(t,e,s){var a=i.handlerMap.indexOf(t),o=e&&e.split(".")[0],r=e&&e.split(".")[1],n="";if(-1!=a)if(s){if("function"==typeof s&&(s=s._svgjsListenerId),!s)return;i.listeners[a][o]&&i.listeners[a][o][r||"*"]&&(t.removeEventListener(o,i.listeners[a][o][r||"*"][s],!1),delete i.listeners[a][o][r||"*"][s])}else if(r&&o){if(i.listeners[a][o]&&i.listeners[a][o][r]){for(var l in i.listeners[a][o][r])i.off(t,[o,r].join("."),l);delete i.listeners[a][o][r]}}else if(r)for(var c in i.listeners[a])for(var n in i.listeners[a][c])r===n&&i.off(t,[c,r].join("."));else if(o){if(i.listeners[a][o]){for(var n in i.listeners[a][o])i.off(t,[o,n].join("."));delete i.listeners[a][o]}}else{for(var c in i.listeners[a])i.off(t,c);delete i.listeners[a],delete i.handlerMap[a]}},i.extend(i.Element,{on:function(t,e,s,a){return i.on(this.node,t,e,s,a),this},off:function(t,e){return i.off(this.node,t,e),this},fire:function(e,s){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new i.CustomEvent(e,{detail:s,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,i.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(t):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=g(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(t){this.constructor.call(this,i.create(t+"Gradient")),this.type=t},inherit:i.Container,extend:{at:function(t,e,s){return this.put(new i.Stop).update(t,e,s)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="gradientTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),i.extend(i.Gradient,i.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(t),fy:new i.Number(e)}):this.attr({x1:new i.Number(t),y1:new i.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(t),cy:new i.Number(e)}):this.attr({x2:new i.Number(t),y2:new i.Number(e)})}}),i.extend(i.Defs,{gradient:function(t,e){return this.put(new i.Gradient(t)).update(e)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(t){return("number"==typeof t||t instanceof i.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new i.Number(t.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="patternTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),i.extend(i.Defs,{pattern:function(t,e,s){return this.put(new i.Pattern).update(s).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,i.xlink)}},construct:{use:function(t,e){return this.put(new i.Use).element(t,e)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(t,e){return this.put(new i.Rect).size(t,e)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(t){return this.put(new i.Circle).rx(new i.Number(t).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(t,e){return this.put(new i.Ellipse).size(t,e).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),i.extend(i.Circle,i.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new i.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new i.Number(t).divide(2))},size:function(t,e){var s=m(this,t,e);return this.rx(new i.Number(s.width).divide(2)).ry(new i.Number(s.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,s,a){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:s,y2:a}:new i.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=m(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,s,a){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=t?[t,e,s,a]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(t){return this.put(new i.Polyline).plot(t||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(t){return this.put(new i.Polygon).plot(t||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new i.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=m(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new i.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new i.Path).plot(t||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(e){if(!e)return this;var s=this,a=new t.Image;return i.on(a,"load",(function(){i.off(a);var t=s.parent(i.Pattern);null!==t&&(0==s.width()&&0==s.height()&&s.size(a.width,a.height),t&&0==t.width()&&0==t.height()&&t.size(s.width(),s.height()),"function"==typeof s._loaded&&s._loaded.call(s,{width:a.width,height:a.height,ratio:a.width/a.height,url:e}))})),i.on(a,"error",(function(t){i.off(a),"function"==typeof s._error&&s._error.call(s,t)})),this.attr("href",a.src=this.src=e,i.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,s){return this.put(new i.Image).load(t).size(e||0,s||e||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,s=0,a=e.length;s<a;++s)0!=s&&3!=e[s].nodeType&&1==i.adopt(e[s]).dom.newLined&&(t+="\n"),t+=e[s].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{s=0;for(var o=(t=t.split("\n")).length;s<o;s++)this.tspan(t[s]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new i.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=i.utils.map(i.utils.filterSVGElements(t.childNodes),(function(t){return i.adopt(t)}));return new i.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,s=0,a=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?s+=a:(this.attr("dy",a+s),s=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new i.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new i.Text).text(t)},plain:function(t){return this.put(new i.Text).plain(t)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(i.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,s=new i.Tspan;return!1===this._build&&this.clear(),e.appendChild(s.node),s.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,s,a){return s+a.replace(i.regex.dots," .")}function d(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function h(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function m(t,e,i){if(null==e||null==i){var s=t.bbox();null==e?e=s.width/s.height*i:null==i&&(i=s.height/s.width*e)}return{width:e,height:i}}function p(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function f(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function g(e){for(var s=e.childNodes.length-1;s>=0;s--)e.childNodes[s]instanceof t.SVGElement&&g(e.childNodes[s]);return i.adopt(e).id(i.eid(e.nodeName))}function v(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function b(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||i.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var s=l[t].length-1;s>=0;s--)null!=e[l[t][s]]&&this.attr(l.prefix(t,l[t][s]),e[l[t][s]]);return this},i.extend(i.Element,i.FX,e)})),i.extend(i.Element,i.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new i.Number(t).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(t){return this.y(new i.Number(t).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),i.Set=i.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new i.Set(t)}}}),i.FX.Set=i.invent({create:function(t){this.set=t}}),i.Set.inherit=function(){var t=[];for(var e in i.Shape.prototype)"function"==typeof i.Shape.prototype[e]&&"function"!=typeof i.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){i.Set.prototype[t]=function(){for(var e=0,s=this.members.length;e<s;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new i.FX.Set(this)):this}})),t=[],i.FX.prototype)"function"==typeof i.FX.prototype[e]&&"function"!=typeof i.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){i.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(t,e){if("object"===r(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(t){var s=e.getElementById(function(t){var e=(t||"").toString().match(i.regex.reference);if(e)return e[1]}(t)||t);return i.adopt(s)},i.select=function(t,s){return new i.Set(i.utils.map((s||e).querySelectorAll(t),(function(t){return i.adopt(t)})))},i.extend(i.Parent,{select:function(t){return i.select(t,this.node)}});var y="abcdef".split("");if("function"!=typeof t.CustomEvent){var x=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var s=e.createEvent("CustomEvent");return s.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),s};x.prototype=t.Event.prototype,i.CustomEvent=x}else i.CustomEvent=t.CustomEvent;return i},s=function(){return Nt(Ot,Ot.document)}.call(e,i,e,t),void 0!==s&&(t.exports=s),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,s,a){return this.put(new SVG.DisplacementMapEffect(t,e,i,s,a))},specularLighting:function(t,e,i,s){return this.put(new SVG.SpecularLightingEffect(t,e,i,s))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,s,a){return this.put(new SVG.TurbulenceEffect(t,e,i,s,a))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,s){return this.parent()&&this.parent().displacementMap(this,t,e,i,s)},specularLighting:function(t,e,i,s){return this.parent()&&this.parent().specularLighting(t,e,i,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,s,a){return this.parent()&&this.parent().turbulence(t,e,i,s,a).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=a(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=a(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,s,a){this.attr({in:t,in2:e,scale:i,xChannelSelector:s,yChannelSelector:a})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",o(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,s,a){this.attr({numOctaves:e,seed:i,stitchTiles:s,baseFrequency:t,type:a})}},i={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach(function(e){this[e].attr(t.rgb)}.bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,s){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:s})}},s={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,s,a,o){this.attr({x:t,y:e,z:i,pointsAtX:s,pointsAtY:a,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function a(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function o(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,s=[];e<i;e++)s.push(t[e]);return s.join(" ")}function r(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}["r","g","b","a"].forEach((function(t){s["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),r(e,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),r(i,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),r(s,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function t(t,a,o,r,n,l,c){for(var d=t.slice(a,o||c),h=r.slice(n,l||c),u=0,m={pos:[0,0],start:[0,0]},p={pos:[0,0],start:[0,0]};;){if(d[u]=e.call(m,d[u]),h[u]=e.call(p,h[u]),d[u][0]!=h[u][0]||"M"==d[u][0]||"A"==d[u][0]&&(d[u][4]!=h[u][4]||d[u][5]!=h[u][5])?(Array.prototype.splice.apply(d,[u,1].concat(s.call(m,d[u]))),Array.prototype.splice.apply(h,[u,1].concat(s.call(p,h[u])))):(d[u]=i.call(m,d[u]),h[u]=i.call(p,h[u])),++u==d.length&&u==h.length)break;u==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),u==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]])}return{start:d,dest:h}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function i(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function s(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":e=function(t,e){var i,s,a,o,r,n,l,c,d,h,u,m,p,f,g,v,b,y,x,w,C,k,S,A,I,L,T=Math.abs(e[1]),P=Math.abs(e[2]),_=e[3]%360,F=e[4],M=e[5],D=e[6],B=e[7],$=new SVG.Point(t),O=new SVG.Point(D,B),N=[];if(0===T||0===P||$.x===O.x&&$.y===O.y)return[["C",$.x,$.y,O.x,O.y,O.x,O.y]];for(i=new SVG.Point(($.x-O.x)/2,($.y-O.y)/2).transform((new SVG.Matrix).rotate(_)),(s=i.x*i.x/(T*T)+i.y*i.y/(P*P))>1&&(T*=s=Math.sqrt(s),P*=s),a=(new SVG.Matrix).rotate(_).scale(1/T,1/P).rotate(-_),$=$.transform(a),O=O.transform(a),o=[O.x-$.x,O.y-$.y],n=o[0]*o[0]+o[1]*o[1],r=Math.sqrt(n),o[0]/=r,o[1]/=r,l=n<4?Math.sqrt(1-n/4):0,F===M&&(l*=-1),c=new SVG.Point((O.x+$.x)/2+l*-o[1],(O.y+$.y)/2+l*o[0]),d=new SVG.Point($.x-c.x,$.y-c.y),h=new SVG.Point(O.x-c.x,O.y-c.y),u=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(u*=-1),m=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(m*=-1),M&&u>m&&(m+=2*Math.PI),!M&&u<m&&(m-=2*Math.PI),f=Math.ceil(2*Math.abs(u-m)/Math.PI),v=[],b=u,p=(m-u)/f,g=4*Math.tan(p/4)/3,C=0;C<=f;C++)x=Math.cos(b),y=Math.sin(b),w=new SVG.Point(c.x+x,c.y+y),v[C]=[new SVG.Point(w.x+g*y,w.y-g*x),w,new SVG.Point(w.x-g*y,w.y+g*x)],b+=p;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),a=(new SVG.Matrix).rotate(_).scale(T,P).rotate(-_),C=0,k=v.length;C<k;C++)v[C][0]=v[C][0].transform(a),v[C][1]=v[C][1].transform(a),v[C][2]=v[C][2].transform(a);for(C=1,k=v.length;C<k;C++)S=(w=v[C-1][2]).x,A=w.y,I=(w=v[C][0]).x,L=w.y,D=(w=v[C][1]).x,B=w.y,N.push(["C",S,A,I,L,D,B]);return N}(this.pos,t),t=e[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function a(t,e){if(!1===e)return!1;for(var i=e,s=t.length;i<s;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var i=this.value,s=this.parse(e),o=0,r=0,n=!1,l=!1;!1!==o||!1!==r;){var c;n=a(i,!1!==o&&o+1),l=a(s,!1!==r&&r+1),!1===o&&(o=0==(c=new SVG.PathArray(d.start).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===r&&(r=0==(c=new SVG.PathArray(d.dest).bbox()).height||0==c.width?s.push(s[0])-1:s.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var d=t(i,o,n,s,r,l);i=i.slice(0,o).concat(d.start,!1===n?[]:i.slice(n)),s=s.slice(0,r).concat(d.dest,!1===l?[]:s.slice(l)),o=!1!==n&&o+d.start.length,r=!1!==l&&r+d.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=s,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){i.start(t)})),this.el.on("touchstart.drag",(function(t){i.start(t)}))},t.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,s=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:s,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),s=this.startPoints.box.x+i.x-this.startPoints.point.x,a=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,r=i.x-this.startPoints.point.x,n=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof o){var l=o.call(this.el,s,a,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(s):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(a):!1!==l.y&&this.el.y(l.y)}else"object"==typeof o&&(null!=o.minX&&s<o.minX?r=(s=o.minX)-this.startPoints.box.x:null!=o.maxX&&s>o.maxX-e.width&&(r=(s=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&a<o.minY?n=(a=o.minY)-this.startPoints.box.y:null!=o.maxY&&a>o.maxY-e.height&&(n=(a=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(s-=s%o.snapToGrid,a-=a%o.snapToGrid,r-=r%o.snapToGrid,n-=n%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:r,y:n},!0):this.el.move(s,a));return i},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,i){"function"!=typeof e&&"object"!=typeof e||(i=e,e=!0);var s=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?s.init(i||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var s="string"!=typeof t?t:e[t];return i?s/2:s},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var s=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==e[a]&&(this.options[a]=e[a]);var o=["points","pointsExclude"];for(var a in o){var r=this.options[o[a]];"string"==typeof r?r=r.length>0?r.split(/\s*,\s*/i):[]:"boolean"==typeof r&&"points"===o[a]&&(r=r?s:[]),this.options[o[a]]=r}this.options.points=[s,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,s=e.length;i<s;++i){var a=function(e){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;t.el.fire("point",{x:s,y:a,i:e,event:i})}}(i),o=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(o)}},t.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(i,s){var a=t.pointCoords(i,e);t.rectSelection.set.get(s+1).center(a.x,a.y)})),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function s(t){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.el.fire(t,{x:s,y:a,event:i})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,a){var o=e.pointCoords(t,i),r=e.drawPoint(o.x,o.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",s(t)).on("touchstart",s(t));e.rectSelection.set.add(r)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var i=t.pageX||t.touches[0].pageX,s=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:i,y:s,event:t})},o=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(o)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,i){return"object"==typeof e&&(i=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var s=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[s[t.detail.i][0],s[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,s=e+this.parameters.p.y,a=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),o=Math.atan2(s-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),r=this.parameters.rotation+180*(o-a)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(r-r%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),s=this.el.array().valueOf();s[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],s[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(s)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),s=i.x-this.parameters.p.x,a=i.y-this.parameters.p.y;this.lastUpdateCall=[s,a],this.calc(s,a),this.el.fire("resizing",{dx:s,dy:a,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,i,s){var a;return void 0!==s?a=[(i+t)%this.options.snapToGrid,(s+e)%this.options.snapToGrid]:(i=null==i?3:i,a=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(a[0]-=this.options.snapToGrid),e<0&&(a[1]-=this.options.snapToGrid),t-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,s)},t.prototype.constraintToBox=function(t,e,i,s){var a,o,r=this.options.constraint||{};return void 0!==s?(a=i,o=s):(a=this.parameters.box.x+(1&i?0:this.parameters.box.width),o=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==r.minX&&a+t<r.minX&&(t=r.minX-a),void 0!==r.maxX&&a+t>r.maxX&&(t=r.maxX-a),void 0!==r.minY&&o+e<r.minY&&(e=r.minY-o),void 0!==r.maxY&&o+e>r.maxY&&(e=r.maxY-o),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),s=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],r=a/o;return r<s?(i[1]=a/s-this.parameters.box.height,e&&(i[1]=-i[1])):r>s&&(i[0]=this.parameters.box.width-o*s,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Vt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new et(this.ctx),this.ctx.core=new Rt(this.ctx.el,this.ctx),this.ctx.config=new O({}),this.ctx.data=new W(this.ctx),this.ctx.grid=new U(this.ctx),this.ctx.graphics=new k(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new it(this.ctx),this.ctx.events=new K(this.ctx),this.ctx.exports=new Y(this.ctx),this.ctx.localization=new tt(this.ctx),this.ctx.options=new _,this.ctx.responsive=new st(this.ctx),this.ctx.series=new H(this.ctx),this.ctx.theme=new at(this.ctx),this.ctx.formatters=new j(this.ctx),this.ctx.titleSubtitle=new ot(this.ctx),this.ctx.legend=new ut(this.ctx),this.ctx.toolbar=new mt(this.ctx),this.ctx.tooltip=new wt(this.ctx),this.ctx.dimensions=new dt(this.ctx),this.ctx.updateHelpers=new qt(this.ctx),this.ctx.zoomPanSelection=new pt(this.ctx),this.ctx.w.globals.tooltip=new wt(this.ctx)}}]),t}(),Ht=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!i&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach((function(t){a.removeEventListener(t,e.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elAnnotations=null,o.elLegendWrap=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),t}(),Wt=new WeakMap,jt=function(){function t(e,i){n(this,t),this.opts=i,this.ctx=this,this.w=new E(i).init(),this.el=e,this.w.globals.cuid=x.randomId(),this.w.globals.chartID=this.w.config.chart.id?x.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Vt(this).initModules(),this.create=x.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var s=t.w.config.chart.events.beforeMount;if("function"==typeof s&&s(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(t,e){var i=!1;if(t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var s=t.getBoundingClientRect();"none"!==t.style.display&&0!==s.width||(i=!0)}var a=new ResizeObserver((function(s){i&&e.call(t,s),i=!0}));t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(t.children).forEach((function(t){return a.observe(t)})):a.observe(t),Wt.set(e,a)}(t.el.parentNode,t.parentResizeHandler),!t.css){var a=t.el.getRootNode&&t.el.getRootNode(),o=x.is("ShadowRoot",a),r=t.el.ownerDocument,n=r.getElementById("apexcharts-css");!o&&n||(t.css=document.createElement("style"),t.css.id="apexcharts-css",t.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',o?a.prepend(t.css):r.head.appendChild(t.css))}var l=t.create(t.w.config.series,{});if(!l)return e(t);t.mount(l).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(l)})).catch((function(t){i(t)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this.w;new Vt(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new $(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return s.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===s.svgWidth)return s.animationEnded=!0,null;var a=S.checkComboSeries(t);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var o=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||o)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new R(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new S(this).getLargestMarkerSize(),this.dimensions.plotCoords();var r=this.core.xySettings();this.grid.createGridMask();var n=this.core.plotChartType(t,r),l=new V(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:n,xyRatios:r,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,s=i.w;return new Promise((function(a,o){if(null===i.el)return o(new Error("Not enough data to display or target element not found"));(null===e||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new U(i);var r=i.grid.drawGrid();"treemap"!==s.config.chart.type&&i.axes.drawAxis(s.config.chart.type,r),i.annotations=new F(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===s.config.grid.position&&r&&s.globals.dom.elGraphical.add(r.el);var n=new G(t.ctx,r),l=new Z(t.ctx,r);if(null!==r&&(n.xAxisLabelCorrections(r.xAxisTickWidth),l.setYAxisTextAlignments(),s.config.yaxis.map((function(t,e){-1===s.globals.ignoreYAxisIndexes.indexOf(e)&&l.yAxisTitleRotate(e,t.opposite)}))),"back"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(e.elGraph))for(var c=0;c<e.elGraph.length;c++)s.globals.dom.elGraphical.add(e.elGraph[c]);else s.globals.dom.elGraphical.add(e.elGraph);if("front"===s.config.grid.position&&r&&s.globals.dom.elGraphical.add(r.el),r&&r.elGridBorders&&r.elGridBorders.node&&s.globals.dom.elGraphical.add(r.elGridBorders),"front"===s.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===s.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var d=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){d[t]=!1}))}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),a(i)}))}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,t=this.parentResizeHandler,(e=Wt.get(t))&&(e.disconnect(),Wt.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach((function(t,e){t.id===x.escapeString(i)&&Apex._chartInstances.splice(e,1)})),new Ht(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w;return r.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,i){return e.updateHelpers._extendSeries(t,i)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),r.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,s,a,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w.config.series.slice();return s.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),a=0;a<s.length;a++)if(null!==t[a]&&void 0!==t[a])for(var o=0;o<t[a].data.length;o++)s[a].data.push(t[a].data[o]);return i.w.config.series=s,e&&(i.w.globals.initialSeries=x.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,s){new Ht(e.ctx).clear({isUpdating:!0});var a=e.create(e.w.config.series,t);if(!a)return i(e);e.mount(a).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(t){s(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(t,e,s)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(t,e,s)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(t,e,s)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Q(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Q(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new Y(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Y(this.ctx);return e.exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=x.escapeString(t),i=Apex._chartInstances.filter((function(t){return t.id===e}))[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var s=null;if(-1!==i.publicMethods.indexOf(e)){for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];s=i[e].apply(i,o)}return s}}},{key:"merge",value:function(t,e){return x.extend(t,e)}}]),t}();t.exports=jt},bb36:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"q-pr-sm",class:t.attachComment?"col-auto":"col",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||t.attachComment||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-auto notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||!t.attachComment&&t.attachmentList.length&&t.fileNames.length||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-12 q-pl-sm q-pb-sm q-pt-sm",class:t.notifyInitiatorClass,attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row actions advance-cmd"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e(),t.selectedProcess.processId&&"START"!==t.selectedProcess.stageType&&!t.isPortal?e("CheckboxField",{staticClass:"col-auto q-pl-sm adv-notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e()],1):t._e(),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[],o=(i("14d9"),i("381e")),r=i("1b0d"),n=i("1c54"),l=i("6df3"),c=i("6a70"),d=i("695e"),h=i("869e"),u=i("12b8"),m=i("9234"),p=i("fa1f"),f={name:"Comments",components:{Sheet:o["a"],Confirm:n["a"],TextAreaField:l["a"],Modal:c["a"],TextBuilderField:d["a"],CheckboxField:h["a"],SelectField:u["a"],SingleChoiceField:m["a"],FileIcon:p["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formFields:{type:Array,default:()=>[]},attachmentList:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},actionComments:{type:Boolean,default:!1},fileNames:{type:Array,default:()=>[]},comments:{type:Array,default:()=>[]},displayInternalPublic:{type:Boolean,default:!1},isPortal:{type:Boolean,default:!1}},data(){return{commentsSheet:!1,commentText:"",commentsList:[],attachComment:!1,selectedFileForAttach:0,advancedCommentsSheet:!1,advancedCommentText:"",commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,errorMessage:"",errorModal:!1,successModal:!1,notifyInitiator:!1}},computed:{commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode||this.initiateProcess||this.isPortal?this.checkCommentsOption()&&!this.isCustomizedWorkflow?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 270px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 230px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 200px)":this.displayInternalPublic?"calc(100vh - 220px)":"START"===this.selectedProcess.stageType||this.isPortal?"calc(100vh - 150px)":"calc(100vh - 180px)":"calc(100vh - 150px)":""},notifyInitiatorClass(){return this.attachmentList.length&&this.fileNames.length?"":"action-container"}},watch:{value:{immediate:!0,handler(){this.commentsSheet=!0,this.commentsList=this.comments,this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments()},3e4):clearInterval(this.commentsLoad)}}},methods:{closeCommentsSheet(){this.commentsSheet=!1,this.$emit("update:comments",this.commentsList),this.$emit("commentsCount",this.commentsList.length),this.$emit("update:value",!1)},async getComments(t=0,e=0){this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.$emit("commentsCount",this.commentsList.length))},async saveComment(){if(this.commentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}this.commentText="",this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})}),this.$emit("commentsCount",this.commentsList.length),this.commentText="",this.clearAttach()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.$emit("commentsCount",this.commentsList.length);this.actionComments&&this.$emit("processRequest",!1,!1)}},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1,this.notifyInitiator=!1},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:n}=await r["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(n),this.jiraCommentAction=1},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},checkCommentsOption(){return!this.isTenantArmgroup()&&(!this.isTenantGOTO()||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},checkTenant(){return!this.isTenantArmgroup()||(this.commentAction=2,!1)},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:80801"===t)&&3===this.$store.state.session.tenantId},isTenantGOTOComments(){return!!(Object.keys(this.selectedProcess).length&&this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id)},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)}}},g=f,v=(i("c5b7"),i("2877")),b=i("8169"),y=i("93dc"),x=i.n(y),w=Object(v["a"])(g,s,a,!1,null,null,null);e["a"]=w.exports;x()(w,"components",{QChatMessage:b["a"]})},bcdf:function(t,e,i){var s={"./name-dark.png":"cd22","./name-light.png":"00c2"};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="bcdf"},bdf3:function(t,e,i){},be3f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search",expression:"'search'",modifiers:{top:!0}}],staticClass:"is-expanded",attrs:{id:"expandable-search"},on:{click:t.toggle}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-search"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"expandableSearch",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{keyup:function(e){return t.$emit("search",t.searchQuery)},blur:t.handleBlur,input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})],1)},a=[],o={name:"ExpandableSearch",data(){return{isExpanded:!1,searchQuery:""}},methods:{toggle(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs.expandableSearch.focus()},handleBlur(){this.isExpanded=!1}}},r=o,n=(i("fdd5"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"29b72610",null);e["a"]=l.exports},bf55:function(t,e,i){"use strict";i("686b")},c2d0:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.pieChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("2f62"),r=i("a1a34"),n=i("2adf"),l={name:"PieChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{pieChartOptions:{chart:{type:"pie"},labels:this.xData,stroke:{colors:["#ffffff"]}}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(r["a"])(this.pieChartOptions,this.options)}},darkTheme(){this.pieChartOptions.stroke.colors=this.darkTheme?["#1d2129"]:["#ffffff"]}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"6f859db7",null);e["a"]=h.exports},c52a:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{width:t.formWidth},attrs:{id:"custom-process-form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 130px)"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"q-pr-sm row",class:t.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12",style:t.inbox?"":"height:10px;"},[e("div",{staticClass:"col-12 header",class:t.inbox?"":"q-mb-sm"},[t._v(" Customer Information ")]),e("table",{staticClass:"col-12 q-mb-sm"},[e("tbody",[e("tr",[e("td",[t._v("Claimant Info")]),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claimant Info"),options:t.claimantInfoList,"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Claimant Info")},onBlur:function(e){return t.autoSave("Claimant Info")}}})],1),e("td",[t._v("First Name")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("First Name"),highlight:t.checkHighlight("First Name"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"First Name")},onBlur:function(e){return t.autoSave("First Name")}}})],1),e("td",[t._v("Last Name")]),e("td",{attrs:{colspan:"2"}},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Last Name"),highlight:t.checkHighlight("Last Name"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Last Name")},onBlur:function(e){return t.autoSave("Last Name")}}})],1)]),e("tr",[e("td",[t._v("DOB")]),e("td",[e("DateField",{staticClass:"custom-controls",attrs:{value:t.getModel("DOB"),highlight:t.checkHighlight("DOB"),"is-readonly":t.isReadonly||!t.fieldVerification,"maximum-validation":!0},on:{input:function(e){return t.updateModel(e,"DOB")},onBlur:function(e){return t.autoSave("DOB")}}})],1),e("td",[t._v("Current Age")]),e("td",[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Current Age"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Current Age")},onBlur:function(e){return t.autoSave("Current Age")}}})],1),e("td",[t._v("Age at DOC")]),e("td",[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Age at Doc"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Age at Doc")},onBlur:function(e){return t.autoSave("Age at Doc")}}})],1)]),e("tr",[e("td",[t._v("Address")]),e("td",{attrs:{colspan:"5"}},[e("TextAreaField",{attrs:{value:t.getModel("Address"),highlight:t.checkHighlight("Address"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Address")},onBlur:function(e){return t.autoSave("Address")}}})],1)]),e("tr",[e("td",[t._v("City")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("City"),highlight:t.checkHighlight("City"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"City")},onBlur:function(e){return t.autoSave("City")}}})],1),e("td",[t._v("Province")]),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Province"),options:t.provinceList,highlight:t.checkHighlight("Province"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Province")},onBlur:function(e){return t.autoSave("Province")}}})],1),e("td",[t._v("Postal Code")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Postal Code"),highlight:t.checkHighlight("Postal Code"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Postal Code")},onBlur:function(e){return t.autoSave("Postal Code")}}})],1)]),e("tr",[e("td",[t._v("Phone No.")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Phone No."),highlight:t.checkHighlight("Phone No."),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Phone No.")},onBlur:function(e){return t.autoSave("Phone No.")}}})],1),e("td",[t._v("Email ID")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Email ID"),highlight:t.checkHighlight("Email ID"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Email ID")},onBlur:function(e){return t.autoSave("Email ID")}}})],1),e("td",[t._v("Name of Deceased")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Name of Deceased"),"is-readonly":t.isReadonly||!t.isNameOfDeceasedEditable||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Name of Deceased")},onBlur:function(e){return t.autoSave("Name of Deceased")}}})],1)])])]),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?e("div",{staticClass:"col-12"},[t.isReadonly?t.fieldVerification?t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}})]:[t.fieldVerification?[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmCustomerInfo}})]:[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmCustomerInfo}})]]],2):t._e(),e("div",{staticClass:"header col-12",class:t.inbox?"":"q-mb-sm"},[t._v(" Loan Information ")]),e("table",{staticClass:"col-12 q-mb-sm loan-info"},[e("tbody",[e("tr",[e("td",[t._v("Group Policy")]),e("td",[t._v(t._s(t.getModel("Group Policy")||"-"))]),e("td",[t._v("Payment Frequency")]),e("td",[t._v(t._s(t.getModel("Payment Frequency")||"-"))])]),e("tr",[e("td",[t._v("Loan No.")]),e("td",[t._v(t._s(t.getModel("Loan No.")||"-"))]),e("td",[t._v("No. of Loan Payments")]),e("td",[t._v(" "+t._s(t.getModel("No. of Loan Payments")||"-")+" ")])]),e("tr",[e("td",[t._v("Loan Start Date")]),e("td",[t._v(t._s(t.getModel("Loan Start Date")||"-"))]),e("td",[t._v("Last Remitted Date")]),e("td",[t._v(t._s(t.getModel("Last Remitted Date")||"-"))])]),e("tr",[e("td",[t._v("Term")]),e("td",[t._v(t._s(t.getModel("Term")||"-"))]),e("td",[t._v("Cancellation Date")]),e("td",[t._v(t._s(t.getModel("Cancellation Date")||"-"))])]),e("tr",[e("td",[t._v("Loan End Date")]),e("td",[t._v(t._s(t.getModel("Loan End Date")||"-"))]),e("td",[t._v("Cancel Reason")]),e("td",[t._v(t._s(t.getModel("Cancel Reason")||"-"))])])])]),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?e("div",{staticClass:"col-12"},[t.loanInfoVerify?t.loanInfoVerify?[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmLoanInfo}})]:t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmLoanInfo}})]],2):t._e()]),e("div",{staticClass:"row",class:t.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12"},[e("div",{staticClass:"col-12 header q-mb-sm"},[t._v("Claim Information")]),e("div",{staticClass:"col-12 full-border q-pa-sm"},[e("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[e("thead",[e("tr",[e("th",[t._v("Claim No.")]),e("th",[t._v("Reference No.")]),e("th",[t._v("Claim Date")]),e("th",[t._v("Claim Package Sent")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.getModel("Claim No.")||"-"))]),e("td",[t._v(t._s(t.getModel("Reference No.")||"-"))]),e("td",[e("DateField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claim Date"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Claim Date")},onBlur:function(e){return t.autoSave("Claim Date")}}})],1),e("td",[t._v(t._s(t.getModel("Claim Package Sent")||"-"))])])])]),e("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[e("thead",[e("tr",[e("th",[t._v("Claim Received Date")]),e("th",[t._v("Processing Date")]),e("th",[t._v("Initials")]),e("th",[t._v("Language")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.getModel("Claim Received Date")||"-"))]),e("td",[t._v(t._s(t.getModel("Processing Date")||"-"))]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Initials"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Initials")},onBlur:function(e){return t.autoSave("Initials")}}})],1),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Language"),options:t.languageList,"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Language")},onBlur:function(e){return t.autoSave("Language")}}})],1)])])]),e("table",{staticClass:"claim-info single-border"},[e("tbody",[e("tr",[e("td",[t._v("Benefit Claimed")]),e("td",{staticClass:"medium"},[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Benefit Claimed"),options:t._productList,"is-readonly":t.isReadonly||t.claimInfoVerify||!t.isChangeBenefitClaimed},on:{input:function(e){return t.updateModel(e,"Benefit Claimed")},onBlur:function(e){return t.autoSave("Benefit Claimed")}}})],1),e("td",[t._v("Loan Payment Amount")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Loan Payment Amount"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Loan Payment Amount")},onBlur:function(e){return t.autoSave("Loan Payment Amount")}}})],1)]),e("tr",[e("td",[t._v("Reason/Cause")]),e("td",{staticClass:"medium"},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Reason/Cause"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Reason/Cause")},onBlur:function(e){return t.autoSave("Reason/Cause")}}})],1),e("td",[t._v("LPP Premium Amount")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("LPP Premium Amount"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"LPP Premium Amount")},onBlur:function(e){return t.autoSave("LPP Premium Amount")}}})],1)]),e("tr",[e("td",[t._v("Claim Decision")]),e("td",{staticClass:"medium"},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claim Decision"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Claim Decision")},onBlur:function(e){return t.autoSave("Claim Decision")}}})],1),e("td",[t._v("Principal Balance at DOC")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Principal Balance At Doc"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Principal Balance At Doc")},onBlur:function(e){return t.autoSave("Principal Balance At Doc")}}})],1)]),e("tr",[e("td",[t._v("Decline Reason")]),e("td",{staticClass:"medium"},[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Decline Reason"),options:t.declineReasonList,"is-readonly":!0},on:{input:function(e){return t.updateModel(e,"Decline Reason")},onBlur:function(e){return t.autoSave("Decline Reason")}}})],1),e("td",[t._v("LumpSum Principal Balance")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("LumpSum Principal Balance"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"LumpSum Principal Balance")},onBlur:function(e){return t.autoSave("LumpSum Principal Balance")}}})],1)]),e("tr",[e("td",{attrs:{colspan:"3"}},[e("MultipleChoiceField",{staticClass:"custom-controls no-border",attrs:{value:t.getModel("Authorization"),options:t.authorizationTypes,"options-per-line":3,"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){t.updateModel(e,"Authorization"),t.autoSave("Authorization")}}})],1),e("td",["001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?[t.claimInfoVerify?t.claimInfoVerify?[e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto","margin-top":"10px"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmClaimInfo}})]:t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmClaimInfo}})]]:t._e()],2)])])])]),e("div",{staticClass:"col-12 q-mt-sm full-border q-pa-sm"},[e("div",{staticClass:"col header"},[t._v("Required Documents")]),e("MultipleChoiceField",{staticClass:"custom-controls q-mt-sm",attrs:{value:t.getModel("Required Documents"),options:t._documentCheckList,"options-per-line":3,"is-readonly":t.isReadonly},on:{input:function(e){t.updateModel(e,"Required Documents"),t.autoSave("Required Documents")}}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-mt-sm"},[e("div",{staticClass:"q-pl-sm q-mb-sm"},[e("Tabs",{attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}})],1),"Claim Status"===t.tab?[t.claimStatusTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.claimStatusTotalItems,"current-page":t.claimStatusCurrentPage,"items-per-page":t.claimStatusItemsPerPage},on:{"update:currentPage":function(e){t.claimStatusCurrentPage=e},"update:current-page":function(e){t.claimStatusCurrentPage=e},"update:itemsPerPage":function(e){t.claimStatusItemsPerPage=e},"update:items-per-page":function(e){t.claimStatusItemsPerPage=e},loadAll:t.loadAllClaimStatus}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.claimStatusSearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table table-content q-mt-sm",class:t.claimStatusTotalItems?"":"empty"},[e("thead",[e("tr",[t.inbox?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:t.addClaimStatus}})],1):t._e(),t._l(t.claimStatusColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])}))],2)]),e("tbody",t._l(t.claimStatusValues,(function(i,s){return e("tr",{key:"claimstatusrow"+s},[t.inbox?e("td",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"edit",expression:"'edit'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"secondary",icon:"mdi-square-edit-outline",size:"16px","is-flat":"","no-border":""},on:{click:function(e){return t.editClaimStatus(i)}}})],1):t._e(),t._l(t.claimStatusColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])}))],2)})),0)])])]:"Daily Data Summary"===t.tab?[t.dailyDataStatusTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.dailyDataStatusTotalItems,"current-page":t.dailyDataStatusCurrentPage,"items-per-page":t.dailyDataStatusItemsPerPage},on:{"update:currentPage":function(e){t.dailyDataStatusCurrentPage=e},"update:current-page":function(e){t.dailyDataStatusCurrentPage=e},"update:itemsPerPage":function(e){t.dailyDataStatusItemsPerPage=e},"update:items-per-page":function(e){t.dailyDataStatusItemsPerPage=e},loadAll:t.loadAllDailyDataStatus}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.dailyDataStatusSearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table q-mt-sm",class:t.dailyDataStatusTotalItems?"":"empty"},[e("thead",[e("tr",t._l(t.dailyDataStatusColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.dailyDataStatusValues,(function(i,s){return e("tr",{key:"dailydatarow"+s},t._l(t.dailyDataStatusColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])})),0)})),0)])])]:"Benefit Payment"===t.tab?[e("div",{attrs:{id:"paymentTable"}},[t.inbox?[t.hasLifeType||t.hasCIClaimsType?t._e():e("div",{staticClass:"row controls"},[e("div",{staticClass:"col"},["psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId||"psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId&&!t.isPaymentFound?[e("ValidationObserver",{ref:"form",staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Total Payment",rules:t.paymentValidationRules},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Total Payment","is-mandatory":"",error:i[0]},on:{input:t.updateLoanPaymentAmount},model:{value:t.totalPayment,callback:function(e){t.totalPayment=e},expression:"totalPayment"}})]}}],null,!1,452974274)})],1),t._e(),e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Payment Frequency",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Payment Frequency","is-mandatory":"",options:t.benefitTypes,"is-clearable":!1,error:i[0]},model:{value:t.benefitType,callback:function(e){t.benefitType=e},expression:"benefitType"}})]}}],null,!1,4170057051)})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action custom-button q-ml-sm",attrs:{label:"Calculate"},on:{click:t.paymentCalculation}})],1)])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&t.hasOtherClaimsType?e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-mr-sm custom-button",attrs:{label:"Add Lumpsum Payment",color:"primary"},on:{click:t.addLumpsumRow}})],1):t._e(),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId?[e("div",{staticClass:"col-auto"},[e("FormFieldLabel",{staticClass:"payment-action",attrs:{label:"Number of payments to approve"}})],1),e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Number of payments",rules:{min_value:0,max_value:t.paymentTableValues.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"payment-action q-ml-sm custom-controls",attrs:{"is-clearable":!1,"is-readonly":!t.paymentTableValues.length,error:i[0]},model:{value:t.numberOfApprovePayment,callback:function(e){t.numberOfApprovePayment=e},expression:"numberOfApprovePayment"}})]}}],null,!1,2997542867)})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Payment Approve",color:"secondary",disabled:!t.paymentTableValues.length},on:{click:t.paymentApprove}})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Clear",color:"red",disabled:!t.paymentTableValues.length},on:{click:t.clearPaymentApprove}})],1)]:t._e()],2)])])]:t._e(),e("div",{staticClass:"col"},[e("BaseScrollbar",[e("table",{staticClass:"tab-table table-content q-mb-sm",class:0===t.paymentTableValues.length?"empty":""},[e("thead",[e("tr",[t._l(t.paymentTableColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),t.inbox&&"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&!t.hasLifeType&&!t.hasCIClaimsType?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:t.addPaymentRow}})],1):t._e()],2)]),e("tbody",t._l(t.paymentTableValues,(function(i,s){return e("tr",{key:"paymentrow"+s},[t.inbox?[i["edit"]?t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes,"is-readonly":t.checkApprovalEdit(i)},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"NUMBER"===a.type?[e("NumberField",{attrs:{placeholder:"0.00"},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"SHORT_TEXT"===a.type?[e("TextField",{attrs:{"is-readonly":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]],2)})):[t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&""!==i[a.name]&&!i["delete"]?["approval"===a.name?["Approved"===i[a.name]?[e("span",{staticClass:"text-green",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]]:"paymentDate"===a.name?[e("DateField",{attrs:{"minimum-validation":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]:["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes,"is-readonly":t.checkApprovalEdit(i)},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"baseAmount"===a.name&&i["delete"]?[e("NumberField",{attrs:{placeholder:"0.00",min:0,max:2e3},on:{input:function(e){return t.calcOtherColumns(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"SHORT_TEXT"===a.type?[e("TextField",{attrs:{"is-readonly":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]],2)})),t.inbox&&"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound?e("td",{staticClass:"actions"},[i["delete"]?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"delete row",expression:"'delete row'"}],staticClass:"q-ml-xs small",attrs:{"is-flat":"",color:"red",icon:"eva-trash-outline","no-border":"",size:"16px"},on:{click:function(e){return t.removePaymentRow(s)}}}):t._e()],1):t._e()]]:t._l(t.paymentTableColumns,(function(s){return e("td",{key:s.id},["approval"===s.name?["Approved"===i[s.name]?[e("span",{staticClass:"text-green",attrs:{name:s.name,value:i[s.name],item:i}},[t._v(" "+t._s(i[s.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:s.name,value:i[s.name],item:i}},[t._v(" "+t._s(i[s.name])+" ")])]]:"paymentDate"===s.name?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===s.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":!0},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)}))],2)})),0)]),t.inbox&&t.paymentTableValues.length?e("BaseButton",{staticStyle:{float:"right"},attrs:{label:"Update Payments",color:"primary"},on:{click:t.updatePaymentTable}}):t._e()],1)],1)],2)]:"Payments"===t.tab?[t.paymentHistoryTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.paymentHistoryTotalItems,"current-page":t.paymentHistoryCurrentPage,"items-per-page":t.paymentHistoryItemsPerPage},on:{"update:currentPage":function(e){t.paymentHistoryCurrentPage=e},"update:current-page":function(e){t.paymentHistoryCurrentPage=e},"update:itemsPerPage":function(e){t.paymentHistoryItemsPerPage=e},"update:items-per-page":function(e){t.paymentHistoryItemsPerPage=e},loadAll:t.loadAllPaymentHistory}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.paymentHistorySearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table q-mt-sm",class:t.paymentHistoryTotalItems?"":"empty"},[e("thead",[e("tr",t._l(t.paymentHistoryColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.paymentHistoryValues,(function(i,s){return e("tr",{key:"paymenthistoryrow"+s},t._l(t.paymentHistoryColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])})),0)})),0)])])]:t._e()],2)])])]),e("Modal",{attrs:{width:"30vw",height:"40vh","has-footer":""},on:{input:function(e){t.declineReasonModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Recommend to Decline")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"declineModal"},[e("div",[e("ValidationProvider",{staticClass:"col",attrs:{name:"Decline Reason",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"field",attrs:{label:"Decline Reason","is-mandatory":"",options:t.declineReasonList,error:i[0]},model:{value:t.declineReason,callback:function(e){t.declineReason=e},expression:"declineReason"}})]}}])})],1)])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(e){t.declineReasonModal=!1}}}),e("BaseButton",{attrs:{label:"Recommend to Decline",color:"primary"},on:{click:t.updateDeclineReason}})]},proxy:!0}]),model:{value:t.declineReasonModal,callback:function(e){t.declineReasonModal=e},expression:"declineReasonModal"}}),e("Modal",{attrs:{width:"60vw",height:"70vh","has-footer":""},on:{input:function(e){t.claimStatusModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.selectedProcess.requestNo)+'" Claim Status Entry')]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"claim-status",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"claimStatusModal"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Claim Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"field",attrs:{label:"Claim Status","is-mandatory":"",options:t.claimStatusList,error:i[0]},model:{value:t.claimStatus,callback:function(e){t.claimStatus=e},expression:"claimStatus"}})]}}])})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Note",options:t.csNoteList,"new-option":"","is-readonly":""},model:{value:t.csNote,callback:function(e){t.csNote=e},expression:"csNote"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Claim Letter Sent",options:t.claimLetterSentList,"new-option":"","is-readonly":""},model:{value:t.claimLetterSent,callback:function(e){t.claimLetterSent=e},expression:"claimLetterSent"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Mailing Type",options:t.mailingTypeList},model:{value:t.mailingType,callback:function(e){t.mailingType=e},expression:"mailingType"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Lender Letter",options:t.lenderLetterList,"new-option":"","is-readonly":""},model:{value:t.lenderLetter,callback:function(e){t.lenderLetter=e},expression:"lenderLetter"}})],1),e("div",{staticClass:"col-4",staticStyle:{margin:"auto"}},[e("CheckboxField",{staticClass:"field",attrs:{label:"Internal Only"},model:{value:t.internalOnly,callback:function(e){t.internalOnly=e},expression:"internalOnly"}})],1),e("div",{staticClass:"col-12"},[e("TextAreaField",{staticClass:"field",attrs:{label:"Internal Notes"},model:{value:t.internalNotes,callback:function(e){t.internalNotes=e},expression:"internalNotes"}})],1)])])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(e){t.claimStatusModal=!1}}}),e("BaseButton",{attrs:{label:Object.keys(t.claimStatusRow).length?"Update":"Add",color:"primary"},on:{click:t.saveClaimStatus}})]},proxy:!0}]),model:{value:t.claimStatusModal,callback:function(e){t.claimStatusModal=e},expression:"claimStatusModal"}})],1)},a=[],o=(i("caad"),i("14d9"),i("7bb1")),r=i("3445"),n=i("12b8"),l=i("b3d1"),c=i("53c1"),d=i("ad54"),h=i("6df3"),u=i("1e48"),m=i("869e"),p=i("7286"),f=i("6a70"),g=i("42fc"),v=i("0d5e"),b=i("1b0d"),y=i("b6d2"),x=i("be3f"),w=i("5c8a"),C={name:"CustomProcessForm",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],FormFieldLabel:r["a"],SelectField:n["a"],TextField:l["a"],DateField:c["a"],NumberField:d["a"],TextAreaField:h["a"],MultipleChoiceField:u["a"],CheckboxField:m["a"],Tabs:p["a"],Modal:f["a"],Pagination:y["a"],ExpandableSearch:x["a"]},props:{formId:{type:String,default:"0"},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},formModel:{type:Object,default:()=>{}},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},formFields:{type:Array,default:()=>[]},dataValidationValues:{type:Array,default:()=>[]},selectedProcess:{type:Object,required:!0},isReadonly:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},formCheckList:{type:Boolean,default:!1},saveOnly:{type:Boolean,default:!1},inbox:{type:Boolean,default:!1},autoSaveModel:{type:Object,default:()=>{}}},data(){return{formWidth:"100%",claimantInfoList:[{id:this.$nano.id(),label:"Borrower",value:"Borrower",claimType:""},{id:this.$nano.id(),label:"Co-Borrower",value:"Co-Borrower",claimType:""},{id:this.$nano.id(),label:"Next of Kin",value:"Next of Kin",claimType:"Life"}],authorizationTypes:[{id:this.$nano.id(),label:"Claimant Submitted",value:"Claimant Submitted"},{id:this.$nano.id(),label:"Special Auth",value:"Special Auth"},{id:this.$nano.id(),label:"Goodwill Claim",value:"Goodwill Claim"},{id:this.$nano.id(),label:"Advance Receipt",value:"Advance Receipt"},{id:this.$nano.id(),label:"Lump Sum Eligibility Status",value:"Lump Sum Eligibility Status"},{id:this.$nano.id(),label:"Pandemic",value:"Pandemic"},{id:this.$nano.id(),label:"Return To Work",value:"Return To Work"},{id:this.$nano.id(),label:"Prior Loan Used",value:"Prior Loan Used"}],documentCheckList:[{id:this.$nano.id(),label:"Claimant's Statement",value:"Claimant's Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Application to Enroll",value:"Application to Enroll",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Payment Schedule/History",value:"Payment Schedule or History",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Employer's Statement/ROE",value:"Employer's Statement Or ROE",for:["Critical Illness","Involuntary Unemployment","Sickness or Injury","Unpaid Family Leave","Disability"]},{id:this.$nano.id(),label:"Loan Agreement",value:"Loan Agreement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Lender Claim Statement",value:"Lender Claim Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Physician's Statement",value:"Physician's Statement",for:["Critical Illness","Life","Sickness or Injury","Disability"]},{id:this.$nano.id(),label:"Section 2B",value:"Section 2B",for:["Lifetime Milestone"]},{id:this.$nano.id(),label:"Supporting Documentation",value:"Supporting Documentation",for:["Lifetime Milestone"]}],tabs:[{id:this.$nano.id(),label:"Claim Status",value:"Claim Status"},{id:this.$nano.id(),label:"Daily Data Summary",value:"Daily Data Summary"},{id:this.$nano.id(),label:"Benefit Payment",value:"Benefit Payment"},{id:this.$nano.id(),label:"Payments",value:"Payments"}],tab:"Claim Status",totalPayment:0,lumpsumAmount:0,benefitType:"",benefitTypes:[{id:this.$nano.id(),label:"Monthly",value:"Monthly"},{id:this.$nano.id(),label:"Bi-weekly",value:"BiWeekly"},{id:this.$nano.id(),label:"Semi-monthly",value:"SemiMonthly"},{id:this.$nano.id(),label:"Weekly",value:"Weekly"}],numberOfApprovePayment:0,paymentTableColumns:[{id:this.$nano.id(),name:"paymentNumber",label:"Payment Number",type:"LABEL"},{id:this.$nano.id(),name:"baseAmount",label:"Payment Base Amount",type:"NUMBER"},{id:this.$nano.id(),name:"claimAmount",label:"Claim Amount (20% Increased)",type:"NUMBER"},{id:this.$nano.id(),name:"cumulativeTotal",label:"Cumulative Total",type:"NUMBER"},{id:this.$nano.id(),name:"approval",label:"Approval",type:"SINGLE_SELECT"},{id:this.$nano.id(),name:"approvedDate",label:"Approved Date",type:"DATE"},{id:this.$nano.id(),name:"paymentDate",label:"Payment Date",type:"DATE"},{id:this.$nano.id(),name:"approvedBy",label:"Approved By",type:"LABEL"},{id:this.$nano.id(),name:"notes",label:"Notes",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"goodWill",label:"Goodwill",type:"CHECKBOX"},{id:this.$nano.id(),name:"lppPlus",label:"LPP Plus",type:"CHECKBOX"},{id:this.$nano.id(),name:"preApprovedPmt",label:"Pre Approved Pmt",type:"CHECKBOX"},{id:this.$nano.id(),name:"psgCovered",label:"PSG Covered",type:"CHECKBOX"}],paymentTableValues:[],isPaymentFound:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],cityList:[],provinceList:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],declineReasonList:[],declineReason:"",declineReasonModal:!1,loanInfoVerify:!1,claimInfoVerify:!1,languageList:[{id:this.$nano.id(),label:"EN",value:"EN"},{id:this.$nano.id(),label:"FR",value:"FR"}],isNameOfDeceasedEditable:!1,claimStatusColumns:[{id:this.$nano.id(),name:"ClaimStatus",label:"Claim Status"},{id:this.$nano.id(),name:"CSDate",label:"Date"},{id:this.$nano.id(),name:"CSNote",label:"Note"},{id:this.$nano.id(),name:"ClaimLetterSent",label:"Claim Letter Sent"},{id:this.$nano.id(),name:"AuthorizedBy",label:"Authorized By"},{id:this.$nano.id(),name:"MailingType",label:"Mailing Type"},{id:this.$nano.id(),name:"ModifiedBy",label:"Modified By"},{id:this.$nano.id(),name:"ModifiedDt",label:"Modified Date"},{id:this.$nano.id(),name:"LenderLetter",label:"Lender Letter"},{id:this.$nano.id(),name:"CreatedBy",label:"Created By"},{id:this.$nano.id(),name:"CreatedDt",label:"Created Date"},{id:this.$nano.id(),name:"InternalOnly",label:"Internal Only"},{id:this.$nano.id(),name:"InternalNotes",label:"Internal Notes"}],claimStatusValues:[],claimStatusValuesData:[],claimStatusTotalItems:0,claimStatusItemsPerPage:10,claimStatusCurrentPage:1,claimStatusRow:{},claimStatusModal:!1,claimStatusList:[],claimStatus:"",csDate:"",csNoteList:[],csNote:0,claimLetterSentList:[],claimLetterSent:0,mailingTypeList:[{id:this.$nano.id(),label:"Word Merged Letter",value:"WordmergedLetter"},{id:this.$nano.id(),label:"Email",value:"Email"}],mailingType:"",lenderLetterList:[],lenderLetter:"",internalOnly:!1,internalNotes:"",dailyDataStatusColumns:[{id:this.$nano.id(),name:"FileDate",label:"File Date"},{id:this.$nano.id(),name:"PolicyNumber",label:"Policy Number"},{id:this.$nano.id(),name:"Province",label:"Province"},{id:this.$nano.id(),name:"FirstName",label:"First Name"},{id:this.$nano.id(),name:"LastName",label:"Last Name"},{id:this.$nano.id(),name:"LoanKey",label:"Loan Key"},{id:this.$nano.id(),name:"PriorLoan",label:"Prior Loan"},{id:this.$nano.id(),name:"EffectiveDate",label:"Effective Date"},{id:this.$nano.id(),name:"CancellationDate",label:"Cancellation Date"},{id:this.$nano.id(),name:"LoanTerm",label:"Loan Term"},{id:this.$nano.id(),name:"PrincipalLent",label:"Principal Lent"},{id:this.$nano.id(),name:"Freq",label:"Freq"},{id:this.$nano.id(),name:"TotalObligation",label:"Total Obligation"},{id:this.$nano.id(),name:"FirstPayment",label:"First Payment"},{id:this.$nano.id(),name:"MinimumPrincipal",label:"Minimum Principal"},{id:this.$nano.id(),name:"MinimumInterest",label:"Minimum Interest"},{id:this.$nano.id(),name:"MinPIDue",label:"Min PI Due"},{id:this.$nano.id(),name:"LPPCharge",label:"LPP Charge"},{id:this.$nano.id(),name:"LPPCollected",label:"LPP Collected"},{id:this.$nano.id(),name:"LastPayment",label:"Last Payment"},{id:this.$nano.id(),name:"DefaultDate",label:"Default Date"},{id:this.$nano.id(),name:"ClearedPayments",label:"Cleared Payments"},{id:this.$nano.id(),name:"MissedPayments",label:"Missed Payments"},{id:this.$nano.id(),name:"PastDueAmount",label:"Past Due Amount"},{id:this.$nano.id(),name:"PastDueInterest",label:"Past Due Interest"},{id:this.$nano.id(),name:"PastDueInsuranceFee",label:"Past Due Insurance Fee"},{id:this.$nano.id(),name:"PastDuePrincipalAmount",label:"Past Due Principal Amount"},{id:this.$nano.id(),name:"PastDueNsfFee",label:"Past Due Nsf Fee"},{id:this.$nano.id(),name:"LoanBalance",label:"Loan Balance"},{id:this.$nano.id(),name:"PrincipalBalance",label:"Principal Balance"},{id:this.$nano.id(),name:"ExpectedMinPayment",label:"Expected Min Payment"}],dailyDataStatusValues:[],dailyDataStatusValuesData:[],dailyDataStatusTotalItems:0,dailyDataStatusItemsPerPage:10,dailyDataStatusCurrentPage:1,paymentHistoryColumns:[{id:this.$nano.id(),name:"StoreLoanNumber",label:"Store Loan Number"},{id:this.$nano.id(),name:"Premium",label:"Premium"},{id:this.$nano.id(),name:"PaymentDate",label:"Payment Date"},{id:this.$nano.id(),name:"TransactionType",label:"Transaction Type"},{id:this.$nano.id(),name:"Taxes",label:"Taxes"},{id:this.$nano.id(),name:"PaymentAmount",label:"Payment Amount"},{id:this.$nano.id(),name:"RemitDate",label:"Remit Date"}],paymentHistoryValues:[],paymentHistoryValuesData:[],paymentHistoryTotalItems:0,paymentHistoryItemsPerPage:10,paymentHistoryCurrentPage:1,clearPayment:!1,hasLifeType:!1,hasCIClaimsType:!1,hasLMUFLClaimsType:!1,hasOtherClaimsType:!1,isChangeBenefitClaimed:!1,hasSicknessClaimsChanged:!1}},computed:{isMaximized(){return"100%"===this.formWidth},fieldVerification(){let t=!1;if(this.dataValidationValues.length){let e=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];e.forEach(e=>{let i=this.dataValidationValues.find(t=>t.fieldName==e);i&&"Not Matched"!==i.status&&"Not Verified"!==i.status||(t=!0)})}else t=!0;return t},userInitials(){let t="";return this.$store.state.session.firstName&&(t+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?t+=this.$store.state.session.lastName[0].toUpperCase():t+=this.$store.state.session.firstName[1],t},userNames(){let t;return this.$store.state.session.firstName&&(t=this.$store.state.session.firstName),this.$store.state.session.lastName&&(t+=" "+this.$store.state.session.lastName),t},_productList(){let t=this.formFields.find(t=>"Benefit Claimed"===t.label),e="";return t&&(e=this.formModel[t.value]),"Critical Illness"===e||"Sickness or Injury"===e?this.productList.filter(t=>"Critical Illness"===t.label||"Sickness or Injury"===t.label):this.productList},_documentCheckList(){let t=this.formFields.find(t=>"Benefit Claimed"===t.label),e="";return t&&(e=this.formModel[t.value]),this.documentCheckList.filter(t=>t.for.includes(e))},STLOCTypeFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||("ST001"!==i[0]||"MM01"===i[1])&&"LOC001"!==i[0])},ENHTypeFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"ENH001"!==i[0])},mobileFinanceFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"CPL001M"!==i[0])},paymentValidationRules(){const t={required:!0,min_value:1};return this.STLOCTypeFormula&&!this.hasLMUFLClaimsType?t.max_value=4e3:this.STLOCTypeFormula&&this.hasLMUFLClaimsType?t.max_value=2e3:this.ENHTypeFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?t.max_value=1e3:this.mobileFinanceFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?t.max_value=1250:(this.ENHTypeFormula||this.mobileFinanceFormula)&&(t.max_value=1e3),t},moneyMartFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"ST001"!==i[0]||"MM01"!==i[1])}},watch:{saveAction:{immediate:!0,async handler(){if(this.saveAction){if("Save"===this.saveAction||"Force Close"===this.saveAction)return void this.$emit("update:workflowFormModel",this.formModel);if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Approve"==this.saveAction){if(this.fieldVerification||!this.loanInfoVerify||!this.claimInfoVerify)return this.$alert.warning("Verification Required"),void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Approve","Claim Decision")}else if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Decline"==this.saveAction){if(!this.getModel("Decline Reason"))return this.declineReasonModal=!0,void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Decline","Claim Decision")}else if("k4-junYNP5tico7rUVJY_"===this.selectedProcess.activityId||"pyEp-anz7DIWhvoQLf6oC"===this.selectedProcess.activityId){let t=this.paymentTableValues.filter(t=>t.approval);if(console.log(t),!t.length)return this.$alert.warning("Should be approve payment"),void this.$emit("update:saveAction","")}this.$emit("update:workflowFormModel",this.formModel)}}},dataValidationValues:{deep:!0,immediate:!0,handler(){if(this.loanInfoVerify=!1,this.claimInfoVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.find(t=>"Loan Info"===t.fieldName);t&&(this.loanInfoVerify="Verified"===t.status);let e=this.dataValidationValues.find(t=>"Claim Info"===t.fieldName);e&&(this.claimInfoVerify="Verified"===e.status)}}},selectedProcess:{immediate:!0,deep:!0,handler(){this.selectedProcess.processId&&(this.isChangeBenefitClaimed=!1,this.clearPayment=!1,this.getPaymentTable(),this.getClaimStatus(),this.getDailyDataStatus(),this.getPaymentHistory(),this.checkDocument())}},formCheckList:{immediate:!0,deep:!0,handler(){if(this.formCheckList){let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.checkList.length&&(this.documentValidation(),this.$emit("update:formCheckList",!1))}}},formModel:{immediate:!0,handler(){this.formModel&&(this.cloneFormModel=Object(w["a"])(this.formModel),this.getCalculateValidation(this.getModel("Benefit Claimed")))}},moneyMartFormula:{immediate:!0,handler(){this.moneyMartFormula?this.paymentTableColumns.forEach(t=>{"Claim Amount (20% Increased)"!==t.label||(t.label="Benefit Enhancement")}):this.paymentTableColumns.forEach(t=>{"Benefit Enhancement"!==t.label||(t.label="Claim Amount (20% Increased)")})}},hasSicknessClaimsChanged:{handler(){if(this.isPaymentFound&&this.hasSicknessClaimsChanged){if(this.paymentTableValues.length){let t=this.paymentTableValues[0];this.paymentTableValues=[],t&&this.paymentTableValues.push(t)}let t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)}else if(!this.isPaymentFound&&this.hasSicknessClaimsChanged){let t={paymentId:0,paymentNumber:1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};if(this.paymentTableValues.length){let e=this.paymentTableValues[0];this.paymentTableValues=[],this.paymentTableValues.push(e),this.paymentTableValues.push(t)}else this.paymentTableValues=[],this.paymentTableValues.push(t)}}},hasCIClaimsType:{immediate:!0,handler(){this.hasCIClaimsType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}},hasLifeType:{immediate:!0,handler(){this.hasLifeType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}}},created(){this.getProvinceList(),this.getDeclineReasonList(),this.getClaimStatusMaster(6)},mounted(){this.$watch(t=>[t.claimStatusCurrentPage,t.claimStatusItemsPerPage],()=>this.getClaimStatus(),{deep:!0,immediate:!0}),this.$watch(t=>[t.dailyDataStatusCurrentPage,t.dailyDataStatusItemsPerPage],()=>this.getDailyDataStatus(),{deep:!0,immediate:!0}),this.$watch(t=>[t.paymentHistoryCurrentPage,t.paymentHistoryItemsPerPage],()=>this.getPaymentHistory(),{deep:!0,immediate:!0})},methods:{getCalculateValidation(t){"Life"===t?(this.hasLifeType=!0,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Critical Illness"===t?(this.hasCIClaimsType=!0,this.hasLifeType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Lifetime Milestone"===t||"Unpaid Family Leave"===t?(this.hasLMUFLClaimsType=!0,this.hasCIClaimsType=!1,this.hasLifeType=!1,this.hasOtherClaimsType=!1):(this.hasOtherClaimsType=!0,this.hasLifeType=!1,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1)},getModel(t){let e=this.formFields.find(e=>e.label===t);if(e){if("Benefit Claimed"===t)"Critical Illness"===this.formModel[e.value]||"Sickness or Injury"===this.formModel[e.value]?this.isChangeBenefitClaimed=!0:this.isChangeBenefitClaimed=!1;else if("Current Age"===t){let t=this.formFields.find(t=>"DOB"===t.label);t&&this.formModel[t.value]&&(this.formModel[e.value]=this.calculateAge(this.formModel[t.value]))}return"MULTIPLE_CHOICE"===e.type?this.formModel[e.value]?this.formModel[e.value]:[]:"DATE"===e.type?this.$day.parseDate(this.formModel[e.value]):this.formModel[e.value]}},updateModel(t,e){"Sickness or Injury"===this.getModel(e)?"Critical Illness"===t&&(this.hasSicknessClaimsChanged=!0):"Critical Illness"===this.getModel(e)&&"Sickness or Injury"===t&&(this.isPaymentFound=!1,this.hasSicknessClaimsChanged=!1,this.paymentTableValues=[]);let i=this.formFields.find(t=>t.label===e);if(i&&(this.formModel[i.value]=t),"Claimant Info"===e)"Next of Kin"===t?this.isNameOfDeceasedEditable=!0:(this.isNameOfDeceasedEditable=!1,this.getContractData(t));else if("DOB"===e){let e=this.formFields.find(t=>"Current Age"===t.label);e&&(this.formModel[e.value]=this.calculateAge(t))}else if("Loan Payment Amount"===e)this.totalPayment=t,this.benefitType&&this.paymentCalculation();else if("Claim Date"===e){let e=this.formFields.find(t=>"Age at Doc"===t.label),i=this.formFields.find(t=>"Claim Date"===t.label);e&&this.formModel[i.value]&&(this.formModel[e.value]=this.calculateAgeAtDoc(t,this.$day.parseDate(this.formModel[i.value])))}else"Benefit Claimed"===e&&(this.getCalculateValidation(t),this.checkDocument())},updateLoanPaymentAmount(t){this.updateModel(t,"Loan Payment Amount")},checkHighlight(t){if(this.dataValidationValues.length){var e;let i=null===(e=this.dataValidationValues.find(e=>e.fieldName==t))||void 0===e?void 0:e.status;if("Matched"===i||"Verified"===i)return"green";if(""===i||"Not Verified"===i||"Partially Matched"===i)return"orange";if("Not Matched"===i)return"red"}return""},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},calculateAgeAtDoc(t,e){if(!t)return;if(new Date(t)>new Date(e))return"";const i=new Date(e)-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},checkDocument(){let t=this.checkList.filter(t=>(t.conditions&&t.conditions.length?(t.required=!1,t.conditions.forEach(e=>{var i;if("ANY"===t.groupLogic&&t.required)return;let s=(null===(i=this.formFields.find(t=>t.value===e.name))||void 0===i?void 0:i.type)||"",a=e.value,o=this.formModel[e.name];switch("NUMBER"===s&&(a=Number(a),o=Number(o)),e.logic){case"IS_EQUALS_TO":t.required=o===a;break;case"IS_NOT_EQUALS_TO":t.required=o!==a;break;case"CONTAINS":o.indexOf(a)>-1?t.required=!0:t.required=!1;break;case"IS_GREATER_THAN":t.required=o>a;break;case"IS_GREATER_THAN_OR_EQUALS_TO":t.required=o>=a;break;case"IS_LESSER_THAN":t.required=o<a;break;case"IS_LESSER_THAN_OR_EQUALS_TO":t.required=o<=a;break}}),t.required||t.visible?t.show=!0:t.show=!1):t.show=!0,t));this.$emit("update:checkList",t)},documentValidation(){let t=this.formFields.find(t=>"Required Documents"===t.label);if(t){"string"===typeof this.formModel[t.value]&&(this.formModel[t.value]=[]);let e=this.checkList.filter(t=>t.attach);e.length&&e.forEach(e=>{-1===this.formModel[t.value].indexOf(e.name)&&this.formModel[t.value].push(e.name)}),this.autoSave("Required Documents")}},autoSave(t){let e=location.origin;if(("https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e||"http://localhost:80801"===e)&&!this.saveOnly){let e=this.formFields.find(e=>e.label===t);if(e){let t={[e.value]:this.formModel[e.value]};this.$emit("update:autoSaveModel",t)}console.log(t),this.formModel[e.value]!=this.cloneFormModel[e.value]&&(this.$emit("update:saveOnly",!0),this.$emit("update:saveAction","Save"),this.cloneFormModel=Object(w["a"])(this.formModel))}},async updateDeclineReason(){const t=await this.$refs.declineModal.validate();t&&(this.declineReasonModal=!1,this.updateModel(this.declineReason,"Decline Reason"),this.updateModel("Recommend to Decline","Claim Decision"),this.$emit("update:workflowFormModel",this.formModel),this.$emit("update:saveAction","Recommend to Decline"))},async getCityList(){this.cityList=[];let t=this.formFields.find(t=>"City"===t.label);if(t)try{const e=await v["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:t.value,keyword:"",rowFrom:0,rowCount:0})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length&&(this.cityList=a.map(t=>({id:this.$nano.id(),label:t,value:t})));let o=this.cityList.find(e=>e.label===this.formModel[t.value]);o||this.cityList.push({id:this.$nano.id(),label:this.formModel[t.value],value:this.formModel[t.value]})}catch(e){console.error(e),this.$alert.error("Error fetching options")}},async getProvinceList(){this.provinceList=[];let t=this.formFields.find(t=>"Province"===t.label);if(t)try{const e=await v["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:t.value,keyword:"",rowFrom:0,rowCount:0})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length&&(this.provinceList=a.map(t=>({id:this.$nano.id(),label:t,value:t})));let o=this.provinceList.find(e=>e.label===this.formModel[t.value]);o||this.provinceList.push({id:this.$nano.id(),label:this.formModel[t.value],value:this.formModel[t.value]})}catch(e){console.error(e),this.$alert.error("Error fetching options")}},async getDeclineReasonList(){this.declineReasonList=[];const{error:t,payload:e}=await b["g"].getFormEntries(5,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(t)return void this.$alert.error(t);const{data:i}=e;this.declineReasonList=i[0].value.map(t=>({id:t.itemid,label:`${t["_siZd2ju1yrpaAcCiiJ8X"]} - ${t["xvC46pmC5uL77kIpjJ2p-"]}`,value:`${t["_siZd2ju1yrpaAcCiiJ8X"]} - ${t["xvC46pmC5uL77kIpjJ2p-"]}`}))},async getDataValidation(){const{error:t,payload:e}=await b["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length?this.$emit("updateDataValidationValues",e):this.$emit("updateDataValidationValues",[])},async confirmCustomerInfo(){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"],e=[],i=[];if(t.forEach(t=>{let s=this.dataValidationValues.find(e=>e.fieldName==t);s?(s.formValue=this.getModel(t),s.status="Not Matched"===s.status||"Not Verified"===s.status?"Verified":s.status,i.push(s)):e.push({processId:this.selectedProcess.processId,fieldName:t,formValue:this.getModel(t),status:"Verified"})}),i.length){const{error:t}=await b["d"].updateArmgroupMLValidation(i);if(t)return void this.$alert.error(t)}if(e.length){const{error:t}=await b["d"].insertArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}this.getDataValidation()},async unConfirmCustomerInfo(){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];if(this.dataValidationValues.length){t.forEach(t=>{let e=this.dataValidationValues.find(e=>e.fieldName==t);e&&(e.formValue=this.getModel(t),e.status="Verified"===e.status?"Not Verified":e.status)});const{error:e}=await b["d"].updateArmgroupMLValidation(this.dataValidationValues);if(e)return void this.$alert.error(e)}},async confirmLoanInfo(){this.loanInfoVerify=!0;let t=[],e=this.dataValidationValues.find(t=>"Loan Info"==t.fieldName);if(e?(e.formValue="Checked",e.status="Not Matched"===e.status||"Not Verified"===e.status?"Verified":e.status,t.push(e)):t=[{processId:this.selectedProcess.processId,fieldName:"Loan Info",formValue:"Checked",status:"Verified"}],t[0].id){const{error:e}=await b["d"].updateArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}else{const{error:e}=await b["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmLoanInfo(){this.loanInfoVerify=!1;let t=[],e=this.dataValidationValues.find(t=>"Loan Info"==t.fieldName);e&&(e.formValue="",e.status="Not Verified",t.push(e));const{error:i}=await b["d"].updateArmgroupMLValidation(t);i&&this.$alert.error(i)},async confirmClaimInfo(){this.claimInfoVerify=!0;let t=[],e=this.dataValidationValues.find(t=>"Claim Info"==t.fieldName);if(e?(e.formValue="Checked",e.status="Not Matched"===e.status||"Not Verified"===e.status?"Verified":e.status,t.push(e)):t=[{processId:this.selectedProcess.processId,fieldName:"Claim Info",formValue:"Checked",status:"Verified"}],t[0].id){const{error:e}=await b["d"].updateArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}else{const{error:e}=await b["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmClaimInfo(){this.claimInfoVerify=!1;let t=[],e=this.dataValidationValues.find(t=>"Claim Info"==t.fieldName);e&&(e.formValue="",e.status="Not Verified",t.push(e));const{error:i}=await b["d"].updateArmgroupMLValidation(t);i&&this.$alert.error(i)},export_Data(){if(this.paymentTableValues.length){let t=[];t=this.paymentTableValues.map(t=>({"Payment Number":t.paymentNumber,"Base Amount":t.baseAmount,"Claim Amount":t.claimAmount,"Cumulative Total":t.cumulativeTotal,Approval:t.approval,"Approved Date":t.approvedDate,"Payment Date":t.paymentDate,"Payment Frequency":t.benefitType})),Object(g["a"])(t)}},paymentApprove(){if(this.numberOfApprovePayment>0)if(this.numberOfApprovePayment>this.paymentTableValues.length)this.$alert.warning("Approved payment should be less than "+this.paymentTableValues.length);else if(this.isPaymentFound){let t=this.paymentTableValues.filter(t=>"Approved"!==t.approval);t.length&&t.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved";let i=0;t.approvedDate=this.$day.addDate(this.$day.newDate(),e*i),t.paymentDate=this.$day.addDate(this.$day.newDate(),e*i+1),t.approvedBy=this.userInitials}else t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""})}else this.paymentTableValues.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved";let i=0;t.approvedDate=this.$day.addDate(this.$day.newDate(),e*i),t.paymentDate=this.$day.addDate(this.$day.newDate(),e*i+1),t.approvedBy=this.userInitials}else t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""});else this.$alert.warning("Specify the valid number")},clearPaymentApprove(){this.numberOfApprovePayment=0,this.paymentTableValues.forEach(t=>{t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""})},checkApprovalEdit(t){return!!t.approvedDate&&this.$day.newDate()!==t.approvedDate},updateApprovalDate(t){if("Approved"===this.paymentTableValues[t].approval){this.paymentTableValues[t].approvedDate=this.$day.newDate();let e=new Date;e.setDate(e.getDate()+1);let i=e.getMonth()+1;i<10&&(i="0"+i);let s=e.getDate();s<10&&(s="0"+s),this.paymentTableValues[t].paymentDate=`${e.getFullYear()}-${i}-${s}`,this.paymentTableValues[t].approvedBy=this.userInitials}else this.paymentTableValues[t].approvedDate="",this.paymentTableValues[t].paymentDate="",this.paymentTableValues[t].approvedBy=""},addLumpsumRow(){if(!this.paymentTableValues[this.paymentTableValues.length-1].lumpsumRow){let t=0;4e3===Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)&&(t=4e3.toFixed(2));const e={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:t,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,lumpsumRow:!0,delete:!0};this.paymentTableValues.push(e)}},addPaymentRow(){let t=0;if(this.paymentTableValues.length&&(t=Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)),4e3!==t||this.hasCIClaimsType)if(15e3===t&&this.hasCIClaimsType)this.$alert.warning("Already maximum amount 15000 reached");else{const t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)}else this.$alert.warning("Already maximum amount 4000 reached")},removePaymentRow(t){this.paymentTableValues.splice(t,1)},calcOtherColumns(t){let e=0,i=this.paymentTableValues[t].baseAmount;if(this.hasOtherClaimsType){if(this.paymentTableValues[t].lumpsumRow){if(i>2e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[t].claimAmount=(0).toFixed(2),e=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===e&&this.paymentTableValues[t].baseAmount>0)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(e+=i,e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let s=i+.2*i;if(this.paymentTableValues[t].claimAmount=s.toFixed(2),e=s+Number(this.paymentTableValues[t-1].cumulativeTotal),this.STLOCTypeFormula&&e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].claimAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),e=0,void this.$alert.warning("Cumulative total shouldn't exceed $4000")}e>0&&i&&(this.paymentTableValues[t].cumulativeTotal=e.toFixed(2))}else if(this.hasLifeType){if(this.ENHTypeFormula){if(i>5e4)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $50000")}else if(i>15e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2)}else if(this.hasCIClaimsType){let e=0;if(t&&(e=Number(this.paymentTableValues[t-1].cumulativeTotal)+i),i<=15e3&&t)return void(this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2));if(i>15e3&&!t)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");if(e>15e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2)}},calcOtherColumns1(t){let e=0,i=this.paymentTableValues[t].baseAmount;if(this.paymentTableValues[t].lumpsumRow){if(i>2e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[t].claimAmount=(0).toFixed(2),e=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===e&&this.paymentTableValues[t].baseAmount>0)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(e+=i,e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let s=i+.2*i;this.paymentTableValues[t].claimAmount=s.toFixed(2),this.paymentTableValues.forEach(t=>{e+=Number(t.claimAmount)})}this.paymentTableValues[t].cumulativeTotal=e.toFixed(2)},claimStatusSearchRow(t){this.claimStatusValues=t?this.claimStatusValuesData.filter(e=>{for(let i in e){let s=this.claimStatusColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.claimStatusValuesData},loadAllClaimStatus(){this.claimStatusItemsPerPage=this.claimStatusTotalItems,1===this.claimStatusCurrentPage?this.getClaimStatus():this.claimStatusCurrentPage=1},dailyDataStatusSearchRow(t){this.dailyDataStatusValues=t?this.dailyDataStatusValuesData.filter(e=>{for(let i in e){let s=this.dailyDataStatusColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.dailyDataStatusValuesData},loadAllDailyDataStatus(){this.dailyDataStatusItemsPerPage=this.dailyDataStatusTotalItems,1===this.dailyDataStatusCurrentPage?this.getDailyDataStatus():this.dailyDataStatusCurrentPage=1},paymentHistorySearchRow(t){this.paymentHistoryValues=t?this.paymentHistoryValuesData.filter(e=>{for(let i in e){let s=this.paymentHistoryColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.payymentHistoryValuesData},loadAllPaymentHistory(){this.paymentHistoryItemsPerPage=this.paymentHistoryTotalItems,1===this.paymentHistoryCurrentPage?this.getPaymentHistory():this.payemntHistoryCurrentPage=1},addClaimStatus(){this.claimStatusRow={},this.claimStatus="",this.csDate="",this.csNote=0,this.claimLetterSent=0,this.mailingType="",this.lenderLetter="",this.internalOnly=!1,this.internalNotes="",this.claimStatusModal=!0},editClaimStatus(t){this.claimStatusRow=this.claimStatusValues.find(e=>e.ClaimStatusID===t.ClaimStatusID),this.claimStatusRow&&(this.claimStatus=this.claimStatusRow.ClaimStatus,this.csNote=this.claimStatusRow.CSNote,this.claimLetterSent=this.claimStatusRow.ClaimLetterSent,this.mailingType=this.claimStatusRow.MailingType,this.lenderLetter=this.claimStatusRow.lenderLetter,this.internalOnly=Boolean(this.claimStatusRow.InternalOnly),this.internalNotes=this.claimStatusRow.InternalNotes),this.claimStatusModal=!0},async getClaimStatusMaster(t){this.claimStatusList=[],this.$store.commit("showLoadingBar");const{error:e,payload:i}=await b["g"].getFormEntries(t,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);const{data:s}=i;this.claimStatusList=s[0].value.map(t=>({id:t.itemid,label:t["dKY2zhKPS4-hQy1I6yVSV"],value:t["dKY2zhKPS4-hQy1I6yVSV"]}))},async paymentCalculation(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=6;break;case"BiWeekly":case"SemiMonthly":i=12;break;case"Weekly":i=24;break}for(let s=1;s<=i;s++){if(this.hasLMUFLClaimsType&&s>3)return;let t=this.totalPayment,i=0,a=0;if(this.STLOCTypeFormula?(this.hasOtherClaimsType?a=4e3:this.hasLMUFLClaimsType&&(a=2e3),i=t+.2*t):this.ENHTypeFormula?this.hasOtherClaimsType?a=6e3:this.hasLMUFLClaimsType&&(a=2e3):this.mobileFinanceFormula?this.hasOtherClaimsType?a=7500:this.hasLMUFLClaimsType&&(a=2e3):this.moneyMartFormula&&this.hasLMUFLClaimsType&&(a=2e3),!this.moneyMartFormula&&e+i>a)return void this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:(a-e).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:a.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});if(this.STLOCTypeFormula)e+=i;else if(this.ENHTypeFormula)e+=t;else if(this.mobileFinanceFormula)e+=t;else if(this.moneyMartFormula){let s=this.getModel("Principal Balance At Doc"),a=0,o=0;if(this.hasOtherClaimsType&&s)if("BiWeekly"===this.benefitType||"SemiMonthly"===this.benefitType){let t=50*s/100;a=t.toFixed(2)}else if("Weekly"===this.benefitType){let t=25*s/100;a=t.toFixed(2)}else"Monthly"===this.benefitType&&(a=s);o=a/24,i=o,e+=o+t}if(this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType}),e===a)return}},async paymentCalculation1(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=6;break;case"BiWeekly":case"SemiMonthly":i=12;break;case"Weekly":i=24;break}for(let s=1;s<=i;s++){let t=this.totalPayment,i=t+.2*t;if(e+i>4e3)return void this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:(4e3-e).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:4e3.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});e+=i,this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType})}},async getPaymentTable1(){this.isPaymentFound=!1;const{error:t,payload:e}=await b["d"].getPaymentTable({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length&&(this.paymentTableValues=e,this.isPaymentFound=!0)},async getPaymentTable(){this.isPaymentFound=!1,this.paymentTableValues=[];let t=this.formFields.find(t=>"Claim No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};this.isPaymentFound||(this.hasLifeType||this.hasCIClaimsType)&&this.getLifeTypePaymentTable(),i["CPClaimNumber"]=this.formModel[t.value];let s={hublinkId:8,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:50,currentPage:1};const{payload:a,error:o}=await b["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&r.length&&r[0].value.length&&(this.paymentTableValues=[],r[0].value.forEach(t=>{this.paymentTableValues.push({paymentId:t.ClaimPaymentID,paymentNumber:t.ClaimPaymentNumber,baseAmount:Number(t.ClaimPaymentAmount).toFixed(2),claimAmount:Number(t.PrincipalPmt).toFixed(2),cumulativeTotal:Number(t.CumulativeTotal).toFixed(2),approval:t.Status,approvedDate:this.$day.parseDate(t.StatusDate),paymentDate:this.$day.parseDate(t.CPaymentDate),approvedBy:t.ApprovedBy,notes:t.CPNotes,goodWill:"True"===t.Goodwill,lppPlus:"True"===t.LPPPlus,preApprovedPmt:"True"===t.PreApprovedPmt,psgCovered:"True"===t.PSGCovered})}),this.isPaymentFound=!0)},async updatePaymentTable1(){this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let t={workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,paymentTableList:this.paymentTableValues};if(this.isPaymentFound){const{error:e}=await b["d"].updatePaymentTable(this.selectedProcess.processId,t);if(e)return void this.$alert.error(e);this.$alert.success("Payment entry updated")}else{const{error:e}=await b["d"].savePaymentTable(t);if(e)return void this.$alert.error(e);this.$alert.success("Payment entry added")}this.getPaymentTable()},async updatePaymentTable(){let t=this.formFields.find(t=>"Lender Name"===t.label),e=this.formFields.find(t=>"Claim No."===t.label);this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let i=[];this.paymentTableValues.forEach(t=>{let s={};s=t.paymentId?{modifiedBy:this.userNames,modifiedDt:this.$day.newDateTime()}:{createdBy:this.userNames,createdDt:this.$day.newDateTime()},i.push({claimPaymentID:t.paymentId,cPClaimNumber:this.formModel[e.value],paymentNumber:t.paymentNumber,paymentBaseAmount:t.baseAmount,claimAmount:t.claimAmount,cumulativeTotal:t.cumulativeTotal,approval:t.approval,paymentDate:t.paymentDate,approvedBy:0,cpNotes:t.notes,goodwill:t.goodWill,lppplus:t.lppPlus,preApprovedPMT:t.preApprovedPmt,psgCovered:t.psgCovered,approvalDate:t.approvedDate,proRated:!1,...s})});let s={lenderName:this.formModel[t.value],claimNumber:this.clearPayment?this.formModel[e.value]:"",paymentList:i};const{error:a}=await b["d"].savePaymentTable(s);a?this.$alert.error(a):(this.$alert.success("Payment entry updated"),this.numberOfApprovePayment=0,this.getPaymentTable())},async getContractData(t){let e=this.formFields.find(t=>"Loan No."===t.label),i=this.formFields.find(t=>"Lender Name"===t.label),s={};if(s["StoreLoanNumber"]=this.formModel[e.value],"Borrower"===t){let t={hublinkId:4,payloadMapping:JSON.stringify(s),lenderName:this.formModel[i.value],itemsPerPage:500,currentPage:1};const{payload:e,error:a}=await b["d"].getDataSync(t);if(this.$store.commit("hideLoadingBar"),a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:o,meta:r}=e;r.totalItems&&o.length&&o[0].value.length&&o[0].value.forEach(t=>{this.updateModel(t.FirstName,"First Name"),this.updateModel(t.LastName,"Last Name"),this.updateModel(t.DOB,"DOB"),this.updateModel(t.Address1,"Address"),this.updateModel(t.City,"City"),this.updateModel(t.Province,"Province"),this.updateModel(t.PostalCode,"Postal Code"),this.updateModel(t.Phone,"Phone No.")})}else if("Co-Borrower"===t){let t={hublinkId:3,payloadMapping:JSON.stringify(s),lenderName:this.formModel[i.value],itemsPerPage:500,currentPage:1};const{payload:e,error:a}=await b["d"].getDataSync(t);if(this.$store.commit("hideLoadingBar"),a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:o,meta:r}=e;r.totalItems&&o.length&&o[0].value.length&&o[0].value.forEach(t=>{this.updateModel(t.CoFirstName,"First Name"),this.updateModel(t.CoLastName,"Last Name"),this.updateModel(t.CoDOB,"DOB"),this.updateModel(t.CoAddress1,"Address"),this.updateModel(t.CoCity,"City"),this.updateModel(t.CoProvince,"Province"),this.updateModel(t.CoPostalCode,"Postal Code"),this.updateModel(t.CoPhone,"Phone No.")})}},async getClaimStatus(){this.claimStatusValues=[],this.claimStatusValuesData=[];let t=this.formFields.find(t=>"Claim No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["CSClaimNumber"]=this.formModel[t.value];let s={hublinkId:7,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.claimStatusItemsPerPage,currentPage:this.claimStatusCurrentPage};const{payload:a,error:o}=await b["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&(this.claimStatusTotalItems=n.totalItems,r.length&&r[0].value.length&&(this.claimStatusValues=r[0].value,this.claimStatusValuesData=r[0].value))},async saveClaimStatus(){const t=await this.$refs.claimStatusModal.validate();if(!t)return;let e=this.formFields.find(t=>"Claim No."===t.label),i=this.formFields.find(t=>"Lender Name"===t.label),s={};s=Object.keys(this.claimStatusRow).length?{CSClaimNumber:this.claimStatusRow.CSClaimNumber,ClaimStatus:this.claimStatus,CSDate:this.claimStatusRow.CSDate,ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.claimStatusRow.CreatedBy,CreatedDt:this.claimStatusRow.CreatedDt,ModifiedBy:this.userNames,ModifiedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0}:{CSClaimNumber:this.formModel[e.value],ClaimStatus:this.claimStatus,CSDate:this.$day.newDate(),ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.userNames,CreatedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0};let a={lenderName:this.formModel[i.value],claimStatusID:Object.keys(this.claimStatusRow).length?this.claimStatusRow.ClaimStatusID:0,fields:JSON.stringify(s)};const{error:o}=await b["d"].saveClaimStatus(a);o?this.$alert.error(o):(Object.keys(this.claimStatusRow).length?this.$alert.success("Claim status entry updated"):this.$alert.success("Claim status entry added"),this.claimStatusRow={},this.claimStatusModal=!1,this.getClaimStatus())},async getDailyDataStatus(){this.dailyDataStatusValues=[],this.dailyDataStatusValuesData=[];let t=this.formFields.find(t=>"Loan No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["loankey"]=this.formModel[t.value];let s={hublinkId:6,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.dailyDataStatusItemsPerPage,currentPage:this.dailyDataStatusCurrentPage};const{payload:a,error:o}=await b["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&(this.dailyDataStatusTotalItems=n.totalItems,r.length&&r[0].value.length&&(this.dailyDataStatusValues=r[0].value,this.dailyDataStatusValuesData=r[0].value))},async getPaymentHistory(){this.paymentHistoryValues=[],this.paymentHistoryValuesData=[];let t=this.formFields.find(t=>"Loan No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["StoreLoanNumber"]=this.formModel[t.value];let s={hublinkId:5,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.paymentHistoryItemsPerPage,currentPage:this.paymentHistoryCurrentPage};this.$store.commit("showLoadingBarSave");const{payload:a,error:o}=await b["d"].getDataSync(s);if(this.$store.commit("hideLoadingBarSave"),o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&(this.paymentHistoryTotalItems=n.totalItems,r.length&&r[0].value.length&&(this.paymentHistoryValues=r[0].value,this.paymentHistoryValuesData=r[0].value))},getLifeTypePaymentTable(){this.paymentTableValues=[],this.paymentTableValues=[{approval:"",approvedBy:"",approvedDate:"",baseAmount:"",claimAmount:0,cumulativeTotal:"0",goodWill:!1,lppPlus:!1,notes:"",paymentDate:"",paymentId:0,paymentNumber:"1",preApprovedPmt:!1,psgCovered:!1,delete:!0}]}}},k=C,S=(i("55ff"),i("cea0"),i("2877")),A=Object(S["a"])(k,s,a,!1,null,"bdce7c08",null);e["a"]=A.exports},c589:function(t,e,i){},c5b7:function(t,e,i){"use strict";i("0698")},ccc5:function(t,e,i){"use strict";i("b811")},cccc:function(t,e,i){"use strict";i("307a")},cd22:function(t,e,i){t.exports=i.p+"img/name-dark.ebb22601.png"},cea0:function(t,e,i){"use strict";i("ee16")},d11f:function(t,e,i){"use strict";i("ad4f")},d2fb:function(t,e,i){"use strict";i("71f4")},d30f:function(t,e,i){},d406:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:{"is-selected":t.isSelected||t.file.id===t.fileId,"mini-mode":t.miniMode},attrs:{id:"file-list-item"},on:{click:function(e){return t.$emit("selectFile")},mouseover:function(e){t.fileId=t.file.id},mouseleave:function(e){t.fileId=0}}},[e("div",{staticClass:"avatar"},[e("FileIcon",{attrs:{"mime-type":t.type}})],1),e("div",{staticClass:"q-ml-md"},[e("div",t._g({staticClass:"title",on:{click:t.viewFile}},t.$listeners),[t._v(" "+t._s(t.file.name)+" "),t._t("info")],2),e("div",{staticClass:"meta"},[t.repository?[e("div",[t._v(t._s(t.repository))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}})]:t._e(),e("div",[t._v(t._s(t.createdAt))]),t.file.createdBy&&!t.miniMode?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.file.createdBy))])]:t._e(),t.file.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.size))])]:t._e(),t.file.ocrType?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.file.ocrType))])]:t._e(),t._t("status")],2)]),e("q-space"),t._t("default")],2)},a=[],o=i("fa1f"),r=i("a7d2"),n={name:"FileListItem",components:{FileIcon:o["a"]},props:{file:{type:Object,required:!0},isSelected:{type:Boolean,default:!1},miniMode:{type:Boolean,default:!1}},data(){return{fileId:0}},computed:{type(){return this.file.name.split(".").reverse()[0].slice(0,4)},repository(){if(this.file.repository)return this.file.repository.value},createdAt(){return this.$day.format(this.file.createdAt)},size(){return Object(r["a"])(this.file.size)}},methods:{viewFile(){this.$emit("view",this.file)}}},l=n,c=(i("8b18"),i("2877")),d=i("2c91"),h=i("93dc"),u=i.n(h),m=Object(c["a"])(l,s,a,!1,null,"0b7b1cb3",null);e["a"]=m.exports;u()(m,"components",{QSpace:d["a"]})},dc7a:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"repository-list"}},[e("div",{staticClass:"title"},[t._v("Folder")]),e("div",{staticClass:"wrapper"},[e("ValidationProvider",{attrs:{name:"repository",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":"","is-clearable":!1,options:t.repositories,"is-readonly":"",error:i[0]},on:{input:t.handleInput}})]}}])})],1)])},a=[],o=i("1b0d"),r=i("7bb1"),n=i("12b8"),l={name:"RepositoryList",components:{ValidationProvider:r["b"],SelectField:n["a"]},props:{value:{type:Number,required:!0},workspaceId:{type:Number,required:!0}},data(){return{repositories:[]}},watch:{workspaceId:{immediate:!0,handler:"getRepositories"}},methods:{handleInput(t){this.$emit("input",t)},async getRepositories(){if(this.workspaceId){this.repositories=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["p"].getRepositoryList("workspaceId",this.workspaceId);if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);if(!e.length)return;this.repositories=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))}}}},c=l,d=(i("39cc"),i("2877")),h=Object(d["a"])(c,s,a,!1,null,"11e49f8b",null);e["a"]=h.exports},dd6d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.treeMapChartOptions,series:t.xyData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"TreeMapChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},xyData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{treeMapChartOptions:{chart:{type:"treemap"},plotOptions:{treemap:{enableShades:!1,distributed:!0,useFillColorAsStroke:!0}},dataLabels:{style:{fontFamily:"Outfit, sans-serif"}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.treeMapChartOptions,this.options)}}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,"6443d14d",null);e["a"]=d.exports},e09c:function(t,e,i){},e21c:function(t,e,i){"use strict";i("e09c")},e359:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("3980"),o=i("87e8"),r=i("e277"),n=i("d882"),l=i("d54d");e["a"]=s["default"].extend({name:"QHeader",mixins:[o["a"]],inject:{layout:{default(){console.error("QHeader needs to be child of QLayout")}}},props:{value:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},data(){return{size:parseInt(this.heightHint,10),revealed:!0}},watch:{value(t){this.__update("space",t),this.__updateLocal("revealed",!0),this.layout.__animate()},offset(t){this.__update("offset",t)},reveal(t){!1===t&&this.__updateLocal("revealed",this.value)},revealed(t){this.layout.__animate(),this.$emit("reveal",t)},"layout.scroll"(t){!0===this.reveal&&this.__updateLocal("revealed","up"===t.direction||t.position<=this.revealOffset||t.position-t.inflexionPosition<100)}},computed:{fixed(){return!0===this.reveal||this.layout.view.indexOf("H")>-1||this.$q.platform.is.ios&&!0===this.layout.container},offset(){if(!0!==this.value)return 0;if(!0===this.fixed)return!0===this.revealed?this.size:0;const t=this.size-this.layout.scroll.position;return t>0?t:0},hidden(){return!0!==this.value||!0===this.fixed&&!0!==this.revealed},revealOnFocus(){return!0===this.value&&!0===this.hidden&&!0===this.reveal},classes(){return(!0===this.fixed?"fixed":"absolute")+"-top"+(!0===this.bordered?" q-header--bordered":"")+(!0===this.hidden?" q-header--hidden":"")+(!0!==this.value?" q-layout--prevent-focus":"")},style(){const t=this.layout.rows.top,e={};return"l"===t[0]&&!0===this.layout.left.space&&(e[!0===this.$q.lang.rtl?"right":"left"]=this.layout.left.size+"px"),"r"===t[2]&&!0===this.layout.right.space&&(e[!0===this.$q.lang.rtl?"left":"right"]=this.layout.right.size+"px"),e},onEvents(){return{...this.qListeners,focusin:this.__onFocusin,input:n["k"]}}},render(t){const e=Object(r["d"])(this,"default",[]);return!0===this.elevated&&e.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(t(a["a"],{props:{debounce:0},on:Object(l["b"])(this,"resize",{resize:this.__onResize})})),t("header",{staticClass:"q-header q-layout__section--marginal",class:this.classes,style:this.style,on:this.onEvents},e)},created(){this.layout.instances.header=this,!0===this.value&&this.__update("size",this.size),this.__update("space",this.value),this.__update("offset",this.offset)},beforeDestroy(){this.layout.instances.header===this&&(this.layout.instances.header=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},methods:{__onResize({height:t}){this.__updateLocal("size",t),this.__update("size",t)},__update(t,e){this.layout.header[t]!==e&&(this.layout.header[t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)},__onFocusin(t){!0===this.revealOnFocus&&this.__updateLocal("revealed",!0),this.$emit("focusin",t)}}})},e5e9:function(t,e,i){},e864:function(t,e,i){"use strict";i("1137")},e887:function(t,e,i){},e953:function(t,e,i){"use strict";i("8fbb")},e98d:function(t,e,i){"use strict";i("50ff")},ea0d:function(t,e,i){"use strict";i("8749")},ea98:function(t,e,i){"use strict";i("1bfa")},eab1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.boxPlotChartOptions,series:t.xyData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2f62"),n=i("2adf"),l={name:"BoxPlotChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xyData:{type:Array,required:!0},options:{type:Object,default:()=>{}},isHorizontal:{type:Boolean,default:!1}},data(){return{boxPlotChartOptions:{chart:{type:"boxPlot"},plotOptions:{bar:{horizontal:this.isHorizontal},boxPlot:{colors:{upper:"#4a89dd",lower:"#36bd9a"}}},stroke:{colors:["#64748b"]}}}},computed:{...Object(r["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.boxPlotChartOptions,this.options)}},darkTheme(){this.boxPlotChartOptions.stroke.colors=this.darkTheme?["#94a3b8"]:["#64748b"],this.boxPlotChartOptions.plotOptions.boxPlot.colors={upper:this.darkTheme?"#5c9dec":"#4a89dd",lower:this.darkTheme?"#48ceaf":"#36bd9a"}}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"28ce5a91",null);e["a"]=h.exports},eb85:function(t,e,i){"use strict";var s=i("a026"),a=i("b7fa"),o=i("87e8");const r={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},n={xs:2,sm:4,md:8,lg:16,xl:24};e["a"]=s["default"].extend({name:"QSeparator",mixins:[a["a"],o["a"]],props:{spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},computed:{orientation(){return!0===this.vertical?"vertical":"horizontal"},classPrefix(){return" q-separator--"+this.orientation},insetClass(){return!1!==this.inset?`${this.classPrefix}-${r[this.inset]}`:""},classes(){return`q-separator${this.classPrefix}${this.insetClass}`+(void 0!==this.color?" bg-"+this.color:"")+(!0===this.isDark?" q-separator--dark":"")},style(){const t={};if(void 0!==this.size&&(t[!0===this.vertical?"width":"height"]=this.size),!1!==this.spaced){const e=!0===this.spaced?n.md+"px":this.spaced in n?n[this.spaced]+"px":this.spaced,i=!0===this.vertical?["Left","Right"]:["Top","Bottom"];t["margin"+i[0]]=t["margin"+i[1]]=e}return t},attrs(){return{"aria-orientation":this.orientation}}},render(t){return t("hr",{staticClass:"q-separator",class:this.classes,style:this.style,attrs:this.attrs,on:{...this.qListeners}})}})},ec15:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[!i.name||i.hasOwnProperty("visible")&&!i.show?t._e():[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()])])]:t._e()]}))],2)],1)]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}})],1)},a=[],o=(i("14d9"),i("13d5"),i("381e")),r=i("5e23"),n=i("1b0d"),l=i("fa1f"),c=i("a7d2"),d=i("dd90"),h=i("abe1"),u=i("bc3a"),m=i.n(u),p=i("ee54"),f=i("9996"),g=i("869e"),v=i("cade"),b={name:"Attachments",components:{Sheet:o["a"],EmailSharing:r["a"],FileIcon:l["a"],FileDetails:h["a"],MetaDataEdit:p["a"],CheckboxField:g["a"],ListItem:v["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formCheckList:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},wform:{type:Object,default:()=>{}},repositoryDetails:{type:Object,default:()=>{}},workflowModel:{type:Object,default:()=>{}},formUploadFiles:{type:Array,default:()=>[]},formFields:{type:Array,default:()=>[]},repositoryField:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},attachments:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},isPortal:{type:Boolean,default:!1}},data(){return{attachmentSheet:!1,attachmentList:[],selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],checkListRowIndex:0,selectedFile:{},mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,watchViewerClose:null,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],uploadFilename:"",showMetaDataEditModal:!1,selectedUploadFile:{},documentLoad:null,documentLoadList:[],metaDataModal:{},metaDataTitle:"",selectedCheckListName:""}},computed:{selectedFileCount(){this.clearAttach();let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t}},watch:{value:{immediate:!0,handler(){if(this.value)if(this.attachmentSheet=!0,this.attachmentList=this.attachments,this.attachmentSheet&&this.selectedProcess.processId){if(this.getAttachments(),this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}}},methods:{async getAttachments(t=0,e=0){let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await n["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.$emit("attachmentCount",this.attachmentList.length)):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.selectedProcess.attachmentCount!==this.attachmentList.length&&this.$emit("update:formCheckList",!0)}},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&3===this.$store.state.session.tenantId},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await n["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},clearAttach(){console.log("clear")},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click(),this.selectedCheckListName=this.checkList.find(e=>t==e.uid).name},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},getLabel(t){let e="",i=this.wform.formJson?JSON.parse(this.wform.formJson):this.wform;const s=[...i.panels,...i.secondaryPanels];if(!s.length)return;let a=[];for(const o of s)a.push(...o.fields);return a.forEach(i=>{const s=i.settings.specific.tableColumns.find(e=>e.id===t);if(s)e=s.label;else if(i.id===t)return void(e=i.label)}),e},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,this.isTenantArmgroup()?window.open(this.fileLink()):this.fileSheet=!0)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(d["d"])(e))s=this.isTenantArmgroup()?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="",s="";if("inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(s="&action=all"),Object(d["d"])(e))this.isTenantArmgroup()?(s="",i="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):"https://trial.ezofis.com"!==t||Object(d["c"])(e)?i=this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":(localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="https://trial.ezofis.com/docsviewer/index.html");else{if(Object(d["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${s}`}}},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(d["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await n["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getFileData(t,e){const{error:i,payload:s}=await n["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.$emit("attachmentCount",this.attachmentList.length-1),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await n["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await n["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(this.fileSheet=!1,localStorage.removeItem("viewerClose"),clearInterval(this.watchViewerClose),this.workflow.initiatedBy)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflowId||2092===this.workflowId)&&0===this.attachmentList.length},async uploadWflowAttachments(t){if("STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;const e=this.repositoryField.reduce((t,e)=>e.level>t.level?e:t,this.repositoryField[0]),i=e.id,s=this.fileData.find(t=>i==t.id);if(!this.selectedCheckListName){const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length?s&&(s.value=""):(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName")),this.showMetaDataEditModal=!0}if(this.selectedCheckListName){s&&(s.value=this.selectedCheckListName);const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length||(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName"));const i=this.repositoryField.filter(t=>!0===t.isMandatory).map(t=>t.id),a=i.every(t=>{const e=this.fileData.find(e=>e.id===t);return e&&""!==e.value});if(this.showMetaDataEditModal=!a,a){const t={};this.fileData.forEach(e=>{t[e.name]=""!==e.value?e.value:""}),console.log(t,"New Object"),this.saveMetaData(t)}else this.showMetaDataEditModal=!0;this.selectedCheckListName=""}}else this.uploadAttachments(t)},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflowId),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),e?a.append("fields",e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(d["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await m()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(d["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const i=await m()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBar");const{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let d=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),h=this.fileData.find(t=>t.name===d.name),u=!1;"pdf"!==r.toLowerCase()&&(u=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?h.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:u}),this.$emit("attachmentCount",this.attachmentList.length),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments&&(this.$refs.attachments.value=null)},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(f["a"])(e.label)===Object(f["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},closeAttachmentsSheet(){this.attachmentSheet=!1,this.$emit("update:attachments",this.attachmentList),this.$emit("attachmentCount",this.attachmentList.length),this.$emit("update:value",!1)}}},y=b,x=(i("11f5"),i("2877")),w=i("b047"),C=i("cb32"),k=i("4e73"),S=i("93dc"),A=i.n(S),I=Object(x["a"])(y,s,a,!1,null,"dc5d287e",null);e["a"]=I.exports;A()(I,"components",{QChip:w["a"],QAvatar:C["a"],QMenu:k["a"]})},ee16:function(t,e,i){},ee54:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[t.editFromFileSheet?t._e():t._l(t._repositoryField,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:i,"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:t.fieldsModel[i.name],callback:function(e){t.$set(t.fieldsModel,i.name,e)},expression:"fieldsModel[field.name]"}})]]],2)})),t.editFromFileSheet?t._l(t.fieldsModalData,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:t.getField(i.fieldId),"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:i.newValue,callback:function(e){t.$set(i,"newValue",e)},expression:"field.newValue"}})]]],2)})):t._e()],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.save}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("6a70"),n=i("7794"),l=i("9996"),c=i("7ee8"),d={name:"MetaDataEdit",components:{Modal:r["a"],ValidationObserver:o["a"],RepositoryField:n["a"]},props:{value:{type:Boolean,default:!1},file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},fileData:{type:Array,required:!0},title:{type:String,default:"Metadata Edit"},columns:{type:Array,default:()=>[]},modalValue:{type:Object,default:()=>{}},readOnly:{type:Boolean,default:!1},uploadFilename:{type:String,default:""},editFromFileSheet:{type:Boolean,default:!1},metaDataFields:{type:Object,default:()=>{}}},data(){return{fieldsModel:{},fieldsModalData:[]}},computed:{_repositoryField(){return this.repositoryField.map(t=>({...t,options:t.options?JSON.parse(t.options):[]}))}},watch:{fileData:{immediate:!0,deep:!0,async handler(){this.editFromFileSheet?(this.fieldsModalData=[],this.fileData.length&&this.fileData.forEach(t=>{this.fieldsModalData.push({fieldId:t.id,oldValue:t.value,newValue:t.value})})):this.processFieldsModel()}},value(){this.value&&this.processFieldsModel()}},methods:{processFieldsModel(){if(this.fieldsModel={},this.fileData.length?this.fileData.forEach(t=>{this.$set(this.fieldsModel,t.name,t.value)}):this._repositoryField.forEach(t=>{let e=this.columns.find(e=>Object(l["a"])(e.label)===Object(l["a"])(t.name));e?this.modalValue.formData?this.$set(this.fieldsModel,t.name,this.modalValue.formData.fields[e.id]):this.modalValue[e.name]?this.$set(this.fieldsModel,t.name,this.modalValue[e.name]):this.modalValue[e.id]&&this.$set(this.fieldsModel,t.name,this.modalValue[e.id]):Object(c["a"])(this.metaDataFields)?this.$set(this.fieldsModel,t.name,""):this.$set(this.fieldsModel,t.name,this.metaDataFields[t.name])}),this.uploadFilename){let t=this.uploadFilename.substring(0,this.uploadFilename.lastIndexOf(".")),e=this._repositoryField.find(t=>"filename"==t.name.toLowerCase());e&&this.$set(this.fieldsModel,e.name,t)}},closeModal(){this.$emit("close",!1)},async save(){const t=await this.$refs.form.validate();t&&(this.$emit("save",this.editFromFileSheet?this.fieldsModalData:this.fieldsModel),this.$emit("close",!1))},getField(t){let e=this._repositoryField.find(e=>t===e.id);if(e)return e}}},h=d,u=(i("4697"),i("2877")),m=Object(u["a"])(h,s,a,!1,null,"059cbd7c",null);e["a"]=m.exports},ee74:function(t,e,i){},ee7b:function(t,e,i){},ef04:function(t,e,i){},f458:function(t,e,i){},f98d:function(t,e,i){},fad0:function(t,e,i){},fb47:function(t,e,i){"use strict";i("1483")},fd26:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{attrs:{"is-flat":"","no-border":t.noBorder,icon:t.darkTheme?"eva-moon-outline":"eva-sun-outline"},on:{click:t.toggleDarkTheme}})},a=[],o=i("2f62"),r={name:"ThemeSwitcher",props:{noBorder:{type:Boolean,default:!0}},computed:{...Object(o["c"])(["darkTheme"])},methods:{...Object(o["b"])(["toggleDarkTheme"])}},n=r,l=i("2877"),c=Object(l["a"])(n,s,a,!1,null,"b3ced1f0",null);e["a"]=c.exports},fdd5:function(t,e,i){"use strict";i("4d38")}}]);
//# sourceMappingURL=charts.5cac8f0e.js.map