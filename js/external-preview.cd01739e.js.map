{"version":3,"sources":["webpack:///./src/assets/logo/logo-light.png","webpack:///./src/assets/logo/logo-dark.png","webpack:///./src/components/common/popup/Confirm.vue","webpack:///src/components/common/popup/Confirm.vue","webpack:///./src/components/common/popup/Confirm.vue?aaac","webpack:///./src/components/common/popup/Confirm.vue?c6cf","webpack:///./src/views/workflows/views/workflow-external/Preview.vue?26ee","webpack:///./src/assets/logo sync ^\\.\\/logo\\-.*\\.png$","webpack:///./src/views/workflows/views/workflow-external/Preview.vue?8458","webpack:///./node_modules/quasar/src/utils/private/touch.js","webpack:///./src/components/common/popup/Confirm.vue?e7e9","webpack:///./src/views/workflows/views/workflow-external/Preview.vue","webpack:///src/views/workflows/views/workflow-external/Preview.vue","webpack:///./src/views/workflows/views/workflow-external/Preview.vue?6412","webpack:///./src/views/workflows/views/workflow-external/Preview.vue?f451"],"names":["module","exports","render","_vm","this","_c","_self","attrs","value","on","close","class","cssClass","style","width","staticClass","icon","iconColor","iconSize","_t","hasFooter","_e","staticRenderFns","name","props","type","required","default","methods","component","QDialog","QSpace","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","directions","modifiersAll","left","right","up","down","horizontal","vertical","all","getModifierDirections","mod","dir","forEach","direction","length","shouldStart","evt","ctx","event","target","draggable","handler","nodeName","toUpperCase","qClonedBy","indexOf","uid","formWidth","loadingBarContent","_v","_s","title","description","viewDetail","ref","_l","stageLevel","level","index","key","label","currentStep","requestFormData","panels","panel","panelsExpandView","fields","validateType","getLabel","$day","format","validateValue","removeTags","processActions","selectedProcess","review","staticStyle","action","$event","saveAction","closeSuccessModal","scopedSlots","_u","fn","proxy","model","successModal","callback","$$v","expression","advancedCommentsSheet","advancedCommentText","saveAdvancedComment","processForwardModal","requestNo","internalForward","proceed","users","userList","forwardUsers","groups","groupList","forwardGroups","requestAction","workflowFormModel","actionPasswordConfirm","password","errors","isLoading","validatePassword","actionUserPassword","actionConfirmAlert","processRequest","components","ValidationObserver","ValidationProvider","Stepper","Confirm","Modal","TextBuilderField","PasswordField","tenantId","userId","workflowId","processId","data","workflow","formId","form","formModel","processActionsAddOn","actionText","actionRemarks","actionPassword","actionComments","actionConfirm","formFields","computed","logo","logoHeight","watch","immediate","error","payload","filterBy","filters","criteria","condition","itemsPerPage","currentPage","mode","block","remarks","passwordAccess","confirm","row","workflowJson","requestColumn","field","settings","transformFormDataToPanelsArray","formEntryId","panelFields","panelData","transformedFormData","status","processedBy","processedOn","stage","fieldType","column","controlLabel","location","inputData","transactionId","formData","comments","console","QStepper","QStep"],"mappings":"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C,iBACAC,kBACA5B,yBACAK,sBACAwB,kBACAC,iBACAxB,sBACAH,aACAJ,qBACAzB,cACAyD,cACA1E,mBACA+B,uBACAE,iBACAC,WACAC,SACAG,WAEAF,YACAG,aACAF,gBACAG,iBACA9C,cACAK,cACAyB,kBAIAmD,UACAC,OACA,2BACA,sCAIAC,aACA,eAIAC,OACAlB,QACAmB,aACApG,sBAGAsC,YACA8D,aACApG,UACA,kBACA,4DACA,0BAMAtC,SACA,mBACA,YAAA2I,SAAA,gDACA,EACA,2CAGA,mBAGA,mBACA,YAAAA,UAAAC,SAAA,wCACAC,UACA,CACAC,SACA,CACAC,qBACAC,yBACApK,sBAEA,CACAmK,sBACAC,yBACApK,sBAKAqK,gBACAC,cACAC,UAEA,KAGA,OAFA,+BACA,qBAGA,mBACA,eACA,yBACA,wCACA,0CACA,qBAMA,oBACA,YAAAR,UAAAC,SAAA,oCAGA,GAFA,qCAEA,EAEA,YADA,qBAGA,gBACA,yCAMA,GALA,yCACA,sDAEA,yEACA,uBAEA,yCACA,gCACA,CACA,oBACAQ,2CAEA,OAEA,6CACAA,0CAEA,uBACA,4BACA,yBACA,6DAEA,+BACA1E,OACA,4DACA2E,WACAC,kBACAC,aAEA,sBAGAH,uBACA,2CAEA,yBACA,sDAEA,mBAGAA,yBACA,kDAEA,yCACA,qBAEA,6BACA,oCACA,gCACA,8BACA,+BACA,+BACA,uCACAA,2CACA,2BACAI,eAEA,UACA,iCACAjJ,mBACAkD,iBACA7E,YAMA,gBAEA,gCACA,wCACAwK,4CACA,4BACAI,eAEA,UACA,kCACAjJ,mBACAkD,iBACA7E,YAMA,mBAIA6K,oBACA,iDACA,iDACA,0CACA,+BACA/E,uBACA2E,sBACAC,oCACAC,2BAKA,4BACA,gCACA,uBACA,0BACA,oCACA,uBACA,0BACA,wCACA,uBACA,oDAGA,iCACA,6BACA,6BAEA,6BACA,uDAGAE,wDACA,CACA,iBACAA,wCAEA,yBACA,eACAD,yBAEA,UACAE,cACA,oCACA,6BACA,uCACA,QASA,iBACA,YAAAf,UAAAC,SAAA,kBACA,KAEA,YADA,qBAGA,iCACA,yBAEA,2DAEA,aACA,OAEA,SACA,iBACA7E,oBAGAA,cAEA4F,oBACAA,kBACAA,uBACAA,2BACAA,2CAEA,sBACApJ,mBACAkD,sBACA7E,WACAiB,YACA+J,wBAIA,+DACA,8BACA,kBAEA,0BAGAC,oCACA,SACAjC,gBACAkC,0BACAlG,WAsBA,OAnBAA,kBACA,yBACA,WAEA,GACAjE,OACAmE,uBACAC,WAGAgG,cACA,aACA,kBACAC,gBAGAC,mBAGA,GAGA,iBACA,iBACA,YAAAtB,UAAAC,SAAA,qBAEA,EACA,0CAGA,GACAA,UACA,qCACA,oBACArI,mBACAkD,cACA7E,gBAMA,kBACA,YAAA+J,UAAAC,SAAA,sBAEA,EACA,2CAIA,eACAA,GACAA,WACArI,mBACAkD,cACA7E,eAIA,0BACA,YAAA+J,UAAAC,SAAA,sBACA,gBACA,gBAGA,EACA,sBAGA,WACA,mBACA,mBACAA,cACA,sBACA,GAEA,IADA,+CACA7G,OAEA,sBACAxB,gBACAkD,cACAyG,gBACAC,0BACAC,gDAGA,qCACAZ,UACAA,sBACAA,8CAEA,0BAEA,YAEA,uBACAa,GACAA,0CACAtI,OAEA,oBAEA,wBAEA,CACA,gCACAsI,wBAEA,OACA,mDACA,sBACA9J,gBACAkD,cACAyG,gBACAC,0BACAC,8CAGAZ,8CACAA,oBAEA,qBAEA,wBAOA,4BAGAxF,gBACA,SAUA,OATA,6BACA,oBACA,OAEA,iCACA,IACAsG,YAGA,GAGArG,cACA,SAqBA,OApBA,6BACA,mBAGA,sBACA,gBACA,8CACAsG,aAEA,IACAC,gBAGA,+CAEA,YADAA,aAMA,GAGApG,iBACA,MACA,+aACA,kBAGAC,cACA,SACA,8BADA,IAIAQ,oBACA4F,mBAGAvH,aACAuH,cACAA,0DAGA,gCACA,MACA,0DAGA,OAFA,uCACA,6BAKA,MACA,oCACAjB,+BAEA,MACA,uBAIA,GAHA,6BACA,qCACA,6BACA,oBAEA,YADA,+BAGA,sBAGA,OAFA,4BACA,+BAGA,sBAEA,YADA,6BAMA,SACA,cACAkB,GACAlD,4BACAmD,iDACAnG,mDACAoG,UACAhD,mBACAkC,sDACA/F,iCAIA,mBACA,0BACA,0BACA,YAAA4E,SAAA,6BACA,0BACA,EACA,qBAGA,cACA,iBACA,+EAGA,uBACA,uBAIA,4BACA,6BACA,mCACA,YAAAA,SAAA,4BACA,iBACA,+BACA,mCACA,CACAkC,oCAIA,KAEA,YADA,qBAGA,4BACA,8BAEA,qBACA,6BAKA,yBACA,iDAEA,MACA,OAEA,kBACA,YAAAlC,SAAA,yBACApC,mCAGA,GADA,kBACA,EAGA,OAFAuE,oBACA,uBAGA,2BACA,8BACA,oBACA,uBACA,gCAEA,sBACA,uBACA,+BC5iCyiB,I,+ECSriB7K,EAAY,eACd,EACA3B,EACAoB,GACA,EACA,KACA,WACA,MAIa,aAAAO,EAAiB,QAIhC,IAASA,EAAW,aAAc,CAAC8K,WAAA,KAASC,QAAA","file":"js/external-preview.cd01739e.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo-light.7cfed3a8.png\";","module.exports = __webpack_public_path__ + \"img/logo-dark.d21b5279.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('q-dialog',{attrs:{\"value\":_vm.value},on:{\"input\":_vm.close}},[_c('div',{class:_vm.cssClass,style:({ width: _vm.width }),attrs:{\"id\":\"confirm\"}},[_c('div',{staticClass:\"header\"},[_c('BaseIcon',{staticClass:\"q-mr-md\",attrs:{\"name\":_vm.icon,\"color\":_vm.iconColor,\"size\":_vm.iconSize}}),_c('div',{staticClass:\"title-1\"},[_vm._t(\"title\")],2),_c('q-space'),_c('BaseCloseButton',{on:{\"click\":_vm.close}})],1),_vm._t(\"default\"),(_vm.hasFooter)?_c('div',{staticClass:\"footer\"},[_vm._t(\"footer\")],2):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <q-dialog :value=\"value\" @input=\"close\">\n    <div id=\"confirm\" :class=\"cssClass\" :style=\"{ width }\">\n      <!-- header -->\n\n      <div class=\"header\">\n        <BaseIcon\n          :name=\"icon\"\n          :color=\"iconColor\"\n          :size=\"iconSize\"\n          class=\"q-mr-md\"\n        />\n\n        <div class=\"title-1\">\n          <slot name=\"title\"></slot>\n        </div>\n\n        <q-space />\n\n        <BaseCloseButton @click=\"close\" />\n      </div>\n\n      <!-- ... -->\n\n      <!-- content -->\n\n      <slot name=\"default\"></slot>\n\n      <!-- ... -->\n\n      <!-- footer -->\n\n      <div v-if=\"hasFooter\" class=\"footer\">\n        <slot name=\"footer\"></slot>\n      </div>\n\n      <!-- ... -->\n    </div>\n  </q-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"Confirm\",\n\n  props: {\n    value: {\n      type: Boolean,\n      required: true,\n    },\n\n    width: {\n      type: String,\n      default: \"480px\",\n    },\n\n    icon: {\n      type: String,\n      required: true,\n    },\n\n    iconColor: {\n      type: String,\n      default: \"secondary\",\n    },\n\n    iconSize: {\n      type: String,\n      default: \"20px\",\n    },\n\n    hasFooter: {\n      type: Boolean,\n      default: true,\n    },\n\n    cssClass: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  methods: {\n    close() {\n      this.$emit(\"input\", false);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#confirm {\n  background-color: var(--component-bg-color);\n  border-radius: 4px;\n  padding: 16px;\n\n  .header {\n    display: flex;\n    align-items: center;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--divider-color);\n  }\n\n  .footer {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding-top: 16px;\n    border-top: 1px solid var(--divider-color);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=3a193cc6&scoped=true&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Confirm.vue?vue&type=style&index=0&id=3a193cc6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a193cc6\",\n  null\n  \n)\n\nexport default component.exports\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport qInstall from \"../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QDialog,QSpace});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=1&id=f6141cb2&prod&lang=scss&\"","var map = {\n\t\"./logo-dark.png\": \"18e9\",\n\t\"./logo-light.png\": \"0c4b\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"600c\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=0&id=f6141cb2&prod&lang=scss&scoped=true&\"","const directions = [ 'left', 'right', 'up', 'down', 'horizontal', 'vertical' ]\n\nconst modifiersAll = {\n  left: true,\n  right: true,\n  up: true,\n  down: true,\n  horizontal: true,\n  vertical: true,\n  all: true\n}\n\nexport function getModifierDirections (mod) {\n  const dir = {}\n\n  directions.forEach(direction => {\n    if (mod[direction]) {\n      dir[direction] = true\n    }\n  })\n\n  if (Object.keys(dir).length === 0) {\n    return modifiersAll\n  }\n\n  if (dir.horizontal === true) {\n    dir.left = dir.right = true\n  }\n  if (dir.vertical === true) {\n    dir.up = dir.down = true\n  }\n  if (dir.left === true && dir.right === true) {\n    dir.horizontal = true\n  }\n  if (dir.up === true && dir.down === true) {\n    dir.vertical = true\n  }\n  if (dir.horizontal === true && dir.vertical === true) {\n    dir.all = true\n  }\n\n  return dir\n}\n\nexport function shouldStart (evt, ctx) {\n  return ctx.event === void 0 &&\n    evt.target !== void 0 &&\n    evt.target.draggable !== true &&\n    typeof ctx.handler === 'function' &&\n    evt.target.nodeName.toUpperCase() !== 'INPUT' &&\n    (evt.qClonedBy === void 0 || evt.qClonedBy.indexOf(ctx.uid) === -1)\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&id=3a193cc6&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({ width: _vm.formWidth }),attrs:{\"id\":\"external-preview\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[(_vm.loadingBarContent)?_c('BaseLoadingBarSheet',{staticClass:\"loading-content\"}):_vm._e(),_c('div',{staticClass:\"content\"},[[_c('div',{staticClass:\"header col row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"title-1\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.description))])]),_c('div',{staticClass:\"col-auto text-secondary q-pa-sm cursor-pointer\",on:{\"click\":_vm.viewDetail}},[_vm._v(\" View Detailed Information \"),_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-arrowhead-right\",\"size\":\"18px\",\"color\":\"secondary\"}})],1)]),_c('div',{staticClass:\"row request-data\"},[_c('div',{staticClass:\"col-4 divider-right\"},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 300px)\"}},[_c('q-stepper',{ref:\"stepper\",attrs:{\"vertical\":\"\",\"color\":\"primary\",\"animated\":\"\"}},_vm._l((_vm.stageLevel),function(level,index){return _c('q-step',{key:level.id,attrs:{\"name\":index,\"title\":level.label,\"prefix\":index + 1,\"done\":_vm.currentStep >= index + 1,\"done-color\":\"green\"}})}),1)],1)],1),_c('div',{staticClass:\"col\"},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 300px)\"}},[(_vm.requestFormData.panels)?[_c('table',{staticClass:\"mainData col-12\"},[_vm._l((_vm.requestFormData.panels),function(panel){return [(panel.panelsExpandView)?[_vm._l((panel.fields),function(value,key){return [(value && value != '[]')?[(_vm.validateType(key) !== 'TABLE')?[_c('tr',{key:key},[_c('td',{staticClass:\"tblHeader ellipsis small\"},[_vm._v(\" \"+_vm._s(_vm.getLabel(key))+\" \")]),_c('td',{staticClass:\"ellipsis\"},[(_vm.validateType(key) === 'DATE')?[_vm._v(\" \"+_vm._s(_vm.$day.format(value, false))+\" \")]:(_vm.validateValue(value))?[_vm._v(\" \"+_vm._s(_vm.removeTags(value) || \"-\")+\" \")]:[_c('a',{attrs:{\"href\":value,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(value || \"-\")+\" \")])]],2)])]:_vm._e()]:_vm._e()]})]:_vm._e()]})],2)]:_vm._e()],2)],1),(_vm.processActions.length && _vm.selectedProcess.review === '')?_c('div',{staticClass:\"col-auto q-pa-md\",staticStyle:{\"margin\":\"auto\"}},[_vm._l((_vm.processActions),function(action){return [(\n                  action === 'Approve' ||\n                  action === 'Complete' ||\n                  action === 'Rightsize' ||\n                  action.indexOf('Approve') > -1\n                )?_c('BaseButton',{key:action,staticClass:\"q-mb-md\",staticStyle:{\"width\":\"100%\"},attrs:{\"label\":action,\"color\":\"positive\"},on:{\"click\":function($event){_vm.saveAction = action}}}):(\n                  action === 'Reject' ||\n                  action === 'Terminate' ||\n                  action === 'Force Close' ||\n                  action === 'Decline' ||\n                  action.indexOf('Reject') > -1\n                )?_c('BaseButton',{key:action,staticClass:\"q-mb-md\",staticStyle:{\"width\":\"100%\"},attrs:{\"label\":action,\"color\":\"red\"},on:{\"click\":function($event){_vm.saveAction = action}}}):(\n                  action === 'Forward' ||\n                  action.indexOf('Reply') > -1 ||\n                  action === 'Rollback' ||\n                  action === 'Assign'\n                )?_c('BaseButton',{key:action,staticClass:\"q-mb-md\",staticStyle:{\"width\":\"100%\"},attrs:{\"label\":action,\"color\":\"orange\"},on:{\"click\":function($event){_vm.saveAction = action}}}):(action === 'To Requester')?_c('BaseButton',{key:action,staticClass:\"q-mb-md\",staticStyle:{\"width\":\"100%\"},attrs:{\"label\":action,\"color\":\"pink\"},on:{\"click\":function($event){_vm.saveAction = action}}}):_c('BaseButton',{key:action,staticClass:\"q-mb-md\",staticStyle:{\"width\":\"100%\"},attrs:{\"label\":action},on:{\"click\":function($event){_vm.saveAction = action}}})]})],2):_vm._e()])]],2)],1),_c('div',{staticClass:\"footer\"},[_vm._v(\"EZOFIS © 2024 All Rights Reserved\")]),_c('Modal',{attrs:{\"width\":\"50vw\",\"height\":\"70vh\",\"has-footer\":\"\"},on:{\"input\":_vm.closeSuccessModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"\\\"\"+_vm._s(_vm.title)+\"\\\" Request Submission\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"success-modal\"},[_c('Stepper',{staticClass:\"q-mb-md\",attrs:{\"stage-level\":_vm.stageLevel,\"current-step\":_vm.currentStep + 1,\"done-color\":\"green\"}}),_c('div',{staticClass:\"q-py-md text-md q-pa-sm text-center\",staticStyle:{\"background\":\"#dbf6db\",\"border-radius\":\"6px\"}},[_c('span',{staticClass:\"text-bold\"},[_vm._v(\"Thank You for Your Submission!\")])])],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Close\",\"color\":\"primary\"},on:{\"click\":_vm.closeSuccessModal}})]},proxy:true}]),model:{value:(_vm.successModal),callback:function ($$v) {_vm.successModal=$$v},expression:\"successModal\"}}),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\",\"has-footer\":\"\"},on:{\"input\":function($event){_vm.advancedCommentsSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments\")]},proxy:true},{key:\"default\",fn:function(){return [_c('TextBuilderField',{model:{value:(_vm.advancedCommentText),callback:function ($$v) {_vm.advancedCommentText=$$v},expression:\"advancedCommentText\"}})]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Post\",\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary\"},on:{\"click\":_vm.saveAdvancedComment}})]},proxy:true}]),model:{value:(_vm.advancedCommentsSheet),callback:function ($$v) {_vm.advancedCommentsSheet=$$v},expression:\"advancedCommentsSheet\"}}),_c('Modal',{attrs:{\"width\":\"40vw\",\"height\":\"50vh\",\"has-footer\":\"\"},on:{\"input\":function($event){{\n        _vm.saveAction = '';\n        _vm.processForwardModal = false;\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"\\\"\"+_vm._s(_vm.selectedProcess.requestNo)+\"\\\" \"),[_vm._v(\" Process Forward \")]]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{attrs:{\"id\":\"processForward\"}},[(_vm.internalForward.proceed)?_c('MultiSelectField',{staticClass:\"field\",attrs:{\"label\":\"users\",\"is-mandatory\":\"\",\"options\":_vm.internalForward.users.length ? _vm.internalForward.users : _vm.userList},model:{value:(_vm.forwardUsers),callback:function ($$v) {_vm.forwardUsers=$$v},expression:\"forwardUsers\"}}):_vm._e(),(_vm.internalForward.groups.length)?_c('MultiSelectField',{staticClass:\"field\",attrs:{\"label\":\"group\",\"options\":_vm.internalForward.groups.length ? _vm.internalForward.groups : _vm.groupList},model:{value:(_vm.forwardGroups),callback:function ($$v) {_vm.forwardGroups=$$v},expression:\"forwardGroups\"}}):_vm._e()],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Forward\",\"color\":\"orange\"},on:{\"click\":function($event){{\n            _vm.processForwardModal = false;\n            _vm.requestAction('Forward', false, false);\n          }}}})]},proxy:true}]),model:{value:(_vm.processForwardModal),callback:function ($$v) {_vm.processForwardModal=$$v},expression:\"processForwardModal\"}}),_c('Confirm',{attrs:{\"icon\":\"eva-alert-circle-outline\",\"icon-color\":\"red\"},on:{\"input\":function($event){{\n        _vm.saveAction = '';\n        _vm.workflowFormModel = '';\n        _vm.actionPasswordConfirm = false;\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Action Password\")]},proxy:true},{key:\"default\",fn:function(){return [_c('ValidationObserver',{ref:\"passwordForm\"},[_c('ValidationProvider',{attrs:{\"name\":\"password\",\"rules\":{ required: true, password: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('PasswordField',{staticClass:\"q-my-lg\",attrs:{\"is-mandatory\":\"\",\"is-readonly\":_vm.isLoading,\"error\":errors[0],\"auto-focus\":true},on:{\"enter\":_vm.validatePassword},model:{value:(_vm.actionUserPassword),callback:function ($$v) {_vm.actionUserPassword=$$v},expression:\"actionUserPassword\"}})]}}])})],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"validate\",\"is-loading\":_vm.isLoading},on:{\"click\":_vm.validatePassword}})]},proxy:true}]),model:{value:(_vm.actionPasswordConfirm),callback:function ($$v) {_vm.actionPasswordConfirm=$$v},expression:\"actionPasswordConfirm\"}}),_c('Confirm',{attrs:{\"icon\":\"eva-alert-circle-outline\",\"icon-color\":\"red\"},on:{\"input\":function($event){_vm.actionConfirmAlert = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Confirmation\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md\"},[_c('p',[_vm._v(\" Are you sure you want to confirm the action as \\\" \"),_c('b',[_vm._v(_vm._s(_vm.saveAction))]),_vm._v(\"\\\"? \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"no\",\"color\":\"primary\"},on:{\"click\":function($event){{\n            _vm.saveAction = '';\n            _vm.workflowFormModel = {};\n            _vm.actionConfirmAlert = false;\n          }}}}),_c('BaseButton',{attrs:{\"label\":\"yes\",\"color\":\"primary\"},on:{\"click\":function($event){{\n            _vm.actionConfirmAlert = false;\n            _vm.processRequest(false, false);\n          }}}})]},proxy:true}]),model:{value:(_vm.actionConfirmAlert),callback:function ($$v) {_vm.actionConfirmAlert=$$v},expression:\"actionConfirmAlert\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"external-preview\" :style=\"{ width: formWidth }\">\r\n    <!-- header -->\r\n\r\n    <!-- <div class=\"logo\">\r\n      <img :src=\"logo\" alt=\"logo\" :height=\"logoHeight\" />\r\n    </div> -->\r\n\r\n    <!-- ... -->\r\n\r\n    <!-- content -->\r\n    <div id=\"content-wrapper\">\r\n      <BaseLoadingBarSheet v-if=\"loadingBarContent\" class=\"loading-content\" />\r\n      <div class=\"content\">\r\n        <template>\r\n          <div class=\"header col row\">\r\n            <div class=\"col\">\r\n              <div class=\"title-1\">{{ title }}</div>\r\n              <div class=\"description\">{{ description }}</div>\r\n            </div>\r\n            <div\r\n              class=\"col-auto text-secondary q-pa-sm cursor-pointer\"\r\n              @click=\"viewDetail\"\r\n            >\r\n              View Detailed Information\r\n              <BaseIcon\r\n                name=\"eva-arrowhead-right\"\r\n                size=\"18px\"\r\n                color=\"secondary\"\r\n                class=\"icon\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"row request-data\">\r\n            <div class=\"col-4 divider-right\">\r\n              <BaseScrollbar height=\"calc(100vh - 300px)\">\r\n                <q-stepper ref=\"stepper\" vertical color=\"primary\" animated>\r\n                  <q-step\r\n                    v-for=\"(level, index) in stageLevel\"\r\n                    :key=\"level.id\"\r\n                    :name=\"index\"\r\n                    :title=\"level.label\"\r\n                    :prefix=\"index + 1\"\r\n                    :done=\"currentStep >= index + 1\"\r\n                    done-color=\"green\"\r\n                  >\r\n                  </q-step>\r\n                </q-stepper>\r\n              </BaseScrollbar>\r\n            </div>\r\n            <div class=\"col\">\r\n              <BaseScrollbar height=\"calc(100vh - 300px)\">\r\n                <template v-if=\"requestFormData.panels\">\r\n                  <table class=\"mainData col-12\">\r\n                    <template v-for=\"panel in requestFormData.panels\">\r\n                      <template v-if=\"panel.panelsExpandView\">\r\n                        <template v-for=\"(value, key) in panel.fields\">\r\n                          <template v-if=\"value && value != '[]'\">\r\n                            <template v-if=\"validateType(key) !== 'TABLE'\">\r\n                              <tr :key=\"key\">\r\n                                <td class=\"tblHeader ellipsis small\">\r\n                                  {{ getLabel(key) }}\r\n                                </td>\r\n                                <td class=\"ellipsis\">\r\n                                  <template v-if=\"validateType(key) === 'DATE'\">\r\n                                    {{ $day.format(value, false) }}\r\n                                  </template>\r\n                                  <template v-else-if=\"validateValue(value)\">\r\n                                    {{ removeTags(value) || \"-\" }}\r\n                                  </template>\r\n                                  <template v-else>\r\n                                    <a :href=\"value\" target=\"_blank\">\r\n                                      {{ value || \"-\" }}\r\n                                    </a>\r\n                                  </template>\r\n                                </td>\r\n                              </tr>\r\n                            </template>\r\n                          </template>\r\n                        </template>\r\n                      </template>\r\n                    </template>\r\n                  </table>\r\n                </template>\r\n              </BaseScrollbar>\r\n            </div>\r\n            <div\r\n              v-if=\"processActions.length && selectedProcess.review === ''\"\r\n              class=\"col-auto q-pa-md\"\r\n              style=\"margin: auto\"\r\n            >\r\n              <template v-for=\"action in processActions\">\r\n                <BaseButton\r\n                  v-if=\"\r\n                    action === 'Approve' ||\r\n                    action === 'Complete' ||\r\n                    action === 'Rightsize' ||\r\n                    action.indexOf('Approve') > -1\r\n                  \"\r\n                  :key=\"action\"\r\n                  :label=\"action\"\r\n                  color=\"positive\"\r\n                  class=\"q-mb-md\"\r\n                  style=\"width: 100%\"\r\n                  @click=\"saveAction = action\"\r\n                />\r\n                <BaseButton\r\n                  v-else-if=\"\r\n                    action === 'Reject' ||\r\n                    action === 'Terminate' ||\r\n                    action === 'Force Close' ||\r\n                    action === 'Decline' ||\r\n                    action.indexOf('Reject') > -1\r\n                  \"\r\n                  :key=\"action\"\r\n                  :label=\"action\"\r\n                  color=\"red\"\r\n                  class=\"q-mb-md\"\r\n                  style=\"width: 100%\"\r\n                  @click=\"saveAction = action\"\r\n                />\r\n                <BaseButton\r\n                  v-else-if=\"\r\n                    action === 'Forward' ||\r\n                    action.indexOf('Reply') > -1 ||\r\n                    action === 'Rollback' ||\r\n                    action === 'Assign'\r\n                  \"\r\n                  :key=\"action\"\r\n                  :label=\"action\"\r\n                  color=\"orange\"\r\n                  class=\"q-mb-md\"\r\n                  style=\"width: 100%\"\r\n                  @click=\"saveAction = action\"\r\n                />\r\n                <BaseButton\r\n                  v-else-if=\"action === 'To Requester'\"\r\n                  :key=\"action\"\r\n                  :label=\"action\"\r\n                  color=\"pink\"\r\n                  class=\"q-mb-md\"\r\n                  style=\"width: 100%\"\r\n                  @click=\"saveAction = action\"\r\n                />\r\n                <BaseButton\r\n                  v-else\r\n                  :key=\"action\"\r\n                  :label=\"action\"\r\n                  class=\"q-mb-md\"\r\n                  style=\"width: 100%\"\r\n                  @click=\"saveAction = action\"\r\n                />\r\n              </template>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <!-- ... -->\r\n\r\n    <!-- footer -->\r\n\r\n    <div class=\"footer\">EZOFIS &copy; 2024 All Rights Reserved</div>\r\n\r\n    <!-- ... -->\r\n\r\n    <Modal\r\n      v-model=\"successModal\"\r\n      width=\"50vw\"\r\n      height=\"70vh\"\r\n      has-footer\r\n      @input=\"closeSuccessModal\"\r\n    >\r\n      <template #title>\"{{ title }}\" Request Submission</template>\r\n\r\n      <template #default>\r\n        <div class=\"success-modal\">\r\n          <Stepper\r\n            :stage-level=\"stageLevel\"\r\n            :current-step=\"currentStep + 1\"\r\n            done-color=\"green\"\r\n            class=\"q-mb-md\"\r\n          />\r\n          <div\r\n            class=\"q-py-md text-md q-pa-sm text-center\"\r\n            style=\"background: #dbf6db; border-radius: 6px\"\r\n          >\r\n            <span class=\"text-bold\">Thank You for Your Submission!</span>\r\n            <!-- <span>\r\n            We’re processing your request and have moved it to the next step.\r\n            Please find the current processing status below:\r\n          </span> -->\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton label=\"Close\" color=\"primary\" @click=\"closeSuccessModal\" />\r\n      </template>\r\n    </Modal>\r\n\r\n    <Modal\r\n      v-model=\"advancedCommentsSheet\"\r\n      width=\"60vw\"\r\n      height=\"80vh\"\r\n      has-footer\r\n      @input=\"advancedCommentsSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Comments</template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <TextBuilderField v-model=\"advancedCommentText\" />\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          label=\"Post\"\r\n          icon=\"eva-paper-plane-outline\"\r\n          color=\"primary\"\r\n          @click=\"saveAdvancedComment\"\r\n        />\r\n      </template>\r\n    </Modal>\r\n\r\n    <Modal\r\n      v-model=\"processForwardModal\"\r\n      width=\"40vw\"\r\n      height=\"50vh\"\r\n      has-footer\r\n      @input=\"\r\n        {\r\n          saveAction = '';\r\n          processForwardModal = false;\r\n        }\r\n      \"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title\r\n        >\"{{ selectedProcess.requestNo }}\"\r\n        <template> Process Forward </template>\r\n      </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <div id=\"processForward\">\r\n          <!-- user -->\r\n\r\n          <MultiSelectField\r\n            v-if=\"internalForward.proceed\"\r\n            v-model=\"forwardUsers\"\r\n            label=\"users\"\r\n            is-mandatory\r\n            :options=\"\r\n              internalForward.users.length ? internalForward.users : userList\r\n            \"\r\n            class=\"field\"\r\n          />\r\n\r\n          <!-- ... -->\r\n\r\n          <!-- group -->\r\n\r\n          <MultiSelectField\r\n            v-if=\"internalForward.groups.length\"\r\n            v-model=\"forwardGroups\"\r\n            label=\"group\"\r\n            :options=\"\r\n              internalForward.groups.length ? internalForward.groups : groupList\r\n            \"\r\n            class=\"field\"\r\n          />\r\n\r\n          <!-- ... -->\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          label=\"Forward\"\r\n          color=\"orange\"\r\n          @click=\"\r\n            {\r\n              processForwardModal = false;\r\n              requestAction('Forward', false, false);\r\n            }\r\n          \"\r\n        />\r\n      </template>\r\n    </Modal>\r\n\r\n    <Confirm\r\n      v-model=\"actionPasswordConfirm\"\r\n      icon=\"eva-alert-circle-outline\"\r\n      icon-color=\"red\"\r\n      @input=\"\r\n        {\r\n          saveAction = '';\r\n          workflowFormModel = '';\r\n          actionPasswordConfirm = false;\r\n        }\r\n      \"\r\n    >\r\n      <template #title> Action Password</template>\r\n\r\n      <template #default>\r\n        <ValidationObserver ref=\"passwordForm\">\r\n          <!-- password -->\r\n\r\n          <ValidationProvider\r\n            v-slot=\"{ errors }\"\r\n            name=\"password\"\r\n            :rules=\"{ required: true, password: true }\"\r\n          >\r\n            <PasswordField\r\n              v-model=\"actionUserPassword\"\r\n              is-mandatory\r\n              :is-readonly=\"isLoading\"\r\n              :error=\"errors[0]\"\r\n              :auto-focus=\"true\"\r\n              class=\"q-my-lg\"\r\n              @enter=\"validatePassword\"\r\n            />\r\n          </ValidationProvider>\r\n\r\n          <!-- ... -->\r\n        </ValidationObserver>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          label=\"validate\"\r\n          :is-loading=\"isLoading\"\r\n          @click=\"validatePassword\"\r\n        />\r\n      </template>\r\n    </Confirm>\r\n\r\n    <Confirm\r\n      v-model=\"actionConfirmAlert\"\r\n      icon=\"eva-alert-circle-outline\"\r\n      icon-color=\"red\"\r\n      @input=\"actionConfirmAlert = false\"\r\n    >\r\n      <template #title> Confirmation</template>\r\n\r\n      <template #default>\r\n        <div class=\"q-py-md\">\r\n          <p>\r\n            Are you sure you want to confirm the action as \"\r\n            <b>{{ saveAction }}</b\r\n            >\"?\r\n          </p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          is-flat\r\n          label=\"no\"\r\n          class=\"q-mr-sm\"\r\n          color=\"primary\"\r\n          @click=\"\r\n            {\r\n              saveAction = '';\r\n              workflowFormModel = {};\r\n              actionConfirmAlert = false;\r\n            }\r\n          \"\r\n        />\r\n        <BaseButton\r\n          label=\"yes\"\r\n          color=\"primary\"\r\n          @click=\"\r\n            {\r\n              actionConfirmAlert = false;\r\n              processRequest(false, false);\r\n            }\r\n          \"\r\n        />\r\n      </template>\r\n    </Confirm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationObserver, ValidationProvider } from \"vee-validate\";\r\nimport { auth, report, workflow, form, user, group } from \"@/api/factory.js\";\r\nimport Stepper from \"@/components/common/workflow/Stepper.vue\";\r\nimport Confirm from \"@/components/common/popup/Confirm.vue\";\r\nimport Modal from \"@/components/common/popup/Modal.vue\";\r\nimport TextBuilderField from \"@/components/common/form/text-builder-field/TextBuilderField.vue\";\r\nimport PasswordField from \"@/components/common/form/password-field/PasswordField.vue\";\r\n\r\nexport default {\r\n  name: \"ExternalPreview\",\r\n\r\n  components: {\r\n    ValidationObserver,\r\n    ValidationProvider,\r\n    Stepper,\r\n    Confirm,\r\n    Modal,\r\n    TextBuilderField,\r\n    PasswordField,\r\n  },\r\n\r\n  props: {\r\n    tenantId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n    userId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n    workflowId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n    processId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loadingBarContent: true,\r\n      formWidth: \"100%\",\r\n      title: \"\",\r\n      description: \"\",\r\n      selectedProcess: {},\r\n      workflow: {},\r\n      formId: 0,\r\n      form: null,\r\n      formModel: {},\r\n      processActions: [],\r\n      processActionsAddOn: [],\r\n      advancedCommentsSheet: false,\r\n      advancedCommentText: \"\",\r\n      actionText: \"\",\r\n      actionRemarks: false,\r\n      actionPassword: false,\r\n      actionPasswordConfirm: false,\r\n      actionUserPassword: \"\",\r\n      actionComments: false,\r\n      actionConfirm: false,\r\n      actionConfirmAlert: false,\r\n      isLoading: false,\r\n      workflowFormModel: {},\r\n      saveAction: \"\",\r\n      formFields: [],\r\n      requestFormData: {},\r\n      processForwardModal: false,\r\n      internalForward: {\r\n        proceed: false,\r\n        users: [],\r\n        groups: [],\r\n      },\r\n      userList: [],\r\n      groupList: [],\r\n      forwardUsers: [],\r\n      forwardGroups: [],\r\n      stageLevel: [],\r\n      currentStep: 0,\r\n      successModal: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    logo() {\r\n      return require(`@/assets/logo/logo-${\r\n        this.darkTheme ? \"dark\" : \"light\"\r\n      }.png`);\r\n    },\r\n\r\n    logoHeight() {\r\n      return \"24px\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    userId: {\r\n      immediate: true,\r\n      handler: \"getSession\",\r\n    },\r\n\r\n    saveAction: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.saveAction) {\r\n          this.workflowFormModel = this.selectedProcess.formData.fields;\r\n          this.processRequest();\r\n        }\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async getSession() {\r\n      const { error } = await auth.externalLogin(this.tenantId, this.userId);\r\n      if (error) {\r\n        this.$alert.info(\"User Account Not Found\");\r\n        return;\r\n      }\r\n      this.getProcess();\r\n    },\r\n\r\n    async getProcess() {\r\n      const { error, payload } = await report.getWorkflowData(this.workflowId, {\r\n        filterBy: [\r\n          {\r\n            filters: [\r\n              {\r\n                criteria: \"processId\",\r\n                condition: \"IS_EQUALS_TO\",\r\n                value: this.processId,\r\n              },\r\n              {\r\n                criteria: \"actionUser\",\r\n                condition: \"IS_EQUALS_TO\",\r\n                value: this.userId,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n        itemsPerPage: 10,\r\n        currentPage: 1,\r\n        mode: \"\",\r\n      });\r\n      if (error) {\r\n        this.loadingBarContent = false;\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.meta.totalItems) {\r\n        if (payload.data.length) {\r\n          if (payload.data[0].value.length) {\r\n            this.selectedProcess = payload.data[0].value[0];\r\n            this.title = this.selectedProcess.requestNo;\r\n            this.getWorkflow();\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    async getWorkflow() {\r\n      const { error, payload } = await workflow.getWorkflow(this.workflowId);\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.workflow = payload;\r\n      let workflowJson = JSON.parse(this.workflow.flowJson);\r\n      if (workflowJson.settings.general.initiateUsing.formId) {\r\n        this.getForm(workflowJson.settings.general.initiateUsing.formId);\r\n      }\r\n      this.description = `${this.workflow.name} - ${this.selectedProcess.stage}`;\r\n      this.formEditAccess = true;\r\n      if (\r\n        this.selectedProcess.activityUserEmail ===\r\n        this.$store.state.session.email\r\n      ) {\r\n        let block = workflowJson.blocks.find(\r\n          (block) => block.id === this.selectedProcess.activityId\r\n        );\r\n        if (block) {\r\n          if (\r\n            this.selectedProcess.lastAction === \"Forward\" &&\r\n            block.settings.forwardedUserAction === \"REPLY\"\r\n          ) {\r\n            this.processActions = [];\r\n            this.processActionsAddOn = [];\r\n            this.processActions.push(\r\n              \"Reply to \" + this.selectedProcess.transaction_createdByEmail\r\n            );\r\n            this.processActionsAddOn.push({\r\n              action:\r\n                \"Reply to \" + this.selectedProcess.transaction_createdByEmail,\r\n              remarks: true,\r\n              passwordAccess: false,\r\n              confirm: false,\r\n            });\r\n            this.customReply = true;\r\n          } else {\r\n            if (\r\n              block.settings.userReply &&\r\n              this.processActions.indexOf(\"Reply\") === -1\r\n            ) {\r\n              this.processActions.push(\r\n                \"Reply to \" + this.selectedProcess.lastActionStageName\r\n              );\r\n              this.userReply = true;\r\n            }\r\n            if (\r\n              block.settings.toInitiator &&\r\n              this.processActions.indexOf(\"To Requester\") === -1\r\n            ) {\r\n              this.processActions.push(\"To Requester\");\r\n              this.toRequester = true;\r\n            }\r\n            if (block.settings.internalForward) {\r\n              this.processActions.push(\"Forward\");\r\n              this.internalForward.proceed = true;\r\n              this.internalForward.users = [];\r\n              this.internalForward.groups = [];\r\n              if (block.settings.internalForwardUser) {\r\n                if (block.settings.internalForwardUser.length) {\r\n                  block.settings.internalForwardUser.forEach((user) => {\r\n                    let userFilter = this.userList.filter(\r\n                      (row) => row.value == user\r\n                    );\r\n                    if (userFilter.length) {\r\n                      this.internalForward.users.push({\r\n                        id: this.$nano.id(),\r\n                        label: userFilter[0].label,\r\n                        value: user,\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n              } else {\r\n                this.getUsers();\r\n              }\r\n              if (block.settings.internalForwardGroup) {\r\n                if (block.settings.internalForwardGroup.length) {\r\n                  block.settings.internalForwardGroup.forEach((group) => {\r\n                    let groupFilter = this.groupList.filter(\r\n                      (row) => row.value == group\r\n                    );\r\n                    if (groupFilter.length) {\r\n                      this.internalForward.groups.push({\r\n                        id: this.$nano.id(),\r\n                        label: groupFilter[0].label,\r\n                        value: group,\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n              } else {\r\n                this.getGroups();\r\n              }\r\n            }\r\n          }\r\n          workflowJson.rules.forEach((rule) => {\r\n            if (rule.fromBlockId === this.selectedProcess.activityId) {\r\n              if (this.processActions.indexOf(rule.proceedAction) < 0) {\r\n                this.processActions.push(rule.proceedAction);\r\n                this.processActionsAddOn.push({\r\n                  action: rule.proceedAction,\r\n                  remarks: rule.remarks || false,\r\n                  passwordAccess: rule.passwordAccess || false,\r\n                  confirm: rule.confirm || false,\r\n                });\r\n              }\r\n            }\r\n          });\r\n          if (block.settings.formEditAccess) {\r\n            if (block.settings.formEditAccess === \"\") {\r\n              this.formEditAccess = true;\r\n              this.formEditControls = [];\r\n            } else if (block.settings.formEditAccess === \"FULL\") {\r\n              this.formEditAccess = false;\r\n              this.formEditControls = [];\r\n            } else if (block.settings.formEditAccess === \"PARTIAL\") {\r\n              this.formEditAccess = false;\r\n              this.formEditControls = block.settings.formEditControls;\r\n            }\r\n          }\r\n          if (block.settings.formVisibilityAccess) {\r\n            this.formVisibilityAccess = true;\r\n            this.formSecureControls = [];\r\n          } else {\r\n            this.formVisibilityAccess = false;\r\n            this.formSecureControls = block.settings.formSecureControls;\r\n          }\r\n          if (\r\n            workflowJson.settings.general.processNumberPrefix.indexOf(\"[\") > -1\r\n          ) {\r\n            let requestNumberFormat = JSON.parse(\r\n              workflowJson.settings.general.processNumberPrefix\r\n            );\r\n            this.readonlyControls = [];\r\n            let requestColumn = requestNumberFormat.filter(\r\n              (row) => row.key === \"formColumn\"\r\n            );\r\n            if (requestColumn.length) {\r\n              requestColumn.forEach((row) => {\r\n                this.readonlyControls.push(row.value);\r\n                this.formEditControls.splice(\r\n                  this.formEditControls.indexOf(row.value),\r\n                  1\r\n                );\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    async getForm(fId) {\r\n      const { error, payload } = await form.getForm(fId);\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.form = JSON.parse(payload.formJson);\r\n      this.formId = fId.toString();\r\n\r\n      const panels = [...this.form.panels, ...this.form.secondaryPanels];\r\n\r\n      if (!panels.length) {\r\n        return;\r\n      }\r\n      let fields = [];\r\n      for (const panel of panels) {\r\n        fields.push(...panel.fields);\r\n      }\r\n\r\n      fields.forEach((field) => {\r\n        if (\r\n          field.type !== \"DIVIDER\" &&\r\n          field.type !== \"LABEL\" &&\r\n          field.type !== \"PARAGRAPH\" &&\r\n          (field.label || field.type === \"TABLE\") &&\r\n          field.settings.general.visibility !== \"DISABLE\"\r\n        ) {\r\n          this.formFields.push({\r\n            id: this.$nano.id(),\r\n            label: field.label || field.type,\r\n            value: field.id,\r\n            type: field.type,\r\n            settings: field.settings,\r\n          });\r\n        }\r\n      });\r\n      this.requestFormData = await this.transformFormDataToPanelsArray(\r\n        this.selectedProcess.formData,\r\n        this.form.panels\r\n      );\r\n      this.getProcessHistory();\r\n    },\r\n\r\n    transformFormDataToPanelsArray(formData, panels) {\r\n      const transformedFormData = {\r\n        formId: formData.formId,\r\n        formEntryId: formData.formEntryId,\r\n        panels: [],\r\n      };\r\n\r\n      panels.forEach((panel, index) => {\r\n        const panelTitle = panel.settings.title;\r\n        const panelFields = panel.fields;\r\n\r\n        const panelData = {\r\n          name: panelTitle,\r\n          panelsExpandView: index === 0,\r\n          fields: {},\r\n        };\r\n\r\n        panelFields.forEach((field) => {\r\n          const fieldId = field.id;\r\n          const fieldValue = formData.fields[fieldId] || \"\";\r\n          panelData.fields[fieldId] = fieldValue;\r\n        });\r\n\r\n        transformedFormData.panels.push(panelData);\r\n      });\r\n\r\n      return transformedFormData;\r\n    },\r\n\r\n    async getUsers() {\r\n      this.userList = [];\r\n      const { error, payload } = await user.getUserList();\r\n\r\n      if (error) {\r\n        this.$alert.error(\"Error fetching users\");\r\n        return;\r\n      }\r\n      if (payload) {\r\n        payload.map((user) => {\r\n          if (user.id !== this.$store.state.session.id)\r\n            this.userList.push({\r\n              id: this.$nano.id(),\r\n              label: user.value,\r\n              value: user.id,\r\n            });\r\n        });\r\n      }\r\n    },\r\n\r\n    async getGroups() {\r\n      const { error, payload } = await group.getGroupList();\r\n\r\n      if (error) {\r\n        this.$alert.error(\"Error fetching groups\");\r\n        return;\r\n      }\r\n\r\n      this.groupList =\r\n        payload &&\r\n        payload.map((group) => ({\r\n          id: this.$nano.id(),\r\n          label: group.value,\r\n          value: group.id,\r\n        }));\r\n    },\r\n\r\n    async getProcessHistory() {\r\n      const { error, payload } = await workflow.processHistory(\r\n        this.workflowId,\r\n        this.processId\r\n      );\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.stageLevel = [];\r\n        this.currentStep = 0;\r\n        payload.forEach((row) => {\r\n          if (row.actionStatus !== 2) {\r\n            if (\r\n              this.stageLevel.filter((stage) => stage.id === row.activityId)\r\n                .length === 0\r\n            ) {\r\n              this.stageLevel.push({\r\n                id: row.activityId,\r\n                label: row.stage,\r\n                status: row.status,\r\n                processedBy: row.processedBy,\r\n                processedOn: this.$day.format(row.processedOn),\r\n              });\r\n              if (\r\n                ((row.actionUser || row.subWorkflowHistory) &&\r\n                  row.status &&\r\n                  row.status !== \"Forward\") ||\r\n                (row.actionUser === null && !row.subWorkflowHistory)\r\n              ) {\r\n                this.currentStep += 1;\r\n              }\r\n            } else if (row.status) {\r\n              if (\r\n                this.stageLevel.filter(\r\n                  (stage) =>\r\n                    stage.id === row.activityId && stage.status !== row.status\r\n                ).length\r\n              ) {\r\n                this.currentStep += 1;\r\n              } else {\r\n                this.currentStep -= 1;\r\n              }\r\n            } else {\r\n              let index = this.stageLevel.findIndex(\r\n                (stage) => stage.id === row.activityId\r\n              );\r\n              if (index > -1) {\r\n                this.stageLevel.splice(index, this.stageLevel.length - index);\r\n                this.stageLevel.push({\r\n                  id: row.activityId,\r\n                  label: row.stage,\r\n                  status: row.status,\r\n                  processedBy: row.processedBy,\r\n                  processedOn: this.$day.format(row.processedOn),\r\n                });\r\n                if (\r\n                  (row.actionUser && row.status && row.status !== \"Forward\") ||\r\n                  row.actionUser === null\r\n                ) {\r\n                  this.currentStep = index + 1;\r\n                } else {\r\n                  this.currentStep = index;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.loadingBarContent = false;\r\n    },\r\n\r\n    validateType(key) {\r\n      let fieldType = \"\";\r\n      this.form.panels.forEach((panel) => {\r\n        if (!panel.fields.length) {\r\n          return;\r\n        }\r\n        let formField = panel.fields.find((field) => field.id === key);\r\n        if (formField) {\r\n          fieldType = formField.type;\r\n        }\r\n      });\r\n      return fieldType;\r\n    },\r\n\r\n    getLabel(id, type) {\r\n      let controlLabel = \"\";\r\n      this.form.panels.forEach((panel) => {\r\n        if (!panel.fields.length) {\r\n          return;\r\n        }\r\n        for (let field of panel.fields) {\r\n          if (type === \"table\") {\r\n            const column = field.settings.specific.tableColumns.find(\r\n              (column) => column.id === id\r\n            );\r\n            if (column) {\r\n              controlLabel = column.label;\r\n            }\r\n          } else {\r\n            if (field.id === id && field.settings.general.hideLabel === false) {\r\n              controlLabel = field.label;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return controlLabel;\r\n    },\r\n\r\n    validateValue(value) {\r\n      let urlPattern =\r\n        /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\r\n      return !urlPattern.test(value);\r\n    },\r\n\r\n    removeTags(value) {\r\n      if (!value) return \"\";\r\n      return value.replace(/(<([^>]+)>)/gi, \"\");\r\n    },\r\n\r\n    closeSuccessModal() {\r\n      location.reload();\r\n    },\r\n\r\n    viewDetail() {\r\n      location.href =\r\n        location.origin + location.pathname.replace(\"/preview\", \"\");\r\n    },\r\n\r\n    async processRequest(forwardCheck = true, addOnCheck = true) {\r\n      if (forwardCheck) {\r\n        if (this.saveAction === \"Forward\" && this.internalForward.proceed) {\r\n          this.processForwardGroupAction = false;\r\n          this.processForwardModal = true;\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (addOnCheck) {\r\n        let actionAddOn = this.processActionsAddOn.find(\r\n          (row) => row.action === this.saveAction\r\n        );\r\n        if (actionAddOn) {\r\n          if (Object.keys(actionAddOn).length) {\r\n            this.actionRemarks = actionAddOn.remarks;\r\n            this.actionPassword = actionAddOn.passwordAccess;\r\n            this.actionConfirm = actionAddOn.confirm;\r\n            if (this.actionPassword) {\r\n              this.actionPasswordConfirm = true;\r\n              return;\r\n            }\r\n            if (this.actionRemarks) {\r\n              this.actionComments = true;\r\n              this.advancedCommentsSheet = true;\r\n              return;\r\n            }\r\n            if (this.actionConfirm) {\r\n              this.actionConfirmAlert = true;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      let inputData = {};\r\n      if (this.formId) {\r\n        inputData = {\r\n          workflowId: this.workflow.id,\r\n          transactionId: this.selectedProcess.transactionId,\r\n          review: this.saveAction === \"Save\" ? \"\" : this.saveAction,\r\n          formData: {\r\n            formId: this.formId,\r\n            formEntryId: this.selectedProcess.formData.formEntryId,\r\n            fields: this.workflowFormModel,\r\n          },\r\n        };\r\n      }\r\n      this.saveAction = \"\";\r\n      this.workflowFormModel = {};\r\n      this.loadingBarContent = true;\r\n      const { error } = await workflow.processTransaction(inputData);\r\n      this.loadingBarContent = false;\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (inputData.review === \"\") {\r\n        this.$alert.info(\r\n          `${this.selectedProcess.requestNo} data saved, awaiting your action to submit`\r\n        );\r\n      } else {\r\n        this.processActions = [];\r\n        this.successModal = true;\r\n      }\r\n    },\r\n\r\n    async saveAdvancedComment() {\r\n      if (this.advancedCommentText) {\r\n        if (this.selectedProcess.processId) {\r\n          const { error } = await workflow.insertProcessComment(\r\n            this.workflow.id,\r\n            this.selectedProcess.processId,\r\n            this.selectedProcess.transactionId,\r\n            {\r\n              comments: this.advancedCommentText,\r\n            }\r\n          );\r\n\r\n          if (error) {\r\n            this.$alert.error(error);\r\n            return;\r\n          }\r\n          this.advancedCommentText = \"\";\r\n          this.advancedCommentsSheet = false;\r\n        }\r\n        if (this.actionComments) {\r\n          this.processRequest(false, false);\r\n        }\r\n      }\r\n    },\r\n\r\n    async validatePassword() {\r\n      const areAllFieldsValid = await this.$refs.passwordForm.validate();\r\n\r\n      if (!areAllFieldsValid) {\r\n        return;\r\n      }\r\n      this.isLoading = true;\r\n      const { error } = await auth.validatePassword({\r\n        password: this.actionUserPassword,\r\n      });\r\n      this.isLoading = false;\r\n      if (error) {\r\n        console.log(error);\r\n        this.$alert.warning(error);\r\n        return;\r\n      }\r\n      this.actionUserPassword = \"\";\r\n      this.actionPasswordConfirm = false;\r\n      if (this.actionRemarks) {\r\n        this.actionComments = true;\r\n        this.advancedCommentsSheet = true;\r\n      } else {\r\n        this.actionRemarks = false;\r\n        this.actionPassword = false;\r\n        this.processRequest(false, false);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#external-preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  margin: auto;\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, #dec2e7 0%, #b2ebf2 100%);\r\n\r\n  .logo {\r\n    text-align: center;\r\n    height: 46px;\r\n    align-items: center;\r\n    padding: 0px 16px;\r\n  }\r\n\r\n  #content-wrapper {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .loading-content {\r\n      width: 80vw !important;\r\n      height: 70vh !important;\r\n    }\r\n\r\n    .content {\r\n      width: 80vw;\r\n      background-color: var(--component-bg-color);\r\n      border-radius: 6px;\r\n      padding: 18px;\r\n      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2), 0 2px 2px rgba(0, 0, 0, 0.14),\r\n        0 3px 1px -2px rgba(0, 0, 0, 0.12);\r\n\r\n      .header {\r\n        padding: 16px;\r\n        border-radius: 6px;\r\n        // background-color: #eee;\r\n        margin-bottom: 16px;\r\n        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2), 0 2px 2px rgba(0, 0, 0, 0.14),\r\n          0 3px 1px -2px rgba(0, 0, 0, 0.12);\r\n\r\n        .description {\r\n          @extend .text-sm;\r\n          color: $primary;\r\n        }\r\n      }\r\n\r\n      .request-data {\r\n        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2), 0 2px 2px rgba(0, 0, 0, 0.14),\r\n          0 3px 1px -2px rgba(0, 0, 0, 0.12);\r\n        border-radius: 6px;\r\n        background: #fff;\r\n\r\n        .divider-right {\r\n          border-right: 3px solid var(--divider-color);\r\n        }\r\n\r\n        table {\r\n          &.submittedData {\r\n            background: $primary-1;\r\n          }\r\n          &.mainData {\r\n            table-layout: fixed;\r\n          }\r\n          width: 100%;\r\n\r\n          tr {\r\n            height: 36px;\r\n\r\n            th {\r\n              color: $primary-11;\r\n              text-align: left;\r\n            }\r\n          }\r\n\r\n          th,\r\n          td {\r\n            padding: 8px;\r\n            font-weight: 500;\r\n          }\r\n\r\n          .tblHeader {\r\n            color: $primary-11;\r\n            font-weight: 500;\r\n            &.small {\r\n              width: 200px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .q-stepper {\r\n        box-shadow: none !important;\r\n        border-radius: none !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  .footer {\r\n    margin-top: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 16px;\r\n    width: 100%;\r\n\r\n    .label {\r\n      @extend .text-sm;\r\n      color: var(--icon-color-inverted);\r\n      margin-right: 4px;\r\n    }\r\n\r\n    img {\r\n      height: 16px;\r\n      width: auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n#external-preview,\r\n#modal .success-modal {\r\n  .q-stepper--vertical .q-stepper__tab.q-stepper__tab--done,\r\n  .q-stepper--horizontal .q-stepper__tab.q-stepper__tab--done {\r\n    padding: 12px 24px 24px 24px !important;\r\n\r\n    .q-stepper__title {\r\n      color: $primary;\r\n    }\r\n  }\r\n\r\n  .q-stepper__dot span {\r\n    color: green;\r\n    background: white;\r\n  }\r\n\r\n  .q-stepper--vertical .q-stepper__dot,\r\n  .q-stepper--horizontal .q-stepper__dot {\r\n    background: white;\r\n    border: 2px solid;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=f6141cb2&scoped=true&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preview.vue?vue&type=style&index=0&id=f6141cb2&prod&lang=scss&scoped=true&\"\nimport style1 from \"./Preview.vue?vue&type=style&index=1&id=f6141cb2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6141cb2\",\n  null\n  \n)\n\nexport default component.exports\nimport QStepper from 'quasar/src/components/stepper/QStepper.js';\nimport QStep from 'quasar/src/components/stepper/QStep.js';\nimport qInstall from \"../../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QStepper,QStep});\n"],"sourceRoot":""}