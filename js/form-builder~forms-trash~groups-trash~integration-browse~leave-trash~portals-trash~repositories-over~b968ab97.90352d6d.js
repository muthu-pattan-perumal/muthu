(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97"],{"27bd":function(e,t,i){"use strict";i("caad");var s=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-funnel-outline",color:e.activeFilter?"secondary":"gray"},on:{click:function(t){e.model=!0}}},[t("Sheet",{attrs:{width:"50vw","has-footer":""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Filter "+e._s(e.item)+"s ")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-pa-md",attrs:{id:"filters"}},[e.searchContent?[t("div",{staticClass:"description"},[e._v(" To search by content, type any text to search the entire folder ")]),t("TextField",{staticClass:"q-mb-md",attrs:{placeholder:"Search the document by content"},model:{value:e.contentSearch.contentSearchValue,callback:function(t){e.$set(e.contentSearch,"contentSearchValue",t)},expression:"contentSearch.contentSearchValue"}}),t("div",{staticClass:"q-mb-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[e.showAdvanceOptions?t("div",{staticClass:"q-my-md"},[t("SingleChoiceField",{staticClass:"col q-mb-md",attrs:{options:e.searchOptions,"options-per-line":2,label:"Advanced Search Options"},model:{value:e.contentSearch.searchType,callback:function(t){e.$set(e.contentSearch,"searchType",t)},expression:"contentSearch.searchType"}}),t("FormFieldLabel",{attrs:{label:"Search similarity"}}),t("q-slider",{attrs:{color:"secondary",markers:"","marker-labels":"",min:0,max:10,label:""},model:{value:e.contentSearch.fuzzy,callback:function(t){e.$set(e.contentSearch,"fuzzy",t)},expression:"contentSearch.fuzzy"}})],1):e._e(),t("div",{staticClass:"row items-center q-mb-md"},[t("div",{staticClass:"col"},[e.showAdvanceOptions?t("div",{staticClass:"row items-center cursor-pointer",on:{click:function(t){e.showAdvanceOptions=!1}}},[t("BaseIcon",{staticClass:"icon",attrs:{name:"eva-minus",color:"secondary"}}),t("div",{staticClass:"options"},[e._v("Hide Advanced Options")])],1):t("div",{staticClass:"row items-center cursor-pointer",on:{click:function(t){e.showAdvanceOptions=!0}}},[t("BaseIcon",{staticClass:"icon",attrs:{name:"eva-plus",color:"secondary"}}),t("div",{staticClass:"options"},[e._v("Advanced Options")])],1)]),t("div",{staticClass:"col-auto"},[t("div",{staticClass:"actions"},[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:e.clearContentSearch}}),t("BaseButton",{attrs:{label:"search"},on:{click:e.apply}})],1)])])])]:e._e(),e.filterGroups.length?[e._l(e.filterGroups,(function(i,s){return[t("div",{key:i.id,staticClass:"filter-group"},[t("div",{staticClass:"header"},[t("div",{staticClass:"label q-mr-md"},[e._v("Criteria")]),t("div",{staticClass:"label q-mr-md"},[e._v("Condition")]),t("div",{staticClass:"label q-mr-sm"},[e._v("Value")]),t("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"eva-plus","no-border":""},on:{click:function(t){return e.addFilter(s)}}})],1),t("BaseSeparator",{staticClass:"q-mb-md",attrs:{"has-inset":""}}),e._l(i.filters,(function(i,r){return t("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"filter row"},[t("ValidationProvider",{key:i.id,staticClass:"col q-mr-md",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("MultiSelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:e._columns,error:a[0]},on:{input:function(t){return e.applyDataType(s,r,i.criteriaArray)}},model:{value:i.criteriaArray,callback:function(t){e.$set(i,"criteriaArray",t)},expression:"filter.criteriaArray"}})]}}],null,!0)}),t("ValidationProvider",{staticClass:"col-3 q-mr-md",attrs:{name:"condition",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("SelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:e.conditions(i.criteriaArray),error:s[0]},model:{value:i.condition,callback:function(t){e.$set(i,"condition",t)},expression:"filter.condition"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?t("ValidationProvider",{staticClass:"col-3 q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"NUMBER"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("NumberField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("DateField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"TIME"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TimeField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[e.checkOptions(i.criteriaArray)?[t("AsyncMultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],"api-path":e.apiPath,"column-name":i.criteriaArray},model:{value:i.arrayValue,callback:function(t){e.$set(i,"arrayValue",t)},expression:"filter.arrayValue"}}),e._e()]:[e._e(),t("MultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:e.getOptions(i.criteriaArray),error:s[0]},model:{value:i.arrayValue,callback:function(t){e.$set(i,"arrayValue",t)},expression:"filter.arrayValue"}})]]}}],null,!0)}):t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}),t("div",{staticClass:"remove-filter"},[t("BaseActionButton",{attrs:{"is-flat":"",color:"red","no-border":"",icon:"eva-close-outline"},on:{click:function(t){return e.removeFilter(s,r)}}})],1)],1)})),t("BaseSeparator",{attrs:{"has-inset":""}}),t("div",{staticClass:"row"},[t("Action",{staticClass:"col",attrs:{icon:"eva-plus-outline",label:"Add Filter Group"},on:{click:function(t){return e.addFilterGroup(s+1)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete Group"},on:{click:function(t){return e.removeFilterGroup(s)}}})],1)],2),s!==e.filterGroups.length-1?t("div",{key:s,staticClass:"row justify-center"},[t("Toggle",{staticClass:"q-my-md",attrs:{options:e.groupConditions},on:{input:e.groupCondition},model:{value:i.groupCondition,callback:function(t){e.$set(i,"groupCondition",t)},expression:"group.groupCondition"}})],1):e._e()]}))]:[t("div",{staticClass:"add-filter",on:{click:e.addFilterGroup}},[t("BaseIcon",{attrs:{name:"eva-plus","inherit-color":""}}),t("div",{staticClass:"q-ml-sm"},[e._v("Add Filter")])],1)]],2)]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:e.clearFilter}}),t("BaseButton",{attrs:{label:"apply"},on:{click:e.apply}})]},proxy:!0}]),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)},r=[],a=(i("13d5"),i("14d9"),i("874f")),n=i("9996"),o=i("7bb1"),l=i("381e"),c=i("b3d1"),u=i("12b8"),d=i("94f5"),h=i("670a"),p=i("970a"),m=i("ad54"),v=i("53c1"),f=i("cedb"),b=i("70a9"),_=i("0c21"),y=i("c3d2"),g=i("1b0d"),C=i("0d5e"),S=i("3445"),k=i("9234"),T={name:"FilterItems",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],Sheet:l["a"],TextField:c["a"],SelectField:u["a"],Action:d["a"],Toggle:h["a"],NumberField:m["a"],DateField:v["a"],TimeField:f["a"],AsyncMultiSelectField:b["a"],MultiSelectField:y["a"],AsyncSelectField:_["a"],FormFieldLabel:S["a"],SingleChoiceField:k["a"]},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},filterBy:{type:Array,required:!0},isBordered:{type:Boolean,default:!1},selectedFilter:{type:Array,default:()=>[]},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},module:{type:String,default:""},moduleId:{type:[String,Number],default:0}},data(){return{model:!1,groupConditions:["AND","OR"],filterGroups:[],activeFilter:!1,userList:[],options:[],showAdvanceOptions:!1,searchOptions:[{id:this.$nano.id(),label:"Any of the Words",value:1},{id:this.$nano.id(),label:"All of the Words",value:2}]}},computed:{_columns(){var e=this.columns.reduce((e,t)=>("isFilter"in t?t.isFilter&&e.push({id:t.id,label:t.label,value:t.name,dataType:t.dataType}):e.push({id:t.id,label:t.label,value:t.name,dataType:t.dataType}),e),[]);return e},apiPath(){if("repository"===this.module){if(this.$route.query.repositoryId)return`/repository/${this.moduleId}/uniqueColumnValues`}else if("form"===this.module)return`/form/${this.moduleId}/uniqueColumnValues`;return""}},watch:{model:{deep:!0,handler(){this.model}},$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.filterGroups=[],this.activeFilter=!1)}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}},contentSearch:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}}},created(){this.getUsers()},methods:{conditions(e){if(!e)return[];if(1!==e.length)return Object(p["a"])("SHORT_TEXT").map(e=>({id:this.$nano.id(),label:`${Object(a["a"])(Object(n["a"])(e.split(" ")[0]))} ${e.split(" ")[1]?e.split(" ")[1]:""}`,value:e.split(" ")[0]}));{const t=this.columns.find(t=>t.name===e[0]);if(t)return Object(p["a"])(t.dataType).map(e=>({id:this.$nano.id(),label:`${Object(a["a"])(Object(n["a"])(e.split(" ")[0]))} ${e.split(" ")[1]?e.split(" ")[1]:""}`,value:e.split(" ")[0]}))}},addFilterGroup(e=0){this.filterGroups.splice(e,0,{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"",value:"",arrayValue:[]}],groupCondition:(this.filterGroups.length,"")}),this.filterGroups.length&&this.selectedFilter.length&&this.selectedFilter[1]&&1===this.selectedFilter[1].level&&(this.filterGroups[0].filters=[],this.selectedFilter.forEach((e,t)=>{0!=t&&this.filterGroups[0].filters.push({id:this.$nano.id(),criteria:e.fieldName,condition:"IS_EQUALS_TO",value:e.label,arrayValue:e.arrayValue||[]})}))},removeFilterGroup(e){this.filterGroups.splice(e,1)},addFilter(e){this.filterGroups[e].filters.push({id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"CONTAINS",value:"",arrayValue:[]})},removeFilter(e,t){this.filterGroups[e].filters.splice(t,1)},async apply(){let e=0,t={};if(!this.$refs.form)return void(this.searchContent&&(this.$emit("update",this.filterGroups,t),this.model=!1,this.activeFilter=!0));for(const s of this.$refs.form){const t=await s.validate();t||e++}if(e)return;let i=!1;if(this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.filterGroups[0].filters.length||(this.filterGroups=[]),this.filterGroups.forEach(e=>{e.filters.length&&e.filters.forEach(e=>{e.criteriaArray.length>1?i=!0:e.criteria=e.criteriaArray[0],"SINGLE_SELECT"===e.dataType&&(e.value=JSON.stringify(e.arrayValue))})})),i){let e=[];this.filterGroups.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{t.criteriaArray.forEach((i,s)=>{e.push({filters:[{criteria:i,condition:t.condition,value:t.value,dataType:t.dataType}],groupCondition:s?"OR":""})})})}),this.$emit("update",e,t)}else this.$emit("update",this.filterGroups,t);this.model=!1,this.activeFilter=!0},applyDataType(e,t,i){if(this.filterGroups[e].filters[t].condition="",1===i.length){this.filterGroups[e].filters[t].dataType="";let s=this._columns.find(e=>e.label===i[0]||e.value===i[0]);s&&(this.filterGroups[e].filters[t].dataType=s.dataType,"SHORT_TEXT"===s.dataType?this.filterGroups[e].filters[t].condition="CONTAINS":"SINGLE_SELECT"===s.dataType&&(this.filterGroups[e].filters[t].condition="IS_EQUALS_TO"));let r=this.filterGroups[e].filters[t];"SINGLE_SELECT"===r.dataType?this.filterGroups[e].filters[t].value=[]:this.filterGroups[e].filters[t].value=""}else this.filterGroups[e].filters[t].condition="CONTAINS",this.filterGroups[e].filters[t].dataType="SHORT_TEXT",this.filterGroups[e].filters[t].value=""},clearFilter(){this.filterGroups=[],this.activeFilter=!1,this.clearContentSearch(),this.$emit("update",this.filterGroups,"")},clearContentSearch(){this.showAdvanceOptions=!1,this.contentSearch.contentSearchValue="",this.contentSearch.searchType=1,this.contentSearch.fuzzy=0,this.$emit("updateContentSearch",this.contentSearch)},groupCondition(e){this.filterGroups[this.filterGroups.length-1].groupCondition=e},checkOptions(e){if(1===e.length){let t=this.columns.find(t=>t.name===e[0]);if(t&&t.apiLoad)return!0}return!1},getOptions(e){var t;return 1===e.length?"createdBy"===e[0]||"modifiedBy"===e[0]||"owner"===e[0]||"coordinator"===e[0]?this.userList:null===(t=this.columns.find(t=>t.name===e[0]))||void 0===t?void 0:t.options:[]},async getUsers(){this.userList=[];const{error:e,payload:t}=await g["s"].getUserList();e?this.$alert.error("Error fetching users"):t&&t.map(e=>{this.userList.push({id:this.$nano.id(),label:e.value,value:String(e.id)})})},async getUniqueOptions(e){try{const t=await C["b"].post(this.apiPath,JSON.stringify({column:e,keyword:"",rowFrom:0,rowCount:10})),{status:i,data:s}=t;if(200!==i)throw t;const r=JSON.parse(s);return this.options=[],r.forEach(e=>{let t=this.userList.find(t=>t.value===e);t&&this.options.push({id:this.$nano.id(),label:t.label,value:t.value})}),this.options}catch(t){console.error(t),this.$alert.error("Error fetching options")}}}},x=T,M=(i("ae23"),i("2877")),O=i("a026"),q=i("75c3"),I=i("b7fa"),$=i("f89c"),E=i("7937"),F=i("d882"),L=i("5ff7");const w="q-slider__marker-labels",P=e=>({value:e}),B=[34,37,40,33,39,38],A={mixins:[I["a"],$["b"]],directives:{TouchPan:q["a"]},props:{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},data(){return{active:!1,preventFocus:!1,focus:!1,dragging:!1}},computed:{axis(){return!0===this.vertical?"--v":"--h"},labelSide(){return"-"+(!0===this.switchLabelSide?"switched":"standard")},isReversed(){return!0===this.vertical?!0===this.reverse:this.reverse!==(!0===this.$q.lang.rtl)},computedInnerMin(){return this.__getInnerMin(this.innerMin)},computedInnerMax(){return this.__getInnerMax(this.innerMax)},editable(){return!0!==this.disable&&!0!==this.readonly&&this.computedInnerMin<this.computedInnerMax},computedDecimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},trackLen(){return this.max-this.min},innerBarLen(){return this.computedInnerMax-this.computedInnerMin},innerMinRatio(){return this.__convertModelToRatio(this.computedInnerMin)},innerMaxRatio(){return this.__convertModelToRatio(this.computedInnerMax)},positionProp(){return!0===this.vertical?!0===this.isReversed?"bottom":"top":!0===this.isReversed?"right":"left"},sizeProp(){return!0===this.vertical?"height":"width"},thicknessProp(){return!0===this.vertical?"width":"height"},orientation(){return!0===this.vertical?"vertical":"horizontal"},attributes(){const e={role:"slider","aria-valuemin":this.computedInnerMin,"aria-valuemax":this.computedInnerMax,"aria-orientation":this.orientation,"data-step":this.step};return!0===this.disable?e["aria-disabled"]="true":!0===this.readonly&&(e["aria-readonly"]="true"),e},classes(){return`q-slider q-slider${this.axis} q-slider--${!0===this.active?"":"in"}active inline no-wrap `+(!0===this.vertical?"row":"column")+(!0===this.disable?" disabled":" q-slider--enabled"+(!0===this.editable?" q-slider--editable":""))+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense q-slider--dense"+this.axis:"")},selectionBarClass(){const e=this.selectionColor||this.color;return"q-slider__selection absolute"+(void 0!==e?" text-"+e:"")},markerClass(){return this.__getAxisClass("markers")+" absolute overflow-hidden"},trackContainerClass(){return this.__getAxisClass("track-container")},pinClass(){return this.__getPositionClass("pin")},labelClass(){return this.__getPositionClass("label")},textContainerClass(){return this.__getPositionClass("text-container")},markerLabelsContainerClass(){return this.__getPositionClass("marker-labels-container")+(void 0!==this.markerLabelsClass?" "+this.markerLabelsClass:"")},trackClass(){return"q-slider__track relative-position no-outline"+(void 0!==this.trackColor?" bg-"+this.trackColor:"")},trackStyle(){const e={[this.thicknessProp]:this.trackSize};return void 0!==this.trackImg&&(e.backgroundImage=`url(${this.trackImg}) !important`),e},innerBarClass(){return"q-slider__inner absolute"+(void 0!==this.innerTrackColor?" bg-"+this.innerTrackColor:"")},innerBarStyle(){const e={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.innerMaxRatio-this.innerMinRatio)+"%"};return void 0!==this.innerTrackImg&&(e.backgroundImage=`url(${this.innerTrackImg}) !important`),e},markerStep(){return!0===Object(L["c"])(this.markers)?this.markers:this.computedStep},markerTicks(){const e=[],t=this.markerStep;let i=this.min;do{e.push(i),i+=t}while(i<this.max);return e.push(this.max),e},markerLabelClass(){const e=` ${w}${this.axis}-`;return w+`${e}${!0===this.switchMarkerLabelsSide?"switched":"standard"}`+`${e}${!0===this.isReversed?"rtl":"ltr"}`},markerLabelsList(){return!1===this.markerLabels?null:this.__getMarkerList(this.markerLabels).map((e,t)=>({index:t,value:e.value,label:e.label||e.value,classes:this.markerLabelClass+(void 0!==e.classes?" "+e.classes:""),style:{...this.__getMarkerLabelStyle(e.value),...e.style||{}}}))},markerScope(){return{markerList:this.markerLabelsList,markerMap:this.markerLabelsMap,classes:this.markerLabelClass,getStyle:this.__getMarkerLabelStyle}},markerStyle(){if(0!==this.innerBarLen){const e=100*this.markerStep/this.innerBarLen;return{...this.innerBarStyle,backgroundSize:!0===this.vertical?`2px ${e}%`:e+"% 2px"}}return null},markerLabelsMap(){if(!1===this.markerLabels)return null;const e={};return this.markerLabelsList.forEach(t=>{e[t.value]=t}),e},panDirectives(){return!0===this.editable?[{name:"touch-pan",value:this.__onPan,modifiers:{[this.orientation]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null}},methods:{__getInnerMin(e){return!0===isNaN(e)||this.innerMin<this.min?this.min:this.innerMin},__getInnerMax(e){return!0===isNaN(e)||e>this.max?this.max:this.innerMax},__getPositionClass(e){const t="q-slider__"+e;return`${t} ${t}${this.axis} ${t}${this.axis}${this.labelSide}`},__getAxisClass(e){const t="q-slider__"+e;return`${t} ${t}${this.axis}`},__convertRatioToModel(e){let t=this.min+e*(this.max-this.min);if(this.step>0){const e=(t-this.min)%this.step;t+=(Math.abs(e)>=this.step/2?(e<0?-1:1)*this.step:0)-e}return this.computedDecimals>0&&(t=parseFloat(t.toFixed(this.computedDecimals))),Object(E["a"])(t,this.computedInnerMin,this.computedInnerMax)},__convertModelToRatio(e){return 0===this.trackLen?0:(e-this.min)/this.trackLen},__getDraggingRatio(e,t){const i=Object(F["h"])(e),s=!0===this.vertical?Object(E["a"])((i.top-t.top)/t.height,0,1):Object(E["a"])((i.left-t.left)/t.width,0,1);return Object(E["a"])(!0===this.isReversed?1-s:s,this.innerMinRatio,this.innerMaxRatio)},__getMarkerList(e){if(!1===e)return null;if(!0===e)return this.markerTicks.map(P);if("function"===typeof e)return this.markerTicks.map(t=>{const i=e(t);return!0===Object(L["d"])(i)?{...i,value:t}:{value:t,label:i}});const t=({value:e})=>e>=this.min&&e<=this.max;return!0===Array.isArray(e)?e.map(e=>!0===Object(L["d"])(e)?e:{value:e}).filter(t):Object.keys(e).map(t=>{const i=e[t],s=Number(t);return!0===Object(L["d"])(i)?{...i,value:s}:{value:s,label:i}}).filter(t)},__getMarkerLabelStyle(e){return{[this.positionProp]:100*(e-this.min)/this.trackLen+"%"}},__getMarkerLabelsContent(e){if(void 0!==this.$scopedSlots["marker-label-group"])return this.$scopedSlots["marker-label-group"](this.markerScope);const t=this.$scopedSlots["marker-label"];return void 0!==t?this.markerLabelsList.map(e=>t({marker:e,...this.markerScope})):this.markerLabelsList.map(t=>e("div",{key:t.value,style:t.style,class:t.classes},t.label))},__onPan(e){!0===e.isFinal?(void 0!==this.dragging&&(this.__updatePosition(e.evt),!0===e.touch&&this.__updateValue(!0),this.dragging=void 0,this.$emit("pan","end")),this.active=!1,this.focus=!1):!0===e.isFirst?(this.dragging=this.__getDragging(e.evt),this.__updatePosition(e.evt),this.__updateValue(),this.active=!0,this.$emit("pan","start")):(this.__updatePosition(e.evt),this.__updateValue())},__onBlur(){this.focus=!1},__onActivate(e){this.__updatePosition(e,this.__getDragging(e)),this.__updateValue(),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__onDeactivate,!0)},__onDeactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__onBlur(),document.removeEventListener("mouseup",this.__onDeactivate,!0)},__onMobileClick(e){this.__updatePosition(e,this.__getDragging(e)),this.__updateValue(!0)},__onKeyup(e){B.includes(e.keyCode)&&this.__updateValue(!0)},__getTextContainerStyle(e){if(!0===this.vertical)return null;const t=this.$q.lang.rtl!==this.reverse?1-e:e;return{transform:`translateX(calc(${2*t-1} * ${this.thumbSize} / 2 + ${50-100*t}%))`}},__getThumb(e,t){const i=[e("svg",{class:"q-slider__thumb-shape absolute-full",attrs:{viewBox:"0 0 20 20","aria-hidden":"true"}},[e("path",{attrs:{d:this.thumbPath}})]),e("div",{class:"q-slider__focus-ring fit"})];return!0!==this.label&&!0!==this.labelAlways||(i.push(e("div",{class:this.pinClass+" absolute fit no-pointer-events"+t.pinColor},[e("div",{class:this.labelClass,style:{minWidth:this.thumbSize}},[e("div",{class:this.textContainerClass,style:t.textContainerStyle},[e("span",{class:t.textClass},t.label)])])])),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(i,"push")),e("div",{class:t.classes,style:t.style,...t.nodeData},i)},__getContent(e,t){const i=[];"transparent"!==this.innerTrackColor&&i.push(e("div",{key:"inner",class:this.innerBarClass,style:this.innerBarStyle})),"transparent"!==this.selectionColor&&i.push(e("div",{key:"selection",class:this.selectionBarClass,style:this.selectionBarStyle})),!1!==this.markers&&i.push(e("div",{key:"marker",class:this.markerClass,style:this.markerStyle})),t(i);const s=[e("div",{key:"trackC",class:this.trackContainerClass,attrs:this.trackContainerAttrs,on:this.trackContainerEvents,directives:this.panDirectives},[e("div",{class:this.trackClass,style:this.trackStyle},i)])];if(!1!==this.markerLabels){const t=!0===this.switchMarkerLabelsSide?"unshift":"push";s[t](e("div",{key:"markerL",class:this.markerLabelsContainerClass},this.__getMarkerLabelsContent(e)))}return s}},beforeDestroy(){document.removeEventListener("mouseup",this.__onDeactivate,!0)}};var j=O["default"].extend({name:"QSlider",mixins:[A],props:{value:{required:!0,default:null,validator:e=>"number"===typeof e||null===e},labelValue:[String,Number]},data(){const e=this.__getInnerMin(this.innerMin),t=this.__getInnerMax(this.innerMax);return{model:null===this.value?e:Object(E["a"])(this.value,e,t),curRatio:0}},computed:{modelRatio(){return this.__convertModelToRatio(this.model)},ratio(){return!0===this.active?this.curRatio:this.modelRatio},selectionBarStyle(){const e={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.ratio-this.innerMinRatio)+"%"};return void 0!==this.selectionImg&&(e.backgroundImage=`url(${this.selectionImg}) !important`),e},thumbLabel(){return void 0!==this.labelValue?this.labelValue:this.model},thumbClasses(){const e=this.thumbColor||this.color;return`q-slider__thumb q-slider__thumb${this.axis} q-slider__thumb${this.axis}-${!0===this.isReversed?"rtl":"ltr"} absolute non-selectable`+(!1===this.preventFocus&&!0===this.focus?" q-slider--focus":"")+(void 0!==e?" text-"+e:"")},thumbStyle(){return{width:this.thumbSize,height:this.thumbSize,[this.positionProp]:100*this.ratio+"%"}},thumbPinColor(){return void 0!==this.labelColor?" text-"+this.labelColor:""},thumbTextContainerStyle(){return this.__getTextContainerStyle(this.ratio)},thumbTextClass(){return"q-slider__text"+(void 0!==this.labelTextColor?" text-"+this.labelTextColor:"")},trackContainerEvents(){return!0!==this.editable?{}:!0===this.$q.platform.is.mobile?{click:this.__onMobileClick}:{mousedown:this.__onActivate,focus:this.__onFocus,blur:this.__onBlur,keydown:this.__onKeydown,keyup:this.__onKeyup}},trackContainerAttrs(){return{tabindex:!0!==this.$q.platform.is.mobile?this.computedTabindex:null}},modelUpdate(){return`${this.value}|${this.computedInnerMin}|${this.computedInnerMax}`}},watch:{modelUpdate(){this.model=null===this.value?this.computedInnerMin:Object(E["a"])(this.value,this.computedInnerMin,this.computedInnerMax)}},methods:{__updateValue(e){this.model!==this.value&&this.$emit("input",this.model),!0===e&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(e,t=this.dragging){const i=this.__getDraggingRatio(e,t);this.model=this.__convertRatioToModel(i),this.curRatio=!0!==this.snap||0===this.computedStep?i:this.__convertModelToRatio(this.model)},__onFocus(){this.focus=!0},__onKeydown(e){if(!B.includes(e.keyCode))return;Object(F["l"])(e);const t=([34,33].includes(e.keyCode)?10:1)*this.computedStep,i=([34,37,40].includes(e.keyCode)?-1:1)*(!0===this.isReversed?-1:1)*(!0===this.vertical?-1:1)*t;this.model=Object(E["a"])(parseFloat((this.model+i).toFixed(this.computedDecimals)),this.computedInnerMin,this.computedInnerMax),this.__updateValue()}},render(e){const t=this.__getContent(e,t=>{t.push(this.__getThumb(e,{pinColor:this.thumbPinColor,textContainerStyle:this.thumbTextContainerStyle,textClass:this.thumbTextClass,label:this.thumbLabel,classes:this.thumbClasses,style:this.thumbStyle,nodeData:{}}))});return e("div",{class:this.classes+(null===this.value?" q-slider--no-value":""),attrs:{...this.attributes,"aria-valuenow":this.value}},t)}}),G=i("93dc"),N=i.n(G),V=Object(M["a"])(x,s,r,!1,null,"2eff0750",null);t["a"]=V.exports;N()(V,"components",{QSlider:j})},"4ddc":function(e,t,i){},"75c3":function(e,t,i){"use strict";var s=i("0967"),r=i("7c86"),a=i("d882"),n=i("f249");function o(e,t,i){const s=Object(a["h"])(e);let r,n=s.left-t.event.x,o=s.top-t.event.y,l=Math.abs(n),c=Math.abs(o);const u=t.direction;!0===u.horizontal&&!0!==u.vertical?r=n<0?"left":"right":!0!==u.horizontal&&!0===u.vertical?r=o<0?"up":"down":!0===u.up&&o<0?(r="up",l>c&&(!0===u.left&&n<0?r="left":!0===u.right&&n>0&&(r="right"))):!0===u.down&&o>0?(r="down",l>c&&(!0===u.left&&n<0?r="left":!0===u.right&&n>0&&(r="right"))):!0===u.left&&n<0?(r="left",l<c&&(!0===u.up&&o<0?r="up":!0===u.down&&o>0&&(r="down"))):!0===u.right&&n>0&&(r="right",l<c&&(!0===u.up&&o<0?r="up":!0===u.down&&o>0&&(r="down")));let d=!1;if(void 0===r&&!1===i){if(!0===t.event.isFirst||void 0===t.event.lastDir)return{};r=t.event.lastDir,d=!0,"left"===r||"right"===r?(s.left-=n,l=0,n=0):(s.top-=o,c=0,o=0)}return{synthetic:d,payload:{evt:e,touch:!0!==t.event.mouse,mouse:!0===t.event.mouse,position:s,direction:r,isFirst:t.event.isFirst,isFinal:!0===i,duration:Date.now()-t.event.time,distance:{x:l,y:c},offset:{x:n,y:o},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}}function l(e){const t=e.__qtouchpan;void 0!==t&&(void 0!==t.event&&t.end(),Object(a["b"])(t,"main"),Object(a["b"])(t,"temp"),!0===s["a"].is.firefox&&Object(a["j"])(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchpan)}let c=0;t["a"]={name:"touch-pan",bind(e,{value:t,modifiers:i}){if(void 0!==e.__qtouchpan&&(l(e),e.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function u(e,t){!0===i.mouse&&!0===t?Object(a["l"])(e):(!0===i.stop&&Object(a["k"])(e),!0===i.prevent&&Object(a["i"])(e))}const d={uid:"qvtp_"+c++,handler:t,modifiers:i,direction:Object(r["a"])(i),noop:a["g"],mouseStart(e){Object(r["b"])(e,d)&&Object(a["e"])(e)&&(Object(a["a"])(d,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),d.start(e,!0))},touchStart(e){if(Object(r["b"])(e,d)){const t=e.target;Object(a["a"])(d,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","passiveCapture"],[t,"touchend","end","passiveCapture"]]),d.start(e)}},start(t,r){!0===s["a"].is.firefox&&Object(a["j"])(e,!0),d.lastEvt=t;const n=Object(a["h"])(t);if(!0===r||!0===i.stop){if(!0!==d.direction.all&&(!0!==r||!0!==d.modifiers.mouseAllDir&&!0!==d.modifiers.mousealldir)){const e=t.type.indexOf("mouse")>-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);!0===t.defaultPrevented&&Object(a["i"])(e),!0===t.cancelBubble&&Object(a["k"])(e),e.qClonedBy=void 0===t.qClonedBy?[d.uid]:t.qClonedBy.concat(d.uid),e.qKeyEvent=t.qKeyEvent,e.qClickOutside=t.qClickOutside,d.initialEvent={target:t.target,event:e}}Object(a["k"])(t)}d.event={x:n.left,y:n.top,time:Date.now(),mouse:!0===r,detected:!1,isFirst:!0,isFinal:!1,lastX:n.left,lastY:n.top}},move(e){if(void 0===d.event)return;d.lastEvt=e;const t=!0===d.event.mouse,i=()=>{let i;u(e,t),!0!==d.modifiers.preserveCursor&&!0!==d.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===t&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(n["a"])(),d.styleCleanup=e=>{if(d.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===t){const t=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==e?setTimeout(()=>{t(),e()},50):t()}else void 0!==e&&e()}};if(!0===d.event.detected){!0!==d.event.isFirst&&u(e,d.event.mouse);const{payload:t,synthetic:s}=o(e,d,!1);return void(void 0!==t&&(!1===d.handler(t)?d.end(e):(void 0===d.styleCleanup&&!0===d.event.isFirst&&i(),d.event.lastX=t.position.left,d.event.lastY=t.position.top,d.event.lastDir=!0===s?void 0:t.direction,d.event.isFirst=!1)))}if(!0===d.direction.all||!0===t&&(!0===d.modifiers.mouseAllDir||!0===d.modifiers.mousealldir))return i(),d.event.detected=!0,void d.move(e);const s=Object(a["h"])(e),r=s.left-d.event.x,l=s.top-d.event.y,c=Math.abs(r),h=Math.abs(l);c!==h&&(!0===d.direction.horizontal&&c>h||!0===d.direction.vertical&&c<h||!0===d.direction.up&&c<h&&l<0||!0===d.direction.down&&c<h&&l>0||!0===d.direction.left&&c>h&&r<0||!0===d.direction.right&&c>h&&r>0?(d.event.detected=!0,d.move(e)):d.end(e,!0))},end(t,i){if(void 0!==d.event){if(Object(a["b"])(d,"temp"),!0===s["a"].is.firefox&&Object(a["j"])(e,!1),!0===i)void 0!==d.styleCleanup&&d.styleCleanup(),!0!==d.event.detected&&void 0!==d.initialEvent&&d.initialEvent.target.dispatchEvent(d.initialEvent.event);else if(!0===d.event.detected){!0===d.event.isFirst&&d.handler(o(void 0===t?d.lastEvt:t,d).payload);const{payload:e}=o(void 0===t?d.lastEvt:t,d,!0),i=()=>{d.handler(e)};void 0!==d.styleCleanup?d.styleCleanup(i):i()}d.event=void 0,d.initialEvent=void 0,d.lastEvt=void 0}}};e.__qtouchpan=d,!0===i.mouse&&Object(a["a"])(d,"main",[[e,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(a["a"])(d,"main",[[e,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},update(e,{oldValue:t,value:i}){const s=e.__qtouchpan;void 0!==s&&t!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(e){void 0===e.__qtouchpan_destroyed?l(e):delete e.__qtouchpan_destroyed}}},ae23:function(e,t,i){"use strict";i("4ddc")}}]);
//# sourceMappingURL=form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97.90352d6d.js.map