(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["repositories-reports","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~fc714461","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97","custom-form~external-request~portal-accesss-custom","forms-overview~tasks-overview","integration-browse~repositories-reports-overview"],{"0059":function(t,e,i){"use strict";i("eead")},"00f0":function(t,e,i){},"0319":function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach(i=>{i.call(this.chart,t,e)})}}t.Additions=e}(t||(t={})),t})),e(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],(function(t){return({isTouchDevice:t}=t),{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:t?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}})),e(t,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var t;return function(t){function e(t,e,i,s){return[["M",t,e+2.5],["L",t+i,e+2.5],["M",t,e+s/2+.5],["L",t+i,e+s/2+.5],["M",t,e+s-1.5],["L",t+i,e+s-1.5]]}function i(t,e,i,s){return t=s/3-2,s=[],s.concat(this.circle(i-t,e,t,t),this.circle(i-t,e+t+4,t,t),this.circle(i-t,e+2*(t+4),t,t))}const s=[];t.compose=function(t){-1===s.indexOf(t)&&(s.push(t),t=t.prototype.symbols,t.menu=e,t.menuball=i.bind(t))}}(t||(t={})),t})),e(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.fullscreen=new r(this)}const{addEvent:s,fireEvent:a}=e,o=[];class r{static compose(t){e.pushUnique(o,t)&&s(t,"beforeRender",i)}constructor(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"===typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const t=this,e=t.chart,i=e.options.chart;a(e,"fullscreenClose",null,(function(){t.isOpen&&t.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[t.browserProps.exitFullscreen](),t.unbindFullscreenEvent&&(t.unbindFullscreenEvent=t.unbindFullscreenEvent()),e.setSize(t.origWidth,t.origHeight,!1),t.origWidth=void 0,t.origHeight=void 0,i.width=t.origWidthOption,i.height=t.origHeightOption,t.origWidthOption=void 0,t.origHeightOption=void 0,t.isOpen=!1,t.setButtonText()}))}open(){const t=this,e=t.chart,i=e.options.chart;a(e,"fullscreenOpen",null,(function(){if(i&&(t.origWidthOption=i.width,t.origHeightOption=i.height),t.origWidth=e.chartWidth,t.origHeight=e.chartHeight,t.browserProps){const i=s(e.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(e.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())})),a=s(e,"destroy",i);t.unbindFullscreenEvent=()=>{i(),a()};const o=e.renderTo[t.browserProps.requestFullscreen]();o&&o["catch"]((function(){alert("Full screen is not supported inside a frame.")}))}}))}setButtonText(){var e=this.chart,i=e.exportDivElements;const s=e.options.exporting,a=s&&s.buttons&&s.buttons.contextButton.menuItems;e=e.options.lang,s&&s.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&a&&i&&(i=i[a.indexOf("viewFullscreen")])&&t.setElementHTML(i,this.isOpen?e.exitFullscreen:s.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return r})),e(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{doc:i}=t,{createElement:s,discardElement:a,merge:o,objectEach:r}=e,n={ajax:function(t){const e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;if(!t.url)return!1;i.open((t.type||"get").toUpperCase(),t.url,!0),t.headers&&t.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[t.dataType||"json"]||e.text),r(t.headers,(function(t,e){i.setRequestHeader(e,t)})),t.responseType&&(i.responseType=t.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==t.responseType&&(e=i.responseText,"json"===t.dataType))try{e=JSON.parse(e)}catch(s){if(s instanceof Error)return void(t.error&&t.error(i,s))}return t.success&&t.success(e,i)}t.error&&t.error(i,i.responseText)}},t.data&&"string"!==typeof t.data&&(t.data=JSON.stringify(t.data)),i.send(t.data)},getJSON:function(t,e){n.ajax({url:t,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(t,e,n){const l=s("form",o({method:"post",action:t,enctype:"multipart/form-data"},n),{display:"none"},i.body);r(e,(function(t,e){s("input",{type:"hidden",name:e,value:t},void 0,l)})),l.submit(),a(l)}};return n})),e(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l,c){const{defaultOptions:h,setOptions:d}=s,{doc:u,SVG_NS:p,win:f}=n,{addEvent:m,css:g,createElement:v,discardElement:x,extend:y,find:b,fireEvent:w,isObject:k,merge:S,objectEach:C,pick:A,removeEvent:T,uniqueKey:I}=c;var M;return function(e){function s(t){const e=this,i=e.renderer,s=S(e.options.navigation.buttonOptions,t),a=s.onclick,o=s.menuItems,r=s.symbolSize||12;let n;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),!1!==s.enabled&&s.theme){var l,c=s.theme;e.styledMode||(c.fill=A(c.fill,"#ffffff"),c.stroke=A(c.stroke,"none")),a?l=function(t){t&&t.stopPropagation(),a.call(e,t)}:o&&(l=function(t){t&&t.stopPropagation(),e.contextMenu(h.menuClassName,o,h.translateX,h.translateY,h.width,h.height,h),h.setState(2)}),s.text&&s.symbol?c.paddingLeft=A(c.paddingLeft,30):s.text||y(c,{width:s.width,height:s.height,padding:0}),e.styledMode||(c["stroke-linecap"]="round",c.fill=A(c.fill,"#ffffff"),c.stroke=A(c.stroke,"none"));var h=i.button(s.text,0,0,l,c,void 0,void 0,void 0,void 0,s.useHTML).addClass(t.className).attr({title:A(e.options.lang[s._titleKey||s.titleKey],"")});h.menuClassName=t.menuClassName||"highcharts-menu-"+e.btnCount++,s.symbol&&(n=i.symbol(s.symbol,s.symbolX-r/2,s.symbolY-r/2,r,r,{width:r,height:r}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(h),e.styledMode||n.attr({stroke:s.symbolStroke,fill:s.symbolFill,"stroke-width":s.symbolStrokeWidth||1})),h.add(e.exportingGroup).align(y(s,{width:h.width,x:A(s.x,e.buttonOffset)}),!0,"spacingBox"),e.buttonOffset+=(h.width+s.buttonSpacing)*("right"===s.align?-1:1),e.exportSVGElements.push(h,n)}}function M(){if(this.printReverseInfo){var{childNodes:t,origDisplay:e,resetParams:i}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(t,(function(t,i){1===t.nodeType&&(t.style.display=e[i]||"")})),this.isPrinting=!1,i&&this.setSize.apply(this,i),delete this.printReverseInfo,U=void 0,w(this,"afterPrint")}}function L(){const t=u.body,e=this.options.exporting.printMaxWidth,i={childNodes:t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),w(this,"beforePrint"),e&&this.chartWidth>e&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(e,void 0,!1)),[].forEach.call(i.childNodes,(function(t,e){1===t.nodeType&&(i.origDisplay[e]=t.style.display,t.style.display="none")})),this.moveContainers(t),this.printReverseInfo=i}function P(t){t.renderExporting(),m(t,"redraw",t.renderExporting),m(t,"destroy",t.destroyExport)}function _(e,i,s,a,o,r,n){const l=this,h=l.options.navigation,d=l.chartWidth,p=l.chartHeight,x="cache-"+e,b=Math.max(o,r);let S,C=l[x];C||(l.exportContextMenu=l[x]=C=v("div",{className:e},{position:"absolute",zIndex:1e3,padding:b+"px",pointerEvents:"auto"},l.fixedDiv||l.container),S=v("ul",{className:"highcharts-menu"},l.styledMode?{}:{listStyle:"none",margin:0,padding:0},C),l.styledMode||g(S,y({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},h.menuStyle)),C.hideMenu=function(){g(C,{display:"none"}),n&&n.setState(0),l.openMenu=!1,g(l.renderTo,{overflow:"hidden"}),g(l.container,{overflow:"hidden"}),c.clearTimeout(C.hideTimer),w(l,"exportMenuHidden")},l.exportEvents.push(m(C,"mouseleave",(function(){C.hideTimer=f.setTimeout(C.hideMenu,500)})),m(C,"mouseenter",(function(){c.clearTimeout(C.hideTimer)})),m(u,"mouseup",(function(t){l.pointer.inClass(t.target,e)||C.hideMenu()})),m(C,"click",(function(){l.openMenu&&C.hideMenu()}))),i.forEach((function(e){if("string"===typeof e&&(e=l.options.exporting.menuItemDefinitions[e]),k(e,!0)){let i;e.separator?i=v("hr",void 0,void 0,S):("viewData"===e.textKey&&l.isDataTableVisible&&(e.textKey="hideData"),i=v("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),C.hideMenu(),e.onclick&&e.onclick.apply(l,arguments)}},void 0,S),t.setElementHTML(i,e.text||l.options.lang[e.textKey]),l.styledMode||(i.onmouseover=function(){g(this,h.menuItemHoverStyle)},i.onmouseout=function(){g(this,h.menuItemStyle)},g(i,y({cursor:"pointer"},h.menuItemStyle||{})))),l.exportDivElements.push(i)}})),l.exportDivElements.push(S,C),l.exportMenuWidth=C.offsetWidth,l.exportMenuHeight=C.offsetHeight),i={display:"block"},s+l.exportMenuWidth>d?i.right=d-s-o-b+"px":i.left=s-b+"px",a+r+l.exportMenuHeight>p&&"top"!==n.alignOptions.verticalAlign?i.bottom=p-a-b+"px":i.top=a+r-b+"px",g(C,i),g(l.renderTo,{overflow:""}),g(l.container,{overflow:""}),l.openMenu=!0,w(l,"exportMenuShown")}function O(t){const e=t?t.target:this,i=e.exportSVGElements,s=e.exportDivElements;let a;t=e.exportEvents,i&&(i.forEach((t,s)=>{t&&(t.onclick=t.ontouchstart=null,a="cache-"+t.menuClassName,e[a]&&delete e[a],i[s]=t.destroy())}),i.length=0),e.exportingGroup&&(e.exportingGroup.destroy(),delete e.exportingGroup),s&&(s.forEach((function(t,e){t&&(c.clearTimeout(t.hideTimer),T(t,"mouseleave"),s[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,x(t))})),s.length=0),t&&(t.forEach((function(t){t()})),t.length=0)}function D(t,e){e=this.getSVGForExport(t,e),t=S(this.options.exporting,t),l.post(t.url,{filename:t.filename?t.filename.replace(/\//g,"-"):this.getFilename(),type:t.type,width:t.width,scale:t.scale,svg:e},t.formAttributes)}function E(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function F(){const t=this.userOptions.title&&this.userOptions.title.text;let e=this.options.exporting.filename;return e?e.replace(/\//g,"-"):("string"===typeof t&&(e=t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!e||5>e.length)&&(e="chart"),e)}function B(t){let e,i=S(this.options,t);i.plotOptions=S(this.userOptions.plotOptions,t&&t.plotOptions),i.time=S(this.userOptions.time,t&&t.time);const s=v("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},u.body);var a=this.renderTo.style.width,o=this.renderTo.style.height;a=i.exporting.sourceWidth||i.chart.width||/px$/.test(a)&&parseInt(a,10)||(i.isGantt?800:600),o=i.exporting.sourceHeight||i.chart.height||/px$/.test(o)&&parseInt(o,10)||400,y(i.chart,{animation:!1,renderTo:s,forExport:!0,renderer:"SVGRenderer",width:a,height:o}),i.exporting.enabled=!1,delete i.data,i.series=[],this.series.forEach((function(t){e=S(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),e.isInternal||i.series.push(e)}));const r={};this.axes.forEach((function(t){t.userOptions.internalKey||(t.userOptions.internalKey=I()),t.options.isInternal||(r[t.coll]||(r[t.coll]=!0,i[t.coll]=[]),i[t.coll].push(S(t.userOptions,{visible:t.visible})))}));const n=new this.constructor(i,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){const i={};t[e]&&(i[e]=t[e],n.update(i))})),this.axes.forEach((function(t){const e=b(n.axes,(function(e){return e.options.internalKey===t.userOptions.internalKey}));var i=t.getExtremes();const s=i.userMin;i=i.userMax,e&&("undefined"!==typeof s&&s!==e.min||"undefined"!==typeof i&&i!==e.max)&&e.setExtremes(s,i,!0,!1)})),o=n.getChartHTML(),w(this,"getSVG",{chartCopy:n}),o=this.sanitizeSVG(o,i),i=null,n.destroy(),x(s),o}function N(t,e){const i=this.options.exporting;return this.getSVG(S({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))}function z(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function R(){function t(e){const r={};let c,h;if(l&&1===e.nodeType&&-1===G.indexOf(e.nodeName)){if(c=f.getComputedStyle(e,null),h="svg"===e.nodeName?{}:f.getComputedStyle(e.parentNode,null),!a[e.nodeName]){o=l.getElementsByTagName("svg")[0];var d=l.createElementNS(e.namespaceURI,e.nodeName);o.appendChild(d);var u=f.getComputedStyle(d,null),p={};for(var m in u)"string"!==typeof u[m]||/^[0-9]+$/.test(m)||(p[m]=u[m]);a[e.nodeName]=p,"text"===e.nodeName&&delete a.text.fill,o.removeChild(d)}for(const t in c)if(n.isFirefox||n.isMS||n.isSafari||Object.hasOwnProperty.call(c,t)){m=c[t];var v=t;if(d=u=!1,s.length){for(p=s.length;p--&&!u;)u=s[p].test(v);d=!u}for("transform"===v&&"none"===m&&(d=!0),p=i.length;p--&&!d;)d=i[p].test(v)||"function"===typeof m;d||h[v]===m&&"svg"!==e.nodeName||a[e.nodeName][v]===m||(q&&-1===q.indexOf(v)?r[v]=m:m&&e.setAttribute(z(v),m))}g(e,r),"svg"===e.nodeName&&e.setAttribute("stroke-width","1px"),"text"!==e.nodeName&&[].forEach.call(e.children||e.childNodes,t)}}const i=V,s=e.inlineAllowlist,a={};let o;const r=u.createElement("iframe");g(r,{width:"1px",height:"1px",visibility:"hidden"}),u.body.appendChild(r);const l=r.contentWindow&&r.contentWindow.document;l&&l.body.appendChild(l.createElementNS(p,"svg")),t(this.container.querySelector("svg")),o.parentNode.removeChild(o),r.parentNode.removeChild(r)}function $(t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(e){t.appendChild(e)}))}function H(){const t=this;t.exporting={update:function(e,i){t.isDirtyExporting=!0,S(!0,t.options.exporting,e),A(i,!0)&&t.redraw()}},i.compose(t).navigation.addUpdate((e,i)=>{t.isDirtyExporting=!0,S(!0,t.options.navigation,e),A(i,!0)&&t.redraw()})}function W(){const t=this;t.isPrinting||(U=t,n.isSafari||t.beforePrint(),setTimeout(()=>{f.focus(),f.print(),n.isSafari||setTimeout(()=>{t.afterPrint()},1e3)},1))}function j(){const t=this,e=t.options.exporting,i=e.buttons,s=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),s&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g("exporting-group").attr({zIndex:3}).add(),C(i,(function(e){t.addButton(e)})),t.isDirtyExporting=!1)}function X(t,e){const i=t.indexOf("</svg>")+6;let s=t.substr(i);return t=t.substr(0,i),e&&e.exporting&&e.exporting.allowHTML&&s&&(s='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+s.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",t=t.replace("</svg>",s+"</svg>")),t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Y=[],V=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],q="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");e.inlineAllowlist=[];const G=["clipPath","defs","desc"];let U;e.compose=function(t,e){o.compose(e),r.compose(t),c.pushUnique(Y,t)&&(e=t.prototype,e.afterPrint=M,e.exportChart=D,e.inlineStyles=R,e.print=W,e.sanitizeSVG=X,e.getChartHTML=E,e.getSVG=B,e.getSVGForExport=N,e.getFilename=F,e.moveContainers=$,e.beforePrint=L,e.contextMenu=_,e.addButton=s,e.destroyExport=O,e.renderExporting=j,e.callbacks.push(P),m(t,"init",H),n.isSafari&&n.win.matchMedia("print").addListener((function(t){U&&(t.matches?U.beforePrint():U.afterPrint())}))),c.pushUnique(Y,d)&&(h.exporting=S(a.exporting,h.exporting),h.lang=S(a.lang,h.lang),h.navigation=S(a.navigation,h.navigation))}}(M||(M={})),M})),e(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],(function(t,e,i){t.HttpUtilities=i,t.ajax=i.ajax,t.getJSON=i.getJSON,t.post=i.post,e.compose(t.Chart,t.Renderer)}))}))},"064c":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-center",attrs:{id:"item-actions"}},[(t.customProcessForm,t._e()),t.sendInvite?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("invite")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover q-mr-sm",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-account-plus",color:"primary","text-color":"white"}}),t._v(" Send Invite ")],1)],1)]:t._e(),t.processForward?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("forward")}}},[e("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-arrow-right",color:"orange","text-color":"white"}}),t._v(" Assign ")],1)],1)]:t._e(),t.workflowInitiate?[t.initiateAccess?[e("div",{attrs:{classs:"cursor-pointer "},on:{click:function(e){return t.$emit("initiate")}}},[e("q-chip",{staticClass:"cursor-pointer secondary-hover q-mr-sm",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)],1)]:[e("q-chip",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Choose document to initiate",expression:"'Choose document to initiate'",modifiers:{top:!0}}],staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",disable:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)]]:t._e(),t.gotoInbox?e("div",{staticClass:"cursor-pointer q-mr-xs",on:{click:function(e){return t.$emit("inbox")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-email",color:"primary","text-color":"white"}}),t._v(" My Inbox ")],1)],1):t._e(),t.workflowImport?e("ImportPopup",{attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport}}):t._e(),t.downloadAll?e("div",{staticClass:"row q-pr-xs",class:{download:t.checkIconCount}},[t.visibleDownload?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"download",expression:"'download'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{icon:"mdi-download-outline","is-flat":"","no-border":""},on:{click:function(e){return t.$emit("downloadAll",t.item.id)}}}):t._e(),t.visiblePrint?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"print",expression:"'print'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"eva-printer-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("printAll",t.item.id)}}}):t._e(),t.visibleEmail?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Email Sharing",expression:"'Email Sharing'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("emailAll",t.item)}}}):t._e(),t.visibleDelete?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return t.$emit("deleteFileAction",t.item.id)}}}):t._e()],1):t._e(),t._t("filterSearchIcon"),t.simpleSearchFilter?e("div",[t.hideActions.includes("search")?t._e():e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchTable}})],1):e("div",{staticClass:"q-mr-xs"},[e("SimpleSearchWithFilter",{attrs:{columns:t.columns,"filter-by":t.filterBy},on:{keyup:t.searchTable,update:t.updateSimpletSearchFilterBy}})],1),t.id?e("SelectField",{staticClass:"fieldList q-mr-sm",attrs:{"is-mandatory":"",placeholder:"Select day","is-searchable":!0,options:t.dateFilter},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}}):t._e(),t.refresh||t.id?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return t.$emit("refresh")}}}):t._e(),t.jiraConnect?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira","no-border":"","is-flat":""},on:{click:function(e){return t.$emit("jira")}}}):t._e(),"TRASH"===t.mode?e("div",{staticClass:"row justify-end"},[t.deleteBtn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Restore Selected Items",expression:"'Restore Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history"},on:{click:function(e){return e.stopPropagation(),t.$emit("restore")}}}):t._e()],1):t._e(),t.deleteBtn?e("div",[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete Selected Items",expression:"'Delete Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete")}}})],1):t._e(),t.hideActions.includes("toggle")?t._e():e("ToggleColumns",{attrs:{columns:t.repositoryFields?"LIST"===t.activeView?t.columns:[]:t.columns,"repository-fields":t.repositoryFields,"toggle-id":t.toggleId},on:{"update:columns":t.updateColumns,viewColumns:t.viewColumns}}),t.hideActions.includes("sort")?t._e():e("SortItems",{attrs:{columns:t.columns,order:t.order,criteria:t.criteria},on:{"update:order":t.updateOrder,"update:criteria":t.updateCriteria}}),t.hideActions.includes("group")?t._e():e("GroupItems",{attrs:{columns:t.columns,"group-by":t.groupBy},on:{"update:groupBy":t.updateGroupBy}}),t.hideActions.includes("filter")?t._e():e("FilterItems",{attrs:{item:t.item,columns:t._columns,"filter-by":t.filterBy,"selected-filter":t.selectedFilter,"search-content":t.searchContent,"content-search":t.contentSearch,module:t.module,"module-id":t.moduleId},on:{update:t.updateFilterBy,updateContentSearch:t.updateContentSearch}}),t.importData?e("ImportPopup",{attrs:{"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport,downloadTemplate:t.downloadTemplate}}):t._e(),t.importJson?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"import",expression:"'import'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-import"},on:{click:function(e){return t.$emit("import")}}}):t._e(),!t.hideActions.includes("export")&&t.exportData?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return t.$emit("export")}}}):t._e(),t.hideActions.includes("activeView")?t._e():e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),t.hideActions.includes("activeView")?t._e():e("ViewToggle",{attrs:{"active-view":t.activeView,"thumbnail-view":t.thumbnailView,"grid-view":t.gridView,module:t.module},on:{"update:activeView":t.updateActiveView}}),e("KanbanView",{attrs:{"kanban-view":t.kanbanView,"active-view":t.activeKanbanView,"kanban-list":t.kanbanList},on:{"update:activeKanbanView":t.updateActiveKanbanView,clickKanban:function(e){return t.$emit("clickKanban")}}}),t.dashboardView?e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}):t._e(),t.dashboardView?e("DashboardView",{attrs:{"dashboard-view":t.dashboardView,"chart-view":t.chartView,"table-view":t.tableView,page:t.page},on:{"update:activeDashboardView":t.updateActiveDashboardView}}):t._e(),t._t("extraIcon")],2)},a=[],o=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"columns",expression:"'columns'",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-column-plus-after"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("div",{staticClass:"row border"},[e("div",{staticClass:"title-3 q-pa-xs col-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Show/Hide Columns",autofocus:""},domProps:{value:t.searchColumns},on:{keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),t.repositoryFields&&t.columns.length?e("div",{staticClass:"col-auto q-pa-xs"},[e("BaseButton",{attrs:{label:"Apply",color:"primary"},on:{click:t.apply}})],1):t._e()]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight}},t._l(t._columns,(function(i){return e("ListItem",{key:i.id,class:i.display,attrs:{icon:i.isVisible?"mdi-checkbox-marked":"mdi-checkbox-blank-outline","is-selected":i.isVisible,label:i.label},on:{click:function(e){return t.updateColumns(i)}}})})),1)],1)],1)},r=[],n=(i("14d9"),i("cade")),l=i("1b0d"),c={name:"ToggleColumns",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},repositoryFields:{type:Boolean,default:!1},toggleId:{type:Number,default:0}},data(){return{filterColumns:[],columnList:"",searchColumns:""}},computed:{_columns(){return this.columns.filter(t=>"NORMAL"===t.type)},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateColumns1(t){const e=this.columns,i=e.findIndex(e=>e.id===t);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)},apply(){this.filterColumns=[],console.log(this.columns),this.columns.forEach(t=>{!1===t.isVisible&&this.filterColumns.push({Fieldid:t.fieldId,value:t.isVisible})}),console.log(this.filterColumns),this.$emit("viewColumns",this.filterColumns),this.filterColumns=[]},searchColumnList(t){this.columns.forEach(e=>{e.display="",t&&(e.label.toLowerCase().includes(t.toLowerCase())||(e.display="hide"))})},async updateColumns(t){if(this.toggleId){const e=this.columns.findIndex(e=>e.id===t.id);this.columns[e].isVisible=!this.columns[e].isVisible;let i={id:t.hideId||0,columnName:t.id};const{error:s,payload:a}=await l["k"].updateHideColumns(this.toggleId,i);if(s)return void this.$alert.error(s);let o=[];t.hideId?o=this.columns.filter(e=>e.id!=t.hideId):(o=this.columns,o.push({id:a,columnName:t.id})),this.columns[e].hideId=t.hideId?0:a,this.$emit("update:columns",o)}else{const e=this.columns,i=e.findIndex(e=>e.id===t.id);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)}}}},h=c,d=(i("ee26"),i("2877")),u=i("4e73"),p=i("93dc"),f=i.n(p),m=Object(d["a"])(h,o,r,!1,null,"251c6f56",null),g=m.exports;f()(m,"components",{QMenu:u["a"]});var v=i("c559"),x=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"group",expression:"'group'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"eva-copy-outline","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Group By")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.groupBy?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.groupBy,label:i.label},on:{click:function(e){return t.updateGroupBy(i.name)}}})}))],2)],1)],1)},y=[],b={name:"GroupItems",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},groupBy:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isGroupable)]},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateGroupBy(t){this.$emit("update:groupBy",t)}}},w=b,k=Object(d["a"])(w,x,y,!1,null,"72f07afc",null),S=k.exports;f()(k,"components",{QMenu:u["a"]});var C=i("27bd"),A=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-toggle"}},[t._l(t._views,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.activeView===i.value?i.activeIcon:i.icon,color:t.activeView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateActiveView(i.value)}}})]})),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],2)},T=[],I=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-info-outline","icon-color":"orange"},on:{input:t.hideSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Default view?")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Do you want to make this "),e("b",[t._v('"('+t._s(t.view)+')"')]),t._v(" view is default? . ")]),e("p",[t._v("You can always change this view.")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:t.handleYes}})]},proxy:!0}])})},M=[],L=i("1c54"),P={name:"DefaultView",components:{Confirm:L["a"]},props:{value:{type:Boolean,required:!0},view:{type:String,required:!0}},methods:{handleNo(){this.$emit("handleNo",!1)},hideSheet(){this.$emit("hideSheet",!1)},handleYes(){this.$emit("handleYes",!1)}}},_=P,O=Object(d["a"])(_,I,M,!1,null,"38f8db3d",null),D=O.exports,E=i("4360"),F={name:"ViewToggle",components:{DefaultView:D},props:{activeView:{type:String,default:"GRID",validator(t){return["GRID","LIST","THUMBNAIL"].includes(t)}},thumbnailView:{type:Boolean,default:!1},gridView:{type:Boolean,default:!0},module:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Grid View",value:"GRID",icon:"mdi-view-grid-outline",activeIcon:"mdi-view-grid"},{id:this.$nano.id(),label:"List View",value:"LIST",icon:"mdi-format-list-checkbox",activeIcon:"mdi-view-list"},{id:this.$nano.id(),label:"Thumbnail View",value:"THUMBNAIL",icon:"eva-image-outline",activeIcon:"eva-image"}],showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{}}},computed:{_views(){return this.thumbnailView?this.views:this.gridView?this.views.slice(0,2):this.views.slice(1,2)}},created(){this.getDefaultView()},methods:{updateActiveView(t){this.defaultView=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeView",this.defaultView),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={},i=this.$route.query.repositoryId,s="";i&&(s="files"),e=s?{preference:{[this.$route.meta.subMenu]:[{menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}}:{preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}};const{error:a,payload:o}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),a?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",e.preference),E["a"].commit("setPreferenceId",o),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeView",this.defaultView))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i=this.$route.query.repositoryId,s="";i&&(s="files");let a={};if(s)if(this.options[s])if(this.options[s].length){let t=this.options[s].findIndex(t=>t.subMenu===e);console.log(t),t>=0?this.options[s][t].view=this.defaultView:this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultView:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});let o=JSON.stringify(this.options);a={preference:JSON.parse(o)};const{error:r}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,a);this.$store.commit("hideLoadingBar"),r?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",a.preference),this.$emit("update:activeView",this.defaultView))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),E["a"].commit("setDefaultView",this.options),E["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},B=F,N=(i("cd8d"),Object(d["a"])(B,A,T,!1,null,"75627166",null)),z=N.exports,R=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"kanban-view"}},[t.kanbanView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Kanban View",expression:"'Kanban View'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:(t.activeKanban,"mdi-grid"),color:t.activeKanban?"secondary":"gray","no-border":""},on:{click:function(e){return t.$emit("clickKanban")}}},[t.kanbanList.length?e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},t._l(t.kanbanList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.activeView?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.activeView,label:i.label},on:{click:function(e){return t.selectKanban(i.name)}}})})),1)],1):t._e()],1):t._e(),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],1)},$=[],H={name:"KanbanView",components:{ListItem:n["a"],DefaultView:D},props:{activeView:{type:String,default:""},kanbanView:{type:Boolean,default:!1},kanbanList:{type:Array,default:()=>[]}},data(){return{showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{},defaultViewId:""}},computed:{scrollbarHeight(){const t=36*this.kanbanList.length;return t>216?"276px":t+58+"px"},activeKanban(){return"LIST"!==this.activeView&&"GRID"!==this.activeView&&"CHART"!==this.activeView&&"TABLE"!==this.activeView}},created(){this.getDefaultView()},methods:{selectKanban(t){let e=this.kanbanList.find(e=>e.name===t);console.log(e),e&&(this.defaultView=e.label),this.defaultViewId=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeKanbanView",this.defaultViewId),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId}]}};const{error:i,payload:s}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",e.preference),E["a"].commit("setPreferenceId",s),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeKanbanView",this.defaultViewId))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i={};if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultViewId:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});i={preference:this.options};const{error:s}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,i);this.$store.commit("hideLoadingBar"),s?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",i.preference),this.$emit("update:activeKanbanView",this.defaultViewId))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),E["a"].commit("setDefaultView",this.options),E["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},W=H,j=(i("6c88"),Object(d["a"])(W,R,$,!1,null,"6f4b2704",null)),X=j.exports;f()(j,"components",{QMenu:u["a"]});var Y=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"dashboard-view"}},t._l(t._views,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.dashboardView===i.value?i.activeIcon:i.icon,color:t.dashboardView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateDashboardView(i.value)}}})})),1)},V=[],q={name:"DashboardView",props:{dashboardView:{type:String,default:"CHART",validator(t){return["CHART","TABLE","SANKEY","KANBAN"].includes(t)}},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!0},page:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"},{id:this.$nano.id(),label:"Chart View",value:"CHART",icon:"eva-image",activeIcon:"eva-image"},{id:this.$nano.id(),label:"Sankey View",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"}]}},computed:{_views(){if("REPORT"===this.page)return this.views.slice(0,2);let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?this.views.slice(1,2):this.views.slice(1,3)}},methods:{updateDashboardView(t){this.$emit("update:activeDashboardView",t)}}},G=q,U=(i("8180"),Object(d["a"])(G,Y,V,!1,null,"1da74fbd",null)),Z=U.exports,K=i("be3f"),J=i("0cdc"),Q=i("12b8"),tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col",attrs:{id:"search-items"}},[e("div",{attrs:{id:"Simple-search"}},[e("div",{staticClass:"label",staticStyle:{"margin-left":"0px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search By",expression:"'Search By'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:t.activeFilter?"secondary":"gray","no-border":""}},[t.filter?e("div"):t._e(),e("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[e("div",{staticClass:"title-3 q-pa-xs border"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Type here to search"},domProps:{value:t.searchColumns},on:{click:function(t){t.stopPropagation()},keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[t._l(t.columnList,(function(i){return[i.display&&!1!==i.isFilter?e("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(e){return t.updateFilterBy(i.id)}}}):t._e()]}))],2)],1)],1),t.activeFilter?e("div",{staticClass:"selectedLabel"},[e("span",{staticClass:"text-bold"},[t._v(t._s(t.selectedLabel)+" :")])]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],ref:"searchQuery",staticClass:"q-px-xs",class:{"text-input-small":t.activeFilter,"text-input-big":!t.activeFilter},attrs:{type:"text",placeholder:t.isdataTypeIsDate?"YYYY-MM-DD":"Search"},domProps:{value:t.searchInput},on:{keyup:t.emitKeyUp,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateSimpleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search",expression:"'Search'",modifiers:{top:!0}}],attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:t.updateSimpleSearch}}),t.activeFilter?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear",expression:"'clear'",modifiers:{top:!0}}],attrs:{icon:"mdi-close-circle","no-border":"","is-flat":""},on:{click:t.clearSimpleSearch}}):t._e()],1)])])},et=[],it={name:"SimpleSearchWithFilter",components:{ListItem:n["a"]},props:{columns:{type:Array,default:()=>[]},filterBy:{type:Array,required:!0}},data(){return{filter:!1,activeFilter:!1,searchColumns:"",columnList:[],filterArray:[],searchInput:"",selectedLabel:"",FilterValue:"",isdataTypeIsDate:!1,isSingleSelect:!1}},computed:{scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.activeFilter=!1,this.filterArray=[],this.searchInput="",this.FilterValue="")}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&(this.activeFilter=!1)}},columns:{deep:!0,immediate:!0,handler(){this.columnList=[],this.columns.forEach(t=>{this.columnList.push({...t,selected:!1,display:"show"})})}}},methods:{emitKeyUp(){this.FilterValue=this.searchInput,this.$emit("keyup",this.searchInput)},updateSimpleSearch(){if(this.activeFilter)if(0===this.filterArray.length){let t=[];this.$emit("update",t)}else if(this.isSingleSelect){let t=[];t[0]=this.FilterValue,this.filterArray[0].filters[0].value=JSON.stringify(t),this.filterArray[0].filters[0].arrayValue=t,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)}else this.filterArray[0].filters[0].value=this.FilterValue,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)},searchColumnList(t){this.columnList.forEach(e=>{e.display="show",e.label.toLowerCase().includes(t.toLowerCase())||(e.display="")})},updateFilterBy(t){this.filter=!this.filter,this.columnList.forEach(t=>{t.selected=!1});let e=this.columnList.find(e=>e.id===t);if(e){e.selected=!0,this.activeFilter=!0,this.selectedLabel=e.label;let t=[];if("None"==e.value)this.activeFilter=!1;else{let i="CONTAINS";"DATE"===e.dataType&&(i="IS_EQUALS_TO",this.isdataTypeIsDate=!0,this.isSingleSelect=!1),"SINGLE_SELECT"===e.dataType?(this.isSingleSelect=!0,t=[{filters:[{criteria:e.name,criteriaArray:[e.name],condition:i,value:"",arrayValue:"",dataType:"SINGLE_SELECT"}],groupCondition:""}],this.filterArray=t):(this.isSingleSelect=!1,t=[{filters:[{criteria:e.name,condition:i,value:"",dataType:e.dataType}],groupCondition:""}]),this.filterArray=t}}},clearSimpleSearch(){this.columnList.forEach(t=>{t.selected=!1}),this.isdataTypeIsDate=!1,this.filterArray=[],this.searchInput="",this.FilterValue="",this.activeFilter=!1,this.filter=!this.filter,this.$emit("update",this.filterArray)}}},st=it,at=(i("ba5a"),Object(d["a"])(st,tt,et,!1,null,"a32bb6e0",null)),ot=at.exports;f()(at,"components",{QMenu:u["a"]});var rt={name:"ItemActions",components:{ToggleColumns:g,ViewToggle:z,SortItems:v["a"],GroupItems:S,FilterItems:C["a"],ExpandableSearch:K["a"],KanbanView:X,DashboardView:Z,ImportPopup:J["a"],SelectField:Q["a"],SimpleSearchWithFilter:ot},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},activeView:{type:String,required:!0},thumbnailView:{type:Boolean,default:!1},filterColumns:{type:Array,default:()=>[]},selectedFilter:{type:Array,default:()=>[]},gridView:{type:Boolean,default:!0},kanbanView:{type:Boolean,default:!1},activeKanbanView:{type:String,default:""},kanbanList:{type:Array,default:()=>[]},jiraConnect:{type:Boolean,default:!1},importData:{type:Boolean,default:!1},dataImported:{type:Boolean,default:!1},hideActions:{type:Array,default:()=>[]},workflowInitiate:{type:Boolean,default:!1},initiateAccess:{type:Boolean,default:!1},gotoInbox:{type:Boolean,default:!1},workflowImport:{type:Boolean,default:!1},formId:{type:String,default:"0"},dashboardView:{type:String,default:""},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!1},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},repositoryFields:{type:Boolean,default:!1},id:{type:Number,default:0},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},deleteBtn:{type:Boolean,default:!1},mode:{type:String,default:""},page:{type:String,default:""},toggleId:{type:Number,default:0},simpleSearchFilter:{type:Boolean,default:!1},simpleSearchApplyed:{type:Boolean,default:!1},customProcessForm:{type:Boolean,default:!1},refresh:{type:Boolean,default:!0},exportData:{type:Boolean,default:!0},sendInvite:{type:Boolean,default:!1},downloadAll:{type:Boolean,default:!1},visibleDownload:{type:Boolean,default:!1},visiblePrint:{type:Boolean,default:!1},visibleEmail:{type:Boolean,default:!1},visibleDelete:{type:Boolean,default:!1},processForward:{type:Boolean,default:!1},importJson:{type:Boolean,default:!1}},data(){return{dateFilter:[{id:this.$nano.id(),label:"Today",value:"today"},{id:this.$nano.id(),label:"Yesterday",value:"yesterday"},{id:this.$nano.id(),label:"This Week",value:"7days"},{id:this.$nano.id(),label:"Last week",value:"week"},{id:this.$nano.id(),label:"This Month ",value:"Currentmonth"},{id:this.$nano.id(),label:"Last Month",value:"month"},{id:this.$nano.id(),label:"Last Quarter",value:"quarter"},{id:this.$nano.id(),label:"This Year",value:"currentyear"},{id:this.$nano.id(),label:"Last Year",value:"year"}],dateValue:""}},computed:{_columns(){return this.filterColumns.length?this.filterColumns:this.columns},checkIconCount(){let t,e=0;return this.visibleDownload&&(e+=1),this.visibleEmail&&(e+=1),this.visiblePrint&&(e+=1),this.visibleDelete&&(e+=1),2===e&&(t=!0),3===e&&(t=!0),4===e&&(t=!0),t}},watch:{dateValue:{deep:!0,immediate:!0,handler(){if(this.dateValue)if("today"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate());const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("yesterday"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate()-1);const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("week"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()-7);let o=new Date(a);o.setDate(a.getDate()+6);let r=a.toISOString().split("T")[0],n=o.toISOString().split("T")[0];this.$emit("filter",r,n,t)}else if("7days"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()+6);let o=s.toISOString().split("T")[0],r=a.toISOString().split("T")[0];this.$emit("filter",o,r,t)}else if("month"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth()-1,2),s=new Date(e.getFullYear(),e.getMonth()),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("quarter"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getMonth(),s=(i-3+12)%12,a=new Date(e.getFullYear(),s,2),o=i-1,r=new Date(e.getFullYear(),o+1,1),n=a.toISOString().slice(0,10),l=r.toISOString().slice(0,10);this.$emit("filter",n,l,t)}else if("year"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear()-1,0,2),s=new Date(e.getFullYear()-1,11,32),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("Currentmonth"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth(),1),s=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`,a=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;this.$emit("filter",s,a,t)}else if("currentyear"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),0,2),s=i.toISOString().split("T")[0],a=e.toISOString().split("T")[0];this.$emit("filter",s,a,t)}}}},methods:{updateColumns(t){this.$emit("update:columns",t)},updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)},updateGroupBy(t){this.$emit("update:groupBy",t)},updateFilterBy(t,e){this.$emit("update:simpleSearchApplyed",!1),this.$emit("update:filterBy",t),this.$emit("update",t,e)},updateContentSearch(t){this.$emit("update:contentSearch",t)},updateActiveView(t){this.$emit("update:activeView",t)},searchTable(t){this.$emit("search",t)},updateActiveKanbanView(t){this.$emit("update:activeKanbanView",t)},updateActiveDashboardView(t){this.$emit("update:dashboardView",t)},upload(){this.$emit("upload")},closeImport(){this.$emit("close")},viewColumns(t){this.$emit("viewColumns",t)},updateSimpletSearchFilterBy(t){this.$emit("update:simpleSearchApplyed",!0),this.$emit("update:filterBy",t),this.$emit("update",t)},downloadTemplate(){this.$emit("downloadTemplate")}}},nt=rt,lt=(i("c925"),i("7225"),i("b047")),ct=i("cb32"),ht=Object(d["a"])(nt,s,a,!1,null,"53ff3a83",null);e["a"]=ht.exports;f()(ht,"components",{QChip:lt["a"],QAvatar:ct["a"]})},"0698":function(t,e,i){},"0c04":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"addTask"}},[e("Sheet",{attrs:{value:t.value,width:t.taskWidth,"no-padding":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.title))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"task-form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 60px)"}},[e("RenderForm",{attrs:{"no-padding":"",panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.taskModel,"is-readonly":"VIEW"===t.mode},on:{save:t.saveTask}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"workflows",expression:"'workflows'",modifiers:{left:!0}}],staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:"o_account_tree",color:"primary"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.taskWorkflowList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:"mdi-sitemap",label:i.label},on:{click:function(e){return t.getForm(i)}}})})),1)],1)],1)],2)])]},proxy:!0}],null,!0)}),e("Sheet",{attrs:{width:t.taskWidth,"has-footer":""},on:{input:t.closeAddTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.headerTitle))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"no-padding":"","workflow-id":t.workflowFormId,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"workflow-form-model":t.workflowFormModel,"save-action":t.saveAction},on:{"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),1)])]},proxy:!0},{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.addTaskSheet,callback:function(e){t.addTaskSheet=e},expression:"addTaskSheet"}}),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.attachmentList.length,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")],e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),(t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Workflows ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Workflows",expression:"'Add Workflows'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getworkflowForm(t.workflowFormId)}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.processInfo,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.getWorkflowAudit(i.requestNo)}}},[t._v(" Request No: "+t._s(i.requestNo)+" ")]),i.actionUser?[e("q-chip",{attrs:{size:"10px",color:"yellow","text-color":"white"}},[t._v(" "+t._s(i.actionUser)+" ")])]:t._e(),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.flowStatus),"text-color":"white"}},[t._v(" "+t._s("0"===i.flowStatus?"Open":"Completed")+" ")])],2)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v(" Raised By: "+t._s(i.raisedBy)+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" Raised At: "+t._s(t.$day.format(i.raisedAt))+" ")],1)])])]}))],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"form-id":t.formIdName,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("EmailSharing",{attrs:{"repository-id":t.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}})],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),r=i("4bc4"),n=i("869e"),l=i("6df3"),c=i("1b0d"),h=i("9bc4"),d=i("fa1f"),u=i("a7d2"),p=i("dd90"),f=i("bc3a"),m=i.n(f),g=i("cade"),v=i("695e"),x=i("6a70"),y=i("2f62"),b=i("5e23"),w={name:"AddTask",components:{Sheet:o["a"],RenderForm:r["a"],FileIcon:d["a"],CheckboxField:n["a"],TextAreaField:l["a"],ListItem:g["a"],TextBuilderField:v["a"],Modal:x["a"],EmailSharing:b["a"]},props:{value:{type:Boolean,default:!1},formSettings:{type:Object,required:!0},panels:{type:Array,required:!0},secondaryPanels:{type:Array,default:()=>[]},formId:{type:Number,default:0},taskModel:{type:Object,default:()=>{}},mode:{type:String,default:""},taskName:{type:String,default:""},repositoryId:{type:Number,default:0},workflowTask:{type:Boolean,default:!1},taskWorkflowList:{type:Array,default:()=>[]},selectedTask:{type:Object,default:()=>{}},documentTask:{type:Boolean,default:!1},repositoryFile:{type:Object,default:()=>{}}},data(){return{taskWidth:"720px",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0}],attachmentSheet:!1,addTaskSheet:!1,taskSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],selectAll:!1,attachmentLoad:null,attachmentList:[],fileSheet:!1,selectedFile:{},actions:[],workflowsSheet:!0,workflowList:[],saveAction:"",workflowId:0,addWorkflowForm:[],workflowPanels:[],form:[],workflowName:"",workflowDescription:"",workflowFormId:0,workflowFormModel:{},processId:0,transactionId:0,workflowDetails:[],countWorkflow:0,processInfo:[],workflowFormTaskList:{},formList:{},formStage:{},processSheet:!1,formDetails:{},formIdName:"",formModel:{},headerTitle:"",advancedCommentsSheet:!1,advancedCommentText:"",emailSharingSheet:!1,selectedFileList:[]}},computed:{...Object(y["c"])(["LoadingBarPage"]),isMaximized(){return"100vw"===this.taskWidth},title(){return"VIEW"===this.mode?"View Task":"EDIT"===this.mode?"Edit Task":"FORWARD"===this.mode?"Forward Task":"COPY"===this.mode?"Copy Task":"Add Task"},formName(){return this.formSettings.general.name},formDescription(){return this.formSettings.general.description},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{taskModel:{immediate:!0,handler(){this.taskModel.id&&(this.attachmentList=[],this.getComments(),this.getAttachments())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateRequest()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet&&this.taskModel.id||clearInterval(this.attachmentLoad)}}},methods:{toggleWidth(){this.taskWidth="100vw"===this.taskWidth?"720px":"100vw"},closeSheet(){this.$emit("close",!1)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeAddTaskSheet(){this.addTaskSheet=!1},closeTaskSheet(){this.taskSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},getColor(t){return"0"===t?"orange":"1"===t||"Medium"===t?"green":"primary"},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t?this.$emit("history",this.formList[0].value[0].processId,this.formList[0].workflowId,this.formList[0].value[0].requestNo):"PRINT"===t&&window.print()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},showHistory(){},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(u["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`}{let i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`}}},openFile(t){this.selectedFile=t,this.fileSheet=!0},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async saveTask(t){const e=["itemid","createdBy","createdAt","modifiedBy","modifiedAt","icon","buttonAction","formId","status","color","link","selected","isDeleted","createdByEmail","modifiedByEmail","emailStatus","expandSubworkflow"],i=Object(h["a"])(t,e);try{this.$store.commit("showLoadingBarPage");const{id:t,...e}=i;let s=0;s="COPY"===this.mode?0:t||0;let a={};if(s)a={fields:e};else{let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)}),a={fields:e,task:{comments:this.commentsList,fileIds:t}}}const{data:o,error:r}=await c["g"].saveFormEntry(this.formId,s,a);if(this.workflowDetails.length&&this.linkTaskWorkflowProcess(o.output),r)return void this.$alert.error(r);t?this.$alert.success(this.taskName+" edited successfully"):(this.documentTask&&this.linkTaskDocument(o.output),this.$alert.success("New task added successfully")),this.getUsers(a.fields),this.closeSheet(),this.workflowTask||this.documentTask?this.$emit("addEntry",this.formId,o.output):this.$emit("refresh",this.workflowId)}catch(s){console.log(s)}finally{this.$store.commit("hideLoadingBarPage")}},async linkTaskDocument(t){let e={wFormId:this.formId,formEntryId:t,fileInfo:{repositoryId:this.repositoryFile.repositoryId,itemId:this.repositoryFile.id}};const{error:i}=await c["g"].linkTaskDocument(e);i&&this.$alert.error(i)},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["g"].getFormComments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1},async uploadAttachments(t){if(this.taskModel.id){const i=t.target.files[0];this.$store.commit("showLoadingBar");const s=new FormData;s.append("formId",this.formId),s.append("repositoryId",this.repositoryId),s.append("entryId",this.taskModel.id),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(p["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await m()({url:"https://appuat.ezofis.com/ezofisapi/api/form/taskAttachmentWithEntryId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:i,data:a}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==i||!a)throw e;this.$alert.success("Document attached")}catch(e){this.$store.commit("hideLoadingBar"),this.$alert.error("Error uploading file"),console.error(e)}this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{this.$store.commit("showLoadingBar");const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("formId",this.formId),s.append("repositoryId",this.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(p["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await m()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==a)throw"Invalid response";let r=JSON.parse(o);this.attachmentList.push({id:Number(r.fileId),name:i.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,checked:!1})}catch(e){this.$store.commit("hideLoadingBar"),console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let t=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:e,payload:i}=await c["g"].getFormAttachments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i.length?(t!==i.length&&(this.attachmentList=i.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[]},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await c["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}else{const{error:e}=await c["p"].fileDelete(t.repositoryId,t.id);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.getAttachments()}},validateRequest(t){this.saveAction=t},async initiateRequest(){let t={};t={workflowId:this.workflowId,transactionId:0,review:this.saveAction,formData:{formId:this.workflowFormId,formEntryId:this.form.entryCount,fields:this.workflowFormModel}},this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await c["t"].processTransaction(t);this.$store.commit("hideLoadingBarSave"),this.saveAction="",e?this.$alert.error(e):(this.$alert.success(i.requestNo+" Request Initiated"),this.workflowDetails.push({workflowId:this.workflowId,processId:i.processId,transactionId:i.transactionId}),this.selectedTask.id&&this.linkTaskWorkflowProcess(this.selectedTask.id),this.closeAddTaskSheet(),this.$emit("refresh",this.workflowId))},async getForm(t){if(this.workflowId=t.id,this.headerTitle=t.stage,this.actions=t.actions,this.selectedTask.formId&&this.selectedTask.id&&await this.getWorkflowList(this.workflowId),t.formId)if(this.workflowFormId=t.formId,this.processInfo.length)this.countWorkflow=this.processInfo.length,this.taskSheet=!0;else{const{error:t,payload:e}=await c["g"].getForm(this.workflowFormId);if(t)return void this.$alert.error(t);e&&(this.form=e,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(e.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)}},async getworkflowForm(t){this.closeTaskSheet();const{error:e,payload:i}=await c["g"].getForm(t);this.workflowFormId=t,e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)},async getworkflowDetailsForm(t){const{error:e,payload:i}=await c["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.processSheet=!0,this.$store.commit("hideLoadingBarPage"))},async linkTaskWorkflowProcess(t){let e={};e={wFormId:this.formId,formEntryId:t,workflow:this.workflowDetails};const{error:i}=await c["g"].linkTaskWorkflowProcess(e);i&&this.$alert.error(i)},async getWorkflowList(t){let e={};e={wId:t,fId:this.selectedTask.formId,entryId:this.selectedTask.id};const{error:i,payload:s}=await c["g"].getWorkflowTaskList(t,this.selectedTask.formId,this.selectedTask.id,e);this.workflowFormTaskList=s,s.processInfo&&(this.processInfo=s.processInfo),i&&this.$alert.error(i)},async getWorkflowAudit(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s,meta:a}=i;if(this.formList=s||{},this.formStage=a,this.formList[0].value[0].formData){let t=Object.keys(this.formList[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.formList[0].value[0].formData.fields[t])}),this.formModel=e}this.headerTitle=""+this.formList[0].value[0].name,this.formIdName=String(this.formList[0].value[0].formData.formId),this.getworkflowDetailsForm(this.formIdName),e&&this.$alert.error(e)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async getUsers(t){const{error:e,payload:i}=await c["s"].getUserList();if(e)return void this.$alert.error("Error fetching users");let s={id:0,title:t["e_NFnW0JxrLpZxqPeJS7K"],status:t["11m7YRT-7kdLx-g6iGojc"],remarks:t["2XOJMCR_DVb-5TwVPVdEX"],category:"TASK",createdBy:t["pM6Vly-JRlfroRrziE1jr"],lastActionBy:this.$store.state.session.email};const a=s.createdBy,o=i.filter(t=>a.includes(t.value)),r=o.map(t=>t.id);r.forEach(t=>{const e={...s,createdBy:t};this.insertNotification(e)}),console.log("email",o,r)},async insertNotification(t){const{error:e}=await c["b"].insertNotification(t);e&&this.$alert.error(e)}}},k=w,S=(i("a4c9"),i("2877")),C=i("4e73"),A=i("8169"),T=i("cb32"),I=i("b047"),M=i("93dc"),L=i.n(M),P=Object(S["a"])(k,s,a,!1,null,"0b56d901",null);e["a"]=P.exports;L()(P,"components",{QMenu:C["a"],QChatMessage:A["a"],QAvatar:T["a"],QChip:I["a"]})},"0ce8":function(t,e,i){},"11f5":function(t,e,i){"use strict";i("4759")},1483:function(t,e,i){},1549:function(t,e,i){"use strict";var s=i("2250"),a=i("a809"),o=i("5132"),r=i("e621");function n(t,e){return e.length<2?t:Object(o["a"])(t,Object(r["a"])(e,0,-1))}var l=n,c=i("4dc8");function h(t,e){return e=Object(s["a"])(e,t),t=l(t,e),null==t||delete t[Object(c["a"])(Object(a["a"])(e))]}e["a"]=h},"1a1b":function(t,e,i){},"27bd":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-funnel-outline",color:t.activeFilter?"secondary":"gray"},on:{click:function(e){t.model=!0}}},[e("Sheet",{attrs:{width:"50vw","has-footer":""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Filter "+t._s(t.item)+"s ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md",attrs:{id:"filters"}},[t.searchContent?[e("div",{staticClass:"description"},[t._v(" To search by content, type any text to search the entire folder ")]),e("TextField",{staticClass:"q-mb-md",attrs:{placeholder:"Search the document by content"},model:{value:t.contentSearch.contentSearchValue,callback:function(e){t.$set(t.contentSearch,"contentSearchValue",e)},expression:"contentSearch.contentSearchValue"}}),e("div",{staticClass:"q-mb-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t.showAdvanceOptions?e("div",{staticClass:"q-my-md"},[e("SingleChoiceField",{staticClass:"col q-mb-md",attrs:{options:t.searchOptions,"options-per-line":2,label:"Advanced Search Options"},model:{value:t.contentSearch.searchType,callback:function(e){t.$set(t.contentSearch,"searchType",e)},expression:"contentSearch.searchType"}}),e("FormFieldLabel",{attrs:{label:"Search similarity"}}),e("q-slider",{attrs:{color:"secondary",markers:"","marker-labels":"",min:0,max:10,label:""},model:{value:t.contentSearch.fuzzy,callback:function(e){t.$set(t.contentSearch,"fuzzy",e)},expression:"contentSearch.fuzzy"}})],1):t._e(),e("div",{staticClass:"row items-center q-mb-md"},[e("div",{staticClass:"col"},[t.showAdvanceOptions?e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!1}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-minus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Hide Advanced Options")])],1):e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!0}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-plus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Advanced Options")])],1)]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"actions"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearContentSearch}}),e("BaseButton",{attrs:{label:"search"},on:{click:t.apply}})],1)])])])]:t._e(),t.filterGroups.length?[t._l(t.filterGroups,(function(i,s){return[e("div",{key:i.id,staticClass:"filter-group"},[e("div",{staticClass:"header"},[e("div",{staticClass:"label q-mr-md"},[t._v("Criteria")]),e("div",{staticClass:"label q-mr-md"},[t._v("Condition")]),e("div",{staticClass:"label q-mr-sm"},[t._v("Value")]),e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"eva-plus","no-border":""},on:{click:function(e){return t.addFilter(s)}}})],1),e("BaseSeparator",{staticClass:"q-mb-md",attrs:{"has-inset":""}}),t._l(i.filters,(function(i,a){return e("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"filter row"},[e("ValidationProvider",{key:i.id,staticClass:"col q-mr-md",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:o}){return[e("MultiSelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t._columns,error:o[0]},on:{input:function(e){return t.applyDataType(s,a,i.criteriaArray)}},model:{value:i.criteriaArray,callback:function(e){t.$set(i,"criteriaArray",e)},expression:"filter.criteriaArray"}})]}}],null,!0)}),e("ValidationProvider",{staticClass:"col-3 q-mr-md",attrs:{name:"condition",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("SelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t.conditions(i.criteriaArray),error:s[0]},model:{value:i.condition,callback:function(e){t.$set(i,"condition",e)},expression:"filter.condition"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?e("ValidationProvider",{staticClass:"col-3 q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"NUMBER"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("NumberField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("DateField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"TIME"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TimeField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[t.checkOptions(i.criteriaArray)?[e("AsyncMultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],"api-path":t.apiPath,"column-name":i.criteriaArray},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}}),t._e()]:[t._e(),e("MultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:t.getOptions(i.criteriaArray),error:s[0]},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}})]]}}],null,!0)}):e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}),e("div",{staticClass:"remove-filter"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"red","no-border":"",icon:"eva-close-outline"},on:{click:function(e){return t.removeFilter(s,a)}}})],1)],1)})),e("BaseSeparator",{attrs:{"has-inset":""}}),e("div",{staticClass:"row"},[e("Action",{staticClass:"col",attrs:{icon:"eva-plus-outline",label:"Add Filter Group"},on:{click:function(e){return t.addFilterGroup(s+1)}}}),e("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),e("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete Group"},on:{click:function(e){return t.removeFilterGroup(s)}}})],1)],2),s!==t.filterGroups.length-1?e("div",{key:s,staticClass:"row justify-center"},[e("Toggle",{staticClass:"q-my-md",attrs:{options:t.groupConditions},on:{input:t.groupCondition},model:{value:i.groupCondition,callback:function(e){t.$set(i,"groupCondition",e)},expression:"group.groupCondition"}})],1):t._e()]}))]:[e("div",{staticClass:"add-filter",on:{click:t.addFilterGroup}},[e("BaseIcon",{attrs:{name:"eva-plus","inherit-color":""}}),e("div",{staticClass:"q-ml-sm"},[t._v("Add Filter")])],1)]],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearFilter}}),e("BaseButton",{attrs:{label:"apply"},on:{click:t.apply}})]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)},a=[],o=(i("13d5"),i("14d9"),i("874f")),r=i("9996"),n=i("7bb1"),l=i("381e"),c=i("b3d1"),h=i("12b8"),d=i("94f5"),u=i("670a"),p=i("970a"),f=i("ad54"),m=i("53c1"),g=i("cedb"),v=i("70a9"),x=i("0c21"),y=i("c3d2"),b=i("1b0d"),w=i("0d5e"),k=i("3445"),S=i("9234"),C={name:"FilterItems",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],Sheet:l["a"],TextField:c["a"],SelectField:h["a"],Action:d["a"],Toggle:u["a"],NumberField:f["a"],DateField:m["a"],TimeField:g["a"],AsyncMultiSelectField:v["a"],MultiSelectField:y["a"],AsyncSelectField:x["a"],FormFieldLabel:k["a"],SingleChoiceField:S["a"]},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},filterBy:{type:Array,required:!0},isBordered:{type:Boolean,default:!1},selectedFilter:{type:Array,default:()=>[]},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},module:{type:String,default:""},moduleId:{type:[String,Number],default:0}},data(){return{model:!1,groupConditions:["AND","OR"],filterGroups:[],activeFilter:!1,userList:[],options:[],showAdvanceOptions:!1,searchOptions:[{id:this.$nano.id(),label:"Any of the Words",value:1},{id:this.$nano.id(),label:"All of the Words",value:2}]}},computed:{_columns(){var t=this.columns.reduce((t,e)=>("isFilter"in e?e.isFilter&&t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}):t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}),t),[]);return t},apiPath(){if("repository"===this.module){if(this.$route.query.repositoryId)return`/repository/${this.moduleId}/uniqueColumnValues`}else if("form"===this.module)return`/form/${this.moduleId}/uniqueColumnValues`;return""}},watch:{model:{deep:!0,handler(){this.model}},$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.filterGroups=[],this.activeFilter=!1)}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}},contentSearch:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}}},created(){this.getUsers()},methods:{conditions(t){if(!t)return[];if(1!==t.length)return Object(p["a"])("SHORT_TEXT").map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(r["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}));{const e=this.columns.find(e=>e.name===t[0]);if(e)return Object(p["a"])(e.dataType).map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(r["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}))}},addFilterGroup(t=0){this.filterGroups.splice(t,0,{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"",value:"",arrayValue:[]}],groupCondition:(this.filterGroups.length,"")}),this.filterGroups.length&&this.selectedFilter.length&&this.selectedFilter[1]&&1===this.selectedFilter[1].level&&(this.filterGroups[0].filters=[],this.selectedFilter.forEach((t,e)=>{0!=e&&this.filterGroups[0].filters.push({id:this.$nano.id(),criteria:t.fieldName,condition:"IS_EQUALS_TO",value:t.label,arrayValue:t.arrayValue||[]})}))},removeFilterGroup(t){this.filterGroups.splice(t,1)},addFilter(t){this.filterGroups[t].filters.push({id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"CONTAINS",value:"",arrayValue:[]})},removeFilter(t,e){this.filterGroups[t].filters.splice(e,1)},async apply(){let t=0,e={};if(!this.$refs.form)return void(this.searchContent&&(this.$emit("update",this.filterGroups,e),this.model=!1,this.activeFilter=!0));for(const s of this.$refs.form){const e=await s.validate();e||t++}if(t)return;let i=!1;if(this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.filterGroups[0].filters.length||(this.filterGroups=[]),this.filterGroups.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{t.criteriaArray.length>1?i=!0:t.criteria=t.criteriaArray[0],"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify(t.arrayValue))})})),i){let t=[];this.filterGroups.forEach(e=>{e.filters.length&&e.filters.forEach(e=>{e.criteriaArray.forEach((i,s)=>{t.push({filters:[{criteria:i,condition:e.condition,value:e.value,dataType:e.dataType}],groupCondition:s?"OR":""})})})}),this.$emit("update",t,e)}else this.$emit("update",this.filterGroups,e);this.model=!1,this.activeFilter=!0},applyDataType(t,e,i){if(this.filterGroups[t].filters[e].condition="",1===i.length){this.filterGroups[t].filters[e].dataType="";let s=this._columns.find(t=>t.label===i[0]||t.value===i[0]);s&&(this.filterGroups[t].filters[e].dataType=s.dataType,"SHORT_TEXT"===s.dataType?this.filterGroups[t].filters[e].condition="CONTAINS":"SINGLE_SELECT"===s.dataType&&(this.filterGroups[t].filters[e].condition="IS_EQUALS_TO"));let a=this.filterGroups[t].filters[e];"SINGLE_SELECT"===a.dataType?this.filterGroups[t].filters[e].value=[]:this.filterGroups[t].filters[e].value=""}else this.filterGroups[t].filters[e].condition="CONTAINS",this.filterGroups[t].filters[e].dataType="SHORT_TEXT",this.filterGroups[t].filters[e].value=""},clearFilter(){this.filterGroups=[],this.activeFilter=!1,this.clearContentSearch(),this.$emit("update",this.filterGroups,"")},clearContentSearch(){this.showAdvanceOptions=!1,this.contentSearch.contentSearchValue="",this.contentSearch.searchType=1,this.contentSearch.fuzzy=0,this.$emit("updateContentSearch",this.contentSearch)},groupCondition(t){this.filterGroups[this.filterGroups.length-1].groupCondition=t},checkOptions(t){if(1===t.length){let e=this.columns.find(e=>e.name===t[0]);if(e&&e.apiLoad)return!0}return!1},getOptions(t){var e;return 1===t.length?"createdBy"===t[0]||"modifiedBy"===t[0]||"owner"===t[0]||"coordinator"===t[0]?this.userList:null===(e=this.columns.find(e=>e.name===t[0]))||void 0===e?void 0:e.options:[]},async getUsers(){this.userList=[];const{error:t,payload:e}=await b["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.userList.push({id:this.$nano.id(),label:t.value,value:String(t.id)})})},async getUniqueOptions(t){try{const e=await w["b"].post(this.apiPath,JSON.stringify({column:t,keyword:"",rowFrom:0,rowCount:10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);return this.options=[],a.forEach(t=>{let e=this.userList.find(e=>e.value===t);e&&this.options.push({id:this.$nano.id(),label:e.label,value:e.value})}),this.options}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},A=C,T=(i("ae23"),i("2877")),I=i("a026"),M=i("75c3"),L=i("b7fa"),P=i("f89c"),_=i("7937"),O=i("d882"),D=i("5ff7");const E="q-slider__marker-labels",F=t=>({value:t}),B=[34,37,40,33,39,38],N={mixins:[L["a"],P["b"]],directives:{TouchPan:M["a"]},props:{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},data(){return{active:!1,preventFocus:!1,focus:!1,dragging:!1}},computed:{axis(){return!0===this.vertical?"--v":"--h"},labelSide(){return"-"+(!0===this.switchLabelSide?"switched":"standard")},isReversed(){return!0===this.vertical?!0===this.reverse:this.reverse!==(!0===this.$q.lang.rtl)},computedInnerMin(){return this.__getInnerMin(this.innerMin)},computedInnerMax(){return this.__getInnerMax(this.innerMax)},editable(){return!0!==this.disable&&!0!==this.readonly&&this.computedInnerMin<this.computedInnerMax},computedDecimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},trackLen(){return this.max-this.min},innerBarLen(){return this.computedInnerMax-this.computedInnerMin},innerMinRatio(){return this.__convertModelToRatio(this.computedInnerMin)},innerMaxRatio(){return this.__convertModelToRatio(this.computedInnerMax)},positionProp(){return!0===this.vertical?!0===this.isReversed?"bottom":"top":!0===this.isReversed?"right":"left"},sizeProp(){return!0===this.vertical?"height":"width"},thicknessProp(){return!0===this.vertical?"width":"height"},orientation(){return!0===this.vertical?"vertical":"horizontal"},attributes(){const t={role:"slider","aria-valuemin":this.computedInnerMin,"aria-valuemax":this.computedInnerMax,"aria-orientation":this.orientation,"data-step":this.step};return!0===this.disable?t["aria-disabled"]="true":!0===this.readonly&&(t["aria-readonly"]="true"),t},classes(){return`q-slider q-slider${this.axis} q-slider--${!0===this.active?"":"in"}active inline no-wrap `+(!0===this.vertical?"row":"column")+(!0===this.disable?" disabled":" q-slider--enabled"+(!0===this.editable?" q-slider--editable":""))+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense q-slider--dense"+this.axis:"")},selectionBarClass(){const t=this.selectionColor||this.color;return"q-slider__selection absolute"+(void 0!==t?" text-"+t:"")},markerClass(){return this.__getAxisClass("markers")+" absolute overflow-hidden"},trackContainerClass(){return this.__getAxisClass("track-container")},pinClass(){return this.__getPositionClass("pin")},labelClass(){return this.__getPositionClass("label")},textContainerClass(){return this.__getPositionClass("text-container")},markerLabelsContainerClass(){return this.__getPositionClass("marker-labels-container")+(void 0!==this.markerLabelsClass?" "+this.markerLabelsClass:"")},trackClass(){return"q-slider__track relative-position no-outline"+(void 0!==this.trackColor?" bg-"+this.trackColor:"")},trackStyle(){const t={[this.thicknessProp]:this.trackSize};return void 0!==this.trackImg&&(t.backgroundImage=`url(${this.trackImg}) !important`),t},innerBarClass(){return"q-slider__inner absolute"+(void 0!==this.innerTrackColor?" bg-"+this.innerTrackColor:"")},innerBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.innerMaxRatio-this.innerMinRatio)+"%"};return void 0!==this.innerTrackImg&&(t.backgroundImage=`url(${this.innerTrackImg}) !important`),t},markerStep(){return!0===Object(D["c"])(this.markers)?this.markers:this.computedStep},markerTicks(){const t=[],e=this.markerStep;let i=this.min;do{t.push(i),i+=e}while(i<this.max);return t.push(this.max),t},markerLabelClass(){const t=` ${E}${this.axis}-`;return E+`${t}${!0===this.switchMarkerLabelsSide?"switched":"standard"}`+`${t}${!0===this.isReversed?"rtl":"ltr"}`},markerLabelsList(){return!1===this.markerLabels?null:this.__getMarkerList(this.markerLabels).map((t,e)=>({index:e,value:t.value,label:t.label||t.value,classes:this.markerLabelClass+(void 0!==t.classes?" "+t.classes:""),style:{...this.__getMarkerLabelStyle(t.value),...t.style||{}}}))},markerScope(){return{markerList:this.markerLabelsList,markerMap:this.markerLabelsMap,classes:this.markerLabelClass,getStyle:this.__getMarkerLabelStyle}},markerStyle(){if(0!==this.innerBarLen){const t=100*this.markerStep/this.innerBarLen;return{...this.innerBarStyle,backgroundSize:!0===this.vertical?`2px ${t}%`:t+"% 2px"}}return null},markerLabelsMap(){if(!1===this.markerLabels)return null;const t={};return this.markerLabelsList.forEach(e=>{t[e.value]=e}),t},panDirectives(){return!0===this.editable?[{name:"touch-pan",value:this.__onPan,modifiers:{[this.orientation]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null}},methods:{__getInnerMin(t){return!0===isNaN(t)||this.innerMin<this.min?this.min:this.innerMin},__getInnerMax(t){return!0===isNaN(t)||t>this.max?this.max:this.innerMax},__getPositionClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis} ${e}${this.axis}${this.labelSide}`},__getAxisClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis}`},__convertRatioToModel(t){let e=this.min+t*(this.max-this.min);if(this.step>0){const t=(e-this.min)%this.step;e+=(Math.abs(t)>=this.step/2?(t<0?-1:1)*this.step:0)-t}return this.computedDecimals>0&&(e=parseFloat(e.toFixed(this.computedDecimals))),Object(_["a"])(e,this.computedInnerMin,this.computedInnerMax)},__convertModelToRatio(t){return 0===this.trackLen?0:(t-this.min)/this.trackLen},__getDraggingRatio(t,e){const i=Object(O["h"])(t),s=!0===this.vertical?Object(_["a"])((i.top-e.top)/e.height,0,1):Object(_["a"])((i.left-e.left)/e.width,0,1);return Object(_["a"])(!0===this.isReversed?1-s:s,this.innerMinRatio,this.innerMaxRatio)},__getMarkerList(t){if(!1===t)return null;if(!0===t)return this.markerTicks.map(F);if("function"===typeof t)return this.markerTicks.map(e=>{const i=t(e);return!0===Object(D["d"])(i)?{...i,value:e}:{value:e,label:i}});const e=({value:t})=>t>=this.min&&t<=this.max;return!0===Array.isArray(t)?t.map(t=>!0===Object(D["d"])(t)?t:{value:t}).filter(e):Object.keys(t).map(e=>{const i=t[e],s=Number(e);return!0===Object(D["d"])(i)?{...i,value:s}:{value:s,label:i}}).filter(e)},__getMarkerLabelStyle(t){return{[this.positionProp]:100*(t-this.min)/this.trackLen+"%"}},__getMarkerLabelsContent(t){if(void 0!==this.$scopedSlots["marker-label-group"])return this.$scopedSlots["marker-label-group"](this.markerScope);const e=this.$scopedSlots["marker-label"];return void 0!==e?this.markerLabelsList.map(t=>e({marker:t,...this.markerScope})):this.markerLabelsList.map(e=>t("div",{key:e.value,style:e.style,class:e.classes},e.label))},__onPan(t){!0===t.isFinal?(void 0!==this.dragging&&(this.__updatePosition(t.evt),!0===t.touch&&this.__updateValue(!0),this.dragging=void 0,this.$emit("pan","end")),this.active=!1,this.focus=!1):!0===t.isFirst?(this.dragging=this.__getDragging(t.evt),this.__updatePosition(t.evt),this.__updateValue(),this.active=!0,this.$emit("pan","start")):(this.__updatePosition(t.evt),this.__updateValue())},__onBlur(){this.focus=!1},__onActivate(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__onDeactivate,!0)},__onDeactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__onBlur(),document.removeEventListener("mouseup",this.__onDeactivate,!0)},__onMobileClick(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(!0)},__onKeyup(t){B.includes(t.keyCode)&&this.__updateValue(!0)},__getTextContainerStyle(t){if(!0===this.vertical)return null;const e=this.$q.lang.rtl!==this.reverse?1-t:t;return{transform:`translateX(calc(${2*e-1} * ${this.thumbSize} / 2 + ${50-100*e}%))`}},__getThumb(t,e){const i=[t("svg",{class:"q-slider__thumb-shape absolute-full",attrs:{viewBox:"0 0 20 20","aria-hidden":"true"}},[t("path",{attrs:{d:this.thumbPath}})]),t("div",{class:"q-slider__focus-ring fit"})];return!0!==this.label&&!0!==this.labelAlways||(i.push(t("div",{class:this.pinClass+" absolute fit no-pointer-events"+e.pinColor},[t("div",{class:this.labelClass,style:{minWidth:this.thumbSize}},[t("div",{class:this.textContainerClass,style:e.textContainerStyle},[t("span",{class:e.textClass},e.label)])])])),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(i,"push")),t("div",{class:e.classes,style:e.style,...e.nodeData},i)},__getContent(t,e){const i=[];"transparent"!==this.innerTrackColor&&i.push(t("div",{key:"inner",class:this.innerBarClass,style:this.innerBarStyle})),"transparent"!==this.selectionColor&&i.push(t("div",{key:"selection",class:this.selectionBarClass,style:this.selectionBarStyle})),!1!==this.markers&&i.push(t("div",{key:"marker",class:this.markerClass,style:this.markerStyle})),e(i);const s=[t("div",{key:"trackC",class:this.trackContainerClass,attrs:this.trackContainerAttrs,on:this.trackContainerEvents,directives:this.panDirectives},[t("div",{class:this.trackClass,style:this.trackStyle},i)])];if(!1!==this.markerLabels){const e=!0===this.switchMarkerLabelsSide?"unshift":"push";s[e](t("div",{key:"markerL",class:this.markerLabelsContainerClass},this.__getMarkerLabelsContent(t)))}return s}},beforeDestroy(){document.removeEventListener("mouseup",this.__onDeactivate,!0)}};var z=I["default"].extend({name:"QSlider",mixins:[N],props:{value:{required:!0,default:null,validator:t=>"number"===typeof t||null===t},labelValue:[String,Number]},data(){const t=this.__getInnerMin(this.innerMin),e=this.__getInnerMax(this.innerMax);return{model:null===this.value?t:Object(_["a"])(this.value,t,e),curRatio:0}},computed:{modelRatio(){return this.__convertModelToRatio(this.model)},ratio(){return!0===this.active?this.curRatio:this.modelRatio},selectionBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.ratio-this.innerMinRatio)+"%"};return void 0!==this.selectionImg&&(t.backgroundImage=`url(${this.selectionImg}) !important`),t},thumbLabel(){return void 0!==this.labelValue?this.labelValue:this.model},thumbClasses(){const t=this.thumbColor||this.color;return`q-slider__thumb q-slider__thumb${this.axis} q-slider__thumb${this.axis}-${!0===this.isReversed?"rtl":"ltr"} absolute non-selectable`+(!1===this.preventFocus&&!0===this.focus?" q-slider--focus":"")+(void 0!==t?" text-"+t:"")},thumbStyle(){return{width:this.thumbSize,height:this.thumbSize,[this.positionProp]:100*this.ratio+"%"}},thumbPinColor(){return void 0!==this.labelColor?" text-"+this.labelColor:""},thumbTextContainerStyle(){return this.__getTextContainerStyle(this.ratio)},thumbTextClass(){return"q-slider__text"+(void 0!==this.labelTextColor?" text-"+this.labelTextColor:"")},trackContainerEvents(){return!0!==this.editable?{}:!0===this.$q.platform.is.mobile?{click:this.__onMobileClick}:{mousedown:this.__onActivate,focus:this.__onFocus,blur:this.__onBlur,keydown:this.__onKeydown,keyup:this.__onKeyup}},trackContainerAttrs(){return{tabindex:!0!==this.$q.platform.is.mobile?this.computedTabindex:null}},modelUpdate(){return`${this.value}|${this.computedInnerMin}|${this.computedInnerMax}`}},watch:{modelUpdate(){this.model=null===this.value?this.computedInnerMin:Object(_["a"])(this.value,this.computedInnerMin,this.computedInnerMax)}},methods:{__updateValue(t){this.model!==this.value&&this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(t,e=this.dragging){const i=this.__getDraggingRatio(t,e);this.model=this.__convertRatioToModel(i),this.curRatio=!0!==this.snap||0===this.computedStep?i:this.__convertModelToRatio(this.model)},__onFocus(){this.focus=!0},__onKeydown(t){if(!B.includes(t.keyCode))return;Object(O["l"])(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=([34,37,40].includes(t.keyCode)?-1:1)*(!0===this.isReversed?-1:1)*(!0===this.vertical?-1:1)*e;this.model=Object(_["a"])(parseFloat((this.model+i).toFixed(this.computedDecimals)),this.computedInnerMin,this.computedInnerMax),this.__updateValue()}},render(t){const e=this.__getContent(t,e=>{e.push(this.__getThumb(t,{pinColor:this.thumbPinColor,textContainerStyle:this.thumbTextContainerStyle,textClass:this.thumbTextClass,label:this.thumbLabel,classes:this.thumbClasses,style:this.thumbStyle,nodeData:{}}))});return t("div",{class:this.classes+(null===this.value?" q-slider--no-value":""),attrs:{...this.attributes,"aria-valuenow":this.value}},e)}}),R=i("93dc"),$=i.n(R),H=Object(T["a"])(A,s,a,!1,null,"2eff0750",null);e["a"]=H.exports;$()(H,"components",{QSlider:z})},2948:function(t,e,i){"use strict";i("f108")},"2ac6":function(t,e,i){"use strict";i("0ce8")},"2adf":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"chart-wrapper"}},[t.dashboardView?t._e():e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("q-space"),t._t("header")],2),e("div",{ref:"chart",staticClass:"chart"})])},a=[],o=i("2f62"),r=i("a1a34"),n=i("ba30"),l=i.n(n),c={name:"ChartWrapper",props:{title:{type:String,required:!0},options:{type:Object,default:()=>{}},series:{type:Array,default:()=>[]},dashboardView:{type:Boolean,default:!1}},data(){return{chartRef:"",globalOptions:{chart:{fontFamily:"Poppins",parentHeightOffset:0,toolbar:{tools:{selection:!1,zoom:!1,zoomin:'<i class="q-icon text-gray eva eva-plus-circle-outline" style="font-size: 20px;"></i>',zoomout:'<i class="q-icon text-gray eva eva-minus-circle-outline" style="font-size: 20px;"></i>',pan:'<i class="q-icon text-gray eva eva-move-outline" style="font-size: 20px;"></i>',reset:'<i class="q-icon text-gray eva eva-refresh-outline" style="font-size: 20px;"></i>',download:'<i class="q-icon text-gray eva eva-download-outline" style="font-size: 20px;"></i>'},export:{csv:{filename:this.title},svg:{filename:this.title},png:{filename:this.title}}},background:"#ffffff"},grid:{padding:{top:16,bottom:16},borderColor:"#e2e8f0"},colors:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],dataLabels:{style:{fontWeight:"500",fontSize:"14px"}},legend:{fontWeight:"500"},markers:{size:6,strokeWidth:0},xaxis:{axisBorder:{show:!1}},stroke:{curve:"straight"},plotOptions:{boxPlot:{colors:{upper:"#4a89dd",lower:"#36bd9a"}}},series:[]}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{deep:!0,handler(){Object(r["a"])(this.globalOptions,this.options),this.chartRef.updateOptions(this.globalOptions)}},series:{deep:!0,handler(){this.chartRef.updateSeries(this.series)}},darkTheme(){this.globalOptions.chart.background=this.darkTheme?"#1d2129":"#ffffff",this.globalOptions.grid.borderColor=this.darkTheme?"#334155":"#e2e8f0",this.globalOptions.colors=this.darkTheme?["#5c9dec","#48ceaf","#fecf55","#fa6f52","#ac92ed","#ec87bf","#a1d568"]:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],this.globalOptions.plotOptions={boxPlot:{colors:{upper:this.darkTheme?"#5c9dec":"#4a89dd",lower:this.darkTheme?"#48ceaf":"#36bd9a"}}},this.chartRef.updateOptions(this.globalOptions)}},mounted(){Object(r["a"])(this.globalOptions,this.options),this.globalOptions.series=this.series,this.chartRef=new l.a(this.$refs.chart,this.globalOptions),this.chartRef.render()}},h=c,d=(i("fb47"),i("2877")),u=i("2c91"),p=i("0016"),f=i("93dc"),m=i.n(f),g=Object(d["a"])(h,s,a,!1,null,"49e033f6",null);e["a"]=g.exports;m()(g,"components",{QSpace:u["a"],QIcon:p["a"]})},"2b88":function(t,e,i){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function s(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("a026"));function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t){return n(t)||l(t)||c()}function n(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var h="undefined"!==typeof window;function d(t){return Array.isArray(t)||"object"===o(t)?Object.freeze(t):t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,i){var s=i.passengers[0],a="function"===typeof s?s(e):i.passengers;return t.concat(a)}),[])}function p(t,e){return t.map((function(t,e){return[e,t]})).sort((function(t,i){return e(t[1],i[1])||t[0]-i[0]})).map((function(t){return t[1]}))}function f(t,e){return e.reduce((function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e}),{})}var m={},g={},v={},x=a.extend({data:function(){return{transports:m,targets:g,sources:v,trackInstances:h}},methods:{open:function(t){if(h){var e=t.to,i=t.from,s=t.passengers,o=t.order,r=void 0===o?1/0:o;if(e&&i&&s){var n={to:e,from:i,passengers:d(s),order:r},l=Object.keys(this.transports);-1===l.indexOf(e)&&a.set(this.transports,e,[]);var c=this.$_getTransportIndex(n),u=this.transports[e].slice(0);-1===c?u.push(n):u[c]=n,this.transports[e]=p(u,(function(t,e){return t.order-e.order}))}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.to,s=t.from;if(i&&(s||!1!==e)&&this.transports[i])if(e)this.transports[i]=[];else{var a=this.$_getTransportIndex(t);if(a>=0){var o=this.transports[i].slice(0);o.splice(a,1),this.transports[i]=o}}},registerTarget:function(t,e,i){h&&(this.trackInstances&&!i&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,i){h&&(this.trackInstances&&!i&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,i=t.from;for(var s in this.transports[e])if(this.transports[e][s].from===i)return+s;return-1}}}),y=new x(m),b=1,w=a.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(b++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick((function(){y.registerSource(t.name,t)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){y.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};y.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:r(t),order:this.order};y.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(i,[this.normalizeOwnChildren(e)]):this.slim?t():t(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),k=a.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:y.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){y.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){y.unregisterTarget(e),y.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){y.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return u(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),i=this.children(),s=this.transition||this.tag;return e?i[0]:this.slim&&!s?t():t(s,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),S=0,C=["disabled","name","order","slim","slotProps","tag","to"],A=["multiple","transition"],T=a.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(S++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(y.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=y.targets[e.name];else{var i=e.append;if(i){var s="string"===typeof i?i:"DIV",a=document.createElement(s);t.appendChild(a),t=a}var o=f(this.$props,A);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new k({el:t,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=f(this.$props,C);return t(w,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||t()}});function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",w),t.component(e.portalTargetName||"PortalTarget",k),t.component(e.MountingPortalName||"MountingPortal",T)}var M={install:I};e.default=M,e.Portal=w,e.PortalTarget=k,e.MountingPortal=T,e.Wormhole=y},"2d32":function(t,e,i){"use strict";i("48b9")},3002:function(t,e,i){},3093:function(t,e,i){},"381b":function(t,e,i){"use strict";const s={SHORT_TEXT:"SHORT_TEXT",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",DATE:"DATE",TIME:"TIME",DATE_TIME:"DATE_TIME",SINGLE_SELECT:"SINGLE_SELECT",TABLE:"TABLE",BARCODE:"BARCODE",OMR:"OMR",AUTO_GENERATED:"AUTO_GENERATED"};Object.freeze(s),e["a"]=s},"3d35":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-trash-2-outline","icon-color":"red"},on:{input:t.handleInput},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Delete saved Items")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to delete the save search "),e("b",[t._v('"'+t._s(t.deleteData.name)+'"')]),t._v(". If you delete the save search, you will not be able to use this . ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:t.deleteFilter}})]},proxy:!0}])})},a=[],o=i("1c54"),r=i("1b0d"),n={name:"ConfirmDeleteRepository",components:{Confirm:o["a"]},props:{value:{type:Boolean,required:!0},deleteData:{type:Object,required:!0}},methods:{handleInput(t){this.$emit("input",t)},handleNo(){this.$emit("input",!1)},async deleteFilter(){const{error:t}=await r["e"].deleteFilter(this.deleteData.id,this.deleteData);t?this.$alert.warning("error"):(this.$emit("input",!1),this.$emit("delete"),this.$alert.success("Save search deleted successfully"))}}},l=n,c=i("2877"),h=Object(c["a"])(l,s,a,!1,null,"55f4b484",null);e["a"]=h.exports},4045:function(t,e,i){"use strict";i("1a1b")},"40f9":function(t,e,i){"use strict";i("c589")},"42fc":function(t,e,i){"use strict";i.d(e,"a",(function(){return D}));i("d9e2");function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,e){if(!t)throw new Error(e)}function o(t){return Object.keys(t)}function r(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function n(t,e,i){var s="."+e,a=new RegExp("(\\".concat(e,")?$"));return i(t).replace(a,s)}function l(t){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),t.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(t){return Array(t+1).join(" ")}function h(t){return t.replace(/([<>&])/g,(function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function d(t,e,i){switch(e){case"txt":var s="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"css":s="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"html":s="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"json":s="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"csv":s="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xls":s="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xml":s="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);default:return""}}function u(t,e,i,s){void 0===i&&(i="download"),void 0===s&&(s=!0);var a=d(t,e,s),o=document.createElement("a");o.href=a,o.download=i,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(o)}var p=function(){return p=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},p.apply(this,arguments)},f=function(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,a,o=i.call(t),r=[];try{while((void 0===e||e-- >0)&&!(s=o.next()).done)r.push(s.value)}catch(n){a={error:n}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(a)throw a.error}}return r};function m(t){if(!t||s(t)&&!t.length||!s(t)&&!o(t).length)return function(t){return t};var e=s(t)?t.reduce((function(t,e){var i;return p(p({},t),(i={},i[e]=e,i))}),Object.create(null)):t;return function(t){return s(t)?t.map((function(t){return r(t).reduce((function(t,i){var s=f(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))})).filter((function(t){return o(t).length})):r(t).reduce((function(t,i){var s=f(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))}}function g(t){var e="Invalid export data. Please provide a valid JSON";try{return"string"===typeof t?JSON.parse(t):t}catch(i){throw new Error(e)}}function v(t,e,i){void 0===e&&(e=null);var s="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(t,e,i)}catch(a){throw new Error(s)}}function x(t){return t.map(r).reduce((function(e,i,s){return i.reduce((function(e,i){var a=f(i,2),o=a[0],r=a[1],n=e[o]||Array.from({length:t.length}).map((function(t){return""}));return n[s]=("string"!==typeof r?JSON.stringify(r):r)||"",e[o]=n,e}),e)}),Object.create(null))}function y(t,e){return void 0===e&&(e=function(t){return t}),e(r(t).map((function(t){var e=f(t,2),i=e[0],s=e[1];return{fieldName:i,fieldValues:s}})))}function b(t){var e=/,|"|\n/.test(t)?'"':"",i=t.replace(/"/g,'""');return"".concat(e).concat(i).concat(e)}var w={beforeTableEncode:function(t){return t},delimiter:","};function k(t,e){void 0===e&&(e={});var i=p(p({},w),e),s=i.beforeTableEncode,a=i.delimiter;if(!t.length)return"";var o=x(t),r=y(o,s),n=r.map((function(t){var e=t.fieldName;return e})).join(a)+"\r\n",l=r.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map(b)})),c=l.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(a).concat(e[i])}))}));return n+c.join("\r\n")}function S(t,e){a(t.length>0);var i=x(t),s=y(i,e),o=s.map((function(t){var e=t.fieldName;return e})).join("</b></th><th><b>"),r=s.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map((function(t){return"<td>".concat(t,"</td>")}))})),n=r.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(e[i])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(o,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(n.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var C={beforeTableEncode:function(t){return t}};function A(t,e){var i=p(p({},C),e).beforeTableEncode;if(!t.length)return"";var s='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(S(t,i),"\n  </body>\n</html >\n");return s}function T(t){var e='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(I(t,"base"),"\n");return e}function I(t,e,i,a){void 0===i&&(i="element"),void 0===a&&(a=0);var o=l(e),n=c(a);if(null===t||void 0===t)return"".concat(n,"<").concat(o," />");var d=s(t)?t.map((function(t){return I(t,i,i,a+2)})).join("\n"):"object"===typeof t?r(t).map((function(t){var e=f(t,2),s=e[0],o=e[1];return I(o,s,i,a+2)})).join("\n"):n+"  "+h(String(t)),u="".concat(n,"<").concat(o,">\n").concat(d,"\n").concat(n,"</").concat(o,">");return u}var M={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function L(t){var e=t.data,i=t.fileName,o=void 0===i?"download":i,r=t.extension,l=t.fileNameFormatter,c=void 0===l?function(t){return t.replace(/\s+/,"_")}:l,h=t.fields,d=t.exportType,p=void 0===d?"txt":d,f=t.replacer,x=void 0===f?null:f,y=t.space,b=void 0===y?4:y,w=t.processor,S=void 0===w?u:w,C=t.withBOM,I=void 0!==C&&C,M=t.beforeTableEncode,L=void 0===M?function(t){return t}:M,P=t.delimiter,_=void 0===P?",":P,O="Invalid export data. Please provide an array of objects",D="Can't export unknown data type ".concat(p,"."),E="Can't export string data to ".concat(p,".");if("string"===typeof e)switch(p){case"txt":case"css":case"html":return S(e,p,n(o,null!==r&&void 0!==r?r:p,c));default:throw new Error(E)}var F=m(h),B=F(g(e)),N=v(B,x,b);switch(p){case"txt":case"css":case"html":return S(N,p,n(o,null!==r&&void 0!==r?r:p,c));case"json":return S(N,p,n(o,null!==r&&void 0!==r?r:"json",c));case"csv":a(s(B),O);var z="\ufeff",R=k(B,{beforeTableEncode:L,delimiter:_}),$=I?z+R:R;return S($,p,n(o,null!==r&&void 0!==r?r:"csv",c));case"xls":a(s(B),O);$=A(B,{beforeTableEncode:L});return S($,p,n(o,null!==r&&void 0!==r?r:"xls",c));case"xml":$=T(B);return S($,p,n(o,null!==r&&void 0!==r?r:"xml",c));default:throw new Error(D)}}L.types=M,L.processors={downloadFile:u};var P=L,_=P;const O=()=>{function t(t,e,i){if(t)try{const s=e||"exported-data",a=_.types[i||"xls"];_({data:t,fileName:s,exportType:a})}catch(s){throw new Error("Parsing failed!")}}return{exportDataFromJSON:t}};function D(t,e){if(!t)return this.$alert.info("Data not found");let i=new Date;return e||(e=`${i.getFullYear()}${i.getMonth()+1}${i.getDate()}${i.getHours()}${i.getMinutes()}${i.getSeconds()}`),O().exportDataFromJSON(t,e,null)}},4484:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ItemList",{attrs:{columns:t.columns,items:t.items,mode:t.mode,report:!0},on:{select:t.handleOpenFile},scopedSlots:t._u([{key:"actions",fn:function({item:i}){return[t.filterList?e("div",{staticClass:"row",staticStyle:{width:"100px"}},[t.filterList?e("BaseActionButton",{staticClass:"col-auto q-pa-sm q-mr-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("isSavesheet",i.id)}}}):t._e(),t.filterList?e("BaseActionButton",{staticClass:"col-auto q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("isDelete",i.id)}}}):t._e()],1):t._e()]}}])})},a=[],o=i("f92f"),r={name:"ReportList",components:{ItemList:o["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},filterList:{type:Array,default:()=>[]}},methods:{handleOpenFile(t,e){this.$emit("view",t,e)}}},n=r,l=i("2877"),c=Object(l["a"])(n,s,a,!1,null,"543e6761",null);e["a"]=c.exports},4523:function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],(function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}})),e(t,"Extensions/Breadcrumbs/Breadcrumbs.js",[t["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function a(){if(this.breadcrumbs){const t=this.resetZoomButton&&this.resetZoomButton.getBBox(),e=this.breadcrumbs.options;t&&"right"===e.position.align&&"plotBox"===e.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-t.width-e.buttonSpacing)}}function o(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function r(){const t=this.breadcrumbs;if(t&&!t.options.floating&&t.level){var e=t.options,i=e.buttonTheme;i=(i.height||0)+2*(i.padding||0)+e.buttonSpacing,e=e.position.verticalAlign,"bottom"===e?(this.marginBottom=(this.marginBottom||0)+i,t.yOffset=i):"middle"!==e?(this.plotTop+=i,t.yOffset=-i):t.yOffset=void 0}}function n(){this.breadcrumbs&&this.breadcrumbs.redraw()}function l(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}const{format:c}=i,{addEvent:h,defined:d,extend:u,fireEvent:p,isString:f,merge:m,objectEach:g,pick:v}=s,x=[];class y{static compose(i,c){s.pushUnique(x,i)&&(h(e,"destroy",o),h(e,"afterShowResetZoom",a),h(e,"getMargins",r),h(e,"redraw",n),h(e,"selection",l)),s.pushUnique(x,c)&&u(c.lang,t.lang)}constructor(t,e){this.elementList={},this.isDirty=!0,this.level=0,this.list=[],e=m(t.options.drilldown&&t.options.drilldown.drillUpButton,y.defaultOptions,t.options.navigation&&t.options.navigation.breadcrumbs,e),this.chart=t,this.options=e||{}}updateProperties(t){this.setList(t),this.setLevel(),this.isDirty=!0}setList(t){this.list=t}setLevel(){this.level=this.list.length&&this.list.length-1}getLevel(){return this.level}getButtonText(t){const e=this.chart,i=this.options;var s=e.options.lang;const a=v(i.format,i.showFullPath?"{level.name}":"← {level.name}");return s=s&&v(s.drillUpText,s.mainBreadcrumb),t=i.formatter&&i.formatter(t)||c(a,{level:t.levelOptions},e)||"",(f(t)&&!t.length||"← "===t)&&d(s)&&(t=i.showFullPath?s:"← "+s),t}redraw(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1}render(){const t=this.chart,e=this.options;!this.group&&e&&(this.group=t.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:e.zIndex}).add()),e.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()}renderFullPathButtons(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()}renderSingleButton(){const t=this.chart;var e=this.list;const i=this.options.buttonSpacing;this.destroyListElements();const s=this.group?this.group.getBBox().width:i;e=e[e.length-2],!t.drillUpButton&&0<this.level?t.drillUpButton=this.renderButton(e,s,i):t.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())}alignBreadcrumbsGroup(t){if(this.group){var e=this.options;const s=e.buttonTheme,a=e.position,o="chart"===e.relativeTo||"spacingBox"===e.relativeTo?void 0:"scrollablePlotBox";var i=this.group.getBBox();e=2*(s.padding||0)+e.buttonSpacing,a.width=i.width+e,a.height=i.height+e,i=m(a),t&&(i.x+=t),this.options.rtl&&(i.x+=a.width),i.y=v(i.y,this.yOffset,0),this.group.align(i,!0,o)}}renderButton(t,e,i){const s=this,a=this.chart,o=s.options,r=m(o.buttonTheme);return e=a.renderer.button(s.getButtonText(t),e,i,(function(e){const i=o.events&&o.events.click;let a;i&&(a=i.call(s,e,t)),!1!==a&&(e.newLevel=o.showFullPath?t.level:s.level-1,p(s,"up",e))}),r).addClass("highcharts-breadcrumbs-button").add(s.group),a.styledMode||e.attr(o.style),e}renderSeparator(t,e){const i=this.chart,s=this.options.separator;return t=i.renderer.label(s.text,t,e,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),i.styledMode||t.css(s.style),t}update(t){m(!0,this.options,t),this.destroy(),this.isDirty=!0}updateSingleButton(){const t=this.chart,e=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(e)})}destroy(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0}destroyListElements(t){const e=this.elementList;g(e,(i,s)=>{!t&&e[s].updated||(i=e[s],i.button&&i.button.destroy(),i.separator&&i.separator.destroy(),delete i.button,delete i.separator,delete e[s])}),t&&(this.elementList={})}destroySingleButton(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)}resetElementListState(){g(this.elementList,t=>{t.updated=!1})}updateListElements(){const t=this.elementList,e=this.options.buttonSpacing,i=this.list,s=this.options.rtl,a=s?-1:1,o=function(t,e){return a*t.getBBox().width+a*e},r=function(t,e,i){t.translate(e-t.getBBox().width,i)};let n,l,c=this.group?o(this.group,e):e;for(let h=0,d=i.length;h<d;++h){const u=h===d-1;let p,f;l=i[h],t[l.level]?(n=t[l.level],p=n.button,n.separator||u?n.separator&&u&&(n.separator.destroy(),delete n.separator):(c+=a*e,n.separator=this.renderSeparator(c,e),s&&r(n.separator,c,e),c+=o(n.separator,e)),t[l.level].updated=!0):(p=this.renderButton(l,c,e),s&&r(p,c,e),c+=o(p,e),u||(f=this.renderSeparator(c,e),s&&r(f,c,e),c+=o(f,e)),t[l.level]={button:p,separator:f,updated:!0}),p&&p.setState(u?2:0)}}}return y.defaultOptions=t.options,y})),e(t,"Extensions/Drilldown.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"]],(function(t,e,i,s,a,o,r,n,l,c,h,d,u,p){function f(t){const e=m(this.chart.options.drilldown.animation);t&&(t.hide(),C((function(){t&&t.added&&t.fadeIn()}),Math.max(e.duration-50,0)))}const{animObject:m}=t,{noop:g}=o;({defaultOptions:t}=r),({seriesTypes:c}=c);const{addEvent:v,extend:x,fireEvent:y,merge:b,objectEach:w,pick:k,removeEvent:S,syncTimeout:C}=u;u=c.pie,c=c.map;let A=1;x(t.lang,{}),t.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}},mapZooming:!0},h.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:k(this.newOpacity,1)},t||{duration:250})},i.prototype.addSeriesAsDrilldown=function(t,e){const i=this;if(i.mapView)if(t.series.isDrilling=!0,t.series.options.inactiveOtherPoints=!0,i.options.drilldown&&i.options.drilldown.animation&&i.options.drilldown.mapZooming){t.series.dataLabelsGroup&&(t.series.dataLabelsGroup.destroy(),delete t.series.dataLabelsGroup),i.mapView.allowTransformAnimation=!0;const s=m(i.options.drilldown.animation);if("boolean"!==typeof s){const a=s.complete,o=function(s){s&&s.applyDrilldown&&i.mapView&&(i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown(),i.mapView.allowTransformAnimation=!1)};s.complete=function(){a&&a.apply(this,arguments),o.apply(this,arguments)}}t.zoomTo(s)}else i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown();else i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown()},i.prototype.addSingleSeriesAsDrilldown=function(t,e){let i,a,o,r,n=t.series,l=n.xAxis,c=n.yAxis,h=[],d=[];r=this.styledMode?{colorIndex:k(t.colorIndex,n.colorIndex)}:{color:t.color||n.color},this.drilldownLevels||(this.drilldownLevels=[]),a=n.options._levelNumber||0,(o=this.drilldownLevels[this.drilldownLevels.length-1])&&o.levelNumber!==a&&(o=void 0),e=x(x({_ddSeriesId:A++},r),e),i=n.points.indexOf(t),n.chart.series.forEach((function(t){t.xAxis===l&&(t.options._ddSeriesId=t.options._ddSeriesId||A++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||a,o?(h=o.levelSeries,d=o.levelSeriesOptions):(h.push(t),t.purgedOptions=b({_ddSeriesId:t.options._ddSeriesId,_levelNumber:t.options._levelNumber,selected:t.options.selected},t.userOptions),d.push(t.purgedOptions)))})),t=x({levelNumber:a,seriesOptions:n.options,seriesPurgedOptions:n.purgedOptions,levelSeriesOptions:d,levelSeries:h,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:t.isNull?s.parse(r.color).setOpacity(0).get():r.color,lowerSeriesOptions:e,pointOptions:n.options.data[i],pointIndex:i,oldExtremes:{xMin:l&&l.userMin,xMax:l&&l.userMax,yMin:c&&c.userMin,yMax:c&&c.userMax},resetZoomButton:o&&o.levelNumber===a?void 0:this.resetZoomButton},r),this.drilldownLevels.push(t),l&&l.names&&(l.names.length=0),e=t.lowerSeries=this.addSeries(e,!1),e.options._levelNumber=a+1,l&&(l.oldPos=l.pos,l.userMin=l.userMax=null,c.userMin=c.userMax=null),e.isDrilling=!0,n.type===e.type&&(e.animate=e.animateDrilldown||g,e.options.animation=!0)},i.prototype.applyDrilldown=function(){const t=this,e=this.drilldownLevels;let i;e&&0<e.length&&(i=e[e.length-1].levelNumber,this.drilldownLevels.forEach((function(e){t.mapView&&t.options.drilldown&&t.options.drilldown.mapZooming&&(t.redraw(),e.lowerSeries.isDrilling=!1,t.mapView.fitToBounds(e.lowerSeries.bounds),e.lowerSeries.isDrilling=!0),e.levelNumber===i&&e.levelSeries.forEach((function(e,s){t.mapView?e.options&&e.options._levelNumber===i&&e.group&&(s={},t.options.drilldown&&(s=t.options.drilldown.animation),e.group.animate({opacity:0},s,(function(){e.remove(!1),t.resetZoomButton&&(t.resetZoomButton.hide(),delete t.resetZoomButton),t.pointer.reset(),y(t,"afterDrilldown"),t.mapView&&(t.series.forEach(t=>{t.isDirtyData=!0}),t.mapView.setView(void 0,1)),t.series.forEach(t=>{t.isDrilling=!1}),y(t,"afterApplyDrilldown")}))):e.options&&e.options._levelNumber===i&&e.remove(!1)}))}))),t.mapView||(this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),y(this,"afterDrilldown"),this.redraw(),y(this,"afterApplyDrilldown"))};const T=function(t){const e=[];return(t=t.drilldownLevels)&&t.length&&(e[0]||e.push({level:0,levelOptions:t[0].seriesOptions}),t.forEach((function(t,i){t.levelNumber+1>e[e.length-1].level&&e.push({level:t.levelNumber+1,levelOptions:b({name:t.lowerSeries.name},t.pointOptions)})}))),e};i.prototype.drillUp=function(t){if(this.drilldownLevels&&0!==this.drilldownLevels.length){y(this,"beforeDrillUp");for(var e,i,s=this,a=s.drilldownLevels,o=a[a.length-1].levelNumber,r=s.series,n=s.drilldownLevels.length,l=function(t,e){let a;if(r.forEach((function(e){e.options._ddSeriesId===t._ddSeriesId&&(a=e)})),a=a||s.addSeries(t,!1),a.type===e.type&&a.animateDrillupTo&&(a.animate=a.animateDrillupTo),t===i.seriesPurgedOptions)return a},c=t=>{t.remove(!1),s.series.forEach(t=>{t.colorAxis&&(t.isDirtyData=!0),t.options.inactiveOtherPoints=!1}),s.redraw()},h=a.length;h--;){let d,u;if(i=a[h],i.levelNumber===o){if(a.pop(),d=i.lowerSeries,!d.chart)for(e=r.length;e--;)if(r[e].options.id===i.lowerSeriesOptions.id&&r[e].options._levelNumber===o+1){d=r[e];break}d.xData=[],d.xAxis&&d.xAxis.names&&(0===n||h===n)&&(d.xAxis.names.length=0),i.levelSeriesOptions.forEach(t=>{u=l(t,d)}),y(s,"drillup",{seriesOptions:i.seriesPurgedOptions||i.seriesOptions}),u&&(u.type===d.type&&(u.drilldownLevel=i,u.options.animation=s.options.drilldown.animation,d.animateDrillupFrom&&d.chart&&d.animateDrillupFrom(i)),u.options._levelNumber=o),e=d,s.mapView||e.remove(!1),u&&u.xAxis&&(e=i.oldExtremes,u.xAxis.setExtremes(e.xMin,e.xMax,!1),u.yAxis.setExtremes(e.yMin,e.yMax,!1)),i.resetZoomButton&&(s.resetZoomButton=i.resetZoomButton),this.mapView?(e=s.options.drilldown&&s.options.drilldown.animation&&s.options.drilldown.mapZooming,i.levelNumber===o&&t?d.remove(!1):(d.dataLabelsGroup&&(d.dataLabelsGroup.destroy(),delete d.dataLabelsGroup),s.mapView&&u&&(e&&(d.isDrilling=!0,u.isDrilling=!0,s.redraw(!1),s.mapView.fitToBounds(d.bounds,void 0,!0,!1)),s.mapView.allowTransformAnimation=!0,y(s,"afterDrillUp",{seriesOptions:u?u.userOptions:void 0}),e?s.mapView.setView(void 0,1,!0,{complete:function(){Object.prototype.hasOwnProperty.call(this,"complete")&&c(d)}}):(s.mapView.allowTransformAnimation=!1,d.group?d.group.animate({opacity:0},s.options.drilldown.animation,(function(){c(d),s.mapView&&(s.mapView.allowTransformAnimation=!0)})):(c(d),s.mapView.allowTransformAnimation=!0)),u.isDrilling=!1,s.ddDupes&&(s.ddDupes.length=0),y(s,"drillupall")))):(y(s,"afterDrillUp"),this.redraw(),this.ddDupes&&(this.ddDupes.length=0),y(s,"drillupall"))}}}},v(i,"afterInit",(function(){const t=this;t.drilldown={chart:t,fadeInGroup:f,update:function(e,i){b(!0,t.options.drilldown,e),k(i,!0)&&t.redraw()}}})),v(i,"render",(function(){(this.xAxis||[]).forEach((function(t){t.ddPoints={},t.series.forEach((function(e){let i,s=e.xData||[],a=e.points;for(i=0;i<s.length;i++){var o=e.options.data[i];"number"!==typeof o&&(o=e.pointClass.prototype.optionsToObject.call({series:e},o),o.drilldown&&(t.ddPoints[s[i]]||(t.ddPoints[s[i]]=[]),o=i-(e.cropStart||0),t.ddPoints[s[i]].push(!(a&&0<=o&&o<a.length)||a[o])))}})),w(t.ticks,d.prototype.drillable)}))})),v(p,"up",(function(t){const e=this.chart;t=this.getLevel()-t.newLevel;let i=1<t;for(let s=0;s<t;s++)s===t-1&&(i=!1),e.drillUp(i)})),v(i,"afterDrilldown",(function(){var t=this.options.drilldown;t=t&&t.breadcrumbs,this.breadcrumbs||(this.breadcrumbs=new p(this,t)),this.breadcrumbs.updateProperties(T(this))})),v(i,"afterDrillUp",(function(){this.breadcrumbs&&this.breadcrumbs.updateProperties(T(this))})),v(i,"update",(function(t){const e=this.breadcrumbs,i=t.options.drilldown&&t.options.drilldown.breadcrumbs;e&&i&&e.update(t.options.drilldown.breadcrumbs)})),a.prototype.animateDrillupTo=function(t){if(!t){const t=this,e=t.drilldownLevel;this.points.forEach((function(t){const e=t.dataLabel;t.graphic&&t.graphic.hide(),e&&(e.hidden="hidden"===e.attr("visibility"),e.hidden||(e.hide(),t.connector&&t.connector.hide()))})),C((function(){if(t.points){let i=[];t.data.forEach((function(t){i.push(t)})),t.nodes&&(i=i.concat(t.nodes)),i.forEach((function(t,i){i=i===(e&&e.pointIndex)?"show":"fadeIn";const s="show"===i||void 0,a=t.dataLabel;t.graphic&&t.visible&&t.graphic[i](s),a&&!a.hidden&&(a.fadeIn(),t.connector&&t.connector.fadeIn())}))}}),Math.max(this.chart.options.drilldown.animation.duration-50,0)),delete this.animate}},a.prototype.animateDrilldown=function(t){let e,i=this,s=this.chart,a=s.drilldownLevels,o=m(s.options.drilldown.animation),r=this.xAxis,n=s.styledMode;t||(a.forEach((function(t){i.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(e=t.shapeArgs,n||(e.fill=t.color))})),e.x+=k(r.oldPos,r.pos)-r.pos,this.points.forEach((function(t){const s=t.shapeArgs;n||(s.fill=t.color),t.graphic&&t.graphic.attr(e).animate(x(t.shapeArgs,{fill:t.color||i.color}),o)})),s.drilldown&&s.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)},a.prototype.animateDrillupFrom=function(t){let e=m(this.chart.options.drilldown.animation),i=this.group,s=i!==this.chart.columnGroup,a=this;a.trackerGroups.forEach((function(t){a[t]&&a[t].on("mouseover")})),s&&delete this.group,this.points.forEach((function(o){const r=o.graphic,n=t.shapeArgs,l=function(){r.destroy(),i&&s&&(i=i.destroy())};r&&n&&(delete o.graphic,a.chart.styledMode||(n.fill=t.color),e.duration?r.animate(n,b(e,{complete:l})):(r.attr(n),l()))}))},u&&x(u.prototype,{animateDrillupTo:a.prototype.animateDrillupTo,animateDrillupFrom:a.prototype.animateDrillupFrom,animateDrilldown:function(t){const e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],i=this.chart.options.drilldown.animation;if(this.is("item")&&(i.duration=0),this.center){const s=e.shapeArgs,a=s.start,o=(s.end-a)/this.points.length,r=this.chart.styledMode;t||(this.points.forEach((function(t,n){const l=t.shapeArgs;r||(s.fill=e.color,l.fill=t.color),t.graphic&&t.graphic.attr(b(s,{start:a+n*o,end:a+(n+1)*o}))[i?"animate":"attr"](l,i)})),this.chart.drilldown&&this.chart.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)}}}),c&&x(c.prototype,{animateDrilldown(t){const e=this,i=this.chart,s=this.group;i&&s&&e.options&&(t&&i.mapView?(s.attr({opacity:.01}),i.mapView.allowTransformAnimation=!1,e.options.inactiveOtherPoints=!0,e.options.enableMouseTracking=!1):(s.animate({opacity:1},i.options.drilldown.animation,(function(){e.options&&(e.options.inactiveOtherPoints=!1,e.options.enableMouseTracking=k(e.userOptions&&e.userOptions.enableMouseTracking,!0))})),i.drilldown&&i.drilldown.fadeInGroup(this.dataLabelsGroup)))},animateDrillupFrom(){const t=this.chart;t&&t.mapView&&(t.mapView.allowTransformAnimation=!1),this.options&&(this.options.inactiveOtherPoints=!0)},animateDrillupTo(t){const e=this.chart,i=this.group;e&&i&&(t?(i.attr({opacity:.01}),this.options&&(this.options.inactiveOtherPoints=!0)):(i.animate({opacity:1},e.options.drilldown.animation),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup)))}}),n.prototype.doDrilldown=function(){this.runDrilldown()},n.prototype.runDrilldown=function(t,e,i){const s=this.series.chart,a=s.options.drilldown;let o,r=(a.series||[]).length;for(s.ddDupes||(s.ddDupes=[]);r--&&!o;)a.series[r].id===this.drilldown&&-1===s.ddDupes.indexOf(this.drilldown)&&(o=a.series[r],s.ddDupes.push(this.drilldown));y(s,"drilldown",{point:this,seriesOptions:o,category:e,originalEvent:i,points:"undefined"!==typeof e&&this.series.xAxis.getDDPoints(e).slice(0)},(function(e){const i=e.point.series&&e.point.series.chart,s=e.seriesOptions;i&&s&&(t?i.addSingleSeriesAsDrilldown(e.point,s):i.addSeriesAsDrilldown(e.point,s))}))},e.prototype.drilldownCategory=function(t,e){this.getDDPoints(t).forEach((function(i){i&&i.series&&i.series.visible&&i.runDrilldown&&i.runDrilldown(!0,t,e)})),this.chart.applyDrilldown()},e.prototype.getDDPoints=function(t){return this.ddPoints&&this.ddPoints[t]||[]},d.prototype.drillable=function(){const t=this.pos,e=this.label,i=this.axis,s="xAxis"===i.coll&&i.getDDPoints,a=s&&i.getDDPoints(t),o=i.chart.styledMode;s&&(e&&a&&a.length?(e.drillable=!0,e.basicStyles||o||(e.basicStyles=b(e.styles)),e.addClass("highcharts-drilldown-axis-label"),e.removeOnDrillableClick&&S(e.element,"click"),e.removeOnDrillableClick=v(e.element,"click",(function(e){e.preventDefault(),i.drilldownCategory(t,e)})),o||e.css(i.chart.options.drilldown.activeAxisLabelStyle)):e&&e.drillable&&e.removeOnDrillableClick&&(o||(e.styles={},e.element.removeAttribute("style"),e.css(e.basicStyles)),e.removeOnDrillableClick(),e.removeClass("highcharts-drilldown-axis-label")))},v(n,"afterInit",(function(){return this.drilldown&&!this.unbindDrilldownClick&&(this.unbindDrilldownClick=v(this,"click",I)),this})),v(n,"update",(function(t){t=t.options||{},t.drilldown&&!this.unbindDrilldownClick?this.unbindDrilldownClick=v(this,"click",I):!t.drilldown&&void 0!==t.drilldown&&this.unbindDrilldownClick&&(this.unbindDrilldownClick=this.unbindDrilldownClick())}));const I=function(t){const e=this.series;e.xAxis&&!1===e.chart.options.drilldown.allowPointDrilldown?e.xAxis.drilldownCategory(this.x,t):this.runDrilldown(void 0,void 0,t)};v(l,"afterDrawDataLabels",(function(){const t=this.chart.options.drilldown.activeDataLabelStyle,e=this.chart.renderer,i=this.chart.styledMode;this.points.forEach((function(s){const a=s.options.dataLabels,o=k(s.dlOptions,a&&a.style,{});s.drilldown&&s.dataLabel&&("contrast"!==t.color||i||(o.color=e.getContrast(s.color||this.color)),a&&a.color&&(o.color=a.color),s.dataLabel.addClass("highcharts-drilldown-data-label"),i||s.dataLabel.css(t).css(o))}),this)}));const M=function(t,e,i,s){t[i?"addClass":"removeClass"]("highcharts-drilldown-point"),s||t.css({cursor:e})};v(l,"afterDrawTracker",(function(){const t=this.chart.styledMode;this.points.forEach((function(e){e.drilldown&&e.graphic&&M(e.graphic,"pointer",!0,t)}))})),v(n,"afterSetState",(function(){const t=this.series.chart.styledMode;this.drilldown&&this.series.halo&&"hover"===this.state?M(this.series.halo,"pointer",!0,t):this.series.halo&&M(this.series.halo,"auto",!1,t)})),v(i,"drillup",(function(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())})),v(i,"drillupall",(function(){this.resetZoomButton&&this.showResetZoom()}))})),e(t,"masters/modules/drilldown.src.js",[t["Core/Globals.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"]],(function(t,e){t.Breadcrumbs=e,e.compose(t.Chart,t.defaultOptions)}))}))},"467fa":function(t,e,i){},4697:function(t,e,i){"use strict";i("d30f")},"470f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"process-sheet"}},[e("Sheet",{attrs:{width:t.formWidth,"has-footer":!t.isCustomizedWorkflow||!t.initiateProcess,"no-padding":""},on:{input:t.closeProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.isCustomizedWorkflow||"DOCUMENT"===t.workflow.initiatedBy?t._e():[t.mandatory.filledValue||t.mandatory.nonFilledValue?[e("q-circular-progress",{staticClass:"q-mr-sm",attrs:{"show-value":"","font-size":"12px",value:t.mandatoryFilling,size:"lg",thickness:.22,color:"primary","track-color":"grey-3"}},[t._v(" "+t._s(t.mandatoryFilling)+"% ")])]:t._e(),t.mandatory.filledValue?e("div",{staticClass:"chip-success q-mr-sm"},[e("div",{},[t._v(t._s(t.mandatory.filledValue)+" ready")])]):t._e(),t.mandatory.nonFilledValue?e("div",{staticClass:"chip-warning",on:{click:t.checkFormValidation}},[e("div",{},[t._v(t._s(t.mandatory.nonFilledValue)+" need to work")])]):t._e()],t.mandatoryDocument.length?[e("div",{staticClass:"chip-warning cursor-pointer",on:{click:function(e){t.attachmentSheet=!0}}},[e("div",{},[t._v(t._s(t.mandatoryDocument.length)+" document required")])])]:t._e(),t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i.id)}}})})),1)],1)],1):t._e(),t.formView||t.initiateProcess||0!==t.actions.length?t.initiateProcess||0!==t.actions.length?t._e():e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}}),t.isCustomizedWorkflow?t._e():e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i||"Decline"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formView?e("div",{attrs:{id:"form-view"}},[t.formId&&Object.keys(t.form).length?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"readonly-controls":t.readonlyControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList,"form-upload-files":t.formUploadFiles,"has-check-form-validate":t.hasCheckFormValidate},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e},"update:hasCheckFormValidate":function(e){t.hasCheckFormValidate=e},"update:has-check-form-validate":function(e){t.hasCheckFormValidate=e},uploadFiles:t.getOCRResult,mandatoryControlsList:t.mandatoryControlsList,deletedFiles:t.deletedFiles}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[t.requestFormData.length?e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.requestFormData[0].value[0].createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.requestFormData[0].value[0].createdByName)+" ")])]):t._e(),e("tr",[t.requestFormData[0].value[0].raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.requestFormData[0].value[0].raisedBy?e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.requestFormData[0].value[0].formData.fields,(function(i,s){return[i&&"[]"!=i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])]):t._e()])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),t.formId||t.itemModel.itemId?e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2):t._e()])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.formJsonId?e("div",{staticClass:"col-auto"},[e("q-chip",{staticClass:"cursor-pointer green-hover",attrs:{outline:"",color:"green"}},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])],1):t._e(),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),i.formJsonId?e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis attachment-label"},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])])]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]):t._e(),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),i.formJsonId?t._e():[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()&&!t.portal?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()&&!t.portal?[e("div",{staticClass:"row actions advance-cmd"},[t.attachmentList.length&&t.fileNames.length?[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},on:{input:t.handleAttachComment},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()]:t._e()],2),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t.processForwardGroupAction?t._e():e("span",[t._v('"'+t._s(t.selectedProcess.requestNo)+'"')]),t._v(" Process Forward")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"users",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}),e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}),t.processForwardGroupAction?e("TextAreaField",{staticClass:"field q-mt-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantGOTO()?[e("BaseButton",{attrs:{label:"Assign",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]:[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]]},proxy:!0}]),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Sheet",{attrs:{width:"40vw","has-footer":""},on:{input:t.closeJiraIssueSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" JIRA - Create Issue ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"jiraIssue",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"Issue Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"field",attrs:{label:"Issue Name","is-mandatory":"",error:i[0]},model:{value:t.issueName,callback:function(e){t.issueName=e},expression:"issueName"}})]}}])}),t._e(),t._e(),e("ValidationProvider",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"field",attrs:{label:"Description","is-mandatory":"",error:i[0]},model:{value:t.issueDescription,callback:function(e){t.issueDescription=e},expression:"issueDescription"}})]}}])}),t._e(),t._e(),t._e()],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Create Issue",color:"primary"},on:{click:t.createJiraIssue}})]},proxy:!0}]),model:{value:t.jiraIssueSheet,callback:function(e){t.jiraIssueSheet=e},expression:"jiraIssueSheet"}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"read-only":!0,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}}),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.addTask()}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.viewTask(i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),t.importExcel?e("ImportPopup",{staticClass:"row items-center q-mr-xs",attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":String(t.masterFormId)},on:{upload:function(e){return t.$refs.input.click()},close:function(e){t.dataImported=!1}}}):t._e(),e("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:t.uploadFile}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"form-check-list":t.formCheckList,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":t.workflowModel,"form-upload-files":t.formUploadFiles,"repository-field":t.repositoryField,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":t.fileNames,comments:t.commentsList,"display-internal-public":t.displayInternalPublic},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},a=[],o=(i("14d9"),i("13d5"),i("7bb1")),r=i("381e"),n=i("4bc4"),l=i("1b0d"),c=i("0cdc"),h=i("eff0"),d=i("bc3a"),u=i.n(d),p=i("dd90"),f=i("a7d2"),m=i("6a70"),g=i("cade"),v=i("c3d2"),x=i("fa1f"),y=i("ee54"),b=i("869e"),w=i("6df3"),k=i("b3d1"),S=i("9234"),C=i("695e"),A=i("b94d"),T=i("0c04"),I=i("1c54"),M=i("5e23"),L=i("abe1"),P=i("8505"),_=i("98cf"),O=i("909a"),D=i("9996"),E=i("3445"),F=i("b0ba"),B=i("ec15"),N=i("bb36"),z={name:"SubWorkflowProcess",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],MultiSelectField:v["a"],FileIcon:x["a"],ListItem:g["a"],Sheet:r["a"],RenderForm:n["a"],Confirm:I["a"],SignatureField:h["a"],Modal:m["a"],MetaDataEdit:y["a"],CheckboxField:b["a"],TextAreaField:w["a"],TextField:k["a"],SingleChoiceField:S["a"],TextBuilderField:C["a"],Tabs:A["a"],AddTask:T["a"],ImportPopup:c["a"],EmailSharing:M["a"],FileDetails:L["a"],ProcessHistory:P["a"],FormFieldLabel:E["a"],FormEntryHistory:F["a"],Attachments:B["a"],Comments:N["a"]},props:{workflowId:{type:Number,default:0},initiateSubWorkflowProcess:{type:Boolean,default:!1},mainWorkflowId:{type:Number,default:0},mainProcessId:{type:Number,default:0},subProcessLink:{type:String,default:""},selectedProcess:{type:Object,default:()=>{}},openSubProcess:{type:Boolean,default:!1},mainFormFields:{type:Array,default:()=>[]},mainFormModel:{type:Object,default:()=>{}},portal:{type:Boolean,default:!1},subProcessId:{type:Number,default:0}},data(){return{workflow:{},workflowList:[],initiate:!1,processSheet:!1,headerTitle:"",formModel:{},form:{},formId:"",formData:"",actions:[],processActionsAddOn:[],workflowFormModel:{},saveAction:"",commentsList:[],attachmentList:[],initiateProcess:!1,signList:[],formEditAccess:!1,formEditControls:[],readonlyControls:[],formVisibilityAccess:!0,formSecureControls:[],repositoryDetails:{},repositoryField:[],formWidth:"100vw",checkList:[],stageLevel:[],currentStep:0,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,formFields:[],checkListRowIndex:null,requestPrefix:"",mlPrediction:"",advancedCommentsSheet:!1,advancedCommentText:"",docWarning:!1,alertModal:!1,actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",actionComments:!1,actionConfirm:!1,actionConfirmAlert:!1,showMetaDataEditModal:!1,selectedUploadFile:{},workflowModel:{},customVerify:!1,formCheckList:!1,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],scrollPosition:0,commentsLoad:null,mailTransactionLoad:null,documentLoad:null,documentLoadList:[],uploadFilename:"",filterSearchColumn:{},selectedFilterColumn:"",watchViewerClose:null,saveOnly:!1,wform:[],userSignature:!1,dataValidationValues:[],processForwardModal:!1,forwardUsers:[],forwardGroups:[],processForwardGroupAction:!1,selectedFilter:[],filterBy:[],attachmentLoad:null,signImg:"",selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],jiraConnect:!1,jiraAccounts:[],jiraIssueSheet:!1,issueName:"",projectKey:"",issueType:"",issueDescription:"",issueEpicValue:"",issueAssignee:"",issueAssigneeUsers:[],issueDescriptionTable:!1,issueDescriptionFields:[],jiraConfirmModal:!1,issueRef:{},taskSheet:!1,itemModel:{},errorMessage:"",errorModal:!1,successModal:!1,selectedNode:"",attachmentSheet:!1,commentsSheet:!1,processId:0,tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskEntries:[],addTaskEnabled:!1,mailTab:"OUTGOING",mailTransactionSheet:!1,commentText:"",mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],userList:[],groupList:[],refreshTree:!0,loadInitial:!0,customReply:!1,userReply:!1,toRequester:!1,customCloseProcessSheet:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],activeViewLoad:null,hideColumns:[],columns:[],generatePDF:0,documentRequired:!1,hasSelectedProcess:0,hasSelectedWorkflow:0,taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntryList:[],taskMode:"",selectedTask:{},importExcel:!1,masterFormId:0,dataImported:!1,sameFormFields:[],historyProcessId:0,attachComment:!1,fileNames:[],selectedFileForAttach:0,displayInternalPublic:!1,formUploadFiles:[],mandatory:{},fileControlDeleteFile:[],hasCheckFormValidate:!1,fileUploadForControl:!1,fileUploadInput:{},metaDataUpdate:!1,metaDataModal:{},metaDataTitle:"",requestFormData:[],formView:!0,showFormEntryHistoryModal:!1,showAttachmentSheet:!1,showCommentsSheet:!1}},computed:{formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){return this.formId?this.form.panels:[]},secondaryPanels(){return this.formId?this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isMaximized(){return"100vw"===this.formWidth},_enableControls(){let t=[],e=[];return this.panels&&this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&1===this.workflow.id)return!0;return!1},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)},commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode?this.checkCommentsOption()?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 240px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 200px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 190px)":this.displayInternalPublic?"calc(100vh - 190px)":"calc(100vh - 150px)":"calc(100vh - 150px)":""},mandatoryDocument(){return this.checkList.filter(t=>t.required&&!t.attach)},mandatoryFilling(){return this.mandatory.filledValue&&this.mandatory.nonFilledValue?Math.floor(this.mandatory.filledValue/(this.mandatory.filledValue+this.mandatory.nonFilledValue)*100):this.mandatory.filledValue?100:0},request(){return this.selectedProcess}},watch:{workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&(this.initiateProcess,this.checkRequiredDocument())}},attachmentSheet:{immediate:!0,handler(){if(this.attachmentSheet&&this.selectedProcess.processId){if(this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}},commentsSheet:{immediate:!0,handler(){this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments(this.workflowId,this.selectedProcess.processId)},3e4):clearInterval(this.commentsLoad)}},mailTransactionSheet:{immediate:!0,handler(){this.mailTransactionSheet&&this.selectedProcess.processId?this.mailTransactionLoad=setInterval(()=>{this.getMailTransactions()},3e4):clearInterval(this.mailTransactionLoad)}},taskEntries:{immediate:!0,handler(){this.tabs.find(t=>{"TASK"===t.value&&(t.count=this.taskEntries.length)})}},workflowId:{immediate:!0,handler(){}},initiateSubWorkflowProcess:{immediate:!0,handler(){this.initiateSubWorkflowProcess&&this.getWorkflow()}},processSheet(){this.fileData=[],this.workflowModel={}},dataValidationValues:{immediate:!0,deep:!0,handler(){if(this.customVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.filter(t=>"Matched"!==t.status&&"Verified"!==t.status);t.length&&(this.customVerify=!0)}}},customCloseProcessSheet:{deep:!0,immediate:!0,handler(){}},subProcessLink(){this.subProcessLink&&(this.selectedNode="sent",this.showLinks(this.subProcessLink))},openSubProcess:{immediate:!0,handler(){this.openSubProcess&&(this.formId="",this.formView=!1,this.selectedProcess.inbox?(this.formView=!0,this.getWorkflow()):this.getWorkflow("process"))}},selectedProcess:{deep:!0,handler(){this.selectedProcess.processId&&(this.getAttachments(this.workflowId,this.selectedProcess.processId),this.getComments(this.workflowId,this.selectedProcess.processId))}},workflowModel:{deep:!0,handler(){this.sameFormFields.forEach(t=>{t.value&&(this.workflowModel[t.name]=t.value)})}}},created(){this.getTaskForm()},methods:{isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},checkTabAccess(t){return this.portal?"ATTACHMENTS"===t||"COMMENTS"===t:"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},reset(){this.headerTitle="",this.mandatory={},this.actions=[],this.processActionsAddOn=[],this.form={},this.formId="",this.formFields=[],this.tabs.find(t=>{t.count=0}),this.taskEntries=[],this.commentsList=[],this.attachmentList=[],this.initiateProcess=!0,this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.readonlyControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[],this.importExcel=!1},async getWorkflow(t){this.reset(),this.processSheet=!0,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await l["t"].getWorkflow(this.workflowId);e?this.$alert.error(e):(this.workflow=i,this.selectedNode=t?"sent":"inbox",this.selectedProcess.inbox?await this.openProcess(!1):await this.openProcess(!t),this.$store.commit("hideLoadingBarSave"))},closeProcessSheet(){this.processSheet=!1,this.saveAction="",this.workflowFormModel={},this.requestFormData=[],this.formView=!0,this.$emit("closeProcessSheet")},getLabel(t){let e="";return Object.keys(this.form).length&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async openProcess(t=!1){if(this.getRepository(),t){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(console.log(e.settings.fileSettings),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}else"MANUAL_AUTOMATIC"===e.settings.initiateMode&&(e.settings.users.indexOf(this.$store.state.session.id)>-1||e.settings.users.indexOf("0")>-1)&&e.settings.initiateBy.indexOf("MASTER_FORM")>-1&&(this.importExcel=!0,this.masterFormId=e.settings.masterFormId);if(this.generatePDF=e.settings.generatePDF?1:0,this.documentRequired=e.settings.documentRequired||!1,e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}}else this.checkList=[]}}else{if(this.getFormDetails(),"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){this.formEditAccess=!1;let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e){if(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}if(e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.actions.indexOf(t.proceedAction)<0&&(this.actions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))})}else this.checkList=[]}}else this.formEditAccess=!0;this.initiateProcess=!1,this.getModel(this.selectedProcess.processId);let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.dataValidation(this.selectedProcess.processId,!1),"https://edmsuat.sobhaapps.com"===t&&55===this.workflow.id&&(this.formEditAccess=!0),this.loadProcessLinks()}this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),await this.getForm(t,this.workflow.wFormId))},async getFormDetails(){this.$store.commit("showLoadingBarPage");let t=this.selectedProcess.requestNo;const{error:e,payload:i}=await l["o"].getWorkflowData(this.selectedProcess.id,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s}=i;this.$store.commit("hideLoadingBarPage");let a=s||[];if(a[0].value[0].formData){let t=Object.keys(a[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(a[0].value[0].formData.fields[t])}),this.requestFormData=a,this.formModel=a[0].value[0].formData.fields}e&&this.$alert.error(e)},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await l["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else{if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}this.$emit("attachmentLength",this.attachmentList.length)}},async getForm(t){const{error:e,payload:i}=await l["g"].getForm(this.formId);if(e)this.$alert.error(e);else if(i){this.wform=i,this.form=JSON.parse(this.wform.formJson),t||"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB");let e=JSON.parse(this.wform.formJson);const s=[...e.panels,...e.secondaryPanels];if(!s.length)return;let a=[];for(const t of s)a.push(...t.fields);a.forEach(t=>{"DIVIDER"===t.type||"LABEL"===t.type||"PARAGRAPH"===t.type||!t.label&&"TABLE"!==t.type||"DISABLE"===t.settings.general.visibility||this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings})}),this.sameFormFields=[],this.mainFormFields.forEach(t=>{let e=this.formFields.findIndex(e=>t.label===e.label);e>-1&&this.sameFormFields.push({id:this.$nano.id(),index:e,label:t.label,name:this.formFields[e].value,value:this.mainFormModel[t.value]})})}},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflow.id}/${t}`},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");return"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&action=all`:"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments.value=null},async showLinks(t){if("ATTACHMENTS"===t)this.showAttachmentSheet=!0;else if("COMMENTS"===t){if(this.displayInternalPublic=!1,!this.portal){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);e&&e.settings.initiateBy.indexOf("PORTAL")>-1&&(this.displayInternalPublic=!0),this.fileNames=[],this.fileNames=this.attachmentList.filter(t=>{let e=t.name.split(".").pop().toUpperCase();return"pdf"===e.toLowerCase()}).map(t=>({id:this.$nano.id(),label:t.name,value:t.id}))}this.showCommentsSheet=!0}else"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},validateType(t){let e="";return this.panels&&this.panels.length&&this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},async getFileData(t,e){const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:r}=await l["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r),this.jiraCommentAction=1},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflow.id),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),this.formData=a,e?(a.append("fields",e),this.formData=e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(p["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(p["a"])(r))return void this.$alert.info("This file format is not supported");try{const i=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let h=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),d=this.fileData.find(t=>t.name===h.name),p=!1;"pdf"!==r.toLowerCase()&&(p=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?d.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:p}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async uploadWflowAttachments(t){if(this.fileUploadForControl=!1,"STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;this.showMetaDataEditModal=!0}else this.uploadAttachments(t)},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflow.id||2092===this.workflow.id)&&0===this.attachmentList.length},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},toggleWidth(){this.formWidth="100vw"===this.formWidth?"50vw":"100vw"},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})),this.$emit("commentsLength",this.commentsList.length))},async saveComment(){if(this.commentText)if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)});this.actionComments&&this.processRequest(!1,!1)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(f["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(p["d"])(e))s="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="";"inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(i="&action=all");let s="";if(Object(p["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(p["c"])(e)?t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${i}`}}},closeTaskSheet(){this.taskSheet=!1},closeJiraIssueSheet(){this.issueName="",this.projectKey="",this.issueType="",this.issueDescription="",this.issueEpicValue="",this.issueAssignee="",this.issueDescriptionTable=!1,this.issueDescriptionFields=[],this.jiraIssueSheet=!1},loadProcessLinks(){this.getComments(),this.getAttachments(),this.getProcessSignature(),this.getMailTransactions()},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await l["t"].getProcessSignature(this.workflow.id,this.selectedProcess.processId);t?this.$alert.error(t):this.signList=e},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length-1)}),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await l["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getAppConnection(){this.jiraConnect=!1;const{error:t,payload:e}=await l["j"].getJiraConnection({filterBy:[]});t?this.$alert.error(t):e.forEach(t=>{"jira"===t.cloudName&&(this.jiraConnect=!0,this.jiraAccounts.push(t))})},async createJiraIssue(){this.issueRef={};const t=await this.$refs.form.validate();if(!t)return;let e=[],i="",s="",a=0;this.groupKey.forEach(t=>{if(t.checked)return e=[],void(i=t.name)}),""===i&&(this.workflowRequestList.forEach(t=>{t.checked&&e.push(t.transactionId)}),this.issueDescriptionTable&&(s="||Action Taken (Mandatory)",this.issueDescriptionFields.forEach(t=>{s+="||"+t}),s+="||\n",this.workflowRequestList.forEach(t=>{t.checked&&(s+="|| ",this.issueDescriptionFields.forEach(e=>{var i;let o=null===(i=this.formFields.find(t=>t.label===e))||void 0===i?void 0:i.value;"Savings"===e?t.formData.fields[o]?(s+="||"+Number(t.formData.fields[o]).toFixed(2),a+=Number(t.formData.fields[o])):s+="|| ":t.formData.fields[o]?s+="||"+t.formData.fields[o]:s+="|| "}),s+="||\n")}),s+="Potential Savings: "+a.toFixed(2)+"\n"));let o={};o=this.jiraAccounts[0].email?{fields_cloud:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:{content:[{content:[{text:this.issueDescription+s,type:"text"}],type:"paragraph"}],type:"doc",version:1}}},cloudIntegrationId:this.jiraAccounts[0].id}:{fields_onpremise:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:this.issueDescription+s,customfield_14635:{value:"No"},customfield_15136:{value:"Maintenance"}}},cloudIntegrationId:this.jiraAccounts[0].id,workflowId:this.workflow.id,transactionId:e,mlPrediction:i,assignee:this.issueAssignee?{name:this.issueAssignee}:{},filterBy:this.filterBy},this.$store.commit("showLoadingBar");const{error:r,payload:n}=await l["j"].createJiraIssue(o);if(this.$store.commit("hideLoadingBar"),r){this.$alert.warning("error creating issue in jira");let t=JSON.parse(r);return console.log(t),this.errorMessage=t.errorMessages,void(this.errorModal=!0)}if(i)this.successModal=!0;else{if(!n)return void this.$alert.warning("error creating issue in jira");this.issueRef=JSON.parse(n),this.issueRef.self=this.getJIRALink(this.issueRef),this.$alert.success("Issue Created in JIRA"),this.jiraConfirmModal=!0}this.closeJiraIssueSheet()},async insertJiraIssueComment(){var t,e;let i="",s="";if(i=null===(t=this.formFields.find(t=>"Reference ID"===t.label))||void 0===t?void 0:t.value,s=null===(e=this.formFields.find(t=>"Remarks"===t.label))||void 0===e?void 0:e.value,this.workflowFormModel[i]&&this.workflowFormModel[s]){this.$store.commit("showLoadingBar");let t={};t=this.jiraAccounts[0].email?{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_cloud:{body:this.workflowFormModel[s]}}:{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_onpremise:{body:this.workflowFormModel[s]}};const{error:e,payload:a}=await l["j"].insertJiraIssueComments(t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);console.log(a)}},async getJiraUsers(){this.issueAssigneeUsers=[];const{error:t,payload:e}=await l["j"].getJiraUsers({cloudIntegrationId:this.jiraAccounts[0].id});t?this.$alert.error(t):e.length&&e.forEach(t=>{this.issueAssigneeUsers.push({id:t.key,label:t.displayName,value:t.name})})},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy));let a=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let e=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&e.push(t.fileId)}),e.length&&a.push({jsonId:t.value,fileIds:e}),delete this.workflowFormModel[t.value]}}),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel,formUpload:a},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},this.saveOnly||this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.saveOnly||this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),this.saveOnly?this.saveOnly=!1:(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.customReply=!1,this.userReply=!1,this.toRequester=!1,this.closeProcessSheet()),this.fileControlDeleteFile.length&&(this.fileControlDeleteFile.forEach(t=>{this.fileControlDeletedFile(t)}),this.fileControlDeleteFile=[]))},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{if(this.documentRequired&&0===this.attachmentList.length)return this.$alert.warning("A minimum of one document is required for submission"),this.saveAction="",void(this.workflowFormModel={});let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.initiateProcess?this.initiateRequest():this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},async groupProcessRequest(){let t=[],e="";this.workflowRequestList.forEach(e=>{e.key===this.groupActionKey&&e.checked&&t.push(e.transactionId)}),this.groupKey.forEach(i=>{if(i.checked)return t=[],void(e=i.name)});let i={workflowId:this.workflow.id,transactionId:t,review:"Save"===this.saveAction?"":this.saveAction,fields:this.workflowFormModel,mlPrediction:e,comments:this.commentText,userIds:this.forwardUsers,groupIds:this.forwardGroups,filterBy:this.filterBy};const{error:s}=await l["t"].groupRequestAction(i);this.$store.commit("hideLoadingBar"),s?this.$alert.error(s):(await this.insertJiraIssueComment(),this.saveAction="",this.workflowFormModel={},this.forwardUsers=[],this.forwardGroups=[],this.$alert.success("Group Request Processed"),this.closeRequestActionModal(),this.$emit("refresh",this.workflow.id))},async initiateRequest(){let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)});let e=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let i=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&i.push(t.fileId)}),i.length&&e.push({jsonId:t.value,fileIds:i}),delete this.workflowFormModel[t.value]}});let i={workflowId:this.workflow.id,review:"Save"===this.saveAction?"":this.saveAction,comments:this.commentsList,formData:{formId:this.formId,fields:this.workflowFormModel,formUpload:e},fileIds:t,task:this.taskEntryId,hasFormPDF:this.generatePDF,prefix:this.requestPrefix,mlPrediction:this.mlPrediction};this.$store.commit("showLoadingBarSave");const{error:s,payload:a}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.workflowFormModel={},this.alertModal=!1,s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(a),this.$alert.success(a.requestNo+" Request Initiated"),this.mainProcessId?this.addSubWorkflowProcess(a.processId):this.$emit("update:subProcessId",a.processId),this.closeProcessSheet())},saveMetaData(t){let e=[];if(this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(D["a"])(e.label)===Object(D["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.fileUploadForControl){this.metaDataModal=t;let i=this.fileUploadInput;this.uploadFilesFromForm(i.files,i.control,i.fieldId,JSON.stringify(e))}else this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async getTaskList(){this.taskEntries=[];const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async insertTaskEntry(t,e){const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});i?this.$alert.error(i):this.getTaskList()},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},async uploadFile(t){const e=t.target.files[0];if("text/csv"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type){const s=new FormData;s.append("formId",this.masterFormId),s.append("file",e);try{this.$store.commit("showLoadingBarSave");const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/form/uploadMasterFile",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBarSave");const{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Data imported successfully")}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.dataImported=!0,t.target.value=""}else this.$alert.error("Please upload a csv/excel file")},async addSubWorkflowProcess(t){let e={mainWorkflowId:this.mainWorkflowId,subWorkflowId:this.workflowId,mainProcessId:this.mainProcessId,subProcessId:t,subProcessStatus:0,review:""};const{error:i}=await l["t"].addSubWorkflow(e);i?this.$alert.error(i):this.updateSubWorkflowProcess()},getModel(t){if(this.formModel={},this.itemModel={},console.log(this.selectedProcess.processId,t,this.selectedProcess.id,this.workflow.id),this.selectedProcess.processId==t&&this.selectedProcess.id==this.workflow.id)if(this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stageName}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData)},async dataValidation(t,e=!0){const{error:i,payload:s}=await l["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:t}],groupCondition:""}],mode:"BROWSE"});i?this.$alert.error(i):s.length?(this.dataValidationValues=s,e&&(this.dataValidationModal=!0)):(this.dataValidationValues=[],e&&this.$alert.info("Data not found"))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(p["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async updateSubWorkflowProcess(){const{error:t,payload:e}=await l["q"].updateSubWorkflowProcess(this.mainWorkflowId,this.$store.state.session.tenantId,this.workflowId);t?this.$alert.error(t):console.log(e)},async uploadFilesFromForm(t,e,i,s){this.formUploadFiles=[];const a=new FormData;let o=[];if(e&&e.length&&e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&o.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t)if(e.name&&!e.error){a.append("repositoryId",this.workflow.repositoryId),a.append("file",e),a.append("filename",e.name),o.length&&a.append("formFields",JSON.stringify(o)),s?a.append("fields",s):a.append("fields","");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),this.workflowModel[i][a].uploadedPercentage=s)}.bind(this)}),{status:s,data:o}=t;if(200!==s)throw"Invalid response";e.createdAt=this.$day.newDateTime(),e.createdBy=this.$store.state.session.email;let r=JSON.parse(o);e.fileId=r.fileId,e.fieldId=i}catch(r){console.error(r),this.$alert.error("error attaching file")}}let n=Array.from(t);this.formUploadFiles=[];for(let t of n)if(t.name){const e=await Object(_["a"])(t);this.formUploadFiles.push({name:t.name,size:t.size,file:e,fileId:t.fileId,createdBy:t.createdBy,createdAt:t.createdAt,workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,fieldId:t.fieldId})}e.forEach(t=>{let e=this.readonlyControls.findIndex(e=>e===t);e>=0&&this.readonlyControls.splice(e,1)}),this.$store.commit("hideLoadingBarSave")}},mandatoryControlsList(t){this.mandatory=t},deletedFiles(t){this.fileControlDeleteFile.push(t)},async fileControlDeletedFile(t){this.$store.commit("showLoadingBar");let e=[];t.forEach(t=>{t.id&&e.push(t.id)});let i={ids:e,formInfo:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,jsonId:t[0].jsonId}};const{error:s}=await l["p"].fileControlDeleteFile(this.workflow.repositoryId,i);this.$store.commit("hideLoadingBar"),s&&this.$alert.error(s)},async checkFormValidation(){this.hasCheckFormValidate=!0},async getOCRResult(t,e,i){const s=new FormData;let a=[];if(e&&e.length){if(e.forEach(t=>{this.readonlyControls.push(t)}),e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&a.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t){if(e.name&&!e.error){s.append("repositoryId",this.workflow.repositoryId),s.append("file",e),a.length&&s.append("formFields",JSON.stringify(a));try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/uploadforStaticMetadata",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),100!==s&&(this.workflowModel[i][a].uploadedPercentage=s))}.bind(this)}),{status:a,data:o}=t;if(200!==a)throw"Invalid response";let r=Object(O["a"])(o,this.$store.state.identity.key,this.$store.state.identity.iv),n=JSON.parse(r),l=JSON.parse(n),c=JSON.parse(l);Array.isArray(c)&&c.forEach(t=>{let e=this.formFields.find(e=>e.label===t.name);e&&t.value&&(this.workflowModel[e.value]=t.value)})}catch(o){console.error(o),this.$alert.error("error on get ocr result")}}this.workflowModel[i].findIndex(t=>t.name===e.name)}this.$store.commit("hideLoadingBarSave"),this.uploadFileForControl(t,e,i)}}else this.uploadFileForControl(t,e,i)},async uploadFileForControl(t,e,i){if(this.fileUploadInput={files:t,control:e,fieldId:i},"STATIC"===this.repositoryDetails.fieldsType){if(this.fileUploadForControl=!1,this.customCheckUpload()){let t=this.formFields.find(t=>"Document No"===t.label);t&&(this.uploadFilename=this.workflowModel[t.value]+".pdf")}this.fileUploadForControl=!0,this.showMetaDataEditModal=!0}else this.uploadFilesFromForm(t,e,i)},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await l["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})}}},R=z,$=(i("e98d"),i("5ab0"),i("2877")),H=i("58ea"),W=i("4e73"),j=i("b047"),X=i("cb32"),Y=i("8169"),V=i("93dc"),q=i.n(V),G=Object($["a"])(R,s,a,!1,null,"5b96b9ec",null);e["a"]=G.exports;q()(G,"components",{QCircularProgress:H["a"],QMenu:W["a"],QChip:j["a"],QAvatar:X["a"],QChatMessage:Y["a"]})},4759:function(t,e,i){},"48b9":function(t,e,i){},"4d38":function(t,e,i){},"4ddc":function(t,e,i){},"4f21":function(t,e,i){},5042:function(t,e,i){},"50ff":function(t,e,i){},5132:function(t,e,i){"use strict";var s=i("2250"),a=i("4dc8");function o(t,e){e=Object(s["a"])(e,t);var i=0,o=e.length;while(null!=t&&i<o)t=t[Object(a["a"])(e[i++])];return i&&i==o?t:void 0}e["a"]=o},"56e0":function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Series/NodesComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:i,prototype:{pointClass:{prototype:s}}}}=t,{defined:a,extend:o,find:r,merge:n,pick:l}=e;var c;return function(t){function c(){return this.data=[].concat(this.points||[],this.nodes),i.destroy.apply(this,arguments)}function h(){this.nodes&&(this.nodes.forEach(t=>{t.destroy()}),this.nodes.length=0),i.setData.apply(this,arguments)}function d(t){const e=arguments,i=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==t&&i.forEach(t=>{t&&t.series&&(s.setState.apply(t,e),t.isNode||(t.fromNode.graphic&&s.setState.apply(t.fromNode,e),t.toNode&&t.toNode.graphic&&s.setState.apply(t.toNode,e)))}),s.setState.apply(this,e)}function u(t,e,i,a){const o=this.series.options.nodes,r=this.series.options.data,c=r&&r.length||0,h=r&&r[this.index];s.update.call(this,t,!this.isNode&&e,i,a),this.isNode&&(t=(o||[]).reduce((t,e,i)=>this.id===e.id?i:t,-1),a=n(o&&o[t]||{},r&&r[this.index]||{}),r&&(h?r[this.index]=h:r.length=c),o?0<=t?o[t]=a:o.push(a):this.series.options.nodes=[a],l(e,!0)&&this.series.chart.redraw(i))}const p=[];t.compose=function(t,i){return e.pushUnique(p,t)&&(t=t.prototype,t.setNodeState=d,t.setState=d,t.update=u),e.pushUnique(p,i)&&(t=i.prototype,t.destroy=c,t.setData=h),i},t.createNode=function(t){const e=this.pointClass;var i=(t,e)=>r(t,t=>t.id===e);let s=i(this.nodes,t);if(!s){i=this.options.nodes&&i(this.options.nodes,t);const a=(new e).init(this,o({className:"highcharts-node",isNode:!0,id:t,y:1},i));a.linksTo=[],a.linksFrom=[],a.getSum=function(){let t=0,e=0;return a.linksTo.forEach(e=>{t+=e.weight||0}),a.linksFrom.forEach(t=>{e+=t.weight||0}),Math.max(t,e)},a.offset=function(t,e){let i=0;for(let s=0;s<a[e].length;s++){if(a[e][s]===t)return i;i+=a[e][s].weight}},a.hasShape=function(){let t=0;return a.linksTo.forEach(e=>{e.outgoing&&t++}),!a.linksTo.length||t!==a.linksTo.length},a.index=this.nodes.push(a)-1,s=a}return s.formatPrefix="node",s.name=s.name||s.options.id||"",s.mass=l(s.options.mass,s.options.marker&&s.options.marker.radius,this.options.marker&&this.options.marker.radius,4),s},t.destroy=c,t.generatePoints=function(){const t=this.chart,e={};i.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(t=>{t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level}),this.points.forEach(i=>{a(i.from)&&(e[i.from]||(e[i.from]=this.createNode(i.from)),e[i.from].linksFrom.push(i),i.fromNode=e[i.from],t.styledMode?i.colorIndex=l(i.options.colorIndex,e[i.from].colorIndex):i.color=i.options.color||e[i.from].color),a(i.to)&&(e[i.to]||(e[i.to]=this.createNode(i.to)),e[i.to].linksTo.push(i),i.toNode=e[i.to]),i.name=i.name||i.id},this),this.nodeLookup=e},t.setNodeState=d,t.updateNode=u}(c||(c={})),c})),e(t,"Series/Sankey/SankeyPoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){({seriesTypes:{column:e}}=e);const{defined:s}=i;class a extends e.prototype.pointClass{constructor(){super(...arguments),this.toNode=this.series=this.options=this.nodeY=this.nodeX=this.mass=this.linksTo=this.linksFrom=this.linkBase=this.level=this.fromNode=this.className=void 0}applyOptions(e,i){return t.prototype.applyOptions.call(this,e,i),s(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+t.prototype.getClassName.call(this)}getFromNode(){let t,e=-1;for(let i=0;i<this.linksTo.length;i++){const s=this.linksTo[i];s.fromNode.column>e&&s.fromNode!==this&&(t=s.fromNode,e=t.column)}return{fromNode:t,fromColumn:e}}setNodeColumn(){s(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"===typeof this.weight}}return a})),e(t,"Series/Sankey/SankeySeriesDefaults.js",[],(function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} → {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}})),e(t,"Series/Sankey/SankeyColumnComposition.js",[t["Core/Utilities.js"]],(function(t){const{defined:e,relativeLength:i}=t;var s;return function(t){t.compose=function(t,e){return t.sankeyColumn=new s(t,e),t};class s{constructor(t,e){this.points=t,this.series=e}getTranslationFactor(t){const e=this.points,i=e.slice(),s=t.options.minLinkWidth||0;let a,o=0,r=(t.chart.plotSizeY||0)-(t.options.borderWidth||0)-(e.length-1)*t.nodePadding;for(;e.length;){for(o=r/e.sankeyColumn.sum(),t=!1,a=e.length;a--;)e[a].getSum()*o<s&&(e.splice(a,1),r-=s,t=!0);if(!t)break}return e.length=0,i.forEach(t=>{e.push(t)}),o}top(t){const e=this.series,i=e.nodePadding,s=this.points.reduce((function(s,a){return 0<s&&(s+=i),a=Math.max(a.getSum()*t,e.options.minLinkWidth||0),s+a}),0);return((e.chart.plotSizeY||0)-s)/2}left(t){const e=this.series,i=e.chart,s=e.options.equalNodes,a=i.inverted?i.plotHeight:i.plotWidth,o=e.nodePadding,r=this.points.reduce((function(i,r){return 0<i&&(i+=o),r=s?a/r.series.nodes.length-o:Math.max(r.getSum()*t,e.options.minLinkWidth||0),i+r}),0);return((i.plotSizeX||0)-Math.round(r))/2}sum(){return this.points.reduce((function(t,e){return t+e.getSum()}),0)}offset(t,s){const a=this.points,o=this.series,r=o.nodePadding;let n=0;if(o.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(let c=0;c<a.length;c++){var l=a[c].getSum();const h=Math.max(l*s,o.options.minLinkWidth||0),d=t.options[o.chart.inverted?"offsetHorizontal":"offsetVertical"],u=t.options.offset||0;if(l=l?h+r:0,a[c]===t)return{relativeTop:n+(e(d)?i(d,h):i(u,l))};n+=l}}}t.SankeyColumnAdditions=s}(s||(s={})),s})),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){function i(t,e){var a=e.before;const o=e.idRoot,r=e.mapIdToNode[o],n=e.points[t.i],c=n&&n.options||{},h=[];let d=0;return t.levelDynamic=t.level-(!1!==e.levelIsConstant?0:r.level),t.name=l(n&&n.name,""),t.visible=o===t.id||!0===e.visible,"function"===typeof a&&(t=a(t,e)),t.children.forEach((a,o)=>{const r=s({},e);s(r,{index:o,siblings:t.children.length,visible:t.visible}),a=i(a,r),h.push(a),a.visible&&(d+=a.val)}),a=l(c.value,d),t.visible=0<=a&&(0<d||t.visible),t.children=h,t.childrenTotal=d,t.isLeaf=t.visible&&!d,t.val=a,t}const{extend:s,isArray:a,isNumber:o,isObject:r,merge:n,pick:l}=e;return{getColor:function(e,i){const s=i.index;var a=i.mapOptionsToLevel;const o=i.parentColor,r=i.parentColorIndex,n=i.series;var c=i.colors;const h=i.siblings;var d=n.points,u=n.chart.options.chart;let p;var f;let m;if(e){if(d=d[e.i],e=a[e.level]||{},a=d&&e.colorByPoint){p=d.index%(c?c.length:u.colorCount);var g=c&&c[p]}n.chart.styledMode||(c=d&&d.options.color,u=e&&e.color,(f=o)&&(f=(f=e&&e.colorVariation)&&"brightness"===f.key&&s&&h?t.parse(o).brighten(s/h*f.to).get():o),f=l(c,u,g,f,n.color)),m=l(d&&d.options.colorIndex,e&&e.colorIndex,p,r,i.colorIndex)}return{color:f,colorIndex:m}},getLevelOptions:function(t){let e,i,s,c={};if(r(t)){s=o(t.from)?t.from:1;var h=t.levels;for(i={},e=r(t.defaults)?t.defaults:{},a(h)&&(i=h.reduce((t,i)=>{let a,c;return r(i)&&o(i.level)&&(c=n({},i),a=l(c.levelIsConstant,e.levelIsConstant),delete c.levelIsConstant,delete c.level,i=i.level+(a?0:s-1),r(t[i])?n(!0,t[i],c):t[i]=c),t},{})),h=o(t.to)?t.to:1,t=0;t<=h;t++)c[t]=n({},e,r(i[t])?i[t]:{})}return c},setTreeValues:i,updateRootId:function(t){if(r(t)){var e=r(t.options)?t.options:{};e=l(t.rootNode,e.rootId,""),r(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Series/Sankey/SankeySeries.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Series/NodesComposition.js"],t["Series/Sankey/SankeyPoint.js"],t["Series/Sankey/SankeySeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Sankey/SankeyColumnComposition.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l){const{series:c,seriesTypes:{column:h}}=o,{getLevelOptions:d}=n,{extend:u,isObject:p,merge:f,pick:m,relativeLength:g,stableSort:v}=l;class x extends h{constructor(){super(...arguments),this.translationFactor=this.points=this.options=this.nodeWidth=this.nodes=this.nodePadding=this.nodeLookup=this.group=this.data=this.colDistance=void 0}static getDLOptions(t){const e=p(t.optionsPoint)?t.optionsPoint.dataLabels:{};return t=p(t.level)?t.level.dataLabels:{},f({style:{}},t,e)}createNodeColumns(){const t=[];this.nodes.forEach((function(e){e.setNodeColumn(),t[e.column]||(t[e.column]=r.compose([],this)),t[e.column].push(e)}),this);for(let e=0;e<t.length;e++)"undefined"===typeof t[e]&&(t[e]=r.compose([],this));return t}order(t,e){const i=this;"undefined"===typeof t.level&&(t.level=e,t.linksFrom.forEach((function(t){t.toNode&&i.order(t.toNode,e+1)})))}generatePoints(){i.generatePoints.apply(this,arguments);const t=this;this.orderNodes&&(this.nodes.filter((function(t){return 0===t.linksTo.length})).forEach((function(e){t.order(e,0)})),v(this.nodes,(function(t,e){return t.level-e.level})))}getNodePadding(){let t=this.options.nodePadding||0;if(this.nodeColumns){const e=this.nodeColumns.reduce((t,e)=>Math.max(t,e.length),0);e*t>this.chart.plotSizeY&&(t=this.chart.plotSizeY/e)}return t}hasData(){return!!this.processedXData.length}pointAttribs(e,i){if(!e)return{};const s=this,a=s.mapOptionsToLevel[(e.isNode?e.level:e.fromNode.level)||0]||{},o=e.options,r=a.states&&a.states[i||""]||{};i=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((function(t,e){return t[e]=m(r[e],o[e],a[e],s.options[e]),t}),{});const n=m(r.color,o.color,i.colorByPoint?e.color:a.color);return e.isNode?{fill:n,stroke:i.borderColor,"stroke-width":i.borderWidth,opacity:i.opacity}:{fill:t.parse(n).setOpacity(i.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=g(this.options.nodeWidth,this.chart.plotSizeX);const t=this,e=this.chart,i=this.options,s=this.nodeWidth,a=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=a.reduce((e,i)=>Math.min(e,i.sankeyColumn.getTranslationFactor(t)),1/0),this.colDistance=(e.plotSizeX-s-i.borderWidth)/Math.max(1,a.length-1),t.mapOptionsToLevel=d({from:1,levels:i.levels,to:a.length-1,defaults:{borderColor:i.borderColor,borderRadius:i.borderRadius,borderWidth:i.borderWidth,color:t.color,colorByPoint:i.colorByPoint,levelIsConstant:!0,linkColor:i.linkColor,linkLineWidth:i.linkLineWidth,linkOpacity:i.linkOpacity,states:i.states}}),a.forEach((function(e){e.forEach((function(i){t.translateNode(i,e)}))}),this),this.nodes.forEach((function(e){e.linksFrom.forEach((function(e){(e.weight||e.isNull)&&e.to&&(t.translateLink(e),e.allowShadow=!1)}))}))}translateLink(t){var e=(e,i)=>(i=e.offset(t,i)*o,Math.min(e.nodeY+i,e.nodeY+(e.shapeArgs&&e.shapeArgs.height||0)-r));let i=t.fromNode;var s=t.toNode;let a=this.chart,o=this.translationFactor,r=Math.max(t.weight*o,this.options.minLinkWidth);var n=(a.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor;let l=e(i,"linksFrom");e=e(s,"linksTo");let c=i.nodeX,h=this.nodeWidth;s=s.nodeX;var d=t.outgoing,u=s>c+h;if(a.inverted&&(l=a.plotSizeY-l,e=(a.plotSizeY||0)-e,h=-h,r=-r,u=c>s),t.shapeType="path",t.linkBase=[l,l+r,e,e+r],u&&"number"===typeof e)t.shapeArgs={d:[["M",c+h,l],["C",c+h+n,l,s-n,e,s,e],["L",s+(d?h:0),e+r/2],["L",s,e+r],["C",s-n,e+r,c+h+n,l+r,c+h,l+r],["Z"]]};else if("number"===typeof e){n=s-20-r,d=s-20,u=c+h;const i=u+20,o=i+r,p=l,f=l+r,m=f+20,g=m+(a.plotHeight-l-r),v=g+20,x=v+r,y=e,b=y+r,w=b+20,k=v+.7*r,S=s-.7*r,C=u+.7*r;t.shapeArgs={d:[["M",u,p],["C",C,p,o,f-.7*r,o,m],["L",o,g],["C",o,k,C,x,u,x],["L",s,x],["C",S,x,n,k,n,g],["L",n,w],["C",n,b-.7*r,S,y,s,y],["L",s,b],["C",d,b,d,b,d,w],["L",d,g],["C",d,v,d,v,s,v],["L",u,v],["C",i,v,i,v,i,g],["L",i,m],["C",i,f,i,f,u,f],["Z"]]}}t.dlBox={x:c+(s-c+h)/2,y:l+(e-l)/2,height:r,width:0},t.tooltipPos=a.inverted?[a.plotSizeY-t.dlBox.y-r/2,a.plotSizeX-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+r/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=i.color)}translateNode(t,e){var i=this.translationFactor;const s=this.chart,a=this.options,{borderRadius:o,borderWidth:r=0}=a;var n=t.getSum();const l=Math.max(Math.round(n*i),this.options.minLinkWidth),c=Math.round(this.nodeWidth);var h=Math.round(r)%2/2,d=e.sankeyColumn.offset(t,i);if(e=Math.floor(m(d.absoluteTop,e.sankeyColumn.top(i)+d.relativeTop))+h,h=Math.floor(this.colDistance*t.column+r/2)+g(t.options.offsetHorizontal||0,c)+h,h=s.inverted?s.plotSizeX-h:h,t.sum=n){t.shapeType="roundedRect",t.nodeX=h,t.nodeY=e,n=h,i=e,d=t.options.width||a.width||c;let r=t.options.height||a.height||l;const u=g("object"===typeof o?o.radius:o||0,d);s.inverted&&(n=h-c,i=s.plotSizeY-e-l,d=t.options.height||a.height||c,r=t.options.width||a.width||l),t.dlOptions=x.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options}),t.plotX=1,t.plotY=1,t.tooltipPos=s.inverted?[s.plotSizeY-i-r/2,s.plotSizeX-n-d/2]:[n+d/2,i+r/2],t.shapeArgs={x:n,y:i,width:d,height:r,r:u,display:t.hasShape()?"":"none"}}else t.dlOptions={enabled:!1}}}return x.defaultOptions=f(h.defaultOptions,a),i.compose(s,x),u(x.prototype,{animate:c.prototype.animate,createNode:i.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:s,searchPoint:e.noop}),o.registerSeriesType("sankey",x),x})),e(t,"masters/modules/sankey.src.js",[],(function(){}))}))},"5ab0":function(t,e,i){"use strict";i("a945")},"5d0b":function(t,e,i){},"5e23":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":!0,"has-footer":"",width:"650px"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Document Sharing By Email")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"document-sharing-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("BaseScrollbar",{attrs:{height:"calc(100vh - 170px)"}},[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"to",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"to","is-mandatory":"","new-option":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("ValidationProvider",{attrs:{name:"subject",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"subject","is-mandatory":"",error:i[0]},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})]}}])}),"attach link"===t.tab?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm"},[e("ValidationProvider",{attrs:{name:"Expiry from Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry from Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})]}}],null,!1,714078504)})],1),e("div",{staticClass:"col-6 q-pl-sm"},[e("ValidationProvider",{attrs:{name:"Expiry to Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry to Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})]}}],null,!1,738413864)})],1)])]:t._e(),t._l(t.fileList,(function(i){return[e("q-chip",{key:i.id,staticClass:"chips secondary-hover cursor-pointer",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{attrs:{icon:"mdi-file",color:"secondary","text-color":"white"},on:{click:function(e){return t.remove(i.id)}}}),t._v(" "+t._s(i.name)+" "),e("q-avatar",{staticClass:"close-icon",attrs:{icon:"mdi-close","text-color":"red"},on:{click:function(e){return t.remove(i.id)}}})],1)]})),e("TextBuilderField",{model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],2)])],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:function(e){return t.$emit("input",!1)}}}),e("BaseButton",{attrs:{label:"send"},on:{click:t.documentShare}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("381e"),n=i("b94d"),l=i("b3d1"),c=i("53c1"),h=i("c3d2"),d=i("695e"),u=i("1b0d"),p={name:"EmailSharing",components:{Sheet:r["a"],ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:l["a"],Tabs:n["a"],DateField:c["a"],MultiSelectField:h["a"],TextBuilderField:d["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},fileList:{type:Array,default:()=>[]}},data(){return{tab:"attach file",tabs:[{id:this.$nano.id(),label:"attach file",value:"attach file"},{id:this.$nano.id(),label:"attach link",value:"attach link"}],email:[],subject:"",body:"",fromDate:"",toDate:"",minimumFromDate:""}},created(){const t=new Date,e=t.toISOString().split("T")[0];this.minimumFromDate=e},methods:{clearFields(){this.tab="attach file",this.email=[],this.subject="",this.body="",this.fromDate="",this.toDate=""},remove(t){if(this.fileList.length>1){let e=this.fileList.filter(e=>e.id!=t);this.$emit("update:fileList",e)}else this.$alert.warning("Minimum one document is required")},async documentShare(){const t=await this.$refs.form.validate();if(!t)return;let e=[];if(this.fileList.forEach(t=>{e.push(t.id)}),"attach file"===this.tab){let t={repositoryId:this.repositoryId,itemIds:e,toAdd:this.email.toString(),subject:this.subject,body:this.body};const{error:i}=await u["k"].documentShare(t);if(i)return void this.$alert.error(i)}else if("attach link"===this.tab){if(this.toDate<this.fromDate)return void this.$alert.warning("ToDate Is Must Be Greater Than Or Equal To FromDate");let t={toAddress:this.email.toString(),subject:this.subject,body:this.body,expiryFromDate:this.fromDate,expiryTodate:this.toDate,repositoryId:this.repositoryId,itemIdArray:e};const{error:i}=await u["k"].documentShareLink(t);if(i)return void this.$alert.error(i)}this.$alert.success("Initiated Document Sharing by Email"),this.clearFields(),this.$emit("input",!1)}}},f=p,m=(i("5fab"),i("2877")),g=i("b047"),v=i("cb32"),x=i("93dc"),y=i.n(x),b=Object(m["a"])(f,s,a,!1,null,"2c37c0ea",null);e["a"]=b.exports;y()(b,"components",{QChip:g["a"],QAvatar:v["a"]})},"5e6e":function(t,e,i){},"5f3d":function(t,e,i){},"5fab":function(t,e,i){"use strict";i("467fa")},"604f":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=3)}([function(t,e,i){var s=i(6)(i(1),i(7),null,null);t.exports=s.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i.n(s),o=i(2);e["default"]={props:{classname:{type:String,default:"vue-highcharts"},styles:{type:Object,default:function(){return{}}},options:Object,highcharts:Object},name:"VueHighcharts",data:function(){return{chart:null}},mounted:function(){!this.getChart()&&this.options&&this.init()},methods:{getChart:function(){return this.chart},addSeries:function(t){this.delegateMethod("addSeries",t)},removeSeries:function(){while(0!==this.getChart().series.length)this.getChart().series[0].remove()},mergeOption:function(t){this.delegateMethod("update",t)},showLoading:function(t){this.getChart().showLoading(t)},hideLoading:function(){this.getChart().hideLoading()},delegateMethod:function(t){var e;if(this.getChart()){for(var s=arguments.length,a=Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];return(e=this.getChart())[t].apply(e,a)}i.i(o["a"])("Cannot call [$name] before the chart is initialized. Set prop [options] first.",this)},initHigcharts:function(t){},init:function(){if(!this.getChart()&&this.options){var t=this.highcharts||a.a;if("Highstock"===t.product)return void(this.chart=new t.stockChart(this.$el,this.options));if("Highmaps"===t.product)return void(this.chart=new t.mapChart(this.$el,this.options));this.chart=new t.Chart(this.$el,this.options)}}},watch:{options:function(t){!this.getChart()&&t?this.init():this.getChart().update(this.options)}},beforeDestroy:function(){this.getChart()&&this.getChart().destroy()}}},function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var s=function(){};if("production"!==t.env.NODE_ENV){var a="undefined"!==typeof console;s=function(t,e){a&&console.error("[Vue warn]: "+t+(e?r(o(e)):""))};var o=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return e?"component <"+e+">":"anonymous component"},r=function(t){return"anonymous component"===t&&(t+='-use the "name" option for better debugging messages.'),t}}}).call(e,i(5))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i.n(s);e["default"]=a.a},function(t,e){(function(e,i){"object"===typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)})("undefined"!==typeof window?window:this,(function(t){var e=function(){var e="undefined"===typeof t?window:t,i=e.document,s=e.navigator&&e.navigator.userAgent||"",a=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(s)&&!e.opera,r=-1!==s.indexOf("Firefox"),n=-1!==s.indexOf("Chrome"),l=r&&4>parseInt(s.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.1.1",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:o,isWebKit:-1!==s.indexOf("AppleWebKit"),isFirefox:r,isChrome:n,isSafari:!n&&-1!==s.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(s),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:a,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();(function(t){t.timers=[];var e=t.charts,i=t.doc,s=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);s.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],s=[],a=this.now,o=e.length;if(1===a)s=this.toD;else if(o===i.length&&1>a)for(;o--;)t=parseFloat(e[o]),s[o]=isNaN(t)?i[o]:a*parseFloat(i[o]-t)+t;else s=i;this.elem.attr("d",s,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)},run:function(e,i,a){var o=this,r=o.options,n=function(t){return!n.stopped&&o.step(t)},l=s.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=a,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&1===t.timers.push(n)&&l(c)):(delete r.curAnim[this.prop],r.complete&&0===t.keys(r.curAnim).length&&r.complete.call(this.elem))},step:function(e){var i,s=+new Date,a=this.options,o=this.elem,r=a.complete,n=a.duration,l=a.curAnim;return o.attr&&!o.element?e=!1:e||s>=n+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,(function(t){!0!==t&&(i=!1)})),i&&r&&r.call(o),e=!1):(this.pos=a.easing((s-this.startTime)/n),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,s){function a(t){var e,i;for(h=t.length;h--;)e="M"===t[h]||"L"===t[h],i=/[a-zA-Z]/.test(t[h+3]),e&&i&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,f);[].splice.apply(t,[0,0].concat(i)),g&&(i=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(i)),h--)}t[0]="M"}function r(t,e){for(var i=(l-t.length)/f;0<i&&i--;)c=t.slice().splice(t.length/v-f,f*v),c[0]=e[l-f-i*f],p&&(c[f-6]=c[f-2],c[f-5]=c[f-1]),[].splice.apply(t,[t.length/v,0].concat(c)),g&&i--}i=i||"";var n,l,c,h,d=e.startX,u=e.endX,p=-1<i.indexOf("C"),f=p?7:3;i=i.split(" "),s=s.slice();var m,g=e.isArea,v=g?2:1;if(p&&(a(i),a(s)),d&&u){for(h=0;h<d.length;h++){if(d[h]===u[0]){n=h;break}if(d[0]===u[u.length-d.length+h]){n=h,m=!0;break}}void 0===n&&(i=[])}return i.length&&t.isNumber(n)&&(l=s.length+n*v*f,m?(o(i,s),r(s,i)):(o(s,i),r(i,s))),[i,s]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.merge=function(){var e,i,s=arguments,a={},o=function(e,i){return"object"!==typeof e&&(e={}),t.objectEach(i,(function(s,a){!t.isObject(s,!0)||t.isClass(s)||t.isDOMElement(s)?e[a]=i[a]:e[a]=o(e[a]||{},s)})),e};for(!0===s[0]&&(a=s[1],s=Array.prototype.slice.call(s,2)),i=s.length,e=0;e<i;e++)a=o(a,s[e]);return a},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"===typeof t},t.isArray=function(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t},t.isObject=function(e,i){return!!e&&"object"===typeof e&&(!i||!t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"===typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,s){var a;return t.isString(i)?t.defined(s)?e.setAttribute(i,s):e&&e.getAttribute&&((a=e.getAttribute(i))||"class"!==i||(a=e.getAttribute(i+"Name"))):t.defined(i)&&t.isObject(i)&&t.objectEach(i,(function(t,i){e.setAttribute(i,t)})),a},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,s=i.length;for(t=0;t<s;t++)if(e=i[t],void 0!==e&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,s,a,o,r){e=i.createElement(e);var n=t.css;return s&&t.extend(e,s),r&&n(e,{padding:0,border:"none",margin:0}),a&&n(e,a),o&&o.appendChild(e),e},t.extendClass=function(e,i){var s=function(){};return s.prototype=new e,t.extend(s.prototype,i),s},t.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var s=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,a=this;return a.proceed=function(){s.apply(a,arguments.length?arguments:e)},t.unshift(s),t=i.apply(this,t),a.proceed=null,t}},t.formatSingle=function(e,i,s){var a=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(s=(s=e.match(a))?s[1]:-1,null!==i&&(i=t.numberFormat(i,s,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):i=(s||t.time).dateFormat(e,i),i},t.format=function(e,i,s){for(var a,o,r,n,l,c="{",h=!1,d=[];e;){if(c=e.indexOf(c),-1===c)break;if(a=e.slice(0,c),h){for(a=a.split(":"),o=a.shift().split("."),n=o.length,l=i,r=0;r<n;r++)l&&(l=l[o[r]]);a.length&&(l=t.formatSingle(a.join(":"),l,s)),d.push(l)}else d.push(a);e=e.slice(c+1),c=(h=!h)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,s,a,o){var r,n=e;for(s=t.pick(s,1),r=e/s,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===s?i=t.grep(i,(function(t){return 0===t%1})):.1>=s&&(i=[1/s]))),a=0;a<i.length&&(n=i[a],!(o&&n*s>=e||!o&&r<=(i[a]+(i[a+1]||i[a]))/2));a++);return t.correctFloat(n*s,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,s,a=t.length;for(s=0;s<a;s++)t[s].safeI=s;for(t.sort((function(t,s){return i=e(t,s),0===i?t.safeI-s.safeI:i})),s=0;s<a;s++)delete t[s].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,(function(t,s){t&&t!==i&&t.destroy&&t.destroy(),delete e[s]}))},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,s,a){e=+e||0,i=+i;var o,r,n=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===i?i=Math.min(l,20):t.isNumber(i)?i&&c[1]&&0>c[1]&&(o=i+ +c[1],0<=o?(c[0]=(+c[0]).toExponential(o).split("e")[0],i=o):(c[0]=c[0].split(".")[0]||0,e=20>i?(c[0]*Math.pow(10,c[1])).toFixed(i):0,c[1]=0)):i=2,r=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),l=String(t.pInt(r)),o=3<l.length?l.length%3:0,s=t.pick(s,n.decimalPoint),a=t.pick(a,n.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+a:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+a),i&&(e+=s+r.slice(-i)),c[1]&&0!==+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,a){return"width"===i?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(s.getComputedStyle||t.error(27,!0),(e=s.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(a,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i,s){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e,s)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]},t.some=function(e,i,s){return(t.somePolyfill||Array.prototype.some).call(e,i,s)},t.map=function(t,e){for(var i=[],s=0,a=t.length;s<a;s++)i[s]=e.call(t[s],t[s],s,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,s){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[i,s]:[i])},t.offset=function(t){var e=i.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(s.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(s.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var s=t.timers.length;s--;)t.timers[s].elem!==e||i&&i!==t.timers[s].prop||(t.timers[s].stopped=!0)},t.each=function(e,i,s){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,s)},t.objectEach=function(t,e,i){for(var s in t)t.hasOwnProperty(s)&&e.call(i||t[s],t[s],s,t)},t.addEvent=function(e,i,s,a){var o,r=e.addEventListener||t.addEventListenerPolyfill;return o="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),r&&r.call(e,i,s,!1),o[i]||(o[i]=[]),o[i].push(s),a&&t.isNumber(a.order)&&(s.order=a.order,o[i].sort((function(t,e){return t.order-e.order}))),function(){t.removeEvent(e,i,s)}},t.removeEvent=function(e,i,s){function a(i,s){var a=e.removeEventListener||t.removeEventListenerPolyfill;a&&a.call(e,i,s,!1)}function o(s){var o,r;e.nodeName&&(i?(o={},o[i]=!0):o=s,t.objectEach(o,(function(t,e){if(s[e])for(r=s[e].length;r--;)a(e,s[e][r])})))}var r,n;t.each(["protoEvents","hcEvents"],(function(l){var c=e[l];c&&(i?(r=c[i]||[],s?(n=t.inArray(s,r),-1<n&&(r.splice(n,1),c[i]=r),a(i,s)):(o(c),c[i]=[])):(o(c),e[l]={}))}))},t.fireEvent=function(e,s,a,o){var r,n,l,c,h;a=a||{},i.createEvent&&(e.dispatchEvent||e.fireEvent)?(r=i.createEvent("Events"),r.initEvent(s,!0,!0),t.extend(r,a),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(s,r)):t.each(["protoEvents","hcEvents"],(function(i){if(e[i])for(n=e[i][s]||[],l=n.length,a.target||t.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:e,type:s}),c=0;c<l;c++)(h=n[c])&&!1===h.call(e,a)&&a.preventDefault()})),o&&!a.defaultPrevented&&o.call(e,a)},t.animate=function(e,i,s){var a,o,r,n,l="";t.isObject(s)||(n=arguments,s={duration:n[2],easing:n[3],complete:n[4]}),t.isNumber(s.duration)||(s.duration=400),s.easing="function"===typeof s.easing?s.easing:Math[s.easing]||Math.easeInOutSine,s.curAnim=t.merge(i),t.objectEach(i,(function(n,c){t.stop(e,c),r=new t.Fx(e,s,c),o=null,"d"===c?(r.paths=r.initPath(e,e.d,i.d),r.toD=i.d,a=0,o=1):e.attr?a=e.attr(c):(a=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=n),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),r.run(a,o,l)}))},t.seriesType=function(e,i,s,a,o){var r=t.getOptions(),n=t.seriesTypes;return r.plotOptions[e]=t.merge(r.plotOptions[i],s),n[e]=t.extendClass(n[i]||function(){},a),n[e].prototype.type=e,o&&(n[e].prototype.pointClass=t.extendClass(t.Point,o)),n[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),s.jQuery&&(s.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})})(e),function(t){var e=t.each,i=t.isNumber,s=t.map,a=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,a,o,r;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=s(e.stops,(function(e){return new t.Color(e[1])}));else if(e&&e.charAt&&"#"===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?a=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(a=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!a)for(o=this.parsers.length;o--&&!a;)r=this.parsers[o],(i=r.regex.exec(e))&&(a=r.parse(i));this.rgba=a||[]},get:function(t){var s,o=this.input,r=this.rgba;return this.stops?(s=a(o),s.stops=[].concat(s.stops),e(this.stops,(function(e,i){s.stops[i]=[s.stops[i][0],e.get(t)]}))):s=r&&i(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":o,s},brighten:function(t){var s,a=this.rgba;if(this.stops)e(this.stops,(function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(s=0;3>s;s++)a[s]+=o(255*t),0>a[s]&&(a[s]=0),255<a[s]&&(a[s]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,s=t.rgba;return s.length&&i&&i.length?(t=1!==s[3]||1!==i[3],e=(t?"rgba(":"rgb(")+Math.round(s[0]+(i[0]-s[0])*(1-e))+","+Math.round(s[1]+(i[1]-s[1])*(1-e))+","+Math.round(s[2]+(i[2]-s[2])*(1-e))+(t?","+(s[3]+(i[3]-s[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,i,s=t.addEvent,a=t.animate,o=t.attr,r=t.charts,n=t.color,l=t.css,c=t.createElement,h=t.defined,d=t.deg2rad,u=t.destroyObjectProperties,p=t.doc,f=t.each,m=t.extend,g=t.erase,v=t.grep,x=t.hasTouch,y=t.inArray,b=t.isArray,w=t.isFirefox,k=t.isMS,S=t.isObject,C=t.isString,A=t.isWebKit,T=t.merge,I=t.noop,M=t.objectEach,L=t.pick,P=t.pInt,_=t.removeEvent,O=t.stop,D=t.svg,E=t.SVG_NS,F=t.symbolSizes,B=t.win;e=t.SVGElement=function(){return this},m(e.prototype,{opacity:1,SVG_NS:E,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?c(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,s){return i=t.animObject(L(i,this.renderer.globalAnimation,!0)),0!==i.duration?(s&&(i.complete=s),a(this,e,i)):(this.attr(e,null,s),i.step&&i.step.call(this)),this},complexColor:function(e,i,s){var a,o,r,n,l,c,d,u,p,m,g,v,x=this.renderer,y=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},(function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(r=e[o],l=x.gradients,d=e.stops,m=s.radialReference,b(r)&&(e[o]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!h(r.gradientUnits)&&(n=r,r=T(r,x.getRadialAttr(m,n),{gradientUnits:"userSpaceOnUse"})),M(r,(function(t,e){"id"!==e&&y.push(e,t)})),M(d,(function(t){y.push(t)})),y=y.join(","),l[y]?g=l[y].attr("id"):(r.id=g=t.uniqueKey(),l[y]=c=x.createElement(o).attr(r).add(x.defs),c.radAttr=n,c.stops=[],f(d,(function(e){0===e[1].indexOf("rgba")?(a=t.color(e[1]),u=a.get("rgb"),p=a.get("a")):(u=e[1],p=1),e=x.createElement("stop").attr({offset:e[0],"stop-color":u,"stop-opacity":p}).add(c),c.stops.push(e)}))),v="url("+x.url+"#"+g+")",s.setAttribute(i,v),s.gradient=y,e.toString=function(){return v})}))},applyTextOutline:function(e){var i,s,a,r,n,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),s=e[e.length-1],(a=e[0])&&"none"!==a&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*e+i})),n=e.length;n--;)i=e[n],"highcharts-text-outline"===i.getAttribute("class")&&g(e,l.removeChild(i));r=l.firstChild,f(e,(function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":a,"stroke-linejoin":"round"}),l.insertBefore(t,r)}))}},attr:function(t,e,i,s){var a,o,r,n,l=this.element,c=this;return"string"===typeof t&&void 0!==e&&(a=t,t={},t[a]=e),"string"===typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(M(t,(function(e,i){r=!1,s||O(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||(n=this[i+"Setter"]||this._defaultSetter,n.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,n))}),this),this.afterSetters()),i&&i.call(this),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var s=this.shadows,a=s.length;a--;)i.call(s[a],"height"===t?Math.max(e-(s[a].cutHeight||0),0):"d"===t?this.d:e,t,s[a])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==y(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),(function(i){e[i]=L(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),h(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,s=this.styles,a={},r=this.element,n="",c=!s,h=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),s&&M(t,(function(t,e){t!==s[e]&&(a[e]=t,c=!0)})),c&&(s&&(t=m(s,a)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===r.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=P(t.width))),this.styles=t,e&&!D&&this.renderer.forExport&&delete t.width,r.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},M(t,(function(t,e){-1===y(e,h)&&(n+=e.replace(/([A-Z])/g,i)+":"+t+";")})),n&&o(r,"style",n)):l(r,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,s=i.element;return x&&"click"===t?(s.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(s,t)},s.onclick=function(t){(-1===B.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(s,t)}):s["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,s=this.scaleY,a=this.inverted,o=this.rotation,r=this.matrix,n=this.element;a&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],h(r)&&t.push("matrix("+r.join(",")+")"),a?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+L(this.rotationOriginX,n.getAttribute("x"),0)+" "+L(this.rotationOriginY,n.getAttribute("y")||0)+")"),(h(i)||h(s))&&t.push("scale("+L(i,1)+" "+L(s,1)+")"),t.length&&n.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,a,o,r,n,l,c={};return a=this.renderer,o=a.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||C(i))&&(this.alignTo=s=i||"renderer",g(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=L(i,a[s],a),s=t.align,a=t.verticalAlign,o=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"===s?n=1:"center"===s&&(n=2),n&&(o+=(i.width-(t.width||0))/n),c[e?"translateX":"x"]=Math.round(o),"bottom"===a?l=1:"middle"===a&&(l=2),l&&(r+=(i.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(r),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var i,s,a,o,r,n=this.renderer,l=this.element,c=this.styles,u=this.textStr,p=n.cache,g=n.cacheKeys;if(e=L(e,this.rotation),s=e*d,a=c&&c.fontSize,h(u)&&(r=u.toString(),-1===r.indexOf("<")&&(r=r.replace(/[0-9]/g,"0")),r+=["",e||0,a,this.textWidth,c&&c.textOverflow].join()),r&&!t&&(i=p[r]),!i){if(l.namespaceURI===this.SVG_NS||n.forExport){try{(o=this.fakeTS&&function(t){f(l.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))})&&o("none"),i=l.getBBox?m({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(v){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(n.isSVG&&(t=i.width,n=i.height,c&&"11px"===c.fontSize&&17===Math.round(n)&&(i.height=n=14),e&&(i.width=Math.abs(n*Math.sin(s))+Math.abs(t*Math.cos(s)),i.height=Math.abs(n*Math.cos(s))+Math.abs(t*Math.sin(s)))),r&&0<i.height){for(;250<g.length;)delete p[g.shift()];p[r]||g.push(r),p[r]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,s=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(s),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,s=e.ownerSVGElement,a=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,O(t),a&&s&&(f(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){var e=t.getAttribute("clip-path"),i=a.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")})),t.clipPath=a.destroy()),t.stops){for(s=0;s<t.stops.length;s++)t.stops[s]=t.stops[s].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&g(t.renderer.alignedObjects,t),M(t,(function(e,i){delete t[i]})),null},shadow:function(t,e,i){var s,a,r,n,l,c,h=[],d=this.element;if(t){if(!this.shadows){for(n=L(t.width,3),l=(t.opacity||.15)/n,c=this.parentInverted?"(-1,-1)":"("+L(t.offsetX,1)+", "+L(t.offsetY,1)+")",s=1;s<=n;s++)a=d.cloneNode(0),r=2*n+1-2*s,o(a,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*s,"stroke-width":r,transform:"translate"+c,fill:"none"}),i&&(o(a,"height",Math.max(o(a,"height")-r,0)),a.cutHeight=r),e?e.element.appendChild(a):d.parentNode&&d.parentNode.insertBefore(a,d),h.push(a);this.shadows=h}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],(function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=L(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=P(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(L(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,s,a,o,r=this.renderer,n=this.parentGroup,l=(n||r).element||r.box,c=this.element;r=l===r.box;if(i=this.added,h(t)?(c.setAttribute("data-z-index",t),t=+t,this[e]===t&&(i=!1)):h(this[e])&&c.removeAttribute("data-z-index"),this[e]=t,i){for((t=this.zIndex)&&n&&(n.handleZ=!0),e=l.childNodes,o=e.length-1;0<=o&&!s;o--)n=e[o],i=n.getAttribute("data-z-index"),a=!h(i),n!==c&&(0>t&&a&&!r&&!o?(l.insertBefore(c,e[o]),s=!0):(P(i)<=t||a&&(!h(t)||0<=t))&&(l.insertBefore(c,e[o+1]||null),s=!0));s||(l.insertBefore(c,e[r?3:0]||null),s=!0)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,s){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",s),s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(s.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},m(i.prototype,{Element:e,SVG_NS:E,init:function(t,e,i,a,r,n){var c,h;a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(a)),c=a.element,t.appendChild(c),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=a,this.alignedObjects=[],this.url=(w||A)&&p.getElementsByTagName("base").length?B.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 6.1.1")),this.defs=this.createElement("defs").add(),this.allowHTML=n,this.forExport=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),w&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})},e(),this.unSubPixelFix=s(B,"resize",e))},getStyle:function(t){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),u(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:I,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t){return t.getBBox(!0).width},applyEllipsis:function(t,e,i,s){var a,o,r=t.rotation,n=i,l=0,c=i.length,h=function(t){e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))};if(t.rotation=0,n=this.getSpanWidth(t,e),o=n>s){for(;l<=c;)a=Math.ceil((l+c)/2),n=i.substring(0,a)+"…",h(n),n=this.getSpanWidth(t,e),l===c?l=c+1:n>s?c=a-1:l=a;0===c&&h("")}return t.rotation=r,o},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,i,s,a=t.element,r=this,n=r.forExport,c=L(t.textStr,"").toString(),h=-1!==c.indexOf("<"),d=a.childNodes,u=o(a,"x"),m=t.styles,g=t.textWidth,x=m&&m.lineHeight,b=m&&m.textOutline,w=m&&"ellipsis"===m.textOverflow,k=m&&"nowrap"===m.whiteSpace,S=m&&m.fontSize,C=d.length,A=(m=g&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:S||r.style.fontSize||12,x?P(x):r.fontMetrics(e,t.getAttribute("style")?t:a).h}),T=function(t,e){return M(r.escapes,(function(i,s){e&&-1!==y(i,e)||(t=t.toString().replace(new RegExp(i,"g"),s))})),t},I=function(t,e){var i;if(i=t.indexOf("<"),t=t.substring(i,t.indexOf(">")-i),i=t.indexOf(e+"="),-1!==i&&(i=i+e.length+1,e=t.charAt(i),'"'===e||"'"===e))return t=t.substring(i+1),t.substring(0,t.indexOf(e))};if(i=[c,w,k,x,b,S,g].join(),i!==t.textCache){for(t.textCache=i;C--;)a.removeChild(d[C]);h||b||w||g||-1!==c.indexOf(" ")?(m&&m.appendChild(a),c=h?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,(function(t){return""!==t})),f(c,(function(i,c){var h,d=0;i=i.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),h=i.split("|||"),f(h,(function(i){if(""!==i||1===h.length){var f,m,v={},x=p.createElementNS(r.SVG_NS,"tspan");if((f=I(i,"class"))&&o(x,"class",f),(f=I(i,"style"))&&(f=f.replace(/(;| |^)color([ :])/,"$1fill$2"),o(x,"style",f)),(m=I(i,"href"))&&!n&&(o(x,"onclick",'location.href="'+m+'"'),o(x,"class","highcharts-anchor"),l(x,{cursor:"pointer"})),i=T(i.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==i){if(x.appendChild(p.createTextNode(i)),d?v.dx=0:c&&null!==u&&(v.x=u),o(x,v),a.appendChild(x),!d&&s&&(!D&&n&&l(x,{display:"block"}),o(x,"dy",A(x))),g){v=i.replace(/([^\^])-/g,"$1- ").split(" "),m=1<h.length||c||1<v.length&&!k;var y,b=[],S=A(x),C=t.rotation;for(w&&(e=r.applyEllipsis(t,x,i,g));!w&&m&&(v.length||b.length);)t.rotation=0,y=r.getSpanWidth(t,x),i=y>g,void 0===e&&(e=i),i&&1!==v.length?(x.removeChild(x.firstChild),b.unshift(v.pop())):(v=b,b=[],v.length&&!k&&(x=p.createElementNS(E,"tspan"),o(x,{dy:S,x:u}),f&&o(x,"style",f),a.appendChild(x)),y>g&&(g=y+1)),v.length&&x.appendChild(p.createTextNode(v.join(" ").replace(/- /g,"-")));t.rotation=C}d++}}})),s=s||a.childNodes.length})),w&&e&&t.attr("title",T(t.textStr,["&lt;","&gt;"])),m&&m.removeChild(a),b&&t.applyTextOutline&&t.applyTextOutline(b)):a.appendChild(p.createTextNode(T(c)))}},getContrast:function(t){return t=n(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,a,o,r,n,l,c){var h,d,u,p,f=this.label(t,e,i,c,null,null,null,null,"button"),g=0;return f.attr(T({padding:8,r:2},o)),o=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),h=o.style,delete o.style,r=T(o,{fill:"#e6e6e6"},r),d=r.style,delete r.style,n=T(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},n),u=n.style,delete n.style,l=T(o,{style:{color:"#cccccc"}},l),p=l.style,delete l.style,s(f.element,k?"mouseover":"mouseenter",(function(){3!==g&&f.setState(1)})),s(f.element,k?"mouseout":"mouseleave",(function(){3!==g&&f.setState(g)})),f.setState=function(t){1!==t&&(f.state=g=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),f.attr([o,r,n,l][t||0]).css([h,d,u,p][t||0])},f.attr(o).css(m({cursor:"default"},h)),f.on("click",(function(t){3!==g&&a.call(f,t)}))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return b(t)?e.d=t:S(t)&&m(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=S(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,s,a,o){return S(t)?(s=t,e=s.y,i=s.r,t=s.x):s={innerR:s,start:a,end:o},t=this.symbol("arc",t,e,i,i,s),t.r=i,t},rect:function(t,e,i,s,a,r){a=S(t)?t.r:a;var n=this.createElement("rect");return t=S(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(s,0)},void 0!==r&&(t.strokeWidth=r,t=n.crisp(t)),t.fill="none",a&&(t.r=a),n.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},n.attr(t)},setSize:function(t,e,i){var s=this.alignedObjects,a=s.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:L(i,!0)?void 0:0});a--;)s[a].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,a,o,r){var n,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},h=function(e){c(n.element,t),r.call(n,e)};return 1<arguments.length&&m(l,{x:e,y:i,width:a,height:o}),n=this.createElement("image").attr(l),r?(c(n.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new B.Image,s(l,"load",h),l.src=t,l.complete&&h({})):c(n.element,t),n},symbol:function(t,e,i,s,a,o){var n,d,u,g=this,v=/^url\((.*?)\)$/,x=v.test(t),y=!x&&(this.symbols[t]?t:"circle"),b=y&&this.symbols[y],w=h(e)&&b&&b.call(this.symbols,Math.round(e),Math.round(i),s,a,o);return b?(n=this.path(w),n.attr("fill","none"),m(n,{symbolName:y,x:e,y:i,width:s,height:a}),o&&m(n,o)):x&&(d=t.match(v)[1],n=this.image(d),n.imgwidth=L(F[d]&&F[d].width,o&&o.width),n.imgheight=L(F[d]&&F[d].height,o&&o.height),u=function(){n.attr({width:n.width,height:n.height})},f(["width","height"],(function(t){n[t+"Setter"]=function(t,e){var i={},s=this["img"+e],a="width"===e?"translateX":"translateY";this[e]=t,h(s)&&(this.element&&this.element.setAttribute(e,s),this.alignByTranslate||(i[a]=((this[e]||0)-s)/2,this.attr(i)))}})),h(e)&&n.attr({x:e,y:i}),n.isImg=!0,h(n.imgwidth)&&h(n.imgheight)?u():(n.attr({width:0,height:0}),c("img",{onload:function(){var t=r[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),F[d]={width:this.width,height:this.height},n.imgwidth=this.width,n.imgheight=this.height,n.element&&u(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),n},symbols:{circle:function(t,e,i,s){return this.arc(t+i/2,e+s/2,i/2,s/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i,e+s,t,e+s,"Z"]},triangle:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s,t,e+s,"Z"]},"triangle-down":function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i/2,e+s,"Z"]},diamond:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s/2,t+i/2,e+s,t,e+s/2,"Z"]},arc:function(t,e,i,s,a){var o=a.start,r=a.r||i,n=a.r||s||i,l=a.end-.001;i=a.innerR,s=L(a.open,.001>Math.abs(a.end-a.start-2*Math.PI));var c=Math.cos(o),d=Math.sin(o),u=Math.cos(l);l=Math.sin(l);return a=.001>a.end-o-Math.PI?0:1,r=["M",t+r*c,e+n*d,"A",r,n,0,a,1,t+r*u,e+n*l],h(i)&&r.push(s?"M":"L",t+i*u,e+i*l,"A",i,i,0,a,0,t+i*c,e+i*d),r.push(s?"":"Z"),r},callout:function(t,e,i,s,a){var o,r=Math.min(a&&a.r||0,i,s),n=r+6,l=a&&a.anchorX;return a=a&&a.anchorY,o=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+s-r,"C",t+i,e+s,t+i,e+s,t+i-r,e+s,"L",t+r,e+s,"C",t,e+s,t,e+s,t,e+s-r,"L",t,e+r,"C",t,e,t,e,t+r,e],l&&l>i?a>e+n&&a<e+s-n?o.splice(13,3,"L",t+i,a-6,t+i+6,a,t+i,a+6,t+i,e+s-r):o.splice(13,3,"L",t+i,s/2,l,a,t+i,s/2,t+i,e+s-r):l&&0>l?a>e+n&&a<e+s-n?o.splice(33,3,"L",t,a+6,t-6,a,t,a-6,t,e+r):o.splice(33,3,"L",t,s/2,l,a,t,s/2,t,e+r):a&&a>s&&l>t+n&&l<t+i-n?o.splice(23,3,"L",l+6,e+s,l,e+s+6,l-6,e+s,t+r,e+s):a&&0>a&&l>t+n&&l<t+i-n&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-r,e),o}},clipRect:function(e,i,s,a){var o=t.uniqueKey(),r=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,i,s,a,0).add(r),e.id=o,e.clipPath=r,e.count=0,e},text:function(t,e,i,s){var a={};return!s||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),t=this.createElement("text").attr(a),s||(t.xSetter=function(t,e,i){var s,a,o=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(a=0;a<o.length;a++)s=o[a],s.getAttribute(e)===r&&s.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?P(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var s=t;return e&&i&&(s=Math.max(s*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:s}},label:function(i,s,a,o,r,n,l,c,d){var u,p,g,v,x,y,b,w,k,S,C,A,I,M=this,L=M.g("button"!==d&&"label"),P=L.text=M.text("",0,0,l).attr({zIndex:1}),O=0,D=3,E=0,F={},B=/^url\((.*?)\)$/.test(o),N=B;d&&L.addClass("highcharts-"+d),N=B,S=function(){return(w||0)%2/2},C=function(){var t=P.element.style,e={};p=(void 0===g||void 0===v||b)&&h(P.textStr)&&P.getBBox(),L.width=(g||p.width||0)+2*D+E,L.height=(v||p.height||0)+2*D,k=D+M.fontMetrics(t&&t.fontSize,P).b,N&&(u||(L.box=u=M.symbols[o]||B?M.symbol(o):M.rect(),u.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),u.add(L),t=S(),e.x=t,e.y=(c?-k:0)+t),e.width=Math.round(L.width),e.height=Math.round(L.height),u.attr(m(e,F)),F={})},A=function(){var t,e=E+D;t=c?0:k,h(g)&&p&&("center"===b||"right"===b)&&(e+={center:.5,right:1}[b]*(g-p.width)),e===P.x&&t===P.y||(P.attr("x",e),P.hasBoxWidthChanged&&(p=P.getBBox(!0),C()),void 0!==t&&P.attr("y",t)),P.x=e,P.y=t},I=function(t,e){u?u.attr(t,e):F[t]=e},L.onAdd=function(){P.add(L),L.attr({text:i||0===i?i:"",x:s,y:a}),u&&h(r)&&L.attr({anchorX:r,anchorY:n})},L.widthSetter=function(e){g=t.isNumber(e)?e:null},L.heightSetter=function(t){v=t},L["text-alignSetter"]=function(t){b=t},L.paddingSetter=function(t){h(t)&&t!==D&&(D=L.padding=t,A())},L.paddingLeftSetter=function(t){h(t)&&t!==E&&(E=t,A())},L.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==O&&(O=t,p&&L.attr({x:x}))},L.textSetter=function(t){void 0!==t&&P.textSetter(t),C(),A()},L["stroke-widthSetter"]=function(t,e){t&&(N=!0),w=this["stroke-width"]=t,I(e,t)},L.strokeSetter=L.fillSetter=L.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(N=!0),L[e]=t),I(e,t)},L.anchorXSetter=function(t,e){r=L.anchorX=t,I(e,Math.round(t)-S()-x)},L.anchorYSetter=function(t,e){n=L.anchorY=t,I(e,t-y)},L.xSetter=function(t){L.x=t,O&&(t-=O*((g||p.width)+2*D),L["forceAnimate:x"]=!0),x=Math.round(t),L.attr("translateX",x)},L.ySetter=function(t){y=L.y=Math.round(t),L.attr("translateY",y)};var z=L.css;return m(L,{css:function(t){if(t){var e={};t=T(t),f(L.textProps,(function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])})),P.css(e),"width"in e&&C()}return z.call(L,t)},getBBox:function(){return{width:p.width+2*D,height:p.height+2*D,x:p.x-D,y:p.y-D}},shadow:function(t){return t&&(C(),u&&u.shadow(t)),L},destroy:function(){_(L.element,"mouseenter"),_(L.element,"mouseleave"),P&&(P=P.destroy()),u&&(u=u.destroy()),e.prototype.destroy.call(L),L=M=C=A=I=null}})}}),t.Renderer=i}(e),function(t){var e=t.attr,i=t.createElement,s=t.css,a=t.defined,o=t.each,r=t.extend,n=t.isFirefox,l=t.isMS,c=t.isWebKit,h=t.pick,d=t.pInt,u=t.SVGRenderer,p=t.win,f=t.wrap;r(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=r(this.styles,t),s(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,r=this.translateY||0,n=this.x||0,l=this.y||0,c=this.textAlign||"left",h={left:0,center:.5,right:1}[c],u=this.styles,p=u&&u.whiteSpace;if(s(e,{marginLeft:i,marginTop:r}),this.shadows&&o(this.shadows,(function(t){s(t,{marginLeft:i+1,marginTop:r+1})})),this.inverted&&o(e.childNodes,(function(i){t.invertChild(i,e)})),"SPAN"===e.tagName){u=this.rotation;var f,m=this.textWidth&&d(this.textWidth),g=[u,c,e.innerHTML,this.textWidth,this.textAlign].join();(f=m!==this.oldTextWidth)&&!(f=m>this.oldTextWidth)&&((f=this.textPxLength)||(s(e,{width:"",whiteSpace:p||"nowrap"}),f=e.offsetWidth),f=f>m),f&&/[ \-]/.test(e.textContent||e.innerText)?(s(e,{width:m+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=m,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,a(u)&&u!==(this.oldRotation||0)&&this.setSpanRotation(u,h,p),this.getSpanCorrection(!a(u)&&this.textPxLength||e.offsetWidth,p,h,u,c)),s(e,{left:n+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var a={},o=this.renderer.getTransformKey();a[o]=a.transform="rotate("+t+"deg)",a[o+(n?"Origin":"-origin")]=a.transformOrigin=100*e+"% "+i+"px",s(this.element,a)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),r(u.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":n?"MozTransform":p.opera?"-o-transform":""},html:function(t,s,a){var n=this.createElement("span"),l=n.element,c=n.renderer,d=c.isSVG,u=function(t,e){o(["opacity","visibility"],(function(i){f(t,i+"Setter",(function(t,i,s,a){t.call(this,i,s,a),e[s]=i}))})),t.addedSetters=!0};return n.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=h(t,""),n.doTransform=!0},d&&u(n,n.element.style),n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.doTransform=!0},n.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},n.attr({text:t,x:Math.round(s),y:Math.round(a)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",n.css=n.htmlCss,d&&(n.add=function(t){var s,a=c.box.parentNode,h=[];if(this.parentGroup=t){if(s=t.div,!s){for(;t;)h.push(t),t=t.parentGroup;o(h.reverse(),(function(t){function o(e,i){t[i]=e,"translateX"===i?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,c=e(t.element,"class");c&&(c={className:c}),s=t.div=t.div||i("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},s||a),l=s.style,r(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return h[0].div&&n.on.apply({element:h[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||u(t,l)}))}}else s=a;return s.appendChild(l),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}})}(e),function(t){var e=t.defined,i=t.each,s=t.extend,a=t.merge,o=t.pick,r=t.timeUnits,n=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(e){var i=o(e&&e.useUTC,!0),s=this;this.options=e=a(!0,this.options||{},e),this.Date=e.Date||n.Date,this.timezoneOffset=(this.useUTC=i)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(i&&!e.getTimezoneOffset&&!e.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),a=i-s.getTimezoneOffset(e);return e.setTime(a),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(e,i,a){var o;-1!==t.inArray(e,["Milliseconds","Seconds","Minutes"])?i["set"+e](a):(o=s.getTimezoneOffset(i),o=i.getTime()-o,i.setTime(o),i["setUTC"+e](a),e=s.getTimezoneOffset(i),o=i.getTime()+e,i.setTime(o))}):i?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(e,i,s,a,r,n){var l,c,h;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(l),l+=c,h=this.getTimezoneOffset(l),c!==h?l+=h-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,i,o(s,1),o(a,0),o(r,0),o(n,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,i=this.options,s=n.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(s)return function(t){return 6e4*-s.tz(t,i.timezone).utcOffset()};t.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,i,s){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var a=this,o=new this.Date(i),r=this.get("Hours",o),n=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),h=this.get("FullYear",o),d=t.defaultOptions.lang,u=d.weekdays,p=d.shortWeekdays,f=t.pad;o=t.extend({a:p?p[n]:u[n].substr(0,3),A:u[n],d:f(l),e:f(l,2," "),w:n,b:d.shortMonths[c],B:d.months[c],m:f(c+1),o:c+1,y:h.toString().substr(2,2),Y:h,H:f(r),k:r,I:f(r%12||12),l:r%12||12,M:f(a.get("Minutes",o)),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:f(o.getSeconds()),L:f(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(o,(function(t,s){for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"===typeof t?t.call(a,i):t)})),s?e.substr(0,1).toUpperCase()+e.substr(1):e},getTimeTicks:function(t,a,n,l){var c,h,d=this,u=[],p={},f=new d.Date(a),m=t.unitRange,g=t.count||1;if(e(a)){d.set("Milliseconds",f,m>=r.second?0:g*Math.floor(d.get("Milliseconds",f)/g)),m>=r.second&&d.set("Seconds",f,m>=r.minute?0:g*Math.floor(d.get("Seconds",f)/g)),m>=r.minute&&d.set("Minutes",f,m>=r.hour?0:g*Math.floor(d.get("Minutes",f)/g)),m>=r.hour&&d.set("Hours",f,m>=r.day?0:g*Math.floor(d.get("Hours",f)/g)),m>=r.day&&d.set("Date",f,m>=r.month?1:g*Math.floor(d.get("Date",f)/g)),m>=r.month&&(d.set("Month",f,m>=r.year?0:g*Math.floor(d.get("Month",f)/g)),c=d.get("FullYear",f)),m>=r.year&&d.set("FullYear",f,c-c%g),m===r.week&&d.set("Date",f,d.get("Date",f)-d.get("Day",f)+o(l,1)),c=d.get("FullYear",f),l=d.get("Month",f);var v=d.get("Date",f),x=d.get("Hours",f);for(a=f.getTime(),d.variableTimezone&&(h=n-a>4*r.month||d.getTimezoneOffset(a)!==d.getTimezoneOffset(n)),f=f.getTime(),a=1;f<n;)u.push(f),f=m===r.year?d.makeTime(c+a*g,0):m===r.month?d.makeTime(c,l+a*g):!h||m!==r.day&&m!==r.week?h&&m===r.hour&&1<g?d.makeTime(c,l,v,x+a*g):f+m*g:d.makeTime(c,l,v+a*g*(m===r.day?1:7)),a++;u.push(f),m<=r.hour&&1e4>u.length&&i(u,(function(t){0===t%18e5&&"000000000"===d.dateFormat("%H%M%S%L",t)&&(p[t]="day")}))}return u.info=s(t,{higherRanks:p,totalRange:m*g}),u}}}(e),function(t){var e=t.color,i=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=i(!0,t.defaultOptions,e),t.time.update(i(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,s){return t.time.dateFormat(e,i,s)}}(e),function(t){var e=t.correctFloat,i=t.defined,s=t.destroyObjectProperties,a=t.fireEvent,o=t.isNumber,r=t.merge,n=t.pick,l=t.deg2rad;t.Tick=function(t,e,i,s){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||s||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,s=this.axis,a=s.options,o=s.chart,l=s.categories,c=s.names,h=this.pos,d=a.labels,u=s.tickPositions,p=h===u[0],f=h===u[u.length-1];c=l?n(l[h],c[h],h):h,l=this.label,u=u.info;s.isDatetimeAxis&&u&&(t=a.dateTimeLabelFormats[u.higherRanks[h]||u.unitName]),this.isFirst=p,this.isLast=f,a=s.labelFormatter.call({axis:s,chart:o,isFirst:p,isLast:f,dateTimeLabelFormat:t,value:s.isLog?e(s.lin2log(c)):c,pos:h}),i(l)?l&&l.attr({text:a}):((this.label=l=i(a)&&d.enabled?o.renderer.text(a,0,0,d.useHTML).css(r(d.style)).add(s.labelGroup):null)&&(l.textPxLength=l.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,s=i.options.labels,a=t.x,o=i.chart.chartWidth,r=i.chart.spacing,c=n(i.labelLeft,Math.min(i.pos,r[3])),h=(r=n(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,o-r[1])),this.label),d=this.rotation,u={left:0,center:.5,right:1}[i.labelAlign||h.attr("align")],p=h.getBBox().width,f=i.getSlotWidth(this),m=f,g=1,v={};d||!1===s.overflow?0>d&&a-u*p<c?e=Math.round(a/Math.cos(d*l)-c):0<d&&a+u*p>r&&(e=Math.round((o-a)/Math.cos(d*l))):(o=a+(1-u)*p,a-u*p<c?m=t.x+m*(1-u)-c:o>r&&(m=r-t.x+m*u,g=-1),m=Math.min(f,m),m<f&&"center"===i.labelAlign&&(t.x+=g*(f-m-u*(f-Math.min(p,m)))),(p>m||i.autoRotation&&(h.styles||{}).width)&&(e=m)),e&&(v.width=e,(s.style||{}).textOverflow||(v.textOverflow="ellipsis"),h.css(v))},getPosition:function(e,i,s,o){var r=this.axis,n=r.chart,l=o&&n.oldChartHeight||n.chartHeight;return e={x:e?t.correctFloat(r.translate(i+s,null,null,o)+r.transB):r.left+r.offset+(r.opposite?(o&&n.oldChartWidth||n.chartWidth)-r.right-r.left:0),y:e?l-r.bottom+r.offset-(r.opposite?r.height:0):t.correctFloat(l-r.translate(i+s,null,null,o)-r.transB)},a(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,s,o,r,n,c,h){var d=this.axis,u=d.transA,p=d.reversed,f=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},g=r.y,v=o||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),x={};return i(g)||(g=0===d.side?s.rotation?-8:-s.getBBox().height:2===d.side?m.y+8:Math.cos(s.rotation*l)*(m.y-s.getBBox(!1,0).height/2)),t=t+r.x+v+m.x-(n&&o?n*u*(p?-1:1):0),e=e+g-(n&&!o?n*u*(p?1:-1):0),f&&(s=c/(h||1)%f,d.opposite&&(s=f-s-1),e+=d.labelOffset/f*s),x.x=t,x.y=Math.round(e),a(this,"afterGetLabelPosition",{pos:x}),x},getMarkPath:function(t,e,i,s,a,o){return o.crispLine(["M",t,e,"L",t+(a?0:-i),e+(a?i:0)],s)},renderGridLine:function(t,e,i){var s=this.axis,a=s.options,o=this.gridLine,r={},n=this.pos,l=this.type,c=s.tickmarkOffset,h=s.chart.renderer,d=l?l+"Grid":"grid",u=a[d+"LineWidth"],p=a[d+"LineColor"];a=a[d+"LineDashStyle"];o||(r.stroke=p,r["stroke-width"]=u,a&&(r.dashstyle=a),l||(r.zIndex=1),t&&(r.opacity=0),this.gridLine=o=h.path().attr(r).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(s.gridGroup)),!t&&o&&(t=s.getPlotLinePath(n+c,o.strokeWidth()*i,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var s=this.axis,a=s.options,o=s.chart.renderer,r=this.type,l=r?r+"Tick":"tick",c=s.tickSize(l),h=this.mark,d=!h,u=t.x;t=t.y;var p=n(a[l+"Width"],!r&&s.isXAxis?1:0);a=a[l+"Color"];c&&(s.opposite&&(c[0]=-c[0]),d&&(this.mark=h=o.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(s.axisGroup),h.attr({stroke:a,"stroke-width":p})),h[d?"attr":"animate"]({d:this.getMarkPath(u,t,c[0],h.strokeWidth()*i,s.horiz,o),opacity:e}))},renderLabel:function(t,e,i,s){var a=this.axis,r=a.horiz,l=a.options,c=this.label,h=l.labels,d=h.step,u=(a=a.tickmarkOffset,!0),p=t.x;t=t.y,c&&o(p)&&(c.xy=t=this.getLabelPosition(p,t,c,r,h,a,s,d),this.isFirst&&!this.isLast&&!n(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!n(l.showLastLabel,1)?u=!1:!r||h.step||h.rotation||e||0===i||this.handleOverflow(t),d&&s%d&&(u=!1),u&&o(t.y)?(t.opacity=i,c[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(e,i,s){var a=this.axis,o=a.horiz,r=this.getPosition(o,this.pos,a.tickmarkOffset,i),l=r.x,c=r.y;a=o&&l===a.pos+a.len||!o&&c===a.pos?-1:1;s=n(s,1),this.isActive=!0,this.renderGridLine(i,s,a),this.renderMark(r,s,a),this.renderLabel(r,i,s,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){s(this,this.axis)}}}(e);var i=function(t){var e=t.addEvent,i=t.animObject,s=t.arrayMax,a=t.arrayMin,o=t.color,r=t.correctFloat,n=t.defaultOptions,l=t.defined,c=t.deg2rad,h=t.destroyObjectProperties,d=t.each,u=t.extend,p=t.fireEvent,f=t.format,m=t.getMagnitude,g=t.grep,v=t.inArray,x=t.isArray,y=t.isNumber,b=t.isString,w=t.merge,k=t.normalizeTickInterval,S=t.objectEach,C=t.pick,A=t.removeEvent,T=t.splat,I=t.syncTimeout,M=t.Tick,L=function(){this.init.apply(this,arguments)};return t.extend(L.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var s=i.isX,a=this;a.chart=t,a.horiz=t.inverted&&!a.isZAxis?!s:s,a.isXAxis=s,a.coll=a.coll||(s?"xAxis":"yAxis"),p(this,"init",{userOptions:i}),a.opposite=i.opposite,a.side=i.side||(a.horiz?a.opposite?0:2:a.opposite?1:3),a.setOptions(i);var o=this.options,r=o.type;a.labelFormatter=o.labels.formatter||a.defaultLabelFormatter,a.userOptions=i,a.minPixelPadding=0,a.reversed=o.reversed,a.visible=!1!==o.visible,a.zoomEnabled=!1!==o.zoomEnabled,a.hasNames="category"===r||!0===o.categories,a.categories=o.categories||a.hasNames,a.names||(a.names=[],a.names.keys={}),a.plotLinesAndBandsGroups={},a.isLog="logarithmic"===r,a.isDatetimeAxis="datetime"===r,a.positiveValuesOnly=a.isLog&&!a.allowNegativeLog,a.isLinked=l(o.linkedTo),a.ticks={},a.labelEdge=[],a.minorTicks={},a.plotLinesAndBands=[],a.alternateBands={},a.len=0,a.minRange=a.userMinRange=o.minRange||o.maxZoom,a.range=o.range,a.offset=o.offset||0,a.stacks={},a.oldStacks={},a.stacksTouched=0,a.max=null,a.min=null,a.crosshair=C(o.crosshair,T(t.options.tooltip.crosshairs)[s?0:1],!1),i=a.options.events,-1===v(a,t.axes)&&(s?t.axes.splice(t.xAxis.length,0,a):t.axes.push(a),t[a.coll].push(a)),a.series=a.series||[],t.inverted&&!a.isZAxis&&s&&void 0===a.reversed&&(a.reversed=!0),S(i,(function(t,i){e(a,i,t)})),a.lin2log=o.linearToLogConverter||a.lin2log,a.isLog&&(a.val2lin=a.log2lin,a.lin2val=a.lin2log),p(this,"afterInit")},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(n[this.coll],t)),p(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,i=this.axis,s=this.value,a=i.chart.time,o=i.categories,r=this.dateTimeLabelFormat,l=n.lang,c=l.numericSymbols,h=(l=l.numericSymbolMagnitude||1e3,c&&c.length),d=i.options.labels.format;i=i.isLog?Math.abs(s):i.tickInterval;if(d)e=f(d,this,a);else if(o)e=s;else if(r)e=a.dateFormat(r,s);else if(h&&1e3<=i)for(;h--&&void 0===e;)a=Math.pow(l,h+1),i>=a&&0===10*s%a&&null!==c[h]&&0!==s&&(e=t.numberFormat(s/a,-1)+c[h]);return void 0===e&&(e=1e4<=Math.abs(s)?t.numberFormat(s,-1):t.numberFormat(s,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,(function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,r=i.options,n=r.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=n&&(n=null),t.isXAxis?(r=i.xData,r.length&&(i=a(r),o=s(r),y(i)||i instanceof Date||(r=g(r,y),i=a(r),o=s(r)),r.length&&(t.dataMin=Math.min(C(t.dataMin,r[0],i),i),t.dataMax=Math.max(C(t.dataMax,r[0],o),o)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,l(i)&&l(o)&&(t.dataMin=Math.min(C(t.dataMin,i),i),t.dataMax=Math.max(C(t.dataMax,o),o)),l(n)&&(t.threshold=n),(!r.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),p(this,"afterGetSeriesExtremes")},translate:function(t,e,i,s,a,o){var r=this.linkedParent||this,n=1,l=0,c=s?r.oldTransA:r.transA;s=s?r.oldMin:r.min;var h=r.minPixelPadding;return a=(r.isOrdinal||r.isBroken||r.isLog&&a)&&r.lin2val,c||(c=r.transA),i&&(n*=-1,l=r.len),r.reversed&&(n*=-1,l-=n*(r.sector||r.len)),e?(t=(t*n+l-h)/c+s,a&&(t=r.lin2val(t))):(a&&(t=r.val2lin(t)),t=y(s)?n*(t-s)*c+l+n*h+(y(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,s,a){var o,r,n,l=this.chart,c=this.left,h=this.top,d=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(s?t=Math.min(Math.max(e,t),i):n=!0),t};return a=C(a,this.translate(t,null,null,i)),a=Math.min(Math.max(-1e5,a),1e5),t=i=Math.round(a+o),o=r=Math.round(d-a-o),y(a)?this.horiz?(o=h,r=d-this.bottom,t=i=p(t,c,c+this.width)):(t=c,i=u-this.right,o=r=p(o,h,h+this.height)):(n=!0,s=!1),n&&!s?null:l.renderer.crispLine(["M",t,o,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var s,a=r(Math.floor(e/t)*t);i=r(Math.ceil(i/t)*t);var o,n=[];if(r(a+t)===a&&(o=20),this.single)return[e];for(e=a;e<=i;){if(n.push(e),e=r(e+t,o),e===s)break;s=e}return n},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?C(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,s=t.minorTickInterval,a=[],o=t.pointRangePadding||0,r=t.min-o,n=(o=t.max+o,o-r);if(n&&n/s<t.len/3)if(t.isLog)d(this.paddedTicks,(function(e,i,o){i&&a.push.apply(a,t.getLogTickPositions(s,o[i-1],o[i],!0))}));else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())a=a.concat(t.getTimeTicks(t.normalizeTimeTickInterval(s),r,o,e.startOfWeek));else for(e=r+(i[0]-r)%s;e<=o&&e!==a[0];e+=s)a.push(e);return 0!==a.length&&t.trimTicks(a),a},adjustForMinRange:function(){var t,e,i,o,r,n,c,h=this.options,u=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(d(this.series,(function(t){for(n=t.xData,o=t.xIncrement?1:n.length-1;0<o;o--)r=n[o]-n[o-1],(void 0===i||r<i)&&(i=r)})),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),p-u<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,t=(c-p+u)/2,t=[u-t,C(h.min,u-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=s(t),p=[u+c,C(h.max,u+c)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),p=a(p),p-u<c&&(t[0]=p-c,t[1]=C(h.min,p-c),u=s(t))),this.min=u,this.max=p},getClosest:function(){var t;return this.categories?t=1:d(this.series,(function(e){var i=e.closestPointRange,s=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&s&&(t=l(t)?Math.min(t,i):i)})),t},nameToX:function(t){var e,i=x(this.categories),s=i?this.categories:this.names,a=t.options.x;return t.series.requireSorting=!1,l(a)||(a=!1===this.options.uniqueNames?t.series.autoIncrement():i?v(t.name,s):C(s.keys[t.name],-1)),-1===a?i||(e=s.length):e=a,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,i=this.names;0<i.length&&(d(t.keys(i.keys),(function(t){delete i.keys[t]})),i.length=0,this.minRange=this.userMinRange,d(this.series||[],(function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),d(t.points,(function(i,s){var a;i.options&&(a=e.nameToX(i),void 0!==a&&a!==i.x&&(i.x=a,t.xData[s]=a))}))})))},setAxisTranslation:function(t){var e,i=this,s=i.max-i.min,a=i.axisPointRange||0,o=0,r=0,n=i.linkedParent,l=!!i.categories,c=i.transA,h=i.isXAxis;(h||l||a)&&(e=i.getClosest(),n?(o=n.minPointOffset,r=n.pointRangePadding):d(i.series,(function(t){var s=l?1:h?C(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,a=Math.max(a,s),i.single||(o=Math.max(o,b(t)?0:s/2),r=Math.max(r,"on"===t?0:s))})),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=n,i.pointRangePadding=r*=n,i.pointRange=Math.min(a,s),h&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.options.staticScale||i.len/(s+r||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*o,p(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,s,a,o,n=this,c=n.chart,h=n.options,u=n.isLog,f=n.isDatetimeAxis,g=n.isXAxis,v=n.isLinked,x=h.maxPadding,b=h.minPadding,w=h.tickInterval,S=h.tickPixelInterval,A=n.categories,T=y(n.threshold)?n.threshold:null,I=n.softThreshold;f||A||v||this.getTickAmount(),a=C(n.userMin,h.min),o=C(n.userMax,h.max),v?(n.linkedParent=c[n.coll][h.linkedTo],c=n.linkedParent.getExtremes(),n.min=C(c.min,c.dataMin),n.max=C(c.max,c.dataMax),h.type!==n.linkedParent.options.type&&t.error(11,1)):(!I&&l(T)&&(n.dataMin>=T?(i=T,b=0):n.dataMax<=T&&(s=T,x=0)),n.min=C(a,i,n.dataMin),n.max=C(o,s,n.dataMax)),u&&(n.positiveValuesOnly&&!e&&0>=Math.min(n.min,C(n.dataMin,n.min))&&t.error(10,1),n.min=r(n.log2lin(n.min),15),n.max=r(n.log2lin(n.max),15)),n.range&&l(n.max)&&(n.userMin=n.min=a=Math.max(n.dataMin,n.minFromRange()),n.userMax=o=n.max,n.range=null),p(n,"foundExtremes"),n.beforePadding&&n.beforePadding(),n.adjustForMinRange(),!(A||n.axisPointRange||n.usePercentage||v)&&l(n.min)&&l(n.max)&&(c=n.max-n.min)&&(!l(a)&&b&&(n.min-=c*b),!l(o)&&x&&(n.max+=c*x)),y(h.softMin)&&!y(n.userMin)&&(n.min=Math.min(n.min,h.softMin)),y(h.softMax)&&!y(n.userMax)&&(n.max=Math.max(n.max,h.softMax)),y(h.floor)&&(n.min=Math.max(n.min,h.floor)),y(h.ceiling)&&(n.max=Math.min(n.max,h.ceiling)),I&&l(n.dataMin)&&(T=T||0,!l(a)&&n.min<T&&n.dataMin>=T?n.min=T:!l(o)&&n.max>T&&n.dataMax<=T&&(n.max=T)),n.tickInterval=n.min===n.max||void 0===n.min||void 0===n.max?1:v&&!w&&S===n.linkedParent.options.tickPixelInterval?w=n.linkedParent.tickInterval:C(w,this.tickAmount?(n.max-n.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(n.max-n.min)*S/Math.max(n.len,S)),g&&!e&&d(n.series,(function(t){t.processData(n.min!==n.oldMin||n.max!==n.oldMax)})),n.setAxisTranslation(!0),n.beforeSetTickPositions&&n.beforeSetTickPositions(),n.postProcessTickInterval&&(n.tickInterval=n.postProcessTickInterval(n.tickInterval)),n.pointRange&&!w&&(n.tickInterval=Math.max(n.pointRange,n.tickInterval)),e=C(h.minTickInterval,n.isDatetimeAxis&&n.closestPointRange),!w&&n.tickInterval<e&&(n.tickInterval=e),f||u||w||(n.tickInterval=k(n.tickInterval,null,m(n.tickInterval),C(h.allowDecimals,!(.5<n.tickInterval&&5>n.tickInterval&&1e3<n.max&&9999>n.max)),!!this.tickAmount)),this.tickAmount||(n.tickInterval=n.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var s=e.tickPositioner,a=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()],t[0]===t[1]&&(t.length=1)),this.tickPositions=t,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=t=s),this.paddedTicks=t.slice(0),this.trimTicks(t,a,o),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),i||s||this.adjustTickAmount()),p(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var s=t[0],a=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==s)this.min=s;else for(;this.min-o>t[0];)t.shift();if(i)this.max=a;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(s)&&!this.options.tickPositions&&t.push((a+s)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||d(this.chart[this.coll],(function(i){var s=i.options;s=[i.horiz?s.left:s.top,s.width,s.height,s.pane].join();i.series.length&&(e[s]?t=!0:e[s]=1)})),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,s=this.finalTickAmt,a=e&&e.length,o=C(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<i){for(;e.length<i;)e.length%2||this.min===o?e.push(r(e[e.length-1]+t)):e.unshift(r(e[0]-t));this.transA*=(a-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else a>i&&(this.tickInterval*=2,this.setTickPositions());if(l(s)){for(t=i=e.length;t--;)(3===s&&1===t%2||2>=s&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,(function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)})),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),p(this,"afterSetScale")},setExtremes:function(t,e,i,s,a){var o=this,r=o.chart;i=C(i,!0),d(o.series,(function(t){delete t.kdTree})),a=u(a,{min:t,max:e}),p(o,"setExtremes",a,(function(){o.userMin=t,o.userMax=e,o.eventArgs=a,i&&r.redraw(s)}))},zoom:function(t,e){var i=this.dataMin,s=this.dataMax,a=this.options,o=Math.min(i,C(a.min,i));a=Math.max(s,C(a.max,s));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>a&&(t=a)),l(s)&&(e<o&&(e=o),e>a&&(e=a))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=this.options,s=i.offsets||[0,0,0,0],a=this.horiz,o=this.width=Math.round(t.relativeLength(C(i.width,e.plotWidth-s[3]+s[1]),e.plotWidth)),r=this.height=Math.round(t.relativeLength(C(i.height,e.plotHeight-s[0]+s[2]),e.plotHeight)),n=this.top=Math.round(t.relativeLength(C(i.top,e.plotTop+s[0]),e.plotHeight,e.plotTop));i=this.left=Math.round(t.relativeLength(C(i.left,e.plotLeft+s[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-r-n,this.right=e.chartWidth-o-i,this.len=Math.max(a?o:r,0),this.pos=a?i:n},getExtremes:function(){var t=this.isLog;return{min:t?r(this.lin2log(this.min)):this.min,max:t?r(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?this.lin2log(this.min):this.min;e=e?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(C(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],s=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(s&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,s]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,s=this.options.labels,a=this.horiz,o=this.tickInterval,n=o,h=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=s.rotation,p=this.labelMetrics(),f=Number.MAX_VALUE,m=function(t){return t/=h||1,t=1<t?Math.ceil(t):1,r(t*o)};return a?(i=!s.staggerLines&&!s.step&&(l(u)?[u]:h<C(s.autoRotationLimit,80)&&s.autoRotation))&&d(i,(function(i){var s;(i===u||i&&-90<=i&&90>=i)&&(e=m(Math.abs(p.h/Math.sin(c*i))),s=e+Math.abs(i/360),s<f&&(f=s,t=i,n=e))})):s.step||(n=m(p.h)),this.autoRotation=i,this.labelRotation=C(t,u),n},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,s=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/s||!e&&(i.style&&parseInt(i.style.width,10)||a&&a-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,s=this.chart,a=s.renderer,o=this.tickPositions,r=this.ticks,n=this.options.labels,l=n&&n.style||{},c=this.horiz,h=this.getSlotWidth(),u=Math.max(1,Math.round(h-2*(n.padding||5))),p={},f=this.labelMetrics(),m=n.style&&n.style.textOverflow,g=0;if(b(n.rotation)||(p.rotation=n.rotation||0),d(o,(function(t){(t=r[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)})),this.maxLabelLength=g,this.autoRotation)g>u&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(t=u,!m))for(e="clip",u=o.length;!c&&u--;)i=o[u],(i=r[i].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>h&&i.css({width:h+"px"}),i.getBBox().height>this.len/o.length-(f.h-f.f)&&(i.specificTextOverflow="ellipsis"));p.rotation&&(t=g>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight,m||(e="ellipsis")),(this.labelAlign=n.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),d(o,(function(i){var s=(i=r[i])&&i.label,a=l.width,o={};s&&(s.attr(p),t&&!a&&"nowrap"!==l.whiteSpace&&(t<s.textPxLength||"SPAN"===s.element.tagName)?(o.width=t,m||(o.textOverflow=s.specificTextOverflow||e),s.css(o)):s.styles&&s.styles.width&&!o.width&&!a&&s.css({width:null}),delete s.specificTextOverflow,i.rotation=p.rotation)})),this.tickRotCorr=a.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,s=this.horiz,a=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(s?{low:"left",middle:"center",high:"right"}:{low:a?"right":"left",middle:"center",high:a?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(w(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new M(this,t)},getOffset:function(){var t,e,i,s=this,a=s.chart,o=a.renderer,r=s.options,n=s.tickPositions,c=s.ticks,h=s.horiz,u=s.side,p=a.inverted&&!s.isZAxis?[1,0,3,2][u]:u,f=0,m=0,g=r.title,v=r.labels,x=0,y=a.axisOffset,b=(a=a.clipOffset,[-1,1,1,-1][u]),w=r.className,k=s.axisParent,A=this.tickSize("tick");t=s.hasData(),s.showAxis=e=t||C(r.showEmpty,!0),s.staggerLines=s.horiz&&v.staggerLines,s.axisGroup||(s.gridGroup=o.g("grid").attr({zIndex:r.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),s.axisGroup=o.g("axis").attr({zIndex:r.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),s.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||s.isLinked?(d(n,(function(t,e){s.generateTick(t,e)})),s.renderUnsquish(),s.reserveSpaceDefault=0===u||2===u||{1:"left",3:"right"}[u]===s.labelAlign,C(v.reserveSpace,"center"===s.labelAlign||null,s.reserveSpaceDefault)&&d(n,(function(t){x=Math.max(c[t].getLabelSize(),x)})),s.staggerLines&&(x*=s.staggerLines),s.labelOffset=x*(s.opposite?-1:1)):S(c,(function(t,e){t.destroy(),delete c[e]})),g&&g.text&&!1!==g.enabled&&(s.addTitle(e),e&&!1!==g.reserveSpace&&(s.titleOffset=f=s.axisTitle.getBBox()[h?"height":"width"],i=g.offset,m=l(i)?0:C(g.margin,h?5:10))),s.renderLine(),s.offset=b*C(r.offset,y[u]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=0===u?-s.labelMetrics().h:2===u?s.tickRotCorr.y:0,m=Math.abs(x)+m,x&&(m=m-o+b*(h?C(v.y,s.tickRotCorr.y+8*b):v.x)),s.axisTitleMargin=C(i,m),y[u]=Math.max(y[u],s.axisTitleMargin+f+b*s.offset,m,t&&n.length&&A?A[0]+b*s.offset:0),r=r.offset?0:2*Math.floor(s.axisLine.strokeWidth()/2),a[p]=Math.max(a[p],r)},getLinePath:function(t){var e=this.chart,i=this.opposite,s=this.offset,a=this.horiz,o=this.left+(i?this.width:0)+s;s=e.chartHeight-this.bottom-(i?this.height:0)+s;return i&&(t*=-1),e.renderer.crispLine(["M",a?this.left:o,a?s:this.top,"L",a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,s=this.len,a=this.options.title,o=t?e:i,r=this.opposite,n=this.offset,l=a.x||0,c=a.y||0,h=this.axisTitle,d=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,h);h=Math.max(h.getBBox(null,0).height-d.h-1,0),s={low:o+(t?0:s),middle:o+s/2,high:o+(t?s:0)}[a.align],e=(t?i+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+[-h,h,d.f,-h][this.side];return{x:t?s+l:e+(r?this.width:0)+n+l,y:t?e+c-(r?this.height:0)+n:s+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&y(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new M(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,s=this.ticks,a=this.chart.hasRendered&&y(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(s[t]||(s[t]=new M(this,t)),a&&s[t].isNew&&s[t].render(e,!0,.1),s[t].render(e))},render:function(){var e,s,a=this,o=a.chart,r=a.options,n=a.isLog,l=a.isLinked,c=a.tickPositions,h=a.axisTitle,u=a.ticks,f=a.minorTicks,m=a.alternateBands,g=r.stackLabels,v=r.alternateGridColor,x=a.tickmarkOffset,b=a.axisLine,w=a.showAxis,k=i(o.renderer.globalAnimation);a.labelEdge.length=0,a.overlap=!1,d([u,f,m],(function(t){S(t,(function(t){t.isActive=!1}))})),(a.hasData()||l)&&(a.minorTickInterval&&!a.categories&&d(a.getMinorTickPositions(),(function(t){a.renderMinorTick(t)})),c.length&&(d(c,(function(t,e){a.renderTick(t,e)})),x&&(0===a.min||a.single)&&(u[-1]||(u[-1]=new M(a,-1,null,!0)),u[-1].render(-1))),v&&d(c,(function(i,r){s=void 0!==c[r+1]?c[r+1]+x:a.max-x,0===r%2&&i<a.max&&s<=a.max+(o.polar?-x:x)&&(m[i]||(m[i]=new t.PlotLineOrBand(a)),e=i+x,m[i].options={from:n?a.lin2log(e):e,to:n?a.lin2log(s):s,color:v},m[i].render(),m[i].isActive=!0)})),a._addedPlotLB||(d((r.plotLines||[]).concat(r.plotBands||[]),(function(t){a.addPlotBandOrLine(t)})),a._addedPlotLB=!0)),d([u,f,m],(function(t){var e,i=[],s=k.duration;S(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),I((function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==m&&o.hasRendered&&s?s:0)})),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[w?"show":"hide"](!0)),h&&w&&(r=a.getTitlePosition(),y(r.y)?(h[h.isNew?"attr":"animate"](r),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),g&&g.enabled&&a.renderStackTotals(),a.isDirty=!1,p(this,"afterRender")},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,(function(t){t.render()}))),d(this.series,(function(t){t.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,s=i.stacks,a=i.plotLinesAndBands;if(p(this,"destroy",{keepEvents:t}),t||A(i),S(s,(function(t,e){h(t),s[e]=null})),d([i.ticks,i.minorTicks,i.alternateBands],(function(t){h(t)})),a)for(t=a.length;t--;)a[t].destroy();for(e in d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),(function(t){i[t]&&(i[t]=i[t].destroy())})),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();S(i,(function(t,e){-1===v(e,i.keepProps)&&delete i[e]}))},drawCrosshair:function(t,e){var i,s,a=this.crosshair,r=C(a.snap,!0),n=this.cross;if(p(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!r)){if(r?l(e)&&(s=C(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):s=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(s)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,s)||null),!l(i))return void this.hideCrosshair();r=this.categories&&!this.isRadial,n||(this.cross=n=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+a.className).attr({zIndex:C(a.zIndex,2)}).add(),n.attr({stroke:a.color||(r?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&n.attr({dashstyle:a.dashStyle})),n.show().attr({d:i}),r&&!a.width&&n.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=L}(e);return function(t){var e=t.Axis,i=t.getMagnitude,s=t.normalizeTickInterval,a=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var r,n=a[e[0]],l=e[1];for(r=0;r<o.length&&(e=o[r],n=a[e[0]],l=e[1],!(o[r+1]&&t<=(n*l[l.length-1]+a[o[r+1][0]])/2));r++);return n===a.year&&t<5*n&&(l=[1,2,5]),t=s(t/n,l,"year"===e[0]?Math.max(i(t/n),1):1),{unitRange:n,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,i=t.getMagnitude,s=t.map,a=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,r,n){var l=this.options,c=this.len,h=[];if(n||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),h=this.getLinearTickPositions(t,e,r);else if(.08<=t){var d,u,p,f,m;for(c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<r+1&&!m;c++)for(u=l.length,d=0;d<u&&!m;d++)p=this.log2lin(this.lin2log(c)*l[d]),p>e&&(!n||f<=r)&&void 0!==f&&h.push(f),f>r&&(m=!0),f=p}else e=this.lin2log(e),r=this.lin2log(r),t=n?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(n?5:1)*(r-e)/((n?c/this.tickPositions.length:c)||1)),t=a(t,null,i(t)),h=s(this.getLinearTickPositions(t,e,r),this.log2lin),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),h},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var i=t.arrayMax,s=t.arrayMin,a=t.defined,o=t.destroyObjectProperties,r=t.each,n=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,s=i.horiz,o=e.options,r=o.label,n=e.label,h=o.to,d=o.from,u=o.value,p=a(d)&&a(h),f=a(u),m=e.svgElem,g=!m,v=[],x=o.color,y=c(o.zIndex,0),b=o.events,w=(v={class:"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},{}),k=i.chart.renderer,S=p?"bands":"lines";if(i.isLog&&(d=i.log2lin(d),h=i.log2lin(h),u=i.log2lin(u)),f?(v.stroke=x,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):p&&(x&&(v.fill=x),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),w.zIndex=y,S+="-"+y,(x=i.plotLinesAndBandsGroups[S])||(i.plotLinesAndBandsGroups[S]=x=k.g("plot-"+S).attr(w).add()),g&&(e.svgElem=m=k.path().attr(v).add(x)),f)v=i.getPlotLinePath(u,m.strokeWidth());else{if(!p)return;v=i.getPlotBandPath(d,h,o)}return g&&v&&v.length?(m.attr({d:v}),b&&t.objectEach(b,(function(t,i){m.on(i,(function(t){b[i].apply(e,[t])}))}))):m&&(v?(m.show(),m.animate({d:v})):(m.hide(),n&&(e.label=n=n.destroy()))),r&&a(r.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.isFlat?(r=l({align:s&&p&&"center",x:s?!p&&4:10,verticalAlign:!s&&p&&"middle",y:s?p?16:10:p?6:-4,rotation:s&&!p&&90},r),this.renderLabel(r,v,p,y)):n&&n.hide(),e},renderLabel:function(t,e,a,o){var r=this.label,n=this.axis.chart.renderer;r||(r={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||"")},r.zIndex=o,this.label=r=n.text(t.text,0,0,t.useHTML).attr(r).add(),r.css(t.style)),o=e.xBounds||[e[1],e[4],a?e[6]:e[1]],e=e.yBounds||[e[2],e[5],a?e[7]:e[2]],a=s(o),n=s(e),r.align(t,!1,{x:a,y:n,width:i(o)-a,height:i(e)-n}),r.show()},destroy:function(){n(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,s=this.getPlotLinePath(e,null,null,!0),a=this.getPlotLinePath(t,null,null,!0),o=[],r=this.horiz,n=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,a&&s)for(t&&(i=a.toString()===s.toString(),n=0),t=0;t<a.length;t+=6)r&&s[t+1]===a[t+1]?(s[t+1]+=n,s[t+4]+=n):r||s[t+2]!==a[t+2]||(s[t+2]+=n,s[t+5]+=n),o.push("M",a[t+1],a[t+2],"L",a[t+4],a[t+5],s[t+4],s[t+5],s[t+1],s[t+2],"z"),o.isFlat=i;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var s=new t.PlotLineOrBand(this,e).render(),a=this.userOptions;return s&&(i&&(a[i]=a[i]||[],a[i].push(e)),this.plotLinesAndBands.push(s)),s},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,s=this.userOptions,a=e.length;a--;)e[a].id===t&&e[a].destroy();r([i.plotLines||[],s.plotLines||[],i.plotBands||[],s.plotBands||[]],(function(e){for(a=e.length;a--;)e[a].id===t&&n(e,e[a])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,i),function(t){var e=t.doc,i=t.each,s=t.extend,a=t.format,o=t.isNumber,r=t.map,n=t.merge,l=t.pick,c=t.splat,h=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){i(this.chart.series,(function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))},getLabel:function(){var e,i=this.chart.renderer,s=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:"none"}),t.doc.body.appendChild(e),this.renderer=i=new t.Renderer(e,0,0)),this.split?this.label=i.g("tooltip"):(this.label=i.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,"tooltip").attr({padding:s.padding,r:s.borderRadius}),this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).shadow(s.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),n(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,n(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,a,o){var r=this,n=r.now,l=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(e-n.x)||1<Math.abs(i-n.y)),c=r.followPointer||1<r.len;s(n,{x:l?(2*n.x+e)/3:e,y:l?(n.y+i)/2:i,anchorX:c?void 0:l?(2*n.anchorX+a)/3:a,anchorY:c?void 0:l?(n.anchorY+o)/2:o}),r.getLabel().attr(n),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){r&&r.move(e,i,a,o)}),32))},hide:function(e){var i=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=h((function(){i.getLabel()[e?"fadeOut":"hide"](),i.isHidden=!0}),e))},getAnchor:function(t,e){var s,a,o,n=this.chart,l=n.inverted,h=n.plotTop,d=n.plotLeft,u=0,p=0;return t=c(t),s=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=n.pointer.normalize(e)),s=[e.chartX-n.plotLeft,e.chartY-h]),s||(i(t,(function(t){a=t.series.yAxis,o=t.series.xAxis,u+=t.plotX+(!l&&o?o.left-d:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&a?a.top-h:0)})),u/=t.length,p/=t.length,s=[l?n.plotWidth-p:u,this.shared&&!l&&1<t.length&&e?e.chartY-h:l?n.plotHeight-u:p]),r(s,Math.round)},getPosition:function(t,i,s){var a,o=this.chart,r=this.distance,n={},c=o.inverted&&s.h||0,h=this.outside,d=h?e.documentElement.clientWidth-2*r:o.chartWidth,u=h?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,f=["y",u,i,(h?p.top-r:0)+s.plotY+o.plotTop,h?0:o.plotTop,h?u:o.plotTop+o.plotHeight],m=["x",d,t,(h?p.left-r:0)+s.plotX+o.plotLeft,h?0:o.plotLeft,h?d:o.plotLeft+o.plotWidth],g=!this.followPointer&&l(s.ttBelow,!o.inverted===!!s.negative),v=function(t,e,i,s,a,o){var l=i<s-r,h=s+r+i<e,d=s-r-i;if(s+=r,g&&h)n[t]=s;else if(!g&&l)n[t]=d;else if(l)n[t]=Math.min(o-i,0>d-c?d:d-c);else{if(!h)return!1;n[t]=Math.max(a,s+c+i>e?s:s+c)}},x=function(t,e,i,s){var a;return s<r||s>e-r?a=!1:n[t]=s<i/2?1:s>e-i/2?e-i-2:s-i/2,a},y=function(t){var e=f;f=m,m=e,a=t},b=function(){!1!==v.apply(0,f)?!1!==x.apply(0,m)||a||(y(!0),b()):a?n.x=n.y=0:(y(!0),b())};return(o.inverted||1<this.len)&&y(),b(),n},defaultFormatter:function(t){var e,i=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(e,s){var a,o,r,n=this.options,h=e,d={},u=[];a=n.formatter||this.defaultFormatter;var p;d=this.shared;n.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=c(h)[0].series.tooltipOptions.followPointer,r=this.getAnchor(h,s),s=r[0],o=r[1],!d||h.series&&h.series.noSharedTooltip?d=h.getLabelConfig():(i(h,(function(t){t.setState("hover"),u.push(t.getLabelConfig())})),d={x:h[0].category,y:h[0].y},d.points=u,h=h[0]),this.len=u.length,d=a.call(d,this),p=h.series,this.distance=l(p.tooltipOptions.distance,16),!1===d?this.hide():(a=this.getLabel(),this.isHidden&&a.attr({opacity:1}).show(),this.split?this.renderSplit(d,c(e)):(n.style.width||a.css({width:this.chart.spacingBox.width}),a.attr({text:d&&d.join?d.join(""):d}),a.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(h.colorIndex,p.colorIndex)),a.attr({stroke:n.borderColor||h.color||p.color||"#666666"}),this.updatePosition({plotX:s,plotY:o,negative:h.negative,ttBelow:h.ttBelow,h:r[2]||0})),this.isHidden=!1))},renderSplit:function(e,s){var a=this,o=[],r=this.chart,n=r.renderer,c=!0,h=this.options,d=0,u=this.getLabel();t.isString(e)&&(e=[!1,e]),i(e.slice(0,s.length+1),(function(t,e){if(!1!==t){e=s[e-1]||{isHeader:!0,plotX:s[0].plotX};var i=e.series||a,p=i.tt,f=e.series||{},m="highcharts-color-"+l(e.colorIndex,f.colorIndex,"none");p||(i.tt=p=n.label(null,null,null,"callout",null,null,h.useHTML).addClass("highcharts-tooltip-box "+m).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:h.borderColor||e.color||f.color||"#333333","stroke-width":h.borderWidth}).add(u)),p.isActive=!0,p.attr({text:t}),p.css(h.style).shadow(h.shadow),t=p.getBBox(),f=t.width+p.strokeWidth(),e.isHeader?(d=t.height,f=Math.max(0,Math.min(e.plotX+r.plotLeft-f/2,r.chartWidth-f))):f=e.plotX+r.plotLeft-l(h.distance,16)-f,0>f&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=r.plotTop,o.push({target:e.isHeader?r.plotHeight+d:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:f,tt:p})}})),this.cleanSplit(),t.distribute(o,r.plotHeight+d),i(o,(function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+r.plotLeft+l(h.distance,16),y:t.pos+r.plotTop,anchorX:e.isHeader?e.plotX+r.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+r.plotTop-15:e.plotY+i.yAxis.pos})}))},updatePosition:function(t){var e,i=this.chart,s=this.getLabel(),a=(this.options.positioner||this.getPosition).call(this,s.width,s.height,t),o=t.plotX+i.plotLeft;t=t.plotY+i.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(s.width+e,s.height+e,!1),o+=i.pointer.chartPosition.left-a.x,t+=i.pointer.chartPosition.top-a.y),this.move(Math.round(a.x),Math.round(a.y||0),o,t)},getDateFormat:function(t,e,i,s){var a,o,r=this.chart.time,n=r.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in d){if(t===d.week&&+r.dateFormat("%w",e)===i&&"00:00:00.000"===n.substr(6)){o="week";break}if(d[o]>t){o=c;break}if(l[o]&&n.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(a=s[o]),a},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var s=i&&i.closestPointRange;return(s?this.getDateFormat(s,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var s=t.series,r=s.tooltipOptions,n=r.xDateFormat,l=s.xAxis,c=l&&"datetime"===l.options.type&&o(t.key),h=r[e+"Format"];return c&&!n&&(n=this.getXDateFormat(t,r,l)),c&&n&&i(t.point&&t.point.tooltipDateKeys||["key"],(function(t){h=h.replace("{point."+t+"}","{point."+t+":"+n+"}")})),a(h,{point:t,series:s},this.chart.time)},bodyFormatter:function(t){return r(t,(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])}))}}}(e),function(t){var e=t.addEvent,i=t.attr,s=t.charts,a=t.color,o=t.css,r=t.defined,n=t.each,l=t.extend,c=t.find,h=t.fireEvent,d=t.isNumber,u=t.isObject,p=t.offset,f=t.pick,m=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,s=i.zoomType||"";e=e.inverted;/touch/.test(t.type)&&(s=f(i.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=t&&!e||s&&e,this.zoomVert=s&&!e||t&&e,this.hasZoom=t||s},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),l(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return n(this.chart.axes,(function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e},findNearestKDPoint:function(t,e,i){var s;return n(t,(function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,a),(a=u(t,!0))&&!(a=!u(s,!0))){a=s.distX-t.distX;var o=s.dist-t.dist,r=(t.series.group&&t.series.group.zIndex)-(s.series.group&&s.series.group.zIndex);a=0<(0!==a&&e?a:0!==o?o:0!==r?r:s.series.index>t.series.index?-1:1)}a&&(s=t)})),s},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,s=i.xAxis,a=(i=i.yAxis,f(t.clientX,t.plotX)),o=t.shapeArgs;return s&&i?e?{chartX:s.len+s.pos-a,chartY:i.len+i.pos-t.plotY}:{chartX:a+s.pos,chartY:t.plotY+i.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,i,s,a,o,r,l){var h,d=[],p=l&&l.isBoosting;return a=!(!a||!e),l=i&&!i.stickyTracking?[i]:t.grep(s,(function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&t.stickyTracking})),i=(h=a?e:this.findNearestKDPoint(l,o,r))&&h.series,h&&(o&&!i.noSharedTooltip?(l=t.grep(s,(function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip})),n(l,(function(t){var e=c(t.points,(function(t){return t.x===h.x&&!t.isNull}));u(e)&&(p&&(e=t.getPoint(e)),d.push(e))}))):d.push(h)),{hoverPoint:h,hoverSeries:i,hoverPoints:d}},runPointActions:function(i,a){var o,r=this.chart,l=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,c=!!l&&l.shared,h=a||r.hoverPoint,d=h&&h.series||r.hoverSeries;d=this.getHoverData(h,d,r.series,!!a||d&&d.directTouch&&this.isDirectTouch,c,i,{isBoosting:r.isBoosting}),h=d.hoverPoint;if(o=d.hoverPoints,a=(d=d.hoverSeries)&&d.tooltipOptions.followPointer,c=c&&d&&!d.noSharedTooltip,h&&(h!==r.hoverPoint||l&&l.isHidden)){if(n(r.hoverPoints||[],(function(e){-1===t.inArray(e,o)&&e.setState()})),n(o||[],(function(t){t.setState("hover")})),r.hoverSeries!==d&&d.onMouseOver(),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!h.series)return;h.firePointEvent("mouseOver"),r.hoverPoints=o,r.hoverPoint=h,l&&l.refresh(c?o:h,i)}else a&&l&&!l.isHidden&&(h=l.getAnchor([{}],i),l.updatePosition({plotX:h[0],plotY:h[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(r.container.ownerDocument,"mousemove",(function(e){var i=s[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)}))),n(r.axes,(function(e){var s=f(e.crosshair.snap,!0),a=s?t.find(o,(function(t){return t.series[e.coll]===e})):void 0;a||!s?e.drawCrosshair(i,a):e.hideCrosshair()}))},reset:function(t,e){var i=this.chart,s=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,r=i.tooltip,l=r&&r.shared?o:a;t&&l&&n(m(l),(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?r&&l&&(r.refresh(l),a&&(a.setState(a.state,!0),n(i.axes,(function(t){t.crosshair&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),o&&n(o,(function(t){t.setState()})),s&&s.onMouseOut(),r&&r.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n(i.axes,(function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,s=this.chart;n(s.series,(function(a){i=t||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(e?s.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))})),s.clipRect.attr(e||s.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,s=i.options.chart,o=t.chartX,r=t.chartY,n=this.zoomHor,l=this.zoomVert,c=i.plotLeft,h=i.plotTop,d=i.plotWidth,u=i.plotHeight,p=this.selectionMarker,f=this.mouseDownX,m=this.mouseDownY,g=s.panKey&&t[s.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+d&&(o=c+d),r<h?r=h:r>h+u&&(r=h+u),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(m-r,2)),10<this.hasDragged&&(e=i.isInsidePlot(f-c,m-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=i.renderer.rect(c,h,n?1:d,l?1:u,0).attr({fill:s.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&n&&(o-=f,p.attr({width:Math.abs(o),x:(0<o?0:o)+f})),p&&l&&(o=r-m,p.attr({height:Math.abs(o),y:(0<o?0:o)+m})),e&&!p&&s.panning&&i.pan(t,s.panning)))},drop:function(t){var e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){var a,c={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,p=u.attr?u.attr("x"):u.x,f=u.attr?u.attr("y"):u.y,m=u.attr?u.attr("width"):u.width,g=u.attr?u.attr("height"):u.height;(this.hasDragged||s)&&(n(i.axes,(function(i){if(i.zoomEnabled&&r(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,n="touchend"===t.type?i.minPixelPadding:0,l=i.toValue((o?p:f)+n);o=i.toValue((o?p+m:f+g)-n);c[i.coll].push({axis:i,min:Math.min(l,o),max:Math.max(l,o)}),a=!0}})),a&&h(i,"selection",c,(function(t){i.zoom(l(t,s?{animation:!1}:null))}))),d(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&d(i.index)&&(o(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){s[t.hoverChartIndex]&&s[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=s[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;r(t.hoverChartIndex)&&s[t.hoverChartIndex]&&s[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var s;t;){if(s=i(t,"class")){if(-1!==s.indexOf(e))return!0;if(-1!==s.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,s=e.plotLeft,a=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(h(i.series,"click",l(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-s,t.chartY-a)&&h(e,"click",t)))},setDOMEvents:function(){var i=this,s=i.chart.container,a=s.ownerDocument;s.onmousedown=function(t){i.onContainerMouseDown(t)},s.onmousemove=function(t){i.onContainerMouseMove(t)},s.onclick=function(t){i.onContainerClick(t)},this.unbindContainerMouseLeave=e(s,"mouseleave",i.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(a,"mouseup",i.onDocumentMouseUp)),t.hasTouch&&(s.ontouchstart=function(t){i.onContainerTouchStart(t)},s.ontouchmove=function(t){i.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(a,"touchend",i.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,(function(t,i){e[i]=null}))}}}(e),function(t){var e=t.charts,i=t.each,s=t.extend,a=t.map,o=t.noop,r=t.pick;s(t.Pointer.prototype,{pinchTranslate:function(t,e,i,s,a,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,s,a,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,s,a,o)},pinchTranslateDirection:function(t,e,i,s,a,o,r,n){var l,c,h,d=this.chart,u=t?"x":"y",p=t?"X":"Y",f="chart"+p,m=t?"width":"height",g=d["plot"+(t?"Left":"Top")],v=n||1,x=d.inverted,y=d.bounds[t?"h":"v"],b=1===e.length,w=e[0][f],k=i[0][f],S=!b&&e[1][f],C=!b&&i[1][f];i=function(){!b&&20<Math.abs(w-S)&&(v=n||Math.abs(k-C)/Math.abs(w-S)),c=(g-k)/v+w,l=d["plot"+(t?"Width":"Height")]/v},i(),e=c,e<y.min?(e=y.min,h=!0):e+l>y.max&&(e=y.max-l,h=!0),h?(k-=.8*(k-r[u][0]),b||(C-=.8*(C-r[u][1])),i()):r[u]=[k,C],x||(o[u]=c-g,o[m]=l),o=x?1/v:v,a[m]=l,a[u]=e,s[x?t?"scaleY":"scaleX":"scale"+p]=v,s["translate"+p]=o*g+(k-o*w)},pinch:function(t){var e=this,n=e.chart,l=e.pinchDown,c=t.touches,h=c.length,d=e.lastValidTouch,u=e.hasZoom,p=e.selectionMarker,f={},m=1===h&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),g={};1<h&&(e.initiated=!0),u&&e.initiated&&!m&&t.preventDefault(),a(c,(function(t){return e.normalize(t)})),"touchstart"===t.type?(i(c,(function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}})),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],i(n.axes,(function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(r(t.options.min,t.dataMin)),a=t.toPixels(r(t.options.max,t.dataMax)),o=Math.max(s,a);e.min=Math.min(t.pos,Math.min(s,a)-i),e.max=Math.max(t.pos+t.len,o+i)}})),e.res=!0):e.followTouchMove&&1===h?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=s({destroy:o,touch:!0},n.plotBox)),e.pinchTranslate(l,c,f,p,g,d),e.hasPinched=u,e.scaleGroups(f,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var s,a=this.chart;a.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=a.index,1===e.touches.length?(e=this.normalize(e),a.isInsidePlot(e.chartX-a.plotLeft,e.chartY-a.plotTop)&&!a.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,s=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),r(s,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){var e=t.addEvent,i=t.charts,s=t.css,a=t.doc,o=t.extend,r=t.noop,n=t.Pointer,l=t.removeEvent,c=t.win,h=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var d={},u=!!c.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e},f=function(e,s,a,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),o=i[t.hoverChartIndex].pointer,o[s]({type:a,target:e.currentTarget,preventDefault:r,touches:p()}))};o(n.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",(function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",(function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",(function(t){delete d[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,u?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,u?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(a,u?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(n.prototype,"init",(function(t,e,i){t.call(this,e,i),this.hasZoom&&s(e.container,{"-ms-touch-action":"none","touch-action":"none"})})),h(n.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)})),h(n.prototype,"destroy",(function(t){this.batchMSEvents(l),t.call(this)}))}}(e),function(t){var e=t.addEvent,i=t.css,s=t.discardElement,a=t.defined,o=t.each,r=t.fireEvent,n=t.isFirefox,l=t.marginNames,c=t.merge,h=t.pick,d=t.setAnimation,u=t.stableSort,p=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=e(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=h(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=h(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,h(e,!0)&&i.redraw(),r(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,s=t.legendItem,a=t.legendLine,o=t.legendSymbol,n=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:n,e&&t.color||n),c=t.options&&t.options.marker,h={fill:l};s&&s.css({fill:i,color:i}),a&&a.attr({stroke:l}),o&&(c&&o.isMarker&&(h=t.pointAttribs(),e||(h.stroke=h.fill=n)),o.attr(h)),r(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,i=e.symbolPadding,s=(e=!e.rtl,t._legendItemPos),o=s[0],r=(s=s[1],t.checkbox);(t=t.legendGroup)&&t.element&&t[a(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*i-4,translateY:s}),r&&(r.x=o,r.y=s)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],(function(e){t[e]&&(t[e]=t[e].destroy())})),e&&s(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),(function(e){o(["legendItem","legendGroup"],t,e)})),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,s=this.clipHeight||this.legendHeight,a=this.titleHeight;e&&(t=e.translateY,o(this.allItems,(function(o){var r,n=o.checkbox;n&&(r=t+a+n.y+(this.scrollOffset||0)+3,i(n,{left:e.translateX+o.checkboxOffset+n.x-20+"px",top:r+"px",display:r>t-6&&r<t+s-6?"":"none"}))}),this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,s=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),s=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:s})),this.titleHeight=s},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,s=this.options,a=this.symbolWidth,o=s.symbolPadding,r=this.itemStyle,n=this.itemHiddenStyle,l="horizontal"===s.layout?h(s.itemDistance,20):0,d=!s.rtl,u=t.legendItem,p=!t.series,f=!p&&t.series.drawLegendSymbol?t.series:t,m=f.options,g=(m=this.createCheckboxForItem&&m&&m.showCheckbox,l=a+o+l+(m?20:0),s.useHTML),v=t.options.className;u||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=u=i.text("",d?a+o:-o,this.baseline||0,g).css(c(t.visible?r:n)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=r.fontSize,this.fontMetrics=i.fontMetrics(a,u),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,u.attr("y",this.baseline)),this.symbolHeight=s.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,u,g),m&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),r.width||u.css({width:(s.itemWidth||s.width||e.spacingBox.width)-l}),this.setText(t),e=u.getBBox(),t.itemWidth=t.checkboxOffset=s.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,s="horizontal"===e.layout,a=t.itemHeight,o=e.itemMarginBottom||0,r=this.itemMarginTop,n=s?h(e.itemDistance,20):0,l=e.width,c=l||this.chart.spacingBox.width-2*i-e.x;e=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth;s&&this.itemX-i+e>c&&(this.itemX=i,this.itemY+=r+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=e:(this.itemY+=r+a+o,this.lastLineHeight=a),this.offsetWidth=l||Math.max((s?this.itemX-i-(t.checkbox?0:n):e)+i,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,(function(e){var i=e&&e.options;e&&h(i.showInLegend,!a(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))})),r(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,s=this.options,r=this.getAlignment();r&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(o,n){o.test(r)&&!a(t[n])&&(i[l[n]]=Math.max(i[l[n]],i.legend[(n+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][n]*s[n%2?"x":"y"]+h(s.margin,12)+e[n]+(0===n&&void 0!==i.options.title.margin?i.titleOffset+i.options.title.margin:0)))}))},proximatePositions:function(){var e=this.chart,i=[],s="left"===this.options.align;o(this.allItems,(function(a){var o,r;o=s,a.xAxis&&a.points&&(a.xAxis.options.reversed&&(o=!o),o=t.find(o?a.points:a.points.slice(0).reverse(),(function(e){return t.isNumber(e.plotY)})),r=a.legendGroup.getBBox().height,i.push({target:a.visible?o.plotY-.3*r:e.plotHeight,size:r,item:a}))}),this),t.distribute(i,e.plotHeight),o(i,(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos}))},render:function(){var t,e,i,s=this.chart,a=s.renderer,r=this.group,n=this.box,l=this.options,h=this.padding;this.itemX=h,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,r||(this.group=r=a.g("legend").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(r),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),u(t,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+h,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=h,n||(this.box=n=a.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(r),n.isNew=!0),n.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<i&&(n[n.isNew?"attr":"animate"](n.crisp.call({},{x:0,y:0,width:t,height:i},n.strokeWidth())),n.isNew=!1),n[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=i,e&&(a=s.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(a=c(a,{y:a.y+s.titleOffset+s.options.title.margin})),r.align(c(l,{width:t,height:i,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,a)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,i,s=this,a=this.chart,r=a.renderer,n=this.options,l=n.y,c=this.padding,d=(a=a.spacingBox.height+("top"===n.verticalAlign?-l:l)-c,l=n.maxHeight,this.clipRect),u=n.navigation,p=h(u.animation,!0),f=u.arrowSize||12,m=this.nav,g=this.pages,v=this.allItems,x=function(t){"number"===typeof t?d.attr({height:t}):d&&(s.clipRect=d.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==n.layout||"middle"===n.verticalAlign||n.floating||(a/=2),l&&(a=Math.min(a,l)),g.length=0,t>a&&!1!==u.enabled?(this.clipHeight=e=Math.max(a-20-this.titleHeight-c,0),this.currentPage=h(this.currentPage,1),this.fullHeight=t,o(v,(function(t,s){var a=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),r=g.length;(!r||a-g[r-1]>e&&(i||a)!==g[r-1])&&(g.push(i||a),r++),t.pageIx=r-1,i&&(v[s-1].pageIx=r-1),s===v.length-1&&a+o-g[r-1]>e&&(g.push(a),t.pageIx=r),a!==i&&(i=a)})),d||(d=s.clipRect=r.clipRect(0,c,9999,0),s.contentGroup.clip(d)),x(e),m||(this.nav=m=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,f,f).on("click",(function(){s.scroll(-1,p)})).add(m),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(m),this.down=r.symbol("triangle-down",0,0,f,f).on("click",(function(){s.scroll(1,p)})).add(m)),s.scroll(0),t=a):m&&(x(),this.nav=m.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,s=i.length;t=this.currentPage+t;var a=this.clipHeight,o=this.options.navigation,r=this.pager,n=this.padding;t>s&&(t=s),0<t&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:n,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),r.attr({text:t+"/"+s}),this.down.attr({x:18+this.pager.getBBox().width,class:t===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===s?o.inactiveColor:o.activeColor}).css({cursor:t===s?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,s=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(s?(t.symbolWidth-i)/2:0,t.baseline-i+1,s?i:t.symbolWidth,i,h(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,s=i.marker,a=t.symbolWidth,o=t.symbolHeight,r=o/2,n=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=n.path(["M",0,t,"L",a,t]).addClass("highcharts-graph").attr(e).add(l),s&&!1!==s.enabled&&a&&(i=Math.min(h(s.radius,r),r),0===this.symbol.indexOf("url")&&(s=c(s,{width:o,height:o}),i=0),this.legendSymbol=s=n.symbol(this.symbol,a/2-i,t-i,2*i,2*i,s).addClass("highcharts-point").add(l),s.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||n)&&f(t.Legend.prototype,"positionItem",(function(t,e){var i=this,s=function(){e._legendItemPos&&t.call(i,e)};s(),setTimeout(s)}))}(e),function(t){var e=t.addEvent,i=t.animate,s=t.animObject,a=t.attr,o=t.doc,r=t.Axis,n=t.createElement,l=t.defaultOptions,c=t.discardElement,h=t.charts,d=t.css,u=t.defined,p=t.each,f=t.extend,m=t.find,g=t.fireEvent,v=t.grep,x=t.isNumber,y=t.isObject,b=t.isString,w=t.Legend,k=t.marginNames,S=t.merge,C=t.objectEach,A=t.Pointer,T=t.pick,I=t.pInt,M=t.removeEvent,L=t.seriesTypes,P=t.splat,_=t.syncTimeout,O=t.win,D=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new D(t,e,i)},f(D.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(b(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,s){var a,o,r=i.series,n=i.plotOptions||{};g(this,"init",{args:arguments},(function(){for(o in i.series=null,a=S(l,i),a.plotOptions)a.plotOptions[o].tooltip=n[o]&&S(n[o].tooltip)||void 0;a.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,a.series=i.series=r,this.userOptions=i;var c=a.chart,d=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=s,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=i.time&&t.keys(i.time).length?new t.Time(i.time):t.time,this.hasCartesianSeries=c.showAxes;var u=this;u.index=h.length,h.push(u),t.chartCount++,d&&C(d,(function(t,i){e(u,i,t)})),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,g(u,"afterInit"),u.firstRender()}))},initSeries:function(e){var i=this.options.chart;return(i=L[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),i=new i,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var s=i?e:t;return t=i?t:e,0<=s&&s<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var i,s,a,o=this.axes,r=this.series,n=this.pointer,l=this.legend,c=this.isDirtyLegend,h=this.hasCartesianSeries,d=this.isDirtyBox,u=this.renderer,m=u.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),m&&this.temporaryDisplay(),this.layOutTitles(),e=r.length;e--;)if(a=r[e],a.options.stacking&&(i=!0,a.isDirty)){s=!0;break}if(s)for(e=r.length;e--;)a=r[e],a.options.stacking&&(a.isDirty=!0);p(r,(function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&g(t,"updatedData")})),c&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),h&&p(o,(function(t){t.updateNames(),t.setScale()})),this.getMargins(),h&&(p(o,(function(t){t.isDirty&&(d=!0)})),p(o,(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push((function(){g(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(d||i)&&t.redraw()}))),d&&this.drawChartBox(),g(this,"predraw"),p(r,(function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),n&&n.reset(!0),u.draw(),g(this,"redraw"),g(this,"render"),m&&this.temporaryDisplay(!0),p(v,(function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,s,a=this.series;for(i=m(this.axes,e)||m(this.series,e),s=0;!i&&s<a.length;s++)i=m(a[s].points||[],e);return i},getAxes:function(){var t=this,e=this.options,i=e.xAxis=P(e.xAxis||{});e=e.yAxis=P(e.yAxis||{});g(this,"getAxes"),p(i,(function(t,e){t.index=e,t.isX=!0})),p(e,(function(t,e){t.index=e})),i=i.concat(e),p(i,(function(e){new r(t,e)})),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return p(this.series,(function(e){t=t.concat(v(e.data||[],(function(t){return t.selected})))})),t},getSelectedSeries:function(){return v(this.series,(function(t){return t.selected}))},setTitle:function(t,e,i){var s,a=this,o=a.options;s=o.title=S({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=S({style:{color:"#666666"}},o.subtitle,e),p([["title",t,s],["subtitle",e,o]],(function(t,e){var i=t[0],s=a[i],o=t[1];t=t[2],s&&o&&(a[i]=s=s.destroy()),t&&!s&&(a[i]=a.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),a[i].update=function(t){a.setTitle(!e&&t,e&&t)},a[i].css(t.style))})),a.layOutTitles(i)},layOutTitles:function(t){var e,i=0,s=this.renderer,a=this.spacingBox;p(["title","subtitle"],(function(t){var e,o=this[t],r=this.options[t];t="title"===t?-3:r.verticalAlign?0:i+2,o&&(e=r.style.fontSize,e=s.fontMetrics(e,o).b,o.css({width:(r.width||a.width+r.widthAdjust)+"px"}).align(f({y:t+e},r),!1,"spacingBox"),r.floating||r.verticalAlign||(i=Math.ceil(i+o.getBBox(r.useHTML).height)))}),this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width,s=(e=e.height,this.renderTo);u(i)||(this.containerWidth=t.getStyle(s,"width")),u(e)||(this.containerHeight=t.getStyle(s,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(o.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style;)if(o.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,o.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),i=i.parentNode,i===o.body)break},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,s,r=this.options,l=r.chart;e=this.renderTo;var c,d=t.uniqueKey();e||(this.renderTo=e=l.renderTo),b(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),i=I(a(e,"data-highcharts-chart")),x(i)&&h[i]&&h[i].hasRendered&&h[i].destroy(),a(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,s=this.chartHeight,c=f({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=n("div",{id:d},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,i,s,null,l.forExport,r.exporting&&r.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,s=this.titleOffset;this.resetMargins(),s&&!u(i[0])&&(this.plotTop=Math.max(this.plotTop,s+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,(function(t){t.visible&&t.getOffset()})),p(k,(function(s,a){u(i[a])||(t[s]+=e[a])})),t.setChartSize()},reflow:function(e){var i=this,s=i.options.chart,a=i.renderTo,r=u(s.width)&&u(s.height),n=s.width||t.getStyle(a,"width");s=s.height||t.getStyle(a,"height"),a=e?e.target:O;r||i.isPrinting||!n||!s||a!==O&&a!==o||(n===i.containerWidth&&s===i.containerHeight||(t.clearTimeout(i.reflowTimeout),i.reflowTimeout=_((function(){i.container&&i.setSize(void 0,void 0,!1)}),e?100:0)),i.containerWidth=n,i.containerHeight=s)},setReflow:function(t){var i=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(O,"resize",(function(t){i.reflow(t)})),e(this,"destroy",this.unbindReflow))},setSize:function(e,a,o){var r=this,n=r.renderer;r.isResizing+=1,t.setAnimation(o,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==e&&(r.options.chart.width=e),void 0!==a&&(r.options.chart.height=a),r.getChartSize(),e=n.globalAnimation,(e?i:d)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},e),r.setChartSize(!0),n.setSize(r.chartWidth,r.chartHeight,o),p(r.axes,(function(t){t.isDirty=!0,t.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(o),r.oldChartHeight=null,g(r,"resize"),_((function(){r&&g(r,"endResize",null,(function(){--r.isResizing}))}),s(e).duration)},setChartSize:function(t){var e,i,s,a,o=this.inverted,r=this.renderer,n=this.chartWidth,l=this.chartHeight,c=this.options.chart,h=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=s=Math.max(0,Math.round(n-e-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=o?a:s,this.plotSizeY=o?s:a,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:h[3],y:h[0],width:n-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=r.plotBox={x:e,y:i,width:s,height:a},n=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(n,d[3])/2),r=Math.ceil(Math.max(n,d[0])/2),this.clipBox={x:o,y:r,width:Math.floor(this.plotSizeX-Math.max(n,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(n,d[2])/2-r))},t||p(this.axes,(function(t){t.setAxisSize(),t.setAxisTranslation()})),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],(function(i){var s=e[i],a=y(s)?s:[s,s,s,s];p(["Top","Right","Bottom","Left"],(function(s,o){t[i][o]=T(e[i+s],a[o])}))})),p(k,(function(e,i){t[e]=T(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,s=this.renderer,a=this.chartWidth,o=this.chartHeight,r=this.chartBackground,n=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,h=i.backgroundColor,d=i.plotBackgroundColor,u=i.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,m=this.plotWidth,v=this.plotHeight,x=this.plotBox,y=this.clipRect,b=this.clipBox,w="animate";r||(this.chartBackground=r=s.rect().addClass("highcharts-background").add(),w="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),h={fill:h||"none"},(t||r["stroke-width"])&&(h.stroke=i.borderColor,h["stroke-width"]=t),r.attr(h).shadow(i.shadow),r[w]({x:e/2,y:e/2,width:a-e-t%2,height:o-e-t%2,r:i.borderRadius}),w="animate",n||(w="attr",this.plotBackground=n=s.rect().addClass("highcharts-plot-background").add()),n[w](x),n.attr({fill:d||"none"}).shadow(i.plotShadow),u&&(c?c.animate(x):this.plotBGImage=s.image(u,p,f,m,v).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=s.clipRect(b),w="animate",l||(w="attr",this.plotBorder=l=s.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:p,y:f,width:m,height:v},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,s=this,a=s.options.chart,o=s.options.series;p(["inverted","angular","polar"],(function(r){for(t=L[a.type||a.defaultSeriesType],i=a[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=L[o[e].type])&&t.prototype[r]&&(i=!0);s[r]=i}))},linkSeries:function(){var t=this,e=t.series;p(e,(function(t){t.linkedSeries.length=0})),p(e,(function(e){var i=e.options.linkedTo;b(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=T(e.options.visible,i.options.visible,e.visible))})),g(this,"afterLinkSeries")},renderSeries:function(){p(this.series,(function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,(function(i){var s=f(e.style,i.style),a=I(s.left)+t.plotLeft,o=I(s.top)+t.plotTop+12;delete s.left,delete s.top,t.renderer.text(i.html,a,o).attr({zIndex:2}).css(s).add()}))},render:function(){var t,e,i,s=this.axes,a=this.renderer,o=this.options;this.setTitle(),this.legend=new w(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(s,(function(t){t.setScale()})),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(p(s,(function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(s,(function(t){t.visible&&t.render()})),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=S(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(O.location.href=t.href)})).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,s=i.axes,a=i.series,o=i.container,r=o&&o.parentNode;for(g(i,"destroy"),i.renderer.forExport?t.erase(h,i):h[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),M(i),e=s.length;e--;)s[e]=s[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=a.length;e--;)a[e]=a[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),(function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())})),o&&(o.innerHTML="",M(o),r&&c(o)),C(i,(function(t,e){delete i[e]}))},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],(function(e){t.initSeries(e)})),t.linkSeries(),g(t,"beforeRender"),A&&(t.pointer=new A(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),(function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),g(this,"load"),g(this,"render"),u(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,i=t.Chart,s=t.each;e(i,"afterSetChartSize",(function(e){var i=this.options.chart.scrollablePlotArea;(i=i&&i.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=i=Math.max(0,i-this.chartWidth))&&(this.plotWidth+=i,this.clipBox.width+=i,e.skipAxes||s(this.axes,(function(e){1===e.side?e.getPlotLinePath=function(){var i,s=this.right;return this.right=s-e.chart.scrollablePixels,i=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=s,i}:(e.setAxisSize(),e.setAxisTranslation())})))})),e(i,"render",(function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.applyFixed=function(){var e,i,s=this.container,a=!this.fixedDiv;a&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title"],(function(i){t.each(s.querySelectorAll(i),(function(t){e.box.appendChild(t),t.style.pointerEvents="auto"}))}))),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),i=this.chartWidth+this.scrollablePixels,this.container.style.width=i+"px",this.renderer.boxWrapper.attr({width:i,height:this.chartHeight,viewBox:[0,0,i,this.chartHeight].join(" ")}),a&&(i=this.options.chart.scrollablePlotArea,i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*i.scrollPositionX)),a=this.axisOffset,i=this.plotTop-a[0]-1;a=this.plotTop+this.plotHeight+a[2];var o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,i,"L",this.plotLeft-1,i,"L",this.plotLeft-1,a,"L",0,a,"Z","M",o,i,"L",this.chartWidth,i,"L",this.chartWidth,a,"L",o,a,"Z"]:["M",0,0]})}}(e),function(t){var e,i=t.each,s=t.extend,a=t.erase,o=t.fireEvent,r=t.format,n=t.isArray,l=t.isNumber,c=t.pick,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=c(this.colorIndex,i),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,i){var a=this.series,o=a.options.pointValKey||a.pointValKey;return t=e.prototype.optionsToObject.call(this,t),s(this,t),this.options=this.options?s(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===i?a.autoIncrement(this):i),this},setNestedProperty:function(e,i,s){return s=s.split("."),t.reduce(s,(function(e,s,a,o){return e[s]=o.length-1===a?i:t.isObject(e[s],!0)?e[s]:{},e[s]}),e),e},optionsToObject:function(e){var i={},s=this.series,a=s.options.keys,o=a||s.pointArrayMap||["y"],r=o.length,c=0,h=0;if(l(e)||null===e)i[o[0]]=e;else if(n(e))for(!a&&e.length>r&&(s=typeof e[0],"string"===s?i.name=e[0]:"number"===s&&(i.x=e[0]),c++);h<r;)a&&void 0===e[c]||(0<o[h].indexOf(".")?t.Point.prototype.setNestedProperty(i,e[c],o[h]):i[o[h]]=e[c]),c++,h++;else"object"===typeof e&&(i=e,e.dataLabels&&(s._hasPointLabels=!0),e.marker&&(s._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,s=(e=e.zoneAxis||"y",0);for(t=i[s];this[e]>=t.value;)t=i[++s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),a(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,s=e.tooltipOptions,a=c(s.valueDecimals,""),o=s.valuePrefix||"",n=s.valueSuffix||"";return i(e.pointArrayMap||["y"],(function(e){e="{point."+e,(o||n)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+n)),t=t.replace(RegExp(e+"}","g"),e+":,."+a+"f}")})),r(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var s=this,a=this.series.options;(a.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&this.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){s.select&&s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(e),function(t){var e=t.addEvent,i=t.animObject,s=t.arrayMax,a=t.arrayMin,o=t.correctFloat,r=t.defaultOptions,n=t.defaultPlotOptions,l=t.defined,c=t.each,h=t.erase,d=t.extend,u=t.fireEvent,p=t.grep,f=t.isArray,m=t.isNumber,g=t.isString,v=t.merge,x=t.objectEach,y=t.pick,b=t.removeEvent,w=t.splat,k=t.SVGElement,S=t.syncTimeout,C=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var s,a,o=this,r=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),d(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),s=i.events,x(s,(function(t,i){e(o,i,t)})),(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,(function(t){o[t+"Data"]=[]})),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),r.length&&(a=r[r.length-1]),o._i=y(a&&a._i,-1)+1,t.orderSeries(this.insert(r)),u(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(m(i)){for(e=t.length;e--;)if(i>=y(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return y(e,t.length-1)},bindAxes:function(){var e,i=this,s=i.options,a=i.chart;c(i.axisTypes||[],(function(o){c(a[o],(function(t){e=t.options,(s[o]===e.index||void 0!==s[o]&&s[o]===e.id||void 0===s[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)})),i[o]||i.optionalAxis===o||t.error(18,!0)}))},updateParallelArrays:function(t,e){var i=t.series,s=arguments,a=m(e)?function(s){var a="y"===s&&i.toYData?i.toYData(t):t[s];i[s+"Data"][e]=a}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(s,2))};c(i.parallelArrays,a)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,s=e.pointIntervalUnit,a=this.chart.time;i=y(i,e.pointStart,0);return this.pointInterval=t=y(this.pointInterval,e.pointInterval,1),s&&(e=new a.Date(i),"day"===s?a.set("Date",e,a.get("Date",e)+t):"month"===s?a.set("Month",e,a.get("Month",e)+t):"year"===s&&a.set("FullYear",e,a.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,s=i.plotOptions,a=(e.userOptions||{}).plotOptions||{},o=s[this.type];return this.userOptions=t,e=v(o,s.series,t),this.tooltipOptions=v(r.tooltip,r.plotOptions.series&&r.plotOptions.series.tooltip,r.plotOptions[this.type].tooltip,i.tooltip.userOptions,s.series&&s.series.tooltip,s[this.type].tooltip,t.tooltip),this.stickyTracking=y(t.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),u(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var s,a=this.chart,o=this.userOptions,r=t+"Index",n=t+"Counter",c=i?i.length:y(a.options.chart[t+"Count"],a[t+"Count"]);e||(s=y(o[r],o["_"+r]),l(s)||(a.series.length||(a[n]=0),o["_"+r]=s=a[n]%c,a[n]+=1),i&&(e=i[s])),void 0!==s&&(this[r]=s),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||n[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var i,s,a,o=this.options,r=this.points,n=[],l=this.requireSorting;if(c(e,(function(e){var s;s=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,m(s)&&(s=t.inArray(s,this.xData,a),-1===s?n.push(e):e!==o.data[s]?(r[s].update(e,!1,null,!1),r[s].touched=!0,l&&(a=s)):r[s]&&(r[s].touched=!0),i=!0)}),this),i)for(e=r.length;e--;)s=r[e],s.touched||s.remove(!1),s.touched=!1;else{if(e.length!==r.length)return!1;c(e,(function(t,e){r[e].update&&t!==o.data[e]&&r[e].update(t,!1,null,!1)}))}return c(n,(function(t){this.addPoint(t,!1)}),this),!0},setData:function(e,i,s,a){var o,r,n=this,l=n.points,h=l&&l.length||0,d=n.options,u=n.chart,p=null,v=n.xAxis,x=d.turboThreshold,b=this.xData,w=this.yData,k=(o=n.pointArrayMap)&&o.length;if(e=e||[],o=e.length,i=y(i,!0),!1!==a&&o&&h&&!n.cropped&&!n.hasGroupedData&&n.visible&&(r=this.updateData(e)),!r){if(n.xIncrement=null,n.colorCounter=0,c(this.parallelArrays,(function(t){n[t+"Data"].length=0})),x&&o>x){for(s=0;null===p&&s<o;)p=e[s],s++;if(m(p))for(s=0;s<o;s++)b[s]=this.autoIncrement(),w[s]=e[s];else if(f(p))if(k)for(s=0;s<o;s++)p=e[s],b[s]=p[0],w[s]=p.slice(1,k+1);else for(s=0;s<o;s++)p=e[s],b[s]=p[0],w[s]=p[1];else t.error(12)}else for(s=0;s<o;s++)void 0!==e[s]&&(p={series:n},n.pointClass.prototype.applyOptions.apply(p,[e[s]]),n.updateParallelArrays(p,s));for(w&&g(w[0])&&t.error(14,!0),n.data=[],n.options.data=n.userOptions.data=e,s=h;s--;)l[s]&&l[s].destroy&&l[s].destroy();v&&(v.minRange=v.userMinRange),n.isDirty=u.isDirtyBox=!0,n.isDirtyData=!!l,s=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&u.redraw(s)},processData:function(e){var i,s=this.xData,a=this.yData,o=s.length;i=0;var r,n,l,c=this.xAxis,h=this.options;l=h.cropThreshold;var d,u,p=this.getExtremesFromAll||h.getExtremesFromAll,f=this.isCartesian,m=(h=c&&c.val2lin,c&&c.isLog),g=this.requireSorting;if(f&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),d=e.min,u=e.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(s[o-1]<d||s[0]>u?(s=[],a=[]):(s[0]<d||s[o-1]>u)&&(i=this.cropData(this.xData,this.yData,d,u),s=i.xData,a=i.yData,i=i.start,r=!0)),l=s.length||1;--l;)o=m?h(s[l])-h(s[l-1]):s[l]-s[l-1],0<o&&(void 0===n||o<n)?n=o:0>o&&g&&(t.error(15),g=!1);this.cropped=r,this.cropStart=i,this.processedXData=s,this.processedYData=a,this.closestPointRange=n},cropData:function(t,e,i,s,a){var o,r=t.length,n=0,l=r;for(a=y(a,this.cropShoulder,1),o=0;o<r;o++)if(t[o]>=i){n=Math.max(0,o-a);break}for(i=o;i<r;i++)if(t[i]>s){l=i+a;break}return{xData:t.slice(n,l),yData:e.slice(n,l),start:n,end:l}},generatePoints:function(){var t,e,i,s,a=this.options,o=a.data,r=this.data,n=this.processedXData,l=this.processedYData,c=this.pointClass,h=n.length,d=this.cropStart||0,u=this.hasGroupedData,p=(a=a.keys,[]);for(r||u||(r=[],r.length=o.length,r=this.data=r),a&&u&&(this.options.keys=!1),s=0;s<h;s++)e=d+s,u?(i=(new c).init(this,[n[s]].concat(w(l[s]))),i.dataGroup=this.groupMap[s]):(i=r[e])||void 0===o[e]||(r[e]=i=(new c).init(this,o[e],n[s])),i&&(i.index=e,p[s]=i);if(this.options.keys=a,r&&(h!==(t=r.length)||u))for(s=0;s<t;s++)s!==d||u||(s+=h),r[s]&&(r[s].destroyElements(),r[s].plotX=void 0);this.data=r,this.points=p},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,r=[],n=0;e=this.xAxis.getExtremes();var l,c,h,d,u=e.min,p=e.max,g=this.requireSorting?1:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,d=0;d<e;d++)if(c=o[d],h=t[d],l=(m(h,!0)||f(h))&&(!i.positiveValuesOnly||h.length||0<h),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[d+g]||c)>=u&&(o[d-g]||c)<=p,l&&c)if(l=h.length)for(;l--;)"number"===typeof h[l]&&(r[n++]=h[l]);else r[n++]=h;this.dataMin=a(r),this.dataMax=s(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,s,a=this.options,r=a.stacking,n=this.xAxis,c=n.categories,h=this.yAxis,d=this.points,p=d.length,f=!!this.modifyValue,g=a.pointPlacement,v="between"===g||m(g),x=a.threshold,b=a.startFromThreshold?x:0,w=Number.MAX_VALUE;for("between"===g&&(g=.5),m(g)&&(g*=y(a.pointRange||n.pointRange)),a=0;a<p;a++){var k=d[a],S=k.x,C=k.y;e=k.low;var A,T=r&&h.stacks[(this.negStacks&&C<(b?0:x)?"-":"")+this.stackKey];h.positiveValuesOnly&&null!==C&&0>=C&&(k.isNull=!0),k.plotX=t=o(Math.min(Math.max(-1e5,n.translate(S,0,0,0,1,g,"flags"===this.type)),1e5)),r&&this.visible&&!k.isNull&&T&&T[S]&&(s=this.getStackIndicator(s,S,this.index),A=T[S],C=A.points[s.key],e=C[0],C=C[1],e===b&&s.key===T[S].base&&(e=y(m(x)&&x,h.min)),h.positiveValuesOnly&&0>=e&&(e=null),k.total=k.stackTotal=A.total,k.percentage=A.total&&k.y/A.total*100,k.stackY=C,A.setOffset(this.pointXOffset||0,this.barW||0)),k.yBottom=l(e)?Math.min(Math.max(-1e5,h.translate(e,0,1,0,1)),1e5):null,f&&(C=this.modifyValue(C,k)),k.plotY=e="number"===typeof C&&1/0!==C?Math.min(Math.max(-1e5,h.translate(C,0,1,0,1)),1e5):void 0,k.isInside=void 0!==e&&0<=e&&e<=h.len&&0<=t&&t<=n.len,k.clientX=v?o(n.translate(S,0,0,0,1,g)):t,k.negative=k.y<(x||0),k.category=c&&void 0!==c[k.x]?c[k.x]:k.x,k.isNull||(void 0!==i&&(w=Math.min(w,Math.abs(t-i))),i=t),k.zone=this.zones.length&&k.getZone()}this.closestPointRangePx=w,u(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return p(t||this.points||[],(function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull}))},setClip:function(t){var e=this.chart,i=this.options,s=e.renderer,a=e.inverted,o=this.clipBox,r=o||e.clipBox,n=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height,i.xAxis,i.yAxis].join(),l=e[n],c=e[n+"m"];l||(t&&(r.width=0,a&&(r.x=e.plotSizeX),e[n+"m"]=c=s.clipRect(a?e.plotSizeX+99:-99,a?-e.plotLeft:-e.plotTop,99,a?e.chartWidth:e.chartHeight)),e[n]=l=s.clipRect(r),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=n),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&n&&e[n]&&(o||(e[n]=e[n].destroy()),e[n+"m"]&&(e[n+"m"]=e[n+"m"].destroy())))},animate:function(t){var e,s=this.chart,a=i(this.options.animation);t?this.setClip(a):(e=this.sharedClipKey,(t=s[e])&&t.animate({width:s.plotSizeX,x:0},a),s[e+"m"]&&s[e+"m"].animate({width:s.plotSizeX+99,x:0},a),this.animate=null)},afterAnimate:function(){this.setClip(),u(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,s,a,o,r,n,l=this.points,c=this.chart,h=this.options.marker,d=this[this.specialGroup]||this.markerGroup,u=y(h.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=h.enabledThreshold*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)e=l[t],s=e.graphic,a=e.marker||{},o=!!e.marker,i=u&&void 0===a.enabled||a.enabled,r=e.isInside,i&&!e.isNull?(i=y(a.symbol,this.symbol),n=this.markerAttribs(e,e.selected&&"select"),s?s[r?"show":"hide"](!0).animate(n):r&&(0<n.width||e.hasImage)&&(e.graphic=s=c.renderer.symbol(i,n.x,n.y,n.width,n.height,o?a:h).add(d)),s&&s.attr(this.pointAttribs(e,e.selected&&"select")),s&&s.addClass(e.getClassName(),!0)):s&&(e.graphic=s.destroy())},markerAttribs:function(t,e){var i=this.options.marker,s=t.marker||{},a=s.symbol||i.symbol,o=y(s.radius,i.radius);return e&&(i=i.states[e],e=s.states&&s.states[e],o=y(e&&e.radius,i&&i.radius,o+(i&&i.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var i=this.options.marker,s=t&&t.options,a=s&&s.marker||{},o=this.color,r=s&&s.color,n=t&&t.color;s=y(a.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,o=r||t||n||o,t=a.fillColor||i.fillColor||o,o=a.lineColor||i.lineColor||o,e&&(i=i.states[e],e=a.states&&a.states[e]||{},s=y(e.lineWidth,i.lineWidth,s+y(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,o=e.lineColor||i.lineColor||o),{stroke:o,"stroke-width":s,fill:t}},destroy:function(){var e,i,s,a,o=this,r=o.chart,n=/AppleWebKit\/533/.test(C.navigator.userAgent),l=o.data||[];for(u(o,"destroy"),b(o),c(o.axisTypes||[],(function(t){(a=o[t])&&a.series&&(h(a.series,o),a.isDirty=a.forceRedraw=!0)})),o.legendItem&&o.chart.legend.destroyItem(o),i=l.length;i--;)(s=l[i])&&s.destroy&&s.destroy();o.points=null,t.clearTimeout(o.animationTimeout),x(o,(function(t,i){t instanceof k&&!t.survive&&(e=n&&"group"===i?"hide":"destroy",t[e]())})),r.hoverSeries===o&&(r.hoverSeries=null),h(r.series,o),r.orderSeries(),x(o,(function(t,e){delete o[e]}))},getGraphPath:function(t,e,i){var s,a,o=this,r=o.options,n=r.step,h=[],d=[];return t=t||o.points,(s=t.reversed)&&t.reverse(),(n={right:1,center:2}[n]||n&&3)&&s&&(n=4-n),!r.connectNulls||e||i||(t=this.getValidPoints(t)),c(t,(function(s,c){var u=s.plotX,p=s.plotY,f=t[c-1];(s.leftCliff||f&&f.rightCliff)&&!i&&(a=!0),s.isNull&&!l(e)&&0<c?a=!r.connectNulls:s.isNull&&!e?a=!0:(0===c||a?c=["M",s.plotX,s.plotY]:o.getPointSpline?c=o.getPointSpline(t,s,c):n?(c=1===n?["L",f.plotX,p]:2===n?["L",(f.plotX+u)/2,f.plotY,"L",(f.plotX+u)/2,p]:["L",u,f.plotY],c.push("L",u,p)):c=["L",u,p],d.push(s.x),n&&(d.push(s.x),2===n&&d.push(s.x)),h.push.apply(h,c),a=!1)})),h.xMap=d,o.graphPath=h},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];s=t.getZonesGraphs(s);c(s,(function(s,a){var o=s[0],r=t[o];r?(r.endX=t.preventGraphAnimation?null:i.xMap,r.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(s[1]).attr({zIndex:1}).add(t.group),r={stroke:s[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},s[3]?r.dashstyle=s[3]:"square"!==e.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),r=t[o].attr(r).shadow(2>a&&e.shadow)),r&&(r.startX=i.xMap,r.isArea=i.isArea)}))},getZonesGraphs:function(t){return c(this.zones,(function(e,i){t.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])}),this),t},applyZones:function(){var t,e,i,s,a,o,r,n,l,h=this,d=this.chart,u=d.renderer,p=this.zones,f=this.clips||[],m=this.graph,g=this.area,v=Math.max(d.chartWidth,d.chartHeight),x=this[(this.zoneAxis||"y")+"Axis"],b=d.inverted,w=!1;p.length&&(m||g)&&x&&void 0!==x.min&&(a=x.reversed,o=x.horiz,m&&!this.showLine&&m.hide(),g&&g.hide(),s=x.getExtremes(),c(p,(function(c,p){t=a?o?d.plotWidth:0:o?0:x.toPixels(s.min),t=Math.min(Math.max(y(e,t),0),v),e=Math.min(Math.max(Math.round(x.toPixels(y(c.value,s.max),!0)),0),v),w&&(t=e=x.toPixels(s.max)),r=Math.abs(t-e),n=Math.min(t,e),l=Math.max(t,e),x.isXAxis?(i={x:b?l:n,y:0,width:r,height:v},o||(i.x=d.plotHeight-i.x)):(i={x:0,y:b?l:n,width:v,height:r},o&&(i.y=d.plotWidth-i.y)),b&&u.isVML&&(i=x.isXAxis?{x:0,y:a?n:l,height:i.width,width:d.chartWidth}:{x:i.y-d.plotLeft-d.spacingBox.x,y:0,width:i.height,height:d.chartHeight}),f[p]?f[p].animate(i):(f[p]=u.clipRect(i),m&&h["zone-graph-"+p].clip(f[p]),g&&h["zone-area-"+p].clip(f[p])),w=c.value>s.max,h.resetZones&&0===e&&(e=void 0)})),this.clips=f)},invertGroups:function(t){function i(){c(["group","markerGroup"],(function(e){a[e]&&(o.renderer.isVML&&a[e].attr({width:a.yAxis.len,height:a.xAxis.len}),a[e].width=a.yAxis.len,a[e].height=a.xAxis.len,a[e].invert(t))}))}var s,a=this,o=a.chart;a.xAxis&&(s=e(o,"resize",i),e(a,"destroy",s),i(t),a.invertGroups=i)},plotGroup:function(t,e,i,s,a){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g().attr({zIndex:s||.1}).add(a)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,s=e.chart,a=e.options,o=!!e.animate&&s.renderer.isSVG&&i(a.animation).duration,r=e.visible?"inherit":"hidden",n=a.zIndex,l=e.hasRendered,c=s.seriesGroup,h=s.inverted;t=e.plotGroup("group","series",r,n,c),e.markerGroup=e.plotGroup("markerGroup","markers",r,n,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&h,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(h),!1===a.clip||e.sharedClipKey||l||t.clip(s.clipRect),o&&e.animate(),l||(e.animationTimeout=S((function(){e.afterAnimate()}),o)),e.isDirty=!1,e.hasRendered=!0,u(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,s=this.xAxis,a=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:y(s&&s.left,t.plotLeft),translateY:y(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,s=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?s.len-t.chartX+s.pos:t.chartY-s.pos},e)},buildKDTree:function(){function t(i,s,a){var o,r;if(r=i&&i.length)return o=e.kdAxisArray[s%a],i.sort((function(t,e){return t[o]-e[o]})),r=Math.floor(r/2),{point:i[r],left:t(i.slice(0,r),s+1,a),right:t(i.slice(r+1),s+1,a)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S((function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1}),e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,n,c){var h,d,u=e.point,p=s.kdAxisArray[n%c],f=u;return d=l(t[a])&&l(u[a])?Math.pow(t[a]-u[a],2):null,h=l(t[o])&&l(u[o])?Math.pow(t[o]-u[o],2):null,h=(d||0)+(h||0),u.dist=l(h)?Math.sqrt(h):Number.MAX_VALUE,u.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,p=t[p]-u[p],h=0>p?"left":"right",d=0>p?"right":"left",e[h]&&(h=i(t,e[h],n+1,c),f=h[r]<f[r]?h:u),e[d]&&Math.sqrt(p*p)<f[r]&&(t=i(t,e[d],n+1,c),f=t[r]<f[r]?t:f),f}var s=this,a=this.kdAxisArray[0],o=this.kdAxisArray[1],r=e?"distX":"dist";if(e=-1<s.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,i=t.Chart,s=t.correctFloat,a=t.defined,o=t.destroyObjectProperties,r=t.each,n=t.format,l=t.objectEach,c=t.pick,h=t.Series;t.StackItem=function(t,e,i,s,a){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=s,this.total=null,this.points={},this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:c(e.y,o?4:i?14:-6),x:c(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,s=i.format;s=s?n(s,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:s,visibility:"hidden"}):this.label=e.renderer.text(s,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,s=i.chart,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),o=i.translate(0);o=Math.abs(a-o);t=s.xAxis[0].translate(this.x)+t,i=this.getStackBox(s,this,t,a,e,o,i),(e=this.label)&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||s.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,s,a,o,r){var n=e.axis.reversed,l=t.inverted;return t=r.height+r.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!n||!e.isNegative&&n,{x:l?e?s:s-o:i,y:l?t-i-a:e?t-s-o:t-s,width:l?o:a,height:l?a:o}}},i.prototype.getStacks=function(){var t=this;r(t.yAxis,(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),r(t.series,(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))}))},e.prototype.buildStacks=function(){var t,e=this.series,i=c(this.options.reversedStacks,!0),s=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=s;t--;)e[i?t:s-t-1].setStackedPoints();for(t=0;t<s;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(t.plotLeft,t.plotTop),l(i,(function(t){l(t,(function(t){t.render(s)}))}))},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,(function(e){l(e,(function(i,s){i.touched<t.stacksTouched?(i.destroy(),delete e[s]):(i.total=null,i.cumulative=null)}))}))},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,(function(t){l(t,(function(t){t.cumulative=t.total}))})))},h.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,o,r,n,l,h,d=this.processedXData,u=this.processedYData,p=[],f=u.length,m=this.options,g=m.threshold,v=c(m.startFromThreshold&&g,0),x=m.stack,y=(m=m.stacking,this.stackKey),b="-"+y,w=this.negStacks,k=this.yAxis,S=k.stacks,C=k.oldStacks;for(k.stacksTouched+=1,n=0;n<f;n++)l=d[n],h=u[n],e=this.getStackIndicator(e,l,this.index),r=e.key,o=(i=w&&h<(v?0:g))?b:y,S[o]||(S[o]={}),S[o][l]||(C[o]&&C[o][l]?(S[o][l]=C[o][l],S[o][l].total=null):S[o][l]=new t.StackItem(k,k.options.stackLabels,i,l,x)),o=S[o][l],null!==h?(o.points[r]=o.points[this.index]=[c(o.cumulative,v)],a(o.cumulative)||(o.base=r),o.touched=k.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[r][0]=o.points[this.index+","+l+",0"][0])):o.points[r]=o.points[this.index]=null,"percent"===m?(i=i?y:b,w&&S[i]&&S[i][l]?(i=S[i][l],o.total=i.total=Math.max(i.total,o.total)+Math.abs(h)||0):o.total=s(o.total+(Math.abs(h)||0))):o.total=s(o.total+(h||0)),o.cumulative=c(o.cumulative,v)+(h||0),null!==h&&(o.points[r].push(o.cumulative),p[n]=o.cumulative);"percent"===m&&(k.usePercentage=!0),this.stackedYData=p,k.oldStacks={}}},h.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,s=e.yAxis.stacks,a=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&r([i,"-"+i],(function(i){for(var r,n,l=a.length;l--;)r=a[l],t=e.getStackIndicator(t,r,e.index,i),(n=(r=s[i]&&s[i][r])&&r.points[t.key])&&e[o+"Stacker"](n,r,l)}))},h.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=s(t[0]*e),t[1]=s(t[1]*e),this.stackedYData[i]=t[1]},h.prototype.getStackIndicator=function(t,e,i,s){return!a(t)||t.x!==e||s&&t.key!==s?t={x:e,index:0,key:s}:t.index++,t.key=[i,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,i=t.animate,s=t.Axis,a=t.createElement,o=t.css,r=t.defined,n=t.each,l=t.erase,c=t.extend,h=t.fireEvent,d=t.inArray,u=t.isNumber,p=t.isObject,f=t.isArray,m=t.merge,g=t.objectEach,v=t.pick,x=t.Point,y=t.Series,b=t.seriesTypes,w=t.setAnimation,k=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,i){var s,a=this;return t&&(e=v(e,!0),h(a,"addSeries",{options:t},(function(){s=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),h(a,"afterAddSeries"),e&&a.redraw(i)}))),s},addAxis:function(t,e,i,a){var o=e?"xAxis":"yAxis",r=this.options;return t=m(t,{index:this[o].length,isX:e}),e=new s(this,t),r[o]=k(r[o]||{}),r[o].push(t),v(i,!0)&&this.redraw(a),e},showLoading:function(t){var s=this,r=s.options,n=s.loadingDiv,l=r.loading,h=function(){n&&o(n,{left:s.plotLeft+"px",top:s.plotTop+"px",width:s.plotWidth+"px",height:s.plotHeight+"px"})};n||(s.loadingDiv=n=a("div",{className:"highcharts-loading highcharts-loading-hidden"},null,s.container),s.loadingSpan=a("span",{className:"highcharts-loading-inner"},null,n),e(s,"redraw",h)),n.className="highcharts-loading",s.loadingSpan.innerHTML=t||r.lang.loading,o(n,c(l.style,{zIndex:10})),o(s.loadingSpan,l.labelStyle),s.loadingShown||(o(n,{opacity:0,display:""}),i(n,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),s.loadingShown=!0,h()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,i,s){var a,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},p=t.chart,f=[];h(l,"update",{options:t}),p&&(m(!0,l.options.chart,p),"className"in p&&l.setClassName(p.className),"reflow"in p&&l.setReflow(p.reflow),("inverted"in p||"polar"in p||"type"in p)&&(l.propFromSeries(),a=!0),"alignTicks"in p&&(a=!0),g(p,(function(t,e){-1!==d("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==d(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)})),"style"in p&&l.renderer.setStyle(p.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&m(!0,this.options.plotOptions,t.plotOptions),g(t,(function(t,e){l[e]&&"function"===typeof l[e].update?l[e].update(t,!1):"function"===typeof l[c[e]]&&l[c[e]](t),"chart"!==e&&-1!==d(e,l.propsRequireUpdateSeries)&&(o=!0)})),n("xAxis yAxis zAxis series colorAxis pane".split(" "),(function(e){var s;t[e]&&("series"===e&&(s=[],n(l[e],(function(t,e){t.options.isInternal||s.push(e)}))),n(k(t[e]),(function(t,a){(a=r(t.id)&&l.get(t.id)||l[e][s?s[a]:a])&&a.coll===e&&(a.update(t,!1),i&&(a.touched=!0)),!a&&i&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))})),i&&n(l[e],(function(t){t.touched||t.options.isInternal?delete t.touched:f.push(t)})))})),n(f,(function(t){t.remove(!1)})),a&&n(l.axes,(function(t){t.update({},!1)})),o&&n(l.series,(function(t){t.update({},!1)})),t.loading&&m(!0,l.options.loading,t.loading),a=p&&p.width,p=p&&p.height,u(a)&&a!==l.chartWidth||u(p)&&p!==l.chartHeight?l.setSize(a,p,s):v(e,!0)&&l.redraw(s),h(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(x.prototype,{update:function(t,e,i,s){function a(){r.applyOptions(t),null===r.y&&l&&(r.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(r.graphic=l.destroy()),t&&t.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy()),r.connector&&(r.connector=r.connector.destroy())),o=r.index,n.updateParallelArrays(r,o),h.data[o]=p(h.data[o],!0)||p(t,!0)?r.options:v(t,h.data[o]),n.isDirty=n.isDirtyData=!0,!n.fixedBox&&n.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===h.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var o,r=this,n=r.series,l=r.graphic,c=n.chart,h=n.options;e=v(e,!0),!1===s?a():r.firePointEvent("update",{options:t},a)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),c(y.prototype,{addPoint:function(t,e,i,s){var a,o,r,n,l=this.options,c=this.data,h=this.chart,d=this.xAxis,u=(d=d&&d.hasNames&&d.names,l.data),p=this.xData;if(e=v(e,!0),a={series:this},this.pointClass.prototype.applyOptions.apply(a,[t]),n=a.x,r=p.length,this.requireSorting&&n<p[r-1])for(o=!0;r&&p[r-1]>n;)r--;this.updateParallelArrays(a,"splice",r,0,0),this.updateParallelArrays(a,r),d&&a.name&&(d[n]=a.name),u.splice(r,0,t),o&&(this.data.splice(r,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(a,"shift"),u.shift())),this.isDirtyData=this.isDirty=!0,e&&h.redraw(s)},removePoint:function(t,e,i){var s=this,a=s.data,o=a[t],r=s.points,n=s.chart,l=function(){r&&r.length===a.length&&r.splice(t,1),a.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(o||{series:s},"splice",t,1),o&&o.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&n.redraw()};w(i,n),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function s(){a.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var a=this,o=a.chart;!1!==i?h(a,"remove",null,s):s()},update:function(e,i){var s,a=this,o=a.chart,r=a.userOptions,l=a.oldType||a.type,u=e.type||r.type||o.options.chart.type,p=b[l].prototype,f=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],x=a.finishedAnimating&&{animation:!1},y=["data","name","turboThreshold"],w=t.keys(e),k=0<w.length;if(n(w,(function(t){-1===d(t,y)&&(k=!1)})),k)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(s in g=f.concat(g),n(g,(function(t){g[t]=a[t],delete a[t]})),e=m(r,x,{index:a.index,pointStart:v(r.pointStart,a.xData[0])},{data:a.options.data},e),a.remove(!1,null,!1),p)a[s]=void 0;b[u||l]?c(a,b[u||l].prototype):t.error(17,!0),n(g,(function(t){a[t]=g[t]})),a.init(o,e),e.zIndex!==r.zIndex&&n(f,(function(t){a[t]&&a[t].attr({zIndex:e.zIndex})})),a.oldType=l,o.linkSeries()}h(this,"afterUpdate"),v(i,!0)&&o.redraw(!1)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(s.prototype,{update:function(t,e){var i=this.chart,s=t&&t.events||{};t=m(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),g(i.options[this.coll].events,(function(t,e){"undefined"===typeof s[e]&&(s[e]=void 0)})),this.destroy(!0),this.init(i,c(t,{events:s})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,s=this.series,a=s.length;a--;)s[a]&&s[a].remove(!1);l(e.axes,this),l(e[i],this),f(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],n(e[i],(function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,i=t.each,s=t.map,a=t.pick,o=t.Series,r=t.seriesType;r("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,r,n=[],l=[],c=this.xAxis,h=this.yAxis,d=h.stacks[this.stackKey],u={},p=this.index,f=h.series,m=f.length,g=a(h.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(r=0;r<e.length;r++)e[r].leftNull=e[r].rightNull=null,u[e[r].x]=e[r];t.objectEach(d,(function(t,e){null!==t.total&&l.push(e)})),l.sort((function(t,e){return t-e})),o=s(f,(function(){return this.visible})),i(l,(function(t,e){var s,a,f=0;if(u[t]&&!u[t].isNull)n.push(u[t]),i([-1,1],(function(i){var n=1===i?"rightNull":"leftNull",c=0,h=d[l[e+i]];if(h)for(r=p;0<=r&&r<m;)s=h.points[r],s||(r===p?u[t][n]=!0:o[r]&&(a=d[t].points[r])&&(c-=a[1]-a[0])),r+=g;u[t][1===i?"rightCliff":"leftCliff"]=c}));else{for(r=p;0<=r&&r<m;){if(s=d[t].points[r]){f=s[1];break}r+=g}f=h.translate(f,0,1,0,1),n.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}}))}return n},getGraphPath:function(t){var e,i,s,r,n=o.prototype.getGraphPath,l=this.options,c=l.stacking,h=this.yAxis,d=[],u=[],p=this.index,f=h.stacks[this.stackKey],m=l.threshold,g=h.getThreshold(l.threshold),v=(l=l.connectNulls||"percent"===c,function(e,i,a){var o=t[e];e=c&&f[o.x].points[p];var r=o[a+"Null"]||0;a=o[a+"Cliff"]||0;var n,l;o=!0;a||r?(n=(r?e[0]:e[1])+a,l=e[0]+a,o=!!r):!c&&t[i]&&t[i].isNull&&(n=l=m),void 0!==n&&(u.push({plotX:s,plotY:null===n?g:h.getThreshold(n),isNull:o,isCliff:!0}),d.push({plotX:s,plotY:null===l?g:h.getThreshold(l),doCurve:!1}))});for(t=t||this.points,c&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)i=t[e].isNull,s=a(t[e].rectPlotX,t[e].plotX),r=a(t[e].yBottom,g),(!i||l)&&(l||v(e,e-1,"left"),i&&!c&&l||(u.push(t[e]),d.push({x:e,plotX:s,plotY:r})),l||v(e,e+1,"right"));return e=n.call(this,u,!0,!0),d.reversed=!0,i=n.call(this,d,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),n=n.call(this,u,!1,l),i.xMap=e.xMap,this.areaPath=i,n},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,s=this.areaPath,r=this.options,n=[["area","highcharts-area",this.color,r.fillColor]];i(this.zones,(function(e,i){n.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])})),i(n,(function(i){var o=i[0],n=t[o];n?(n.endX=t.preventGraphAnimation?null:s.xMap,n.animate({d:s})):(n=t[o]=t.chart.renderer.path(s).addClass(i[1]).attr({fill:a(i[3],e(i[2]).setOpacity(a(r.fillOpacity,.75)).get()),zIndex:0}).add(t.group),n.isArea=!0),n.startX=s.xMap,n.shiftUnit=r.step?2:1}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;t=t.seriesType,t("spline","line",{},{getPointSpline:function(t,i,s){var a,o,r,n,l=i.plotX,c=i.plotY,h=t[s-1];if(s=t[s+1],h&&!h.isNull&&!1!==h.doCurve&&!i.isCliff&&s&&!s.isNull&&!1!==s.doCurve&&!i.isCliff){t=h.plotY,r=s.plotX,s=s.plotY;var d=0;a=(1.5*l+h.plotX)/2.5,o=(1.5*c+t)/2.5,r=(1.5*l+r)/2.5,n=(1.5*c+s)/2.5,r!==a&&(d=(n-o)*(r-l)/(r-a)+c-n),o+=d,n+=d,o>t&&o>c?(o=Math.max(t,c),n=2*c-o):o<t&&o<c&&(o=Math.min(t,c),n=2*c-o),n>s&&n>c?(n=Math.max(s,c),o=2*c-n):n<s&&n<c&&(n=Math.min(s,c),o=2*c-n),i.rightContX=r,i.rightContY=n}return i=["C",e(h.rightContX,h.plotX),e(h.rightContY,h.plotY),e(a,l),e(o,c),l,c],h.rightContX=h.rightContY=null,i}})}(e),function(t){var e=t.seriesTypes.area.prototype,i=t.seriesType;i("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,i=t.color,s=t.each,a=t.extend,o=t.isNumber,r=t.merge,n=t.pick,l=t.Series,c=t.seriesType,h=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&s(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t,e=this,i=e.options,a=e.xAxis,o=e.yAxis,r=a.options.reversedStacks,l=(r=a.reversed&&!r||!a.reversed&&r,{}),c=0;!1===i.grouping?c=1:s(e.chart.series,(function(i){var s,a=i.options,r=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==r.len||o.pos!==r.pos||(a.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=c++),s=l[t]):!1!==a.grouping&&(s=c++),i.columnIndex=s)}));var h=Math.min(Math.abs(a.transA)*(a.ordinalSlope||i.pointRange||a.closestPointRange||a.tickInterval||1),a.len),d=h*i.groupPadding,u=(h-2*d)/(c||1);i=Math.min(i.maxPointWidth||a.len,n(i.pointWidth,u*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(u-i)/2+(d+((e.columnIndex||0)+(r?1:0))*u-h/2)*(r?-1:1)},e.columnMetrics},crispCol:function(t,e,i,s){var a=this.chart,o=this.borderWidth,r=-(o%2?.5:0);o=o%2?.5:1;return a.inverted&&a.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+r,t=Math.round(t)+r,i-=t),s=Math.round(e+s)+o,r=.5>=Math.abs(e)&&.5<s,e=Math.round(e)+o,s-=e,r&&s&&(--e,s+=1),{x:t,y:e,width:i,height:s}},translate:function(){var t=this,e=t.chart,i=t.options,a=t.dense=2>t.closestPointRange*t.xAxis.transA,o=(a=t.borderWidth=n(i.borderWidth,a?0:1),t.yAxis),r=i.threshold,c=t.translatedThreshold=o.getThreshold(r),h=n(i.minPointLength,5),d=t.getColumnMetrics(),u=d.width,p=t.barW=Math.max(u,1+2*a),f=t.pointXOffset=d.offset;e.inverted&&(c-=.5),i.pointPadding&&(p=Math.ceil(p)),l.prototype.translate.apply(t),s(t.points,(function(i){var s,a=n(i.yBottom,c),l=999+Math.abs(a),d=(l=Math.min(Math.max(-l,i.plotY),o.len+l),i.plotX+f),m=p,g=Math.min(l,a),v=Math.max(l,a)-g;h&&Math.abs(v)<h&&(v=h,s=!o.reversed&&!i.negative||o.reversed&&i.negative,i.y===r&&t.dataMax<=r&&o.min<r&&(s=!s),g=Math.abs(g-c)>h?a-h:c-(s?h:0)),i.barX=d,i.pointWidth=u,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-d-m/2,v]:[d+m/2,l+o.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[d,c,m,0]:[d,g,m,v])}))},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var s,a=this.options,o=this.pointAttrToOptions||{};s=o.stroke||"borderColor";var n=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t&&t[s]||a[s]||this.color||l,h=t&&t[n]||a[n]||this[n]||0;o=a.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=r(a.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&i(l).brighten(t.brightness).get()||l,c=t[s]||c,h=t[n]||h,o=t.dashStyle||o),s={fill:l,stroke:c,"stroke-width":h},o&&(s.dashstyle=o),s},drawPoints:function(){var t,e=this,i=this.chart,a=e.options,n=i.renderer,l=a.animationLimit||250;s(e.points,(function(s){var c=s.graphic,h=c&&i.pointCount<l?"animate":"attr";o(s.plotY)&&null!==s.y?(t=s.shapeArgs,c?c[h](r(t)):s.graphic=c=n[s.shapeType](t).add(s.group||e.group),a.borderRadius&&c.attr({r:a.borderRadius}),c[h](e.pointAttribs(s,s.selected&&"select")).shadow(a.shadow,null,a.stacking&&!a.borderRadius),c.addClass(s.getClassName(),!0)):c&&(s.graphic=c.destroy())}))},animate:function(t){var i,s=this,o=this.yAxis,r=s.options,n=this.chart.inverted,l={},c=n?"translateX":"translateY";h&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(r.threshold))),n?l.translateX=t-o.len:l.translateY=t,s.group.attr(l)):(i=s.group.attr(c),s.group.animate({scaleY:1},a(e(s.options.animation),{step:function(t,e){l[c]=i+e.pos*(o.pos-i),s.group.attr(l)}})),s.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&s(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)})),l.prototype.remove.apply(t,arguments)}})}(e),function(t){t=t.seriesType,t("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;t=t.seriesType,t("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,i=t.isNumber,s=t.pick,a=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,r=2*(i.slicedOffset||0),n=o.plotWidth-2*r,l=(o=o.plotHeight-2*r,i.center),c=(l=[s(l[0],"50%"),s(l[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(n,o));for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=a(e,[n,o,c,l[2]][t])+(i?r:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,s){return t=i(t)?t:0,s=i(s)&&s>t&&360>s-t?s:t+360,{start:e*(t+-90),end:e*(s+-90)}}}}(e),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,s=t.defined,a=t.each,o=t.extend,r=i.getStartAndEndRadians,n=t.inArray,l=t.noop,c=t.pick,h=t.Point,d=t.Series,u=t.seriesType,p=t.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,s=e.startAngleRad;t||(a(i,(function(t){var i=t.graphic,a=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:s,end:s}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))})),e.animate=null)},updateTotals:function(){var t,e,i=0,s=this.points,a=s.length,o=this.options.ignoreHiddenPoint;for(t=0;t<a;t++)e=s[t],i+=o&&!e.visible||e.isNull?0:e.y;for(this.total=i,t=0;t<a;t++)e=s[t],e.percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,s,a,o,n,l=0,h=this.options,d=h.slicedOffset,u=d+(h.borderWidth||0),p=r(h.startAngle,h.endAngle),f=this.startAngleRad=p.start,m=(p=(this.endAngleRad=p.end)-f,this.points),g=h.dataLabels.distance,v=(h=h.ignoreHiddenPoint,m.length);for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,a){return s=Math.asin(Math.min((e-t[1])/(t[2]/2+a.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(s)*(t[2]/2+a.labelDistance)},o=0;o<v;o++)n=m[o],n.labelDistance=c(n.options.dataLabels&&n.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,n.labelDistance),e=f+l*p,h&&!n.visible||(l+=n.percentage/100),i=f+l*p,n.shapeType="arc",n.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},s=(i+e)/2,s>1.5*Math.PI?s-=2*Math.PI:s<-Math.PI/2&&(s+=2*Math.PI),n.slicedTranslation={translateX:Math.round(Math.cos(s)*d),translateY:Math.round(Math.sin(s)*d)},i=Math.cos(s)*t[2]/2,a=Math.sin(s)*t[2]/2,n.tooltipPos=[t[0]+.7*i,t[1]+.7*a],n.half=s<-Math.PI/2||s>Math.PI/2?1:0,n.angle=s,e=Math.min(u,n.labelDistance/5),n.labelPos=[t[0]+i+Math.cos(s)*n.labelDistance,t[1]+a+Math.sin(s)*n.labelDistance,t[0]+i+Math.cos(s)*e,t[1]+a+Math.sin(s)*e,t[0]+i,t[1]+a,0>n.labelDistance?"center":n.half?"right":"left",s]},drawGraph:null,drawPoints:function(){var t,e,i,s,r=this,n=r.chart.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=n.g("shadow").add(r.group)),a(r.points,(function(a){if(e=a.graphic,a.isNull)e&&(a.graphic=e.destroy());else{s=a.shapeArgs,t=a.getTranslate();var c=a.shadowGroup;l&&!c&&(c=a.shadowGroup=n.g("shadow").add(r.shadowGroup)),c&&c.attr(t),i=r.pointAttribs(a,a.selected&&"select"),e?e.setRadialReference(r.center).attr(i).animate(o(s,t)):(a.graphic=e=n[a.shapeType](s).setRadialReference(r.center).attr(t).add(r.group),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.attr({visibility:a.visible?"inherit":"hidden"}),e.addClass(a.getClassName())}}))},searchPoint:l,sortByAngle:function(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:i.getCenter,getSymbol:l},{init:function(){h.prototype.init.apply(this,arguments);var t,i=this;return i.name=c(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,s=i.series,o=s.chart,r=s.options.ignoreHiddenPoint;e=c(e,r),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,s.options.data[n(i,s.data)]=i.options,a(["graphic","dataLabel","connector","shadowGroup"],(function(e){i[e]&&i[e][t?"show":"hide"](!0)})),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),r&&(s.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var a=this.series;p(i,a.chart),c(e,!0),this.sliced=this.options.sliced=s(t)?t:!this.sliced,a.options.data[n(this,a.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,i=t.arrayMax,s=t.defined,a=t.each,o=t.extend,r=t.format,n=t.map,l=t.merge,c=t.noop,h=t.pick,d=t.relativeLength,u=t.Series,p=t.seriesTypes,f=t.some,m=t.stableSort;t.distribute=function(e,i,s){function o(t,e){return t.target-e.target}var r,l,c=!0,d=e,u=[];l=0;var p=d.reducedLen||i;for(r=e.length;r--;)l+=e[r].size;if(l>p){for(m(e,(function(t,e){return(e.rank||0)-(t.rank||0)})),l=r=0;l<=p;)l+=e[r].size,r++;u=e.splice(r-1,e.length)}for(m(e,o),e=n(e,(function(t){return{size:t.size,targets:[t.target],align:h(t.align,.5)}}));c;){for(r=e.length;r--;)c=e[r],l=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=Math.min(Math.max(0,l-c.size*c.align),i-c.size);for(r=e.length,c=!1;r--;)0<r&&e[r-1].pos+e[r-1].size>e[r].pos&&(e[r-1].size+=e[r].size,e[r-1].targets=e[r-1].targets.concat(e[r].targets),e[r-1].align=.5,e[r-1].pos+e[r-1].size>i&&(e[r-1].pos=i-e[r-1].size),e.splice(r,1),c=!0)}d.push.apply(d,u),r=0,f(e,(function(e){var o=0;if(f(e.targets,(function(){if(d[r].pos=e.pos+o,Math.abs(d[r].pos-d[r].target)>s)return a(d.slice(0,r+1),(function(t){delete t.pos})),d.reducedLen=(d.reducedLen||i)-.1*i,d.reducedLen>.1*i&&t.distribute(d,i,s),!0;o+=d[r].size,r++})))return!0})),m(d,o)},u.prototype.drawDataLabels=function(){function i(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}var o,n,c,d,u=this,p=u.chart,f=u.options,m=f.dataLabels,g=u.points,v=u.hasRendered||0,x=h(m.defer,!!f.animation),y=p.renderer;(m.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(m),d=u.plotGroup("dataLabelsGroup","data-labels",x&&!v?"hidden":"visible",m.zIndex||6),x&&(d.attr({opacity:+v}),v||e(u,"afterAnimate",(function(){u.visible&&d.show(!0),d[f.animation?"animate":"attr"]({opacity:1},{duration:200})}))),n=m,a(g,(function(e){var a,g,v,x,b=e.dataLabel,w=e.connector,k=!b;o=e.dlOptions||e.options&&e.options.dataLabels,(a=h(o&&o.enabled,n.enabled)&&!e.isNull)&&(a=!0===i(e,o||m)),a&&(m=l(n,o),g=e.getLabelConfig(),x=m[e.formatPrefix+"Format"]||m.format,c=s(x)?r(x,g,p.time):(m[e.formatPrefix+"Formatter"]||m.formatter).call(g,m),x=m.style,g=m.rotation,x.color=h(m.color,x.color,u.color,"#000000"),"contrast"===x.color&&(e.contrastColor=y.getContrast(e.color||u.color),x.color=m.inside||0>h(e.labelDistance,m.distance)||f.stacking?e.contrastColor:"#000000"),f.cursor&&(x.cursor=f.cursor),v={fill:m.backgroundColor,stroke:m.borderColor,"stroke-width":m.borderWidth,r:m.borderRadius||0,rotation:g,padding:m.padding,zIndex:1},t.objectEach(v,(function(t,e){void 0===t&&delete v[e]}))),!b||a&&s(c)?a&&s(c)&&(b?v.text=c:(b=e.dataLabel=g?y.text(c,0,-9999).addClass("highcharts-data-label"):y.label(c,0,-9999,m.shape,null,null,m.useHTML,null,"data-label"),b.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(m.className||"")+(m.useHTML?" highcharts-tracker":""))),b.attr(v),b.css(x).shadow(m.shadow),b.added||b.add(d),u.alignDataLabel(e,b,m,null,k)):(e.dataLabel=b=b.destroy(),w&&(e.connector=w.destroy()))}))),t.fireEvent(this,"afterDrawDataLabels")},u.prototype.alignDataLabel=function(t,e,i,s,a){var r,n=this.chart,l=n.inverted,c=h(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=h(t.plotY,-9999),u=e.getBBox(),p=i.rotation,f=i.align,m=this.visible&&(t.series.forceDL||n.isInsidePlot(c,Math.round(d),l)||s&&n.isInsidePlot(c,l?s.x+1:s.y+s.height-1,l)),g="justify"===h(i.overflow,"justify");m&&(r=i.style.fontSize,r=n.renderer.fontMetrics(r,e).b,s=o({x:l?this.yAxis.len-d:c,y:Math.round(l?this.xAxis.len-c:d),width:0,height:0},s),o(i,{width:u.width,height:u.height}),p?(g=!1,c=n.renderer.rotCorr(r,p),c={x:s.x+i.x+s.width/2+c.x,y:s.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*s.height},e[a?"attr":"animate"](c).attr({align:f}),d=(p+720)%360,d=180<d&&360>d,"left"===f?c.y-=d?u.height:0:"center"===f?(c.x-=u.width/2,c.y-=u.height/2):"right"===f&&(c.x-=u.width,c.y-=d?0:u.height),e.placed=!0,e.alignAttr=c):(e.align(i,null,s),c=e.alignAttr),g?t.isLabelJustified=this.justifyDataLabel(e,i,c,u,s,a):h(i.crop,!0)&&(m=n.isInsidePlot(c.x,c.y)&&n.isInsidePlot(c.x+u.width,c.y+u.height)),i.shape&&!p)&&e[a?"attr":"animate"]({anchorX:l?n.plotWidth-t.plotY:t.plotX,anchorY:l?n.plotHeight-t.plotX:t.plotY}),m||(e.attr({y:-9999}),e.placed=!1)},u.prototype.justifyDataLabel=function(t,e,i,s,a,o){var r,n,l=this.chart,c=e.align,h=e.verticalAlign,d=t.box?0:t.padding||0;return r=i.x+d,0>r&&("right"===c?e.align="left":e.x=-r,n=!0),r=i.x+s.width-d,r>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-r,n=!0),r=i.y+d,0>r&&("bottom"===h?e.verticalAlign="top":e.y=-r,n=!0),r=i.y+s.height-d,r>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-r,n=!0),n&&(t.placed=!o,t.align(e,null,a)),n},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,r,n,l,c,d,p,f,m,g=this,v=g.data,x=g.chart,y=g.options.dataLabels,b=h(y.connectorPadding,10),w=h(y.connectorWidth,1),k=x.plotWidth,S=x.plotHeight,C=Math.round(x.chartWidth/3),A=g.center,T=A[2]/2,I=A[1],M=[[],[]],L=[0,0,0,0];g.visible&&(y.enabled||g._hasPointLabels)&&(a(v,(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),u.prototype.drawDataLabels.apply(g),a(v,(function(t){t.dataLabel&&(t.visible?(M[t.half].push(t),t.dataLabel._pos=null,!s(y.style.width)&&!s(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>C&&(t.dataLabel.css({width:.7*C}),t.dataLabel.shortened=!0)):t.dataLabel=t.dataLabel.destroy())})),a(M,(function(i,o){var u,v,w,C=i.length,M=[];if(C)for(g.sortByAngle(i,o-.5),0<g.maxLabelDistance&&(u=Math.max(0,I-T-g.maxLabelDistance),v=Math.min(I+T+g.maxLabelDistance,x.plotHeight),a(i,(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,I-T-t.labelDistance),t.bottom=Math.min(I+T+t.labelDistance,x.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},M.push(t.distributeBox))})),u=v+w-u,t.distribute(M,u,u/5)),m=0;m<C;m++)e=i[m],l=e.labelPos,r=e.dataLabel,f=!1===e.visible?"hidden":"inherit",p=u=l[1],M&&s(e.distributeBox)&&(void 0===e.distributeBox.pos?f="hidden":(c=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,d=y.justify?A[0]+(o?-1:1)*(T+e.labelDistance):g.getX(p<e.top+2||p>e.bottom-2?u:p,o,e),r._attr={visibility:f,align:l[6]},r._pos={x:d+y.x+({left:b,right:-b}[l[6]]||0),y:p+y.y-10},l.x=d,l.y=p,h(y.crop,!0)&&(n=r.getBBox().width,u=null,d-n<b&&1===o?(u=Math.round(n-d+b),L[3]=Math.max(u,L[3])):d+n>k-b&&0===o&&(u=Math.round(d+n-k+b),L[1]=Math.max(u,L[1])),0>p-c/2?L[0]=Math.max(Math.round(c/2-p),L[0]):p+c/2>S&&(L[2]=Math.max(Math.round(p+c/2-S),L[2])),r.sideOverflow=u)})),0===i(L)||this.verifyDataLabelOverflow(L))&&(this.placeDataLabels(),w&&a(this.points,(function(t){var e;o=t.connector,(r=t.dataLabel)&&r._pos&&t.visible&&0<t.labelDistance?(f=r._attr.visibility,(e=!o)&&(t.connector=o=x.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),o.attr({"stroke-width":w,stroke:y.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",f)):o&&(t.connector=o.destroy())})))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return h(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){a(this.points,(function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:this.options.dataLabels.style.textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))}),this)},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,s=this.options,a=s.center,o=s.minSize||80,r=null!==s.size;return r||(null!==a[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(d(s.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):r=!0),r}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,s,a){var o=this.chart.inverted,r=t.series,n=t.dlBox||t.shapeArgs,c=h(t.below,t.plotY>h(this.translatedThreshold,r.yAxis.len)),d=h(i.inside,!!this.options.stacking);n&&(s=l(n),0>s.y&&(s.height+=s.y,s.y=0),n=s.y+s.height-r.yAxis.len,0<n&&(s.height-=n),o&&(s={x:r.yAxis.len-s.y-s.height,y:r.xAxis.len-s.x-s.width,width:s.height,height:s.width}),d||(o?(s.x+=c?0:s.width,s.width=0):(s.y+=c?s.height:0,s.height=0))),i.align=h(i.align,!o||d?"center":c?"right":"left"),i.verticalAlign=h(i.verticalAlign,o||d?"middle":c?"top":"bottom"),u.prototype.alignDataLabel.call(this,t,e,i,s,a),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,i=t.each,s=t.objectEach,a=t.pick;t=t.addEvent,t(e,"render",(function(){var t=[];i(this.labelCollectors||[],(function(e){t=t.concat(e())})),i(this.yAxis||[],(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&s(e.stacks,(function(e){s(e,(function(e){t.push(e.label)}))}))})),i(this.series||[],(function(e){var s=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(s.enabled||e._hasPointLabels)&&!s.allowOverlap&&e.visible&&i(o,(function(s){i(e.points,(function(e){e[s]&&(e[s].labelrank=a(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[s]))}))}))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(t){var e,s,a,o,r,n,l=t.length,c=function(t,e,i,s,a,o,r,n){return!(a>t+i||a+r<t||o>e+s||o+n<e)};for(a=function(t){var e,i,s,a=2*(t.box?0:t.padding||0);if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(s=t.getBBox(),t.width=s.width,t.height=s.height),{x:e.x+(i.translateX||0),y:e.y+(i.translateY||0),width:t.width-a,height:t.height-a}},s=0;s<l;s++)(e=t[s])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=a(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),s=0;s<l;s++)for(n=(a=t[s])&&a.absoluteBox,e=s+1;e<l;++e)r=(o=t[e])&&o.absoluteBox,n&&r&&a!==o&&0!==a.newOpacity&&0!==o.newOpacity&&(r=c(n.x,n.y,n.width,n.height,r.x,r.y,r.width,r.height))&&((a.labelrank<o.labelrank?a:o).newOpacity=0);i(t,(function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)}))}}(e),function(t){var e,i=t.addEvent,s=t.Chart,a=t.createElement,o=t.css,r=t.defaultOptions,n=t.defaultPlotOptions,l=t.each,c=t.extend,h=t.fireEvent,d=t.hasTouch,u=t.inArray,p=t.isObject,f=t.Legend,m=t.merge,g=t.pick,v=t.Point,x=t.Series,y=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)})),t._hasTracking||(l(t.trackerGroups,(function(s){t[s]&&(t[s].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",(function(t){e.onTrackerMouseOut(t)})),d&&t[s].on("touchstart",i),t.options.cursor&&t[s].css(o).css({cursor:t.options.cursor}))})),t._hasTracking=!0),h(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,s=i.trackByArea,a=[].concat(s?e.areaPath:e.graphPath),o=a.length,r=e.chart,n=r.pointer,c=r.renderer,u=r.options.tooltip.snap,p=e.tracker,f=function(){r.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(b?1e-4:.002)+")";if(o&&!s)for(t=o+1;t--;)"M"===a[t]&&a.splice(t+1,0,a[t+1]-u,a[t+2],"L"),(t&&"M"===a[t]||t===o)&&a.splice(t,0,"L",a[t-2]+u,a[t-1]);p?p.attr({d:a}):e.graph&&(e.tracker=c.path(a).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:m,fill:s?m:"none","stroke-width":e.graph.strokeWidth()+(s?0:2*u),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],(function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",(function(t){n.onTrackerMouseOut(t)})),i.cursor&&t.css({cursor:i.cursor}),d&&t.on("touchstart",f)}))),h(this,"afterDrawTracker")}},y.column&&(y.column.prototype.drawTracker=e.drawTrackerPoint),y.pie&&(y.pie.prototype.drawTracker=e.drawTrackerPoint),y.scatter&&(y.scatter.prototype.drawTracker=e.drawTrackerPoint),c(f.prototype,{setItemEvents:function(t,e,i){var s=this,a=s.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",(function(){t.setState("hover"),a.addClass(o),e.css(s.options.itemHoverStyle)})).on("mouseout",(function(){e.css(m(t.visible?s.itemStyle:s.itemHiddenStyle)),a.removeClass(o),t.setState()})).on("click",(function(e){var i=function(){t.setVisible&&t.setVisible()};a.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):h(t,"legendItemClick",e,i)}))},createCheckboxForItem:function(t){t.checkbox=a("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",(function(e){h(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),r.legend.itemStyle.cursor="pointer",c(s.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=r.lang,s=e.options.chart.resetZoomButton,a=s.theme,o=a.states,n="chart"===s.relativeTo?null:"plotBox";h(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,a,o&&o.hover).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,n)}))},zoomOut:function(){h(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,i,s=this.pointer,a=!1;!t||t.resetSelection?(l(this.axes,(function(t){e=t.zoom()})),s.initiated=!1):l(t.xAxis.concat(t.yAxis),(function(t){var i=t.axis;s[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(a=!0))})),i=this.resetZoomButton,a&&!i?this.showResetZoom():!a&&p(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,s=this,a=s.hoverPoints;a&&l(a,(function(t){t.setState()})),l("xy"===e?[1,0]:[1],(function(e){e=s[e?"xAxis":"yAxis"][0];var a=e.horiz,o=t[a?"chartX":"chartY"],r=(a=a?"mouseDownX":"mouseDownY",s[a]),n=(e.pointRange||0)/2,l=e.reversed&&!s.inverted||!e.reversed&&s.inverted?-1:1,c=e.getExtremes(),h=e.toValue(r-o,!0)+n*l,d=(l=e.toValue(r+e.len-o,!0)-n*l,l<h);r=d?l:h,h=d?h:l,l=Math.min(c.dataMin,n?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)),n=Math.max(c.dataMax,n?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding)),d=l-r;0<d&&(h+=d,r=l),d=h-n,0<d&&(h=n,r-=d),e.series.length&&r!==c.min&&h!==c.max&&(e.setExtremes(r,h,!1,!1,{trigger:"pan"}),i=!0),s[a]=o})),i&&s.redraw(!1),o(s.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var i=this,s=i.series,a=s.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,s.options.data[u(i,s.data)]=i.options,i.setState(t&&"select"),e||l(a.getSelectedPoints(),(function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,s.options.data[u(t,s.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))}))}))},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],(function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,s=m(e.series.options.point,e.options).events;e.events=s,t.objectEach(s,(function(t,s){i(e,s,t)})),this.hasImportedEvents=!0}},setState:function(t,e){var i,s=Math.floor(this.plotX),a=this.plotY,o=this.series,r=o.options.states[t||"normal"]||{},l=n[o.type].marker&&o.options.marker,d=l&&!1===l.enabled,u=l&&l.states&&l.states[t||"normal"]||{},p=!1===u.enabled,f=o.stateMarkerGraphic,m=this.marker||{},v=o.chart,x=o.halo,y=l&&o.markerAttribs;t=t||"",t===this.state&&!e||this.selected&&"select"!==t||!1===r.enabled||t&&(p||d&&!1===u.enabled)||t&&m.states&&m.states[t]&&!1===m.states[t].enabled||(y&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),g(v.options.chart.animation,r.animation)),i&&this.graphic.animate(i,g(v.options.chart.animation,u.animation,l.animation)),f&&f.hide()):(t&&u&&(l=m.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(o.stateMarkerGraphic=f=v.renderer.symbol(l,i.x,i.y,i.width,i.height).add(o.markerGroup),f.currentSymbol=l),f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&v.isInsidePlot(s,a,v.inverted)?"show":"hide"](),f.element.point=this)),(s=r.halo)&&s.size?(x||(o.halo=x=v.renderer.path().add((this.graphic||f).parentGroup)),x.show()[e?"animate":"attr"]({d:this.haloPath(s.size)}),x.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),x.point=this,x.attr(c({fill:this.color||o.color,"fill-opacity":s.opacity},s.attributes))):x&&x.point&&x.point.haloPath&&x.animate({d:x.point.haloPath(0)},null,x.hide),this.state=t,h(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(x.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&h(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&h(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,s=e.graph,a=i.states,o=i.lineWidth;i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],(function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))})),e.state=t,!a[t]||!1!==a[t].enabled)&&(t&&(o=a[t].lineWidth||o+(a[t].lineWidthPlus||0)),s&&!s.dashstyle))for(o={"stroke-width":o},s.animate(o,g(a[t||"normal"]&&a[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,s=this,a=s.chart,o=s.legendItem,r=a.options.chart.ignoreHiddenSeries,n=s.visible;i=(s.visible=t=s.options.visible=s.userOptions.visible=void 0===t?!n:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(t){s[t]&&s[t][i]()})),a.hoverSeries!==s&&(a.hoverPoint&&a.hoverPoint.series)!==s||s.onMouseOut(),o&&a.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&l(a.series,(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),l(s.linkedSeries,(function(e){e.setVisible(t,!1)})),r&&(a.isDirtyBox=!0),h(s,i),!1!==e&&a.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),h(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,i=t.each,s=t.inArray,a=t.isArray,o=t.isObject,r=t.pick,n=t.splat;e.prototype.setResponsive=function(e){var s=this.options.responsive,a=[],o=this.currentResponsive;s&&s.rules&&i(s.rules,(function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,a,e)}),this);var r=t.merge.apply(0,t.map(a,(function(e){return t.find(s.rules,(function(t){return t._id===e})).chartOptions})));a=a.toString()||void 0;a!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),a?(this.currentResponsive={ruleIds:a,mergedOptions:r,undoOptions:this.currentOptions(r)},this.update(r,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=r(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(i.minWidth,0)&&this.chartHeight>=r(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,r,l,c){var h;t.objectEach(e,(function(t,e){if(!c&&-1<s(e,["series","xAxis","yAxis"]))for(t=n(t),l[e]=[],h=0;h<t.length;h++)r[e][h]&&(l[e][h]={},i(t[h],r[e][h],l[e][h],c+1));else o(t)?(l[e]=a(t)?[]:{},i(t,r[e]||{},l[e],c+1)):l[e]=r[e]||null}))}var r={};return i(e,this.options,r,0),r}}(e),e}))},function(t,e){var i,s,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(s===clearTimeout)return clearTimeout(t);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{return s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:o}catch(t){i=o}try{s="function"===typeof clearTimeout?clearTimeout:r}catch(t){s=r}})();var c,h=[],d=!1,u=-1;function p(){d&&c&&(d=!1,c.length?h=c.concat(h):u=-1,h.length&&f())}function f(){if(!d){var t=n(p);d=!0;var e=h.length;while(e){c=h,h=[];while(++u<e)c&&c[u].run();u=-1,e=h.length}c=null,d=!1,l(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new m(t,e)),1!==h.length||d||n(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){t.exports=function(t,e,i,s){var a,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(a=t,o=t.default);var n="function"===typeof o?o.options:o;if(e&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns),i&&(n._scopeId=i),s){var l=n.computed||(n.computed={});Object.keys(s).forEach((function(t){var e=s[t];l[t]=function(){return e}}))}return{esModule:a,exports:o,options:n}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classname,style:t.styles})},staticRenderFns:[]}}])}))},"61b5":function(t,e,i){},"65c0":function(t,e,i){},"670a":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"toggle"}},t._l(t.options,(function(i){return e("div",{key:i,staticClass:"option",class:{"is-selected":t.value===i},on:{click:function(e){return t.$emit("input",i)}}},[t._v(" "+t._s(i)+" ")])})),0)},a=[],o={name:"Toggle",props:{value:{type:String,required:!0},options:{type:Array,required:!0}}},r=o,n=(i("fa79"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"0e83c5c2",null);e["a"]=l.exports},"686b":function(t,e,i){},"6c88":function(t,e,i){"use strict";i("5d0b")},"6cd0":function(t,e,i){"use strict";i("3093")},"70a9":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"async-select-field"}},[t.label?e("FormFieldLabel",{attrs:{label:t.label,"is-mandatory":t.isMandatory,tooltip:t.tooltip}}):t._e(),e("FormFieldWrapper",{ref:"wrapper",attrs:{"is-focused":t._isFocused,"is-clearable":t._isClearable,"is-readonly":t.isReadonly,"is-disabled":t.isDisabled,"has-error":!!t.error,"action-icon":"eva-chevron-down"},on:{click:t.showOptionPicker,clear:t.handleClear},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"async-select"},[t._l(t.value,(function(i,s){return e("div",{key:i,staticClass:"chip"},[e("div",{staticClass:"q-mr-xs"},[t._v(t._s(i))]),e("BaseIcon",{attrs:{name:"eva-close"},on:{click:function(e){return e.stopPropagation(),t.removeOption(s)}}})],1)})),e("div",{staticClass:"col search-query"},[e("input",{ref:"searchQuery",attrs:{type:"text",placeholder:t._placeholder},domProps:{value:t.searchQuery},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},input:t.debouncedInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeypress.apply(null,arguments)}}})])],2),e("q-menu",{attrs:{target:t.$refs.wrapper,fit:"","no-focus":"","no-refocus":"","no-parent-event":"","transition-show":"scale","transition-hide":"scale"},model:{value:t.optionPicker,callback:function(e){t.optionPicker=e},expression:"optionPicker"}},[e("OptionPicker",{attrs:{"is-multiple":"",value:t.value,options:t._options,"new-option":t.newOption},on:{select:t.handleSelect,loadMore:t.getOptions}})],1)]},proxy:!0},{key:"action",fn:function(){return[t.isLoading?e("q-spinner",{staticClass:"q-mr-sm",attrs:{color:"secondary",size:"20px"}}):t._e()]},proxy:!0}])}),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e()],1)},a=[],o=(i("caad"),i("14d9"),i("3445")),r=i("0f01"),n=i("e683"),l=i("29db"),c=i("0d5e"),h=i("9996"),d=i("32e8"),u=i("5c8a"),p=i("85b1"),f={name:"AsyncMultiSelectField",components:{FormFieldLabel:o["a"],FormFieldWrapper:r["a"],FormFieldError:n["a"],OptionPicker:l["a"]},props:{value:{type:Array,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:""},isMandatory:{type:Boolean,default:!1},tooltip:{type:String,default:""},isDisabled:{type:Boolean,default:!1},isReadonly:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},error:{type:String,default:""},newOption:{type:Boolean,default:!1},apiPath:{type:String,default:""},columnName:{type:String,default:""}},data(){return{isFocused:!1,optionPicker:!1,searchQuery:"",options:[],isLoading:!1,optionsCount:0,optionsClone:[]}},computed:{_placeholder(){if(!this.value.length)return this.placeholder||"Select"},_isFocused(){return this.isFocused||this.optionPicker},_isClearable(){return this.isClearable&&!!this.value.length},_options(){return this.searchQuery?this.optionsClone.filter(t=>Object(h["a"])(t).includes(Object(h["a"])(this.searchQuery))):this.optionsClone}},watch:{options:{immediate:!0,deep:!0,handler(){Object(d["a"])(this.options,this.optionsClone)||(this.optionsClone=Object(u["a"])(this.options))}},optionPicker(){this.optionPicker||(this.searchQuery="")},columnName(){this.columnName&&(this.options=[],this.getOptions())}},created(){this.getOptions()},methods:{showOptionPicker(){this.optionPicker=!0},handleChange(t){this.searchQuery=t.target.value},handleSelect(t){const e=[...this.value],i=e.findIndex(e=>e===t);-1===i?e.push(t):e.splice(i,1),this.$emit("input",e),this.searchQuery=""},removeOption(t){const e=[...this.value];e.splice(t,1),this.$emit("input",e)},handleKeypress(){this.searchQuery&&this.newOption&&(this.handleSelect(this.searchQuery),this.$refs.searchQuery.blur())},handleClear(){this.$emit("input",[])},debouncedInput:Object(p["a"])((function(t){this.searchQuery=t.target.value}),500),async getOptions(){try{let t="";t=this.label?this.label:"object"===typeof this.columnName?this.columnName[0]:this.columnName;const e=await c["b"].post(this.apiPath,JSON.stringify({column:t,keyword:this.searchQuery,rowFrom:this.options.length||0,rowCount:this.options.length+10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);this.options.push(...a)}catch(t){console.error(t),this.$alert.error("Error fetching options")}},loadMoreOptions(){}}},m=f,g=(i("c187"),i("2877")),v=i("4e73"),x=i("0d59"),y=i("93dc"),b=i.n(y),w=Object(g["a"])(m,s,a,!1,null,"b0cc9a00",null);e["a"]=w.exports;b()(w,"components",{QMenu:v["a"],QSpinner:x["a"]})},7225:function(t,e,i){"use strict";i("afe7")},"73f9":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",attrs:{id:"simple-filter"}},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[["-1"===t.selectedfid?e("div",{staticClass:"backGround row q-ml-sm q-mr-sm q-mt-sm q-mb-sm",staticStyle:{"font-size":"larger","font-weight":"700",color:"#643094"}},[t._v(" All Save Search ")]):t._e(),"-1"!=t.selectedfid?e("div",{staticClass:"backGround row"},[t.workspace?e("SelectField",{staticClass:"fieldList q-ml-sm q-mr-sm q-mt-sm q-mb-sm",attrs:{"is-mandatory":"",placeholder:"Select Workspace","is-clearable":"",options:t.workspaceList},on:{input:function(e){return t.$emit("update:workspaceId",t.workSpaceId)}},model:{value:t.workSpaceId,callback:function(e){t.workSpaceId=e},expression:"workSpaceId"}}):t._e(),!t.workspace||t.workSpaceId?e("SelectField",{staticClass:"fieldList q-ml-sm q-mr-sm q-mt-sm q-mb-sm",attrs:{"is-mandatory":"",placeholder:t.name,"is-clearable":"",options:t.list},on:{input:t.getData},model:{value:t.selectedId,callback:function(e){t.selectedId=e},expression:"selectedId"}}):t._e()],1):t._e()],t._l(t.filterGroups,(function(i,s){return[e("div",{key:i.id,staticClass:"backGround"},t._l(i.filters,(function(i,a){return e("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"row"},[e("ValidationProvider",{key:i.id,staticClass:"col q-mr-xs",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:o}){return[e("SelectField",{staticClass:"fieldList q-ml-sm q-mr-xs q-mt-sm q-mb-sm",attrs:{"is-mandatory":"","is-clearable":"",options:t._columns,error:o[0]},on:{input:function(e){return t.applyDataType(s,a,i.criteria)}},model:{value:i.criteria,callback:function(e){t.$set(i,"criteria",e)},expression:"filter.criteria"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-xs",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{staticClass:"textField q-mt-sm",attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?e("ValidationProvider",{staticClass:"row q-mr-xs",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("DateField",{staticClass:"dateField q-mr-xs q-mt-sm",attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],placeholder:"From Date"},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}}),e("DateField",{staticClass:"dateField q-mt-sm",attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],placeholder:"To Date"},model:{value:i.valueTo,callback:function(e){t.$set(i,"valueTo",e)},expression:"filter.valueTo"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType||"SINGLE_CHOICE"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-xs",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:o}){return[t.apiPath&&!t.getOptions(i.criteria)?[e("AsyncSelectField",{staticClass:"fieldList q-mt-sm q-mb-sm",attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:o[0],"api-path":t.apiPath,"column-name":i.criteria},on:{input:function(e){t.$emit("update"),t.applyFilterType(s,a,i.criteria,i.arrayValue)}},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}})]:[e("SelectField",{staticClass:"fieldList q-mt-sm q-mb-sm",attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:t.getOptions(i.criteria),error:o[0]},on:{input:function(e){t.$emit("update"),t.applyFilterType(s,a,i.criteria,i.arrayValue)}},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}})]]}}],null,!0)}):e("ValidationProvider",{staticClass:"col q-mr-xs",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{staticClass:"textField q-mt-sm",attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}),e("div",{staticClass:"col-auto q-mt-md"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search filter",expression:"'search filter'",modifiers:{top:!0}}],staticClass:"plus q-mr-xs",attrs:{icon:"eva-search",size:"20px",color:"primary","is-flat":""},on:{click:function(e){t.$emit("update"),t.applyFilterType(s,a,i.arrayValue)}}})],1),e("div",{staticClass:"col-auto q-mt-md"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"remove filter",expression:"'remove filter'",modifiers:{top:!0}}],staticClass:"plus q-mr-xs",attrs:{icon:"mdi-close",size:"14px","is-flat":"",color:"red"},on:{click:function(e){return t.removeFilterGroup(s)}}})],1)],1)})),1)]})),t.selectedId&&"TABLE"===t.activeView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"add filter",expression:"'add filter'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mt-sm q-mb-sm",attrs:{icon:"mdi-plus",color:"secondary"},on:{click:t.addFilterGroup}}):t._e()],2)]),t.dateValue?e("p",{staticClass:"report-header text-uppercase text-primary"},[t._v(" report generated for : "+t._s(t.weekValue)+" "+t._s(t.monthValue)+" "+t._s(t.yearValue)+" ")]):t._e(),t.noFilter?t._e():e("div",[t.selectedId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Save Filter",expression:"'Save Filter'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mt-sm q-mb-sm q-mr-sm",attrs:{icon:"mdi-content-save-cog",color:"primary"},on:{click:function(e){return t.$emit("saveData")}}}):t._e(),t.selectedId?t._e():e("SelectField",{staticClass:"fieldList q-ml-sm q-mr-sm q-mt-sm q-mb-sm",attrs:{"is-mandatory":"",placeholder:"Saved Reports   ("+t.filterList.length+")","is-clearable":"",options:t.filterList},on:{click:function(e){return t.$emit("viewFilter")},input:t.filterData},model:{value:t.selectedfid,callback:function(e){t.selectedfid=e},expression:"selectedfid"}})],1)])])},a=[],o=(i("13d5"),i("14d9"),i("7bb1")),r=i("b3d1"),n=i("12b8"),l=i("53c1"),c=i("0c21"),h={name:"SimpleFilter",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:r["a"],SelectField:n["a"],DateField:l["a"],AsyncSelectField:c["a"]},props:{id:{type:Number,default:0},columns:{type:Array,default:()=>[]},filterBy:{type:Array,default:()=>[]},workspace:{type:Boolean,default:!1},name:{type:String,required:!0},list:{type:Array,default:()=>[]},wId:{type:Number,default:0},workspaceList:{type:Array,default:()=>[]},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},activeView:{type:String,default:""},dateValue:{type:Boolean,default:!1},weekValue:{type:String,default:""},monthValue:{type:String,default:""},yearValue:{type:String,default:""},filterList:{type:Array,default:()=>[]},fid:{type:String,default:""},noFilter:{type:Boolean,default:!1}},data(){return{workSpaceId:0,selectedId:0,filterGroups:[],WfilterId:0,selectedfid:"",filters:!1}},computed:{_columns(){var t=this.columns.reduce((t,e)=>("isFilter"in e?e.isFilter&&t.push({id:e.id,label:e.label,value:e.name,dataType:"TITLE"!==e.dataType?e.dataType:"SHORT_TEXT"}):t.push({id:e.id,label:e.label,value:e.name,dataType:"TITLE"!==e.dataType?e.dataType:"SHORT_TEXT"}),t),[]);return t},apiPath(){return"repository"===this.module?`/repository/${this.moduleId}/uniqueColumnValues`:"form"===this.module?`/form/${this.moduleId}/uniqueColumnValues`:""}},watch:{id:{deep:!0,immediate:!0,handler(){this.id&&(this.selectedId=this.id)}},workSpaceId:{deep:!0,immediate:!0,handler(){this.workSpaceId||(this.filterGroups=[])}},filterGroups:{deep:!0,immediate:!0,handler(){this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.$emit("update:filterBy",this.filterGroups))}},activeView:{immediate:!0,handler(){"CHART"===this.activeView&&(this.filterGroups=[])}},fid:{deep:!0,immediate:!0,handler(){this.fid&&(this.selectedfid=this.fid,this.filterData())}},wId:{deep:!0,immediate:!0,handler(){this.wId&&(this.workSpaceId=Number(this.wId))}},filterBy:{deep:!0,immediate:!0,handler(){this.filters&&(this.filterGroups=this.filterBy,console.log(this.filterGroups,"groups")),this.filters=!1}}},methods:{addFilterGroup(){this.filterGroups.push({id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",condition:"",value:"",valueTo:"",arrayValue:""}],groupCondition:(this.filterGroups.length,"")})},removeFilterGroup(t){this.filterGroups.splice(t,1),this.selectedId&&this.$emit("update")},addFilter(t){this.filterGroups[t].filters.push({id:this.$nano.id(),criteria:"",condition:"",value:""})},removeFilter(t,e){this.filterGroups[t].filters.splice(e,1)},applyDataType(t,e,i){this.filterGroups[t].filters[e].value="",this.filterGroups[t].filters[e].condition="",this.filterGroups[t].filters[e].condition="CONTAINS",this.filterGroups[t].filters[e].dataType="",this.filterGroups[t].groupCondition="and";let s=this._columns.find(t=>t.value===i);this.filterGroups[t].filters[e].selectedCriteria=s.label,s&&(this.filterGroups[t].filters[e].dataType=s.dataType,"SINGLE_SELECT"===s.dataType&&(this.filterGroups[t].filters[e].condition="IS_EQUALS_TO"))},getData(){this.selectedId?this.$emit("update:id",this.selectedId):this.$emit("update:id",0),this.filterGroups=[],this.$emit("update:filterBy",this.filterGroups)},getOptions(t){var e;return null===(e=this.columns.find(e=>e.name===t))||void 0===e?void 0:e.options},applyFilterType(t,e,i,s){var a;let o=null===(a=this.columns.find(t=>t.name===i))||void 0===a?void 0:a.options,r=o.find(t=>t.value===s);this.filterGroups[t].filters[e].selectedValue=r.label},filterData(){this.selectedfid?("-1"===this.selectedfid?(this.$emit("update:fid",this.selectedfid),this.workspace=!1,this.selectedId=0,this.workSpaceId=0):(this.filters=!0,this.id=this.selectedId,this.wId=this.workSpaceId),this.$emit("update:fid",this.selectedfid)):(this.selectedfid||(this.selectedId=0,this.workSpaceId=0),this.$emit("update:fid",""))}}},d=h,u=(i("dbf6"),i("0059"),i("2877")),p=Object(u["a"])(d,s,a,!1,null,"0293bc04",null);e["a"]=p.exports},"742a":function(t,e,i){"use strict";i("ef04")},"75c3":function(t,e,i){"use strict";var s=i("0967"),a=i("7c86"),o=i("d882"),r=i("f249");function n(t,e,i){const s=Object(o["h"])(t);let a,r=s.left-e.event.x,n=s.top-e.event.y,l=Math.abs(r),c=Math.abs(n);const h=e.direction;!0===h.horizontal&&!0!==h.vertical?a=r<0?"left":"right":!0!==h.horizontal&&!0===h.vertical?a=n<0?"up":"down":!0===h.up&&n<0?(a="up",l>c&&(!0===h.left&&r<0?a="left":!0===h.right&&r>0&&(a="right"))):!0===h.down&&n>0?(a="down",l>c&&(!0===h.left&&r<0?a="left":!0===h.right&&r>0&&(a="right"))):!0===h.left&&r<0?(a="left",l<c&&(!0===h.up&&n<0?a="up":!0===h.down&&n>0&&(a="down"))):!0===h.right&&r>0&&(a="right",l<c&&(!0===h.up&&n<0?a="up":!0===h.down&&n>0&&(a="down")));let d=!1;if(void 0===a&&!1===i){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};a=e.event.lastDir,d=!0,"left"===a||"right"===a?(s.left-=r,l=0,r=0):(s.top-=n,c=0,n=0)}return{synthetic:d,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:s,direction:a,isFirst:e.event.isFirst,isFinal:!0===i,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:r,y:n},delta:{x:s.left-e.event.lastX,y:s.top-e.event.lastY}}}}function l(t){const e=t.__qtouchpan;void 0!==e&&(void 0!==e.event&&e.end(),Object(o["b"])(e,"main"),Object(o["b"])(e,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchpan)}let c=0;e["a"]={name:"touch-pan",bind(t,{value:e,modifiers:i}){if(void 0!==t.__qtouchpan&&(l(t),t.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function h(t,e){!0===i.mouse&&!0===e?Object(o["l"])(t):(!0===i.stop&&Object(o["k"])(t),!0===i.prevent&&Object(o["i"])(t))}const d={uid:"qvtp_"+c++,handler:e,modifiers:i,direction:Object(a["a"])(i),noop:o["g"],mouseStart(t){Object(a["b"])(t,d)&&Object(o["e"])(t)&&(Object(o["a"])(d,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),d.start(t,!0))},touchStart(t){if(Object(a["b"])(t,d)){const e=t.target;Object(o["a"])(d,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),d.start(t)}},start(e,a){!0===s["a"].is.firefox&&Object(o["j"])(t,!0),d.lastEvt=e;const r=Object(o["h"])(e);if(!0===a||!0===i.stop){if(!0!==d.direction.all&&(!0!==a||!0!==d.modifiers.mouseAllDir&&!0!==d.modifiers.mousealldir)){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&Object(o["i"])(t),!0===e.cancelBubble&&Object(o["k"])(t),t.qClonedBy=void 0===e.qClonedBy?[d.uid]:e.qClonedBy.concat(d.uid),t.qKeyEvent=e.qKeyEvent,t.qClickOutside=e.qClickOutside,d.initialEvent={target:e.target,event:t}}Object(o["k"])(e)}d.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===a,detected:!1,isFirst:!0,isFinal:!1,lastX:r.left,lastY:r.top}},move(t){if(void 0===d.event)return;d.lastEvt=t;const e=!0===d.event.mouse,i=()=>{let i;h(t,e),!0!==d.modifiers.preserveCursor&&!0!==d.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===e&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(r["a"])(),d.styleCleanup=t=>{if(d.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===e){const e=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==t?setTimeout(()=>{e(),t()},50):e()}else void 0!==t&&t()}};if(!0===d.event.detected){!0!==d.event.isFirst&&h(t,d.event.mouse);const{payload:e,synthetic:s}=n(t,d,!1);return void(void 0!==e&&(!1===d.handler(e)?d.end(t):(void 0===d.styleCleanup&&!0===d.event.isFirst&&i(),d.event.lastX=e.position.left,d.event.lastY=e.position.top,d.event.lastDir=!0===s?void 0:e.direction,d.event.isFirst=!1)))}if(!0===d.direction.all||!0===e&&(!0===d.modifiers.mouseAllDir||!0===d.modifiers.mousealldir))return i(),d.event.detected=!0,void d.move(t);const s=Object(o["h"])(t),a=s.left-d.event.x,l=s.top-d.event.y,c=Math.abs(a),u=Math.abs(l);c!==u&&(!0===d.direction.horizontal&&c>u||!0===d.direction.vertical&&c<u||!0===d.direction.up&&c<u&&l<0||!0===d.direction.down&&c<u&&l>0||!0===d.direction.left&&c>u&&a<0||!0===d.direction.right&&c>u&&a>0?(d.event.detected=!0,d.move(t)):d.end(t,!0))},end(e,i){if(void 0!==d.event){if(Object(o["b"])(d,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),!0===i)void 0!==d.styleCleanup&&d.styleCleanup(),!0!==d.event.detected&&void 0!==d.initialEvent&&d.initialEvent.target.dispatchEvent(d.initialEvent.event);else if(!0===d.event.detected){!0===d.event.isFirst&&d.handler(n(void 0===e?d.lastEvt:e,d).payload);const{payload:t}=n(void 0===e?d.lastEvt:e,d,!0),i=()=>{d.handler(t)};void 0!==d.styleCleanup?d.styleCleanup(i):i()}d.event=void 0,d.initialEvent=void 0,d.lastEvt=void 0}}};t.__qtouchpan=d,!0===i.mouse&&Object(o["a"])(d,"main",[[t,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(o["a"])(d,"main",[[t,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},update(t,{oldValue:e,value:i}){const s=t.__qtouchpan;void 0!==s&&e!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(t){void 0===t.__qtouchpan_destroyed?l(t):delete t.__qtouchpan_destroyed}}},"75da":function(t,e,i){"use strict";i("fca7")},7794:function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"repository-field"}},[t.showFreeze?e("div",{attrs:{id:"checkbox-field"}},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Freeze",expression:"'Freeze'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:t.freezed?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:t.handleFreeze},model:{value:t.freezed,callback:function(e){t.freezed=e},expression:"freezed"}})],1):t._e(),"SHORT_TEXT"===t.field.dataType||"BARCODE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2138129544)}):t._e(),"NUMBER"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory,integer:!t.field.options.allowDecimals}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,3272965974)}):t._e(),"DATE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2736912833)}):t._e(),"TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2195704480)}):t._e(),"DATE_TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1802324180)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["EXISTING"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("AsyncSelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,"api-path":t.apiPath,error:i[0],"new-option":t.field.options.allowToAddNewOptions,"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,364407705)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&"PREDEFINED"===t.field.options.optionsType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.predefinedSelectOptions,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,3382750843)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["MASTER"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.options,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,768311157)}):t._e(),"BOOLEAN"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.booleanOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,61245750)}):t._e(),"OMR"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.omrOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1875132930)}):t._e()],1),e("div",{staticClass:"row items-center justify-center q-mt-sm"},[t.visiableSyncBtn?e("BaseButton",{attrs:{label:"Sync",color:"secondary"},on:{click:function(e){return t.$emit("saveSync",t.field)}}}):t._e()],1)])},a=[],o=i("7bb1"),r=i("b3d1"),n=i("ad54"),l=i("53c1"),c=i("cedb"),h=i("d1e5"),d=i("12b8"),u=i("0c21"),p=i("9234"),f=i("0d5e"),m={name:"RepositoryField",components:{ValidationProvider:o["b"],TextField:r["a"],NumberField:n["a"],DateField:l["a"],TimeField:c["a"],DateTimeField:h["a"],SelectField:d["a"],AsyncSelectField:u["a"],SingleChoiceField:p["a"]},props:{field:{type:Object,required:!0},repositoryId:{type:[String,Number],required:!0},value:{type:[String,Number],required:!0},readOnly:{type:Boolean,default:!1},label:{type:String,default:""},syncField:{type:Object,default:()=>{}},parentControl:{type:Boolean,default:!1},rowIndex:{type:Number,required:!0},filter:{type:Boolean,default:!1},freezedData:{type:Object,default:()=>{}},showFreeze:{type:Boolean,default:!1}},data(){return{booleanOptions:[{id:this.$nano.id(),label:this.field.options.truthyValue,value:this.field.options.truthyValue},{id:this.$nano.id(),label:this.field.options.falsyValue,value:this.field.options.falsyValue}],omrOptions:[{id:this.$nano.id(),label:"Yes",value:"true"},{id:this.$nano.id(),label:"No",value:"false"}],visiableSyncBtn:!1,options:[],freeze:!1,freezeData:this.freezedData,freezed:!1}},computed:{predefinedSelectOptions(){return this.field.options.predefinedOptions.map(t=>({id:this.$nano.id(),label:t,value:t}))},apiPath(){return`/repository/${this.repositoryId}/uniqueColumnValues`}},watch:{field:{immediate:!0,async handler(){for(let t in this.syncField)this.syncField[t]===this.field.name&&(this.visiableSyncBtn=!0)}},filter:{immediate:!0,deep:!0,handler(){this.field.filterBy&&this.field.options.masterFormId&&this.getMasterEntriesFilter(this.field)}}},created(){this.freezedData&&(this.freezed=this.field.name in this.freezedData),this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn)},methods:{handleInput(t){this.$emit("input",t),this.parentControl&&this.$emit("filterBy",this.field,this.rowIndex),this.freezed&&this.updateOrAddField(this.field.name,t)},handleFreeze(){this.freezed=!this.freezed,this.freezed?(this.updateOrAddField(this.field.name,this.value),this.$emit("update:freezed",this.freeze)):this.$emit("update:removeFreezed",this.field.name)},updateOrAddField(t,e){t in this.freezeData?this.freezeData[t]=e:this.freezeData={...this.freezeData,[t]:e},this.$emit("update:freezedData",this.freezeData)},async getMasterEntries(t,e){try{const i=await f["b"].post(`/form/${t}/uniqueColumnValues`,JSON.stringify({column:e,keyword:"",rowFrom:0,rowCount:0})),{status:s,data:a}=i;if(200!==s)throw i;const o=JSON.parse(a);o.length&&(this.options=o.map(t=>({id:this.$nano.id(),label:t,value:t})))}catch(i){console.error(i),this.$alert.error("Error fetching options")}},async getMasterEntriesFilter(t){try{const e=await f["b"].post(`/form/${t.options.masterFormId}/uniqueColumnValues`,JSON.stringify({column:t.options.masterTableColumn,keyword:"",rowFrom:0,rowCount:0,filters:t.filterBy})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length?(this.options=a.map(t=>({id:this.$nano.id(),label:t,value:t})),1===this.options.length&&this.handleInput(this.options[0].value)):(this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn),this.handleInput(""))}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},g=m,v=(i("87dc"),i("2877")),x=Object(v["a"])(g,s,a,!1,null,"174d3602",null);e["a"]=x.exports},8169:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("87e8");e["a"]=s["default"].extend({name:"QChatMessage",mixins:[a["a"]],props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){return"q-message-text-content q-message-text-content--"+this.op+(void 0!==this.textColor?" text-"+this.textColor:"")},messageClass(){return"q-message-text q-message-text--"+this.op+(void 0!==this.bgColor?" text-"+this.bgColor:"")},containerClass(){return"q-message-container row items-end no-wrap"+(!0===this.sent?" reverse":"")},sizeClass(){if(void 0!==this.size)return"col-"+this.size},op(){return!0===this.sent?"sent":"received"}},methods:{__wrapStamp(t,e){if(void 0!==this.$scopedSlots.stamp)return[e,t("div",{staticClass:"q-message-stamp"},this.$scopedSlots.stamp())];if(this.stamp){const i=!0===this.stampSanitize?"textContent":"innerHTML";return[e,t("div",{staticClass:"q-message-stamp",domProps:{[i]:this.stamp}})]}return[e]},__getText(t,e,i){const s=!0===this.textSanitize?"textContent":"innerHTML";if(!0===i&&!0===e.some(t=>void 0===t.tag&&void 0!==t.text))return[t("div",{class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,t("div",e)))])];const a=!0!==i?e=>t("div",{domProps:{[s]:e}}):e.length>1?t=>t:e=>t("div",[e]);return e.map((e,i)=>t("div",{key:i,class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,a(e)))]))}},render(t){const e=[];void 0!==this.$scopedSlots.avatar?e.push(this.$scopedSlots.avatar()):void 0!==this.avatar&&e.push(t("img",{class:"q-message-avatar q-message-avatar--"+this.op,attrs:{src:this.avatar,"aria-hidden":"true"}}));const i=[];void 0!==this.$scopedSlots.name?i.push(t("div",{class:"q-message-name q-message-name--"+this.op},this.$scopedSlots.name())):void 0!==this.name&&i.push(t("div",{class:"q-message-name q-message-name--"+this.op,domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}})),void 0!==this.text&&i.push(this.__getText(t,this.text)),void 0!==this.$scopedSlots.default&&i.push(this.__getText(t,this.$scopedSlots.default(),!0)),e.push(t("div",{class:this.sizeClass},i));const s=[];return void 0!==this.$scopedSlots.label?s.push(t("div",{staticClass:"q-message-label"},this.$scopedSlots.label())):void 0!==this.label&&s.push(t("div",{staticClass:"q-message-label",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}})),s.push(t("div",{class:this.containerClass},e)),t("div",{class:"q-message q-message-"+this.op,on:{...this.qListeners}},s)}})},8180:function(t,e,i){"use strict";i("e0b6")},8505:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Modal",{attrs:{width:t.externalAccess?"100vw":"70vw","external-access":t.externalAccess},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.historyTitle)+'" Process History')]},proxy:!0},{key:"action",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:t.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processHistory"}},[e("div",{staticClass:"col-12 q-mb-md q-pt-sm"},[e("Stepper",{attrs:{"stage-level":t.stageLevel,"current-step":t.currentStep}})],1),e("table",{attrs:{id:"history"}},[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.processHistoryData,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:"stage"===s.name?[t._v(" "+t._s(i[s.name]||"-")+" "),i.subWorkflowHistory?[i.subWorkflowHistory.length?[e("span",{staticClass:"text-secondary"},[t._v(" [CONNECTOR] ")])]:t._e()]:t._e()]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0),i.comments.length?e("tr",{key:i.id,on:{click:function(t){i.showComments=!i.showComments}}},[e("td",{staticClass:"comments",attrs:{colspan:"6"}},[e("BaseIcon",{attrs:{name:i.showComments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Comments ("+t._s(i.comments.length)+") ")],1)]):t._e(),i.comments.length&&i.showComments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"comments1"}},[e("thead",[e("tr",[e("th",{staticClass:"large"},[t._v("Comments")]),e("th",{staticClass:"medium"},[t._v("Commented By")]),e("th",{staticClass:"medium"},[t._v("Commented On")]),e("th",{staticClass:"medium"},[t._v("Attached In")])])]),e("tbody",[t._l(i.comments,(function(i,s){return[e("tr",{key:s},[e("td",{staticClass:"commentsText ellipsis"},[t._v(" "+t._s(t.removeTags(i.comments)||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(i.createdByEmail||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")]),e("td",[i.embedFileList&&i.embedFileList.length?[e("div",{staticClass:"file-icons",on:{click:function(e){return t.openFileByCmd(i.embedFileList[0])}}},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"\n                                    comment.embedFileList[0].fileName\n                                  ",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}}),e("a",{staticClass:"file-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(i.embedFileList[0].fileName||"-"))])],1)]:[t._v(" "+t._s("-")+" ")]],2)])]}))],2)])])]):t._e(),i.attachments.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showAttachments=!i.showAttachments}}},[e("BaseIcon",{attrs:{name:i.showAttachments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Attachments ("+t._s(i.attachments.length)+") ")],1)]):t._e(),i.attachments.length&&i.showAttachments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",[e("tr",[e("th",[t._v("File Name")]),e("th",[t._v("Attached By")]),e("th",[t._v("Attached On")])])]),e("tbody",[t._l(i.attachments,(function(i,s){return[e("tr",{key:s},[e("td",[t._v(t._s(i.name||"-"))]),e("td",[t._v(t._s(i.createdByEmail||"-"))]),e("td",[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")])])]}))],2)])])]):t._e(),i.subWorkflowHistory?[i.subWorkflowHistory.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showSubWorkflowHistory=!i.showSubWorkflowHistory}}},[e("BaseIcon",{attrs:{name:i.showSubWorkflowHistory?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),1===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Completed",expression:"'Completed'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-check",color:"green"}})]:0===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-progress",expression:"'In-progress'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-clock",color:"orange"}})]:t._e(),t._v(" "+t._s(i.subWorkflowHistory[0].requestNo)+" ")],2)]):t._e(),i.showSubWorkflowHistory?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",[t._l(i.subWorkflowHistory,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]):t._e()]:t._e()]}))],2)])])]},proxy:!0}],null,!0),model:{value:t.processHistoryModal,callback:function(e){t.processHistoryModal=e},expression:"processHistoryModal"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFiles[0].createdAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFiles[0].createdByEmail))]),t.selectedFiles[0].size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFiles[0].size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],1)},a=[],o=(i("14d9"),i("1b0d")),r=i("6a70"),n=i("0006"),l=i("fa1f"),c=i("381e"),h=i("dd90"),d=i("a7d2"),u=i("42fc"),p={name:"ProcessHistory",components:{Modal:r["a"],Stepper:n["a"],Sheet:c["a"],FileIcon:l["a"]},props:{processId:{type:Number,required:!0},selectedProcess:{type:Object,default:()=>{}},externalAccess:{type:Boolean,default:!1}},data(){return{historyTitle:"",processHistoryData:[],processHistoryModal:!1,columns:[{id:this.$nano.id(),name:"stage",label:"STAGE",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"actionUser",label:"ACTION USER",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"receivedOn",label:"RECEIVED ON",type:"DATE"},{id:this.$nano.id(),name:"processedBy",label:"PROCESSED BY",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"processedOn",label:"PROCESSED ON",type:"DATE"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"SHORT_TEXT"}],stageLevel:[],currentStep:0,selectedFile:{},fileSheet:!1,selectedFiles:[]}},watch:{processId:{immediate:!0,handler(){this.processId&&this.showHistory(this.processId)}}},methods:{async showHistory(t){this.processHistoryModal=!0,this.processHistoryData=[],this.historyTitle=this.selectedProcess.requestNo,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await o["t"].processHistory(this.selectedProcess.id,t);this.$store.commit("hideLoadingBarSave"),e?this.$alert.error(e):i.length&&(i.forEach(t=>{this.processHistoryData.push({...t,showComments:!1,showAttachments:!1,showSubWorkflowHistory:!1})}),this.stageLevel=[],this.currentStep=0,i.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},openFileByCmd(t){const e=t,{fileName:i,itemid:s,...a}=e;this.selectedFile={name:i,id:s,...a};const o=this.processHistoryData.map(t=>t.attachments).flat();this.selectedFiles=o.filter(t=>t.id==this.selectedFile.id&&t.name==this.selectedFile.name),this.openFile(this.selectedFile)},fileSize(t){return Object(d["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;return"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2),Object(h["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`}return Object(h["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(h["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:Object(h["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},closeModal(){this.processHistoryModal=!1,this.$emit("close")},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},export_Data1(){let t=[];this.processHistoryData.forEach(e=>{t.push({Stage:e.stage,"Action User":e.actionUser,"Received On":this.$day.format(e.receivedOn),"Processed On":this.$day.format(e.processedOn),"Processed By":e.processedBy,Status:e.status})}),Object(u["a"])(t,this.historyTitle+" - Process History")},export_Data(){let t=[];this.processHistoryData.forEach(e=>{if(t.push({Stage:e.stage,"Action User":e.actionUser||"","Received On":this.$day.format(e.receivedOn)||"","Processed On":this.$day.format(e.processedOn)||"","Processed By":e.processedBy||"",Status:e.status||""}),e.comments&&e.comments.length){let i;t.push({Stage:`<span style="color: #00BCD4;font-weight: bold;">Comments(${e.comments.length})</span>`}),t.push({Stage:"<strong>Comments<strong>","Action User":"<strong>Commented By<strong>","Received On":"<strong>Commented On<strong>","Processed On":"<strong>Attached In<strong>"}),e.comments.forEach(e=>{e.embedFileList&&e.embedFileList.length&&e.embedFileList.forEach(t=>{i=t.fileName}),t.push({Stage:`<span style="color: #00BCD4;">${e.comments||""}</span>`,"Action User":`<span style="color: #00BCD4;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #00BCD4;">${this.$day.format(e.createdAt)||""}</span>`,"Processed On":`<span style="color: #00BCD4;">${i||""}</span>`})})}e.attachments&&e.attachments.length&&(t.push({Stage:`<span style="color: #643094;font-weight: bold;">Attachment(${e.attachments.length})</span>`}),t.push({Stage:"<strong>File Name<strong>","Action User":"<strong>\tAttached By<strong>","Received On":"<strong>Attached On<strong>"}),e.attachments.forEach(e=>{t.push({Stage:`<span style="color: #643094; border: 12px solid#50067e;">${e.name||""}</span>`,"Action User":`<span style="color: #643094;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #643094;">${this.$day.format(e.createdAt)||""}</span>`})})),e.subWorkflowHistory&&e.subWorkflowHistory.length&&(t.push({Stage:`<span style="color: #e97f06;font-weight: bold;">${e.subWorkflowHistory[0].requestNo}[Connector]<span>`}),t.push({Stage:"<strong>Stage</strong>","Action User":"<strong>Action User</strong>","Received On":"<strong>Received On</strong>","Processed On":"<strong>Processed On</strong>","Processed By":"<strong>Processed By</strong>",Status:"<strong>status</strong>"}),e.subWorkflowHistory.forEach(e=>{t.push({Stage:`<span style="color: #e97f06;">${e.stage}</span>`,"Action User":`<span style="color: #e97f06;border:2px solid black">${e.actionUser||""}</span>`,"Received On":`<span style="color: #e97f06;">${this.$day.format(e.receivedOn)||""}</span>`,"Processed On":`<span style="color: #e97f06;">${this.$day.format(e.processedOn)||""}</span>`,"Processed By":`<span style="color: #e97f06;">${e.processedBy||""}</span>`,Status:`<span style="color: #e97f06;">${e.status||""}</span>`})}))}),Object(u["a"])(t,this.historyTitle+" Report")}}},f=p,m=(i("bf55"),i("2877")),g=i("4e73"),v=i("93dc"),x=i.n(v),y=Object(m["a"])(f,s,a,!1,null,"2443da3d",null);e["a"]=y.exports;x()(y,"components",{QMenu:g["a"]})},"874f":function(t,e,i){"use strict";var s=i("7c4a"),a=i("0e40"),o=Object(s["a"])((function(t,e,i){return t+(i?" ":"")+Object(a["a"])(e)}));e["a"]=o},"87dc":function(t,e,i){"use strict";i("5f3d")},"8a9e":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"breadcrumbs"},[e("BaseIcon",{staticClass:"cursor-pointer icon active",attrs:{name:"mdi-home","inherit-color":""},on:{click:function(e){return t.$emit("reset")}}}),t._l(t.breadcrumbs,(function(i){return e("div",{key:i.id,staticClass:"breadcrumb",on:{click:function(e){return t.$emit("click",i)}}},[e("BaseIcon",{staticClass:"icon q-mx-xs",attrs:{name:"eva-chevron-right","inherit-color":""}}),e("div",{staticClass:"label"},[t._v(t._s(i.label))])],1)}))],2)},a=[],o={name:"Breadcrumbs",props:{breadcrumbs:{type:Array,default:()=>[]}}},r=o,n=(i("6cd0"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"165688e2",null);e["a"]=l.exports},"8b55":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({class:{active:t.isActive,"is-full-width":t.isFullWidth},style:{color:t.isActive?t._color:""},attrs:{id:"tab"}},t.$listeners),[t._v(" "+t._s(t.label)+" ")])},a=[],o={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},r=o,n=(i("2ac6"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"f3c4783e",null);e["a"]=l.exports},"91dd":function(t,e,i){},9254:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.barChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"BarChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},isHorizontal:{type:Boolean,default:!1},isStacked:{type:Boolean,default:!1},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{barChartOptions:{chart:{type:"bar",barHeight:"100%",stacked:this.isStacked},xaxis:{categories:this.xData},plotOptions:{bar:{borderRadius:4,horizontal:this.isHorizontal}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.barChartOptions,this.options)}}}},l=n,c=i("2877"),h=Object(c["a"])(l,s,a,!1,null,"8af710e6",null);e["a"]=h.exports},"94f5":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({attrs:{id:"action"}},t.$listeners),[e("BaseIcon",{attrs:{name:t.icon,"inherit-color":""}}),e("div",{staticClass:"label"},[t._v(t._s(t.label))])],1)},a=[],o={name:"Action",props:{icon:{type:String,required:!0},label:{type:String,default:""}}},r=o,n=(i("a116"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"1619714d",null);e["a"]=l.exports},"970a":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));const s={CONTAINS:"CONTAINS",IS_EQUALS_TO:"IS_EQUALS_TO (=)",IS_NOT_EQUALS_TO:"IS_NOT_EQUALS_TO (!=)",IS_GREATER_THAN:"IS_GREATER_THAN (>)",IS_GREATER_THAN_OR_EQUALS_TO:"IS_GREATER_THAN_OR_EQUALS_TO (>=)",IS_LESSER_THAN:"IS_LESSER_THAN (<)",IS_LESSER_THAN_OR_EQUALS_TO:"IS_LESSER_THAN_OR_EQUALS_TO (<=)",IS_EMPTY:"IS_EMPTY ({})",IS_NOT_EMPTY:"IS_NOT_EMPTY (!{})",IS_ANY_OF:"IS_ANY_OF",IS_NOT_ANY_OF:"IS_NOT_ANY_OF",NOT_CONTAINS:"NOT_CONTAINS",STARTS_WITH:"STARTS_WITH",NOT_STARTS_WITH:"NOT_STARTS_WITH",ENDS_WITH:"ENDS_WITH",NOT_ENDS_WITH:"NOT_ENDS_WITH"};Object.freeze(s);var a=s,o=i("381b");function r(t){switch(t){case o["a"].NUMBER:case o["a"].DATE:case o["a"].TIME:case o["a"].DATE_TIME:case o["a"].COUNTER:case o["a"].CALCULATED:return[a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_GREATER_THAN,a.IS_GREATER_THAN_OR_EQUALS_TO,a.IS_LESSER_THAN,a.IS_LESSER_THAN_OR_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SHORT_TEXT:case o["a"].LONG_TEXT:case o["a"].TABLE:return[a.CONTAINS,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.NOT_CONTAINS,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SINGLE_SELECT:case o["a"].MULTI_SELECT:case o["a"].MULTIPLE_CHOICE:return[a.CONTAINS,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_ANY_OF,a.IS_NOT_ANY_OF];default:return[a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO]}}},9935:function(t,e,i){},"9b4a":function(t,e,i){"use strict";i.d(e,"a",(function(){return Ca})),i.d(e,"b",(function(){return ki})),i.d(e,"c",(function(){return Bs})),i.d(e,"d",(function(){return go}));const s=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function a(t,e){let i=!1,a=[];return function(...o){a=Array.prototype.slice.call(o),i||(i=!0,s.call(window,()=>{i=!1,t.apply(e,a)}))}}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const o={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return-t*(t-2)},easeInOutQuad(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic(t){return t*t*t},easeOutCubic(t){return(t-=1)*t*t+1},easeInOutCubic(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return-((t-=1)*t*t*t-1)},easeInOutQuart(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return(t-=1)*t*t*t*t+1},easeInOutQuint(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine(t){return Math.sin(t*(Math.PI/2))},easeInOutSine(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:2===(t/=.5)?1:(i||(i=.45),e=i/(2*Math.PI)*Math.asin(1/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:s*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce(t){return 1-o.easeOutBounce(1-t)},easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce(t){return t<.5?.5*o.easeInBounce(2*t):.5*o.easeOutBounce(2*t-1)+.5}};var r=o;
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function n(){}const l=function(){let t=0;return function(){return t++}}();function c(t){return null===t||"undefined"===typeof t}function h(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function d(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const u=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function p(t,e){return"undefined"===typeof t?e:t}function f(t,e,i){if(t&&"function"===typeof t.call)return t.apply(i,e)}function m(t,e,i,s){let a,o,r;if(h(t))if(o=t.length,s)for(a=o-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<o;a++)e.call(i,t[a],a);else if(d(t))for(r=Object.keys(t),o=r.length,a=0;a<o;a++)e.call(i,t[r[a]],r[a])}function g(t,e){let i,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(a=t[i],o=e[i],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function v(t){if(h(t))return t.map(v);if(d(t)){const e={},i=Object.keys(t),s=i.length;let a=0;for(;a<s;++a)e[i[a]]=v(t[i[a]]);return e}return t}function x(t,e,i,s){const a=e[t],o=i[t];d(a)&&d(o)?y(a,o,s):e[t]=v(o)}function y(t,e,i){const s=h(e)?e:[e],a=s.length;if(!d(t))return t;i=i||{};const o=i.merger||x;for(let r=0;r<a;++r){if(e=s[r],!d(e))continue;const a=Object.keys(e);for(let s=0,r=a.length;s<r;++s)o(a[s],t,e,i)}return t}function b(t,e){return y(t,e,{merger:w})}function w(t,e,i){const s=e[t],a=i[t];d(s)&&d(a)?b(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=v(a))}function k(t,e){if(e.length<3)return t[e];const i=e.split(".");for(let s=0,a=i.length;s<a;++s){const e=i[s];if(!(e in t))return;t=t[e]}return t}function S(t){return t.charAt(0).toUpperCase()+t.slice(1)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const C=Math.PI,A=C/180,T=2*C,I=C/2,M=C/4,L=2*C/3;function P(t){return!t||c(t.size)||c(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _(t,e,i,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,i.push(a)),o>s&&(s=o),s}function O(t,e,i,s){s=s||{};let a=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const n=i.length;let l,c,d,u,p;for(l=0;l<n;l++)if(u=i[l],void 0!==u&&null!==u&&!0!==h(u))r=_(t,a,o,r,u);else if(h(u))for(c=0,d=u.length;c<d;c++)p=u[c],void 0===p||null===p||h(p)||(r=_(t,a,o,r,p));t.restore();const f=o.length/2;if(f>i.length){for(l=0;l<f;l++)delete a[o[l]];o.splice(0,f)}return r}function D(t,e,i){const s=t.currentDevicePixelRatio,a=i/2;return Math.round((e-a)*s)/s+a}function E(t){t.ctx.clearRect(0,0,t.width,t.height)}function F(t,e,i,s){let a,o,r,n,l;const c=e.pointStyle,h=e.rotation,d=e.radius;let u=(h||0)*A;if(c&&"object"===typeof c&&(a=c.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(i,s),t.rotate(u),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),c){default:t.arc(i,s,d,0,T),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=L,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=L,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),t.closePath();break;case"rectRounded":l=.516*d,n=d-l,o=Math.cos(u+M)*n,r=Math.sin(u+M)*n,t.arc(i-o,s-r,l,u-C,u-I),t.arc(i+r,s-o,l,u-I,u),t.arc(i+o,s+r,l,u,u+I),t.arc(i-r,s+o,l,u+I,u+C),t.closePath();break;case"rect":if(!h){n=Math.SQRT1_2*d,t.rect(i-n,s-n,2*n,2*n);break}u+=M;case"rectRot":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,s-r),t.lineTo(i+r,s-o),t.lineTo(i+o,s+r),t.lineTo(i-r,s+o),t.closePath();break;case"crossRot":u+=M;case"cross":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r),t.moveTo(i+r,s-o),t.lineTo(i-r,s+o);break;case"star":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r),t.moveTo(i+r,s-o),t.lineTo(i-r,s+o),u+=M,o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r),t.moveTo(i+r,s-o),t.lineTo(i-r,s+o);break;case"line":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(u)*d,s+Math.sin(u)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function B(t,e){const i=.5;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function N(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function z(t){t.restore()}function R(t,e,i,s,a){if(!e)return t.lineTo(i.x,i.y);if("middle"===a){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===a!==!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function $(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.controlPointPreviousX:e.controlPointNextX,s?e.controlPointPreviousY:e.controlPointNextY,s?i.controlPointNextX:i.controlPointPreviousX,s?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function H(t,e){if(!e)return t;const i=e.split(".");for(let s=0,a=i.length;s<a;++s){const e=i[s];t=t[e]||(t[e]={})}return t}class W{constructor(){this.color="rgba(0,0,0,0.1)",this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={color:"#666",family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null,lineWidth:0,strokeStyle:void 0},this.hover={onHover:null,mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onClick=null,this.responsive=!0,this.showLines=!0,this.plugins={},this.scale=void 0,this.doughnut=void 0,this.scales={},this.controllers=void 0}set(t,e){return y(H(this,t),e)}get(t){return H(this,t)}route(t,e,i,s){const a=H(this,t),o=H(this,i),r="_"+e;Object.defineProperties(a,{[r]:{writable:!0},[e]:{enumerable:!0,get(){return p(this[r],o[s])},set(t){this[r]=t}}})}}var j=new W;function X(t,e){const i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}function Y(t){let e,i,s,a;return d(t)?(e=+t.top||0,i=+t.right||0,s=+t.bottom||0,a=+t.left||0):e=i=s=a=+t||0,{top:e,right:i,bottom:s,left:a,height:e+s,width:a+i}}function V(t,e){t=t||{},e=e||j.font;let i=p(t.size,e.size);"string"===typeof i&&(i=parseInt(i,10));const s={color:p(t.color,e.color),family:p(t.family,e.family),lineHeight:X(p(t.lineHeight,e.lineHeight),i),lineWidth:p(t.lineWidth,e.lineWidth),size:i,style:p(t.style,e.style),weight:p(t.weight,e.weight),strokeStyle:p(t.strokeStyle,e.strokeStyle),string:""};return s.string=P(s),s}function q(t,e,i,s){let a,o,r,n=!0;for(a=0,o=t.length;a<o;++a)if(r=t[a],void 0!==r&&(void 0!==e&&"function"===typeof r&&(r=r(e),n=!1),void 0!==i&&h(r)&&(r=r[i%r.length],n=!1),void 0!==r))return s&&!n&&(s.cacheable=!1),r}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const G={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},U="0123456789ABCDEF",Z=t=>U[15&t],K=t=>U[(240&t)>>4]+U[15&t],J=t=>(240&t)>>4===(15&t);function Q(t){return J(t.r)&&J(t.g)&&J(t.b)&&J(t.a)}function tt(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*G[t[1]],g:255&17*G[t[2]],b:255&17*G[t[3]],a:5===i?17*G[t[4]]:255}:7!==i&&9!==i||(e={r:G[t[1]]<<4|G[t[2]],g:G[t[3]]<<4|G[t[4]],b:G[t[5]]<<4|G[t[6]],a:9===i?G[t[7]]<<4|G[t[8]]:255})),e}function et(t){var e=Q(t)?Z:K;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function it(t){return t+.5|0}const st=(t,e,i)=>Math.max(Math.min(t,i),e);function at(t){return st(it(2.55*t),0,255)}function ot(t){return st(it(255*t),0,255)}function rt(t){return st(it(t/2.55)/100,0,1)}function nt(t){return st(it(100*t),0,100)}const lt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ct(t){const e=lt.exec(t);let i,s,a,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?at(t):255*t)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?at(i):i),s=255&(e[4]?at(s):s),a=255&(e[6]?at(a):a),{r:i,g:s,b:a,a:o}}}function ht(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${rt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const dt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ut(t,e,i){const s=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function pt(t,e,i){const s=(s,a=(s+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function ft(t,e,i){const s=ut(t,1,.5);let a;for(e+i>1&&(a=1/(e+i),e*=a,i*=a),a=0;a<3;a++)s[a]*=1-e-i,s[a]+=e;return s}function mt(t){const e=255,i=t.r/e,s=t.g/e,a=t.b/e,o=Math.max(i,s,a),r=Math.min(i,s,a),n=(o+r)/2;let l,c,h;return o!==r&&(h=o-r,c=n>.5?h/(2-o-r):h/(o+r),l=o===i?(s-a)/h+(s<a?6:0):o===s?(a-i)/h+2:(i-s)/h+4,l=60*l+.5),[0|l,c||0,n]}function gt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(ot)}function vt(t,e,i){return gt(ut,t,e,i)}function xt(t,e,i){return gt(ft,t,e,i)}function yt(t,e,i){return gt(pt,t,e,i)}function bt(t){return(t%360+360)%360}function wt(t){const e=dt.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?at(+e[5]):ot(+e[5]));const a=bt(+e[2]),o=+e[3]/100,r=+e[4]/100;return i="hwb"===e[1]?xt(a,o,r):"hsv"===e[1]?yt(a,o,r):vt(a,o,r),{r:i[0],g:i[1],b:i[2],a:s}}function kt(t,e){var i=mt(t);i[0]=bt(i[0]+e),i=vt(i),t.r=i[0],t.g=i[1],t.b=i[2]}function St(t){if(!t)return;const e=mt(t),i=e[0],s=nt(e[1]),a=nt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${a}%, ${rt(t.a)})`:`hsl(${i}, ${s}%, ${a}%)`}const Ct={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},At={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Tt(){const t={},e=Object.keys(At),i=Object.keys(Ct);let s,a,o,r,n;for(s=0;s<e.length;s++){for(r=n=e[s],a=0;a<i.length;a++)o=i[a],n=n.replace(o,Ct[o]);o=parseInt(At[r],16),t[n]=[o>>16&255,o>>8&255,255&o]}return t}let It;function Mt(t){It||(It=Tt(),It.transparent=[0,0,0,0]);const e=It[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Lt(t,e,i){if(t){let s=mt(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=vt(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Pt(t,e){return t?Object.assign(e||{},t):t}function _t(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ot(t[3]))):(e=Pt(t,{r:0,g:0,b:0,a:1}),e.a=ot(e.a)),e}function Ot(t){return"r"===t.charAt(0)?ct(t):wt(t)}class Dt{constructor(t){if(t instanceof Dt)return t;const e=typeof t;let i;"object"===e?i=_t(t):"string"===e&&(i=tt(t)||Mt(t)||Ot(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Pt(this._rgb);return t&&(t.a=rt(t.a)),t}set rgb(t){this._rgb=_t(t)}rgbString(){return this._valid?ht(this._rgb):this._rgb}hexString(){return this._valid?et(this._rgb):this._rgb}hslString(){return this._valid?St(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,a=t.rgb;let o;const r=e===o?.5:e,n=2*r-1,l=s.a-a.a,c=((n*l===-1?n:(n+l)/(1+n*l))+1)/2;o=1-c,s.r=255&c*s.r+o*a.r+.5,s.g=255&c*s.g+o*a.g+.5,s.b=255&c*s.b+o*a.b+.5,s.a=r*s.a+(1-r)*a.a,i.rgb=s}return i}clone(){return new Dt(this.rgb)}alpha(t){return this._rgb.a=ot(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=it(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Lt(this._rgb,2,t),this}darken(t){return Lt(this._rgb,2,-t),this}saturate(t){return Lt(this._rgb,1,t),this}desaturate(t){return Lt(this._rgb,1,-t),this}rotate(t){return kt(this._rgb,t),this}}function Et(t){return new Dt(t)}const Ft=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function Bt(t){return Ft(t)?t:Et(t)}function Nt(t){return Ft(t)?t:Et(t).saturate(.5).darken(.1).hexString()}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function zt(t,e){let i,s=t.length-1,a=0;while(s-a>1)i=a+s>>1,t[i]<e?a=i:s=i;return{lo:a,hi:s}}function Rt(t,e,i){let s,a=t.length-1,o=0;while(a-o>1)s=o+a>>1,t[s][e]<i?o=s:a=s;return{lo:o,hi:a}}function $t(t,e,i){let s,a=t.length-1,o=0;while(a-o>1)s=o+a>>1,t[s][e]<i?a=s:o=s;return{lo:o,hi:a}}function Ht(t,e,i){let s=0,a=t.length;while(s<a&&t[s]<e)s++;while(a>s&&t[a-1]>i)a--;return s>0||a<t.length?t.slice(s,a):t}const Wt=["push","pop","shift","splice","unshift"];function jt(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Wt.forEach(e=>{const i="_onData"+S(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const a=s.apply(this,e);return t._chartjs.listeners.forEach(t=>{"function"===typeof t[i]&&t[i](...e)}),a}})}))}function Xt(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,a=s.indexOf(e);-1!==a&&s.splice(a,1),s.length>0||(Wt.forEach(e=>{delete t[e]}),delete t._chartjs)}function Yt(t){const e=new Set;let i,s;for(i=0,s=t.length;i<s;++i)e.add(t[i]);if(e.size===s)return t;const a=[];return e.forEach(t=>{a.push(t)}),a}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const Vt=Math.PI,qt=2*Vt,Gt=qt+Vt;function Ut(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s===0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort((t,e)=>t-e).pop(),e}const Zt=Math.log10||function(t){const e=Math.log(t)*Math.LOG10E,i=Math.round(e),s=t===Math.pow(10,i);return s?i:e};function Kt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Jt(t,e,i){return Math.abs(t-e)<i}function Qt(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function te(t,e,i){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}const ee=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1};function ie(t){return t*(Vt/180)}function se(t){return t*(180/Vt)}function ae(t){if(!u(t))return;let e=1,i=0;while(Math.round(t*e)/e!==t)e*=10,i++;return i}function oe(t,e){const i=e.x-t.x,s=e.y-t.y,a=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*Vt&&(o+=qt),{angle:o,distance:a}}function re(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ne(t,e){return(t-e+Gt)%qt-Vt}function le(t){return(t%qt+qt)%qt}function ce(t,e,i){const s=le(t),a=le(e),o=le(i),r=le(a-s),n=le(o-s),l=le(s-a),c=le(s-o);return s===a||s===o||r>n&&l<c}function he(t,e,i){return Math.max(e,Math.min(i,t))}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function de(t){return void 0!==t&&null!==t&&"none"!==t}function ue(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function pe(t,e,i){let s;return"string"===typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}function fe(t,e,i){const s=document.defaultView,a=ue(t),o=s.getComputedStyle(t)[e],r=s.getComputedStyle(a)[e],n=de(o),l=de(r),c=Number.POSITIVE_INFINITY;if(n||l)return Math.min(n?pe(o,t,i):c,l?pe(r,a,i):c)}function me(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function ge(t){return fe(t,"max-width","clientWidth")}function ve(t){return fe(t,"max-height","clientHeight")}function xe(t,e,i){return e=me(t,e),""===e?0:e.indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)}function ye(t,e){const i=t.originalEvent||t,s=i.touches,a=s&&s.length?s[0]:i,o=a.clientX,r=a.clientY,n=a.offsetX||a.layerX||o,l=a.offsetY||a.layerY||r;if(n!==o&&l!==r)return{x:n,y:l};const c=e.canvas,h=e.currentDevicePixelRatio,d=c.getBoundingClientRect(),u=parseFloat(me(c,"padding-left")),p=parseFloat(me(c,"padding-top")),f=parseFloat(me(c,"padding-right")),m=parseFloat(me(c,"padding-bottom")),g=d.right-d.left-u-f,v=d.bottom-d.top-p-m;return{x:Math.round((n-d.left-u)/g*c.width/h),y:Math.round((l-d.top-p)/v*c.height/h)}}function be(t,e){return"number"===typeof t?t:e}function we(t){const e=ue(t);if(!e)return be(t.clientWidth,t.width);const i=e.clientWidth,s=xe(e,"padding-left",i),a=xe(e,"padding-right",i),o=i-s-a,r=ge(t);return isNaN(r)?o:Math.min(o,r)}function ke(t){const e=ue(t);if(!e)return be(t.clientHeight,t.height);const i=e.clientHeight,s=xe(e,"padding-top",i),a=xe(e,"padding-bottom",i),o=i-s-a,r=ve(t);return isNaN(r)?o:Math.min(o,r)}function Se(t,e){const i=t.currentDevicePixelRatio=e||"undefined"!==typeof window&&window.devicePixelRatio||1,{canvas:s,width:a,height:o}=t;s.height=o*i,s.width=a*i,t.ctx.setTransform(i,0,0,i,0,0),!s.style||s.style.height||s.style.width||(s.style.height=o+"px",s.style.width=a+"px")}const Ce=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Ae(t,e){const i=me(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Te(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Ie(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function Me(t,e,i,s){const a={x:t.controlPointNextX,y:t.controlPointNextY},o={x:e.controlPointPreviousX,y:e.controlPointPreviousY},r=Te(t,a,i),n=Te(a,o,i),l=Te(o,e,i),c=Te(r,n,i),h=Te(n,l,i);return Te(c,h,i)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Le(t){return"angle"===t?{between:ce,compare:ne,normalize:le}:{between:(t,e,i)=>t>=e&&t<=i,compare:(t,e)=>t-e,normalize:t=>t}}function Pe(t,e,i,s){return{start:t%s,end:e%s,loop:i&&(e-t+1)%s===0}}function _e(t,e,i){const{property:s,start:a,end:o}=i,{between:r,normalize:n}=Le(s),l=e.length;let c,h,{start:d,end:u,loop:p}=t;if(p){for(d+=l,u+=l,c=0,h=l;c<h;++c){if(!r(n(e[d%l][s]),a,o))break;d--,u--}d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:p}}function Oe(t,e,i){if(!i)return[t];const{property:s,start:a,end:o}=i,r=e.length,{compare:n,between:l,normalize:c}=Le(s),{start:h,end:d,loop:u}=_e(t,e,i),p=[];let f,m,g,v=!1,x=null;const y=()=>l(a,g,f)&&0!==n(a,g),b=()=>0===n(o,f)||l(o,g,f),w=()=>v||y(),k=()=>!v||b();for(let S=h,C=h;S<=d;++S)m=e[S%r],m.skip||(f=c(m[s]),v=l(f,a,o),null===x&&w()&&(x=0===n(f,a)?S:C),null!==x&&k()&&(p.push(Pe(x,S,u,r)),x=null),C=S,g=f);return null!==x&&p.push(Pe(x,d,u,r)),p}function De(t,e){const i=[],s=t.segments;for(let a=0;a<s.length;a++){const o=Oe(s[a],t.points,e);o.length&&i.push(...o)}return i}function Ee(t,e,i,s){let a=0,o=e-1;if(i&&!s)while(a<e&&!t[a].skip)a++;while(a<e&&t[a].skip)a++;a%=e,i&&(o+=a);while(o>a&&t[o%e].skip)o--;return o%=e,{start:a,end:o}}function Fe(t,e,i,s){const a=t.length,o=[];let r,n=e,l=t[e];for(r=e+1;r<=i;++r){const i=t[r%a];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%a,end:(r-1)%a,loop:s}),e=n=i.stop?r:null):(n=r,l.skip&&(e=r)),l=i}return null!==n&&o.push({start:e%a,end:n%a,loop:s}),o}function Be(t){const e=t.points,i=t.options.spanGaps,s=e.length;if(!s)return[];const a=!!t._loop,{start:o,end:r}=Ee(e,s,a,i);if(!0===i)return[{start:o,end:r,loop:a}];const n=r<o?r+s:r,l=!!t._fullLoop&&0===o&&r===s-1;return Fe(e,o,n,l)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const Ne=Number.EPSILON||1e-14;function ze(t,e,i,s){const a=t.skip?e:t,o=e,r=i.skip?e:i,n=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2));let c=n/(n+l),h=l/(n+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=s*c,u=s*h;return{previous:{x:o.x-d*(r.x-a.x),y:o.y-d*(r.y-a.y)},next:{x:o.x+u*(r.x-a.x),y:o.y+u*(r.y-a.y)}}}function Re(t){const e=(t||[]).map(t=>({model:t,deltaK:0,mK:0})),i=e.length;let s,a,o,r,n,l,c,h,d;for(s=0;s<i;++s)if(o=e[s],!o.model.skip){if(a=s>0?e[s-1]:null,r=s<i-1?e[s+1]:null,r&&!r.model.skip){const t=r.model.x-o.model.x;o.deltaK=0!==t?(r.model.y-o.model.y)/t:0}!a||a.model.skip?o.mK=o.deltaK:!r||r.model.skip?o.mK=a.deltaK:ee(a.deltaK)!==ee(o.deltaK)?o.mK=0:o.mK=(a.deltaK+o.deltaK)/2}for(s=0;s<i-1;++s)o=e[s],r=e[s+1],o.model.skip||r.model.skip||(Jt(o.deltaK,0,Ne)?o.mK=r.mK=0:(n=o.mK/o.deltaK,l=r.mK/o.deltaK,h=Math.pow(n,2)+Math.pow(l,2),h<=9||(c=3/Math.sqrt(h),o.mK=n*c*o.deltaK,r.mK=l*c*o.deltaK)));for(s=0;s<i;++s)o=e[s],o.model.skip||(a=s>0?e[s-1]:null,r=s<i-1?e[s+1]:null,a&&!a.model.skip&&(d=(o.model.x-a.model.x)/3,o.model.controlPointPreviousX=o.model.x-d,o.model.controlPointPreviousY=o.model.y-d*o.mK),r&&!r.model.skip&&(d=(r.model.x-o.model.x)/3,o.model.controlPointNextX=o.model.x+d,o.model.controlPointNextY=o.model.y+d*o.mK))}function $e(t,e,i){return Math.max(Math.min(t,i),e)}function He(t,e){let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i],B(a,e)&&(i>0&&B(t[i-1],e)&&(a.controlPointPreviousX=$e(a.controlPointPreviousX,e.left,e.right),a.controlPointPreviousY=$e(a.controlPointPreviousY,e.top,e.bottom)),i<t.length-1&&B(t[i+1],e)&&(a.controlPointNextX=$e(a.controlPointNextX,e.left,e.right),a.controlPointNextY=$e(a.controlPointNextY,e.top,e.bottom)))}function We(t,e,i,s){let a,o,r,n;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)Re(t);else{let i=s?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)r=t[a],n=ze(i,r,t[Math.min(a+1,o-(s?0:1))%o],e.tension),r.controlPointPreviousX=n.previous.x,r.controlPointPreviousY=n.previous.y,r.controlPointNextX=n.next.x,r.controlPointNextY=n.next.y,i=r}e.capBezierPoints&&He(t,i)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const je=function(t,e){return{x(i){return t+t+e-i},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},Xe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ye(t,e,i){return t?je(e,i):Xe()}function Ve(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function qe(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Ge(t,e,i,s){const a=1e3/(i-s)|0,o=t.ctx;o.save(),o.clearRect(0,0,50,24),o.fillStyle="black",o.textAlign="right",e&&(o.fillText(e,50,8),o.fillText(a+" fps",50,18)),o.restore()}class Ue{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s]||[],o=e.duration;a.forEach(s=>s({chart:t,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){const t=this;t._request||(t._running=!0,t._request=s.call(window,()=>{t._update(),t._request=null,t._running&&t._refresh()}))}_update(){const t=this,e=Date.now();let i=0;t._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let r,n=o.length-1,l=!1;for(;n>=0;--n)r=o[n],r._active?(r.tick(e),l=!0):(o[n]=o[o.length-1],o.pop());l&&(a.draw(),t._notify(a,s,e,"progress")),a.options.animation.debug&&Ge(a,o.length,e,t._lastDate),o.length||(s.running=!1,t._notify(a,s,e,"complete")),i+=o.length}),t._lastDate=e,0===i&&(t._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ze=new Ue;const Ke="transparent",Je={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const s=Bt(t||Ke),a=s.valid&&Bt(e||Ke);return a&&a.valid?a.mix(s,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class Qe{constructor(t,e,i,s){const a=e[i];s=q([t.to,s,a,t.from]);const o=q([t.from,a,s]);this._active=!0,this._fn=t.fn||Je[t.type||typeof o],this._easing=r[t.easing||"linear"],this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){const s=this;if(s._active){const a=s._target[s._prop],o=i-s._start,r=s._duration-o;s._start=i,s._duration=Math.floor(Math.max(r,t.duration)),s._loop=!!t.loop,s._to=q([t.to,e,a,t.from]),s._from=q([t.from,a,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,i=t-e._start,s=e._duration,a=e._prop,o=e._from,r=e._loop,n=e._to;let l;if(e._active=o!==n&&(r||i<s),!e._active)return e._target[a]=n,void e._notify(!0);i<0?e._target[a]=o:(l=i/s%2,l=r&&l>1?2-l:l,l=e._easing(Math.min(1,Math.max(0,l))),e._target[a]=e._fn(o,n,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}const ti=["x","y","borderWidth","radius","tension"],ei=["borderColor","backgroundColor"];function ii(t,e){const i=t.options,s=e.options;i&&s&&(i.$shared&&!s.$shared?t.options=Object.assign({},i,s,{$shared:!1}):Object.assign(i,s),delete e.options)}function si(t){const e={};return Object.keys(t).forEach(i=>{const s=t[i];d(s)||(e[i]=s)}),e}j.set("animation",{duration:1e3,easing:"easeOutQuart",onProgress:n,onComplete:n,colors:{type:"color",properties:ei},numbers:{type:"number",properties:ti},active:{duration:400},resize:{duration:0},show:{colors:{type:"color",properties:ei,from:"transparent"},visible:{type:"boolean",duration:0}},hide:{colors:{type:"color",properties:ei,to:"transparent"},visible:{type:"boolean",easing:"easeInExpo"}}});class ai{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!d(t))return;const e=this._properties,i=si(t);Object.keys(t).forEach(s=>{const a=t[s];d(a)&&(a.properties||[s]).forEach(t=>{if(e.has(t)){if(t===s){const{properties:i,...s}=e.get(t);e.set(t,Object.assign({},s,a))}}else e.set(t,Object.assign({},i,a))})})}_animateOptions(t,e){const i=e.options,s=ri(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&!s.$shared&&oi(t.$animations,i).then(()=>{t.options=i}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),o=Object.keys(e),r=Date.now();let n;for(n=o.length-1;n>=0;--n){const l=o[n];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(t,e));continue}const c=e[l];let h=a[l];const d=i.get(l);if(h){if(d&&h.active()){h.update(d,c,r);continue}h.cancel()}d&&d.duration?(a[l]=h=new Qe(d,t,l,c),s.push(h)):t[l]=c}return s}update(t,e){if(0===this._properties.size)return ii(t,e),void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Ze.add(this._chart,i),!0):void 0}}function oi(t,e){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const e=t[s[a]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}function ri(t,e){if(!e)return;let i=t.options;if(i)return i.$shared&&!e.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}function ni(t,e){const i=t&&t.options||{},s=i.reverse,a=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:a,end:s?a:o}}function li(t,e,i){if(!1===i)return!1;const s=ni(t,i),a=ni(e,i);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function ci(t){let e,i,s,a;return d(t)?(e=t.top,i=t.right,s=t.bottom,a=t.left):e=i=s=a=t,{top:e,right:i,bottom:s,left:a}}function hi(t,e){const i=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)i.push(s[a].index);return i}function di(t,e,i,s){const a=t.keys;let o,r,n,l;for(o=0,r=a.length;o<r;++o){if(n=+a[o],n===i){if(s)continue;break}l=t.values[n],isNaN(l)||0!==e&&ee(e)!==ee(l)||(e+=l)}return e}function ui(t){const e=Object.keys(t),i=new Array(e.length);let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s],i[s]={x:o,y:t[o]};return i}function pi(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function fi(t,e,i){return t.id+"."+e.id+"."+i.stack+"."+i.type}function mi(t){const{min:e,max:i,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?i:Number.POSITIVE_INFINITY}}function gi(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function vi(t,e){const{chart:i,_cachedMeta:s}=t,a=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:n}=s,l=o.axis,c=r.axis,h=fi(o,r,s),d=e.length;let u;for(let p=0;p<d;++p){const t=e[p],{[l]:i,[c]:s}=t,o=t._stacks||(t._stacks={});u=o[c]=gi(a,h,i),u[n]=s}}function xi(t,e){const i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function yi(t){return h(t)?t:Object.keys(t)}function bi(t,e){return e?"hover"+S(t):t}function wi(t){return"reset"===t||"none"===t}class ki{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedAnimations={},this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this._config=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this.enableOptionSharing=!1,this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=pi(e.vScale,e),t.addElements()}updateIndex(t){this.index=t}linkScales(){const t=this,e=t.chart,i=t._cachedMeta,s=t.getDataset(),a=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,o=i.xAxisID=p(s.xAxisID,xi(e,"x")),r=i.yAxisID=p(s.yAxisID,xi(e,"y")),n=i.rAxisID=p(s.rAxisID,xi(e,"r")),l=i.indexAxis,c=i.iAxisID=a(l,o,r,n),h=i.vAxisID=a(l,r,o,n);i.xScale=t.getScaleForId(o),i.yScale=t.getScaleForId(r),i.rScale=t.getScaleForId(n),i.iScale=t.getScaleForId(c),i.vScale=t.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){this._data&&Xt(this._data,this)}_dataCheck(){const t=this,e=t.getDataset(),i=e.data||(e.data=[]);d(i)?t._data=ui(i):t._data!==i&&(t._data&&Xt(t._data,t),i&&Object.isExtensible(i)&&jt(i,t),t._data=i)}addElements(){const t=this,e=t._cachedMeta;t._dataCheck();const i=t._data,s=e.data=new Array(i.length);for(let a=0,o=i.length;a<o;++a)s[a]=new t.dataElementType;t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(){const t=this,e=t._cachedMeta,i=t.getDataset();let s=!1;t._dataCheck(),e._stacked=pi(e.vScale,e),e.stack!==i.stack&&(s=!0,e._parsed.forEach(t=>{delete t._stacks[e.vScale.id][e.index]}),e.stack=i.stack),t._resyncElements(),s&&vi(t,e._parsed)}configure(){const t=this;t._config=y({},[t.chart.options[t._type].datasets,t.getDataset()],{merger(t,e,i){"data"!==t&&x(t,e,i)}}),t._parsing=q([t._config.parsing,t.chart.options.parsing,!0])}parse(t,e){const i=this,{_cachedMeta:s,_data:a}=i,{iScale:o,vScale:r,_stacked:n}=s,l=o.axis;let c,u,p,f,m=!0;if(t>0&&(m=s._sorted,f=s._parsed[t-1]),!1===i._parsing)s._parsed=a,s._sorted=!0;else{for(u=h(a[t])?i.parseArrayData(s,a,t,e):d(a[t])?i.parseObjectData(s,a,t,e):i.parsePrimitiveData(s,a,t,e),c=0;c<e;++c)s._parsed[c+t]=p=u[c],m&&(f&&p[l]<f[l]&&(m=!1),f=p);s._sorted=m}n&&vi(i,u),o.invalidateCaches(),r.invalidateCaches()}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:o}=t,r=a.axis,n=o.axis,l=a.getLabels(),c=a===o,h=new Array(s);let d,u,p;for(d=0,u=s;d<u;++d)p=d+i,h[d]={[r]:c||a.parse(l[p],p),[n]:o.parse(e[p],p)};return h}parseArrayData(t,e,i,s){const{xScale:a,yScale:o}=t,r=new Array(s);let n,l,c,h;for(n=0,l=s;n<l;++n)c=n+i,h=e[c],r[n]={x:a.parse(h[0],c),y:o.parse(h[1],c)};return r}parseObjectData(t,e,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:r="x",yAxisKey:n="y"}=this._parsing,l=new Array(s);let c,h,d,u;for(c=0,h=s;c<h;++c)d=c+i,u=e[d],l[c]={x:a.parse(k(u,r),d),y:o.parse(k(u,n),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}applyStack(t,e){const i=this.chart,s=this._cachedMeta,a=e[t.axis],o={keys:hi(i,!0),values:e._stacks[t.axis]};return di(o,a,s.index)}updateRangeFromParsed(t,e,i,s){let a=i[e.axis];const o=s&&i._stacks[e.axis];s&&o&&(s.values=o,t.min=Math.min(t.min,a),t.max=Math.max(t.max,a),a=di(s,a,this._cachedMeta.index,!0)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this,s=i._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,r=a.length,n=i._getOtherScale(t),l=e&&s._stacked&&{keys:hi(i.chart,!0),values:null},c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=mi(n);let u,p,f,m;function g(){return f=a[u],p=f[t.axis],m=f[n.axis],isNaN(p)||h>m||d<m}for(u=0;u<r;++u)if(!g()&&(i.updateRangeFromParsed(c,t,f,l),o))break;if(o)for(u=r-1;u>=0;--u)if(!g()){i.updateRangeFromParsed(c,t,f,l);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s][t.axis],isNaN(o)||i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=i.iScale,a=i.vScale,o=e.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this,i=e._cachedMeta;e.configure(),e._cachedAnimations={},e._cachedDataOpts={},e.update(t||"default"),i._clip=ci(p(e._config.clip,li(i.xScale,i.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,i=t.chart,s=t._cachedMeta,a=s.data||[],o=i.chartArea,r=[];let n,l;for(s.dataset&&s.dataset.draw(e,o),n=0,l=a.length;n<l;++n){const t=a[n];t.active?r.push(t):t.draw(e,o)}for(n=0,l=r.length;n<l;++n)r[n].draw(e,o)}_addAutomaticHoverColors(t,e){const i=this,s=i.getStyle(t),a=Object.keys(s).filter(t=>-1!==t.indexOf("Color")&&!(t in e));let o,r=a.length-1;for(;r>=0;r--)o=a[r],e[o]=Nt(s[o])}getStyle(t,e){const i=this,s=i._cachedMeta,a=s.dataset;i._config||i.configure();const o=a&&void 0===t?i.resolveDatasetElementOptions(e):i.resolveDataElementOptions(t||0,e&&"active");return e&&i._addAutomaticHoverColors(t,o),o}_getContext(t,e){return{chart:this.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:this.getDataset(),datasetIndex:this.index,active:e}}resolveDatasetElementOptions(t){return this._resolveOptions(this.datasetElementOptions,{active:t,type:this.datasetElementType.id})}resolveDataElementOptions(t,e){e=e||"default";const i=this,s="active"===e,a=i._cachedDataOpts,o=i.enableOptionSharing;if(a[e])return a[e];const r={cacheable:!s},n=i._resolveOptions(i.dataElementOptions,{index:t,active:s,info:r,type:i.dataElementType.id});return r.cacheable&&(n.$shared=o,a[e]=o?Object.freeze(n):n),n}_resolveOptions(t,e){const i=this,{index:s,active:a,type:o,info:r}=e,n=i._config,l=i.chart.options.elements[o]||{},c={},h=i._getContext(s,a),d=yi(t);for(let u=0,p=d.length;u<p;++u){const e=d[u],i=bi(e,a),o=q([n[t[i]],n[i],l[i]],h,s,r);void 0!==o&&(c[e]=o)}return c}_resolveAnimations(t,e,i){const s=this,a=s.chart,o=s._cachedAnimations;if(e=e||"default",o[e])return o[e];const r={cacheable:!0},n=s._getContext(t,i),l=q([s._config.animation],n,t,r),c=q([a.options.animation],n,t,r);let h=b({},[l,c]);h[e]&&(h=Object.assign({},h,h[e]));const d=new ai(a,h);return r.cacheable&&(o[e]=d&&Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||wi(t)}updateElement(t,e,i,s){wi(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&this._resolveAnimations(void 0,e).update({options:t},{options:i})}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(){const t=this,e=t._cachedMeta,i=e.data.length,s=t._data.length;s>i?t._insertElements(i,s-i):s<i&&(e.data.splice(s,i-s),e._parsed.splice(s,i-s)),t.parse(0,Math.min(s,i))}_insertElements(t,e){const i=this,s=new Array(e),a=i._cachedMeta,o=a.data;let r;for(r=0;r<e;++r)s[r]=new i.dataElementType;o.splice(t,0,...s),i._parsing&&a._parsed.splice(t,0,...new Array(e)),i.parse(t,e),i.updateElements(s,t,"reset")}updateElements(t,e,i){}_removeElements(t,e){const i=this;i._parsing&&i._cachedMeta._parsed.splice(t,e),i._cachedMeta.data.splice(t,e)}_onDataPush(){const t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}_onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}_onDataShift(){this._removeElements(0,1)}_onDataSplice(t,e){this._removeElements(t,e),this._insertElements(t,arguments.length-2)}_onDataUnshift(){this._insertElements(0,arguments.length)}}function Si(t,e){let i,s,a,o,r=t._length;for(a=1,o=e.length;a<o;++a)r=Math.min(r,Math.abs(e[a]-e[a-1]));for(a=0,o=t.ticks.length;a<o;++a)s=t.getPixelForTick(a),r=a>0?Math.min(r,Math.abs(s-i)):r,i=s;return r}function Ci(t,e,i){const s=i.barThickness,a=e.stackCount;let o,r;return c(s)?(o=e.min*i.categoryPercentage,r=i.barPercentage):(o=s*a,r=1),{chunk:o/a,ratio:r,start:e.pixels[t]-o/2}}function Ai(t,e,i){const s=e.pixels,a=s[t];let o=t>0?s[t-1]:null,r=t<s.length-1?s[t+1]:null;const n=i.categoryPercentage;null===o&&(o=a-(null===r?e.end-e.start:r-a)),null===r&&(r=a+a-o);const l=a-(a-Math.min(o,r))/2*n,c=Math.abs(r-o)/2*n;return{chunk:c/e.stackCount,ratio:i.barPercentage,start:l}}function Ti(t,e,i,s){const a=i.parse(t[0],s),o=i.parse(t[1],s),r=Math.min(a,o),n=Math.max(a,o);let l=r,c=n;Math.abs(r)>Math.abs(n)&&(l=n,c=r),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:a,end:o,min:r,max:n}}function Ii(t,e,i,s){return h(t)?Ti(t,e,i,s):e[i.axis]=i.parse(t,s),e}function Mi(t,e,i,s){const a=t.iScale,o=t.vScale,r=a.getLabels(),n=a===o,l=[];let c,h,d,u;for(c=i,h=i+s;c<h;++c)u=e[c],d={},d[a.axis]=n||a.parse(r[c],c),l.push(Ii(u,d,o,c));return l}function Li(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}ki.defaults={},ki.prototype.datasetElementType=null,ki.prototype.dataElementType=null,ki.prototype.datasetElementOptions=["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],ki.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","pointStyle"];class Pi extends ki{parsePrimitiveData(t,e,i,s){return Mi(t,e,i,s)}parseArrayData(t,e,i,s){return Mi(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:o}=t,{xAxisKey:r="x",yAxisKey:n="y"}=this._parsing,l="x"===a.axis?r:n,c="x"===o.axis?r:n,h=[];let d,u,p,f;for(d=i,u=i+s;d<u;++d)f=e[d],p={},p[a.axis]=a.parse(k(f,l),d),h.push(Ii(k(f,c),p,o,d));return h}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getLabelAndValue(t){const e=this,i=e._cachedMeta,{iScale:s,vScale:a}=i,o=e.getParsed(t),r=o._custom,n=Li(r)?"["+r.start+", "+r.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:n}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize();const e=t._cachedMeta;e.stack=t.getDataset().stack}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,o=s._cachedMeta.vScale,r=o.getBasePixel(),n=o.isHorizontal(),l=s._getRuler(),c=s.resolveDataElementOptions(e,i),h=s.getSharedOptions(c),d=s.includeOptions(i,h);s.updateSharedOptions(h,i,c);for(let u=0;u<t.length;u++){const o=e+u,c=h||s.resolveDataElementOptions(o,i),p=s._calculateBarValuePixels(o,c),f=s._calculateBarIndexPixels(o,l,c),m={horizontal:n,base:a?r:p.base,x:n?a?r:p.head:f.center,y:n?f.center:a?r:p.head,height:n?f.size:void 0,width:n?void 0:f.size};d&&(m.options=c),s.updateElement(t[u],o,m,i)}}_getStacks(t){const e=this,i=e._cachedMeta,s=i.iScale,a=s.getMatchingVisibleMetas(e._type),o=s.options.stacked,r=a.length,n=[];let l,c;for(l=0;l<r;++l)if(c=a[l],(!1===o||-1===n.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&n.push(c.stack),c.index===t)break;return n.length||n.push(void 0),n}_getStackCount(){return this._getStacks().length}_getStackIndex(t,e){const i=this._getStacks(t),s=void 0!==e?i.indexOf(e):-1;return-1===s?i.length-1:s}_getRuler(){const t=this,e=t._cachedMeta,i=e.iScale,s=[];let a,o;for(a=0,o=e.data.length;a<o;++a)s.push(i.getPixelForValue(t.getParsed(a)[i.axis],a));const r=Si(i,s);return{min:r,pixels:s,start:i._startPixel,end:i._endPixel,stackCount:t._getStackCount(),scale:i}}_calculateBarValuePixels(t,e){const i=this,s=i._cachedMeta,a=s.vScale,o=e.minBarLength,r=i.getParsed(t),n=r._custom;let l,c,h=r[a.axis],d=0,u=s._stacked?i.applyStack(a,r):h;u!==h&&(d=u-h,u=h),Li(n)&&(h=n.barStart,u=n.barEnd-n.barStart,0!==h&&ee(h)!==ee(n.barEnd)&&(d=0),d+=h);let p=he(a.getPixelForValue(d),a._startPixel-10,a._endPixel+10);return l=a.getPixelForValue(d+u),c=l-p,void 0!==o&&Math.abs(c)<o&&(c=c<0?-o:o,0===h&&(p-=c/2),l=p+c),{size:c,base:p,head:l,center:l+c/2}}_calculateBarIndexPixels(t,e,i){const s=this,a="flex"===i.barThickness?Ai(t,e,i):Ci(t,e,i),o=s._getStackIndex(s.index,s._cachedMeta.stack),r=a.start+a.chunk*o+a.chunk/2,n=Math.min(p(i.maxBarThickness,1/0),a.chunk*a.ratio);return{base:r-n/2,head:r+n/2,center:r,size:n}}draw(){const t=this,e=t.chart,i=t._cachedMeta,s=i.vScale,a=i.data,o=a.length;let r=0;for(N(e.ctx,e.chartArea);r<o;++r)isNaN(t.getParsed(r)[s.axis])||a[r].draw(t._ctx);z(e.ctx)}}Pi.id="bar",Pi.defaults={datasetElementType:!1,dataElementType:"rectangle",dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],hover:{mode:"index"},datasets:{categoryPercentage:.8,barPercentage:.9,animation:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},scales:{_index_:{type:"category",offset:!0,gridLines:{offsetGridLines:!0}},_value_:{type:"linear",beginAtZero:!0}}};class _i extends ki{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,e,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:r="x",yAxisKey:n="y"}=this._parsing,l=[];let c,h,d;for(c=i,h=i+s;c<h;++c)d=e[c],l.push({x:a.parse(k(d,r),c),y:o.parse(k(d,n),c),_custom:d&&d.r&&+d.r});return l}getMaxOverflow(){const t=this,e=t._cachedMeta;let i=(e.data||[]).length-1,s=0;for(;i>=0;--i)s=Math.max(s,t.getStyle(i,!0).radius);return s>0&&s}getLabelAndValue(t){const e=this,i=e._cachedMeta,{xScale:s,yScale:a}=i,o=e.getParsed(t),r=s.getLabelForValue(o.x),n=a.getLabelForValue(o.y),l=o._custom;return{label:i.label,value:"("+r+", "+n+(l?", "+l:"")+")"}}update(t){const e=this,i=e._cachedMeta.data;e.updateElements(i,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,{xScale:o,yScale:r}=s._cachedMeta,n=s.resolveDataElementOptions(e,i),l=s.getSharedOptions(n),c=s.includeOptions(i,l);for(let h=0;h<t.length;h++){const n=t[h],l=e+h,d=!a&&s.getParsed(l),u=a?o.getPixelForDecimal(.5):o.getPixelForValue(d.x),p=a?r.getBasePixel():r.getPixelForValue(d.y),f={x:u,y:p,skip:isNaN(u)||isNaN(p)};c&&(f.options=s.resolveDataElementOptions(l,i),a&&(f.options.radius=0)),s.updateElement(n,l,f,i)}s.updateSharedOptions(l,i,n)}resolveDataElementOptions(t,e){const i=this,s=i.chart,a=i.getDataset(),o=i.getParsed(t);let r=super.resolveDataElementOptions(t,e);const n={chart:s,dataPoint:o,dataIndex:t,dataset:a,datasetIndex:i.index};return r.$shared&&(r=Object.assign({},r,{$shared:!1})),"active"!==e&&(r.radius=0),r.radius+=q([o&&o._custom,i._config.radius,s.options.elements.point.radius],n,t),r}}_i.id="bubble",_i.defaults={datasetElementType:!1,dataElementType:"point",dataElementOptions:["backgroundColor","borderColor","borderWidth","hitRadius","radius","pointStyle","rotation"],animation:{numbers:{properties:["x","y","borderWidth","radius"]}},scales:{x:{type:"linear"},y:{type:"linear"}},tooltips:{callbacks:{title(){return""}}}};const Oi=Math.PI,Di=2*Oi,Ei=Oi/2;function Fi(t,e,i){let s=1,a=1,o=0,r=0;if(e<Di){let n=t%Di;n+=n>=Oi?-Di:n<-Oi?Di:0;const l=n+e,c=Math.cos(n),h=Math.sin(n),d=Math.cos(l),u=Math.sin(l),p=n<=0&&l>=0||l>=Di,f=n<=Ei&&l>=Ei||l>=Di+Ei,m=n===-Oi||l>=Oi,g=n<=-Ei&&l>=-Ei||l>=Oi+Ei,v=m?-1:Math.min(c,c*i,d,d*i),x=g?-1:Math.min(h,h*i,u,u*i),y=p?1:Math.max(c,c*i,d,d*i),b=f?1:Math.max(h,h*i,u,u*i);s=(y-v)/2,a=(b-x)/2,o=-(y+v)/2,r=-(b+x)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:r}}class Bi extends ki{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;let a,o;for(a=t,o=t+e;a<o;++a)s._parsed[a]=+i[a]}getRingIndex(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e}update(t){const e=this,i=e.chart,{chartArea:s,options:a}=i,o=e._cachedMeta,r=o.data,n=a.cutoutPercentage/100||0,l=e._getRingWeight(e.index),{ratioX:c,ratioY:h,offsetX:d,offsetY:u}=Fi(a.rotation,a.circumference,n),p=e.getMaxBorderWidth()+e.getMaxOffset(r),f=(s.right-s.left-p)/c,m=(s.bottom-s.top-p)/h,g=Math.max(Math.min(f,m)/2,0),v=Math.max(g*n,0),x=(g-v)/e._getVisibleDatasetWeightTotal();e.offsetX=d*g,e.offsetY=u*g,o.total=e.calculateTotal(),e.outerRadius=g-x*e._getRingWeightOffset(e.index),e.innerRadius=Math.max(e.outerRadius-x*l,0),e.updateElements(r,0,t)}_circumference(t,e){const i=this,s=i.chart.options,a=i._cachedMeta;return e&&s.animation.animateRotate?0:this.chart.getDataVisibility(t)?i.calculateCircumference(a._parsed[t]*s.circumference/Di):0}updateElements(t,e,i){const s=this,a="reset"===i,o=s.chart,r=o.chartArea,n=o.options,l=n.animation,c=(r.left+r.right)/2,h=(r.top+r.bottom)/2,d=a&&l.animateScale,u=d?0:s.innerRadius,p=d?0:s.outerRadius,f=s.resolveDataElementOptions(e,i),m=s.getSharedOptions(f),g=s.includeOptions(i,m);let v,x=n.rotation;for(v=0;v<e;++v)x+=s._circumference(v,a);for(v=0;v<t.length;++v){const o=e+v,r=s._circumference(o,a),n=t[v],l={x:c+s.offsetX,y:h+s.offsetY,startAngle:x,endAngle:x+r,circumference:r,outerRadius:p,innerRadius:u};g&&(l.options=m||s.resolveDataElementOptions(o,i)),x+=r,s.updateElement(n,o,l,i)}s.updateSharedOptions(m,i,f)}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const e=t._parsed[i];!isNaN(e)&&this.chart.getDataVisibility(i)&&(s+=Math.abs(e))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Di*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=e.chart,a=s.data.labels||[];return{label:a[t]||"",value:i._parsed[t]}}getMaxBorderWidth(t){const e=this;let i=0;const s=e.chart;let a,o,r,n,l;if(!t)for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){r=s.getDatasetMeta(a),t=r.data,n=r.controller,n!==e&&n.configure();break}if(!t)return 0;for(a=0,o=t.length;a<o;++a)l=n.resolveDataElementOptions(a),"inner"!==l.borderAlign&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(p(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Bi.id="doughnut",Bi.defaults={datasetElementType:!1,dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]},animateRotate:!0,animateScale:!1},aspectRatio:1,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((e,i)=>{const s=t.getDatasetMeta(0),a=s.controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(i),index:i}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},cutoutPercentage:50,rotation:-Ei,circumference:Di,tooltips:{callbacks:{title(){return""},label(t){let e=t.label;const i=": "+t.formattedValue;return h(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}};class Ni extends ki{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,i=e._cachedMeta,s=i.dataset,a=i.data||[];if("resize"!==t){const i={points:a,options:e.resolveDatasetElementOptions()};e.updateElement(s,void 0,i,t)}e.updateElements(a,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,{xScale:o,yScale:r,_stacked:n}=s._cachedMeta,l=s.resolveDataElementOptions(e,i),c=s.getSharedOptions(l),h=s.includeOptions(i,c),d=p(s._config.spanGaps,s.chart.options.spanGaps),u=Kt(d)?d:Number.POSITIVE_INFINITY;let f;for(let p=0;p<t.length;++p){const l=e+p,d=t[p],m=s.getParsed(l),g=o.getPixelForValue(m.x,l),v=a?r.getBasePixel():r.getPixelForValue(n?s.applyStack(r,m):m.y,l),x={x:g,y:v,skip:isNaN(g)||isNaN(v),stop:p>0&&m.x-f.x>u};h&&(x.options=c||s.resolveDataElementOptions(l,i)),s.updateElement(d,l,x,i),f=m}s.updateSharedOptions(c,i,l)}resolveDatasetElementOptions(t){const e=this,i=e._config,s=e.chart.options,a=s.elements.line,o=super.resolveDatasetElementOptions(t),r=p(i.showLine,s.showLines);return o.spanGaps=p(i.spanGaps,s.spanGaps),o.tension=p(i.lineTension,a.tension),o.stepped=q([i.stepped,a.stepped]),r||(o.borderWidth=0),o}getMaxOverflow(){const t=this,e=t._cachedMeta,i=e.dataset.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(),o=s[s.length-1].size();return Math.max(i,a,o)/2}draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),super.draw()}}function zi(t){return ie(t)-.5*Math.PI}Ni.id="line",Ni.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","capBezierPoints","cubicInterpolationMode","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverHitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},showLines:!0,spanGaps:!1,hover:{mode:"index"},scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Ri extends ki{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,t)}_updateRadius(){const t=this,e=t.chart,i=e.chartArea,s=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(a/2,0),r=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),n=(o-r)/e.getVisibleDatasetCount();t.outerRadius=o-n*t.index,t.innerRadius=t.outerRadius-n}updateElements(t,e,i){const s=this,a="reset"===i,o=s.chart,r=s.getDataset(),n=o.options,l=n.animation,c=s._cachedMeta.rScale,h=c.xCenter,d=c.yCenter,u=zi(n.startAngle);let p,f=u;for(s._cachedMeta.count=s.countVisibleElements(),p=0;p<e;++p)f+=s._computeAngle(p);for(p=0;p<t.length;p++){const o=t[p],n=e+p;let m=f,g=f+s._computeAngle(n),v=this.chart.getDataVisibility(n)?c.getDistanceFromCenterForValue(r.data[n]):0;f=g,a&&(l.animateScale&&(v=0),l.animateRotate&&(m=u,g=u));const x={x:h,y:d,innerRadius:0,outerRadius:v,startAngle:m,endAngle:g,options:s.resolveDataElementOptions(n,i)};s.updateElement(o,n,x,i)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let i=0;return e.data.forEach((e,s)=>{!isNaN(t.data[s])&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t){const e=this,i=e._cachedMeta,s=i.count,a=e.getDataset();if(isNaN(a.data[t])||!this.chart.getDataVisibility(t))return 0;const o={chart:e.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:a,datasetIndex:e.index};return q([e.chart.options.elements.arc.angle,2*Math.PI/s],o,t)}}Ri.id="polarArea",Ri.defaults={dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]},animateRotate:!0,animateScale:!0},aspectRatio:1,datasets:{indexAxis:"r"},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,gridLines:{circular:!0},pointLabels:{display:!1}}},startAngle:0,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((e,i)=>{const s=t.getDatasetMeta(0),a=s.controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(i),index:i}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltips:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}};class $i extends Bi{}$i.id="pie",$i.defaults={cutoutPercentage:0};class Hi extends ki{getLabelAndValue(t){const e=this,i=e._cachedMeta.vScale,s=e.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(s[i.axis])}}update(t){const e=this,i=e._cachedMeta,s=i.dataset,a=i.data||[],o=i.iScale.getLabels();if("resize"!==t){const i={points:a,_loop:!0,_fullLoop:o.length===a.length,options:e.resolveDatasetElementOptions()};e.updateElement(s,void 0,i,t)}e.updateElements(a,0,t)}updateElements(t,e,i){const s=this,a=s.getDataset(),o=s._cachedMeta.rScale,r="reset"===i;let n;for(n=0;n<t.length;n++){const l=t[n],c=e+n,h=s.resolveDataElementOptions(c,i),d=o.getPointPositionForValue(c,a.data[c]),u=r?o.xCenter:d.x,p=r?o.yCenter:d.y,f={x:u,y:p,angle:d.angle,skip:isNaN(u)||isNaN(p),options:h};s.updateElement(l,c,f,i)}}resolveDatasetElementOptions(t){const e=this,i=e._config,s=e.chart.options,a=super.resolveDatasetElementOptions(t),o=p(i.showLine,s.showLines);return a.spanGaps=p(i.spanGaps,s.spanGaps),a.tension=p(i.lineTension,s.elements.line.tension),o||(a.borderWidth=0),a}}Hi.id="radar",Hi.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","borderWidth","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},aspectRatio:1,spanGaps:!1,scales:{r:{type:"radialLinear"}},datasets:{indexAxis:"r"},elements:{line:{fill:"start",tension:0}}};class Wi extends Ni{}function ji(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}Wi.id="scatter",Wi.defaults={scales:{x:{type:"linear"},y:{type:"linear"}},datasets:{showLine:!1,fill:!1},tooltips:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}};class Xi{constructor(t){this.options=t||{}}formats(){return ji()}parse(t,e){return ji()}format(t,e){return ji()}add(t,e,i){return ji()}diff(t,e,i){return ji()}startOf(t,e,i){return ji()}endOf(t,e){return ji()}}Xi.override=function(t){Object.assign(Xi.prototype,t)};var Yi={_date:Xi};function Vi(t,e){return"native"in t?{x:t.x,y:t.y}:ye(t,e)}function qi(t,e){const i=t.getSortedVisibleDatasetMetas();let s,a,o;for(let r=0,n=i.length;r<n;++r){({index:s,data:a}=i[r]);for(let t=0,i=a.length;t<i;++t)o=a[t],o.skip||e(o,s,t)}}function Gi(t,e,i,s){const{controller:a,data:o,_sorted:r}=t,n=a._cachedMeta.iScale;if(n&&e===n.axis&&r&&o.length){const t=n._reversePixels?$t:Rt;if(!s)return t(o,e,i);if(a._sharedOptions){const s=o[0],a="function"===typeof s.getRange&&s.getRange(e);if(a){const s=t(o,e,i-a),r=t(o,e,i+a);return{lo:s.lo,hi:r.hi}}}}return{lo:0,hi:o.length-1}}function Ui(t,e,i,s,a){const o=t.getSortedVisibleDatasetMetas(),r=i[e];for(let n=0,l=o.length;n<l;++n){const{index:t,data:i}=o[n],{lo:l,hi:c}=Gi(o[n],e,r,a);for(let e=l;e<=c;++e){const a=i[e];a.skip||s(a,t,e)}}}function Zi(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const a=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Ki(t,e,i,s){const a=[];if(!B(e,t.chartArea))return a;const o=function(t,i,o){t.inRange(e.x,e.y,s)&&a.push({element:t,datasetIndex:i,index:o})};return Ui(t,i,e,o,!0),a}function Ji(t,e,i,s,a){const o=Zi(i);let r=Number.POSITIVE_INFINITY,n=[];if(!B(e,t.chartArea))return n;const l=function(t,i,l){if(s&&!t.inRange(e.x,e.y,a))return;const c=t.getCenterPoint(a),h=o(e,c);h<r?(n=[{element:t,datasetIndex:i,index:l}],r=h):h===r&&n.push({element:t,datasetIndex:i,index:l})};return Ui(t,i,e,l),n}var Qi={modes:{index(t,e,i,s){const a=Vi(e,t),o=i.axis||"x",r=i.intersect?Ki(t,a,o,s):Ji(t,a,o,!1,s),n=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&n.push({element:i,datasetIndex:t.index,index:e})}),n):[]},dataset(t,e,i,s){const a=Vi(e,t),o=i.axis||"xy";let r=i.intersect?Ki(t,a,o,s):Ji(t,a,o,!1,s);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point(t,e,i,s){const a=Vi(e,t),o=i.axis||"xy";return Ki(t,a,o,s)},nearest(t,e,i,s){const a=Vi(e,t),o=i.axis||"xy";return Ji(t,a,o,i.intersect,s)},x(t,e,i,s){const a=Vi(e,t),o=[];let r=!1;return qi(t,(t,e,i)=>{t.inXRange(a.x,s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(a.x,a.y,s)&&(r=!0)}),i.intersect&&!r?[]:o},y(t,e,i,s){const a=Vi(e,t),o=[];let r=!1;return qi(t,(t,e,i)=>{t.inYRange(a.y,s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(a.x,a.y,s)&&(r=!0)}),i.intersect&&!r?[]:o}}};const ts=["left","top","right","bottom"];function es(t,e){return t.filter(t=>t.pos===e)}function is(t,e){return t.filter(t=>-1===ts.indexOf(t.pos)&&t.box.axis===e)}function ss(t,e){return t.sort((t,i)=>{const s=e?i:t,a=e?t:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function as(t){const e=[];let i,s,a;for(i=0,s=(t||[]).length;i<s;++i)a=t[i],e.push({index:i,box:a,pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return e}function os(t,e){let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i],a.width=a.horizontal?a.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,a.height=a.horizontal&&e.hBoxMaxHeight}function rs(t){const e=as(t),i=ss(es(e,"left"),!0),s=ss(es(e,"right")),a=ss(es(e,"top"),!0),o=ss(es(e,"bottom")),r=is(e,"x"),n=is(e,"y");return{leftAndTop:i.concat(a),rightAndBottom:s.concat(n).concat(o).concat(r),chartArea:es(e,"chartArea"),vertical:i.concat(s).concat(n),horizontal:a.concat(o).concat(r)}}function ns(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ls(t,e,i){const s=i.box,a=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?s.height:s.width,t[i.pos]+=i.size,s.getPadding){const t=s.getPadding();a.top=Math.max(a.top,t.top),a.left=Math.max(a.left,t.left),a.bottom=Math.max(a.bottom,t.bottom),a.right=Math.max(a.right,t.right)}const o=e.outerWidth-ns(a,t,"left","right"),r=e.outerHeight-ns(a,t,"top","bottom");if(o!==t.w||r!==t.h)return t.w=o,t.h=r,i.horizontal?o!==t.w:r!==t.h}function cs(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function hs(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{s[t]=Math.max(e[t],i[t])}),s}return s(t?["left","right"]:["top","bottom"])}function ds(t,e,i){const s=[];let a,o,r,n,l,c;for(a=0,o=t.length;a<o;++a)r=t[a],n=r.box,n.update(r.width||e.w,r.height||e.h,hs(r.horizontal,e)),ls(e,i,r)&&(c=!0,s.length&&(l=!0)),n.fullWidth||s.push(r);return l&&ds(s,e,i)||c}function us(t,e,i){const s=i.padding;let a,o,r,n,l=e.x,c=e.y;for(a=0,o=t.length;a<o;++a)r=t[a],n=r.box,r.horizontal?(n.left=n.fullWidth?s.left:e.left,n.right=n.fullWidth?i.outerWidth-s.right:e.left+e.w,n.top=c,n.bottom=c+n.height,n.width=n.right-n.left,c=n.bottom):(n.left=l,n.right=l+n.width,n.top=e.top,n.bottom=e.top+e.h,n.height=n.bottom-n.top,l=n.right);e.x=l,e.y=c}j.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var ps={addBox(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){const s=["fullWidth","position","weight"],a=s.length;let o,r=0;for(;r<a;++r)o=s[r],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},update(t,e,i){if(!t)return;const s=t.options.layout||{},a=Y(s.padding),o=e-a.width,r=i-a.height,n=rs(t.boxes),l=n.vertical,c=n.horizontal,h=Object.freeze({outerWidth:e,outerHeight:i,padding:a,availableWidth:o,vBoxMaxWidth:o/2/l.length,hBoxMaxHeight:r/2}),d=Object.assign({maxPadding:Object.assign({},a),w:o,h:r,x:a.left,y:a.top},a);os(l.concat(c),h),ds(l,d,h),ds(c,d,h)&&ds(l,d,h),cs(d),us(n.leftAndTop,d,h),d.x+=d.w,d.y+=d.h,us(n.rightAndBottom,d,h),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},m(n.chartArea,e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(d.w,d.h)})}};class fs{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}isAttached(t){return!0}}class ms extends fs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const gs="$chartjs",vs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xs=t=>null===t||""===t;function ys(t,e){const i=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[gs]={initial:{height:s,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",xs(a)){const e=Ae(t,"width");void 0!==e&&(t.width=e)}if(xs(s))if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{const e=Ae(t,"height");void 0!==e&&(t.height=e)}return t}const bs=!!Ce&&{passive:!0};function ws(t,e,i){t.addEventListener(e,i,bs)}function ks(t,e,i){t.canvas.removeEventListener(e,i,bs)}function Ss(t,e,i,s,a){return{type:t,chart:e,native:a||null,x:void 0!==i?i:null,y:void 0!==s?s:null}}function Cs(t,e){const i=vs[t.type]||t.type,s=ye(t,e);return Ss(i,e,s.x,s.y,t)}function As(t,e,i){const s=t.canvas,a=s&&ue(s),o=a||s,r=new MutationObserver(t=>{const e=ue(o);t.forEach(t=>{for(let s=0;s<t.addedNodes.length;s++){const a=t.addedNodes[s];a!==o&&a!==e||i(t.target)}})});return r.observe(document,{childList:!0,subtree:!0}),r}function Ts(t,e,i){const s=t.canvas,a=s&&ue(s);if(!a)return;const o=new MutationObserver(t=>{t.forEach(t=>{for(let e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===s){i();break}})});return o.observe(a,{childList:!0}),o}const Is=new Map;let Ms=0;function Ls(){const t=window.devicePixelRatio;t!==Ms&&(Ms=t,Is.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function Ps(t,e){Is.size||window.addEventListener("resize",Ls),Is.set(t,e)}function _s(t){Is.delete(t),Is.size||window.removeEventListener("resize",Ls)}function Os(t,e,i){const s=t.canvas,o=s&&ue(s);if(!o)return;const r=a((t,e)=>{const s=o.clientWidth;i(t,e),s<o.clientWidth&&i()},window),n=new ResizeObserver(t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||r(i,s)});return n.observe(o),Ps(t,r),n}function Ds(t,e,i){i&&i.disconnect(),"resize"===e&&_s(t)}function Es(t,e,i){const s=t.canvas,o=a(e=>{null!==t.ctx&&i(Cs(e,t))},t);return ws(s,e,o),o}class Fs extends fs{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(ys(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gs])return!1;const i=e[gs].initial;["height","width"].forEach(t=>{const s=i[t];c(s)?e.removeAttribute(t):e.setAttribute(t,s)});const s=i.style||{};return Object.keys(s).forEach(t=>{e.style[t]=s[t]}),e.width=e.width,delete e[gs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),a={attach:As,detach:Ts,resize:Os},o=a[e]||Es;s[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;const a={attach:Ds,detach:Ds,resize:Ds},o=a[e]||ks;o(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}isAttached(t){const e=ue(t);return!(!e||!ue(e))}}class Bs{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Kt(this.x)&&Kt(this.y)}getProps(t,e){const i=this,s=this.$animations;if(!e||!s)return i;const a={};return t.forEach(t=>{a[t]=s[t]&&s[t].active?s[t]._to:i[t]}),a}}Bs.defaults={},Bs.defaultRoutes=void 0;const Ns={values(t){return h(t)?t:""+t},numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale,a=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));let o;(a<1e-4||a>1e15)&&(o="scientific");let r=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));const n=Zt(Math.abs(r)),l=Math.max(Math.min(-1*Math.floor(n),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),new Intl.NumberFormat(s,c).format(t)},logarithmic:function(t,e,i){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(Zt(t)));return 1===s||2===s||5===s?Ns.numeric.call(this,t,e,i):""}};var zs={formatters:Ns};function Rs(t,e){const i=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)i.push(t[Math.floor(o)]);return i}function $s(t,e,i){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,r=t._endPixel,n=1e-6;let l,c=t.getPixelForTick(a);if(!(i&&(l=1===s?Math.max(c-o,r-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(a-1))/2,c+=a<e?l:-l,c<o-n||c>r+n)))return c}function Hs(t,e){m(t,t=>{const i=t.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[i[a]];i.splice(0,s)}})}function Ws(t){return t.drawTicks?t.tickMarkLength:0}function js(t,e){if(!t.display)return 0;const i=V(t.font,e),s=Y(t.padding);return i.lineHeight+s.height}function Xs(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}function Ys(t,e,i){const s=Xs(t),a=e.length/i;if(!s)return Math.max(a,1);const o=Ut(s);for(let r=0,n=o.length-1;r<n;r++){const t=o[r];if(t>a)return t}return Math.max(a,1)}function Vs(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}function qs(t,e,i,s){let a,o=0,r=i[0];for(s=Math.ceil(s),a=0;a<t.length;a++)a===r&&(e.push(t[a]),o++,r=i[o*s])}function Gs(t,e,i,s,a){const o=p(s,0),r=Math.min(p(a,t.length),t.length);let n,l,c,h=0;i=Math.ceil(i),a&&(n=a-s,i=n/Math.floor(n/i)),c=o;while(c<0)h++,c=Math.round(o+h*i);for(l=Math.max(o,0);l<r;l++)l===c&&(e.push(t[l]),h++,c=Math.round(o+h*i))}j.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,lineWidth:0,strokeStyle:"",padding:0,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:zs.formatters.values,minor:{},major:{}}});class Us extends Bs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._ticksLength=0,this._borderValue=0}init(t){const e=this;e.options=t,e.axis=e.isHorizontal()?"x":"y",e._userMin=e.parse(t.min),e._userMax=e.parse(t.max)}parse(t,e){return t}getUserBounds(){let t=this._userMin,e=this._userMax;return(c(t)||isNaN(t))&&(t=Number.POSITIVE_INFINITY),(c(e)||isNaN(e))&&(e=Number.NEGATIVE_INFINITY),{min:t,max:e,minDefined:u(t),maxDefined:u(e)}}getMinMax(t){const e=this;let i,{min:s,max:a,minDefined:o,maxDefined:r}=e.getUserBounds();if(o&&r)return{min:s,max:a};const n=e.getMatchingVisibleMetas();for(let l=0,c=n.length;l<c;++l)i=n[l].controller.getMinMax(e,t),o||(s=Math.min(s,i.min)),r||(a=Math.max(a,i.max));return{min:s,max:a}}invalidateCaches(){}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeUpdate(){f(this.options.beforeUpdate,[this])}update(t,e,i){const s=this,a=s.options.ticks,o=a.sampleSize;s.beforeUpdate(),s.maxWidth=t,s.maxHeight=e,s._margins=Object.assign({left:0,right:0,top:0,bottom:0},i),s.ticks=null,s._labelSizes=null,s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),s.ticks=s.buildTicks()||[],s.afterBuildTicks();const r=o<s.ticks.length;s._convertTicksToLabels(r?Rs(s.ticks,o):s.ticks),s.configure(),s.beforeCalculateLabelRotation(),s.calculateLabelRotation(),s.afterCalculateLabelRotation(),s.beforeFit(),s.fit(),s.afterFit(),s.ticks=a.display&&(a.autoSkip||"auto"===a.source)?s._autoSkip(s.ticks):s.ticks,r&&s._convertTicksToLabels(s.ticks),s.afterUpdate()}configure(){const t=this;let e,i,s=t.options.reverse;t.isHorizontal()?(e=t.left,i=t.right):(e=t.top,i=t.bottom,s=!s),t._startPixel=e,t._endPixel=i,t._reversePixels=s,t._length=i-e}afterUpdate(){f(this.options.afterUpdate,[this])}beforeSetDimensions(){f(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){f(this.options.afterSetDimensions,[this])}beforeDataLimits(){f(this.options.beforeDataLimits,[this])}determineDataLimits(){}afterDataLimits(){f(this.options.afterDataLimits,[this])}beforeBuildTicks(){f(this.options.beforeBuildTicks,[this])}buildTicks(){return[]}afterBuildTicks(){f(this.options.afterBuildTicks,[this])}beforeTickToLabelConversion(){f(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,i=e.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=f(i.callback,[o.value,s,t],e)}afterTickToLabelConversion(){f(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){f(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,i=e.ticks,s=t.ticks.length,a=i.minRotation||0,o=i.maxRotation;let r,n,l,c=a;if(!t._isVisible()||!i.display||a>=o||s<=1||!t.isHorizontal())return void(t.labelRotation=a);const h=t._getLabelSizes(),d=h.widest.width,u=h.highest.height-h.highest.offset,p=Math.min(t.maxWidth,t.chart.width-d);r=e.offset?t.maxWidth/s:p/(s-1),d+6>r&&(r=p/(s-(e.offset?.5:1)),n=t.maxHeight-Ws(e.gridLines)-i.padding-js(e.scaleLabel,t.chart.options.font),l=Math.sqrt(d*d+u*u),c=se(Math.min(Math.asin(Math.min((h.highest.height+6)/r,1)),Math.asin(Math.min(n/l,1))-Math.asin(u/l))),c=Math.max(a,Math.min(o,c))),t.labelRotation=c}afterCalculateLabelRotation(){f(this.options.afterCalculateLabelRotation,[this])}beforeFit(){f(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},i=t.chart,s=t.options,a=s.ticks,o=s.scaleLabel,r=s.gridLines,n=t._isVisible(),l="top"!==s.position&&"x"===t.axis,c=t.isHorizontal(),h=n&&js(o,i.options.font);if(c?e.width=t.maxWidth:n&&(e.width=Ws(r)+h),c?n&&(e.height=Ws(r)+h):e.height=t.maxHeight,a.display&&n&&t.ticks.length){const i=t._getLabelSizes(),s=i.first,o=i.last,r=i.widest,n=i.highest,h=.8*n.offset,d=a.padding;if(c){const i=0!==t.labelRotation,a=ie(t.labelRotation),c=Math.cos(a),u=Math.sin(a),p=u*r.width+c*(n.height-(i?n.offset:0))+(i?0:h);e.height=Math.min(t.maxHeight,e.height+p+d);const f=t.getPixelForTick(0)-t.left,m=t.right-t.getPixelForTick(t.ticks.length-1);let g,v;i?(g=l?c*s.width+u*s.offset:u*(s.height-s.offset),v=l?u*(o.height-o.offset):c*o.width+u*o.offset):(g=s.width/2,v=o.width/2),t.paddingLeft=Math.max((g-f)*t.width/(t.width-f),0)+3,t.paddingRight=Math.max((v-m)*t.width/(t.width-m),0)+3}else{const i=a.mirror?0:r.width+d+h;e.width=Math.min(t.maxWidth,e.width+i),t.paddingTop=o.height/2,t.paddingBottom=s.height/2}}t._handleMargins(),c?(t.width=t._length=i.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t._margins.top-t._margins.bottom)}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){f(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullWidth(){return this.options.fullWidth}_convertTicksToLabels(t){const e=this;e.beforeTickToLabelConversion(),e.generateTickLabels(t),e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;return e||(t._labelSizes=e=t._computeLabelSizes()),e}_computeLabelSizes(){const t=this,e=t.ctx,i=t._longestTextCache,s=t.options.ticks.sampleSize,a=[],o=[],r=[];let n=t.ticks;s<n.length&&(n=Rs(n,s));const l=n.length;let d,u,p,f,m,g,v,x,y,b,w;for(d=0;d<l;++d){if(f=n[d].label,m=t._resolveTickFontOptions(d),e.font=g=m.string,v=i[g]=i[g]||{data:{},gc:[]},x=m.lineHeight,y=b=0,c(f)||h(f)){if(h(f))for(u=0,p=f.length;u<p;++u)w=f[u],c(w)||h(w)||(y=_(e,v.data,v.gc,y,w),b+=x)}else y=_(e,v.data,v.gc,y,f),b=x;a.push(y),o.push(b),r.push(x/2)}Hs(i,l);const k=a.indexOf(Math.max.apply(null,a)),S=o.indexOf(Math.max.apply(null,o));function C(t){return{width:a[t]||0,height:o[t]||0,offset:r[t]||0}}return{first:C(0),last:C(l-1),widest:C(k),highest:C(S)}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}_autoSkip(t){const e=this,i=e.options.ticks,s=i.maxTicksLimit||e._length/e._tickSize(),a=i.major.enabled?Vs(t):[],o=a.length,r=a[0],n=a[o-1],l=[];if(o>s)return qs(t,l,a,o/s),l;const h=Ys(a,t,s);if(o>0){let e,i;const s=o>1?Math.round((n-r)/(o-1)):null;for(Gs(t,l,h,c(s)?0:r-s,r),e=0,i=o-1;e<i;e++)Gs(t,l,h,a[e],a[e+1]);return Gs(t,l,h,n,c(s)?t.length:n+s),l}return Gs(t,l,h),l}_tickSize(){const t=this,e=t.options.ticks,i=ie(t.labelRotation),s=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),o=t._getLabelSizes(),r=e.autoSkipPadding||0,n=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return t.isHorizontal()?l*s>n*a?n/s:l/a:l*a<n*s?l/s:n/a}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,i=e.axis,s=e.chart,a=e.options,{gridLines:o,position:r}=a,n=o.offsetGridLines,l=e.isHorizontal(),c=e.ticks,h=c.length+(n?1:0),u=Ws(o),p=[];let f={chart:s,scale:e,tick:c[0],index:0};const m=o.drawBorder?q([o.borderWidth,o.lineWidth,0],f,0):0,g=m/2,v=function(t){return D(s,t,m)};let x,y,b,w,k,S,C,A,T,I,M,L;if("top"===r)x=v(e.bottom),S=e.bottom-u,A=x-g,I=v(t.top)+g,L=t.bottom;else if("bottom"===r)x=v(e.top),I=t.top,L=v(t.bottom)-g,S=x+g,A=e.top+u;else if("left"===r)x=v(e.right),k=e.right-u,C=x-g,T=v(t.left)+g,M=t.right;else if("right"===r)x=v(e.left),T=t.left,M=v(t.right)-g,k=x+g,C=e.left+u;else if("x"===i){if("center"===r)x=v((t.top+t.bottom)/2);else if(d(r)){const t=Object.keys(r)[0],i=r[t];x=v(e.chart.scales[t].getPixelForValue(i))}I=t.top,L=t.bottom,S=x+g,A=S+u}else if("y"===i){if("center"===r)x=v((t.left+t.right)/2);else if(d(r)){const t=Object.keys(r)[0],i=r[t];x=v(e.chart.scales[t].getPixelForValue(i))}k=x-g,C=k-u,T=t.left,M=t.right}for(y=0;y<h;++y){const t=c[y]||{};f={chart:s,scale:e,tick:t,index:y};const i=q([o.lineWidth],f,y),a=q([o.color],f,y),r=o.borderDash||[],h=q([o.borderDashOffset],f,y);b=$s(e,y,n),void 0!==b&&(w=D(s,b,i),l?k=C=T=M=w:S=A=I=L=w,p.push({tx1:k,ty1:S,tx2:C,ty2:A,x1:T,y1:I,x2:M,y2:L,width:i,color:a,borderDash:r,borderDashOffset:h}))}return e._ticksLength=h,e._borderValue=x,p}_computeLabelItems(t){const e=this,i=e.axis,s=e.options,{position:a,ticks:o}=s,r=o.mirror,n=e.isHorizontal(),l=e.ticks,c=o.padding,u=Ws(s.gridLines),p=-ie(e.labelRotation),f=[];let m,g,v,x,y,b,w,k,S,C,A,T;if("top"===a)b=e.bottom-u-c,w=p?"left":"center";else if("bottom"===a)b=e.top+u+c,w=p?"right":"center";else if("left"===a)y=e.right-(r?0:u)-c,w=r?"left":"right";else if("right"===a)y=e.left+(r?0:u)+c,w=r?"right":"left";else if("x"===i){if("center"===a)b=(t.top+t.bottom)/2+u+c;else if(d(a)){const t=Object.keys(a)[0],i=a[t];b=e.chart.scales[t].getPixelForValue(i)+u+c}w=p?"right":"center"}else if("y"===i){if("center"===a)y=(t.left+t.right)/2-u-c;else if(d(a)){const t=Object.keys(a)[0],i=a[t];y=e.chart.scales[t].getPixelForValue(i)}w="right"}for(m=0,g=l.length;m<g;++m)v=l[m],x=v.label,k=e.getPixelForTick(m)+o.labelOffset,S=e._resolveTickFontOptions(m),C=S.lineHeight,A=h(x)?x.length:1,n?(y=k,"top"===a?(T=(Math.sin(p)*(A/2)+.5)*C,T-=(0===p?A-.5:Math.cos(p)*(A/2))*C):(T=Math.sin(p)*(A/2)*C,T+=(0===p?.5:Math.cos(p)*(A/2))*C)):(b=k,T=(1-A)*C/2),f.push({x:y,y:b,rotation:p,label:x,font:S,textOffset:T,textAlign:w});return f}drawGrid(t){const e=this,i=e.options.gridLines,s=e.ctx,a=e.chart;let o={chart:a,scale:e,tick:e.ticks[0],index:0};const r=i.drawBorder?q([i.borderWidth,i.lineWidth,0],o,0):0,n=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let l,c;if(i.display)for(l=0,c=n.length;l<c;++l){const t=n[l],e=t.width,a=t.color;e&&a&&(s.save(),s.lineWidth=e,s.strokeStyle=a,s.setLineDash&&(s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset),s.beginPath(),i.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),i.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore())}if(r){const t=r;o={chart:a,scale:e,tick:e.ticks[e._ticksLength-1],index:e._ticksLength-1};const n=q([i.lineWidth,1],o,e._ticksLength-1),l=e._borderValue;let c,h,d,u;e.isHorizontal()?(c=D(a,e.left,t)-t/2,h=D(a,e.right,n)+n/2,d=u=l):(d=D(a,e.top,t)-t/2,u=D(a,e.bottom,n)+n/2,c=h=l),s.lineWidth=r,s.strokeStyle=q([i.borderColor,i.color],o,0),s.beginPath(),s.moveTo(c,d),s.lineTo(h,u),s.stroke()}}drawLabels(t){const e=this,i=e.options.ticks;if(!i.display)return;const s=e.ctx,a=e._labelItems||(e._labelItems=e._computeLabelItems(t));let o,r,n,l;for(o=0,n=a.length;o<n;++o){const t=a[o],e=t.font,i=e.lineWidth>0&&""!==e.strokeStyle;s.save(),s.translate(t.x,t.y),s.rotate(t.rotation),s.font=e.string,s.fillStyle=e.color,s.textBaseline="middle",s.textAlign=t.textAlign,i&&(s.strokeStyle=e.strokeStyle,s.lineWidth=e.lineWidth);const n=t.label;let c=t.textOffset;if(h(n))for(r=0,l=n.length;r<l;++r)i&&s.strokeText(""+n[r],0,c),s.fillText(""+n[r],0,c),c+=e.lineHeight;else i&&s.strokeText(n,0,c),s.fillText(n,0,c);s.restore()}}drawTitle(t){const e=this,i=e.ctx,s=e.options,a=s.scaleLabel;if(!a.display)return;const o=V(a.font,e.chart.options.font),r=Y(a.padding),n=o.lineHeight/2,l=a.align,c=s.position,h=e.options.reverse;let d,u,p,f=0;if(e.isHorizontal()){switch(l){case"start":u=e.left+(h?e.width:0),d=h?"right":"left";break;case"end":u=e.left+(h?0:e.width),d=h?"left":"right";break;default:u=e.left+e.width/2,d="center"}p="top"===c?e.top+n+r.top:e.bottom-n-r.bottom}else{const t="left"===c;switch(u=t?e.left+n+r.top:e.right-n-r.top,l){case"start":p=e.top+(h?0:e.height),d=h===t?"right":"left";break;case"end":p=e.top+(h?e.height:0),d=h===t?"left":"right";break;default:p=e.top+e.height/2,d="center"}f=t?-.5*Math.PI:.5*Math.PI}i.save(),i.translate(u,p),i.rotate(f),i.textAlign=d,i.textBaseline="middle",i.fillStyle=o.color,i.font=o.string,i.fillText(a.labelString,0,0),i.restore()}draw(t){const e=this;e._isVisible()&&(e.drawGrid(t),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,i=e.ticks&&e.ticks.z||0,s=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==s&&t.draw===t._draw?[{z:s,draw(e){t.drawGrid(e),t.drawTitle()}},{z:i,draw(e){t.drawLabels(e)}}]:[{z:i,draw(e){t.draw(e)}}]}getMatchingVisibleMetas(t){const e=this,i=e.chart.getSortedVisibleDatasetMetas(),s=e.axis+"AxisID",a=[];let o,r;for(o=0,r=i.length;o<r;++o){const r=i[o];r[s]!==e.id||t&&r.type!==t||a.push(r)}return a}_resolveTickFontOptions(t){const e=this,i=e.chart,s=e.options.ticks,a=e.ticks||[],o={chart:i,scale:e,tick:a[t],index:t};return V(q([s.font],o),i.options.font)}}Us.prototype._draw=Us.prototype.draw;class Zs{constructor(t,e){this.type=t,this.scope=e,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Qs(e)&&(i=this.register(e));const s=this.items,a=t.id,o=this.scope,r=o?o+"."+a:a;if(!a)throw new Error("class does not have id: "+t);if(a in s)return r;if(Object.keys(j.get(r)).length)throw new Error('Can not register "'+a+'", because "defaults.'+r+'" would collide with existing defaults');return s[a]=t,Ks(t,r,i),r}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in j[s]?delete j[s][i]:i in j&&delete j[i]}}function Ks(t,e,i){const s=i?Object.assign({},j.get(i),t.defaults):t.defaults;j.set(e,s),t.defaultRoutes&&Js(e,t.defaultRoutes)}function Js(t,e){Object.keys(e).forEach(i=>{const s=e[i].split("."),a=s.pop(),o=s.join(".");j.route(t,i,o,a)})}function Qs(t){return"id"in t&&"defaults"in t}class ta{constructor(){this.controllers=new Zs(ki,""),this.elements=new Zs(Bs,"elements"),this.plugins=new Zs(Object,"plugins"),this.scales=new Zs(Us,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){const s=this;[...e].forEach(e=>{const a=i||s._getRegistryForType(e);i||a.isForType(e)||a===s.plugins&&e.id?s._exec(t,a,e):m(e,e=>{const a=i||s._getRegistryForType(e);s._exec(t,a,e)})})}_exec(t,e,i){const s=S(t);f(i["before"+s],[],i),e[t](i),f(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var ea=new ta;class ia{notify(t,e,i){const s=this._descriptors(t);for(let a=0;a<s.length;++a){const o=s[a],r=o.plugin,n=r[e];if("function"===typeof n){const e=[t].concat(i||[]);if(e.push(o.options),!1===n.apply(r,e))return!1}}return!0}invalidate(){this._cache=void 0}_descriptors(t){if(this._cache)return this._cache;const e=t&&t.config||{},i=e.options&&e.options.plugins||{},s=sa(e),a=aa(s,i);return this._cache=a,a}}function sa(t){const e=[],i=Object.keys(ea.plugins.items);for(let a=0;a<i.length;a++)e.push(ea.getPlugin(i[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const t=s[a];-1===e.indexOf(t)&&e.push(t)}return e}function aa(t,e){const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=a.id;let r=e[o];!1!==r&&(!0===r&&(r={}),i.push({plugin:a,options:b({},[r,j.plugins[o]])}))}return i}var oa="3.0.0-beta";function ra(t,e){const i=j[t]||{},s=i.datasets||{},a=e[t]||{},o=a.datasets||{};return o.indexAxis||e.indexAxis||s.indexAxis||"x"}function na(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}function la(t,e){return t===e?"_index_":"_value_"}function ca(t,e){e=e||{};const i=j[t.type]||{scales:{}},s=e.scales||{},a=ra(t.type,e),o={},r={};return Object.keys(s).forEach(t=>{const e=s[t],n=va(t,e),l=la(n,a);o[n]=o[n]||t,r[t]=b({axis:n},[e,i.scales[n],i.scales[l]])}),e.scale&&(r[e.scale.id||"r"]=b({axis:"r"},[e.scale,i.scales.r]),o.r=o.r||e.scale.id||"r"),t.data.datasets.forEach(i=>{const a=i.type||t.type,n=i.indexAxis||ra(a,e),l=j[a]||{},c=l.scales||{};Object.keys(c).forEach(t=>{const e=na(t,n),a=i[e+"AxisID"]||o[e]||e;r[a]=r[a]||{},b(r[a],[{axis:e},s[a],c[t]])})}),Object.keys(r).forEach(t=>{const e=r[t];b(e,[j.scales[e.type],j.scale])}),r}function ha(...t){return y({},t,{merger(t,e,i,s){"scales"!==t&&"scale"!==t&&x(t,e,i,s)}})}function da(t){t=t||{};const e=t.data=t.data||{datasets:[],labels:[]};e.datasets=e.datasets||[],e.labels=e.labels||[];const i=ca(t,t.options),s=t.options=ha(j,j[t.type],t.options||{});return s.scales=i,s.title=!1!==s.title&&y({},[j.plugins.title,s.title]),s.tooltips=!1!==s.tooltips&&y({},[j.plugins.tooltip,s.tooltips]),t}function ua(t){return!t.animation}function pa(t){let e=t.options;m(t.scales,e=>{ps.removeBox(t,e)});const i=ca(t.config,e);e=ha(j,j[t.config.type],e),t.options=t.config.options=e,t.options.scales=i,t._animationsDisabled=ua(e)}const fa=["top","bottom","left","right","chartArea"];function ma(t,e){return"top"===t||"bottom"===t||-1===fa.indexOf(t)&&"x"===e}function ga(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function va(t,e){return"x"===t||"y"===t||"r"===t?t:e.axis||ga(e.position)||t.charAt(0).toLowerCase()}function xa(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function ya(t){const e=t.chart,i=e.options.animation;e._plugins.notify(e,"afterRender"),f(i&&i.onComplete,[t],e)}function ba(t){const e=t.chart,i=e.options.animation;f(i&&i.onProgress,[t],e)}function wa(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ka(t){return wa()&&"string"===typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}function Sa(t,e,i,s){return void 0!==e&&void 0!==i||(e=we(t),i=ke(t)),e=Math.max(0,Math.floor(e)),{width:e,height:Math.max(0,Math.floor(s?e/s:i))}}class Ca{constructor(t,e){const i=this;e=da(e);const s=ka(t);this.platform=i._initializePlatform(s,e);const a=i.platform.acquireContext(s,e),o=a&&a.canvas,r=o&&o.height,n=o&&o.width;this.id=l(),this.ctx=a,this.canvas=o,this.config=e,this.width=n,this.height=r,this.aspectRatio=r?n/r:null,this.options=e.options,this._bufferedRender=!1,this._layers=[],this._metasets=[],this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.data=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this._updating=!1,this.scales={},this.scale=void 0,this._plugins=new ia,this.$proxies={},this._hiddenIndices={},this.attached=!1,Ca.instances[i.id]=i,Object.defineProperty(i,"data",{get(){return i.config.data},set(t){i.config.data=t}}),a&&o?(Ze.listen(i,"complete",ya),Ze.listen(i,"progress",ba),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}_initialize(){const t=this;return t._plugins.notify(t,"beforeInit"),t.options.responsive?t.resize(!0):Se(t,t.options.devicePixelRatio),t.bindEvents(),t._plugins.notify(t,"afterInit"),t}_initializePlatform(t,e){return e.platform?new e.platform:!wa()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new ms:new Fs}clear(){return E(this),this}stop(){return Ze.stop(this),this}resize(t,e,i){const s=this,a=s.options,o=s.canvas,r=a.maintainAspectRatio&&s.aspectRatio,n=Sa(o,e,i,r),l=s.currentDevicePixelRatio,c=a.devicePixelRatio||s.platform.getDevicePixelRatio();s.width===n.width&&s.height===n.height&&l===c||(o.width=s.width=n.width,o.height=s.height=n.height,o.style&&(o.style.width=n.width+"px",o.style.height=n.height+"px"),Se(s,c),t||(s._plugins.notify(s,"resize",[n]),f(a.onResize,[n],s),s.attached&&s.update("resize")))}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{},i=t.scale;m(e,(t,e)=>{t.id=e}),i&&(i.id=i.id||"scale")}buildOrUpdateScales(){const t=this,e=t.options,i=e.scales,s=t.scales||{},a=Object.keys(s).reduce((t,e)=>(t[e]=!1,t),{});let o=[];i&&(o=o.concat(Object.keys(i).map(t=>{const e=i[t],s=va(t,e),a="r"===s,o="x"===s;return{options:e,dposition:a?"chartArea":o?"bottom":"left",dtype:a?"radialLinear":o?"category":"linear"}}))),m(o,i=>{const o=i.options,r=o.id,n=va(r,o),l=p(o.type,i.dtype);void 0!==o.position&&ma(o.position,n)===ma(i.dposition)||(o.position=i.dposition),a[r]=!0;let c=null;if(r in s&&s[r].type===l)c=s[r];else{const e=ea.getScale(l);c=new e({id:r,type:l,ctx:t.ctx,chart:t}),s[c.id]=c}c.init(o,e),i.isDefault&&(t.scale=c)}),m(a,(t,e)=>{t||delete s[e]}),t.scales=s,m(s,e=>{e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,ps.addBox(t,e)})}_updateMetasetIndex(t,e){const i=this._metasets,s=t.index;s!==e&&(i[s]=i[e],i[e]=t,t.index=e)}_updateMetasets(){const t=this,e=t._metasets,i=t.data.datasets.length,s=e.length;if(s>i){for(let e=i;e<s;++e)t._destroyDatasetMeta(e);e.splice(i,s-i)}t._sortedMetasets=e.slice(0).sort(xa("order","index"))}buildOrUpdateControllers(){const t=this,e=[],i=t.data.datasets;let s,a;for(s=0,a=i.length;s<a;s++){const a=i[s];let o=t.getDatasetMeta(s);const r=a.type||t.config.type;if(o.type&&o.type!==r&&(t._destroyDatasetMeta(s),o=t.getDatasetMeta(s)),o.type=r,o.indexAxis=a.indexAxis||ra(r,t.options),o.order=a.order||0,t._updateMetasetIndex(o,s),o.label=""+a.label,o.visible=t.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const i=j[r],a=ea.getController(r);Object.assign(a.prototype,{dataElementType:ea.getElement(i.dataElementType),datasetElementType:i.datasetElementType&&ea.getElement(i.datasetElementType),dataElementOptions:i.dataElementOptions,datasetElementOptions:i.datasetElementOptions}),o.controller=new a(t,s),e.push(o.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;m(t.data.datasets,(e,i)=>{t.getDatasetMeta(i).controller.reset()},t)}reset(){this._resetElements(),this._plugins.notify(this,"reset")}update(t){const e=this;let i,s;if(e._updating=!0,pa(e),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e._plugins.invalidate(),!1===e._plugins.notify(e,"beforeUpdate"))return;const a=e.buildOrUpdateControllers();for(i=0,s=e.data.datasets.length;i<s;i++)e.getDatasetMeta(i).controller.buildOrUpdateElements();e._updateLayout(),m(a,t=>{t.reset()}),e._updateDatasets(t),e._plugins.notify(e,"afterUpdate"),e._layers.sort(xa("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render(),e._updating=!1}_updateLayout(){const t=this;!1!==t._plugins.notify(t,"beforeLayout")&&(ps.update(t,t.width,t.height),t._layers=[],m(t.boxes,e=>{e.configure&&e.configure(),t._layers.push(...e._layers())},t),t._layers.forEach((t,e)=>{t._idx=e}),t._plugins.notify(t,"afterLayout"))}_updateDatasets(t){const e=this,i="function"===typeof t;if(!1!==e._plugins.notify(e,"beforeDatasetsUpdate")){for(let s=0,a=e.data.datasets.length;s<a;++s)e._updateDataset(s,i?t({datasetIndex:s}):t);e._plugins.notify(e,"afterDatasetsUpdate")}}_updateDataset(t,e){const i=this,s=i.getDatasetMeta(t),a={meta:s,index:t,mode:e};!1!==i._plugins.notify(i,"beforeDatasetUpdate",[a])&&(s.controller._update(e),i._plugins.notify(i,"afterDatasetUpdate",[a]))}render(){const t=this,e=t.options.animation;if(!1===t._plugins.notify(t,"beforeRender"))return;const i=function(){t._plugins.notify(t,"afterRender"),f(e&&e.onComplete,[],t)};Ze.has(t)?t.attached&&!Ze.running(t)&&Ze.start(t):(t.draw(),i())}draw(){const t=this;let e;if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t._plugins.notify(t,"beforeDraw"))return;const i=t._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(t.chartArea);for(t._drawDatasets();e<i.length;++e)i[e].draw(t.chartArea);t._plugins.notify(t,"afterDraw")}_getSortedDatasetMetas(t){const e=this,i=e._sortedMetasets,s=[];let a,o;for(a=0,o=i.length;a<o;++a){const e=i[a];t&&!e.visible||s.push(e)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t._plugins.notify(t,"beforeDatasetsDraw"))return;const e=t.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)t._drawDataset(e[i]);t._plugins.notify(t,"afterDatasetsDraw")}_drawDataset(t){const e=this,i=e.ctx,s=t._clip,a=e.chartArea,o={meta:t,index:t.index};!1!==e._plugins.notify(e,"beforeDatasetDraw",[o])&&(N(i,{left:!1===s.left?0:a.left-s.left,right:!1===s.right?e.width:a.right+s.right,top:!1===s.top?0:a.top-s.top,bottom:!1===s.bottom?e.height:a.bottom+s.bottom}),t.controller.draw(),z(i),e._plugins.notify(e,"afterDatasetDraw",[o]))}getElementAtEvent(t){return Qi.modes.nearest(this,t,{intersect:!0})}getElementsAtEvent(t){return Qi.modes.index(this,t,{intersect:!0})}getElementsAtXAxis(t){return Qi.modes.index(this,t,{intersect:!1})}getElementsAtEventForMode(t,e,i,s){const a=Qi.modes[e];return"function"===typeof a?a(this,t,i,s):[]}getDatasetAtEvent(t){return Qi.modes.dataset(this,t,{intersect:!0})}getDatasetMeta(t){const e=this,i=e.data.datasets[t],s=e._metasets;let a=s.filter(t=>t._dataset===i).pop();return a||(a=s[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1}),a}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.getDatasetMeta(t);return"boolean"===typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateDatasetVisibility(t,e){const i=this,s=e?"show":"hide",a=i.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,s);i.setDatasetVisibility(t,e),o.update(a,{visible:e}),i.update(e=>e.datasetIndex===t?s:void 0)}hide(t){this._updateDatasetVisibility(t,!1)}show(t){this._updateDatasetVisibility(t,!0)}_destroyDatasetMeta(t){const e=this,i=e._metasets&&e._metasets[t];i&&(i.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,e=t.canvas;let i,s;for(t.stop(),Ze.remove(t),i=0,s=t.data.datasets.length;i<s;++i)t._destroyDatasetMeta(i);e&&(t.unbindEvents(),E(t),t.platform.releaseContext(t.ctx),t.canvas=null,t.ctx=null),t._plugins.notify(t,"destroy"),delete Ca.instances[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){const t=this,e=t._listeners,i=t.platform,s=(s,a)=>{i.addEventListener(t,s,a),e[s]=a},a=(s,a)=>{e[s]&&(i.removeEventListener(t,s,a),delete e[s])};let o=function(e){t._eventHandler(e)};if(m(t.options.events,t=>s(t,o)),t.options.responsive){let e;o=(e,i)=>{t.canvas&&t.resize(!1,e,i)};const r=()=>{a("attach",r),t.resize(),t.attached=!0,s("resize",o),s("detach",e)};e=()=>{t.attached=!1,a("resize",o),s("attach",r)},i.isAttached(t.canvas)?r():e()}else t.attached=!0}unbindEvents(){const t=this,e=t._listeners;e&&(delete t._listeners,m(e,(e,i)=>{t.platform.removeEventListener(t,i,e)}))}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,o,r,n;for("dataset"===e&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),r=0,n=t.length;r<n;++r)o=t[r],o&&this.getDatasetMeta(o.datasetIndex).controller[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}_updateHoverStyles(t,e){const i=this,s=i.options||{},a=s.hover;e.length&&i.updateHoverStyle(e,a.mode,!1),t.length&&a.mode&&i.updateHoverStyle(t,a.mode,!0)}_eventHandler(t,e){const i=this;if(!1!==i._plugins.notify(i,"beforeEvent",[t,e]))return i._handleEvent(t,e),i._plugins.notify(i,"afterEvent",[t,e]),i.render(),i}_handleEvent(t,e){const i=this,s=i._active||[],a=i.options,o=a.hover,r=e;let n=[],l=!1;return"mouseout"===t.type?i._lastEvent=null:(n=i.getElementsAtEventForMode(t,o.mode,o,r),i._lastEvent="click"===t.type?i._lastEvent:t),f(a.onHover||a.hover.onHover,[t,n,i],i),"mouseup"!==t.type&&"click"!==t.type||B(t,i.chartArea)&&f(a.onClick,[t,n,i],i),l=!g(n,s),(l||e)&&(i._active=n,i._updateHoverStyles(n,s)),l}}Ca.defaults=j,Ca.instances={},Ca.registry=ea,Ca.version=oa;const Aa=()=>m(Ca.instances,t=>t._plugins.invalidate());Ca.register=(...t)=>{ea.add(...t),Aa()},Ca.unregister=(...t)=>{ea.remove(...t),Aa()};const Ta=2*Math.PI;function Ia(t,e){const{startAngle:i,endAngle:s,pixelMargin:a,x:o,y:r,outerRadius:n,innerRadius:l}=e;let c=a/n;t.beginPath(),t.arc(o,r,n,i-c,s+c),l>a?(c=a/l,t.arc(o,r,l,s+c,i-c,!0)):t.arc(o,r,a,s+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}function Ma(t,e){const{x:i,y:s,startAngle:a,endAngle:o,pixelMargin:r}=e,n=Math.max(e.outerRadius-r,0),l=e.innerRadius+r;t.beginPath(),t.arc(i,s,n,a,o),t.arc(i,s,l,o,a,!0),t.closePath()}function La(t,e){if(e.fullCircles){e.endAngle=e.startAngle+Ta,Ma(t,e);for(let i=0;i<e.fullCircles;++i)t.fill();e.endAngle=e.startAngle+e.circumference%Ta}Ma(t,e),t.fill()}function Pa(t,e,i){const{x:s,y:a,startAngle:o,endAngle:r,pixelMargin:n}=e,l=Math.max(e.outerRadius-n,0),c=e.innerRadius+n;let h;for(i&&(e.endAngle=e.startAngle+Ta,Ia(t,e),e.endAngle=r,e.endAngle===e.startAngle&&(e.endAngle+=Ta,e.fullCircles--)),t.beginPath(),t.arc(s,a,c,o+Ta,o,!0),h=0;h<e.fullCircles;++h)t.stroke();for(t.beginPath(),t.arc(s,a,l,o,o+Ta),h=0;h<e.fullCircles;++h)t.stroke()}function _a(t,e){const{x:i,y:s,startAngle:a,endAngle:o,pixelMargin:r,options:n}=e,l=e.outerRadius,c=e.innerRadius+r,h="inner"===n.borderAlign;n.borderWidth&&(h?(t.lineWidth=2*n.borderWidth,t.lineJoin="round"):(t.lineWidth=n.borderWidth,t.lineJoin="bevel"),e.fullCircles&&Pa(t,e,h),h&&Ia(t,e),t.beginPath(),t.arc(i,s,l,a,o),t.arc(i,s,c,o,a,!0),t.closePath(),t.stroke())}class Oa extends Bs{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=oe(s,{x:t,y:e}),{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=h>=Ta||ce(a,r,n),u=o>=l&&o<=c;return d&&u}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),n=(s+a)/2,l=(o+r)/2;return{x:e+Math.cos(n)*l,y:i+Math.sin(n)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,i=e.options,s=i.offset||0;if(e.pixelMargin="inner"===i.borderAlign?.33:0,e.fullCircles=Math.floor(e.circumference/Ta),0!==e.circumference){if(t.save(),s&&e.circumference<Ta){const i=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(i)*s,Math.sin(i)*s)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,La(t,e),_a(t,e),t.restore()}}}function Da(t,e){t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor}function Ea(t,e,i){t.lineTo(i.x,i.y)}function Fa(t){return t.stepped?R:t.tension?$:Ea}function Ba(t,e,i,s){const{start:a,end:o,loop:r}=i,{points:n,options:l}=e,c=Fa(l),h=n.length;let{move:d=!0,reverse:u}=s||{};const p=o<a?h+o-a:o-a;let f,m,g;for(f=0;f<=p;++f)m=n[(a+(u?p-f:f))%h],m.skip||(d?(t.moveTo(m.x,m.y),d=!1):c(t,g,m,u,l.stepped),g=m);return r&&(m=n[(a+(u?p:0))%h],c(t,g,m,u,l.stepped)),!!r}function Na(t,e,i,s){const a=e.points,o=a.length,{start:r,end:n}=i,{move:l=!0,reverse:c}=s||{},h=n<r?o+n-r:n-r;let d,u,p,f,m,g,v=0,x=0;const y=t=>(r+(c?h-t:t))%o,b=()=>{f!==m&&(t.lineTo(v,m),t.lineTo(v,f),t.lineTo(v,g))};for(l&&(u=a[y(0)],t.moveTo(u.x,u.y)),d=0;d<=h;++d){if(u=a[y(d)],u.skip)continue;const e=u.x,i=u.y,s=0|e;s===p?(i<f?f=i:i>m&&(m=i),v=(x*v+e)/++x):(b(),t.lineTo(e,i),p=s,x=0,f=m=i),g=i}b()}function za(t){const e=t.options,i=e.borderDash&&e.borderDash.length,s=!t._loop&&!e.tension&&!e.stepped&&!i;return s?Na:Ba}function Ra(t){return t.stepped?Ie:t.tension?Me:Te}Oa.id="arc",Oa.defaults={borderAlign:"center",borderColor:"#fff",borderWidth:2,offset:0},Oa.defaultRoutes={backgroundColor:"color"};class $a extends Bs{constructor(t){super(),this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._points=void 0,this._segments=void 0,this._pointsUpdated=!1,t&&Object.assign(this,t)}updateControlPoints(t){const e=this,i=e.options;if(i.tension&&!i.stepped&&!e._pointsUpdated){const s=i.spanGaps?e._loop:e._fullLoop;We(e._points,i,t,s),e._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments}get points(){return this._points}get segments(){return this._segments||(this._segments=Be(this))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this,s=i.options,a=t[e],o=i.points,r=De(i,{property:e,start:a,end:a});if(!r.length)return;const n=[],l=Ra(s);let c,h;for(c=0,h=r.length;c<h;++c){const{start:i,end:h}=r[c],d=o[i],u=o[h];if(d===u){n.push(d);continue}const p=Math.abs((a-d[e])/(u[e]-d[e])),f=l(d,u,p,s.stepped);f[e]=t[e],n.push(f)}return 1===n.length?n[0]:n}pathSegment(t,e,i){const s=za(this);return s(t,this,e,i)}path(t){const e=this,i=e.segments,s=i.length,a=za(e);let o=e._loop;for(let r=0;r<s;++r)o&=a(t,e,i[r]);return!!o}draw(t){const e=this.options||{},i=this.points||[];i.length&&e.borderWidth&&(t.save(),Da(t,e),t.beginPath(),this.path(t)&&t.closePath(),t.stroke(),t.restore(),this._pointsUpdated=!1)}}$a.id="line",$a.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,fill:!0,tension:0},$a.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Ha extends Bs{constructor(t){super(),this.options=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){const i=this.options,{x:s}=this.getProps(["x"],e);return Math.abs(t-s)<i.radius+i.hitRadius}inYRange(t,e){const i=this.options,{y:s}=this.getProps(["x"],e);return Math.abs(t-s)<i.radius+i.hitRadius}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(){const t=this.options||{},e=Math.max(t.radius,t.hoverRadius)||0,i=e&&t.borderWidth||0;return 2*(e+i)}draw(t,e){const i=this,s=i.options;i.skip||s.radius<=0||(void 0===e||B(i,e))&&(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,F(t,s,i.x,i.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Wa(t,e){const{x:i,y:s,base:a,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let n,l,c,h,d;return t.horizontal?(d=r/2,n=Math.min(i,a),l=Math.max(i,a),c=s-d,h=s+d):(d=o/2,n=i-d,l=i+d,c=Math.min(s,a),h=Math.max(s,a)),{left:n,top:c,right:l,bottom:h}}function ja(t){let e=t.options.borderSkipped;const i={};return e?(e=t.horizontal?Xa(e,"left","right",t.base>t.x):Xa(e,"bottom","top",t.base<t.y),i[e]=!0,i):i}function Xa(t,e,i,s){return s?(t=Ya(t,e,i),t=Va(t,i,e)):t=Va(t,e,i),t}function Ya(t,e,i){return t===e?i:t===i?e:t}function Va(t,e,i){return"start"===t?e:"end"===t?i:t}function qa(t,e,i,s){return t?0:Math.max(Math.min(e,s),i)}function Ga(t,e,i){const s=t.options.borderWidth,a=ja(t);let o,r,n,l;return d(s)?(o=+s.top||0,r=+s.right||0,n=+s.bottom||0,l=+s.left||0):o=r=n=l=+s||0,{t:qa(a.top,o,0,i),r:qa(a.right,r,0,e),b:qa(a.bottom,n,0,i),l:qa(a.left,l,0,e)}}function Ua(t){const e=Wa(t),i=e.right-e.left,s=e.bottom-e.top,a=Ga(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s},inner:{x:e.left+a.l,y:e.top+a.t,w:i-a.l-a.r,h:s-a.t-a.b}}}function Za(t,e,i,s){const a=null===e,o=null===i,r=!(!t||a&&o)&&Wa(t,s);return r&&(a||e>=r.left&&e<=r.right)&&(o||i>=r.top&&i<=r.bottom)}Ha.id="point",Ha.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3},Ha.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Ka extends Bs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:i,outer:s}=Ua(this);t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),t.rect(s.x,s.y,s.w,s.h),t.clip(),t.rect(i.x,i.y,i.w,i.h),t.fillStyle=e.borderColor,t.fill("evenodd")),t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),t.restore()}inRange(t,e,i){return Za(this,t,e,i)}inXRange(t,e){return Za(this,t,null,e)}inYRange(t,e){return Za(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ka.id="rectangle",Ka.defaults={borderSkipped:"start",borderWidth:0},Ka.defaultRoutes={backgroundColor:"color",borderColor:"color"};const Ja={average(t){if(!t.length)return!1;let e,i,s=0,a=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,a+=t.y,++o}}return{x:s/o,y:a/o}},nearest(t,e){let i,s,a,o=e.x,r=e.y,n=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=s.getCenterPoint(),i=re(e,t);i<n&&(n=i,a=s)}}if(a){const t=a.tooltipPosition();o=t.x,r=t.y}return{x:o,y:r}}};function Qa(t,e){return e&&(h(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function to(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function eo(t,e){const{element:i,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:r,value:n}=o.getLabelAndValue(a);return{chart:t,label:r,dataPoint:o.getParsed(a),formattedValue:n,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:i}}function io(t,e){return t=y({},[j.plugins.tooltip,t]),t.bodyFont=V(t.bodyFont,e),t.titleFont=V(t.titleFont,e),t.footerFont=V(t.footerFont,e),t.boxHeight=p(t.boxHeight,t.bodyFont.size),t.boxWidth=p(t.boxWidth,t.bodyFont.size),t}function so(t){const e=t._chart.ctx,{body:i,footer:s,options:a,title:o}=t,{bodyFont:r,footerFont:n,titleFont:l,boxWidth:c,boxHeight:h}=a,d=o.length,u=s.length,p=i.length;let f=2*a.yPadding,g=0,v=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(f+=d*l.size+(d-1)*a.titleSpacing+a.titleMarginBottom),v){const t=a.displayColors?Math.max(h,r.size):r.size;f+=p*t+(v-p)*r.size+(v-1)*a.bodySpacing}u&&(f+=a.footerMarginTop+u*n.size+(u-1)*a.footerSpacing);let x=0;const y=function(t){g=Math.max(g,e.measureText(t).width+x)};return e.save(),e.font=l.string,m(t.title,y),e.font=r.string,m(t.beforeBody.concat(t.afterBody),y),x=a.displayColors?c+2:0,m(i,t=>{m(t.before,y),m(t.lines,y),m(t.after,y)}),x=0,e.font=n.string,m(t.footer,y),e.restore(),g+=2*a.xPadding,{width:g,height:f}}function ao(t,e,i){const{x:s,y:a,width:o,height:r}=i,n=t.chartArea;let l,c,h="center",d="center";a<r?d="top":a>t.height-r&&(d="bottom");const u=(n.left+n.right)/2,p=(n.top+n.bottom)/2;"center"===d?(l=t=>t<=u,c=t=>t>u):(l=t=>t<=o/2,c=e=>e>=t.width-o/2);const f=i=>i+o+e.caretSize+e.caretPadding>t.width,m=t=>t-o-e.caretSize-e.caretPadding<0,g=t=>t<=p?"top":"bottom";return l(s)?(h="left",f(s)&&(h="center",d=g(a))):c(s)&&(h="right",m(s)&&(h="center",d=g(a))),{xAlign:e.xAlign?e.xAlign:h,yAlign:e.yAlign?e.yAlign:d}}function oo(t,e,i){let{x:s,width:a}=t;return"right"===e?s-=a:"center"===e&&(s-=a/2,s+a>i&&(s=i-a),s<0&&(s=0)),s}function ro(t,e,i){let{y:s,height:a}=t;return"top"===e?s+=i:s-="bottom"===e?a+i:a/2,s}function no(t,e,i,s){const{caretSize:a,caretPadding:o,cornerRadius:r}=t,{xAlign:n,yAlign:l}=i,c=a+o,h=r+o;let d=oo(e,n,s.width);const u=ro(e,l,c);return"center"===l?"left"===n?d+=c:"right"===n&&(d-=c):"left"===n?d-=h:"right"===n&&(d+=h),{x:d,y:u}}function lo(t,e){const i=t.options;return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.xPadding:t.x+i.xPadding}function co(t){return Qa([],to(t))}class ho extends Bs{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this.$animations=void 0,this.options=void 0,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelTextColors=void 0,this.initialize()}initialize(){const t=this,e=t._chart.options;t.options=io(e.tooltips,e.font)}_resolveAnimations(){const t=this,e=t._cachedAnimations;if(e)return e;const i=t._chart,s=t.options,a=s.enabled&&i.options.animation&&s.animation,o=new ai(t._chart,a);return t._cachedAnimations=Object.freeze(o),o}getTitle(t){const e=this,i=e.options,s=i.callbacks,a=s.beforeTitle.apply(e,[t]),o=s.title.apply(e,[t]),r=s.afterTitle.apply(e,[t]);let n=[];return n=Qa(n,to(a)),n=Qa(n,to(o)),n=Qa(n,to(r)),n}getBeforeBody(t){return co(this.options.callbacks.beforeBody.apply(this,[t]))}getBody(t){const e=this,i=e.options.callbacks,s=[];return m(t,t=>{const a={before:[],lines:[],after:[]};Qa(a.before,to(i.beforeLabel.call(e,t))),Qa(a.lines,i.label.call(e,t)),Qa(a.after,to(i.afterLabel.call(e,t))),s.push(a)}),s}getAfterBody(t){return co(this.options.callbacks.afterBody.apply(this,[t]))}getFooter(t){const e=this,i=e.options.callbacks,s=i.beforeFooter.apply(e,[t]),a=i.footer.apply(e,[t]),o=i.afterFooter.apply(e,[t]);let r=[];return r=Qa(r,to(s)),r=Qa(r,to(a)),r=Qa(r,to(o)),r}_createItems(){const t=this,e=t._active,i=t.options,s=t._chart.data,a=[],o=[];let r,n,l=[];for(r=0,n=e.length;r<n;++r)l.push(eo(t._chart,e[r]));return i.filter&&(l=l.filter((t,e,a)=>i.filter(t,e,a,s))),i.itemSort&&(l=l.sort((t,e)=>i.itemSort(t,e,s))),m(l,e=>{a.push(i.callbacks.labelColor.call(t,e)),o.push(i.callbacks.labelTextColor.call(t,e))}),t.labelColors=a,t.labelTextColors=o,t.dataPoints=l,l}update(t){const e=this,i=e.options,s=e._active;let a;if(s.length){const t=Ja[i.position].call(e,s,e._eventPosition),o=e._createItems();e.title=e.getTitle(o),e.beforeBody=e.getBeforeBody(o),e.body=e.getBody(o),e.afterBody=e.getAfterBody(o),e.footer=e.getFooter(o);const r=e._size=so(e),n=Object.assign({},t,r),l=ao(e._chart,i,n),c=no(i,n,l,e._chart);e.xAlign=l.xAlign,e.yAlign=l.yAlign,a={opacity:1,x:c.x,y:c.y,width:r.width,height:r.height,caretX:t.x,caretY:t.y}}else 0!==e.opacity&&(a={opacity:0});a&&e._resolveAnimations().update(e,a),t&&i.custom&&i.custom.call(e,{chart:e._chart,tooltip:e})}drawCaret(t,e,i){const s=this.getCaretPosition(t,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e){const{xAlign:i,yAlign:s,options:a}=this,{cornerRadius:o,caretSize:r}=a,{x:n,y:l}=t,{width:c,height:h}=e;let d,u,p,f,m,g;return"center"===s?(m=l+h/2,"left"===i?(d=n,u=d-r,f=m+r,g=m-r):(d=n+c,u=d+r,f=m-r,g=m+r),p=d):(u="left"===i?n+o+r:"right"===i?n+c-o-r:this.caretX,"top"===s?(f=l,m=f-r,d=u-r,p=u+r):(f=l+h,m=f+r,d=u+r,p=u-r),g=f),{x1:d,x2:u,x3:p,y1:f,y2:m,y3:g}}drawTitle(t,e){const i=this,s=i.options,a=i.title,o=a.length;let r,n,l;if(o){const c=Ye(s.rtl,i.x,i.width);for(t.x=lo(i,s.titleAlign),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",r=s.titleFont,n=s.titleSpacing,e.fillStyle=s.titleFont.color,e.font=r.string,l=0;l<o;++l)e.fillText(a[l],c.x(t.x),t.y+r.size/2),t.y+=r.size+n,l+1===o&&(t.y+=s.titleMarginBottom-n)}}_drawColorBox(t,e,i,s){const a=this,o=a.options,r=a.labelColors[i],{boxHeight:n,boxWidth:l,bodyFont:c}=o,h=lo(a,"left"),d=s.x(h),u=n<c.size?(c.size-n)/2:0,p=e.y+u;t.fillStyle=o.multiKeyBackground,t.fillRect(s.leftForLtr(d,l),p,l,n),t.lineWidth=1,t.strokeStyle=r.borderColor,t.strokeRect(s.leftForLtr(d,l),p,l,n),t.fillStyle=r.backgroundColor,t.fillRect(s.leftForLtr(s.xPlus(d,1),l-2),p+1,l-2,n-2),t.fillStyle=a.labelTextColors[i]}drawBody(t,e){const i=this,{body:s,options:a}=i,{bodyFont:o,bodySpacing:r,bodyAlign:n,displayColors:l,boxHeight:c,boxWidth:h}=a;let d=o.size,u=0;const p=Ye(a.rtl,i.x,i.width),f=function(i){e.fillText(i,p.x(t.x+u),t.y+d/2),t.y+=d+r},g=p.textAlign(n);let v,x,y,b,w,k,S;for(e.textAlign=n,e.textBaseline="middle",e.font=o.string,t.x=lo(i,g),e.fillStyle=o.color,m(i.beforeBody,f),u=l&&"right"!==g?"center"===n?h/2+1:h+2:0,b=0,k=s.length;b<k;++b){for(v=s[b],x=i.labelTextColors[b],e.fillStyle=x,m(v.before,f),y=v.lines,l&&y.length&&(i._drawColorBox(e,t,b,p),d=Math.max(o.size,c)),w=0,S=y.length;w<S;++w)f(y[w]),d=o.size;m(v.after,f)}u=0,d=o.size,m(i.afterBody,f),t.y-=r}drawFooter(t,e){const i=this,s=i.options,a=i.footer,o=a.length;let r,n;if(o){const l=Ye(s.rtl,i.x,i.width);for(t.x=lo(i,s.footerAlign),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",r=s.footerFont,e.fillStyle=s.footerFont.color,e.font=r.string,n=0;n<o;++n)e.fillText(a[n],l.x(t.x),t.y+r.size/2),t.y+=r.size+s.footerSpacing}}drawBackground(t,e,i){const{xAlign:s,yAlign:a,options:o}=this,{x:r,y:n}=t,{width:l,height:c}=i,h=o.cornerRadius;e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(r+h,n),"top"===a&&this.drawCaret(t,e,i),e.lineTo(r+l-h,n),e.quadraticCurveTo(r+l,n,r+l,n+h),"center"===a&&"right"===s&&this.drawCaret(t,e,i),e.lineTo(r+l,n+c-h),e.quadraticCurveTo(r+l,n+c,r+l-h,n+c),"bottom"===a&&this.drawCaret(t,e,i),e.lineTo(r+h,n+c),e.quadraticCurveTo(r,n+c,r,n+c-h),"center"===a&&"left"===s&&this.drawCaret(t,e,i),e.lineTo(r,n+h),e.quadraticCurveTo(r,n,r+h,n),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(){const t=this,e=t._chart,i=t.options,s=t.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const s=Ja[i.position].call(t,t._active,t._eventPosition);if(!s)return;const r=t._size=so(t),n=Object.assign({},s,t._size),l=ao(e,i,n),c=no(i,n,l,e);a._to===c.x&&o._to===c.y||(t.xAlign=l.xAlign,t.yAlign=l.yAlign,t.width=r.width,t.height=r.height,t.caretX=s.x,t.caretY=s.y,t._resolveAnimations().update(t,c))}}draw(t){const e=this,i=e.options;let s=e.opacity;if(!s)return;e._updateAnimationTarget();const a={width:e.width,height:e.height},o={x:e.x,y:e.y};s=Math.abs(s)<.001?0:s;const r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;i.enabled&&r&&(t.save(),t.globalAlpha=s,e.drawBackground(o,t,a),Ve(t,i.textDirection),o.y+=i.yPadding,e.drawTitle(o,t),e.drawBody(o,t),e.drawFooter(o,t),qe(t,i.textDirection),t.restore())}handleEvent(t,e){const i=this,s=i.options,a=i._active||[];let o=!1,r=[];"mouseout"!==t.type&&(r=i._chart.getElementsAtEventForMode(t,s.mode,s,e),s.reverse&&r.reverse());const n=Ja[s.position].call(i,r,t),l=this.caretX!==n.x||this.caretY!==n.y;return o=e||!g(r,a)||l,o&&(i._active=r,(s.enabled||s.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0))),o}}ho.positioners=Ja;class uo extends Us{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){const i=this.getLabels();if(i[e]===t)return e;const s=i.indexOf(t),a=i.lastIndexOf(t);return-1===s||s!==a?e:s}determineDataLimits(){const t=this,e=t.getLabels().length-1;t.min=Math.max(t._userMin||0,0),t.max=Math.min(t._userMax||e,e)}buildTicks(){const t=this,e=t.min,i=t.max,s=t.options.offset,a=[];let o=t.getLabels();o=0===e&&i===o.length-1?o:o.slice(e,i+1),t._valueRange=Math.max(o.length-(s?0:1),1),t._startValue=t.min-(s?.5:0);for(let r=e;r<=i;r++)a.push({value:r});return a}getLabelForValue(t){const e=this,i=e.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return"number"!==typeof t&&(t=e.parse(t)),e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const e=this,i=e.ticks;return t<0||t>i.length-1?null:e.getPixelForValue(i[t].value)}getValueForPixel(t){const e=this,i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)}getBasePixel(){return this.bottom}}function po(t){const e=Math.floor(Zt(t)),i=t/Math.pow(10,e);let s;return s=i<=1?1:i<=2?2:i<=5?5:10,s*Math.pow(10,e)}function fo(t,e){const i=[],s=1e-14,{stepSize:a,min:o,max:r,precision:n}=t,l=a||1,h=t.maxTicks-1,{min:d,max:u}=e;let p,f,m,g,v=po((u-d)/h/l)*l;if(v<s&&c(o)&&c(r))return[{value:d},{value:u}];g=Math.ceil(u/v)-Math.floor(d/v),g>h&&(v=po(g*v/h/l)*l),a||c(n)?p=Math.pow(10,ae(v)):(p=Math.pow(10,n),v=Math.ceil(v*p)/p),f=Math.floor(d/v)*v,m=Math.ceil(u/v)*v,!a||c(o)||c(r)||Qt((r-o)/a,v/1e3)&&(f=o,m=r),g=(m-f)/v,g=Jt(g,Math.round(g),v/1e3)?Math.round(g):Math.ceil(g),f=Math.round(f*p)/p,m=Math.round(m*p)/p,i.push({value:c(o)?f:o});for(let c=1;c<g;++c)i.push({value:Math.round((f+c*v)*p)/p});return i.push({value:c(r)?m:r}),i}uo.id="category",uo.defaults={ticks:{callback:uo.prototype.getLabelForValue}};class mo extends Us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return c(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?NaN:+t}handleTickRangeOptions(){const t=this,e=t.options;if(e.beginAtZero){const e=ee(t.min),i=ee(t.max);e<0&&i<0?t.max=0:e>0&&i>0&&(t.min=0)}const i=void 0!==e.min||void 0!==e.suggestedMin,s=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),i!==s&&t.min>=t.max&&(i?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)}getTickLimit(){const t=this,e=t.options.ticks;let i,{maxTicksLimit:s,stepSize:a}=e;return a?i=Math.ceil(t.max/a)-Math.floor(t.min/a)+1:(i=t.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,i=e.ticks;let s=t.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,min:e.min,max:e.max,precision:i.precision,stepSize:p(i.fixedStepSize,i.stepSize)},o=fo(a,t);return te(o,t,"value"),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),o}configure(){const t=this,e=t.ticks;let i=t.min,s=t.max;if(super.configure(),t.options.offset&&e.length){const t=(s-i)/Math.max(e.length-1,1)/2;i-=t,s+=t}t._startValue=i,t._endValue=s,t._valueRange=s-i}getLabelForValue(t){return new Intl.NumberFormat(this.options.locale).format(t)}}class go extends mo{determineDataLimits(){const t=this,e=t.options,{min:i,max:s}=t.getMinMax(!0);t.min=u(i)?i:p(e.suggestedMin,0),t.max=u(s)?s:p(e.suggestedMax,1),e.stacked&&i>0&&(t.min=0),t.handleTickRangeOptions()}computeTickLimit(){const t=this;if(t.isHorizontal())return Math.ceil(t.width/40);const e=t._resolveTickFontOptions(0);return Math.ceil(t.height/e.lineHeight)}getPixelForValue(t){const e=this;return e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function vo(t){const e=t/Math.pow(10,Math.floor(Zt(t)));return 1===e}function xo(t,e){return u(t)?t:e}function yo(t,e){const i=Math.floor(Zt(e.max)),s=Math.ceil(e.max/Math.pow(10,i)),a=[];let o=xo(t.min,Math.pow(10,Math.floor(Zt(e.min)))),r=Math.floor(Zt(o)),n=Math.floor(o/Math.pow(10,r)),l=r<0?Math.pow(10,Math.abs(r)):1;do{a.push({value:o,major:vo(o)}),++n,10===n&&(n=1,++r,l=r>=0?1:l),o=Math.round(n*Math.pow(10,r)*l)/l}while(r<i||r===i&&n<s);const c=xo(t.max,o);return a.push({value:c,major:vo(o)}),a}go.id="linear",go.defaults={ticks:{callback:zs.formatters.numeric}};class bo extends Us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=mo.prototype.parse.apply(this,[t,e]);if(0!==i)return u(i)&&i>0?i:NaN}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=u(e)?Math.max(0,e):null,t.max=u(i)?Math.max(0,i):null,t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,e=1,i=10;let s=t.min,a=t.max;s===a&&(s<=0?(s=e,a=i):(s=Math.pow(10,Math.floor(Zt(s))-1),a=Math.pow(10,Math.floor(Zt(a))+1))),s<=0&&(s=Math.pow(10,Math.floor(Zt(a))-1)),a<=0&&(a=Math.pow(10,Math.floor(Zt(s))+1)),t.min=s,t.max=a}buildTicks(){const t=this,e=t.options,i={min:t._userMin,max:t._userMax},s=yo(i,t);let a=!t.isHorizontal();return te(s,t,"value"),e.reverse?(a=!a,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),a&&s.reverse(),s}getLabelForValue(t){return void 0===t?"0":new Intl.NumberFormat(this.options.locale).format(t)}configure(){const t=this,e=t.min;super.configure(),t._startValue=Zt(e),t._valueRange=Zt(t.max)-Zt(e)}getPixelForValue(t){const e=this;return void 0!==t&&0!==t||(t=e.min),e.getPixelForDecimal(t===e.min?0:(Zt(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,i=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+i*e._valueRange)}}function wo(t){const e=t.ticks;return e.display&&t.display?p(e.font&&e.font.size,j.font.size)+2*e.backdropPaddingY:0}function ko(t,e,i){return h(i)?{w:O(t,t.font,i),h:i.length*e}:{w:t.measureText(i).width,h:e}}function So(t,e,i,s,a){return t===s||t===a?{start:e-i/2,end:e+i/2}:t<s||t>a?{start:e-i,end:e}:{start:e,end:e+i}}function Co(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},i={};let s,a,o;t._pointLabelSizes=[];const r=t.chart.data.labels.length;for(s=0;s<r;s++){o=t.getPointPosition(s,t.drawingArea+5);const r={chart:t.chart,scale:t,index:s,label:t.pointLabels[s]},n=V(q([t.options.pointLabels.font],r,s),t.chart.options.font);t.ctx.font=n.string,a=ko(t.ctx,n.lineHeight,t.pointLabels[s]),t._pointLabelSizes[s]=a;const l=t.getIndexAngle(s),c=se(l),h=So(c,o.x,a.w,0,180),d=So(c,o.y,a.h,90,270);h.start<e.l&&(e.l=h.start,i.l=l),h.end>e.r&&(e.r=h.end,i.r=l),d.start<e.t&&(e.t=d.start,i.t=l),d.end>e.b&&(e.b=d.end,i.b=l)}t._setReductions(t.drawingArea,e,i)}function Ao(t){return 0===t||180===t?"center":t<180?"left":"right"}function To(t,e,i,s){let a,o,r=i.y+s/2;if(h(e))for(a=0,o=e.length;a<o;++a)t.fillText(e[a],i.x,r),r+=s;else t.fillText(e,i.x,r)}function Io(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function Mo(t){const e=t.ctx,i=t.options,s=i.pointLabels,a=wo(i),o=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max);e.save(),e.textBaseline="middle";for(let r=t.chart.data.labels.length-1;r>=0;r--){const i=0===r?a/2:0,n=t.getPointPosition(r,o+i+5),l={chart:t.chart,scale:t,index:r,label:t.pointLabels[r]},c=V(q([s.font],l,r),t.chart.options.font);e.font=c.string,e.fillStyle=c.color;const h=se(t.getIndexAngle(r));e.textAlign=Ao(h),Io(h,t._pointLabelSizes[r],n),To(e,t.pointLabels[r],n,c.lineHeight)}e.restore()}function Lo(t,e,i,s){const a=t.ctx,o=e.circular,r=t.chart.data.labels.length,n={chart:t.chart,scale:t,index:s,tick:t.ticks[s]},l=q([e.color],n,s-1),c=q([e.lineWidth],n,s-1);let h;if((o||r)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(q([e.borderDash,[]],n)),a.lineDashOffset=q([e.borderDashOffset],n,s-1)),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{h=t.getPointPosition(0,i),a.moveTo(h.x,h.y);for(let e=1;e<r;e++)h=t.getPointPosition(e,i),a.lineTo(h.x,h.y)}a.closePath(),a.stroke(),a.restore()}}function Po(t){return Kt(t)?t:0}bo.id="logarithmic",bo.defaults={ticks:{callback:zs.formatters.logarithmic,major:{enabled:!0}}};class _o extends mo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this.pointLabels=[]}init(t){super.init(t),this.axis="r"}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=wo(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!1);t.min=u(e)&&!isNaN(e)?e:0,t.max=u(i)&&!isNaN(i)?i:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wo(this.options))}generateTickLabels(t){const e=this;mo.prototype.generateTickLabels.call(e,t),e.pointLabels=e.chart.data.labels.map((t,i)=>{const s=f(e.options.pointLabels.callback,[t,i],e);return s||0===s?s:""})}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?Co(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){const s=this;let a=e.l/Math.sin(i.l),o=Math.max(e.r-s.width,0)/Math.sin(i.r),r=-e.t/Math.cos(i.t),n=-Math.max(e.b-(s.height-s.paddingTop),0)/Math.cos(i.b);a=Po(a),o=Po(o),r=Po(r),n=Po(n),s.drawingArea=Math.min(Math.floor(t-(a+o)/2),Math.floor(t-(r+n)/2)),s.setCenterPoint(a,o,r,n)}setCenterPoint(t,e,i,s){const a=this,o=a.width-e-a.drawingArea,r=t+a.drawingArea,n=i+a.drawingArea,l=a.height-a.paddingTop-s-a.drawingArea;a.xCenter=Math.floor((r+o)/2+a.left),a.yCenter=Math.floor((n+l)/2+a.top+a.paddingTop)}getIndexAngle(t){const e=this.chart,i=2*Math.PI/e.data.labels.length,s=e.options||{},a=s.startAngle||0;return le(t*i+ie(a))}getDistanceFromCenterForValue(t){const e=this;if(c(t))return NaN;const i=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*i:(t-e.min)*i}getValueForDistanceFromCenter(t){if(c(t))return NaN;const e=this,i=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-i:e.min+i}getPointPosition(t,e){const i=this,s=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(s)*e+i.xCenter,y:Math.sin(s)*e+i.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}drawGrid(){const t=this,e=t.ctx,i=t.options,s=i.gridLines,a=i.angleLines;let o,r,n;if(i.pointLabels.display&&Mo(t),s.display&&t.ticks.forEach((e,i)=>{0!==i&&(r=t.getDistanceFromCenterForValue(t.ticks[i].value),Lo(t,s,r,i))}),a.display){for(e.save(),o=t.chart.data.labels.length-1;o>=0;o--){const l={chart:t.chart,scale:t,index:o,label:t.pointLabels[o]},c=q([a.lineWidth,s.lineWidth],l,o),h=q([a.color,s.color],l,o);c&&h&&(e.lineWidth=c,e.strokeStyle=h,e.setLineDash&&(e.setLineDash(q([a.borderDash,s.borderDash,[]],l)),e.lineDashOffset=q([a.borderDashOffset,s.borderDashOffset,0],l,o)),r=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),n=t.getPointPosition(o,r),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(n.x,n.y),e.stroke())}e.restore()}}drawLabels(){const t=this,e=t.ctx,i=t.options,s=i.ticks;if(!s.display)return;const a=t.getIndexAngle(0);let o,r;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((a,n)=>{const l={chart:t.chart,scale:t,index:n,tick:a};if(0===n&&!i.reverse)return;const c=t._resolveTickFontOptions(n);e.font=c.string,o=t.getDistanceFromCenterForValue(t.ticks[n].value);const h=q([s.showLabelBackdrop],l,n);h&&(r=e.measureText(a.label).width,e.fillStyle=q([s.backdropColor],l,n),e.fillRect(-r/2-s.backdropPaddingX,-o-c.size/2-s.backdropPaddingY,r+2*s.backdropPaddingX,c.size+2*s.backdropPaddingY)),e.fillStyle=c.color,e.fillText(a.label,0,-o)}),e.restore()}drawTitle(){}}_o.id="radialLinear",_o.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:zs.formatters.numeric},pointLabels:{display:!0,font:{size:10},callback(t){return t}}};const Oo=Number.MAX_SAFE_INTEGER||9007199254740991,Do={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Eo=Object.keys(Do);function Fo(t,e){return t-e}function Bo(t,e){if(c(e))return null;const i=t._adapter,s=t.options.time,{parser:a,round:o,isoWeekday:r}=s;let n=e;return"function"===typeof a&&(n=a(n)),u(n)||(n="string"===typeof a?i.parse(n,a):i.parse(n)),null===n?n:(o&&(n="week"===o&&r?t._adapter.startOf(n,"isoWeek",r):t._adapter.startOf(n,o)),+n)}function No(t,e,i,s){const a=Eo.length;for(let o=Eo.indexOf(t);o<a-1;++o){const t=Do[Eo[o]],a=t.steps?t.steps:Oo;if(t.common&&Math.ceil((i-e)/(a*t.size))<=s)return Eo[o]}return Eo[a-1]}function zo(t,e,i,s,a){for(let o=Eo.length-1;o>=Eo.indexOf(i);o--){const i=Eo[o];if(Do[i].common&&t._adapter.diff(a,s,i)>=e-1)return i}return Eo[i?Eo.indexOf(i):0]}function Ro(t){for(let e=Eo.indexOf(t)+1,i=Eo.length;e<i;++e)if(Do[Eo[e]].common)return Eo[e]}function $o(t,e,i){if(!t.length)return;const{lo:s,hi:a}=zt(t,i),o=t[s]>=i?t[s]:t[a];e[o]=!0}function Ho(t,e,i,s){const a=t._adapter,o=+a.startOf(e[0].value,s),r=e[e.length-1].value;let n,l;for(n=o;n<=r;n=+a.add(n,1,s))l=i[n],l>=0&&(e[l].major=!0);return e}function Wo(t,e,i){const s=[],a={},o=e.length;let r,n;for(r=0;r<o;++r)n=e[r],a[n]=r,s.push({value:n,major:!1});return 0!==o&&i?Ho(t,s,a,i):s}class jo extends Us{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1}init(t,e){const i=t.time||(t.time={}),s=this._adapter=new Yi._date(t.adapters.date);b(i.displayFormats,s.formats()),super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?NaN:Bo(this,t)}invalidateCaches(){this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,e=t.options,i=t._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:r,maxDefined:n}=t.getUserBounds();function l(t){r||isNaN(t.min)||(a=Math.min(a,t.min)),n||isNaN(t.max)||(o=Math.max(o,t.max))}r&&n||(l(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(t.getMinMax(!1))),a=u(a)&&!isNaN(a)?a:+i.startOf(Date.now(),s),o=u(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,t.min=Math.min(a,o),t.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this,e=t.options,i=e.time,s=e.ticks,a="labels"===s.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&a.length&&(t.min=t._userMin||a[0],t.max=t._userMax||a[a.length-1]);const o=t.min,r=t.max,n=Ht(a,o,r);return t._unit=i.unit||(s.autoSkip?No(i.minUnit,t.min,t.max,t._getLabelCapacity(o)):zo(t,n.length,i.minUnit,t.min,t.max)),t._majorUnit=s.major.enabled&&"year"!==t._unit?Ro(t._unit):void 0,t.initOffsets(a),e.reverse&&n.reverse(),Wo(t,n,t._majorUnit)}initOffsets(t){const e=this;let i,s,a=0,o=0;e.options.offset&&t.length&&(i=e.getDecimalForValue(t[0]),a=1===t.length?1-i:(e.getDecimalForValue(t[1])-i)/2,s=e.getDecimalForValue(t[t.length-1]),o=1===t.length?s:(s-e.getDecimalForValue(t[t.length-2]))/2),e._offsets={start:a,end:o,factor:1/(a+1+o)}}_generate(){const t=this,e=t._adapter,i=t.min,s=t.max,a=t.options,o=a.time,r=o.unit||No(o.minUnit,i,s,t._getLabelCapacity(i)),n=p(o.stepSize,1),l="week"===r&&o.isoWeekday,c={};let h,d=i;if(l&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,l?"day":r),e.diff(s,i,r)>1e5*n)throw new Error(i+" and "+s+" are too far apart with stepSize of "+n+" "+r);if("data"===t.options.ticks.source){const i=t.getDataTimestamps();for(h=d;h<s;h=+e.add(h,n,r))$o(i,c,h);h!==s&&"ticks"!==a.bounds||$o(i,c,h)}else{for(h=d;h<s;h=+e.add(h,n,r))c[h]=!0;h!==s&&"ticks"!==a.bounds||(c[h]=!0)}return Object.keys(c).map(t=>+t)}getLabelForValue(t){const e=this,i=e._adapter,s=e.options.time;return s.tooltipFormat?i.format(t,s.tooltipFormat):i.format(t,s.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){const a=this,o=a.options,r=o.time.displayFormats,n=a._unit,l=a._majorUnit,c=n&&r[n],h=l&&r[l],d=i[e],u=l&&h&&d&&d.major,p=a._adapter.format(t,s||(u?h:c)),f=o.ticks.callback;return f?f(p,e,i):p}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){const e=this;return(t-e.min)/(e.max-e.min)}getPixelForValue(t){const e=this,i=e._offsets,s=e.getDecimalForValue(t);return e.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return e.min+s*(e.max-e.min)}_getLabelSize(t){const e=this,i=e.options.ticks,s=e.ctx.measureText(t).width,a=ie(e.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(a),r=Math.sin(a),n=e._resolveTickFontOptions(0).size;return{w:s*o+n*r,h:s*r+n*o}}_getLabelCapacity(t){const e=this,i=e.options.time,s=i.displayFormats,a=s[i.unit]||s.millisecond,o=e._tickFormatFunction(t,0,Wo(e,[t],e._majorUnit),a),r=e._getLabelSize(o),n=Math.floor(e.isHorizontal()?e.width/r.w:e.height/r.h)-1;return n>0?n:1}getDataTimestamps(){const t=this;let e,i,s=t._cache.data||[];if(s.length)return s;const a=t.getMatchingVisibleMetas();if(t._normalized&&a.length)return t._cache.data=a[0].controller.getAllParsedValues(t);for(e=0,i=a.length;e<i;++e)s=s.concat(a[e].controller.getAllParsedValues(t));return t._cache.data=t.normalize(s)}getLabelTimestamps(){const t=this,e=t._cache.labels||[];let i,s;if(e.length)return e;const a=t.getLabels();for(i=0,s=a.length;i<s;++i)e.push(Bo(t,a[i]));return t._cache.labels=t._normalized?e:t.normalize(e)}normalize(t){return Yt(t.sort(Fo))}}function Xo(t,e,i){let s,a,o,r;if(i)s=Math.floor(e),a=Math.ceil(e),o=t[s],r=t[a];else{const i=zt(t,e);o=i.lo,r=i.hi,s=t[o],a=t[r]}const n=a-s;return n?o+(r-o)*(e-s)/n:o}jo.id="time",jo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Yo extends jo{constructor(t){super(t),this._table=[],this._maxIndex=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable();t._table=t.buildLookupTable(e),t._maxIndex=t._table.length-1,super.initOffsets(e)}buildLookupTable(t){const e=this,{min:i,max:s}=e;if(!t.length)return[{time:i,pos:0},{time:s,pos:1}];const a=[i];let o,r,n;for(o=0,r=t.length;o<r;++o)n=t[o],n>i&&n<s&&a.push(n);return a.push(s),a}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const i=t.getDataTimestamps(),s=t.getLabelTimestamps();return e=i.length&&s.length?t.normalize(i.concat(s)):i.length?i:s,e=t._cache.all=e,e}getPixelForValue(t,e){const i=this,s=i._offsets,a=i._normalized&&i._maxIndex>0&&!c(e)?e/i._maxIndex:i.getDecimalForValue(t);return i.getPixelForDecimal((s.start+a)*s.factor)}getDecimalForValue(t){return Xo(this._table,t)/this._maxIndex}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return Xo(e._table,s*this._maxIndex,!0)}}Yo.id="timeseries",Yo.defaults=jo.defaults},"9bc4":function(t,e,i){"use strict";var s=i("b703"),a=i("09f4"),o=i("1549"),r=i("2250"),n=i("f842"),l=i("e8b2");function c(t){return Object(l["a"])(t)?void 0:t}var h=c,d=i("b4f1"),u=i("ca54"),p=i("f5fe"),f=i("ff51"),m=u["a"]?u["a"].isConcatSpreadable:void 0;function g(t){return Object(f["a"])(t)||Object(p["a"])(t)||!!(m&&t&&t[m])}var v=g;function x(t,e,i,s,a){var o=-1,r=t.length;i||(i=v),a||(a=[]);while(++o<r){var n=t[o];e>0&&i(n)?e>1?x(n,e-1,i,s,a):Object(d["a"])(a,n):s||(a[a.length]=n)}return a}var y=x;function b(t){var e=null==t?0:t.length;return e?y(t,1):[]}var w=b,k=i("500e"),S=i("c619");function C(t){return Object(S["a"])(Object(k["a"])(t,void 0,w),t+"")}var A=C,T=i("4e71"),I=1,M=2,L=4,P=A((function(t,e){var i={};if(null==t)return i;var l=!1;e=Object(s["a"])(e,(function(e){return e=Object(r["a"])(e,t),l||(l=e.length>1),e})),Object(n["a"])(t,Object(T["a"])(t),i),l&&(i=Object(a["a"])(i,I|M|L,h));var c=e.length;while(c--)Object(o["a"])(i,e[c]);return i}));e["a"]=P},"9eb5":function(t,e,i){"use strict";i("fa2c")},a116:function(t,e,i){"use strict";i("f6de")},a4c9:function(t,e,i){"use strict";i("91dd")},a809:function(t,e,i){"use strict";function s(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}e["a"]=s},a945:function(t,e,i){},abe1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"40vw"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Metadata ")]},proxy:!0}])},[e("div",{attrs:{id:"file-details"}},[e("div",{attrs:{id:"item-overview"}},[e("table",[e("tbody",t._l(t.fileData,(function(i){return e("tr",{key:i.name,staticClass:"tableRow"},[e("td",{staticClass:"label"},[t._v(t._s(i.name))]),"TABLE"!==i.type?e("td",{staticClass:"value"},[t._t(i.name,(function(){return[t._v(" "+t._s(i.value||"-")+" ")]}),{value:i.value})],2):e("td",{staticClass:"value",staticStyle:{padding:"8px"}},[t._t(i.name,(function(){return[i.value?[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return t.showTable(i.name)}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]}))],2)])})),0)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableHeader))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],1)])},a=[],o=i("381e"),r=i("6a70"),n={name:"FileDetails",components:{Sheet:o["a"],Modal:r["a"]},props:{value:{type:Boolean,required:!0},fileData:{type:Array,required:!0}},data(){return{expandTableModal:!1,tableHeader:"",tableData:[]}},methods:{showTable(t){this.expandTableModal=!0;let e=this.fileData.filter(e=>e.name===t);console.log(e),this.tableHeader=e[0].name,this.tableData=JSON.parse(e[0].value),console.log(this.tableData)}}},l=n,c=(i("4045"),i("2877")),h=Object(c["a"])(l,s,a,!1,null,"65baddda",null);e["a"]=h.exports},ae23:function(t,e,i){"use strict";i("4ddc")},afe7:function(t,e,i){},b0ba:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"50vw","no-padding":""},on:{input:t.closeFormHistorySheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Form Entry History ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getFormHistory()}}})]},proxy:!0}]),model:{value:t.formHistorySheet,callback:function(e){t.formHistorySheet=e},expression:"formHistorySheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"\n          calc(100vh - 200px)\n        "}},[e("div",{attrs:{id:"history"}},[t.history.length?t._l(t.history,(function(i){return e("div",{key:i.id,staticClass:"entry"},[e("div",{staticClass:"header"},[t._v(" "+t._s(i.changes.length)+" "+t._s(i.changes.length>1?"Changes":"Change")+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v(t._s(i.changedBy))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.changedAt))])],1),t._l(i.changes,(function(i,s){return e("div",{key:s+1,staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),"isDeleted"===i.name?e("div",[Number(i.newValue)?e("span",{staticClass:"font-semibold"},[t._v(' "Deleted" ')]):e("span",{staticClass:"font-semibold"},[t._v('"Restored"')]),t._v(" the item ")]):i.oldValue?e("div",[t._v(" Modified "+t._s(i.name)+" from "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.oldValue)+'"')]),t._v(" to "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')])]):e("div",[t._v(" Assigned "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')]),t._v(" as "+t._s(i.name)+" ")])],1)}))],2)])})):e("div",{staticClass:"no-history"},[t._v("No data found")])],2)])],1)])],1)},a=[],o=i("381e"),r=i("1b0d"),n={name:"FormEntryHistory",components:{Sheet:o["a"]},props:{value:{type:Boolean,default:!1},processId:{type:Number,required:!0},workflowId:{type:Number,required:!0}},data(){return{changes:[],history:[],formHistorySheet:!1}},watch:{value:{immediate:!0,handler(){this.value&&this.getFormHistory()}}},methods:{async getFormHistory(){this.formHistorySheet=!0,this.history=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["g"].formHistory(this.workflowId,this.processId);if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e){let t=e;this.history=t.length&&t.map(t=>({id:this.$nano.id(),changedBy:t.modifiedBy,changedAt:this.$day.format(t.modifiedAt),changes:t.fields}))}},closeFormHistorySheet(){this.formHistorySheet=!1,this.$emit("update:value",!1)}}},l=n,c=(i("742a"),i("2877")),h=Object(c["a"])(l,s,a,!1,null,"231e188e",null);e["a"]=h.exports},b201:function(t,e,i){},b3754:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"workflow-reports"}},[e("Portal",{attrs:{to:"action-bar"}},[e("keep-alive",[e("ItemActions",{attrs:{id:t.workflowId,item:"workflow-report",columns:[],"group-by":"",order:"","filter-by":[],criteria:"","active-view":"","hide-actions":["toggle","sort","group","filter","activeView"],"dashboard-view":t.activeView,page:"REPORT","simple-search-filter":!0},on:{"update:dashboardView":function(e){t.activeView=e},"update:dashboard-view":function(e){t.activeView=e},refresh:t.refreshData,search:t.searchRow,export:t.export_Data,filter:t.getData}})],1)],1),e("SimpleFilter",{attrs:{id:t.workflowId,columns:t._columns,"filter-by":t.filterBy,name:"WORKFLOW",list:t.workflowList,form:t.form,"form-fields":t.formFields,module:"form","module-id":t.formId,"active-view":t.activeView,fid:t.filterId,"wfilter-list":t.WfilterList},on:{"update:id":function(e){t.workflowId=e},"update:filterBy":function(e){t.filterBy=e},"update:filter-by":function(e){t.filterBy=e},"update:form":function(e){t.form=e},"update:fid":function(e){t.filterId=e},update:t.getWorkflowData,saveData:t.saveSheet,viewFilter:function(e){t.showFilterList=!0}}}),t.loadingBarContent?e("BaseLoadingBarSheet",{staticClass:"loading-content"}):t._e(),e("SaveSheet",{attrs:{filter:t.filterBy,"repository-id":t.workflowId,page:"workflowReport",edit:t.editData},on:{success:function(e){t.success=!0}},model:{value:t.issavesheet,callback:function(e){t.issavesheet=e},expression:"issavesheet"}}),t.showFilterList&&"-1"===t.filterId?e("div",{staticClass:"col-12"},[e("div",[e("Breadcrumbs",{attrs:{breadcrumbs:t.breadcrumb},on:{reset:t.homeRepository}})],1),e("q-space")],1):t._e(),t.showFilterList&&"-1"===t.filterId?e("div",[e("FilterListType",{attrs:{mode:t.mode,items:t.savedItems,columns:t.columnss,"filter-list":t.savedList},on:{view:t.openFilter,isDelete:t.deleteItem}})],1):e("div",{},["TABLE"===t.activeView?[t.workflowRequestList.length?[e("ReportList",{attrs:{mode:t.mode,items:t.items,columns:t.columns,lists:t.list,form:t.form},on:{open:t.openProcess,history:t.openHistory,attachments:t.openAttachments,comments:t.openComments,viewFile:t.openFile,openSubWorkflow:t.updateSelectedSubWorkflow,subHistory:t.showSubHistory,subComments:t.openSubComments,subAttachments:t.openSubAttachments}})]:t.workflowId?[t.loadingBarContent?t._e():[e("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"o_account_tree",title:t.title,description:"No data available at the moment"}})]]:t.loadingBarContent?t._e():[e("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"o_account_tree",title:"Generate Report",description:"Select any workflow to display data"}})]]:"CHART"===t.activeView?[e("ReportCharts",{attrs:{"workflow-id":t.workflowId,"workflow-stage":t.stages,"form-id":t.formId,"form-fields":t.formFields,"sla-settings":t.slaSettings,"repository-id":t.repositoryId,"repository-fields":t.repositoryFields,workflow:t.workflow,refresh:t.chartRefresh},on:{"update:refresh":function(e){t.chartRefresh=e}}})]:t._e()],2),t.workflowRequestList.length&&"TABLE"===t.activeView||"-1"===t.filterId?e("Pagination",{attrs:{"total-items":t.totalItems,"current-page":t.currentPage,"items-per-page":t.itemsPerPage,"file-sheet":t.hideFileSheet},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}}}):t._e(),e("Sheet",{attrs:{width:"100vw","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i)}}})})),1)],1)],1):t._e(),t.formId?[t.formView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}})]:t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 60px)"}},[t.formView?e("div",{attrs:{id:"form-view"}},[t.formId&&t.form?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"is-readonly":!0,"enable-controls":t._enableControls},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.selectedProcess.createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.selectedProcess.createdByName)+" ")])]):t._e(),e("tr",[t.selectedProcess.raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.selectedProcess.raisedBy?e("td",[t._v(" "+t._s(t.selectedProcess.raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.selectedProcess.transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.selectedProcess.formData.fields,(function(i,s){return[i&&"[]"!=i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])])])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess(i.value)?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw",upload:!1,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-xs",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",[t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1)])])]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-2"}})]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),t.selectedFile.createdAt&&t.selectedFile.createdByEmail?e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1):t._e()])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$emit("addTask")}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("SubWorkflowProcess",{attrs:{"workflow-id":t.subWorkflowId||t.subProcessData.id,"initiate-sub-workflow-process":t.initiateSubWorkflowProcess,"main-workflow-id":t.workflow.id,"main-process-id":t.selectedProcess.processId,"sub-process-link":t.subProcessLink,"selected-process":t.subProcessData,"open-sub-process":t.openSubProcessSheet,"main-form-fields":t.formFields,"main-form-model":t.formModel},on:{closeProcessSheet:t.closeSubProcess}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeSubProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Linked Request ")]},proxy:!0}]),model:{value:t.subProcessSheet,callback:function(e){t.subProcessSheet=e},expression:"subProcessSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.subProcessTickets,(function(i,s){return[e("div",{key:s,staticClass:"subProcess"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"o_account_tree",color:"primary-4"}})],1),e("div",{staticClass:"col ellipsis text-underline",on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo)+" ")]),"1"===i.flowStatus?e("q-chip",{attrs:{size:"10px",color:"green","text-color":"white"}},[t._v(" Completed ")]):e("q-chip",{attrs:{size:"10px",color:"orange","text-color":"white"}},[t._v(" Running ")])],1),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(i.name))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.duration)+" ago")])],1)]),t._e()])]}))],2)]),e("ConfirmDelete",{attrs:{"delete-data":t.deleteData},on:{delete:function(e){t.success=!0}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}}),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"sent","initiate-process":!1,"form-check-list":!1,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":{},"form-upload-files":[],"repository-field":t.repositoryFields,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"sent","initiate-process":!1,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":[],comments:t.commentsList,"display-internal-public":!1},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},a=[],o=(i("14d9"),i("caad"),i("2b88")),r=i("064c"),n=i("73f9"),l=i("c1cb"),c=i("1b0d"),h=i("b6d2"),d=i("4bc4"),u=i("381e"),p=i("dd90"),f=i("a7d2"),m=i("42fc"),g=i("c49c"),v=i("fa1f"),x=i("abe1"),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reports"},[t.customChart||t.gotoChart?t.gotoChart?[e("GotoChart",{attrs:{"workflow-id":t.workflowId,"form-fields":t.formFields,refresh:t.refresh},on:{refresh:t.refreshData}})]:t.customChart?[e("BPMSChart",{attrs:{"workflow-id":t.workflowId,"sla-settings":t.slaSettings,"repository-id":t.repositoryId,"repository-fields":t.repositoryFields,workflow:t.workflow}})]:t._e():[e("OverallChart",{attrs:{"workflow-id":t.workflowId,"workflow-stage":t.workflowStage,"form-id":t.formId,"form-fields":t.formFields,"sla-settings":t.slaSettings,workflow:t.workflow}})]],2)},b=[],w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reports"},[t.workflowId?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 265px)"}},[e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row items-start q-col-gutter-sm q-my-sm"},[t._l(t.workflowCount,(function(i,s){return[e("div",{key:"workflowcount"+t.workflowId+s,staticClass:"col"},[e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[t._v(" "+t._s(i.workflowStatus)+" ")]),e("div",{staticClass:"column"},["totalRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"completedRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"incompleteRequests"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaOverdue"===i.matchingKey?[e("div",{staticClass:"text-red col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaProcessing"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaAchieved"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"forward"===i.matchingKey?[e("div",{staticClass:"text-secondary col self-center q-mt-md q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e()],2)])])]}))],2)]),t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm q-mb-sm"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId)}}},[t._v(" Month ")]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId,t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)]),t.stageCount.length?[e("div",{staticClass:"col-6 q-pr-sm q-mb-sm",attrs:{id:"stage"}},[e("table",{attrs:{id:"stageTable"}},[e("thead",[e("tr",t._l(t.stageColumns,(function(i){return e("th",{key:i.id},["ICON"===i.type?[e("BaseIcon",{attrs:{name:i.label,"inherit-color":""}})]:[t._v(" "+t._s(i.label)+" ")]],2)})),0)]),e("tbody",[t._l(t.stageCount,(function(i){return[e("tr",{key:i.id},t._l(t.stageColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["icon"===s.name?[e("BaseIcon",{attrs:{name:i[s.name],color:i.color}})]:[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]:t._e(),t._l(t.barChartData,(function(i,s){return e("div",{key:"barchart"+s,staticClass:"col-4 q-pr-sm q-pb-sm",staticStyle:{height:"350px"}},[e("BarChart",{attrs:{title:i.key,"x-data":i.xAxis,"y-data":i.yAxis,"is-horizontal":!0,"is-stacked":!0,options:t.barChartOptions}})],1)})),t._l(t.pieChartData,(function(i,s){return e("div",{key:"piechart"+s,staticClass:"col-4 q-pr-sm q-pb-sm",staticStyle:{height:"350px"}},[e("PieChart",{attrs:{title:i.name,"x-data":i.xAxis,"y-data":i.yAxis,options:t.pieChartOptions}})],1)})),t.userCount.length?[e("div",{staticClass:"col-6 q-pl-sm q-mb-sm",attrs:{id:"user"}},[e("table",{attrs:{id:"userTable"}},[e("thead",[e("tr",t._l(t.userColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.userCount,(function(i){return[e("tr",{key:i.id},t._l(t.userColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]:t._e(),t.timeChartyData.length?[e("div",{staticClass:"col-6 q-pr-sm q-pb-sm"},[e("BarChart",{attrs:{title:"Average Time on SLA","x-data":t.timeChartxData,"y-data":t.timeChartyData,"is-horizontal":!0,"is-stacked":!0,options:t.options}})],1)]:t._e()],2)])]:[e("BaseScrollbar",{attrs:{height:"calc(100vh - 265px)"}},[e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row items-start q-col-gutter-sm q-my-sm"},[t._l(t.workflowCount,(function(i,s){return[e("div",{key:"overallcount"+s,staticClass:"col"},[e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[t._v(" "+t._s(i.workflowStatus)+" ")]),e("div",{staticClass:"column"},["totalRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"completedRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"incompleteRequests"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaOverdue"===i.matchingKey?[e("div",{staticClass:"text-red col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaProcessing"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaAchieved"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"forward"===i.matchingKey?[e("div",{staticClass:"text-secondary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e()],2)])])]}))],2)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm q-mb-sm"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId)}}},[t._v(" Month ")]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId,t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)])])])]],2)},k=[],S=(i("13d5"),i("9254")),C=i("c2d0"),A=i("4523"),T=i.n(A),I=i("9b4a"),M=i("e8ea"),L=i("604f"),P=i.n(L),_=i("ea7f"),O=i.n(_),D=i("56e0"),E=i.n(D),F=i("12b8");T()(O.a),E()(O.a),I["a"].register(I["d"],M["b"],M["a"]);var B={name:"OverallChart",components:{BarChart:S["a"],VueHighcharts:P.a,PieChart:C["a"],SelectField:F["a"]},props:{workflowId:{type:Number,default:0},workflowStage:{type:Array,default:()=>[]},formFields:{type:Array,default:()=>[]},slaSettings:{type:Number,default:0},workflow:{type:Object,default:()=>{}}},data(){return{workflowCount:[{workflowStatus:"Total Requests",matchingKey:"totalRequests",visible:!0,totalCount:0},{workflowStatus:"Completed Requests",matchingKey:"completedRequests",visible:!0,totalCount:0},{workflowStatus:"Incomplete Requests",matchingKey:"incompleteRequests",visible:!0,totalCount:0},{workflowStatus:"SLA Overdue",matchingKey:"slaOverdue",visible:!0,additional:!1,totalCount:0},{workflowStatus:"SLA Processing",matchingKey:"slaProcessing",visible:!0,additional:!1,totalCount:0},{workflowStatus:"SLA Achieved",matchingKey:"slaAchieved",visible:!0,additional:!1,totalCount:0},{workflowStatus:"Forwarded",matchingKey:"forward",visible:!0,totalCount:0}],barChartData:[],barChartOptions:{chart:{height:"85%"}},Highcharts:O.a,sankeyCharts:{title:{text:""},credits:{enabled:!1},accessibility:{point:{valueDescriptionFormat:"{index}. {point.from} to {point.to}, {point.weight}."}},series:[{keys:["from","to","weight"],data:[],type:"sankey"}]},sankeyChartsFilter:[],chartData:{chart:{type:"spline",height:"330px"},title:{text:""},subtitle:{text:""},xAxis:{categories:[]},yAxis:{title:{text:"Count"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#bfa0fe"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getWorkflowChartCount(this.workflowId,t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getWorkflowChartCount(this.workflowId,this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},stageColumns:[{id:this.$nano.id(),name:"icon",label:"mdi-state-machine",type:"ICON"},{id:this.$nano.id(),name:"workflowStage",label:"Workflow Stages",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"currentInbox",label:"Current Inbox",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"<15 Days",label:"<15 Days",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"<30 Days",label:"<30 Days",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"<45 Days",label:"<45 Days",type:"SHORT_TEXT"}],stageCount:[],userColumns:[{id:this.$nano.id(),name:"name",label:"Assigned To",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"slaAchieved",label:"SLA Achieved",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"slaOverdue",label:"SLA Overdue",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"slaProcessing",label:"SLA Processing",type:"SHORT_TEXT"}],userCount:[],timeChartxData:["Less than 1 hour","1-2 hours","More than 2 hours"],timeChartyData:[],pieChartData:[],pieChartOptions:{chart:{height:"85%"}},options:{chart:{height:"85%"},dataLabels:{enabled:!0,formatter:function(t){return t+"%"}}}}},watch:{workflowId:{deep:!0,immediate:!0,handler(){this.workflowId?this.getWorkflowChartCount(this.workflowId):this.getOverallCount()}},formFields:{deep:!0,immediate:!0,handler(){if(this.formFields.length){let t=[];t=this.formFields.filter(t=>"SINGLE_SELECT"===t.dataType).map(t=>""+t.value),this.getChartByColumns(t),this.formFields.forEach(t=>{this.sankeyChartsFilter.length<2&&"SINGLE_SELECT"===t.dataType&&this.sankeyChartsFilter.push(t.value)}),this.sankeyChartsFilter.length}}},workflow:{deep:!0,immediate:!0,handler(){this.workflowId&&(this.getWorkflowCount(),this.getCountsByStage())}},slaSettings:{deep:!0,immediate:!0,handler(){2!==this.slaSettings&&4!==this.slaSettings||this.workflowId&&(this.getUserWiseCounts(),this.getProgressTiming())}}},methods:{addSankeyChartsFilter(){this.sankeyChartsFilter.push("")},removeSankeyChartsFilter(t){this.sankeyChartsFilter.splice(t,1)},async getOverallCount(){this.$store.commit("showLoadingBar"),this.workflowCount.forEach(t=>(t.visible=!0,t.totalCount=0));const{error:t,payload:e}=await c["o"].getOverallCount(0);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&this.workflowCount.forEach(t=>{const i=Object.keys(e).find(e=>e===t.matchingKey);i&&(t.totalCount=e[i])})},async getAllWorkflowChartCount(){this.$store.commit("showLoadingBar"),this.chartData.series=[];let t={year:(new Date).getFullYear()};const{error:e,payload:i}=await c["o"].getAllWorkflowChart(t);if(this.$store.commit("hideLoadingBar"),e)this.$alert.error(e);else if(i){const t=i.map(t=>{const e=Object.keys(t)[0],i=[];for(const s in t[e]){const a=Object.entries(t[e][s]).map(([t,i])=>({name:t,y:parseInt(i),drilldown:!0,category:e,status:s}));i.push({name:s,data:a})}return{name:e,data:i}});console.log("all-chart-series",t);let e=this.$refs.refWorkflowChart;e.removeSeries(),t.forEach(t=>{this.chartData.series=t,e.addSeries(this.chartData.series)})}},async getWorkflowCount(){this.$store.commit("showLoadingBar"),this.workflowCount.forEach(t=>(t.visible=!0,t.totalCount=0));const{error:t,payload:e}=await c["o"].getWorkflowTicketCount(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(1!==this.slaSettings&&3!==this.slaSettings||this.workflowCount.forEach(t=>{t.additional&&(t.visible=!1)}),e&&this.workflowCount.forEach(t=>{const i=Object.keys(e).find(e=>e===t.matchingKey);i&&(t.totalCount=e[i])}))},async getWorkflowChartCount(t,e="",i=""){this.$store.commit("showLoadingBar"),this.chartData.series=[];const s=i.replace(/\D/g,"");let a={year:(new Date).getFullYear(),month:e,weekno:s};const{error:o,payload:r}=await c["o"].getWorkflowChart(t,a);if(this.$store.commit("hideLoadingBar"),o)this.$alert.error(o);else if(r&&r.completed&&r.initiated){let t=[];this.chartData.xAxis.categories=Object.keys(r.completed),t.push({name:"Running",data:Object.values(r.initiated).map(Number)}),t.push({name:"Completed",data:Object.values(r.completed).map(Number)}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;e.removeSeries(),e.addSeries(this.chartData.series)}},async getChartByColumns(t){this.$store.commit("showLoadingBar"),this.barChartData=[],this.pieChartData=[];const{error:e,payload:i}=await c["o"].getChartByColumns(this.workflowId,t);if(this.$store.commit("hideLoadingBar"),e)this.$alert.error(e);else if(i){const t=this.formFields.filter(t=>"SINGLE_SELECT"===t.dataType).reduce((t,e)=>(t[e.value]=e.label,t),{}),e=Object.keys(i).reduce((e,s)=>{const a=t[s.replace(/"/g,"")];return a&&(e[a]=i[s]),e},{});Object.keys(i).forEach(t=>{const e=t.replace(/"/g,"");i[t].forEach(t=>{t.name=t[e]?t[e]:"",delete t[e]})}),Object.keys(e).forEach(t=>{let i=[],s=[],a=[];e[t].forEach(t=>{i.push(t.name),s.push(t.running),a.push(t.completed)}),this.barChartData.push({key:t+" - Report Chart",xAxis:i,yAxis:[{name:"Running",data:s},{name:"Completed",data:a}]})}),Object.keys(e).forEach(t=>{e[t].forEach(e=>{this.pieChartData.push({name:`${t} - ${e.name} - Report Chart`,xAxis:["Running","Completed"],yAxis:[e.running,e.completed]})})})}},async getCountsByStage(){this.stageCount=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["o"].getCountsByStage(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(this.workflowStage.forEach(t=>{const e=this.stageCount.find(e=>e.workflowStage===t.label);e||"START"!==t.type||this.stageCount.push({stageId:t.key,workflowStage:t.label,icon:t.icon,type:t.type,color:t.color,currentInbox:0,["<15 Days"]:0,["<30 Days"]:0,["<45 Days"]:0})}),this.workflowStage.forEach(t=>{const e=this.stageCount.find(e=>e.workflowStage===t.label);e||"START"===t.type||"END"===t.type||this.stageCount.push({stageId:t.key,workflowStage:t.label,icon:t.icon,type:t.type,color:t.color,currentInbox:0,["<15 Days"]:0,["<30 Days"]:0,["<45 Days"]:0})}),this.workflowStage.forEach(t=>{const e=this.stageCount.find(e=>e.workflowStage===t.label);e||"END"!==t.type||this.stageCount.push({stageId:t.key,workflowStage:t.label,icon:t.icon,type:t.type,color:t.color,currentInbox:0,["<15 Days"]:0,["<30 Days"]:0,["<45 Days"]:0})}),e&&this.workflowStage.forEach(t=>{const i=e.find(e=>t.key===e.activityId);i.label=t.label,this.stageCount.forEach(t=>{i.label===t.workflowStage&&(t.currentInbox+=i.currentInbox||0,t["<15 Days"]+=i["< 15 Days"]||0,t["<30 Days"]+=i["< 30 Days"]||0,t["<45 Days"]+=i["< 45 Days"]||0)})}))},async getUserWiseCounts(){this.userCount=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["o"].getUserWiseCounts(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&e.forEach(t=>{this.userCount.push({name:t.name,slaAchieved:t.slaAchieved,slaAchievedRequestNo:t.slaAchievedRequestNo,slaOverdue:t.slaOverdue,slaOverdueRequestNo:t.slaOverdueRequestNo,slaProcessing:t.slaProcessing,slaProcessingRequestNo:t.slaProcessingRequestNo})})},async getProgressTiming(){this.$store.commit("showLoadingBar"),this.timeChartyData=[];const{error:t,payload:e}=await c["o"].getProgressTiming(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&e.forEach(t=>{const e=parseFloat(t["<1hour"].replace(/[^0-9]/g,"")),i=parseFloat(t["1-2hours"].replace(/[^0-9]/g,"")),s=parseFloat(t[">2hour"].replace(/[^0-9]/g,""));this.timeChartyData.push({data:[e,i,s]})})},async overviewChart(){this.$store.commit("showLoadingBar");try{this.$refs.refCharts.removeSeries()}catch(i){}const{error:t,payload:e}=await c["t"].overviewChart(this.workflowId,this.sankeyChartsFilter);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.sankeyCharts.series[0].data=e,this.sankeyCharts.series[0].name=c["t"].name,this.$refs.refCharts.addSeries(this.sankeyCharts.series[0]))},async overviewTableReport(){this.columns=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["t"].overviewTableReport(this.workflowId,this.filter);if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e&&e.Table.length){this.tableReport=e.Table,this.tableReportData=this.tableReport;let t=Object.keys(this.tableReport[0]);t.forEach(t=>{this.columns.push({id:this.$nano.id(),name:t})})}}}},N=B,z=(i("ec90"),i("2877")),R=Object(z["a"])(N,w,k,!1,null,"3df8f3f4",null),$=R.exports,H=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reports"},[[e("BaseScrollbar",{attrs:{height:"calc(100vh - 265px)"}},[e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row items-start q-col-gutter-sm q-my-sm"},[t._l(t.workflowCount,(function(i,s){return[e("div",{key:s,staticClass:"col"},[e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[t._v(" "+t._s(i.workflowStatus)+" ")]),e("div",{staticClass:"column"},["totalRequests"===i.matchingKey?[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"completedRequests"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"incompleteRequests"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaOverdue"===i.matchingKey?[e("div",{staticClass:"text-red col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaProcessing"===i.matchingKey?[e("div",{staticClass:"text-orange col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"slaAchieved"===i.matchingKey?[e("div",{staticClass:"text-green col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e(),"forward"===i.matchingKey?[e("div",{staticClass:"text-secondary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")])]:t._e()],2)])])]}))],2)]),e("div",{staticClass:"row q-mt-sm"},[e("div",{staticClass:"col-8 q-pr-sm q-mb-sm"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId)}}},[t._v(" Month ")]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.workflowId,t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)]),t.departmentTable.length?[e("div",{staticClass:"col-4 chart",attrs:{id:"department-type"}},[e("BaseScrollbar",{attrs:{height:"350px"}},[e("table",{attrs:{id:"departmentTable"}},[e("thead",[e("tr",t._l(t.departmentColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.departmentTable,(function(i){return[e("tr",{key:i.id},t._l(t.departmentColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["Department"===s.name?[e("span",{staticClass:"text-underline cursor-pointer",on:{click:function(e){return t.filterDepartment(i[s.name])}}},[t._v(" "+t._s(i[s.name]))])]:[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])],1)]:t._e(),t.documentTypeTableData.length?[e("div",{staticClass:"col-12",attrs:{id:"document-type"}},[e("div",{staticClass:"row q-pb-sm"},[e("div",{staticClass:"text-bold q-pa-sm"},[t._v("Document Approval Data")]),e("q-space"),e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}}),t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Refresh",expression:"'Refresh'",modifiers:{top:!0}}],attrs:{icon:"eva-refresh",color:"gray","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getDocumentBasedTicketReport()}}})],1),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{attrs:{id:"documentTable"}},[e("thead",[e("tr",t._l(t.documentTypeColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.documentTypeTable,(function(i){return[e("tr",{key:i.id},t._l(t.documentTypeColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["TIME"===s.type?[t._v(" "+t._s(t.lastActionDuration(i[s.name]))+" ")]:"ICON"===s.type?["Approve"===i[s.name]?[e("BaseIcon",{attrs:{name:"mdi-check-bold",color:"green"}})]:"Reject"===i[s.name]?[e("BaseIcon",{attrs:{name:"mdi-close-circle",color:"red"}})]:[t._v(" - ")]]:["ifileName"===s.name?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"q-mr-sm",staticStyle:{width:"18px"},attrs:{"mime-type":t.fileType(i.ifileName)}})],1),e("div",{staticClass:"col text-underline cursor-pointer ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i[s.name])+" ")])])]:[t._v(" "+t._s(i[s.name])+" ")]]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])],1)]:t._e(),t._l(t.pieChartData,(function(i){return e("div",{key:i.key,staticClass:"col-4 q-pr-sm q-pt-sm q-pb-sm"},[e("PieChart",{attrs:{title:i.name,"x-data":i.xAxis,"y-data":i.yAxis,options:t.options}})],1)}))],2)])],e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.ifileName)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.ifileName)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFile.documentLastModifiedAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.documentLastModifiedBy))])],1)])])]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],2)},W=[],j=i("0319"),X=i.n(j),Y=i("27bd"),V=i("be3f"),q=i("cade");T()(O.a),X()(O.a);var G={name:"BpmsChart",components:{VueHighcharts:P.a,PieChart:C["a"],FilterItems:Y["a"],ExpandableSearch:V["a"],FileIcon:v["a"],Sheet:u["a"],ListItem:q["a"]},props:{workflowId:{type:Number,default:0},repositoryId:{type:Number,default:0},repositoryFields:{type:Array,default:()=>[]},workflow:{type:Object,default:()=>{}},slaSettings:{type:Number,default:0}},data(){return{workflowCount:[],barChartData:[],Highcharts:O.a,chartData:{chart:{type:"spline",height:"330px"},title:{text:""},subtitle:{text:""},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{title:{text:"Count"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#bfa0fe"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getWorkflowChartCount(this.workflowId,t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getWorkflowChartCount(this.workflowId,this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},pieChartData:[],departmentColumns:[{id:this.$nano.id(),name:"Department",label:"Department"},{id:this.$nano.id(),name:"running",label:"Running"},{id:this.$nano.id(),name:"completed",label:"Completed"}],departmentTable:[],documentTypeColumns:[],documentTypeTable:[],documentTypeTableData:[],filterBy:[],options:{colors:["#a48965","#ae845c","#ae9751","#7c7f83","#a6a9aa"]},fileSheet:!1,selectedFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}]}},computed:{columns(){let t=[];return this.repositoryFields.forEach(e=>{"Department"!==e.name&&"Document Type"!==e.name||t.push({id:this.$nano.id(),name:e.name,label:e.name,dataType:e.dataType})}),t}},watch:{workflowId:{deep:!0,immediate:!0,handler(){let t=location.origin;"https://demo.ezofis.com"===t||"http://52.172.32.88"===t||"http://localhost:8080"===t?2077!==this.workflowId&&2092!==this.workflowId||(this.getWorkflowCount(),this.getWorkflowChartCount(this.workflowId),this.getrepositoryFieldwiseTicketCount(),this.getDocumentWiseTicketCount()):"https://edmsuat.sobhaapps.com"!==t&&"http://localhost:8080"!==t||30!==this.workflowId&&55!==this.workflowId||(this.getWorkflowCount(),this.getWorkflowChartCount(this.workflowId),this.getrepositoryFieldwiseTicketCount(),this.getDocumentWiseTicketCount())}},repositoryFields:{deep:!0,immediate:!0,handler(){let t=location.origin;"https://demo.ezofis.com"===t||"http://52.172.32.88"===t?2077!==this.workflowId&&2092!==this.workflowId||!this.repositoryFields.length||this.getDocumentBasedTicketReport():"https://edmsuat.sobhaapps.com"!==t&&"http://localhost:8080"!==t||30!==this.workflowId&&55!==this.workflowId||!this.repositoryFields.length||this.getDocumentBasedTicketReport()}},repositoryId:{deep:!0,immediate:!0,handler(){this.repositoryId&&(this.$route.query.repositoryId=this.repositoryId)}},workflow:{deep:!0,immediate:!0,handler(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(c["t"]&&(2077===this.workflowId||2092===this.workflowId)){this.documentTypeColumns=[];let t=JSON.parse(this.workflow.flowJson);this.documentTypeColumns.push({id:this.$nano.id(),name:"ifileName",label:"Document Name",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Document Type",label:"Document Type",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"requestNo",label:"Document Number",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Department",label:"Department",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedAt",label:"Last Modified At",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedBy",label:"Last Modified By",type:"SHORT_TEXT"}),t.blocks.forEach(t=>{if("INTERNAL_ACTOR"===t.type){let e=this.documentTypeColumns.some(e=>t.settings.label===e.name);e||this.documentTypeColumns.push({id:this.$nano.id(),name:t.settings.label,label:t.settings.label,type:"ICON"})}})}}else if(("https://edmsuat.sobhaapps.com"===t||"http://localhost:8080"===t)&&c["t"]&&(30===this.workflowId||55===this.workflowId)){this.documentTypeColumns=[];let t=JSON.parse(this.workflow.flowJson);this.documentTypeColumns.push({id:this.$nano.id(),name:"ifileName",label:"Document Name",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Document Type",label:"Document Type",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"requestNo",label:"Document Number",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"Department",label:"Department",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedAt",label:"Last Modified At",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"documentLastModifiedBy",label:"Last Modified By",type:"SHORT_TEXT"}),t.blocks.forEach(t=>{if("INTERNAL_ACTOR"===t.type){let e=this.documentTypeColumns.some(e=>t.settings.label===e.name);e||this.documentTypeColumns.push({id:this.$nano.id(),name:t.settings.label,label:t.settings.label,type:"ICON"})}})}}},filterBy:{deep:!0,immediate:!0,handler(){this.filterBy.length&&console.log("filter",this.filterBy)}}},methods:{fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},searchRow(t){this.documentTypeTable=t?this.documentTypeTableData.filter(e=>{for(let i in e){let s=this.documentTypeColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.documentTypeTableData},lastActionDuration(t){const e=new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},filterDepartment(t){this.getDocumentWiseTicketCount(t),this.getDocumentBasedTicketReport(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.ifileName){let e=this.selectedFile.ifileName.split(".").pop(),i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.repositoryId}&itemId=${this.selectedFile.itemId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){this.selectedFile=t,this.fileSheet=!0},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.repositoryId}/${this.selectedFile.itemId}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(p["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.itemId)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.itemId}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.repositoryId}/${this.selectedFile.itemId}/2`;window.open(t,"_blank")}},async getWorkflowCount(){this.$store.commit("showLoadingBar"),this.workflowCount=[];const{error:t,payload:e}=await c["o"].getWorkflowTicketCountByUserId(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(2===this.slaSettings||4===this.slaSettings?this.workflowCount.push({workflowStatus:"Total Requests",matchingKey:"totalRequests",todayCount:0,totalCount:0},{workflowStatus:"Completed Requests",matchingKey:"completedRequests",todayCount:0,totalCount:0},{workflowStatus:"Incomplete Requests",matchingKey:"incompleteRequests",todayCount:0,totalCount:0},{workflowStatus:"SLA Overdue",matchingKey:"slaOverdue",todayCount:0,totalCount:0},{workflowStatus:"SLA Processing",matchingKey:"slaProcessing",todayCount:0,totalCount:0},{workflowStatus:"SLA Achieved",matchingKey:"slaAchieved",todayCount:0,totalCount:0},{workflowStatus:"Forwarded",matchingKey:"forward",todayCount:0,totalCount:0}):this.workflowCount.push({workflowStatus:"Total Requests",matchingKey:"totalRequests",todayCount:0,totalCount:0},{workflowStatus:"Completed Requests",matchingKey:"completedRequests",todayCount:0,totalCount:0},{workflowStatus:"Incomplete Requests",matchingKey:"incompleteRequests",todayCount:0,totalCount:0},{workflowStatus:"Forwarded",matchingKey:"forward",todayCount:0,totalCount:0}),this.workflowCount.forEach(t=>{const i=Object.keys(e).find(e=>e===t.matchingKey);i&&(t.totalCount=e[i])}))},async getWorkflowChartCount(t,e="",i=""){this.$store.commit("showLoadingBar"),this.chartData.series=[];const s=i.replace(/\D/g,"");let a={year:(new Date).getFullYear(),month:e,weekno:s};const{error:o,payload:r}=await c["o"].getWorkflowChartByUserId(t,a);if(this.$store.commit("hideLoadingBar"),o)this.$alert.error(o);else if(r&&r.completed&&r.initiated){let t=[];t.push({name:"Running",data:Object.values(r.initiated).map(Number)}),t.push({name:"Completed",data:Object.values(r.completed).map(Number)}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;e.removeSeries(),e.addSeries(this.chartData.series[0]),e.addSeries(this.chartData.series[1])}},async getrepositoryFieldwiseTicketCount(){this.$store.commit("showLoadingBar");let t={groupName:"Department",fieldName:"Document Type"};const{error:e,payload:i}=await c["o"].getRepositoryFieldwiseTicketCount(this.workflowId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(i&&(this.departmentColumns=[],i.forEach(t=>{Object.keys(t).forEach(t=>{const e=this.departmentColumns.some(e=>e.name===t);e||this.departmentColumns.push({id:this.$nano.id(),name:t,label:t.toUpperCase()})})})),this.departmentTable=i)},async getDocumentBasedTicketReport(t=""){this.documentTypeTable=[],this.documentTypeTableData=[],this.$store.commit("showLoadingBar");let e={};e=t?{repositoryFields:[],stageName:[],filterBy:[{filters:[{criteria:"Department",condition:"IS_EQUALS_TO",value:t,dataType:"SHORT_TEXT"}],groupCondition:""}]}:{repositoryFields:[],stageName:[],filterBy:[]},this.repositoryFields.forEach(t=>{"Department"!==t.name&&"Document Type"!==t.name||e.repositoryFields.push(t.name)});let i=JSON.parse(this.workflow.flowJson);i.blocks.forEach(t=>{if("INTERNAL_ACTOR"===t.type){let i=e.stageName.some(e=>t.settings.label===e);i||e.stageName.push(t.settings.label)}});const{error:s,payload:a}=await c["o"].getDocumentBasedTicketReport(this.workflowId,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a&&a.data[0].value.length){let t=this.documentTypeColumns.find(t=>"Due Since"===t.label);t||this.documentTypeColumns.push({id:this.$nano.id(),name:"ticketCreatedAt",label:"Due Since",type:"TIME"}),this.documentTypeTable=a.data[0].value,this.documentTypeTableData=a.data[0].value}},async getDocumentWiseTicketCount(t=""){this.pieChartData=[],this.$store.commit("showLoadingBar");let e={department:t};const{error:i,payload:s}=await c["o"].getDocumentWiseTicketCount(this.workflowId,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s){let t=s.overAll,e=s.document;t.forEach(t=>{delete t["Document Type"],this.pieChartData.push({key:this.$nano.id(),name:"Overall",xAxis:Object.keys(t),yAxis:Object.values(t)})}),e.forEach(t=>{let e=t["Document Type"];delete t["Document Type"];let i=Object.keys(t),s=Object.values(t);this.pieChartData.push({key:this.$nano.id(),name:e,xAxis:i,yAxis:s})})}}}},U=G,Z=(i("d20d"),i("2c91")),K=i("4e73"),J=i("93dc"),Q=i.n(J),tt=Object(z["a"])(U,H,W,!1,null,"15d2f303",null),et=tt.exports;Q()(tt,"components",{QSpace:Z["a"],QMenu:K["a"]});var it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goto-reports q-mt-sm"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 265px)"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-mb-sm"},[e("div",{staticClass:"q-mr-xs card"},[e("BarChart",{staticClass:"q-mr-xs",attrs:{title:t.fieldLabel,"is-stacked":"","x-data":t.barChartxData,"y-data":t.barChartyData,options:t.barChartOptions},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[e("div",{staticClass:"text-bold",staticStyle:{color:"#a48965"}},[t._v(" "+t._s(t.selectedTitle)+" ")])])]},proxy:!0}])})],1)]),e("div",{staticClass:"col-6 q-mb-sm"},[e("div",{staticClass:"q-ml-xs card q-pa-sm"},[e("div",{staticClass:"q-mb-sm text-bold"},[t._v("Last Excel Import Report")]),e("table",{staticClass:"tbl-import-status"},[e("tbody",[e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Import Date")]),e("td",[t._v(t._s(t.masterFileProcessTable.importDate||"-"))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Total Imported Rows")]),e("td",[t._v(t._s(t.masterFileProcessTable.totalRows||"-"))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v(" Newly Discovered Resource IDs ")]),e("td",[t._v(t._s(t.masterFileProcessTable.inserted||"-"))])]),e("tr",[e("td",{staticClass:"text-bold text-secondary"},[t._v("Resource IDs Updated")]),e("td",[t._v(t._s(t.masterFileProcessTable.updated||"-"))])])])])])]),e("div",{staticClass:"col-12 q-mb-sm"},[e("div",{staticClass:"row q-col-gutter-sm"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"card chartBox row"},[e("div",{staticClass:"col-12 text-bold"},[t._v(" "+t._s(t.fieldLabel)+" "),e("span",{staticStyle:{color:"#a48965"}},[t._v(t._s(t.selectedTitle))])]),e("div",{staticClass:"col-6"},[e("q-chip",{staticClass:"chips red-hover",attrs:{outline:"",color:"red"}},[t._v(" Terminate ")])],1),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center"},[t._v(" Spend: $ "+t._s(t.terminate.spend)+" ")])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.terminate.recommendation)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Potential Savings")])])]),e("BaseSeparator",{attrs:{"is-vertical":"","has-left-inset":""}}),e("div",{staticClass:"col-4"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.terminate.savings)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Actual Savings")])])])],1)]),e("div",{staticClass:"col-3"},[e("div",{staticClass:"card chartBox row"},[e("div",{staticClass:"col-12 text-bold"},[t._v(" "+t._s(t.fieldLabel)+" "),e("span",{staticStyle:{color:"#a48965"}},[t._v(t._s(t.selectedTitle))])]),e("div",{staticClass:"col-6"},[e("q-chip",{staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[t._v(" Ignore ")])],1),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center"},[t._v(" Spend: $ "+t._s(t.ignore.spend)+" ")])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.ignore.recommendation)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Potential Savings")])])]),e("BaseSeparator",{attrs:{"is-vertical":"","has-left-inset":""}}),e("div",{staticClass:"col-4"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.ignore.savings)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Actual Savings")])])])],1)]),e("div",{staticClass:"col-3"},[e("div",{staticClass:"card chartBox row"},[e("div",{staticClass:"col-12 text-bold"},[t._v(" "+t._s(t.fieldLabel)+" "),e("span",{staticStyle:{color:"#a48965"}},[t._v(t._s(t.selectedTitle))])]),e("div",{staticClass:"col-6"},[e("q-chip",{staticClass:"chips green-hover",attrs:{outline:"",color:"green"}},[t._v(" Rightsize ")])],1),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center"},[t._v(" Spend: $ "+t._s(t.rightSize.spend)+" ")])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.rightSize.recommendation)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Potential Savings")])])]),e("BaseSeparator",{attrs:{"is-vertical":"","has-left-inset":""}}),e("div",{staticClass:"col-4"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.rightSize.savings)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Actual Savings")])])])],1)]),e("div",{staticClass:"col-3"},[e("div",{staticClass:"card chartBox row"},[e("div",{staticClass:"col-12 text-bold"},[t._v(" "+t._s(t.fieldLabel)+" "),e("span",{staticStyle:{color:"#a48965"}},[t._v(t._s(t.selectedTitle))])]),e("div",{staticClass:"col-6"},[e("q-chip",{staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[t._v(" Exception ")])],1),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center"},[t._v(" Spend: $ "+t._s(t.exception.spend)+" ")])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.exception.recommendation)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Potential Savings")])])]),e("BaseSeparator",{attrs:{"is-vertical":"","has-left-inset":""}}),e("div",{staticClass:"col-4"},[e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-sm count"},[t._v(" $ "+t._s(t.exception.savings)+" ")]),e("div",{staticClass:"col self-center"},[t._v("Actual Savings")])])])],1)])])]),t.tblCostSavings?[e("div",{staticClass:"col-12",attrs:{id:"spending"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"text-bold"},[t._v("Cost Savings")]),e("q-space"),t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:t.export_Data}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Refresh",expression:"'Refresh'",modifiers:{top:!0}}],attrs:{icon:"eva-refresh",color:"gray","no-border":"","is-flat":"",size:"20px"},on:{click:t.getTotalSpendAndSavings}})],1),e("BaseScrollbar",{attrs:{height:"340px"}},[e("table",{attrs:{id:"spendingTable"}},[e("thead",[e("tr",t._l(t.tblCostSavingsColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.tblCostSavings,(function(i,s){return[e("tr",{key:i.id,style:{backgroundColor:0===s?"#dcf7e3":"inherit"}},t._l(t.tblCostSavingsColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["title"===s.name&&"total"!==i[s.name]?[e("div",{staticClass:"title",on:{click:function(e){return t.getData(i)}}},[t._v(" "+t._s(i[s.name])+" ")])]:[t._v(" "+t._s(i[s.name])+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])],1)]:t._e(),e("div",{staticClass:"col-12 q-mt-sm"},[e("div",{staticClass:"card treemap-chart"},[e("TreeMapChart",{attrs:{title:"Region Chart","xy-data":t.treeMapChartxyData,options:t.options},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row"},[t._e()],1)]},proxy:!0}])})],1)])],2)])],1)},st=[],at=i("dd6d"),ot={name:"GotoReportChart",components:{BarChart:S["a"],TreeMapChart:at["a"],SelectField:F["a"]},props:{workflowId:{type:Number,default:0},formFields:{type:Array,default:()=>[]},refresh:{type:Boolean,default:!1}},data(){return{barChartxData:["Spend","Potential Savings","Actual Savings"],barChartyData:[],treeMapChartxyData:[{name:"Population",data:[]}],tblCostSavingsColumns:[{id:this.$nano.id(),name:"title",label:"Title"},{id:this.$nano.id(),name:"counts",label:"Count"},{id:this.$nano.id(),name:"Spend",label:"Total Spend"},{id:this.$nano.id(),name:"Savings",label:"Potential Savings"},{id:this.$nano.id(),name:"savingsPotential",label:"Actual Savings"}],tblCostSavings:[],options:{chart:{height:"570px"},tooltip:{custom:function({dataPointIndex:t,w:e}){let i="<div class=\"arrow_box\"><div class='title'>"+e.config.series[0].data[t].x+"</div><table><tbody><tr><td>Total Spend</td><td>"+e.config.series[0].data[t].spend+"</td></tr><tr><td>Potential Savings</td><td>"+e.config.series[0].data[t].potentialSavings+"</td></tr><tr><td>Actual Savings</td><td>"+e.config.series[0].data[t].actualSavings+"</td></tr></tbody></table></div>";return i}},dataLabels:{enabled:!0,formatter:function(t,e){return[t,e.value]}}},barChartOptions:{chart:{height:"85%"},yaxis:{labels:{formatter:t=>"$"+t/1e3+"K"}}},fieldLabel:"",fieldValue:"",region:"",terminate:{title:"Terminate",spend:0,recommendation:0,savings:0},ignore:{title:"Ignore",spend:0,recommendation:0,savings:0},rightSize:{title:"Rightsize",spend:0,recommendation:0,savings:0},exception:{title:"Exception",spend:0,recommendation:0,savings:0},selectedTitle:"",masterFileProcessTable:{}}},computed:{},watch:{workflowId:{deep:!0,immediate:!0,handler(){this.pageInit()}},formFields:{deep:!0,immediate:!0,handler(){var t;this.formFields.length&&(this.fieldValue=null===(t=this.formFields.find(t=>"Account Name"===t.label))||void 0===t?void 0:t.value,this.getTotalSpendAndSavings(),this.getCloudabilityByTitle())}},fieldValue:{deep:!0,immediate:!0,handler(){if(this.fieldValue){let t=this.formFields.find(t=>t.value===this.fieldValue);t&&(this.fieldLabel=t.label),this.selectedTitle=""}}},refresh:{deep:!0,immediate:!0,handler(){this.refresh&&(this.$emit("refresh",!1),this.pageInit(),this.getTotalSpendAndSavings(),this.getCloudabilityByTitle())}}},methods:{pageInit(){this.getOverallAndRecommendation(),this.getMasterFileProcess()},export_Data(){this.tblCostSavings.length&&Object(m["a"])(this.tblCostSavings)},getData(t){this.selectedTitle=t.title,this.barChartyData[0].data=[t.totalSpend,t.totalSavingsRecommendation,t.savingsPotential],this.terminate={title:"Terminate",spend:0,recommendation:0,savings:0},this.rightSize={title:"Rightsize",spend:0,recommendation:0,savings:0},this.ignore={title:"Ignore",spend:0,recommendation:0,savings:0},this.exception={title:"Exception",spend:0,recommendation:0,savings:0},this.getSelectedOverallAndRecommendation()},async getOverallAndRecommendation(){this.barChartyData=[],this.$store.commit("showLoadingBar");let t={title:"",value:""};const{error:e,payload:i}=await c["o"].getOverallAndRecommendation(this.workflowId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i&&i.forEach(t=>{"total"==t.recommendation?this.barChartyData.push({name:["Total"],data:[t.totalSpend,t.totalSavingsRecommendation,t.totalSavingsPotential]}):"terminate"==t.recommendation.toLowerCase()?(this.terminate.spend=t.totalSpend,this.terminate.recommendation=t.totalSavingsRecommendation,this.terminate.savings=t.totalSavingsPotential):"ignore"==t.recommendation.toLowerCase()?(this.ignore.spend=t.totalSpend,this.ignore.recommendation=t.totalSavingsRecommendation,this.ignore.savings=t.totalSavingsPotential):"rightsize"==t.recommendation.toLowerCase()?(this.rightSize.spend=t.totalSpend,this.rightSize.recommendation=t.totalSavingsRecommendation,this.rightSize.savings=t.totalSavingsPotential):"exception"==t.recommendation.toLowerCase()&&(this.exception.spend=t.totalSpend,this.exception.recommendation=t.totalSavingsRecommendation,this.exception.savings=t.totalSavingsPotential)})},async getTotalSpendAndSavings(){var t,e;this.$store.commit("showLoadingBar"),this.tblCostSavings=[];let i="",s="";i=null===(t=this.formFields.find(t=>"Spend"===t.label))||void 0===t?void 0:t.value,s=null===(e=this.formFields.find(t=>"Savings"===t.label))||void 0===e?void 0:e.value;let a={title:this.fieldValue,columns:[i,s],sortBy:{criteria:i,order:"DESC"}};const{error:o,payload:r}=await c["o"].getTotalSpendAndSavings(this.workflowId,a);this.$store.commit("hideLoadingBar"),o?this.$alert.error(o):r&&(this.tblCostSavings=r)},async getCloudabilityByTitle(){var t,e,i;this.treeMapChartxyData[0].data=[],this.$store.commit("showLoadingBar");let s="",a="",o="";if(s=null===(t=this.formFields.find(t=>"Account Name"===t.label))||void 0===t?void 0:t.value,a=null===(e=this.formFields.find(t=>"Spend"===t.label))||void 0===e?void 0:e.value,o=null===(i=this.formFields.find(t=>"Savings"===t.label))||void 0===i?void 0:i.value,s){let t={title:s,columns:[a,o],sortBy:{criteria:a,order:"DESC"}};const{error:e,payload:i}=await c["o"].getTotalSpendAndSavings(this.workflowId,t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);i&&i.forEach(t=>{"total"!=t.title&&this.treeMapChartxyData[0].data.push({x:t.title,y:t.counts,spend:t.Spend,potentialSavings:t.Savings,actualSavings:t.savingsPotential})})}},async getSelectedOverallAndRecommendation(){this.$store.commit("showLoadingBar");let t={title:this.fieldValue,value:this.selectedTitle};const{error:e,payload:i}=await c["o"].getOverallAndRecommendation(this.workflowId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i&&i.forEach(t=>{"terminate"==t.recommendation.toLowerCase()?(this.terminate.spend=t.totalSpend,this.terminate.recommendation=t.totalSavingsRecommendation,this.terminate.savings=t.totalSavingsPotential):"ignore"==t.recommendation.toLowerCase()?(this.ignore.spend=t.totalSpend,this.ignore.recommendation=t.totalSavingsRecommendation,this.ignore.savings=t.totalSavingsPotential):"rightsize"==t.recommendation.toLowerCase()?(this.rightSize.spend=t.totalSpend,this.rightSize.recommendation=t.totalSavingsRecommendation,this.rightSize.savings=t.totalSavingsPotential):"exception"==t.recommendation.toLowerCase()&&(this.exception.spend=t.totalSpend,this.exception.recommendation=t.totalSavingsRecommendation,this.exception.savings=t.totalSavingsPotential)})},async getMasterFileProcess(){this.masterFileProcessTable={};const{error:t,payload:e}=await c["o"].getMasterFileProcess(this.workflowId);t?this.$alert.error(t):e&&(this.masterFileProcessTable=e)}}},rt=ot,nt=(i("75da"),i("d45a"),i("b047")),lt=Object(z["a"])(rt,it,st,!1,null,"9eb6d246",null),ct=lt.exports;Q()(lt,"components",{QChip:nt["a"],QSpace:Z["a"]});var ht={name:"ReportCharts",components:{OverallChart:$,BPMSChart:et,GotoChart:ct},props:{workflowId:{type:Number,default:0},workflowStage:{type:Array,default:()=>[]},formId:{type:String,default:""},formFields:{type:Array,default:()=>[]},slaSettings:{type:Number,default:0},repositoryId:{type:Number,default:0},repositoryFields:{type:Array,default:()=>[]},workflow:{type:Object,default:()=>{}},refresh:{type:Boolean,default:!1}},data(){return{}},computed:{customChart(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(2077===this.workflowId||2092===this.workflowId)return!0}else if("https://edmsuat.sobhaapps.com"===t&&(30===this.workflowId||55===this.workflowId))return!0;return!1},gotoChart(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(6===this.workflowId)return!0}else if("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)return!0;return!1}},methods:{refreshData(t){this.$emit("update:refresh",t)}}},dt=ht,ut=(i("9eb5"),Object(z["a"])(dt,y,b,!1,null,"3b39cd82",null)),pt=ut.exports,ft=i("b94d"),mt=i("8505"),gt=i("470f"),vt=i("b0ba"),xt=i("ec15"),yt=i("bb36"),bt=i("fd96"),wt=i("4484"),kt=i("3d35"),St=i("8a9e"),Ct={name:"WorkflowsReport",components:{Portal:o["Portal"],ItemActions:r["a"],SimpleFilter:n["a"],ReportList:l["a"],Pagination:h["a"],RenderForm:d["a"],Sheet:u["a"],StateWrapper:g["a"],FileIcon:v["a"],FileDetails:x["a"],ReportCharts:pt,ListItem:q["a"],Tabs:ft["a"],ProcessHistory:mt["a"],SubWorkflowProcess:gt["a"],FormEntryHistory:vt["a"],Attachments:xt["a"],Comments:yt["a"],SaveSheet:bt["a"],FilterListType:wt["a"],ConfirmDelete:kt["a"],Breadcrumbs:St["a"]},data(){return{mode:"REPORT",activeView:"TABLE",sortBy:{criteria:"",order:"ASC"},contentSearchText:"",groupBy:"",filterBy:[],selectedFilter:[],workflowId:0,workflowList:[],workflowRequestList:[],workflowRequestListData:[],workflow:{},list:[],status:[{id:this.$nano.id(),label:"Running",value:"0"},{id:this.$nano.id(),label:"Completed",value:"1"}],processLevel:[],userList:[],formId:"",form:null,formFields:[],formModel:{},itemModel:{},formSecureControls:[],workflowFormModel:{},saveAction:"",attachmentList:[],attachmentSheet:!1,commentsList:[],commentsSheet:!1,mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],mailTransactionSheet:!1,selectedProcess:{},selectedFile:{},fileSheet:!1,checkList:[],rowIndex:null,hideFileSheet:!1,processSheet:!1,totalItems:0,itemsPerPage:10,currentPage:1,title:"NO DATA",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Sub Process",value:"SUB_PROCESS",icon:"eva-link-2-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",taskSheet:!1,headerTitle:"",taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",fileDetailsSheet:!1,fileData:[],stages:[],slaSettings:0,repositoryId:0,repositoryFields:[],documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],addTaskEnabled:!1,loadingBarContent:!1,chartRefresh:!1,historyProcessId:0,selectedSubWorkflow:{},formView:!0,stageLevel:[],currentStep:0,hasWflowInitiator:!1,subWorkflowId:0,initiateSubWorkflowProcess:!1,subProcessSheet:!1,subProcessData:{},subTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],subProcessLink:"",openSubProcessSheet:!1,subProcessTickets:[],subProcessId:0,showFormEntryHistoryModal:!1,showAttachmentSheet:!1,wform:{},repositoryDetails:{},showCommentsSheet:!1,filterId:"",WfilterList:[],issavesheet:!1,showFilterList:!1,savedList:[],columnss:[],savedListData:[],isDeleteConfirmationVisible:!1,deleteData:{},success:!1,editData:[],breadcrumb:[]}},computed:{columns(){let t=[];return t.push({id:this.$nano.id(),name:"id",label:"Process Id",dataType:"SHORT_TEXT",isVisible:!1,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"requestNo",label:"Request No",type:"TITLE",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"flowStatus",label:"Status",dataType:"SINGLE_SELECT",options:this.status,isVisible:!1,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"duration",label:"Duration",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"daysOpen",label:"Days Open",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"stage",label:"Stage",dataType:"SINGLE_SELECT",options:this.processLevel,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"actionUser",label:"Action User",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1}),2===this.slaSettings?t.push({id:this.$nano.id(),name:"resolutionTime",label:"Resolution Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"resolutionStatus",label:"Resolution Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1}):3===this.slaSettings?t.push({id:this.$nano.id(),name:"responseTime",label:"Response Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"responseStatus",label:"Response Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1}):4===this.slaSettings&&t.push({id:this.$nano.id(),name:"responseTime",label:"Response Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"responseStatus",label:"Response Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"resolutionTime",label:"Resolution Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"resolutionStatus",label:"Resolution Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1}),t.push({id:this.$nano.id(),name:"raisedBy",label:"Raised By",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",dataType:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"lastActionBy",label:"Last Action By",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"lastActionOn",label:"Last Action On",dataType:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}),this.formFields.forEach(e=>{t.push({id:this.$nano.id(),name:this.getLabel(e.value),label:e.label?e.label:e.dataType,dataType:e.dataType,isVisible:!0,isSortable:!0,isGroupable:!1})}),t},_columns(){let t=[];return t.push({id:this.$nano.id(),name:"requestNo",label:"Request No",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"flowStatus",label:"Status",dataType:"SINGLE_SELECT",options:this.status,isVisible:!1,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"stage",label:"Stage",dataType:"SINGLE_SELECT",options:this.processLevel,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"actionUser",label:"Action User",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",dataType:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}),this.formFields.forEach(e=>{t.push({id:this.$nano.id(),name:e.value,label:e.label,dataType:e.dataType,isVisible:!0,isSortable:!0,isGroupable:!1})}),t},items(){return this.workflowRequestList.map(({key:t,value:e})=>({key:"",value:t,data:e.map(t=>({icon:1==t.flowStatus?"mdi-check-circle-outline":"mdi-progress-clock",color:1==t.flowStatus?"green":"orange",iconTooltip:1==t.flowStatus?"Completed":"In-progress",link:!0,id:t.processId,processId:t.processId,requestNo:t.requestNo,raisedBy:t.raisedBy,raisedAt:this.$day.format(t.raisedAt),stage:t.stage,lastActionBy:t.transaction_createdByEmail,lastActionOn:this.$day.format(t.transaction_createdAt),actionUser:t.activityUserEmail,duration:1==t.flowStatus?this.daysOpen(t):"",daysOpen:0==t.flowStatus?this.daysOpen(t):"",attachmentCount:t.attachmentCount,commentsCount:t.commentsCount,jiraIssueInfo:t.jiraIssueInfo,...this.getResponseData(t.slaResponse),...this.getResolutionData(t.slaResolution),...this.getFormData(t),subWorkflow:t.subworkflowTransaction.map(e=>({activityId:e.activityId,userId:e.activityUserId,color:1==e.flowStatus?"green":"orange",iconTooltip:1==e.flowStatus?"Completed":"In-progress",icon:1==e.flowStatus?"mdi-check-circle-outline":"mdi-progress-clock",processId:e.processId,raisedAt:this.$day.format(e.raisedAt),parentProcessID:t.processId,raisedBy:e.raisedBy,raisedByUser:e.raisedByUserId,requestNo:e.requestNo,review:e.review,stageName:e.stageName,id:e.subWorkFlowId,stageType:e.stageType,stage:e.stageName,subWorkFlowId:e.subWorkFlowId,subWorkflowName:e.subWorkflowName,transactionId:e.transactionId,inbox:String(e.activityUserId)===String(this.$store.state.session.id),attachmentsCount:e.attachmentCount,commentsCount:e.commentsCount,displaySubTable:!1,actionUser:e.activityUserEmail}))}))}))},panels(){return this.form?this.form.panels:[]},secondaryPanels(){return this.form?this.form.secondaryPanels:[]},formSettings(){return this.form?this.form.settings:{}},checkListTemplate(){return!!this.checkList.length&&this.checkList.filter(t=>t.template).length>0},_enableControls(){let t=[],e=[];return this.form?(this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}):{}},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)},savedItems(){return this.savedListData.map(({key:t,value:e})=>({key:"",value:t,data:e.map(t=>({icon:"mdi-text-box",id:t.id,itemId:t.itemId,link:!0,name:t.name,description:t.description,createdBy:t.createdByEmail,createdon:this.$day.format(t.createdAt)}))}))}},watch:{workflowId:{deep:!0,immediate:!0,async handler(){if(this.currentPage=1,this.workflowRequestList=[],this.workflowRequestListData=[],this.workflowId){let t=this.workflowList.find(t=>t.value===this.workflowId);this.initiatedBy=t.initiatedBy,this.formId="",this.formFields=[],this.repositoryId=0,this.repositoryFields=[],await this.getWorkflow(),"FORM"===this.initiatedBy||"DOCUMENT_FORM"===this.initiatedBy?(t.formId&&(this.formId=String(t.formId),await this.getForm()),t.repositoryId&&(this.repositoryId=t.repositoryId,this.getRepository())):"DOCUMENT"===this.initiatedBy&&(this.repositoryId=t.repositoryId,this.getRepository()),"TABLE"===this.activeView&&this.getWorkflowData()}}},itemsPerPage:{deep:!0,immediate:!0,handler(){this.workflowId&&this.itemsPerPage?this.getWorkflowData():this.savedListData&&this.itemsPerPage&&this.getFilterData()}},currentPage:{deep:!0,immediate:!0,handler(){this.workflowId&&this.currentPage?this.getWorkflowData():this.savedListData&&this.currentPage&&this.getFilterData()}},taskEntries:{immediate:!0,handler(){this.tabs.find(t=>{"TASK"===t.value&&(t.count=this.taskEntries.length)})}},activeView:{deep:!0,immediate:!0,handler(){this.workflowId&&"TABLE"===this.activeView?this.getWorkflowData():(this.filterBy=[],this.workflowRequestList=[],this.workflowRequestListData=[])}},filterId:{deep:!0,immediate:!0,async handler(){""===this.filterId?(this.repositorySignReportList=[],this.workspaceId=0,this.repositoryId=0,this.filterBy=[]):"-1"===this.filterId?(this.breadcrumb=[],this.breadcrumb.push({id:0,label:"Save Search",entity:"this.selectedEntity",type:"REPOSITORY ACTIVITY"}),this.repositoryOcrReportList=[],this.showFilterList=!0,this.getFilterData()):this.filterId?(this.columnss=[],this.showFilterList=!1,this.filterList(),this.selectedIds=this.filterId):this.filterId||(this.showFilterList=!1,this.repositoryReportList=[])}},success:{deep:!0,immediate:!0,async handler(){this.success&&(await this.getFilterList(),"-1"===this.filterId&&this.getFilterData())}}},created(){this.getWorkflows(),this.getUsers(),this.getTaskForm(),this.getFilterList()},methods:{isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t},checkTabAccess(t){return"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},refreshData(){this.workflowId?"TABLE"===this.activeView?this.getWorkflowData():this.chartRefresh=!0:this.getWorkflows()},searchRow(t){this.workflowRequestList=t?this.workflowRequestListData.map(({key:e,value:i})=>({key:e,value:i.filter(e=>{for(let i in e){let s=this.columns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}})})):this.workflowRequestListData},getFormData(t){const e={};if(t.formData)for(let i of Object.keys(t.formData.fields)){const s=this.getLabel(i);e[s]=this.removeTags(t.formData.fields[i])}return e},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},validateType(t){let e="";return this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(f["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();return this.selectedFile.initiate?Object(p["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`:Object(p["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(p["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:Object(p["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2`}},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},download(t){window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t}`)},downloadAll(){this.checkList.forEach(t=>{t.id&&t.template&&window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t.id}`)})},attachTemplate(t){this.rowIndex=t,this.$refs.attachments.click()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},daysOpen(t){let e;e="END"===t.stageType?new Date(t.transaction_createdAt).getTime()-new Date(t.raisedAt).getTime():(new Date).getTime()-new Date(t.raisedAt).getTime();let i=Math.floor(e/864e5),s=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4);return i?1===i?i+" day":i+" days":s?1===s?s+" hour":s+" hours":a?1===a?a+" min":a+" mins":""},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},getJIRALink(t){let e=new URL(t.self),i=e.origin.replace("https://jira-external-tools-integration.getgotools.net","https://jira.ops.expertcity.com");return`${i}/browse/${t.key}`},getResponseData(t,e){let i,s={responseTime:"",responseStatus:""};if(t){s.responseStatus=t.status||0,0==s.responseStatus?i=new Date(t.assignedAt).getTime()-(new Date).getTime():1==s.responseStatus?i=new Date(t.assignedAt).getTime()-new Date(t.responsedAt).getTime():2==s.responseStatus&&(i=t.responsedAt?new Date(t.responsedAt).getTime()-new Date(t.assignedAt).getTime():(new Date).getTime()-new Date(t.assignedAt).getTime());let e=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),o=Math.floor(i%36e5/6e4);e?(1===e&&(s.responseTime=e+" day"),s.responseTime=e+" days"):a?(1===a&&(s.responseTime=a+" hour"),s.responseTime=a+" hours"):o&&(1===o&&(s.responseTime=o+" min"),s.responseTime=o+" mins")}return e?t?{"Response Time":s.responseTime,"Response Status":0==s.responseStatus?"In-Progress":1==s.responseStatus?"WithIn SLA":"Overdue"}:{}:s},getResolutionData(t,e){let i,s={resolutionTime:"",resolutionStatus:""};if(t){s.resolutionStatus=t.status||0,0==s.resolutionStatus?i=new Date(t.assignedAt).getTime()-(new Date).getTime():1==s.resolutionStatus?i=new Date(t.assignedAt).getTime()-new Date(t.responsedAt).getTime():2==s.resolutionStatus&&(i=t.responsedAt?new Date(t.responsedAt).getTime()-new Date(t.assignedAt).getTime():(new Date).getTime()-new Date(t.assignedAt).getTime());let e=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),o=Math.floor(i%36e5/6e4);e?(1===e&&(s.resolutionTime=e+" day"),s.resolutionTime=e+" days"):a?(1===a&&(s.resolutionTime=a+" hour"),s.resolutionTime=a+" hours"):o&&(1===o&&(s.resolutionTime=o+" min"),s.resolutionTime=o+" mins")}return e?t?{"Resolution Time":s.resolutionTime,"Resolution Status":0==s.resolutionStatus?"In-Progress":1==s.resolutionStatus?"WithIn SLA":"Overdue"}:{}:s},checkDocument(){this.docWarning=!1,this.trackRequest||this.checkList.length&&this.checkList.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})},async export_Data(){const{error:t,payload:e}=await c["o"].getWorkflowData(this.workflowId,{filterBy:this.filterBy,itemsPerPage:0,currentPage:0,mode:""});if(t)return void this.$alert.error(t);const{meta:i,data:s}=e;if(i.totalItems&&s.length){let t=[];s[0].value.forEach(e=>{t.push({"Request No":e.requestNo,...this.getJiraIssueInfo(e),Status:1==e.flowStatus?"Completed":"In-progress",Duration:1==e.flowStatus?this.daysOpen(e):"","Days Open":0==e.flowStatus?this.daysOpen(e):"",Stage:e.stage,"Action User":e.activityUserEmail,...this.getResponseData(e.slaResponse,!0),...this.getResolutionData(e.slaResolution,!0),"Raised By":e.raisedBy,"Raised On":this.$day.format(e.raisedAt),"Last Action By":e.transaction_createdByEmail,"Last Action On":this.$day.format(e.transaction_createdAt),"Attachments Count":e.attachmentCount,"Comments Count":e.commentsCount,...this.getFormData(e)})});let e=this.workflowList.find(t=>t.value===this.workflowId);Object(m["a"])(t,e.label+"-Report")}},closeTaskSheet(){this.taskSheet=!1},openHistory(t){this.selectedProcess=t,this.showLinks("HISTORY")},openAttachments(t){this.selectedProcess=t,this.showLinks("ATTACHMENTS")},openComments(t){this.selectedProcess=t,this.showLinks("COMMENTS")},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},updateSelectedSubWorkflow(t){this.subProcessData=t,this.selectedSubWorkflow=t,this.subWorkflowId=t.id,this.openSubProcessSheet=!0},showSubHistory(t){this.selectedProcess=t,this.showLinks("HISTORY")},async getWorkflows(){this.workflowList=[];let t=[{filters:[{id:this.$nano.id(),criteria:"flowStatus",condition:"IS_EQUALS_TO",value:"PUBLISHED"}],groupCondition:""}];this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["t"].getWorkflows({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:this.groupBy,filterBy:t});this.$store.commit("hideLoadingBarPage"),e?this.$alert.error(e):(i&&i.data.length&&i.data[0].value.forEach(t=>{this.workflowList.push({id:this.$nano.id(),label:t.name,value:t.id,initiatedBy:t.initiatedBy,formId:t.wFormId,repositoryId:t.repositoryId,flowJson:JSON.parse(t.flowJson)})}),1===this.workflowList.length&&(this.workflowId=this.workflowList[0].value))},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await c["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getUsers(){this.userList=[];const{error:t,payload:e}=await c["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.userList.push({id:this.$nano.id(),label:t.value,value:String(t.id)})})},async getWorkflow(){this.processLevel=[],this.stages=[],this.checkList=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await c["t"].getWorkflow(this.workflowId);if(this.$store.commit("hideLoadingBarPage"),t)return void this.$alert.error(t);this.workflow=e;let i=JSON.parse(this.workflow.flowJson);this.slaSettings=i.hasSLASettings,i.blocks.forEach(t=>{if("START"===t.type||"INTERNAL_ACTOR"===t.type||"END"===t.type){let e=[];e.push({id:t.id,label:t.settings.label,type:t.type});let i="",s="";"START"===t.type?(i="mdi-flag-outline",s="green"):"INTERNAL_ACTOR"===t.type?t.settings.users.length&&t.settings.groups.length?(i="mdi-account-group-outline",s="secondary"):t.settings.users.length?(i="mdi-account-outline",s="primary"):(t.settings.groups.length,i="mdi-account-group-outline",s="secondary"):"END"===t.type&&(i="mdi-stop-circle-outline",s="red"),e.forEach(t=>{this.processLevel.push({id:this.$nano.id(),key:t.id,label:t.label,value:t.label.toLowerCase()}),this.stages.push({id:this.$nano.id(),key:t.id,label:t.label,icon:i,color:s,type:t.type})})}});let s=i.blocks.find(t=>"START"===t.type);s&&s.settings.fileSettings&&s.settings.fileSettings.fileCheckList.length&&(this.checkList=s.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.checkDocument())},async getForm(){this.formFields=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await c["g"].getForm(this.formId);if(this.$store.commit("hideLoadingBarPage"),t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.form=i,this.wform=e,this.formId=String(this.formId);const s=[...i.panels,...i.secondaryPanels];if("CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),!s.length)return;let a=[];for(const o of s)a.push(...o.fields);a.forEach(t=>{"DIVIDER"===t.type||"LABEL"===t.type||"PARAGRAPH"===t.type||!t.label&&"TABLE"!==t.type||"DISABLE"===t.settings.general.visibility||this.formFields.push({id:this.$nano.id(),label:t.label?t.label:t.type,value:t.id,dataType:t.type})})},async getRepository(){this.repositoryFields=[];const{error:t,payload:e}=await c["p"].getRepository(this.repositoryId);if(t)return void this.$alert.error(t);let i=e;this.repositoryFields=i.fields,this.repositoryDetails=i},async getWorkflowData(){var t;this.loadingBarContent=!0,this.workflowRequestList=[],this.workflowRequestListData=[],this.list=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"!==t.dataType&&"SINGLE_CHOICE"!==t.dataType||(t.value=JSON.stringify([t.arrayValue]))})});const{error:e,payload:i}=await c["o"].getWorkflowData(this.workflowId,{filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,mode:""});this.loadingBarContent=!1,e?this.$alert.error(e):(i.data.forEach(t=>{t.value.forEach(t=>{this.list.push({...t})})}),this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0,0===this.totalItems?(this.workflowRequestList=[],this.workflowRequestListData=[]):(this.workflowRequestList=i.data,this.workflowRequestListData=i.data))},async openProcess(t){if(this.selectedProcess=t,this.formModel={},this.itemModel={},this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData);this.headerTitle=`${this.selectedProcess.requestNo} - ${t.stage}`,this.processSheet=!0,this.getTaskList(),this.getComments(),this.getAttachments(),this.getMailTransactions(),this.getSubWorkflow()},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`},async showLinks(t){"ATTACHMENTS"===t?(await this.getAttachments(),this.showAttachmentSheet=!0):"COMMENTS"===t?(await this.getComments(),this.showCommentsSheet=!0):"HISTORY"===t?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$alert.info("Task not found"):"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"SUB_PROCESS"===t?this.subProcessSheet=!0:"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await c["t"].getProcessComments(this.selectedProcess.id,this.selectedProcess.processId);this.$store.commit("hideLoadingBarPage"),t?this.$alert.error(t):(this.commentsList=[],e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})))},async getAttachments(){if(this.checkList=[],this.attachmentList=[],this.selectedProcess.processId){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);e&&e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.checkDocument()),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)}),this.$store.commit("showLoadingBarPage");const{error:i,payload:s}=await c["t"].getAttachments(this.workflowId,this.selectedProcess.processId);if(this.$store.commit("hideLoadingBarPage"),i)return void this.$alert.error(i);this.attachmentList=[],s.length&&(this.attachmentList=s.map(t=>({...t,checked:!1})),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})),this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i)return e});e.length?t.attach=!0:t.attach=!1})}},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await c["t"].getTaskEntries(this.workflowId,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBarPage"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async getData(t,e){var i;const s=[{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"raisedAt",condition:"IS_EQUALS_TO",value:t,valueTo:e}],groupCondition:""}];this.$store.commit("showLoadingBarPage"),this.workflowRequestList=[],this.workflowRequestListData=[],this.list=[];const{error:a,payload:o}=await c["o"].getWorkflowData(this.workflowId,{filterBy:s,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,mode:""});this.$store.commit("hideLoadingBarPage"),a?this.$alert.error(a):(o.data.forEach(t=>{t.value.forEach(t=>{this.list.push({...t})})}),this.totalItems=(null===(i=o.meta)||void 0===i?void 0:i.totalItems)||0,0===this.totalItems?(this.workflowRequestList=[],this.workflowRequestListData=[]):(this.workflowRequestList=o.data,this.workflowRequestListData=o.data))},async getFileData(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});this.$store.commit("hideLoadingBarPage"),e?this.$alert.error(e):i&&(this.fileData=i,this.fileDetailsSheet=!0)},processDocumentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.itemModel.name){let t=this.itemModel.name.split(".").pop();Object(p["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.itemModel.itemId)):this.$refs.myProcessFiles.contentWindow.print()}this.processFilePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.itemModel.repositoryId}/${this.itemModel.itemId}/2`,window.open(t,"_blank")}},async processFilePrintSession(){this.$store.commit("showLoadingBarPage");const{error:t}=await c["k"].filePrintSession({repositoryId:this.itemModel.repositoryId,itemId:this.itemModel.itemId,activityId:4});this.$store.commit("hideLoadingBarPage"),t&&this.$alert.error(t)},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(p["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await c["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await c["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},async resendMail(t){if(t){const{error:e}=await c["t"].resendMail(t);if(e)return void this.$alert.error(e);this.$alert.success("Resend Successful!"),this.getMailTransactions()}else this.$alert.info("Unable to resend")},async openSubAttachments(t){console.log(this.workflowRequestList[0].value,"this.workflowRequestList[0].value");const e=this.workflowRequestList[0].value.find(e=>e.processId===t.parentProcessID);let i;e&&(i=e.subworkflowTransaction.find(e=>e.processId===t.processId),i&&(i.id=i.subWorkFlowId,this.selectedProcess=i,this.$emit("update:selectedProcess",i),await this.getAttachments(i.subWorkFlowId,i.processId),this.showLinks("ATTACHMENTS")))},async openSubComments(t){const e=this.workflowRequestList[0].value.find(e=>e.processId===t.parentProcessID);let i;e&&(i=e.subworkflowTransaction.find(e=>e.processId===t.processId),i&&(i.id=i.subWorkFlowId,this.selectedProcess=i,await this.getComments(i.subWorkFlowId,i.processId),this.showLinks("COMMENTS")))},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await c["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},async getSubWorkflow(){this.tabs.find(t=>{"SUB_PROCESS"===t.value&&(t.count=0)});const{error:t,payload:e}=await c["t"].getSubWorkflow(this.workflowId,this.selectedProcess.processId);t?this.$alert.error(t):(console.log(e,"payload"),e.length&&this.getSubProcessDetails(e[0].subWorkflowId,e))},async getSubProcessDetails(t,e){this.subProcessTickets=[];const{error:i,payload:s}=await c["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:0,currentPage:0,mode:""});if(i)this.$alert.error(i);else if(s.meta.totalItems){let t=[];e.forEach(e=>{let i=s.data[0].value.find(t=>t.processId===Number(e.subProcessId));i&&t.push(i)}),t.length&&(this.subProcessTickets=t),this.tabs.find(e=>{"SUB_PROCESS"===e.value&&(e.count=t.length)})}},subProcessShowLinks(t,e){this.subProcessLink="",this.subProcessData=e,this.subProcessLink=t},openSubProcess(t){this.subProcessData=t,this.openSubProcessSheet=!0},closeSubProcess(){this.openSubProcessSheet=!1,this.subProcessData={},this.initiateSubWorkflowProcess=!1},closeSubProcessSheet(){this.subProcessSheet=!1},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})},async getFilterData(){var t;this.loadingBarContent=!0,this.savedList=[],this.savedListData=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"===t.dataType&&(t.value=t.arrayValue)})});let e=this.$store.state.session.id.toString();const{error:i,payload:s}=await c["e"].getDashboardData({sortBy:this.sortBy,groupBy:"",filterBy:[{groupCondition:"",filters:[{criteria:"filterFrom",condition:"IS_EQUALS_TO",value:"workflowReport"},{criteria:"createdBy",condition:"IS_EQUALS_TO",value:e}]}],currentPage:this.currentPage,itemsPerPage:this.itemsPerPage});i?this.$alert.error(i):(this.columnss=[{id:this.$nano.id(),name:"id",label:"Id",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"itemId",label:"Item Id",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"name",label:"Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"description",label:"Description",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"createdon",label:"Created On",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:"DATE"},{id:this.$nano.id(),name:"createdBy",label:"Created By",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:"SHORT_TEXT"}],this.loadingBarContent=!1,this.totalItems=(null===(t=s.meta)||void 0===t?void 0:t.totalItems)||0,0===this.totalItems?(this.savedList=[],this.savedListData=[]):(this.savedList=s.data,this.savedListData=s.data,this.savedList.length&&(this.exportDataList=!0)),console.log(this.savedListData,"savedListData"))},async getFilterList(){this.success=!1,this.WfilterList=[];let t=this.$store.state.session.id.toString();const{error:e,payload:i}=await c["e"].getDashboardData({sortBy:this.sortBy,groupBy:"",filterBy:[{groupCondition:"",filters:[{criteria:"filterFrom",condition:"IS_EQUALS_TO",value:"workflowReport"},{criteria:"createdBy",condition:"IS_EQUALS_TO",value:t}]}],currentPage:this.currentPage,itemsPerPage:this.itemsPerPage});if(this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);let s=i.data[0].value;this.listedData=s;let a=s.map(t=>({id:this.$nano.id(),label:t.name,value:t.name}));const o=t=>{const e={};return Object.keys(t).forEach(i=>{"__ob__"!==i&&(e[i]=t[i])}),e},r=a.map(t=>o(t));this.WfilterList=[{id:this.$nano.id(),label:"Show All",value:"-1"},...r],console.log(this.WfilterList)},async filterList(){this.listedData.map(t=>{if(t.name===this.filterId){const e=JSON.parse(t.filterJson);let i=[];e[0].filters&&(i=JSON.parse(e[0].filters)),console.log(e,"parsedArray"),this.filterListData={id:t.itemId,name:t.name,rId:e[0].uId,filterFrom:t.filterFrom,filters:i}}}),this.filterFrom=this.filterListData.filterFrom,this.workflowId=this.filterListData.rId,this.itemId=0,this.filterBy=this.filterListData.filters,this.getWorkflowData()},deleteItem(t){this.savedListData[0].value.map(e=>{e.id===t&&(console.log(e,"itemd"),this.isDeleteConfirmationVisible=!0,this.deleteData={id:e.id,name:e.name,description:e.description,filterJson:e.filterJson,filterFrom:e.filterFrom,createdAt:e.createdAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,isDeleted:!0})})},async openFilter(t){this.showFilterList=!1,this.filterId="0",this.listedData.map(e=>{if(e.id===t){const t=JSON.parse(e.filterJson);let i=[];t[0].filters&&(i=JSON.parse(t[0].filters)),console.log(t,"parsedArray"),this.filterListData={id:e.itemId,name:e.name,rId:t[0].uId,filterFrom:e.filterFrom,filters:i}}}),this.filterFrom=this.filterListData.filterFrom,this.workflowId=this.filterListData.rId,this.itemId=0,this.filterBy=this.filterListData.filters,this.getWorkflowData()},edit(t){this.editData=[],this.savedListData[0].value.map(e=>{e.id===t&&(this.issavesheet=!0,this.editData=[{id:e.id,name:e.name,description:e.description,filterJson:e.filterJson,filterFrom:e.filterFrom,createdAt:e.createdAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,dashboard:e.pinDashboard,assignTo:e.assignTo}])})},saveSheet(){this.editData=[],this.issavesheet=!0},homeRepository(){this.filterId="0",this.getFilterList(),this.breadcrumb=[]}}},At=Ct,Tt=(i("d9ec"),i("8169")),It=Object(z["a"])(At,s,a,!1,null,"7ea4feb1",null);e["default"]=It.exports;Q()(It,"components",{QSpace:Z["a"],QMenu:K["a"],QChatMessage:Tt["a"],QChip:nt["a"]})},b94d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{color:t._color},attrs:{id:"tabs"}},[t._l(t.tabs,(function(i){return e("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,color:t.color,"is-full-width":t.isFullWidth,"is-active":i.value===t.value},on:{click:function(e){return t.handleClick(i)}}})})),e("div",{ref:"indicator",staticClass:"indicator"})],2)},a=[],o=i("8b55"),r={name:"Tabs",components:{Tab:o["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const t=this.tabs.findIndex(t=>t.value===this.value),e=this.$refs.tab[t],i=e.$el.offsetLeft;this.$refs.indicator.style.left=i+"px";const s=e.$el.clientWidth;this.$refs.indicator.style.width=s+"px"},handleClick(t){t.value!==this.value&&this.$emit("input",t.value)}}},n=r,l=(i("40f9"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,"48eb7e5e",null);e["a"]=c.exports},b957:function(t,e,i){},ba30:function(t,e,i){"use strict";var s;
/*!
 * ApexCharts v3.36.2
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function f(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=u(t);if(e){var a=u(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return f(this,i)}}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,a,o=[],r=!0,n=!1;try{for(i=i.call(t);!(r=(s=i.next()).done)&&(o.push(s.value),!e||o.length!==e);r=!0);}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return o}}(t,e)||x(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){if(t){if("string"==typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var b=function(){function t(){n(this,t)}return c(t,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),s=t<0?0:255,a=t<0?-1*t:t,o=parseInt(i[0].slice(4),10),r=parseInt(i[1],10),n=parseInt(i[2],10);return"rgb("+(Math.round((s-o)*a)+o)+","+(Math.round((s-r)*a)+r)+","+(Math.round((s-n)*a)+n)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),s=t<0?0:255,a=t<0?-1*t:t,o=i>>16,r=i>>8&255,n=255&i;return"#"+(16777216+65536*(Math.round((s-o)*a)+o)+256*(Math.round((s-r)*a)+r)+(Math.round((s-n)*a)+n)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(e[a]=s[a])}return e});var s=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(a){i.isObject(e[a])&&a in t?s[a]=i.extend(t[a],e[a]):Object.assign(s,h({},a,e[a]))})),s}},{key:"extendArray",value:function(e,i){var s=[];return e.map((function(e){s.push(t.extend(i,e))})),s}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var i=[],s=0;s<e.length;s++)i[s]=this.clone(e[s]);return i}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if("object"===r(e)){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=this.clone(e[o]));return a}return e}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",s=t<0?"-":"",a=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(i=s+"0.";o++;)i+="0";return i+a.replace(/^-/,"")}for(o-=a.length;o--;)i+="0";return a+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,s=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[s-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(1===i[s].length?i[s]+i[s]:i[s],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],s=2*Math.PI/e,a=0;a<e;a++){var o={};o.x=t*Math.sin(a*s),o.y=-t*Math.cos(a*s),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,s){var a=(s-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=t.toString().slice();return i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var s=i-t.length+1;s--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}}]),t}(),w=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return c(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,s){t.attr(e).animate(s).attr(i)}},{key:"animateMarker",value:function(t,e,i,s,a,o){e||(e=0),t.attr({r:e,width:e,height:e}).animate(s,a).attr({r:i,width:i.width,height:i.height}).afterAll((function(){o()}))}},{key:"animateCircle",value:function(t,e,i,s,a){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(s,a).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,s,a){t.attr(e).animate(s).attr(i).afterAll((function(){return a()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,s=t.j,a=t.fill,o=t.pathFrom,r=t.pathTo,n=t.speed,l=t.delay,c=this.w,h=0;c.config.chart.animations.animateGradually.enabled&&(h=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(h=0),this.morphSVG(e,i,s,"line"!==c.config.chart.type||c.globals.comboCharts?a:"stroke",o,r,n,l*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,s,a,o,r,n){var l=this,c=this.w;a||(a=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var h=function(t){return"radar"===c.config.chart.type&&(r=1),"M 0 ".concat(c.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=h()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=h()),c.globals.shouldAnimate||(r=1),t.plot(a).animate(1,c.globals.easing,n).plot(a).animate(r,c.globals.easing,n).plot(o).afterAll((function(){b.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==s&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),k=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:s});break;case"darken":this.addDarkenFilter(t,e,{intensity:s})}}},{key:"addShadow",value:function(t,e,i){var s=i.blur,a=i.top,o=i.left,r=i.color,n=i.opacity,l=t.flood(Array.isArray(r)?r[e]:r,n).composite(t.sourceAlpha,"in").offset(o,a).gaussianBlur(s).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e.top,a=e.left,o=e.blur,r=e.color,n=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),b.isIE()&&"radialBar"===c.config.chart.type||(r=Array.isArray(r)?r[i]:r,t.filter((function(t){var e=null;e=b.isSafari()||b.isFirefox()||b.isIE()?t.flood(r,n).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o):t.flood(r,n).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var s=this.w;if(void 0!==s.globals.selectedDataPoints[e]&&s.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var a=s.config.states.active.filter;"none"!==a&&this.applyFilter(t,e,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),S=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"roundPathCorners",value:function(t,e){function i(t,e,i){var a=e.x-t.x,o=e.y-t.y,r=Math.sqrt(a*a+o*o);return s(t,e,Math.min(1,i/r))}function s(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function a(t,e){t.length>2&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function o(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var r=t.split(/[,\s]/).reduce((function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t}),[]).reduce((function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t}),[]),n=[];if(r.length>1){var l=o(r[0]),c=null;"Z"==r[r.length-1][0]&&r[0].length>2&&(c=["L",l.x,l.y],r[r.length-1]=c),n.push(r[0]);for(var h=1;h<r.length;h++){var d=n[n.length-1],u=r[h],p=u==c?r[1]:r[h+1];if(p&&d&&d.length>2&&"L"==u[0]&&p.length>2&&"L"==p[0]){var f,m,g=o(d),v=o(u),x=o(p);f=i(v,g,e),m=i(v,x,e),a(u,f),u.origPoint=v,n.push(u);var y=s(f,v,.5),b=s(v,m,.5),w=["C",y.x,y.y,b.x,b.y,m.x,m.y];w.origPoint=v,n.push(w)}else n.push(u)}if(c){var k=o(n[n.length-1]);n.push(["Z"]),a(n[0],k)}}else n=r;return n.reduce((function(t,e){return t+e.join(" ")+" "}),"")}},{key:"drawLine",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:s,stroke:a,"stroke-dasharray":o,"stroke-width":r,"stroke-linecap":n});return c}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=this.w,d=h.globals.dom.Paper.rect();return d.attr({x:t,y:e,width:i>0?i:0,height:s>0?s:0,rx:a,ry:a,opacity:r,"stroke-width":null!==n?n:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",o),d}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",a=this.w,o=a.globals.dom.Paper.polygon(t).attr({fill:s,stroke:e,"stroke-width":i});return o}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;t<0&&(t=0);var s=i.globals.dom.Paper.circle(2*t);return null!==e&&s.attr(e),s}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,s=t.stroke,a=void 0===s?"#a8a8a8":s,o=t.strokeWidth,r=void 0===o?1:o,n=t.fill,l=t.fillOpacity,c=void 0===l?1:l,h=t.strokeOpacity,d=void 0===h?1:h,u=t.classes,p=t.strokeLinecap,f=void 0===p?null:p,m=t.strokeDashArray,g=void 0===m?0:m,v=this.w;return null===f&&(f=v.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(i).attr({fill:n,"fill-opacity":c,stroke:a,"stroke-opacity":d,"stroke-linecap":f,"stroke-width":r,"stroke-dasharray":g,class:u})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=e.globals.dom.Paper.group();return null!==t&&i.attr(t),i}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;return null===i?s=[" L",t,e].join(" "):"H"===i?s=[" H",t].join(" "):"V"===i&&(s=[" V",e].join(" ")),s}},{key:"curve",value:function(t,e,i,s,a,o){var r=["C",t,e,i,s,a,o].join(" ");return r}},{key:"quadraticCurve",value:function(t,e,i,s){return["Q",t,e,i,s].join(" ")}},{key:"arc",value:function(t,e,i,s,a,o,r){var n=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";n&&(l="a");var c=[l,t,e,i,s,a,o,r].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,s=t.realIndex,a=t.pathFrom,r=t.pathTo,n=t.stroke,l=t.strokeWidth,c=t.strokeLinecap,h=t.fill,d=t.animationDelay,u=t.initialSpeed,p=t.dataChangeSpeed,f=t.className,m=t.shouldClipToGrid,g=void 0===m||m,v=t.bindEventsOnPaths,x=void 0===v||v,y=t.drawShadow,b=void 0===y||y,S=this.w,C=new k(this.ctx),A=new w(this.ctx),T=this.w.config.chart.animations.enabled,I=T&&this.w.config.chart.animations.dynamicAnimation.enabled,M=!!(T&&!S.globals.resized||I&&S.globals.dataChanged&&S.globals.shouldAnimate);M?e=a:(e=r,S.globals.animationEnded=!0);var L=S.config.stroke.dashArray,P=0;P=Array.isArray(L)?L[s]:S.config.stroke.dashArray;var _=this.drawPath({d:e,stroke:n,strokeWidth:l,fill:h,fillOpacity:1,classes:f,strokeLinecap:c,strokeDashArray:P});if(_.attr("index",s),g&&_.attr({"clip-path":"url(#gridRectMask".concat(S.globals.cuid,")")}),"none"!==S.config.states.normal.filter.type)C.getDefaultFilter(_,s);else if(S.config.chart.dropShadow.enabled&&b&&(!S.config.chart.dropShadow.enabledOnSeries||S.config.chart.dropShadow.enabledOnSeries&&-1!==S.config.chart.dropShadow.enabledOnSeries.indexOf(s))){var O=S.config.chart.dropShadow;C.dropShadow(_,O,s)}x&&(_.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,_)),_.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,_)),_.node.addEventListener("mousedown",this.pathMouseDown.bind(this,_))),_.attr({pathTo:r,pathFrom:a});var D={el:_,j:i,realIndex:s,pathFrom:a,pathTo:r,fill:h,strokeWidth:l,delay:d};return!T||S.globals.resized||S.globals.dataChanged?!S.globals.resized&&S.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(o(o({},D),{},{speed:u})),S.globals.dataChanged&&I&&M&&A.animatePathsGradually(o(o({},D),{},{speed:p})),_}},{key:"drawPattern",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.w,r=o.globals.dom.Paper.pattern(e,i,(function(o){"horizontalLines"===t?o.line(0,0,i,0).stroke({color:s,width:a+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:s,width:a+1}):"slantedLines"===t?o.line(0,0,e,i).stroke({color:s,width:a}):"squares"===t?o.rect(e,i).fill("none").stroke({color:s,width:a}):"circles"===t&&o.circle(e).fill("none").stroke({color:s,width:a})}));return r}},{key:"drawGradient",value:function(t,e,i,s,a){var o,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=this.w;e.length<9&&0===e.indexOf("#")&&(e=b.hexToRgba(e,s)),i.length<9&&0===i.indexOf("#")&&(i=b.hexToRgba(i,a));var d=0,u=1,p=1,f=null;null!==n&&(d=void 0!==n[0]?n[0]/100:0,u=void 0!==n[1]?n[1]/100:1,p=void 0!==n[2]?n[2]/100:1,f=void 0!==n[3]?n[3]/100:null);var m=!("donut"!==h.config.chart.type&&"pie"!==h.config.chart.type&&"polarArea"!==h.config.chart.type&&"bubble"!==h.config.chart.type);if(o=null===l||0===l.length?h.globals.dom.Paper.gradient(m?"radial":"linear",(function(t){t.at(d,e,s),t.at(u,i,a),t.at(p,i,a),null!==f&&t.at(f,e,s)})):h.globals.dom.Paper.gradient(m?"radial":"linear",(function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))})),m){var g=h.globals.gridWidth/2,v=h.globals.gridHeight/2;"bubble"!==h.config.chart.type?o.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:v,r:r}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,s=t.fontSize,a=t.fontFamily,o=this.getTextRects(e,s,a),r=o.width/e.length,n=Math.floor(i/r);return i<o.width?e.slice(0,n-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,s=t.y,a=t.text,r=t.textAnchor,n=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.foreColor,d=t.opacity,u=t.maxWidth,p=t.cssClass,f=void 0===p?"":p,m=t.isPlainText,g=void 0===m||m,v=this.w;void 0===a&&(a="");var x=a;r||(r="start"),h&&h.length||(h=v.config.chart.foreColor),l=l||v.config.chart.fontFamily,c=c||"regular";var y,b={maxWidth:u,fontSize:n=n||"11px",fontFamily:l};return Array.isArray(a)?y=v.globals.dom.Paper.text((function(t){for(var i=0;i<a.length;i++)x=a[i],u&&(x=e.getTextBasedOnMaxWidth(o({text:a[i]},b))),0===i?t.tspan(x):t.tspan(x).newLine()})):(u&&(x=this.getTextBasedOnMaxWidth(o({text:a},b))),y=g?v.globals.dom.Paper.plain(a):v.globals.dom.Paper.text((function(t){return t.tspan(x)}))),y.attr({x:i,y:s,"text-anchor":r,"dominant-baseline":"auto","font-size":n,"font-family":l,"font-weight":c,fill:h,class:"apexcharts-text "+f}),y.node.style.fontFamily=l,y.node.style.opacity=d,y}},{key:"drawMarker",value:function(t,e,i){t=t||0;var s=i.pSize||0,a=null;if("square"===i.shape||"rect"===i.shape){var o=void 0===i.pRadius?s/2:i.pRadius;null!==e&&s||(s=0,o=0);var r=1.2*s+o,n=this.drawRect(r,r,r,r,o);n.attr({x:t-r/2,y:e-r/2,cx:t,cy:e,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),a=n}else"circle"!==i.shape&&i.shape||(b.isNumber(e)||(s=0,e=0),a=this.drawCircle(s,{cx:t,cy:e,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var r=i.config.states.hover.filter;s.applyFilter(t,a,r.type,r.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&s.getDefaultFilter(t,a)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),r="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(o)>-1){var n=i.globals.selectedDataPoints[a].indexOf(o);i.globals.selectedDataPoints[a].splice(n,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,h=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),s.getDefaultFilter(t,a)}))};h(l),h(c)}t.node.setAttribute("selected","true"),r="true",void 0===i.globals.selectedDataPoints[a]&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(o)}if("true"===r){var d=i.config.states.active.filter;if("none"!==d)s.applyFilter(t,a,d.type,d.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var u=i.config.states.hover.filter;s.applyFilter(t,a,u.type,u.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?s.getDefaultFilter(t,a):(u=i.config.states.hover.filter,s.applyFilter(t,a,u.type,u.value)));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,r=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});s&&r.attr("transform",s),o.globals.dom.Paper.add(r);var n=r.bbox();return a||(n=r.node.getBoundingClientRect()),r.remove(),{width:n.width,height:n.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var s=e.length-3;s>0;s-=3)if(t.getSubStringLength(0,s)<=i/1.1)return void(t.textContent=e.substring(0,s)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),t}(),C=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0===e.globals.series.length)return i;for(var s=0;s<e.globals.series[e.globals.maxValsInArrayIndex].length;s++){for(var a=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][s]&&-1===t.indexOf(o)&&(a+=e.globals.series[o][s]);i.push(a)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(t,i){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach((function(t){e=Math.max(e,t.size)})),e>0&&(e+=t.config.markers.hover.sizeOffset+1),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var i=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=t[s];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(s,a){for(var o=0,r=0;r<s.length;r++)i.globals.seriesX[a][r]>t&&i.globals.seriesX[a][r]<e&&(o+=s[r]);return o}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var s=[];if(Array.isArray(e))for(var a=0;a<e.length;a++){var o=t.globals.stackedSeriesTotals[a],r=0;o&&(r=100*e[a]/o),s.push(r)}else{var n=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);s.push(n)}return s}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,s,a=this.w.globals,o=[],r=0,n=[],l=.1,c=0;if(a.yRange=[],a.isMultipleYAxis)for(var h=0;h<a.minYArr.length;h++)a.yRange.push(Math.abs(a.minYArr[h]-a.maxYArr[h])),n.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var d=0;d<a.yRange.length;d++)o.push(a.yRange[d]/a.gridHeight);if(e=a.xRange/a.gridWidth,i=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,t=a.yRange/a.gridWidth,s=a.xRange/a.gridHeight,(r=a.zRange/a.gridHeight*16)||(r=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){n=[];for(var u=0;u<o.length;u++)n.push(-a.minYArr[u]/o[u])}else n.push(-a.minY/o[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(l=-a.minY/t,c=a.minX/e);return{yRatio:o,invertedYRatio:t,zRatio:r,xRatio:e,initialXRatio:i,invertedXRatio:s,baseLineInvertedY:l,baseLineY:n,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(t,s){return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(i.config.yaxis[s].logBase,t,s)})):t})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(0===e)return 0;var s=this.w,a=0===s.globals.minYArr[i]?-1:this.getBaseLog(t,s.globals.minYArr[i]),o=(0===s.globals.maxYArr[i]?0:this.getBaseLog(t,s.globals.maxYArr[i]))-a;return e<1?e/o:(this.getBaseLog(t,e)-a)/o}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,s=this.w.globals;return s.yLogRatio=t.slice(),s.logYRange=s.yRange.map((function(t,a){if(i.config.yaxis[a]&&e.w.config.yaxis[a].logarithmic){var o,r=-Number.MAX_VALUE,n=Number.MIN_VALUE;return s.seriesLog.forEach((function(t,e){t.forEach((function(t){i.config.yaxis[e]&&i.config.yaxis[e].logarithmic&&(r=Math.max(t,r),n=Math.min(t,n))}))})),o=Math.pow(s.yRange[a],Math.abs(n-r)/s.yRange[a]),s.yLogRatio[a]=o/s.gridHeight,o}})),s.invalidLogScale?t.slice():s.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0,s=0;return t.length&&void 0!==t[0].type&&t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type&&"boxPlot"!==t.type||i++,void 0!==t.type&&s++})),s>0&&(e=!0),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),A=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===t.label.orientation){var s=null!==e?e:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(null!==a){var o=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-o.height+4),"top"===t.label.position?a.setAttribute("y",parseFloat(a.getAttribute("y"))+o.width):a.setAttribute("y",parseFloat(a.getAttribute("y"))-o.width);var r=this.annoCtx.graphics.rotateAroundCenter(a),n=r.x,l=r.y;a.setAttribute("transform","rotate(-90 ".concat(n," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||void 0===e.label.text||void 0!==e.label.text&&!String(e.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=t.getBoundingClientRect(),o=e.label.style.padding.left,r=e.label.style.padding.right,n=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(n=e.label.style.padding.left,l=e.label.style.padding.right,o=e.label.style.padding.top,r=e.label.style.padding.bottom);var c=a.left-s.left-o,h=a.top-s.top-n,d=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,h,a.width+o+r,a.height+n+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&d.node.classList.add(e.id),d}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(i,s,a){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var r=o.parentNode,n=t.addBackgroundToAnno(o,i);n&&(r.insertBefore(n.node,o),i.label.mouseEnter&&n.node.addEventListener("mouseenter",i.label.mouseEnter.bind(t,i)),i.label.mouseLeave&&n.node.addEventListener("mouseleave",i.label.mouseLeave.bind(t,i)),i.label.click&&n.node.addEventListener("click",i.label.click.bind(t,i)))}};e.config.annotations.xaxis.map((function(t,e){i(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){i(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){i(t,e,"point")}))}},{key:"getY1Y2",value:function(t,e){var i,s="y1"===t?e.y:e.y2,a=this.w;if(this.annoCtx.invertAxis){var o=a.globals.labels.indexOf(s);a.config.xaxis.convertedCatToNumeric&&(o=a.globals.categoryLabels.indexOf(s));var r=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(o+1)+")");r&&(i=parseFloat(r.getAttribute("y")))}else{var n;n=a.config.yaxis[e.yAxisIndex].logarithmic?(s=new C(this.annoCtx.ctx).getLogVal(s,e.yAxisIndex))/a.globals.yLogRatio[e.yAxisIndex]:(s-a.globals.minYArr[e.yAxisIndex])/(a.globals.yRange[e.yAxisIndex]/a.globals.gridHeight),i=a.globals.gridHeight-n,!e.marker||void 0!==e.y&&null!==e.y||(i=0),a.config.yaxis[e.yAxisIndex]&&a.config.yaxis[e.yAxisIndex].reversed&&(i=n)}return"string"==typeof s&&s.indexOf("px")>-1&&(i=parseFloat(s)),i}},{key:"getX1X2",value:function(t,e){var i=this.w,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,r=(e.x-s)/(o/i.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(r=(a-e.x)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(r=this.getStringX(e.x));var n=(e.x2-s)/(o/i.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(n=(a-e.x2)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(n=this.getStringX(e.x2)),void 0!==e.x&&null!==e.x||!e.marker||(r=i.globals.gridWidth),"x1"===t&&"string"==typeof e.x&&e.x.indexOf("px")>-1&&(r=parseFloat(e.x)),"x2"===t&&"string"==typeof e.x2&&e.x2.indexOf("px")>-1&&(n=parseFloat(e.x2)),"x1"===t?r:n}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var s=e.globals.labels.indexOf(t),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(s+1)+")");return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),t}(),T=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addXaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=this.helpers.getX1X2("x1",t),r=t.label.text,n=t.strokeDashArray;if(b.isNumber(o)){if(null===t.x2||void 0===t.x2){var l=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,a.globals.gridHeight+t.offsetY,t.borderColor,n,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getX1X2("x2",t))<o){var c=o;o=s,s=c}var h=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,s-o,a.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,n);h.node.classList.add("apexcharts-annotation-rect"),h.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}var d=this.annoCtx.graphics.getTextRects(r,parseFloat(t.label.style.fontSize)),u="top"===t.label.position?4:"center"===t.label.position?a.globals.gridHeight/2+("vertical"===t.label.orientation?d.width/2:0):a.globals.gridHeight,p=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:u+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?d.width/2-12:-d.width/2:0),text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});p.attr({rel:i}),e.appendChild(p.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,s){t.addXaxisAnnotation(e,i.node,s)})),i}}]),t}(),I=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addYaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=t.strokeDashArray,r=this.helpers.getY1Y2("y1",t),n=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,r+t.offsetY,this._getYAxisAnnotationWidth(t),r+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getY1Y2("y2",t))>r){var c=r;r=s,s=c}var h=this.annoCtx.graphics.drawRect(0+t.offsetX,s+t.offsetY,this._getYAxisAnnotationWidth(t),r-s,0,t.fillColor,t.opacity,1,t.borderColor,o);h.node.classList.add("apexcharts-annotation-rect"),h.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}var d="right"===t.label.position?a.globals.gridWidth:"center"===t.label.position?a.globals.gridWidth/2:0,u=this.annoCtx.graphics.drawText({x:d+t.label.offsetX,y:(null!=s?s:r)+t.label.offsetY-3,text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});u.attr({rel:i}),e.appendChild(u.node)}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,s){t.addYaxisAnnotation(e,i.node,s)})),i}}]),t}(),M=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addPointAnnotation",value:function(t,e,i){this.w;var s=this.helpers.getX1X2("x1",t),a=this.helpers.getY1Y2("y1",t);if(b.isNumber(s)){var o={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},r=this.annoCtx.graphics.drawMarker(s+t.marker.offsetX,a+t.marker.offsetY,o);e.appendChild(r.node);var n=t.label.text?t.label.text:"",l=this.annoCtx.graphics.drawText({x:s+t.label.offsetX,y:a+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(l.attr({rel:i}),e.appendChild(l.node),t.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});c.attr({transform:"translate(".concat(s+t.customSVG.offsetX,", ").concat(a+t.customSVG.offsetY,")")}),c.node.innerHTML=t.customSVG.SVG,e.appendChild(c.node)}if(t.image.path){var h=t.image.width?t.image.width:20,d=t.image.height?t.image.height:20;r=this.annoCtx.addImage({x:s+t.image.offsetX-h/2,y:a+t.image.offsetY-d/2,width:h,height:d,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&r.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&r.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&r.node.addEventListener("click",t.click.bind(this,t))}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,s){t.addPointAnnotation(e,i.node,s)})),i}}]),t}(),L={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},P=function(){function t(){n(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[L],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),_=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.graphics=new S(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new A(this),this.xAxisAnnotations=new T(this),this.yAxisAnnotations=new I(this),this.pointsAnnotations=new M(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=t.config.chart.animations.enabled,o=[e,i,s],r=[i.node,e.node,s.node],n=0;n<3;n++)t.globals.dom.elGraphical.add(o[n]),!a||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&r[n].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:r[n],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,s=t.y,a=t.text,o=t.textAnchor,r=t.foreColor,n=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.cssClass,d=t.backgroundColor,u=t.borderWidth,p=t.strokeDashArray,f=t.borderRadius,m=t.borderColor,g=t.appendTo,v=void 0===g?".apexcharts-annotations":g,x=t.paddingLeft,y=void 0===x?4:x,b=t.paddingRight,w=void 0===b?4:b,k=t.paddingBottom,S=void 0===k?2:k,C=t.paddingTop,A=void 0===C?2:C,T=this.w,I=this.graphics.drawText({x:i,y:s,text:a,textAnchor:o||"start",fontSize:n||"12px",fontWeight:c||"regular",fontFamily:l||T.config.chart.fontFamily,foreColor:r||T.config.chart.foreColor,cssClass:h}),M=T.globals.dom.baseEl.querySelector(v);M&&M.appendChild(I.node);var L=I.bbox();if(a){var P=this.graphics.drawRect(L.x-y,L.y-A,L.width+y+w,L.height+S+A,f,d||"transparent",1,u,m,p);M.insertBefore(P.node,I.node)}}},{key:"addImage",value:function(t,e){var i=this.w,s=t.path,a=t.x,o=void 0===a?0:a,r=t.y,n=void 0===r?0:r,l=t.width,c=void 0===l?20:l,h=t.height,d=void 0===h?20:h,u=t.appendTo,p=void 0===u?".apexcharts-annotations":u,f=i.globals.dom.Paper.image(s);f.size(c,d).move(o,n);var m=i.globals.dom.baseEl.querySelector(p);return m&&m.appendChild(f.node),f}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,s=t.context,a=t.type,o=t.contextMethod,r=s,n=r.w,l=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),c=l.childNodes.length+1,h=new P,d=Object.assign({},"xaxis"===a?h.xAxisAnnotation:"yaxis"===a?h.yAxisAnnotation:h.pointAnnotation),u=b.extend(d,e);switch(a){case"xaxis":this.addXaxisAnnotation(u,l,c);break;case"yaxis":this.addYaxisAnnotation(u,l,c);break;case"point":this.addPointAnnotation(u,l,c)}var p=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(c,"']")),f=this.helpers.addBackgroundToAnno(p,u);return f&&l.insertBefore(f.node,p),i&&n.globals.memory.methodsToExec.push({context:r,id:u.id?u.id:b.randomId(),method:o,label:"addAnnotation",params:e}),s}},{key:"clearAnnotations",value:function(t){var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,i){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(i,1)})),i=b.listToArray(i),Array.prototype.forEach.call(i,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(e));s&&(i.globals.memory.methodsToExec.map((function(t,s){t.id===e&&i.globals.memory.methodsToExec.splice(s,1)})),Array.prototype.forEach.call(s,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),O=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(v(i.months)),o=[""].concat(v(i.shortMonths)),r=[""].concat(v(i.days)),n=[""].concat(v(i.shortDays));function l(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var c=s?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var h=(s?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+l(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=s?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+n[0])).replace(/(^|[^\\])dd/g,"$1"+l(d))).replace(/(^|[^\\])d/g,"$1"+d);var u=s?t.getUTCHours():t.getHours(),p=u>12?u-12:0===u?12:u;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(u))).replace(/(^|[^\\])H/g,"$1"+u)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var f=s?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(f))).replace(/(^|[^\\])m/g,"$1"+f);var m=s?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(m))).replace(/(^|[^\\])s/g,"$1"+m);var g=s?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(g,3)),g=Math.round(g/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(g)),g=Math.round(g/10);var x=u<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+g)).replace(/(^|[^\\])TT+/g,"$1"+x)).replace(/(^|[^\\])T/g,"$1"+x.charAt(0));var y=x.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var b=-t.getTimezoneOffset(),w=s||!b?"Z":b>0?"+":"-";if(!s){var k=(b=Math.abs(b))%60;w+=l(Math.floor(b/60))+":"+l(k)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var S=(s?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[S])).replace(new RegExp(n[0],"g"),n[S])).replace(new RegExp(a[0],"g"),a[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var s=this.w;void 0!==s.config.xaxis.min&&(t=s.config.xaxis.min),void 0!==s.config.xaxis.max&&(e=s.config.xaxis.max);var a=this.getDate(t),o=this.getDate(e),r=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),n=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(r[6],10),maxMillisecond:parseInt(n[6],10),minSecond:parseInt(r[5],10),maxSecond:parseInt(n[5],10),minMinute:parseInt(r[4],10),maxMinute:parseInt(n[4],10),minHour:parseInt(r[3],10),maxHour:parseInt(n[3],10),minDate:parseInt(r[2],10),maxDate:parseInt(n[2],10),minMonth:parseInt(r[1],10)-1,maxMonth:parseInt(n[1],10)-1,minYear:parseInt(r[0],10),maxYear:parseInt(n[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var s=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=b.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),t}(),D=function(t){var e,i=t.ctx,s=t.seriesIndex,a=t.dataPointIndex,o=t.y1,r=t.y2,n=t.w,l=n.globals.seriesRangeStart[s][a],c=n.globals.seriesRangeEnd[s][a],h=n.globals.labels[a],d=n.config.series[s].name?n.config.series[s].name:"",u=n.config.tooltip.y.formatter,p=n.config.tooltip.y.title.formatter,f={w:n,seriesIndex:s,dataPointIndex:a,start:l,end:c};"function"==typeof p&&(d=p(d,f)),null!==(e=n.config.series[s].data[a])&&void 0!==e&&e.x&&(h=n.config.series[s].data[a].x+":"),"function"==typeof u&&(h=u(h,f)),Number.isFinite(o)&&Number.isFinite(r)&&(l=o,c=r);var m="",g="",v=n.globals.colors[s];if(void 0===n.config.tooltip.x.formatter)if("datetime"===n.config.xaxis.type){var x=new O(i);m=x.formatDate(x.getDate(l),n.config.tooltip.x.format),g=x.formatDate(x.getDate(c),n.config.tooltip.x.format)}else m=l,g=c;else m=n.config.tooltip.x.formatter(l),g=n.config.tooltip.x.formatter(c);return{start:l,end:c,startVal:m,endVal:g,ylabel:h,color:v,seriesName:d}},E=function(t){var e=t.color,i=t.seriesName,s=t.ylabel,a=t.start,o=t.end,r=t.seriesIndex,n=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(r);a=l.yLbFormatter(a),o=l.yLbFormatter(o);var c=l.yLbFormatter(t.w.globals.series[r][n]),h='<span class="value start-value">\n  '.concat(a,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(o,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+s+" </span> "+(t.w.globals.comboCharts?"rangeArea"===t.w.config.series[r].type||"rangeBar"===t.w.config.series[r].type?h:"<span>".concat(c,"</span>"):h)+" </div></div>"},F=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,b.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,s=e.dataPointIndex,a=e.w,o=function(){var t=a.globals.seriesRangeStart[i][s];return a.globals.seriesRangeEnd[i][s]-t};return a.globals.comboCharts?"rangeBar"===a.config.series[i].type||"rangeArea"===a.config.series[i].type?o():t:o()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.startVal,n=e.endVal;return E(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t):function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.start,n=e.end;return E(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.start,n=e.end;return E(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t)}}}}},{key:"brush",value:function(t){return b.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return b.isNumber(t)?Math.floor(t):t};var s=t.xaxis.labels.formatter,a=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(a=i.map((function(t){return Array.isArray(t)?t:String(t)}))),a&&a.length&&(t.xaxis.labels.formatter=function(t){return b.isNumber(t)?s(a[Math.floor(t)-1]):s(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(t,e,i,s,a){var o=t.globals.seriesCandleO[e][i],r=t.globals.seriesCandleH[e][i],n=t.globals.seriesCandleM[e][i],l=t.globals.seriesCandleL[e][i],c=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+r+"</span></div>"+(n?"<div>".concat(s[2],': <span class="value">')+n+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+c+"</span></div></div>"}}]),t}(),B=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,s=new P,a=new F(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=b.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=s.init(),n={};if(i&&"object"===r(i)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?a[i.chart.type]():a.line(),i.chart.brush&&i.chart.brush.enabled&&(l=a.brush(l)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=a.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,l,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=a.sparkline(l)),n=b.extend(o,l)}var c=b.extend(n,window.Apex);return o=b.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var s=new F(i),a=("bar"===t||"boxPlot"===t)&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,o="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,r="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,n=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return a||o||!r||"between"===n||(i=s.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new P;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=b.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[b.extend(i.yAxis,t.yaxis)]:t.yaxis=b.extendArray(t.yaxis,i.yAxis);var s=!1;t.yaxis.forEach((function(t){t.logarithmic&&(s=!0)}));var a=t.series;return e&&!a&&(a=e.config.series),s&&a.length!==t.yaxis.length&&a.length&&(t.yaxis=a.map((function(e,s){if(e.name||(a[s].name="series-".concat(s+1)),t.yaxis[s])return t.yaxis[s].seriesName=a[s].name,t.yaxis[s];var o=b.extend(i.yAxis,t.yaxis[0]);return o.show=!1,o}))),s&&a.length>1&&a.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new P;return t.annotations.yaxis=b.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new P;return t.annotations.xaxis=b.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new P;return t.annotations.points=b.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),t}(),N=function(){function t(){n(this,t)}return c(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasGroups=!1,t.groups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=b.extend({},t),e.initialSeries=b.clone(t.series),e.lastXAxis=b.clone(e.initialConfig.xaxis),e.lastYAxis=b.clone(e.initialConfig.yaxis),e}}]),t}(),z=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"init",value:function(){var t=new B(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new N).init(t)}}}]),t}(),R=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return c(t,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,s=parseInt(e.globals.gridWidth,10),a=parseInt(e.globals.gridHeight,10),o=s>a?s:a,r=t.image,n=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(n=i.fill.image.width+1,l=i.fill.image.height):(n=o+1,l=o):(n=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");S.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:n+"px",height:l+"px"});var h=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",r),S.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:n+"px",height:l+"px"}),h.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,s,a,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var r=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(r=e.globals.seriesColors[this.seriesIndex]),"function"==typeof r&&(r=r({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var n=t.fillType?t.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;t.color&&(r=t.color);var c=r;if(-1===r.indexOf("rgb")?r.length<9&&(c=b.hexToRgba(r,l)):r.indexOf("rgba")>-1&&(l=b.getOpacityFromRGBA(r)),t.opacity&&(l=t.opacity),"pattern"===n&&(s=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:s,fillColor:r,fillOpacity:l,defaultColor:c})),"gradient"===n&&(a=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:r,fillOpacity:l,i:this.seriesIndex})),"image"===n){var h=o.fill.image.src,d=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(h)?t.seriesNumber<h.length?h[t.seriesNumber]:h[0]:h,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(d)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(d,")")}else i="gradient"===n?a:"pattern"===n?s:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,s=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors),void 0!==i.fillColors&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=t.patternFill,s=t.fillColor,a=t.fillOpacity,o=t.defaultColor,r=this.w.config.fill;e&&(r=e);var n=this.opts,l=new S(this.ctx),c=Array.isArray(r.pattern.strokeWidth)?r.pattern.strokeWidth[this.seriesIndex]:r.pattern.strokeWidth,h=s;return i=Array.isArray(r.pattern.style)?void 0!==r.pattern.style[n.seriesNumber]?l.drawPattern(r.pattern.style[n.seriesNumber],r.pattern.width,r.pattern.height,h,c,a):o:l.drawPattern(r.pattern.style,r.pattern.width,r.pattern.height,h,c,a),i}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,s=t.fillConfig,a=t.i,r=this.w.config.fill;s&&(r=o(o({},r),s));var n,l=this.opts,c=new S(this.ctx),h=new b,d=r.gradient.type,u=e,p=void 0===r.gradient.opacityFrom?i:Array.isArray(r.gradient.opacityFrom)?r.gradient.opacityFrom[a]:r.gradient.opacityFrom;u.indexOf("rgba")>-1&&(p=b.getOpacityFromRGBA(u));var f=void 0===r.gradient.opacityTo?i:Array.isArray(r.gradient.opacityTo)?r.gradient.opacityTo[a]:r.gradient.opacityTo;if(void 0===r.gradient.gradientToColors||0===r.gradient.gradientToColors.length)n="dark"===r.gradient.shade?h.shadeColor(-1*parseFloat(r.gradient.shadeIntensity),e.indexOf("rgb")>-1?b.rgb2hex(e):e):h.shadeColor(parseFloat(r.gradient.shadeIntensity),e.indexOf("rgb")>-1?b.rgb2hex(e):e);else if(r.gradient.gradientToColors[l.seriesNumber]){var m=r.gradient.gradientToColors[l.seriesNumber];n=m,m.indexOf("rgba")>-1&&(f=b.getOpacityFromRGBA(m))}else n=e;if(r.gradient.gradientFrom&&(u=r.gradient.gradientFrom),r.gradient.gradientTo&&(n=r.gradient.gradientTo),r.gradient.inverseColors){var g=u;u=n,n=g}return u.indexOf("rgb")>-1&&(u=b.rgb2hex(u)),n.indexOf("rgb")>-1&&(n=b.rgb2hex(n)),c.drawGradient(d,u,n,p,f,l.size,r.gradient.stops,r.gradient.colorStops,a)}}]),t}(),$=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,i,s){var a,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.w,n=e,l=t,c=null,h=new S(this.ctx),d=r.config.markers.discrete&&r.config.markers.discrete.length;if((r.globals.markers.size[e]>0||o||d)&&(c=h.group({class:o||d?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(l.x))for(var u=0;u<l.x.length;u++){var p=i;1===i&&0===u&&(p=0),1===i&&1===u&&(p=1);var f="apexcharts-marker";"line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(f+=" no-pointer-events");var m=Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0;if(m||o||d){b.isNumber(l.y[u])?f+=" w".concat(b.randomId()):f="apexcharts-nullpoint";var g=this.getMarkerConfig({cssClass:f,seriesIndex:e,dataPointIndex:p});r.config.series[n].data[p]&&(r.config.series[n].data[p].fillColor&&(g.pointFillColor=r.config.series[n].data[p].fillColor),r.config.series[n].data[p].strokeColor&&(g.pointStrokeColor=r.config.series[n].data[p].strokeColor)),s&&(g.pSize=s),(a=h.drawMarker(l.x[u],l.y[u],g)).attr("rel",p),a.attr("j",p),a.attr("index",e),a.node.setAttribute("default-marker-size",g.pSize);var v=new k(this.ctx);v.setSelectionFilter(a,e,p),this.addEvents(a),c&&c.add(a)}else void 0===r.globals.pointsArray[e]&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([l.x[u],l.y[u]])}return c}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,s=t.dataPointIndex,a=void 0===s?null:s,o=t.finishRadius,r=void 0===o?null:o,n=this.w,l=this.getMarkerStyle(i),c=n.globals.markers.size[i],h=n.config.markers;return null!==a&&h.discrete.length&&h.discrete.map((function(t){t.seriesIndex===i&&t.dataPointIndex===a&&(l.pointStrokeColor=t.strokeColor,l.pointFillColor=t.fillColor,c=t.size,l.pointShape=t.shape)})),{pSize:null===r?c:r,pRadius:h.radius,width:Array.isArray(h.width)?h.width[i]:h.width,height:Array.isArray(h.height)?h.height[i]:h.height,pointStrokeWidth:Array.isArray(h.strokeWidth)?h.strokeWidth[i]:h.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(h.shape)?h.shape[i]:h.shape),class:e,pointStrokeOpacity:Array.isArray(h.strokeOpacity)?h.strokeOpacity[i]:h.strokeOpacity,pointStrokeDashArray:Array.isArray(h.strokeDashArray)?h.strokeDashArray[i]:h.strokeDashArray,pointFillOpacity:Array.isArray(h.fillOpacity)?h.fillOpacity[i]:h.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new S(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,s=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[t]:s,pointFillColor:Array.isArray(i)?i[t]:i}}}]),t}(),H=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(t,[{key:"draw",value:function(t,e,i){var s=this.w,a=new S(this.ctx),o=i.realIndex,r=i.pointsPos,n=i.zRatio,l=i.elParent,c=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(r.x))for(var h=0;h<r.x.length;h++){var d=e+1,u=!0;0===e&&0===h&&(d=0),0===e&&1===h&&(d=1);var p=0,f=s.globals.markers.size[o];if(n!==1/0){var m=s.config.plotOptions.bubble;f=s.globals.seriesZ[o][d],m.zScaling&&(f/=n),m.minBubbleRadius&&f<m.minBubbleRadius&&(f=m.minBubbleRadius),m.maxBubbleRadius&&f>m.maxBubbleRadius&&(f=m.maxBubbleRadius)}s.config.chart.animations.enabled||(p=f);var g=r.x[h],v=r.y[h];if(p=p||0,null!==v&&void 0!==s.globals.series[o][d]||(u=!1),u){var x=this.drawPoint(g,v,p,f,o,d,e);c.add(x)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,s,a,o,r){var n=this.w,l=a,c=new w(this.ctx),h=new k(this.ctx),d=new R(this.ctx),u=new $(this.ctx),p=new S(this.ctx),f=u.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:o,finishRadius:"bubble"===n.config.chart.type||n.globals.comboCharts&&n.config.series[a]&&"bubble"===n.config.series[a].type?s:null});s=f.pSize;var m,g=d.fillPath({seriesNumber:a,dataPointIndex:o,color:f.pointFillColor,patternUnits:"objectBoundingBox",value:n.globals.series[a][r]});if("circle"===f.shape?m=p.drawCircle(i):"square"!==f.shape&&"rect"!==f.shape||(m=p.drawRect(0,0,f.width-f.pointStrokeWidth/2,f.height-f.pointStrokeWidth/2,f.pRadius)),n.config.series[l].data[o]&&n.config.series[l].data[o].fillColor&&(g=n.config.series[l].data[o].fillColor),m.attr({x:t-f.width/2-f.pointStrokeWidth/2,y:e-f.height/2-f.pointStrokeWidth/2,cx:t,cy:e,fill:g,"fill-opacity":f.pointFillOpacity,stroke:f.pointStrokeColor,r:s,"stroke-width":f.pointStrokeWidth,"stroke-dasharray":f.pointStrokeDashArray,"stroke-opacity":f.pointStrokeOpacity}),n.config.chart.dropShadow.enabled){var v=n.config.chart.dropShadow;h.dropShadow(m,v,a)}if(!this.initialAnim||n.globals.dataChanged||n.globals.resized)n.globals.animationEnded=!0;else{var x=n.config.chart.animations.speed;c.animateMarker(m,0,"circle"===f.shape?s:{width:f.width,height:f.height},x,n.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(m)}),100)}))}if(n.globals.dataChanged&&"circle"===f.shape)if(this.dynamicAnim){var y,b,C,A,T=n.config.chart.animations.dynamicAnimation.speed;null!=(A=n.globals.previousPaths[a]&&n.globals.previousPaths[a][r])&&(y=A.x,b=A.y,C=void 0!==A.r?A.r:s);for(var I=0;I<n.globals.collapsedSeries.length;I++)n.globals.collapsedSeries[I].index===a&&(T=1,s=0);0===t&&0===e&&(s=0),c.animateCircle(m,{cx:y,cy:b,r:C},{cx:t,cy:e,r:s},T,n.globals.easing)}else m.attr({r:s});return m.attr({rel:o,j:o,index:a,"default-marker-size":s}),h.setSelectionFilter(m,a,o),u.addEvents(m),m.node.classList.add("apexcharts-marker"),m}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),t}(),W=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"dataLabelsCorrection",value:function(t,e,i,s,a,o,r){var n=this.w,l=!1,c=new S(this.ctx).getTextRects(i,r),h=c.width,d=c.height;e<0&&(e=0),e>n.globals.gridHeight+d&&(e=n.globals.gridHeight+d/2),void 0===n.globals.dataLabelsRects[s]&&(n.globals.dataLabelsRects[s]=[]),n.globals.dataLabelsRects[s].push({x:t,y:e,width:h,height:d});var u=n.globals.dataLabelsRects[s].length-2,p=void 0!==n.globals.lastDrawnDataLabelsIndexes[s]?n.globals.lastDrawnDataLabelsIndexes[s][n.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(void 0!==n.globals.dataLabelsRects[s][u]){var f=n.globals.dataLabelsRects[s][p];(t>f.x+f.width+2||e>f.y+f.height+2||t+h<f.x)&&(l=!0)}return(0===a||o)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,s=t.pos,a=t.i,o=t.j,r=t.isRangeStart,n=t.strokeWidth,l=void 0===n?2:n,c=this.w,h=new S(this.ctx),d=c.config.dataLabels,u=0,p=0,f=o,m=null;if(!d.enabled||!Array.isArray(s.x))return m;m=h.group({class:"apexcharts-data-labels"});for(var g=0;g<s.x.length;g++)if(u=s.x[g]+d.offsetX,p=s.y[g]+d.offsetY+l,!isNaN(u)){1===o&&0===g&&(f=0),1===o&&1===g&&(f=1);var v=c.globals.series[a][f];"rangeArea"===i&&(v=r?c.globals.seriesRangeStart[a][f]:c.globals.seriesRangeEnd[a][f]);var x="",y=function(t){return c.config.dataLabels.formatter(t,{ctx:e.ctx,seriesIndex:a,dataPointIndex:f,w:c})};"bubble"===c.config.chart.type?(x=y(v=c.globals.seriesZ[a][f]),p=s.y[g],p=new H(this.ctx).centerTextInBubble(p,a,f).y):void 0!==v&&(x=y(v)),this.plotDataLabelsText({x:u,y:p,text:x,i:a,j:f,parent:m,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels})}return m}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new S(this.ctx),s=t.x,a=t.y,o=t.i,r=t.j,n=t.text,l=t.textAnchor,c=t.fontSize,h=t.parent,d=t.dataLabelsConfig,u=t.color,p=t.alwaysDrawDataLabel,f=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var m={x:s,y:a,drawnextLabel:!0,textRects:null};f&&(m=this.dataLabelsCorrection(s,a,n,o,r,p,parseInt(d.style.fontSize,10))),e.globals.zoomed||(s=m.x,a=m.y),m.textRects&&(s<-10-m.textRects.width||s>e.globals.gridWidth+m.textRects.width+10)&&(n="");var g=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(g=e.globals.dataLabels.style.colors[r]),"function"==typeof g&&(g=g({series:e.globals.series,seriesIndex:o,dataPointIndex:r,w:e})),u&&(g=u);var v=d.offsetX,x=d.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(v=0,x=0),m.drawnextLabel){var y=i.drawText({width:100,height:parseInt(d.style.fontSize,10),x:s+v,y:a+x,foreColor:g,textAnchor:l||d.textAnchor,text:n,fontSize:c||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"});if(y.attr({class:"apexcharts-datalabel",cx:s,cy:a}),d.dropShadow.enabled){var b=d.dropShadow;new k(this.ctx).dropShadow(y,b)}h.add(y),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(r)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,s=i.config.dataLabels.background,a=s.padding,o=s.padding/2,r=e.width,n=e.height,l=new S(this.ctx).drawRect(e.x-a,e.y-o/2,r+2*a,n+o,s.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new k(this.ctx).dropShadow(l,s.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var s=e[i],a=s.getBBox(),o=null;if(a.width&&a.height&&(o=this.addBackgroundToDataLabel(s,a)),o){s.parentNode.insertBefore(o.node,s);var r=s.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:r}):o.animate().attr({fill:r}),s.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<e.length;s++)i&&i.insertBefore(e[s],i.nextSibling)}}]),t}(),j=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(b.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function s(i){for(var s=0;s<i.length;s++)i[s].index===e&&t.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w,a=b.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,t&&(e&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var a=parseInt(e.getAttribute("rel"),10)-1,o=null,r=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),r=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var n=0;n<s.length;n++)s[n].classList.add(this.legendInactiveClass);null!==o&&(i.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==r&&r.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<s.length;l++)s[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(t){for(var e=0;e<a.length;e++)a[e].classList[t](i.legendInactiveClass)};if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1;o("add"),function(t){for(var e=0;e<a.length;e++){var s=parseInt(a[e].getAttribute("val"),10);s>=t.from&&s<=t.to&&a[e].classList.remove(i.legendInactiveClass)}}(s.config.plotOptions.heatmap.colorScale.ranges[r])}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.w,s=0;if(i.config.series.length>1)for(var a=i.config.series.map((function(t,s){return t.data&&t.data.length>0&&-1===i.globals.collapsedSeriesIndices.indexOf(s)&&(!i.globals.comboCharts||0===e.length||e.length&&e.indexOf(i.config.series[s].type)>-1)?s:-1})),o="asc"===t?0:a.length-1;"asc"===t?o<a.length:o>=0;"asc"===t?o++:o--)if(-1!==a[o]){s=a[o];break}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(t,e){return"bar"===t.type||"column"===t.type?e:-1})).filter((function(t){return-1!==t})):this.w.config.series.map((function(t,e){return e}))}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,i,s){for(var a=e[i].childNodes,o={type:s,paths:[],realIndex:e[i].getAttribute("data:realIndex")},r=0;r<a.length;r++)if(a[r].hasAttribute("pathTo")){var n=a[r].getAttribute("pathTo");o.paths.push({d:n})}t.globals.previousPaths.push(o)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(i){for(var s,a=(s=i,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series"))),o=0;o<a.length;o++)e(a,o,i)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(e){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(e,"'] rect")),s=[],a=function(t){var e=function(e){return i[t].getAttribute(e)},a={x:parseFloat(e("x")),y:parseFloat(e("y")),width:parseFloat(e("width")),height:parseFloat(e("height"))};s.push({rect:a,color:i[t].getAttribute("color")})},o=0;o<i.length;o++)a(o);t.globals.previousPaths.push(s)},a=0;a<i.length;a++)s(a);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var s=0;s<i.length;s++){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(s,"'] circle")),o=[],r=0;r<a.length;r++)o.push({x:a[r].getAttribute("cx"),y:a[r].getAttribute("cy"),r:a[r].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new S(this.ctx),s=t.globals.svgWidth/2,a=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(s=10,o="start"):"right"===e.align&&(s=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?a=50:"bottom"===e.verticalAlign&&(a=t.globals.svgHeight-50),s+=e.offsetX,a=a+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var r=i.drawText({x:s,y:a,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(r)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var s=0;s<t[e.globals.maxValsInArrayIndex].length;s++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return t}}]),t}(),X=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new C(this.ctx)}return c(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new j(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new j(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,s=this.w.globals,a="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,o=0;o<t[e].data.length;o++)if(void 0!==t[e].data[o][1]&&(Array.isArray(t[e].data[o][1])&&4===t[e].data[o][1].length&&!a?this.twoDSeries.push(b.parseNumber(t[e].data[o][1][3])):t[e].data[o].length>=5?this.twoDSeries.push(b.parseNumber(t[e].data[o][4])):this.twoDSeries.push(b.parseNumber(t[e].data[o][1])),s.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var r=new Date(t[e].data[o][0]);r=new Date(r).getTime(),this.twoDSeriesX.push(r)}else this.twoDSeriesX.push(t[e].data[o][0]);for(var n=0;n<t[e].data.length;n++)void 0!==t[e].data[n][2]&&(this.threeDSeries.push(t[e].data[n][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,s=this.w.globals,a=new O(this.ctx),o=e;s.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r].y&&(Array.isArray(t[e].data[r].y)?this.twoDSeries.push(b.parseNumber(t[e].data[r].y[t[e].data[r].y.length-1])):this.twoDSeries.push(b.parseNumber(t[e].data[r].y))),void 0!==t[e].data[r].goals&&Array.isArray(t[e].data[r].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[r].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var n=0;n<t[o].data.length;n++){var l="string"==typeof t[o].data[n].x,c=Array.isArray(t[o].data[n].x),h=!c&&!!a.isValidDate(t[o].data[n].x.toString());if(l||h)if(l||i.xaxis.convertedCatToNumeric){var d=s.isBarHorizontal&&s.isRangeData;"datetime"!==i.xaxis.type||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[n].x)):this.twoDSeriesX.push(a.parseDate(t[o].data[n].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(a.parseDate(t[o].data[n].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[n].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[n].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[n].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var u=0;u<t[e].data.length;u++)this.threeDSeries.push(t[e].data[u].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(s.start),i.seriesRangeEnd.push(s.end),i.seriesRange.push(s.rangeUniques),i.seriesRange.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,i){for(var s=0;s<t.y.length;s++)if(i!==s){var a=e.y1,o=e.y2,r=t.y[s].y1;a<=t.y[s].y2&&r<=o&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[s].rangeName)<0&&t.overlaps.push(t.y[s].rangeName))}}))}))})),s}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=s.o,i.seriesCandleH[e]=s.h,i.seriesCandleM[e]=s.m,i.seriesCandleL[e]=s.l,i.seriesCandleC[e]=s.c,s}},{key:"handleRangeDataFormat",value:function(t,e,i){var s=[],a=[],o=e[i].data.filter((function(t,e,i){return e===i.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}}));if("array"===t)for(var r=0;r<e[i].data.length;r++)Array.isArray(e[i].data[r])?(s.push(e[i].data[r][1][0]),a.push(e[i].data[r][1][1])):(s.push(e[i].data[r]),a.push(e[i].data[r]));else if("xy"===t)for(var n=function(t){var r=Array.isArray(e[i].data[t].y),n=b.randomId(),l=e[i].data[t].x,c={y1:r?e[i].data[t].y[0]:e[i].data[t].y,y2:r?e[i].data[t].y[1]:e[i].data[t].y,rangeName:n};e[i].data[t].rangeName=n;var h=o.findIndex((function(t){return t.x===l}));o[h].y.push(c),s.push(c.y1),a.push(c.y2)},l=0;l<e[i].data.length;l++)n(l);return{start:s,end:a,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var s=this.w,a="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[i].type,o=[],r=[],n=[],l=[],c=[];if("array"===t)if(a&&6===e[i].data[0].length||!a&&5===e[i].data[0].length)for(var h=0;h<e[i].data.length;h++)o.push(e[i].data[h][1]),r.push(e[i].data[h][2]),a?(n.push(e[i].data[h][3]),l.push(e[i].data[h][4]),c.push(e[i].data[h][5])):(l.push(e[i].data[h][3]),c.push(e[i].data[h][4]));else for(var d=0;d<e[i].data.length;d++)Array.isArray(e[i].data[d][1])&&(o.push(e[i].data[d][1][0]),r.push(e[i].data[d][1][1]),a?(n.push(e[i].data[d][1][2]),l.push(e[i].data[d][1][3]),c.push(e[i].data[d][1][4])):(l.push(e[i].data[d][1][2]),c.push(e[i].data[d][1][3])));else if("xy"===t)for(var u=0;u<e[i].data.length;u++)Array.isArray(e[i].data[u].y)&&(o.push(e[i].data[u].y[0]),r.push(e[i].data[u].y[1]),a?(n.push(e[i].data[u].y[2]),l.push(e[i].data[u].y[3]),c.push(e[i].data[u].y[4])):(l.push(e[i].data[u].y[2]),c.push(e[i].data[u].y[3])));return{o:o,h:r,m:n,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,o=new O(i),r=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar="rangeBar"===s.chart.type&&a.isBarHorizontal,a.hasGroups="category"===s.xaxis.type&&s.xaxis.group.groups.length>0,a.hasGroups&&(a.groups=s.xaxis.group.groups);for(var n=function(){for(var t=0;t<r.length;t++)if("string"==typeof r[t]){if(!o.isValidDate(r[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(r[t]))}else e.twoDSeriesX.push(r[t])},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(a.isRangeData=!0,a.isComboCharts?"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||this.handleRangeData(t,l):"rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type||this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==s.chart.type&&"candlestick"!==t[l].type&&"boxPlot"!==s.chart.type&&"boxPlot"!==t[l].type||this.handleCandleStickBoxData(t,l),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===s.xaxis.type?(a.isXNumeric=!0,n(),a.seriesX.push(this.twoDSeriesX)):"numeric"===s.xaxis.type&&(a.isXNumeric=!0,r.length>0&&(this.twoDSeriesX=r,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return b.parseNumber(t)}));a.series.push(c)}a.seriesZ.push(this.threeDSeries),void 0!==t[l].name?a.seriesNames.push(t[l].name):a.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==t[l].color?a.seriesColors.push(t[l].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var s=0;s<e.series.length;s++)void 0===e.seriesNames[s]&&e.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(t){t.forEach((function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)}))})),i.labels=i.labels.filter((function(t,e,i){return i.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new F(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,s=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var a=i.series.map((function(t,e){return t.data.filter((function(t,e,i){return i.findIndex((function(e){return e.x===t.x}))===e}))})),o=a.reduce((function(t,e,i,s){return s[t].length>e.length?t:i}),0),r=0;r<a[o].length;r++)s.push(r+1);else for(var n=0;n<e.series[e.maxValsInArrayIndex].length;n++)s.push(n+1);e.seriesX=[];for(var l=0;l<t.length;l++)e.seriesX.push(s);e.isXNumeric=!0}if(0===s.length){s=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var c=0;c<t.length;c++)e.seriesX.push(s)}e.labels=s,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=s.map((function(t){return i.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,s=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),"bar"===i.chart.type&&i.chart.stacked){var a=new j(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(s.labels),r=0;r<o.length;r++)if(Array.isArray(o[r])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(i,s){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return i.index}))}}]),t}(),Y=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return c(t,[{key:"xLabelFormat",value:function(t,e,i,s){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var o=new O(this.ctx);return o.formatDate(o.getDate(e),a.config.tooltip.x.format)}return t(e,i,s)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,i){var s=this.w;return b.isNumber(t)&&(t=0!==s.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:s.globals.yValueDecimal):s.globals.maxYArr[i]-s.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},void 0!==e.config.xaxis.labels.formatter?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(t){if(b.isNumber(t)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(b.isNumber(e.config.xaxis.decimalsInFloat))return t.toFixed(e.config.xaxis.decimalsInFloat);var i=e.globals.maxX-e.globals.minX;return i>0&&i<100?t.toFixed(1):t.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?t.toFixed(1):t.toFixed(0)}return t},"function"==typeof e.config.tooltip.x.formatter?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,s){void 0!==i.labels.formatter?e.globals.yLabelFormatters[s]=i.labels.formatter:e.globals.yLabelFormatters[s]=function(a){return e.globals.xyCharts?Array.isArray(a)?a.map((function(e){return t.defaultYFormatter(e,i,s)})):t.defaultYFormatter(a,i,s):a}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),V=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getLabel",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],n=this.w,l=void 0===t[s]?"":t[s],c=l,h=n.globals.xLabelFormatter,d=n.config.xaxis.labels.formatter,u=!1,p=new Y(this.ctx),f=l;r&&(c=p.xLabelFormat(h,l,f,{i:s,dateFormatter:new O(this.ctx).formatDate,w:n}),void 0!==d&&(c=d(l,t[s],{i:s,dateFormatter:new O(this.ctx).formatDate,w:n})));var m=function(t){var i=null;return e.forEach((function(t){"month"===t.unit?i="year":"day"===t.unit?i="month":"hour"===t.unit?i="day":"minute"===t.unit&&(i="hour")})),i===t};e.length>0?(u=m(e[s].unit),i=e[s].position,c=e[s].value):"datetime"===n.config.xaxis.type&&void 0===d&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();var g=new S(this.ctx),v={};v=n.globals.rotateXLabels&&r?g.getTextRects(c,parseInt(o,10),null,"rotate(".concat(n.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(c,parseInt(o,10));var x=!n.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||c.toLowerCase().indexOf("infinity")>=0||a.indexOf(c)>=0&&x)&&(c=""),{x:i,text:c,textRect:v,isBold:u}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var s=this.w,a=s.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(s.globals.gridWidth/120)),a>i||t%Math.round(i/(a+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,s,a){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var r=a[a.length-1];e.x<r.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+r.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new C(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,s,a,o,r){var n=this.w,l=new S(this.ctx),c=n.globals.translateY;if(s.show&&e>0){!0===n.config.yaxis[a].opposite&&(t+=s.width);for(var h=e;h>=0;h--){var d=c+e/10+n.config.yaxis[a].labels.offsetY-1;n.globals.isBarHorizontal&&(d=o*h),"heatmap"===n.config.chart.type&&(d+=o/2);var u=l.drawLine(t+i.offsetX-s.width+s.offsetX,d+s.offsetY,t+i.offsetX+s.offsetX,d+s.offsetY,s.color);r.add(u),c+=o}}}}]),t}(),q=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),s=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",s*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"fixSvgStringForIe11",value:function(t){if(!b.isIE11())return t.replace(/&nbsp;/g,"&#160;");var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2===++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':t}));return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(t){null==t&&(t=1);var e=this.w.globals.dom.Paper.svg();if(1!==t){var i=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(i,t),e=(new XMLSerializer).serializeToString(i)}return this.fixSvgStringForIe11(e)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(t){var e=this;return new Promise((function(i){var s=e.w,a=t?t.scale||t.width/s.globals.svgWidth:1;e.cleanup();var o=document.createElement("canvas");o.width=s.globals.svgWidth*a,o.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var r="transparent"===s.config.chart.background?"#fff":s.config.chart.background,n=o.getContext("2d");n.fillStyle=r,n.fillRect(0,0,o.width*a,o.height*a);var l=e.getSvgString(a);if(window.canvg&&b.isIE11()){var c=window.canvg.Canvg.fromString(n,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var h=o.msToBlob();c.stop(),i({blob:h})}else{var d="data:image/svg+xml,"+encodeURIComponent(l),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(n.drawImage(u,0,0),o.msToBlob){var t=o.msToBlob();i({blob:t})}else{var e=o.toDataURL("image/png");i({imgURI:e})}},u.src=d}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var i=e.imgURI,s=e.blob;s?navigator.msSaveOrOpenBlob(s,t.w.globals.chartID+".png"):t.triggerDownload(i,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,s=t.fileName,a=t.columnDelimiter,o=void 0===a?",":a,r=t.lineDelimiter,n=void 0===r?"\n":r,l=this.w;i||(i=l.config.series);var c=[],h=[],d="",u=l.globals.series.map((function(t,e){return-1===l.globals.collapsedSeriesIndices.indexOf(e)?t:[]})),p=Math.max.apply(Math,v(i.map((function(t){return t.data?t.data.length:0})))),f=new X(this.ctx),m=new V(this.ctx),g=function(t){var i="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var s=l.globals.yLabelFormatters[0],a=new j(e.ctx).getActiveConfigSeriesIndex();i=s(l.globals.labels[t],{seriesIndex:a,dataPointIndex:t,w:l})}else i=m.getLabel(l.globals.labels,l.globals.timescaleLabels,0,t).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?i=l.config.xaxis.categories[t]:l.config.labels.length&&(i=l.config.labels[t]))}else i=l.config.labels[t];return Array.isArray(i)&&(i=i.join(" ")),b.isNumber(i)?i:i.split(o).join("")},x=function(t,e){if(c.length&&0===e&&h.push(c.join(o)),t.data){t.data=t.data.length&&t.data||v(Array(p)).map((function(){return""}));for(var s=0;s<t.data.length;s++){c=[];var a=g(s);if(a||(f.isFormatXY()?a=i[e].data[s].x:f.isFormat2DArray()&&(a=i[e].data[s]?i[e].data[s][0]:"")),0===e){c.push((n=a,"datetime"===l.config.xaxis.type&&String(n).length>=10?l.config.chart.toolbar.export.csv.dateFormatter(a):b.isNumber(a)?a:a.split(o).join("")));for(var r=0;r<l.globals.series.length;r++)f.isFormatXY()?c.push(i[r].data[s].y):c.push(u[r][s])}("candlestick"===l.config.chart.type||t.type&&"candlestick"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),("boxPlot"===l.config.chart.type||t.type&&"boxPlot"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleM[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),"rangeBar"===l.config.chart.type&&(c.pop(),c.push(l.globals.seriesRangeStart[e][s]),c.push(l.globals.seriesRangeEnd[e][s])),c.length&&h.push(c.join(o))}}var n};c.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(c.push("minimum"),c.push("q1"),c.push("median"),c.push("q3"),c.push("maximum")):"candlestick"===l.config.chart.type?(c.push("open"),c.push("high"),c.push("low"),c.push("close")):"rangeBar"===l.config.chart.type?(c.push("minimum"),c.push("maximum")):i.map((function(t,e){var i=t.name?t.name:"series-".concat(e);l.globals.axisCharts&&c.push(i.split(o).join("")?i.split(o).join(""):"series-".concat(e))})),l.globals.axisCharts||(c.push(l.config.chart.toolbar.export.csv.headerValue),h.push(c.join(o))),i.map((function(t,e){l.globals.axisCharts?x(t,e):((c=[]).push(l.globals.labels[e].split(o).join("")),c.push(u[e]),h.push(c.join(o)))})),d+=h.join(n),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+d),s||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var s=document.createElement("a");s.href=t,s.download=(e||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),t}(),G=function(){function t(e,i){n(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.axesUtils=new V(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===s.config.xaxis.position?this.offY=0:this.offY=s.globals.gridHeight+1,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return c(t,[{key:"drawXaxis",value:function(){var t=this.w,e=new S(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),s=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(s);for(var a=[],o=0;o<this.xaxisLabels.length;o++)a.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,s,a,t.globals.isXNumeric,(function(t,e){return e})),t.globals.hasGroups){var r=t.globals.groups;a=[];for(var n=0;n<r.length;n++)a.push(r[n].title);var l={};t.config.xaxis.group.style&&(l.xaxisFontSize=t.config.xaxis.group.style.fontSize,l.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,l.xaxisForeColors=t.config.xaxis.group.style.colors,l.fontWeight=t.config.xaxis.group.style.fontWeight,l.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,s,a,!1,(function(t,e){return r[t].cols*e}),l)}if(void 0!==t.config.xaxis.title.text){var c=e.group({class:"apexcharts-xaxis-title"}),h=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.title.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});c.add(h),i.add(c)}if(t.config.xaxis.axisBorder.show){var d=t.globals.barPadForNumericAxis,u=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(u):i.add(u)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,s,a,o){var r,n=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],h=[],d=this.w,u=l.xaxisFontSize||this.xaxisFontSize,p=l.xaxisFontFamily||this.xaxisFontFamily,f=l.xaxisForeColors||this.xaxisForeColors,m=l.fontWeight||d.config.xaxis.labels.style.fontWeight,g=l.cssClass||d.config.xaxis.labels.style.cssClass,v=d.globals.padHorizontal,x=s.length,y="category"===d.config.xaxis.type?d.globals.dataPoints:x;if(0===y&&x>y&&(y=x),a){var b=y>1?y-1:y;r=d.globals.gridWidth/b,v=v+o(0,r)/2+d.config.xaxis.labels.offsetX}else r=d.globals.gridWidth/y,v=v+o(0,r)+d.config.xaxis.labels.offsetX;for(var w=function(a){var l=v-o(a,r)/2+d.config.xaxis.labels.offsetX;0===a&&1===x&&r/2===v&&1===y&&(l=d.globals.gridWidth/2);var b=n.axesUtils.getLabel(s,d.globals.timescaleLabels,l,a,c,u,t),w=28;if(d.globals.rotateXLabels&&t&&(w=22),d.config.xaxis.title.text&&"top"===d.config.xaxis.position&&(w+=parseFloat(d.config.xaxis.title.style.fontSize)+2),t||(w=w+parseFloat(u)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),b=void 0!==d.config.xaxis.tickAmount&&"dataPoints"!==d.config.xaxis.tickAmount&&"datetime"!==d.config.xaxis.type?n.axesUtils.checkLabelBasedOnTickamount(a,b,x):n.axesUtils.checkForOverflowingLabels(a,b,x,c,h),t&&b.text&&d.globals.xaxisLabelsCount++,d.config.xaxis.labels.show){var k=e.drawText({x:b.x,y:n.offY+d.config.xaxis.labels.offsetY+w-("top"===d.config.xaxis.position?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:b.text,textAnchor:"middle",fontWeight:b.isBold?600:m,fontSize:u,fontFamily:p,foreColor:Array.isArray(f)?t&&d.config.xaxis.convertedCatToNumeric?f[d.globals.minX+a-1]:f[a]:f,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(i.add(k),k.on("click",(function(t){if("function"==typeof d.config.chart.events.xAxisLabelClick){var e=Object.assign({},d,{labelIndex:a});d.config.chart.events.xAxisLabelClick(t,n.ctx,e)}})),t){var S=document.createElementNS(d.globals.SVGNS,"title");S.textContent=Array.isArray(b.text)?b.text.join(" "):b.text,k.node.appendChild(S),""!==b.text&&(c.push(b.text),h.push(b))}}a<x-1&&(v+=o(a+1,r))},k=0;k<=x-1;k++)w(k)}},{key:"drawXaxisInversed",value:function(t){var e,i,s=this,a=this.w,o=new S(this.ctx),r=a.config.yaxis[0].opposite?a.globals.translateYAxisX[t]:0,n=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),l=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+r+", 0)"});n.add(l);var c=[];if(a.config.yaxis[t].show)for(var h=0;h<this.xaxisLabels.length;h++)c.push(this.xaxisLabels[h]);e=a.globals.gridHeight/c.length,i=-e/2.2;var d=a.globals.yLabelFormatters[0],u=a.config.yaxis[0].labels;if(u.show)for(var p=function(r){var n=void 0===c[r]?"":c[r];n=d(n,{seriesIndex:t,dataPointIndex:r,w:a});var h=s.axesUtils.getYAxisForeColor(u.style.colors,t),p=0;Array.isArray(n)&&(p=n.length/2*parseInt(u.style.fontSize,10));var f=o.drawText({x:u.offsetX-15,y:i+e+u.offsetY-p,text:n,textAnchor:s.yaxis.opposite?"start":"end",foreColor:Array.isArray(h)?h[r]:h,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.style.cssClass,maxWidth:u.maxWidth});l.add(f),f.on("click",(function(t){if("function"==typeof a.config.chart.events.xAxisLabelClick){var e=Object.assign({},a,{labelIndex:r});a.config.chart.events.xAxisLabelClick(t,s.ctx,e)}}));var m=document.createElementNS(a.globals.SVGNS,"title");if(m.textContent=Array.isArray(n)?n.join(" "):n,f.node.appendChild(m),0!==a.config.yaxis[t].labels.rotate){var g=o.rotateAroundCenter(f.node);f.node.setAttribute("transform","rotate(".concat(a.config.yaxis[t].labels.rotate," 0 ").concat(g.y,")"))}i+=e},f=0;f<=c.length-1;f++)p(f);if(void 0!==a.config.yaxis[0].title.text){var m=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+r+", 0)"}),g=o.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});m.add(g),n.add(m)}var v=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(v=a.globals.gridWidth);var x=a.config.xaxis.axisBorder;if(x.show){var y=o.drawLine(a.globals.padHorizontal+x.offsetX+v,1+x.offsetY,a.globals.padHorizontal+x.offsetX+v,a.globals.gridHeight+x.offsetY,x.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(y):n.add(y)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,e,n),n}},{key:"drawXaxisTicks",value:function(t,e,i){var s=this.w,a=t;if(!(t<0||t-2>s.globals.gridWidth)){var o=this.offY+s.config.xaxis.axisTicks.offsetY;if(e=e+o+s.config.xaxis.axisTicks.height,"top"===s.config.xaxis.position&&(e=o-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var r=new S(this.ctx).drawLine(t+s.config.xaxis.axisTicks.offsetX,o+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,e+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(r),r.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,s=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)s=this.xaxisLabels[a].position,e.push(s);else for(var o=i,r=0;r<o;r++){var n=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(n-=1),s+=t.globals.gridWidth/n,e.push(s)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new S(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var r=0;r<s.length;r++){var n=e.rotateAroundCenter(s[r]);n.y=n.y-1,n.x=n.x+1,s[r].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(n.x," ").concat(n.y,")")),s[r].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var l=s[r].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(i){e.placeTextWithEllipsis(i,i.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var i=t.globals.gridWidth/(t.globals.labels.length+1),a=0;a<s.length;a++){var o=s[a].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(o,(function(t){e.placeTextWithEllipsis(t,t.textContent,i)}))}}();if(a.length>0){var c=a[a.length-1].getBBox(),h=a[0].getBBox();c.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),h.x+h.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var d=0;d<o.length;d++)e.placeTextWithEllipsis(o[d],o[d].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),U=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new V(e),this.isRangeBar=i.globals.seriesRange.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return c(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new S(this.ctx);null===t&&(t=i.group({class:"apexcharts-grid"}));var s=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),a=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(a),t.add(s),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new S(this.ctx),s=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var a=0;t.config.stroke.width.forEach((function(t){a=Math.max(a,t)})),s=a}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elForecastMask.setAttribute("id","forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(e.cuid));var o=t.config.chart.type,r=0,n=0;("bar"===o||"rangeBar"===o||"candlestick"===o||"boxPlot"===o||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(r=t.config.grid.padding.left,n=t.config.grid.padding.right,e.barPadForNumericAxis>r&&(r=e.barPadForNumericAxis,n=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-s/2-r-2,-s/2,e.gridWidth+s+n+r+4,e.gridHeight+s,0,"#fff");var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elForecastMask),c.appendChild(e.dom.elNonForecastMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.xCount,n=t.parent,l=this.w;if(!(0===e&&l.globals.skipFirstTimelinelabel||e===r-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:s,x2:a,y2:o,xCount:r,parent:n});var c=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var h=l.globals.groups;if(h){for(var d=0,u=0;d<e&&u<h.length;u++)d+=h[u].cols;d===e&&(c=.6*l.globals.xAxisLabelsHeight)}}new G(this.ctx).drawXaxisTicks(i,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.xCount,n=t.parent,l=this.w,c=!1,h=n.node.classList.contains("apexcharts-gridlines-horizontal"),d=l.config.grid.strokeDashArray,u=l.globals.barPadForNumericAxis;(0===s&&0===o||0===i&&0===a)&&(c=!0),s===l.globals.gridHeight&&o===l.globals.gridHeight&&(c=!0),!l.globals.isBarHorizontal||0!==e&&e!==r-1||(c=!0);var p=new S(this).drawLine(i-(h?u:0),s,a+(h?u:0),o,l.config.grid.borderColor,d);p.node.classList.add("apexcharts-gridline"),c?this.elGridBorders.add(p):n.add(p)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.type,n=this.w,l=new S(this.ctx),c=n.globals.barPadForNumericAxis;if("column"!==r||"datetime"!==n.config.xaxis.type){var h=n.config.grid[r].colors[e],d=l.drawRect(i-("row"===r?c:0),s,a+("row"===r?2*c:0),o,0,h,n.config.grid[r].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(r))}}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,s=t.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var o,r=a.globals.padHorizontal,n=a.globals.gridHeight;a.globals.timescaleLabels.length?function(t){for(var s=t.xC,a=t.x1,o=t.y1,r=t.x2,n=t.y2,l=0;l<s;l++)a=e.xaxisLabels[l].position,r=e.xaxisLabels[l].position,e._drawGridLines({i:l,x1:a,y1:o,x2:r,y2:n,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:r,y1:0,x2:o,y2:n}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),a.config.xaxis.convertedCatToNumeric&&(i=a.globals.xaxisLabelsCount),function(t){var s=t.xC,o=t.x1,r=t.y1,n=t.x2,l=t.y2;if(void 0!==a.config.xaxis.tickAmount&&"dataPoints"!==a.config.xaxis.tickAmount&&"on"===a.config.xaxis.tickPlacement)a.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(t,s){var a=t.getBBox();e._drawGridLines({i:s,x1:a.x+a.width/2,y1:r,x2:a.x+a.width/2,y2:l,xCount:i,parent:e.elgridLinesV})}));else for(var c=0;c<s+(a.globals.isXNumeric?0:1);c++)0===c&&1===s&&1===a.globals.dataPoints&&(n=o=a.globals.gridWidth/2),e._drawGridLines({i:c,x1:o,y1:r,x2:n,y2:l,xCount:i,parent:e.elgridLinesV}),n=o+=a.globals.gridWidth/(a.globals.isXNumeric?s-1:s)}({xC:i,x1:r,y1:0,x2:o,y2:n}))}if(a.config.grid.yaxis.lines.show){var l=0,c=0,h=a.globals.gridWidth,d=s+1;this.isRangeBar&&(d=a.globals.labels.length);for(var u=0;u<d+(this.isRangeBar?1:0);u++)this._drawGridLine({i:u,xCount:d+(this.isRangeBar?1:0),x1:0,y1:l,x2:h,y2:c,parent:this.elgridLinesH}),c=l+=a.globals.gridHeight/(this.isRangeBar?d:s)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,a=i.globals.padHorizontal,o=i.globals.gridHeight,r=0;r<e+1;r++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,xCount:e+1,x1:a,y1:0,x2:s,y2:o,parent:this.elgridLinesV}),new G(this.ctx).drawXaxisTicks(a,0,i.globals.dom.elGraphical),s=a=a+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var n=0,l=0,c=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:i.globals.dataPoints+1,x1:0,y1:n,x2:c,y2:l,parent:this.elgridLinesH}),l=n+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new S(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=e.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i,s=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,a=0;a<t.globals.series.length&&(void 0!==t.globals.yAxisScale[a]&&(s=t.globals.yAxisScale[a].result.length-1),!(s>2));a++);return!t.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(s=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:s})):(i=s,s=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:s})),this.drawGridBands(i,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var s=0,a=i.globals.gridHeight/e,o=i.globals.gridWidth,r=0,n=0;r<e;r++,n++)n>=i.config.grid.row.colors.length&&(n=0),this._drawGridBandRect({c:n,x1:0,y1:s,x2:o,y2:a,type:"row"}),s+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,h=i.globals.padHorizontal+i.globals.gridWidth/l,d=i.globals.gridHeight,u=0,p=0;u<t;u++,p++)p>=i.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:c,y1:0,x2:h,y2:d,type:"column"}),c+=i.globals.gridWidth/l}}]),t}(),Z=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"niceScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=this.w,r=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,s,r))&&(i=o.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!b.isNumber(t)&&!b.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){t=0,e=i;var n=this.linearScale(t,e,i);return n}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[];r<1&&a&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[s].type||"boxPlot"===o.config.chart.type||"boxPlot"===o.config.series[s].type||o.globals.isRangeData)&&(e*=1.01);var c=i+1;c<2?c=2:c>2&&(c-=2);var h=r/c,d=Math.floor(b.log10(h)),u=Math.pow(10,d),p=Math.round(h/u);p<1&&(p=1);var f=p*u,m=f*Math.floor(t/f),g=f*Math.ceil(e/f),v=m;if(a&&r>2){for(;l.push(v),!((v+=f)>g););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var x=t;(l=[]).push(x);for(var y=Math.abs(e-t)/i,w=0;w<=i;w++)x+=y,l.push(x);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3?arguments[3]:void 0,a=Math.abs(e-t);"dataPoints"===(i=this._adjustTicksForSmallRange(i,s,a))&&(i=this.w.globals.dataPoints-1);var o=a/i;i===Number.MAX_VALUE&&(i=10,o=1);for(var r=[],n=t;i>=0;)r.push(n),n+=o,i-=1;return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<a;o++)s.push(Math.pow(i,o));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),r=a-o,n=Math.round(r),l=r/n,c=0,h=o;c<n;c++,h+=l)s.push(Math.pow(i,h));return s.push(Math.pow(i,a)),{result:s,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var s=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var a=this.w.config.yaxis[e].labels.formatter(1);b.isNumber(Number(a))&&!b.isFloat(a)&&(s=Math.ceil(i))}return s<t?s:t}},{key:"setYScaleForIndex",value:function(t,e,i){var s=this.w.globals,a=this.w.config,o=s.isBarHorizontal?a.xaxis:a.yaxis[t];void 0===s.yAxisScale[t]&&(s.yAxisScale[t]=[]);var r=Math.abs(i-e);if(o.logarithmic&&r<=5&&(s.invalidLogScale=!0),o.logarithmic&&r>5)s.allSeriesCollapsed=!1,s.yAxisScale[t]=this.logarithmicScale(e,i,o.logBase),s.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase);else if(i!==-Number.MAX_VALUE&&b.isNumber(i))if(s.allSeriesCollapsed=!1,void 0===o.min&&void 0===o.max||o.forceNiceScale){var n=void 0===a.yaxis[t].max&&void 0===a.yaxis[t].min||a.yaxis[t].forceNiceScale;s.yAxisScale[t]=this.niceScale(e,i,o.tickAmount?o.tickAmount:r<5&&r>1?r+1:5,t,n)}else s.yAxisScale[t]=this.linearScale(e,i,o.tickAmount,t);else s.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,s=i.globals,a=i.config.xaxis,o=Math.abs(e-t);return e!==-Number.MAX_VALUE&&b.isNumber(e)?s.xAxisScale=this.linearScale(t,e,a.tickAmount?a.tickAmount:o<5&&o>1?o+1:5,0):s.xAxisScale=this.linearScale(0,5,5),s.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,i=this.w.config,s=e.minYArr.concat([]),a=e.maxYArr.concat([]),o=[];i.yaxis.forEach((function(e,r){var n=r;i.series.forEach((function(t,i){t.name===e.seriesName&&(n=i,r!==i?o.push({index:i,similarIndex:r,alreadyExists:!0}):o.push({index:i}))}));var l=s[n],c=a[n];t.setYScaleForIndex(r,l,c)})),this.sameScaleInMultipleAxes(s,a,o)}},{key:"sameScaleInMultipleAxes",value:function(t,e,i){var s=this,a=this.w.config,o=this.w.globals,r=[];i.forEach((function(t){t.alreadyExists&&(void 0===r[t.index]&&(r[t.index]=[]),r[t.index].push(t.index),r[t.index].push(t.similarIndex))})),o.yAxisSameScaleIndices=r,r.forEach((function(t,e){r.forEach((function(i,s){var a,o;e!==s&&(a=t,o=i,a.filter((function(t){return-1!==o.indexOf(t)}))).length>0&&(r[e]=r[e].concat(r[s]))}))}));var n=r.map((function(t){return t.filter((function(e,i){return t.indexOf(e)===i}))})).map((function(t){return t.sort()}));r=r.filter((function(t){return!!t}));var l=n.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var h=[],d=[];t.forEach((function(t,i){l.forEach((function(s,a){s.indexOf(i)>-1&&(void 0===h[a]&&(h[a]=[],d[a]=[]),h[a].push({key:i,value:t}),d[a].push({key:i,value:e[i]}))}))}));var u=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);h.forEach((function(t,e){t.forEach((function(t,i){u[e]=Math.min(t.value,u[e])}))})),d.forEach((function(t,e){t.forEach((function(t,i){p[e]=Math.max(t.value,p[e])}))})),t.forEach((function(t,e){d.forEach((function(t,i){var r=u[i],n=p[i];a.chart.stacked&&(n=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(n+=t.value),r!==Number.MIN_VALUE&&(r+=h[i][e].value)}))),t.forEach((function(i,l){t[l].key===e&&(void 0!==a.yaxis[e].min&&(r="function"==typeof a.yaxis[e].min?a.yaxis[e].min(o.minY):a.yaxis[e].min),void 0!==a.yaxis[e].max&&(n="function"==typeof a.yaxis[e].max?a.yaxis[e].max(o.maxY):a.yaxis[e].max),s.setYScaleForIndex(e,r,n))}))}))}))}},{key:"autoScaleY",value:function(t,e,i){t||(t=this);var s=t.w;if(s.globals.isMultipleYAxis||s.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var a=s.globals.seriesX[0],o=s.config.chart.stacked;return e.forEach((function(t,r){for(var n=0,l=0;l<a.length;l++)if(a[l]>=i.xaxis.min){n=l;break}var c,h,d=s.globals.minYArr[r],u=s.globals.maxYArr[r],p=s.globals.stackedSeriesTotals;s.globals.series.forEach((function(r,l){var f=r[n];o?(f=p[n],c=h=f,p.forEach((function(t,e){a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min&&(t>h&&null!==t&&(h=t),r[e]<c&&null!==r[e]&&(c=r[e]))}))):(c=h=f,r.forEach((function(t,e){if(a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min){var o=t,r=t;s.globals.series.forEach((function(i,s){null!==t&&(o=Math.min(i[e],o),r=Math.max(i[e],r))})),r>h&&null!==r&&(h=r),o<c&&null!==o&&(c=o)}}))),void 0===c&&void 0===h&&(c=d,h=u),h*=h<0?.9:1.1,0===(c*=c<0?1.1:.9)&&0===h&&(c=-1,h=1),h<0&&h<u&&(h=u),c<0&&c>d&&(c=d),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?h:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?h:t.max)}))})),e}}]),t}(),K=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.scales=new Z(e)}return c(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,o=this.w.globals,r=-Number.MAX_VALUE,n=Number.MIN_VALUE;null===s&&(s=t+1);var l=o.series,c=l,h=l;"candlestick"===a.chart.type?(c=o.seriesCandleL,h=o.seriesCandleH):"boxPlot"===a.chart.type?(c=o.seriesCandleO,h=o.seriesCandleC):o.isRangeData&&(c=o.seriesRangeStart,h=o.seriesRangeEnd);for(var d=t;d<s;d++){o.dataPoints=Math.max(o.dataPoints,l[d].length),o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(t){return void 0!==t})).length);for(var u=0;u<o.series[d].length;u++){var p=l[d][u];null!==p&&b.isNumber(p)?(void 0!==h[d][u]&&(r=Math.max(r,h[d][u]),e=Math.min(e,h[d][u])),void 0!==c[d][u]&&(e=Math.min(e,c[d][u]),i=Math.max(i,c[d][u])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==o.seriesCandleC[d][u]&&(r=Math.max(r,o.seriesCandleO[d][u]),r=Math.max(r,o.seriesCandleH[d][u]),r=Math.max(r,o.seriesCandleL[d][u]),r=Math.max(r,o.seriesCandleC[d][u]),"boxPlot"===this.w.config.chart.type&&(r=Math.max(r,o.seriesCandleM[d][u]))),!a.series[d].type||"candlestick"===a.series[d].type&&"boxPlot"===a.series[d].type&&"rangeArea"===a.series[d].type&&"rangeBar"===a.series[d].type||(r=Math.max(r,o.series[d][u]),e=Math.min(e,o.series[d][u])),i=r),o.seriesGoals[d]&&o.seriesGoals[d][u]&&Array.isArray(o.seriesGoals[d][u])&&o.seriesGoals[d][u].forEach((function(t){n!==Number.MIN_VALUE&&(n=Math.min(n,t.value),e=n),r=Math.max(r,t.value),i=r})),b.isFloat(p)&&(p=b.noExponents(p),o.yValueDecimal=Math.max(o.yValueDecimal,p.toString().split(".")[1].length)),n>c[d][u]&&c[d][u]<0&&(n=c[d][u])):o.hasNullValues=!0}}return"rangeBar"===a.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(n=e),"bar"===a.chart.type&&(n<0&&r<0&&(r=0),n===Number.MIN_VALUE&&(n=0)),{minY:n,maxY:r,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var s=0;s<t.series.length;s++){var a=this.getMinYMaxY(s,i,null,s+1);t.minYArr.push(a.minY),t.maxYArr.push(a.maxY),i=a.lowestY}var o=this.getMinYMaxY(0,i,null,t.series.length);if(t.minY=o.minY,t.maxY=o.maxY,i=o.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==t.maxY){var r=t.maxY-i;(i>=0&&i<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(r=0),t.minY=i-5*r/100,i>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*r/100}return e.yaxis.forEach((function(e,i){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[i]=e.max:"function"==typeof e.max&&(t.maxYArr[i]=e.max(t.isMultipleYAxis?t.maxYArr[i]:t.maxY)),t.maxY=t.maxYArr[i]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[i]=e.min:"function"==typeof e.min&&(t.minYArr[i]=e.min(t.isMultipleYAxis?t.minYArr[i]===Number.MIN_VALUE?0:t.minYArr[i]:t.minY)),t.minY=t.minYArr[i])})),t.isBarHorizontal&&["min","max"].forEach((function(i){void 0!==e.xaxis[i]&&"number"==typeof e.xaxis[i]&&("min"===i?t.minY=e.xaxis[i]:t.maxY=e.xaxis[i])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=i,t.yAxisScale.forEach((function(e,i){t.minYArr[i]=e.niceMin,t.maxYArr[i]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var i=0;i<t.labels[e].length;i++)null!==t.labels[e][i]&&b.isNumber(t.labels[e][i])&&(t.maxX=Math.max(t.maxX,t.labels[e][i]),t.initialMaxX=Math.max(t.maxX,t.labels[e][i]),t.minX=Math.min(t.minX,t.labels[e][i]),t.initialMinX=Math.min(t.minX,t.labels[e][i]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var s;if(void 0===e.xaxis.tickAmount?(s=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(s=t.dataPoints-1),s>t.dataPoints&&0!==t.dataPoints&&(s=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(s=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(s=t.maxX-t.minX-1)):s=e.xaxis.tickAmount,t.xTickAmount=s,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var a=[],o=t.minX-1;o<t.maxX;o++)a.push(o+1);t.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,s,s),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,s-1),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&b.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new O(this.ctx);if("datetime"===e.xaxis.type){var s=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),t.minX=new Date(s).getTime();var a=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),t.maxX=new Date(a).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var s=e.slice();s.sort((function(t,e){return t-e})),s.forEach((function(e,i){if(i>0){var a=e-s[i-1];a>0&&(t.minXDiff=Math.min(a,t.minXDiff))}})),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++)for(var a=0,o=0,r=0;r<t.series.length;r++)null!==t.series[r][s]&&b.isNumber(t.series[r][s])&&(t.series[r][s]>0?a=a+parseFloat(t.series[r][s])+1e-4:o+=parseFloat(t.series[r][s])),r===t.series.length-1&&(e.push(a),i.push(o));for(var n=0;n<e.length;n++)t.maxY=Math.max(t.maxY,e[n]),t.minY=Math.min(t.minY,i[n])}}]),t}(),J=function(){function t(e,i){n(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===s.config.xaxis.position&&(this.xAxisoffX=s.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new V(e)}return c(t,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,s=new S(this.ctx),a=i.config.yaxis[t].labels.style,o=a.fontSize,r=a.fontFamily,n=a.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return l;var c=s.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var h=i.globals.yAxisScale[t].result.length-1,d=i.globals.gridHeight/h,u=i.globals.translateY,p=i.globals.yLabelFormatters[t],f=i.globals.yAxisScale[t].result.slice();f=this.axesUtils.checkForReversedLabels(t,f);var m="";if(i.config.yaxis[t].labels.show)for(var g=function(l){var g=f[l];g=p(g,l,i);var v=i.config.yaxis[t].labels.padding;i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(v*=-1);var x=e.axesUtils.getYAxisForeColor(a.colors,t),y=s.drawText({x:v,y:u+h/10+i.config.yaxis[t].labels.offsetY+1,text:g,textAnchor:i.config.yaxis[t].opposite?"start":"end",fontSize:o,fontFamily:r,fontWeight:n,maxWidth:i.config.yaxis[t].labels.maxWidth,foreColor:Array.isArray(x)?x[l]:x,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});l===h&&(m=y),c.add(y);var b=document.createElementNS(i.globals.SVGNS,"title");if(b.textContent=Array.isArray(g)?g.join(" "):g,y.node.appendChild(b),0!==i.config.yaxis[t].labels.rotate){var w=s.rotateAroundCenter(m.node),k=s.rotateAroundCenter(y.node);y.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(w.x," ").concat(k.y,")"))}u+=d},v=h;v>=0;v--)g(v);if(void 0!==i.config.yaxis[t].title.text){var x=s.group({class:"apexcharts-yaxis-title"}),y=0;i.config.yaxis[t].opposite&&(y=i.globals.translateYAxisX[t]);var b=s.drawText({x:y,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass});x.add(b),l.add(x)}var w=i.config.yaxis[t].axisBorder,k=31+w.offsetX;if(i.config.yaxis[t].opposite&&(k=-31-w.offsetX),w.show){var C=s.drawLine(k,i.globals.translateY+w.offsetY-2,k,i.globals.gridHeight+i.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(C)}return i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,h,w,i.config.yaxis[t].axisTicks,t,d,l),l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new S(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);var o=e.globals.yAxisScale[t].result.length-1,r=e.globals.gridWidth/o+.1,n=r+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),h=e.globals.timescaleLabels;h.length>0&&(this.xaxisLabels=h.slice(),o=(c=h.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var d=h.length;if(e.config.xaxis.labels.show)for(var u=d?0:o;d?u<d:u>=0;d?u++:u--){var p=c[u];p=l(p,u,e);var f=e.globals.gridWidth+e.globals.padHorizontal-(n-r+e.config.xaxis.labels.offsetX);if(h.length){var m=this.axesUtils.getLabel(c,h,f,u,this.drawnLabels,this.xaxisFontSize);f=m.x,p=m.text,this.drawnLabels.push(m.text),0===u&&e.globals.skipFirstTimelinelabel&&(p=""),u===c.length-1&&e.globals.skipLastTimelinelabel&&(p="")}var g=i.drawText({x:f,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});a.add(g),g.tspan(p);var v=document.createElementNS(e.globals.SVGNS,"title");v.textContent=p,g.node.appendChild(v),n+=r}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new S(this.ctx),s=e.config.xaxis.axisBorder;if(s.show){var a=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(a-=15);var o=i.drawLine(e.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(o):t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new S(this.ctx);if(void 0!==e.config.xaxis.title.text){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});s.add(a),t.add(s)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,s=new S(this.ctx),a={width:0,height:0},o={width:0,height:0},r=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==r&&(a=r.getBoundingClientRect());var n=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==n&&(o=n.getBoundingClientRect()),null!==n){var l=this.xPaddingForYAxisTitle(t,a,o,e);n.setAttribute("x",l.xPos-(e?10:0))}if(null!==n){var c=s.rotateAroundCenter(n);n.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,s){var a=this.w,o=0,r=0,n=10;return void 0===a.config.yaxis[t].title.text||t<0?{xPos:r,padd:0}:(s?(r=e.width+a.config.yaxis[t].title.offsetX+i.width/2+n/2,0===(o+=1)&&(r-=n/2)):(r=-1*e.width+a.config.yaxis[t].title.offsetX+n/2+i.width/2,a.globals.isBarHorizontal&&(n=25,r=-1*e.width-a.config.yaxis[t].title.offsetX-n)),{xPos:r,padd:n})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,s=0,a=0,o=18,r=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map((function(n,l){var c=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!n.show||n.floating||0===t[l].width,h=t[l].width+e[l].width;n.opposite?i.globals.isBarHorizontal?(a=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[l]=a-n.labels.offsetX):(a=i.globals.gridWidth+i.globals.translateX+r,c||(r=r+h+20),i.globals.translateYAxisX[l]=a-n.labels.offsetX+20):(s=i.globals.translateX-o,c||(o=o+h+20),i.globals.translateYAxisX[l]=s+n.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=b.listToArray(e)).forEach((function(e,i){var s=t.config.yaxis[i];if(s&&void 0!==s.labels.align){var a=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"));o=b.listToArray(o);var r=a.getBoundingClientRect();"left"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","start")})),s.opposite||a.setAttribute("transform","translate(-".concat(r.width,", 0)"))):"center"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),a.setAttribute("transform","translate(".concat(r.width/2*(s.opposite?1:-1),", 0)"))):"right"===s.labels.align&&(o.forEach((function(t,e){t.setAttribute("text-anchor","end")})),s.opposite&&a.setAttribute("transform","translate(".concat(r.width,", 0)")))}}))}}]),t}(),Q=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.documentEvent=b.bind(this.documentEvent,this)}return c(t,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var s=i.globals.events[t].indexOf(e);-1!==s&&i.globals.events[t].splice(s,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var s=i.globals.events[t],a=s.length,o=0;o<a;o++)s[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,s=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){s.addEventListener(t,(function(t){var s=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,i,s):"mouseleave"===t.type||"touchleave"===t.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(t,i,s):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,i,s),i.ctx.events.fireEvent("click",[t,i,s]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){e.globals.dom.baseEl.addEventListener(i,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var s=e.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&s.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),tt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(e){return e.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=b.extend(L,i);this.w.globals.locale=s.options}}]),t}(),et=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawAxis",value:function(t,e){var i,s,a=this.w.globals,o=this.w.config,r=new G(this.ctx,e),n=new J(this.ctx,e);a.axisCharts&&"radar"!==t&&(a.isBarHorizontal?(s=n.drawYaxisInversed(0),i=r.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(s)):(i=r.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map((function(t,e){-1===a.ignoreYAxisIndexes.indexOf(e)&&(s=n.drawYaxis(e),a.dom.Paper.add(s))}))))}}]),t}(),it=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new S(this.ctx),i=new k(this.ctx),s=t.config.xaxis.crosshairs.fill.gradient,a=t.config.xaxis.crosshairs.dropShadow,o=t.config.xaxis.crosshairs.fill.type,r=s.colorFrom,n=s.colorTo,l=s.opacityFrom,c=s.opacityTo,h=s.stops,d=a.enabled,u=a.left,p=a.top,f=a.blur,m=a.color,g=a.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===o&&(v=e.drawGradient("vertical",r,n,l,c,null,h,null));var x=e.drawRect();1===t.config.xaxis.crosshairs.width&&(x=e.drawLine());var y=t.globals.gridHeight;(!b.isNumber(y)||y<0)&&(y=0);var w=t.config.xaxis.crosshairs.width;(!b.isNumber(w)||w<0)&&(w=0),x.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:y,width:w,height:y,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),d&&(x=i.dropShadow(x,{left:u,top:p,blur:f,color:m,opacity:g})),t.globals.dom.elGraphical.add(x)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new S(this.ctx),i=t.config.yaxis[0].crosshairs,s=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var a=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(a)}var o=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),t}(),st=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,s=i.config;if(0!==s.responsive.length){var a=s.responsive.slice();a.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var o=new B({}),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a[0].breakpoint,r=window.innerWidth>0?window.innerWidth:screen.width;if(r>s){var n=C.extendArrayProps(o,i.globals.initialConfig,i);t=b.extend(n,t),t=b.extend(i.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<a.length;l++)r<a[l].breakpoint&&(t=C.extendArrayProps(o,a[l].options,i),t=b.extend(i.config,t),e.overrideResponsiveOptions(t))};if(t){var n=C.extendArrayProps(o,t,i);n=b.extend(i.config,n),r(n=b.extend(n,t))}else r({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new B(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),at=function(){function t(e){n(this,t),this.ctx=e,this.colors=[],this.w=e.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===i.config.chart.type&&i.config.plotOptions.treemap.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)}return c(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,i=new b;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(i,s){var a=e.config.colors[s];return a||(a=e.config.colors[0]),"function"==typeof a?(t.isColorFn=!0,a({value:e.globals.axisCharts?e.globals.series[s][0]?e.globals.series[s][0]:0:e.globals.series[s],seriesIndex:s,dataPointIndex:s,w:e})):a})))),e.globals.seriesColors.map((function(t,i){t&&(e.globals.colors[i]=t)})),e.config.theme.monochrome.enabled){var s=[],a=e.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=e.globals.series[0].length*e.globals.series.length);for(var o=e.config.theme.monochrome.color,r=1/(a/e.config.theme.monochrome.shadeIntensity),n=e.config.theme.monochrome.shadeTo,l=0,c=0;c<a;c++){var h=void 0;"dark"===n?(h=i.shadeColor(-1*l,o),l+=r):(h=i.shadeColor(l,o),l+=r),s.push(h)}e.globals.colors=s.slice()}var d=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(i){void 0===e.config[i].colors?e.globals[i].colors=t.isColorFn?e.config.colors:d:e.globals[i].colors=e.config[i].colors.slice(),t.pushExtraColors(e.globals[i].colors)})),void 0===e.config.dataLabels.style.colors?e.globals.dataLabels.style.colors=d:e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),void 0===e.config.plotOptions.radar.polygons.fill.colors?e.globals.radarPolygons.fill.colors=["dark"===e.config.theme.mode?"#424242":"none"]:e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),void 0===e.config.markers.colors?e.globals.markers.colors=d:e.globals.markers.colors=e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=e||s.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),t.length<a)for(var o=a-t.length,r=0;r<o;r++)t.push(t[r])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",s=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=s,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),t}(),ot=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,s=e.globals.svgWidth/2,a=i.offsetY,o="middle";if("left"===i.align?(s=10,o="start"):"right"===i.align&&(s=e.globals.svgWidth-10,o="end"),s+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var r=new S(this.ctx).drawText({x:s,y:a,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});r.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(r)}}}]),t}(),rt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,s=0,a="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!a){var r=o.getBoundingClientRect();i=r.width,s=e.globals.axisCharts?r.height+5:r.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},b.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var s=e.map((function(t,e){return Array.isArray(t)?t.length:1})),a=Math.max.apply(Math,v(s));i=e[s.indexOf(a)]}return i}}]),t}(),nt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();t={width:s.width,height:s.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var a=e.globals.xLabelFormatter,o=b.getLargestStringFromArr(i),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);e.globals.isBarHorizontal&&(r=o=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var n=new Y(this.dCtx.ctx),l=o;o=n.xLabelFormat(a,o,l,{i:void 0,dateFormatter:new O(this.dCtx.ctx).formatDate,w:e}),r=n.xLabelFormat(a,r,l,{i:void 0,dateFormatter:new O(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(r=o="1");var c=new S(this.dCtx.ctx),h=c.getTextRects(o,e.config.xaxis.labels.style.fontSize),d=h;if(o!==r&&(d=c.getTextRects(r,e.config.xaxis.labels.style.fontSize)),(t={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var u=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};h=u(o),o!==r&&(d=u(r)),t.height=(h.height>d.height?h.height:d.height)/1.5,t.width=h.width>d.width?h.width:d.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasGroups)return{width:0,height:0};var i,s=(null===(t=e.config.xaxis.group.style)||void 0===t?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,a=e.globals.groups.map((function(t){return t.title})),o=b.getLargestStringFromArr(a),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,a),n=new S(this.dCtx.ctx),l=n.getTextRects(o,s),c=l;return o!==r&&(c=n.getTextRects(r,s)),i={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var s=new S(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=s.width,i=s.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(t){return t.value})),s=i.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new S(this.dCtx.ctx).getTextRects(s,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,s=i.globals,a=i.config,o=a.xaxis.type,r=t.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var n=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,l=function(t,n){(function(t){return-1!==s.collapsedSeriesIndices.indexOf(t)})(n)||function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var n=e.dCtx.timescaleLabels[0],l=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+r/1.75-e.dCtx.yAxisWidthRight,c=n.position-r/1.75+e.dCtx.yAxisWidthLeft,h="right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;l>s.svgWidth-s.translateX-h&&(s.skipLastTimelinelabel=!0),c<-(t.show&&!t.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:r/1.75)&&(s.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<r&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<r/2-e.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(e.dCtx.xPadRight=r/2+1)}(t)};a.yaxis.forEach((function(t,i){n?(e.dCtx.gridPad.left<r&&(e.dCtx.xPadLeft=r/2+1),e.dCtx.xPadRight=r/2+1):l(t,i)}))}}]),t}(),lt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],s=10,a=new V(this.dCtx.ctx);return e.config.yaxis.map((function(o,r){var n=e.globals.yAxisScale[r],l=0;if(!a.isYAxisHidden(r)&&o.labels.show&&void 0!==o.labels.minWidth&&(l=o.labels.minWidth),!a.isYAxisHidden(r)&&o.labels.show&&n.result.length){var c=e.globals.yLabelFormatters[r],h=n.niceMin===Number.MIN_VALUE?0:n.niceMin,d=String(h).length>String(n.niceMax).length?h:n.niceMax,u=c(d,{seriesIndex:r,dataPointIndex:-1,w:e}),p=u;if(void 0!==u&&0!==u.length||(u=d),e.globals.isBarHorizontal){s=0;var f=e.globals.labels.slice();u=c(u=b.getLargestStringFromArr(f),{seriesIndex:r,dataPointIndex:-1,w:e}),p=t.dCtx.dimHelpers.getLargestStringFromMultiArr(u,f)}var m=new S(t.dCtx.ctx),g="rotate(".concat(o.labels.rotate," 0 0)"),v=m.getTextRects(u,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1),x=v;u!==p&&(x=m.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1)),i.push({width:(l>x.width||l>v.width?l:x.width>v.width?x.width:v.width)+s,height:x.height>v.height?x.height:v.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(e,s){if(e.show&&void 0!==e.title.text){var a=new S(t.dCtx.ctx),o="rotate(".concat(e.title.rotate," 0 0)"),r=a.getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,o,!1);i.push({width:r.width,height:r.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,s=0,a=t.globals.yAxisScale.length>1?10:0,o=new V(this.dCtx.ctx),r=function(r,n){var l=t.config.yaxis[n].floating,c=0;r.width>0&&!l?(c=r.width+a,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(n)&&(c=c-r.width-a)):c=l||o.isYAxisHidden(n)?0:5,t.config.yaxis[n].opposite?s+=c:i+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){r(t,e)})),t.globals.yTitleCoords.map((function(t,e){r(t,e)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,e}}]),t}(),ct=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=function(t){return"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t},s=e.config.chart.type,a=0,o=i(s)?e.config.series.length:1;if(e.globals.comboBarCount>0&&(o=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){i(t.type)&&(o-=1)})),e.config.chart.stacked&&(o=1),(i(s)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&o>0){var r,n,l=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);l<=3&&(l=e.globals.dataPoints),r=l/t,e.globals.minXDiff&&e.globals.minXDiff/r>0&&(n=e.globals.minXDiff/r),n>t/2&&(n/=2),(a=n/o*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),a=a/(o>1?1:1.5)+5,e.globals.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,s=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(i){void 0!==e.config[i].text?s+=e.config[i].margin:s+=t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||e.globals.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-a.height-o.height-s,i.translateY=i.translateY+a.height+o.height+s}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,s=new V(this.dCtx.ctx);i.config.yaxis.map((function(a,o){-1!==i.globals.ignoreYAxisIndexes.indexOf(o)||a.floating||s.isYAxisHidden(o)||(a.opposite&&(i.globals.translateX=i.globals.translateX-(e[o].width+t[o].width)-parseInt(i.config.yaxis[o].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),t}(),ht=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rt(this),this.dimYAxis=new lt(this),this.dimXAxis=new nt(this),this.dimGrid=new ct(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(t,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(e){var i=g(e,2),s=i[0],a=i[1];t.gridPad[s]=Math.max(a,t.w.globals.markers.largestSize/1.5)})),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s+4:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,i){e.globals.yLabelsCoords.push({width:s[i].width,index:i}),e.globals.yTitleCoords.push({width:a[i].width,index:i})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),r=this.dimXAxis.getxAxisGroupLabelsCoords(),n=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,n,r),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-n.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var h=10;("radar"===e.config.chart.type||this.isSparkline)&&(l=0,c=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(l=0,c=0,h=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(o);var d=function(){i.translateX=l,i.gridHeight=i.svgHeight-t.lgRect.height-c-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-l};switch("top"===e.config.xaxis.position&&(h=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=h,d();break;case"top":i.translateY=this.lgRect.height+h,d();break;case"left":i.translateY=h,i.translateX=this.lgRect.width+l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l;break;case"right":i.translateY=h,i.translateX=l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new J(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,s=0;t.config.legend.show&&!t.config.legend.floating&&(s=20);var a="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",o=i.plotOptions[a].offsetY,r=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=o,void(e.translateX=r+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=o-10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+o+10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-s,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+this.lgRect.width+s;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-s-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var s=this.w,a=s.globals.hasGroups?2:1,o=i.height+t.height+e.height,r=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,n=s.globals.rotateXLabels?22:10,l=s.globals.rotateXLabels&&"bottom"===s.config.legend.position?10:0;this.xAxisHeight=o*r+a*n+l,this.xAxisWidth=t.width,this.xAxisHeight-e.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,h=0;s.config.yaxis.forEach((function(t){c+=t.labels.minWidth,h+=t.labels.maxWidth})),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),t}(),dt=function(){function t(e){n(this,t),this.w=e.w,this.lgCtx=e}return c(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,s=this.w;if(s.globals.axisCharts||"radialBar"===s.config.chart.type){s.globals.resized=!0;var a=null,o=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(a.getAttribute("rel"),10)-1),e?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){i.riseCollapsedSeries(t.cs,t.csi,o)})):this.hideSeries({seriesEl:a,realIndex:o})}else{var r=s.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),n=s.config.chart.type;if("pie"===n||"polarArea"===n||"donut"===n){var l=s.config.plotOptions.pie.donut.labels;new S(this.lgCtx.ctx).pathMouseDown(r.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(r.members[0].node,l)}r.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,s=this.w,a=b.clone(s.config.series);if(s.globals.axisCharts){var o=!1;if(s.config.yaxis[i]&&s.config.yaxis[i].show&&s.config.yaxis[i].showAlways&&(o=!0,s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(s.globals.ancillaryCollapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.ancillaryCollapsedSeriesIndices.push(i))),!o){s.globals.collapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.collapsedSeriesIndices.push(i);var r=s.globals.risingSeries.indexOf(i);s.globals.risingSeries.splice(r,1)}}else s.globals.collapsedSeries.push({index:i,data:a[i]}),s.globals.collapsedSeriesIndices.push(i);for(var n=e.childNodes,l=0;l<n.length;l++)n[l].classList.contains("apexcharts-series-markers-wrap")&&(n[l].classList.contains("apexcharts-hide")?n[l].classList.remove("apexcharts-hide"):n[l].classList.add("apexcharts-hide"));s.globals.allSeriesCollapsed=s.globals.collapsedSeries.length===s.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var s=this.w,a=b.clone(s.config.series);if(t.length>0){for(var o=0;o<t.length;o++)t[o].index===i&&(s.globals.axisCharts?(a[i].data=t[o].data.slice(),t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)):(a[i]=t[o].data,t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w;return e.globals.axisCharts?t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s].data=[])})):t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s]=0)})),t}}]),t}(),ut=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new dt(this)}return c(t,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),b.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,s=e.globals.seriesNames,a=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var o=e.config.plotOptions.heatmap.colorScale.ranges;s=o.map((function(t){return t.name?t.name:t.from+" - "+t.to})),a=o.map((function(t){return t.color}))}else this.isBarsDistributed&&(s=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(s=e.config.legend.customLegendItems);for(var r=e.globals.legendFormatter,n=e.config.legend.inverseOrder,l=n?s.length-1:0;n?l>=0:l<=s.length-1;n?l--:l++){var c=r(s[l],{seriesIndex:l,w:e}),h=!1,d=!1;if(e.globals.collapsedSeries.length>0)for(var u=0;u<e.globals.collapsedSeries.length;u++)e.globals.collapsedSeries[u].index===l&&(h=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<e.globals.ancillaryCollapsedSeriesIndices.length;p++)e.globals.ancillaryCollapsedSeriesIndices[p]===l&&(d=!0);var f=document.createElement("span");f.classList.add("apexcharts-legend-marker");var m=e.config.legend.markers.offsetX,g=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,x=e.config.legend.markers.width,y=e.config.legend.markers.strokeWidth,w=e.config.legend.markers.strokeColor,k=e.config.legend.markers.radius,A=f.style;A.background=a[l],A.color=a[l],A.setProperty("background",a[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(A.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(A.background=e.globals.seriesColors[l],A.color=e.globals.seriesColors[l]),A.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",A.width=Array.isArray(x)?parseFloat(x[l])+"px":parseFloat(x)+"px",A.left=(Array.isArray(m)?parseFloat(m[l]):parseFloat(m))+"px",A.top=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",A.borderWidth=Array.isArray(y)?y[l]:y,A.borderColor=Array.isArray(w)?w[l]:w,A.borderRadius=Array.isArray(k)?parseFloat(k[l])+"px":parseFloat(k)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(f.innerHTML=e.config.legend.markers.customHTML[l]()):f.innerHTML=e.config.legend.markers.customHTML()),S.setAttrs(f,{rel:l+1,"data:collapsed":h||d}),(h||d)&&f.classList.add("apexcharts-inactive-legend");var T=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(c)?c.join(" "):c;var M=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;M||(M=e.config.chart.foreColor),I.style.color=M,I.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",I.style.fontWeight=e.config.legend.fontWeight,I.style.fontFamily=i||e.config.chart.fontFamily,S.setAttrs(I,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":h||d}),T.appendChild(f),T.appendChild(I);var L=new C(this.ctx);e.config.legend.showForZeroSeries||0===L.getSeriesTotalByIndex(l)&&L.seriesHaveSameValues(l)&&!L.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&T.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||L.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&T.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(T),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),T.classList.add("apexcharts-legend-series"),T.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",S.setAttrs(T,{rel:l+1,seriesName:b.escapeString(s[l]),"data:collapsed":h||d}),(h||d)&&T.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||T.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,s=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),a=s.getBoundingClientRect(),o=0,r=0;if("bottom"===i.config.legend.position)r+=i.globals.svgHeight-a.height/2;else if("top"===i.config.legend.position){var n=new ht(this.ctx),l=n.dimHelpers.getTitleSubtitleCoords("title").height,c=n.dimHelpers.getTitleSubtitleCoords("subtitle").height;r=r+(l>0?l-10:0)+(c>0?c-10:0)}s.style.position="absolute",o=o+t+i.config.legend.offsetX,r=r+e+i.config.legend.offsetY,s.style.left=o+"px",s.style.top=r+"px","bottom"===i.config.legend.position?(s.style.top="auto",s.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(t){s.style[t]&&(s.style[t]=parseInt(i.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new ht(this.ctx),s=i.dimHelpers.getTitleSubtitleCoords("title"),a=i.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===t.config.legend.position?o=-e.clwh/1.8:"top"===t.config.legend.position&&(o=s.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var s=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new j(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new j(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,s="true"===t.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&t.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),t}(),pt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return c(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=e.config.chart.toolbar.offsetY+"px",s.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var o=[],r=function(i,s,a){var r=i.toLowerCase();t.t[r]&&e.config.chart.zoom.enabled&&o.push({el:s,icon:"string"==typeof t.t[r]?t.t[r]:a,title:t.localeValues[i],class:"apexcharts-".concat(r,"-icon")})};r("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),r("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var n=function(i){t.t[i]&&e.config.chart[i].enabled&&o.push({el:"zoom"===i?t.elZoom:t.elSelection,icon:"string"==typeof t.t[i]?t.t[i]:"zoom"===i?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===i?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(i,"-icon")})};n("zoom"),n("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),r("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)o.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});o.forEach((function(t,e){t.index&&b.moveIndexInArray(o,e,t.index)}));for(var c=0;c<o.length;c++)S.setAttrs(o[c].el,{class:o[c].class,title:o[c].title}),o[c].el.innerHTML=o[c].icon,s.appendChild(o[c].el);this._createHamburgerMenu(s),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),S.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,S.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,s="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[s]=!e.w.globals[s],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,s=(this.maxX+e)/2,a=this._getNewMinXMaxX(i,s);t.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),s=this.maxX-(e-this.maxX),a=this._getNewMinXMaxX(i,s);t.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var s={min:t,max:e},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var o={xaxis:s},r=b.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(r=new Z(this.ctx).autoScaleY(this.ctx,r,{xaxis:s})),i.config.chart.group||(o.yaxis=r),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,r)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new q(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(b.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(s,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),ft=function(t){d(i,pt);var e=m(i);function i(t){var s;return n(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.dragged=!1,s.graphics=new S(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s}return c(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,s=this.w,a=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.elGraphical.add(this.zoomRect),s.globals.dom.elGraphical.add(this.selectionRect),"x"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,a.svgMouseEvents.bind(a,i),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,s=this,a=this.ctx.toolbar,o=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,r=i.config.chart.toolbar.autoSelected;if(e.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar("pan"===r?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(r),this.shiftWasPressed=!1),e.target){var n,l=e.target.classList;if(e.target.parentNode&&null!==e.target.parentNode&&(n=e.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||n&&n.contains("apexcharts-toolbar"))){if(s.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,s.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var c=s.gridRect.getBoundingClientRect();s.startX=s.clientX-c.left,s.startY=s.clientY-c.top,s.dragged=!1,s.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(s.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,s.w.globals.mousedown&&s.panDragging({context:s,zoomtype:o,xyRatios:t})):(s.w.globals.mousedown&&i.globals.zoomEnabled||s.w.globals.mousedown&&i.globals.selectionEnabled)&&(s.selection=s.selectionDrawing({context:s,zoomtype:o}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var h=s.gridRect.getBoundingClientRect();s.w.globals.mousedown&&(s.endX=s.clientX-h.left,s.endY=s.clientY-h.top,s.dragX=Math.abs(s.endX-s.startX),s.dragY=Math.abs(s.endY-s.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&s.selectionDrawn({context:s,zoomtype:o}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&s.delayedPanScrolled()),i.globals.zoomEnabled&&s.hideSelectionRect(this.selectionRect),s.dragged=!1,s.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,s={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(s),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,s=t.width,a=t.height,o=t.translateX,r=void 0===o?0:o,n=t.translateY,l=void 0===n?0:n,c=this.w,h=this.zoomRect,d=this.selectionRect;if(this.dragged||null!==c.globals.selection){var u={transform:"translate("+r+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),h.attr({x:e,y:i,width:s,height:a,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),S.setAttrs(h.node,u)),c.globals.selectionEnabled&&(d.attr({x:e,y:i,width:s>0?s:0,height:a>0?a:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),S.setAttrs(d.node,u))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.gridRect.getBoundingClientRect(),r=a.startX-1,n=a.startY,l=!1,c=!1,h=a.clientX-o.left-r,d=a.clientY-o.top-n,u={};return Math.abs(h+r)>s.globals.gridWidth?h=s.globals.gridWidth-r:a.clientX-o.left<0&&(h=r),r>a.clientX-o.left&&(l=!0,h=Math.abs(h)),n>a.clientY-o.top&&(c=!0,d=Math.abs(d)),u="x"===i?{x:l?r-h:r,y:0,width:h,height:s.globals.gridHeight}:"y"===i?{x:0,y:c?n-d:n,width:s.globals.gridWidth,height:d}:{x:l?r-h:r,y:c?n-d:n,width:h,height:d},a.drawSelectionRect(u),a.selectionDragging("resizing"),u}},{key:"selectionDragging",value:function(t,e){var i=this,s=this.w,a=this.xyRatios,o=this.selectionRect,r=0;"resizing"===t&&(r=30);var n=function(t){return parseFloat(o.node.getAttribute(t))},l={x:n("x"),y:n("y"),width:n("width"),height:n("height")};s.globals.selection=l,"function"==typeof s.config.chart.events.selection&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=i.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect(),r={xaxis:{min:s.globals.xAxisScale.niceMin+(e.left-t.left)*a.xRatio,max:s.globals.xAxisScale.niceMin+(e.right-t.left)*a.xRatio},yaxis:{min:s.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*a.yRatio[0],max:s.globals.yAxisScale[0].niceMax-(e.top-t.top)*a.yRatio[0]}};s.config.chart.events.selection(i.ctx,r),s.config.chart.brush.enabled&&void 0!==s.config.chart.events.brushScrolled&&s.config.chart.events.brushScrolled(i.ctx,r)}),r))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.xyRatios,r=this.ctx.toolbar;if(a.startX>a.endX){var n=a.startX;a.startX=a.endX,a.endX=n}if(a.startY>a.endY){var l=a.startY;a.startY=a.endY,a.endY=l}var c=void 0,h=void 0;s.globals.isRangeBar?(c=s.globals.yAxisScale[0].niceMin+a.startX*o.invertedYRatio,h=s.globals.yAxisScale[0].niceMin+a.endX*o.invertedYRatio):(c=s.globals.xAxisScale.niceMin+a.startX*o.xRatio,h=s.globals.xAxisScale.niceMin+a.endX*o.xRatio);var d=[],u=[];if(s.config.yaxis.forEach((function(t,e){d.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.startY),u.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.endY)})),a.dragged&&(a.dragX>10||a.dragY>10)&&c!==h)if(s.globals.zoomEnabled){var p=b.clone(s.globals.initialConfig.yaxis),f=b.clone(s.globals.initialConfig.xaxis);if(s.globals.zoomed=!0,s.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),h=Math.floor(h),c<1&&(c=1,h=s.globals.dataPoints),h-c<2&&(h=c+1)),"xy"!==i&&"x"!==i||(f={min:c,max:h}),"xy"!==i&&"y"!==i||p.forEach((function(t,e){p[e].min=u[e],p[e].max=d[e]})),s.config.chart.zoom.autoScaleYaxis){var m=new Z(a.ctx);p=m.autoScaleY(a.ctx,p,{xaxis:f})}if(r){var g=r.getBeforeZoomRange(f,p);g&&(f=g.xaxis?g.xaxis:f,p=g.yaxis?g.yaxis:p)}var v={xaxis:f};s.config.chart.group||(v.yaxis=p),a.ctx.updateHelpers._updateOptions(v,!1,a.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof s.config.chart.events.zoomed&&r.zoomCallback(f,p)}else if(s.globals.selectionEnabled){var x,y=null;x={min:c,max:h},"xy"!==i&&"y"!==i||(y=b.clone(s.config.yaxis)).forEach((function(t,e){y[e].min=u[e],y[e].max=d[e]})),s.globals.selection=a.selection,"function"==typeof s.config.chart.events.selection&&s.config.chart.events.selection(a.ctx,{xaxis:x,yaxis:y})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,s=e;if(void 0!==i.globals.lastClientPosition.x){var a=i.globals.lastClientPosition.x-s.clientX,o=i.globals.lastClientPosition.y-s.clientY;Math.abs(a)>Math.abs(o)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(o)&&a<0?this.moveDirection="right":Math.abs(o)>Math.abs(a)&&o>0?this.moveDirection="up":Math.abs(o)>Math.abs(a)&&o<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:s.clientX,y:s.clientY};var r=i.globals.isRangeBar?i.globals.minY:i.globals.minX,n=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||s.panScrolled(r,n)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,s=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+s,i=t.globals.maxX+s):"right"===this.moveDirection&&(e=t.globals.minX-s,i=t.globals.maxX-s),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,s=this.xyRatios,a=b.clone(i.globals.initialConfig.yaxis),o=s.xRatio,r=i.globals.minX,n=i.globals.maxX;i.globals.isRangeBar&&(o=s.invertedYRatio,r=i.globals.minY,n=i.globals.maxY),"left"===this.moveDirection?(t=r+i.globals.gridWidth/15*o,e=n+i.globals.gridWidth/15*o):"right"===this.moveDirection&&(t=r-i.globals.gridWidth/15*o,e=n-i.globals.gridWidth/15*o),i.globals.isRangeBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=r,e=n);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(a=new Z(this.ctx).autoScaleY(this.ctx,a,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=a),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var s=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof s.config.chart.events.scrolled&&s.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),mt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return c(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,s=t.clientX,a=t.clientY,o=this.w,r=i.getBoundingClientRect(),n=r.width,l=r.height,c=n/(o.globals.dataPoints-1),h=l/o.globals.dataPoints,d=this.hasBars();!o.globals.comboCharts&&!d||o.config.xaxis.convertedCatToNumeric||(c=n/o.globals.dataPoints);var u=s-r.left-o.globals.barPadForNumericAxis,p=a-r.top;u<0||p<0||u>n||p>l?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var f=Math.round(u/c),m=Math.floor(p/h);d&&!o.config.xaxis.convertedCatToNumeric&&(f=Math.ceil(u/c),f-=1);var g=null,v=null,x=[],y=[];if(o.globals.seriesXvalues.forEach((function(t){x.push([t[0]+1e-6].concat(t))})),o.globals.seriesYvalues.forEach((function(t){y.push([t[0]+1e-6].concat(t))})),x=x.map((function(t){return t.filter((function(t){return b.isNumber(t)}))})),y=y.map((function(t){return t.filter((function(t){return b.isNumber(t)}))})),o.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),k=u*(w.width/n),S=p*(w.height/l);g=(v=this.closestInMultiArray(k,S,x,y)).index,f=v.j,null!==g&&(x=o.globals.seriesXvalues[g],f=(v=this.closestInArray(k,x)).index)}return o.globals.capturedSeriesIndex=null===g?-1:g,(!f||f<1)&&(f=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=m:o.globals.capturedDataPointIndex=f,{capturedSeries:g,j:o.globals.isBarHorizontal?m:f,hoverX:u,hoverY:p}}},{key:"closestInMultiArray",value:function(t,e,i,s){var a=this.w,o=0,r=null,n=-1;a.globals.series.length>1?o=this.getFirstActiveXArray(i):r=0;var l=i[o][0],c=Math.abs(t-l);if(i.forEach((function(e){e.forEach((function(e,i){var s=Math.abs(t-e);s<c&&(c=s,n=i)}))})),-1!==n){var h=s[o][n],d=Math.abs(e-h);r=o,s.forEach((function(t,i){var s=Math.abs(e-t[n]);s<d&&(d=s,r=i)}))}return{index:r,j:n}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,s=t.map((function(t,e){return t.length>0?e:-1})),a=0;a<s.length;a++)if(-1!==s[a]&&-1===e.globals.collapsedSeriesIndices.indexOf(a)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){i=s[a];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],s=null,a=Math.abs(t-i),o=0;o<e.length;o++){var r=Math.abs(t-e[o]);r<a&&(a=r,s=o)}return{index:s}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(i.length>0)for(var s=0;s<i.length-1;s++)void 0!==i[s][t]&&void 0!==i[s+1][t]&&i[s][t]!==i[s+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return v(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=v(t)).sort((function(t,e){var i=Number(t.getAttribute("data:realIndex")),s=Number(e.getAttribute("data:realIndex"));return s<i?1:s>i?-1:0}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,a=0;a<s.length;a++)"enable"===t?(s[a].classList.add("apexcharts-active"),s[a].style.display=e.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),t}(),gt=function(){function t(e){n(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new mt(e)}return c(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,s=t.ttItems,a=t.i,o=void 0===a?0:a,r=t.j,n=void 0===r?null:r,l=t.y1,c=t.y2,h=t.e,d=this.w;void 0!==d.config.tooltip.custom?this.handleCustomTooltip({i:o,j:n,y1:l,y2:c,w:d}):this.toggleActiveInactiveSeries(i);var u=this.getValuesToPrint({i:o,j:n});this.printLabels({i:o,j:n,values:u,ttItems:s,shared:i,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,s=t.i,a=t.j,r=t.values,n=t.ttItems,l=t.shared,c=t.e,h=this.w,d=[],u=function(t){return h.globals.seriesGoals[t]&&h.globals.seriesGoals[t][a]&&Array.isArray(h.globals.seriesGoals[t][a])},p=r.xVal,f=r.zVal,m=r.xAxisTTVal,g="",v=h.globals.colors[s];null!==a&&h.config.plotOptions.bar.distributed&&(v=h.globals.colors[a]);for(var x=function(t,r){var x=i.getFormatters(s);g=i.getSeriesName({fn:x.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),"treemap"===h.config.chart.type&&(g=x.yLbTitleFormatter(String(h.config.series[s].data[a].x),{series:h.globals.series,seriesIndex:s,dataPointIndex:a,w:h}));var y=h.config.tooltip.inverseOrder?r:t;if(h.globals.axisCharts){var b=function(t){return x.yLbFormatter(h.globals.series[t][a],{series:h.globals.series,seriesIndex:t,dataPointIndex:a,w:h})};if(l)x=i.getFormatters(y),g=i.getSeriesName({fn:x.yLbTitleFormatter,index:y,seriesIndex:s,j:a}),v=h.globals.colors[y],e=b(y),u(y)&&(d=h.globals.seriesGoals[y][a].map((function(t){return{attrs:t,val:x.yLbFormatter(t.value,{seriesIndex:y,dataPointIndex:a,w:h})}})));else{var w,k=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");k&&(v=-1!==k.indexOf("url")?document.querySelector(k.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):k),e=b(s),u(s)&&Array.isArray(h.globals.seriesGoals[s][a])&&(d=h.globals.seriesGoals[s][a].map((function(t){return{attrs:t,val:x.yLbFormatter(t.value,{seriesIndex:s,dataPointIndex:a,w:h})}})))}}null===a&&(e=x.yLbFormatter(h.globals.series[s],o(o({},h),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:y,j:a,ttItems:n,values:{val:e,goalVals:d,xVal:p,xAxisTTVal:m,zVal:f},seriesName:g,shared:l,pColor:v})},y=0,b=h.globals.series.length-1;y<h.globals.series.length;y++,b--)x(y,b)}},{key:"getFormatters",value:function(t){var e,i=this.w,s=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(s=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof s&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:s,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,s=t.seriesIndex,a=t.j,o=this.w;return e(String(o.globals.seriesNames[i]),{series:o.globals.series,seriesIndex:s,dataPointIndex:a,w:o})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,s=t.ttItems,a=t.values,o=t.seriesName,r=t.shared,n=t.pColor,l=this.w,c=this.ttCtx,h=a.val,d=a.goalVals,u=a.xVal,p=a.xAxisTTVal,f=a.zVal,m=null;m=s[e].children,l.config.tooltip.fillSeriesColor&&(s[e].style.backgroundColor=n,m[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=u),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==p?p:u);var g=s[e].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=o||"");var v=s[e].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==h?h:""),m[0]&&m[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(n=l.config.tooltip.marker.fillColors[e]),m[0].style.backgroundColor=n),l.config.tooltip.marker.show||(m[0].style.display="none");var x=s[e].querySelector(".apexcharts-tooltip-text-goals-label"),y=s[e].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&l.globals.seriesGoals[e]){var b=function(){var t="<div >",e="<div>";d.forEach((function(i,s){t+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(i.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(i.attrs.name,"</div>"),e+="<div>".concat(i.val,"</div>")})),x.innerHTML=t+"</div>",y.innerHTML=e+"</div>"};r?l.globals.seriesGoals[e][i]&&Array.isArray(l.globals.seriesGoals[e][i])?b():(x.innerHTML="",y.innerHTML=""):b()}else x.innerHTML="",y.innerHTML="";null!==f&&(s[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,s[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==f?f:""),r&&m[0]&&(null==h||l.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||l.globals.collapsedSeriesIndices.indexOf(e)>-1?m[0].parentNode.style.display="none":m[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,s=this.w,a=this.ctx.series.filteredSeriesX(),o="",r="",n=null,l=null,c={series:s.globals.series,seriesIndex:e,dataPointIndex:i,w:s},h=s.globals.ttZFormatter;null===i?l=s.globals.series[e]:s.globals.isXNumeric&&"treemap"!==s.config.chart.type?(o=a[e][i],0===a[e].length&&(o=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):o=void 0!==s.globals.labels[i]?s.globals.labels[i]:"";var d=o;return o=s.globals.isXNumeric&&"datetime"===s.config.xaxis.type?new Y(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new O(this.ctx).formatDate,w:this.w}):s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](d,c):s.globals.xLabelFormatter(d,c),void 0!==s.config.tooltip.x.formatter&&(o=s.globals.ttKeyFormatter(d,c)),s.globals.seriesZ.length>0&&s.globals.seriesZ[e].length>0&&(n=h(s.globals.seriesZ[e][i],s)),r="function"==typeof s.config.xaxis.tooltip.formatter?s.globals.xaxisTooltipFormatter(d,c):o,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(r)?r.join(" "):r,zVal:n}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,s=t.y1,a=t.y2,o=t.w,r=this.ttCtx.getElTooltip(),n=o.config.tooltip.custom;Array.isArray(n)&&n[e]&&(n=n[e]),r.innerHTML=n({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:i,y1:s,y2:a,w:o})}}]),t}(),vt=function(){function t(e){n(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return c(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,s=this.w,a=i.getElXCrosshairs(),o=t-i.xcrosshairsWidth/2,r=s.globals.labels.slice().length;if(null!==e&&(o=s.globals.gridWidth/r*e),null===a||s.globals.isBarHorizontal||(a.setAttribute("x",o),a.setAttribute("x1",o),a.setAttribute("x2",o),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),o<0&&(o=0),o>s.globals.gridWidth&&(o=s.globals.gridWidth),i.isXAxisTooltipEnabled){var n=o;"tickWidth"!==s.config.xaxis.crosshairs.width&&"barWidth"!==s.config.xaxis.crosshairs.width||(n=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(n)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&S.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&S.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var s,a=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,s=new S(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=s.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=a+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=e.globals.translateY+s,o=i.yaxisTTEls[t].getBoundingClientRect().height,r=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(r-=26),a-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=r+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=this.ttCtx,o=a.getElTooltip(),r=a.tooltipRect,n=null!==i?parseFloat(i):1,l=parseFloat(t)+n+5,c=parseFloat(e)+n/2;if(l>s.globals.gridWidth/2&&(l=l-r.ttWidth-n-10),l>s.globals.gridWidth-r.ttWidth-10&&(l=s.globals.gridWidth-r.ttWidth),l<-20&&(l=-20),s.config.tooltip.followCursor){var h=a.getElGrid(),d=h.getBoundingClientRect();c=a.e.clientY+s.globals.translateY-d.top-r.ttHeight/2}else s.globals.isBarHorizontal||(r.ttHeight/2+c>s.globals.gridHeight&&(c=s.globals.gridHeight-r.ttHeight+s.globals.translateY),c<0&&(c=0));isNaN(l)||(l+=s.globals.translateX,o.style.left=l+"px",o.style.top=c+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[t]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<a.length;o++)parseInt(a[o].getAttribute("rel"),10)===e&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(e,a[o]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,s,a=this.w,o=this.ttCtx,r=a.globals.pointsArray,n=o.tooltipUtil.getHoverMarkerSize(e),l=a.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){i=r[e][t][0],s=r[e][t][1]?r[e][t][1]:0;var c=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&s<a.globals.gridHeight&&s>0&&(c.setAttribute("r",n),c.setAttribute("cx",i),c.setAttribute("cy",s)),this.moveXCrosshairs(i),o.fixedTooltip||this.moveTooltip(i,s,n)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,s=i.w,a=0,o=0,r=s.globals.pointsArray;e=new j(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var n=i.tooltipUtil.getHoverMarkerSize(e);r[e]&&(a=r[e][t][0],o=r[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<s.globals.series.length;c++){var h=r[c];if(s.globals.comboCharts&&void 0===h&&l.splice(c,0,null),h&&h.length){var d=r[c][t][1],u=void 0;if(l[c].setAttribute("cx",a),"rangeArea"===s.config.chart.type&&!s.globals.comboCharts){var p=t+s.globals.series[c].length;u=r[c][p][1],d-=Math.abs(d-u)/2}null!==d&&!isNaN(d)&&d<s.globals.gridHeight+n&&d+n>0?(l[c]&&l[c].setAttribute("r",n),l[c]&&l[c].setAttribute("cy",d)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(a),!i.fixedTooltip){var f=o||s.globals.gridHeight;this.moveTooltip(a,f,n)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e=this.w,i=this.ttCtx,s=e.globals.columnSeries?e.globals.columnSeries.length:e.globals.series.length,a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;e.globals.isBarHorizontal&&(a=new j(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"']")),r=o?parseFloat(o.getAttribute("cx")):0,n=o?parseFloat(o.getAttribute("cy")):0,l=o?parseFloat(o.getAttribute("barWidth")):0,c=o?parseFloat(o.getAttribute("barHeight")):0,h=i.getElGrid().getBoundingClientRect(),d=o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area");if(e.globals.isXNumeric?(o&&!d&&(r-=s%2!=0?l/2:0),o&&d&&e.globals.comboCharts&&(r-=l/2)):e.globals.isBarHorizontal||(r=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(r)&&(r=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2)),e.globals.isBarHorizontal?(n>e.globals.gridHeight/2&&(n-=i.tooltipRect.ttHeight),(n=n+e.config.grid.padding.top+c/3)+c>e.globals.gridHeight&&(n=e.globals.gridHeight-c)):e.config.tooltip.followCursor?n=i.e.clientY-h.top-i.tooltipRect.ttHeight/2:n+i.tooltipRect.ttHeight+15>e.globals.gridHeight&&(n=e.globals.gridHeight),n<-10&&(n=-10),e.globals.isBarHorizontal||this.moveXCrosshairs(r),!i.fixedTooltip){var u=n||e.globals.gridHeight;this.moveTooltip(r,u)}}}]),t}(),xt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new vt(e)}return c(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new S(this.ctx),i=new $(this.ctx),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=v(s),t.config.chart.stacked&&s.sort((function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))}));for(var a=0;a<s.length;a++){var o=s[a].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var r=void 0,n="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(n+=" no-pointer-events");var l=i.getMarkerConfig({cssClass:n,seriesIndex:Number(o.getAttribute("data:realIndex"))});(r=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(r.node),o.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),r=e.getAttribute("cy");if(null!==i&&null!==s&&(o=i,r=s),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===a.config.chart.type){var n=this.ttCtx.getElGrid(),l=n.getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,r,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,s=this.ttCtx,a=t,o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=e.config.markers.hover.size,n=0;n<o.length;n++){var l=o[n].getAttribute("rel"),c=o[n].getAttribute("index");if(void 0===r&&(r=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),a===parseInt(l,10)){i.newPointSize(a,o[n]);var h=o[n].getAttribute("cx"),d=o[n].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),s.fixedTooltip||i.tooltipPosition.moveTooltip(h,d,r)}else i.oldPointSize(o[n])}}},{key:"newPointSize",value:function(t,e){var i=this.w,s=i.config.markers.hover.size,a=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var o=parseInt(a.getAttribute("index"),10);void 0===s&&(s=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),s<0&&(s=0),a.setAttribute("r",s)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));b.isNumber(i)&&i>=0?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),t}(),yt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,s=t.x,a=t.y,o=t.type,r=this.ttCtx,n=this.w;if(e.target.classList.contains("apexcharts-".concat(o,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),h=this.getAttr(e,"cx"),d=this.getAttr(e,"cy"),u=this.getAttr(e,"width"),p=this.getAttr(e,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),n.globals.capturedSeriesIndex=l,n.globals.capturedDataPointIndex=c,s=h+r.tooltipRect.ttWidth/2+u,a=d+r.tooltipRect.ttHeight/2-p/2,r.tooltipPosition.moveXCrosshairs(h+u/2),s>n.globals.gridWidth/2&&(s=h-r.tooltipRect.ttWidth/2+u),r.w.config.tooltip.followCursor){var f=n.globals.dom.elWrap.getBoundingClientRect();s=n.globals.clientX-f.left-(s>n.globals.gridWidth/2?r.tooltipRect.ttWidth:0),a=n.globals.clientY-f.top-(a>n.globals.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=t.x,r=t.y,n=this.w,l=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var c=parseInt(a.paths.getAttribute("cx"),10),h=parseInt(a.paths.getAttribute("cy"),10),d=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),e=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var u=b.findAncestor(a.paths,"apexcharts-series");u&&(e=parseInt(u.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:e,j:i,shared:!l.showOnIntersect&&n.config.tooltip.shared,e:s}),"mouseup"===s.type&&l.markerClick(s,e,i),n.globals.capturedSeriesIndex=e,n.globals.capturedDataPointIndex=i,o=c,r=h+n.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();r=l.e.clientY+n.globals.translateY-p.top}d<0&&(r=h),l.marker.enlargeCurrentPoint(i,a.paths,o,r)}return{x:o,y:r}}},{key:"handleBarTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,r=this.ttCtx,n=r.getElTooltip(),l=0,c=0,h=0,d=this.getBarTooltipXY({e:s,opt:a});e=d.i;var u=d.barHeight,p=d.j;o.globals.capturedSeriesIndex=e,o.globals.capturedDataPointIndex=p,o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||!o.config.tooltip.shared?(c=d.x,h=d.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,l=c):o.globals.comboCharts||o.config.tooltip.shared||(l/=2),isNaN(h)?h=o.globals.svgHeight-r.tooltipRect.ttHeight:h<0&&(h=0);var f=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),m=o.globals.isMultipleYAxis?o.config.yaxis[f]&&o.config.yaxis[f].reversed:o.config.yaxis[0].reversed;if(c+r.tooltipRect.ttWidth>o.globals.gridWidth&&!m?c-=r.tooltipRect.ttWidth:c<0&&(c=0),r.w.config.tooltip.followCursor){var g=r.getElGrid().getBoundingClientRect();h=r.e.clientY-g.top}null===r.tooltip&&(r.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?r.tooltipPosition.moveXCrosshairs(l+i/2):r.tooltipPosition.moveXCrosshairs(l)),!r.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars())&&(m&&(c-=r.tooltipRect.ttWidth)<0&&(c=0),!m||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||(h=h+u-2*(o.globals.series[e][p]<0?u:0)),r.tooltipRect.ttHeight+h>o.globals.gridHeight?h=o.globals.gridHeight-r.tooltipRect.ttHeight+o.globals.translateY:(h=h+o.globals.translateY-r.tooltipRect.ttHeight/2)<0&&(h=0),n.style.left=c+o.globals.translateX+"px",n.style.top=h+"px")}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,s=this.w,a=null,o=this.ttCtx,r=0,n=0,l=0,c=0,h=0,d=e.target.classList;if(d.contains("apexcharts-bar-area")||d.contains("apexcharts-candlestick-area")||d.contains("apexcharts-boxPlot-area")||d.contains("apexcharts-rangebar-area")){var u=e.target,p=u.getBoundingClientRect(),f=i.elGrid.getBoundingClientRect(),m=p.height;h=p.height;var g=p.width,v=parseInt(u.getAttribute("cx"),10),x=parseInt(u.getAttribute("cy"),10);c=parseFloat(u.getAttribute("barWidth"));var y="touchmove"===e.type?e.touches[0].clientX:e.clientX;a=parseInt(u.getAttribute("j"),10),r=parseInt(u.parentNode.getAttribute("rel"),10)-1;var b=u.getAttribute("data-range-y1"),w=u.getAttribute("data-range-y2");s.globals.comboCharts&&(r=parseInt(u.parentNode.getAttribute("data:realIndex"),10)),o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:r,j:a,y1:b?parseInt(b,10):null,y2:w?parseInt(w,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:e}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(n=y-f.left+15,l=x-o.dataPointsDividedHeight+m/2-o.tooltipRect.ttHeight/2):(n=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=e.clientY-f.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((n=v)<o.xyRatios.baseLineInvertedY&&(n=v-o.tooltipRect.ttWidth),l=x-o.dataPointsDividedHeight+m/2-o.tooltipRect.ttHeight/2):(n=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=x)}return{x:n,y:l,barHeight:h,barWidth:c,i:r,j:a}}}]),t}(),bt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=function(i){var s=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=s?t.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,s){e.map((function(e,s){s===i&&(a+=t.config.yaxis[s].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))},s=0;s<t.config.yaxis.length;s++)i(s)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===t.config.xaxis.crosshairs.width){var a=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=a}else if("tickWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var r=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/r}else if("barWidth"===t.config.xaxis.crosshairs.width){var n=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n){var l=parseFloat(n.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var s=this.ttCtx,a=this.w,o=a.globals.yLabelFormatters[t];if(s.yaxisTooltips[t]){var r=s.getElGrid().getBoundingClientRect(),n=(e-r.top)*i.yRatio[t],l=a.globals.maxYArr[t]-a.globals.minYArr[t],c=a.globals.minYArr[t]+(l-n);s.tooltipPosition.moveYCrosshairs(e-r.top),s.yaxisTooltipText[t].innerHTML=o(c),s.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),wt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new mt(this),this.tooltipLabels=new gt(this),this.tooltipPosition=new vt(this),this.marker=new xt(this),this.intersect=new yt(this),this.axesTooltip=new bt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,i){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new G(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,s=[],a=this.getElTooltip(),o=function(o){var r=document.createElement("div");r.classList.add("apexcharts-tooltip-series-group"),r.style.order=i.config.tooltip.inverseOrder?t-o:o+1,e.tConfig.shared&&e.tConfig.enabledOnSeries&&Array.isArray(e.tConfig.enabledOnSeries)&&e.tConfig.enabledOnSeries.indexOf(o)<0&&r.classList.add("apexcharts-tooltip-series-group-hidden");var n=document.createElement("span");n.classList.add("apexcharts-tooltip-marker"),n.style.backgroundColor=i.globals.colors[o],r.appendChild(n);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,l.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach((function(t){var e=document.createElement("div");e.classList.add("apexcharts-tooltip-".concat(t,"-group"));var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(t,"-label")),e.appendChild(i);var s=document.createElement("span");s.classList.add("apexcharts-tooltip-text-".concat(t,"-value")),e.appendChild(s),l.appendChild(e)})),r.appendChild(l),a.appendChild(r),s.push(r)},r=0;r<t;r++)o(r);return s}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),s=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),a="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,r=this.getElGrid();r&&(this.seriesBound=r.getBoundingClientRect());var n,l=[],c=[],h={hoverArea:o,elGrid:r,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(a?n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),n&&n.length))for(var d=0;d<n.length;d++)l.push(n[d].getAttribute("cy")),c.push(n[d].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],h);else if(s&&!t.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var u=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(u,h)}if(this.showOnIntersect){var p=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),s=i.width+10,a=i.height+10,o=this.tConfig.fixed.offsetX,r=this.tConfig.fixed.offsetY,n=this.tConfig.fixed.position.toLowerCase();return n.indexOf("right")>-1&&(o=o+t.globals.svgWidth-s+10),n.indexOf("bottom")>-1&&(r=r+t.globals.svgHeight-a-10),e.style.left=o+"px",e.style.top=r+"px",{x:o,y:r,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,s=function(s){var a={paths:t[s],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[s].addEventListener(e,i.onSeriesHover.bind(i,a),{capture:!1,passive:!0})}))},a=0;a<t.length;a++)s(a)}},{key:"onSeriesHover",value:function(t,e){var i=this,s=Date.now()-this.lastHoverTime;s>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(t,e)}),100-s))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(s.length?s.forEach((function(s){var a=i.getElTooltip(s),o={paths:t.paths,tooltipEl:a,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===i.w.globals.minX&&s.w.globals.maxX===i.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:o,e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,s=t.opt,a=t.e,o=e.w,r=this.getElTooltip();r&&(i.tooltipRect={x:0,y:0,ttWidth:r.getBoundingClientRect().width,ttHeight:r.getBoundingClientRect().height},i.e=a,!i.tooltipUtil.hasBars()||o.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new j(e).toggleSeriesOnHover(a,a.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),o.globals.axisCharts?i.axisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,r=a.elGrid.getBoundingClientRect(),n="touchmove"===s.type?s.touches[0].clientX:s.clientX,l="touchmove"===s.type?s.touches[0].clientY:s.clientY;if(this.clientY=l,this.clientX=n,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,l<r.top||l>r.top+r.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var c=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(a)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),u=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===s.type||"touchmove"===s.type||"mouseup"===s.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==d&&d.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),u&&!this.showOnIntersect)this.handleStickyTooltip(s,n,l,a);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var f=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:e,y:i,type:o.config.chart.type});e=f.x,i=f.y,h.style.left=e+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:e,y:i});if(this.yaxisTooltips.length)for(var m=0;m<o.config.yaxis.length;m++)this.axesTooltip.drawYaxisTooltipText(m,l,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==s.type&&"touchend"!==s.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,s=t.tooltipRect,a=this.w,o=i.paths.getAttribute("rel"),r=this.getElTooltip(),n=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){r.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var l=a.globals.clientX-n.left-s.ttWidth/2,c=a.globals.clientY-n.top-s.ttHeight-10;if(r.style.left=l+"px",r.style.top=c+"px",a.config.legend.tooltipHoverFormatter){var h=o-1,d=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:a});this.legendLabels[h].innerHTML=d}}else"mouseout"!==e.type&&"touchend"!==e.type||(r.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})))}},{key:"handleStickyTooltip",value:function(t,e,i,s){var a=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:e,clientY:i}),r=o.j,n=o.capturedSeries,l=s.elGrid.getBoundingClientRect();o.hoverX<0||o.hoverX>l.width?this.handleMouseOut(s):null!==n?this.handleStickyCapturedSeries(t,n,s,r):(this.tooltipUtil.isXoverlap(r)||a.globals.isBarHorizontal)&&this.create(t,this,0,r,s.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,s){var a=this.w;this.tConfig.shared||null!==a.globals.series[e][s]?void 0!==a.globals.series[e][s]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,s,i.ttItems):this.create(t,this,e,s,i.ttItems,!1):this.tooltipUtil.isXoverlap(s)&&this.create(t,this,0,s,i.ttItems):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new S(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),s=0;s<i.length;s++)e.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,i){var s=this.w;"function"==typeof s.config.chart.events.markerClick&&s.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}])}},{key:"create",value:function(t,e,i,s,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=this.w,n=e;"mouseup"===t.type&&this.markerClick(t,i,s),null===o&&(o=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(r.config.legend.tooltipHoverFormatter){var h=r.config.legend.tooltipHoverFormatter,d=Array.from(this.legendLabels);d.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var u=0;u<d.length;u++){var p=d[u],f=parseInt(p.getAttribute("i"),10),m=decodeURIComponent(p.getAttribute("data:default-text")),g=h(m,{seriesIndex:o?f:i,dataPointIndex:s,w:r});if(o)p.innerHTML=r.globals.collapsedSeriesIndices.indexOf(f)<0?g:m;else if(p.innerHTML=f===i?g:m,i===f)break}}if(o){if(n.tooltipLabels.drawSeriesTexts({ttItems:a,i:i,j:s,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(r.globals.markers.largestSize>0?n.marker.enlargePoints(s):n.tooltipPosition.moveDynamicPointsOnHover(s)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var v=new S(this.ctx),x=r.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(s);for(var y=0;y<x.length;y++)v.pathMouseEnter(x[y])}}else n.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:a,i:i,j:s}),this.tooltipUtil.hasBars()&&n.tooltipPosition.moveStickyTooltipOverBars(s),l&&n.tooltipPosition.moveMarkers(i,s)}}]),t}(),kt=function(){function t(e){n(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return c(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,s=t.y1,a=t.y2,o=t.i,r=t.j,n=t.realIndex,l=t.series,c=t.barHeight,h=t.barWidth,d=t.barYPosition,u=t.visibleSeries,p=t.renderedPath,f=this.w,m=new S(this.barCtx.ctx),g=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth,v=e+parseFloat(h*u),x=i+parseFloat(c*u);f.globals.isXNumeric&&!f.globals.isBarHorizontal&&(v=e+parseFloat(h*(u+1)),x=i+parseFloat(c*(u+1))-g);var y,b=null,w=e,k=i,C={},A=f.config.dataLabels,T=this.barCtx.barOptions.dataLabels,I=this.barCtx.barOptions.dataLabels.total;void 0!==d&&this.barCtx.isRangeBar&&(x=d,k=d);var M=A.offsetX,L=A.offsetY,P={width:0,height:0};if(f.config.dataLabels.enabled){var _=this.barCtx.series[o][r];P=m.getTextRects(f.globals.yLabelFormatters[0](_),parseFloat(A.style.fontSize))}var O={x:e,y:i,i:o,j:r,realIndex:n,renderedPath:p,bcx:v,bcy:x,barHeight:c,barWidth:h,textRects:P,strokeWidth:g,dataLabelsX:w,dataLabelsY:k,dataLabelsConfig:A,barDataLabelsConfig:T,barTotalDataLabelsConfig:I,offX:M,offY:L};return C=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(O):this.calculateColumnsDataLabelsPosition(O),p.attr({cy:C.bcy,cx:C.bcx,j:r,val:l[o][r],barHeight:c,barWidth:h}),y=this.drawCalculatedDataLabels({x:C.dataLabelsX,y:C.dataLabelsY,val:this.barCtx.isRangeBar?[s,a]:l[o][r],i:n,j:r,barWidth:h,barHeight:c,textRects:P,dataLabelsConfig:A}),f.config.chart.stacked&&I.enabled&&(b=this.drawTotalDataLabels({x:C.totalDataLabelsX,y:C.totalDataLabelsY,realIndex:n,textAnchor:C.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:n,j:r}),dataLabelsConfig:A,barTotalDataLabelsConfig:I})),{dataLabels:y,totalDataLabels:b}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,s=this.w,a=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(a=this.totalFormatter(a,o(o({},s),{},{seriesIndex:e,dataPointIndex:i,w:s}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i,s,a=this.w,o=t.i,r=t.j,n=t.realIndex,l=t.y,c=t.bcx,h=t.barWidth,d=t.barHeight,u=t.textRects,p=t.dataLabelsY,f=t.dataLabelsConfig,m=t.barDataLabelsConfig,g=t.barTotalDataLabelsConfig,v=t.strokeWidth,x=t.offX,y=t.offY;d=Math.abs(d);var b="vertical"===a.config.plotOptions.bar.dataLabels.orientation;c-=v/2;var w=a.globals.gridWidth/a.globals.dataPoints;e=a.globals.isXNumeric?c-h/2+x:c-w+h/2+x,b&&(e=e+u.height/2-v/2-2);var k=this.barCtx.series[o][r]<0,C=l;switch(this.barCtx.isReversed&&(C=l-d+(k?2*d:0),l-=d),m.position){case"center":p=b?k?C+d/2+y:C+d/2-y:k?C-d/2+u.height/2+y:C+d/2+u.height/2-y;break;case"bottom":p=b?k?C+d+y:C+d-y:k?C-d+u.height+v+y:C+d-u.height/2+v-y;break;case"top":p=b?k?C+y:C-y:k?C-u.height/2-y:C+u.height+y}if(this.barCtx.lastActiveBarSerieIndex===n&&g.enabled){var A=new S(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:r}),f.fontSize);i=k?C-A.height/2-y-g.offsetY+18:C+A.height+y+g.offsetY-18,s=e+g.offsetX}return a.config.chart.stacked||(p<0?p=0+v:p+u.height/3>a.globals.gridHeight&&(p=a.globals.gridHeight-v)),{bcx:c,bcy:l,dataLabelsX:e,dataLabelsY:p,totalDataLabelsX:s,totalDataLabelsY:i,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,s=t.i,a=t.j,o=t.realIndex,r=t.bcy,n=t.barHeight,l=t.barWidth,c=t.textRects,h=t.dataLabelsX,d=t.strokeWidth,u=t.dataLabelsConfig,p=t.barDataLabelsConfig,f=t.barTotalDataLabelsConfig,m=t.offX,g=t.offY,v=e.globals.gridHeight/e.globals.dataPoints;l=Math.abs(l);var x,y,b=r-(this.barCtx.isRangeBar?0:v)+n/2+c.height/2+g-3,w="start",k=this.barCtx.series[s][a]<0,C=i;switch(this.barCtx.isReversed&&(C=i+l-(k?2*l:0),i=e.globals.gridWidth-l),p.position){case"center":h=k?C+l/2-m:Math.max(c.width/2,C-l/2)+m;break;case"bottom":h=k?C+l-d-Math.round(c.width/2)-m:C-l+d+Math.round(c.width/2)+m;break;case"top":h=k?C-d+Math.round(c.width/2)-m:C-d-Math.round(c.width/2)+m}if(this.barCtx.lastActiveBarSerieIndex===o&&f.enabled){var A=new S(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),u.fontSize);k?(x=C-d+Math.round(A.width/2)-m-f.offsetX-15,w="end"):x=C-d-Math.round(A.width/2)+m+f.offsetX+15,y=b+f.offsetY}return e.config.chart.stacked||(h<0?h=h+c.width+d:h+c.width/2>e.globals.gridWidth&&(h=e.globals.gridWidth-c.width-d)),{bcx:i,bcy:r,dataLabelsX:h,dataLabelsY:b,totalDataLabelsX:x,totalDataLabelsY:y,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,s=t.val,a=t.i,r=t.j,n=t.textRects,l=t.barHeight,c=t.barWidth,h=t.dataLabelsConfig,d=this.w,u="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(u="rotate(-90, ".concat(e,", ").concat(i,")"));var p=new W(this.barCtx.ctx),f=new S(this.barCtx.ctx),m=h.formatter,g=null,v=d.globals.collapsedSeriesIndices.indexOf(a)>-1;if(h.enabled&&!v){g=f.group({class:"apexcharts-data-labels",transform:u});var x="";void 0!==s&&(x=m(s,o(o({},d),{},{seriesIndex:a,dataPointIndex:r,w:d})));var y=d.globals.series[a][r]<0,b=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===b&&(h.textAnchor=y?"end":"start"),"center"===b&&(h.textAnchor="middle"),"bottom"===b&&(h.textAnchor=y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<f.getTextRects(x,parseFloat(h.style.fontSize)).width&&(x=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?n.width/1.6>Math.abs(c)&&(x=""):n.height/1.6>Math.abs(l)&&(x=""));var w=o({},h);this.barCtx.isHorizontal&&s<0&&("start"===h.textAnchor?w.textAnchor="end":"end"===h.textAnchor&&(w.textAnchor="start")),p.plotDataLabelsText({x:e,y:i,text:x,i:a,j:r,parent:g,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}},{key:"drawTotalDataLabels",value:function(t){var e,i=t.x,s=t.y,a=t.val,o=t.realIndex,r=t.textAnchor,n=t.barTotalDataLabelsConfig,l=new S(this.barCtx.ctx);return n.enabled&&void 0!==i&&void 0!==s&&this.barCtx.lastActiveBarSerieIndex===o&&(e=l.drawText({x:i,y:s,foreColor:n.style.color,text:a,textAnchor:r,fontFamily:n.style.fontFamily,fontSize:n.style.fontSize,fontWeight:n.style.fontWeight})),e}}]),t}(),St=function(){function t(e){n(this,t),this.w=e.w,this.barCtx=e}return c(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var s=0;s<t[i].length;s++)e.globals.seriesX[i][s]>e.globals.minX&&e.globals.seriesX[i][s]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=t.length-1,e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,s,a,o,r,n,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var h=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)a=(i=l.globals.gridHeight/c)/h,l.globals.isXNumeric&&(a=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,n=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-a*this.barCtx.seriesLen)/2;else{if(s=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(s=l.globals.gridWidth/l.globals.dataPoints),o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var d=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(d=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/d>0&&(s=l.globals.minXDiff/d),(o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}r=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(s-o*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:s,barHeight:a,barWidth:o,zeroH:r,zeroW:n}}},{key:"getPathFillColor",value:function(t,e,i,s){var a,o,r,n,l=this.w,c=new R(this.barCtx.ctx),h=null,d=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(s){t[e][i]>=s.from&&t[e][i]<=s.to&&(h=s.color)})),l.config.series[e].data[i]&&l.config.series[e].data[i].fillColor&&(h=l.config.series[e].data[i].fillColor),c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:s,dataPointIndex:i,color:h,value:t[e][i],fillConfig:null===(a=l.config.series[e].data[i])||void 0===a?void 0:a.fill,fillType:null!==(o=l.config.series[e].data[i])&&void 0!==o&&null!==(r=o.fill)&&void 0!==r&&r.type?null===(n=l.config.series[e].data[i])||void 0===n?void 0:n.fill.type:l.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var s=0,a=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"shouldApplyRadius",value:function(t){var e=this.w,i=!1;return e.config.plotOptions.bar.borderRadius>0&&(e.config.chart.stacked&&"last"===e.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===t&&(i=!0):i=!0),i}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,s=t.x1,a=t.x2,o=t.y1,r=t.y2,n=t.elSeries,l=this.w,c=new S(this.barCtx.ctx),h=new j(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[e],u=c.drawRect(void 0!==s?s:0,void 0!==o?o:0,void 0!==a?a:l.globals.gridWidth,void 0!==r?r:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);n.add(u),u.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,s=t.barXPosition,a=t.y1,o=t.y2,r=t.strokeWidth,n=t.realIndex,l=t.i,c=t.j,h=t.w,d=new S(this.barCtx.ctx);(r=Array.isArray(r)?r[n]:r)||(r=0);var u=i,p=s;null!==(e=h.config.series[n].data[c])&&void 0!==e&&e.columnWidthOffset&&(p=s-h.config.series[n].data[c].columnWidthOffset/2,u=i+h.config.series[n].data[c].columnWidthOffset);var f=p,m=p+u;a+=.001,o+=.001;var g=d.move(f,a),v=d.move(f,a),x=d.line(m-r,a);return h.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(n,c,!1)),g=g+d.line(f,o)+d.line(m-r,o)+d.line(m-r,a)+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+d.line(f,a)+x+x+x+x+x+d.line(f,a)+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(n)&&(g=d.roundPathCorners(g,h.config.plotOptions.bar.borderRadius)),h.config.chart.stacked&&(this.barCtx.yArrj.push(o),this.barCtx.yArrjF.push(Math.abs(a-o)),this.barCtx.yArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,s=t.barHeight,a=t.x1,o=t.x2,r=t.strokeWidth,n=t.realIndex,l=t.i,c=t.j,h=t.w,d=new S(this.barCtx.ctx);(r=Array.isArray(r)?r[n]:r)||(r=0);var u=i,p=s;null!==(e=h.config.series[n].data[c])&&void 0!==e&&e.barHeightOffset&&(u=i-h.config.series[n].data[c].barHeightOffset/2,p=s+h.config.series[n].data[c].barHeightOffset);var f=u,m=u+p;a+=.001,o+=.001;var g=d.move(a,f),v=d.move(a,f);h.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(n,c,!1));var x=d.line(a,m-r);return g=g+d.line(o,f)+d.line(o,m-r)+x+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+d.line(a,f)+x+x+x+x+x+d.line(a,f)+("around"===h.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(n)&&(g=d.roundPathCorners(g,h.config.plotOptions.bar.borderRadius)),h.config.chart.stacked&&(this.barCtx.xArrj.push(o),this.barCtx.xArrjF.push(Math.abs(a-o)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,s=0;s<e.length;s++){for(var a=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)a+=e[s][o];0===a&&this.barCtx.zeroSerieses.push(s)}for(var r=e.length-1;r>=0;r--)this.barCtx.zeroSerieses.indexOf(r)>-1&&r===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var n=e.length-1;n>=0;n--)i.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e-t/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(t,e,i,s,a){var o=this,r=this.w,n=[];return r.globals.seriesGoals[s]&&r.globals.seriesGoals[s][a]&&Array.isArray(r.globals.seriesGoals[s][a])&&r.globals.seriesGoals[s][a].forEach((function(s){var a;n.push((h(a={},t,"x"===t?o.getXForValue(s.value,e,!1):o.getYForValue(s.value,i,!1)),h(a,"attrs",s),a))})),n}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,s=t.goalX,a=t.goalY,o=t.barWidth,r=t.barHeight,n=new S(this.barCtx.ctx),l=n.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach((function(t){var e=void 0!==t.attrs.strokeHeight?t.attrs.strokeHeight:r/2,s=i+e+r/2;c=n.drawLine(t.x,s-2*e,t.x,s,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeWidth?t.attrs.strokeWidth:2,t.attrs.strokeLineCap),l.add(c)})):Array.isArray(a)&&a.forEach((function(t){var i=void 0!==t.attrs.strokeWidth?t.attrs.strokeWidth:o/2,s=e+i+o/2;c=n.drawLine(s-2*i,t.y,s,t.y,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeHeight?t.attrs.strokeHeight:2,t.attrs.strokeLineCap),l.add(c)})),l}}]),t}(),Ct=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=i,null!==this.xyRatios&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var a=new j(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]);var o=a.getBarSeriesIndices(),r=new C(this.ctx);this.stackedSeriesTotals=r.getStackedSeriesTotals(this.w.config.series.map((function(t,e){return-1===o.indexOf(e)?e:-1})).filter((function(t){return-1!==t}))),this.barHelpers=new St(this)}return c(t,[{key:"draw",value:function(t,e){var i=this.w,s=new S(this.ctx),a=new C(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var r=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var n=0,l=0;n<t.length;n++,l++){var c,h,d,u,p=void 0,f=void 0,m=[],g=[],v=i.globals.comboCharts?e[n]:n,x=s.group({class:"apexcharts-series",rel:n+1,seriesName:b.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(x,v),t[n].length>0&&(this.visibleI=this.visibleI+1);var y=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();f=k.y,y=k.barHeight,h=k.yDivision,u=k.zeroW,p=k.x,w=k.barWidth,c=k.xDivision,d=k.zeroH,this.horizontal||g.push(p+w/2);for(var A=s.group({class:"apexcharts-datalabels","data:realIndex":v}),T=s.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),I=0;I<i.globals.dataPoints;I++){var M=this.barHelpers.getStrokeWidth(n,I,v),L=null,P={indexes:{i:n,j:I,realIndex:v,bc:l},x:p,y:f,strokeWidth:M,elSeries:x};this.isHorizontal?(L=this.drawBarPaths(o(o({},P),{},{barHeight:y,zeroW:u,yDivision:h})),w=this.series[n][I]/this.invertedYRatio):(L=this.drawColumnPaths(o(o({},P),{},{xDivision:c,barWidth:w,zeroH:d})),y=this.series[n][I]/this.yRatio[this.yaxisIndex]);var _=this.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:L.barYPosition,goalX:L.goalX,goalY:L.goalY,barHeight:y,barWidth:w});_&&T.add(_),f=L.y,p=L.x,I>0&&g.push(p+w/2),m.push(f);var O=this.barHelpers.getPathFillColor(t,n,I,v);this.renderSeries({realIndex:v,pathFill:O,j:I,i:n,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:M,elSeries:x,x:p,y:f,series:t,barHeight:y,barWidth:w,elDataLabelsWrap:A,elGoalsMarkers:T,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[v]=g,i.globals.seriesYvalues[v]=m,r.add(x)}return r}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,s=t.lineFill,a=t.j,o=t.i,r=t.pathFrom,n=t.pathTo,l=t.strokeWidth,c=t.elSeries,h=t.x,d=t.y,u=t.y1,p=t.y2,f=t.series,m=t.barHeight,g=t.barWidth,v=t.barYPosition,x=t.elDataLabelsWrap,y=t.elGoalsMarkers,b=t.visibleSeries,w=t.type,C=this.w,A=new S(this.ctx);s||(s=this.barOptions.distributed?C.globals.stroke.colors[a]:C.globals.stroke.colors[e]),C.config.series[o].data[a]&&C.config.series[o].data[a].strokeColor&&(s=C.config.series[o].data[a].strokeColor),this.isNullValue&&(i="none");var T=a/C.config.chart.animations.animateGradually.delay*(C.config.chart.animations.speed/C.globals.dataPoints)/2.4,I=A.renderPaths({i:o,j:a,realIndex:e,pathFrom:r,pathTo:n,stroke:s,strokeWidth:l,strokeLineCap:C.config.stroke.lineCap,fill:i,animationDelay:T,initialSpeed:C.config.chart.animations.speed,dataChangeSpeed:C.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});I.attr("clip-path","url(#gridRectMask".concat(C.globals.cuid,")"));var M=C.config.forecastDataPoints;M.count>0&&a>=C.globals.dataPoints-M.count&&(I.node.setAttribute("stroke-dasharray",M.dashArray),I.node.setAttribute("stroke-width",M.strokeWidth),I.node.setAttribute("fill-opacity",M.fillOpacity)),void 0!==u&&void 0!==p&&(I.attr("data-range-y1",u),I.attr("data-range-y2",p)),new k(this.ctx).setSelectionFilter(I,e,a),c.add(I);var L=new kt(this).handleBarDataLabels({x:h,y:d,y1:u,y2:p,i:o,j:a,series:f,realIndex:e,barHeight:m,barWidth:g,barYPosition:v,renderedPath:I,visibleSeries:b});return null!==L.dataLabels&&x.add(L.dataLabels),L.totalDataLabels&&x.add(L.totalDataLabels),c.add(x),y&&c.add(y),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,s=t.strokeWidth,a=t.zeroW,o=t.x,r=t.y,n=t.yDivision,l=t.elSeries,c=this.w,h=e.i,d=e.j;c.globals.isXNumeric&&(r=(c.globals.seriesX[h][d]-c.globals.minX)/this.invertedXRatio-i);var u=r+i*this.visibleI;o=this.barHelpers.getXForValue(this.series[h][d],a);var p=this.barHelpers.getBarpaths({barYPosition:u,barHeight:i,x1:a,x2:o,strokeWidth:s,series:this.series,realIndex:e.realIndex,i:h,j:d,w:c});return c.globals.isXNumeric||(r+=n),this.barHelpers.barBackground({j:d,i:h,y1:u-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:o,y:r,goalX:this.barHelpers.getGoalValues("x",a,null,h,d),barYPosition:u}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,r=t.zeroH,n=t.strokeWidth,l=t.elSeries,c=this.w,h=e.realIndex,d=e.i,u=e.j,p=e.bc;if(c.globals.isXNumeric){var f=h;c.globals.seriesX[h].length||(f=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[f][u]-c.globals.minX)/this.xRatio-o*this.seriesLen/2}var m=i+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[d][u],r);var g=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:o,y1:r,y2:s,strokeWidth:n,series:this.series,realIndex:e.realIndex,i:d,j:u,w:c});return c.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:p,j:u,i:d,x1:m-n/2-o*this.visibleI,x2:o*this.seriesLen+n/2,elSeries:l}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,r,d,u),barXPosition:m}}},{key:"getPreviousPath",value:function(t,e){for(var i,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==s.globals.previousPaths[a].paths[e]&&(i=s.globals.previousPaths[a].paths[e].d)}return i}}]),t}(),At=function(t){d(i,Ct);var e=m(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w;this.graphics=new S(this.ctx),this.bar=new Ct(this.ctx,this.xyRatios);var a=new C(this.ctx,s);t=a.getLogSeries(t),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===s.config.chart.stackType&&(t=s.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var r=0;r<t.length;r++)t[r].length>0&&(this.totalItems+=t[r].length);for(var n=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,h=function(a,r){var h=void 0,d=void 0,u=void 0,p=void 0,f=[],m=[],g=s.globals.comboCharts?e[a]:a;i.yRatio.length>1&&(i.yaxisIndex=g),i.isReversed=s.config.yaxis[i.yaxisIndex]&&s.config.yaxis[i.yaxisIndex].reversed;var v=i.graphics.group({class:"apexcharts-series",seriesName:b.escapeString(s.globals.seriesNames[g]),rel:a+1,"data:realIndex":g});i.ctx.series.addCollapsedClassToSeries(v,g);var x=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":g}),y=i.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),w=0,k=0,S=i.initialPositions(l,c,h,d,u,p);c=S.y,w=S.barHeight,d=S.yDivision,p=S.zeroW,l=S.x,k=S.barWidth,h=S.xDivision,u=S.zeroH,i.yArrj=[],i.yArrjF=[],i.yArrjVal=[],i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],1===i.prevY.length&&i.prevY[0].every((function(t){return isNaN(t)}))&&(i.prevY[0]=i.prevY[0].map((function(t){return u})),i.prevYF[0]=i.prevYF[0].map((function(t){return 0})));for(var C=0;C<s.globals.dataPoints;C++){var A=i.barHelpers.getStrokeWidth(a,C,g),T={indexes:{i:a,j:C,realIndex:g,bc:r},strokeWidth:A,x:l,y:c,elSeries:v},I=null;i.isHorizontal?(I=i.drawStackedBarPaths(o(o({},T),{},{zeroW:p,barHeight:w,yDivision:d})),k=i.series[a][C]/i.invertedYRatio):(I=i.drawStackedColumnPaths(o(o({},T),{},{xDivision:h,barWidth:k,zeroH:u})),w=i.series[a][C]/i.yRatio[i.yaxisIndex]);var M=i.barHelpers.drawGoalLine({barXPosition:I.barXPosition,barYPosition:I.barYPosition,goalX:I.goalX,goalY:I.goalY,barHeight:w,barWidth:k});M&&y.add(M),c=I.y,l=I.x,f.push(l),m.push(c);var L=i.barHelpers.getPathFillColor(t,a,C,g);v=i.renderSeries({realIndex:g,pathFill:L,j:C,i:a,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:A,elSeries:v,x:l,y:c,series:t,barHeight:w,barWidth:k,elDataLabelsWrap:x,elGoalsMarkers:y,type:"bar",visibleSeries:0})}s.globals.seriesXvalues[g]=f,s.globals.seriesYvalues[g]=m,i.prevY.push(i.yArrj),i.prevYF.push(i.yArrjF),i.prevYVal.push(i.yArrjVal),i.prevX.push(i.xArrj),i.prevXF.push(i.xArrjF),i.prevXVal.push(i.xArrjVal),n.add(v)},d=0,u=0;d<t.length;d++,u++)h(d,u);return n}},{key:"initialPositions",value:function(t,e,i,s,a,o){var r,n,l=this.w;return this.isHorizontal?(r=(r=s=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(s-r)/2):(n=i=l.globals.gridWidth/l.globals.dataPoints,n=l.globals.isXNumeric&&l.globals.dataPoints>1?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:n*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,a=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-n)/2),{x:t,y:e,yDivision:s,xDivision:i,barHeight:r,barWidth:n,zeroH:a,zeroW:o}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,s=t.barHeight,a=t.strokeWidth,o=t.zeroW,r=t.x,n=t.y,l=t.yDivision,c=t.elSeries,h=this.w,d=n,u=i.i,p=i.j,f=0,m=0;m<this.prevXF.length;m++)f+=this.prevXF[m][p];if(u>0){var g=o;this.prevXVal[u-1][p]<0?g=this.series[u][p]>=0?this.prevX[u-1][p]+f-2*(this.isReversed?f:0):this.prevX[u-1][p]:this.prevXVal[u-1][p]>=0&&(g=this.series[u][p]>=0?this.prevX[u-1][p]:this.prevX[u-1][p]-f+2*(this.isReversed?f:0)),e=g}else e=o;r=null===this.series[u][p]?e:e+this.series[u][p]/this.invertedYRatio-2*(this.isReversed?this.series[u][p]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:d,barHeight:s,x1:e,x2:r,strokeWidth:a,series:this.series,realIndex:i.realIndex,i:u,j:p,w:h});return this.barHelpers.barBackground({j:p,i:u,y1:d,y2:s,elSeries:c}),n+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,goalX:this.barHelpers.getGoalValues("x",o,null,u,p),barYPosition:d,x:r,y:n}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,r=t.zeroH;t.strokeWidth;var n=t.elSeries,l=this.w,c=e.i,h=e.j,d=e.bc;if(l.globals.isXNumeric){var u=l.globals.seriesX[c][h];u||(u=0),i=(u-l.globals.minX)/this.xRatio-o/2}for(var p,f=i,m=0,g=0;g<this.prevYF.length;g++)m+=isNaN(this.prevYF[g][h])?0:this.prevYF[g][h];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][h]===l.globals.seriesX[c][h]){var v,x,y=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var b=1;b<y;b++)if(!isNaN(this.prevY[c-b][h])){x=this.prevY[c-b][h];break}for(var w=1;w<y;w++){if(this.prevYVal[c-w][h]<0){v=this.series[c][h]>=0?x-m+2*(this.isReversed?m:0):x;break}if(this.prevYVal[c-w][h]>=0){v=this.series[c][h]>=0?x:x+m-2*(this.isReversed?m:0);break}}void 0===v&&(v=l.globals.gridHeight),p=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?r:v}else p=r;s=p-this.series[c][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][h]/this.yRatio[this.yaxisIndex]:0);var k=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:o,y1:p,y2:s,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:h,w:l});return this.barHelpers.barBackground({bc:d,j:h,i:c,x1:f,x2:o,elSeries:n}),i+=a,{pathTo:k.pathTo,pathFrom:k.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,r,c,h),barXPosition:f,x:l.globals.isXNumeric?i-a:i,y:s}}}]),i}(),Tt=function(t){d(i,Ct);var e=m(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w,a=new S(this.ctx),r=new R(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal;var n=new C(this.ctx,s);t=n.getLogSeries(t),this.series=t,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var l=a.group({class:"apexcharts-".concat(s.config.chart.type,"-series apexcharts-plot-series")}),c=function(n){i.isBoxPlot="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[n].type;var c,h,d,u,p,f,m=void 0,g=void 0,v=[],x=[],y=s.globals.comboCharts?e[n]:n,w=a.group({class:"apexcharts-series",seriesName:b.escapeString(s.globals.seriesNames[y]),rel:n+1,"data:realIndex":y});i.ctx.series.addCollapsedClassToSeries(w,y),t[n].length>0&&(i.visibleI=i.visibleI+1),i.yRatio.length>1&&(i.yaxisIndex=y);var k=i.barHelpers.initialPositions();g=k.y,p=k.barHeight,h=k.yDivision,u=k.zeroW,m=k.x,f=k.barWidth,c=k.xDivision,d=k.zeroH,x.push(m+f/2);for(var S=a.group({class:"apexcharts-datalabels","data:realIndex":y}),C=function(e){var a=i.barHelpers.getStrokeWidth(n,e,y),l=null,b={indexes:{i:n,j:e,realIndex:y},x:m,y:g,strokeWidth:a,elSeries:w};l=i.isHorizontal?i.drawHorizontalBoxPaths(o(o({},b),{},{yDivision:h,barHeight:p,zeroW:u})):i.drawVerticalBoxPaths(o(o({},b),{},{xDivision:c,barWidth:f,zeroH:d})),g=l.y,m=l.x,e>0&&x.push(m+f/2),v.push(g),l.pathTo.forEach((function(o,c){var h=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?l.color[c]:s.globals.stroke.colors[n],d=r.fillPath({seriesNumber:y,dataPointIndex:e,color:l.color[c],value:t[n][e]});i.renderSeries({realIndex:y,pathFill:d,lineFill:h,j:e,i:n,pathFrom:l.pathFrom,pathTo:o,strokeWidth:a,elSeries:w,x:m,y:g,series:t,barHeight:p,barWidth:f,elDataLabelsWrap:S,visibleSeries:i.visibleI,type:s.config.chart.type})}))},A=0;A<s.globals.dataPoints;A++)C(A);s.globals.seriesXvalues[y]=x,s.globals.seriesYvalues[y]=v,l.add(w)},h=0;h<t.length;h++)c(h);return l}},{key:"drawVerticalBoxPaths",value:function(t){var e=t.indexes,i=t.x;t.y;var s=t.xDivision,a=t.barWidth,o=t.zeroH,r=t.strokeWidth,n=this.w,l=new S(this.ctx),c=e.i,h=e.j,d=!0,u=n.config.plotOptions.candlestick.colors.upward,p=n.config.plotOptions.candlestick.colors.downward,f="";this.isBoxPlot&&(f=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.yRatio[this.yaxisIndex],g=e.realIndex,v=this.getOHLCValue(g,h),x=o,y=o;v.o>v.c&&(d=!1);var b=Math.min(v.o,v.c),w=Math.max(v.o,v.c),k=v.m;n.globals.isXNumeric&&(i=(n.globals.seriesX[g][h]-n.globals.minX)/this.xRatio-a/2);var C=i+a*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?(b=o,w=o):(b=o-b/m,w=o-w/m,x=o-v.h/m,y=o-v.l/m,k=o-v.m/m);var A=l.move(C,o),T=l.move(C+a/2,b);return n.globals.previousPaths.length>0&&(T=this.getPreviousPath(g,h,!0)),A=this.isBoxPlot?[l.move(C,b)+l.line(C+a/2,b)+l.line(C+a/2,x)+l.line(C+a/4,x)+l.line(C+a-a/4,x)+l.line(C+a/2,x)+l.line(C+a/2,b)+l.line(C+a,b)+l.line(C+a,k)+l.line(C,k)+l.line(C,b+r/2),l.move(C,k)+l.line(C+a,k)+l.line(C+a,w)+l.line(C+a/2,w)+l.line(C+a/2,y)+l.line(C+a-a/4,y)+l.line(C+a/4,y)+l.line(C+a/2,y)+l.line(C+a/2,w)+l.line(C,w)+l.line(C,k)+"z"]:[l.move(C,w)+l.line(C+a/2,w)+l.line(C+a/2,x)+l.line(C+a/2,w)+l.line(C+a,w)+l.line(C+a,b)+l.line(C+a/2,b)+l.line(C+a/2,y)+l.line(C+a/2,b)+l.line(C,b)+l.line(C,w-r/2)],T+=l.move(C,b),n.globals.isXNumeric||(i+=s),{pathTo:A,pathFrom:T,x:i,y:w,barXPosition:C,color:this.isBoxPlot?f:d?[u]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(t){var e=t.indexes;t.x;var i=t.y,s=t.yDivision,a=t.barHeight,o=t.zeroW,r=t.strokeWidth,n=this.w,l=new S(this.ctx),c=e.i,h=e.j,d=this.boxOptions.colors.lower;this.isBoxPlot&&(d=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var u=this.invertedYRatio,p=e.realIndex,f=this.getOHLCValue(p,h),m=o,g=o,v=Math.min(f.o,f.c),x=Math.max(f.o,f.c),y=f.m;n.globals.isXNumeric&&(i=(n.globals.seriesX[p][h]-n.globals.minX)/this.invertedXRatio-a/2);var b=i+a*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?(v=o,x=o):(v=o+v/u,x=o+x/u,m=o+f.h/u,g=o+f.l/u,y=o+f.m/u);var w=l.move(o,b),k=l.move(v,b+a/2);return n.globals.previousPaths.length>0&&(k=this.getPreviousPath(p,h,!0)),w=[l.move(v,b)+l.line(v,b+a/2)+l.line(m,b+a/2)+l.line(m,b+a/2-a/4)+l.line(m,b+a/2+a/4)+l.line(m,b+a/2)+l.line(v,b+a/2)+l.line(v,b+a)+l.line(y,b+a)+l.line(y,b)+l.line(v+r/2,b),l.move(y,b)+l.line(y,b+a)+l.line(x,b+a)+l.line(x,b+a/2)+l.line(g,b+a/2)+l.line(g,b+a-a/4)+l.line(g,b+a/4)+l.line(g,b+a/2)+l.line(x,b+a/2)+l.line(x,b)+l.line(y,b)+"z"],k+=l.move(v,b),n.globals.isXNumeric||(i+=s),{pathTo:w,pathFrom:k,x:x,y:i,barYPosition:b,color:d}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:this.isBoxPlot?i.globals.seriesCandleH[t][e]:i.globals.seriesCandleO[t][e],h:this.isBoxPlot?i.globals.seriesCandleO[t][e]:i.globals.seriesCandleH[t][e],m:i.globals.seriesCandleM[t][e],l:this.isBoxPlot?i.globals.seriesCandleC[t][e]:i.globals.seriesCandleL[t][e],c:this.isBoxPlot?i.globals.seriesCandleL[t][e]:i.globals.seriesCandleC[t][e]}}}]),i}(),It=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(t,i){t.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,s){var a=this.w,o=1,r=a.config.plotOptions[t].shadeIntensity,n=this.determineColor(t,e,i);a.globals.hasNegs||s?o=a.config.plotOptions[t].reverseNegativeShade?n.percent<0?n.percent/100*(1.25*r):(1-n.percent/100)*(1.25*r):n.percent<=0?1-(1+n.percent/100)*r:(1-n.percent/100)*r:(o=1-n.percent/100,"treemap"===t&&(o=(1-n.percent/100)*(1.25*r)));var l=n.color,c=new b;return a.config.plotOptions[t].enableShades&&(l="dark"===this.w.config.theme.mode?b.hexToRgba(c.shadeColor(-1*o,n.color),a.config.fill.opacity):b.hexToRgba(c.shadeColor(o,n.color),a.config.fill.opacity)),{color:l,colorProps:n}}},{key:"determineColor",value:function(t,e,i){var s=this.w,a=s.globals.series[e][i],o=s.config.plotOptions[t],r=o.colorScale.inverse?i:e;o.distributed&&"treemap"===s.config.chart.type&&(r=i);var n=s.globals.colors[r],l=null,c=Math.min.apply(Math,v(s.globals.series[e])),h=Math.max.apply(Math,v(s.globals.series[e]));o.distributed||"heatmap"!==t||(c=s.globals.minY,h=s.globals.maxY),void 0!==o.colorScale.min&&(c=o.colorScale.min<s.globals.minY?o.colorScale.min:s.globals.minY,h=o.colorScale.max>s.globals.maxY?o.colorScale.max:s.globals.maxY);var d=Math.abs(h)+Math.abs(c),u=100*a/(0===d?d-1e-6:d);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(t,e){if(a>=t.from&&a<=t.to){n=t.color,l=t.foreColor?t.foreColor:null,c=t.from,h=t.to;var i=Math.abs(h)+Math.abs(c);u=100*a/(0===i?i-1e-6:i)}})),{color:n,foreColor:l,percent:u}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,s=t.y,a=t.i,o=t.j,r=t.colorProps,n=t.fontSize,l=this.w.config.dataLabels,c=new S(this.ctx),h=new W(this.ctx),d=null;if(l.enabled){d=c.group({class:"apexcharts-data-labels"});var u=l.offsetX,p=l.offsetY,f=i+u,m=s+parseFloat(l.style.fontSize)/3+p;h.plotDataLabelsText({x:f,y:m,text:e,i:a,j:o,color:r.foreColor,parent:d,fontSize:n,dataLabelsConfig:l})}return d}},{key:"addListeners",value:function(t){var e=new S(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),t}(),Mt=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new It(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(t,[{key:"draw",value:function(t){var e=this.w,i=new S(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var a=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,r=0,n=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(n=!0,l.reverse());for(var c=n?0:l.length-1;n?c<l.length:c>=0;n?c++:c--){var h=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:b.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(h,c),e.config.chart.dropShadow.enabled){var d=e.config.chart.dropShadow;new k(this.ctx).dropShadow(h,d,c)}for(var u=0,p=e.config.plotOptions.heatmap.shadeIntensity,f=0;f<l[c].length;f++){var m=this.helpers.getShadeColor(e.config.chart.type,c,f,this.negRange),g=m.color,v=m.colorProps;"image"===e.config.fill.type&&(g=new R(this.ctx).fillPath({seriesNumber:c,dataPointIndex:f,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:b.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:a,height:e.config.fill.image.height?e.config.fill.image.height:o}));var x=this.rectRadius,y=i.drawRect(u,r,a,o,x);if(y.attr({cx:u,cy:r}),y.node.classList.add("apexcharts-heatmap-rect"),h.add(y),y.attr({fill:g,i:c,index:c,j:f,val:l[c][f],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?g:e.globals.stroke.colors[0],color:g}),this.helpers.addListeners(y),e.config.chart.animations.enabled&&!e.globals.dataChanged){var w=1;e.globals.resized||(w=e.config.chart.animations.speed),this.animateHeatMap(y,u,r,a,o,w)}if(e.globals.dataChanged){var C=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){C=this.dynamicAnim.speed;var A=e.globals.previousPaths[c]&&e.globals.previousPaths[c][f]&&e.globals.previousPaths[c][f].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(y,b.isColorHex(A)?A:b.rgb2hex(A),b.isColorHex(g)?g:b.rgb2hex(g),C)}}var T=(0,e.config.dataLabels.formatter)(e.globals.series[c][f],{value:e.globals.series[c][f],seriesIndex:c,dataPointIndex:f,w:e}),I=this.helpers.calculateDataLabels({text:T,x:u+a/2,y:r+o/2,i:c,j:f,colorProps:v,series:l});null!==I&&h.add(I),u+=a}r+=o,s.add(h)}var M=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?M.unshift(""):M.push(""),e.globals.yAxisScale[0].result=M;var L=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-L/2,s}},{key:"animateHeatMap",value:function(t,e,i,s,a,o){var r=new w(this.ctx);r.animateRect(t,{x:e+s/2,y:i+a/2,width:0,height:0},{x:e,y:i,width:s,height:a},o,(function(){r.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,s){t.attr({fill:e}).animate(s).attr({fill:i})}}]),t}(),Lt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawYAxisTexts",value:function(t,e,i,s){var a=this.w,o=a.config.yaxis[0],r=a.globals.yLabelFormatters[0];return new S(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:r(s,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),t}(),Pt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,"radialBar"===i.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new S(this.ctx);if(this.ret=s.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var a=0,o=0;o<t.length;o++)a+=b.negToZero(t[o]);var r=[],n=s.group();0===a&&(a=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var c=this.fullAngle*b.negToZero(t[l])/a;r.push(c),"polarArea"===this.chartType?(r[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var h,d=0,u=0;u<i.globals.previousPaths.length;u++)d+=b.negToZero(i.globals.previousPaths[u]);for(var p=0;p<i.globals.previousPaths.length;p++)h=this.fullAngle*b.negToZero(i.globals.previousPaths[p])/d,this.prevSectorAngleArr.push(h)}this.donutSize<0&&(this.donutSize=0);var f=i.config.plotOptions.pie.customScale,m=i.globals.gridWidth/2,g=i.globals.gridHeight/2,v=m-i.globals.gridWidth/2*f,x=g-i.globals.gridHeight/2*f;if("donut"===this.chartType){var y=s.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),n.add(y)}var w=this.drawArcs(r,t);if(this.sliceLabels.forEach((function(t){w.add(t)})),n.attr({transform:"translate(".concat(v,", ").concat(x,") scale(").concat(f,")")}),n.add(w),this.ret.add(n),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:x});this.ret.add(k)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,s=new k(this.ctx),a=new S(this.ctx),o=new R(this.ctx),r=a.group({class:"apexcharts-slices"}),n=this.initialAngle,l=this.initialAngle,c=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var d=0;d<t.length;d++){var u=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:b.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});r.add(u),l=h,c=(n=c)+t[d],h=l+this.prevSectorAngleArr[d];var p=c<n?this.fullAngle+c-n:c-n,f=o.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:e[d]}),m=this.getChangedPath(l,h),g=a.drawPath({d:m,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:f,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(g.attr({index:0,j:d}),s.setSelectionFilter(g,0,d),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;s.dropShadow(g,v,d)}this.addListeners(g,this.donutDataLabels),S.setAttrs(g.node,{"data:angle":p,"data:startAngle":n,"data:strokeWidth":this.strokeWidth,"data:value":e[d]});var x={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?x=b.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(n+p/2)%this.fullAngle):"donut"===this.chartType&&(x=b.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(n+p/2)%this.fullAngle)),u.add(g);var y=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0===(y=p/this.fullAngle*i.config.chart.animations.speed)&&(y=1),this.animDur=y+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[d],endAngle:c,startAngle:n,prevStartAngle:l,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[d],endAngle:c,startAngle:n,i:d,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:y}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,d)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),i.config.dataLabels.enabled){var w=x.x,C=x.y,A=100*p/this.fullAngle+"%";if(0!==p&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[d]){var T=i.config.dataLabels.formatter;void 0!==T&&(A=T(i.globals.seriesPercent[d][0],{seriesIndex:d,w:i}));var I=i.globals.dataLabels.style.colors[d],M=a.group({class:"apexcharts-datalabels"}),L=a.drawText({x:w,y:C,text:A,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:I});if(M.add(L),i.config.dataLabels.dropShadow.enabled){var P=i.config.dataLabels.dropShadow;s.dropShadow(L,P)}L.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(L.node.classList.add("apexcharts-pie-label-delay"),L.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(M)}}}return r}},{key:"addListeners",value:function(t,e){var i=new S(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,s=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,a=s,o=e.startAngle,r=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,a=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(s+r>this.fullAngle?e.endAngle=e.endAngle-(s+r):s+r<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(s+r)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(t,o,r,s,a,e)}},{key:"animateArc",value:function(t,e,i,s,a,o){var r,n=this,l=this.w,c=new w(this.ctx),h=o.size;(isNaN(e)||isNaN(a))&&(e=i,a=s,o.dur=0);var d=s,u=i,p=e<i?this.fullAngle+e-i:e-i;l.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(r=n.getPiePath({me:n,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),t.attr({d:r})),0!==o.dur?t.animate(o.dur,l.globals.easing,o.animBeginArr[o.i]).afterAll((function(){"pie"!==n.chartType&&"donut"!==n.chartType&&"polarArea"!==n.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":n.strokeWidth}),o.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){d=p+(s-p)*l,o.animateStartingPos&&(d=a+(s-a)*l,u=e-a+(i-(e-a))*l),r=n.getPiePath({me:n,startAngle:u,angle:d,size:h}),t.node.setAttribute("data:pathOrig",r),t.attr({d:r})})):(r=n.getPiePath({me:n,startAngle:u,angle:s,size:h}),o.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",r),t.attr({d:r,"stroke-width":n.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,s=this,a=s.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.select(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==o.attr("data:pieClicked")){var r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(r,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),o.attr("data:pieClicked","true");var n=parseInt(o.attr("data:startAngle"),10),l=parseInt(o.attr("data:angle"),10);e=s.getPiePath({me:s,startAngle:n,angle:l,size:a}),360!==l&&o.plot(e)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var c=o.attr("data:pathOrig");o.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,s=t.angle,a=t.size,o=i,r=Math.PI*(o-90)/180,n=s+i;Math.ceil(n)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(n=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(n)>this.fullAngle&&(n-=this.fullAngle);var l=Math.PI*(n-90)/180,c=e.centerX+a*Math.cos(r),h=e.centerY+a*Math.sin(r),d=e.centerX+a*Math.cos(l),u=e.centerY+a*Math.sin(l),p=b.polarToCartesian(e.centerX,e.centerY,e.donutSize,n),f=b.polarToCartesian(e.centerX,e.centerY,e.donutSize,o),m=s>180?1:0,g=["M",c,h,"A",a,a,0,m,1,d,u];return"donut"===e.chartType?[].concat(g,["L",p.x,p.y,"A",e.donutSize,e.donutSize,0,m,0,f.x,f.y,"L",c,h,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(g,["L",e.centerX,e.centerY,"L",c,h]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new Z(this.ctx),s=new S(this.ctx),a=new Lt(this.ctx),o=s.group(),r=s.group(),n=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),l=n.result.reverse(),c=n.result.length;this.maxY=n.niceMax;for(var h=e.globals.radialSize,d=h/(c-1),u=0;u<c-1;u++){var p=s.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var f=a.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,u,l[u]);r.add(f)}o.add(p),h-=d}this.drawSpokes(t),t.add(o),t.add(r)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,s=new S(this.ctx),a=s.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),o=t.total.show;a.node.style.opacity=e.opacity;var r,n,l=e.centerX,c=e.centerY;r=void 0===t.name.color?i.globals.colors[0]:t.name.color;var h=t.name.fontSize,d=t.name.fontFamily,u=t.name.fontWeight;n=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var p=t.value.formatter,f="",m="";if(o?(r=t.total.color,h=t.total.fontSize,d=t.total.fontFamily,u=t.total.fontWeight,m=t.total.label,f=t.total.formatter(i)):1===i.globals.series.length&&(f=p(i.globals.series[0],i),m=i.globals.seriesNames[0]),m&&(m=t.name.formatter(m,t.total.show,i)),t.name.show){var g=s.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:m,textAnchor:"middle",foreColor:r,fontSize:h,fontWeight:u,fontFamily:d});g.node.classList.add("apexcharts-datalabel-label"),a.add(g)}if(t.value.show){var v=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,x=s.drawText({x:l,y:c+v,text:f,textAnchor:"middle",foreColor:n,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});x.node.classList.add("apexcharts-datalabel-value"),a.add(x)}return a}},{key:"printInnerLabels",value:function(t,e,i,s){var a,o=this.w;s?a=void 0===t.name.color?o.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(a=t.total.color);var r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),n=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,o),s||"function"!=typeof t.total.formatter||(i=t.total.formatter(o));var l=e===t.total.label;e=t.name.formatter(e,l,o),null!==r&&(r.textContent=e),null!==n&&(n.textContent=i),null!==r&&(r.style.fill=a)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,s=t.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,a,s,t);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,s=new S(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var o=[],r=360/i.globals.series.length,n=0;n<i.globals.series.length;n++)o.push(b.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+r*n));o.forEach((function(i,o){var r=s.drawLine(i.x,i.y,e.centerX,e.centerY,Array.isArray(a.connectorColors)?a.connectorColors[o]:a.connectorColors);t.add(r)}))}}},{key:"revertDataLabelsInner",value:function(t,e,i){var s=this,a=this.w,o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),r=!1,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var i=t.makeSliceOut,a=t.printLabel;Array.prototype.forEach.call(n,(function(t){"true"===t.getAttribute("data:pieClicked")&&(i&&(r=!0),a&&s.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&a.globals.series.length>1)r&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(a));else if(l({makeSliceOut:!1,printLabel:!0}),!r)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var c=a.globals.selectedDataPoints[0],h=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(h,e)}else o&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(o.style.opacity=0);else o&&a.globals.series.length>1&&(o.style.opacity=0)}}]),t}(),_t=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new S(this.ctx),this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new C(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),void 0!==i.config.plotOptions.radar.size&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new R(this.ctx),a=[],r=new W(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var n=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=n+i.config.plotOptions.radar.offsetX,h=l+i.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(h||0,")")}),u=[],p=null,f=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,n){var l=t.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:b.escapeString(i.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});e.dataRadiusOfPercent[n]=[],e.dataRadius[n]=[],e.angleArr[n]=[],t.forEach((function(t,i){var s=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.isLog&&(t=e.coreUtils.getLogVal(t,0)),e.dataRadiusOfPercent[n][i]=t/s,e.dataRadius[n][i]=e.dataRadiusOfPercent[n][i]*e.size,e.angleArr[n][i]=i*e.disAngle})),u=e.getDataPointsPos(e.dataRadius[n],e.angleArr[n]);var h=e.createPaths(u,{x:0,y:0});p=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),f=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":n}),i.globals.delayedElements.push({el:p.node,index:n});var d={i:n,realIndex:n,animationDelay:n,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[n],strokeLineCap:i.config.stroke.lineCap},m=null;i.globals.previousPaths.length>0&&(m=e.getPreviousPath(n));for(var g=0;g<h.linePathsTo.length;g++){var v=e.graphics.renderPaths(o(o({},d),{},{pathFrom:null===m?h.linePathsFrom[g]:m,pathTo:h.linePathsTo[g],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[n]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var x=s.fillPath({seriesNumber:n}),y=e.graphics.renderPaths(o(o({},d),{},{pathFrom:null===m?h.areaPathsFrom[g]:m,pathTo:h.areaPathsTo[g],strokeWidth:0,fill:x,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var w=new k(e.ctx),S=i.config.chart.dropShadow;w.dropShadow(y,Object.assign({},S,{noUserSpaceOnUse:!0}),n)}c.add(y)}t.forEach((function(t,s){var a=new $(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:n,dataPointIndex:s}),l=e.graphics.drawMarker(u[s].x,u[s].y,a);l.attr("rel",s),l.attr("j",s),l.attr("index",n),l.node.setAttribute("default-marker-size",a.pSize);var h=e.graphics.group({class:"apexcharts-series-markers"});h&&h.add(l),p.add(h),c.add(p);var d=i.config.dataLabels;if(d.enabled){var m=d.formatter(i.globals.series[n][s],{seriesIndex:n,dataPointIndex:s,w:i});r.plotDataLabelsText({x:u[s].x,y:u[s].y,text:m,textAnchor:"middle",i:n,j:n,parent:f,offsetCorrection:!1,dataLabelsConfig:o({},d)})}c.add(f)})),a.push(c)})),this.drawPolygons({parent:d}),i.config.xaxis.labels.show){var m=this.drawXAxisTexts();d.add(m)}return a.forEach((function(t){d.add(t)})),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,s=t.parent,a=new Lt(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),r=o.length,n=[],l=this.size/(r-1),c=0;c<r;c++)n[c]=l*c;n.reverse();var h=[],d=[];n.forEach((function(t,i){var s=b.getPolygonPos(t,e.dataPointsLen),a="";s.forEach((function(t,s){if(0===i){var o=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[s]:e.polygons.connectorColors);d.push(o)}0===s&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),a+=t.x+","+t.y+" "})),h.push(a)})),h.forEach((function(t,a){var o=e.polygons.strokeColors,r=e.polygons.strokeWidth,n=e.graphics.drawPolygon(t,Array.isArray(o)?o[a]:o,Array.isArray(r)?r[a]:r,i.globals.radarPolygons.fill.colors[a]);s.add(n)})),d.forEach((function(t){s.add(t)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,i){var s=a.drawYAxisTexts(t.x,t.y,i,o[i]);e.yaxisLabels.add(s)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=b.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(r,n){var l=e.config.xaxis.labels.formatter,c=new W(t.ctx);if(a[n]){var h=t.getTextPos(a[n],t.size),d=l(r,{seriesIndex:-1,dataPointIndex:n,w:e});c.plotDataLabelsText({x:h.newX,y:h.newY,text:d,textAnchor:h.textAnchor,i:n,j:n,parent:s,color:Array.isArray(i.style.colors)&&i.style.colors[n]?i.style.colors[n]:"#a8a8a8",dataLabelsConfig:o({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}})),s}},{key:"createPaths",value:function(t,e){var i=this,s=[],a=[],o=[],r=[];if(t.length){a=[this.graphics.move(e.x,e.y)],r=[this.graphics.move(e.x,e.y)];var n=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,s){n+=i.graphics.line(e.x,e.y),l+=i.graphics.line(e.x,e.y),s===t.length-1&&(n+="Z",l+="Z")})),s.push(n),o.push(l)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:r,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var i="middle",s=t.x,a=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",s+=10):t.x<0&&(i="end",s-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?a-=10:t.y>0&&(a+=10)),{textAnchor:i,newX:s,newY:a}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,s=0;s<e.globals.previousPaths.length;s++){var a=e.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[s].paths[0]&&(i=e.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var s=[],a=0;a<i;a++){var o={};o.x=t[a]*Math.sin(e[a]),o.y=-t[a]*Math.cos(e[a]),s.push(o)}return s}}]),t}(),Ot=function(t){d(i,Pt);var e=m(i);function i(t){var s;n(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),360===s.endAngle&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s}return c(i,[{key:"draw",value:function(t){var e=this.w,i=new S(this.ctx),s=i.group({class:"apexcharts-radialbar"});if(e.globals.noData)return s;var a=i.group(),o=this.defaultSize/2,r=e.globals.gridWidth/2,n=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(n=n-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:n,centerX:r,centerY:o,colorArr:l,series:t});a.add(c)}var h=this.drawArcs({size:n,centerX:r,centerY:o,colorArr:l,series:t}),d=360;e.config.plotOptions.radialBar.startAngle<0&&(d=this.totalAngle);var u=(360-d)/360;if(e.globals.radialSize=n-n*u,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=p*u}return a.add(h.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(h.g.add(h.elHollow),h.dataLabels&&h.g.add(h.dataLabels)),s.add(a),s}},{key:"drawTracks",value:function(t){var e=this.w,i=new S(this.ctx),s=i.group({class:"apexcharts-tracks"}),a=new k(this.ctx),o=new R(this.ctx),r=this.getStrokeWidth(t);t.size=t.size-r/2;for(var n=0;n<t.series.length;n++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(l),l.attr({rel:n+1}),t.size=t.size-r-this.margin;var c=e.config.plotOptions.radialBar.track,h=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[n]:c.background,solid:!0}),d=this.trackStartAngle,u=this.trackEndAngle;Math.abs(u)+Math.abs(d)>=360&&(u=360-Math.abs(this.startAngle)-.1);var p=i.drawPath({d:"",stroke:h,strokeWidth:r*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var f=c.dropShadow;a.dropShadow(p,f)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+n),this.animatePaths(p,{centerX:t.centerX,centerY:t.centerY,endAngle:u,startAngle:d,size:t.size,i:n,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return s}},{key:"drawArcs",value:function(t){var e=this.w,i=new S(this.ctx),s=new R(this.ctx),a=new k(this.ctx),o=i.group(),r=this.getStrokeWidth(t);t.size=t.size-r/2;var n=e.config.plotOptions.radialBar.hollow.background,l=t.size-r*t.series.length-this.margin*t.series.length-r*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(n=this.drawHollowImage(t,o,l,n));var h=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:n||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var d=e.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(h,d)}var u=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(u=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:u})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(h),p&&o.add(p));var f=!1;e.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var m=f?t.series.length-1:0;f?m>=0:m<t.series.length;f?m--:m++){var g=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:b.escapeString(e.globals.seriesNames[m])});o.add(g),g.attr({rel:m+1,"data:realIndex":m}),this.ctx.series.addCollapsedClassToSeries(g,m),t.size=t.size-r-this.margin;var v=s.fillPath({seriesNumber:m,size:t.size,value:t.series[m]}),x=this.startAngle,y=void 0,w=b.negToZero(t.series[m]>100?100:t.series[m])/100,C=Math.round(this.totalAngle*w)+this.startAngle,A=void 0;e.globals.dataChanged&&(y=this.startAngle,A=Math.round(this.totalAngle*b.negToZero(e.globals.previousPaths[m])/100)+y),Math.abs(C)+Math.abs(x)>=360&&(C-=.01),Math.abs(A)+Math.abs(y)>=360&&(A-=.01);var T=C-x,I=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[m]:e.config.stroke.dashArray,M=i.drawPath({d:"",stroke:v,strokeWidth:r,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+m,strokeDashArray:I});if(S.setAttrs(M.node,{"data:angle":T,"data:value":t.series[m]}),e.config.chart.dropShadow.enabled){var L=e.config.chart.dropShadow;a.dropShadow(M,L,m)}a.setSelectionFilter(M,0,m),this.addListeners(M,this.radialDataLabels),g.add(M),M.attr({index:0,j:m});var P=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(P=e.config.chart.animations.speed),e.globals.dataChanged&&(P=e.config.chart.animations.dynamicAnimation.speed),this.animDur=P/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(M,{centerX:t.centerX,centerY:t.centerY,endAngle:C,startAngle:x,prevEndAngle:A,prevStartAngle:y,size:t.size,i:m,totalItems:2,animBeginArr:this.animBeginArr,dur:P,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:h,dataLabels:p}}},{key:"drawHollow",value:function(t){var e=new S(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,i,s){var a=this.w,o=new R(this.ctx),r=b.randomId(),n=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:i,height:i,image:n,patternID:"pattern".concat(a.globals.cuid).concat(r)}),s="url(#pattern".concat(a.globals.cuid).concat(r,")");else{var l=a.config.plotOptions.radialBar.hollow.imageWidth,c=a.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var h=a.globals.dom.Paper.image(n).loaded((function(e){this.move(t.centerX-e.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(h)}else{var d=a.globals.dom.Paper.image(n).loaded((function(e){this.move(t.centerX-l/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(d)}}return s}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),i}(),Dt=function(t){d(i,Ct);var e=m(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this.w,s=new S(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var a=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),r=0;r<t.length;r++){var n,l,c,h=void 0,d=void 0,u=void 0,p=i.globals.comboCharts?e[r]:r,f=s.group({class:"apexcharts-series",seriesName:b.escapeString(i.globals.seriesNames[p]),rel:r+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(f,p),t[r].length>0&&(this.visibleI=this.visibleI+1);var m=0,g=0;this.yRatio.length>1&&(this.yaxisIndex=p);var v=this.barHelpers.initialPositions();d=v.y,c=v.zeroW,h=v.x,g=v.barWidth,n=v.xDivision,l=v.zeroH;for(var x=s.group({class:"apexcharts-datalabels","data:realIndex":p}),y=s.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<i.globals.dataPoints;w++){var k=this.barHelpers.getStrokeWidth(r,w,p),C=this.seriesRangeStart[r][w],A=this.seriesRangeEnd[r][w],T=null,I=null,M={x:h,y:d,strokeWidth:k,elSeries:f};if(u=v.yDivision,m=v.barHeight,this.isHorizontal){I=d+m*this.visibleI;var L=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(L=1);var P=(u-m*L)/2;if(void 0===i.config.series[r].data[w])break;if(i.config.series[r].data[w].x){var _=this.detectOverlappingBars({i:r,j:w,barYPosition:I,srty:P,barHeight:m,yDivision:u,initPositions:v});m=_.barHeight,I=_.barYPosition}g=(T=this.drawRangeBarPaths(o({indexes:{i:r,j:w,realIndex:p},barHeight:m,barYPosition:I,zeroW:c,yDivision:u,y1:C,y2:A},M))).barWidth}else m=(T=this.drawRangeColumnPaths(o({indexes:{i:r,j:w,realIndex:p},zeroH:l,barWidth:g,xDivision:n},M))).barHeight;var O=this.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:I,goalX:T.goalX,goalY:T.goalY,barHeight:m,barWidth:g});O&&y.add(O),d=T.y,h=T.x;var D=this.barHelpers.getPathFillColor(t,r,w,p),E=i.globals.stroke.colors[p];this.renderSeries({realIndex:p,pathFill:D,lineFill:E,j:w,i:r,x:h,y:d,y1:C,y2:A,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:k,elSeries:f,series:t,barHeight:m,barYPosition:I,barWidth:g,elDataLabelsWrap:x,elGoalsMarkers:y,visibleSeries:this.visibleI,type:"rangebar"})}a.add(f)}return a}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,s=t.barYPosition,a=t.srty,o=t.barHeight,r=t.yDivision,n=t.initPositions,l=this.w,c=[],h=l.config.series[e].data[i].rangeName,d=l.config.series[e].data[i].x,u=l.globals.labels.indexOf(d),p=l.globals.seriesRange[e].findIndex((function(t){return t.x===d&&t.overlaps.length>0}));return s=l.config.plotOptions.bar.rangeBarGroupRows?a+r*u:a+o*this.visibleI+r*u,p>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRange[e][p].overlaps).indexOf(h)>-1&&(s=(o=n.barHeight/c.length)*this.visibleI+r*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+c.indexOf(h))+r*u),{barYPosition:s,barHeight:o}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x;t.strokeWidth;var s=t.xDivision,a=t.barWidth,o=t.zeroH,r=this.w,n=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],h=e.realIndex,d=this.getRangeValue(h,l),u=Math.min(d.start,d.end),p=Math.max(d.start,d.end);r.globals.isXNumeric&&(i=(r.globals.seriesX[n][l]-r.globals.minX)/this.xRatio-a/2);var f=i+a*this.visibleI;void 0===this.series[n][l]||null===this.series[n][l]?u=o:(u=o-u/c,p=o-p/c);var m=Math.abs(p-u),g=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:a,y1:u,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:h,j:l,w:r});return r.globals.isXNumeric||(i+=s),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:m,x:i,y:p,goalY:this.barHelpers.getGoalValues("y",null,o,n,l),barXPosition:f}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,s=t.y1,a=t.y2,o=t.yDivision,r=t.barHeight,n=t.barYPosition,l=t.zeroW,c=this.w,h=l+s/this.invertedYRatio,d=l+a/this.invertedYRatio,u=Math.abs(d-h),p=this.barHelpers.getBarpaths({barYPosition:n,barHeight:r,x1:h,x2:d,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=o),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:u,x:d,goalX:this.barHelpers.getGoalValues("x",l,null,e.realIndex,e.j),y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}}]),i}(),Et=function(){function t(e){n(this,t),this.w=e.w,this.lineCtx=e}return c(t,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if(("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new C(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var s=e[t].slice();s[s.length-1]=s[s.length-1]+1e-6,e[t]=s}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,s=t.x,a=t.y,o=t.i,r=t.j,n=t.prevY,l=this.w,c=[],h=[];if(0===r){var d=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(d=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(d),h.push(b.isNumber(e[o][0])?n+l.config.markers.offsetY:null),c.push(s+l.config.markers.offsetX),h.push(b.isNumber(e[o][r+1])?a+l.config.markers.offsetY:null)}else c.push(s+l.config.markers.offsetX),h.push(b.isNumber(e[o][r+1])?a+l.config.markers.offsetY:null);return{x:c,y:h}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,s=t.realIndex,a=this.w,o=0;o<a.globals.previousPaths.length;o++){var r=a.globals.previousPaths[o];("line"===r.type||"area"===r.type)&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(s,10)&&("line"===r.type?(this.lineCtx.appendPathFrom=!1,e=a.globals.previousPaths[o].paths[0].d):"area"===r.type&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[o].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[o].paths[1]&&(e=a.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i=t.i,s=t.series,a=t.prevY,o=t.lineYPosition,r=this.w;if(void 0!==(null===(e=s[i])||void 0===e?void 0:e[0]))a=(o=r.config.chart.stacked&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(r.config.chart.stacked&&i>0&&void 0===s[i][0])for(var n=i-1;n>=0;n--)if(null!==s[n][0]&&void 0!==s[n][0]){a=o=this.lineCtx.prevSeriesY[n][0];break}return{prevY:a,lineYPosition:o}}}]),t}(),Ft=function(){function t(e,i,s){n(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||s,this.scatter=new H(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Et(this),this.markers=new $(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(t,[{key:"draw",value:function(t,e,i,s){var a=this.w,r=new S(this.ctx),n=a.globals.comboCharts?e:a.config.chart.type,l=r.group({class:"apexcharts-".concat(n,"-series apexcharts-plot-series")}),c=new C(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=c.getLogSeries(t),this.yRatio=c.getLogYRatios(this.yRatio);for(var h=[],d=0;d<t.length;d++){t=this.lineHelpers.sameValueSeriesFix(d,t);var u=a.globals.comboCharts?i[d]:d;this._initSerieVariables(t,d,u);var p=[],f=[],m=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(m=(a.globals.seriesX[u][0]-a.globals.minX)/this.xRatio),f.push(m);var g,v=m,x=void 0,y=v,b=this.zeroY,w=this.zeroY;b=this.lineHelpers.determineFirstPrevY({i:d,series:t,prevY:b,lineYPosition:0}).prevY,p.push(b),g=b,"rangeArea"===n&&(x=w=this.lineHelpers.determineFirstPrevY({i:d,series:s,prevY:w,lineYPosition:0}).prevY);var k={type:n,series:t,realIndex:u,i:d,x:m,y:1,pX:v,pY:g,pathsFrom:this._calculatePathsFrom({type:n,series:t,i:d,realIndex:u,prevX:y,prevY:b,prevY2:w}),linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:f,yArrj:p,seriesRangeEnd:s},A=this._iterateOverDataPoints(o(o({},k),{},{iterations:"rangeArea"===n?t[d].length-1:void 0,isRangeStart:!0}));if("rangeArea"===n){var T=this._calculatePathsFrom({series:s,i:d,realIndex:u,prevX:y,prevY:w}),I=this._iterateOverDataPoints(o(o({},k),{},{series:s,pY:x,pathsFrom:T,iterations:s[d].length-1,isRangeStart:!1}));A.linePaths[0]=I.linePath+A.linePath,A.pathFromLine=I.pathFromLine+A.pathFromLine}this._handlePaths({type:n,realIndex:u,i:d,paths:A}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(a.config.chart.stacked)for(var M=h.length;M>0;M--)l.add(h[M-1]);else for(var L=0;L<h.length;L++)l.add(h[L]);return l}},{key:"_initSerieVariables",value:function(t,e,i){var s=this.w,a=new S(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-("on"===s.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||"end"===s.config.plotOptions.area.fillTo)&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:b.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i});var o=t[e].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":o,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,s,a,o=t.type,r=t.series,n=t.i,l=t.realIndex,c=t.prevX,h=t.prevY,d=t.prevY2,u=this.w,p=new S(this.ctx);if(null===r[n][0]){for(var f=0;f<r[n].length;f++)if(null!==r[n][f]){c=this.xDivision*f,h=this.zeroY-r[n][f]/this.yRatio[this.yaxisIndex],e=p.move(c,h),i=p.move(c,this.areaBottomY);break}}else e=p.move(c,h),"rangeArea"===o&&(e=p.move(c,d)+p.line(c,h)),i=p.move(c,this.areaBottomY)+p.line(c,h);if(s=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),a=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),u.globals.previousPaths.length>0){var m=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:l});s=m.pathFromLine,a=m.pathFromArea}return{prevX:c,prevY:h,linePath:e,areaPath:i,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,s=t.i,a=t.paths,r=this.w,n=new S(this.ctx),l=new R(this.ctx);this.prevSeriesY.push(a.yArrj),r.globals.seriesXvalues[i]=a.xArrj,r.globals.seriesYvalues[i]=a.yArrj;var c=r.config.forecastDataPoints;if(c.count>0&&"rangeArea"!==e){var h=r.globals.seriesXvalues[i][r.globals.seriesXvalues[i].length-c.count-1],d=n.drawRect(h,0,r.globals.gridWidth,r.globals.gridHeight,0);r.globals.dom.elForecastMask.appendChild(d.node);var u=n.drawRect(0,0,h,r.globals.gridHeight,0);r.globals.dom.elNonForecastMask.appendChild(u.node)}this.pointsChart||r.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var p={i:s,realIndex:i,animationDelay:s,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var f=l.fillPath({seriesNumber:i}),m=0;m<a.areaPaths.length;m++){var g=n.renderPaths(o(o({},p),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:f}));this.elSeries.add(g)}if(r.config.stroke.show&&!this.pointsChart){var v=null;if("line"===e)v=l.fillPath({seriesNumber:i,i:s});else if("solid"===r.config.stroke.fill.type)v=r.globals.stroke.colors[i];else{var x=r.config.fill;r.config.fill=r.config.stroke.fill,v=l.fillPath({seriesNumber:i,i:s}),r.config.fill=x}for(var y=0;y<a.linePaths.length;y++){var b=v;"rangeArea"===e&&(b=l.fillPath({seriesNumber:i}));var w=o(o({},p),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[y],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:r.config.stroke.lineCap,fill:"rangeArea"===e?b:"none"}),k=n.renderPaths(w);if(this.elSeries.add(k),k.attr("fill-rule","evenodd"),c.count>0&&"rangeArea"!==e){var C=n.renderPaths(w);C.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&C.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(C),C.attr("clip-path","url(#forecastMask".concat(r.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(r.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e=t.type,i=t.series,s=t.iterations,a=t.realIndex,o=t.i,r=t.x,n=t.y,l=t.pX,c=t.pY,h=t.pathsFrom,d=t.linePaths,u=t.areaPaths,p=t.seriesIndex,f=t.lineYPosition,m=t.xArrj,g=t.yArrj,v=t.isRangeStart,x=t.seriesRangeEnd,y=this.w,w=new S(this.ctx),k=this.yRatio,C=h.prevY,A=h.linePath,T=h.areaPath,I=h.pathFromLine,M=h.pathFromArea,L=b.isNumber(y.globals.minYArr[a])?y.globals.minYArr[a]:y.globals.minY;s||(s=y.globals.dataPoints>1?y.globals.dataPoints-1:y.globals.dataPoints);for(var P=n,_=0;_<s;_++){var O=void 0===i[o][_+1]||null===i[o][_+1];if(y.globals.isXNumeric){var D=y.globals.seriesX[a][_+1];void 0===y.globals.seriesX[a][_+1]&&(D=y.globals.seriesX[a][s-1]),r=(D-y.globals.minX)/this.xRatio}else r+=this.xDivision;f=y.config.chart.stacked&&o>0&&y.globals.collapsedSeries.length<y.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<y.globals.series.length;i++)if(y.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(o-1)][_+1]:this.zeroY,O?n=f-L/k[this.yaxisIndex]+2*(this.isReversed?L/k[this.yaxisIndex]:0):(n=f-i[o][_+1]/k[this.yaxisIndex]+2*(this.isReversed?i[o][_+1]/k[this.yaxisIndex]:0),"rangeArea"===e&&(P=f-x[o][_+1]/k[this.yaxisIndex]+2*(this.isReversed?x[o][_+1]/k[this.yaxisIndex]:0))),m.push(r),g.push(n);var E=this.lineHelpers.calculatePoints({series:i,x:r,y:n,realIndex:a,i:o,j:_,prevY:C}),F=this._createPaths({type:e,series:i,i:o,realIndex:a,j:_,x:r,y:n,y2:P,pX:l,pY:c,linePath:A,areaPath:T,linePaths:d,areaPaths:u,seriesIndex:p,isRangeStart:v});u=F.areaPaths,d=F.linePaths,l=F.pX,c=F.pY,T=F.areaPath,A=F.linePath,this.appendPathFrom&&(I+=w.line(r,this.zeroY),M+=w.line(r,this.zeroY)),this.handleNullDataPoints(i,E,o,_,a),this._handleMarkersAndLabels({type:e,pointsPos:E,i:o,j:_,realIndex:a,isRangeStart:v})}return{yArrj:g,xArrj:m,pathFromArea:M,areaPaths:u,pathFromLine:I,linePaths:d,linePath:A,areaPath:T}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,s=t.isRangeStart,a=t.i,o=t.j,r=t.realIndex,n=this.w,l=new W(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:r,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{n.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(i,r,o+1);null!==c&&this.elPointsMain.add(c)}var h=l.drawDataLabel({type:e,isRangeStart:s,pos:i,i:r,j:o+1});null!==h&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(t){var e=t.type,i=t.series,s=t.i,a=t.realIndex,o=t.j,r=t.x,n=t.y,l=t.y2,c=t.pX,h=t.pY,d=t.linePath,u=t.areaPath,p=t.linePaths,f=t.areaPaths,m=t.seriesIndex,g=t.isRangeStart,v=this.w,x=new S(this.ctx),y=v.config.stroke.curve,b=this.areaBottomY;if(Array.isArray(v.config.stroke.curve)&&(y=Array.isArray(m)?v.config.stroke.curve[m[s]]:v.config.stroke.curve[s]),"smooth"===y){var w=.35*(r-c);v.globals.hasNullValues?(null!==i[s][o]&&(null!==i[s][o+1]?(d=x.move(c,h)+x.curve(c+w,h,r-w,n,r+1,n),u=x.move(c+1,h)+x.curve(c+w,h,r-w,n,r+1,n)+x.line(r,b)+x.line(c,b)+"z"):(d=x.move(c,h),u=x.move(c,h)+"z")),p.push(d),f.push(u)):(d+=x.curve(c+w,h,r-w,n,r,n),u+=x.curve(c+w,h,r-w,n,r,n)),c=r,h=n,o===i[s].length-2&&(u=u+x.curve(c,h,r,n,r,b)+x.move(r,n)+"z","rangeArea"===e&&g?d=d+x.curve(c,h,r,n,r,l)+x.move(r,l)+"z":v.globals.hasNullValues||(p.push(d),f.push(u)))}else{if(null===i[s][o+1]){d+=x.move(r,n);var k=v.globals.isXNumeric?(v.globals.seriesX[a][o]-v.globals.minX)/this.xRatio:r-this.xDivision;u=u+x.line(k,b)+x.move(r,n)+"z"}null===i[s][o]&&(d+=x.move(r,n),u+=x.move(r,b)),"stepline"===y?(d=d+x.line(r,null,"H")+x.line(null,n,"V"),u=u+x.line(r,null,"H")+x.line(null,n,"V")):"straight"===y&&(d+=x.line(r,n),u+=x.line(r,n)),o===i[s].length-2&&(u=u+x.line(r,b)+x.move(r,n)+"z","rangeArea"===e&&g?d=d+x.line(r,l)+x.move(r,l)+"z":(p.push(d),f.push(u)))}return{linePaths:p,areaPaths:f,pX:c,pY:h,linePath:d,areaPath:u}}},{key:"handleNullDataPoints",value:function(t,e,i,s,a){var o=this.w;if(null===t[i][s]&&o.config.markers.showNullDataPoints||1===t[i].length){var r=this.markers.plotChartMarkers(e,a,s+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0);null!==r&&this.elPointsMain.add(r)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(e,i,s,a){this.xoffset=e,this.yoffset=i,this.height=a,this.width=s,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],s=this.xoffset,a=this.yoffset,r=o(t)/this.height,n=o(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([s,a,s+r,a+t[e]/r]),a+=t[e]/r;else for(e=0;e<t.length;e++)i.push([s,a,s+t[e]/n,a+n]),s+=t[e]/n;return i},this.cutArea=function(e){var i;if(this.width>=this.height){var s=e/this.height,a=this.width-s;i=new t(this.xoffset+s,this.yoffset,a,this.height)}else{var o=e/this.width,r=this.height-o;i=new t(this.xoffset,this.yoffset+o,this.width,r)}return i}}function e(e,s,a,r,n){r=void 0===r?0:r,n=void 0===n?0:n;var l=i(function(t,e){var i,s=[],a=e/o(t);for(i=0;i<t.length;i++)s[i]=t[i]*a;return s}(e,s*a),[],new t(r,n,s,a),[]);return function(t){var e,i,s=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)s.push(t[e][i]);return s}(l)}function i(t,e,a,r){var n,l,c;if(0!==t.length)return n=a.shortestEdge(),function(t,e,i){var a;if(0===t.length)return!0;(a=t.slice()).push(e);var o=s(t,i),r=s(a,i);return o>=r}(e,l=t[0],n)?(e.push(l),i(t.slice(1),e,a,r)):(c=a.cutArea(o(e),r),r.push(a.getCoordinates(e)),i(t,[],c,r)),r;r.push(a.getCoordinates(e))}function s(t,e){var i=Math.min.apply(Math,t),s=Math.max.apply(Math,t),a=o(t);return Math.max(Math.pow(e,2)*s/Math.pow(a,2),Math.pow(a,2)/(Math.pow(e,2)*i))}function a(t){return t&&t.constructor===Array}function o(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function r(t){var e,i=0;if(a(t[0]))for(e=0;e<t.length;e++)i+=r(t[e]);else i=o(t);return i}return function t(i,s,o,n,l){n=void 0===n?0:n,l=void 0===l?0:l;var c,h,d=[],u=[];if(a(i[0])){for(h=0;h<i.length;h++)d[h]=r(i[h]);for(c=e(d,s,o,n,l),h=0;h<i.length;h++)u.push(t(i[h],c[h][2]-c[h][0],c[h][3]-c[h][1],c[h][0],c[h][1]))}else u=e(i,s,o,n,l);return u}}();var Bt,Nt,zt=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new It(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new S(this.ctx),a=new R(this.ctx),o=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var r=[];return t.forEach((function(t){var e=t.map((function(t){return Math.abs(t)}));r.push(e)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(t,i){t.data.forEach((function(t){Array.isArray(e.labels[i])||(e.labels[i]=[]),e.labels[i].push(t.x)}))})),window.TreemapSquared.generate(r,i.globals.gridWidth,i.globals.gridHeight).forEach((function(r,n){var l=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:b.escapeString(i.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});if(i.config.chart.dropShadow.enabled){var c=i.config.chart.dropShadow;new k(e.ctx).dropShadow(o,c,n)}var h=s.group({class:"apexcharts-data-labels"});r.forEach((function(o,r){var c=o[0],h=o[1],d=o[2],u=o[3],p=s.drawRect(c,h,d-c,u-h,0,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?m:i.globals.stroke.colors[n]);p.attr({cx:c,cy:h,index:n,i:n,j:r,width:d-c,height:u-h});var f=e.helpers.getShadeColor(i.config.chart.type,n,r,e.negRange),m=f.color;void 0!==i.config.series[n].data[r]&&i.config.series[n].data[r].fillColor&&(m=i.config.series[n].data[r].fillColor);var g=a.fillPath({color:m,seriesNumber:n,dataPointIndex:r});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),e.helpers.addListeners(p);var v={x:c+(d-c)/2,y:h+(u-h)/2,width:0,height:0},x={x:c,y:h,width:d-c,height:u-h};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var y=1;i.globals.resized||(y=i.config.chart.animations.speed),e.animateTreemap(p,v,x,y)}if(i.globals.dataChanged){var b=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(b=e.dynamicAnim.speed,i.globals.previousPaths[n]&&i.globals.previousPaths[n][r]&&i.globals.previousPaths[n][r].rect&&(v=i.globals.previousPaths[n][r].rect),e.animateTreemap(p,v,x,b))}var w=e.getFontSize(o),k=i.config.dataLabels.formatter(e.labels[n][r],{value:i.globals.series[n][r],seriesIndex:n,dataPointIndex:r,w:i}),S=e.helpers.calculateDataLabels({text:k,x:(c+d)/2,y:(h+u)/2+e.strokeWidth/2+w/3,i:n,j:r,colorProps:f,fontSize:w,series:t});i.config.dataLabels.enabled&&S&&e.rotateToFitLabel(S,w,k,c,h,d,u),l.add(p),null!==S&&l.add(S)})),l.add(h),o.add(l)})),o}},{key:"getFontSize",value:function(t){var e,i,s,a,o=this.w,r=function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=e[i].length;return s}(this.labels)/function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=1;return s}(this.labels);return e=t[2]-t[0],i=t[3]-t[1],s=e*i,a=Math.pow(s,.5),Math.min(a/r,parseInt(o.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,s,a,o,r){var n=new S(this.ctx),l=n.getTextRects(i,e);if(l.width+this.w.config.stroke.width+5>o-s&&l.width<=r-a){var c=n.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,s){var a=new w(this.ctx);a.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},s,(function(){a.animationCompleted(t)}))}}]),t}(),Rt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new O(this.ctx),r=(e-t)/864e5;this.determineInterval(r),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,r<.00011574074074074075?s.globals.disableZoomIn=!0:r>5e4&&(s.globals.disableZoomOut=!0);var n=a.getTimeUnitsfromTimestamp(t,e,this.utc),l=s.globals.gridWidth/r,c=l/24,h=c/60,d=h/60,u=Math.floor(24*r),p=Math.floor(1440*r),f=Math.floor(86400*r),m=Math.floor(r),g=Math.floor(r/30),v=Math.floor(r/365),x={minMillisecond:n.minMillisecond,minSecond:n.minSecond,minMinute:n.minMinute,minHour:n.minHour,minDate:n.minDate,minMonth:n.minMonth,minYear:n.minYear},y={firstVal:x,currentMillisecond:x.minMillisecond,currentSecond:x.minSecond,currentMinute:x.minMinute,currentHour:x.minHour,currentMonthDate:x.minDate,currentDate:x.minDate,currentMonth:x.minMonth,currentYear:x.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:d,numberOfSeconds:f,numberOfMinutes:p,numberOfHours:u,numberOfDays:m,numberOfMonths:g,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(y);break;case"months":case"half_year":this.generateMonthScale(y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(y);break;case"hours":this.generateHourScale(y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(y)}var b=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?o(o({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?o(o({},e),{},{value:t.value}):"minute"===t.unit?o(o({},e),{},{value:t.value,minute:t.value}):"second"===t.unit?o(o({},e),{},{value:t.value,minute:t.minute,second:t.second}):t}));return b.filter((function(t){var e=1,a=Math.ceil(s.globals.gridWidth/120),o=t.value;void 0!==s.config.xaxis.tickAmount&&(a=s.config.xaxis.tickAmount),b.length>a&&(e=Math.floor(b.length/a));var r=!1,n=!1;switch(i.tickInterval){case"years":"year"===t.unit&&(r=!0);break;case"half_year":e=7,"year"===t.unit&&(r=!0);break;case"months":e=1,"year"===t.unit&&(r=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(r=!0),30===o&&(n=!0);break;case"months_days":e=10,"month"===t.unit&&(r=!0),30===o&&(n=!0);break;case"week_days":e=8,"month"===t.unit&&(r=!0);break;case"days":e=1,"month"===t.unit&&(r=!0);break;case"hours":"day"===t.unit&&(r=!0);break;case"minutes_fives":case"seconds_fives":o%5!=0&&(n=!0);break;case"seconds_tens":o%10!=0&&(n=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!n)return!0}else if((o%e==0||r)&&!n)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,s=this.formatDates(t),a=this.removeOverlappingTS(s);i.globals.timescaleLabels=a.slice(),new ht(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.daysWidthOnXAxis,o=t.numberOfYears,r=e.minYear,n=0,l=new O(this.ctx),c="year";if(e.minDate>1||e.minMonth>0){var h=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);n=(l.determineDaysOfYear(e.minYear)-h+1)*a,r=e.minYear+1,this.timeScaleArray.push({position:n,value:r,unit:c,year:r,month:b.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:n,value:r,unit:c,year:s,month:b.monthMod(i+1)});for(var d=r,u=n,p=0;p<o;p++)d++,u=l.determineDaysOfYear(d-1)*a+u,this.timeScaleArray.push({position:u,value:d,unit:c,year:d,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,s=t.currentMonth,a=t.currentYear,o=t.daysWidthOnXAxis,r=t.numberOfMonths,n=s,l=0,c=new O(this.ctx),h="month",d=0;if(e.minDate>1){l=(c.determineDaysOfMonths(s+1,e.minYear)-i+1)*o,n=b.monthMod(s+1);var u=a+d,p=b.monthMod(n),f=n;0===n&&(h="year",f=u,p=1,u+=d+=1),this.timeScaleArray.push({position:l,value:f,unit:h,year:u,month:p})}else this.timeScaleArray.push({position:l,value:n,unit:h,year:a,month:b.monthMod(s)});for(var m=n+1,g=l,v=0,x=1;v<r;v++,x++){0===(m=b.monthMod(m))?(h="year",d+=1):h="month";var y=this._getYear(a,m,d);g=c.determineDaysOfMonths(m,y)*o+g;var w=0===m?y:m;this.timeScaleArray.push({position:g,value:w,unit:h,year:y,month:0===m?1:m}),m++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.hoursWidthOnXAxis,o=t.numberOfDays,r=new O(this.ctx),n="day",l=e.minDate+1,c=l,h=function(t,e,i){return t>r.determineDaysOfMonths(e+1,i)?(c=1,n="month",u=e+=1,e):e},d=(24-e.minHour)*a,u=l,p=h(c,i,s);0===e.minHour&&1===e.minDate?(d=0,u=b.monthMod(e.minMonth),n="month",c=e.minDate,o++):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(d=0,l=e.minDate,u=l,p=h(c=l,i,s)),this.timeScaleArray.push({position:d,value:u,unit:n,year:this._getYear(s,p,0),month:b.monthMod(p),day:c});for(var f=d,m=0;m<o;m++){n="day",p=h(c+=1,p,this._getYear(s,p,0));var g=this._getYear(s,p,0);f=24*a+f;var v=1===c?b.monthMod(p):c;this.timeScaleArray.push({position:f,value:v,unit:n,year:g,month:b.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,s=t.currentMonth,a=t.currentYear,o=t.minutesWidthOnXAxis,r=t.numberOfHours,n=new O(this.ctx),l="hour",c=function(t,e){return t>n.determineDaysOfMonths(e+1,a)&&(m=1,e+=1),{month:e,date:m}},h=function(t,e){return t>n.determineDaysOfMonths(e+1,a)?e+=1:e},d=60-(e.minMinute+e.minSecond/60),u=d*o,p=e.minHour+1,f=p+1;60===d&&(u=0,f=(p=e.minHour)+1);var m=i,g=h(m,s);this.timeScaleArray.push({position:u,value:p,unit:l,day:m,hour:f,year:a,month:b.monthMod(g)});for(var v=u,x=0;x<r;x++){l="hour",f>=24&&(f=0,l="day",g=c(m+=1,g).month,g=h(m,g));var y=this._getYear(a,g,0);v=0===f&&0===x?d*o:60*o+v;var w=0===f?m:f;this.timeScaleArray.push({position:v,value:w,unit:l,hour:f,day:m,year:y,month:b.monthMod(g)}),f++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,r=t.currentMonth,n=t.currentYear,l=t.minutesWidthOnXAxis,c=t.secondsWidthOnXAxis,h=t.numberOfMinutes,d=s+1,u=o,p=r,f=n,m=a,g=(60-i-e/1e3)*c,v=0;v<h;v++)d>=60&&(d=0,24===(m+=1)&&(m=0)),this.timeScaleArray.push({position:g,value:d,unit:"minute",hour:m,minute:d,day:u,year:this._getYear(f,p,0),month:b.monthMod(p)}),g+=l,d++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,r=t.currentMonth,n=t.currentYear,l=t.secondsWidthOnXAxis,c=t.numberOfSeconds,h=i+1,d=s,u=o,p=r,f=n,m=a,g=(1e3-e)/1e3*l,v=0;v<c;v++)h>=60&&(h=0,++d>=60&&(d=0,24===++m&&(m=0))),this.timeScaleArray.push({position:g,value:h,unit:"second",hour:m,minute:d,second:h,day:u,year:this._getYear(f,p,0),month:b.monthMod(p)}),g+=l,h++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),"minute"===t.unit?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),"second"===t.unit?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(t){var s=t.value.toString(),a=new O(e.ctx),o=e.createRawDateString(t,s),r=a.getDate(a.parseDate(o));if(e.utc||(r=a.getDate(a.parseDateWithTimezone(o))),void 0===i.config.xaxis.labels.format){var n="dd MMM",l=i.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(n=l.year),"month"===t.unit&&(n=l.month),"day"===t.unit&&(n=l.day),"hour"===t.unit&&(n=l.hour),"minute"===t.unit&&(n=l.minute),"second"===t.unit&&(n=l.second),s=a.formatDate(r,n)}else s=a.formatDate(r,i.config.xaxis.labels.format);return{dateString:o,position:t.position,value:s,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,s=new S(this.ctx),a=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(a=!0,e=s.getTextRects(t[0].value).width);var o=0,r=t.map((function(r,n){if(n>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var l=a?e:s.getTextRects(t[o].value).width,c=t[o].position;return r.position>c+l+10?(o=n,r):null}return r}));return r.filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),t}(),$t=function(){function t(e,i){n(this,t),this.ctx=i,this.w=i.w,this.el=e}return c(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(i)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type||"boxPlot"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),S.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,s=i.config,a=i.globals,o={series:[],i:[]},r={series:[],i:[]},n={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},h={series:[],i:[]},d={series:[],i:[]},u={series:[],i:[]},p={series:[],seriesRangeEnd:[],i:[]};a.series.map((function(e,f){var m=0;void 0!==t[f].type?("column"===t[f].type||"bar"===t[f].type?(a.series.length>1&&s.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(f),m++,i.globals.columnSeries=c.series):"area"===t[f].type?(r.series.push(e),r.i.push(f),m++):"line"===t[f].type?(o.series.push(e),o.i.push(f),m++):"scatter"===t[f].type?(n.series.push(e),n.i.push(f)):"bubble"===t[f].type?(l.series.push(e),l.i.push(f),m++):"candlestick"===t[f].type?(h.series.push(e),h.i.push(f),m++):"boxPlot"===t[f].type?(d.series.push(e),d.i.push(f),m++):"rangeBar"===t[f].type?(u.series.push(e),u.i.push(f),m++):"rangeArea"===t[f].type?(p.series.push(a.seriesRangeStart[f]),p.seriesRangeEnd.push(a.seriesRangeEnd[f]),p.i.push(f),m++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),m>1&&(a.comboCharts=!0)):(o.series.push(e),o.i.push(f))}));var f=new Ft(this.ctx,e),m=new Tt(this.ctx,e);this.ctx.pie=new Pt(this.ctx);var g=new Ot(this.ctx);this.ctx.rangeBar=new Dt(this.ctx,e);var v=new _t(this.ctx),x=[];if(a.comboCharts){if(r.series.length>0&&x.push(f.draw(r.series,"area",r.i)),c.series.length>0)if(i.config.chart.stacked){var y=new At(this.ctx,e);x.push(y.draw(c.series,c.i))}else this.ctx.bar=new Ct(this.ctx,e),x.push(this.ctx.bar.draw(c.series,c.i));if(p.series.length>0&&x.push(f.draw(p.series,"rangeArea",p.i,p.seriesRangeEnd)),o.series.length>0&&x.push(f.draw(o.series,"line",o.i)),h.series.length>0&&x.push(m.draw(h.series,h.i)),d.series.length>0&&x.push(m.draw(d.series,d.i)),u.series.length>0&&x.push(this.ctx.rangeBar.draw(u.series,u.i)),n.series.length>0){var b=new Ft(this.ctx,e,!0);x.push(b.draw(n.series,"scatter",n.i))}if(l.series.length>0){var w=new Ft(this.ctx,e,!0);x.push(w.draw(l.series,"bubble",l.i))}}else switch(s.chart.type){case"line":x=f.draw(a.series,"line");break;case"area":x=f.draw(a.series,"area");break;case"bar":s.chart.stacked?x=new At(this.ctx,e).draw(a.series):(this.ctx.bar=new Ct(this.ctx,e),x=this.ctx.bar.draw(a.series));break;case"candlestick":x=new Tt(this.ctx,e).draw(a.series);break;case"boxPlot":x=new Tt(this.ctx,e).draw(a.series);break;case"rangeBar":x=this.ctx.rangeBar.draw(a.series);break;case"rangeArea":x=f.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":x=new Mt(this.ctx,e).draw(a.series);break;case"treemap":x=new zt(this.ctx,e).draw(a.series);break;case"pie":case"donut":case"polarArea":x=this.ctx.pie.draw(a.series);break;case"radialBar":x=g.draw(a.series);break;case"radar":x=v.draw(a.series);break;default:x=f.draw(a.series)}return x}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=b.getDimensions(this.el),s=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===s?b.isNumber(i[0])&&(0===i[0].width&&(i=b.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==s&&""!==s||(t.svgWidth=parseInt(e.chart.width,10));var a=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===a){var o=b.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),S.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==a){var r=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+r+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};S.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,s=t.config.chart.sparkline.enabled?1:15;s+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new ut(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*t.globals.radialSize;if(a&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var r=b.getBoundingClientRect(a);o=r.bottom;var n=r.bottom-r.top;o=Math.max(2.05*t.globals.radialSize,n)}var l=o+e.translateY+i+s;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),t.config.chart.height&&String(t.config.chart.height).indexOf("%")>0||(e.dom.elWrap.style.height=l+"px",S.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new K(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},i=new N,s=this.w.globals;i.initGlobalVars(s),s.seriesXvalues=e(),s.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new it(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new it(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new Rt(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new C(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=e.config.chart.brush.targets||[e.config.chart.brush.target];i.forEach((function(e){var i=ApexCharts.getChartByID(e);i.w.globals.brushSource=t.ctx,"function"!=typeof i.w.config.chart.events.zoomed&&(i.w.config.chart.events.zoomed=function(){t.updateSourceChart(i)}),"function"!=typeof i.w.config.chart.events.scrolled&&(i.w.config.chart.events.scrolled=function(){t.updateSourceChart(i)})})),e.config.chart.events.selection=function(t,s){i.forEach((function(t){var i=ApexCharts.getChartByID(t),a=b.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===i.w.globals.series.length){var r=new Z(i);a=r.autoScaleY(i,a,s)}var n=i.w.config.yaxis.reduce((function(t,e,s){return[].concat(v(t),[o(o({},i.w.config.yaxis[s]),{},{min:a[0].min,max:a[0].max})])}),[]);i.ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max},yaxis:n},!1,!1,!1,!1)}))}}}}]),t}(),Ht=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(n){var l=[e.ctx];a&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach((function(a,c){var h=a.w;if(h.globals.shouldAnimate=s,i||(h.globals.resized=!0,h.globals.dataChanged=!0,s&&a.series.getPreviousPaths()),t&&"object"===r(t)&&(a.config=new B(t),t=C.extendArrayProps(a.config,t,h),a.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,h.config=b.extend(h.config,t),o&&(h.globals.lastXAxis=t.xaxis?b.clone(t.xaxis):[],h.globals.lastYAxis=t.yaxis?b.clone(t.yaxis):[],h.globals.initialConfig=b.extend({},h.config),h.globals.initialSeries=b.clone(h.config.series),t.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var u=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?u.data.slice():u}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var f=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?f.data.slice():f}a.series.emptyCollapsedSeries(h.config.series)}return a.update(t).then((function(){c===l.length-1&&n(a)}))}))}))}},{key:"_updateSeries",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a){var o,r=i.w;return r.globals.shouldAnimate=e,r.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),r.globals.axisCharts?(0===(o=t.map((function(t,e){return i._extendSeries(t,e)}))).length&&(o=[{data:[]}]),r.config.series=o):r.config.series=t.slice(),s&&(r.globals.initialConfig.series=b.clone(r.config.series),r.globals.initialSeries=b.clone(r.config.series)),i.ctx.update().then((function(){a(i.ctx)}))}))}},{key:"_extendSeries",value:function(t,e){var i=this.w,s=i.config.series[e];return o(o({},i.config.series[e]),{},{name:t.name?t.name:s&&s.name,color:t.color?t.color:s&&s.color,type:t.type?t.type:s&&s.type,data:t.data?t.data:s&&s.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"'], ").concat(a," circle[j='").concat(e,"'], ").concat(a," rect[j='").concat(e,"']")).members[0]:void 0===e&&(s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),s?(new S(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(i){void 0!==t.xaxis[i]&&(e.config.xaxis[i]=t.xaxis[i],e.globals.lastXAxis[i]=t.xaxis[i])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new F(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&"100%"===t.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,s=i.globals.lastXAxis,a=i.globals.lastYAxis;t&&t.xaxis&&(s=t.xaxis),t&&t.yaxis&&(a=t.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max;var o=function(t){void 0!==a[t]&&(i.config.yaxis[t].min=a[t].min,i.config.yaxis[t].max=a[t].max)};i.config.yaxis.map((function(t,s){i.globals.zoomed||void 0!==a[s]?o(s):void 0!==e.ctx.opts.yaxis[s]&&(t.min=e.ctx.opts.yaxis[s].min,t.max=e.ctx.opts.yaxis[s].max)}))}}]),t}();Bt="undefined"!=typeof window?window:void 0,Nt=function(t,e){var i=(void 0!==this?this:t).SVG=function(t){if(i.supported)return t=new i.Doc(t),i.parser.draw||i.prepare(),t};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(t){return"Svgjs"+d(t)+i.did++},i.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},i.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var s=t.length-1;s>=0;s--)if(t[s])for(var a in e)t[s].prototype[a]=e[a];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,i.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&i.extend(e,t.extend),t.construct&&i.extend(t.parent||i.Container,t.construct),e},i.adopt=function(e){return e?e.instance?e.instance:((s="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new i.Nested:new i.Doc:"linearGradient"==e.nodeName?new i.Gradient("linear"):"radialGradient"==e.nodeName?new i.Gradient("radial"):i[d(e.nodeName)]?new(i[d(e.nodeName)]):new i.Element(e)).type=e.nodeName,s.node=e,e.instance=s,s instanceof i.Doc&&s.namespace().defs(),s.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),s):null;var s},i.prepare=function(){var t=e.getElementsByTagName("body")[0],s=(t?new i.Doc(t):i.adopt(e.documentElement).nested()).size(2,0);i.parser={body:t||e.documentElement,draw:s.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:s.polyline().node,path:s.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},e.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)s.push(e(t[a]));return s},filter:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)e(t[a])&&s.push(t[a]);return s},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(t){var e,s;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?i.regex.isRgb.test(t)?(e=i.regex.rgb.exec(t.replace(i.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):i.regex.isHex.test(t)&&(e=i.regex.hex.exec(4==(s=t).length?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===r(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new i.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new i.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),i.Color.test=function(t){return t+="",i.regex.isHex.test(t)||i.regex.isRgb.test(t)},i.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},i.Color.isColor=function(t){return i.Color.isRgb(t)||i.Color.test(t)},i.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),i.PointArray=function(t,e){i.Array.call(this,t,e||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var s={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},a="mlhvqtcsaz".split(""),o=0,n=a.length;o<n;++o)s[a[o]]=function(t){return function(e,i,a){if("H"==t)e[0]=e[0]+i.x;else if("V"==t)e[0]=e[0]+i.y;else if("A"==t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var o=0,r=e.length;o<r;++o)e[o]=e[o]+(o%2?i.y:i.x);if(s&&"function"==typeof s[t])return s[t](e,i,a)}}(a[o].toUpperCase());i.PathArray=function(t,e){i.Array.call(this,t,e||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,s="";e<i;e++)s+=t[e][0],null!=t[e][1]&&(s+=t[e][1],null!=t[e][2]&&(s+=" ",s+=t[e][2],null!=t[e][3]&&(s+=" ",s+=t[e][3],s+=" ",s+=t[e][4],null!=t[e][5]&&(s+=" ",s+=t[e][5],s+=" ",s+=t[e][6],null!=t[e][7]&&(s+=" ",s+=t[e][7])))));return s+" "}(this.value)},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,s=this.destination.value,a=[],o=new i.PathArray,r=0,n=e.length;r<n;r++){a[r]=[e[r][0]];for(var l=1,c=e[r].length;l<c;l++)a[r][l]=e[r][l]+(s[r][l]-e[r][l])*t;"A"===a[r][0]&&(a[r][4]=+(0!=a[r][4]),a[r][5]=+(0!=a[r][5]))}return o.value=a,o},parse:function(t){if(t instanceof i.PathArray)return t.valueOf();var e,a={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(i.regex.numbersWithDots,c).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var o=[],r=new i.Point,n=new i.Point,l=0,h=t.length;do{i.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(s[e].call(null,t.slice(l,l+=a[e.toUpperCase()]).map(parseFloat),r,n))}while(h>l);return o},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(i.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof i.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new i.Number(t),new i.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new i.Number(t),new i.Number(this-t,this.unit||t.unit)},times:function(t){return t=new i.Number(t),new i.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new i.Number(t),new i.Number(this/t,this.unit||t.unit)},to:function(t){var e=new i.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new i.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new i.Number(this.destination).minus(this).times(t).plus(this):this}}}),i.Element=i.invent({create:function(t){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var s=p(this,t,e);return this.width(new i.Number(s.width)).height(new i.Number(s.height))},clone:function(t){this.writeDataToDom();var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(i.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return i.get(this.attr(t))},parent:function(e){var s=this;if(!s.node.parentNode)return null;if(s=i.adopt(s.node.parentNode),!e)return s;for(;s&&s.node instanceof t.SVGElement;){if("string"==typeof e?s.matches(e):s instanceof e)return s;if(!s.node.parentNode||"#document"==s.node.parentNode.nodeName)return null;s=i.adopt(s.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var s=e.createElement("svg");if(!(t&&this instanceof i.Parent))return s.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),s.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");s.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var a=0,o=s.firstChild.childNodes.length;a<o;a++)this.node.appendChild(s.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),i.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},i.morph=function(t){return function(e,s){return new i.MorphObj(e,s).at(t)}},i.Situation=i.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(t.duration).valueOf(),this.delay=new i.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,s){"object"===r(t)&&(e=t.ease,s=t.delay,t=t.duration);var a=new i.Situation({duration:t||1e3,delay:s||0,ease:i.easing[e||"-"]||e});return this.queue(a),this},target:function(t){return t&&t instanceof i.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof i.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var s in e.animations){t=this.target()[s](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[s])||(e.animations[s]=[e.animations[s]]);for(var a=t.length;a--;)e.animations[s][a]instanceof i.Number&&(t[a]=new i.Number(t[a])),e.animations[s][a]=t[a].morph(e.animations[s][a])}for(var s in e.attrs)e.attrs[s]=new i.MorphObj(this.target().attr(s),e.attrs[s]);for(var s in e.styles)e.styles[s]=new i.MorphObj(this.target().style(s),e.styles[s]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function i(s){s.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))})),this._callStart()},during:function(t){var e=this.last(),s=function(s){s.detail.situation==e&&t.call(this,s.detail.pos,i.morph(s.detail.pos),s.detail.eased,e)};return this.target().off("during.fx",s).on("during.fx",s),this.after((function(){this.off("during.fx",s)})),this._callStart()},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,s;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,s=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,s=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-s)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var a=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=a&&(this.situation.once[o].call(this.target(),this.pos,a),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:a,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=a,this):this},eachAt:function(){var t,e=this,s=this.target(),a=this.situation;for(var o in a.animations)t=[].concat(a.animations[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s[o].apply(s,t);for(var o in a.attrs)t=[o].concat(a.attrs[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.attr.apply(s,t);for(var o in a.styles)t=[o].concat(a.styles[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.style.apply(s,t);if(a.transforms.length){t=a.initialTransformation,o=0;for(var r=a.transforms.length;o<r;o++){var n=a.transforms[o];n instanceof i.Matrix?t=n.relative?t.multiply((new i.Matrix).morph(n).at(a.ease(this.pos))):t.morph(n).at(a.ease(this.pos)):(n.relative||n.undo(t.extract()),t=t.multiply(n.at(a.ease(this.pos))))}s.matrix(t)}return this},once:function(t,e,i){var s=this.last();return i||(t=s.ease(t)),s.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(t,e,s){return(this.fx||(this.fx=new i.FX(this))).animate(t,e,s)},delay:function(t){return(this.fx||(this.fx=new i.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(t,e){return i.Color.isColor(e)?new i.Color(t).morph(e):i.regex.delimiter.test(t)?i.regex.pathLetters.test(t)?new i.PathArray(t).morph(e):new i.Array(t).morph(e):i.regex.numberAndUnit.test(e)?new i.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(t,e,i){if("object"===r(t))for(var s in t)this.attr(s,t[s]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,s){return 4==arguments.length?this.plot([t,e,i,s]):this.add("plot",new(this.target().morphArray)(t))}}),i.Box=i.invent({create:function(t,e,s,a){if(!("object"!==r(t)||t instanceof i.Element))return i.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=s,this.height=a),v(this)}}),i.BBox=i.invent({create:function(t){if(i.Box.apply(this,[].slice.call(arguments)),t instanceof i.Element){var s;try{if(!e.documentElement.contains){for(var a=t.node;a.parentNode;)a=a.parentNode;if(a!=e)throw new Error("Element not in the dom")}s=t.node.getBBox()}catch(e){if(t instanceof i.Shape){i.parser.draw||i.prepare();var o=t.clone(i.parser.draw.instance).show();o&&o.node&&"function"==typeof o.node.getBBox&&(s=o.node.getBBox()),o&&"function"==typeof o.remove&&o.remove()}else s={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}i.Box.call(this,s)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(t){var e=m([1,0,0,1,0,0]);t=null===t?e:t instanceof i.Element?t.matrixify():"string"==typeof t?m(t.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?m([].slice.call(arguments)):Array.isArray(t)?m(t):t&&"object"===r(t)?t:e;for(var s=y.length-1;s>=0;--s)this[y[s]]=null!=t[y[s]]?t[y[s]]:e[y[s]]},extend:{extract:function(){var t=f(this,0,1);f(this,1,0);var e=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(t){return this.destination=new i.Matrix(t),this},multiply:function(t){return new i.Matrix(this.native().multiply(function(t){return t instanceof i.Matrix||(t=new i.Matrix(t)),t}(t).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(t,e){return new i.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=i.parser.native.createSVGMatrix(),e=y.length-1;e>=0;e--)t[y[e]]=this[y[e]];return t},toString:function(){return"matrix("+x(this.a)+","+x(this.b)+","+x(this.c)+","+x(this.d)+","+x(this.e)+","+x(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new i.Matrix(e)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===r(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(t,e){return this.destination=new i.Point(t,e),this}}}),i.extend(i.Element,{point:function(t,e){return new i.Point(t,e).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(t,e,s){if(null==t){for(t={},s=(e=this.node.attributes).length-1;s>=0;s--)t[e[s].nodeName]=i.regex.isNumber.test(e[s].nodeValue)?parseFloat(e[s].nodeValue):e[s].nodeValue;return t}if("object"===r(t))for(var a in t)this.attr(a,t[a]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?i.defaults.attrs[t]:i.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(i.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof i.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new i.Number(e):i.Color.isColor(e)?e=new i.Color(e):Array.isArray(e)&&(e=new i.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof s?this.node.setAttributeNS(s,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),i.extend(i.Element,{transform:function(t,e){var s;return"object"!==r(t)?(s=new i.Matrix(this).extract(),"string"==typeof t?s[t]:s):(s=new i.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(s=e?s.multiply(new i.Matrix(t)):new i.Matrix(t)),this.attr("transform",s))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(i.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(m(e[1])):t[e[0]].apply(t,e[1])}),new i.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[i];else if(t&&"object"===r(t))for(i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[this.arguments[i]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===r(t))for(var s in t)this.style(s,t[s]);else{if(!i.regex.isCss.test(t))return this.node.style[h(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[h(t)]=null===e||i.regex.isBlank.test(e)?"":e;return this}}),i.Parent=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(t){return i.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return i.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var s=this.children(),a=0,o=s.length;a<o;a++)s[a]instanceof i.Element&&t.apply(s[a],[a,s]),e&&s[a]instanceof i.Container&&s[a].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(t,e){return 0===e||this instanceof i.Defs||this.node==i.parser.draw||(t=t||(this instanceof i.Doc?this:this.parent(i.Parent)),e=e||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),i.Container=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){i.Element.prototype[t]=function(e){return i.on(this.node,t,e),this}})),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(t,e,s,a,o){var r=s.bind(a||t.instance||t),n=(i.handlerMap.indexOf(t)+1||i.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";i.listeners[n]=i.listeners[n]||{},i.listeners[n][l]=i.listeners[n][l]||{},i.listeners[n][l][c]=i.listeners[n][l][c]||{},s._svgjsListenerId||(s._svgjsListenerId=++i.listenerId),i.listeners[n][l][c][s._svgjsListenerId]=r,t.addEventListener(l,r,o||{passive:!0})},i.off=function(t,e,s){var a=i.handlerMap.indexOf(t),o=e&&e.split(".")[0],r=e&&e.split(".")[1],n="";if(-1!=a)if(s){if("function"==typeof s&&(s=s._svgjsListenerId),!s)return;i.listeners[a][o]&&i.listeners[a][o][r||"*"]&&(t.removeEventListener(o,i.listeners[a][o][r||"*"][s],!1),delete i.listeners[a][o][r||"*"][s])}else if(r&&o){if(i.listeners[a][o]&&i.listeners[a][o][r]){for(var l in i.listeners[a][o][r])i.off(t,[o,r].join("."),l);delete i.listeners[a][o][r]}}else if(r)for(var c in i.listeners[a])for(var n in i.listeners[a][c])r===n&&i.off(t,[c,r].join("."));else if(o){if(i.listeners[a][o]){for(var n in i.listeners[a][o])i.off(t,[o,n].join("."));delete i.listeners[a][o]}}else{for(var c in i.listeners[a])i.off(t,c);delete i.listeners[a],delete i.handlerMap[a]}},i.extend(i.Element,{on:function(t,e,s,a){return i.on(this.node,t,e,s,a),this},off:function(t,e){return i.off(this.node,t,e),this},fire:function(e,s){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new i.CustomEvent(e,{detail:s,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,i.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(t):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=g(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(t){this.constructor.call(this,i.create(t+"Gradient")),this.type=t},inherit:i.Container,extend:{at:function(t,e,s){return this.put(new i.Stop).update(t,e,s)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="gradientTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),i.extend(i.Gradient,i.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(t),fy:new i.Number(e)}):this.attr({x1:new i.Number(t),y1:new i.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(t),cy:new i.Number(e)}):this.attr({x2:new i.Number(t),y2:new i.Number(e)})}}),i.extend(i.Defs,{gradient:function(t,e){return this.put(new i.Gradient(t)).update(e)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(t){return("number"==typeof t||t instanceof i.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new i.Number(t.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="patternTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),i.extend(i.Defs,{pattern:function(t,e,s){return this.put(new i.Pattern).update(s).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,i.xlink)}},construct:{use:function(t,e){return this.put(new i.Use).element(t,e)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(t,e){return this.put(new i.Rect).size(t,e)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(t){return this.put(new i.Circle).rx(new i.Number(t).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(t,e){return this.put(new i.Ellipse).size(t,e).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),i.extend(i.Circle,i.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new i.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new i.Number(t).divide(2))},size:function(t,e){var s=p(this,t,e);return this.rx(new i.Number(s.width).divide(2)).ry(new i.Number(s.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,s,a){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:s,y2:a}:new i.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=p(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,s,a){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=t?[t,e,s,a]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(t){return this.put(new i.Polyline).plot(t||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(t){return this.put(new i.Polygon).plot(t||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new i.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=p(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new i.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new i.Path).plot(t||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(e){if(!e)return this;var s=this,a=new t.Image;return i.on(a,"load",(function(){i.off(a);var t=s.parent(i.Pattern);null!==t&&(0==s.width()&&0==s.height()&&s.size(a.width,a.height),t&&0==t.width()&&0==t.height()&&t.size(s.width(),s.height()),"function"==typeof s._loaded&&s._loaded.call(s,{width:a.width,height:a.height,ratio:a.width/a.height,url:e}))})),i.on(a,"error",(function(t){i.off(a),"function"==typeof s._error&&s._error.call(s,t)})),this.attr("href",a.src=this.src=e,i.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,s){return this.put(new i.Image).load(t).size(e||0,s||e||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,s=0,a=e.length;s<a;++s)0!=s&&3!=e[s].nodeType&&1==i.adopt(e[s]).dom.newLined&&(t+="\n"),t+=e[s].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{s=0;for(var o=(t=t.split("\n")).length;s<o;s++)this.tspan(t[s]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new i.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=i.utils.map(i.utils.filterSVGElements(t.childNodes),(function(t){return i.adopt(t)}));return new i.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,s=0,a=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?s+=a:(this.attr("dy",a+s),s=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new i.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new i.Text).text(t)},plain:function(t){return this.put(new i.Text).plain(t)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(i.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,s=new i.Tspan;return!1===this._build&&this.clear(),e.appendChild(s.node),s.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,s,a){return s+a.replace(i.regex.dots," .")}function h(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function p(t,e,i){if(null==e||null==i){var s=t.bbox();null==e?e=s.width/s.height*i:null==i&&(i=s.height/s.width*e)}return{width:e,height:i}}function f(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function m(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function g(e){for(var s=e.childNodes.length-1;s>=0;s--)e.childNodes[s]instanceof t.SVGElement&&g(e.childNodes[s]);return i.adopt(e).id(i.eid(e.nodeName))}function v(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function x(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||i.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var s=l[t].length-1;s>=0;s--)null!=e[l[t][s]]&&this.attr(l.prefix(t,l[t][s]),e[l[t][s]]);return this},i.extend(i.Element,i.FX,e)})),i.extend(i.Element,i.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new i.Number(t).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(t){return this.y(new i.Number(t).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),i.Set=i.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new i.Set(t)}}}),i.FX.Set=i.invent({create:function(t){this.set=t}}),i.Set.inherit=function(){var t=[];for(var e in i.Shape.prototype)"function"==typeof i.Shape.prototype[e]&&"function"!=typeof i.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){i.Set.prototype[t]=function(){for(var e=0,s=this.members.length;e<s;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new i.FX.Set(this)):this}})),t=[],i.FX.prototype)"function"==typeof i.FX.prototype[e]&&"function"!=typeof i.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){i.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(t,e){if("object"===r(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(t){var s=e.getElementById(function(t){var e=(t||"").toString().match(i.regex.reference);if(e)return e[1]}(t)||t);return i.adopt(s)},i.select=function(t,s){return new i.Set(i.utils.map((s||e).querySelectorAll(t),(function(t){return i.adopt(t)})))},i.extend(i.Parent,{select:function(t){return i.select(t,this.node)}});var y="abcdef".split("");if("function"!=typeof t.CustomEvent){var b=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var s=e.createEvent("CustomEvent");return s.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),s};b.prototype=t.Event.prototype,i.CustomEvent=b}else i.CustomEvent=t.CustomEvent;return i},s=function(){return Nt(Bt,Bt.document)}.call(e,i,e,t),void 0!==s&&(t.exports=s),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,s,a){return this.put(new SVG.DisplacementMapEffect(t,e,i,s,a))},specularLighting:function(t,e,i,s){return this.put(new SVG.SpecularLightingEffect(t,e,i,s))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,s,a){return this.put(new SVG.TurbulenceEffect(t,e,i,s,a))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,s){return this.parent()&&this.parent().displacementMap(this,t,e,i,s)},specularLighting:function(t,e,i,s){return this.parent()&&this.parent().specularLighting(t,e,i,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,s,a){return this.parent()&&this.parent().turbulence(t,e,i,s,a).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=a(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=a(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,s,a){this.attr({in:t,in2:e,scale:i,xChannelSelector:s,yChannelSelector:a})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",o(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,s,a){this.attr({numOctaves:e,seed:i,stitchTiles:s,baseFrequency:t,type:a})}},i={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach(function(e){this[e].attr(t.rgb)}.bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,s){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:s})}},s={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,s,a,o){this.attr({x:t,y:e,z:i,pointsAtX:s,pointsAtY:a,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function a(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function o(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,s=[];e<i;e++)s.push(t[e]);return s.join(" ")}function r(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}["r","g","b","a"].forEach((function(t){s["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),r(e,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),r(i,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),r(s,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function t(t,a,o,r,n,l,c){for(var h=t.slice(a,o||c),d=r.slice(n,l||c),u=0,p={pos:[0,0],start:[0,0]},f={pos:[0,0],start:[0,0]};;){if(h[u]=e.call(p,h[u]),d[u]=e.call(f,d[u]),h[u][0]!=d[u][0]||"M"==h[u][0]||"A"==h[u][0]&&(h[u][4]!=d[u][4]||h[u][5]!=d[u][5])?(Array.prototype.splice.apply(h,[u,1].concat(s.call(p,h[u]))),Array.prototype.splice.apply(d,[u,1].concat(s.call(f,d[u])))):(h[u]=i.call(p,h[u]),d[u]=i.call(f,d[u])),++u==h.length&&u==d.length)break;u==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),u==d.length&&d.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]])}return{start:h,dest:d}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function i(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function s(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":e=function(t,e){var i,s,a,o,r,n,l,c,h,d,u,p,f,m,g,v,x,y,b,w,k,S,C,A,T,I,M=Math.abs(e[1]),L=Math.abs(e[2]),P=e[3]%360,_=e[4],O=e[5],D=e[6],E=e[7],F=new SVG.Point(t),B=new SVG.Point(D,E),N=[];if(0===M||0===L||F.x===B.x&&F.y===B.y)return[["C",F.x,F.y,B.x,B.y,B.x,B.y]];for(i=new SVG.Point((F.x-B.x)/2,(F.y-B.y)/2).transform((new SVG.Matrix).rotate(P)),(s=i.x*i.x/(M*M)+i.y*i.y/(L*L))>1&&(M*=s=Math.sqrt(s),L*=s),a=(new SVG.Matrix).rotate(P).scale(1/M,1/L).rotate(-P),F=F.transform(a),B=B.transform(a),o=[B.x-F.x,B.y-F.y],n=o[0]*o[0]+o[1]*o[1],r=Math.sqrt(n),o[0]/=r,o[1]/=r,l=n<4?Math.sqrt(1-n/4):0,_===O&&(l*=-1),c=new SVG.Point((B.x+F.x)/2+l*-o[1],(B.y+F.y)/2+l*o[0]),h=new SVG.Point(F.x-c.x,F.y-c.y),d=new SVG.Point(B.x-c.x,B.y-c.y),u=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(u*=-1),p=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(p*=-1),O&&u>p&&(p+=2*Math.PI),!O&&u<p&&(p-=2*Math.PI),m=Math.ceil(2*Math.abs(u-p)/Math.PI),v=[],x=u,f=(p-u)/m,g=4*Math.tan(f/4)/3,k=0;k<=m;k++)b=Math.cos(x),y=Math.sin(x),w=new SVG.Point(c.x+b,c.y+y),v[k]=[new SVG.Point(w.x+g*y,w.y-g*b),w,new SVG.Point(w.x-g*y,w.y+g*b)],x+=f;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),a=(new SVG.Matrix).rotate(P).scale(M,L).rotate(-P),k=0,S=v.length;k<S;k++)v[k][0]=v[k][0].transform(a),v[k][1]=v[k][1].transform(a),v[k][2]=v[k][2].transform(a);for(k=1,S=v.length;k<S;k++)C=(w=v[k-1][2]).x,A=w.y,T=(w=v[k][0]).x,I=w.y,D=(w=v[k][1]).x,E=w.y,N.push(["C",C,A,T,I,D,E]);return N}(this.pos,t),t=e[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function a(t,e){if(!1===e)return!1;for(var i=e,s=t.length;i<s;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var i=this.value,s=this.parse(e),o=0,r=0,n=!1,l=!1;!1!==o||!1!==r;){var c;n=a(i,!1!==o&&o+1),l=a(s,!1!==r&&r+1),!1===o&&(o=0==(c=new SVG.PathArray(h.start).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===r&&(r=0==(c=new SVG.PathArray(h.dest).bbox()).height||0==c.width?s.push(s[0])-1:s.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var h=t(i,o,n,s,r,l);i=i.slice(0,o).concat(h.start,!1===n?[]:i.slice(n)),s=s.slice(0,r).concat(h.dest,!1===l?[]:s.slice(l)),o=!1!==n&&o+h.start.length,r=!1!==l&&r+h.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=s,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){i.start(t)})),this.el.on("touchstart.drag",(function(t){i.start(t)}))},t.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,s=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:s,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),s=this.startPoints.box.x+i.x-this.startPoints.point.x,a=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,r=i.x-this.startPoints.point.x,n=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof o){var l=o.call(this.el,s,a,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(s):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(a):!1!==l.y&&this.el.y(l.y)}else"object"==typeof o&&(null!=o.minX&&s<o.minX?r=(s=o.minX)-this.startPoints.box.x:null!=o.maxX&&s>o.maxX-e.width&&(r=(s=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&a<o.minY?n=(a=o.minY)-this.startPoints.box.y:null!=o.maxY&&a>o.maxY-e.height&&(n=(a=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(s-=s%o.snapToGrid,a-=a%o.snapToGrid,r-=r%o.snapToGrid,n-=n%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:r,y:n},!0):this.el.move(s,a));return i},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,i){"function"!=typeof e&&"object"!=typeof e||(i=e,e=!0);var s=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?s.init(i||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var s="string"!=typeof t?t:e[t];return i?s/2:s},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var s=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==e[a]&&(this.options[a]=e[a]);var o=["points","pointsExclude"];for(var a in o){var r=this.options[o[a]];"string"==typeof r?r=r.length>0?r.split(/\s*,\s*/i):[]:"boolean"==typeof r&&"points"===o[a]&&(r=r?s:[]),this.options[o[a]]=r}this.options.points=[s,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,s=e.length;i<s;++i){var a=function(e){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;t.el.fire("point",{x:s,y:a,i:e,event:i})}}(i),o=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(o)}},t.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(i,s){var a=t.pointCoords(i,e);t.rectSelection.set.get(s+1).center(a.x,a.y)})),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function s(t){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.el.fire(t,{x:s,y:a,event:i})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,a){var o=e.pointCoords(t,i),r=e.drawPoint(o.x,o.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",s(t)).on("touchstart",s(t));e.rectSelection.set.add(r)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var i=t.pageX||t.touches[0].pageX,s=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:i,y:s,event:t})},o=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(o)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,i){return"object"==typeof e&&(i=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var s=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[s[t.detail.i][0],s[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,s=e+this.parameters.p.y,a=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),o=Math.atan2(s-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),r=this.parameters.rotation+180*(o-a)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(r-r%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),s=this.el.array().valueOf();s[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],s[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(s)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),s=i.x-this.parameters.p.x,a=i.y-this.parameters.p.y;this.lastUpdateCall=[s,a],this.calc(s,a),this.el.fire("resizing",{dx:s,dy:a,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,i,s){var a;return void 0!==s?a=[(i+t)%this.options.snapToGrid,(s+e)%this.options.snapToGrid]:(i=null==i?3:i,a=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(a[0]-=this.options.snapToGrid),e<0&&(a[1]-=this.options.snapToGrid),t-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,s)},t.prototype.constraintToBox=function(t,e,i,s){var a,o,r=this.options.constraint||{};return void 0!==s?(a=i,o=s):(a=this.parameters.box.x+(1&i?0:this.parameters.box.width),o=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==r.minX&&a+t<r.minX&&(t=r.minX-a),void 0!==r.maxX&&a+t>r.maxX&&(t=r.maxX-a),void 0!==r.minY&&o+e<r.minY&&(e=r.minY-o),void 0!==r.maxY&&o+e>r.maxY&&(e=r.maxY-o),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),s=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],r=a/o;return r<s?(i[1]=a/s-this.parameters.box.height,e&&(i[1]=-i[1])):r>s&&(i[0]=this.parameters.box.width-o*s,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Wt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new et(this.ctx),this.ctx.core=new $t(this.ctx.el,this.ctx),this.ctx.config=new B({}),this.ctx.data=new X(this.ctx),this.ctx.grid=new U(this.ctx),this.ctx.graphics=new S(this.ctx),this.ctx.coreUtils=new C(this.ctx),this.ctx.crosshairs=new it(this.ctx),this.ctx.events=new Q(this.ctx),this.ctx.exports=new q(this.ctx),this.ctx.localization=new tt(this.ctx),this.ctx.options=new P,this.ctx.responsive=new st(this.ctx),this.ctx.series=new j(this.ctx),this.ctx.theme=new at(this.ctx),this.ctx.formatters=new Y(this.ctx),this.ctx.titleSubtitle=new ot(this.ctx),this.ctx.legend=new ut(this.ctx),this.ctx.toolbar=new pt(this.ctx),this.ctx.tooltip=new wt(this.ctx),this.ctx.dimensions=new ht(this.ctx),this.ctx.updateHelpers=new Ht(this.ctx),this.ctx.zoomPanSelection=new ft(this.ctx),this.ctx.w.globals.tooltip=new wt(this.ctx)}}]),t}(),jt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!i&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach((function(t){a.removeEventListener(t,e.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elAnnotations=null,o.elLegendWrap=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),t}(),Xt=new WeakMap,Yt=function(){function t(e,i){n(this,t),this.opts=i,this.ctx=this,this.w=new z(i).init(),this.el=e,this.w.globals.cuid=b.randomId(),this.w.globals.chartID=this.w.config.chart.id?b.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Wt(this).initModules(),this.create=b.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var s=t.w.config.chart.events.beforeMount;if("function"==typeof s&&s(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(t,e){var i=!1;if(t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var s=t.getBoundingClientRect();"none"!==t.style.display&&0!==s.width||(i=!0)}var a=new ResizeObserver((function(s){i&&e.call(t,s),i=!0}));t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(t.children).forEach((function(t){return a.observe(t)})):a.observe(t),Xt.set(e,a)}(t.el.parentNode,t.parentResizeHandler),!t.css){var a=t.el.getRootNode&&t.el.getRootNode(),o=b.is("ShadowRoot",a),r=t.el.ownerDocument,n=r.getElementById("apexcharts-css");!o&&n||(t.css=document.createElement("style"),t.css.id="apexcharts-css",t.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',o?a.prepend(t.css):r.head.appendChild(t.css))}var l=t.create(t.w.config.series,{});if(!l)return e(t);t.mount(l).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(l)})).catch((function(t){i(t)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this.w;new Wt(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new F(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return s.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===s.svgWidth)return s.animationEnded=!0,null;var a=C.checkComboSeries(t);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var o=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||o)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new $(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new C(this).getLargestMarkerSize(),this.dimensions.plotCoords();var r=this.core.xySettings();this.grid.createGridMask();var n=this.core.plotChartType(t,r),l=new W(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:n,xyRatios:r,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,s=i.w;return new Promise((function(a,o){if(null===i.el)return o(new Error("Not enough data to display or target element not found"));(null===e||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new U(i);var r=i.grid.drawGrid();"treemap"!==s.config.chart.type&&i.axes.drawAxis(s.config.chart.type,r),i.annotations=new _(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===s.config.grid.position&&r&&s.globals.dom.elGraphical.add(r.el);var n=new G(t.ctx,r),l=new J(t.ctx,r);if(null!==r&&(n.xAxisLabelCorrections(r.xAxisTickWidth),l.setYAxisTextAlignments(),s.config.yaxis.map((function(t,e){-1===s.globals.ignoreYAxisIndexes.indexOf(e)&&l.yAxisTitleRotate(e,t.opposite)}))),"back"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(e.elGraph))for(var c=0;c<e.elGraph.length;c++)s.globals.dom.elGraphical.add(e.elGraph[c]);else s.globals.dom.elGraphical.add(e.elGraph);if("front"===s.config.grid.position&&r&&s.globals.dom.elGraphical.add(r.el),r&&r.elGridBorders&&r.elGridBorders.node&&s.globals.dom.elGraphical.add(r.elGridBorders),"front"===s.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===s.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var h=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){h[t]=!1}))}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),a(i)}))}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,t=this.parentResizeHandler,(e=Xt.get(t))&&(e.disconnect(),Xt.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach((function(t,e){t.id===b.escapeString(i)&&Apex._chartInstances.splice(e,1)})),new jt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w;return r.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,i){return e.updateHelpers._extendSeries(t,i)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),r.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,s,a,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w.config.series.slice();return s.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),a=0;a<s.length;a++)if(null!==t[a]&&void 0!==t[a])for(var o=0;o<t[a].data.length;o++)s[a].data.push(t[a].data[o]);return i.w.config.series=s,e&&(i.w.globals.initialSeries=b.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,s){new jt(e.ctx).clear({isUpdating:!0});var a=e.create(e.w.config.series,t);if(!a)return i(e);e.mount(a).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(t){s(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(t,e,s)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(t,e,s)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(t,e,s)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new K(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new K(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new q(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new q(this.ctx);return e.exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=b.escapeString(t),i=Apex._chartInstances.filter((function(t){return t.id===e}))[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var s=null;if(-1!==i.publicMethods.indexOf(e)){for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];s=i[e].apply(i,o)}return s}}},{key:"merge",value:function(t,e){return b.extend(t,e)}}]),t}();t.exports=Yt},ba5a:function(t,e,i){"use strict";i("5042")},bb36:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"q-pr-sm",class:t.attachComment?"col-auto":"col",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||t.attachComment||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-auto notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||!t.attachComment&&t.attachmentList.length&&t.fileNames.length||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-12 q-pl-sm q-pb-sm q-pt-sm",class:t.notifyInitiatorClass,attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row actions advance-cmd"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e(),t.selectedProcess.processId&&"START"!==t.selectedProcess.stageType&&!t.isPortal?e("CheckboxField",{staticClass:"col-auto q-pl-sm adv-notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e()],1):t._e(),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[],o=(i("14d9"),i("381e")),r=i("1b0d"),n=i("1c54"),l=i("6df3"),c=i("6a70"),h=i("695e"),d=i("869e"),u=i("12b8"),p=i("9234"),f=i("fa1f"),m={name:"Comments",components:{Sheet:o["a"],Confirm:n["a"],TextAreaField:l["a"],Modal:c["a"],TextBuilderField:h["a"],CheckboxField:d["a"],SelectField:u["a"],SingleChoiceField:p["a"],FileIcon:f["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formFields:{type:Array,default:()=>[]},attachmentList:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},actionComments:{type:Boolean,default:!1},fileNames:{type:Array,default:()=>[]},comments:{type:Array,default:()=>[]},displayInternalPublic:{type:Boolean,default:!1},isPortal:{type:Boolean,default:!1}},data(){return{commentsSheet:!1,commentText:"",commentsList:[],attachComment:!1,selectedFileForAttach:0,advancedCommentsSheet:!1,advancedCommentText:"",commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,errorMessage:"",errorModal:!1,successModal:!1,notifyInitiator:!1}},computed:{commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode||this.initiateProcess||this.isPortal?this.checkCommentsOption()&&!this.isCustomizedWorkflow?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 270px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 230px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 200px)":this.displayInternalPublic?"calc(100vh - 220px)":"START"===this.selectedProcess.stageType||this.isPortal?"calc(100vh - 150px)":"calc(100vh - 180px)":"calc(100vh - 150px)":""},notifyInitiatorClass(){return this.attachmentList.length&&this.fileNames.length?"":"action-container"}},watch:{value:{immediate:!0,handler(){this.commentsSheet=!0,this.commentsList=this.comments,this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments()},3e4):clearInterval(this.commentsLoad)}}},methods:{closeCommentsSheet(){this.commentsSheet=!1,this.$emit("update:comments",this.commentsList),this.$emit("commentsCount",this.commentsList.length),this.$emit("update:value",!1)},async getComments(t=0,e=0){this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.$emit("commentsCount",this.commentsList.length))},async saveComment(){if(this.commentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}this.commentText="",this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})}),this.$emit("commentsCount",this.commentsList.length),this.commentText="",this.clearAttach()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.$emit("commentsCount",this.commentsList.length);this.actionComments&&this.$emit("processRequest",!1,!1)}},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1,this.notifyInitiator=!1},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:n}=await r["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(n),this.jiraCommentAction=1},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},checkCommentsOption(){return!this.isTenantArmgroup()&&(!this.isTenantGOTO()||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},checkTenant(){return!this.isTenantArmgroup()||(this.commentAction=2,!1)},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:80801"===t)&&3===this.$store.state.session.tenantId},isTenantGOTOComments(){return!!(Object.keys(this.selectedProcess).length&&this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id)},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)}}},g=m,v=(i("c5b7"),i("2877")),x=i("8169"),y=i("93dc"),b=i.n(y),w=Object(v["a"])(g,s,a,!1,null,null,null);e["a"]=w.exports;b()(w,"components",{QChatMessage:x["a"]})},be3f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search",expression:"'search'",modifiers:{top:!0}}],staticClass:"is-expanded",attrs:{id:"expandable-search"},on:{click:t.toggle}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-search"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"expandableSearch",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{keyup:function(e){return t.$emit("search",t.searchQuery)},blur:t.handleBlur,input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})],1)},a=[],o={name:"ExpandableSearch",data(){return{isExpanded:!1,searchQuery:""}},methods:{toggle(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs.expandableSearch.focus()},handleBlur(){this.isExpanded=!1}}},r=o,n=(i("fdd5"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"29b72610",null);e["a"]=l.exports},bf55:function(t,e,i){"use strict";i("686b")},c0f4:function(t,e,i){},c187:function(t,e,i){"use strict";i("9935")},c1cb:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"report-list"}},[e("ItemList",{attrs:{columns:t.columns,items:t.items,mode:t.mode,report:!0},on:{select:t.handleOpen,showTable:t.showTable,viewFile:t.handleViewFile,openSubWorkflow:t.openSubWorkflow},scopedSlots:t._u([{key:"title",fn:function({item:i}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis",style:i.requestNo.length>50?"max-width: 250px":""},[e("span",{staticClass:"stat",class:i.link?"text-underline":"",on:{click:function(e){return e.stopPropagation(),t.handleOpen(i.id)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")]),i.jiraIssueInfo.id?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("a",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA Issue Link",expression:"'JIRA Issue Link'",modifiers:{top:!0}}],staticStyle:{color:"inherit"},attrs:{href:t.getJIRALink(i.jiraIssueInfo),target:"_blank"}},[t._v(" REF# ID: "+t._s(i.jiraIssueInfo.id)+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",[t._v(" KEY: "+t._s(i.jiraIssueInfo.key)+" ")]),i.jiraIssueInfo.assignee?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"text-primary text-bold"},[t._v("ASSIGNEE: "+t._s(i.jiraIssueInfo.assignee))])]:t._e(),i.jiraIssueInfo.issueStatus?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"text-primary text-bold"},[t._v("STATUS: "+t._s(i.jiraIssueInfo.issueStatus))])]:t._e()]:t._e()],2)]),"inbox"===t.mode&&!i.mlPrediction&&i.mlCondition?e("div",{staticClass:"row q-pt-sm"},[i.mlCondition.indexOf("[")>-1?t._l(JSON.parse(i.mlCondition),(function(s){return e("div",{key:i.processId+""+s.fieldName,on:{click:function(e){return e.stopPropagation(),t.$emit("validation",i.processId)}}},[e("q-chip",{staticClass:"chips gray-hover",class:"Matched"===s.status?"green-hover":"Not Matched"===s.status?"red-hover":"orange-hover",attrs:{outline:"",color:"Matched"===s.status?"green":"Not Matched"===s.status?"red":"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-robot",color:"Matched"===s.status?"green":"Not Matched"===s.status?"red":"orange","text-color":"white"}}),t._v(" "+t._s(s.fieldValue)+" ")],1)],1)})):[t._l(i.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))]],2):t._e()]}},{key:"mlcondition",fn:function({item:i}){return["inbox"===t.mode&&i.mlCondition?e("div",[t._l(i.mlCondition.split(","),(function(i){return[i.indexOf("Extracted")>-1?[e("q-chip",{key:i,staticClass:"chips green-hover",attrs:{outline:"",color:"green"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"green","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]:i.indexOf("Processing")>-1?[e("q-chip",{key:i,staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"orange","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]:[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]]}))],2):t._e()]}},{key:"responseTime",fn:function({item:i}){return[2==i.responseStatus?[e("span",{staticClass:"text-red"},[t._v(" "+t._s(i.responseTime))])]:1==i.resolutionStatus?[e("span",{staticClass:"text-green"},[t._v(" "+t._s(i.responseTime))])]:0==i.resolutionStatus?[e("span",{staticClass:"text-orange"},[t._v(" "+t._s(i.responseTime))])]:t._e()]}},{key:"responseStatus",fn:function({item:i}){return[2==i.responseStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Overdue",expression:"'Overdue'",modifiers:{top:!0}}],attrs:{name:"mdi-close-circle",color:"red"}})]:1==i.responseStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"WithIn SLA",expression:"'WithIn SLA'",modifiers:{top:!0}}],attrs:{name:"mdi-check-circle",color:"green"}})]:0==i.responseStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-Progress",expression:"'In-Progress'",modifiers:{top:!0}}],attrs:{name:"mdi-progress-alert",color:"orange"}})]:t._e()]}},{key:"resolutionTime",fn:function({item:i}){return[2==i.resolutionStatus?[e("span",{staticClass:"text-red"},[t._v(" "+t._s(i.resolutionTime))])]:1==i.resolutionStatus?[e("span",{staticClass:"text-green"},[t._v(" "+t._s(i.resolutionTime))])]:0==i.resolutionStatus?[e("span",{staticClass:"text-orange"},[t._v(" "+t._s(i.resolutionTime))])]:t._e()]}},{key:"resolutionStatus",fn:function({item:i}){return[2==i.resolutionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Overdue",expression:"'Overdue'",modifiers:{top:!0}}],attrs:{name:"mdi-close-circle",color:"red"}})]:1==i.resolutionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"WithIn SLA",expression:"'WithIn SLA'",modifiers:{top:!0}}],attrs:{name:"mdi-check-circle",color:"green"}})]:0==i.resolutionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-Progress",expression:"'In-Progress'",modifiers:{top:!0}}],attrs:{name:"mdi-progress-alert",color:"orange"}})]:t._e()]}},{key:"table",fn:function({value:i}){return[e("div",[e("div",{staticClass:"ellipsis"},[e("BaseActionButton",{attrs:{icon:"mdi-table-large","is-flat":"","no-border":""},on:{click:function(e){return t.showTable("Table",i)}}})],1)])]}},{key:"actions",fn:function({item:i}){return[e("div",{staticClass:"row",staticStyle:{width:"115px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openHistory(i.id)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openAttachments(i.id)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openComments(i.id)}}},[i.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsCount)+" ")]):t._e()])],1)]}},{key:"subactions",fn:function({item:i}){return[e("div",{staticClass:"row",staticStyle:{width:"51%","margin-left":"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],staticClass:"icon",attrs:{icon:"mdi-history",color:"primary","is-flat":"","no-border":""},on:{click:function(e){return t.showHistory(i)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("subAttachments",i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("subComments",i)}}},[i.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsCount)+" ")]):t._e()])],1)]}}])}),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],1)},a=[],o=(i("14d9"),i("f92f")),r=i("6a70"),n={name:"ReportList",components:{ItemList:o["a"],Modal:r["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},lists:{type:Array,required:!0},form:{type:Object,required:!0}},data(){return{expandTableModal:!1,tableTitle:"",tableData:[]}},methods:{handleOpen(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("open",e)},openHistory(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("history",e)},openAttachments(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("attachments",e)},openComments(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("comments",e)},getLabel(t,e){let i="";return this.form.panels.forEach(s=>{if(s.fields.length)for(let a of s.fields)if("TABLE"===e){const e=a.settings.specific.tableColumns.find(e=>e.id===t);e&&(i=e.label)}else if(a.id===t)return void(i=a.label?a.label:a.type)}),i.toLocaleLowerCase()},showTable(t,e){this.tableData=[],this.tableTitle=t;let i=JSON.parse(e);for(let s of i){let t={};for(let e of Object.keys(s)){const i=this.getLabel(e,"TABLE");t[i]=s[e]}this.tableData.push(t)}this.expandTableModal=!0},getJIRALink(t){let e=new URL(t.self),i=e.origin.replace("https://jira-external-tools-integration.getgotools.net","https://jira.ops.expertcity.com");return`${i}/browse/${t.key}`},handleViewFile(t){this.$emit("viewFile",t)},openSubWorkflow(t){this.$emit("openSubWorkflow",t)},showHistory(t){this.$emit("subHistory",t)}}},l=n,c=(i("ed61"),i("2877")),h=i("b047"),d=i("cb32"),u=i("93dc"),p=i.n(u),f=Object(c["a"])(l,s,a,!1,null,"3ce9ec05",null);e["a"]=f.exports;p()(f,"components",{QChip:h["a"],QAvatar:d["a"]})},c2d0:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.pieChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("2f62"),r=i("a1a34"),n=i("2adf"),l={name:"PieChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{pieChartOptions:{chart:{type:"pie"},labels:this.xData,stroke:{colors:["#ffffff"]}}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(r["a"])(this.pieChartOptions,this.options)}},darkTheme(){this.pieChartOptions.stroke.colors=this.darkTheme?["#1d2129"]:["#ffffff"]}}},c=l,h=i("2877"),d=Object(h["a"])(c,s,a,!1,null,"6f859db7",null);e["a"]=d.exports},c49c:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"state-wrapper"}},[e("div",{staticClass:"slow-up-down",attrs:{id:"illustration"}},[e("div",{attrs:{id:"shape-1"}}),e("div",{attrs:{id:"shape-2"}}),e("div",{attrs:{id:"shape-3"}},[e("BaseIcon",{staticClass:"icon",attrs:{name:t.icon,size:"80px"}})],1)]),e("div",{staticClass:"title-1"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticClass:"description"},[t._v(" "+t._s(t.description)+" ")]),t.action?e("BaseButton",{staticClass:"q-mt-lg",attrs:{icon:t.actionIcon,label:t.action},on:{click:function(e){return t.$emit("action")}}}):t._e()],1)},a=[],o={name:"StateWrapper",props:{icon:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},action:{type:String,default:""},actionIcon:{type:String,default:""}}},r=o,n=(i("2948"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"ba5412d8",null);e["a"]=l.exports},c559:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"sort",expression:"'sort'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-sort","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("BaseScrollbar",{attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Criteria")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:t.criteria===i.name?"eva-radio-button-on":"eva-radio-button-off","is-selected":t.criteria===i.name,label:i.label},on:{click:function(e){return t.updateCriteria(i.name)}}})}))],2),e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Order")]),e("ListItem",{attrs:{icon:"ASC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"ASC"===t.order,label:"Ascending"},on:{click:function(e){return t.updateOrder("ASC")}}}),e("ListItem",{staticClass:"q-mb-sm",attrs:{icon:"DESC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"DESC"===t.order,label:"Descending"},on:{click:function(e){return t.updateOrder("DESC")}}})],1)],1)},a=[],o=i("cade"),r={name:"SortItems",components:{ListItem:o["a"]},props:{columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isSortable)]},scrollbarHeight(){const t=54*this._columns.length;return t>216?"224px":t+"px"}},methods:{updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)}}},n=r,l=i("2877"),c=i("4e73"),h=i("93dc"),d=i.n(h),u=Object(l["a"])(n,s,a,!1,null,"12f6a366",null);e["a"]=u.exports;d()(u,"components",{QMenu:c["a"]})},c589:function(t,e,i){},c5b7:function(t,e,i){"use strict";i("0698")},c925:function(t,e,i){"use strict";i("65c0")},cbc3:function(t,e,i){},cd8d:function(t,e,i){"use strict";i("00f0")},d20d:function(t,e,i){"use strict";i("ff13")},d30f:function(t,e,i){},d37d:function(t,e,i){"use strict";i("4f21")},d45a:function(t,e,i){"use strict";i("5e6e")},d9ec:function(t,e,i){"use strict";i("b957")},dbf6:function(t,e,i){"use strict";i("b201")},dd6d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{title:t.title,options:t.treeMapChartOptions,series:t.xyData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"TreeMapChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},xyData:{type:Array,required:!0},options:{type:Object,default:()=>{}}},data(){return{treeMapChartOptions:{chart:{type:"treemap"},plotOptions:{treemap:{enableShades:!1,distributed:!0,useFillColorAsStroke:!0}},dataLabels:{style:{fontFamily:"Outfit, sans-serif"}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.treeMapChartOptions,this.options)}}}},l=n,c=i("2877"),h=Object(c["a"])(l,s,a,!1,null,"6443d14d",null);e["a"]=h.exports},e0b6:function(t,e,i){},e8ea:function(t,e,i){"use strict";i.d(e,"a",(function(){return ut})),i.d(e,"b",(function(){return b}));var s=i("9b4a");
/*!
 * chartjs-chart-sankey v0.1.5
 * https://github.com/kurkle/chartjs-chart-sankey#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT license
 */function a(t,e){const i=new Set(e.map(t=>t.to)),s=new Set(e.map(t=>t.from)),a=new Set([...t.keys()]);let r=0;while(a.size){const s=o([...a],i);for(let e=0;e<s.length;e++)t.get(s[e]).x=r,a.delete(s[e]);a.size&&(i.clear(),e.filter(t=>a.has(t.from)).forEach(t=>i.add(t.to)),r++)}return[...t.keys()].filter(t=>!s.has(t)).forEach(e=>{t.get(e).x=r}),r}function o(t,e){const i=t.filter(t=>!e.has(t));return i.length?i:t.slice(0,1)}const r=(t,e)=>t.x!==e.x?t.x-e.x:t.y-e.y,n=(t,e)=>t.reduce((t,i)=>t+i.node[e].length+n(i.node[e],e),0),l=t=>(e,i)=>n(e.node[t],t)-n(i.node[t],t);function c(t){return t.sort((t,e)=>Math.max(e.in,e.out)-Math.max(t.in,t.out))[0]}function h(t,e){return t.from.sort(l("from")).forEach(t=>{const i=t.node;"y"in i||(i.y=e,e=Math.max(e+i.out,h(i,e)))}),e}function d(t,e){return t.to.sort(l("to")).forEach(t=>{const i=t.node;"y"in i||(i.y=e,e=Math.max(e+i.in,d(i,e)))}),e}function u(t,e){const i=t.filter(t=>0===t.x),s=t.filter(t=>t.x===e);let a=i.reduce((t,e)=>Math.max(t,e.y+e.out||0),0),o=s.reduce((t,e)=>Math.max(t,e.y+e.out||0),0);return a>=o?(i.forEach(t=>{"y"in t?a=t.y:t.y=a,a=Math.max(a+t.out,d(t,a))}),s.forEach(t=>{"y"in t?o=t.y:t.y=o,o=Math.max(o+t.in,d(t,o))})):(s.forEach(t=>{"y"in t?o=t.y:t.y=o,o=Math.max(o+t.in,d(t,o))}),i.forEach(t=>{"y"in t?a=t.y:t.y=a,a=Math.max(a+t.out,d(t,a))})),Math.max(a,o)}function p(t,e){const i=c(t);i.y=0;const s=h(i,0),a=d(i,0),o=u(t,e);return Math.max(s,a,o)}function f(t,e){let i=0;for(let s=0;s<=e;s++)i=Math.max(i,t.filter(t=>t.x===s).length);return i}function m(t,e){let i=1,s=0,a=0;const o=[];t.sort(r).forEach(t=>{if(t.y){if(0===t.x)o.push(t.y);else{for(s!==t.x&&(s=t.x,a=0),i=a+1;i<o.length;i++)if(o[i]>t.y)break;a=i}t.y+=i*e,i++}})}function g(t){t.forEach(t=>{let e=0;t.from.sort((t,e)=>t.node.y+t.node.out/2-(e.node.y+e.node.out/2)).forEach(t=>{t.addY=e,e+=t.flow}),e=0,t.to.sort((t,e)=>t.node.y+t.node.in/2-(e.node.y+e.node.in/2)).forEach(t=>{t.addY=e,e+=t.flow})})}function v(t,e){const i=[...t.values()],s=a(t,e),o=p(i,s),r=f(i,s),n=.03*o;return m(i,n),g(i),{maxX:s,maxY:o+r*n}}function x(t){const e=new Map;for(let s=0;s<t.length;s++){const i=t[s];if(e.has(i.from)){const t=e.get(i.from);t.out+=i.flow,t.to.push({key:i.to,flow:i.flow})}else e.set(i.from,{key:i.from,in:0,out:i.flow,from:[],to:[{key:i.to,flow:i.flow}]});if(e.has(i.to)){const t=e.get(i.to);t.in+=i.flow,t.from.push({key:i.from,flow:i.flow})}else e.set(i.to,{key:i.to,in:i.flow,out:0,from:[{key:i.from,flow:i.flow}],to:[]})}const i=(t,e)=>e.flow-t.flow;return[...e.values()].forEach(t=>{let s=0;t.from=t.from.sort(i),t.from.forEach(t=>{t.node=e.get(t.key),t.addY=s,s+=t.flow}),s=0,t.to=t.to.sort(i),t.to.forEach(t=>{t.node=e.get(t.key),t.addY=s,s+=t.flow})}),e}function y(t,e){for(let i=0;i<t.length;i++)if(t[i].key===e)return t[i].addY;return 0}class b extends s["b"]{parseObjectData(t,e,i,s){const a=this,{xScale:o,yScale:r}=t,n=[],l=a._nodes=x(e),{maxX:c,maxY:h}=v(l,e);o.options.max=c,r.options.max=h;for(let d=0,u=e.length;d<u;++d){const t=e[d],i=l.get(t.from),s=l.get(t.to),a=i.y+y(i.to,t.to),c=s.y+y(s.from,t.from);n.push({x:o.parse(i.x,d),y:r.parse(a,d),_custom:{from:i,to:s,x:o.parse(s.x,d),y:r.parse(c,d),height:r.parse(t.flow,d)}})}return n.slice(i,i+s)}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,t)}updateElements(t,e,i){const s=this,{xScale:a,yScale:o}=s._cachedMeta,r=s.resolveDataElementOptions(e,i),n=s.getSharedOptions(i,t[e],r);for(let l=0;l<t.length;l++){const r=e+l,n=s.getParsed(r),c=n._custom,h=o.getPixelForValue(n.y);s.updateElement(t[l],r,{x:a.getPixelForValue(n.x)+11,y:h,x2:a.getPixelForValue(c.x)-1,y2:o.getPixelForValue(c.y),from:c.from,to:c.to,progress:"reset"===i?0:1,height:Math.abs(o.getPixelForValue(n.y+c.height)-h),options:s.resolveDataElementOptions(l,i)},i)}s.updateSharedOptions(n,i)}_drawLabels(){const t=this,e=t._ctx,i=t._nodes||new Map,{xScale:s,yScale:a}=t._cachedMeta;e.save();const o=t.chart.chartArea;for(const r of i.values()){const t=s.getPixelForValue(r.x),i=a.getPixelForValue(r.y),n=Math.max(r.in,r.out),l=Math.abs(a.getPixelForValue(r.y+n)-i);e.fillStyle="black",e.textBaseline="middle",t<o.width/2?(e.textAlign="left",e.fillText(r.key,t+15,i+l/2)):(e.textAlign="right",e.fillText(r.key,t-5,i+l/2))}e.restore()}_drawNodes(){const t=this,e=t._ctx,i=t._nodes||new Map,{xScale:s,yScale:a}=t._cachedMeta;e.save(),e.strokeStyle="black";for(const o of i.values()){e.fillStyle=o.color;const t=s.getPixelForValue(o.x),i=a.getPixelForValue(o.y),r=Math.max(o.in,o.out),n=Math.abs(a.getPixelForValue(o.y+r)-i);e.strokeRect(t,i,10,n),e.fillRect(t,i,10,n)}e.restore()}draw(){const t=this,e=t._ctx,i=t.getMeta().data||[];for(let s=0,a=i.length;s<a;++s){const t=i[s];t.from.color=t.options.colorFrom,t.to.color=t.options.colorTo}t._drawLabels(),t._drawNodes();for(let s=0,a=i.length;s<a;++s)i[s].draw(e)}}b.id="sankey",b.defaults={dataElementType:"flow",dataElementOptions:["colorFrom","colorTo"],hover:{mode:"nearest",intersect:!0},datasets:{animation:t=>{let e=0,i=0;const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.dataIndex);return s&&(e=500*s.x+20*t.dataIndex,i=200*(s._custom.x-s.x)),{numbers:{type:"number",properties:["x","y","x2","y2","height"]},progress:{easing:"linear",duration:i,delay:e},colors:{type:"color",properties:["colorFrom","colorTo"]},hide:{colors:{type:"color",properties:["colorFrom","colorTo"],to:"transparent"}},show:{colors:{type:"color",properties:["colorFrom","colorTo"],from:"transparent"}}}},color:()=>"#efefef"},tooltips:{mode:"nearest",intersect:!0,callbacks:{title(){return""},label(t){const e=t.dataset.data[t.dataIndex];return e.from+" -> "+e.to+": "+e.flow}}},legend:{display:!1},scales:{x:{type:"linear",display:!1,min:0,offset:!0},y:{type:"linear",display:!1,min:0,reverse:!0,offset:!0}}};
/*!
 * Chart.js v3.0.0-alpha.2
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
const w={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k="0123456789ABCDEF",S=t=>k[15&t],C=t=>k[(240&t)>>4]+k[15&t],A=t=>(240&t)>>4===(15&t);function T(t){return A(t.r)&&A(t.g)&&A(t.b)&&A(t.a)}function I(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*w[t[1]],g:255&17*w[t[2]],b:255&17*w[t[3]],a:5===i?17*w[t[4]]:255}:7!==i&&9!==i||(e={r:w[t[1]]<<4|w[t[2]],g:w[t[3]]<<4|w[t[4]],b:w[t[5]]<<4|w[t[6]],a:9===i?w[t[7]]<<4|w[t[8]]:255})),e}function M(t){var e=T(t)?S:C;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function L(t){return t+.5|0}const P=(t,e,i)=>Math.max(Math.min(t,i),e);function _(t){return P(L(2.55*t),0,255)}function O(t){return P(L(255*t),0,255)}function D(t){return P(L(t/2.55)/100,0,1)}function E(t){return P(L(100*t),0,100)}const F=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function B(t){const e=F.exec(t);let i,s,a,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?_(t):255*t)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?_(i):i),s=255&(e[4]?_(s):s),a=255&(e[6]?_(a):a),{r:i,g:s,b:a,a:o}}}function N(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${D(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const z=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R(t,e,i){const s=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function $(t,e,i){const s=(s,a=(s+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function H(t,e,i){const s=R(t,1,.5);let a;for(e+i>1&&(a=1/(e+i),e*=a,i*=a),a=0;a<3;a++)s[a]*=1-e-i,s[a]+=e;return s}function W(t){const e=255,i=t.r/e,s=t.g/e,a=t.b/e,o=Math.max(i,s,a),r=Math.min(i,s,a),n=(o+r)/2;let l,c,h;return o!==r&&(h=o-r,c=n>.5?h/(2-o-r):h/(o+r),l=o===i?(s-a)/h+(s<a?6:0):o===s?(a-i)/h+2:(i-s)/h+4,l=60*l+.5),[0|l,c||0,n]}function j(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(O)}function X(t,e,i){return j(R,t,e,i)}function Y(t,e,i){return j(H,t,e,i)}function V(t,e,i){return j($,t,e,i)}function q(t){return(t%360+360)%360}function G(t){const e=z.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?_(+e[5]):O(+e[5]));const a=q(+e[2]),o=+e[3]/100,r=+e[4]/100;return i="hwb"===e[1]?Y(a,o,r):"hsv"===e[1]?V(a,o,r):X(a,o,r),{r:i[0],g:i[1],b:i[2],a:s}}function U(t,e){var i=W(t);i[0]=q(i[0]+e),i=X(i),t.r=i[0],t.g=i[1],t.b=i[2]}function Z(t){if(!t)return;const e=W(t),i=e[0],s=E(e[1]),a=E(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${a}%, ${D(t.a)})`:`hsl(${i}, ${s}%, ${a}%)`}const K={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},J={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q(){const t={},e=Object.keys(J),i=Object.keys(K);let s,a,o,r,n;for(s=0;s<e.length;s++){for(r=n=e[s],a=0;a<i.length;a++)o=i[a],n=n.replace(o,K[o]);o=parseInt(J[r],16),t[n]=[o>>16&255,o>>8&255,255&o]}return t}let tt;function et(t){tt||(tt=Q(),tt.transparent=[0,0,0,0]);const e=tt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function it(t,e,i){if(t){let s=W(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=X(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function st(t,e){return t?Object.assign(e||{},t):t}function at(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=O(t[3]))):(e=st(t,{r:0,g:0,b:0,a:1}),e.a=O(e.a)),e}function ot(t){return"r"===t.charAt(0)?B(t):G(t)}class rt{constructor(t){if(t instanceof rt)return t;const e=typeof t;let i;"object"===e?i=at(t):"string"===e&&(i=I(t)||et(t)||ot(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=st(this._rgb);return t&&(t.a=D(t.a)),t}set rgb(t){this._rgb=at(t)}rgbString(){return this._valid?N(this._rgb):this._rgb}hexString(){return this._valid?M(this._rgb):this._rgb}hslString(){return this._valid?Z(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,a=t.rgb;let o;const r=e===o?.5:e,n=2*r-1,l=s.a-a.a,c=((n*l===-1?n:(n+l)/(1+n*l))+1)/2;o=1-c,s.r=255&c*s.r+o*a.r+.5,s.g=255&c*s.g+o*a.g+.5,s.b=255&c*s.b+o*a.b+.5,s.a=r*s.a+(1-r)*a.a,i.rgb=s}return i}clone(){return new rt(this.rgb)}alpha(t){return this._rgb.a=O(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=L(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return it(this._rgb,2,t),this}darken(t){return it(this._rgb,2,-t),this}saturate(t){return it(this._rgb,1,t),this}desaturate(t){return it(this._rgb,1,-t),this}rotate(t){return U(this._rgb,t),this}}function nt(t){return new rt(t)}const lt=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function ct(t){return lt(t)?t:nt(t)}const ht=(t,e,i,s)=>t<i?{cp1:{x:t+(i-t)/3*2,y:e},cp2:{x:t+(i-t)/3,y:s}}:{cp1:{x:t-(t-i)/3,y:0},cp2:{x:i+(t-i)/3,y:0}},dt=(t,e,i)=>({x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)});class ut extends s["c"]{constructor(t){super(),this.options=void 0,this.x=void 0,this.y=void 0,this.x2=void 0,this.y2=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this,{x:i,x2:s,y:a,y2:o,height:r,progress:n}=e,{cp1:l,cp2:c}=ht(i,a,s,o),h=e.options;if(0===n)return;t.save(),n<1&&(t.beginPath(),t.rect(i,Math.min(a,o),(s-i)*n+1,Math.abs(o-a)+r+1),t.clip());const d=t.createLinearGradient(i,0,s,0);d.addColorStop(0,ct(h.colorFrom).alpha(.5).rgbString()),d.addColorStop(1,ct(h.colorTo).alpha(.5).rgbString()),t.fillStyle=d,t.strokeStyle=d,t.lineWidth=.5,t.beginPath(),t.moveTo(i,a),t.bezierCurveTo(l.x,l.y,c.x,c.y,s,o),t.lineTo(s,o+r),t.bezierCurveTo(c.x,c.y+r,l.x,l.y+r,i,a+r),t.lineTo(i,a),t.stroke(),t.closePath(),t.fill(),t.restore()}inRange(t,e,i){const{x:s,y:a,x2:o,y2:r,height:n}=this.getProps(["x","y","x2","y2","height"],i);if(t<s||t>o)return!1;const{cp1:l,cp2:c}=ht(s,a,o,r),h=(t-s)/(o-s),d={x:s,y:a},u={x:o,y:r},p=dt(d,l,h),f=dt(l,c,h),m=dt(c,u,h),g=dt(p,f,h),v=dt(f,m,h),x=dt(g,v,h).y;return e>=x&&e<=x+n}inXRange(t,e){const{x:i,x2:s}=this.getProps(["x","x2"],e);return t>=i&&t<=s}inYRange(t,e){const{y:i,y2:s,height:a}=this.getProps(["y","y2","height"],e),o=Math.min(i,s),r=Math.max(i,s)+a;return t>=o&&t<=r}getCenterPoint(t){const{x:e,y:i,x2:s,y2:a,height:o}=this.getProps(["x","y","x2","y2","height"],t);return{x:(e+s)/2,y:(i+a+o)/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}ut.id="flow",ut.defaults={colorFrom:"red",colorTo:"green"}},e98d:function(t,e,i){"use strict";i("50ff")},ea7f:function(t,e,i){"use strict";var s;(function(a,o){t.exports?(o["default"]=o,t.exports=a.document?o(a):o):(s=function(){return o(a)}.call(e,i,e,t),void 0===s||(t.exports=s))})("undefined"!==typeof window?window:this,(function(t){function e(e,i,s,a){e.hasOwnProperty(i)||(e[i]=a.apply(null,s),"function"===typeof CustomEvent&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}var i={};return e(i,"Core/Globals.js",[],(function(){var e;return function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="11.0.0",e.win="undefined"!==typeof t?t:{},e.doc=e.win.document,e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect,e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10),e.hasTouch=!!e.win.TouchEvent,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){let t=!1;if(!e.isMS){const i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,i),e.win.removeEventListener("testPassive",e.noop,i))}return t}(),e.charts=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(e||(e={})),e})),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],(function(t){function e(i,s,a,o){const r=s?"Highcharts error":"Highcharts warning";32===i&&(i=r+": Deprecated member");const n=c(i);let l=n?`${r} #${i}: www.highcharts.com/errors/${i}/`:i.toString();if("undefined"!==typeof o){let t="";n&&(l+="?"),v(o,(function(e,i){t+=`\n - ${i}: ${e}`,n&&(l+=encodeURI(i)+"="+encodeURI(e))})),l+=t}y(t,"displayError",{chart:a,code:i,message:l,params:o},(function(){if(s)throw Error(l);k.console&&-1===e.messages.indexOf(l)&&console.warn(l)})),e.messages.push(l)}function i(t,e){const s={};return v(t,(function(a,o){r(t[o],!0)&&!t.nodeType&&e[o]?(a=i(t[o],e[o]),Object.keys(a).length&&(s[o]=a)):(r(t[o])||t[o]!==e[o]||o in t&&!(o in e))&&(s[o]=t[o])})),s}function s(t,e){return parseInt(t,e||10)}function a(t){return"string"===typeof t}function o(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t}function r(t,e){return!!t&&"object"===typeof t&&(!e||!o(t))}function n(t){return r(t)&&"number"===typeof t.nodeType}function l(t){const e=t&&t.constructor;return!(!r(t,!0)||n(t)||!e||!e.name||"Object"===e.name)}function c(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function h(t){return"undefined"!==typeof t&&null!==t}function d(t,e,i){const s=a(e)&&!h(i);let o;const r=(e,i)=>{h(e)?t.setAttribute(i,e):s?(o=t.getAttribute(i))||"class"!==i||(o=t.getAttribute(i+"Name")):t.removeAttribute(i)};return a(e)?r(i,e):v(e,r),o}function u(t,e){let i;for(i in t||(t={}),e)t[i]=e[i];return t}function p(){const t=arguments,e=t.length;for(let i=0;i<e;i++){const e=t[i];if("undefined"!==typeof e&&null!==e)return e}}function f(e,i){t.isMS&&!t.svg&&i&&h(i.opacity)&&(i.filter=`alpha(opacity=${100*i.opacity})`),u(e.style,i)}function m(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function g(t,e){return 1e14<t?t:parseFloat(t.toPrecision(e||14))}function v(t,e,i){for(const s in t)Object.hasOwnProperty.call(t,s)&&e.call(i||t[s],t[s],s,t)}function x(t,e,i){function s(e,i){const s=t.removeEventListener;s&&s.call(t,e,i,!1)}function a(i){let a,o;t.nodeName&&(e?(a={},a[e]=!0):a=i,v(a,(function(t,e){if(i[e])for(o=i[e].length;o--;)s(e,i[e][o].fn)})))}var o="function"===typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(o,"hcEvents")){const t=o.hcEvents;e?(o=t[e]||[],i?(t[e]=o.filter((function(t){return i!==t.fn})),s(e,i)):(a(t),t[e]=[])):(a(t),delete o.hcEvents)}}function y(e,i,s,a){if(s=s||{},w.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){var o=w.createEvent("Events");o.initEvent(i,!0,!0),s=u(o,s),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)}else if(e.hcEvents){s.target||u(s,{preventDefault:function(){s.defaultPrevented=!0},target:e,type:i}),o=[];let t=e,a=!1;for(;t.hcEvents;)Object.hasOwnProperty.call(t,"hcEvents")&&t.hcEvents[i]&&(o.length&&(a=!0),o.unshift.apply(o,t.hcEvents[i])),t=Object.getPrototypeOf(t);a&&o.sort((t,e)=>t.order-e.order),o.forEach(t=>{!1===t.fn.call(e,s)&&s.preventDefault()})}a&&!s.defaultPrevented&&a.call(e,s)}const{charts:b,doc:w,win:k}=t;(e||(e={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var S=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let i;const s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]};let C;v({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(i,s){t[s]=function(t){return e(32,!1,void 0,{["Highcharts."+s]:"use Array."+i}),Array.prototype[i].apply(t,[].slice.call(arguments,1))}}));const A=function(){const t=Math.random().toString(36).substring(2,9)+"-";let e=0;return function(){return"highcharts-"+(C?"":t)+e++}}();return k.jQuery&&(k.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[a(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):b[d(this[0],"data-highcharts-chart")]}),S={addEvent:function(e,i,s,a={}){var o="function"===typeof e&&e.prototype||e;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={}),o=o.hcEvents,t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);const r=e.addEventListener;return r&&r.call(e,i,s,!!t.supportsPassiveEvents&&{passive:void 0===a.passive?-1!==i.indexOf("touch"):a.passive,capture:!1}),o[i]||(o[i]=[]),o[i].push({fn:s,order:"number"===typeof a.order?a.order:1/0}),o[i].sort((t,e)=>t.order-e.order),function(){x(e,i,s)}},arrayMax:function(t){let e=t.length,i=t[0];for(;e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){let e=t.length,i=t[0];for(;e--;)t[e]<i&&(i=t[e]);return i},attr:d,clamp:function(t,e,i){return t>e?t<i?t:i:e},cleanRecursively:i,clearTimeout:function(t){h(t)&&clearTimeout(t)},correctFloat:g,createElement:function(t,e,i,s,a){return t=w.createElement(t),e&&u(t,e),a&&f(t,{padding:"0",border:"none",margin:"0"}),i&&f(t,i),s&&s.appendChild(t),t},css:f,defined:h,destroyObjectProperties:function(t,e){v(t,(function(i,s){i&&i!==e&&i.destroy&&i.destroy(),delete t[s]}))},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let i=t.length;for(;i--;)if(t[i]===e){t.splice(i,1);break}},error:e,extend:u,extendClass:function(t,e){const i=function(){};return i.prototype=new t,u(i.prototype,e),i},find:S,fireEvent:y,getMagnitude:m,getNestedProperty:function(t,e){for(t=t.split(".");t.length&&h(e);){const i=t.shift();if("undefined"===typeof i||"__proto__"===i)return;if(e=e[i],!h(e)||"function"===typeof e||"number"===typeof e.nodeType||e===k)return}return e},getStyle:function(e,i,a){const o=t.getStyle;let r;return"width"===i?(i=Math.min(e.offsetWidth,e.scrollWidth),a=e.getBoundingClientRect&&e.getBoundingClientRect().width,a<i&&a>=i-1&&(i=Math.floor(a)),Math.max(0,i-(o(e,"padding-left",!0)||0)-(o(e,"padding-right",!0)||0))):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(o(e,"padding-top",!0)||0)-(o(e,"padding-bottom",!0)||0)):((e=k.getComputedStyle(e,void 0))&&(r=e.getPropertyValue(i),p(a,"opacity"!==i)&&(r=s(r))),r)},inArray:function(t,i,s){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),i.indexOf(t,s)},isArray:o,isClass:l,isDOMElement:n,isFunction:function(t){return"function"===typeof t},isNumber:c,isObject:r,isString:a,keys:function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,i={};const s=function(t,e){return"object"!==typeof t&&(t={}),v(e,(function(i,a){"__proto__"!==a&&"constructor"!==a&&(!r(i,!0)||l(i)||n(i)?t[a]=e[a]:t[a]=s(t[a]||{},i))})),t};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));const a=e.length;for(t=0;t<a;t++)i=s(i,e[t]);return i},normalizeTickInterval:function(t,e,i,s,a){let o=t;i=p(i,m(t));const r=t/i;for(e||(e=a?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===i?e=e.filter((function(t){return 0===t%1})):.1>=i&&(e=[1/i]))),s=0;s<e.length&&(o=e[s],!(a&&o*i>=t||!a&&r<=(e[s]+(e[s+1]||e[s]))/2));s++);return g(o*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:v,offset:function(t){const e=w.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:t.top+(k.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(k.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:t.width,height:t.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:p,pInt:s,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:x,splat:function(t){return o(t)?t:[t]},stableSort:function(t,e){const i=t.length;let s,a;for(a=0;a<i;a++)t[a].safeI=a;for(t.sort((function(t,i){return s=e(t,i),0===s?t.safeI-i.safeI:s})),a=0;a<i;a++)delete t[a].safeI},syncTimeout:function(t,e,i){return 0<e?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:A,useSerialIds:function(t){return C=p(t,C)},wrap:function(t,e,i){const s=t[e];t[e]=function(){const t=arguments,e=this;return i.apply(this,[function(){return s.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}},S})),e(i,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{isNumber:i,merge:s,pInt:a}=e;class o{static parse(t){return t?new o(t):o.None}constructor(e){this.rgba=[NaN,NaN,NaN,NaN],this.input=e;const i=t.Color;if(i&&i!==o)return new i(e);this.init(e)}init(t){let e,i;if("object"===typeof t&&"undefined"!==typeof t.stops)this.stops=t.stops.map(t=>new o(t[1]));else if("string"===typeof t){if(this.input=t=o.names[t.toLowerCase()]||t,"#"===t.charAt(0)){var s=t.length,a=parseInt(t.substr(1),16);7===s?e=[(16711680&a)>>16,(65280&a)>>8,255&a,1]:4===s&&(e=[(3840&a)>>4|(3840&a)>>8,(240&a)>>4|240&a,(15&a)<<4|15&a,1])}if(!e)for(a=o.parsers.length;a--&&!e;)i=o.parsers[a],(s=i.regex.exec(t))&&(e=i.parse(s))}e&&(this.rgba=e)}get(t){const e=this.input,a=this.rgba;if("object"===typeof e&&"undefined"!==typeof this.stops){const i=s(e);return i.stops=[].slice.call(i.stops),this.stops.forEach((e,s)=>{i.stops[s]=[i.stops[s][0],e.get(t)]}),i}return a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?""+a[3]:"rgba("+a.join(",")+")":e}brighten(t){const e=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(let i=0;3>i;i++)e[i]+=a(255*t),0>e[i]&&(e[i]=0),255<e[i]&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){const s=this.rgba,a=t.rgba;return i(s[0])&&i(a[0])?(t=1!==a[3]||1!==s[3],(t?"rgba(":"rgb(")+Math.round(a[0]+(s[0]-a[0])*(1-e))+","+Math.round(a[1]+(s[1]-a[1])*(1-e))+","+Math.round(a[2]+(s[2]-a[2])*(1-e))+(t?","+(a[3]+(s[3]-a[3])*(1-e)):"")+")"):t.input||"none"}}return o.names={white:"#ffffff",black:"#000000"},o.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),1]}}],o.None=new o(""),o})),e(i,"Core/Color/Palettes.js",[],(function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}})),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{win:i}=t,{defined:s,error:a,extend:o,isObject:r,merge:n,objectEach:l,pad:c,pick:h,splat:d,timeUnits:u}=e,p=t.isSafari&&i.Intl&&i.Intl.DateTimeFormat.prototype.formatRange,f=t.isSafari&&i.Intl&&!i.Intl.DateTimeFormat.prototype.formatRange;class m{constructor(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=i.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}get(t,e){if(this.variableTimezone||this.timezoneOffset){const i=e.getTime(),s=i-this.getTimezoneOffset(e);return e.setTime(s),t=e["getUTC"+t](),e.setTime(i),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()}set(t,e,i){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===this.getTimezoneOffset(e)%36e5)return e["setUTC"+t](i);var s=this.getTimezoneOffset(e);return s=e.getTime()-s,e.setTime(s),e["setUTC"+t](i),t=this.getTimezoneOffset(e),s=e.getTime()+t,e.setTime(s)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](i):e["set"+t](i)}update(t={}){const e=h(t.useUTC,!0);this.options=t=n(!0,this.options,t),this.Date=t.Date||i.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)}makeTime(t,e,i,s,a,o){let r,n,l;return this.useUTC?(r=this.Date.UTC.apply(0,arguments),n=this.getTimezoneOffset(r),r+=n,l=this.getTimezoneOffset(r),n!==l?r+=l-n:n-36e5!==this.getTimezoneOffset(r-36e5)||f||(r-=36e5)):r=new this.Date(t,e,h(i,1),h(s,0),h(a,0),h(o,0)).getTime(),r}timezoneOffsetFunction(){const t=this,e=this.options,s=e.getTimezoneOffset,o=e.moment||i.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(o)return function(t){return 6e4*-o.tz(t,e.timezone).utcOffset()};a(25)}return this.useUTC&&s?function(t){return 6e4*s(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}}dateFormat(e,i,a){if(!s(i)||isNaN(i))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=h(e,"%Y-%m-%d %H:%M:%S");const r=this;var n=new this.Date(i);const d=this.get("Hours",n),u=this.get("Day",n),p=this.get("Date",n),f=this.get("Month",n),m=this.get("FullYear",n),g=t.defaultOptions.lang,v=g&&g.weekdays,x=g&&g.shortWeekdays;return n=o({a:x?x[u]:v[u].substr(0,3),A:v[u],d:c(p),e:c(p,2," "),w:u,b:g.shortMonths[f],B:g.months[f],m:c(f+1),o:f+1,y:m.toString().substr(2,2),Y:m,H:c(d),k:d,I:c(d%12||12),l:d%12||12,M:c(this.get("Minutes",n)),p:12>d?"AM":"PM",P:12>d?"am":"pm",S:c(n.getSeconds()),L:c(Math.floor(i%1e3),3)},t.dateFormats),l(n,(function(t,s){for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"===typeof t?t.call(r,i):t)})),a?e.substr(0,1).toUpperCase()+e.substr(1):e}resolveDTLFormat(t){return r(t,!0)?t:(t=d(t),{main:t[0],from:t[1],to:t[2]})}getTimeTicks(t,e,i,a){const r=this,n=[],l={};var c=new r.Date(e);const d=t.unitRange,p=t.count||1;let f;if(a=h(a,1),s(e)){if(r.set("Milliseconds",c,d>=u.second?0:p*Math.floor(r.get("Milliseconds",c)/p)),d>=u.second&&r.set("Seconds",c,d>=u.minute?0:p*Math.floor(r.get("Seconds",c)/p)),d>=u.minute&&r.set("Minutes",c,d>=u.hour?0:p*Math.floor(r.get("Minutes",c)/p)),d>=u.hour&&r.set("Hours",c,d>=u.day?0:p*Math.floor(r.get("Hours",c)/p)),d>=u.day&&r.set("Date",c,d>=u.month?1:Math.max(1,p*Math.floor(r.get("Date",c)/p))),d>=u.month){r.set("Month",c,d>=u.year?0:p*Math.floor(r.get("Month",c)/p));var m=r.get("FullYear",c)}d>=u.year&&r.set("FullYear",c,m-m%p),d===u.week&&(m=r.get("Day",c),r.set("Date",c,r.get("Date",c)-m+a+(m<a?-7:0))),m=r.get("FullYear",c),a=r.get("Month",c);const t=r.get("Date",c),o=r.get("Hours",c);for(e=c.getTime(),!r.variableTimezone&&r.useUTC||!s(i)||(f=i-e>4*u.month||r.getTimezoneOffset(e)!==r.getTimezoneOffset(i)),e=c.getTime(),c=1;e<i;)n.push(e),e=d===u.year?r.makeTime(m+c*p,0):d===u.month?r.makeTime(m,a+c*p):!f||d!==u.day&&d!==u.week?f&&d===u.hour&&1<p?r.makeTime(m,a,t,o+c*p):e+d*p:r.makeTime(m,a,t+c*p*(d===u.day?1:7)),c++;n.push(e),d<=u.hour&&1e4>n.length&&n.forEach((function(t){0===t%18e5&&"000000000"===r.dateFormat("%H%M%S%L",t)&&(l[t]="day")}))}return n.info=o(t,{higherRanks:l,totalRange:d*p}),n}getDateFormat(t,e,i,s){const a=this.dateFormat("%m-%d %H:%M:%S.%L",e),o={millisecond:15,second:12,minute:9,hour:6,day:3};let r,n="millisecond";for(r in u){if(t===u.week&&+this.dateFormat("%w",e)===i&&"00:00:00.000"===a.substr(6)){r="week";break}if(u[r]>t){r=n;break}if(o[r]&&a.substr(o[r])!=="01-01 00:00:00.000".substr(o[r]))break;"week"!==r&&(n=r)}return this.resolveDTLFormat(s[r]).main}}return m})),e(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{isTouchDevice:r,svg:n}=i,{merge:l}=o,c={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:n,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:r?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};c.chart.styledMode=!1;const h=new a(c.time);return t={defaultOptions:c,defaultTime:h,getOptions:function(){return c},setOptions:function(t){return l(!0,c,t),(t.time||t.global)&&(i.time?i.time.update(l(c.global,c.time,t.global,t.time)):i.time=h),c}},t})),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:s}=t,{win:a}=e,{isNumber:o,objectEach:r}=i;class n{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){var t=this.paths;const e=t&&t[0];t=t&&t[1];const i=this.now||0;let s=[];if(1!==i&&e&&t)if(e.length===t.length&&1>i)for(let a=0;a<t.length;a++){const r=e[a],n=t[a],l=[];for(let t=0;t<n.length;t++){const e=r[t],s=n[t];o(e)&&o(s)&&("A"!==n[0]||4!==t&&5!==t)?l[t]=e+i*(s-e):l[t]=s}s.push(l)}else s=t;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)}update(){const t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)}run(t,e,i){const s=this,o=s.options,r=function(t){return!r.stopped&&s.step(t)},l=a.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(let t=0;t<n.timers.length;t++)n.timers[t]()||n.timers.splice(t--,1);n.timers.length&&l(c)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,r.elem=this.elem,r.prop=this.prop,r()&&1===n.timers.push(r)&&l(c)):(delete o.curAnim[this.prop],o.complete&&0===Object.keys(o.curAnim).length&&o.complete.call(this.elem))}step(t){const e=+new Date,i=this.options,s=this.elem,a=i.complete,o=i.duration,n=i.curAnim;let l;return s.attr&&!s.element?t=!1:t||e>=o+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=n[this.prop]=!0,r(n,(function(t){!0!==t&&(l=!1)})),l&&a&&a.call(s),t=!1):(this.pos=i.easing((e-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t}initPath(t,e,i){function s(t,e){for(;t.length<d;){var i=t[0];const s=e[d-t.length];s&&"M"===i[0]&&(t[0]="C"===s[0]?["C",i[1],i[2],i[1],i[2],i[1],i[2]]:["L",i[1],i[2]]),t.unshift(i),l&&(i=t.pop(),t.push(t[t.length-1],i))}}function a(t,e){for(;t.length<d;)if(e=t[Math.floor(t.length/c)-1].slice(),"C"===e[0]&&(e[1]=e[5],e[2]=e[6]),l){const i=t[Math.floor(t.length/c)].slice();t.splice(t.length/2,0,e,i)}else t.push(e)}const r=t.startX,n=t.endX;i=i.slice();const l=t.isArea,c=l?2:1;let h,d,u;if(e=e&&e.slice(),!e)return[i,i];if(r&&n&&n.length){for(t=0;t<r.length;t++){if(r[t]===n[0]){h=t;break}if(r[0]===n[n.length-r.length+t]){h=t,u=!0;break}if(r[r.length-1]===n[n.length-r.length+t]){h=r.length-t;break}}"undefined"===typeof h&&(e=[])}return e.length&&o(h)&&(d=i.length+h*c,u?(s(e,i),a(i,e)):(s(i,e),a(e,i))),[e,i]}fillSetter(){n.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return n.timers=[],n})),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],(function(t,e){function i(t){return l(t)?c({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function s(e,i){let s=t.timers.length;for(;s--;)t.timers[s].elem!==e||i&&i!==t.timers[s].prop||(t.timers[s].stopped=!0)}const{defined:a,getStyle:o,isArray:r,isNumber:n,isObject:l,merge:c,objectEach:h,pick:d}=e;return{animate:function(e,i,a){let d,u,p,f,m="";l(a)||(f=arguments,a={duration:f[2],easing:f[3],complete:f[4]}),n(a.duration)||(a.duration=400),a.easing="function"===typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=c(i),h(i,(function(n,l){s(e,l),p=new t(e,a,l),u=void 0,"d"===l&&r(i.d)?(p.paths=p.initPath(e,e.pathArray,i.d),p.toD=i.d,d=0,u=1):e.attr?d=e.attr(l):(d=parseFloat(o(e,l))||0,"opacity"!==l&&(m="px")),u||(u=n),"string"===typeof u&&u.match("px")&&(u=u.replace(/px/g,"")),p.run(d,u,m)}))},animObject:i,getDeferredAnimation:function(t,e,s){const o=i(e);let r=0,n=0;return(s?[s]:t.series).forEach(t=>{t=i(t.options.animation),r=e&&a(e.defer)?o.defer:Math.max(r,t.duration+t.defer),n=Math.min(o.duration,t.duration)}),t.renderer.forExport&&(r=0),{defer:Math.max(0,r-n),duration:Math.min(r,n)}},setAnimation:function(t,e){e.renderer.globalAnimation=d(t,e.options.chart.animation,!0)},stop:s}})),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{SVG_NS:i,win:s}=t,{attr:a,createElement:o,css:r,error:n,isFunction:l,isString:c,objectEach:h,splat:d}=e;({trustedTypes:e}=s);const u=e&&l(e.createPolicy)&&e.createPolicy("highcharts",{createHTML:t=>t});e=u?u.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(e,"text/html")}catch(g){p=!1}const f=p;class m{static filterUserAttributes(t){return h(t,(e,i)=>{let s=!0;-1===m.allowedAttributes.indexOf(i)&&(s=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(s=c(e)&&m.allowedReferences.some(t=>0===e.indexOf(t))),s||(n(33,!1,void 0,{"Invalid attribute in config":""+i}),delete t[i]),c(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((t,e)=>{e=e.split(":").map(t=>t.trim());const i=e.shift();return i&&e.length&&(t[i.replace(/-([a-z])/g,t=>t[1].toUpperCase())]=e.join(":")),t},{})}static setElementHTML(t,e){t.innerHTML=m.emptyHTML,e&&new m(e).addToDOM(t)}constructor(t){this.nodes="string"===typeof t?this.parseMarkup(t):t}addToDOM(e){function s(e,o){let l;return d(e).forEach((function(e){var c=e.tagName;const d=e.textContent?t.doc.createTextNode(e.textContent):void 0,u=m.bypassHTMLFiltering;let p;if(c)if("#text"===c)p=d;else if(-1!==m.allowedTags.indexOf(c)||u){c=t.doc.createElementNS("svg"===c?i:o.namespaceURI||i,c);const n=e.attributes||{};h(e,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(n[e]=t)})),a(c,u?n:m.filterUserAttributes(n)),e.style&&r(c,e.style),d&&c.appendChild(d),s(e.children||[],c),p=c}else n(33,!1,void 0,{"Invalid tagName in config":c});p&&o.appendChild(p),l=p})),l}return s(this.nodes,e)}parseMarkup(t){const e=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),f)t=(new DOMParser).parseFromString(u?u.createHTML(t):t,"text/html");else{const e=o("div");e.innerHTML=t,t={body:e}}const i=(t,e)=>{var s=t.nodeName.toLowerCase();const a={tagName:s};if("#text"===s&&(a.textContent=t.textContent||""),s=t.attributes){const t={};[].forEach.call(s,e=>{"data-style"===e.name?a.style=m.parseStyle(e.value):t[e.name]=e.value}),a.attributes=t}if(t.childNodes.length){const e=[];[].forEach.call(t.childNodes,t=>{i(t,e)}),e.length&&(a.children=e)}e.push(a)};return[].forEach.call(t.body.childNodes,t=>i(t,e)),e}}return m.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),m.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),m.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),m.emptyHTML=e,m.bypassHTMLFiltering=!1,m})),e(i,"Core/FormatUtilities.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e,i,a){t=+t||0,e=+e;const o=s.lang;var c=(t.toString().split(".")[1]||"").split("e")[0].length;const h=t.toString().split("e"),d=e;if(-1===e)e=Math.min(c,20);else if(r(e)){if(e&&h[1]&&0>h[1]){var u=e+ +h[1];0<=u?(h[0]=(+h[0]).toExponential(u).split("e")[0],e=u):(h[0]=h[0].split(".")[0]||0,t=20>e?(h[0]*Math.pow(10,h[1])).toFixed(e):0,h[1]=0)}}else e=2;u=(Math.abs(h[1]?h[0]:t)+Math.pow(10,-Math.max(e,c)-1)).toFixed(e),c=String(l(u));const p=3<c.length?c.length%3:0;return i=n(i,o.decimalPoint),a=n(a,o.thousandsSep),t=(0>t?"-":"")+(p?c.substr(0,p)+a:""),t=0>+h[1]&&!d?"0":t+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+a),e&&(t+=i+u.slice(-e)),h[1]&&0!==+t&&(t+="e"+h[1]),t}const{defaultOptions:s,defaultTime:a}=t,{getNestedProperty:o,isNumber:r,pick:n,pInt:l}=e;return{dateFormat:function(t,e,i){return a.dateFormat(t,e,i)},format:function(t,e,r){var n="{";let l,c=!1;const h=/f$/,d=/\.([0-9])/,u=s.lang,p=r&&r.time||a;r=r&&r.numberFormatter||i;const f=[];for(;t;){if(l=t.indexOf(n),-1===l)break;var m=t.slice(0,l);if(c){if(m=m.split(":"),n=o(m.shift()||"",e),m.length&&"number"===typeof n)if(m=m.join(":"),h.test(m)){const t=parseInt((m.match(d)||["","-1"])[1],10);null!==n&&(n=r(n,t,u.decimalPoint,-1<m.indexOf(",")?u.thousandsSep:""))}else n=p.dateFormat(m,n);f.push(n)}else f.push(m);t=t.slice(l+1),n=(c=!c)?"}":"{"}return f.push(t),f.join("")},numberFormat:i}})),e(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],(function(t){const{clamp:e,pick:i,stableSort:s}=t;var a;return function(t){function a(t,o,r){const n=t;var l=n.reducedLen||o,c=(t,e)=>(e.rank||0)-(t.rank||0);const h=(t,e)=>t.target-e.target;let d,u=!0,p=[],f=0;for(d=t.length;d--;)f+=t[d].size;if(f>l){for(s(t,c),f=d=0;f<=l;)f+=t[d].size,d++;p=t.splice(d-1,t.length)}for(s(t,h),t=t.map(t=>({size:t.size,targets:[t.target],align:i(t.align,.5)}));u;){for(d=t.length;d--;)l=t[d],c=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=e(c-l.size*l.align,0,o-l.size);for(d=t.length,u=!1;d--;)0<d&&t[d-1].pos+t[d-1].size>t[d].pos&&(t[d-1].size+=t[d].size,t[d-1].targets=t[d-1].targets.concat(t[d].targets),t[d-1].align=.5,t[d-1].pos+t[d-1].size>o&&(t[d-1].pos=o-t[d-1].size),t.splice(d,1),u=!0)}return n.push.apply(n,p),d=0,t.some(t=>{let e=0;return(t.targets||[]).some(()=>(n[d].pos=t.pos+e,"undefined"!==typeof r&&Math.abs(n[d].pos-n[d].target)>r?(n.slice(0,d+1).forEach(t=>delete t.pos),n.reducedLen=(n.reducedLen||o)-.1*o,n.reducedLen>.1*o&&a(n,o,r),!0):(e+=n[d].size,d++,!1)))}),s(n,h),n}t.distribute=a}(a||(a={})),a})),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{animate:a,animObject:o,stop:r}=t,{deg2rad:n,doc:l,svg:c,SVG_NS:h,win:d}=i,{addEvent:u,attr:p,createElement:f,css:m,defined:g,erase:v,extend:x,fireEvent:y,isArray:b,isFunction:w,isObject:k,isString:S,merge:C,objectEach:A,pick:T,pInt:I,syncTimeout:M,uniqueKey:L}=s;class P{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=h}_defaultGetter(t){return t=T(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){const e=this.renderer,i=this.element;let s;return t&&(this.parentGroup=t),"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(s=this.zIndexSetter()),s||(t?t.element:e.box).appendChild(i),this.onAdd&&this.onAdd(),this}addClass(t,e){const i=e?"":this.attr("class")||"";return t=(t||"").split(/ /g).reduce((function(t,e){return-1===i.indexOf(e)&&t.push(e),t}),i?[i]:[]).join(" "),t!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i){const s={};var a,o=this.renderer,r=o.alignedObjects;let n,l;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=a=i||"renderer",v(r,this),r.push(this),i=void 0)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=T(i,o[a],"scrollablePlotBox"===a?o.plotBox:void 0,o),a=t.align;const c=t.verticalAlign;return o=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"===a?n=1:"center"===a&&(n=2),n&&(o+=(i.width-(t.width||0))/n),s[e?"translateX":"x"]=Math.round(o),"bottom"===c?l=1:"middle"===c&&(l=2),l&&(r+=(i.height-(t.height||0))/l),s[e?"translateY":"y"]=Math.round(r),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this}alignSetter(t){const e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){const s=o(T(e,this.renderer.globalAnimation,!0));return e=s.defer,l.hidden&&(s.duration=0),0!==s.duration?(i&&(s.complete=i),M(()=>{this.element&&a(this,t,s)},e)):(this.attr(t,void 0,i||s.complete),A(t,(function(t,e){s.step&&s.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this}applyTextOutline(t){const e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));var s=t.split(" ");if(t=s[s.length-1],(s=s[0])&&"none"!==s&&i.svg){this.fakeTS=!0,s=s.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*Number(e)+i})),this.removeTextOutline();const i=l.createElementNS(h,"tspan");p(i,{class:"highcharts-text-outline",fill:t,stroke:t,"stroke-width":s,"stroke-linejoin":"round"}),t=e.querySelector("textPath")||e,[].forEach.call(t.childNodes,t=>{const e=t.cloneNode(!0);e.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(t=>e.removeAttribute(t)),i.appendChild(e)});let a=0;[].forEach.call(t.querySelectorAll("text tspan"),t=>{a+=Number(t.getAttribute("dy"))}),s=l.createElementNS(h,"tspan"),s.textContent="​",p(s,{x:Number(e.getAttribute("x")),dy:-a}),i.appendChild(s),t.insertBefore(i,t.firstChild)}}attr(t,e,i,s){const a=this.element,o=P.symbolCustomAttribs;let n,l,c,h,d=this;return"string"===typeof t&&"undefined"!==typeof e&&(n=t,t={},t[n]=e),"string"===typeof t?d=(this[t+"Getter"]||this._defaultGetter).call(this,t,a):(A(t,(function(e,i){c=!1,s||r(this,i),this.symbolName&&-1!==o.indexOf(i)&&(l||(this.symbolAttr(t),l=!0),c=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),c||(h=this[i+"Setter"]||this._defaultSetter,h.call(this,e,i,a))}),this),this.afterSetters()),i&&i.call(this),d}clip(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")}crisp(t,e){e=e||t.strokeWidth||0;const i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),g(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,i,s){const a=this.renderer;let o,r,n,l,c,h,d,u,p,f,m,v=[];y(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?r="radialGradient":t.linearGradient&&(r="linearGradient"),r){if(n=t[r],c=a.gradients,h=t.stops,p=s.radialReference,b(n)&&(t[r]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&p&&!g(n.gradientUnits)&&(l=n,n=C(n,a.getRadialAttr(p,l),{gradientUnits:"userSpaceOnUse"})),A(n,(function(t,e){"id"!==e&&v.push(e,t)})),A(h,(function(t){v.push(t)})),v=v.join(","),c[v])f=c[v].attr("id");else{n.id=f=L();const t=c[v]=a.createElement(r).attr(n).add(a.defs);t.radAttr=l,t.stops=[],h.forEach((function(i){0===i[1].indexOf("rgba")?(o=e.parse(i[1]),d=o.get("rgb"),u=o.get("a")):(d=i[1],u=1),i=a.createElement("stop").attr({offset:i[0],"stop-color":d,"stop-opacity":u}).add(t),t.stops.push(i)}))}m="url("+a.url+"#"+f+")",s.setAttribute(i,m),s.gradient=v,t.toString=function(){return m}}}))}css(t){const e=this.styles,i={},s=this.element;let a,o=!e;if(t.color&&(t.fill=t.color),e&&A(t,(function(t,s){e&&e[s]!==t&&(i[s]=t,o=!0)})),o){e&&(t=x(e,i)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(a=this.textWidth=I(t.width)),this.styles=t,a&&!c&&this.renderer.forExport&&delete t.width;const o=C(t);s.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(t=>o&&delete o[t]),m(s,o)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){const i=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=i.length;t--;)i[t]=""+I(i[t])*T(e,NaN);t=i.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){const t=this;var e=t.element||{};const i=t.renderer;var s=e.ownerSVGElement;let a="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,r(t),t.clipPath&&s){const e=t.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(e.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=e.destroy()}if(t.stops){for(s=0;s<t.stops.length;s++)t.stops[s].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);a&&a.div&&0===a.div.childNodes.length;)e=a.parentGroup,t.safeRemoveChild(a.div),delete a.div,a=e;t.alignTo&&v(i.alignedObjects,t),A(t,(function(e,i){t[i]&&t[i].parentGroup===t&&t[i].destroy&&t[i].destroy(),delete t[i]}))}dSetter(t,e,i){b(t)&&("string"===typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((t,e,i)=>e&&e.join?(i?t+" ":"")+e.join(" "):(e||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fadeOut(t){const e=this;e.animate({opacity:0},{duration:T(t,150),complete:function(){e.hide()}})}fillSetter(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}getBBox(t,e){const{alignValue:i,element:s,renderer:a,styles:o,textStr:r}=this,{cache:l,cacheKeys:c}=a;var h=s.namespaceURI===this.SVG_NS;e=T(e,this.rotation,0);var d=a.styledMode?s&&P.prototype.getStyle.call(s,"font-size"):o&&o.fontSize;let u,p;if(g(r)&&(p=r.toString(),-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",a.rootFontSize,d,e,this.textWidth,i,o&&o.textOverflow,o&&o.fontWeight].join()),p&&!t&&(u=l[p]),!u){if(h||a.forExport){try{var f=this.fakeTS&&function(t){const e=s.querySelector(".highcharts-text-outline");e&&m(e,{display:t})};w(f)&&f("none"),u=s.getBBox?x({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight,x:0,y:0},w(f)&&f("")}catch(S){}(!u||0>u.width)&&(u={x:0,y:0,width:0,height:0})}else u=this.htmlGetBBox();if(f=u.width,t=u.height,h&&(u.height=t={"11px,17":14,"13px,20":16}[`${d||""},${Math.round(t)}`]||t),e){h=Number(s.getAttribute("y")||0)-u.y,d={right:1,center:.5}[i||0]||0;var v=e*n,y=(e-90)*n,b=f*Math.cos(v);e=f*Math.sin(v);var k=Math.cos(y);v=Math.sin(y),f=u.x+d*(f-b)+h*k,y=f+b,k=y-t*k,b=k-b,h=u.y+h-d*e+h*v,d=h+e,t=d-t*v,e=t-e,u.x=Math.min(f,y,k,b),u.y=Math.min(h,d,t,e),u.width=Math.max(f,y,k,b)-u.x,u.height=Math.max(h,d,t,e)-u.y}}if(p&&(""===r||0<u.height)){for(;250<c.length;)delete l[c.shift()];l[p]||c.push(p),l[p]=u}return u}getStyle(t){return d.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(t,e){this.element="span"===e?f(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,y(this,"afterInit")}on(t,e){const{onEvents:i}=this;return i[t]&&i[t](),i[t]=u(this.element,t,e),this}opacitySetter(t,e,i){this.opacity=t=Number(Number(t).toFixed(3)),i.setAttribute(e,t)}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(S(t)?new RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){const t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){const e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){const e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}setTextPath(t,e){e=C(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);const i=this.renderer.url,s=this.text||this,a=s.textPath,{attributes:o,enabled:r}=e;return t=t||a&&a.path,a&&a.undo(),t&&r?(e=u(s,"afterModifyTree",e=>{if(t&&r){let r=t.attr("id");r||t.attr("id",r=L());var a={x:0,y:0};g(o.dx)&&(a.dx=o.dx,delete o.dx),g(o.dy)&&(a.dy=o.dy,delete o.dy),s.attr(a),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),a=e.nodes.slice(0),e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:x(o,{"text-anchor":o.textAnchor,href:`${i}#${r}`}),children:a}}}),s.textPath={path:t,undo:e}):(s.attr({dx:0,dy:0}),delete s.textPath),this.added&&(s.textCache="",this.renderer.buildText(s)),this}shadow(t){var e;const{renderer:i}=this,s=C(90===(null===(e=this.parentGroup)||void 0===e?void 0:e.rotation)?{offsetX:-1,offsetY:-1}:{},k(t)?t:{});return e=i.shadowDefinition(s),this.attr({filter:t?`url(${i.url}#${e})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}["stroke-widthSetter"](t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const t=this.getStyle("stroke-width");let e,i=0;return t.indexOf("px")===t.length-2?i=I(t):""!==t&&(e=l.createElementNS(h,"rect"),p(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),i=e.getBBox().width,e.parentNode.removeChild(e)),i}symbolAttr(t){const e=this;P.symbolCustomAttribs.forEach((function(i){e[i]=T(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))}titleSetter(t){const e=this.element,i=e.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=String(T(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(){const{element:t,matrix:e,rotation:i=0,scaleX:s,scaleY:a,translateX:o=0,translateY:r=0}=this,n=["translate("+o+","+r+")"];g(e)&&n.push("matrix("+e.join(",")+")"),i&&n.push("rotate("+i+" "+T(this.rotationOriginX,t.getAttribute("x"),0)+" "+T(this.rotationOriginY,t.getAttribute("y")||0)+")"),(g(s)||g(a))&&n.push("scale("+T(s,1)+" "+T(a,1)+")"),n.length&&!(this.text||this).textPath&&t.setAttribute("transform",n.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){var i=this.renderer,s=this.parentGroup;const a=(s||i).element||i.box,o=this.element;i=a===i.box;let r,n=!1;var l=this.added;let c;if(g(t)?(o.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):g(this[e])&&o.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,c=e.length-1;0<=c&&!n;c--)s=e[c],l=s.getAttribute("data-z-index"),r=!g(l),s!==o&&(0>t&&r&&!i&&!c?(a.insertBefore(o,e[c]),n=!0):(I(l)<=t||r&&(!g(t)||0<=t))&&(a.insertBefore(o,e[c+1]),n=!0));n||(a.insertBefore(o,e[i?3:0]),n=!0)}return n}}return P.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),P.prototype.strokeSetter=P.prototype.fillSetter,P.prototype.yGetter=P.prototype.xGetter,P.prototype.matrixSetter=P.prototype.rotationOriginXSetter=P.prototype.rotationOriginYSetter=P.prototype.rotationSetter=P.prototype.scaleXSetter=P.prototype.scaleYSetter=P.prototype.translateXSetter=P.prototype.translateYSetter=P.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},P})),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],(function(t){var e;return function(e){let i;e.rendererTypes={},e.getRendererType=function(t=i){return e.rendererTypes[t]||e.rendererTypes[i]},e.registerRendererType=function(s,a,o){e.rendererTypes[s]=a,i&&!o||(i=s,t.Renderer=a)}}(e||(e={})),e})),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e){const{defined:i,extend:s,isNumber:a,merge:o,pick:r,removeEvent:n}=e;class l extends t{constructor(t,e,i,s,a,o,r,n,c,h){let d;super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(t,"g"),this.textStr=e,this.x=i,this.y=s,this.anchorX=o,this.anchorY=r,this.baseline=c,this.className=h,this.addClass("button"===h?"highcharts-no-tooltip":"highcharts-label"),h&&this.addClass("highcharts-"+h),this.text=t.text(void 0,0,0,n).attr({zIndex:1}),"string"===typeof a&&((d=/^url\((.*?)\)$/.test(a))||this.renderer.symbols[a])&&(this.symbolKey=a),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||d,this.deferredAttr={},this.alignFactor=0}alignSetter(t){t={left:0,center:.5,right:1}[t],t!==this.alignFactor&&(this.alignFactor=t,this.bBox&&a(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){const t={};e=o(e),l.textProps.forEach(i=>{"undefined"!==typeof e[i]&&(t[i]=e[i],delete e[i])}),this.text.css(t),"fontSize"in t||"fontWeight"in t?this.updateTextPadding():("width"in t||"textOverflow"in t)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){n(this.element,"mouseenter"),n(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();const t=this.padding,e=r(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-e,y:this.bBox.y-t}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t}onAdd(){this.text.add(this),this.attr({text:r(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){a(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}["stroke-widthSetter"](t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}["text-alignSetter"](t){this.textAlign=t}textSetter(t){"undefined"!==typeof t&&this.text.attr({text:t}),this.updateTextPadding()}updateBoxSize(){var t=this.text;const e={},o=this.padding,r=this.bBox=a(this.widthSetting)&&a(this.heightSetting)&&!this.textAlign||!i(t.textStr)?l.emptyBBox:t.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||r.height||0)+2*o;const n=this.renderer.fontMetrics(t);this.baselineOffset=o+Math.min((this.text.firstLineMetrics||n).b,r.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-n.h)/2),this.needsBox&&!t.textPath&&(this.box||(t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),t.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)),t=this.getCrispAdjust(),e.x=t,e.y=(this.baseline?-this.baselineOffset:0)+t,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(s(e,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const t=this.text;if(!t.textPath){this.updateBoxSize();const e=this.baseline?0:this.baselineOffset;let s=r(this.paddingLeft,this.padding);i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(s+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),s===t.x&&e===t.y||(t.attr("x",s),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),"undefined"!==typeof e&&t.attr("y",e)),t.x=s,t.y=e}}widthSetter(t){this.widthSetting=a(t)?t:void 0}getPaddedWidth(){var t=this.padding;const e=r(this.paddingLeft,t);return t=r(this.paddingRight,t),(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),l})),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],(function(t){function e(t,e,i,s,o){const n=[];if(o){const l=o.start||0,c=r(o.r,i);i=r(o.r,s||i),s=(o.end||0)-.001;const h=o.innerR,d=r(o.open,.001>Math.abs((o.end||0)-l-2*Math.PI)),u=Math.cos(l),p=Math.sin(l),f=Math.cos(s),m=Math.sin(s),g=r(o.longArc,.001>s-l-Math.PI?0:1);let v=["A",c,i,0,g,r(o.clockwise,1),t+c*f,e+i*m];v.params={start:l,end:s,cx:t,cy:e},n.push(["M",t+c*u,e+i*p],v),a(h)&&(v=["A",h,h,0,g,a(o.clockwise)?1-o.clockwise:0,t+h*u,e+h*p],v.params={start:s,end:l,cx:t,cy:e},n.push(d?["M",t+h*f,e+h*m]:["L",t+h*f,e+h*m],v)),d||n.push(["Z"])}return n}function i(t,e,i,a,o){return o&&o.r?s(t,e,i,a,o):[["M",t,e],["L",t+i,e],["L",t+i,e+a],["L",t,e+a],["Z"]]}function s(t,e,i,s,a){return a=(null===a||void 0===a?void 0:a.r)||0,[["M",t+a,e],["L",t+i-a,e],["A",a,a,0,0,1,t+i,e+a],["L",t+i,e+s-a],["A",a,a,0,0,1,t+i-a,e+s],["L",t+a,e+s],["A",a,a,0,0,1,t,e+s-a],["L",t,e+a],["A",a,a,0,0,1,t+a,e],["Z"]]}const{defined:a,isNumber:o,pick:r}=t;return{arc:e,callout:function(t,e,i,a,r){const n=Math.min(r&&r.r||0,i,a),l=n+6,c=r&&r.anchorX;r=r&&r.anchorY||0;const h=s(t,e,i,a,{r:n});return o(c)?(t+c>=i?r>e+l&&r<e+a-l?h.splice(3,1,["L",t+i,r-6],["L",t+i+6,r],["L",t+i,r+6],["L",t+i,e+a-n]):h.splice(3,1,["L",t+i,a/2],["L",c,r],["L",t+i,a/2],["L",t+i,e+a-n]):0>=t+c?r>e+l&&r<e+a-l?h.splice(7,1,["L",t,r+6],["L",t-6,r],["L",t,r-6],["L",t,e+n]):h.splice(7,1,["L",t,a/2],["L",c,r],["L",t,a/2],["L",t,e+n]):r&&r>a&&c>t+l&&c<t+i-l?h.splice(5,1,["L",c+6,e+a],["L",c,e+a+6],["L",c-6,e+a],["L",t+n,e+a]):r&&0>r&&c>t+l&&c<t+i-l&&h.splice(1,1,["L",c-6,e],["L",c,e-6],["L",c+6,e],["L",i-n,e]),h):h},circle:function(t,i,s,a){return e(t+s/2,i+a/2,s/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s/2],["L",t+i/2,e+s],["L",t,e+s/2],["Z"]]},rect:i,roundedRect:s,square:i,triangle:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s],["L",t,e+s],["Z"]]},"triangle-down":function(t,e,i,s){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+s],["Z"]]}}})),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{doc:s,SVG_NS:a,win:o}=e,{attr:r,extend:n,fireEvent:l,isString:c,objectEach:h,pick:d}=i;class u{constructor(t){const e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){const e=this.svgElement,i=e.element;var a=e.renderer,o=d(e.textStr,"").toString();const r=-1!==o.indexOf("<"),n=i.childNodes;a=!e.added&&a.box;const l=/<br.*?>/g;var h=[o,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join();if(h!==e.textCache){for(e.textCache=h,delete e.actualWidth,h=n.length;h--;)i.removeChild(n[h]);r||this.ellipsis||this.width||e.textPath||-1!==o.indexOf(" ")&&(!this.noWrap||l.test(o))?""!==o&&(a&&a.appendChild(i),o=new t(o),this.modifyTree(o.nodes),o.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),a&&a.removeChild(i)):i.appendChild(s.createTextNode(this.unescapeEntities(o))),c(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){const t=this.svgElement,e=r(t.element,"x");let i;for(t.firstLineMetrics=void 0;i=t.element.firstChild;){if(!/^[\s\u200B]*$/.test(i.textContent||" "))break;t.element.removeChild(i)}[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(i,s)=>{i.nextSibling&&i.previousSibling&&(0===s&&1===i.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(i.previousSibling)),r(i,{dy:this.getLineHeight(i.nextSibling),x:e}))});const n=this.width||0;if(n){var l=(i,o)=>{var l=i.textContent||"";const c=l.replace(/([^\^])-/g,"$1- ").split(" ");var h=!this.noWrap&&(1<c.length||1<t.element.childNodes.length);const d=this.getLineHeight(o);let u=0,p=t.actualWidth;if(this.ellipsis)l&&this.truncate(i,l,void 0,0,Math.max(0,n-.8*d),(t,e)=>t.substring(0,e)+"…");else if(h){for(l=[],h=[];o.firstChild&&o.firstChild!==i;)h.push(o.firstChild),o.removeChild(o.firstChild);for(;c.length;)c.length&&!this.noWrap&&0<u&&(l.push(i.textContent||""),i.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(i,void 0,c,0===u&&p||0,n,(t,e)=>c.slice(0,e).join(" ").replace(/- /g,"-")),p=t.actualWidth,u++;h.forEach(t=>{o.insertBefore(t,i)}),l.forEach(t=>{o.insertBefore(s.createTextNode(t),i),t=s.createElementNS(a,"tspan"),t.textContent="​",r(t,{dy:d,x:e}),o.insertBefore(t,i)})}},c=e=>{[].slice.call(e.childNodes).forEach(i=>{i.nodeType===o.Node.TEXT_NODE?l(i,e):(-1!==i.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),c(i))})};c(t.element)}}getLineHeight(t){return t=t.nodeType===o.Node.TEXT_NODE?t.parentElement:t,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(t){const e=(i,s)=>{const{attributes:a={},children:o,style:r={},tagName:l}=i,c=this.renderer.styledMode;"b"===l||"strong"===l?c?a["class"]="highcharts-strong":r.fontWeight="bold":"i"!==l&&"em"!==l||(c?a["class"]="highcharts-emphasized":r.fontStyle="italic"),r&&r.color&&(r.fill=r.color),"br"===l?(a["class"]="highcharts-br",i.textContent="​",(s=t[s+1])&&s.textContent&&(s.textContent=s.textContent.replace(/^ +/gm,""))):"a"===l&&o&&o.some(t=>"#text"===t.tagName)&&(i.children=[{children:o,tagName:"tspan"}]),"#text"!==l&&"a"!==l&&(i.tagName="tspan"),n(i,{attributes:a,style:r}),o&&o.filter(t=>"#text"!==t.tagName).forEach(e)};t.forEach(e),l(this.svgElement,"afterModifyTree",{nodes:t})}truncate(t,e,i,s,a,o){const r=this.svgElement,{rotation:n}=r,l=[];let c,h,d=i?1:0,u=(e||i||"").length,p=u;const f=function(e,a){if(e=a||e,(a=t.parentNode)&&"undefined"===typeof l[e]&&a.getSubStringLength)try{l[e]=s+a.getSubStringLength(0,i?e+1:e)}catch(o){}return l[e]};if(r.rotation=0,h=f(t.textContent.length),s+h>a){for(;d<=u;)p=Math.ceil((d+u)/2),i&&(c=o(i,p)),h=f(p,c&&c.length-1),d===u?d=u+1:h>a?u=p-1:d=p;0===u?t.textContent="":e&&u===e.length-1||(t.textContent=c||o(e||i,p))}i&&i.splice(0,p),r.actualWidth=h,r.rotation=n}unescapeEntities(t,e){return h(this.renderer.escapes,(function(i,s){e&&-1!==e.indexOf(i)||(t=t.toString().replace(new RegExp(i,"g"),s))})),t}}return u})),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l){const{charts:c,deg2rad:h,doc:d,isFirefox:u,isMS:p,isWebKit:f,noop:m,SVG_NS:g,symbolSizes:v,win:x}=i,{addEvent:y,attr:b,createElement:w,css:k,defined:S,destroyObjectProperties:C,extend:A,isArray:T,isNumber:I,isObject:M,isString:L,merge:P,pick:_,pInt:O,uniqueKey:D}=l;let E;class F{constructor(t,e,i,s,a,o,r){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,i,s,a,o,r)}init(t,e,i,s,a,o,r){const n=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),l=n.element;let c;r||n.css(this.getStyle(s)),t.appendChild(l),b(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&b(l,"xmlns",this.SVG_NS),this.box=l,this.boxWrapper=n,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(d.createTextNode("Created with Highcharts 11.0.0")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=a,this.styledMode=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=n.getStyle("font-size"),this.setSize(e,i,!1),u&&t.getBoundingClientRect&&(e=function(){k(t,{left:0,top:0}),c=t.getBoundingClientRect(),k(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),this.unSubPixelFix=y(x,"resize",e))}definition(e){return new t([e]).addToDOM(this.defs.element)}getReferenceURL(){if((u||f)&&d.getElementsByTagName("base").length){if(!S(E)){var e=D();e=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(d.body),k(e,{position:"fixed",top:0,left:0,zIndex:9e5});const i=d.elementFromPoint(6,6);E="hitme"===(i&&i.id),d.body.removeChild(e)}if(E)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(t){return this.style=A({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t)}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(t){const e=new this.Element;return e.init(this,t),e}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){const e=["drop-shadow",...Object.keys(t).map(e=>t[e])].join("-").replace(/[^a-z0-9\-]/g,""),i=P({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector("#"+e)||this.definition({tagName:"filter",attributes:{id:e},children:[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}),e}buildText(t){new n(t).buildSVG()}getContrast(t){return t=e.parse(t).rgba.map(t=>(t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4))),t=.2126*t[0]+.7152*t[1]+.0722*t[2],1.05/(t+.05)>(t+.05)/.05?"#FFFFFF":"#000000"}button(e,i,s,a,o={},r,n,l,c,h){const d=this.label(e,i,s,c,void 0,void 0,h,void 0,"button"),u=this.styledMode;e=o.states||{};let f=0;o=P(o),delete o.states;const m=P({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},o.style);delete o.style;let g,v,x,b=t.filterUserAttributes(o);return d.attr(P({padding:8,r:2},b)),u||(b=P({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},b),r=P(b,{fill:"#e6e6e6"},t.filterUserAttributes(r||e.hover||{})),g=r.style,delete r.style,n=P(b,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},t.filterUserAttributes(n||e.select||{})),v=n.style,delete n.style,l=P(b,{style:{color:"#cccccc"}},t.filterUserAttributes(l||e.disabled||{})),x=l.style,delete l.style),y(d.element,p?"mouseover":"mouseenter",(function(){3!==f&&d.setState(1)})),y(d.element,p?"mouseout":"mouseleave",(function(){3!==f&&d.setState(f)})),d.setState=function(t){1!==t&&(d.state=f=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u||(d.attr([b,r,n,l][t||0]),t=[m,g,v,x][t||0],M(t)&&d.css(t))},u||(d.attr(b).css(A({cursor:"default"},m)),h&&d.text.css({pointerEvents:"none"})),d.on("touchstart",t=>t.stopPropagation()).on("click",(function(t){3!==f&&a.call(d,t)}))}crispLine(t,e,i="round"){const s=t[0],a=t[1];return S(s[1])&&s[1]===a[1]&&(s[1]=a[1]=Math[i](s[1])-e%2/2),S(s[2])&&s[2]===a[2]&&(s[2]=a[2]=Math[i](s[2])+e%2/2),t}path(t){const e=this.styledMode?{}:{fill:"none"};return T(t)?e.d=t:M(t)&&A(e,t),this.createElement("path").attr(e)}circle(t,e,i){return t=M(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)}arc(t,e,i,s,a,o){return M(t)?(s=t,e=s.y,i=s.r,t=s.x):s={innerR:s,start:a,end:o},t=this.symbol("arc",t,e,i,i,s),t.r=i,t}rect(t,e,i,s,a,o){t=M(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:a,width:Math.max(i||0,0),height:Math.max(s||0,0)};const r=this.createElement("rect");return this.styledMode||("undefined"!==typeof o&&(t["stroke-width"]=o,A(t,r.crisp(t))),t.fill="none"),r.rSetter=function(t,e,i){r.r=t,b(i,{rx:t,ry:t})},r.rGetter=function(){return r.r||0},r.attr(t)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:_(i,!0)?void 0:0}),this.alignElements()}g(t){const e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,s,a,o){const r={preserveAspectRatio:"none"},n=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)};I(e)&&(r.x=e),I(i)&&(r.y=i),I(s)&&(r.width=s),I(a)&&(r.height=a);const l=this.createElement("image").attr(r);return e=function(e){n(l.element,t),o.call(l,e)},o?(n(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i=new x.Image,y(i,"load",e),i.src=t,i.complete&&e({})):n(l.element,t),l}symbol(t,e,i,s,a,o){const r=this,n=/^url\((.*?)\)$/,l=n.test(t),h=!l&&(this.symbols[t]?t:"circle"),u=h&&this.symbols[h];let p,f,m,g;if(u)"number"===typeof e&&(f=u.call(this.symbols,Math.round(e||0),Math.round(i||0),s||0,a||0,o)),p=this.path(f),r.styledMode||p.attr("fill","none"),A(p,{symbolName:h||void 0,x:e,y:i,width:s,height:a}),o&&A(p,o);else if(l){m=t.match(n)[1];const s=p=this.image(m);s.imgwidth=_(o&&o.width,v[m]&&v[m].width),s.imgheight=_(o&&o.height,v[m]&&v[m].height),g=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach((function(t){s[t+"Setter"]=function(t,e){this[e]=t;const{alignByTranslate:i,element:s,width:a,height:r,imgwidth:n,imgheight:l}=this;if(t=this["img"+e],S(t)){let c=1;o&&"within"===o.backgroundSize&&a&&r?(c=Math.min(a/n,r/l),b(s,{width:Math.round(n*c),height:Math.round(l*c)})):s&&s.setAttribute(e,t),i||this.translate(((a||0)-n*c)/2,((r||0)-l*c)/2)}}})),S(e)&&s.attr({x:e,y:i}),s.isImg=!0,S(s.imgwidth)&&S(s.imgheight)?g(s):(s.attr({width:0,height:0}),w("img",{onload:function(){const t=c[r.chartIndex];0===this.width&&(k(this,{position:"absolute",top:"-999em"}),d.body.appendChild(this)),v[m]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&g(s),this.parentNode&&this.parentNode.removeChild(this),r.imgCount--,r.imgCount||!t||t.hasLoaded||t.onload()},src:m}),this.imgCount++)}return p}clipRect(t,e,i,s){const a=D()+"-",o=this.createElement("clipPath").attr({id:a}).add(this.defs);return t=this.rect(t,e,i,s,0).add(o),t.id=a,t.clipPath=o,t.count=0,t}text(t,e,i,s){const a={};return!s||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),S(t)&&(a.text=t),t=this.createElement("text").attr(a),(!s||this.forExport&&!this.allowHTML)&&(t.xSetter=function(t,e,i){const s=i.getElementsByTagName("tspan"),a=i.getAttribute(e);for(let o,r=0;r<s.length;r++)o=s[r],o.getAttribute(e)===a&&o.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)}fontMetrics(t){t=O(a.prototype.getStyle.call(t,"font-size")||0);const e=24>t?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:s}}pathToSegments(t){const e=[],i=[],s={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let a=0;a<t.length;a++)L(i[0])&&I(t[a])&&i.length===s[i[0].toUpperCase()]&&t.splice(a,0,i[0].replace("M","L").replace("m","l")),"string"===typeof t[a]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[a]);return e.push(i.slice(0)),e}label(t,e,i,s,a,r,n,l,c){return new o(this,t,e,i,s,a,r,n,l,c)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}return A(F.prototype,{Element:a,SVG_NS:g,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:r,draw:m}),s.registerRendererType("svg",F,!0),F})),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i){const{isFirefox:s,isMS:a,isWebKit:o,win:r}=t,{css:n,defined:l,extend:c,pick:h,pInt:d}=i,u=[];class p extends e{static compose(t){if(i.pushUnique(u,t)){const e=p.prototype,i=t.prototype;i.getSpanCorrection=e.getSpanCorrection,i.htmlCss=e.htmlCss,i.htmlGetBBox=e.htmlGetBBox,i.htmlUpdateTransform=e.htmlUpdateTransform,i.setSpanRotation=e.setSpanRotation}return t}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}htmlCss(t){const e="SPAN"===this.element.tagName&&t&&"width"in t,i=h(e&&t.width,void 0);let s;return e&&(delete t.width,this.textWidth=i,s=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=c(this.styles,t),n(this.element,t),s&&this.htmlUpdateTransform(),this}htmlGetBBox(){const t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}htmlUpdateTransform(){if(this.added){var t=this.renderer,e=this.element,i=this.x||0,s=this.y||0,a=this.textAlign||"left",o={left:0,center:.5,right:1}[a],r=this.styles,c=r&&r.whiteSpace;if(n(e,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),"SPAN"===e.tagName){r=this.rotation;const u=this.textWidth&&d(this.textWidth),p=[r,a,e.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(u!==this.oldTextWidth){if(this.textPxLength)var h=this.textPxLength;else n(e,{width:"",whiteSpace:c||"nowrap"}),h=e.offsetWidth;(u>this.oldTextWidth||h>u)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(n(e,{width:h>u||r?u+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=u,f=!0)}this.hasBoxWidthChanged=f,p!==this.cTT&&(t=t.fontMetrics(e).b,!l(r)||r===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(r,o,t),this.getSpanCorrection(!l(r)&&this.textPxLength||e.offsetWidth,t,o,r,a)),n(e,{left:i+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=r,this.oldAlign=a}}else this.alignOnAdd=!0}setSpanRotation(t,e,i){const l={},c=a&&!/Edge/.test(r.navigator.userAgent)?"-ms-transform":o?"-webkit-transform":s?"MozTransform":r.opera?"-o-transform":void 0;c&&(l[c]=l.transform="rotate("+t+"deg)",l[c+(s?"Origin":"-origin")]=l.transformOrigin=100*e+"% "+i+"px",n(this.element,l))}}return p})),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{attr:a,createElement:o,extend:r,pick:n}=s,l=[];class c extends i{static compose(t){return s.pushUnique(l,t)&&(t.prototype.html=c.prototype.html),t}html(i,s,l){const c=this.createElement("span"),h=c.element,d=c.renderer,u=function(t,i){["opacity","visibility"].forEach((function(s){t[s+"Setter"]=function(a,o,r){const n=t.div?t.div.style:i;e.prototype[s+"Setter"].call(this,a,o,r),n&&(n[o]=a)}})),t.addedSetters=!0};return c.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,n(e,"")),this.textStr=e,c.doTransform=!0)},u(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(t,e){"align"===e?c.alignValue=c.textAlign=t:c[e]=t,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:i,x:Math.round(s),y:Math.round(l)}).css({position:"absolute"}),d.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),h.style.whiteSpace="nowrap",c.css=c.htmlCss,c.add=function(t){const e=d.box.parentNode,i=[];let s;if(this.parentGroup=t){if(s=t.div,!s){for(;t;)i.push(t),t=t.parentGroup;i.reverse().forEach((function(t){function n(e,i){t[i]=e,"translateX"===i?d.left=e+"px":d.top=e+"px",t.doTransform=!0}const l=a(t.element,"class"),h=t.styles||{};s=t.div=t.div||o("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,cursor:h.cursor,pointerEvents:h.pointerEvents,visibility:t.visibility},s||e);const d=s.style;r(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return i[0].div&&c.on.apply({element:i[0].div,onEvents:t.onEvents},arguments),t},translateXSetter:n,translateYSetter:n}),t.addedSetters||u(t)}))}}else s=e;return s.appendChild(h),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c},c}}return c})),e(i,"Core/Axis/AxisDefaults.js",[],(function(){var t;return function(t){t.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},t.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t.defaultLeftAxisOptions={title:{rotation:270}},t.defaultRightAxisOptions={title:{rotation:90}},t.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},t.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(t||(t={})),t})),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,isFunction:i,objectEach:s,removeEvent:a}=t;var o;return function(t){t.registerEventOptions=function(t,o){t.eventOptions=t.eventOptions||{},s(o.events,(function(s,o){t.eventOptions[o]!==s&&(t.eventOptions[o]&&(a(t,o,t.eventOptions[o]),delete t.eventOptions[o]),i(s)&&(t.eventOptions[o]=s,e(t,o,s,{order:0})))}))}}(o||(o={})),o})),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:s}=e,{clamp:a,correctFloat:o,defined:r,destroyObjectProperties:n,extend:l,fireEvent:c,isNumber:h,merge:d,objectEach:u,pick:p}=i;class f{constructor(t,e,i,s,a){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=i||"",this.parameters=a||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),i||s||this.addLabel()}addLabel(){const e=this,i=e.axis;var s=i.options;const a=i.chart;var n=i.categories;const d=i.logarithmic,u=i.names,f=e.pos,m=p(e.options&&e.options.labels,s.labels);var g=i.tickPositions;const v=f===g[0],x=f===g[g.length-1],y=(!m.step||1===m.step)&&1===i.tickInterval;g=g.info;let b,w,k,S=e.label;n=this.parameters.category||(n?p(n[f],u[f],f):f),d&&h(n)&&(n=o(d.lin2log(n))),i.dateTime&&(g?(w=a.time.resolveDTLFormat(s.dateTimeLabelFormats[!s.grid&&g.higherRanks[f]||g.unitName]),b=w.main):h(n)&&(b=i.dateTime.getXDateFormat(n,s.dateTimeLabelFormats||{}))),e.isFirst=v,e.isLast=x;const C={axis:i,chart:a,dateTimeLabelFormat:b,isFirst:v,isLast:x,pos:f,tick:e,tickPositionInfo:g,value:n};c(this,"labelFormat",C);const A=e=>m.formatter?m.formatter.call(e,e):m.format?(e.text=i.defaultLabelFormatter.call(e,e),t.format(m.format,e,a)):i.defaultLabelFormatter.call(e,e);s=A.call(C,C);const T=w&&w.list;e.shortenLabel=T?function(){for(k=0;k<T.length;k++)if(l(C,{dateTimeLabelFormat:T[k]}),S.attr({text:A.call(C,C)}),S.getBBox().width<i.getSlotWidth(e)-2*m.padding)return;S.attr({text:""})}:void 0,y&&i._addedPlotLB&&e.moveLabel(s,m),r(S)||e.movedLabel?S&&S.textStr!==s&&!y&&(!S.textWidth||m.style.width||S.styles.width||S.css({width:null}),S.attr({text:s}),S.textPxLength=S.getBBox().width):(e.label=S=e.createLabel({x:0,y:0},s,m),e.rotation=0)}createLabel(t,e,i){const s=this.axis,a=s.chart;return(t=r(e)&&i.enabled?a.renderer.text(e,t.x,t.y,i.useHTML).add(s.labelGroup):null)&&(a.styledMode||t.css(d(i.style)),t.textPxLength=t.getBBox().width),t}destroy(){n(this,this.axis)}getPosition(t,e,i,s){const r=this.axis,n=r.chart,l=s&&n.oldChartHeight||n.chartHeight;return t={x:t?o(r.translate(e+i,void 0,void 0,s)+r.transB):r.left+r.offset+(r.opposite?(s&&n.oldChartWidth||n.chartWidth)-r.right-r.left:0),y:t?l-r.bottom+r.offset-(r.opposite?r.height:0):o(l-r.translate(e+i,void 0,void 0,s)-r.transB)},t.y=a(t.y,-1e5,1e5),c(this,"afterGetPosition",{pos:t}),t}getLabelPosition(t,e,i,a,o,n,l,h){const d=this.axis,u=d.transA,f=d.isLinked&&d.linkedParent?d.linkedParent.reversed:d.reversed,m=d.staggerLines,g=d.tickRotCorr||{x:0,y:0},v=a||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),x=o.distance,y={};return i=0===d.side?i.rotation?-x:-i.getBBox().height:2===d.side?g.y+x:Math.cos(i.rotation*s)*(g.y-i.getBBox(!1,0).height/2),r(o.y)&&(i=0===d.side&&d.horiz?o.y+i:o.y),t=t+p(o.x,[0,1,0,-1][d.side]*x)+v+g.x-(n&&a?n*u*(f?-1:1):0),e=e+i-(n&&!a?n*u*(f?1:-1):0),m&&(a=l/(h||1)%m,d.opposite&&(a=m-a-1),e+=d.labelOffset/m*a),y.x=t,y.y=Math.round(e),c(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:n,index:l}),y}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(t,e,i,s,a,o){return o.crispLine([["M",t,e],["L",t+(a?0:-i),e+(a?i:0)]],s)}handleOverflow(t){const e=this.axis,i=e.options.labels,a=t.x;var o=e.chart.chartWidth,r=e.chart.spacing;const n=p(e.labelLeft,Math.min(e.pos,r[3]));r=p(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,o-r[1]));const l=this.label,c=this.rotation,h={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],d=l.getBBox().width,u=e.getSlotWidth(this),f={};let m,g=u,v=1;c||"justify"!==i.overflow?0>c&&a-h*d<n?m=Math.round(a/Math.cos(c*s)-n):0<c&&a+h*d>r&&(m=Math.round((o-a)/Math.cos(c*s))):(o=a+(1-h)*d,a-h*d<n?g=t.x+g*(1-h)-n:o>r&&(g=r-t.x+g*h,v=-1),g=Math.min(u,g),g<u&&"center"===e.labelAlign&&(t.x+=v*(u-g-h*(u-Math.min(d,g)))),(d>g||e.autoRotation&&(l.styles||{}).width)&&(m=g)),m&&(this.shortenLabel?this.shortenLabel():(f.width=Math.floor(m)+"px",(i.style||{}).textOverflow||(f.textOverflow="ellipsis"),l.css(f)))}moveLabel(t,e){const i=this;var s=i.label;const a=i.axis;let o=!1;s&&s.textStr===t?(i.movedLabel=s,o=!0,delete i.label):u(a.ticks,(function(e){o||e.isNew||e===i||!e.label||e.label.textStr!==t||(i.movedLabel=e.label,o=!0,e.labelPos=i.movedLabel.xy,delete e.label)})),o||!i.labelPos&&!s||(s=i.labelPos||s.xy,i.movedLabel=i.createLabel(s,t,e),i.movedLabel&&i.movedLabel.attr({opacity:0}))}render(t,e,i){var s=this.axis,a=s.horiz,o=this.pos,r=p(this.tickmarkOffset,s.tickmarkOffset);o=this.getPosition(a,o,r,e),r=o.x;const n=o.y;s=a&&r===s.pos+s.len||!a&&n===s.pos?-1:1,a=p(i,this.label&&this.label.newOpacity,1),i=p(i,1),this.isActive=!0,this.renderGridLine(e,i,s),this.renderMark(o,i,s),this.renderLabel(o,e,a,t),this.isNew=!1,c(this,"afterRender")}renderGridLine(t,e,i){const s=this.axis,a=s.options,o={},r=this.pos,n=this.type,l=p(this.tickmarkOffset,s.tickmarkOffset),c=s.chart.renderer;let h=this.gridLine,d=a.gridLineWidth,u=a.gridLineColor,f=a.gridLineDashStyle;"minor"===this.type&&(d=a.minorGridLineWidth,u=a.minorGridLineColor,f=a.minorGridLineDashStyle),h||(s.chart.styledMode||(o.stroke=u,o["stroke-width"]=d||0,o.dashstyle=f),n||(o.zIndex=1),t&&(e=0),this.gridLine=h=c.path().attr(o).addClass("highcharts-"+(n?n+"-":"")+"grid-line").add(s.gridGroup)),h&&(i=s.getPlotLinePath({value:r+l,lineWidth:h.strokeWidth()*i,force:"pass",old:t,acrossPanes:!1}))&&h[t||this.isNew?"attr":"animate"]({d:i,opacity:e})}renderMark(t,e,i){const s=this.axis;var a=s.options;const o=s.chart.renderer,r=this.type,n=s.tickSize(r?r+"Tick":"tick"),l=t.x;t=t.y;const c=p(a["minor"!==r?"tickWidth":"minorTickWidth"],!r&&s.isXAxis?1:0);a=a["minor"!==r?"tickColor":"minorTickColor"];let h=this.mark;const d=!h;n&&(s.opposite&&(n[0]=-n[0]),h||(this.mark=h=o.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(s.axisGroup),s.chart.styledMode||h.attr({stroke:a,"stroke-width":c})),h[d?"attr":"animate"]({d:this.getMarkPath(l,t,n[0],h.strokeWidth()*i,s.horiz,o),opacity:e}))}renderLabel(t,e,i,s){var a=this.axis;const o=a.horiz,r=a.options,n=this.label,l=r.labels,c=l.step;a=p(this.tickmarkOffset,a.tickmarkOffset);const d=t.x;t=t.y;let u=!0;n&&h(d)&&(n.xy=t=this.getLabelPosition(d,t,n,o,l,a,s,c),this.isFirst&&!this.isLast&&!r.showFirstLabel||this.isLast&&!this.isFirst&&!r.showLastLabel?u=!1:!o||l.step||l.rotation||e||0===i||this.handleOverflow(t),c&&s%c&&(u=!1),u&&h(t.y)?(t.opacity=i,n[this.isNewLabel?"attr":"animate"](t).show(!0),this.isNewLabel=!1):(n.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const t=this.label,e=this.axis;t&&!this.isNew&&(t.animate({opacity:0},void 0,t.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return f})),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n){const{animObject:l}=t,{defaultOptions:c}=s,{registerEventOptions:h}=a,{deg2rad:d}=o,{arrayMax:u,arrayMin:p,clamp:f,correctFloat:m,defined:g,destroyObjectProperties:v,erase:x,error:y,extend:b,fireEvent:w,isArray:k,isNumber:S,isString:C,merge:A,normalizeTickInterval:T,objectEach:I,pick:M,relativeLength:L,removeEvent:P,splat:_,syncTimeout:O}=n,D=(t,e)=>T(e,void 0,void 0,M(t.options.allowDecimals,.5>e||void 0!==t.tickAmount),!!t.tickAmount);class E{constructor(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(t,e)}init(t,e){const i=e.isX;this.chart=t,this.horiz=t.inverted&&!this.isZAxis?!i:i,this.isXAxis=i,this.coll=this.coll||(i?"xAxis":"yAxis"),w(this,"init",{userOptions:e}),this.opposite=M(e.opposite,this.opposite),this.side=M(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);const s=this.options,a=s.labels,o=s.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=M(s.reversed,this.reversed),this.visible=s.visible,this.zoomEnabled=s.zoomEnabled,this.hasNames="category"===o||!0===s.categories,this.categories=s.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=g(s.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.min=this.max=null,e=M(s.crosshair,_(t.options.tooltip.crosshairs)[i?0:1]),this.crosshair=!0===e?{}:e,-1===t.axes.indexOf(this)&&(i?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&!this.isZAxis&&i&&"undefined"===typeof this.reversed&&(this.reversed=!0),this.labelRotation=S(a.rotation)?a.rotation:void 0,h(this,s),w(this,"afterInit")}setOptions(t){this.options=A(e.defaultXAxisOptions,"yAxis"===this.coll&&e.defaultYAxisOptions,[e.defaultTopAxisOptions,e.defaultRightAxisOptions,e.defaultBottomAxisOptions,e.defaultLeftAxisOptions][this.side],A(c[this.coll],t)),w(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(t){var e=this.axis;({numberFormatter:t}=this.chart);const i=S(this.value)?this.value:NaN,s=e.chart.time,a=this.dateTimeLabelFormat;var o=c.lang;const r=o.numericSymbols;o=o.numericSymbolMagnitude||1e3;const n=e.logarithmic?Math.abs(i):e.tickInterval;let l,h=r&&r.length;if(e.categories)l=""+this.value;else if(a)l=s.dateFormat(a,i);else if(h&&1e3<=n)for(;h--&&"undefined"===typeof l;)e=Math.pow(o,h+1),n>=e&&0===10*i%e&&null!==r[h]&&0!==i&&(l=t(i/e,-1)+r[h]);return"undefined"===typeof l&&(l=1e4<=Math.abs(i)?t(i,-1):t(i,-1,void 0,"")),l}getSeriesExtremes(){const t=this,e=t.chart;let i;w(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.series.forEach((function(s){if(s.visible||!e.options.chart.ignoreHiddenSeries){var a=s.options;let e,o,r=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=r&&(r=null),t.isXAxis?(a=s.xData)&&a.length&&(a=t.logarithmic?a.filter(t=>0<t):a,i=s.getXExtremes(a),e=i.min,o=i.max,S(e)||e instanceof Date||(a=a.filter(S),i=s.getXExtremes(a),e=i.min,o=i.max),a.length&&(t.dataMin=Math.min(M(t.dataMin,e),e),t.dataMax=Math.max(M(t.dataMax,o),o))):(s=s.applyExtremes(),S(s.dataMin)&&(e=s.dataMin,t.dataMin=Math.min(M(t.dataMin,e),e)),S(s.dataMax)&&(o=s.dataMax,t.dataMax=Math.max(M(t.dataMax,o),o)),g(r)&&(t.threshold=r),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),w(this,"afterGetSeriesExtremes")}translate(t,e,i,s,a,o){const r=this.linkedParent||this,n=s&&r.old?r.old.min:r.min;if(!S(n))return NaN;const l=r.minPixelPadding;a=(r.isOrdinal||r.brokenAxis&&r.brokenAxis.hasBreaks||r.logarithmic&&a)&&r.lin2val;let c=1,h=0;return s=s&&r.old?r.old.transA:r.transA,s||(s=r.transA),i&&(c*=-1,h=r.len),r.reversed&&(c*=-1,h-=c*(r.sector||r.len)),e?(o=(t*c+h-l)/s+n,a&&(o=r.lin2val(o))):(a&&(t=r.val2lin(t)),t=c*(t-n)*s,o=(r.isRadial?t:m(t))+h+c*l+(S(o)?s*o:0)),o}toPixels(t,e){return this.translate(t,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){function e(t,e,i){return"pass"!==y&&(t<e||t>i)&&(y?t=f(t,e,i):v=!0),t}const i=this,s=i.chart,a=i.left,o=i.top,r=t.old,n=t.value,l=t.lineWidth,c=r&&s.oldChartHeight||s.chartHeight,h=r&&s.oldChartWidth||s.chartWidth,d=i.transB;let u,p,m,g,v,x=t.translatedValue,y=t.force;return t={value:n,lineWidth:l,old:r,force:y,acrossPanes:t.acrossPanes,translatedValue:x},w(this,"getPlotLinePath",t,(function(t){x=M(x,i.translate(n,void 0,void 0,r)),x=f(x,-1e5,1e5),u=m=Math.round(x+d),p=g=Math.round(c-x-d),S(x)?i.horiz?(p=o,g=c-i.bottom,u=m=e(u,a,a+i.width)):(u=a,m=h-i.right,p=g=e(p,o,o+i.height)):(v=!0,y=!1),t.path=v&&!y?null:s.renderer.crispLine([["M",u,p],["L",m,g]],l||1)})),t.path}getLinearTickPositions(t,e,i){const s=m(Math.floor(e/t)*t);i=m(Math.ceil(i/t)*t);const a=[];let o,r;if(m(s+t)===s&&(r=20),this.single)return[e];for(e=s;e<=i;){if(a.push(e),e=m(e+t,r),e===o)break;o=e}return a}getMinorTickInterval(){const t=this.options;return!0===t.minorTicks?M(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval}getMinorTickPositions(){var t=this.options;const e=this.tickPositions,i=this.minorTickInterval;var s=this.pointRangePadding||0;const a=this.min-s;s=this.max+s;const o=s-a;let r=[];if(o&&o/i<this.len/3){const o=this.logarithmic;if(o)this.paddedTicks.forEach((function(t,e,s){e&&r.push.apply(r,o.getLogTickPositions(i,s[e-1],s[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())r=r.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),a,s,t.startOfWeek));else for(t=a+(e[0]-a)%i;t<=s&&t!==r[0];t+=i)r.push(t)}return 0!==r.length&&this.trimTicks(r),r}adjustForMinRange(){const t=this.options,e=this.logarithmic;let i=this.min;var s=this.max;let a,o,r,n,l,c,h=0;if(this.isXAxis&&"undefined"===typeof this.minRange&&!e&&(g(t.min)||g(t.max)||g(t.floor)||g(t.ceiling)?this.minRange=null:(this.series.forEach((function(t){if(n=t.xData,l=t.xIncrement?1:n.length-1,1<n.length)for(o=l;0<o;o--)r=n[o]-n[o-1],(!h||r<h)&&(h=r)})),this.minRange=Math.min(5*h,this.dataMax-this.dataMin))),s-i<this.minRange){a=this.dataMax-this.dataMin>=this.minRange,c=this.minRange;var d=(c-s+i)/2;d=[i-d,M(t.min,i-d)],a&&(d[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),i=u(d),s=[i+c,M(t.max,i+c)],a&&(s[2]=e?e.log2lin(this.dataMax):this.dataMax),s=p(s),s-i<c&&(d[0]=s-c,d[1]=M(t.min,s-c),i=u(d))}this.min=i,this.max=s}getClosest(){let t;return this.categories?t=1:this.series.forEach((function(e){const i=e.closestPointRange,s=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&g(i)&&s&&(t=g(t)?Math.min(t,i):i)})),t}nameToX(t){const e=k(this.options.categories),i=e?this.categories:this.names;let s,a=t.options.x;return t.series.requireSorting=!1,g(a)||(a=this.options.uniqueNames&&i?e?i.indexOf(t.name):M(i.keys[t.name],-1):t.series.autoIncrement()),-1===a?!e&&i&&(s=i.length):s=a,"undefined"!==typeof s?(this.names[s]=t.name,this.names.keys[t.name]=s):t.x&&(s=t.x),s}updateNames(){const t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(i,s){let a;i&&i.options&&"undefined"!==typeof i.name&&(a=t.nameToX(i),"undefined"!==typeof a&&a!==i.x&&(i.x=a,e.xData[s]=a))}))})))}setAxisTranslation(){const t=this,e=t.max-t.min;var i=t.linkedParent;const s=!!t.categories,a=t.isXAxis;let o,r=t.axisPointRange||0,n=0,l=0,c=t.transA;(a||s||r)&&(o=t.getClosest(),i?(n=i.minPointOffset,l=i.pointRangePadding):t.series.forEach((function(e){const i=s?1:a?M(e.options.pointRange,o,0):t.axisPointRange||0,c=e.options.pointPlacement;r=Math.max(r,i),t.single&&!s||(e=e.is("xrange")?!a:a,n=Math.max(n,e&&C(c)?0:i/2),l=Math.max(l,e&&"on"===c?0:i))})),i=t.ordinal&&t.ordinal.slope&&o?t.ordinal.slope/o:1,t.minPointOffset=n*=i,t.pointRangePadding=l*=i,t.pointRange=Math.min(r,t.single&&s?1:e),a&&(t.closestPointRange=o)),t.translationSlope=t.transA=c=t.staticScale||t.len/(e+l||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*n,w(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(t){var e=this.chart;const i=this.logarithmic,s=this.options,a=this.isXAxis,o=this.isLinked,r=s.tickPixelInterval,n=this.categories,l=this.softThreshold;let c,h,d,u=s.maxPadding,p=s.minPadding,f=S(s.tickInterval)&&0<=s.tickInterval?s.tickInterval:void 0,v=S(this.threshold)?this.threshold:null;if(this.dateTime||n||o||this.getTickAmount(),h=M(this.userMin,s.min),d=M(this.userMax,s.max),o){this.linkedParent=e[this.coll][s.linkedTo];var x=this.linkedParent.getExtremes();this.min=M(x.min,x.dataMin),this.max=M(x.max,x.dataMax),s.type!==this.linkedParent.options.type&&y(11,1,e)}else l&&g(v)&&(this.dataMin>=v?(x=v,p=0):this.dataMax<=v&&(c=v,u=0)),this.min=M(h,x,this.dataMin),this.max=M(d,c,this.dataMax);if(i&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,M(this.dataMin,this.min))&&y(10,1,e),this.min=m(i.log2lin(this.min),16),this.max=m(i.log2lin(this.max),16)),this.range&&g(this.max)&&(this.userMin=this.min=h=Math.max(this.dataMin,this.minFromRange()),this.userMax=d=this.max,this.range=null),w(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(n||this.axisPointRange||this.stacking&&this.stacking.usePercentage||o)&&g(this.min)&&g(this.max)&&(e=this.max-this.min)&&(!g(h)&&p&&(this.min-=e*p),!g(d)&&u&&(this.max+=e*u)),S(this.userMin)||(S(s.softMin)&&s.softMin<this.min&&(this.min=h=s.softMin),S(s.floor)&&(this.min=Math.max(this.min,s.floor))),S(this.userMax)||(S(s.softMax)&&s.softMax>this.max&&(this.max=d=s.softMax),S(s.ceiling)&&(this.max=Math.min(this.max,s.ceiling))),l&&g(this.dataMin)&&(v=v||0,!g(h)&&this.min<v&&this.dataMin>=v?this.min=this.options.minRange?Math.min(v,this.max-this.minRange):v:!g(d)&&this.max>v&&this.dataMax<=v&&(this.max=this.options.minRange?Math.max(v,this.min+this.minRange):v)),S(this.min)&&S(this.max)&&!this.chart.polar&&this.min>this.max&&(g(this.options.min)?this.max=this.min:g(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||"undefined"===typeof this.min||"undefined"===typeof this.max?1:o&&this.linkedParent&&!f&&r===this.linkedParent.options.tickPixelInterval?f=this.linkedParent.tickInterval:M(f,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,n?1:(this.max-this.min)*r/Math.max(this.len,r)),a&&!t){const t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(t)})),w(this,"postProcessData",{hasExtremesChanged:t})}this.setAxisTranslation(),w(this,"initialAxisTranslation"),this.pointRange&&!f&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),t=M(s.minTickInterval,this.dateTime&&!this.series.some(t=>t.noSharedTooltip)?this.closestPointRange:0),!f&&this.tickInterval<t&&(this.tickInterval=t),this.dateTime||this.logarithmic||f||(this.tickInterval=D(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var t=this.options;const e=t.tickPositions,i=t.tickPositioner;var s=this.getMinorTickInterval(),a=this.hasVerticalPanning(),o="colorAxis"===this.coll;const r=(o||!a)&&t.startOnTick;let n;if(a=(o||!a)&&t.endOnTick,o=[],this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===s&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:s,this.single=this.min===this.max&&g(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),e)o=e.slice();else if(S(this.min)&&S(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)o=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)o=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(s=t=this.tickInterval;s<=2*t;){if(o=this.getLinearTickPositions(this.tickInterval,this.min,this.max),!(this.tickAmount&&o.length>this.tickAmount))break;this.tickInterval=D(this,s*=1.1)}else o=[this.min,this.max],y(19,!1,this.chart);o.length>this.len&&(o=[o[0],o[o.length-1]],o[0]===o[1]&&(o.length=1)),i&&(this.tickPositions=o,(n=i.apply(this,[this.min,this.max]))&&(o=n))}this.tickPositions=o,this.paddedTicks=o.slice(0),this.trimTicks(o,r,a),!this.isLinked&&S(this.min)&&S(this.max)&&(this.single&&2>o.length&&!this.categories&&!this.series.some(t=>t.is("heatmap")&&"between"===t.options.pointPlacement)&&(this.min-=.5,this.max+=.5),e||n||this.adjustTickAmount()),w(this,"afterSetTickPositions")}trimTicks(t,e,i){const s=t[0],a=t[t.length-1],o=!this.isOrdinal&&this.minPointOffset||0;if(w(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==s)this.min=s;else for(;this.min-o>t[0];)t.shift();if(i)this.max=a;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&g(s)&&!this.options.tickPositions&&t.push((a+s)/2)}}alignToOthers(){const t=this,e=[this],i=t.options,s="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,a=[];let o;if(t.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&i.alignTicks||s)&&!1!==i.startOnTick&&!1!==i.endOnTick&&!t.logarithmic){const i=t=>{const{horiz:e,options:i}=t;return[e?i.left:i.top,i.width,i.height,i.pane].join()},s=i(this);this.chart[this.coll].forEach((function(a){const{series:r}=a;r.length&&r.some(t=>t.visible)&&a!==t&&i(a)===s&&(o=!0,e.push(a))}))}if(o&&s){e.forEach(e=>{e=e.getThresholdAlignment(t),S(e)&&a.push(e)});const i=1<a.length?a.reduce((t,e)=>t+e,0)/a.length:void 0;e.forEach(t=>{t.thresholdAlignment=i})}return o}getThresholdAlignment(t){if((!S(this.dataMin)||this!==t&&this.series.some(t=>t.isDirty||t.isDirtyData))&&this.getSeriesExtremes(),S(this.threshold))return t=f((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(t=1-t),t}getTickAmount(){const t=this.options,e=t.tickPixelInterval;let i=t.tickAmount;!g(t.tickInterval)&&!i&&this.len<e&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),4>i&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){const t=this,{finalTickAmt:e,max:i,min:s,options:a,tickPositions:o,tickAmount:r,thresholdAlignment:n}=t,l=o&&o.length;var c=M(t.threshold,t.softThreshold?0:null),h=t.tickInterval;let d;if(S(n)&&(d=.5>n?Math.ceil(n*(r-1)):Math.floor(n*(r-1)),a.reversed&&(d=r-1-d)),t.hasData()&&S(s)&&S(i)){const n=()=>{t.transA*=(l-1)/(r-1),t.min=a.startOnTick?o[0]:Math.min(s,o[0]),t.max=a.endOnTick?o[o.length-1]:Math.max(i,o[o.length-1])};if(S(d)&&S(t.threshold)){for(;o[d]!==c||o.length!==r||o[0]>s||o[o.length-1]<i;){for(o.length=0,o.push(t.threshold);o.length<r;)void 0===o[d]||o[d]>t.threshold?o.unshift(m(o[0]-h)):o.push(m(o[o.length-1]+h));if(h>8*t.tickInterval)break;h*=2}n()}else if(l<r){for(;o.length<r;)o.length%2||s===c?o.push(m(o[o.length-1]+h)):o.unshift(m(o[0]-h));n()}if(g(e)){for(h=c=o.length;h--;)(3===e&&1===h%2||2>=e&&0<h&&h<c-1)&&o.splice(h,1);t.finalTickAmt=void 0}}}setScale(){let t=!1,e=!1;this.series.forEach((function(i){t=t||i.isDirtyData||i.isDirty,e=e||i.xAxis&&i.xAxis.isDirty||!1})),this.setAxisSize();const i=this.len!==(this.old&&this.old.len);i||t||e||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=i||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),w(this,"afterSetScale")}setExtremes(t,e,i,s,a){const o=this,r=o.chart;i=M(i,!0),o.series.forEach((function(t){delete t.kdTree})),a=b(a,{min:t,max:e}),w(o,"setExtremes",a,(function(){o.userMin=t,o.userMax=e,o.eventArgs=a,i&&r.redraw(s)}))}zoom(t,e){const i=this,s=this.dataMin,a=this.dataMax,o=this.options,r=Math.min(s,M(o.min,s)),n=Math.max(a,M(o.max,a));return t={newMin:t,newMax:e},w(this,"zoom",t,(function(t){let e=t.newMin,o=t.newMax;e===i.min&&o===i.max||(i.allowZoomOutside||(g(s)&&(e<r&&(e=r),e>n&&(e=n)),g(a)&&(o<r&&(o=r),o>n&&(o=n))),i.displayBtn="undefined"!==typeof e||"undefined"!==typeof o,i.setExtremes(e,o,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed}setAxisSize(){const t=this.chart;var e=this.options;const i=e.offsets||[0,0,0,0],s=this.horiz,a=this.width=Math.round(L(M(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),o=this.height=Math.round(L(M(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),r=this.top=Math.round(L(M(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(L(M(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-o-r,this.right=t.chartWidth-a-e,this.len=Math.max(s?a:o,0),this.pos=s?e:r}getExtremes(){const t=this.logarithmic;return{min:t?m(t.lin2log(this.min)):this.min,max:t?m(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){var e=this.logarithmic;const i=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)}autoLabelAlign(t){const e=(M(t,0)-90*this.side+720)%360;return t={align:"center"},w(this,"autoLabelAlign",t,(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align}tickSize(t){const e=this.options,i=M(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);let s,a=e["tick"===t?"tickLength":"minorTickLength"];return i&&a&&("inside"===e[t+"Position"]&&(a=-a),s=[a,i]),t={tickSize:s},w(this,"afterTickSize",t),t.tickSize}labelMetrics(){const t=this.chart.renderer;var e=this.ticks;return e=e[Object.keys(e)[0]]||{},this.chart.renderer.fontMetrics(e.label||e.movedLabel||t.box)}unsquish(){const t=this.options.labels;var e=this.horiz;const i=this.tickInterval,s=this.len/(((this.categories?1:0)+this.max-this.min)/i),a=t.rotation,o=.75*this.labelMetrics().h,r=Math.max(this.max-this.min,0),n=function(t){let e=t/(s||1);return e=1<e?Math.ceil(e):1,e*i>r&&1/0!==t&&1/0!==s&&r&&(e=Math.ceil(r/i)),m(e*i)};let l,c,h=i,u=Number.MAX_VALUE;if(e){if(t.staggerLines||(S(a)?c=[a]:s<t.autoRotationLimit&&(c=t.autoRotation)),c){let t;for(const i of c)(i===a||i&&-90<=i&&90>=i)&&(e=n(Math.abs(o/Math.sin(d*i))),t=e+Math.abs(i/360),t<u&&(u=t,l=i,h=e))}}else h=n(o);return this.autoRotation=c,this.labelRotation=M(l,S(a)?a:0),t.step?i:h}getSlotWidth(t){const e=this.chart,i=this.horiz,s=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];if(t&&S(t.slotWidth))return t.slotWidth;if(i&&2>s.step)return s.rotation?0:(this.staggerLines||1)*this.len/a;if(!i){if(t=s.style.width,void 0!==t)return parseInt(String(t),10);if(o)return o-e.spacing[3]}return.33*e.chartWidth}renderUnsquish(){const t=this.chart,e=t.renderer,i=this.tickPositions,s=this.ticks,a=this.options.labels,o=a.style,r=this.horiz,n=this.getSlotWidth();var l=Math.max(1,Math.round(n-2*a.padding));const c={},h=this.labelMetrics(),d=o.textOverflow;let u,p,f=0;if(C(a.rotation)||(c.rotation=a.rotation||0),i.forEach((function(t){t=s[t],t.movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>f&&(f=t.label.textPxLength)})),this.maxLabelLength=f,this.autoRotation)f>l&&f>h.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(n&&(u=l,!d))for(p="clip",l=i.length;!r&&l--;){var m=i[l];(m=s[m].label)&&(m.styles&&"ellipsis"===m.styles.textOverflow?m.css({textOverflow:"clip"}):m.textPxLength>n&&m.css({width:n+"px"}),m.getBBox().height>this.len/i.length-(h.h-h.f)&&(m.specificTextOverflow="ellipsis"))}c.rotation&&(u=f>.5*t.chartHeight?.33*t.chartHeight:f,d||(p="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),i.forEach((function(t){const e=(t=s[t])&&t.label,i=o.width,a={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():u&&!i&&"nowrap"!==o.whiteSpace&&(u<e.textPxLength||"SPAN"===e.element.tagName)?(a.width=u+"px",d||(a.textOverflow=e.specificTextOverflow||p),e.css(a)):e.styles&&e.styles.width&&!a.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(h.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&g(this.min)&&g(this.max)}addTitle(t){const e=this.chart.renderer,i=this.horiz,s=this.opposite,a=this.options.title,o=this.chart.styledMode;let r;this.axisTitle||((r=a.textAlign)||(r=(i?{low:"left",middle:"center",high:"right"}:{low:s?"right":"left",middle:"center",high:s?"left":"right"})[a.align]),this.axisTitle=e.text(a.text||"",0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation,align:r}).addClass("highcharts-axis-title"),o||this.axisTitle.css(A(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||a.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){const e=this.ticks;e[t]?e[t].addLabel():e[t]=new r(this,t)}getOffset(){const t=this,{chart:e,horiz:i,options:s,side:a,ticks:o,tickPositions:r,coll:n,axisParent:l}=t,c=e.renderer,h=e.inverted&&!t.isZAxis?[1,0,3,2][a]:a;var d=t.hasData();const u=s.title;var p=s.labels,f=e.axisOffset;const m=e.clipOffset,v=[-1,1,1,-1][a],x=s.className;let y,b,k=0;var S=0;let C=0;if(t.showAxis=y=d||s.showEmpty,t.staggerLines=t.horiz&&p.staggerLines||void 0,!t.axisGroup){const e=(t,e,i)=>c.g(t).attr({zIndex:i}).addClass(`highcharts-${n.toLowerCase()}${e} `+(this.isRadial?`highcharts-radial-axis${e} `:"")+(x||"")).add(l);t.gridGroup=e("grid","-grid",s.gridZIndex),t.axisGroup=e("axis","",s.zIndex),t.labelGroup=e("axis-labels","-labels",p.zIndex)}d||t.isLinked?(r.forEach((function(e){t.generateTick(e)})),t.renderUnsquish(),t.reserveSpaceDefault=0===a||2===a||{1:"left",3:"right"}[a]===t.labelAlign,M(p.reserveSpace,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&r.forEach((function(t){C=Math.max(o[t].getLabelSize(),C)})),t.staggerLines&&(C*=t.staggerLines),t.labelOffset=C*(t.opposite?-1:1)):I(o,(function(t,e){t.destroy(),delete o[e]})),u&&u.text&&!1!==u.enabled&&(t.addTitle(y),y&&!1!==u.reserveSpace&&(t.titleOffset=k=t.axisTitle.getBBox()[i?"height":"width"],b=u.offset,S=g(b)?0:M(u.margin,i?5:10))),t.renderLine(),t.offset=v*M(s.offset,f[a]?f[a]+(s.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},d=0===a?-t.labelMetrics().h:2===a?t.tickRotCorr.y:0,S=Math.abs(C)+S,C&&(S=S-d+v*(i?M(p.y,t.tickRotCorr.y+v*p.distance):M(p.x,v*p.distance))),t.axisTitleMargin=M(b,S),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(o,r)),"colorAxis"!==n&&(p=this.tickSize("tick"),f[a]=Math.max(f[a],(t.axisTitleMargin||0)+k+v*t.offset,S,r&&r.length&&p?p[0]+v*t.offset:0),f=!t.axisLine||s.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),m[h]=Math.max(m[h],f)),w(this,"afterGetOffset")}getLinePath(t){const e=this.chart,i=this.opposite;var s=this.offset;const a=this.horiz,o=this.left+(i?this.width:0)+s;return s=e.chartHeight-this.bottom-(i?this.height:0)+s,i&&(t*=-1),e.renderer.crispLine([["M",a?this.left:o,a?s:this.top],["L",a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){var e=this.horiz,i=this.left;const s=this.top;var a=this.len;const o=this.options.title,r=e?i:s,n=this.opposite,l=this.offset,c=o.x,h=o.y,d=this.chart.renderer.fontMetrics(t);return t=t?Math.max(t.getBBox(!1,0).height-d.h-1,0):0,a={low:r+(e?0:a),middle:r+a/2,high:r+(e?a:0)}[o.align],i=(e?s+this.height:i)+(e?1:-1)*(n?-1:1)*(this.axisTitleMargin||0)+[-t,t,d.f,-t][this.side],e={x:e?a+c:i+(n?this.width:0)+l+c,y:e?i+h-(n?this.height:0)+l:a+h},w(this,"afterGetTitlePosition",{titlePosition:e}),e}renderMinorTick(t,e){const i=this.minorTicks;i[t]||(i[t]=new r(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){const s=this.ticks;(!this.isLinked||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(s[t]||(s[t]=new r(this,t)),i&&s[t].isNew&&s[t].render(e,!0,-1),s[t].render(e))}render(){const t=this,e=t.chart,i=t.logarithmic,s=t.options,a=t.isLinked,n=t.tickPositions,c=t.axisTitle,h=t.ticks,d=t.minorTicks,u=t.alternateBands,p=s.stackLabels,f=s.alternateGridColor,m=t.tickmarkOffset,g=t.axisLine,v=t.showAxis,x=l(e.renderer.globalAnimation);let y,b;if(t.labelEdge.length=0,t.overlap=!1,[h,d,u].forEach((function(t){I(t,(function(t){t.isActive=!1}))})),t.hasData()||a){const a=t.chart.hasRendered&&t.old&&S(t.old.min);t.minorTickInterval&&!t.categories&&t.getMinorTickPositions().forEach((function(e){t.renderMinorTick(e,a)})),n.length&&(n.forEach((function(e,i){t.renderTick(e,i,a)})),m&&(0===t.min||t.single)&&(h[-1]||(h[-1]=new r(t,-1,null,!0)),h[-1].render(-1))),f&&n.forEach((function(s,a){b="undefined"!==typeof n[a+1]?n[a+1]+m:t.max-m,0===a%2&&s<t.max&&b<=t.max+(e.polar?-m:m)&&(u[s]||(u[s]=new o.PlotLineOrBand(t)),y=s+m,u[s].options={from:i?i.lin2log(y):y,to:i?i.lin2log(b):b,color:f,className:"highcharts-alternate-grid"},u[s].render(),u[s].isActive=!0)})),t._addedPlotLB||(t._addedPlotLB=!0,(s.plotLines||[]).concat(s.plotBands||[]).forEach((function(e){t.addPlotBandOrLine(e)})))}[h,d,u].forEach((function(t){const i=[],s=x.duration;I(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),O((function(){let e=i.length;for(;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==u&&e.hasRendered&&s?s:0)})),g&&(g[g.isPlaced?"animate":"attr"]({d:this.getLinePath(g.strokeWidth())}),g.isPlaced=!0,g[v?"show":"hide"](v)),c&&v&&(c[c.isNew?"attr":"animate"](t.getTitlePosition(c)),c.isNew=!1),p&&p.enabled&&t.stacking&&t.stacking.renderStackTotals(),t.old={len:t.len,max:t.max,min:t.min,transA:t.transA,userMax:t.userMax,userMin:t.userMin},t.isDirty=!1,w(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))}getKeepProps(){return this.keepProps||E.keepProps}destroy(t){const e=this,i=e.plotLinesAndBands,s=this.eventOptions;if(w(this,"destroy",{keepEvents:t}),t||P(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){v(t)})),i)for(t=i.length;t--;)i[t].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){e[t]&&(e[t]=e[t].destroy())}));for(const a in e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[a]=e.plotLinesAndBandsGroups[a].destroy();I(e,(function(t,i){-1===e.getKeepProps().indexOf(i)&&delete e[i]})),this.eventOptions=s}drawCrosshair(t,e){const s=this.crosshair;var a=M(s&&s.snap,!0);const o=this.chart;let r,n=this.cross;if(w(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),s&&!1!==(g(e)||!a)){if(a?g(e)&&(r=M("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):r=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),g(r)){var l={value:e&&(this.isXAxis?e.x:M(e.stackY,e.y)),translatedValue:r};o.polar&&b(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),l=this.getPlotLinePath(l)||null}if(!g(l))return void this.hideCrosshair();a=this.categories&&!this.isRadial,n||(this.cross=n=o.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(a?"category ":"thin ")+(s.className||"")).attr({zIndex:M(s.zIndex,2)}).add(),o.styledMode||(n.attr({stroke:s.color||(a?i.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":M(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&n.attr({dashstyle:s.dashStyle}))),n.show().attr({d:l}),a&&!s.width&&n.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();w(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),w(this,"afterHideCrosshair")}hasVerticalPanning(){const t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))}update(t,e){const i=this.chart;t=A(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,M(e,!0)&&i.redraw()}remove(t){const e=this.chart,i=this.coll,s=this.series;let a=s.length;for(;a--;)s[a]&&s[a].remove(!1);x(e.axes,this),x(e[i],this),e[i].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,M(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}return E.defaultOptions=e.defaultXAxisOptions,E.keepProps="extKey hcEvents names series userMax userMin".split(" "),E})),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,getMagnitude:i,normalizeTickInterval:s,timeUnits:a}=t;var o;return function(o){function r(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function n(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new c(this))}const l=[];o.compose=function(i){return t.pushUnique(l,i)&&(i.keepProps.push("dateTime"),i.prototype.getTimeTicks=r,e(i,"init",n)),i};class c{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){const o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];let r,n=a[e[0]],l=e[1];for(r=0;r<o.length&&(e=o[r],n=a[e[0]],l=e[1],!(o[r+1]&&t<=(n*l[l.length-1]+a[o[r+1][0]])/2));r++);return n===a.year&&t<5*n&&(l=[1,2,5]),t=s(t/n,l,"year"===e[0]?Math.max(i(t/n),1):1),{unitRange:n,count:t,unitName:e[0]}}getXDateFormat(t,e){const{axis:i}=this,s=i.chart.time;return i.closestPointRange?s.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||s.resolveDTLFormat(e.year).main:s.resolveDTLFormat(e.day).main}}o.Additions=c}(o||(o={})),o})),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,normalizeTickInterval:i,pick:s}=t;var a;return function(a){function o(t){let e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:e||(this.logarithmic=new l(this))}function r(){const t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}const n=[];a.compose=function(i){return t.pushUnique(n,i)&&(i.keepProps.push("logarithmic"),e(i,"init",o),e(i,"afterInit",r)),i};class l{constructor(t){this.axis=t}getLogTickPositions(t,e,a,o){const r=this.axis;var n=r.len,l=r.options;let c=[];if(o||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),c=r.getLinearTickPositions(t,e,a);else if(.08<=t){let i,s,r,h,d;for(l=Math.floor(e),n=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<a+1&&!d;l++)for(s=n.length,i=0;i<s&&!d;i++)r=this.log2lin(this.lin2log(l)*n[i]),r>e&&(!o||h<=a)&&"undefined"!==typeof h&&c.push(h),h>a&&(d=!0),h=r}else e=this.lin2log(e),a=this.lin2log(a),t=o?r.getMinorTickInterval():l.tickInterval,t=s("auto"===t?null:t,this.minorAutoInterval,l.tickPixelInterval/(o?5:1)*(a-e)/((o?n/r.tickPositions.length:n)||1)),t=i(t),c=r.getLinearTickPositions(t,e,a).map(this.log2lin),o||(this.minorAutoInterval=t/5);return o||(r.tickInterval=t),c}lin2log(t){return Math.pow(10,t)}log2lin(t){return Math.log(t)/Math.LN10}}a.Additions=l}(a||(a={})),a})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],(function(t){const{erase:e,extend:i,isNumber:s}=t;var a;return function(a){function o(t){return this.addPlotBandOrLine(t,"plotBands")}function r(t,e){const i=this.userOptions;let s=new p(this,t);if(this.visible&&(s=s.render()),s){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach(t=>{this.addPlotBandOrLine(t)})),e){const s=i[e]||[];s.push(t),i[e]=s}this.plotLinesAndBands.push(s)}return s}function n(t){return this.addPlotBandOrLine(t,"plotLines")}function l(t,e,i=this.options){const a=this.getPlotLinePath({value:e,force:!0,acrossPanes:i.acrossPanes}),o=[],r=this.horiz;let n;if(e=!s(this.min)||!s(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,t=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes}),i=1,t&&a)for(e&&(n=t.toString()===a.toString(),i=0),e=0;e<t.length;e+=2){const s=t[e],l=t[e+1],c=a[e],h=a[e+1];"M"!==s[0]&&"L"!==s[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==h[0]&&"L"!==h[0]||(r&&c[1]===s[1]?(c[1]+=i,h[1]+=i):r||c[2]!==s[2]||(c[2]+=i,h[2]+=i),o.push(["M",s[1],s[2]],["L",l[1],l[2]],["L",h[1],h[2]],["L",c[1],c[2]],["Z"])),o.isFlat=n}return o}function c(t){this.removePlotBandOrLine(t)}function h(t){const i=this.plotLinesAndBands,s=this.options,a=this.userOptions;if(i){let o=i.length;for(;o--;)i[o].id===t&&i[o].destroy();[s.plotLines||[],a.plotLines||[],s.plotBands||[],a.plotBands||[]].forEach((function(i){for(o=i.length;o--;)(i[o]||{}).id===t&&e(i,i[o])}))}}function d(t){this.removePlotBandOrLine(t)}const u=[];let p;a.compose=function(e,s){return p||(p=e),t.pushUnique(u,s)&&i(s.prototype,{addPlotBand:o,addPlotLine:n,addPlotBandOrLine:r,getPlotBandPath:l,removePlotBand:c,removePlotLine:d,removePlotBandOrLine:h}),s}}(a||(a={})),a})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],(function(t,e){const{arrayMax:i,arrayMin:s,defined:a,destroyObjectProperties:o,erase:r,fireEvent:n,merge:l,objectEach:c,pick:h}=e;class d{static compose(e){return t.compose(d,e)}constructor(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}render(){n(this,"render");const t=this,e=t.axis,i=e.horiz;var s=e.logarithmic;const o=t.options,r=o.color,d=h(o.zIndex,0),u=o.events,p={},f=e.chart.renderer;let m=o.label,g=t.label,v=o.to,x=o.from,y=o.value,b=t.svgElem;var w=[];const k=a(x)&&a(v);w=a(y);const S=!b,C={class:"highcharts-plot-"+(k?"band ":"line ")+(o.className||"")};let A=k?"bands":"lines";if(s&&(x=s.log2lin(x),v=s.log2lin(v),y=s.log2lin(y)),e.chart.styledMode||(w?(C.stroke=r||"#999999",C["stroke-width"]=h(o.width,1),o.dashStyle&&(C.dashstyle=o.dashStyle)):k&&(C.fill=r||"#e6e9ff",o.borderWidth&&(C.stroke=o.borderColor,C["stroke-width"]=o.borderWidth))),p.zIndex=d,A+="-"+d,(s=e.plotLinesAndBandsGroups[A])||(e.plotLinesAndBandsGroups[A]=s=f.g("plot-"+A).attr(p).add()),S&&(t.svgElem=b=f.path().attr(C).add(s)),w)w=e.getPlotLinePath({value:y,lineWidth:b.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!k)return;w=e.getPlotBandPath(x,v,o)}return!t.eventsAdded&&u&&(c(u,(function(e,i){b.on(i,(function(e){u[i].apply(t,[e])}))})),t.eventsAdded=!0),(S||!b.d)&&w&&w.length?b.attr({d:w}):b&&(w?(b.show(),b.animate({d:w})):b.d&&(b.hide(),g&&(t.label=g=g.destroy()))),m&&(a(m.text)||a(m.formatter))&&w&&w.length&&0<e.width&&0<e.height&&!w.isFlat?(m=l({align:i&&k&&"center",x:i?!k&&4:10,verticalAlign:!i&&k&&"middle",y:i?k?16:10:k?6:-4,rotation:i&&!k&&90},m),this.renderLabel(m,w,k,d)):g&&g.hide(),t}renderLabel(t,e,a,o){const r=this.axis;var n=r.chart.renderer;let c=this.label;c||(this.label=c=n.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||""),zIndex:o}).add(),r.chart.styledMode||c.css(l({fontSize:"0.8em",textOverflow:"ellipsis"},t.style))),o=e.xBounds||[e[0][1],e[1][1],a?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],a?e[2][2]:e[0][2]],a=s(o),n=s(e),c.align(t,!1,{x:a,y:n,width:i(o)-a,height:i(e)-n}),c.alignValue&&"left"!==c.alignValue||(t=t.clip?r.width:r.chart.chartWidth,c.css({width:(90===c.rotation?r.height-(c.alignAttr.y-r.top):t-(c.alignAttr.x-r.left))+"px"})),c.show(!0)}getLabelText(t){return a(t.formatter)?t.formatter.call(this):t.text}destroy(){r(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}}return d})),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{format:o}=t,{doc:r}=e,{distribute:n}=i,{addEvent:l,clamp:c,css:h,discardElement:d,extend:u,fireEvent:p,isArray:f,isNumber:m,isString:g,merge:v,pick:x,splat:y,syncTimeout:b}=a;class w{constructor(t,e){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}bodyFormatter(t){return t.map((function(t){const e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(t){this.chart.series.forEach((function(e){const i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))}defaultFormatter(t){const e=this.points||y(this);let i;return i=[t.tooltipFooterHeaderFormatter(e[0])],i=i.concat(t.bodyFormatter(e)),i.push(t.tooltipFooterHeaderFormatter(e[0],!0)),i}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),a.clearTimeout(this.hideTimer),a.clearTimeout(this.tooltipTimeout)}getAnchor(t,e){var i=this.chart;const s=i.pointer,a=i.inverted,o=i.plotTop;if(i=i.plotLeft,t=y(t),t[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)"undefined"===typeof e.chartX&&(e=s.normalize(e)),t=[e.chartX-i,e.chartY-o];else if(t[0].tooltipPos)t=t[0].tooltipPos;else{let s=0,r=0;t.forEach((function(t){(t=t.pos(!0))&&(s+=t[0],r+=t[1])})),s/=t.length,r/=t.length,this.shared&&1<t.length&&e&&(a?s=e.chartX:r=e.chartY),t=[s-i,r-o]}return t.map(Math.round)}getClassName(t,e,i){const s=t.series,a=s.options;return[this.options.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+x(t.colorIndex,s.colorIndex),a&&a.className].filter(g).join(" ")}getLabel(){const t=this,i=this.chart.styledMode,a=this.options,o=this.split&&this.allowShared,r=a.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let n,l=this.chart.renderer;if(this.label){var c=!this.label.hasClass("highcharts-label");(!o&&c||o&&!c)&&this.destroy()}if(!this.label){if(this.outside){c=this.chart.options.chart.style;const t=s.getRendererType();this.container=n=e.doc.createElement("div"),n.className="highcharts-tooltip-container",h(n,{position:"absolute",top:"1px",pointerEvents:r,zIndex:Math.max(this.options.style.zIndex||0,(c&&c.zIndex||0)+3)}),e.doc.body.appendChild(n),this.renderer=l=new t(n,0,0,c,void 0,void 0,l.styledMode)}if(o?this.label=l.g("tooltip"):(this.label=l.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,"tooltip").attr({padding:a.padding,r:a.borderRadius}),i||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth||0}).css(a.style).css({pointerEvents:r})),t.outside){const e=this.label,{xSetter:i,ySetter:s}=e;e.xSetter=function(s){i.call(e,t.distance),n.style.left=s+"px"},e.ySetter=function(i){s.call(e,t.distance),n.style.top=i+"px"}}this.label.attr({zIndex:8}).shadow(a.shadow).add()}return this.label}getPlayingField(){const{body:t,documentElement:e}=r,{chart:i,distance:s,outside:a}=this;return{width:a?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*s:i.chartWidth,height:a?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){const s=this.chart,a=this.distance,o={},r=s.inverted&&i.h||0,n=this.outside;var l=this.getPlayingField();const c=l.width,h=l.height,d=s.pointer.getChartPosition();l=o=>{const r="x"===o;return[o,r?c:h,r?t:e].concat(n?[r?t*d.scaleX:e*d.scaleY,r?d.left-a+(i.plotX+s.plotLeft)*d.scaleX:d.top-a+(i.plotY+s.plotTop)*d.scaleY,0,r?c:h]:[r?t:e,r?i.plotX+s.plotLeft:i.plotY+s.plotTop,r?s.plotLeft:s.plotTop,r?s.plotLeft+s.plotWidth:s.plotTop+s.plotHeight])};let u,p=l("y"),f=l("x");l=!!i.negative,!s.polar&&s.hoverSeries&&s.hoverSeries.yAxis&&s.hoverSeries.yAxis.reversed&&(l=!l);const m=!this.followPointer&&x(i.ttBelow,!s.inverted===l),g=function(t,e,i,s,l,c,h){const u=n?"y"===t?a*d.scaleY:a*d.scaleX:a,p=(i-s)/2,f=s<l-a,g=l+a+s<e,v=l-u-i+p;if(l=l+u-p,m&&g)o[t]=l;else if(!m&&f)o[t]=v;else if(f)o[t]=Math.min(h-s,0>v-r?v:v-r);else{if(!g)return!1;o[t]=Math.max(c,l+r+i>e?l:l+r)}},v=function(t,e,i,s,r){let n;return r<a||r>e-a?n=!1:o[t]=r<i/2?1:r>e-s/2?e-s-2:r-i/2,n},y=function(t){const e=p;p=f,f=e,u=t},b=function(){!1!==g.apply(0,p)?!1!==v.apply(0,f)||u||(y(!0),b()):u?o.x=o.y=0:(y(!0),b())};return(s.inverted||1<this.len)&&y(),b(),o}hide(t){const e=this;a.clearTimeout(this.hideTimer),t=x(t,this.options.hideDelay),this.isHidden||(this.hideTimer=b((function(){e.getLabel().fadeOut(t?void 0:t),e.isHidden=!0}),t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=x(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.chart.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,s){const o=this,r=o.now,n=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-r.x)||1<Math.abs(e-r.y)),l=o.followPointer||1<o.len;u(r,{x:n?(2*r.x+t)/3:t,y:n?(r.y+e)/2:e,anchorX:l?void 0:n?(2*r.anchorX+i)/3:i,anchorY:l?void 0:n?(r.anchorY+s)/2:s}),o.getLabel().attr(r),o.drawTracker(),n&&(a.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(t,e,i,s)}),32))}refresh(t,e){const i=this.chart,s=this.options,o=i.pointer,r=y(t),n=r[0],l=[];var c=s.formatter||this.defaultFormatter,h=this.shared;const d=i.styledMode;let u={};if(s.enabled&&n.series){a.clearTimeout(this.hideTimer),this.allowShared=!(!f(t)&&t.series&&t.series.noSharedTooltip),this.followPointer=!this.split&&n.series.tooltipOptions.followPointer,t=this.getAnchor(t,e);var m=t[0],g=t[1];if(h&&this.allowShared?(o.applyInactiveState(r),r.forEach((function(t){t.setState("hover"),l.push(t.getLabelConfig())})),u={x:n.category,y:n.y},u.points=l):u=n.getLabelConfig(),this.len=l.length,c=c.call(u,this),h=n.series,this.distance=x(h.tooltipOptions.distance,16),!1===c)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(c,r);else{let a=m,l=g;if(e&&o.isDirectTouch&&(a=e.chartX-i.plotLeft,l=e.chartY-i.plotTop),!i.polar&&!1!==h.options.clip&&!r.some(t=>o.isDirectTouch||t.series.shouldShowTooltip(a,l)))return void this.hide();e=this.getLabel(),s.style.width&&!d||e.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),e.attr({text:c&&c.join?c.join(""):c}),e.addClass(this.getClassName(n),!0),d||e.attr({stroke:s.borderColor||n.color||h.color||"#666666"}),this.updatePosition({plotX:m,plotY:g,negative:n.negative,ttBelow:n.ttBelow,h:t[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}p(this,"refresh")}}renderSplit(t,e){function i(t,e,i,a,o=!0){return i?(e=M?0:D,t=c(t-a/2,A.left,A.right-a-(s.outside?L:0))):(e-=_,t=o?t-a-k:t+k,t=c(t,o?t:A.left,A.right)),{x:t,y:e}}const s=this,{chart:a,chart:{chartWidth:o,chartHeight:l,plotHeight:h,plotLeft:d,plotTop:p,pointer:f,scrollablePixelsY:m=0,scrollablePixelsX:v,scrollingContainer:{scrollLeft:y,scrollTop:b}={scrollLeft:0,scrollTop:0},styledMode:w},distance:k,options:S,options:{positioner:C}}=s,A=s.outside&&"number"!==typeof v?r.documentElement.getBoundingClientRect():{left:y,right:y+o,top:b,bottom:b+l},T=s.getLabel(),I=this.renderer||a.renderer,M=!(!a.xAxis[0]||!a.xAxis[0].opposite),{left:L,top:P}=f.getChartPosition();let _=p+b,O=0,D=h-m;g(t)&&(t=[!1,t]),t=t.slice(0,e.length+1).reduce((function(t,a,o){if(!1!==a&&""!==a){o=e[o-1]||{isHeader:!0,plotX:e[0].plotX,plotY:h,series:{}};const m=o.isHeader;var r,n=m?s:o.series;{var l=o;a=a.toString();var u=n.tt;const{isHeader:t,series:e}=l;u||(u={padding:S.padding,r:S.borderRadius},w||(u.fill=S.backgroundColor,u["stroke-width"]=null!==(r=S.borderWidth)&&void 0!==r?r:1),u=I.label("",0,0,S[t?"headerShape":"shape"],void 0,void 0,S.useHTML).addClass(s.getClassName(l,!0,t)).attr(u).add(T)),u.isActive=!0,u.attr({text:a}),w||u.css(S.style).attr({stroke:S.borderColor||l.color||e.color||"#333333"}),r=u}r=n.tt=r,l=r.getBBox(),n=l.width+r.strokeWidth(),m&&(O=l.height,D+=O,M&&(_-=O));{const{isHeader:t,plotX:e=0,plotY:i=0,series:s}=o;if(t){a=d+e;var f=p+h/2}else{const{xAxis:t,yAxis:o}=s;a=t.pos+c(e,-k,t.len+k),s.shouldShowTooltip(0,o.pos-p+i,{ignoreX:!0})&&(f=o.pos+i)}a=c(a,A.left-k,A.right+k),f={anchorX:a,anchorY:f}}const{anchorX:g,anchorY:v}=f;"number"===typeof v?(f=l.height+1,l=C?C.call(s,n,f,o):i(g,v,m,n),t.push({align:C?0:void 0,anchorX:g,anchorY:v,boxWidth:n,point:o,rank:x(l.rank,m?1:0),size:f,target:l.y,tt:r,x:l.x})):r.isActive=!1}return t}),[]),!C&&t.some(t=>{var{outside:e}=s;return e=(e?L:0)+t.anchorX,e<A.left&&e+t.boxWidth<A.right||e<L-A.left+t.boxWidth&&A.right-e>e})&&(t=t.map(t=>{const{x:e,y:s}=i(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return u(t,{target:s,x:e})})),s.cleanSplit(),n(t,D);var E=L,F=L;t.forEach((function(t){const{x:e,boxWidth:i,isHeader:a}=t;a||(s.outside&&L+e<E&&(E=L+e),!a&&s.outside&&E+i>F&&(F=L+e))})),t.forEach((function(t){const{x:e,anchorX:i,anchorY:a,pos:o,point:{isHeader:r}}=t,n={visibility:"undefined"===typeof o?"hidden":"inherit",x:e,y:(o||0)+_,anchorX:i,anchorY:a};if(s.outside&&e<i){const t=L-E;0<t&&(r||(n.x=e+t,n.anchorX=i+t),r&&(n.x=(F-E)/2,n.anchorX=i+t))}t.tt.attr(n)}));const{container:B,outside:N,renderer:z}=s;if(N&&B&&z){const{width:t,height:e,x:i,y:s}=T.getBBox();z.setSize(t+i,e+s,!1),B.style.left=E+"px",B.style.top=P+"px"}}drawTracker(){if(this.shouldStickOnContact()){var t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(e&&i){var s={x:0,y:0,width:0,height:0};i=this.getAnchor(i);var a=e.getBBox();i[0]+=t.plotLeft-e.translateX,i[1]+=t.plotTop-e.translateY,s.x=Math.min(0,i[0]),s.y=Math.min(0,i[1]),s.width=0>i[0]?Math.max(Math.abs(i[0]),a.width-i[0]):Math.max(Math.abs(i[0]),a.width),s.height=0>i[1]?Math.max(Math.abs(i[1]),a.height-Math.abs(i[1])):Math.max(Math.abs(i[1]),a.height),this.tracker?this.tracker.attr(s):(this.tracker=e.renderer.rect(s).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(t,e){const i=t.series,s=i.tooltipOptions;var a=i.xAxis;const r=a&&a.dateTime;a={isFooter:e,labelConfig:t};let n=s.xDateFormat,l=s[e?"footerFormat":"headerFormat"];return p(this,"headerFormatter",a,(function(e){r&&!n&&m(t.key)&&(n=r.getXDateFormat(t.key,s.dateTimeLabelFormats)),r&&n&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){l=l.replace("{point."+t+"}","{point."+t+":"+n+"}")})),i.chart.styledMode&&(l=this.styledModeFormat(l)),e.text=o(l,{point:t,series:i},this.chart)})),a.text}update(t){this.destroy(),v(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,v(!0,this.options,t))}updatePosition(t){const{chart:e,distance:i,options:s}=this;var a=e.pointer;const o=this.getLabel(),{left:r,top:n,scaleX:l,scaleY:c}=a.getChartPosition();a=(s.positioner||this.getPosition).call(this,o.width,o.height,t);let d,u=(t.plotX||0)+e.plotLeft;t=(t.plotY||0)+e.plotTop,this.outside&&(s.positioner&&(a.x+=r-i,a.y+=n-i),d=(s.borderWidth||0)+2*i,this.renderer.setSize(o.width+d,o.height+d,!1),1===l&&1===c||(h(this.container,{transform:`scale(${l}, ${c})`}),u*=l,t*=c),u+=r-a.x,t+=n-a.y),this.move(Math.round(a.x),Math.round(a.y||0),u,t)}}return function(t){const e=[];t.compose=function(i){a.pushUnique(e,i)&&l(i,"afterInit",(function(){const e=this.chart;e.options.tooltip&&(e.tooltip=new t(e,e.options.tooltip))}))}}(w||(w={})),w})),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{animObject:o}=e,{defaultOptions:r}=i,{format:n}=s,{addEvent:l,defined:c,erase:h,extend:d,fireEvent:u,getNestedProperty:p,isArray:f,isFunction:m,isNumber:g,isObject:v,merge:x,objectEach:y,pick:b,syncTimeout:w,removeEvent:k,uniqueKey:S}=a;class C{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach((function(i){t[i]=t[i].animate("dataLabel"===i?{x:t[i].startXPos,y:t[i].startYPos,opacity:0}:e)})),i.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(d({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))}applyOptions(t,e){const i=this.series,s=i.options.pointValKey||i.pointValKey;return t=C.prototype.optionsToObject.call(this,t),d(this,t),this.options=this.options?d(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,s&&(this.y=C.prototype.getNestedProperty.call(this,s)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),"undefined"===typeof this.x&&i?this.x="undefined"===typeof e?i.autoIncrement():e:g(t.x)&&i.options.relativeXValue&&(this.x=i.autoIncrement(t.x)),this}destroy(){if(!this.destroyed){const e=this;var t=e.series;const i=t.chart;t=t.options.dataSorting;const s=i.hoverPoints,a=o(e.series.chart.renderer.globalAnimation),r=()=>{(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(k(e),e.destroyElements());for(const t in e)delete e[t]};e.legendItem&&i.legend.destroyItem(e),s&&(e.setState(),h(s,e),s.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),t&&t.enabled?(this.animateBeforeDestroy(),w(r,a.duration)):r(),i.pointCount--}this.destroyed=!0}destroyElements(t){const e=this;t=e.getGraphicalProps(t),t.singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t&&t.element&&t.destroy()})),delete e[t]}))}firePointEvent(t,e,i){const s=this,a=this.series.options;(a.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&s.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){s.select&&s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),u(s,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){const e=this,i=[],s={singular:[],plural:[]};let a,o;for(t=t||{graphic:1,dataLabel:1},t.graphic&&i.push("graphic"),t.dataLabel&&i.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),o=i.length;o--;)a=i[o],e[a]&&s.singular.push(a);return["graphic","dataLabel","connector"].forEach((function(i){const a=i+"s";t[i]&&e[a]&&s.plural.push(a)})),s}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?p(t,this.options):this[t]}getZone(){var t=this.series;const e=t.zones;t=t.zoneAxis||"y";let i,s=0;for(i=e[s];this[t]>=i.value;)i=e[++s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=c(this.id)?this.id:S(),this.resolveColor(),t.chart.pointCount++,u(this,"afterInit"),this}isValid(){return null!==this.x&&g(this.y)}optionsToObject(t){var e=this.series;const i=e.options.keys,s=i||e.pointArrayMap||["y"],a=s.length;let o={},r=0,n=0;if(g(t)||null===t)o[s[0]]=t;else if(f(t))for(!i&&t.length>a&&(e=typeof t[0],"string"===e?o.name=t[0]:"number"===e&&(o.x=t[0]),r++);n<a;)i&&"undefined"===typeof t[r]||(0<s[n].indexOf(".")?C.prototype.setNestedProperty(o,t[r],s[n]):o[s[n]]=t[r]),r++,n++;else"object"===typeof t&&(o=t,t.dataLabels&&(e._hasPointLabels=!0),t.marker&&(e._hasPointMarkers=!0));return o}pos(t,e=this.plotY){if(!this.destroyed){const{plotX:i,series:s}=this,{chart:a,xAxis:o,yAxis:r}=s;let n=0,l=0;if(g(i)&&g(e))return t&&(n=o?o.pos:a.plotLeft,l=r?r.pos:a.plotTop),a.inverted&&o&&r?[r.len-e+l,o.len-i+n]:[i+n,e+l]}}resolveColor(){const t=this.series;var e=t.chart.styledMode;let i;var s=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(e||(s=t.options.colors||t.chart.options.colors,i=s[t.colorCounter],s=s.length),e=t.colorCounter,t.colorCounter++,t.colorCounter===s&&(t.colorCounter=0)):(e||(i=t.color),e=t.colorIndex),this.colorIndex=b(this.options.colorIndex,e),this.color=b(this.options.color,i)}setNestedProperty(t,e,i){return i.split(".").reduce((function(t,i,s,a){return t[i]=a.length-1===s?e:v(t[i],!0)?t[i]:{},t[i]}),t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){const e=this.series,i=e.tooltipOptions,s=b(i.valueDecimals,""),a=i.valuePrefix||"",o=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(a||o)&&(t=t.replace(RegExp(e+"}","g"),a+e+"}"+o)),t=t.replace(RegExp(e+"}","g"),e+":,."+s+"f}")})),n(t,{point:this,series:this.series},e.chart)}update(t,e,i,s){function a(){o.applyOptions(t);var s=n&&o.hasMockGraphic;s=null===o.y?!s:s,n&&s&&(o.graphic=n.destroy(),delete o.hasMockGraphic),v(t,!0)&&(n&&n.element&&t&&t.marker&&"undefined"!==typeof t.marker.symbol&&(o.graphic=n.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),h=o.index,r.updateParallelArrays(o,h),c.data[h]=v(c.data[h],!0)||v(t,!0)?o.options:b(t,c.data[h]),r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}const o=this,r=o.series,n=o.graphic,l=r.chart,c=r.options;let h;e=b(e,!0),!1===s?a():o.firePointEvent("update",{options:t},a)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){const i=this,s=i.series,a=s.chart;this.selectedStaging=t=b(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,s.options.data[s.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||a.getSelectedPoints().forEach((function(t){const e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(a.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(t){const e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)}onMouseOut(){const t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const t=this,e=x(t.series.options.point,t.options).events;t.events=e,y(e,(function(e,i){m(e)&&l(t,i,e)})),this.hasImportedEvents=!0}}setState(e,i){const s=this.series;var a=this.state,o=s.options.states[e||"normal"]||{},n=r.plotOptions[s.type].marker&&s.options.marker;const l=n&&!1===n.enabled,c=n&&n.states&&n.states[e||"normal"]||{},h=!1===c.enabled,p=this.marker||{},f=s.chart,m=n&&s.markerAttribs;let v=s.halo;var x;let y;var w=s.stateMarkerGraphic;if(e=e||"",!(e===this.state&&!i||this.selected&&"select"!==e||!1===o.enabled||e&&(h||l&&!1===c.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled)){if(this.state=e,m&&(x=s.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(a&&this.graphic.removeClass("highcharts-point-"+a),e&&this.graphic.addClass("highcharts-point-"+e),!f.styledMode){a=s.pointAttribs(this,e),y=b(f.options.chart.animation,o.animation);const t=a.opacity;s.options.inactiveOtherPoints&&g(t)&&((this.dataLabels||[]).forEach((function(e){e&&!e.hasClass("highcharts-data-label-hidden")&&e.animate({opacity:t},y)})),this.connector&&this.connector.animate({opacity:t},y)),this.graphic.animate(a,y)}x&&this.graphic.animate(x,b(f.options.chart.animation,c.animation,n.animation)),w&&w.hide()}else e&&c&&(n=p.symbol||s.symbol,w&&w.currentSymbol!==n&&(w=w.destroy()),x&&(w?w[i?"animate":"attr"]({x:x.x,y:x.y}):n&&(s.stateMarkerGraphic=w=f.renderer.symbol(n,x.x,x.y,x.width,x.height).add(s.markerGroup),w.currentSymbol=n)),!f.styledMode&&w&&"inactive"!==this.state&&w.attr(s.pointAttribs(this,e))),w&&(w[e&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));o=o.halo,x=(w=this.graphic||w)&&w.visibility||"inherit",o&&o.size&&w&&"hidden"!==x&&!this.isCluster?(v||(s.halo=v=f.renderer.path().add(w.parentGroup)),v.show()[i?"animate":"attr"]({d:this.haloPath(o.size)}),v.attr({class:"highcharts-halo highcharts-color-"+b(this.colorIndex,s.colorIndex)+(this.className?" "+this.className:""),visibility:x,zIndex:-1}),v.point=this,f.styledMode||v.attr(d({fill:this.color||s.color,"fill-opacity":o.opacity},t.filterUserAttributes(o.attributes||{})))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),u(this,"afterSetState",{state:e})}}haloPath(t){const e=this.pos();return e?this.series.chart.renderer.symbols.circle(Math.floor(e[0])-t,e[1]-t,2*t,2*t):[]}}return C})),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:s}=t,{charts:a,noop:o}=e,{addEvent:r,attr:n,css:l,defined:c,extend:h,find:d,fireEvent:u,isNumber:p,isObject:f,objectEach:m,offset:g,pick:v,splat:x}=i;class y{constructor(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}applyInactiveState(t){let e,i=[];(t||[]).forEach((function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))}destroy(){const t=this;this.eventsToUnbind.forEach(t=>t()),this.eventsToUnbind=[],e.chartCount||(y.unbindDocumentMouseUp&&(y.unbindDocumentMouseUp=y.unbindDocumentMouseUp()),y.unbindDocumentTouchEnd&&(y.unbindDocumentTouchEnd=y.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),m(t,(function(e,i){t[i]=void 0}))}getSelectionMarkerAttrs(t,e){const i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return u(this,"getSelectionMarkerAttrs",i,i=>{const{chart:s,mouseDownX:a=0,mouseDownY:o=0,zoomHor:r,zoomVert:n}=this;let l;i=i.attrs,i.x=s.plotLeft,i.y=s.plotTop,i.width=r?1:s.plotWidth,i.height=n?1:s.plotHeight,r&&(l=t-a,i.width=Math.abs(l),i.x=(0<l?0:l)+a),n&&(l=e-o,i.height=Math.abs(l),i.y=(0<l?0:l)+o)}),i}drag(t){const e=this.chart,i=e.options.chart;var a=e.plotLeft;const o=e.plotTop,r=e.plotWidth,n=e.plotHeight,l=this.mouseDownX||0,c=this.mouseDownY||0,h=f(i.panning)?i.panning&&i.panning.enabled:i.panning,d=i.panKey&&t[i.panKey+"Key"];let u=t.chartX,p=t.chartY,m=this.selectionMarker;if((!m||!m.touch)&&(u<a?u=a:u>a+r&&(u=a+r),p<o?p=o:p>o+n&&(p=o+n),this.hasDragged=Math.sqrt(Math.pow(l-u,2)+Math.pow(c-p,2)),10<this.hasDragged)){a=e.isInsidePlot(l-a,c-o,{visiblePlotOnly:!0});const{shapeType:r,attrs:n}=this.getSelectionMarkerAttrs(u,p);!e.hasCartesianSeries&&!e.mapView||!this.zoomX&&!this.zoomY||!a||d||m||(this.selectionMarker=m=e.renderer[r](),m.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||m.attr({fill:i.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),m&&m.attr(n),a&&!m&&h&&e.pan(t,i.panning)}}dragStart(t){const e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY}getSelectionBox(t){const e={args:{marker:t},result:{}};return u(this,"getSelectionBox",e,e=>{e.result={x:t.attr?+t.attr("x"):t.x,y:t.attr?+t.attr("y"):t.y,width:t.attr?t.attr("width"):t.width,height:t.attr?t.attr("height"):t.height}}),e.result}drop(t){const e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){const{x:a,y:o,width:r,height:n}=this.getSelectionBox(this.selectionMarker),l={originalEvent:t,xAxis:[],yAxis:[],x:a,y:o,width:r,height:n};let d=!!i.mapView;(this.hasDragged||s)&&(i.axes.forEach((function(i){if(i.zoomEnabled&&c(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])&&p(a)&&p(o)&&p(r)&&p(n)){var h=i.horiz;const e="touchend"===t.type?i.minPixelPadding:0,s=i.toValue((h?a:o)+e);h=i.toValue((h?a+r:o+n)-e),l[i.coll].push({axis:i,min:Math.min(s,h),max:Math.max(s,h)}),d=!0}})),d&&u(i,"selection",l,(function(t){i.zoom(h(t,s?{animation:!1}:null))}))),p(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&p(i.index)&&(l(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(t,e,i){let s;return t.forEach((function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,a),(a=f(t,!0)&&t.series)&&!(a=!f(s,!0))){{a=s.distX-t.distX;const i=s.dist-t.dist,o=(t.series.group&&t.series.group.zIndex)-(s.series.group&&s.series.group.zIndex);a=0!==a&&e?a:0!==i?i:0!==o?o:s.series.index>t.series.index?-1:1}a=0<a}a&&(s=t)})),s}getChartCoordinatesFromPoint(t,e){var i=t.series;const s=i.xAxis;i=i.yAxis;const a=t.shapeArgs;if(s&&i){let o=v(t.clientX,t.plotX),r=t.plotY||0;return t.isNode&&a&&p(a.x)&&p(a.y)&&(o=a.x,r=a.y),e?{chartX:i.len+i.pos-r,chartY:s.len+s.pos-o}:{chartX:o+s.pos,chartY:r+i.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:t}=this.chart;const e=g(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};const i=t.offsetWidth;return t=t.offsetHeight,2<i&&2<t&&(this.chartPosition.scaleX=e.width/i,this.chartPosition.scaleY=e.height/t),this.chartPosition}getCoordinates(t){const e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e}getHoverData(t,e,i,s,a,o){const r=[];s=!(!s||!t);const n=function(t){return t.visible&&!(!a&&t.directTouch)&&v(t.options.enableMouseTracking,!0)};let l,c={chartX:o?o.chartX:void 0,chartY:o?o.chartY:void 0,shared:a};u(this,"beforeGetHoverData",c),l=e&&!e.stickyTracking?[e]:i.filter(t=>t.stickyTracking&&(c.filter||n)(t));const h=s||!o?t:this.findNearestKDPoint(l,a,o);return e=h&&h.series,h&&(a&&!e.noSharedTooltip?(l=i.filter((function(t){return c.filter?c.filter(t):n(t)&&!t.noSharedTooltip})),l.forEach((function(t){let e=d(t.points,(function(t){return t.x===h.x&&!t.isNull}));f(e)&&(t.boosted&&t.boost&&(e=t.boost.getPoint(e)),r.push(e))}))):r.push(h)),c={hoverPoint:h},u(this,"afterGetHoverData",c),{hoverPoint:c.hoverPoint,hoverSeries:e,hoverPoints:r}}getPointFromEvent(t){let e;for(t=t.target;t&&!e;)e=t.point,t=t.parentNode;return e}onTrackerMouseOut(t){t=t.relatedTarget;const e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()}inClass(t,e){let i;for(;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentElement}}init(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),u(this,"afterInit")}normalize(t,e){var i=t.touches,s=i?i.length?i.item(0):v(i.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),i=s.pageX-e.left,s=s.pageY-e.top,i/=e.scaleX,s/=e.scaleY,h(t,{chartX:Math.round(i),chartY:Math.round(s)})}onContainerClick(t){const e=this.chart,i=e.hoverPoint;t=this.normalize(t);const s=e.plotLeft,a=e.plotTop;e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(u(i.series,"click",h(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(h(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-s,t.chartY-a,{visiblePlotOnly:!0})&&u(e,"click",t)))}onContainerMouseDown(t){const i=1===(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),("undefined"===typeof t.button||i)&&(this.zoomOption(t),i&&t.preventDefault&&t.preventDefault(),this.dragStart(t))}onContainerMouseLeave(t){const e=a[v(y.hoverChartIndex,-1)];t=this.normalize(t),e&&t.relatedTarget&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.pointer.reset(),e.pointer.chartPosition=void 0)}onContainerMouseEnter(t){delete this.chartPosition}onContainerMouseMove(t){const e=this.chart,i=e.tooltip;t=this.normalize(t),this.setHoverChartIndex(),("mousedown"===e.mouseIsDown||this.touchSelect(t))&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||(this.inClass(t.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(t))}onDocumentTouchEnd(t){const e=a[v(y.hoverChartIndex,-1)];e&&e.pointer.drop(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){const e=this.chart,i=e.tooltip,s=this.chartPosition;t=this.normalize(t,s),!s||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||this.inClass(t.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){const e=a[v(y.hoverChartIndex,-1)];e&&e.pointer.drop(t)}pinch(t){const e=this,i=e.chart,s=e.pinchDown,a=t.touches||[],r=a.length,n=e.lastValidTouch,l=e.hasZoom,c={},d=1===r&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};var f=e.chart.tooltip;f=1===r&&v(f&&f.options.followTouchMove,!0);let m=e.selectionMarker;1<r?e.initiated=!0:f&&(e.initiated=!1),l&&e.initiated&&!d&&!1!==t.cancelable&&t.preventDefault(),[].map.call(a,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(a,(function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}})),n.x=[s[0].chartX,s[1]&&s[1].chartX],n.y=[s[0].chartY,s[1]&&s[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){const e=i.bounds[t.horiz?"h":"v"],s=t.minPixelPadding,a=t.toPixels(Math.min(v(t.options.min,t.dataMin),t.dataMin)),o=t.toPixels(Math.max(v(t.options.max,t.dataMax),t.dataMax)),r=Math.max(a,o);e.min=Math.min(t.pos,Math.min(a,o)-s),e.max=Math.max(t.pos+t.len,r+s)}})),e.res=!0):f?this.runPointActions(e.normalize(t)):s.length&&(u(i,"touchpan",{originalEvent:t},()=>{m||(e.selectionMarker=m=h({destroy:o,touch:!0},i.plotBox)),e.pinchTranslate(s,a,c,m,p,n),e.hasPinched=l,e.scaleGroups(c,p)}),e.res&&(e.res=!1,this.reset(!1,0)))}pinchTranslate(t,e,i,s,a,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,s,a,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,s,a,o)}pinchTranslateDirection(t,e,i,s,a,o,r,n){const l=this.chart,c=t?"x":"y",h=t?"X":"Y",d="chart"+h,u=t?"width":"height",p=l["plot"+(t?"Left":"Top")],f=l.inverted,m=l.bounds[t?"h":"v"],g=1===e.length,v=e[0][d],x=!g&&e[1][d];e=function(){"number"===typeof C&&20<Math.abs(v-x)&&(k=n||Math.abs(S-C)/Math.abs(v-x)),b=(p-S)/k+v,y=l["plot"+(t?"Width":"Height")]/k};let y,b,w,k=n||1,S=i[0][d],C=!g&&i[1][d];e(),i=b,i<m.min?(i=m.min,w=!0):i+y>m.max&&(i=m.max-y,w=!0),w?(S-=.8*(S-r[c][0]),"number"===typeof C&&(C-=.8*(C-r[c][1])),e()):r[c]=[S,C],f||(o[c]=b-p,o[u]=y),o=f?1/k:k,a[u]=y,a[c]=i,s[f?t?"scaleY":"scaleX":"scale"+h]=k,s["translate"+h]=o*p+(S-o*v)}reset(t,e){const i=this.chart,s=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,r=i.tooltip,n=r&&r.shared?o:a;t&&n&&x(n).forEach((function(e){e.series.isCartesian&&"undefined"===typeof e.plotX&&(t=!1)})),t?r&&n&&x(n).length&&(r.refresh(n),r.shared&&o?o.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):a&&(a.setState(a.state,!0),i.axes.forEach((function(t){t.crosshair&&a.series[t.coll]===t&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),o&&o.forEach((function(t){t.setState()})),s&&s.onMouseOut(),r&&r.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)}runPointActions(t,e,i){const s=this.chart,o=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,n=!!o&&o.shared;let l=e||s.hoverPoint,c=l&&l.series||s.hoverSeries;e=this.getHoverData(l,c,s.series,(!t||"touchmove"!==t.type)&&(!!e||c&&c.directTouch&&this.isDirectTouch),n,t),l=e.hoverPoint,c=e.hoverSeries;const h=e.hoverPoints;e=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split;const u=n&&c&&!c.noSharedTooltip;if(l&&(i||l!==s.hoverPoint||o&&o.isHidden)){if((s.hoverPoints||[]).forEach((function(t){-1===h.indexOf(t)&&t.setState()})),s.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(h),(h||[]).forEach((function(t){t.setState("hover")})),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!l.series)return;s.hoverPoints=h,s.hoverPoint=l,l.firePointEvent("mouseOver",void 0,()=>{o&&l&&o.refresh(u?h:l,t)})}else e&&o&&!o.isHidden&&(i=o.getAnchor([{}],t),s.isInsidePlot(i[0],i[1],{visiblePlotOnly:!0})&&o.updatePosition({plotX:i[0],plotY:i[1]}));this.unDocMouseMove||(this.unDocMouseMove=r(s.container.ownerDocument,"mousemove",(function(t){const e=a[y.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),s.axes.forEach((function(e){const i=v((e.crosshair||{}).snap,!0);let a;i&&((a=s.hoverPoint)&&a.series[e.coll]===e||(a=d(h,t=>t.series&&t.series[e.coll]===e))),a||!i?e.drawCrosshair(t,a):e.hideCrosshair()}))}scaleGroups(t,e){const i=this.chart;i.series.forEach((function(s){const a=t||s.getPlotBox();s.group&&(s.xAxis&&s.xAxis.zoomEnabled||i.mapView)&&(s.group.attr(a),s.markerGroup&&(s.markerGroup.attr(a),s.markerGroup.clip(e?i.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(a))})),i.clipRect.attr(e||i.clipBox)}setDOMEvents(){const t=this.chart.container,i=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(r(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(r(t,"mouseleave",this.onContainerMouseLeave.bind(this))),y.unbindDocumentMouseUp||(y.unbindDocumentMouseUp=r(i,"mouseup",this.onDocumentMouseUp.bind(this)));let s=this.chart.renderTo.parentElement;for(;s&&"BODY"!==s.tagName;)this.eventsToUnbind.push(r(s,"scroll",()=>{delete this.chartPosition})),s=s.parentElement;e.hasTouch&&(this.eventsToUnbind.push(r(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(r(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),y.unbindDocumentTouchEnd||(y.unbindDocumentTouchEnd=r(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const t=this.chart,i=e.charts[v(y.hoverChartIndex,-1)];i&&i!==t&&i.pointer.onContainerMouseLeave({relatedTarget:t.container}),i&&i.mouseIsDown||(y.hoverChartIndex=t.index)}touch(t,e){const i=this.chart;let s,a;this.setHoverChartIndex(),1===t.touches.length?(t=this.normalize(t),(a=i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop,{visiblePlotOnly:!0}))&&!i.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(e=this.pinchDown,s=!!e[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),v(s,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.options.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){var e=this.chart,i=e.options.chart;e=e.inverted;let s=i.zooming.type||"";/touch/.test(t.type)&&(s=v(i.zooming.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i}}return function(t){const e=[],s=[];t.compose=function(e){i.pushUnique(s,e)&&r(e,"beforeRender",(function(){this.pointer=new t(this,this.options)}))},t.dissolve=function(){for(let t=0,i=e.length;t<i;++t)e[t]();e.length=0}}(y||(y={})),y})),e(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{animObject:r,setAnimation:n}=t,{format:l}=e,{marginNames:c}=i,{distribute:h}=a,{addEvent:d,createElement:u,css:p,defined:f,discardElement:m,find:g,fireEvent:v,isNumber:x,merge:y,pick:b,relativeLength:w,stableSort:k,syncTimeout:S}=o;class C{constructor(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}init(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),d(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),d(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(t){const e=b(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=y(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=b(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){const i=this.chart;this.setOptions(y(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,b(e,!0)&&i.redraw(),v(this,"afterUpdate")}colorizeItem(t,e){const{group:i,label:s,line:a,symbol:o}=t.legendItem||{};if(i&&i[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var r=this.options;const i=this.itemHiddenStyle.color;r=e?r.itemStyle.color:i;const n=e&&t.color||i,l=t.options&&t.options.marker;let c={fill:n};s&&s.css({fill:r}),a&&a.attr({stroke:n}),o&&(l&&o.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=i)),o.attr(c))}v(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){const{group:e,x:i=0,y:s=0}=t.legendItem||{};var a=this.options,o=a.symbolPadding;const r=!a.rtl;a=t.checkbox,e&&e.element&&(o={translateX:r?i:this.legendWidth-i-2*o-4,translateY:s},e[f(e.translateY)?"animate":"attr"](o,void 0,()=>{v(this,"afterPositionItem",{item:t})})),a&&(a.x=i,a.y=s)}destroyItem(t){const e=t.checkbox,i=t.legendItem||{};for(const s of["group","label","line","symbol"])i[s]&&(i[s]=i[s].destroy());e&&m(e),t.legendItem=void 0}destroy(){for(const t of this.getAllItems())this.destroyItem(t);for(const t of"clipRect up down pager nav box title group".split(" "))this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){const t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,i=this.titleHeight;let s;t&&(s=t.translateY,this.allItems.forEach((function(a){const o=a.checkbox;let r;o&&(r=s+i+o.y+(this.scrollOffset||0)+3,p(o,{left:t.translateX+a.checkboxOffset+o.x-20+"px",top:r+"px",display:this.proximate||r>s-6&&r<s+e-6?"":"none"}))}),this))}renderTitle(){var t=this.options;const e=this.padding,i=t.title;let s=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),t=this.title.getBBox(),s=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:s})),this.titleHeight=s}setText(t){const e=this.options;t.legendItem.label.attr({text:e.labelFormat?l(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){const e=t.legendItem=t.legendItem||{};var i=this.chart,s=i.renderer;const a=this.options,o=this.symbolWidth,r=a.symbolPadding||0,n=this.itemStyle,l=this.itemHiddenStyle,c="horizontal"===a.layout?b(a.itemDistance,20):0,h=!a.rtl,d=!t.series,u=!d&&t.series.drawLegendSymbol?t.series:t;var p=u.options;const f=this.createCheckboxForItem&&p&&p.showCheckbox,m=a.useHTML,g=t.options.className;let v=e.label;p=o+r+c+(f?20:0),v||(e.group=s.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+t.colorIndex+(g?" "+g:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=v=s.text("",h?o+r:-r,this.baseline||0,m),i.styledMode||v.css(y(t.visible?n:l)),v.attr({align:h?"left":"right",zIndex:2}).add(e.group),this.baseline||(this.fontMetrics=s.fontMetrics(v),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,v.attr("y",this.baseline),this.symbolHeight=b(a.symbolHeight,this.fontMetrics.f),a.squareSymbol&&(this.symbolWidth=b(a.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+r+c+(f?20:0),h&&v.attr("x",this.symbolWidth+r))),u.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,m)),f&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!i.styledMode&&n.width||v.css({width:(a.itemWidth||this.widthOption||i.spacingBox.width)-p+"px"}),this.setText(t),i=v.getBBox(),s=this.fontMetrics&&this.fontMetrics.h||0,t.itemWidth=t.checkboxOffset=a.itemWidth||e.labelWidth||i.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(i.height>1.5*s?i.height:s))}layoutItem(t){var e=this.options;const i=this.padding,s="horizontal"===e.layout,a=t.itemHeight,o=this.itemMarginBottom,r=this.itemMarginTop,n=s?b(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;const c=t.legendItem||{};s&&this.itemX-i+e>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=r+this.lastLineHeight+o),this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(a,this.lastLineHeight),c.x=this.itemX,c.y=this.itemY,s?this.itemX+=e:(this.itemY+=r+a+o,this.lastLineHeight=a),this.offsetWidth=this.widthOption||Math.max((s?this.itemX-i-(t.checkbox?0:n):e)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach((function(e){const i=e&&e.options;e&&b(i.showInLegend,!f(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||("point"===i.legendType?e.data:e)))})),v(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){const t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){const i=this.chart,s=this.options,a=this.getAlignment();a&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(o,r){o.test(a)&&!f(t[r])&&(i[c[r]]=Math.max(i[c[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*s[r%2?"x":"y"]+b(s.margin,12)+e[r]+(i.titleOffset[r]||0)))}))}proximatePositions(){const t=this.chart,e=[],i="left"===this.options.align;let s;this.allItems.forEach((function(s){var a,o=i;let r;s.yAxis&&(s.xAxis.options.reversed&&(o=!o),s.points&&(a=g(o?s.points:s.points.slice(0).reverse(),(function(t){return x(t.plotY)}))),o=this.itemMarginTop+s.legendItem.label.getBBox().height+this.itemMarginBottom,r=s.yAxis.top-t.plotTop,s.visible?(a=a?a.plotY:s.yAxis.height,a+=r-.3*o):a=r+s.yAxis.height,e.push({target:a,size:o,item:s}))}),this);for(const a of h(e,t.plotHeight))s=a.item.legendItem||{},x(a.pos)&&(s.y=t.plotTop-t.spacing[0]+a.pos)}render(){const t=this.chart,e=t.renderer,i=this.options,s=this.padding;var a=this.getAllItems();let o,r=this.group,n=this.box;this.itemX=s,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=w(i.width,t.spacingBox.width-s);var l=t.spacingBox.width-2*s-i.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(l/=2),this.maxLegendWidth=this.widthOption||l,r||(this.group=r=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(r),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),k(a,(t,e)=>(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)),i.reversed&&a.reverse(),this.allItems=a,this.display=l=!!a.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,a.forEach(this.renderItem,this),a.forEach(this.layoutItem,this),a=(this.widthOption||this.offsetWidth)+s,o=this.lastItemY+this.lastLineHeight+this.titleHeight,o=this.handleOverflow(o),o+=s,n||(this.box=n=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(r)),t.styledMode||n.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),0<a&&0<o&&n[n.placed?"animate":"attr"](n.crisp.call({},{x:0,y:0,width:a,height:o},n.strokeWidth())),r[l?"show":"hide"](),t.styledMode&&"none"===r.getStyle("display")&&(a=o=0),this.legendWidth=a,this.legendHeight=o,l&&this.align(),this.proximate||this.positionItems(),v(this,"afterRender")}align(t=this.chart.spacingBox){const e=this.chart,i=this.options;let s=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?s+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(s-=e.titleOffset[2]),s!==t.y&&(t=y(t,{y:s})),e.hasRendered||(this.group.placed=!1),this.group.align(y(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){const e=this,i=this.chart,s=i.renderer,a=this.options;var o=a.y;const r="top"===a.verticalAlign,n=this.padding,l=a.maxHeight,c=a.navigation,h=b(c.animation,!0),d=c.arrowSize||12,u=this.pages,p=this.allItems,f=function(t){"number"===typeof t?w.attr({height:t}):w&&(e.clipRect=w.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+n+"px,9999px,"+(n+t)+"px,0)":"auto")},m=function(t){return e[t]=s.circle(0,0,1.3*d).translate(d/2,d/2).add(y),i.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};let g,v,x;o=i.spacingBox.height+(r?-o:o)-n;let y=this.nav,w=this.clipRect;return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(o/=2),l&&(o=Math.min(o,l)),u.length=0,t&&0<o&&t>o&&!1!==c.enabled?(this.clipHeight=g=Math.max(o-20-this.titleHeight-n,0),this.currentPage=b(this.currentPage,1),this.fullHeight=t,p.forEach((t,e)=>{x=t.legendItem||{},t=x.y||0;const i=Math.round(x.label.getBBox().height);let s=u.length;(!s||t-u[s-1]>g&&(v||t)!==u[s-1])&&(u.push(v||t),s++),x.pageIx=s-1,v&&((p[e-1].legendItem||{}).pageIx=s-1),e===p.length-1&&t+i-u[s-1]>g&&t>u[s-1]&&(u.push(t),x.pageIx=s),t!==v&&(v=t)}),w||(w=e.clipRect=s.clipRect(0,n-2,9999,0),e.contentGroup.clip(w)),f(g),y||(this.nav=y=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,d,d).add(y),m("upTracker").on("click",(function(){e.scroll(-1,h)})),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&c.style&&this.pager.css(c.style),this.pager.add(y),this.down=s.symbol("triangle-down",0,0,d,d).add(y),m("downTracker").on("click",(function(){e.scroll(1,h)}))),e.scroll(0),t=o):y&&(f(),this.nav=y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){const i=this.chart,s=this.pages,a=s.length,o=this.clipHeight,l=this.options.navigation,c=this.pager,h=this.padding;let d=this.currentPage+t;d>a&&(d=a),0<d&&("undefined"!==typeof e&&n(e,i),this.nav.attr({translateX:h,translateY:o+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:d+"/"+a}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:d===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),i.styledMode||(this.up.attr({fill:1===d?l.inactiveColor:l.activeColor}),this.upTracker.css({cursor:1===d?"default":"pointer"}),this.down.attr({fill:d===a?l.inactiveColor:l.activeColor}),this.downTracker.css({cursor:d===a?"default":"pointer"})),this.scrollOffset=-s[d-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=d,this.positionCheckboxes(),t=r(b(e,i.renderer.globalAnimation,!0)),S(()=>{v(this,"afterScroll",{currentPage:d})},t.duration))}setItemEvents(t,e,i){const a=this,o=t.legendItem||{},r=a.chart.renderer.boxWrapper,n=t instanceof s,l="highcharts-legend-"+(n?"point":"series")+"-active",c=a.chart.styledMode;i=i?[e,o.symbol]:[o.group];const h=e=>{a.allItems.forEach(i=>{t!==i&&[i].concat(i.linkedSeries||[]).forEach(t=>{t.setState(e,!n)})})};for(const s of i)s&&s.on("mouseover",(function(){t.visible&&h("inactive"),t.setState("hover"),t.visible&&r.addClass(l),c||e.css(a.options.itemHoverStyle)})).on("mouseout",(function(){a.chart.styledMode||e.css(y(t.visible?a.itemStyle:a.itemHiddenStyle)),h(""),r.removeClass(l),t.setState()})).on("click",(function(e){const i=function(){t.setVisible&&t.setVisible(),h(t.visible?"inactive":"")};r.removeClass(l),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):v(t,"legendItemClick",e,i)}))}createCheckboxForItem(t){t.checkbox=u("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),d(t.checkbox,"click",(function(e){v(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}return function(t){const e=[];t.compose=function(i){o.pushUnique(e,i)&&d(i,"beforeMargins",(function(){this.legend=new t(this,this.options.legend)}))}}(C||(C={})),C})),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{defaultOptions:a}=e,{extendClass:o,merge:r}=s;var n;return function(e){function s(t,s){const o=a.plotOptions||{},r=s.defaultOptions,n=s.prototype;n.type=t,n.pointClass||(n.pointClass=i),r&&(o[t]=r),e.seriesTypes[t]=s}e.seriesTypes=t.seriesTypes,e.registerSeriesType=s,e.seriesType=function(t,n,l,c,h){const d=a.plotOptions||{};return n=n||"",d[t]=r(d[n],l),s(t,o(e.seriesTypes[n]||function(){},c)),e.seriesTypes[t].prototype.type=t,h&&(e.seriesTypes[t].prototype.pointClass=o(i,h)),e.seriesTypes[t]}}(n||(n={})),n})),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],(function(t,e,i,s,a,o,r,n,l,c,h,d){const{animate:u,animObject:p,setAnimation:f}=t,{defaultOptions:m,defaultTime:g}=i,{numberFormat:v}=s,{registerEventOptions:x}=a,{charts:y,doc:b,marginNames:w,svg:k,win:S}=o,{seriesTypes:C}=n,{addEvent:A,attr:T,cleanRecursively:I,createElement:M,css:L,defined:P,discardElement:_,erase:O,error:D,extend:E,find:F,fireEvent:B,getStyle:N,isArray:z,isNumber:R,isObject:$,isString:H,merge:W,objectEach:j,pick:X,pInt:Y,relativeLength:V,removeEvent:q,splat:G,syncTimeout:U,uniqueKey:Z}=h;class K{static chart(t,e,i){return new K(t,e,i)}constructor(t,e,i){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(t,e,i)}getArgs(t,e,i){H(t)||t.nodeName?(this.renderTo=t,this.init(e,i)):this.init(t,e)}init(t,e){const i=t.plotOptions||{};B(this,"init",{args:arguments},(function(){const s=W(m,t),a=s.chart;j(s.plotOptions,(function(t,e){$(t)&&(t.tooltip=i[e]&&W(i[e].tooltip)||void 0)})),s.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,this.userOptions=t,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0;const r=a.zooming=a.zooming||{};t.chart&&!t.chart.zooming&&(r.resetButton=a.resetZoomButton),r.key=X(r.key,a.zoomKey),r.pinchType=X(r.pinchType,a.pinchType),r.singleTouch=X(r.singleTouch,a.zoomBySingleTouch),r.type=X(r.type,a.zoomType),this.options=s,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new c(t.time):o.time,this.numberFormatter=a.numberFormatter||v,this.styledMode=a.styledMode,this.hasCartesianSeries=a.showAxes,this.index=y.length,y.push(this),o.chartCount++,x(this,a),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,B(this,"afterInit"),this.firstRender()}))}initSeries(t){var e=this.options.chart;e=t.type||e.type;const i=C[e];return i||D(17,!0,this,{missingModuleFor:e}),e=new i,"function"===typeof e.init&&e.init(this,t),e}setSeriesData(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))}orderSeries(t){const e=this.series;for(let i=t||0,s=e.length;i<s;++i)e[i]&&(e[i].index=i,e[i].name=e[i].getName())}isInsidePlot(t,e,i={}){const{inverted:s,plotBox:a,plotLeft:o,plotTop:r,scrollablePlotBox:n}=this;var l=0;let c=0;i.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:l,scrollTop:c}=this.scrollingContainer);const h=i.series,d=i.visiblePlotOnly&&n||a;var u=i.inverted?e:t;if(e=i.inverted?t:e,t={x:u,y:e,isInsidePlot:!0,options:i},!i.ignoreX){const e=h&&(s&&!this.polar?h.yAxis:h.xAxis)||{pos:o,len:1/0};u=i.paneCoordinates?e.pos+u:o+u,u>=Math.max(l+o,e.pos)&&u<=Math.min(l+o+d.width,e.pos+e.len)||(t.isInsidePlot=!1)}return!i.ignoreY&&t.isInsidePlot&&(l=!s&&i.axis&&!i.axis.isXAxis&&i.axis||h&&(s?h.xAxis:h.yAxis)||{pos:r,len:1/0},i=i.paneCoordinates?l.pos+e:r+e,i>=Math.max(c+r,l.pos)&&i<=Math.min(c+r+d.height,l.pos+l.len)||(t.isInsidePlot=!1)),B(this,"afterIsInsidePlot",t),t.isInsidePlot}redraw(t){B(this,"beforeRedraw");const e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,s=this.pointer,a=this.legend,o=this.userOptions.legend,r=this.renderer,n=r.isHidden(),l=[];let c,h,d,u=this.isDirtyBox,p=this.isDirtyLegend;for(r.rootFontSize=r.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),f(!!this.hasRendered&&t,this),n&&this.temporaryDisplay(),this.layOutTitles(),t=i.length;t--;)if(d=i[t],(d.options.stacking||d.options.centerInCategory)&&(h=!0,d.isDirty)){c=!0;break}if(c)for(t=i.length;t--;)d=i[t],d.options.stacking&&(d.isDirty=!0);i.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"===typeof t.updateTotals&&t.updateTotals(),p=!0):o&&(o.labelFormatter||o.labelFormat)&&(p=!0)),t.isDirtyData&&B(t,"updatedData")})),p&&a&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),h&&this.getStacks(),e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),e.forEach((function(t){t.isDirty&&(u=!0)})),e.forEach((function(t){const e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,l.push((function(){B(t,"afterSetExtremes",E(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(u||h)&&t.redraw()})),u&&this.drawChartBox(),B(this,"predraw"),i.forEach((function(t){(u||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),s&&s.reset(!0),r.draw(),B(this,"redraw"),B(this,"render"),n&&this.temporaryDisplay(!0),l.forEach((function(t){t.call()}))}get(t){function e(e){return e.id===t||e.options&&e.options.id===t}const i=this.series;let s=F(this.axes,e)||F(this.series,e);for(let a=0;!s&&a<i.length;a++)s=F(i[a].points||[],e);return s}getAxes(){const t=this;var i=this.options;const s=i.xAxis=G(i.xAxis||{});i=i.yAxis=G(i.yAxis||{}),B(this,"getAxes"),s.forEach((function(t,e){t.index=e,t.isX=!0})),i.forEach((function(t,e){t.index=e})),s.concat(i).forEach((function(i){new e(t,i)})),B(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(e=>{X(e.selectedStaging,e.selected)&&t.push(e)}),t),[])}getSelectedSeries(){return this.series.filter((function(t){return t.selected}))}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){const i=this;var s="title"===t?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};s=this.options[t]=W(!this.styledMode&&{style:s},this.options[t],e);let a=this[t];a&&e&&(this[t]=a=a.destroy()),s&&!a&&(a=this.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+t,zIndex:s.zIndex||4}).add(),a.update=function(e){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||a.css(s.style),this[t]=a)}layOutTitles(t){const e=[0,0,0],i=this.renderer,s=this.spacingBox;["title","subtitle","caption"].forEach((function(t){const a=this[t],o=this.options[t],r=o.verticalAlign||"top";if(t="title"===t?"top"===r?-3:0:"top"===r?e[0]+2:0,a){a.css({width:(o.width||s.width+(o.widthAdjust||0))+"px"});const n=i.fontMetrics(a).b,l=Math.round(a.getBBox(o.useHTML).height);a.align(E({y:"bottom"===r?n:t+n,height:l},o),!1,"spacingBox"),o.floating||("top"===r?e[0]=Math.ceil(e[0]+l):"bottom"===r&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);const a=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,B(this,"afterLayOutTitles"),!this.isDirtyBox&&a&&(this.isDirtyBox=this.isDirtyLegend=a,this.hasRendered&&X(t,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:N(this.renderTo,"width",!0)||0,height:N(this.renderTo,"height",!0)||0}}getChartSize(){var t=this.options.chart;const e=t.width;t=t.height;const i=this.getContainerBox();this.chartWidth=Math.max(0,e||i.width||600),this.chartHeight=Math.max(0,V(t,this.chartWidth)||(1<i.height?i.height:400)),this.containerBox=i}temporaryDisplay(t){let e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(L(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(b.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style;)if(b.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,b.body.appendChild(e)),("none"===N(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),L(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),e=e.parentNode,e===b.body)break}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){const t=this.options,e=t.chart;var i=Z();let s,a=this.renderTo;a||(this.renderTo=a=e.renderTo),H(a)&&(this.renderTo=a=b.getElementById(a)),a||D(13,!0,this);var o=Y(T(a,"data-highcharts-chart"));R(o)&&y[o]&&y[o].hasRendered&&y[o].destroy(),T(a,"data-highcharts-chart",this.index),a.innerHTML=d.emptyHTML,e.skipClone||a.offsetWidth||this.temporaryDisplay(),this.getChartSize(),o=this.chartWidth;const n=this.chartHeight;if(L(a,{overflow:"hidden"}),this.styledMode||(s=E({position:"relative",overflow:"hidden",width:o+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},e.style||{})),this.container=i=M("div",{id:i},s,a),this._cursor=i.style.cursor,this.renderer=new(e.renderer||!k?r.getRendererType(e.renderer):l)(i,o,n,void 0,e.forExport,t.exporting&&t.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),f(void 0,this),this.setClassName(e.className),this.styledMode)for(const r in t.defs)this.renderer.definition(t.defs[r]);else this.renderer.setStyle(e.style);this.renderer.chartIndex=this.index,B(this,"afterGetContainer")}getMargins(t){const{spacing:e,margin:i,titleOffset:s}=this;this.resetMargins(),s[0]&&!P(i[0])&&(this.plotTop=Math.max(this.plotTop,s[0]+e[0])),s[2]&&!P(i[2])&&(this.marginBottom=Math.max(this.marginBottom,s[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),B(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){const t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,s=t.margin,a=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?a(t.axes):i&&i.length&&a(i),w.forEach((function(i,a){P(s[a])||(t[i]+=e[a])})),t.setChartSize()}reflow(t){const e=this;var i=e.options.chart;i=P(i.width)&&P(i.height);const s=e.containerBox,a=e.getContainerBox();delete e.pointer.chartPosition,!i&&!e.isPrinting&&s&&a.width&&(a.width===s.width&&a.height===s.height||(h.clearTimeout(e.reflowTimeout),e.reflowTimeout=U((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerBox=a)}setReflow(){const t=this;var e=e=>{var i;null!==(i=t.options)&&void 0!==i&&i.chart.reflow&&t.hasLoaded&&t.reflow(e)};"function"===typeof ResizeObserver?new ResizeObserver(e).observe(t.renderTo):(e=A(S,"resize",e),A(this,"destroy",e))}setSize(t,e,i){const s=this,a=s.renderer;s.isResizing+=1,f(i,s),i=a.globalAnimation,s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,"undefined"!==typeof t&&(s.options.chart.width=t),"undefined"!==typeof e&&(s.options.chart.height=e),s.getChartSize(),s.styledMode||(i?u:L)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},i),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,i),s.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,B(s,"resize"),U((function(){s&&B(s,"endResize",null,(function(){--s.isResizing}))}),p(i).duration)}setChartSize(t){var e=this.inverted;const i=this.renderer;var s=this.chartWidth,a=this.chartHeight;const o=this.options.chart,r=this.spacing,n=this.clipOffset;let l,c,h,d;this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=h=Math.max(0,Math.round(s-l-this.marginRight)),this.plotHeight=d=Math.max(0,Math.round(a-c-this.marginBottom)),this.plotSizeX=e?d:h,this.plotSizeY=e?h:d,this.plotBorderWidth=o.plotBorderWidth||0,this.spacingBox=i.spacingBox={x:r[3],y:r[0],width:s-r[3]-r[1],height:a-r[0]-r[2]},this.plotBox=i.plotBox={x:l,y:c,width:h,height:d},e=2*Math.floor(this.plotBorderWidth/2),s=Math.ceil(Math.max(e,n[3])/2),a=Math.ceil(Math.max(e,n[0])/2),this.clipBox={x:s,y:a,width:Math.floor(this.plotSizeX-Math.max(e,n[1])/2-s),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,n[2])/2-a))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),i.alignElements()),B(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){B(this,"resetMargins");const t=this,e=t.options.chart;["margin","spacing"].forEach((function(i){const s=e[i],a=$(s)?s:[s,s,s,s];["Top","Right","Bottom","Left"].forEach((function(s,o){t[i][o]=X(e[i+s],a[o])}))})),w.forEach((function(e,i){t[e]=X(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]}drawChartBox(){const t=this.options.chart,e=this.renderer,i=this.chartWidth,s=this.chartHeight,a=this.styledMode,o=this.plotBGImage;var r=t.backgroundColor;const n=t.plotBackgroundColor,l=t.plotBackgroundImage,c=this.plotLeft,h=this.plotTop,d=this.plotWidth,u=this.plotHeight,p=this.plotBox,f=this.clipRect,m=this.clipBox;let g,v,x=this.chartBackground,y=this.plotBackground,b=this.plotBorder,w="animate";x||(this.chartBackground=x=e.rect().addClass("highcharts-background").add(),w="attr"),a?g=v=x.strokeWidth():(g=t.borderWidth||0,v=g+(t.shadow?8:0),r={fill:r||"none"},(g||x["stroke-width"])&&(r.stroke=t.borderColor,r["stroke-width"]=g),x.attr(r).shadow(t.shadow)),x[w]({x:v/2,y:v/2,width:i-v-g%2,height:s-v-g%2,r:t.borderRadius}),w="animate",y||(w="attr",this.plotBackground=y=e.rect().addClass("highcharts-plot-background").add()),y[w](p),a||(y.attr({fill:n||"none"}).shadow(t.plotShadow),l&&(o?(l!==o.attr("href")&&o.attr("href",l),o.animate(p)):this.plotBGImage=e.image(l,c,h,d,u).add())),f?f.animate({width:m.width,height:m.height}):this.clipRect=e.clipRect(m),w="animate",b||(w="attr",this.plotBorder=b=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),a||b.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),b[w](b.crisp({x:c,y:h,width:d,height:u},-b.strokeWidth())),this.isDirtyBox=!1,B(this,"afterDrawChartBox")}propFromSeries(){const t=this,e=t.options.chart,i=t.options.series;let s,a,o;["inverted","angular","polar"].forEach((function(r){for(a=C[e.type],o=e[r]||a&&a.prototype[r],s=i&&i.length;!o&&s--;)(a=C[i[s].type])&&a.prototype[r]&&(o=!0);t[r]=o}))}linkSeries(t){const e=this,i=e.series;i.forEach((function(t){t.linkedSeries.length=0})),i.forEach((function(t){let i=t.options.linkedTo;H(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,i.enabledDataSorting&&t.setDataSortingOptions(),t.visible=X(t.options.visible,i.options.visible,t.visible))})),B(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach((function(t){t.translate(),t.render()}))}render(){const t=this.axes,e=this.colorAxis,i=this.renderer,s=function(t){t.forEach((function(t){t.visible&&t.render()}))};let a=0;this.setTitle(),B(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const o=this.plotWidth;t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return a=21,!0}));const r=this.plotHeight=Math.max(this.plotHeight-a,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();const n=1.1<o/this.plotWidth,l=1.05<r/this.plotHeight;(n||l)&&(t.forEach((function(t){(t.horiz&&n||!t.horiz&&l)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?s(t):e&&e.length&&s(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){const e=this,i=W(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){i.href&&(S.location.href=i.href)})).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})}destroy(){const t=this,e=t.axes,i=t.series,s=t.container,a=s&&s.parentNode;let r;for(B(t,"destroy"),t.renderer.forExport?O(y,t):y[t.index]=void 0,o.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),q(t),r=e.length;r--;)e[r]=e[r].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),r=i.length;r--;)i[r]=i[r].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){const i=t[e];i&&i.destroy&&(t[e]=i.destroy())})),s&&(s.innerHTML=d.emptyHTML,q(s),a&&_(s)),j(t,(function(e,i){delete t[i]}))}firstRender(){const t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(z(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),B(t,"beforeRender"),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(t){t&&"undefined"!==typeof this.index&&t.apply(this,[this])}),this),B(this,"load"),B(this,"render"),P(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||D('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){const s=this;let a;return t&&(e=X(e,!0),B(s,"addSeries",{options:t},(function(){a=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),a.enabledDataSorting&&a.setData(t.data,!1),B(s,"afterAddSeries",{series:a}),e&&s.redraw(i)}))),a}addAxis(t,e,i,s){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:s})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,i){return t=new e(this,W(i.axis,{index:this[t].length,isX:"xAxis"===t})),X(i.redraw,!0)&&this.redraw(i.animation),t}showLoading(t){const e=this,i=e.options,s=i.loading,a=function(){o&&L(o,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};let o=e.loadingDiv,r=e.loadingSpan;o||(e.loadingDiv=o=M("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),r||(e.loadingSpan=r=M("span",{className:"highcharts-loading-inner"},null,o),A(e,"redraw",a)),o.className="highcharts-loading",d.setElementHTML(r,X(t,i.lang.loading,"")),e.styledMode||(L(o,E(s.style,{zIndex:10})),L(r,s.labelStyle),e.loadingShown||(L(o,{opacity:0,display:""}),u(o,{opacity:s.style.opacity||.5},{duration:s.showDuration||0}))),e.loadingShown=!0,a()}hideLoading(){const t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||u(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){L(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,s){const a=this,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},r=t.isResponsiveOptions,n=[];let l,h;B(a,"update",{options:t}),r||a.setResponsive(!1,!0),t=I(t,a.options),a.userOptions=W(a.userOptions,t);var d=t.chart;if(d){if(W(!0,a.options.chart,d),"className"in d&&a.setClassName(d.className),"inverted"in d||"polar"in d||"type"in d){a.propFromSeries();var u=!0}"alignTicks"in d&&(u=!0),"events"in d&&x(this,d),j(d,(function(t,e){-1!==a.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==a.propsRequireDirtyBox.indexOf(e)&&(a.isDirtyBox=!0),-1!==a.propsRequireReflow.indexOf(e)&&(r?a.isDirtyBox=!0:h=!0)})),!a.styledMode&&d.style&&a.renderer.setStyle(a.options.chart.style||{})}!a.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===g&&(this.time=new c(t.time)),W(!0,a.options.time,t.time)),j(t,(function(e,i){a[i]&&"function"===typeof a[i].update?a[i].update(e,!1):"function"===typeof a[o[i]]?a[o[i]](e):"colors"!==i&&-1===a.collectionsWithUpdate.indexOf(i)&&W(!0,a.options[i],t[i]),"chart"!==i&&-1!==a.propsRequireUpdateSeries.indexOf(i)&&(l=!0)})),this.collectionsWithUpdate.forEach((function(e){let s;t[e]&&(s=[],a[e].forEach((function(t,e){t.options.isInternal||s.push(X(t.options.index,e))})),G(t[e]).forEach((function(t,o){const r=P(t.id);let n;r&&(n=a.get(t.id)),!n&&a[e]&&(n=a[e][s?s[o]:o])&&r&&P(n.options.id)&&(n=void 0),n&&n.coll===e&&(n.update(t,!1),i&&(n.touched=!0)),!n&&i&&a.collectionsWithInit[e]&&(a.collectionsWithInit[e][0].apply(a,[t].concat(a.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),i&&a[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:n.push(t)})))})),n.forEach((function(t){t.chart&&t.remove&&t.remove(!1)})),u&&a.axes.forEach((function(t){t.update({},!1)})),l&&a.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),u=d&&d.width,d=d&&(H(d.height)?V(d.height,u||a.chartWidth):d.height),h||R(u)&&u!==a.chartWidth||R(d)&&d!==a.chartHeight?a.setSize(u,d,s):X(e,!0)&&a.redraw(s),B(a,"afterUpdate",{options:t,redraw:e,animation:s})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){function t(){e.zoomOut()}const e=this,i=m.lang,s=e.options.chart.zooming.resetButton,a=s.theme,o="chart"===s.relativeTo||"spacingBox"===s.relativeTo?null:"scrollablePlotBox";B(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,a).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,o)})),B(this,"afterShowResetZoom")}zoomOut(){B(this,"selection",{resetSelection:!0},this.zoom)}zoom(t){const e=this,i=e.pointer;let s,a=!1;!t||t.resetSelection?(e.axes.forEach((function(t){s=t.zoom()})),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){const o=t.axis;(i[o.isXAxis?"zoomX":"zoomY"]&&P(i.mouseDownX)&&P(i.mouseDownY)&&e.isInsidePlot(i.mouseDownX-e.plotLeft,i.mouseDownY-e.plotTop,{axis:o})||!P(e.inverted?i.mouseDownX:i.mouseDownY))&&(s=o.zoom(t.min,t.max),o.displayBtn&&(a=!0))}));const o=e.resetZoomButton;a&&!o?e.showResetZoom():!a&&$(o)&&(e.resetZoomButton=o.destroy()),s&&e.redraw(X(e.options.chart.animation,t&&t.animation,100>e.pointCount))}pan(t,e){const i=this,s=i.hoverPoints;e="object"===typeof e?e:{enabled:e,type:"x"};const a=i.options.chart;a&&a.panning&&(a.panning=e);const o=e.type;let r;B(this,"pan",{originalEvent:t},(function(){s&&s.forEach((function(t){t.setState()}));let e=i.xAxis;"xy"===o?e=e.concat(i.yAxis):"y"===o&&(e=i.yAxis);const a={};e.forEach((function(e){if(e.options.panningEnabled&&!e.options.isInternal){var s=e.horiz,n=t[s?"chartX":"chartY"];s=s?"mouseDownX":"mouseDownY";var l=i[s],c=e.minPointOffset||0,h=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,d=e.getExtremes(),u=e.toValue(l-n,!0)+c*h,p=e.toValue(l+e.len-n,!0)-(c*h||e.isXAxis&&e.pointRangePadding||0),f=p<u;h=e.hasVerticalPanning(),l=f?p:u,u=f?u:p;var m=e.panningState;!h||e.isXAxis||m&&!m.isDirty||e.series.forEach((function(t){var e=t.getProcessedData(!0);e=t.getExtremes(e.yData,!0),m||(m={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),R(e.dataMin)&&R(e.dataMax)&&(m.startMin=Math.min(X(t.options.threshold,1/0),e.dataMin,m.startMin),m.startMax=Math.max(X(t.options.threshold,-1/0),e.dataMax,m.startMax))})),h=Math.min(X(m&&m.startMin,d.dataMin),c?d.min:e.toValue(e.toPixels(d.min)-e.minPixelPadding)),p=Math.max(X(m&&m.startMax,d.dataMax),c?d.max:e.toValue(e.toPixels(d.max)+e.minPixelPadding)),e.panningState=m,e.isOrdinal||(c=h-l,0<c&&(u+=c,l=h),c=u-p,0<c&&(u=p,l-=c),e.series.length&&l!==d.min&&u!==d.max&&l>=h&&u<=p&&(e.setExtremes(l,u,!1,!1,{trigger:"pan"}),!i.resetZoomButton&&l!==h&&u!==p&&o.match("y")&&(i.showResetZoom(),e.displayBtn=!1),r=!0),a[s]=n)}})),j(a,(t,e)=>{i[e]=t}),r&&i.redraw(!1),L(i.container,{cursor:"move"})}))}}return E(K.prototype,{callbacks:[],collectionsWithInit:{xAxis:[K.prototype.addAxis,[!0]],yAxis:[K.prototype.addAxis,[!1]],series:[K.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),K})),e(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,merge:i,pick:s}=t;var a;return function(t){t.drawLineMarker=function(t){var a=this.legendItem=this.legendItem||{},o=this.options;const r=t.symbolWidth,n=t.symbolHeight,l=n/2,c=this.chart.renderer,h=a.group;t=t.baseline-Math.round(.3*t.fontMetrics.b);let d={},u=o.marker,p=0;this.chart.styledMode||(d={"stroke-width":Math.min(o.lineWidth||0,24)},o.dashStyle?d.dashstyle=o.dashStyle:"square"!==o.linecap&&(d["stroke-linecap"]="round")),a.line=c.path().addClass("highcharts-graph").attr(d).add(h),d["stroke-linecap"]&&(p=Math.min(a.line.strokeWidth(),r)/2),r&&a.line.attr({d:[["M",p,t],["L",r-p,t]]}),u&&!1!==u.enabled&&r&&(o=Math.min(s(u.radius,l),l),0===this.symbol.indexOf("url")&&(u=i(u,{width:n,height:n}),o=0),a.symbol=a=c.symbol(this.symbol,r/2-o,t-o,2*o,2*o,e({context:"legend"},u)).addClass("highcharts-point").add(h),a.isMarker=!0)},t.drawRectangle=function(t,e){e=e.legendItem||{};const i=t.symbolHeight,a=t.options.squareSymbol;e.symbol=this.chart.renderer.rect(a?(t.symbolWidth-i)/2:0,t.baseline-i+1,a?i:t.symbolWidth,i,s(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.group)}}(a||(a={})),a})),e(i,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:t}=this.series.chart;return"number"!==typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l,c){const{animObject:h,setAnimation:d}=t,{defaultOptions:u}=e,{registerEventOptions:p}=i,{hasTouch:f,svg:m,win:g}=s,{seriesTypes:v}=n,{arrayMax:x,arrayMin:y,clamp:b,cleanRecursively:w,correctFloat:k,defined:S,erase:C,error:A,extend:T,find:I,fireEvent:M,getNestedProperty:L,isArray:P,isNumber:_,isString:O,merge:D,objectEach:E,pick:F,removeEvent:B,splat:N,syncTimeout:z}=c;class R{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(t,e){M(this,"init",{options:e});const i=this,s=t.series;this.eventsToUnbind=[],i.chart=t,i.options=i.setOptions(e),e=i.options,i.linkedSeries=[],i.bindAxes(),T(i,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),p(this,e);const a=e.events;let o;(a&&a.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(o=s[s.length-1]),i._i=F(o&&o._i,-1)+1,i.opacity=i.options.opacity,t.orderSeries(this.insert(s)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),M(this,"afterInit")}is(t){return v[t]&&this instanceof v[t]}insert(t){const e=this.options.index;let i;if(_(e)){for(i=t.length;i--;)if(e>=F(t[i].options.index,t[i]._i)){t.splice(i+1,0,this);break}-1===i&&t.unshift(this),i+=1}else t.push(this);return F(i,t.length-1)}bindAxes(){const t=this,e=t.options,i=t.chart;let s;M(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(a){let o=0;i[a].forEach((function(i){s=i.options,(e[a]===o&&!s.isInternal||"undefined"!==typeof e[a]&&e[a]===s.id||"undefined"===typeof e[a]&&0===s.index)&&(t.insert(i.series),t[a]=i,i.isDirty=!0),s.isInternal||o++})),t[a]||t.optionalAxis===a||A(18,!0,i)}))})),M(this,"afterBindAxes")}updateParallelArrays(t,e,i){const s=t.series,a=_(e)?function(i){const a="y"===i&&s.toYData?s.toYData(t):t[i];s[i+"Data"][e]=a}:function(t){Array.prototype[e].apply(s[t+"Data"],i)};s.parallelArrays.forEach(a)}hasData(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length}autoIncrement(t){var e=this.options;const i=e.pointIntervalUnit,s=e.relativeXValue,a=this.chart.time;let o,r=this.xIncrement;return r=F(r,e.pointStart,0),this.pointInterval=o=F(this.pointInterval,e.pointInterval,1),s&&_(t)&&(o*=t),i&&(e=new a.Date(r),"day"===i?a.set("Date",e,a.get("Date",e)+o):"month"===i?a.set("Month",e,a.get("Month",e)+o):"year"===i&&a.set("FullYear",e,a.get("FullYear",e)+o),o=e.getTime()-r),s&&_(t)?r+o:(this.xIncrement=r+o,r)}setDataSortingOptions(){const t=this.options;T(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(t.pointRange)||(t.pointRange=1)}setOptions(t){var e=this.chart,i=e.options,s=i.plotOptions,a=e.userOptions||{};t=D(t),e=e.styledMode;const o={plotOptions:s,userOptions:t};M(this,"setOptions",o);const r=o.plotOptions[this.type],n=a.plotOptions||{};return this.userOptions=o.userOptions,a=D(r,s.series,a.plotOptions&&a.plotOptions[this.type],t),this.tooltipOptions=D(u.tooltip,u.plotOptions.series&&u.plotOptions.series.tooltip,u.plotOptions[this.type].tooltip,i.tooltip.userOptions,s.series&&s.series.tooltip,s[this.type].tooltip,t.tooltip),this.stickyTracking=F(t.stickyTracking,n[this.type]&&n[this.type].stickyTracking,n.series&&n.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||a.stickyTracking),null===r.marker&&delete a.marker,this.zoneAxis=a.zoneAxis,s=this.zones=(a.zones||[]).slice(),!a.negativeColor&&!a.negativeFillColor||a.zones||(i={value:a[this.zoneAxis+"Threshold"]||a.threshold||0,className:"highcharts-negative"},e||(i.color=a.negativeColor,i.fillColor=a.negativeFillColor),s.push(i)),s.length&&S(s[s.length-1].value)&&s.push(e?{}:{color:this.color,fillColor:this.fillColor}),M(this,"afterSetOptions",{options:a}),a}getName(){return F(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){const s=this.chart,a=this.userOptions,o=t+"Index",r=t+"Counter",n=i?i.length:F(s.options.chart[t+"Count"],s[t+"Count"]);if(!e){var l=F(a[o],a["_"+o]);S(l)||(s.series.length||(s[r]=0),a["_"+o]=l=s[r]%n,s[r]+=1),i&&(e=i[l])}"undefined"!==typeof l&&(this[o]=l),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||u.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(t,e){const i=t.id,s=t.x,a=this.points;var r,n=this.options.dataSorting;let l,c;if(i)n=this.chart.get(i),n instanceof o&&(r=n);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(r=e=>!e.touched&&e.index===t.index,n&&n.matchByName?r=e=>!e.touched&&e.name===t.name:this.options.relativeXValue&&(r=e=>!e.touched&&e.options.x===t.x),r=I(a,r),!r))return;return r&&(c=r&&r.index,"undefined"!==typeof c&&(l=!0)),"undefined"===typeof c&&_(s)&&(c=this.xData.indexOf(s,e)),-1!==c&&"undefined"!==typeof c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!l&&_(c)&&a[c]&&a[c].touched&&(c=void 0),c}updateData(t,e){const i=this.options,s=i.dataSorting,a=this.points,o=[],r=this.requireSorting,n=t.length===a.length;let l,c,h,d=!0;if(this.xIncrement=null,t.forEach((function(t,e){var c=S(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{};const d=c.x;c.id||_(d)?(c=this.findPointIndex(c,h),-1===c||"undefined"===typeof c?o.push(t):a[c]&&t!==i.data[c]?(a[c].update(t,!1,null,!1),a[c].touched=!0,r&&(h=c+1)):a[c]&&(a[c].touched=!0),(!n||e!==c||s&&s.enabled||this.hasDerivedData)&&(l=!0)):o.push(t)}),this),l)for(t=a.length;t--;)(c=a[t])&&!c.touched&&c.remove&&c.remove(!1,e);else!n||s&&s.enabled?d=!1:(t.forEach((function(t,e){t===a[e].y||a[e].destroyed||a[e].update(t,!1,null,!1)})),o.length=0);return a.forEach((function(t){t&&(t.touched=!1)})),!!d&&(o.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=x(this.xData),this.autoIncrement()),!0)}setData(t,e=!0,i,s){var a;const o=this,r=o.points,n=r&&r.length||0,l=o.options,c=o.chart,h=l.dataSorting,d=o.xAxis,u=l.turboThreshold,p=this.xData,f=this.yData;var m=o.pointArrayMap;m=m&&m.length;const g=l.keys;let v,x=0,y=1,b=null;if(!c.options.chart.allowMutatingData){l.data&&delete o.options.data,o.userOptions.data&&delete o.userOptions.data;var w=D(!0,t)}if(t=w||t||[],w=t.length,h&&h.enabled&&(t=this.sortData(t)),c.options.chart.allowMutatingData&&!1!==s&&w&&n&&!o.cropped&&!o.hasGroupedData&&o.visible&&!o.boosted&&(v=this.updateData(t,i)),!v){if(o.xIncrement=null,o.colorCounter=0,this.parallelArrays.forEach((function(t){o[t+"Data"].length=0})),u&&w>u)if(b=o.getFirstValidPoint(t),_(b))for(i=0;i<w;i++)p[i]=this.autoIncrement(),f[i]=t[i];else if(P(b))if(m)if(b.length===m)for(i=0;i<w;i++)p[i]=this.autoIncrement(),f[i]=t[i];else for(i=0;i<w;i++)s=t[i],p[i]=s[0],f[i]=s.slice(1,m+1);else if(g&&(x=g.indexOf("x"),y=g.indexOf("y"),x=0<=x?x:0,y=0<=y?y:1),1===b.length&&(y=0),x===y)for(i=0;i<w;i++)p[i]=this.autoIncrement(),f[i]=t[i][y];else for(i=0;i<w;i++)s=t[i],p[i]=s[x],f[i]=s[y];else A(12,!1,c);else for(i=0;i<w;i++)s={series:o},o.pointClass.prototype.applyOptions.apply(s,[t[i]]),o.updateParallelArrays(s,i);for(f&&O(f[0])&&A(14,!0,c),o.data=[],o.options.data=o.userOptions.data=t,i=n;i--;)null===(a=r[i])||void 0===a||a.destroy();d&&(d.minRange=d.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!r,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)}sortData(t){const e=this,i=e.options.dataSorting.sortKey||"y",s=function(t,e){return S(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(i,a){t[a]=s(e,i),t[a].index=a}),this),t.concat().sort((t,e)=>(t=L(i,t),e=L(i,e),e<t?-1:e>t?1:0)).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){const i=e.options,a=i.data;i.dataSorting&&i.dataSorting.enabled||!a||(a.forEach((function(i,o){a[o]=s(e,i),t[o]&&(a[o].x=t[o].x,a[o].index=o)})),e.setData(a,!1))})),t}getProcessedData(t){var e=this.xAxis,i=this.options,s=i.cropThreshold;const a=t||this.getExtremesFromAll||i.getExtremesFromAll,o=this.isCartesian;t=e&&e.val2lin,i=!(!e||!e.logarithmic);let r,n,l,c=0,h=this.xData,d=this.yData,u=this.requireSorting;var p=!1;const f=h.length;if(e&&(p=e.getExtremes(),n=p.min,l=p.max,p=!(!e.categories||e.names.length)),o&&this.sorted&&!a&&(!s||f>s||this.forceCrop))if(h[f-1]<n||h[0]>l)h=[],d=[];else if(this.yData&&(h[0]<n||h[f-1]>l)){var m=this.cropData(this.xData,this.yData,n,l);h=m.xData,d=m.yData,c=m.start,m=!0}for(s=h.length||1;--s;)e=i?t(h[s])-t(h[s-1]):h[s]-h[s-1],0<e&&("undefined"===typeof r||e<r)?r=e:0>e&&u&&!p&&(A(15,!1,this.chart),u=!1);return{xData:h,yData:d,cropped:m,cropStart:c,closestPointRange:r}}processData(t){const e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange,M(this,"afterProcessData")}cropData(t,e,i,s,a){const o=t.length;let r,n=0,l=o;for(a=F(a,this.cropShoulder),r=0;r<o;r++)if(t[r]>=i){n=Math.max(0,r-a);break}for(i=r;i<o;i++)if(t[i]>s){l=i+a;break}return{xData:t.slice(n,l),yData:e.slice(n,l),start:n,end:l}}generatePoints(){var t=this.options;const e=this.processedData||t.data,i=this.processedXData,s=this.processedYData,a=this.pointClass,o=i.length,r=this.cropStart||0,n=this.hasGroupedData,l=t.keys,c=[];let h;t=t.dataGrouping&&t.dataGrouping.groupAll?r:0;let d,u,p=this.data;if(!p&&!n){var f=[];f.length=e.length,p=this.data=f}for(l&&n&&(this.options.keys=!1),u=0;u<o;u++)f=r+u,n?(d=(new a).init(this,[i[u]].concat(N(s[u]))),d.dataGroup=this.groupMap[t+u],d.dataGroup.options&&(d.options=d.dataGroup.options,T(d,d.dataGroup.options),delete d.dataLabels)):(d=p[f])||"undefined"===typeof e[f]||(p[f]=d=(new a).init(this,e[f],i[u])),d&&(d.index=n?t+u:f,c[u]=d);if(this.options.keys=l,p&&(o!==(h=p.length)||n))for(u=0;u<h;u++)u!==r||n||(u+=o),p[u]&&(p[u].destroyElements(),p[u].plotX=void 0);this.data=p,this.points=c,M(this,"afterGeneratePoints")}getXExtremes(t){return{min:y(t),max:x(t)}}getExtremes(t,e){const i=this.xAxis;var s=this.yAxis;const a=this.processedXData||this.xData,o=[],r=this.requireSorting?this.cropShoulder:0;s=!!s&&s.positiveValuesOnly;let n,l=0,c=0,h=0;t=t||this.stackedYData||this.processedYData||[];const d=t.length;if(i){var u=i.getExtremes();l=u.min,c=u.max}for(n=0;n<d;n++){var p=a[n];u=t[n];var f=(_(u)||P(u))&&(u.length||0<u||!s);if(p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(a[n+r]||p)>=l&&(a[n-r]||p)<=c,f&&p)if(f=u.length)for(;f--;)_(u[f])&&(o[h++]=u[f]);else o[h++]=u}return t={activeYData:o,dataMin:y(o),dataMax:x(o)},M(this,"afterGetExtremes",{dataExtremes:t}),t}applyExtremes(){const t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t){const e=t.length;let i=0,s=null;for(;null===s&&i<e;)s=t[i],i++;return s}translate(){var t;this.processedXData||this.processData(),this.generatePoints();const e=this.options,i=e.stacking,s=this.xAxis,a=s.categories,o=this.enabledDataSorting,r=this.yAxis,n=this.points,l=n.length,c=this.pointPlacementToXValue(),h=!!c,d=e.threshold,u=e.startFromThreshold?d:0,p=this.zoneAxis||"y";let f,m,g,v,x=Number.MAX_VALUE;for(f=0;f<l;f++){const l=n[f],y=l.x;let w,C,A=l.y,T=l.low;const I=i&&(null===(t=r.stacking)||void 0===t?void 0:t.stacks[(this.negStacks&&A<(u?0:d)?"-":"")+this.stackKey]);let M;m=s.translate(y,!1,!1,!1,!0,c),l.plotX=_(m)?k(b(m,-1e5,1e5)):void 0,i&&this.visible&&I&&I[y]&&(v=this.getStackIndicator(v,y,this.index),!l.isNull&&v.key&&(w=I[y],C=w.points[v.key]),w&&P(C)&&(T=C[0],A=C[1],T===u&&v.key===I[y].base&&(T=F(_(d)?d:r.min)),r.positiveValuesOnly&&S(T)&&0>=T&&(T=void 0),l.total=l.stackTotal=F(w.total),l.percentage=S(l.y)&&w.total?l.y/w.total*100:void 0,l.stackY=A,this.irregularWidths||w.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),l.yBottom=S(T)?b(r.translate(T,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(A=this.dataModify.modifyValue(A,f)),_(A)&&void 0!==l.plotX&&(M=r.translate(A,!1,!0,!1,!0),M=_(M)?b(M,-1e5,1e5):void 0),l.plotY=M,l.isInside=this.isPointInside(l),l.clientX=h?k(s.translate(y,!1,!1,!1,!0,c)):m,l.negative=l[p]<(e[p+"Threshold"]||d||0),l.category=F(a&&a[l.x],l.x),l.isNull||!1===l.visible||("undefined"!==typeof g&&(x=Math.min(x,Math.abs(m-g))),g=m),l.zone=this.zones.length?l.getZone():void 0,!l.graphic&&this.group&&o&&(l.isNew=!0)}this.closestPointRangePx=x,M(this,"afterTranslate")}getValidPoints(t,e,i){const s=this.chart;return(t||this.points||[]).filter((function(t){const{plotX:a,plotY:o}=t;return!(!(i||!t.isNull&&_(o))||e&&!s.isInsidePlot(a,o,{inverted:s.inverted}))&&!1!==t.visible}))}getClipBox(){const{chart:t,xAxis:e,yAxis:i}=this,s=D(t.clipBox);return e&&e.len!==t.plotSizeX&&(s.width=e.len),i&&i.len!==t.plotSizeY&&(s.height=i.len),s}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,a=t.renderer,o=this.getClipBox(),r=this.getSharedClipKey();let n=s[r];n?n.animate(o):s[r]=n=a.clipRect(o),e&&e.clip(!1===this.options.clip?void 0:n),i&&i.clip()}animate(t){const{chart:e,group:i,markerGroup:s}=this,a=e.inverted;var o=h(this.options.animation),r=[this.getSharedClipKey(),o.duration,o.easing,o.defer].join();let n=e.sharedClips[r],l=e.sharedClips[r+"m"];if(t&&i)o=this.getClipBox(),n?n.attr("height",o.height):(o.width=0,a&&(o.x=e.plotHeight),n=e.renderer.clipRect(o),e.sharedClips[r]=n,l=e.renderer.clipRect({x:-99,y:-99,width:a?e.plotWidth+199:99,height:a?99:e.plotHeight+199}),e.sharedClips[r+"m"]=l),i.clip(n),s&&s.clip(l);else if(n&&!n.hasClass("highcharts-animating")){r=this.getClipBox();const t=o.step;s&&s.element.childNodes.length&&(o.step=function(e,i){t&&t.apply(i,arguments),"width"===i.prop&&l&&l.element&&l.attr(a?"height":"width",e+99)}),n.addClass("highcharts-animating").animate(r,o)}}afterAnimate(){this.setClip(),E(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,M(this,"afterAnimate")}drawPoints(t=this.points){const e=this.chart,i=e.styledMode,{colorAxis:s,options:a}=this,o=a.marker,r=this[this.specialGroup||"markerGroup"],n=this.xAxis,l=F(o.enabled,!(n&&!n.isRadial)||null,this.closestPointRangePx>=o.enabledThreshold*o.radius);let c,h,d,u,p,f;if(!1!==o.enabled||this._hasPointMarkers)for(c=0;c<t.length;c++){h=t[c],u=(d=h.graphic)?"animate":"attr";var m=h.marker||{};if(p=!!h.marker,(l&&"undefined"===typeof m.enabled||m.enabled)&&!h.isNull&&!1!==h.visible){const t=F(m.symbol,this.symbol,"rect");f=this.markerAttribs(h,h.selected&&"select"),this.enabledDataSorting&&(h.startXPos=n.reversed?-(f.width||0):n.width);const a=!1!==h.isInside;!d&&a&&(0<(f.width||0)||h.hasImage)&&(h.graphic=d=e.renderer.symbol(t,f.x,f.y,f.width,f.height,p?m:o).add(r),this.enabledDataSorting&&e.hasRendered&&(d.attr({x:h.startXPos}),u="animate")),d&&"animate"===u&&d[a?"show":"hide"](a).animate(f),d&&(m=this.pointAttribs(h,i||!h.selected?void 0:"select"),i?s&&d.css({fill:m.fill}):d[u](m)),d&&d.addClass(h.getClassName(),!0)}else d&&(h.graphic=d.destroy())}}markerAttribs(t,e){const i=this.options;var s=i.marker;const a=t.marker||{},o=a.symbol||s.symbol,r={};let n=F(a.radius,s&&s.radius);return e&&(s=s.states[e],e=a.states&&a.states[e],n=F(e&&e.radius,s&&s.radius,n&&n+(s&&s.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(n=0),t=t.pos(),_(n)&&t&&(r.x=t[0]-n,r.y=t[1]-n,i.crisp&&(r.x=Math.floor(r.x))),n&&(r.width=r.height=2*n),r}pointAttribs(t,e){var i=this.options.marker,s=t&&t.options;const a=s&&s.marker||{};var o=s&&s.color,r=t&&t.color;const n=t&&t.zone&&t.zone.color;let l=this.color;return t=F(a.lineWidth,i.lineWidth),s=1,l=o||n||r||l,o=a.fillColor||i.fillColor||l,r=a.lineColor||i.lineColor||l,e=e||"normal",i=i.states[e]||{},e=a.states&&a.states[e]||{},t=F(e.lineWidth,i.lineWidth,t+F(e.lineWidthPlus,i.lineWidthPlus,0)),o=e.fillColor||i.fillColor||o,r=e.lineColor||i.lineColor||r,s=F(e.opacity,i.opacity,s),{stroke:r,"stroke-width":t,fill:o,opacity:s}}destroy(t){const e=this,i=e.chart,s=/AppleWebKit\/533/.test(g.navigator.userAgent),a=e.data||[];let o,r,n,h;for(M(e,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(e.axisTypes||[]).forEach((function(t){(h=e[t])&&h.series&&(C(h.series,e),h.isDirty=h.forceRedraw=!0)})),e.legendItem&&e.chart.legend.destroyItem(e),r=a.length;r--;)(n=a[r])&&n.destroy&&n.destroy();e.clips&&e.clips.forEach(t=>t.destroy()),c.clearTimeout(e.animationTimeout),E(e,(function(t,e){t instanceof l&&!t.survive&&(o=s&&"group"===e?"hide":"destroy",t[o]())})),i.hoverSeries===e&&(i.hoverSeries=void 0),C(i.series,e),i.orderSeries(),E(e,(function(i,s){t&&"hcEvents"===s||delete e[s]}))}applyZones(){const t=this,e=this.chart,i=e.renderer,s=this.zones,a=this.clips||[],o=this.graph,r=this.area,n=Math.max(e.plotWidth,e.plotHeight),l=this[(this.zoneAxis||"y")+"Axis"],c=e.inverted;let h,d,u,p,f,m,g,v,x,y,w,k=!1;s.length&&(o||r)&&l&&"undefined"!==typeof l.min?(f=l.reversed,m=l.horiz,o&&!this.showLine&&o.hide(),r&&r.hide(),p=l.getExtremes(),s.forEach((function(s,S){h=f?m?e.plotWidth:0:m?0:l.toPixels(p.min)||0,h=b(F(d,h),0,n),d=b(Math.round(l.toPixels(F(s.value,p.max),!0)||0),0,n),k&&(h=d=l.toPixels(p.max)),g=Math.abs(h-d),v=Math.min(h,d),x=Math.max(h,d),l.isXAxis?(u={x:c?x:v,y:0,width:g,height:n},m||(u.x=e.plotHeight-u.x)):(u={x:0,y:c?x:v,width:n,height:g},m&&(u.y=e.plotWidth-u.y)),a[S]?a[S].animate(u):a[S]=i.clipRect(u),y=t["zone-area-"+S],w=t["zone-graph-"+S],o&&w&&w.clip(a[S]),r&&y&&y.clip(a[S]),k=s.value>p.max,t.resetZones&&0===d&&(d=void 0)})),this.clips=a):t.visible&&(o&&o.show(),r&&r.show())}plotGroup(t,e,i,s,a){let o=this[t];const r=!o;return i={visibility:i,zIndex:s||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(i.opacity=this.opacity),r&&(this[t]=o=this.chart.renderer.g().add(a)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(i)[r?"attr":"animate"](this.getPlotBox(e)),o}getPlotBox(t){let e=this.xAxis,i=this.yAxis;const s=this.chart;return t=s.inverted&&!s.polar&&e&&!1!==this.invertible&&"series"===t,s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:t?90:0,rotationOriginX:t?(e.len-i.len)/2:0,rotationOriginY:t?(e.len+i.len)/2:0,scaleX:t?-1:1,scaleY:1}}removeEvents(t){t||B(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)}render(){const t=this;var e=t.chart;const i=t.options,s=h(i.animation),a=t.visible?"inherit":"hidden",o=i.zIndex,r=t.hasRendered;e=e.seriesGroup;let n=t.finishedAnimating?0:s.duration;M(this,"render"),t.plotGroup("group","series",a,o,e),t.markerGroup=t.plotGroup("markerGroup","markers",a,o,e),!1!==i.clip&&t.setClip(),t.animate&&n&&t.animate(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.animate&&n&&t.animate(),r||(n&&s.defer&&(n+=s.defer),t.animationTimeout=z((function(){t.afterAnimate()}),n||0)),t.isDirty=!1,t.hasRendered=!0,M(t,"afterRender")}redraw(){const t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}searchPoint(t,e){const i=this.xAxis,s=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){function e(t,s,a){var o=t&&t.length;let r;if(o)return r=i.kdAxisArray[s%a],t.sort((function(t,e){return t[r]-e[r]})),o=Math.floor(o/2),{point:t[o],left:e(t.slice(0,o),s+1,a),right:e(t.slice(o+1),s+1,a)}}this.buildingKdTree=!0;const i=this,s=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,z((function(){i.kdTree=e(i.getValidPoints(null,!i.directTouch),s,s),i.buildingKdTree=!1}),i.options.kdNow||t&&"touchstart"===t.type?0:1)}searchKDTree(t,e,i){function s(t,e,i,l){const c=e.point;var h=a.kdAxisArray[i%l];let d=c;var u=S(t[o])&&S(c[o])?Math.pow(t[o]-c[o],2):null,p=S(t[r])&&S(c[r])?Math.pow(t[r]-c[r],2):null;return p=(u||0)+(p||0),c.dist=S(p)?Math.sqrt(p):Number.MAX_VALUE,c.distX=S(u)?Math.sqrt(u):Number.MAX_VALUE,h=t[h]-c[h],p=0>h?"left":"right",u=0>h?"right":"left",e[p]&&(p=s(t,e[p],i+1,l),d=p[n]<d[n]?p:c),e[u]&&Math.sqrt(h*h)<d[n]&&(t=s(t,e[u],i+1,l),d=t[n]<d[n]?t:d),d}const a=this,o=this.kdAxisArray[0],r=this.kdAxisArray[1],n=e?"distX":"dist";if(e=-1<a.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return s(t,this.kdTree,e,e)}pointPlacementToXValue(){const{options:{pointPlacement:t,pointRange:e},xAxis:i}=this;let s=t;return"between"===s&&(s=i.reversed?-.5:.5),_(s)?s*(e||i.pointRange):0}isPointInside(t){const{chart:e,xAxis:i,yAxis:s}=this;return"undefined"!==typeof t.plotY&&"undefined"!==typeof t.plotX&&0<=t.plotY&&t.plotY<=(s?s.len:e.plotHeight)&&0<=t.plotX&&t.plotX<=(i?i.len:e.plotWidth)}drawTracker(){const t=this,e=t.options,i=e.trackByArea,s=[].concat(i?t.areaPath:t.graphPath),a=t.chart,o=a.pointer,r=a.renderer,n=a.options.tooltip.snap,l=t.tracker,c=function(e){a.hoverSeries!==t&&t.onMouseOver()},h="rgba(192,192,192,"+(m?1e-4:.002)+")";l?l.attr({d:s}):t.graph&&(t.tracker=r.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),a.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:h,fill:i?h:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*n)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){o.onTrackerMouseOut(t)})),e.cursor&&!a.styledMode&&t.css({cursor:e.cursor}),f)&&t.on("touchstart",c)}))),M(this,"afterDrawTracker")}addPoint(t,e,i,s,a){const o=this.options,r=this.data,n=this.chart;var l=this.xAxis;l=l&&l.hasNames&&l.names;const c=o.data,h=this.xData;let d,u;e=F(e,!0);const p={series:this};this.pointClass.prototype.applyOptions.apply(p,[t]);const f=p.x;if(u=h.length,this.requireSorting&&f<h[u-1])for(d=!0;u&&h[u-1]>f;)u--;this.updateParallelArrays(p,"splice",[u,0,0]),this.updateParallelArrays(p,u),l&&p.name&&(l[f]=p.name),c.splice(u,0,t),(d||this.processedData)&&(this.data.splice(u,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),this.updateParallelArrays(p,"shift"),c.shift())),!1!==a&&M(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,e&&n.redraw(s)}removePoint(t,e,i){const s=this,a=s.data,o=a[t],r=s.points,n=s.chart,l=function(){r&&r.length===a.length&&r.splice(t,1),a.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(o||{series:s},"splice",[t,1]),o&&o.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&n.redraw()};d(i,n),e=F(e,!0),o?o.firePointEvent("remove",null,l):l()}remove(t,e,i,s){function a(){o.destroy(s),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(s),F(t,!0)&&r.redraw(e)}const o=this,r=o.chart;!1!==i?M(o,"remove",null,a):a()}update(t,e){t=w(t,this.userOptions),M(this,"update",{options:t});const i=this,s=i.chart;var a=i.userOptions;const o=i.initialType||i.type;var r=s.options.plotOptions;const n=v[o].prototype;var l=i.finishedAnimating&&{animation:!1};const c={};let h,d=["eventOptions","navigatorSeries","baseSeries"],u=t.type||a.type||s.options.chart.type;const p=!(this.hasDerivedData||u&&u!==this.type||"undefined"!==typeof t.pointStart||"undefined"!==typeof t.pointInterval||"undefined"!==typeof t.relativeXValue||t.joinBy||t.mapData||i.hasOptionChanged("dataGrouping")||i.hasOptionChanged("pointStart")||i.hasOptionChanged("pointInterval")||i.hasOptionChanged("pointIntervalUnit")||i.hasOptionChanged("keys"));if(u=u||o,p&&(d.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&d.push("area","graph"),i.parallelArrays.forEach((function(t){d.push(t+"Data")})),t.data&&(t.dataSorting&&T(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=D(a,l,{index:"undefined"===typeof a.index?i.index:a.index,pointStart:F(r&&r.series&&r.series.pointStart,a.pointStart,i.xData[0])},!p&&{data:i.options.data},t),p&&t.data&&(t.data=i.options.data),d=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(d),d.forEach((function(t){d[t]=i[t],delete i[t]})),r=!1,v[u]){if(r=u!==i.type,i.remove(!1,!1,!1,!0),r)if(Object.setPrototypeOf)Object.setPrototypeOf(i,v[u].prototype);else{for(h in l=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents,n)i[h]=void 0;T(i,v[u].prototype),l?i.hcEvents=l:delete i.hcEvents}}else A(17,!0,s,{missingModuleFor:u});if(d.forEach((function(t){i[t]=d[t]})),i.init(s,t),p&&this.points){if(t=i.options,!1===t.visible)c.graphic=1,c.dataLabel=1;else if(!i._hasPointLabels){const{marker:e,dataLabels:i}=t;a=a.marker||{},!e||!1!==e.enabled&&a.symbol===e.symbol&&a.height===e.height&&a.width===e.width||(c.graphic=1),i&&!1===i.enabled&&(c.dataLabel=1)}for(const e of this.points)e&&e.series&&(e.resolveColor(),Object.keys(c).length&&e.destroyElements(c),!1===t.showInLegend&&e.legendItem&&s.legend.destroyItem(e))}i.initialType=o,s.linkSeries(),r&&i.linkedSeries.length&&(i.isDirtyData=!0),M(this,"afterUpdate"),F(e,!0)&&s.redraw(!!p&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){const e=this.options[t],i=this.chart.options.plotOptions,s=this.userOptions[t];return s?e!==s:e!==F(i&&i[this.type]&&i[this.type][t],i&&i.series&&i.series[t],e)}onMouseOver(){const t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&M(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){const t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&M(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach((function(t){t.setState("",!0)}))}setState(t,e){const i=this;var s=i.options;const a=i.graph,o=s.inactiveOtherPoints,r=s.states,n=F(r[t||"normal"]&&r[t||"normal"].animation,i.chart.options.chart.animation);let l=s.lineWidth,c=0,h=s.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach((function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))})),i.state=t,!i.chart.styledMode)){if(r[t]&&!1===r[t].enabled)return;if(t&&(l=r[t].lineWidth||l+(r[t].lineWidthPlus||0),h=F(r[t].opacity,h)),a&&!a.dashstyle&&_(l))for(s={"stroke-width":l},a.animate(s,n);i["zone-graph-"+c];)i["zone-graph-"+c].animate(s,n),c+=1;o||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach((function(t){t&&t.animate({opacity:h},n)}))}e&&o&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))}setVisible(t,e){const i=this,s=i.chart,a=s.options.chart.ignoreHiddenSeries,o=i.visible,r=(i.visible=t=i.options.visible=i.userOptions.visible="undefined"===typeof t?!o:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){i[t]&&i[t][r]()})),s.hoverSeries!==i&&(s.hoverPoint&&s.hoverPoint.series)!==i||i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&s.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),i.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),a&&(s.isDirtyBox=!0),M(i,r),!1!==e&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected="undefined"===typeof t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),M(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}}return R.defaultOptions=r,R.types=n.seriesTypes,R.registerType=n.registerSeriesType,T(R.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:a.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:o,requireSorting:!0,sorted:!0}),n.series=R,R})),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{stop:r}=t,{addEvent:n,createElement:l,defined:c,merge:h,pick:d}=o;n(i,"afterSetChartSize",(function(t){var i=this.options.chart.scrollablePlotArea,s=i&&i.minWidth;let a;i=i&&i.minHeight,this.renderer.forExport||(s?(this.scrollablePixelsX=s=Math.max(0,s-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.width=this.plotWidth+=s,this.inverted?this.clipBox.height+=s:this.clipBox.width+=s,a={1:{name:"right",value:s}}):i&&(this.scrollablePixelsY=s=Math.max(0,i-this.chartHeight),c(s)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.height=this.plotHeight+=s,this.inverted?this.clipBox.width+=s:this.clipBox.height+=s,a={2:{name:"bottom",value:s}})),a&&!t.skipAxes&&this.axes.forEach((function(t){a[t.side]?t.getPlotLinePath=function(){let i,s=a[t.side].name,o=this[s];return this[s]=o-a[t.side].value,i=e.prototype.getPlotLinePath.apply(this,arguments),this[s]=o,i}:(t.setAxisSize(),t.setAxisTranslation())})))})),n(i,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){const t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};let e;this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},t,this.scrollingParent),n(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(e=this.hoverPoint),this.pointer.runPointActions(void 0,e,!0))}),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.moveFixedElements=function(){let t,e=this.container,i=this.fixedRenderer,s=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&s.push(t+":not(.highcharts-radial-axis)",t+"-labels:not(.highcharts-radial-axis-labels)"),s.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},i.prototype.applyFixed=function(){var t=!this.fixedDiv,e=this.options.chart,i=e.scrollablePlotArea,s=a.getRendererType();t?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(e.style&&e.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new s(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":d(i.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),n(this,"afterShowResetZoom",this.moveFixedElements),n(this,"afterApplyDrilldown",this.moveFixedElements),n(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||t)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),s=this.chartHeight+(this.scrollablePixelsY||0),r(this.container),this.container.style.width=e+"px",this.container.style.height=s+"px",this.renderer.boxWrapper.attr({width:e,height:s,viewBox:[0,0,e,s].join(" ")}),this.chartBackground.attr({width:e,height:s}),this.scrollingContainer.style.height=this.chartHeight+"px",t&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY)),s=this.axisOffset,t=this.plotTop-s[0]-1,i=this.plotLeft-s[3]-1,e=this.plotTop+this.plotHeight+s[2]+1,s=this.plotLeft+this.plotWidth+s[1]+1;let o=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);t=this.scrollablePixelsX?[["M",0,t],["L",this.plotLeft-1,t],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",o,t],["L",this.chartWidth,t],["L",this.chartWidth,e],["L",o,e],["Z"]]:this.scrollablePixelsY?[["M",i,0],["L",i,this.plotTop-1],["L",s,this.plotTop-1],["L",s,0],["Z"],["M",i,c],["L",i,this.chartHeight],["L",s,this.chartHeight],["L",s,c],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:t})},n(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),n(s,"show",(function(){this.chart.scrollableDirty=!0}))})),e(i,"Core/Axis/Stacking/StackItem.js",[i["Core/FormatUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{format:s}=t,{series:a}=e,{destroyObjectProperties:o,fireEvent:r,isNumber:n,pick:l}=i;class c{constructor(t,e,i,s,a){const o=t.chart.inverted,r=t.reversed;this.axis=t,t=this.isNegative=!!i!==!!r,this.options=e=e||{},this.x=s,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?t?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":t?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(o?t?"right":"left":"center")}destroy(){o(this,this.axis)}render(t){const e=this.axis.chart,i=this.options;var a=i.format;a=a?s(a,this,e):i.formatter.call(this),this.label?this.label.attr({text:a,visibility:"hidden"}):(this.label=e.renderer.label(a,null,void 0,i.shape,void 0,void 0,i.useHTML,!1,"stack-labels"),a={r:i.borderRadius||0,text:a,padding:l(i.padding,5),visibility:"hidden"},e.styledMode||(a.fill=i.backgroundColor,a.stroke=i.borderColor,a["stroke-width"]=i.borderWidth,this.label.css(i.style||{})),this.label.attr(a),this.label.added||this.label.add(t)),this.label.labelrank=e.plotSizeY,r(this,"afterRender")}setOffset(t,e,i,s,o,c){const{alignOptions:h,axis:d,label:u,options:p,textAlign:f}=this,m=d.chart;i=this.getStackBox({xOffset:t,width:e,boxBottom:i,boxTop:s,defaultX:o,xAxis:c});var{verticalAlign:g}=h;if(u&&i){s=u.getBBox(),o=u.padding,c="justify"===l(p.overflow,"justify"),h.x=p.x||0,h.y=p.y||0;const{x:t,y:e}=this.adjustStackPosition({labelBox:s,verticalAlign:g,textAlign:f});i.x-=t,i.y-=e,u.align(h,!1,i),(g=m.isInsidePlot(u.alignAttr.x+h.x+t,u.alignAttr.y+h.y+e))||(c=!1),c&&a.prototype.justifyDataLabel.call(d,u,h,u.alignAttr,s,i),u.attr({x:u.alignAttr.x,y:u.alignAttr.y,rotation:p.rotation,rotationOriginX:s.width/2,rotationOriginY:s.height/2}),l(!c&&p.crop,!0)&&(g=n(u.x)&&n(u.y)&&m.isInsidePlot(u.x-o+u.width,u.y)&&m.isInsidePlot(u.x+o,u.y)),u[g?"show":"hide"]()}r(this,"afterSetOffset",{xOffset:t,width:e})}adjustStackPosition({labelBox:t,verticalAlign:e,textAlign:i}){const s={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:t.width/2+t.width/2*s[i],y:t.height/2*s[e]}}getStackBox(t){var e=this.axis;const i=e.chart,{boxTop:s,defaultX:a,xOffset:o,width:r,boxBottom:c}=t;var h=e.stacking.usePercentage?100:l(s,this.total,0);h=e.toPixels(h),t=t.xAxis||i.xAxis[0];const d=l(a,t.translate(this.x))+o;e=e.toPixels(c||n(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0),e=Math.abs(h-e);const u=this.isNegative;return i.inverted?{x:(u?h:h-e)-i.plotLeft,y:t.height-d-r,width:e,height:r}:{x:d+t.transB-i.plotLeft,y:(u?h-e:h)-i.plotTop,width:r,height:e}}}return c})),e(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){function o(){const t=this,e=t.inverted;t.yAxis.forEach(t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),t.series.forEach(i=>{const s=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==t.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,S(i.options.stack,""),e?s.top:s.left,e?s.height:s.width].join())})}function r(){const t=this.stacking;if(t){var e=t.stacks;k(e,(function(t,i){x(t),e[i]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}}function n(){"yAxis"!==this.coll||this.stacking||(this.stacking=new C(this))}function l(t,e,i,s){return!v(t)||t.x!==e||s&&t.stackKey!==s?t={x:e,index:0,key:s,stackKey:s}:t.index++,t.key=[i,e,t.index].join(),t}function c(){const t=this,e=t.stackKey,i=t.yAxis.stacking.stacks,s=t.processedXData,a=t[t.options.stacking+"Stacker"];let o;a&&[e,"-"+e].forEach(e=>{let r,n=s.length;for(;n--;){var l=s[n];o=t.getStackIndicator(o,l,t.index,e),(r=(l=i[e]&&i[e][l])&&l.points[o.key])&&a.call(t,r,l,n)}})}function h(t,e,i){e=e.total?100/e.total:0,t[0]=g(t[0]*e),t[1]=g(t[1]*e),this.stackedYData[i]=t[1]}function d(){const t=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?f.setStackedPoints.call(this,"group"):t&&k(t.stacks,(e,i)=>{"group"===i.slice(-5)&&(k(e,t=>t.destroy()),delete t.stacks[i])})}function u(t){var e=this.chart;const i=t||this.options.stacking;if(i&&(!0===this.visible||!1===e.options.chart.ignoreHiddenSeries)){var a=this.processedXData,o=this.processedYData,r=[],n=o.length,l=this.options,c=l.threshold,h=S(l.startFromThreshold&&c,0);l=l.stack,t=t?`${this.type},${i}`:this.stackKey;var d="-"+t,u=this.negStacks;e="group"===i?e.yAxis[0]:this.yAxis;var p,f,m=e.stacking.stacks,x=e.stacking.oldStacks;for(e.stacking.stacksTouched+=1,f=0;f<n;f++){var y=a[f],w=o[f],k=this.getStackIndicator(k,y,this.index),C=k.key,A=(p=u&&w<(h?0:c))?d:t;m[A]||(m[A]={}),m[A][y]||(x[A]&&x[A][y]?(m[A][y]=x[A][y],m[A][y].total=null):m[A][y]=new s(e,e.options.stackLabels,!!p,y,l)),A=m[A][y],null!==w?(A.points[C]=A.points[this.index]=[S(A.cumulative,h)],v(A.cumulative)||(A.base=C),A.touched=e.stacking.stacksTouched,0<k.index&&!1===this.singleStacks&&(A.points[C][0]=A.points[this.index+","+y+",0"][0])):A.points[C]=A.points[this.index]=null,"percent"===i?(p=p?t:d,u&&m[p]&&m[p][y]?(p=m[p][y],A.total=p.total=Math.max(p.total,A.total)+Math.abs(w)||0):A.total=g(A.total+(Math.abs(w)||0))):"group"===i?(b(w)&&(w=w[0]),null!==w&&(A.total=(A.total||0)+1)):A.total=g(A.total+(w||0)),A.cumulative="group"===i?(A.total||1)-1:g(S(A.cumulative,h)+(w||0)),null!==w&&(A.points[C].push(A.cumulative),r[f]=A.cumulative,A.hasValidPoints=!0)}"percent"===i&&(e.stacking.usePercentage=!0),"group"!==i&&(this.stackedYData=r),e.stacking.oldStacks={}}}const{getDeferredAnimation:p}=t,{series:{prototype:f}}=i,{addEvent:m,correctFloat:g,defined:v,destroyObjectProperties:x,fireEvent:y,isArray:b,isNumber:w,objectEach:k,pick:S}=a;class C{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){const t=this.axis,e=t.series,i=t.options.reversedStacks,s=e.length;let a,o;for(this.usePercentage=!1,o=s;o--;)a=e[i?o:s-o-1],a.setStackedPoints(),a.setGroupedPoints();for(o=0;o<s;o++)e[o].modifyStacks();y(t,"afterBuildStacks")}cleanStacks(){let t;this.oldStacks&&(t=this.stacks=this.oldStacks),k(t,(function(t){k(t,(function(t){t.cumulative=t.total}))}))}resetStacks(){k(this.stacks,t=>{k(t,(e,i)=>{w(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){var t=this.axis;const e=t.chart,i=e.renderer,s=this.stacks;t=p(e,t.options.stackLabels&&t.options.stackLabels.animation||!1);const a=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();a.translate(e.plotLeft,e.plotTop),k(s,(function(t){k(t,(function(t){t.render(a)}))})),a.animate({opacity:1},t)}}var A;return function(t){const e=[];t.compose=function(t,i,s){a.pushUnique(e,t)&&(m(t,"init",n),m(t,"destroy",r)),a.pushUnique(e,i)&&(i.prototype.getStacks=o),a.pushUnique(e,s)&&(t=s.prototype,t.getStackIndicator=l,t.modifyStacks=c,t.percentStacker=h,t.setGroupedPoints=d,t.setStackedPoints=u)}}(A||(A={})),A})),e(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{defined:s,merge:a}=i;class o extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode;let a=[["graph","highcharts-graph"]];s||a[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),a=t.getZonesGraphs(a),a.forEach((function(a,o){var r=a[0];let n=t[r];const l=n?"animate":"attr";n?(n.endX=t.preventGraphAnimation?null:i.xMap,n.animate({d:i})):i.length&&(t[r]=n=t.chart.renderer.path(i).addClass(a[1]).attr({zIndex:1}).add(t.group)),n&&!s&&(r={stroke:a[2],"stroke-width":e.lineWidth||0,fill:t.fillGraph&&t.color||"none"},a[3]?r.dashstyle=a[3]:"square"!==e.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),n[l](r).shadow(2>o&&e.shadow)),n&&(n.startX=i.xMap,n.isArea=i.isArea)}))}getGraphPath(t,e,i){const a=this,o=a.options,r=[],n=[];let l,c=o.step;t=t||a.points;const h=t.reversed;return h&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&h&&(c=4-c),t=this.getValidPoints(t,!1,!(o.connectNulls&&!e&&!i)),t.forEach((function(h,d){const u=h.plotX,p=h.plotY,f=t[d-1],m=h.isNull||"number"!==typeof p;(h.leftCliff||f&&f.rightCliff)&&!i&&(l=!0),m&&!s(e)&&0<d?l=!o.connectNulls:m&&!e?l=!0:(0===d||l?d=[["M",h.plotX,h.plotY]]:a.getPointSpline?d=[a.getPointSpline(t,h,d)]:c?(d=1===c?[["L",f.plotX,p]]:2===c?[["L",(f.plotX+u)/2,f.plotY],["L",(f.plotX+u)/2,p]]:[["L",u,f.plotY]],d.push(["L",u,p])):d=[["L",u,p]],n.push(h.x),c&&(n.push(h.x),2===c&&n.push(h.x)),r.push.apply(r,d),l=!1)})),r.xMap=n,a.graphPath=r}getZonesGraphs(t){return this.zones.forEach((function(e,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")],this.chart.styledMode||i.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(i)}),this),t}}return o.defaultOptions=a(t.defaultOptions,{}),e.registerSeriesType("line",o),o})),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{parse:a}=t,{seriesTypes:{line:o}}=i,{extend:r,merge:n,objectEach:l,pick:c}=s;class h extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const t=this,e=this.areaPath,i=this.options,s=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach((function(e,a){s.push(["zone-area-"+a,"highcharts-area highcharts-zone-area-"+a+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])})),s.forEach((function(s){const o=s[0],r={};let n=t[o];const l=n?"animate":"attr";n?(n.endX=t.preventGraphAnimation?null:e.xMap,n.animate({d:e})):(r.zIndex=0,n=t[o]=t.chart.renderer.path(e).addClass(s[1]).add(t.group),n.isArea=!0),t.chart.styledMode||(r.fill=c(s[3],a(s[2]).setOpacity(c(i.fillOpacity,.75)).get())),n[l](r),n.startX=e.xMap,n.shiftUnit=i.step?2:1}))}getGraphPath(t){var e=o.prototype.getGraphPath,i=this.options;const s=i.stacking,a=this.yAxis,r=[],n=[],l=this.index,h=a.stacking.stacks[this.stackKey],d=i.threshold,u=Math.round(a.getThreshold(i.threshold));i=c(i.connectNulls,"percent"===s);var p=function(e,i,o){var c=t[e];e=s&&h[c.x].points[l];const p=c[o+"Null"]||0;let m,g;o=c[o+"Cliff"]||0,c=!0,o||p?(m=(p?e[0]:e[1])+o,g=e[0]+o,c=!!p):!s&&t[i]&&t[i].isNull&&(m=g=d),"undefined"!==typeof m&&(n.push({plotX:f,plotY:null===m?u:a.getThreshold(m),isNull:c,isCliff:!0}),r.push({plotX:f,plotY:null===g?u:a.getThreshold(g),doCurve:!1}))};let f;t=t||this.points,s&&(t=this.getStackPoints(t));for(let o=0,v=t.length;o<v;++o){s||(t[o].leftCliff=t[o].rightCliff=t[o].leftNull=t[o].rightNull=void 0);var m=t[o].isNull;f=c(t[o].rectPlotX,t[o].plotX);var g=s?c(t[o].yBottom,u):u;m&&!i||(i||p(o,o-1,"left"),m&&!s&&i||(n.push(t[o]),r.push({x:o,plotX:f,plotY:g})),i||p(o,o+1,"right"))}return p=e.call(this,n,!0,!0),r.reversed=!0,m=e.call(this,r,!0,!0),(g=m[0])&&"M"===g[0]&&(m[0]=["L",g[1],g[2]]),m=p.concat(m),m.length&&m.push(["Z"]),e=e.call(this,n,!1,i),m.xMap=p.xMap,this.areaPath=m,e}getStackPoints(t){const e=this,i=[],s=[],a=this.xAxis,o=this.yAxis,r=o.stacking.stacks[this.stackKey],n={},h=o.series,d=h.length,u=o.options.reversedStacks?1:-1,p=h.indexOf(e);if(t=t||this.points,this.options.stacking){for(let e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,n[t[e].x]=t[e];l(r,(function(t,e){null!==t.total&&s.push(e)})),s.sort((function(t,e){return t-e}));const f=h.map(t=>t.visible);s.forEach((function(t,l){let m,g,v=0;if(n[t]&&!n[t].isNull)i.push(n[t]),[-1,1].forEach((function(i){const a=1===i?"rightNull":"leftNull",o=r[s[l+i]];let c=0;if(o){let i=p;for(;0<=i&&i<d;){const s=h[i].index;m=o.points[s],m||(s===e.index?n[t][a]=!0:f[i]&&(g=r[t].points[s])&&(c-=g[1]-g[0])),i+=u}}n[t][1===i?"rightCliff":"leftCliff"]=c}));else{let e=p;for(;0<=e&&e<d;){if(m=r[t].points[h[e].index]){v=m[1];break}e+=u}v=c(v,0),v=o.translate(v,0,1,0,1),i.push({isNull:!0,plotX:a.translate(t,0,0,0,1),x:t,plotY:v,yBottom:v})}}))}return i}}return h.defaultOptions=n(o.defaultOptions,{threshold:0}),r(h.prototype,{singleStacks:!1,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("area",h),h})),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e){const{line:i}=t.seriesTypes,{merge:s,pick:a}=e;class o extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(t,e,i){const s=e.plotX||0,o=e.plotY||0,r=t[i-1];let n,l,c;if(i=t[i+1],r&&!r.isNull&&!1!==r.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=r.plotY||0;var h=i.plotX||0;i=i.plotY||0;let a=0;n=(1.5*s+(r.plotX||0))/2.5,l=(1.5*o+t)/2.5,h=(1.5*s+h)/2.5,c=(1.5*o+i)/2.5,h!==n&&(a=(c-l)*(h-s)/(h-n)+o-c),l+=a,c+=a,l>t&&l>o?(l=Math.max(t,o),c=2*o-l):l<t&&l<o&&(l=Math.min(t,o),c=2*o-l),c>i&&c>o?(c=Math.max(i,o),l=2*o-c):c<i&&c<o&&(c=Math.min(i,o),l=2*o-c),e.rightContX=h,e.rightContY=c}return e=["C",a(r.rightContX,r.plotX,0),a(r.rightContY,r.plotY,0),a(n,s,0),a(l,o,0),s,o],r.rightContX=r.rightContY=void 0,e}}return o.defaultOptions=s(i.defaultOptions),t.registerSeriesType("spline",o),o})),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{area:a,area:{prototype:o}}=i.seriesTypes,{extend:r,merge:n}=s;class l extends t{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return l.defaultOptions=n(t.defaultOptions,a.defaultOptions),r(l.prototype,{getGraphPath:o.getGraphPath,getStackPoints:o.getStackPoints,drawGraph:o.drawGraph,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("areaspline",l),l})),e(i,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n){const{animObject:l}=t,{parse:c}=e,{hasTouch:h,noop:d}=s,{clamp:u,defined:p,extend:f,fireEvent:m,isArray:g,isNumber:v,merge:x,pick:y,objectEach:b}=n;class w extends o{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(t){const e=this,i=this.yAxis,s=i.pos,a=e.options,o=this.chart.inverted,r={},n=o?"translateX":"translateY";let c;t?(r.scaleY=.001,t=u(i.toPixels(a.threshold),s,s+i.len),o?r.translateX=t-i.len:r.translateY=t,e.clipBox&&e.setClip(),e.group.attr(r)):(c=Number(e.group.attr(n)),e.group.animate({scaleY:1},f(l(e.options.animation),{step:function(t,i){e.group&&(r[n]=c+i.pos*(s-c),e.group.attr(r))}})))}init(t,e){super.init.apply(this,arguments);const i=this;t=i.chart,t.hasRendered&&t.series.forEach((function(t){t.type===i.type&&(t.isDirty=!0)}))}getColumnMetrics(){const t=this;var e=t.options;const i=t.xAxis,s=t.yAxis;var a=i.options.reversedStacks;a=i.reversed&&!a||!i.reversed&&a;const o={};let r,n=0;!1===e.grouping?n=1:t.chart.series.forEach((function(e){const i=e.yAxis,a=e.options;let l;e.type!==t.type||!e.visible&&t.chart.options.chart.ignoreHiddenSeries||s.len!==i.len||s.pos!==i.pos||(a.stacking&&"group"!==a.stacking?(r=e.stackKey,"undefined"===typeof o[r]&&(o[r]=n++),l=o[r]):!1!==a.grouping&&(l=n++),e.columnIndex=l)}));const l=Math.min(Math.abs(i.transA)*(i.ordinal&&i.ordinal.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*e.groupPadding,h=(l-2*c)/(n||1);return e=Math.min(e.maxPointWidth||i.len,y(e.pointWidth,h*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(h-e)/2+(c+((t.columnIndex||0)+(a?1:0))*h-l/2)*(a?-1:1),paddedWidth:h,columnCount:n},t.columnMetrics}crispCol(t,e,i,s){var a=this.borderWidth,o=-(a%2?.5:0);return a=a%2?.5:1,this.options.crisp&&(i=Math.round(t+i)+o,t=Math.round(t)+o,i-=t),s=Math.round(e+s)+a,o=.5>=Math.abs(e)&&.5<s,e=Math.round(e)+a,s-=e,o&&s&&(--e,s+=1),{x:t,y:e,width:i,height:s}}adjustForMissingColumns(t,e,i,s){const a=this.options.stacking;if(!i.isNull&&1<s.columnCount){const o=this.yAxis.options.reversedStacks;let r=0,n=o?0:-s.columnCount;b(this.yAxis.stacking&&this.yAxis.stacking.stacks,t=>{if("number"===typeof i.x){const e=t[i.x.toString()];e&&(t=e.points[this.index],a?(t&&(r=n),e.hasValidPoints&&(o?n++:n--)):g(t)&&(t=Object.keys(e.points).filter(t=>!t.match(",")&&e.points[t]&&1<e.points[t].length).map(parseFloat).sort((t,e)=>e-t),r=t.indexOf(this.index),n=t.length))}}),t=(i.plotX||0)+((n-1)*s.paddedWidth+e)/2-e-r*s.paddedWidth}return t}translate(){const t=this,e=t.chart,i=t.options;var s=t.dense=2>t.closestPointRange*t.xAxis.transA;s=t.borderWidth=y(i.borderWidth,s?0:1);const a=t.xAxis,r=t.yAxis,n=i.threshold,l=y(i.minPointLength,5),c=t.getColumnMetrics(),h=c.width,d=t.pointXOffset=c.offset,f=t.dataMin,g=t.dataMax;let x=t.barW=Math.max(h,1+2*s),b=t.translatedThreshold=r.getThreshold(n);e.inverted&&(b-=.5),i.pointPadding&&(x=Math.ceil(x)),o.prototype.translate.apply(t),t.points.forEach((function(s){const o=y(s.yBottom,b);var m=999+Math.abs(o),w=s.plotX||0;m=u(s.plotY,-m,r.len+m);let k=Math.min(m,o),S=Math.max(m,o)-k,C=h,A=w+d,T=x;l&&Math.abs(S)<l&&(S=l,w=!r.reversed&&!s.negative||r.reversed&&s.negative,v(n)&&v(g)&&s.y===n&&g<=n&&(r.min||0)<n&&(f!==g||(r.max||0)<=n)&&(w=!w),k=Math.abs(k-b)>l?o-l:b-(w?l:0)),p(s.options.pointWidth)&&(C=T=Math.ceil(s.options.pointWidth),A-=Math.round((C-h)/2)),i.centerInCategory&&(A=t.adjustForMissingColumns(A,C,s,c)),s.barX=A,s.pointWidth=C,s.tooltipPos=e.inverted?[u(r.len+r.pos-e.plotLeft-m,r.pos-e.plotLeft,r.len+r.pos-e.plotLeft),a.len+a.pos-e.plotTop-A-T/2,S]:[a.left-e.plotLeft+A+T/2,u(m+r.pos-e.plotTop,r.pos-e.plotTop,r.len+r.pos-e.plotTop),S],s.shapeType=t.pointClass.prototype.shapeType||"roundedRect",s.shapeArgs=t.crispCol(A,s.isNull?b:k,T,s.isNull?0:S)})),m(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){const i=this.options;var s=this.pointAttrToOptions||{},a=s.stroke||"borderColor";const o=s["stroke-width"]||"borderWidth";let r,n=t&&t.color||this.color,l=t&&t[a]||i[a]||n;s=t&&t.options.dashStyle||i.dashStyle;let h=t&&t[o]||i[o]||this[o]||0,d=y(t&&t.opacity,i.opacity,1);return t&&this.zones.length&&(r=t.getZone(),n=t.options.color||r&&(r.color||t.nonZonedColor)||this.color,r&&(l=r.borderColor||l,s=r.dashStyle||s,h=r.borderWidth||h)),e&&t&&(t=x(i.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,n=t.color||"undefined"!==typeof e&&c(n).brighten(t.brightness).get()||n,l=t[a]||l,h=t[o]||h,s=t.dashStyle||s,d=y(t.opacity,d)),a={fill:n,stroke:l,"stroke-width":h,opacity:d},s&&(a.dashstyle=s),a}drawPoints(t=this.points){const e=this,i=this.chart,s=e.options,a=i.renderer,o=s.animationLimit||250;let r;t.forEach((function(t){let n=t.graphic,l=!!n,c=n&&i.pointCount<o?"animate":"attr";v(t.plotY)&&null!==t.y?(r=t.shapeArgs,n&&t.hasNewShapeType()&&(n=n.destroy()),e.enabledDataSorting&&(t.startXPos=e.xAxis.reversed?-(r&&r.width||0):e.xAxis.width),n||(t.graphic=n=a[t.shapeType](r).add(t.group||e.group))&&e.enabledDataSorting&&i.hasRendered&&i.pointCount<o&&(n.attr({x:t.startXPos}),l=!0,c="animate"),n&&l&&n[c](x(r)),i.styledMode||n[c](e.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&s.shadow),n&&(n.addClass(t.getClassName(),!0),n.attr({visibility:t.visible?"inherit":"hidden"}))):n&&(t.graphic=n.destroy())}))}drawTracker(t=this.points){const e=this,i=e.chart,s=i.pointer,a=function(t){const e=s.getPointFromEvent(t);"undefined"!==typeof e&&(s.isDirectTouch=!0,e.onMouseOver(t))};let o;t.forEach((function(t){o=g(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),o.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",(function(t){s.onTrackerMouseOut(t)})),h&&e[t].on("touchstart",a),!i.styledMode&&e.options.cursor&&e[t].css({cursor:e.options.cursor}))})),e._hasTracking=!0),m(this,"afterDrawTracker")}remove(){const t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),o.prototype.remove.apply(t,arguments)}}return w.defaultOptions=x(o.defaultOptions,i),f(w.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:a.drawRectangle,getSymbol:d,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),r.registerSeriesType("column",w),w})),e(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i){const{getDeferredAnimation:s}=t,{format:a}=e,{defined:o,extend:r,fireEvent:n,isArray:l,isString:c,merge:h,objectEach:d,pick:u,splat:p}=i;var f;return function(t){function e(t,e,i,s,a){const n=this.chart;var l=this.isCartesian&&n.inverted;const c=this.enabledDataSorting;var h=t.plotX,d=t.plotY;const p=i.rotation;var f=i.align;d=o(h)&&o(d)&&n.isInsidePlot(h,Math.round(d),{inverted:l,paneCoordinates:!0,series:this});let m="justify"===u(i.overflow,c?"none":"justify");if(l=this.visible&&!1!==t.visible&&o(h)&&(t.series.forceDL||c&&!m||d||u(i.inside,!!this.options.stacking)&&s&&n.isInsidePlot(h,l?s.x+1:s.y+s.height-1,{inverted:l,paneCoordinates:!0,series:this})),h=t.pos(),l&&h){p&&e.attr({align:f}),f=e.getBBox(!0);var g=[0,0],v=n.renderer.fontMetrics(e).b;if(s=r({x:h[0],y:Math.round(h[1]),width:0,height:0},s),r(i,{width:f.width,height:f.height}),p?(m=!1,g=n.renderer.rotCorr(v,p),v={x:s.x+(i.x||0)+s.width/2+g.x,y:s.y+(i.y||0)+{top:0,middle:.5,bottom:1}[i.verticalAlign]*s.height},g=[f.x-Number(e.attr("x")),f.y-Number(e.attr("y"))],c&&this.xAxis&&!m&&this.setDataLabelStartPos(t,e,a,d,v),e[a?"attr":"animate"](v)):(c&&this.xAxis&&!m&&this.setDataLabelStartPos(t,e,a,d,s),e.align(i,void 0,s),v=e.alignAttr),m&&0<=s.height)this.justifyDataLabel(e,i,v,f,s,a);else if(u(i.crop,!0)){let{x:t,y:e}=v;t+=g[0],e+=g[1],l=n.isInsidePlot(t,e,{paneCoordinates:!0,series:this})&&n.isInsidePlot(t+f.width,e+f.height,{paneCoordinates:!0,series:this})}i.shape&&!p&&e[a?"attr":"animate"]({anchorX:h[0],anchorY:h[1]})}a&&c&&(e.placed=!1),l||c&&!m?e.show():(e.hide(),e.placed=!1)}function f(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}function m(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function g(t){const e=this.hasRendered||0,i=this.initDataLabelsGroup().attr({opacity:+e});return!e&&i&&(this.visible&&i.show(),this.options.animation?i.animate({opacity:1},t):i.attr({opacity:1})),i}function v(t=this.points){const e=this,i=e.chart,r=e.options,h=i.renderer,{backgroundColor:m,plotBackgroundColor:g}=i.options.chart,v=h.getContrast(c(g)&&g||c(m)&&m||"#000000");let x,b,w=r.dataLabels;var k=p(w)[0];const S=k.animation;k=k.defer?s(i,S,e):{defer:0,duration:0},w=y(y(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[e.type]&&i.options.plotOptions[e.type].dataLabels),w),n(this,"drawDataLabels"),(l(w)||w.enabled||e._hasPointLabels)&&(b=this.initDataLabels(k),t.forEach(t=>{x=p(y(w,t.dlOptions||t.options&&t.options.dataLabels)),x.forEach((s,n)=>{const l=s.enabled&&(!t.isNull||t.dataLabelOnNull)&&f(t,s),c=t.connectors?t.connectors[n]:t.connector;let p,m,g=t.dataLabels?t.dataLabels[n]:t.dataLabel,x=!g;const y=u(s.distance,t.labelDistance);if(l){var w=t.getLabelConfig(),k=u(s[t.formatPrefix+"Format"],s.format);if(w=o(k)?a(k,w,i):(s[t.formatPrefix+"Formatter"]||s.formatter).call(w,s),k=s.style,p=s.rotation,i.styledMode||(k.color=u(s.color,k.color,e.color,"#000000"),"contrast"===k.color?(t.contrastColor=h.getContrast(t.color||e.color),k.color=!o(y)&&s.inside||0>y||r.stacking?t.contrastColor:v):delete t.contrastColor,r.cursor&&(k.cursor=r.cursor)),m={r:s.borderRadius||0,rotation:p,padding:s.padding,zIndex:1},!i.styledMode){const{backgroundColor:e,borderColor:i}=s;m.fill="auto"===e?t.color:e,m.stroke="auto"===i?t.color:i,m["stroke-width"]=s.borderWidth}d(m,(function(t,e){"undefined"===typeof t&&delete m[e]}))}!g||l&&o(w)&&!!g.div===!!s.useHTML&&(g.rotation&&s.rotation||g.rotation===s.rotation)||(x=!0,t.dataLabel=g=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[n]),n||delete t.dataLabel,c&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[n]))),l&&o(w)?(g?m.text=w:(t.dataLabels=t.dataLabels||[],g=t.dataLabels[n]=p?h.text(w,0,0,s.useHTML).addClass("highcharts-data-label"):h.label(w,0,0,s.shape,null,null,s.useHTML,null,"data-label"),n||(t.dataLabel=g),g.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(s.className||"")+(s.useHTML?" highcharts-tracker":""))),g.options=s,g.attr(m),i.styledMode||g.css(k).shadow(s.shadow),(n=s[t.formatPrefix+"TextPath"]||s.textPath)&&!s.useHTML&&(g.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(g)||t.graphic,n),t.dataLabelPath&&!n.enabled&&(t.dataLabelPath=t.dataLabelPath.destroy())),g.added||g.add(b),e.alignDataLabel(t,g,s,null,x)):g&&g.hide()})})),n(this,"afterDrawDataLabels")}function x(t,e,i,s,a,o){const r=this.chart,n=e.align,l=e.verticalAlign,c=t.box?0:t.padding||0;let h,d,{x:u=0,y:p=0}=e;return h=(i.x||0)+c,0>h&&("right"===n&&0<=u?(e.align="left",e.inside=!0):u-=h,d=!0),h=(i.x||0)+s.width-c,h>r.plotWidth&&("left"===n&&0>=u?(e.align="right",e.inside=!0):u+=r.plotWidth-h,d=!0),h=i.y+c,0>h&&("bottom"===l&&0<=p?(e.verticalAlign="top",e.inside=!0):p-=h,d=!0),h=(i.y||0)+s.height-c,h>r.plotHeight&&("top"===l&&0>=p?(e.verticalAlign="bottom",e.inside=!0):p+=r.plotHeight-h,d=!0),d&&(e.x=u,e.y=p,t.placed=!o,t.align(e,void 0,a)),d}function y(t,e){let i,s=[];if(l(t)&&!l(e))s=t.map((function(t){return h(t,e)}));else if(l(e)&&!l(t))s=e.map((function(e){return h(t,e)}));else if(l(t)||l(e))for(i=Math.max(t.length,e.length);i--;)s[i]=h(t[i],e[i]);else s=h(t,e);return s}function b(t,e,i,s,a){const o=this.chart,r=o.inverted,n=this.xAxis,l=n.reversed,c=r?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,e.startXPos=r?a.x:l?-c-t:n.width-c+t,e.startYPos=r?l?this.yAxis.height-c+t:-c-t:a.y,s?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),o.hasRendered&&(i&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)}const w=[];t.compose=function(t){i.pushUnique(w,t)&&(t=t.prototype,t.initDataLabelsGroup=m,t.initDataLabels=g,t.alignDataLabel=e,t.drawDataLabels=v,t.justifyDataLabel=x,t.setDataLabelStartPos=b)}}(f||(f={})),f})),e(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{series:s}=e,{merge:a,pick:o}=i;var r;return function(e){function r(t,e,i,r,n){let l=this.chart.inverted;var c=t.series;let h=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0;c=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0;var d=t.dlBox||t.shapeArgs;let u=o(t.below,t.plotY>o(this.translatedThreshold,c)),p=o(i.inside,!!this.options.stacking);d&&(r=a(d),0>r.y&&(r.height+=r.y,r.y=0),d=r.y+r.height-c,0<d&&d<r.height&&(r.height-=d),l&&(r={x:c-r.y-r.height,y:h-r.x-r.width,width:r.height,height:r.width}),p||(l?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),i.align=o(i.align,!l||p?"center":u?"right":"left"),i.verticalAlign=o(i.verticalAlign,l||p?"middle":u?"top":"bottom"),s.prototype.alignDataLabel.call(this,t,e,i,r,n),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}const n=[];e.compose=function(e){t.compose(s),i.pushUnique(n,e)&&(e.prototype.alignDataLabel=r)}}(r||(r={})),r})),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{extend:s,merge:a}=i;class o extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return o.defaultOptions=a(t.defaultOptions,{}),s(o.prototype,{inverted:!0}),e.registerSeriesType("bar",o),o})),e(i,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{column:s,line:a}=e.seriesTypes,{addEvent:o,extend:r,merge:n}=i;class l extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach((function(s,a){["x","y"].forEach((function(o,r){let n,l,c="plot"+o.toUpperCase();if(e[o]&&!s.isNull){var h=t[o+"Axis"];l=e[o]*h.transA,h&&!h.isLog&&(n=Math.max(0,s[c]-l),h=Math.min(h.len,s[c]+l),r=1e4*Math.sin(a+r*i),r-=Math.floor(r),s[c]=n+(h-n)*r,"x"===o&&(s.clientX=s.plotX))}}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=n(a.defaultOptions,t),r(l.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),o(l,"afterTranslate",(function(){this.applyJitter()})),e.registerSeriesType("scatter",l),l})),e(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:s}=t,{fireEvent:a,isNumber:o,pick:r,relativeLength:n}=i;var l;return function(t){t.getCenter=function(){var t=this.options,i=this.chart;const s=2*(t.slicedOffset||0),l=i.plotWidth-2*s,c=i.plotHeight-2*s;var h=t.center;const d=Math.min(l,c),u=t.thickness;var p=t.size;let f=t.innerSize||0;for("string"===typeof p&&(p=parseFloat(p)),"string"===typeof f&&(f=parseFloat(f)),t=[r(h[0],"50%"),r(h[1],"50%"),r(p&&0>p?void 0:t.size,"100%"),r(f&&0>f?void 0:t.innerSize||0,"0%")],!i.angular||this instanceof e||(t[3]=0),h=0;4>h;++h)p=t[h],i=2>h||2===h&&/%$/.test(p),t[h]=n(p,[l,c,d,t[2]][h])+(i?s:0);return t[3]>t[2]&&(t[3]=t[2]),o(u)&&2*u<t[2]&&0<u&&(t[3]=t[2]-2*u),a(this,"afterGetCenter",{positions:t}),t},t.getStartAndEndRadians=function(t,e){return t=o(t)?t:0,e=o(e)&&e>t&&360>e-t?e:t+360,{start:s*(t+-90),end:s*(e+-90)}}}(l||(l={})),l})),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i){const{setAnimation:s}=t,{addEvent:a,defined:o,extend:r,isNumber:n,pick:l,relativeLength:c}=i;class h extends e{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const t=this.labelPosition,e=this.series.options.dataLabels,i=this.connectorShapes;let s=e.connectorShape;return i[s]&&(s=i[s]),s.call(this,{x:t.computed.x,y:t.computed.y,alignment:t.alignment},t.connectorPosition,e)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(t){const e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}init(){super.init.apply(this,arguments),this.name=l(this.name,"Slice");const t=t=>{this.slice("select"===t.type)};return a(this,"select",t),a(this,"unselect",t),this}isValid(){return n(this.y)&&0<=this.y}setVisible(t,e){const i=this.series,s=i.chart,a=i.options.ignoreHiddenPoint;e=l(e,a),t!==this.visible&&(this.visible=this.options.visible=t="undefined"===typeof t?!this.visible:t,i.options.data[i.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(e=>{this[e]&&this[e][t?"show":"hide"](t)}),this.legendItem&&s.legend.colorizeItem(this,t),t||"hover"!==this.state||this.setState(""),a&&(i.isDirty=!0),e&&s.redraw())}slice(t,e,i){const a=this.series;s(i,a.chart),l(e,!0),this.sliced=this.options.sliced=o(t)?t:!this.sliced,a.options.data[a.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return r(h.prototype,{connectorShapes:{fixedOffset:function(t,e,i){const s=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*s.x-e.x,2*s.y-e.y,s.x,s.y]:["L",s.x,s.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,i){const{breakAt:s,touchingSliceAt:a}=e;({series:e}=this);const[o,r,n]=e.center,l=n/2,h=e.chart.plotWidth,d=e.chart.plotLeft;e="left"===t.alignment;const{x:u,y:p}=t;return i.crookDistance?(t=c(i.crookDistance,1),t=e?o+l+(h+d-o-l)*(1-t):d+(o-l)*t):t=o+(r-p)*Math.tan((this.angle||0)-Math.PI/2),i=[["M",u,p]],(e?t<=u&&t>=s.x:t>=u&&t<=s.x)&&i.push(["L",t,p]),i.push(["L",s.x,s.y],["L",a.x,a.y]),i}}}),h})),e(i,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),e(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l,c){const{getStartAndEndRadians:h}=t;({noop:i}=i);const{clamp:d,extend:u,fireEvent:p,merge:f,pick:m,relativeLength:g}=c;class v extends r{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(t){const e=this,i=e.points,s=e.startAngleRad;t||i.forEach((function(t){const i=t.graphic,a=t.shapeArgs;i&&a&&(i.attr({r:m(t.startR,e.center&&e.center[3]/2),start:s,end:s}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))}))}drawEmpty(){const t=this.startAngleRad,e=this.endAngleRad,i=this.options;let s,a;0===this.total&&this.center?(s=this.center[0],a=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(s,a,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:l.arc(s,a,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":i.borderWidth,fill:i.fillColor||"none",stroke:i.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i){const s=this.center,a=this.radii?this.radii[i.index]||0:s[2]/2;return t=Math.asin(d((t-s[1])/(a+i.labelDistance),-1,1)),s[0]+(e?-1:1)*Math.cos(t)*(a+i.labelDistance)+(0<i.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const t=this,e=t.chart;let i,s,a,o;this.drawEmpty(),t.group&&!e.styledMode&&t.group.shadow(t.options.shadow),t.points.forEach((function(r){const n={};s=r.graphic,!r.isNull&&s?(o=r.shapeArgs,i=r.getTranslate(),e.styledMode||(a=t.pointAttribs(r,r.selected&&"select")),r.delayedRendering?(s.setRadialReference(t.center).attr(o).attr(i),e.styledMode||s.attr(a).attr({"stroke-linejoin":"round"}),r.delayedRendering=!1):(s.setRadialReference(t.center),e.styledMode||f(!0,n,a),f(!0,n,o,i),s.animate(n)),s.attr({visibility:r.visible?"inherit":"hidden"}),s.addClass(r.getClassName(),!0)):s&&(r.graphic=s.destroy())}))}sortByAngle(t,e){t.sort((function(t,i){return"undefined"!==typeof t.angle&&(i.angle-t.angle)*e}))}translate(t){p(this,"translate"),this.generatePoints();var e=this.options;const i=e.slicedOffset,s=i+(e.borderWidth||0);var a=h(e.startAngle,e.endAngle);const o=this.startAngleRad=a.start;a=(this.endAngleRad=a.end)-o;const r=this.points,n=e.dataLabels.distance;e=e.ignoreHiddenPoint;const l=r.length;let c,d,u,f=0;for(t||(this.center=t=this.getCenter()),d=0;d<l;d++){u=r[d];var v=o+f*a;!u.isValid()||e&&!u.visible||(f+=u.percentage/100);var x=o+f*a,y={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*v)/1e3,end:Math.round(1e3*x)/1e3};u.shapeType="arc",u.shapeArgs=y,u.labelDistance=m(u.options.dataLabels&&u.options.dataLabels.distance,n),u.labelDistance=g(u.labelDistance,y.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,u.labelDistance),x=(x+v)/2,x>1.5*Math.PI?x-=2*Math.PI:x<-Math.PI/2&&(x+=2*Math.PI),u.slicedTranslation={translateX:Math.round(Math.cos(x)*i),translateY:Math.round(Math.sin(x)*i)},y=Math.cos(x)*t[2]/2,c=Math.sin(x)*t[2]/2,u.tooltipPos=[t[0]+.7*y,t[1]+.7*c],u.half=x<-Math.PI/2||x>Math.PI/2?1:0,u.angle=x,v=Math.min(s,u.labelDistance/5),u.labelPosition={natural:{x:t[0]+y+Math.cos(x)*u.labelDistance,y:t[1]+c+Math.sin(x)*u.labelDistance},computed:{},alignment:0>u.labelDistance?"center":u.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+y+Math.cos(x)*v,y:t[1]+c+Math.sin(x)*v},touchingSliceAt:{x:t[0]+y,y:t[1]+c}}}}p(this,"afterTranslate")}updateTotals(){const t=this.points,e=t.length,i=this.options.ignoreHiddenPoint;let s,a,o=0;for(s=0;s<e;s++)a=t[s],!a.isValid()||i&&!a.visible||(o+=a.y);for(this.total=o,s=0;s<e;s++)a=t[s],a.percentage=0<o&&(a.visible||!i)?a.y/o*100:0,a.total=o}}return v.defaultOptions=f(r.defaultOptions,o),u(v.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:s.drawRectangle,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:i,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:a,requireSorting:!1,searchPoint:i,trackerGroups:["group","dataLabelsGroup"]}),n.registerSeriesType("pie",v),v})),e(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{noop:o}=e,{distribute:r}=i,{series:n}=s,{arrayMax:l,clamp:c,defined:h,merge:d,pick:u,relativeLength:p}=a;var f;return function(e){function i(){const t=this,e=t.data,i=t.chart,s=t.options.dataLabels||{},a=s.connectorPadding,o=i.plotWidth,c=i.plotHeight,p=i.plotLeft,f=Math.round(i.chartWidth/3),m=t.center,g=m[2]/2,v=m[1],x=[[],[]],y=[0,0,0,0],b=t.dataLabelPositioners;let w,k,S,C,A,T,I,M,L,P,_,O;t.visible&&(s.enabled||t._hasPointLabels)&&(e.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),n.prototype.drawDataLabels.apply(t),e.forEach((function(t){t.dataLabel&&(t.visible?(x[t.half].push(t),t.dataLabel._pos=null,!h(s.style.width)&&!h(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>f&&(t.dataLabel.css({width:Math.round(.7*f)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),x.forEach((e,n)=>{const l=e.length,d=[];let f,x=0;if(l){if(t.sortByAngle(e,n-.5),0<t.maxLabelDistance){var k=Math.max(0,v-g-t.maxLabelDistance);f=Math.min(v+g+t.maxLabelDistance,i.plotHeight),e.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,v-g-t.labelDistance),t.bottom=Math.min(v+g+t.labelDistance,i.plotHeight),x=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+x/2,size:x,rank:t.y},d.push(t.distributeBox))})),k=f+x-k,r(d,k,k/5)}for(_=0;_<l;_++){if(w=e[_],T=w.labelPosition,C=w.dataLabel,P=!1===w.visible?"hidden":"inherit",L=k=T.natural.y,d&&h(w.distributeBox)&&("undefined"===typeof w.distributeBox.pos?P="hidden":(I=w.distributeBox.size,L=b.radialDistributionY(w))),delete w.positionIndex,s.justify)M=b.justify(w,g,m);else switch(s.alignTo){case"connectors":M=b.alignToConnectors(e,n,o,p);break;case"plotEdges":M=b.alignToPlotEdges(C,n,o,p);break;default:M=b.radialDistributionX(t,w,L,k)}C._attr={visibility:P,align:T.alignment},O=w.options.dataLabels||{},C._pos={x:M+u(O.x,s.x)+({left:a,right:-a}[T.alignment]||0),y:L+u(O.y,s.y)-C.getBBox().height/2},T&&(T.computed.x=M,T.computed.y=L),u(s.crop,!0)&&(A=C.getBBox().width,k=null,M-A<a&&1===n?(k=Math.round(A-M+a),y[3]=Math.max(k,y[3])):M+A>o-a&&0===n&&(k=Math.round(M+A-o+a),y[1]=Math.max(k,y[1])),0>L-I/2?y[0]=Math.max(Math.round(I/2-L),y[0]):L+I/2>c&&(y[2]=Math.max(Math.round(L+I/2-c),y[2])),C.sideOverflow=k)}}}),0===l(y)||this.verifyDataLabelOverflow(y))&&(this.placeDataLabels(),this.points.forEach((function(e){if(O=d(s,e.options.dataLabels),k=u(O.connectorWidth,1)){let s;S=e.connector,(C=e.dataLabel)&&C._pos&&e.visible&&0<e.labelDistance?(P=C._attr.visibility,(s=!S)&&(e.connector=S=i.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(t.dataLabelsGroup),i.styledMode||S.attr({"stroke-width":k,stroke:O.connectorColor||e.color||"#666666"})),S[s?"attr":"animate"]({d:e.getConnectorPath()}),S.attr("visibility",P)):S&&(e.connector=S.destroy())}})))}function s(){this.points.forEach((function(t){let e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999})),delete t.distributeBox}),this)}function f(t){let e,i=this.center,s=this.options,a=s.center,o=s.minSize||80,r=null!==s.size;return r||(null!==a[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?e=c(e,o,i[2]-Math.max(t[0],t[2])):(e=c(e,o,i[2]-t[0]-t[2]),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(s.thickness?Math.max(0,e-2*s.thickness):Math.max(0,p(s.innerSize||0,e)),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):r=!0),r}const m=[],g={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,i,s){return t.getX(i<e.top+2||i>e.bottom-2?s:i,e.half,e)},justify:function(t,e,i){return i[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,i,s){return t=t.getBBox().width,e?t+s:i-t-s},alignToConnectors:function(t,e,i,s){let a,o=0;return t.forEach((function(t){a=t.dataLabel.getBBox().width,a>o&&(o=a)})),e?o+s:i-o-s}};e.compose=function(e){t.compose(n),a.pushUnique(m,e)&&(e=e.prototype,e.dataLabelPositioners=g,e.alignDataLabel=o,e.drawDataLabels=i,e.placeDataLabels=s,e.verifyDataLabelOverflow=f)}}(f||(f={})),f})),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e){let i,s=!1;return t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(t[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:i?"auto":"none"})})),a(e,"afterHideOverlappingLabel")):t.attr({opacity:i})),t.isOld=!0),s}const{addEvent:s,fireEvent:a,isArray:o,isNumber:r,objectEach:n,pick:l}=e;s(t,"render",(function(){let t=this,e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&n(t.stacking.stacks,(function(t){n(t,(function(t){t.label&&e.push(t.label)}))}))})),(this.series||[]).forEach((function(s){var a=s.options.dataLabels;s.visible&&(!1!==a.enabled||s._hasPointLabels)&&(a=s=>s.forEach(s=>{s.visible&&(o(s.dataLabels)?s.dataLabels:s.dataLabel?[s.dataLabel]:[]).forEach((function(a){const o=a.options;a.labelrank=l(o.labelrank,s.labelrank,s.shapeArgs&&s.shapeArgs.height),o.allowOverlap?(a.oldOpacity=a.opacity,a.newOpacity=1,i(a,t)):e.push(a)}))}),a(s.nodes||[]),a(s.points))})),this.hideOverlappingLabels(e)})),t.prototype.hideOverlappingLabels=function(t){let e=this,s=t.length,o=e.renderer;var n;let l,c,h,d,u=!1;var p=function(t){let e,i;var s;let a,n,l=t.box?0:t.padding||0,c=s=0;if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(s=t.getBBox(),t.width=s.width,t.height=s.height,s=o.fontMetrics(t.element).h),a=t.width-2*l,(n={left:"0",center:"0.5",right:"1"}[t.alignValue])?c=+n*a:r(t.x)&&Math.round(t.x)!==t.translateX&&(c=t.x-t.translateX),{x:e.x+(i.translateX||0)+l-(c||0),y:e.y+(i.translateY||0)+l-s,width:t.width-2*l,height:t.height-2*l}};for(l=0;l<s;l++)(n=t[l])&&(n.oldOpacity=n.opacity,n.newOpacity=1,n.absoluteBox=p(n));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),l=0;l<s;l++)for(h=(p=t[l])&&p.absoluteBox,n=l+1;n<s;++n)d=(c=t[n])&&c.absoluteBox,!h||!d||p===c||0===p.newOpacity||0===c.newOpacity||"hidden"===p.visibility||"hidden"===c.visibility||d.x>=h.x+h.width||d.x+d.width<=h.x||d.y>=h.y+h.height||d.y+d.height<=h.y||((p.labelrank<c.labelrank?p:c).newOpacity=0);t.forEach((function(t){i(t,e)&&(u=!0)})),u&&a(e,"afterHideAllOverlappingLabels")}})),e(i,"Extensions/BorderRadius.js",[i["Core/Defaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{defaultOptions:r}=t;({seriesTypes:t}=i);const{addEvent:n,extend:l,isObject:c,merge:h,relativeLength:d}=o,u={radius:0,scope:"stack",where:void 0},p=(t,e)=>(c(t)||(t={radius:t||0}),h(u,e,t));if(-1===s.symbolCustomAttribs.indexOf("borderRadius")){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const i=a.prototype.symbols.arc;a.prototype.symbols.arc=function(t,e,s,a,o={}){t=i(t,e,s,a,o);const{innerR:r=0,r:n=s,start:l=0,end:c=0}=o;if(o.open||!o.borderRadius)return t;for(s=c-l,e=Math.sin(s/2),o=Math.max(Math.min(d(o.borderRadius||0,n-r),(n-r)/2,n*e/(1+e)),0),s=Math.min(o,s/Math.PI*2*r),e=t.length-1;e--;){let i=void 0,r=void 0,n=void 0;a=t;var h=e,u=1<e?s:o,p=a[h],f=a[h+1];if("Z"===f[0]&&(f=a[0]),"M"!==p[0]&&"L"!==p[0]||"A"!==f[0]?"A"!==p[0]||"M"!==f[0]&&"L"!==f[0]||(n=f,r=p):(n=p,r=f,i=!0),n&&r&&r.params){p=r[1];var m=r[5];f=r.params;const{start:t,end:e,cx:s,cy:o}=f;var g=m?p-u:p+u;const l=g?Math.asin(u/g):0;m=m?l:-l,g*=Math.cos(l),i?(f.start=t+m,n[1]=s+g*Math.cos(t),n[2]=o+g*Math.sin(t),a.splice(h+1,0,["A",u,u,0,0,1,s+p*Math.cos(f.start),o+p*Math.sin(f.start)])):(f.end=e-m,r[6]=s+p*Math.cos(f.end),r[7]=o+p*Math.sin(f.end),a.splice(h+1,0,["A",u,u,0,0,1,s+g*Math.cos(e),o+g*Math.sin(e)])),r[4]=Math.abs(f.end-f.start)<Math.PI?0:1}}return t};const o=a.prototype.symbols.roundedRect;a.prototype.symbols.roundedRect=function(t,e,i,s,a={}){const r=o(t,e,i,s,a),{r:n=0,brBoxHeight:l=s,brBoxY:c=e}=a;var h=e-c,d=c+l-(e+s);a=-.1<h-n?0:n;const u=-.1<d-n?0:n;var p=Math.max(a&&h,0);const f=Math.max(u&&d,0);d=[t+a,e],h=[t+i-a,e];const m=[t+i,e+a],g=[t+i,e+s-u],v=[t+i-u,e+s],x=[t+u,e+s],y=[t,e+s-u],b=[t,e+a];if(p){const t=Math.sqrt(Math.pow(a,2)-Math.pow(a-p,2));d[0]-=t,h[0]+=t,m[1]=b[1]=e+a-p}return s<a-p&&(p=Math.sqrt(Math.pow(a,2)-Math.pow(a-p-s,2)),m[0]=g[0]=t+i-a+p,v[0]=Math.min(m[0],v[0]),x[0]=Math.max(g[0],x[0]),y[0]=b[0]=t+a-p,m[1]=b[1]=e+s),f&&(p=Math.sqrt(Math.pow(u,2)-Math.pow(u-f,2)),v[0]+=p,x[0]-=p,g[1]=y[1]=e+s-u+f),s<u-f&&(s=Math.sqrt(Math.pow(u,2)-Math.pow(u-f-s,2)),m[0]=g[0]=t+i-u+s,h[0]=Math.min(m[0],h[0]),d[0]=Math.max(g[0],d[0]),y[0]=b[0]=t+u-s,g[1]=y[1]=e),r.length=0,r.push(["M",...d],["L",...h],["A",a,a,0,0,1,...m],["L",...g],["A",u,u,0,0,1,...v],["L",...x],["A",u,u,0,0,1,...y],["L",...b],["A",a,a,0,0,1,...d],["Z"]),r},n(t.pie,"afterTranslate",(function(){const t=p(this.options.borderRadius);for(const e of this.points){const i=e.shapeArgs;i&&(i.borderRadius=d(t.radius,(i.r||0)-(i.innerR||0)))}})),n(e,"afterColumnTranslate",(function(){var t,e;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:o,yAxis:n}=this,h="percent"===o.stacking;var i=null===(e=null===(t=r.plotOptions)||void 0===t?void 0:t[this.type])||void 0===e?void 0:e.borderRadius;t=p(o.borderRadius,c(i)?i:{}),e=n.options.reversed;for(const r of this.points)if(({shapeArgs:i}=r),"roundedRect"===r.shapeType&&i){const{width:c=0,height:u=0,y:p=0}=i;var s=p,a=u;"stack"===t.scope&&r.stackTotal&&(s=n.translate(h?100:r.stackTotal,!1,!0,!1,!0),a=n.translate(o.threshold||0,!1,!0,!1,!0),a=this.crispCol(0,Math.min(s,a),0,Math.abs(s-a)),s=a.y,a=a.height);const f=-1===(r.negative?-1:1)*(e?-1:1);let m=t.where;!m&&this.is("waterfall")&&Math.abs((r.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(m="all"),m||(m="end");const g=Math.min(d(t.radius,c),c/2,"all"===m?u/2:1/0)||0;"end"===m&&(f&&(s-=g),a+=g),l(i,{brBoxHeight:a,brBoxY:s,r:g})}}}),{order:9})}return e={optionsToObject:p},e})),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,find:i,isArray:s,isObject:a,merge:o,objectEach:r,pick:n,splat:l,uniqueKey:c}=t;var h;return function(h){function d(t){function e(t,o,n,c){let h;r(t,(function(t,r){if(!c&&-1<i.collectionsWithUpdate.indexOf(r)&&o[r])for(t=l(t),n[r]=[],h=0;h<Math.max(t.length,o[r].length);h++)o[r][h]&&(void 0===t[h]?n[r][h]=o[r][h]:(n[r][h]={},e(t[h],o[r][h],n[r][h],c+1)));else a(t)?(n[r]=s(t)?[]:{},e(t,o[r]||{},n[r],c+1)):n[r]="undefined"===typeof o[r]?null:o[r]}))}const i=this,o={};return e(t,this.options,o,0),o}function u(t,e){const i=t.condition;(i.callback||function(){return this.chartWidth<=n(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=n(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=n(i.minWidth,0)&&this.chartHeight>=n(i.minHeight,0)}).call(this)&&e.push(t._id)}function p(t,e){const s=this.options.responsive;var a=this.currentResponsive;let r=[];!e&&s&&s.rules&&s.rules.forEach(t=>{"undefined"===typeof t._id&&(t._id=c()),this.matchResponsiveRule(t,r)},this),e=o(...r.map(t=>i((s||{}).rules||[],e=>e._id===t)).map(t=>t&&t.chartOptions)),e.isResponsiveOptions=!0,r=r.toString()||void 0,r!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,t,!0),r?(a=this.currentOptions(e),a.isResponsiveOptions=!0,this.currentResponsive={ruleIds:r,mergedOptions:e,undoOptions:a},this.update(e,t,!0)):this.currentResponsive=void 0)}const f=[];h.compose=function(i){return t.pushUnique(f,i)&&e(i.prototype,{currentOptions:d,matchResponsiveRule:u,setResponsive:p}),i}}(h||(h={})),h})),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],(function(t,e,i,s,a,o,r,n,l,c,h,d,u,p,f,m,g,v,x,y,b,w,k,S,C,A,T,I,M,L,P,_,O,D){return t.animate=a.animate,t.animObject=a.animObject,t.getDeferredAnimation=a.getDeferredAnimation,t.setAnimation=a.setAnimation,t.stop=a.stop,t.timers=s.timers,t.AST=o,t.Axis=u,t.Chart=w,t.chart=w.chart,t.Fx=s,t.Legend=b,t.PlotLineOrBand=m,t.Point=x,t.Pointer=y,t.Series=C,t.StackItem=S,t.SVGElement=l,t.SVGRenderer=c,t.Tick=g,t.Time=D,t.Tooltip=v,t.Color=O,t.color=O.parse,d.compose(c),h.compose(l),y.compose(w),b.compose(w),t.defaultOptions=i.defaultOptions,t.getOptions=i.getOptions,t.time=i.defaultTime,t.setOptions=i.setOptions,t.dateFormat=r.dateFormat,t.format=r.format,t.numberFormat=r.numberFormat,t.addEvent=e.addEvent,t.arrayMax=e.arrayMax,t.arrayMin=e.arrayMin,t.attr=e.attr,t.clearTimeout=e.clearTimeout,t.correctFloat=e.correctFloat,t.createElement=e.createElement,t.css=e.css,t.defined=e.defined,t.destroyObjectProperties=e.destroyObjectProperties,t.discardElement=e.discardElement,t.distribute=n.distribute,t.erase=e.erase,t.error=e.error,t.extend=e.extend,t.extendClass=e.extendClass,t.find=e.find,t.fireEvent=e.fireEvent,t.getMagnitude=e.getMagnitude,t.getStyle=e.getStyle,t.inArray=e.inArray,t.isArray=e.isArray,t.isClass=e.isClass,t.isDOMElement=e.isDOMElement,t.isFunction=e.isFunction,t.isNumber=e.isNumber,t.isObject=e.isObject,t.isString=e.isString,t.keys=e.keys,t.merge=e.merge,t.normalizeTickInterval=e.normalizeTickInterval,t.objectEach=e.objectEach,t.offset=e.offset,t.pad=e.pad,t.pick=e.pick,t.pInt=e.pInt,t.relativeLength=e.relativeLength,t.removeEvent=e.removeEvent,t.seriesType=A.seriesType,t.splat=e.splat,t.stableSort=e.stableSort,t.syncTimeout=e.syncTimeout,t.timeUnits=e.timeUnits,t.uniqueKey=e.uniqueKey,t.useSerialIds=e.useSerialIds,t.wrap=e.wrap,I.compose(T),P.compose(C),p.compose(u),f.compose(u),L.compose(M),m.compose(u),_.compose(w),k.compose(u,w,C),v.compose(y),t})),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]}))},ec15:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[!i.name||i.hasOwnProperty("visible")&&!i.show?t._e():[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()])])]:t._e()]}))],2)],1)]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}})],1)},a=[],o=(i("14d9"),i("13d5"),i("381e")),r=i("5e23"),n=i("1b0d"),l=i("fa1f"),c=i("a7d2"),h=i("dd90"),d=i("abe1"),u=i("bc3a"),p=i.n(u),f=i("ee54"),m=i("9996"),g=i("869e"),v=i("cade"),x={name:"Attachments",components:{Sheet:o["a"],EmailSharing:r["a"],FileIcon:l["a"],FileDetails:d["a"],MetaDataEdit:f["a"],CheckboxField:g["a"],ListItem:v["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formCheckList:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},wform:{type:Object,default:()=>{}},repositoryDetails:{type:Object,default:()=>{}},workflowModel:{type:Object,default:()=>{}},formUploadFiles:{type:Array,default:()=>[]},formFields:{type:Array,default:()=>[]},repositoryField:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},attachments:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},isPortal:{type:Boolean,default:!1}},data(){return{attachmentSheet:!1,attachmentList:[],selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],checkListRowIndex:0,selectedFile:{},mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,watchViewerClose:null,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],uploadFilename:"",showMetaDataEditModal:!1,selectedUploadFile:{},documentLoad:null,documentLoadList:[],metaDataModal:{},metaDataTitle:"",selectedCheckListName:""}},computed:{selectedFileCount(){this.clearAttach();let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t}},watch:{value:{immediate:!0,handler(){if(this.value)if(this.attachmentSheet=!0,this.attachmentList=this.attachments,this.attachmentSheet&&this.selectedProcess.processId){if(this.getAttachments(),this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}}},methods:{async getAttachments(t=0,e=0){let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await n["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.$emit("attachmentCount",this.attachmentList.length)):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.selectedProcess.attachmentCount!==this.attachmentList.length&&this.$emit("update:formCheckList",!0)}},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&3===this.$store.state.session.tenantId},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await n["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},clearAttach(){console.log("clear")},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click(),this.selectedCheckListName=this.checkList.find(e=>t==e.uid).name},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},getLabel(t){let e="",i=this.wform.formJson?JSON.parse(this.wform.formJson):this.wform;const s=[...i.panels,...i.secondaryPanels];if(!s.length)return;let a=[];for(const o of s)a.push(...o.fields);return a.forEach(i=>{const s=i.settings.specific.tableColumns.find(e=>e.id===t);if(s)e=s.label;else if(i.id===t)return void(e=i.label)}),e},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,this.isTenantArmgroup()?window.open(this.fileLink()):this.fileSheet=!0)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(h["d"])(e))s=this.isTenantArmgroup()?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="",s="";if("inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(s="&action=all"),Object(h["d"])(e))this.isTenantArmgroup()?(s="",i="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):"https://trial.ezofis.com"!==t||Object(h["c"])(e)?i=this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":(localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="https://trial.ezofis.com/docsviewer/index.html");else{if(Object(h["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${s}`}}},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(h["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await n["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getFileData(t,e){const{error:i,payload:s}=await n["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.$emit("attachmentCount",this.attachmentList.length-1),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await n["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await n["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(this.fileSheet=!1,localStorage.removeItem("viewerClose"),clearInterval(this.watchViewerClose),this.workflow.initiatedBy)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflowId||2092===this.workflowId)&&0===this.attachmentList.length},async uploadWflowAttachments(t){if("STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;const e=this.repositoryField.reduce((t,e)=>e.level>t.level?e:t,this.repositoryField[0]),i=e.id,s=this.fileData.find(t=>i==t.id);if(!this.selectedCheckListName){const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length?s&&(s.value=""):(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName")),this.showMetaDataEditModal=!0}if(this.selectedCheckListName){s&&(s.value=this.selectedCheckListName);const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length||(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName"));const i=this.repositoryField.filter(t=>!0===t.isMandatory).map(t=>t.id),a=i.every(t=>{const e=this.fileData.find(e=>e.id===t);return e&&""!==e.value});if(this.showMetaDataEditModal=!a,a){const t={};this.fileData.forEach(e=>{t[e.name]=""!==e.value?e.value:""}),console.log(t,"New Object"),this.saveMetaData(t)}else this.showMetaDataEditModal=!0;this.selectedCheckListName=""}}else this.uploadAttachments(t)},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflowId),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),e?a.append("fields",e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(h["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await p()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(h["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const i=await p()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBar");const{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let h=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),d=this.fileData.find(t=>t.name===h.name),u=!1;"pdf"!==r.toLowerCase()&&(u=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?d.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:u}),this.$emit("attachmentCount",this.attachmentList.length),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments&&(this.$refs.attachments.value=null)},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(m["a"])(e.label)===Object(m["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},closeAttachmentsSheet(){this.attachmentSheet=!1,this.$emit("update:attachments",this.attachmentList),this.$emit("attachmentCount",this.attachmentList.length),this.$emit("update:value",!1)}}},y=x,b=(i("11f5"),i("2877")),w=i("b047"),k=i("cb32"),S=i("4e73"),C=i("93dc"),A=i.n(C),T=Object(b["a"])(y,s,a,!1,null,"dc5d287e",null);e["a"]=T.exports;A()(T,"components",{QChip:w["a"],QAvatar:k["a"],QMenu:S["a"]})},ec90:function(t,e,i){"use strict";i("61b5")},ed61:function(t,e,i){"use strict";i("c0f4")},ee26:function(t,e,i){"use strict";i("cbc3")},ee54:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[t.editFromFileSheet?t._e():t._l(t._repositoryField,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:i,"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:t.fieldsModel[i.name],callback:function(e){t.$set(t.fieldsModel,i.name,e)},expression:"fieldsModel[field.name]"}})]]],2)})),t.editFromFileSheet?t._l(t.fieldsModalData,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:t.getField(i.fieldId),"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:i.newValue,callback:function(e){t.$set(i,"newValue",e)},expression:"field.newValue"}})]]],2)})):t._e()],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.save}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("6a70"),n=i("7794"),l=i("9996"),c=i("7ee8"),h={name:"MetaDataEdit",components:{Modal:r["a"],ValidationObserver:o["a"],RepositoryField:n["a"]},props:{value:{type:Boolean,default:!1},file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},fileData:{type:Array,required:!0},title:{type:String,default:"Metadata Edit"},columns:{type:Array,default:()=>[]},modalValue:{type:Object,default:()=>{}},readOnly:{type:Boolean,default:!1},uploadFilename:{type:String,default:""},editFromFileSheet:{type:Boolean,default:!1},metaDataFields:{type:Object,default:()=>{}}},data(){return{fieldsModel:{},fieldsModalData:[]}},computed:{_repositoryField(){return this.repositoryField.map(t=>({...t,options:t.options?JSON.parse(t.options):[]}))}},watch:{fileData:{immediate:!0,deep:!0,async handler(){this.editFromFileSheet?(this.fieldsModalData=[],this.fileData.length&&this.fileData.forEach(t=>{this.fieldsModalData.push({fieldId:t.id,oldValue:t.value,newValue:t.value})})):this.processFieldsModel()}},value(){this.value&&this.processFieldsModel()}},methods:{processFieldsModel(){if(this.fieldsModel={},this.fileData.length?this.fileData.forEach(t=>{this.$set(this.fieldsModel,t.name,t.value)}):this._repositoryField.forEach(t=>{let e=this.columns.find(e=>Object(l["a"])(e.label)===Object(l["a"])(t.name));e?this.modalValue.formData?this.$set(this.fieldsModel,t.name,this.modalValue.formData.fields[e.id]):this.modalValue[e.name]?this.$set(this.fieldsModel,t.name,this.modalValue[e.name]):this.modalValue[e.id]&&this.$set(this.fieldsModel,t.name,this.modalValue[e.id]):Object(c["a"])(this.metaDataFields)?this.$set(this.fieldsModel,t.name,""):this.$set(this.fieldsModel,t.name,this.metaDataFields[t.name])}),this.uploadFilename){let t=this.uploadFilename.substring(0,this.uploadFilename.lastIndexOf(".")),e=this._repositoryField.find(t=>"filename"==t.name.toLowerCase());e&&this.$set(this.fieldsModel,e.name,t)}},closeModal(){this.$emit("close",!1)},async save(){const t=await this.$refs.form.validate();t&&(this.$emit("save",this.editFromFileSheet?this.fieldsModalData:this.fieldsModel),this.$emit("close",!1))},getField(t){let e=this._repositoryField.find(e=>t===e.id);if(e)return e}}},d=h,u=(i("4697"),i("2877")),p=Object(u["a"])(d,s,a,!1,null,"059cbd7c",null);e["a"]=p.exports},eead:function(t,e,i){},ef04:function(t,e,i){},f108:function(t,e,i){},f6de:function(t,e,i){},f92f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item-list"}},[t.selectedDummyData?t._t("default"):t._e(),e("BaseScrollbar",{attrs:{height:t.breadcrumbs||t.report?"calc(100vh - 310px)":"calc(100vh - 260px)"}},[e("table",[t.tableHeader?e("thead",[e("tr",{staticStyle:{"background-color":"var(--body-bg-color)"}},[e("th",{staticClass:"sticky icon",staticStyle:{left:"0"}},[t.checkbox?e("div",{staticClass:"row items-center justify-center"},[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.handleSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}})],1):t._e()]),t.repository&&t.checkbox?[e("th",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"80px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e()]:[t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e()],t._l(t._columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),t.noActions?t._e():e("th",{staticClass:"sticky action",staticStyle:{right:"0"}})],2)]):t._e(),e("tbody",[t._l(t.items,(function({key:i,value:s,data:a}){return[i?e("tr",{key:s},[e("td",{staticClass:"group-by",attrs:{colspan:"2"}},[e("span",{staticClass:"key"},[t._v(t._s(i)+": ")]),e("span",[t._v(t._s(s)+" ")]),e("span",[t._v("("+t._s(a.length)+")")])])]):t._e(),t._l(a,(function(i,s){return[e("tr",{key:i.id,class:{"no-border":0===s,background:!t.noBackground,checkout:2===i.checkinStatus},on:{click:function(e){return t.toggleLink(i,a)}}},[t.repository&&t.checkbox?[e("td",{staticClass:"sticky icon",staticStyle:{left:"0"}},[t.checkbox?e("div",{staticClass:"row items-center justify-center"},[e("CheckboxField",{on:{input:function(e){return t.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}})],1):t._e()]),e("td",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}},[e("div",{staticClass:"row items-center justify-center",staticStyle:{width:"20px"}},[t._t("avatar",null,{item:i})],2)])]:[e("td",{staticClass:"sticky icon",staticStyle:{left:"0",width:"36px"}},[t.checkbox?e("div",{staticClass:"col items-center justify-center"},[e("CheckboxField",{on:{input:function(e){return t.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}}),i.subWorkflow?[i.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2):e("div",{staticClass:"col items-center justify-center"},[t._t("avatar",(function(){return[i.buttonAction?["Closed"!==i.status?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Mark Completed",expression:"'Mark Completed'",modifiers:{top:!0}}],attrs:{name:t.selectedRowIndex===s?"mdi-check":i.icon,color:t.selectedRowIndex===s?"primary":i.color},on:{mouseover:function(e){t.selectedRowIndex=s},mouseout:function(e){t.selectedRowIndex=-1},click:function(e){return t.$emit("complete",i.id)}}})]:[e("BaseIcon",{attrs:{name:i.icon,color:i.color}})]]:[i.iconTooltip?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"item.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color||"secondary"}})]:[e("BaseIcon",{attrs:{name:i.icon,color:i.color||"secondary"}})]]]}),{item:i}),i.subWorkflow?[i.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2)])],t.title?e("td",{staticClass:"sticky",style:"left:"+t.leftcount,on:{click:function(e){i.link&&t.$emit("select",i.id,a)}}},[t._t("title",(function(){return[e("div",{staticClass:"font-medium ellipsis",class:i.link?"text-underline":"",staticStyle:{"max-width":"250px"}},[e("span",{on:{mouseover:function(e){return t.$emit("showThumbnail",i,e)},mouseleave:function(e){return t.$emit("hideThumbnail",i)}}},[t._v(t._s(i[t.title.name])+" ")])])]}),{item:i,title:i[t.title.name]}),t._t("thumbnail",null,{item:i})],2):t._e(),t._l(t._columns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["TABLE"===s.dataType?[i[s.name]?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Table Data",expression:"'Table Data'",modifiers:{top:!0}}],attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.showTable(s.name,i[s.name])}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]:"ICON"===s.type?[i[s.name]?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip[s.name],expression:"item.iconTooltip[column.name]",modifiers:{top:!0}}],attrs:{name:i[s.name],color:i.iconColor[s.name]}})]:[t._v(" "+t._s("-")+" ")]]:"FILE_UPLOAD"===s.dataType?[i[s.name]?["string"===typeof i[s.name]?e("div",{staticClass:"ellipsis medium"},t._l(JSON.parse(i[s.name]),(function(s,a){return e("div",{key:a,staticClass:"row"},[e("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"text-secondary file-underline col",on:{click:function(e){return t.viewFile(s,i)}}},[t._v(t._s(s.fileName))])],1)})),0):e("div",{staticClass:"ellipsis medium"},t._l(i[s.name],(function(s,a){return e("div",{key:a,staticClass:"row"},[e("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"text-secondary file-underline col",on:{click:function(e){return t.viewFile(s,i)}}},[t._v(t._s(s.fileName))])],1)})),0)]:t._e()]:[e("div",{class:{"data-change":t.hasMetaDataEdit},on:{click:function(e){return t.handleOpenInput(i,s)}}},[t._v(" "+t._s(i[s.name]||"-")+" ")])]]}),{value:i[s.name],item:i})],2)})),t.noActions?t._e():e("td",{staticClass:"sticky action",staticStyle:{right:"0",width:"50px"}},[t._t("actions",(function(){return["BROWSE"===t.mode?[i.actionAccess?t._e():[e("div",{staticClass:"row justify-end no-wrap"},[t.security||t.visibility(i)?[i.actionButton?[i.infoIcon?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-check-all",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-bell-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-shield-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("secure",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(e){return e.stopPropagation(),t.$emit("more",i.id)}}},[t._t("extraMenu")],2)]:[i.infoIcon?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",i.id)}}}):t._e(),1===i.emailStatus?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-check-outline",color:"green"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):0===i.emailStatus?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-sync-outline",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):t.resend?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",i.id)}}}),t.showExport?e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-download-outline",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.$emit("export",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(e){return e.stopPropagation(),t.$emit("more",i.id)}}},[t._t("extraMenu")],2)]]:t._e()],2)]]:t._e(),"TRASH"===t.mode?[e("div",{staticClass:"row justify-end"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"mdi-history","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("restore",i.id)}}})],1)]:t._e()]}),{item:i})],2)],2),i.subWorkflow?[i.subWorkflow.length?[i.expandSubworkflow?e("tr",{key:i.id,staticClass:"sub-background"},[e("td",{attrs:{colspan:t._columns.length+3}},[e("table",{key:"subtable"+i.id,staticStyle:{"margin-left":"20px",border:"1px solid var(--divider-color)","table-layout":"fixed","max-width":"70%","min-width":"calc(70% - 1px)","border-collapse":"collapse","white-space":"nowrap"}},[e("thead",[e("tr",[e("th",{staticClass:"sticky icon",staticStyle:{left:"0","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"icon"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"title"}},[e("div",{staticClass:"font-medium ellipsis",staticStyle:{"max-width":"250px"}},[t._v(" "+t._s(t.title.label)+" ")])]):t._e(),t._l(t._subWorkflowColumns,(function(i){return e("th",{key:i.id,staticStyle:{"background-color":"rgb(222 217 247)",width:"2%"}},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky",staticStyle:{"background-color":"rgb(222 217 247)"}})],2)]),e("tbody",[t._l(i.subWorkflow,(function(i){return[e("tr",{key:i.requestNo},[e("td",{staticClass:"sticky icon sub-background",staticStyle:{left:"0"},attrs:{name:"avatar"}},[e("div",{staticClass:"row items-center sticky justify-center"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"subItem.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color}})],1)]),e("td",{staticClass:"sticky sub-background",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"},attrs:{name:"title"}},[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.requestNo,expression:"subItem.requestNo",modifiers:{top:!0}}],staticClass:"row items-center text-underline",staticStyle:{overflow:"hidden !important","white-space":"unset !important",width:"220px"},on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")])]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.stage)+" ")]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.raisedBy)+" ")]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.raisedAt)+" ")]),e("td",{staticClass:"sticky sub-background",staticStyle:{right:"0px",width:"20%"}},[t._t("subactions",null,{item:i})],2)])]}))],2)])])]):t._e()]:t._e()]:t._e()]}))]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],2)},a=[],o=(i("caad"),i("869e")),r=i("6a70"),n=i("fa1f"),l={name:"ItemList",components:{CheckboxField:o["a"],Modal:r["a"],FileIcon:n["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},noBackground:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},tableHeader:{type:Boolean,default:!0},security:{type:Boolean,default:!0},checkbox:{type:Boolean,default:!1},hasMetaDataEdit:{type:Boolean,required:!1},breadcrumbs:{type:Boolean,default:!1},report:{type:Boolean,default:!1},resend:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},repository:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{selectedRowIndex:-1,userId:this.$store.state.session.id,email:this.$store.state.session.email,selectedDummyData:!1,expandTableModal:!1,tableTitle:"",tableData:[]}},computed:{_columns(){return this.columns.filter(t=>"TITLE"!==t.type&&t.isVisible)},title(){return this.columns.find(t=>"TITLE"===t.type)},leftcount(){return this.repository&&this.checkbox?"80px":"36px"},_subWorkflowColumns(){let t=[{id:this.$nano.id(),name:"stage",label:"Stage",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",type:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}];return t}},created(){this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!1)})})},methods:{visibility(t){const e=Number(this.userId),i=this.email;let s=!1;const a=t.owner?t.owner.map(t=>t.id):[0],o=t.coordinator?t.coordinator.map(t=>t.id):[0];return(t.createdBy===i||a.includes(e)||o.includes(e)||1===e)&&(s=!0),s},handleCheckboxChange(t){this.selectAll=!1,this.selectedDummyData=!this.selectedDummyData;const e=this.items.flatMap(t=>t.data).find(e=>e.id===t);e&&this.$set(e,"selected",e.selected),this.$emit("update-selected-all",this.selectAll)},handleSelectAll(){!0===this.selectAll&&this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!0)})}),!1===this.selectAll&&this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!1)})}),this.$emit("update-selected-all",this.selectAll)},showTable(t,e){e&&(this.report?this.$emit("showTable",t,e):(this.tableTitle=t,this.tableData=JSON.parse(e),this.expandTableModal=!0))},handleOpenInput(t,e){this.$emit("openMetaDataEdit",t,e)},viewFile(t,e){t.createdBy=e.createdBy,t.createdAt=e.createdAt,t.name||(t.name=t.fileName),t.id||(t.id=t.itemId),this.$emit("viewFile",t)},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},toggleLink(t,e){t.expandSubworkflow=!t.expandSubworkflow,!t.link&&this.$emit("select",t.id,e),this.selectedDummyData=!this.selectedDummyData},openSubProcess(t){this.$emit("openSubWorkflow",t)}}},c=l,h=(i("d37d"),i("2877")),d=Object(h["a"])(c,s,a,!1,null,"00be4c3f",null);e["a"]=d.exports},fa2c:function(t,e,i){},fa79:function(t,e,i){"use strict";i("3002")},fb47:function(t,e,i){"use strict";i("1483")},fca7:function(t,e,i){},fd96:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":!0,"has-footer":"",width:"650px"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Save Report")]},proxy:!0},{key:"default",fn:function(){return[e("FormFieldLabel",{staticClass:"q-pa-sm",attrs:{label:"This report will be saved to your reports section.you can also add it to a dashboard for quick access.stay organized and easily track your data insights!",transform:""}}),e("div",{attrs:{id:"document-save-details"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 170px)"}},[e("div",{staticClass:"q-pl-md q-pr-md q-pb-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"Report Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Report Name","is-mandatory":"",error:i[0]},model:{value:t.reportNmae,callback:function(e){t.reportNmae=e},expression:"reportNmae"}})]}}])}),e("ValidationProvider",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Description","is-mandatory":"",error:i[0]},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})]}}])}),e("div",{staticClass:"q-mr-md q-mt-lg",staticStyle:{"border-bottom":"1px solid var(--divider-color)",color:"var(--icon-color)"}},[t._v(" Add This Report To Dashboard : ")]),e("div",{},[e("CheckboxField",{staticClass:"q-mt-lg",attrs:{label:"Add To Dashboard",description:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t.selected?e("div",{staticClass:"q-mr-md q-mt-lg",staticStyle:{"border-bottom":"1px solid var(--divider-color)",color:"var(--icon-color)"}},[t._v(" Who Can Acess This Report : ")]):t._e(),t.selected?e("SingleChoiceField",{staticClass:"q-mt-lg",attrs:{value:t.selecteduser,options:t.selectUser,"options-per-line":2,"is-mandatory":"","show-options-wrapper":!1},on:{input:t.updateuser}}):t._e(),t.selected&&"selectuser"===t.selecteduser?e("MultiSelectField",{staticClass:"field q-mt-lg",attrs:{label:"users","is-mandatory":"",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}):t._e(),t._l(t.fileList,(function(i){return[e("q-chip",{key:i.id,staticClass:"chips secondary-hover cursor-pointer",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{attrs:{icon:"mdi-file",color:"secondary","text-color":"white"},on:{click:function(e){return t.remove(i.id)}}}),t._v(" "+t._s(i.name)+" "),e("q-avatar",{staticClass:"close-icon",attrs:{icon:"mdi-close","text-color":"red"},on:{click:function(e){return t.remove(i.id)}}})],1)]}))],2)])],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:function(e){return t.$emit("input",!1)}}}),e("BaseButton",{attrs:{label:"Save"},on:{click:t.saveFilter}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("381e"),n=i("b3d1"),l=i("1b0d"),c=i("9234"),h=i("c3d2"),d=i("869e"),u=i("3445"),p={name:"EmailSharing",components:{Sheet:r["a"],ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:n["a"],SingleChoiceField:c["a"],MultiSelectField:h["a"],CheckboxField:d["a"],FormFieldLabel:u["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},fileList:{type:Array,default:()=>[]},filter:{type:Array,default:()=>[]},page:{type:String,default:""},edit:{type:Array,default:()=>[]}},data(){return{reportNmae:"",subject:"",selected:!1,selecteduser:"",selectUser:[{id:this.$nano.id(),label:"Private to me",description:"",value:"private"},{id:this.$nano.id(),label:"Select User",description:"",value:"selectuser"}],userList:[],forwardUsers:[],userVale:[]}},watch:{selected:{deep:!0,immediate:!0,handler(){!1===this.selected&&(this.userList=[],this.forwardUsers=[],this.selecteduser="")}},value:{deep:!0,immediate:!0,async handler(){this.value&&await this.clearFields()}},edit:{deep:!0,immediate:!0,async handler(){if(await this.clearFields(),this.edit.length){this.forwardUsers=[];let t=JSON.parse(this.edit[0].assignTo);this.reportNmae=this.edit[0].name,this.subject=this.edit[0].description,this.selected=this.edit[0].dashboard,1===t.length?this.selecteduser="private":this.selecteduser="selectuser","selectuser"===this.selecteduser&&(await this.getUsers(),this.forwardUsers=t)}}}},created(){},methods:{clearFields(){this.userList=[],this.forwardUsers=[],this.selecteduser={},this.selected=!1,this.selecteduser="",this.reportNmae="",this.subject=""},remove(t){if(this.fileList.length>1){let e=this.fileList.filter(e=>e.id!=t);this.$emit("update:fileList",e)}else this.$alert.warning("Minimum one document is required")},async saveFilter(){const t=await this.$refs.form.validate();if(!t)return;let e=[];this.fileList.forEach(t=>{e.push(t.id)});let i=JSON.stringify(this.filter),s=[{uId:this.repositoryId,filters:i}],a=JSON.stringify(s),o=this.$store.state.session.id;if("selectuser"===this.selecteduser?this.userVale=this.forwardUsers:"private"===this.selecteduser&&(this.userVale=[o]),this.edit.length){let t={name:this.reportNmae,description:this.subject,filterJson:this.edit[0].filterJson,filterFrom:this.page,pinDashboard:this.selected,assignTo:JSON.stringify(this.userVale)};const{error:e}=await l["e"].deleteFilter(this.edit[0].id,t);if(e)return void this.$alert.warning("Editing error on Filter ")}else{let t={name:this.reportNmae,description:this.subject,filterJson:a,filterFrom:this.page,pinDashboard:this.selected,assignTo:JSON.stringify(this.userVale)};const{error:e}=await l["e"].saveDashboard(t);if(e)return void this.$alert.warning("The Name Already Registered ")}this.$alert.success("The Filter Saved SuccessFully"),this.clearFields(),this.$emit("input",!1),this.$emit("success")},updateuser(t){this.selecteduser=t,this.$emit("update:selected",this.selecteduser),"selectuser"===this.selecteduser?this.getUsers():"private"===this.selecteduser&&(this.userList=[],this.forwardUsers=[])},async getUsers(){this.userList=[];const{error:t,payload:e}=await l["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{t.id&&this.userList.push({id:this.$nano.id(),label:t.value,value:t.id})})}}},f=p,m=(i("2d32"),i("2877")),g=i("b047"),v=i("cb32"),x=i("93dc"),y=i.n(x),b=Object(m["a"])(f,s,a,!1,null,"943906e0",null);e["a"]=b.exports;y()(b,"components",{QChip:g["a"],QAvatar:v["a"]})},fdd5:function(t,e,i){"use strict";i("4d38")},ff13:function(t,e,i){}}]);
//# sourceMappingURL=repositories-reports.08735274.js.map