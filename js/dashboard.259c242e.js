(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~fc714461","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97","form-builder~portal-builder~upload-and-index~workflow-builder","custom-form~external-request~portal-accesss-custom","forms-overview~tasks-overview","integration-browse~repositories-reports-overview"],{"00c2":function(t,e,i){t.exports=i.p+"img/name-light.137e40b6.png"},"00f0":function(t,e,i){},"0170":function(t,e,i){"use strict";var s=i("a026"),a=i("87e8"),o=i("e277");e["a"]=s["default"].extend({name:"QItemLabel",mixins:[a["a"]],props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},computed:{classes(){return{"q-item__label--overline text-overline":this.overline,"q-item__label--caption text-caption":this.caption,"q-item__label--header":this.header,ellipsis:1===parseInt(this.lines,10)}},style(){if(void 0!==this.lines&&parseInt(this.lines,10)>1)return{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":this.lines}}},render(t){return t("div",{staticClass:"q-item__label",style:this.style,class:this.classes,on:{...this.qListeners}},Object(o["c"])(this,"default"))}})},"02fb":function(t,e,i){"use strict";i("8920")},"0319":function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach(i=>{i.call(this.chart,t,e)})}}t.Additions=e}(t||(t={})),t})),e(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],(function(t){return({isTouchDevice:t}=t),{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:t?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}})),e(t,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var t;return function(t){function e(t,e,i,s){return[["M",t,e+2.5],["L",t+i,e+2.5],["M",t,e+s/2+.5],["L",t+i,e+s/2+.5],["M",t,e+s-1.5],["L",t+i,e+s-1.5]]}function i(t,e,i,s){return t=s/3-2,s=[],s.concat(this.circle(i-t,e,t,t),this.circle(i-t,e+t+4,t,t),this.circle(i-t,e+2*(t+4),t,t))}const s=[];t.compose=function(t){-1===s.indexOf(t)&&(s.push(t),t=t.prototype.symbols,t.menu=e,t.menuball=i.bind(t))}}(t||(t={})),t})),e(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.fullscreen=new r(this)}const{addEvent:s,fireEvent:a}=e,o=[];class r{static compose(t){e.pushUnique(o,t)&&s(t,"beforeRender",i)}constructor(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"===typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const t=this,e=t.chart,i=e.options.chart;a(e,"fullscreenClose",null,(function(){t.isOpen&&t.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[t.browserProps.exitFullscreen](),t.unbindFullscreenEvent&&(t.unbindFullscreenEvent=t.unbindFullscreenEvent()),e.setSize(t.origWidth,t.origHeight,!1),t.origWidth=void 0,t.origHeight=void 0,i.width=t.origWidthOption,i.height=t.origHeightOption,t.origWidthOption=void 0,t.origHeightOption=void 0,t.isOpen=!1,t.setButtonText()}))}open(){const t=this,e=t.chart,i=e.options.chart;a(e,"fullscreenOpen",null,(function(){if(i&&(t.origWidthOption=i.width,t.origHeightOption=i.height),t.origWidth=e.chartWidth,t.origHeight=e.chartHeight,t.browserProps){const i=s(e.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(e.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())})),a=s(e,"destroy",i);t.unbindFullscreenEvent=()=>{i(),a()};const o=e.renderTo[t.browserProps.requestFullscreen]();o&&o["catch"]((function(){alert("Full screen is not supported inside a frame.")}))}}))}setButtonText(){var e=this.chart,i=e.exportDivElements;const s=e.options.exporting,a=s&&s.buttons&&s.buttons.contextButton.menuItems;e=e.options.lang,s&&s.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&a&&i&&(i=i[a.indexOf("viewFullscreen")])&&t.setElementHTML(i,this.isOpen?e.exitFullscreen:s.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return r})),e(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{doc:i}=t,{createElement:s,discardElement:a,merge:o,objectEach:r}=e,n={ajax:function(t){const e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;if(!t.url)return!1;i.open((t.type||"get").toUpperCase(),t.url,!0),t.headers&&t.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[t.dataType||"json"]||e.text),r(t.headers,(function(t,e){i.setRequestHeader(e,t)})),t.responseType&&(i.responseType=t.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==t.responseType&&(e=i.responseText,"json"===t.dataType))try{e=JSON.parse(e)}catch(s){if(s instanceof Error)return void(t.error&&t.error(i,s))}return t.success&&t.success(e,i)}t.error&&t.error(i,i.responseText)}},t.data&&"string"!==typeof t.data&&(t.data=JSON.stringify(t.data)),i.send(t.data)},getJSON:function(t,e){n.ajax({url:t,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(t,e,n){const l=s("form",o({method:"post",action:t,enctype:"multipart/form-data"},n),{display:"none"},i.body);r(e,(function(t,e){s("input",{type:"hidden",name:e,value:t},void 0,l)})),l.submit(),a(l)}};return n})),e(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l,c){const{defaultOptions:d,setOptions:h}=s,{doc:u,SVG_NS:p,win:m}=n,{addEvent:f,css:g,createElement:v,discardElement:y,extend:b,find:x,fireEvent:w,isObject:k,merge:C,objectEach:S,pick:A,removeEvent:I,uniqueKey:T}=c;var L;return function(e){function s(t){const e=this,i=e.renderer,s=C(e.options.navigation.buttonOptions,t),a=s.onclick,o=s.menuItems,r=s.symbolSize||12;let n;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),!1!==s.enabled&&s.theme){var l,c=s.theme;e.styledMode||(c.fill=A(c.fill,"#ffffff"),c.stroke=A(c.stroke,"none")),a?l=function(t){t&&t.stopPropagation(),a.call(e,t)}:o&&(l=function(t){t&&t.stopPropagation(),e.contextMenu(d.menuClassName,o,d.translateX,d.translateY,d.width,d.height,d),d.setState(2)}),s.text&&s.symbol?c.paddingLeft=A(c.paddingLeft,30):s.text||b(c,{width:s.width,height:s.height,padding:0}),e.styledMode||(c["stroke-linecap"]="round",c.fill=A(c.fill,"#ffffff"),c.stroke=A(c.stroke,"none"));var d=i.button(s.text,0,0,l,c,void 0,void 0,void 0,void 0,s.useHTML).addClass(t.className).attr({title:A(e.options.lang[s._titleKey||s.titleKey],"")});d.menuClassName=t.menuClassName||"highcharts-menu-"+e.btnCount++,s.symbol&&(n=i.symbol(s.symbol,s.symbolX-r/2,s.symbolY-r/2,r,r,{width:r,height:r}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(d),e.styledMode||n.attr({stroke:s.symbolStroke,fill:s.symbolFill,"stroke-width":s.symbolStrokeWidth||1})),d.add(e.exportingGroup).align(b(s,{width:d.width,x:A(s.x,e.buttonOffset)}),!0,"spacingBox"),e.buttonOffset+=(d.width+s.buttonSpacing)*("right"===s.align?-1:1),e.exportSVGElements.push(d,n)}}function L(){if(this.printReverseInfo){var{childNodes:t,origDisplay:e,resetParams:i}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(t,(function(t,i){1===t.nodeType&&(t.style.display=e[i]||"")})),this.isPrinting=!1,i&&this.setSize.apply(this,i),delete this.printReverseInfo,U=void 0,w(this,"afterPrint")}}function P(){const t=u.body,e=this.options.exporting.printMaxWidth,i={childNodes:t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),w(this,"beforePrint"),e&&this.chartWidth>e&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(e,void 0,!1)),[].forEach.call(i.childNodes,(function(t,e){1===t.nodeType&&(i.origDisplay[e]=t.style.display,t.style.display="none")})),this.moveContainers(t),this.printReverseInfo=i}function _(t){t.renderExporting(),f(t,"redraw",t.renderExporting),f(t,"destroy",t.destroyExport)}function M(e,i,s,a,o,r,n){const l=this,d=l.options.navigation,h=l.chartWidth,p=l.chartHeight,y="cache-"+e,x=Math.max(o,r);let C,S=l[y];S||(l.exportContextMenu=l[y]=S=v("div",{className:e},{position:"absolute",zIndex:1e3,padding:x+"px",pointerEvents:"auto"},l.fixedDiv||l.container),C=v("ul",{className:"highcharts-menu"},l.styledMode?{}:{listStyle:"none",margin:0,padding:0},S),l.styledMode||g(C,b({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},d.menuStyle)),S.hideMenu=function(){g(S,{display:"none"}),n&&n.setState(0),l.openMenu=!1,g(l.renderTo,{overflow:"hidden"}),g(l.container,{overflow:"hidden"}),c.clearTimeout(S.hideTimer),w(l,"exportMenuHidden")},l.exportEvents.push(f(S,"mouseleave",(function(){S.hideTimer=m.setTimeout(S.hideMenu,500)})),f(S,"mouseenter",(function(){c.clearTimeout(S.hideTimer)})),f(u,"mouseup",(function(t){l.pointer.inClass(t.target,e)||S.hideMenu()})),f(S,"click",(function(){l.openMenu&&S.hideMenu()}))),i.forEach((function(e){if("string"===typeof e&&(e=l.options.exporting.menuItemDefinitions[e]),k(e,!0)){let i;e.separator?i=v("hr",void 0,void 0,C):("viewData"===e.textKey&&l.isDataTableVisible&&(e.textKey="hideData"),i=v("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),S.hideMenu(),e.onclick&&e.onclick.apply(l,arguments)}},void 0,C),t.setElementHTML(i,e.text||l.options.lang[e.textKey]),l.styledMode||(i.onmouseover=function(){g(this,d.menuItemHoverStyle)},i.onmouseout=function(){g(this,d.menuItemStyle)},g(i,b({cursor:"pointer"},d.menuItemStyle||{})))),l.exportDivElements.push(i)}})),l.exportDivElements.push(C,S),l.exportMenuWidth=S.offsetWidth,l.exportMenuHeight=S.offsetHeight),i={display:"block"},s+l.exportMenuWidth>h?i.right=h-s-o-x+"px":i.left=s-x+"px",a+r+l.exportMenuHeight>p&&"top"!==n.alignOptions.verticalAlign?i.bottom=p-a-x+"px":i.top=a+r-x+"px",g(S,i),g(l.renderTo,{overflow:""}),g(l.container,{overflow:""}),l.openMenu=!0,w(l,"exportMenuShown")}function F(t){const e=t?t.target:this,i=e.exportSVGElements,s=e.exportDivElements;let a;t=e.exportEvents,i&&(i.forEach((t,s)=>{t&&(t.onclick=t.ontouchstart=null,a="cache-"+t.menuClassName,e[a]&&delete e[a],i[s]=t.destroy())}),i.length=0),e.exportingGroup&&(e.exportingGroup.destroy(),delete e.exportingGroup),s&&(s.forEach((function(t,e){t&&(c.clearTimeout(t.hideTimer),I(t,"mouseleave"),s[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,y(t))})),s.length=0),t&&(t.forEach((function(t){t()})),t.length=0)}function D(t,e){e=this.getSVGForExport(t,e),t=C(this.options.exporting,t),l.post(t.url,{filename:t.filename?t.filename.replace(/\//g,"-"):this.getFilename(),type:t.type,width:t.width,scale:t.scale,svg:e},t.formAttributes)}function B(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function O(){const t=this.userOptions.title&&this.userOptions.title.text;let e=this.options.exporting.filename;return e?e.replace(/\//g,"-"):("string"===typeof t&&(e=t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!e||5>e.length)&&(e="chart"),e)}function E(t){let e,i=C(this.options,t);i.plotOptions=C(this.userOptions.plotOptions,t&&t.plotOptions),i.time=C(this.userOptions.time,t&&t.time);const s=v("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},u.body);var a=this.renderTo.style.width,o=this.renderTo.style.height;a=i.exporting.sourceWidth||i.chart.width||/px$/.test(a)&&parseInt(a,10)||(i.isGantt?800:600),o=i.exporting.sourceHeight||i.chart.height||/px$/.test(o)&&parseInt(o,10)||400,b(i.chart,{animation:!1,renderTo:s,forExport:!0,renderer:"SVGRenderer",width:a,height:o}),i.exporting.enabled=!1,delete i.data,i.series=[],this.series.forEach((function(t){e=C(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),e.isInternal||i.series.push(e)}));const r={};this.axes.forEach((function(t){t.userOptions.internalKey||(t.userOptions.internalKey=T()),t.options.isInternal||(r[t.coll]||(r[t.coll]=!0,i[t.coll]=[]),i[t.coll].push(C(t.userOptions,{visible:t.visible})))}));const n=new this.constructor(i,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){const i={};t[e]&&(i[e]=t[e],n.update(i))})),this.axes.forEach((function(t){const e=x(n.axes,(function(e){return e.options.internalKey===t.userOptions.internalKey}));var i=t.getExtremes();const s=i.userMin;i=i.userMax,e&&("undefined"!==typeof s&&s!==e.min||"undefined"!==typeof i&&i!==e.max)&&e.setExtremes(s,i,!0,!1)})),o=n.getChartHTML(),w(this,"getSVG",{chartCopy:n}),o=this.sanitizeSVG(o,i),i=null,n.destroy(),y(s),o}function N(t,e){const i=this.options.exporting;return this.getSVG(C({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))}function $(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function R(){function t(e){const r={};let c,d;if(l&&1===e.nodeType&&-1===G.indexOf(e.nodeName)){if(c=m.getComputedStyle(e,null),d="svg"===e.nodeName?{}:m.getComputedStyle(e.parentNode,null),!a[e.nodeName]){o=l.getElementsByTagName("svg")[0];var h=l.createElementNS(e.namespaceURI,e.nodeName);o.appendChild(h);var u=m.getComputedStyle(h,null),p={};for(var f in u)"string"!==typeof u[f]||/^[0-9]+$/.test(f)||(p[f]=u[f]);a[e.nodeName]=p,"text"===e.nodeName&&delete a.text.fill,o.removeChild(h)}for(const t in c)if(n.isFirefox||n.isMS||n.isSafari||Object.hasOwnProperty.call(c,t)){f=c[t];var v=t;if(h=u=!1,s.length){for(p=s.length;p--&&!u;)u=s[p].test(v);h=!u}for("transform"===v&&"none"===f&&(h=!0),p=i.length;p--&&!h;)h=i[p].test(v)||"function"===typeof f;h||d[v]===f&&"svg"!==e.nodeName||a[e.nodeName][v]===f||(Y&&-1===Y.indexOf(v)?r[v]=f:f&&e.setAttribute($(v),f))}g(e,r),"svg"===e.nodeName&&e.setAttribute("stroke-width","1px"),"text"!==e.nodeName&&[].forEach.call(e.children||e.childNodes,t)}}const i=X,s=e.inlineAllowlist,a={};let o;const r=u.createElement("iframe");g(r,{width:"1px",height:"1px",visibility:"hidden"}),u.body.appendChild(r);const l=r.contentWindow&&r.contentWindow.document;l&&l.body.appendChild(l.createElementNS(p,"svg")),t(this.container.querySelector("svg")),o.parentNode.removeChild(o),r.parentNode.removeChild(r)}function z(t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(e){t.appendChild(e)}))}function q(){const t=this;t.exporting={update:function(e,i){t.isDirtyExporting=!0,C(!0,t.options.exporting,e),A(i,!0)&&t.redraw()}},i.compose(t).navigation.addUpdate((e,i)=>{t.isDirtyExporting=!0,C(!0,t.options.navigation,e),A(i,!0)&&t.redraw()})}function V(){const t=this;t.isPrinting||(U=t,n.isSafari||t.beforePrint(),setTimeout(()=>{m.focus(),m.print(),n.isSafari||setTimeout(()=>{t.afterPrint()},1e3)},1))}function j(){const t=this,e=t.options.exporting,i=e.buttons,s=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),s&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g("exporting-group").attr({zIndex:3}).add(),S(i,(function(e){t.addButton(e)})),t.isDirtyExporting=!1)}function W(t,e){const i=t.indexOf("</svg>")+6;let s=t.substr(i);return t=t.substr(0,i),e&&e.exporting&&e.exporting.allowHTML&&s&&(s='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+s.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",t=t.replace("</svg>",s+"</svg>")),t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const H=[],X=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Y="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");e.inlineAllowlist=[];const G=["clipPath","defs","desc"];let U;e.compose=function(t,e){o.compose(e),r.compose(t),c.pushUnique(H,t)&&(e=t.prototype,e.afterPrint=L,e.exportChart=D,e.inlineStyles=R,e.print=V,e.sanitizeSVG=W,e.getChartHTML=B,e.getSVG=E,e.getSVGForExport=N,e.getFilename=O,e.moveContainers=z,e.beforePrint=P,e.contextMenu=M,e.addButton=s,e.destroyExport=F,e.renderExporting=j,e.callbacks.push(_),f(t,"init",q),n.isSafari&&n.win.matchMedia("print").addListener((function(t){U&&(t.matches?U.beforePrint():U.afterPrint())}))),c.pushUnique(H,h)&&(d.exporting=C(a.exporting,d.exporting),d.lang=C(a.lang,d.lang),d.navigation=C(a.navigation,d.navigation))}}(L||(L={})),L})),e(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],(function(t,e,i){t.HttpUtilities=i,t.ajax=i.ajax,t.getJSON=i.getJSON,t.post=i.post,e.compose(t.Chart,t.Renderer)}))}))},"064c":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-center",attrs:{id:"item-actions"}},[(t.customProcessForm,t._e()),t.sendInvite?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("invite")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover q-mr-sm",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-account-plus",color:"primary","text-color":"white"}}),t._v(" Send Invite ")],1)],1)]:t._e(),t.processForward?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("forward")}}},[e("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-arrow-right",color:"orange","text-color":"white"}}),t._v(" Assign ")],1)],1)]:t._e(),t.workflowInitiate?[t.initiateAccess?[e("div",{attrs:{classs:"cursor-pointer "},on:{click:function(e){return t.$emit("initiate")}}},[e("q-chip",{staticClass:"cursor-pointer secondary-hover q-mr-sm",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)],1)]:[e("q-chip",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Choose document to initiate",expression:"'Choose document to initiate'",modifiers:{top:!0}}],staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",disable:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)]]:t._e(),t.gotoInbox?e("div",{staticClass:"cursor-pointer q-mr-xs",on:{click:function(e){return t.$emit("inbox")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-email",color:"primary","text-color":"white"}}),t._v(" My Inbox ")],1)],1):t._e(),t.workflowImport?e("ImportPopup",{attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport}}):t._e(),t.downloadAll?e("div",{staticClass:"row q-pr-xs",class:{download:t.checkIconCount}},[t.visibleDownload?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"download",expression:"'download'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{icon:"mdi-download-outline","is-flat":"","no-border":""},on:{click:function(e){return t.$emit("downloadAll",t.item.id)}}}):t._e(),t.visiblePrint?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"print",expression:"'print'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"eva-printer-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("printAll",t.item.id)}}}):t._e(),t.visibleEmail?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Email Sharing",expression:"'Email Sharing'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("emailAll",t.item)}}}):t._e(),t.visibleDelete?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return t.$emit("deleteFileAction",t.item.id)}}}):t._e()],1):t._e(),t._t("filterSearchIcon"),t.simpleSearchFilter?e("div",[t.hideActions.includes("search")?t._e():e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchTable}})],1):e("div",{staticClass:"q-mr-xs"},[e("SimpleSearchWithFilter",{attrs:{columns:t.columns,"filter-by":t.filterBy},on:{keyup:t.searchTable,update:t.updateSimpletSearchFilterBy}})],1),t.id?e("SelectField",{staticClass:"fieldList q-mr-sm",attrs:{"is-mandatory":"",placeholder:"Select day","is-searchable":!0,options:t.dateFilter},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}}):t._e(),t.refresh||t.id?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return t.$emit("refresh")}}}):t._e(),t.jiraConnect?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira","no-border":"","is-flat":""},on:{click:function(e){return t.$emit("jira")}}}):t._e(),"TRASH"===t.mode?e("div",{staticClass:"row justify-end"},[t.deleteBtn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Restore Selected Items",expression:"'Restore Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history"},on:{click:function(e){return e.stopPropagation(),t.$emit("restore")}}}):t._e()],1):t._e(),t.deleteBtn?e("div",[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete Selected Items",expression:"'Delete Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete")}}})],1):t._e(),t.hideActions.includes("toggle")?t._e():e("ToggleColumns",{attrs:{columns:t.repositoryFields?"LIST"===t.activeView?t.columns:[]:t.columns,"repository-fields":t.repositoryFields,"toggle-id":t.toggleId},on:{"update:columns":t.updateColumns,viewColumns:t.viewColumns}}),t.hideActions.includes("sort")?t._e():e("SortItems",{attrs:{columns:t.columns,order:t.order,criteria:t.criteria},on:{"update:order":t.updateOrder,"update:criteria":t.updateCriteria}}),t.hideActions.includes("group")?t._e():e("GroupItems",{attrs:{columns:t.columns,"group-by":t.groupBy},on:{"update:groupBy":t.updateGroupBy}}),t.hideActions.includes("filter")?t._e():e("FilterItems",{attrs:{item:t.item,columns:t._columns,"filter-by":t.filterBy,"selected-filter":t.selectedFilter,"search-content":t.searchContent,"content-search":t.contentSearch,module:t.module,"module-id":t.moduleId},on:{update:t.updateFilterBy,updateContentSearch:t.updateContentSearch}}),t.importData?e("ImportPopup",{attrs:{"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport,downloadTemplate:t.downloadTemplate}}):t._e(),t.importJson?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"import",expression:"'import'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-import"},on:{click:function(e){return t.$emit("import")}}}):t._e(),!t.hideActions.includes("export")&&t.exportData?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return t.$emit("export")}}}):t._e(),t.hideActions.includes("activeView")?t._e():e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),t.hideActions.includes("activeView")?t._e():e("ViewToggle",{attrs:{"active-view":t.activeView,"thumbnail-view":t.thumbnailView,"grid-view":t.gridView,module:t.module},on:{"update:activeView":t.updateActiveView}}),e("KanbanView",{attrs:{"kanban-view":t.kanbanView,"active-view":t.activeKanbanView,"kanban-list":t.kanbanList},on:{"update:activeKanbanView":t.updateActiveKanbanView,clickKanban:function(e){return t.$emit("clickKanban")}}}),t.dashboardView?e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}):t._e(),t.dashboardView?e("DashboardView",{attrs:{"dashboard-view":t.dashboardView,"chart-view":t.chartView,"table-view":t.tableView,page:t.page},on:{"update:activeDashboardView":t.updateActiveDashboardView}}):t._e(),t._t("extraIcon")],2)},a=[],o=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"columns",expression:"'columns'",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-column-plus-after"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("div",{staticClass:"row border"},[e("div",{staticClass:"title-3 q-pa-xs col-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Show/Hide Columns",autofocus:""},domProps:{value:t.searchColumns},on:{keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),t.repositoryFields&&t.columns.length?e("div",{staticClass:"col-auto q-pa-xs"},[e("BaseButton",{attrs:{label:"Apply",color:"primary"},on:{click:t.apply}})],1):t._e()]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight}},t._l(t._columns,(function(i){return e("ListItem",{key:i.id,class:i.display,attrs:{icon:i.isVisible?"mdi-checkbox-marked":"mdi-checkbox-blank-outline","is-selected":i.isVisible,label:i.label},on:{click:function(e){return t.updateColumns(i)}}})})),1)],1)],1)},r=[],n=(i("14d9"),i("cade")),l=i("1b0d"),c={name:"ToggleColumns",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},repositoryFields:{type:Boolean,default:!1},toggleId:{type:Number,default:0}},data(){return{filterColumns:[],columnList:"",searchColumns:""}},computed:{_columns(){return this.columns.filter(t=>"NORMAL"===t.type)},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateColumns1(t){const e=this.columns,i=e.findIndex(e=>e.id===t);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)},apply(){this.filterColumns=[],console.log(this.columns),this.columns.forEach(t=>{!1===t.isVisible&&this.filterColumns.push({Fieldid:t.fieldId,value:t.isVisible})}),console.log(this.filterColumns),this.$emit("viewColumns",this.filterColumns),this.filterColumns=[]},searchColumnList(t){this.columns.forEach(e=>{e.display="",t&&(e.label.toLowerCase().includes(t.toLowerCase())||(e.display="hide"))})},async updateColumns(t){if(this.toggleId){const e=this.columns.findIndex(e=>e.id===t.id);this.columns[e].isVisible=!this.columns[e].isVisible;let i={id:t.hideId||0,columnName:t.id};const{error:s,payload:a}=await l["k"].updateHideColumns(this.toggleId,i);if(s)return void this.$alert.error(s);let o=[];t.hideId?o=this.columns.filter(e=>e.id!=t.hideId):(o=this.columns,o.push({id:a,columnName:t.id})),this.columns[e].hideId=t.hideId?0:a,this.$emit("update:columns",o)}else{const e=this.columns,i=e.findIndex(e=>e.id===t.id);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)}}}},d=c,h=(i("ee26"),i("2877")),u=i("4e73"),p=i("93dc"),m=i.n(p),f=Object(h["a"])(d,o,r,!1,null,"251c6f56",null),g=f.exports;m()(f,"components",{QMenu:u["a"]});var v=i("c559"),y=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"group",expression:"'group'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"eva-copy-outline","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Group By")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.groupBy?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.groupBy,label:i.label},on:{click:function(e){return t.updateGroupBy(i.name)}}})}))],2)],1)],1)},b=[],x={name:"GroupItems",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},groupBy:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isGroupable)]},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateGroupBy(t){this.$emit("update:groupBy",t)}}},w=x,k=Object(h["a"])(w,y,b,!1,null,"72f07afc",null),C=k.exports;m()(k,"components",{QMenu:u["a"]});var S=i("27bd"),A=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-toggle"}},[t._l(t._views,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.activeView===i.value?i.activeIcon:i.icon,color:t.activeView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateActiveView(i.value)}}})]})),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],2)},I=[],T=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-info-outline","icon-color":"orange"},on:{input:t.hideSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Default view?")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Do you want to make this "),e("b",[t._v('"('+t._s(t.view)+')"')]),t._v(" view is default? . ")]),e("p",[t._v("You can always change this view.")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:t.handleYes}})]},proxy:!0}])})},L=[],P=i("1c54"),_={name:"DefaultView",components:{Confirm:P["a"]},props:{value:{type:Boolean,required:!0},view:{type:String,required:!0}},methods:{handleNo(){this.$emit("handleNo",!1)},hideSheet(){this.$emit("hideSheet",!1)},handleYes(){this.$emit("handleYes",!1)}}},M=_,F=Object(h["a"])(M,T,L,!1,null,"38f8db3d",null),D=F.exports,B=i("4360"),O={name:"ViewToggle",components:{DefaultView:D},props:{activeView:{type:String,default:"GRID",validator(t){return["GRID","LIST","THUMBNAIL"].includes(t)}},thumbnailView:{type:Boolean,default:!1},gridView:{type:Boolean,default:!0},module:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Grid View",value:"GRID",icon:"mdi-view-grid-outline",activeIcon:"mdi-view-grid"},{id:this.$nano.id(),label:"List View",value:"LIST",icon:"mdi-format-list-checkbox",activeIcon:"mdi-view-list"},{id:this.$nano.id(),label:"Thumbnail View",value:"THUMBNAIL",icon:"eva-image-outline",activeIcon:"eva-image"}],showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{}}},computed:{_views(){return this.thumbnailView?this.views:this.gridView?this.views.slice(0,2):this.views.slice(1,2)}},created(){this.getDefaultView()},methods:{updateActiveView(t){this.defaultView=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeView",this.defaultView),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={},i=this.$route.query.repositoryId,s="";i&&(s="files"),e=s?{preference:{[this.$route.meta.subMenu]:[{menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}}:{preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}};const{error:a,payload:o}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),a?this.$alert.error("Error fetching changing view"):(B["a"].commit("setDefaultView",e.preference),B["a"].commit("setPreferenceId",o),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeView",this.defaultView))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i=this.$route.query.repositoryId,s="";i&&(s="files");let a={};if(s)if(this.options[s])if(this.options[s].length){let t=this.options[s].findIndex(t=>t.subMenu===e);console.log(t),t>=0?this.options[s][t].view=this.defaultView:this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultView:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});let o=JSON.stringify(this.options);a={preference:JSON.parse(o)};const{error:r}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,a);this.$store.commit("hideLoadingBar"),r?this.$alert.error("Error fetching changing view"):(B["a"].commit("setDefaultView",a.preference),this.$emit("update:activeView",this.defaultView))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),B["a"].commit("setDefaultView",this.options),B["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},E=O,N=(i("cd8d"),Object(h["a"])(E,A,I,!1,null,"75627166",null)),$=N.exports,R=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"kanban-view"}},[t.kanbanView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Kanban View",expression:"'Kanban View'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:(t.activeKanban,"mdi-grid"),color:t.activeKanban?"secondary":"gray","no-border":""},on:{click:function(e){return t.$emit("clickKanban")}}},[t.kanbanList.length?e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},t._l(t.kanbanList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.activeView?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.activeView,label:i.label},on:{click:function(e){return t.selectKanban(i.name)}}})})),1)],1):t._e()],1):t._e(),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],1)},z=[],q={name:"KanbanView",components:{ListItem:n["a"],DefaultView:D},props:{activeView:{type:String,default:""},kanbanView:{type:Boolean,default:!1},kanbanList:{type:Array,default:()=>[]}},data(){return{showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{},defaultViewId:""}},computed:{scrollbarHeight(){const t=36*this.kanbanList.length;return t>216?"276px":t+58+"px"},activeKanban(){return"LIST"!==this.activeView&&"GRID"!==this.activeView&&"CHART"!==this.activeView&&"TABLE"!==this.activeView}},created(){this.getDefaultView()},methods:{selectKanban(t){let e=this.kanbanList.find(e=>e.name===t);console.log(e),e&&(this.defaultView=e.label),this.defaultViewId=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeKanbanView",this.defaultViewId),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId}]}};const{error:i,payload:s}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error("Error fetching changing view"):(B["a"].commit("setDefaultView",e.preference),B["a"].commit("setPreferenceId",s),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeKanbanView",this.defaultViewId))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i={};if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultViewId:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});i={preference:this.options};const{error:s}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,i);this.$store.commit("hideLoadingBar"),s?this.$alert.error("Error fetching changing view"):(B["a"].commit("setDefaultView",i.preference),this.$emit("update:activeKanbanView",this.defaultViewId))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),B["a"].commit("setDefaultView",this.options),B["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},V=q,j=(i("6c88"),Object(h["a"])(V,R,z,!1,null,"6f4b2704",null)),W=j.exports;m()(j,"components",{QMenu:u["a"]});var H=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"dashboard-view"}},t._l(t._views,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.dashboardView===i.value?i.activeIcon:i.icon,color:t.dashboardView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateDashboardView(i.value)}}})})),1)},X=[],Y={name:"DashboardView",props:{dashboardView:{type:String,default:"CHART",validator(t){return["CHART","TABLE","SANKEY","KANBAN"].includes(t)}},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!0},page:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"},{id:this.$nano.id(),label:"Chart View",value:"CHART",icon:"eva-image",activeIcon:"eva-image"},{id:this.$nano.id(),label:"Sankey View",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"}]}},computed:{_views(){if("REPORT"===this.page)return this.views.slice(0,2);let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?this.views.slice(1,2):this.views.slice(1,3)}},methods:{updateDashboardView(t){this.$emit("update:activeDashboardView",t)}}},G=Y,U=(i("8180"),Object(h["a"])(G,H,X,!1,null,"1da74fbd",null)),J=U.exports,K=i("be3f"),Z=i("0cdc"),Q=i("12b8"),tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col",attrs:{id:"search-items"}},[e("div",{attrs:{id:"Simple-search"}},[e("div",{staticClass:"label",staticStyle:{"margin-left":"0px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search By",expression:"'Search By'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:t.activeFilter?"secondary":"gray","no-border":""}},[t.filter?e("div"):t._e(),e("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[e("div",{staticClass:"title-3 q-pa-xs border"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Type here to search"},domProps:{value:t.searchColumns},on:{click:function(t){t.stopPropagation()},keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[t._l(t.columnList,(function(i){return[i.display&&!1!==i.isFilter?e("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(e){return t.updateFilterBy(i.id)}}}):t._e()]}))],2)],1)],1),t.activeFilter?e("div",{staticClass:"selectedLabel"},[e("span",{staticClass:"text-bold"},[t._v(t._s(t.selectedLabel)+" :")])]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],ref:"searchQuery",staticClass:"q-px-xs",class:{"text-input-small":t.activeFilter,"text-input-big":!t.activeFilter},attrs:{type:"text",placeholder:t.isdataTypeIsDate?"YYYY-MM-DD":"Search"},domProps:{value:t.searchInput},on:{keyup:t.emitKeyUp,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateSimpleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search",expression:"'Search'",modifiers:{top:!0}}],attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:t.updateSimpleSearch}}),t.activeFilter?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear",expression:"'clear'",modifiers:{top:!0}}],attrs:{icon:"mdi-close-circle","no-border":"","is-flat":""},on:{click:t.clearSimpleSearch}}):t._e()],1)])])},et=[],it={name:"SimpleSearchWithFilter",components:{ListItem:n["a"]},props:{columns:{type:Array,default:()=>[]},filterBy:{type:Array,required:!0}},data(){return{filter:!1,activeFilter:!1,searchColumns:"",columnList:[],filterArray:[],searchInput:"",selectedLabel:"",FilterValue:"",isdataTypeIsDate:!1,isSingleSelect:!1}},computed:{scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.activeFilter=!1,this.filterArray=[],this.searchInput="",this.FilterValue="")}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&(this.activeFilter=!1)}},columns:{deep:!0,immediate:!0,handler(){this.columnList=[],this.columns.forEach(t=>{this.columnList.push({...t,selected:!1,display:"show"})})}}},methods:{emitKeyUp(){this.FilterValue=this.searchInput,this.$emit("keyup",this.searchInput)},updateSimpleSearch(){if(this.activeFilter)if(0===this.filterArray.length){let t=[];this.$emit("update",t)}else if(this.isSingleSelect){let t=[];t[0]=this.FilterValue,this.filterArray[0].filters[0].value=JSON.stringify(t),this.filterArray[0].filters[0].arrayValue=t,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)}else this.filterArray[0].filters[0].value=this.FilterValue,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)},searchColumnList(t){this.columnList.forEach(e=>{e.display="show",e.label.toLowerCase().includes(t.toLowerCase())||(e.display="")})},updateFilterBy(t){this.filter=!this.filter,this.columnList.forEach(t=>{t.selected=!1});let e=this.columnList.find(e=>e.id===t);if(e){e.selected=!0,this.activeFilter=!0,this.selectedLabel=e.label;let t=[];if("None"==e.value)this.activeFilter=!1;else{let i="CONTAINS";"DATE"===e.dataType&&(i="IS_EQUALS_TO",this.isdataTypeIsDate=!0,this.isSingleSelect=!1),"SINGLE_SELECT"===e.dataType?(this.isSingleSelect=!0,t=[{filters:[{criteria:e.name,criteriaArray:[e.name],condition:i,value:"",arrayValue:"",dataType:"SINGLE_SELECT"}],groupCondition:""}],this.filterArray=t):(this.isSingleSelect=!1,t=[{filters:[{criteria:e.name,condition:i,value:"",dataType:e.dataType}],groupCondition:""}]),this.filterArray=t}}},clearSimpleSearch(){this.columnList.forEach(t=>{t.selected=!1}),this.isdataTypeIsDate=!1,this.filterArray=[],this.searchInput="",this.FilterValue="",this.activeFilter=!1,this.filter=!this.filter,this.$emit("update",this.filterArray)}}},st=it,at=(i("ba5a"),Object(h["a"])(st,tt,et,!1,null,"a32bb6e0",null)),ot=at.exports;m()(at,"components",{QMenu:u["a"]});var rt={name:"ItemActions",components:{ToggleColumns:g,ViewToggle:$,SortItems:v["a"],GroupItems:C,FilterItems:S["a"],ExpandableSearch:K["a"],KanbanView:W,DashboardView:J,ImportPopup:Z["a"],SelectField:Q["a"],SimpleSearchWithFilter:ot},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},activeView:{type:String,required:!0},thumbnailView:{type:Boolean,default:!1},filterColumns:{type:Array,default:()=>[]},selectedFilter:{type:Array,default:()=>[]},gridView:{type:Boolean,default:!0},kanbanView:{type:Boolean,default:!1},activeKanbanView:{type:String,default:""},kanbanList:{type:Array,default:()=>[]},jiraConnect:{type:Boolean,default:!1},importData:{type:Boolean,default:!1},dataImported:{type:Boolean,default:!1},hideActions:{type:Array,default:()=>[]},workflowInitiate:{type:Boolean,default:!1},initiateAccess:{type:Boolean,default:!1},gotoInbox:{type:Boolean,default:!1},workflowImport:{type:Boolean,default:!1},formId:{type:String,default:"0"},dashboardView:{type:String,default:""},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!1},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},repositoryFields:{type:Boolean,default:!1},id:{type:Number,default:0},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},deleteBtn:{type:Boolean,default:!1},mode:{type:String,default:""},page:{type:String,default:""},toggleId:{type:Number,default:0},simpleSearchFilter:{type:Boolean,default:!1},simpleSearchApplyed:{type:Boolean,default:!1},customProcessForm:{type:Boolean,default:!1},refresh:{type:Boolean,default:!0},exportData:{type:Boolean,default:!0},sendInvite:{type:Boolean,default:!1},downloadAll:{type:Boolean,default:!1},visibleDownload:{type:Boolean,default:!1},visiblePrint:{type:Boolean,default:!1},visibleEmail:{type:Boolean,default:!1},visibleDelete:{type:Boolean,default:!1},processForward:{type:Boolean,default:!1},importJson:{type:Boolean,default:!1}},data(){return{dateFilter:[{id:this.$nano.id(),label:"Today",value:"today"},{id:this.$nano.id(),label:"Yesterday",value:"yesterday"},{id:this.$nano.id(),label:"This Week",value:"7days"},{id:this.$nano.id(),label:"Last week",value:"week"},{id:this.$nano.id(),label:"This Month ",value:"Currentmonth"},{id:this.$nano.id(),label:"Last Month",value:"month"},{id:this.$nano.id(),label:"Last Quarter",value:"quarter"},{id:this.$nano.id(),label:"This Year",value:"currentyear"},{id:this.$nano.id(),label:"Last Year",value:"year"}],dateValue:""}},computed:{_columns(){return this.filterColumns.length?this.filterColumns:this.columns},checkIconCount(){let t,e=0;return this.visibleDownload&&(e+=1),this.visibleEmail&&(e+=1),this.visiblePrint&&(e+=1),this.visibleDelete&&(e+=1),2===e&&(t=!0),3===e&&(t=!0),4===e&&(t=!0),t}},watch:{dateValue:{deep:!0,immediate:!0,handler(){if(this.dateValue)if("today"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate());const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("yesterday"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate()-1);const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("week"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()-7);let o=new Date(a);o.setDate(a.getDate()+6);let r=a.toISOString().split("T")[0],n=o.toISOString().split("T")[0];this.$emit("filter",r,n,t)}else if("7days"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()+6);let o=s.toISOString().split("T")[0],r=a.toISOString().split("T")[0];this.$emit("filter",o,r,t)}else if("month"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth()-1,2),s=new Date(e.getFullYear(),e.getMonth()),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("quarter"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getMonth(),s=(i-3+12)%12,a=new Date(e.getFullYear(),s,2),o=i-1,r=new Date(e.getFullYear(),o+1,1),n=a.toISOString().slice(0,10),l=r.toISOString().slice(0,10);this.$emit("filter",n,l,t)}else if("year"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear()-1,0,2),s=new Date(e.getFullYear()-1,11,32),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("Currentmonth"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth(),1),s=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`,a=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;this.$emit("filter",s,a,t)}else if("currentyear"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),0,2),s=i.toISOString().split("T")[0],a=e.toISOString().split("T")[0];this.$emit("filter",s,a,t)}}}},methods:{updateColumns(t){this.$emit("update:columns",t)},updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)},updateGroupBy(t){this.$emit("update:groupBy",t)},updateFilterBy(t,e){this.$emit("update:simpleSearchApplyed",!1),this.$emit("update:filterBy",t),this.$emit("update",t,e)},updateContentSearch(t){this.$emit("update:contentSearch",t)},updateActiveView(t){this.$emit("update:activeView",t)},searchTable(t){this.$emit("search",t)},updateActiveKanbanView(t){this.$emit("update:activeKanbanView",t)},updateActiveDashboardView(t){this.$emit("update:dashboardView",t)},upload(){this.$emit("upload")},closeImport(){this.$emit("close")},viewColumns(t){this.$emit("viewColumns",t)},updateSimpletSearchFilterBy(t){this.$emit("update:simpleSearchApplyed",!0),this.$emit("update:filterBy",t),this.$emit("update",t)},downloadTemplate(){this.$emit("downloadTemplate")}}},nt=rt,lt=(i("c925"),i("7225"),i("b047")),ct=i("cb32"),dt=Object(h["a"])(nt,s,a,!1,null,"53ff3a83",null);e["a"]=dt.exports;m()(dt,"components",{QChip:lt["a"],QAvatar:ct["a"]})},"0698":function(t,e,i){},"096c":function(t,e,i){},"09e3":function(t,e,i){"use strict";var s=i("a026"),a=i("87e8"),o=i("e277");e["a"]=s["default"].extend({name:"QPageContainer",mixins:[a["a"]],inject:{layout:{default(){console.error("QPageContainer needs to be child of QLayout")}}},provide:{pageContainer:!0},computed:{style(){const t={};return!0===this.layout.header.space&&(t.paddingTop=this.layout.header.size+"px"),!0===this.layout.right.space&&(t["padding"+(!0===this.$q.lang.rtl?"Left":"Right")]=this.layout.right.size+"px"),!0===this.layout.footer.space&&(t.paddingBottom=this.layout.footer.size+"px"),!0===this.layout.left.space&&(t["padding"+(!0===this.$q.lang.rtl?"Right":"Left")]=this.layout.left.size+"px"),t}},render(t){return t("div",{staticClass:"q-page-container",style:this.style,on:{...this.qListeners}},Object(o["c"])(this,"default"))}})},"0b2c":function(t,e,i){},"0b71":function(t,e,i){},"0c04":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"addTask"}},[e("Sheet",{attrs:{value:t.value,width:t.taskWidth,"no-padding":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.title))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"task-form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 60px)"}},[e("RenderForm",{attrs:{"no-padding":"",panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.taskModel,"is-readonly":"VIEW"===t.mode},on:{save:t.saveTask}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"workflows",expression:"'workflows'",modifiers:{left:!0}}],staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:"o_account_tree",color:"primary"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.taskWorkflowList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:"mdi-sitemap",label:i.label},on:{click:function(e){return t.getForm(i)}}})})),1)],1)],1)],2)])]},proxy:!0}],null,!0)}),e("Sheet",{attrs:{width:t.taskWidth,"has-footer":""},on:{input:t.closeAddTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.headerTitle))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"no-padding":"","workflow-id":t.workflowFormId,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"workflow-form-model":t.workflowFormModel,"save-action":t.saveAction},on:{"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),1)])]},proxy:!0},{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.addTaskSheet,callback:function(e){t.addTaskSheet=e},expression:"addTaskSheet"}}),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.attachmentList.length,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")],e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),(t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Workflows ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Workflows",expression:"'Add Workflows'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getworkflowForm(t.workflowFormId)}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.processInfo,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.getWorkflowAudit(i.requestNo)}}},[t._v(" Request No: "+t._s(i.requestNo)+" ")]),i.actionUser?[e("q-chip",{attrs:{size:"10px",color:"yellow","text-color":"white"}},[t._v(" "+t._s(i.actionUser)+" ")])]:t._e(),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.flowStatus),"text-color":"white"}},[t._v(" "+t._s("0"===i.flowStatus?"Open":"Completed")+" ")])],2)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v(" Raised By: "+t._s(i.raisedBy)+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" Raised At: "+t._s(t.$day.format(i.raisedAt))+" ")],1)])])]}))],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"form-id":t.formIdName,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("EmailSharing",{attrs:{"repository-id":t.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}})],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),r=i("4bc4"),n=i("869e"),l=i("6df3"),c=i("1b0d"),d=i("9bc4"),h=i("fa1f"),u=i("a7d2"),p=i("dd90"),m=i("bc3a"),f=i.n(m),g=i("cade"),v=i("695e"),y=i("6a70"),b=i("2f62"),x=i("5e23"),w={name:"AddTask",components:{Sheet:o["a"],RenderForm:r["a"],FileIcon:h["a"],CheckboxField:n["a"],TextAreaField:l["a"],ListItem:g["a"],TextBuilderField:v["a"],Modal:y["a"],EmailSharing:x["a"]},props:{value:{type:Boolean,default:!1},formSettings:{type:Object,required:!0},panels:{type:Array,required:!0},secondaryPanels:{type:Array,default:()=>[]},formId:{type:Number,default:0},taskModel:{type:Object,default:()=>{}},mode:{type:String,default:""},taskName:{type:String,default:""},repositoryId:{type:Number,default:0},workflowTask:{type:Boolean,default:!1},taskWorkflowList:{type:Array,default:()=>[]},selectedTask:{type:Object,default:()=>{}},documentTask:{type:Boolean,default:!1},repositoryFile:{type:Object,default:()=>{}}},data(){return{taskWidth:"720px",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0}],attachmentSheet:!1,addTaskSheet:!1,taskSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],selectAll:!1,attachmentLoad:null,attachmentList:[],fileSheet:!1,selectedFile:{},actions:[],workflowsSheet:!0,workflowList:[],saveAction:"",workflowId:0,addWorkflowForm:[],workflowPanels:[],form:[],workflowName:"",workflowDescription:"",workflowFormId:0,workflowFormModel:{},processId:0,transactionId:0,workflowDetails:[],countWorkflow:0,processInfo:[],workflowFormTaskList:{},formList:{},formStage:{},processSheet:!1,formDetails:{},formIdName:"",formModel:{},headerTitle:"",advancedCommentsSheet:!1,advancedCommentText:"",emailSharingSheet:!1,selectedFileList:[]}},computed:{...Object(b["c"])(["LoadingBarPage"]),isMaximized(){return"100vw"===this.taskWidth},title(){return"VIEW"===this.mode?"View Task":"EDIT"===this.mode?"Edit Task":"FORWARD"===this.mode?"Forward Task":"COPY"===this.mode?"Copy Task":"Add Task"},formName(){return this.formSettings.general.name},formDescription(){return this.formSettings.general.description},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{taskModel:{immediate:!0,handler(){this.taskModel.id&&(this.attachmentList=[],this.getComments(),this.getAttachments())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateRequest()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet&&this.taskModel.id||clearInterval(this.attachmentLoad)}}},methods:{toggleWidth(){this.taskWidth="100vw"===this.taskWidth?"720px":"100vw"},closeSheet(){this.$emit("close",!1)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeAddTaskSheet(){this.addTaskSheet=!1},closeTaskSheet(){this.taskSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},getColor(t){return"0"===t?"orange":"1"===t||"Medium"===t?"green":"primary"},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t?this.$emit("history",this.formList[0].value[0].processId,this.formList[0].workflowId,this.formList[0].value[0].requestNo):"PRINT"===t&&window.print()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},showHistory(){},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(u["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`}{let i="";if(Object(p["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`}}},openFile(t){this.selectedFile=t,this.fileSheet=!0},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async saveTask(t){const e=["itemid","createdBy","createdAt","modifiedBy","modifiedAt","icon","buttonAction","formId","status","color","link","selected","isDeleted","createdByEmail","modifiedByEmail","emailStatus","expandSubworkflow"],i=Object(d["a"])(t,e);try{this.$store.commit("showLoadingBarPage");const{id:t,...e}=i;let s=0;s="COPY"===this.mode?0:t||0;let a={};if(s)a={fields:e};else{let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)}),a={fields:e,task:{comments:this.commentsList,fileIds:t}}}const{data:o,error:r}=await c["g"].saveFormEntry(this.formId,s,a);if(this.workflowDetails.length&&this.linkTaskWorkflowProcess(o.output),r)return void this.$alert.error(r);t?this.$alert.success(this.taskName+" edited successfully"):(this.documentTask&&this.linkTaskDocument(o.output),this.$alert.success("New task added successfully")),this.getUsers(a.fields),this.closeSheet(),this.workflowTask||this.documentTask?this.$emit("addEntry",this.formId,o.output):this.$emit("refresh",this.workflowId)}catch(s){console.log(s)}finally{this.$store.commit("hideLoadingBarPage")}},async linkTaskDocument(t){let e={wFormId:this.formId,formEntryId:t,fileInfo:{repositoryId:this.repositoryFile.repositoryId,itemId:this.repositoryFile.id}};const{error:i}=await c["g"].linkTaskDocument(e);i&&this.$alert.error(i)},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["g"].getFormComments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1},async uploadAttachments(t){if(this.taskModel.id){const i=t.target.files[0];this.$store.commit("showLoadingBar");const s=new FormData;s.append("formId",this.formId),s.append("repositoryId",this.repositoryId),s.append("entryId",this.taskModel.id),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(p["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/form/taskAttachmentWithEntryId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:i,data:a}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==i||!a)throw e;this.$alert.success("Document attached")}catch(e){this.$store.commit("hideLoadingBar"),this.$alert.error("Error uploading file"),console.error(e)}this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{this.$store.commit("showLoadingBar");const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("formId",this.formId),s.append("repositoryId",this.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(p["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==a)throw"Invalid response";let r=JSON.parse(o);this.attachmentList.push({id:Number(r.fileId),name:i.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,checked:!1})}catch(e){this.$store.commit("hideLoadingBar"),console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let t=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:e,payload:i}=await c["g"].getFormAttachments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i.length?(t!==i.length&&(this.attachmentList=i.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[]},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await c["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}else{const{error:e}=await c["p"].fileDelete(t.repositoryId,t.id);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.getAttachments()}},validateRequest(t){this.saveAction=t},async initiateRequest(){let t={};t={workflowId:this.workflowId,transactionId:0,review:this.saveAction,formData:{formId:this.workflowFormId,formEntryId:this.form.entryCount,fields:this.workflowFormModel}},this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await c["t"].processTransaction(t);this.$store.commit("hideLoadingBarSave"),this.saveAction="",e?this.$alert.error(e):(this.$alert.success(i.requestNo+" Request Initiated"),this.workflowDetails.push({workflowId:this.workflowId,processId:i.processId,transactionId:i.transactionId}),this.selectedTask.id&&this.linkTaskWorkflowProcess(this.selectedTask.id),this.closeAddTaskSheet(),this.$emit("refresh",this.workflowId))},async getForm(t){if(this.workflowId=t.id,this.headerTitle=t.stage,this.actions=t.actions,this.selectedTask.formId&&this.selectedTask.id&&await this.getWorkflowList(this.workflowId),t.formId)if(this.workflowFormId=t.formId,this.processInfo.length)this.countWorkflow=this.processInfo.length,this.taskSheet=!0;else{const{error:t,payload:e}=await c["g"].getForm(this.workflowFormId);if(t)return void this.$alert.error(t);e&&(this.form=e,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(e.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)}},async getworkflowForm(t){this.closeTaskSheet();const{error:e,payload:i}=await c["g"].getForm(t);this.workflowFormId=t,e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)},async getworkflowDetailsForm(t){const{error:e,payload:i}=await c["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.processSheet=!0,this.$store.commit("hideLoadingBarPage"))},async linkTaskWorkflowProcess(t){let e={};e={wFormId:this.formId,formEntryId:t,workflow:this.workflowDetails};const{error:i}=await c["g"].linkTaskWorkflowProcess(e);i&&this.$alert.error(i)},async getWorkflowList(t){let e={};e={wId:t,fId:this.selectedTask.formId,entryId:this.selectedTask.id};const{error:i,payload:s}=await c["g"].getWorkflowTaskList(t,this.selectedTask.formId,this.selectedTask.id,e);this.workflowFormTaskList=s,s.processInfo&&(this.processInfo=s.processInfo),i&&this.$alert.error(i)},async getWorkflowAudit(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s,meta:a}=i;if(this.formList=s||{},this.formStage=a,this.formList[0].value[0].formData){let t=Object.keys(this.formList[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.formList[0].value[0].formData.fields[t])}),this.formModel=e}this.headerTitle=""+this.formList[0].value[0].name,this.formIdName=String(this.formList[0].value[0].formData.formId),this.getworkflowDetailsForm(this.formIdName),e&&this.$alert.error(e)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async getUsers(t){const{error:e,payload:i}=await c["s"].getUserList();if(e)return void this.$alert.error("Error fetching users");let s={id:0,title:t["e_NFnW0JxrLpZxqPeJS7K"],status:t["11m7YRT-7kdLx-g6iGojc"],remarks:t["2XOJMCR_DVb-5TwVPVdEX"],category:"TASK",createdBy:t["pM6Vly-JRlfroRrziE1jr"],lastActionBy:this.$store.state.session.email};const a=s.createdBy,o=i.filter(t=>a.includes(t.value)),r=o.map(t=>t.id);r.forEach(t=>{const e={...s,createdBy:t};this.insertNotification(e)}),console.log("email",o,r)},async insertNotification(t){const{error:e}=await c["b"].insertNotification(t);e&&this.$alert.error(e)}}},k=w,C=(i("a4c9"),i("2877")),S=i("4e73"),A=i("8169"),I=i("cb32"),T=i("b047"),L=i("93dc"),P=i.n(L),_=Object(C["a"])(k,s,a,!1,null,"0b56d901",null);e["a"]=_.exports;P()(_,"components",{QMenu:S["a"],QChatMessage:A["a"],QAvatar:I["a"],QChip:T["a"]})},"0ce8":function(t,e,i){},1026:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("FileList",{staticClass:"q-mb-md",attrs:{"has-files":!!t.files.length},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Uploading")]},proxy:!0},t.files.length?{key:"actions-minimized",fn:function(){return[e("Pulse",{staticClass:"q-mr-md",attrs:{color:"light-green"}})]},proxy:!0}:null,{key:"default",fn:function(){return t._l(t.files,(function(i,s){return e("FileListItem",{key:i.id,staticClass:"file",attrs:{file:i}},[t.showProgress?e("q-circular-progress",{staticClass:"font-semibold",attrs:{"show-value":"","font-size":"13px",size:"48px",color:"light-green","track-color":t.trackColor,thickness:.22,value:i.uploadedPercentage,indeterminate:!i.uploadedPercentage}},[t._v(" "+t._s(i.uploadedPercentage)+"% ")]):t._e(),t.showDeleteBtn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:red.top",value:"Delete",expression:"'Delete'",arg:"red",modifiers:{top:!0}}],staticClass:"q-mr-md",attrs:{"is-flat":"",color:"red",icon:"eva-trash-2-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",s)}}}):t._e()],1)}))},proxy:!0}],null,!0)})},a=[],o=i("9ef6"),r=i("d406"),n=i("4e64"),l=i("2f62"),c={name:"UploadingFileList",components:{FileList:o["a"],FileListItem:r["a"],Pulse:n["a"]},props:{files:{type:Array,required:!0},showProgress:{type:Boolean,default:!0},showDeleteBtn:{type:Boolean,default:!1}},computed:{...Object(l["c"])(["darkTheme"]),trackColor(){return this.darkTheme?"gray-8":"gray-3"}}},d=c,h=(i("73e0"),i("2877")),u=i("58ea"),p=i("93dc"),m=i.n(p),f=Object(h["a"])(d,s,a,!1,null,"7aa1b7fe",null);e["a"]=f.exports;m()(f,"components",{QCircularProgress:u["a"]})},"108c":function(t,e,i){"use strict";i("bdf3")},1137:function(t,e,i){},"11f5":function(t,e,i){"use strict";i("4759")},1483:function(t,e,i){},1549:function(t,e,i){"use strict";var s=i("2250"),a=i("a809"),o=i("5132"),r=i("e621");function n(t,e){return e.length<2?t:Object(o["a"])(t,Object(r["a"])(e,0,-1))}var l=n,c=i("4dc8");function d(t,e){return e=Object(s["a"])(e,t),t=l(t,e),null==t||delete t[Object(c["a"])(Object(a["a"])(e))]}e["a"]=d},1579:function(t,e,i){"use strict";i("7982")},"15ce":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tree",attrs:{id:"divWorkflowTree"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 225px)"}},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"q-pa-xs"},[e("q-tree",{ref:"tree",attrs:{nodes:t.treeNodes,"node-key":"id","no-connectors":"",expanded:t.expanded,"selected-color":"white",selected:t.selectedNode},on:{"update:expanded":function(e){t.expanded=e},"update:selected":function(e){t.selectedNode=e}},scopedSlots:t._u([{key:"default-header",fn:function(i){return[e("div",{staticClass:"row items-center"},[i.node.icon?e("q-icon",{staticClass:"q-mr-sm",attrs:{name:t.selectedNode===i.node.id?i.node.fillIcon:i.node.icon,color:i.node.color,size:"20px"}}):t._e(),e("div",{class:[t.selectedNode===i.node.id?"text-weight-bold":"text-weight-normal"]},[t._v(" "+t._s(i.node.label)+" ")])],1)]}}])})],1)])])],1)},a=[],o=(i("14d9"),{name:"WorkflowTree",props:{workflowList:{type:Array,default:()=>[]},myInboxCount:{type:Number,default:0},refresh:{type:Boolean,default:!0},loadInitial:{type:Boolean,default:!1}},data(){return{initial:!0,expanded:["Shared Inbox"],selectedNode:"",treeNodes:[{id:this.$nano.id(),label:"My Inbox",children:[{id:"inbox",label:"Inbox (0)",icon:"eva-email-outline",fillIcon:"eva-email"}]}]}},watch:{workflowList:{deep:!0,immediate:!0,handler(){let t=location.origin;if(this.workflowList.length&&this.refresh){this.myInboxCount&&"https://ag-appsvc01.azurewebsites.net"!==t?(this.expanded=["My Inbox"],this.selectedNode="inbox"):(this.expanded=["Shared Inbox"],this.selectedNode="Shared Inbox",this.workflowList.length&&(this.expanded.push("workflow-"+this.workflowList[0].id),this.selectedNode="inbox-"+this.workflowList[0].id)),this.treeNodes=[];let e={id:"Shared Inbox",label:"Shared Inbox",children:[]};this.workflowList.forEach(i=>{let s=[],a={};i.completedInfo?i.completedInfo.length>1?(i.completedInfo.forEach(t=>{s.push({id:`completed-${i.id}-${t.value}`,label:`${t.value} (${t.totalCount})`,icon:"eva-arrow-circle-right-outline",fillIcon:"eva-arrow-circle-right"})}),a={id:"completed-"+i.id,label:`Completed (${i.completedCount})`,icon:"",fillIcon:"",children:s}):i.completedInfo.length&&(a={id:"completed-"+i.id,label:`${i.completedInfo[0].value} (${i.completedCount})`,icon:"eva-checkmark-circle-2-outline",fillIcon:"eva-checkmark-circle-2",children:s}):a={id:"completed-"+i.id,label:`Completed (${i.completedCount})`,icon:"eva-checkmark-circle-2-outline",fillIcon:"eva-checkmark-circle-2",children:s},"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t?e.children.push({id:"workflow-"+i.id,label:i.inboxCount?`${i.name} (${i.inboxCount})`:i.name,children:[{id:"common-"+i.id,label:`All Inbox (${i.runningCount})`,icon:"mdi-inbox-outline",fillIcon:"mdi-inbox"},{id:"inbox-"+i.id,label:`Inbox (${i.inboxCount})`,icon:"eva-email-outline",fillIcon:"eva-email"},{id:"sent-"+i.id,label:`Sent (${i.processCount})`,icon:"eva-person-done-outline",fillIcon:"eva-person-done"},{id:"payment-"+i.id,label:`Payment (${i.paymentProcessCount})`,icon:"mdi-account-cash-outline",fillIcon:"mdi-account-cash"},a]}):e.children.push({id:"workflow-"+i.id,label:i.inboxCount?`${i.name} (${i.inboxCount})`:i.name,children:[{id:"inbox-"+i.id,label:`Inbox (${i.inboxCount})`,icon:"eva-email-outline",fillIcon:"eva-email"},{id:"sent-"+i.id,label:`Sent (${i.processCount})`,icon:"eva-person-done-outline",fillIcon:"eva-person-done"},a]})});let i={id:"My Inbox",label:"My Inbox",children:[{id:"inbox",label:`Inbox (${this.myInboxCount})`,icon:"eva-email-outline",fillIcon:"eva-email"}]};this.treeNodes.push(i),this.treeNodes.push(e)}else if(this.workflowList.length){let e=this.treeNodes.findIndex(t=>"Shared Inbox"===t.label);this.workflowList.forEach(i=>{let s=this.treeNodes[e].children.findIndex(t=>t.id==="workflow-"+i.id);"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t?(this.treeNodes[e].children[s].children[0].label=`All Inbox (${i.runningCount})`,this.treeNodes[e].children[s].children[1].label=`Inbox (${i.inboxCount})`,this.treeNodes[e].children[s].children[2].label=`Sent (${i.processCount})`,this.treeNodes[e].children[s].children[3].label=`Payment (${i.paymentProcessCount})`,this.treeNodes[e].children[s].children[4].label=`Completed (${i.completedCount})`):(this.treeNodes[e].children[s].children[0].label=`Inbox (${i.inboxCount})`,this.treeNodes[e].children[s].children[1].label=`Sent (${i.processCount})`,this.treeNodes[e].children[s].children[2].label=`Completed (${i.completedCount})`)})}}},selectedNode:{immediate:!0,handler(){if(this.selectedNode&&!this.initial){this.initial=!1;const t=this.selectedNode.split("-")[0];"My Inbox"===t?(2===this.expanded.length&&(this.expanded.pop(),this.expanded.pop()),this.$refs.tree.setExpanded(this.selectedNode,!0)):"Shared Inbox"===t?(this.expanded.pop(),this.$refs.tree.setExpanded(this.selectedNode,!0)):"workflow"===t?(this.expanded.indexOf("My Inbox")>-1?this.expanded.length>2&&this.expanded.pop():this.expanded.length>1&&this.expanded.pop(),this.$refs.tree.setExpanded(this.selectedNode,!0),this.selectedNode="inbox-"+this.selectedNode.split("-")[1]):this.loadInitial?(this.$emit("update:loadInitial",!1),this.$emit("selectedNode",this.selectedNode,!1)):this.$emit("selectedNode",this.selectedNode,!0)}this.initial&&(this.initial=!1)}}},methods:{}}),r=o,n=(i("a1da"),i("2877")),l=(i("caad"),i("13d5"),i("a026")),c=i("0016"),d=i("85fc"),h=l["default"].extend({name:"QCheckbox",mixins:[d["a"]],computed:{computedIcon(){return!0===this.isTrue?this.checkedIcon:!0===this.isIndeterminate?this.indeterminateIcon:this.uncheckedIcon}},methods:{__getInner(t){return void 0!==this.computedIcon?[t("div",{key:"icon",staticClass:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[t(c["a"],{staticClass:"q-checkbox__icon",props:{name:this.computedIcon}})])]:[t("div",{key:"svg",staticClass:"q-checkbox__bg absolute"},[t("svg",{staticClass:"q-checkbox__svg fit absolute-full",attrs:{focusable:"false",viewBox:"0 0 24 24"}},[t("path",{staticClass:"q-checkbox__truthy",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}}),t("path",{staticClass:"q-checkbox__indet",attrs:{d:"M4,14H20V10H4"}})])])]}},created(){this.type="checkbox"}}),u=i("e9c1"),p=i("0d59"),m=i("b7fa"),f=i("d882"),g=i("dc8a"),v=i("d54d"),y=i("9e47");const b=["none","strict","leaf","leaf-filtered"];var x=l["default"].extend({name:"QTree",mixins:[m["a"]],props:{nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:t=>b.includes(t)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:{type:Function,default(t,e){const i=e.toLowerCase();return t[this.labelKey]&&t[this.labelKey].toLowerCase().indexOf(i)>-1}},duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},computed:{classes(){return"q-tree q-tree--"+(!0===this.dense?"dense":"standard")+(!0===this.noConnectors?" q-tree--no-connectors":"")+(!0===this.isDark?" q-tree--dark":"")+(void 0!==this.color?" text-"+this.color:"")},hasSelection(){return void 0!==this.selected},computedIcon(){return this.icon||this.$q.iconSet.tree.icon},computedControlColor(){return this.controlColor||this.color},textColorClass(){if(void 0!==this.textColor)return"text-"+this.textColor},selectedColorClass(){const t=this.selectedColor||this.color;if(t)return"text-"+t},meta(){const t={},e=(i,s)=>{const a=i.tickStrategy||(s?s.tickStrategy:this.tickStrategy),o=i[this.nodeKey],r=i[this.childrenKey]&&i[this.childrenKey].length>0,n=!0!==i.disabled&&!0===this.hasSelection&&!1!==i.selectable,l=!0!==i.disabled&&!1!==i.expandable,c="none"!==a,d="strict"===a,h="leaf-filtered"===a,u="leaf"===a||"leaf-filtered"===a;let p=!0!==i.disabled&&!1!==i.tickable;!0===u&&!0===p&&s&&!0!==s.tickable&&(p=!1);let m=i.lazy;!0===m&&void 0!==this.lazy[o]&&!0===Array.isArray(i[this.childrenKey])&&(m=this.lazy[o]);const f={key:o,parent:s,isParent:r,lazy:m,disabled:i.disabled,link:!0!==i.disabled&&(!0===n||!0===l&&(!0===r||!0===m)),children:[],matchesFilter:!this.filter||this.filterMethod(i,this.filter),selected:o===this.selected&&!0===n,selectable:n,expanded:!0===r&&this.innerExpanded.includes(o),expandable:l,noTick:!0===i.noTick||!0!==d&&m&&"loaded"!==m,tickable:p,tickStrategy:a,hasTicking:c,strictTicking:d,leafFilteredTicking:h,leafTicking:u,ticked:(!0===d||!0!==r)&&this.innerTicked.includes(o)};if(t[o]=f,!0===r&&(f.children=i[this.childrenKey].map(t=>e(t,f)),this.filter&&(!0!==f.matchesFilter?f.matchesFilter=f.children.some(t=>t.matchesFilter):!0!==f.noTick&&!0!==f.disabled&&!0===f.tickable&&!0===h&&!0===f.children.every(t=>!0!==t.matchesFilter||!0===t.noTick||!0!==t.tickable)&&(f.tickable=!1)),!0===f.matchesFilter&&(!0!==f.noTick&&!0!==d&&!0===f.children.every(t=>t.noTick)&&(f.noTick=!0),u))){if(f.ticked=!1,f.indeterminate=f.children.some(t=>!0===t.indeterminate),f.tickable=!0===f.tickable&&f.children.some(t=>t.tickable),!0!==f.indeterminate){const t=f.children.reduce((t,e)=>!0===e.ticked?t+1:t,0);t===f.children.length?f.ticked=!0:t>0&&(f.indeterminate=!0)}!0===f.indeterminate&&(f.indeterminateNextState=f.children.every(t=>!0!==t.tickable||!0!==t.ticked))}return f};return this.nodes.forEach(t=>e(t,null)),t}},data(){return{lazy:{},innerTicked:this.ticked||[],innerExpanded:this.expanded||[]}},watch:{ticked(t){this.innerTicked=t},expanded(t){this.innerExpanded=t}},methods:{getNodeByKey(t){const e=[].reduce,i=(s,a)=>s||!a?s:!0===Array.isArray(a)?e.call(Object(a),i,s):a[this.nodeKey]===t?a:a[this.childrenKey]?i(null,a[this.childrenKey]):void 0;return i(null,this.nodes)},getTickedNodes(){return this.innerTicked.map(t=>this.getNodeByKey(t))},getExpandedNodes(){return this.innerExpanded.map(t=>this.getNodeByKey(t))},isExpanded(t){return!(!t||!this.meta[t])&&this.meta[t].expanded},collapseAll(){void 0!==this.expanded?this.$emit("update:expanded",[]):this.innerExpanded=[]},expandAll(){const t=this.innerExpanded,e=i=>{i[this.childrenKey]&&i[this.childrenKey].length>0&&!1!==i.expandable&&!0!==i.disabled&&(t.push(i[this.nodeKey]),i[this.childrenKey].forEach(e))};this.nodes.forEach(e),void 0!==this.expanded?this.$emit("update:expanded",t):this.innerExpanded=t},setExpanded(t,e,i=this.getNodeByKey(t),s=this.meta[t]){if(s.lazy&&"loaded"!==s.lazy){if("loading"===s.lazy)return;this.$set(this.lazy,t,"loading"),!0!==Array.isArray(i[this.childrenKey])&&this.$set(i,this.childrenKey,[]),this.$emit("lazy-load",{node:i,key:t,done:e=>{this.lazy[t]="loaded",this.$set(i,this.childrenKey,!0===Array.isArray(e)?e:[]),this.$nextTick(()=>{const e=this.meta[t];e&&!0===e.isParent&&this.__setExpanded(t,!0)})},fail:()=>{this.$delete(this.lazy,t),0===i[this.childrenKey].length&&this.$delete(i,this.childrenKey)}})}else!0===s.isParent&&!0===s.expandable&&this.__setExpanded(t,e)},__setExpanded(t,e){let i=this.innerExpanded;const s=void 0!==this.expanded;if(!0===s&&(i=i.slice()),e){if(this.accordion&&this.meta[t]){const e=[];this.meta[t].parent?this.meta[t].parent.children.forEach(i=>{i.key!==t&&!0===i.expandable&&e.push(i.key)}):this.nodes.forEach(i=>{const s=i[this.nodeKey];s!==t&&e.push(s)}),e.length>0&&(i=i.filter(t=>!1===e.includes(t)))}i=i.concat([t]).filter((t,e,i)=>i.indexOf(t)===e)}else i=i.filter(e=>e!==t);!0===s?this.$emit("update:expanded",i):this.innerExpanded=i},isTicked(t){return!(!t||!this.meta[t])&&this.meta[t].ticked},setTicked(t,e){let i=this.innerTicked;const s=void 0!==this.ticked;!0===s&&(i=i.slice()),i=e?i.concat(t).filter((t,e,i)=>i.indexOf(t)===e):i.filter(e=>!1===t.includes(e)),!0===s&&this.$emit("update:ticked",i)},__getSlotScope(t,e,i){const s={tree:this,node:t,key:i,color:this.color,dark:this.isDark};return Object(y["a"])(s,"expanded",()=>e.expanded,t=>{t!==e.expanded&&this.setExpanded(i,t)}),Object(y["a"])(s,"ticked",()=>e.ticked,t=>{t!==e.ticked&&this.setTicked([i],t)}),s},__getChildren(t,e){return(this.filter?e.filter(t=>this.meta[t[this.nodeKey]].matchesFilter):e).map(e=>this.__getNode(t,e))},__getNodeMedia(t,e){if(void 0!==e.icon)return t(c["a"],{staticClass:"q-tree__icon q-mr-sm",props:{name:e.icon,color:e.iconColor}});const i=e.img||e.avatar;return i?t("img",{staticClass:`q-tree__${e.img?"img":"avatar"} q-mr-sm`,attrs:{src:i}}):void 0},__getNode(t,e){const i=e[this.nodeKey],s=this.meta[i],a=e.header&&this.$scopedSlots["header-"+e.header]||this.$scopedSlots["default-header"],o=!0===s.isParent?this.__getChildren(t,e[this.childrenKey]):[],r=o.length>0||s.lazy&&"loaded"!==s.lazy;let n=e.body&&this.$scopedSlots["body-"+e.body]||this.$scopedSlots["default-body"];const l=void 0!==a||void 0!==n?this.__getSlotScope(e,s,i):null;return void 0!==n&&(n=t("div",{staticClass:"q-tree__node-body relative-position"},[t("div",{class:this.textColorClass},[n(l)])])),t("div",{key:i,staticClass:"q-tree__node relative-position",class:{"q-tree__node--parent":r,"q-tree__node--child":!r}},[t("div",{staticClass:"q-tree__node-header relative-position row no-wrap items-center",class:{"q-tree__node--link q-hoverable q-focusable":s.link,"q-tree__node--selected":s.selected,"q-tree__node--disabled":s.disabled},attrs:{tabindex:s.link?0:-1},on:{click:t=>{this.__onClick(e,s,t)},keypress:t=>{!0!==Object(g["c"])(t)&&(13===t.keyCode?this.__onClick(e,s,t,!0):32===t.keyCode&&this.__onExpandClick(e,s,t,!0))}}},[t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget_"+s.key}),"loading"===s.lazy?t(p["a"],{staticClass:"q-tree__spinner",props:{color:this.computedControlColor}}):!0===r?t(c["a"],{staticClass:"q-tree__arrow",class:{"q-tree__arrow--rotate":s.expanded},props:{name:this.computedIcon},on:{click:t=>{this.__onExpandClick(e,s,t)}}}):null,!0===s.hasTicking&&!0!==s.noTick?t(h,{staticClass:"q-tree__tickbox",props:{value:!0===s.indeterminate?null:s.ticked,color:this.computedControlColor,dark:this.isDark,dense:!0,keepColor:!0,disable:!0!==s.tickable},on:{keydown:f["l"],input:t=>{this.__onTickedClick(s,t)}}}):null,t("div",{staticClass:"q-tree__node-header-content col row no-wrap items-center",class:s.selected?this.selectedColorClass:this.textColorClass},[a?a(l):[this.__getNodeMedia(t,e),t("div",e[this.labelKey])]])]),!0===r?!0===this.noTransition?t("div",{staticClass:"q-tree__node-collapsible",class:this.textColorClass,directives:[{name:"show",value:s.expanded}]},[n,t("div",{staticClass:"q-tree__children",class:{"q-tree__node--disabled":s.disabled}},o)]):t(u["a"],{props:{duration:this.duration},on:Object(v["b"])(this,"slide",{show:()=>{this.$emit("after-show")},hide:()=>{this.$emit("after-hide")}})},[t("div",{staticClass:"q-tree__node-collapsible",class:this.textColorClass,directives:[{name:"show",value:s.expanded}]},[n,t("div",{staticClass:"q-tree__children",class:{"q-tree__node--disabled":s.disabled}},o)])]):n])},__blur(t){const e=this.$refs["blurTarget_"+t];void 0!==e&&e.focus()},__onClick(t,e,i,s){!0!==s&&this.__blur(e.key),this.hasSelection&&e.selectable?!1===this.noSelectionUnset?this.$emit("update:selected",e.key!==this.selected?e.key:null):e.key!==this.selected&&this.$emit("update:selected",void 0===e.key?null:e.key):this.__onExpandClick(t,e,i,s),"function"===typeof t.handler&&t.handler(t)},__onExpandClick(t,e,i,s){void 0!==i&&Object(f["l"])(i),!0!==s&&this.__blur(e.key),this.setExpanded(e.key,!e.expanded,t,e)},__onTickedClick(t,e){if(!0===t.indeterminate&&(e=t.indeterminateNextState),t.strictTicking)this.setTicked([t.key],e);else if(t.leafTicking){const i=[],s=t=>{t.isParent?(!0!==e&&!0!==t.noTick&&!0===t.tickable&&i.push(t.key),!0===t.leafTicking&&t.children.forEach(s)):!0===t.noTick||!0!==t.tickable||!0===t.leafFilteredTicking&&!0!==t.matchesFilter||i.push(t.key)};s(t),this.setTicked(i,e)}}},render(t){const e=this.__getChildren(t,this.nodes);return t("div",{class:this.classes},0===e.length?this.filter?this.noResultsLabel||this.$q.lang.tree.noResults:this.noNodesLabel||this.$q.lang.tree.noNodes:e)},created(){!0===this.defaultExpandAll&&this.expandAll()}}),w=i("93dc"),k=i.n(w),C=Object(n["a"])(r,s,a,!1,null,null,null);e["a"]=C.exports;k()(C,"components",{QTree:x,QIcon:c["a"]})},"19b0":function(t,e,i){"use strict";i("f9d3")},"1a1b":function(t,e,i){},"1a82":function(t,e,i){},"1bfa":function(t,e,i){},"1d87":function(t,e,i){t.exports=i.p+"img/kayaku-logo.34027bdf.png"},"1ea3":function(t,e,i){"use strict";i("096c")},"1fa9":function(t,e,i){"use strict";i("3103")},"204d":function(t,e,i){},"21e0":function(t,e,i){"use strict";i("7334")},"21fc":function(t,e,i){},"27bd":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-funnel-outline",color:t.activeFilter?"secondary":"gray"},on:{click:function(e){t.model=!0}}},[e("Sheet",{attrs:{width:"50vw","has-footer":""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Filter "+t._s(t.item)+"s ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md",attrs:{id:"filters"}},[t.searchContent?[e("div",{staticClass:"description"},[t._v(" To search by content, type any text to search the entire folder ")]),e("TextField",{staticClass:"q-mb-md",attrs:{placeholder:"Search the document by content"},model:{value:t.contentSearch.contentSearchValue,callback:function(e){t.$set(t.contentSearch,"contentSearchValue",e)},expression:"contentSearch.contentSearchValue"}}),e("div",{staticClass:"q-mb-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t.showAdvanceOptions?e("div",{staticClass:"q-my-md"},[e("SingleChoiceField",{staticClass:"col q-mb-md",attrs:{options:t.searchOptions,"options-per-line":2,label:"Advanced Search Options"},model:{value:t.contentSearch.searchType,callback:function(e){t.$set(t.contentSearch,"searchType",e)},expression:"contentSearch.searchType"}}),e("FormFieldLabel",{attrs:{label:"Search similarity"}}),e("q-slider",{attrs:{color:"secondary",markers:"","marker-labels":"",min:0,max:10,label:""},model:{value:t.contentSearch.fuzzy,callback:function(e){t.$set(t.contentSearch,"fuzzy",e)},expression:"contentSearch.fuzzy"}})],1):t._e(),e("div",{staticClass:"row items-center q-mb-md"},[e("div",{staticClass:"col"},[t.showAdvanceOptions?e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!1}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-minus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Hide Advanced Options")])],1):e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!0}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-plus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Advanced Options")])],1)]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"actions"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearContentSearch}}),e("BaseButton",{attrs:{label:"search"},on:{click:t.apply}})],1)])])])]:t._e(),t.filterGroups.length?[t._l(t.filterGroups,(function(i,s){return[e("div",{key:i.id,staticClass:"filter-group"},[e("div",{staticClass:"header"},[e("div",{staticClass:"label q-mr-md"},[t._v("Criteria")]),e("div",{staticClass:"label q-mr-md"},[t._v("Condition")]),e("div",{staticClass:"label q-mr-sm"},[t._v("Value")]),e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"eva-plus","no-border":""},on:{click:function(e){return t.addFilter(s)}}})],1),e("BaseSeparator",{staticClass:"q-mb-md",attrs:{"has-inset":""}}),t._l(i.filters,(function(i,a){return e("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"filter row"},[e("ValidationProvider",{key:i.id,staticClass:"col q-mr-md",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:o}){return[e("MultiSelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t._columns,error:o[0]},on:{input:function(e){return t.applyDataType(s,a,i.criteriaArray)}},model:{value:i.criteriaArray,callback:function(e){t.$set(i,"criteriaArray",e)},expression:"filter.criteriaArray"}})]}}],null,!0)}),e("ValidationProvider",{staticClass:"col-3 q-mr-md",attrs:{name:"condition",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("SelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t.conditions(i.criteriaArray),error:s[0]},model:{value:i.condition,callback:function(e){t.$set(i,"condition",e)},expression:"filter.condition"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?e("ValidationProvider",{staticClass:"col-3 q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"NUMBER"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("NumberField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("DateField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"TIME"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TimeField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[t.checkOptions(i.criteriaArray)?[e("AsyncMultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],"api-path":t.apiPath,"column-name":i.criteriaArray},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}}),t._e()]:[t._e(),e("MultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:t.getOptions(i.criteriaArray),error:s[0]},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}})]]}}],null,!0)}):e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}),e("div",{staticClass:"remove-filter"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"red","no-border":"",icon:"eva-close-outline"},on:{click:function(e){return t.removeFilter(s,a)}}})],1)],1)})),e("BaseSeparator",{attrs:{"has-inset":""}}),e("div",{staticClass:"row"},[e("Action",{staticClass:"col",attrs:{icon:"eva-plus-outline",label:"Add Filter Group"},on:{click:function(e){return t.addFilterGroup(s+1)}}}),e("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),e("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete Group"},on:{click:function(e){return t.removeFilterGroup(s)}}})],1)],2),s!==t.filterGroups.length-1?e("div",{key:s,staticClass:"row justify-center"},[e("Toggle",{staticClass:"q-my-md",attrs:{options:t.groupConditions},on:{input:t.groupCondition},model:{value:i.groupCondition,callback:function(e){t.$set(i,"groupCondition",e)},expression:"group.groupCondition"}})],1):t._e()]}))]:[e("div",{staticClass:"add-filter",on:{click:t.addFilterGroup}},[e("BaseIcon",{attrs:{name:"eva-plus","inherit-color":""}}),e("div",{staticClass:"q-ml-sm"},[t._v("Add Filter")])],1)]],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearFilter}}),e("BaseButton",{attrs:{label:"apply"},on:{click:t.apply}})]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)},a=[],o=(i("13d5"),i("14d9"),i("874f")),r=i("9996"),n=i("7bb1"),l=i("381e"),c=i("b3d1"),d=i("12b8"),h=i("94f5"),u=i("670a"),p=i("970a"),m=i("ad54"),f=i("53c1"),g=i("cedb"),v=i("70a9"),y=i("0c21"),b=i("c3d2"),x=i("1b0d"),w=i("0d5e"),k=i("3445"),C=i("9234"),S={name:"FilterItems",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],Sheet:l["a"],TextField:c["a"],SelectField:d["a"],Action:h["a"],Toggle:u["a"],NumberField:m["a"],DateField:f["a"],TimeField:g["a"],AsyncMultiSelectField:v["a"],MultiSelectField:b["a"],AsyncSelectField:y["a"],FormFieldLabel:k["a"],SingleChoiceField:C["a"]},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},filterBy:{type:Array,required:!0},isBordered:{type:Boolean,default:!1},selectedFilter:{type:Array,default:()=>[]},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},module:{type:String,default:""},moduleId:{type:[String,Number],default:0}},data(){return{model:!1,groupConditions:["AND","OR"],filterGroups:[],activeFilter:!1,userList:[],options:[],showAdvanceOptions:!1,searchOptions:[{id:this.$nano.id(),label:"Any of the Words",value:1},{id:this.$nano.id(),label:"All of the Words",value:2}]}},computed:{_columns(){var t=this.columns.reduce((t,e)=>("isFilter"in e?e.isFilter&&t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}):t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}),t),[]);return t},apiPath(){if("repository"===this.module){if(this.$route.query.repositoryId)return`/repository/${this.moduleId}/uniqueColumnValues`}else if("form"===this.module)return`/form/${this.moduleId}/uniqueColumnValues`;return""}},watch:{model:{deep:!0,handler(){this.model}},$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.filterGroups=[],this.activeFilter=!1)}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}},contentSearch:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}}},created(){this.getUsers()},methods:{conditions(t){if(!t)return[];if(1!==t.length)return Object(p["a"])("SHORT_TEXT").map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(r["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}));{const e=this.columns.find(e=>e.name===t[0]);if(e)return Object(p["a"])(e.dataType).map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(r["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}))}},addFilterGroup(t=0){this.filterGroups.splice(t,0,{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"",value:"",arrayValue:[]}],groupCondition:(this.filterGroups.length,"")}),this.filterGroups.length&&this.selectedFilter.length&&this.selectedFilter[1]&&1===this.selectedFilter[1].level&&(this.filterGroups[0].filters=[],this.selectedFilter.forEach((t,e)=>{0!=e&&this.filterGroups[0].filters.push({id:this.$nano.id(),criteria:t.fieldName,condition:"IS_EQUALS_TO",value:t.label,arrayValue:t.arrayValue||[]})}))},removeFilterGroup(t){this.filterGroups.splice(t,1)},addFilter(t){this.filterGroups[t].filters.push({id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"CONTAINS",value:"",arrayValue:[]})},removeFilter(t,e){this.filterGroups[t].filters.splice(e,1)},async apply(){let t=0,e={};if(!this.$refs.form)return void(this.searchContent&&(this.$emit("update",this.filterGroups,e),this.model=!1,this.activeFilter=!0));for(const s of this.$refs.form){const e=await s.validate();e||t++}if(t)return;let i=!1;if(this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.filterGroups[0].filters.length||(this.filterGroups=[]),this.filterGroups.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{t.criteriaArray.length>1?i=!0:t.criteria=t.criteriaArray[0],"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify(t.arrayValue))})})),i){let t=[];this.filterGroups.forEach(e=>{e.filters.length&&e.filters.forEach(e=>{e.criteriaArray.forEach((i,s)=>{t.push({filters:[{criteria:i,condition:e.condition,value:e.value,dataType:e.dataType}],groupCondition:s?"OR":""})})})}),this.$emit("update",t,e)}else this.$emit("update",this.filterGroups,e);this.model=!1,this.activeFilter=!0},applyDataType(t,e,i){if(this.filterGroups[t].filters[e].condition="",1===i.length){this.filterGroups[t].filters[e].dataType="";let s=this._columns.find(t=>t.label===i[0]||t.value===i[0]);s&&(this.filterGroups[t].filters[e].dataType=s.dataType,"SHORT_TEXT"===s.dataType?this.filterGroups[t].filters[e].condition="CONTAINS":"SINGLE_SELECT"===s.dataType&&(this.filterGroups[t].filters[e].condition="IS_EQUALS_TO"));let a=this.filterGroups[t].filters[e];"SINGLE_SELECT"===a.dataType?this.filterGroups[t].filters[e].value=[]:this.filterGroups[t].filters[e].value=""}else this.filterGroups[t].filters[e].condition="CONTAINS",this.filterGroups[t].filters[e].dataType="SHORT_TEXT",this.filterGroups[t].filters[e].value=""},clearFilter(){this.filterGroups=[],this.activeFilter=!1,this.clearContentSearch(),this.$emit("update",this.filterGroups,"")},clearContentSearch(){this.showAdvanceOptions=!1,this.contentSearch.contentSearchValue="",this.contentSearch.searchType=1,this.contentSearch.fuzzy=0,this.$emit("updateContentSearch",this.contentSearch)},groupCondition(t){this.filterGroups[this.filterGroups.length-1].groupCondition=t},checkOptions(t){if(1===t.length){let e=this.columns.find(e=>e.name===t[0]);if(e&&e.apiLoad)return!0}return!1},getOptions(t){var e;return 1===t.length?"createdBy"===t[0]||"modifiedBy"===t[0]||"owner"===t[0]||"coordinator"===t[0]?this.userList:null===(e=this.columns.find(e=>e.name===t[0]))||void 0===e?void 0:e.options:[]},async getUsers(){this.userList=[];const{error:t,payload:e}=await x["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.userList.push({id:this.$nano.id(),label:t.value,value:String(t.id)})})},async getUniqueOptions(t){try{const e=await w["b"].post(this.apiPath,JSON.stringify({column:t,keyword:"",rowFrom:0,rowCount:10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);return this.options=[],a.forEach(t=>{let e=this.userList.find(e=>e.value===t);e&&this.options.push({id:this.$nano.id(),label:e.label,value:e.value})}),this.options}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},A=S,I=(i("ae23"),i("2877")),T=i("a026"),L=i("75c3"),P=i("b7fa"),_=i("f89c"),M=i("7937"),F=i("d882"),D=i("5ff7");const B="q-slider__marker-labels",O=t=>({value:t}),E=[34,37,40,33,39,38],N={mixins:[P["a"],_["b"]],directives:{TouchPan:L["a"]},props:{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},data(){return{active:!1,preventFocus:!1,focus:!1,dragging:!1}},computed:{axis(){return!0===this.vertical?"--v":"--h"},labelSide(){return"-"+(!0===this.switchLabelSide?"switched":"standard")},isReversed(){return!0===this.vertical?!0===this.reverse:this.reverse!==(!0===this.$q.lang.rtl)},computedInnerMin(){return this.__getInnerMin(this.innerMin)},computedInnerMax(){return this.__getInnerMax(this.innerMax)},editable(){return!0!==this.disable&&!0!==this.readonly&&this.computedInnerMin<this.computedInnerMax},computedDecimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},trackLen(){return this.max-this.min},innerBarLen(){return this.computedInnerMax-this.computedInnerMin},innerMinRatio(){return this.__convertModelToRatio(this.computedInnerMin)},innerMaxRatio(){return this.__convertModelToRatio(this.computedInnerMax)},positionProp(){return!0===this.vertical?!0===this.isReversed?"bottom":"top":!0===this.isReversed?"right":"left"},sizeProp(){return!0===this.vertical?"height":"width"},thicknessProp(){return!0===this.vertical?"width":"height"},orientation(){return!0===this.vertical?"vertical":"horizontal"},attributes(){const t={role:"slider","aria-valuemin":this.computedInnerMin,"aria-valuemax":this.computedInnerMax,"aria-orientation":this.orientation,"data-step":this.step};return!0===this.disable?t["aria-disabled"]="true":!0===this.readonly&&(t["aria-readonly"]="true"),t},classes(){return`q-slider q-slider${this.axis} q-slider--${!0===this.active?"":"in"}active inline no-wrap `+(!0===this.vertical?"row":"column")+(!0===this.disable?" disabled":" q-slider--enabled"+(!0===this.editable?" q-slider--editable":""))+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense q-slider--dense"+this.axis:"")},selectionBarClass(){const t=this.selectionColor||this.color;return"q-slider__selection absolute"+(void 0!==t?" text-"+t:"")},markerClass(){return this.__getAxisClass("markers")+" absolute overflow-hidden"},trackContainerClass(){return this.__getAxisClass("track-container")},pinClass(){return this.__getPositionClass("pin")},labelClass(){return this.__getPositionClass("label")},textContainerClass(){return this.__getPositionClass("text-container")},markerLabelsContainerClass(){return this.__getPositionClass("marker-labels-container")+(void 0!==this.markerLabelsClass?" "+this.markerLabelsClass:"")},trackClass(){return"q-slider__track relative-position no-outline"+(void 0!==this.trackColor?" bg-"+this.trackColor:"")},trackStyle(){const t={[this.thicknessProp]:this.trackSize};return void 0!==this.trackImg&&(t.backgroundImage=`url(${this.trackImg}) !important`),t},innerBarClass(){return"q-slider__inner absolute"+(void 0!==this.innerTrackColor?" bg-"+this.innerTrackColor:"")},innerBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.innerMaxRatio-this.innerMinRatio)+"%"};return void 0!==this.innerTrackImg&&(t.backgroundImage=`url(${this.innerTrackImg}) !important`),t},markerStep(){return!0===Object(D["c"])(this.markers)?this.markers:this.computedStep},markerTicks(){const t=[],e=this.markerStep;let i=this.min;do{t.push(i),i+=e}while(i<this.max);return t.push(this.max),t},markerLabelClass(){const t=` ${B}${this.axis}-`;return B+`${t}${!0===this.switchMarkerLabelsSide?"switched":"standard"}`+`${t}${!0===this.isReversed?"rtl":"ltr"}`},markerLabelsList(){return!1===this.markerLabels?null:this.__getMarkerList(this.markerLabels).map((t,e)=>({index:e,value:t.value,label:t.label||t.value,classes:this.markerLabelClass+(void 0!==t.classes?" "+t.classes:""),style:{...this.__getMarkerLabelStyle(t.value),...t.style||{}}}))},markerScope(){return{markerList:this.markerLabelsList,markerMap:this.markerLabelsMap,classes:this.markerLabelClass,getStyle:this.__getMarkerLabelStyle}},markerStyle(){if(0!==this.innerBarLen){const t=100*this.markerStep/this.innerBarLen;return{...this.innerBarStyle,backgroundSize:!0===this.vertical?`2px ${t}%`:t+"% 2px"}}return null},markerLabelsMap(){if(!1===this.markerLabels)return null;const t={};return this.markerLabelsList.forEach(e=>{t[e.value]=e}),t},panDirectives(){return!0===this.editable?[{name:"touch-pan",value:this.__onPan,modifiers:{[this.orientation]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null}},methods:{__getInnerMin(t){return!0===isNaN(t)||this.innerMin<this.min?this.min:this.innerMin},__getInnerMax(t){return!0===isNaN(t)||t>this.max?this.max:this.innerMax},__getPositionClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis} ${e}${this.axis}${this.labelSide}`},__getAxisClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis}`},__convertRatioToModel(t){let e=this.min+t*(this.max-this.min);if(this.step>0){const t=(e-this.min)%this.step;e+=(Math.abs(t)>=this.step/2?(t<0?-1:1)*this.step:0)-t}return this.computedDecimals>0&&(e=parseFloat(e.toFixed(this.computedDecimals))),Object(M["a"])(e,this.computedInnerMin,this.computedInnerMax)},__convertModelToRatio(t){return 0===this.trackLen?0:(t-this.min)/this.trackLen},__getDraggingRatio(t,e){const i=Object(F["h"])(t),s=!0===this.vertical?Object(M["a"])((i.top-e.top)/e.height,0,1):Object(M["a"])((i.left-e.left)/e.width,0,1);return Object(M["a"])(!0===this.isReversed?1-s:s,this.innerMinRatio,this.innerMaxRatio)},__getMarkerList(t){if(!1===t)return null;if(!0===t)return this.markerTicks.map(O);if("function"===typeof t)return this.markerTicks.map(e=>{const i=t(e);return!0===Object(D["d"])(i)?{...i,value:e}:{value:e,label:i}});const e=({value:t})=>t>=this.min&&t<=this.max;return!0===Array.isArray(t)?t.map(t=>!0===Object(D["d"])(t)?t:{value:t}).filter(e):Object.keys(t).map(e=>{const i=t[e],s=Number(e);return!0===Object(D["d"])(i)?{...i,value:s}:{value:s,label:i}}).filter(e)},__getMarkerLabelStyle(t){return{[this.positionProp]:100*(t-this.min)/this.trackLen+"%"}},__getMarkerLabelsContent(t){if(void 0!==this.$scopedSlots["marker-label-group"])return this.$scopedSlots["marker-label-group"](this.markerScope);const e=this.$scopedSlots["marker-label"];return void 0!==e?this.markerLabelsList.map(t=>e({marker:t,...this.markerScope})):this.markerLabelsList.map(e=>t("div",{key:e.value,style:e.style,class:e.classes},e.label))},__onPan(t){!0===t.isFinal?(void 0!==this.dragging&&(this.__updatePosition(t.evt),!0===t.touch&&this.__updateValue(!0),this.dragging=void 0,this.$emit("pan","end")),this.active=!1,this.focus=!1):!0===t.isFirst?(this.dragging=this.__getDragging(t.evt),this.__updatePosition(t.evt),this.__updateValue(),this.active=!0,this.$emit("pan","start")):(this.__updatePosition(t.evt),this.__updateValue())},__onBlur(){this.focus=!1},__onActivate(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__onDeactivate,!0)},__onDeactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__onBlur(),document.removeEventListener("mouseup",this.__onDeactivate,!0)},__onMobileClick(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(!0)},__onKeyup(t){E.includes(t.keyCode)&&this.__updateValue(!0)},__getTextContainerStyle(t){if(!0===this.vertical)return null;const e=this.$q.lang.rtl!==this.reverse?1-t:t;return{transform:`translateX(calc(${2*e-1} * ${this.thumbSize} / 2 + ${50-100*e}%))`}},__getThumb(t,e){const i=[t("svg",{class:"q-slider__thumb-shape absolute-full",attrs:{viewBox:"0 0 20 20","aria-hidden":"true"}},[t("path",{attrs:{d:this.thumbPath}})]),t("div",{class:"q-slider__focus-ring fit"})];return!0!==this.label&&!0!==this.labelAlways||(i.push(t("div",{class:this.pinClass+" absolute fit no-pointer-events"+e.pinColor},[t("div",{class:this.labelClass,style:{minWidth:this.thumbSize}},[t("div",{class:this.textContainerClass,style:e.textContainerStyle},[t("span",{class:e.textClass},e.label)])])])),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(i,"push")),t("div",{class:e.classes,style:e.style,...e.nodeData},i)},__getContent(t,e){const i=[];"transparent"!==this.innerTrackColor&&i.push(t("div",{key:"inner",class:this.innerBarClass,style:this.innerBarStyle})),"transparent"!==this.selectionColor&&i.push(t("div",{key:"selection",class:this.selectionBarClass,style:this.selectionBarStyle})),!1!==this.markers&&i.push(t("div",{key:"marker",class:this.markerClass,style:this.markerStyle})),e(i);const s=[t("div",{key:"trackC",class:this.trackContainerClass,attrs:this.trackContainerAttrs,on:this.trackContainerEvents,directives:this.panDirectives},[t("div",{class:this.trackClass,style:this.trackStyle},i)])];if(!1!==this.markerLabels){const e=!0===this.switchMarkerLabelsSide?"unshift":"push";s[e](t("div",{key:"markerL",class:this.markerLabelsContainerClass},this.__getMarkerLabelsContent(t)))}return s}},beforeDestroy(){document.removeEventListener("mouseup",this.__onDeactivate,!0)}};var $=T["default"].extend({name:"QSlider",mixins:[N],props:{value:{required:!0,default:null,validator:t=>"number"===typeof t||null===t},labelValue:[String,Number]},data(){const t=this.__getInnerMin(this.innerMin),e=this.__getInnerMax(this.innerMax);return{model:null===this.value?t:Object(M["a"])(this.value,t,e),curRatio:0}},computed:{modelRatio(){return this.__convertModelToRatio(this.model)},ratio(){return!0===this.active?this.curRatio:this.modelRatio},selectionBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.ratio-this.innerMinRatio)+"%"};return void 0!==this.selectionImg&&(t.backgroundImage=`url(${this.selectionImg}) !important`),t},thumbLabel(){return void 0!==this.labelValue?this.labelValue:this.model},thumbClasses(){const t=this.thumbColor||this.color;return`q-slider__thumb q-slider__thumb${this.axis} q-slider__thumb${this.axis}-${!0===this.isReversed?"rtl":"ltr"} absolute non-selectable`+(!1===this.preventFocus&&!0===this.focus?" q-slider--focus":"")+(void 0!==t?" text-"+t:"")},thumbStyle(){return{width:this.thumbSize,height:this.thumbSize,[this.positionProp]:100*this.ratio+"%"}},thumbPinColor(){return void 0!==this.labelColor?" text-"+this.labelColor:""},thumbTextContainerStyle(){return this.__getTextContainerStyle(this.ratio)},thumbTextClass(){return"q-slider__text"+(void 0!==this.labelTextColor?" text-"+this.labelTextColor:"")},trackContainerEvents(){return!0!==this.editable?{}:!0===this.$q.platform.is.mobile?{click:this.__onMobileClick}:{mousedown:this.__onActivate,focus:this.__onFocus,blur:this.__onBlur,keydown:this.__onKeydown,keyup:this.__onKeyup}},trackContainerAttrs(){return{tabindex:!0!==this.$q.platform.is.mobile?this.computedTabindex:null}},modelUpdate(){return`${this.value}|${this.computedInnerMin}|${this.computedInnerMax}`}},watch:{modelUpdate(){this.model=null===this.value?this.computedInnerMin:Object(M["a"])(this.value,this.computedInnerMin,this.computedInnerMax)}},methods:{__updateValue(t){this.model!==this.value&&this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(t,e=this.dragging){const i=this.__getDraggingRatio(t,e);this.model=this.__convertRatioToModel(i),this.curRatio=!0!==this.snap||0===this.computedStep?i:this.__convertModelToRatio(this.model)},__onFocus(){this.focus=!0},__onKeydown(t){if(!E.includes(t.keyCode))return;Object(F["l"])(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=([34,37,40].includes(t.keyCode)?-1:1)*(!0===this.isReversed?-1:1)*(!0===this.vertical?-1:1)*e;this.model=Object(M["a"])(parseFloat((this.model+i).toFixed(this.computedDecimals)),this.computedInnerMin,this.computedInnerMax),this.__updateValue()}},render(t){const e=this.__getContent(t,e=>{e.push(this.__getThumb(t,{pinColor:this.thumbPinColor,textContainerStyle:this.thumbTextContainerStyle,textClass:this.thumbTextClass,label:this.thumbLabel,classes:this.thumbClasses,style:this.thumbStyle,nodeData:{}}))});return t("div",{class:this.classes+(null===this.value?" q-slider--no-value":""),attrs:{...this.attributes,"aria-valuenow":this.value}},e)}}),R=i("93dc"),z=i.n(R),q=Object(I["a"])(A,s,a,!1,null,"2eff0750",null);e["a"]=q.exports;z()(q,"components",{QSlider:$})},2852:function(t,e,i){"use strict";i("e5e9")},"28f7":function(t,e,i){},2948:function(t,e,i){"use strict";i("f108")},"297e":function(t,e,i){"use strict";i("f98d")},"298f":function(t,e,i){"use strict";i("0b71")},"2a80":function(t,e,i){},"2ac6":function(t,e,i){"use strict";i("0ce8")},"2adf":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"chart-wrapper"}},[t.dashboardView?t._e():e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("q-space"),t._t("header")],2),e("div",{ref:"chart",staticClass:"chart"})])},a=[],o=i("2f62"),r=i("a1a34"),n=i("ba30"),l=i.n(n),c={name:"ChartWrapper",props:{title:{type:String,required:!0},options:{type:Object,default:()=>{}},series:{type:Array,default:()=>[]},dashboardView:{type:Boolean,default:!1}},data(){return{chartRef:"",globalOptions:{chart:{fontFamily:"Poppins",parentHeightOffset:0,toolbar:{tools:{selection:!1,zoom:!1,zoomin:'<i class="q-icon text-gray eva eva-plus-circle-outline" style="font-size: 20px;"></i>',zoomout:'<i class="q-icon text-gray eva eva-minus-circle-outline" style="font-size: 20px;"></i>',pan:'<i class="q-icon text-gray eva eva-move-outline" style="font-size: 20px;"></i>',reset:'<i class="q-icon text-gray eva eva-refresh-outline" style="font-size: 20px;"></i>',download:'<i class="q-icon text-gray eva eva-download-outline" style="font-size: 20px;"></i>'},export:{csv:{filename:this.title},svg:{filename:this.title},png:{filename:this.title}}},background:"#ffffff"},grid:{padding:{top:16,bottom:16},borderColor:"#e2e8f0"},colors:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],dataLabels:{style:{fontWeight:"500",fontSize:"14px"}},legend:{fontWeight:"500"},markers:{size:6,strokeWidth:0},xaxis:{axisBorder:{show:!1}},stroke:{curve:"straight"},plotOptions:{boxPlot:{colors:{upper:"#4a89dd",lower:"#36bd9a"}}},series:[]}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{deep:!0,handler(){Object(r["a"])(this.globalOptions,this.options),this.chartRef.updateOptions(this.globalOptions)}},series:{deep:!0,handler(){this.chartRef.updateSeries(this.series)}},darkTheme(){this.globalOptions.chart.background=this.darkTheme?"#1d2129":"#ffffff",this.globalOptions.grid.borderColor=this.darkTheme?"#334155":"#e2e8f0",this.globalOptions.colors=this.darkTheme?["#5c9dec","#48ceaf","#fecf55","#fa6f52","#ac92ed","#ec87bf","#a1d568"]:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],this.globalOptions.plotOptions={boxPlot:{colors:{upper:this.darkTheme?"#5c9dec":"#4a89dd",lower:this.darkTheme?"#48ceaf":"#36bd9a"}}},this.chartRef.updateOptions(this.globalOptions)}},mounted(){Object(r["a"])(this.globalOptions,this.options),this.globalOptions.series=this.series,this.chartRef=new l.a(this.$refs.chart,this.globalOptions),this.chartRef.render()}},d=c,h=(i("fb47"),i("2877")),u=i("2c91"),p=i("0016"),m=i("93dc"),f=i.n(m),g=Object(h["a"])(d,s,a,!1,null,"49e033f6",null);e["a"]=g.exports;f()(g,"components",{QSpace:u["a"],QIcon:p["a"]})},"2b88":function(t,e,i){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function s(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("a026"));function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t){return n(t)||l(t)||c()}function n(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var d="undefined"!==typeof window;function h(t){return Array.isArray(t)||"object"===o(t)?Object.freeze(t):t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,i){var s=i.passengers[0],a="function"===typeof s?s(e):i.passengers;return t.concat(a)}),[])}function p(t,e){return t.map((function(t,e){return[e,t]})).sort((function(t,i){return e(t[1],i[1])||t[0]-i[0]})).map((function(t){return t[1]}))}function m(t,e){return e.reduce((function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e}),{})}var f={},g={},v={},y=a.extend({data:function(){return{transports:f,targets:g,sources:v,trackInstances:d}},methods:{open:function(t){if(d){var e=t.to,i=t.from,s=t.passengers,o=t.order,r=void 0===o?1/0:o;if(e&&i&&s){var n={to:e,from:i,passengers:h(s),order:r},l=Object.keys(this.transports);-1===l.indexOf(e)&&a.set(this.transports,e,[]);var c=this.$_getTransportIndex(n),u=this.transports[e].slice(0);-1===c?u.push(n):u[c]=n,this.transports[e]=p(u,(function(t,e){return t.order-e.order}))}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.to,s=t.from;if(i&&(s||!1!==e)&&this.transports[i])if(e)this.transports[i]=[];else{var a=this.$_getTransportIndex(t);if(a>=0){var o=this.transports[i].slice(0);o.splice(a,1),this.transports[i]=o}}},registerTarget:function(t,e,i){d&&(this.trackInstances&&!i&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,i){d&&(this.trackInstances&&!i&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,i=t.from;for(var s in this.transports[e])if(this.transports[e][s].from===i)return+s;return-1}}}),b=new y(f),x=1,w=a.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(x++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick((function(){b.registerSource(t.name,t)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){b.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};b.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:r(t),order:this.order};b.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(i,[this.normalizeOwnChildren(e)]):this.slim?t():t(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),k=a.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:b.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){b.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){b.unregisterTarget(e),b.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){b.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return u(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),i=this.children(),s=this.transition||this.tag;return e?i[0]:this.slim&&!s?t():t(s,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),C=0,S=["disabled","name","order","slim","slotProps","tag","to"],A=["multiple","transition"],I=a.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(C++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(b.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=b.targets[e.name];else{var i=e.append;if(i){var s="string"===typeof i?i:"DIV",a=document.createElement(s);t.appendChild(a),t=a}var o=m(this.$props,A);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new k({el:t,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=m(this.$props,S);return t(w,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||t()}});function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",w),t.component(e.portalTargetName||"PortalTarget",k),t.component(e.MountingPortalName||"MountingPortal",I)}var L={install:T};e.default=L,e.Portal=w,e.PortalTarget=k,e.MountingPortal=I,e.Wormhole=b},"2d9d":function(t,e,i){"use strict";i("6f95")},"2dcd":function(t,e,i){},"2ddf":function(t,e,i){},"2e65":function(t,e,i){"use strict";i("3d68")},"2f12":function(t,e,i){"use strict";i("2ddf")},3002:function(t,e,i){},"307a":function(t,e,i){},3103:function(t,e,i){},"34b3":function(t,e,i){},3595:function(t,e,i){"use strict";i("ee74")},"36b4":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{value:t.value},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Quick Help ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"quick-help"}},[e("div",{staticClass:"section-title"},[t._v("Overview")]),e("VideoCard",{attrs:{caption:"Learn all about the module by watching the 5 minute video",thumbnail:"workspace","page-help":t.pageHelp},on:{videoclick:function(e){return t.$emit("videoclick")}}}),e("div",{staticClass:"section-title"},[t._v("Related videos")]),"WORKFLOW"===t.pageHelp?t._l(t.workFlow,(function(i){return e("ListItem",{key:i.id,staticClass:"list-item",attrs:{icon:"eva-film-outline",label:i.label},on:{click:function(e){return t.workFlowClick(i)}}})})):t._e(),"FORM"===t.pageHelp?t._l(t.form,(function(i){return e("ListItem",{key:i.id,staticClass:"list-item",attrs:{icon:"eva-film-outline",label:i.label},on:{click:function(e){return t.workFlowClick(i)}}})})):t._e(),"REPOSITORY"===t.pageHelp?t._l(t.repository,(function(i){return e("ListItem",{key:i.id,staticClass:"list-item",attrs:{icon:"eva-film-outline",label:i.label},on:{click:function(e){return t.workFlowClick(i)}}})})):[e("ListItem",{staticClass:"list-item",attrs:{icon:"eva-film-outline",label:"How to add workspace?"}}),e("ListItem",{staticClass:"list-item",attrs:{icon:"eva-film-outline",label:"How to create a Form?"}}),e("ListItem",{staticClass:"list-item",attrs:{icon:"eva-film-outline",label:"How to download the report pdf?"}})],e("div",{staticClass:"section-title"},[t._v("Related links")]),"WORKFLOW"===t.pageHelp?t._l(t.relatedLinks,(function(t){return e("ListItem",{key:t.id,staticClass:"list-item",attrs:{icon:"eva-film-outline",label:t.label}})})):"FORM"===t.pageHelp?t._l(t.relatedLinkForms,(function(t){return e("ListItem",{key:t.id,staticClass:"list-item",attrs:{icon:"eva-film-outline",label:t.label}})})):"REPOSITORY"===t.pageHelp?t._l(t.relatedLinkRepository,(function(t){return e("ListItem",{key:t.id,staticClass:"list-item",attrs:{icon:"eva-film-outline",label:t.label}})})):[e("ListItem",{staticClass:"list-item",attrs:{icon:"eva-external-link",label:"Add a dashboard chart"}}),e("ListItem",{staticClass:"list-item",attrs:{icon:"eva-external-link",label:"Create a Form"}}),e("ListItem",{staticClass:"list-item",attrs:{icon:"eva-external-link",label:"Delete a workspace"}})]],2)]},proxy:!0}])}),e("QuickHelpModal",{attrs:{"is-header":!1,width:"70vw",height:"96vh","has-footer":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"expand",staticStyle:{position:"relative","padding-bottom":"calc(50.70717423133236% + 42px)",height:"0"}},[e("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:t.selectedItem.link,title:"Workflow - Process Design",allow:"clipboard-write",frameborder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:""}})])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",icon:"mdi-close",color:"primary"},on:{click:function(e){t.workflowModal=!1}}})]},proxy:!0}]),model:{value:t.workflowModal,callback:function(e){t.workflowModal=e},expression:"workflowModal"}})],1)},a=[],o=i("381e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"video-card"},on:{click:function(e){return e.stopPropagation(),t.$emit("click")}}},[e("div",{staticClass:"description"},[t._v(" "+t._s(t.caption)+" ")]),"WORKFLOW"===t.pageHelp?e("div",{staticClass:"expand",staticStyle:{position:"relative","padding-bottom":"calc(50.70717423133236% + 42px)",height:"0"}},[e("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://walk.ezofis.com/embed/clxbirpmz0rgat2oea5devc2m",title:"Workflow - Process Design",allow:"clipboard-write",frameborder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:""}}),e("div",{staticClass:"play-btn shadow-2",on:{click:function(e){return t.$emit("videoclick")}}})]):"FORM"===t.pageHelp?e("div",{staticClass:"expand",staticStyle:{position:"relative","padding-bottom":"calc(50.70717423133236% + 42px)",height:"0"}},[e("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://app.supademo.com/embed/clxd8vlxd1by1t2oe6icxf5nr",title:"Workflow - Process Design",allow:"clipboard-write",frameborder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:""}}),e("div",{staticClass:"play-btn shadow-2",on:{click:function(e){return t.$emit("videoclick")}}})]):"REPOSITORY"===t.pageHelp?e("div",{staticClass:"expand",staticStyle:{position:"relative","padding-bottom":"calc(50.70717423133236% + 42px)",height:"0"}},[e("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://app.supademo.com/embed/clxqan0n800m3tj3fz0zayzcf",title:"Workflow - Process Design",allow:"clipboard-write",frameborder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:""}}),e("div",{staticClass:"play-btn shadow-2",on:{click:function(e){return t.$emit("videoclick")}}})]):e("div",{staticClass:"video"},[e("img",{attrs:{src:t._thumbnail,alt:"video"}}),e("div",{staticClass:"play-btn shadow-2"},[e("BaseIcon",{attrs:{name:"mdi-play",size:"24px",color:"white"}})],1)])])},n=[],l=i("2f62"),c={name:"VideoCard",props:{caption:{type:String,required:!0},thumbnail:{type:String,required:!0},pageHelp:{type:String,default:""}},computed:{...Object(l["c"])(["darkTheme"]),_thumbnail(){return i("739a")(`./${this.thumbnail}-${this.darkTheme?"dark":"light"}.png`)}}},d=c,h=(i("ff71"),i("2877")),u=Object(h["a"])(d,r,n,!1,null,"0369504f",null),p=u.exports,m=i("cade"),f=i("b641"),g={name:"QuickHelp",components:{Sheet:o["a"],VideoCard:p,ListItem:m["a"],QuickHelpModal:f["a"]},props:{value:{type:Boolean,default:!1},pageHelp:{type:String,default:""}},data(){return{workFlow:[{id:this.$nano.id(),label:"How to create new Workflow? ",link:"https://app.supademo.com/embed/clxd8hz5u1bqat2oeke7kkoew"},{id:this.$nano.id(),label:"How to connect Folders in Workflow?",link:"https://app.supademo.com/embed/clxd7tkoo1b80t2oewkmcvht1"},{id:this.$nano.id(),label:"How to Enable Notification on the node level?",link:"https://app.supademo.com/embed/clxbirpmz0rgat2oea5devc2m"},{id:this.$nano.id(),label:"How to add Document checklist on each of the nodes?",link:"https://app.supademo.com/embed/clxesrdp81s6kt2oesojunb10"},{id:this.$nano.id(),label:"How to add secure controls to visible / Editable on each nodes?",link:"https://app.supademo.com/embed/clxeo8mmp1q8ot2oef1qnxh2n"}],relatedLinks:[{id:this.$nano.id(),label:"Create a Form "},{id:this.$nano.id(),label:"Create a Folders"},{id:this.$nano.id(),label:"Configure Weekly Schedular"},{id:this.$nano.id(),label:"Delete Workflow"},{id:this.$nano.id(),label:"Configre Delegates"}],form:[{id:this.$nano.id(),label:"How to create new Form? ",link:"https://app.supademo.com/embed/clxd8vlxd1by1t2oe6icxf5nr"},{id:this.$nano.id(),label:"How to Configure Master Form?",link:"https://app.supademo.com/embed/clxeypgjq1taat2oeste1kqly"},{id:this.$nano.id(),label:"How to add Panels and Controls on the Forms?",link:"https://app.supademo.com/embed/clxe5sifa1jubt2oeeqe6g5yx"},{id:this.$nano.id(),label:"How to configure the Controls Properties?",link:"https://app.supademo.com/embed/clxeb6bpn1lo3t2oescrrnarp"},{id:this.$nano.id(),label:"How to assign Default values? (login name / login email / Date Fields)",link:"https://app.supademo.com/embed/clxf1en5q1tnst2oe2lw8lull"},{id:this.$nano.id(),label:"How to apply settings on Calendar Picker?",link:"https://app.supademo.com/embed/clxenredh1pvyt2oensroin4m"},{id:this.$nano.id(),label:"How to connect with Master Inputs?",link:"https://app.supademo.com/embed/clxg1psol1xwjt2oeo843dd2f"},{id:this.$nano.id(),label:"How to enable controls based on the selected value?",link:"https://app.supademo.com/embed/clxfr9qln1wy8t2oeki9cigqx"},{id:this.$nano.id(),label:"How to apply readonly controls based on the selected Value?",link:"https://app.supademo.com/embed/clxfwe5z41xb9t2oez0l7ufiz"}],relatedLinkForms:[{id:this.$nano.id(),label:"Create a Workflow "},{id:this.$nano.id(),label:"Create a Folders"},{id:this.$nano.id(),label:"Configure QR Code Generator"},{id:this.$nano.id(),label:"Delete Forms"}],repository:[{id:this.$nano.id(),label:"How to upload files on Static Folder?",link:"https://app.supademo.com/embed/clxqan0n800m3tj3fz0zayzcf"},{id:this.$nano.id(),label:"How to do manual indexing (with freehand)?",link:"https://app.supademo.com/embed/clxrbyddv4bs7t2oewhreca4a"},{id:this.$nano.id(),label:"How to do Content Search?",link:"https://app.supademo.com/embed/clxrdmmu74cbpt2oecuqf41am"},{id:this.$nano.id(),label:"How to do Global Search?",link:"https://app.supademo.com/edit/clxrdeqvl4c7st2oetzsbpz3p"},{id:this.$nano.id(),label:"How to upload files on dynamic Folder?",link:"https://app.supademo.com/embed/clxkjn41t2y6jt2oeea75ejui"},{id:this.$nano.id(),label:"How to upload the files into folders?",link:"https://app.supademo.com/embed/clxqa1xmy4888t2oev1skml3x"},{id:this.$nano.id(),label:"How to send the files to auto process?",link:"https://app.supademo.com/embed/clxrjr2wk4d0pt2oe26rima2o"},{id:this.$nano.id(),label:"How to Assign Document Notifications?",link:"https://app.supademo.com/embed/clxrcnvuo4byot2oec34ew455"},{id:this.$nano.id(),label:"How to download / print?",link:"https://app.supademo.com/embed/clxrd48pq4c5dt2oeb1dv0bjt"}],relatedLinkRepository:[{id:this.$nano.id(),label:"Create a Workflow "},{id:this.$nano.id(),label:"Create a Folders"},{id:this.$nano.id(),label:"Configure QR Code Generator"},{id:this.$nano.id(),label:"Delete Forms"}],workflowModal:!1,selectedItem:{}}},methods:{workFlowClick(t){this.workflowModal=!0,this.selectedItem=t}}},v=g,y=(i("956a"),Object(h["a"])(v,s,a,!1,null,"14ad6b7a",null));e["a"]=y.exports},"36ce":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"breadcrumbs"}},[t._l(t.breadcrumbs,(function(i,s){return[e("Breadcrumb",{key:i.id,attrs:{label:i.label,route:i.route},on:{click:function(e){return t.goto(i)}}}),s!==t.breadcrumbs.length-1?e("Separator",{key:s}):t._e()]}))],2)},a=[],o=(i("14d9"),function(){var t=this,e=t._self._c;return e("div",t._g({class:{"has-link":t.route},attrs:{id:"breadcrumb"}},t.$listeners),[t._v(" "+t._s(t.label)+" ")])}),r=[],n={name:"Breadcrumb",props:{label:{type:String,required:!0},route:{type:String,default:""}}},l=n,c=(i("a5be"),i("2877")),d=Object(c["a"])(l,o,r,!1,null,"296e1bac",null),h=d.exports,u=i("5ca1"),p={name:"Breadcrumbs",components:{Breadcrumb:h,Separator:u["a"]},props:{breadcrumbs:{type:Array,required:!0}},methods:{goto(t){if(this.$store.state.profileMenus.length)if(t.query){let e=t.query.split(":");this.$router.push({name:t.route,query:{[e[0]]:e[1]}})}else this.$router.push({name:t.route})}}},m=p,f=(i("7fe6"),Object(c["a"])(m,s,a,!1,null,"ce99f49c",null));e["a"]=f.exports},"381b":function(t,e,i){"use strict";const s={SHORT_TEXT:"SHORT_TEXT",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",DATE:"DATE",TIME:"TIME",DATE_TIME:"DATE_TIME",SINGLE_SELECT:"SINGLE_SELECT",TABLE:"TABLE",BARCODE:"BARCODE",OMR:"OMR",AUTO_GENERATED:"AUTO_GENERATED"};Object.freeze(s),e["a"]=s},3846:function(t,e,i){t.exports=i.p+"img/sobha-mark-logo.7fc8820b.png"},3980:function(t,e,i){"use strict";var s=i("a026"),a=i("d882"),o=i("0967"),r={data(){return{canRender:!o["f"]}},mounted(){!1===this.canRender&&(this.canRender=!0)}},n=i("d54d");e["a"]=s["default"].extend({name:"QResizeObserver",mixins:[r],props:{debounce:{type:[String,Number],default:100}},data(){return!0===this.hasObserver?{}:{url:!0===this.$q.platform.is.ie?null:"about:blank"}},methods:{trigger(t){!0===t||0===this.debounce||"0"===this.debounce?this.__emit():null===this.timer&&(this.timer=setTimeout(this.__emit,this.debounce))},__emit(){if(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),!this.$el||!this.$el.parentNode)return;const t=this.$el.parentNode,e={width:t.offsetWidth,height:t.offsetHeight};e.width===this.size.width&&e.height===this.size.height||(this.size=e,this.$emit("resize",this.size))},__cleanup(){void 0!==this.curDocView&&(void 0!==this.curDocView.removeEventListener&&this.curDocView.removeEventListener("resize",this.trigger,a["f"].passive),this.curDocView=void 0)},__onObjLoad(){this.__cleanup(),this.$el.contentDocument&&(this.curDocView=this.$el.contentDocument.defaultView,this.curDocView.addEventListener("resize",this.trigger,a["f"].passive)),this.__emit()}},render(t){if(!1!==this.canRender&&!0!==this.hasObserver)return t("object",{style:this.style,attrs:{tabindex:-1,type:"text/html",data:this.url,"aria-hidden":"true"},on:Object(n["b"])(this,"load",{load:this.__onObjLoad})})},beforeCreate(){this.size={width:-1,height:-1},!0!==o["e"]&&(this.hasObserver="undefined"!==typeof ResizeObserver,!0!==this.hasObserver&&(this.style=(this.$q.platform.is.ie?"visibility:hidden;":"")+"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;"))},mounted(){if(this.timer=null,!0===this.hasObserver)return this.observer=new ResizeObserver(this.trigger),this.observer.observe(this.$el.parentNode),void this.__emit();!0===this.$q.platform.is.ie?(this.url="about:blank",this.__emit()):this.__onObjLoad()},beforeDestroy(){clearTimeout(this.timer),!0!==this.hasObserver?this.__cleanup():void 0!==this.observer&&this.$el.parentNode&&this.observer.unobserve(this.$el.parentNode)}})},"39cc":function(t,e,i){"use strict";i("fad0")},"3b73":function(t,e,i){"use strict";i("3c65"),i("14d9");var s=i("a026"),a=i("66e5"),o=i("4074"),r=i("0170"),n=i("0016"),l=i("e9c1"),c=i("eb85"),d=i("8716"),h=i("463c"),u=i("7ee0"),p=i("b7fa"),m=i("d882"),f=i("e277"),g=i("d54d"),v=i("1732");const y="q:expansion-item:close",b=Object.keys(d["b"]);e["a"]=s["default"].extend({name:"QExpansionItem",mixins:[p["a"],h["a"],u["a"]],props:{...d["b"],icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},data(){return{showing:void 0!==this.value?this.value:this.defaultOpened}},watch:{showing(t){!0===t&&void 0!==this.group&&this.$root.$emit(y,this)},group(t,e){void 0!==t&&void 0===e?this.$root.$on(y,this.__eventHandler):void 0===t&&void 0!==e&&this.$root.$off(y,this.__eventHandler)}},computed:{classes(){return"q-expansion-item--"+(!0===this.showing?"expanded":"collapsed")+" q-expansion-item--"+(!0===this.popup?"popup":"standard")},contentStyle(){if(void 0!==this.contentInsetLevel){const t=!0===this.$q.lang.rtl?"Right":"Left";return{["padding"+t]:56*this.contentInsetLevel+"px"}}},hasLink(){return!0!==this.disable&&(void 0!==this.href||void 0!==this.to&&null!==this.to&&""!==this.to)},linkProps(){const t={};return b.forEach(e=>{t[e]=this[e]}),t},isClickable(){return!0===this.hasLink||!0!==this.expandIconToggle},expansionIcon(){return void 0!==this.expandedIcon&&!0===this.showing?this.expandedIcon:this.expandIcon||this.$q.iconSet.expansionItem[!0===this.denseToggle?"denseIcon":"icon"]},activeToggleIcon(){return!0!==this.disable&&(!0===this.hasLink||!0===this.expandIconToggle)},headerSlotScope(){return{expanded:!0===this.showing,detailsId:this.targetUid,toggle:this.toggle,show:this.show,hide:this.hide}},toggleAriaAttrs(){const t=void 0!==this.toggleAriaLabel?this.toggleAriaLabel:this.$q.lang.label[!0===this.showing?"collapse":"expand"](this.label);return{role:"button","aria-expanded":!0===this.showing?"true":"false","aria-controls":this.targetUid,"aria-label":t}}},methods:{__onHeaderClick(t){!0!==this.hasLink&&this.toggle(t),this.$emit("click",t)},__toggleIconKeyboard(t){13===t.keyCode&&this.__toggleIcon(t,!0)},__toggleIcon(t,e){!0!==e&&void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),this.toggle(t),Object(m["l"])(t)},__eventHandler(t){this!==t&&this.group===t.group&&this.hide()},__getToggleIcon(t){const e={staticClass:"q-focusable relative-position cursor-pointer"+(!0===this.denseToggle&&!0===this.switchToggleSide?" items-end":""),class:this.expandIconClass,props:{side:!0!==this.switchToggleSide,avatar:this.switchToggleSide}},i=[t(n["a"],{staticClass:"q-expansion-item__toggle-icon",class:void 0===this.expandedIcon&&!0===this.showing?"q-expansion-item__toggle-icon--rotated":void 0,props:{name:this.expansionIcon}})];return!0===this.activeToggleIcon&&(Object.assign(e,{attrs:{tabindex:0,...this.toggleAriaAttrs},on:Object(g["b"])(this,"inpExt",{click:this.__toggleIcon,keyup:this.__toggleIconKeyboard})}),i.unshift(t("div",{ref:"blurTarget",staticClass:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",attrs:{tabindex:-1}}))),t(o["a"],e,i)},__getHeader(t){let e;void 0!==this.$scopedSlots.header?e=[].concat(this.$scopedSlots.header(this.headerSlotScope)):(e=[t(o["a"],[t(r["a"],{props:{lines:this.labelLines}},[this.label||""]),this.caption?t(r["a"],{props:{lines:this.captionLines,caption:!0}},[this.caption]):null])],this.icon&&e[!0===this.switchToggleSide?"push":"unshift"](t(o["a"],{props:{side:!0===this.switchToggleSide,avatar:!0!==this.switchToggleSide}},[t(n["a"],{props:{name:this.icon}})]))),!0!==this.disable&&!0!==this.hideExpandIcon&&e[!0===this.switchToggleSide?"unshift":"push"](this.__getToggleIcon(t));const i={ref:"item",style:this.headerStyle,class:this.headerClass,props:{dark:this.isDark,disable:this.disable,dense:this.dense,insetLevel:this.headerInsetLevel}};return!0===this.isClickable&&(i.props.clickable=!0,!0===this.hasLink?Object.assign(i.props,this.linkProps):i.attrs=this.toggleAriaAttrs,i.on={...this.qListeners,click:this.__onHeaderClick}),t(a["a"],i,e)},__getContent(t){const e=[this.__getHeader(t),t(l["a"],{props:{duration:this.duration},on:Object(g["b"])(this,"slide",{show:()=>{this.$emit("after-show")},hide:()=>{this.$emit("after-hide")}})},[t("div",{staticClass:"q-expansion-item__content relative-position",style:this.contentStyle,attrs:{id:this.targetUid},directives:[{name:"show",value:this.showing}]},Object(f["c"])(this,"default"))])];return this.expandSeparator&&e.push(t(c["a"],{staticClass:"q-expansion-item__border q-expansion-item__border--top absolute-top",props:{dark:this.isDark}}),t(c["a"],{staticClass:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",props:{dark:this.isDark}})),e}},render(t){return t("div",{staticClass:"q-expansion-item q-item-type",class:this.classes},[t("div",{staticClass:"q-expansion-item__container relative-position"},this.__getContent(t))])},created(){void 0!==this.group&&this.$root.$on(y,this.__eventHandler),this.targetUid="e_"+Object(v["a"])()},beforeDestroy(){void 0!==this.group&&this.$root.$off(y,this.__eventHandler)}})},"3bb4":function(t,e,i){"use strict";i("51c8")},"3d68":function(t,e,i){},"3fc6":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-my-md",attrs:{id:"process-sheet"}},[e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}})]},proxy:!0},"inbox"===t.selectedNode?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),"inbox"===t.selectedNode&&i.createdBy===t.$store.state.session.id?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadId=i.id,t.reupload(i.name)}}})],1)]:t._e()],2),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),"inbox"===t.selectedNode&&i.createdBy===t.$store.state.session.id?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i.id)}}})],1):t._e()]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode?t.checkCommentsOption()?"calc(100vh - 190px)":"calc(100vh - 150px)":""}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastActionDuration(i.createdAt),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),"inbox"===t.selectedNode?e("div",{staticClass:"col q-pa-sm"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}})]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.checkTenant()?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"100vw","has-footer":!t.isCustomizedWorkflow||"inbox"!==t.selectedNode,"no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i)}}})})),1)],1)],1):t._e()]},proxy:!0},{key:"footer",fn:function(){return[t.isCustomizedWorkflow&&"inbox"===t.selectedNode?t._e():[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()],"psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId?["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Verify",disabled:t.customVerify,color:"primary"},on:{click:function(e){return t.validateRequest("CustomVerify",!1,!1)}}}):t._e()]:t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.isCustomizedWorkflow&&"inbox"===t.selectedNode?[e("CustomForm",{attrs:{panels:t.panels,"secondary-panels":t.secondaryPanels,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,actions:t.actions,"request-prefix":t.requestPrefix,"ml-prediction":t.mlPrediction},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:requestPrefix":function(e){t.requestPrefix=e},"update:request-prefix":function(e){t.requestPrefix=e},"update:mlPrediction":function(e){t.mlPrediction=e},"update:ml-prediction":function(e){t.mlPrediction=e}}})]:[t.formId?e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t.enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e}}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1)],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return["TASK"===i.value?[t.addTaskEnabled?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]:["VALIDATION"!==i.value&&"PAYMENT_TABLE"!==i.value||("VALIDATION"===i.value||"PAYMENT_TABLE"===i.value)&&t.isCustomizedWorkflow?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]]}))],2)]],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,mode:"Indexing",file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:"Index",columns:t.columns,"modal-value":t.selectedProcess,"upload-filename":t.uploadFilename},on:{close:function(e){t.showMetaDataEditModal=!1},save:t.saveMetaData}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e()],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),r=i("bc3a"),n=i.n(r),l=i("1b0d"),c=i("a7d2"),d=i("fa1f"),h=i("abe1"),u=i("6a70"),p=i("9234"),m=i("6df3"),f=i("695e"),g=i("dd90"),v=i("cade"),y=i("869e"),b=i("5e23"),x=i("4bc4"),w=i("a589"),k=i("0c04"),C=i("b94d"),S=i("ee54"),A=i("8505"),I={name:"RequestProcessSheet",components:{Sheet:o["a"],FileIcon:d["a"],FileDetails:h["a"],Modal:u["a"],SingleChoiceField:p["a"],TextAreaField:m["a"],TextBuilderField:f["a"],ListItem:v["a"],CheckboxField:y["a"],EmailSharing:b["a"],RenderForm:x["a"],CustomForm:w["default"],AddTask:k["a"],Tabs:C["a"],MetaDataEdit:S["a"],ProcessHistory:A["a"]},props:{workflowId:{type:[String,Number],required:!0},processId:{type:[String,Number],required:!0},workflowRequestList:{type:Array,required:!0},workflow:{type:Object,default:()=>{}},form:{type:Object,default:()=>{}},enableControls:{type:Object,default:()=>{}},formId:{type:[String,Number],required:!0}},data(){return{attachmentSheet:!1,selectedProcess:{},attachmentList:[],emailSharingSheet:!1,checkList:[],selectedNode:"",selectedTicket:{},attachmentLoad:null,fileData:[],fileDetailsSheet:!1,checkListRowIndex:null,reuploadId:0,repositoryDetails:{},repositoryField:[],commentsSheet:!1,commentsList:[],commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,commentText:"",advancedCommentsSheet:!1,advancedCommentText:"",selectAll:!1,fileSheet:!1,selectedFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],selectedFileList:[],processSheet:!1,itemModel:{},formModel:{},headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Payment Table",value:"PAYMENT_TABLE",icon:"mdi-table",count:0}],actions:[],groupActionFields:[],saveAction:"",workflowFormModel:{},workflowModel:{},formEditAccess:!1,formEditControls:[],formVisibilityAccess:!0,formSecureControls:[],formFields:[],dataValidationValues:[],formCheckList:!1,signList:[],userSignature:!1,processActions:[],processActionsAddOn:[],taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",selectedTask:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",mailTransactionSheet:!1,mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],showMetaDataEditModal:!1,selectedUploadFile:[],columns:[],search:"",addTaskEnabled:!1,uploadFilename:"",historyProcessId:0}},computed:{selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&1===this.workflow.id)return!0;return!1},formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){if(!this.formId)return[];if(this.groupActionFields.length){let t=[];return this.form.panels.map(e=>{let i=[];e.fields.forEach(t=>{this.groupActionFields.indexOf(t.id)>-1&&i.push(t)}),t.push({id:e.id,fields:i,settings:e.settings})}),t}return this.form.panels},secondaryPanels(){return this.formId?this.groupActionFields.length?[]:this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{processId:{deep:!0,handler(){this.showProcessSheet()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet||clearInterval(this.attachmentLoad)}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.processRequest()}}},methods:{getColor(t){return t.color?{border:`1px solid var(--${t.color})`}:{border:"1px solid var(--secondary)"}},leftScroll(){const t=document.querySelector(".workflowKanbanRow");t.scrollBy(-200,0)},rightScroll(){const t=document.querySelector(".workflowKanbanRow");t.scrollBy(200,0)},showAttachments(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.getAttachments(t.processId),this.selectedTicket=t,t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.getFormColumns(),this.attachmentSheet=!0},showHistoryModal(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.historyProcessId=this.selectedProcess.processId},showProcessSheet(){this.selectedProcess=this.workflowRequestList.find(t=>t.processId===Number(this.processId)),this.selectedProcess.activityUserEmail===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.getTaskForm(),this.openProcess(),this.getAttachments(this.processId),this.getComments(this.processId),this.getModel(Number(this.processId)),this.getFormColumns(),this.processSheet=!0},closeAttachmentsSheet(){this.attachmentSheet=!1},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async uploadWflowAttachments(t){"STATIC"===this.repositoryDetails.fieldsType?(this.selectedUploadFile=t,this.uploadFilename=t.target.files[0].name,this.showMetaDataEditModal=!0):this.uploadAttachments(t)},async uploadAttachments(t,e){const i=t.target.files[0],s=new FormData;s.append("workflowId",this.workflowId),s.append("repositoryId",this.workflow.repositoryId),s.append("processId",this.selectedProcess.processId),s.append("transactionId",this.selectedProcess.transactionId),e?s.append("fields",e):s.append("fields",""),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(console.log(o),Object(g["a"])(o)){this.$store.commit("showLoadingBar");try{const t=await n()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached")}catch(r){this.$alert.error("Error uploading file"),console.error(r)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",this.reuploadId&&(await this.attachmentDelete(this.reuploadId),this.reuploadId=0),this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else this.$alert.error("this file format not supporting")},async getAttachments(t){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let e=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getAttachments(this.workflowId,t||this.selectedProcess.processId);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else{if(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)}),s.length){let t=s.length-1;this.getFileData(s[t],"attach"),e!==s.length&&(this.attachmentList=s.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})}else this.attachmentList=[];this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1})}},async getFileData(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s&&(this.fileData=s,e||(this.fileDetailsSheet=!0))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},async attachmentDelete(t){this.$store.commit("showLoadingBar");const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):this.getAttachments()},closeCommentsSheet(){this.closeCommnetsSheet=!1},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t&&"http://localhost:8080"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async getComments(t){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:e,payload:i}=await l["t"].getProcessComments(this.workflowId,t||this.selectedProcess.processId);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],i.length&&(this.commentsList=i,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})))},async saveComment(){let t=location.origin;if(this.commentText&&this.selectedProcess.processId){if("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t&&"http://localhost:8080"!==t||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.commentAction=1,this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText&&this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin&&"http://localhost:8080"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},showComments(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===Number(t.processId)),this.getComments(t.processId),this.selectedTicket=t,t.currentActionUser===this.$store.state.session.email?this.selectedNode="inbox":this.selectedNode="sent",this.commentsSheet=!0},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId)&&"http://localhost:8080"!==t||(this.commentAction=2,!1)},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t||"http://localhost:8080"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},lastActionDuration(t){const e=t instanceof Date?t:new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},documentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();Object(g["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop(),i="";"inbox"===this.selectedNode&&(i="&action=all");let s="";if(Object(g["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(g["c"])(e)?"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(g["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${i}`}},getModel(t){this.formModel={},this.itemModel={},this.workflowRequestList.forEach(e=>{if(e.processId==t&&e.id==this.workflow.id)if(this.headerTitle=`${e.requestNo} - ${e.stage}`,e.formData){let t=Object.keys(e.formData.fields),i={};t.forEach(t=>{i[t]=this.validateTypeValue(e.formData.fields[t])}),this.formModel=i}else e.itemData&&(this.itemModel=e.itemData)})},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?window.print():"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"VALIDATION"===t||"PAYMENT_TABLE"===t||"MAIL"===t&&(this.getMailTransactions(),this.mailTransactionSheet=!0)},openProcess(t=!1){if(this.actions=[],this.formEditAccess=!1,t){this.tabs.find(t=>{t.count=0}),this.commentsList=[],this.attachmentList=[],this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[];let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}if(e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=!1,t.length&&t.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})}}}else{if("inbox"===this.selectedNode){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length)){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=!1,t.length&&t.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})}}else this.formEditAccess=!0;this.actions=this.processActions;location.origin}if("inbox"===this.selectedNode){this.processActions=[],this.processActionsAddOn=[];let t=location.origin;var e=JSON.parse(this.workflow.flowJson);"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&"http://localhost:8080"!==t||"psyCrYXtKfcs-EJmrYIhv"!==this.selectedProcess.activityId?e.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.processActions.indexOf(t.proceedAction)<0&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}):e.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&"Force Close"===t.proceedAction&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}),e.blocks.forEach(t=>{if(t.id===this.selectedProcess.activityId){if("Forward"===this.selectedProcess.lastAction&&"REPLY"===t.settings.forwardedUserAction)this.processActions=[],this.processActionsAddOn=[],this.processActions.push("Reply to "+this.selectedProcess.transaction_createdByEmail),this.processActionsAddOn.push({action:"Reply to "+this.selectedProcess.transaction_createdByEmail,remarks:!0,passwordAccess:!1,confirm:!1}),this.customReply=!0;else if(t.settings.userReply&&-1===this.processActions.indexOf("Reply")&&(this.processActions.push("Reply to "+this.selectedProcess.lastActionStageName),this.userReply=!0),t.settings.toInitiator&&-1===this.processActions.indexOf("To Requester")&&(this.processActions.push("To Requester"),this.toRequester=!0),t.settings.internalForward){let e=location.origin;"https://app.ezofis.com"!==e&&"https://appuat.ezofis.com"!==e||2!==this.$store.state.session.tenantId?this.processActions.push("Forward"):this.processActions.push("Assign"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],t.settings.internalForwardUser&&t.settings.internalForwardUser.length&&t.settings.internalForwardUser.forEach(t=>{let e=this.userList.filter(e=>e.value==t);e.length&&this.internalForward.users.push({id:this.$nano.id(),label:e[0].label,value:t})}),t.settings.internalForwardGroup&&t.settings.internalForwardGroup.length&&t.settings.internalForwardGroup.forEach(t=>{let e=this.groupList.filter(e=>e.value==t);e.length&&this.internalForward.groups.push({id:this.$nano.id(),label:e[0].label,value:t})})}this.userSignature=t.settings.userSignature,t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}))}}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.processActions.push("Force Close")}else if("sent"===this.selectedNode){let t=location.origin;"https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId?"http://demo.ezofis.com"!==t&&"http://52.172.32.88"!==t||6===this.selectedWorkflow.id&&this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback")):this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback"))}this.actions=this.processActions},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async insertTaskEntry(t,e){this.$store.commit("showLoadingBar");const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):this.getTaskList()},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy)),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups});let a=!1;"CustomVerify"!==this.saveAction||"https://ag-appsvc01.azurewebsites.net"!==s&&"https://ag-appsvc05.azurewebsites.net"!==s&&"http://localhost:8080"!==s||(a=!0),this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),a||(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.closeProcessSheet()))},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},closeProcessSheet(){this.processSheet=!1},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},getFormColumns(){let t=[];if(this.form){const e=[...this.form.panels,...this.form.secondaryPanels];if(!e.length)return;let i=[];for(const t of e)i.push(...t.fields);i.forEach(e=>{"DIVIDER"===e.type||"LABEL"===e.type||"PARAGRAPH"===e.type||!e.label&&"TABLE"!==e.type||"DISABLE"===e.settings.general.visibility||t.push({id:e.id,label:e.label,isVisible:!0,display:""})})}this.columns=t},searchKanban(t,e,i){if(console.log(e,t),t){let e=["attachmentList","commentsList","completedStatus","currentActionDate","currentActionUser","currentTransactionId","nodeName","processId","requestNo","slaTime"];this.kanbanList[i].tickets.forEach(i=>{for(let s in i){let a=e.indexOf(s);if(a>=0&&i[s]&&String(i[s]).toLowerCase().includes(t.toLowerCase()))return}})}else this.kanbanList[i].tickets=this.kanbanDataList[i].tickets}}},T=I,L=(i("298f"),i("d11f"),i("2877")),P=i("b047"),_=i("cb32"),M=i("8169"),F=i("4e73"),D=i("93dc"),B=i.n(D),O=Object(L["a"])(T,s,a,!1,null,"cd1d4496",null);e["a"]=O.exports;B()(O,"components",{QChip:P["a"],QAvatar:_["a"],QChatMessage:M["a"],QMenu:F["a"]})},4045:function(t,e,i){"use strict";i("1a1b")},"40f9":function(t,e,i){"use strict";i("c589")},"42dc":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"workspace-list"}},[e("div",{staticClass:"title"},[t._v("Workspace")]),e("div",{staticClass:"wrapper"},[e("ValidationProvider",{attrs:{name:"workspace",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":"","is-clearable":!1,options:t.workspaces,"is-readonly":"",error:i[0]},on:{input:t.handleInput}})]}}])})],1)])},a=[],o=i("1b0d"),r=i("7bb1"),n=i("12b8"),l={name:"WorkspaceList",components:{ValidationProvider:r["b"],SelectField:n["a"]},props:{value:{type:Number,required:!0}},data(){return{workspaces:[]}},created(){this.getWorkspaces()},methods:{handleInput(t){this.$emit("input",t)},async getWorkspaces(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["u"].getWorkspaceList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.workspaces=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id})))}}},c=l,d=(i("2852"),i("2877")),h=Object(d["a"])(c,s,a,!1,null,"d504442c",null);e["a"]=h.exports},"42fc":function(t,e,i){"use strict";i.d(e,"a",(function(){return D}));i("d9e2");function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,e){if(!t)throw new Error(e)}function o(t){return Object.keys(t)}function r(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function n(t,e,i){var s="."+e,a=new RegExp("(\\".concat(e,")?$"));return i(t).replace(a,s)}function l(t){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),t.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(t){return Array(t+1).join(" ")}function d(t){return t.replace(/([<>&])/g,(function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function h(t,e,i){switch(e){case"txt":var s="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"css":s="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"html":s="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"json":s="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"csv":s="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xls":s="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xml":s="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);default:return""}}function u(t,e,i,s){void 0===i&&(i="download"),void 0===s&&(s=!0);var a=h(t,e,s),o=document.createElement("a");o.href=a,o.download=i,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(o)}var p=function(){return p=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},p.apply(this,arguments)},m=function(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,a,o=i.call(t),r=[];try{while((void 0===e||e-- >0)&&!(s=o.next()).done)r.push(s.value)}catch(n){a={error:n}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(a)throw a.error}}return r};function f(t){if(!t||s(t)&&!t.length||!s(t)&&!o(t).length)return function(t){return t};var e=s(t)?t.reduce((function(t,e){var i;return p(p({},t),(i={},i[e]=e,i))}),Object.create(null)):t;return function(t){return s(t)?t.map((function(t){return r(t).reduce((function(t,i){var s=m(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))})).filter((function(t){return o(t).length})):r(t).reduce((function(t,i){var s=m(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))}}function g(t){var e="Invalid export data. Please provide a valid JSON";try{return"string"===typeof t?JSON.parse(t):t}catch(i){throw new Error(e)}}function v(t,e,i){void 0===e&&(e=null);var s="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(t,e,i)}catch(a){throw new Error(s)}}function y(t){return t.map(r).reduce((function(e,i,s){return i.reduce((function(e,i){var a=m(i,2),o=a[0],r=a[1],n=e[o]||Array.from({length:t.length}).map((function(t){return""}));return n[s]=("string"!==typeof r?JSON.stringify(r):r)||"",e[o]=n,e}),e)}),Object.create(null))}function b(t,e){return void 0===e&&(e=function(t){return t}),e(r(t).map((function(t){var e=m(t,2),i=e[0],s=e[1];return{fieldName:i,fieldValues:s}})))}function x(t){var e=/,|"|\n/.test(t)?'"':"",i=t.replace(/"/g,'""');return"".concat(e).concat(i).concat(e)}var w={beforeTableEncode:function(t){return t},delimiter:","};function k(t,e){void 0===e&&(e={});var i=p(p({},w),e),s=i.beforeTableEncode,a=i.delimiter;if(!t.length)return"";var o=y(t),r=b(o,s),n=r.map((function(t){var e=t.fieldName;return e})).join(a)+"\r\n",l=r.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map(x)})),c=l.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(a).concat(e[i])}))}));return n+c.join("\r\n")}function C(t,e){a(t.length>0);var i=y(t),s=b(i,e),o=s.map((function(t){var e=t.fieldName;return e})).join("</b></th><th><b>"),r=s.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map((function(t){return"<td>".concat(t,"</td>")}))})),n=r.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(e[i])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(o,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(n.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var S={beforeTableEncode:function(t){return t}};function A(t,e){var i=p(p({},S),e).beforeTableEncode;if(!t.length)return"";var s='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(C(t,i),"\n  </body>\n</html >\n");return s}function I(t){var e='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(T(t,"base"),"\n");return e}function T(t,e,i,a){void 0===i&&(i="element"),void 0===a&&(a=0);var o=l(e),n=c(a);if(null===t||void 0===t)return"".concat(n,"<").concat(o," />");var h=s(t)?t.map((function(t){return T(t,i,i,a+2)})).join("\n"):"object"===typeof t?r(t).map((function(t){var e=m(t,2),s=e[0],o=e[1];return T(o,s,i,a+2)})).join("\n"):n+"  "+d(String(t)),u="".concat(n,"<").concat(o,">\n").concat(h,"\n").concat(n,"</").concat(o,">");return u}var L={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function P(t){var e=t.data,i=t.fileName,o=void 0===i?"download":i,r=t.extension,l=t.fileNameFormatter,c=void 0===l?function(t){return t.replace(/\s+/,"_")}:l,d=t.fields,h=t.exportType,p=void 0===h?"txt":h,m=t.replacer,y=void 0===m?null:m,b=t.space,x=void 0===b?4:b,w=t.processor,C=void 0===w?u:w,S=t.withBOM,T=void 0!==S&&S,L=t.beforeTableEncode,P=void 0===L?function(t){return t}:L,_=t.delimiter,M=void 0===_?",":_,F="Invalid export data. Please provide an array of objects",D="Can't export unknown data type ".concat(p,"."),B="Can't export string data to ".concat(p,".");if("string"===typeof e)switch(p){case"txt":case"css":case"html":return C(e,p,n(o,null!==r&&void 0!==r?r:p,c));default:throw new Error(B)}var O=f(d),E=O(g(e)),N=v(E,y,x);switch(p){case"txt":case"css":case"html":return C(N,p,n(o,null!==r&&void 0!==r?r:p,c));case"json":return C(N,p,n(o,null!==r&&void 0!==r?r:"json",c));case"csv":a(s(E),F);var $="\ufeff",R=k(E,{beforeTableEncode:P,delimiter:M}),z=T?$+R:R;return C(z,p,n(o,null!==r&&void 0!==r?r:"csv",c));case"xls":a(s(E),F);z=A(E,{beforeTableEncode:P});return C(z,p,n(o,null!==r&&void 0!==r?r:"xls",c));case"xml":z=I(E);return C(z,p,n(o,null!==r&&void 0!==r?r:"xml",c));default:throw new Error(D)}}P.types=L,P.processors={downloadFile:u};var _=P,M=_;const F=()=>{function t(t,e,i){if(t)try{const s=e||"exported-data",a=M.types[i||"xls"];M({data:t,fileName:s,exportType:a})}catch(s){throw new Error("Parsing failed!")}}return{exportDataFromJSON:t}};function D(t,e){if(!t)return this.$alert.info("Data not found");let i=new Date;return e||(e=`${i.getFullYear()}${i.getMonth()+1}${i.getDate()}${i.getHours()}${i.getMinutes()}${i.getSeconds()}`),F().exportDataFromJSON(t,e,null)}},4488:function(t,e,i){},4523:function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],(function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}})),e(t,"Extensions/Breadcrumbs/Breadcrumbs.js",[t["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function a(){if(this.breadcrumbs){const t=this.resetZoomButton&&this.resetZoomButton.getBBox(),e=this.breadcrumbs.options;t&&"right"===e.position.align&&"plotBox"===e.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-t.width-e.buttonSpacing)}}function o(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function r(){const t=this.breadcrumbs;if(t&&!t.options.floating&&t.level){var e=t.options,i=e.buttonTheme;i=(i.height||0)+2*(i.padding||0)+e.buttonSpacing,e=e.position.verticalAlign,"bottom"===e?(this.marginBottom=(this.marginBottom||0)+i,t.yOffset=i):"middle"!==e?(this.plotTop+=i,t.yOffset=-i):t.yOffset=void 0}}function n(){this.breadcrumbs&&this.breadcrumbs.redraw()}function l(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}const{format:c}=i,{addEvent:d,defined:h,extend:u,fireEvent:p,isString:m,merge:f,objectEach:g,pick:v}=s,y=[];class b{static compose(i,c){s.pushUnique(y,i)&&(d(e,"destroy",o),d(e,"afterShowResetZoom",a),d(e,"getMargins",r),d(e,"redraw",n),d(e,"selection",l)),s.pushUnique(y,c)&&u(c.lang,t.lang)}constructor(t,e){this.elementList={},this.isDirty=!0,this.level=0,this.list=[],e=f(t.options.drilldown&&t.options.drilldown.drillUpButton,b.defaultOptions,t.options.navigation&&t.options.navigation.breadcrumbs,e),this.chart=t,this.options=e||{}}updateProperties(t){this.setList(t),this.setLevel(),this.isDirty=!0}setList(t){this.list=t}setLevel(){this.level=this.list.length&&this.list.length-1}getLevel(){return this.level}getButtonText(t){const e=this.chart,i=this.options;var s=e.options.lang;const a=v(i.format,i.showFullPath?"{level.name}":"← {level.name}");return s=s&&v(s.drillUpText,s.mainBreadcrumb),t=i.formatter&&i.formatter(t)||c(a,{level:t.levelOptions},e)||"",(m(t)&&!t.length||"← "===t)&&h(s)&&(t=i.showFullPath?s:"← "+s),t}redraw(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1}render(){const t=this.chart,e=this.options;!this.group&&e&&(this.group=t.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:e.zIndex}).add()),e.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()}renderFullPathButtons(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()}renderSingleButton(){const t=this.chart;var e=this.list;const i=this.options.buttonSpacing;this.destroyListElements();const s=this.group?this.group.getBBox().width:i;e=e[e.length-2],!t.drillUpButton&&0<this.level?t.drillUpButton=this.renderButton(e,s,i):t.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())}alignBreadcrumbsGroup(t){if(this.group){var e=this.options;const s=e.buttonTheme,a=e.position,o="chart"===e.relativeTo||"spacingBox"===e.relativeTo?void 0:"scrollablePlotBox";var i=this.group.getBBox();e=2*(s.padding||0)+e.buttonSpacing,a.width=i.width+e,a.height=i.height+e,i=f(a),t&&(i.x+=t),this.options.rtl&&(i.x+=a.width),i.y=v(i.y,this.yOffset,0),this.group.align(i,!0,o)}}renderButton(t,e,i){const s=this,a=this.chart,o=s.options,r=f(o.buttonTheme);return e=a.renderer.button(s.getButtonText(t),e,i,(function(e){const i=o.events&&o.events.click;let a;i&&(a=i.call(s,e,t)),!1!==a&&(e.newLevel=o.showFullPath?t.level:s.level-1,p(s,"up",e))}),r).addClass("highcharts-breadcrumbs-button").add(s.group),a.styledMode||e.attr(o.style),e}renderSeparator(t,e){const i=this.chart,s=this.options.separator;return t=i.renderer.label(s.text,t,e,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),i.styledMode||t.css(s.style),t}update(t){f(!0,this.options,t),this.destroy(),this.isDirty=!0}updateSingleButton(){const t=this.chart,e=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(e)})}destroy(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0}destroyListElements(t){const e=this.elementList;g(e,(i,s)=>{!t&&e[s].updated||(i=e[s],i.button&&i.button.destroy(),i.separator&&i.separator.destroy(),delete i.button,delete i.separator,delete e[s])}),t&&(this.elementList={})}destroySingleButton(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)}resetElementListState(){g(this.elementList,t=>{t.updated=!1})}updateListElements(){const t=this.elementList,e=this.options.buttonSpacing,i=this.list,s=this.options.rtl,a=s?-1:1,o=function(t,e){return a*t.getBBox().width+a*e},r=function(t,e,i){t.translate(e-t.getBBox().width,i)};let n,l,c=this.group?o(this.group,e):e;for(let d=0,h=i.length;d<h;++d){const u=d===h-1;let p,m;l=i[d],t[l.level]?(n=t[l.level],p=n.button,n.separator||u?n.separator&&u&&(n.separator.destroy(),delete n.separator):(c+=a*e,n.separator=this.renderSeparator(c,e),s&&r(n.separator,c,e),c+=o(n.separator,e)),t[l.level].updated=!0):(p=this.renderButton(l,c,e),s&&r(p,c,e),c+=o(p,e),u||(m=this.renderSeparator(c,e),s&&r(m,c,e),c+=o(m,e)),t[l.level]={button:p,separator:m,updated:!0}),p&&p.setState(u?2:0)}}}return b.defaultOptions=t.options,b})),e(t,"Extensions/Drilldown.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"]],(function(t,e,i,s,a,o,r,n,l,c,d,h,u,p){function m(t){const e=f(this.chart.options.drilldown.animation);t&&(t.hide(),S((function(){t&&t.added&&t.fadeIn()}),Math.max(e.duration-50,0)))}const{animObject:f}=t,{noop:g}=o;({defaultOptions:t}=r),({seriesTypes:c}=c);const{addEvent:v,extend:y,fireEvent:b,merge:x,objectEach:w,pick:k,removeEvent:C,syncTimeout:S}=u;u=c.pie,c=c.map;let A=1;y(t.lang,{}),t.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}},mapZooming:!0},d.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:k(this.newOpacity,1)},t||{duration:250})},i.prototype.addSeriesAsDrilldown=function(t,e){const i=this;if(i.mapView)if(t.series.isDrilling=!0,t.series.options.inactiveOtherPoints=!0,i.options.drilldown&&i.options.drilldown.animation&&i.options.drilldown.mapZooming){t.series.dataLabelsGroup&&(t.series.dataLabelsGroup.destroy(),delete t.series.dataLabelsGroup),i.mapView.allowTransformAnimation=!0;const s=f(i.options.drilldown.animation);if("boolean"!==typeof s){const a=s.complete,o=function(s){s&&s.applyDrilldown&&i.mapView&&(i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown(),i.mapView.allowTransformAnimation=!1)};s.complete=function(){a&&a.apply(this,arguments),o.apply(this,arguments)}}t.zoomTo(s)}else i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown();else i.addSingleSeriesAsDrilldown(t,e),i.applyDrilldown()},i.prototype.addSingleSeriesAsDrilldown=function(t,e){let i,a,o,r,n=t.series,l=n.xAxis,c=n.yAxis,d=[],h=[];r=this.styledMode?{colorIndex:k(t.colorIndex,n.colorIndex)}:{color:t.color||n.color},this.drilldownLevels||(this.drilldownLevels=[]),a=n.options._levelNumber||0,(o=this.drilldownLevels[this.drilldownLevels.length-1])&&o.levelNumber!==a&&(o=void 0),e=y(y({_ddSeriesId:A++},r),e),i=n.points.indexOf(t),n.chart.series.forEach((function(t){t.xAxis===l&&(t.options._ddSeriesId=t.options._ddSeriesId||A++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||a,o?(d=o.levelSeries,h=o.levelSeriesOptions):(d.push(t),t.purgedOptions=x({_ddSeriesId:t.options._ddSeriesId,_levelNumber:t.options._levelNumber,selected:t.options.selected},t.userOptions),h.push(t.purgedOptions)))})),t=y({levelNumber:a,seriesOptions:n.options,seriesPurgedOptions:n.purgedOptions,levelSeriesOptions:h,levelSeries:d,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:t.isNull?s.parse(r.color).setOpacity(0).get():r.color,lowerSeriesOptions:e,pointOptions:n.options.data[i],pointIndex:i,oldExtremes:{xMin:l&&l.userMin,xMax:l&&l.userMax,yMin:c&&c.userMin,yMax:c&&c.userMax},resetZoomButton:o&&o.levelNumber===a?void 0:this.resetZoomButton},r),this.drilldownLevels.push(t),l&&l.names&&(l.names.length=0),e=t.lowerSeries=this.addSeries(e,!1),e.options._levelNumber=a+1,l&&(l.oldPos=l.pos,l.userMin=l.userMax=null,c.userMin=c.userMax=null),e.isDrilling=!0,n.type===e.type&&(e.animate=e.animateDrilldown||g,e.options.animation=!0)},i.prototype.applyDrilldown=function(){const t=this,e=this.drilldownLevels;let i;e&&0<e.length&&(i=e[e.length-1].levelNumber,this.drilldownLevels.forEach((function(e){t.mapView&&t.options.drilldown&&t.options.drilldown.mapZooming&&(t.redraw(),e.lowerSeries.isDrilling=!1,t.mapView.fitToBounds(e.lowerSeries.bounds),e.lowerSeries.isDrilling=!0),e.levelNumber===i&&e.levelSeries.forEach((function(e,s){t.mapView?e.options&&e.options._levelNumber===i&&e.group&&(s={},t.options.drilldown&&(s=t.options.drilldown.animation),e.group.animate({opacity:0},s,(function(){e.remove(!1),t.resetZoomButton&&(t.resetZoomButton.hide(),delete t.resetZoomButton),t.pointer.reset(),b(t,"afterDrilldown"),t.mapView&&(t.series.forEach(t=>{t.isDirtyData=!0}),t.mapView.setView(void 0,1)),t.series.forEach(t=>{t.isDrilling=!1}),b(t,"afterApplyDrilldown")}))):e.options&&e.options._levelNumber===i&&e.remove(!1)}))}))),t.mapView||(this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),b(this,"afterDrilldown"),this.redraw(),b(this,"afterApplyDrilldown"))};const I=function(t){const e=[];return(t=t.drilldownLevels)&&t.length&&(e[0]||e.push({level:0,levelOptions:t[0].seriesOptions}),t.forEach((function(t,i){t.levelNumber+1>e[e.length-1].level&&e.push({level:t.levelNumber+1,levelOptions:x({name:t.lowerSeries.name},t.pointOptions)})}))),e};i.prototype.drillUp=function(t){if(this.drilldownLevels&&0!==this.drilldownLevels.length){b(this,"beforeDrillUp");for(var e,i,s=this,a=s.drilldownLevels,o=a[a.length-1].levelNumber,r=s.series,n=s.drilldownLevels.length,l=function(t,e){let a;if(r.forEach((function(e){e.options._ddSeriesId===t._ddSeriesId&&(a=e)})),a=a||s.addSeries(t,!1),a.type===e.type&&a.animateDrillupTo&&(a.animate=a.animateDrillupTo),t===i.seriesPurgedOptions)return a},c=t=>{t.remove(!1),s.series.forEach(t=>{t.colorAxis&&(t.isDirtyData=!0),t.options.inactiveOtherPoints=!1}),s.redraw()},d=a.length;d--;){let h,u;if(i=a[d],i.levelNumber===o){if(a.pop(),h=i.lowerSeries,!h.chart)for(e=r.length;e--;)if(r[e].options.id===i.lowerSeriesOptions.id&&r[e].options._levelNumber===o+1){h=r[e];break}h.xData=[],h.xAxis&&h.xAxis.names&&(0===n||d===n)&&(h.xAxis.names.length=0),i.levelSeriesOptions.forEach(t=>{u=l(t,h)}),b(s,"drillup",{seriesOptions:i.seriesPurgedOptions||i.seriesOptions}),u&&(u.type===h.type&&(u.drilldownLevel=i,u.options.animation=s.options.drilldown.animation,h.animateDrillupFrom&&h.chart&&h.animateDrillupFrom(i)),u.options._levelNumber=o),e=h,s.mapView||e.remove(!1),u&&u.xAxis&&(e=i.oldExtremes,u.xAxis.setExtremes(e.xMin,e.xMax,!1),u.yAxis.setExtremes(e.yMin,e.yMax,!1)),i.resetZoomButton&&(s.resetZoomButton=i.resetZoomButton),this.mapView?(e=s.options.drilldown&&s.options.drilldown.animation&&s.options.drilldown.mapZooming,i.levelNumber===o&&t?h.remove(!1):(h.dataLabelsGroup&&(h.dataLabelsGroup.destroy(),delete h.dataLabelsGroup),s.mapView&&u&&(e&&(h.isDrilling=!0,u.isDrilling=!0,s.redraw(!1),s.mapView.fitToBounds(h.bounds,void 0,!0,!1)),s.mapView.allowTransformAnimation=!0,b(s,"afterDrillUp",{seriesOptions:u?u.userOptions:void 0}),e?s.mapView.setView(void 0,1,!0,{complete:function(){Object.prototype.hasOwnProperty.call(this,"complete")&&c(h)}}):(s.mapView.allowTransformAnimation=!1,h.group?h.group.animate({opacity:0},s.options.drilldown.animation,(function(){c(h),s.mapView&&(s.mapView.allowTransformAnimation=!0)})):(c(h),s.mapView.allowTransformAnimation=!0)),u.isDrilling=!1,s.ddDupes&&(s.ddDupes.length=0),b(s,"drillupall")))):(b(s,"afterDrillUp"),this.redraw(),this.ddDupes&&(this.ddDupes.length=0),b(s,"drillupall"))}}}},v(i,"afterInit",(function(){const t=this;t.drilldown={chart:t,fadeInGroup:m,update:function(e,i){x(!0,t.options.drilldown,e),k(i,!0)&&t.redraw()}}})),v(i,"render",(function(){(this.xAxis||[]).forEach((function(t){t.ddPoints={},t.series.forEach((function(e){let i,s=e.xData||[],a=e.points;for(i=0;i<s.length;i++){var o=e.options.data[i];"number"!==typeof o&&(o=e.pointClass.prototype.optionsToObject.call({series:e},o),o.drilldown&&(t.ddPoints[s[i]]||(t.ddPoints[s[i]]=[]),o=i-(e.cropStart||0),t.ddPoints[s[i]].push(!(a&&0<=o&&o<a.length)||a[o])))}})),w(t.ticks,h.prototype.drillable)}))})),v(p,"up",(function(t){const e=this.chart;t=this.getLevel()-t.newLevel;let i=1<t;for(let s=0;s<t;s++)s===t-1&&(i=!1),e.drillUp(i)})),v(i,"afterDrilldown",(function(){var t=this.options.drilldown;t=t&&t.breadcrumbs,this.breadcrumbs||(this.breadcrumbs=new p(this,t)),this.breadcrumbs.updateProperties(I(this))})),v(i,"afterDrillUp",(function(){this.breadcrumbs&&this.breadcrumbs.updateProperties(I(this))})),v(i,"update",(function(t){const e=this.breadcrumbs,i=t.options.drilldown&&t.options.drilldown.breadcrumbs;e&&i&&e.update(t.options.drilldown.breadcrumbs)})),a.prototype.animateDrillupTo=function(t){if(!t){const t=this,e=t.drilldownLevel;this.points.forEach((function(t){const e=t.dataLabel;t.graphic&&t.graphic.hide(),e&&(e.hidden="hidden"===e.attr("visibility"),e.hidden||(e.hide(),t.connector&&t.connector.hide()))})),S((function(){if(t.points){let i=[];t.data.forEach((function(t){i.push(t)})),t.nodes&&(i=i.concat(t.nodes)),i.forEach((function(t,i){i=i===(e&&e.pointIndex)?"show":"fadeIn";const s="show"===i||void 0,a=t.dataLabel;t.graphic&&t.visible&&t.graphic[i](s),a&&!a.hidden&&(a.fadeIn(),t.connector&&t.connector.fadeIn())}))}}),Math.max(this.chart.options.drilldown.animation.duration-50,0)),delete this.animate}},a.prototype.animateDrilldown=function(t){let e,i=this,s=this.chart,a=s.drilldownLevels,o=f(s.options.drilldown.animation),r=this.xAxis,n=s.styledMode;t||(a.forEach((function(t){i.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(e=t.shapeArgs,n||(e.fill=t.color))})),e.x+=k(r.oldPos,r.pos)-r.pos,this.points.forEach((function(t){const s=t.shapeArgs;n||(s.fill=t.color),t.graphic&&t.graphic.attr(e).animate(y(t.shapeArgs,{fill:t.color||i.color}),o)})),s.drilldown&&s.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)},a.prototype.animateDrillupFrom=function(t){let e=f(this.chart.options.drilldown.animation),i=this.group,s=i!==this.chart.columnGroup,a=this;a.trackerGroups.forEach((function(t){a[t]&&a[t].on("mouseover")})),s&&delete this.group,this.points.forEach((function(o){const r=o.graphic,n=t.shapeArgs,l=function(){r.destroy(),i&&s&&(i=i.destroy())};r&&n&&(delete o.graphic,a.chart.styledMode||(n.fill=t.color),e.duration?r.animate(n,x(e,{complete:l})):(r.attr(n),l()))}))},u&&y(u.prototype,{animateDrillupTo:a.prototype.animateDrillupTo,animateDrillupFrom:a.prototype.animateDrillupFrom,animateDrilldown:function(t){const e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],i=this.chart.options.drilldown.animation;if(this.is("item")&&(i.duration=0),this.center){const s=e.shapeArgs,a=s.start,o=(s.end-a)/this.points.length,r=this.chart.styledMode;t||(this.points.forEach((function(t,n){const l=t.shapeArgs;r||(s.fill=e.color,l.fill=t.color),t.graphic&&t.graphic.attr(x(s,{start:a+n*o,end:a+(n+1)*o}))[i?"animate":"attr"](l,i)})),this.chart.drilldown&&this.chart.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)}}}),c&&y(c.prototype,{animateDrilldown(t){const e=this,i=this.chart,s=this.group;i&&s&&e.options&&(t&&i.mapView?(s.attr({opacity:.01}),i.mapView.allowTransformAnimation=!1,e.options.inactiveOtherPoints=!0,e.options.enableMouseTracking=!1):(s.animate({opacity:1},i.options.drilldown.animation,(function(){e.options&&(e.options.inactiveOtherPoints=!1,e.options.enableMouseTracking=k(e.userOptions&&e.userOptions.enableMouseTracking,!0))})),i.drilldown&&i.drilldown.fadeInGroup(this.dataLabelsGroup)))},animateDrillupFrom(){const t=this.chart;t&&t.mapView&&(t.mapView.allowTransformAnimation=!1),this.options&&(this.options.inactiveOtherPoints=!0)},animateDrillupTo(t){const e=this.chart,i=this.group;e&&i&&(t?(i.attr({opacity:.01}),this.options&&(this.options.inactiveOtherPoints=!0)):(i.animate({opacity:1},e.options.drilldown.animation),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup)))}}),n.prototype.doDrilldown=function(){this.runDrilldown()},n.prototype.runDrilldown=function(t,e,i){const s=this.series.chart,a=s.options.drilldown;let o,r=(a.series||[]).length;for(s.ddDupes||(s.ddDupes=[]);r--&&!o;)a.series[r].id===this.drilldown&&-1===s.ddDupes.indexOf(this.drilldown)&&(o=a.series[r],s.ddDupes.push(this.drilldown));b(s,"drilldown",{point:this,seriesOptions:o,category:e,originalEvent:i,points:"undefined"!==typeof e&&this.series.xAxis.getDDPoints(e).slice(0)},(function(e){const i=e.point.series&&e.point.series.chart,s=e.seriesOptions;i&&s&&(t?i.addSingleSeriesAsDrilldown(e.point,s):i.addSeriesAsDrilldown(e.point,s))}))},e.prototype.drilldownCategory=function(t,e){this.getDDPoints(t).forEach((function(i){i&&i.series&&i.series.visible&&i.runDrilldown&&i.runDrilldown(!0,t,e)})),this.chart.applyDrilldown()},e.prototype.getDDPoints=function(t){return this.ddPoints&&this.ddPoints[t]||[]},h.prototype.drillable=function(){const t=this.pos,e=this.label,i=this.axis,s="xAxis"===i.coll&&i.getDDPoints,a=s&&i.getDDPoints(t),o=i.chart.styledMode;s&&(e&&a&&a.length?(e.drillable=!0,e.basicStyles||o||(e.basicStyles=x(e.styles)),e.addClass("highcharts-drilldown-axis-label"),e.removeOnDrillableClick&&C(e.element,"click"),e.removeOnDrillableClick=v(e.element,"click",(function(e){e.preventDefault(),i.drilldownCategory(t,e)})),o||e.css(i.chart.options.drilldown.activeAxisLabelStyle)):e&&e.drillable&&e.removeOnDrillableClick&&(o||(e.styles={},e.element.removeAttribute("style"),e.css(e.basicStyles)),e.removeOnDrillableClick(),e.removeClass("highcharts-drilldown-axis-label")))},v(n,"afterInit",(function(){return this.drilldown&&!this.unbindDrilldownClick&&(this.unbindDrilldownClick=v(this,"click",T)),this})),v(n,"update",(function(t){t=t.options||{},t.drilldown&&!this.unbindDrilldownClick?this.unbindDrilldownClick=v(this,"click",T):!t.drilldown&&void 0!==t.drilldown&&this.unbindDrilldownClick&&(this.unbindDrilldownClick=this.unbindDrilldownClick())}));const T=function(t){const e=this.series;e.xAxis&&!1===e.chart.options.drilldown.allowPointDrilldown?e.xAxis.drilldownCategory(this.x,t):this.runDrilldown(void 0,void 0,t)};v(l,"afterDrawDataLabels",(function(){const t=this.chart.options.drilldown.activeDataLabelStyle,e=this.chart.renderer,i=this.chart.styledMode;this.points.forEach((function(s){const a=s.options.dataLabels,o=k(s.dlOptions,a&&a.style,{});s.drilldown&&s.dataLabel&&("contrast"!==t.color||i||(o.color=e.getContrast(s.color||this.color)),a&&a.color&&(o.color=a.color),s.dataLabel.addClass("highcharts-drilldown-data-label"),i||s.dataLabel.css(t).css(o))}),this)}));const L=function(t,e,i,s){t[i?"addClass":"removeClass"]("highcharts-drilldown-point"),s||t.css({cursor:e})};v(l,"afterDrawTracker",(function(){const t=this.chart.styledMode;this.points.forEach((function(e){e.drilldown&&e.graphic&&L(e.graphic,"pointer",!0,t)}))})),v(n,"afterSetState",(function(){const t=this.series.chart.styledMode;this.drilldown&&this.series.halo&&"hover"===this.state?L(this.series.halo,"pointer",!0,t):this.series.halo&&L(this.series.halo,"auto",!1,t)})),v(i,"drillup",(function(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())})),v(i,"drillupall",(function(){this.resetZoomButton&&this.showResetZoom()}))})),e(t,"masters/modules/drilldown.src.js",[t["Core/Globals.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"]],(function(t,e){t.Breadcrumbs=e,e.compose(t.Chart,t.defaultOptions)}))}))},"467fa":function(t,e,i){},4697:function(t,e,i){"use strict";i("d30f")},"46ab":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-bar-container",style:t.containerStyle},t._l(t.progressBars,(function(t,i){return e("div",{key:i,staticClass:"progress-bar",style:{width:t.width,marginTop:0===i?"10px":"5px",marginLeft:"10px"}})})),0)},a=[],o={props:{containerHeight:{type:String,default:""},containerColor:{type:String,default:""},progressBars:{type:Array,default:()=>[]}},computed:{containerStyle(){return{height:this.containerHeight,backgroundColor:this.containerColor}}}},r=o,n=(i("f47c"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"282d0abc",null);e["a"]=l.exports},"470f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"process-sheet"}},[e("Sheet",{attrs:{width:t.formWidth,"has-footer":!t.isCustomizedWorkflow||!t.initiateProcess,"no-padding":""},on:{input:t.closeProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.isCustomizedWorkflow||"DOCUMENT"===t.workflow.initiatedBy?t._e():[t.mandatory.filledValue||t.mandatory.nonFilledValue?[e("q-circular-progress",{staticClass:"q-mr-sm",attrs:{"show-value":"","font-size":"12px",value:t.mandatoryFilling,size:"lg",thickness:.22,color:"primary","track-color":"grey-3"}},[t._v(" "+t._s(t.mandatoryFilling)+"% ")])]:t._e(),t.mandatory.filledValue?e("div",{staticClass:"chip-success q-mr-sm"},[e("div",{},[t._v(t._s(t.mandatory.filledValue)+" ready")])]):t._e(),t.mandatory.nonFilledValue?e("div",{staticClass:"chip-warning",on:{click:t.checkFormValidation}},[e("div",{},[t._v(t._s(t.mandatory.nonFilledValue)+" need to work")])]):t._e()],t.mandatoryDocument.length?[e("div",{staticClass:"chip-warning cursor-pointer",on:{click:function(e){t.attachmentSheet=!0}}},[e("div",{},[t._v(t._s(t.mandatoryDocument.length)+" document required")])])]:t._e(),t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i.id)}}})})),1)],1)],1):t._e(),t.formView||t.initiateProcess||0!==t.actions.length?t.initiateProcess||0!==t.actions.length?t._e():e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}}),t.isCustomizedWorkflow?t._e():e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i||"Decline"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formView?e("div",{attrs:{id:"form-view"}},[t.formId&&Object.keys(t.form).length?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"readonly-controls":t.readonlyControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList,"form-upload-files":t.formUploadFiles,"has-check-form-validate":t.hasCheckFormValidate},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e},"update:hasCheckFormValidate":function(e){t.hasCheckFormValidate=e},"update:has-check-form-validate":function(e){t.hasCheckFormValidate=e},uploadFiles:t.getOCRResult,mandatoryControlsList:t.mandatoryControlsList,deletedFiles:t.deletedFiles}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[t.requestFormData.length?e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.requestFormData[0].value[0].createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.requestFormData[0].value[0].createdByName)+" ")])]):t._e(),e("tr",[t.requestFormData[0].value[0].raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.requestFormData[0].value[0].raisedBy?e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.requestFormData[0].value[0].transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.requestFormData[0].value[0].transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.requestFormData[0].value[0].formData.fields,(function(i,s){return[i&&"[]"!=i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])]):t._e()])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),t.formId||t.itemModel.itemId?e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2):t._e()])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.formJsonId?e("div",{staticClass:"col-auto"},[e("q-chip",{staticClass:"cursor-pointer green-hover",attrs:{outline:"",color:"green"}},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])],1):t._e(),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),i.formJsonId?e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis attachment-label"},[t._v(" "+t._s(t.getLabel(i.formJsonId))+" ")])])]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]):t._e(),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),i.formJsonId?t._e():[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()]],2)])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()&&!t.portal?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()&&!t.portal?[e("div",{staticClass:"row actions advance-cmd"},[t.attachmentList.length&&t.fileNames.length?[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},on:{input:t.handleAttachComment},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()]:t._e()],2),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t.processForwardGroupAction?t._e():e("span",[t._v('"'+t._s(t.selectedProcess.requestNo)+'"')]),t._v(" Process Forward")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"users",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}),e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}),t.processForwardGroupAction?e("TextAreaField",{staticClass:"field q-mt-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantGOTO()?[e("BaseButton",{attrs:{label:"Assign",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]:[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]]},proxy:!0}]),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Sheet",{attrs:{width:"40vw","has-footer":""},on:{input:t.closeJiraIssueSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" JIRA - Create Issue ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"jiraIssue",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"Issue Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"field",attrs:{label:"Issue Name","is-mandatory":"",error:i[0]},model:{value:t.issueName,callback:function(e){t.issueName=e},expression:"issueName"}})]}}])}),t._e(),t._e(),e("ValidationProvider",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"field",attrs:{label:"Description","is-mandatory":"",error:i[0]},model:{value:t.issueDescription,callback:function(e){t.issueDescription=e},expression:"issueDescription"}})]}}])}),t._e(),t._e(),t._e()],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Create Issue",color:"primary"},on:{click:t.createJiraIssue}})]},proxy:!0}]),model:{value:t.jiraIssueSheet,callback:function(e){t.jiraIssueSheet=e},expression:"jiraIssueSheet"}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"read-only":!0,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}}),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.addTask()}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.viewTask(i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),t.importExcel?e("ImportPopup",{staticClass:"row items-center q-mr-xs",attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":String(t.masterFormId)},on:{upload:function(e){return t.$refs.input.click()},close:function(e){t.dataImported=!1}}}):t._e(),e("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:t.uploadFile}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"form-check-list":t.formCheckList,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":t.workflowModel,"form-upload-files":t.formUploadFiles,"repository-field":t.repositoryField,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":t.fileNames,comments:t.commentsList,"display-internal-public":t.displayInternalPublic},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},a=[],o=(i("14d9"),i("13d5"),i("7bb1")),r=i("381e"),n=i("4bc4"),l=i("1b0d"),c=i("0cdc"),d=i("eff0"),h=i("bc3a"),u=i.n(h),p=i("dd90"),m=i("a7d2"),f=i("6a70"),g=i("cade"),v=i("c3d2"),y=i("fa1f"),b=i("ee54"),x=i("869e"),w=i("6df3"),k=i("b3d1"),C=i("9234"),S=i("695e"),A=i("b94d"),I=i("0c04"),T=i("1c54"),L=i("5e23"),P=i("abe1"),_=i("8505"),M=i("98cf"),F=i("909a"),D=i("9996"),B=i("3445"),O=i("b0ba"),E=i("ec15"),N=i("bb36"),$={name:"SubWorkflowProcess",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],MultiSelectField:v["a"],FileIcon:y["a"],ListItem:g["a"],Sheet:r["a"],RenderForm:n["a"],Confirm:T["a"],SignatureField:d["a"],Modal:f["a"],MetaDataEdit:b["a"],CheckboxField:x["a"],TextAreaField:w["a"],TextField:k["a"],SingleChoiceField:C["a"],TextBuilderField:S["a"],Tabs:A["a"],AddTask:I["a"],ImportPopup:c["a"],EmailSharing:L["a"],FileDetails:P["a"],ProcessHistory:_["a"],FormFieldLabel:B["a"],FormEntryHistory:O["a"],Attachments:E["a"],Comments:N["a"]},props:{workflowId:{type:Number,default:0},initiateSubWorkflowProcess:{type:Boolean,default:!1},mainWorkflowId:{type:Number,default:0},mainProcessId:{type:Number,default:0},subProcessLink:{type:String,default:""},selectedProcess:{type:Object,default:()=>{}},openSubProcess:{type:Boolean,default:!1},mainFormFields:{type:Array,default:()=>[]},mainFormModel:{type:Object,default:()=>{}},portal:{type:Boolean,default:!1},subProcessId:{type:Number,default:0}},data(){return{workflow:{},workflowList:[],initiate:!1,processSheet:!1,headerTitle:"",formModel:{},form:{},formId:"",formData:"",actions:[],processActionsAddOn:[],workflowFormModel:{},saveAction:"",commentsList:[],attachmentList:[],initiateProcess:!1,signList:[],formEditAccess:!1,formEditControls:[],readonlyControls:[],formVisibilityAccess:!0,formSecureControls:[],repositoryDetails:{},repositoryField:[],formWidth:"100vw",checkList:[],stageLevel:[],currentStep:0,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,formFields:[],checkListRowIndex:null,requestPrefix:"",mlPrediction:"",advancedCommentsSheet:!1,advancedCommentText:"",docWarning:!1,alertModal:!1,actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",actionComments:!1,actionConfirm:!1,actionConfirmAlert:!1,showMetaDataEditModal:!1,selectedUploadFile:{},workflowModel:{},customVerify:!1,formCheckList:!1,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],scrollPosition:0,commentsLoad:null,mailTransactionLoad:null,documentLoad:null,documentLoadList:[],uploadFilename:"",filterSearchColumn:{},selectedFilterColumn:"",watchViewerClose:null,saveOnly:!1,wform:[],userSignature:!1,dataValidationValues:[],processForwardModal:!1,forwardUsers:[],forwardGroups:[],processForwardGroupAction:!1,selectedFilter:[],filterBy:[],attachmentLoad:null,signImg:"",selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],jiraConnect:!1,jiraAccounts:[],jiraIssueSheet:!1,issueName:"",projectKey:"",issueType:"",issueDescription:"",issueEpicValue:"",issueAssignee:"",issueAssigneeUsers:[],issueDescriptionTable:!1,issueDescriptionFields:[],jiraConfirmModal:!1,issueRef:{},taskSheet:!1,itemModel:{},errorMessage:"",errorModal:!1,successModal:!1,selectedNode:"",attachmentSheet:!1,commentsSheet:!1,processId:0,tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskEntries:[],addTaskEnabled:!1,mailTab:"OUTGOING",mailTransactionSheet:!1,commentText:"",mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],userList:[],groupList:[],refreshTree:!0,loadInitial:!0,customReply:!1,userReply:!1,toRequester:!1,customCloseProcessSheet:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],activeViewLoad:null,hideColumns:[],columns:[],generatePDF:0,documentRequired:!1,hasSelectedProcess:0,hasSelectedWorkflow:0,taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntryList:[],taskMode:"",selectedTask:{},importExcel:!1,masterFormId:0,dataImported:!1,sameFormFields:[],historyProcessId:0,attachComment:!1,fileNames:[],selectedFileForAttach:0,displayInternalPublic:!1,formUploadFiles:[],mandatory:{},fileControlDeleteFile:[],hasCheckFormValidate:!1,fileUploadForControl:!1,fileUploadInput:{},metaDataUpdate:!1,metaDataModal:{},metaDataTitle:"",requestFormData:[],formView:!0,showFormEntryHistoryModal:!1,showAttachmentSheet:!1,showCommentsSheet:!1}},computed:{formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){return this.formId?this.form.panels:[]},secondaryPanels(){return this.formId?this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isMaximized(){return"100vw"===this.formWidth},_enableControls(){let t=[],e=[];return this.panels&&this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&1===this.workflow.id)return!0;return!1},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)},commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode?this.checkCommentsOption()?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 240px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 200px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 190px)":this.displayInternalPublic?"calc(100vh - 190px)":"calc(100vh - 150px)":"calc(100vh - 150px)":""},mandatoryDocument(){return this.checkList.filter(t=>t.required&&!t.attach)},mandatoryFilling(){return this.mandatory.filledValue&&this.mandatory.nonFilledValue?Math.floor(this.mandatory.filledValue/(this.mandatory.filledValue+this.mandatory.nonFilledValue)*100):this.mandatory.filledValue?100:0},request(){return this.selectedProcess}},watch:{workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&(this.initiateProcess,this.checkRequiredDocument())}},attachmentSheet:{immediate:!0,handler(){if(this.attachmentSheet&&this.selectedProcess.processId){if(this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}},commentsSheet:{immediate:!0,handler(){this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments(this.workflowId,this.selectedProcess.processId)},3e4):clearInterval(this.commentsLoad)}},mailTransactionSheet:{immediate:!0,handler(){this.mailTransactionSheet&&this.selectedProcess.processId?this.mailTransactionLoad=setInterval(()=>{this.getMailTransactions()},3e4):clearInterval(this.mailTransactionLoad)}},taskEntries:{immediate:!0,handler(){this.tabs.find(t=>{"TASK"===t.value&&(t.count=this.taskEntries.length)})}},workflowId:{immediate:!0,handler(){}},initiateSubWorkflowProcess:{immediate:!0,handler(){this.initiateSubWorkflowProcess&&this.getWorkflow()}},processSheet(){this.fileData=[],this.workflowModel={}},dataValidationValues:{immediate:!0,deep:!0,handler(){if(this.customVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.filter(t=>"Matched"!==t.status&&"Verified"!==t.status);t.length&&(this.customVerify=!0)}}},customCloseProcessSheet:{deep:!0,immediate:!0,handler(){}},subProcessLink(){this.subProcessLink&&(this.selectedNode="sent",this.showLinks(this.subProcessLink))},openSubProcess:{immediate:!0,handler(){this.openSubProcess&&(this.formId="",this.formView=!1,this.selectedProcess.inbox?(this.formView=!0,this.getWorkflow()):this.getWorkflow("process"))}},selectedProcess:{deep:!0,handler(){this.selectedProcess.processId&&(this.getAttachments(this.workflowId,this.selectedProcess.processId),this.getComments(this.workflowId,this.selectedProcess.processId))}},workflowModel:{deep:!0,handler(){this.sameFormFields.forEach(t=>{t.value&&(this.workflowModel[t.name]=t.value)})}}},created(){this.getTaskForm()},methods:{isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},checkTabAccess(t){return this.portal?"ATTACHMENTS"===t||"COMMENTS"===t:"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},reset(){this.headerTitle="",this.mandatory={},this.actions=[],this.processActionsAddOn=[],this.form={},this.formId="",this.formFields=[],this.tabs.find(t=>{t.count=0}),this.taskEntries=[],this.commentsList=[],this.attachmentList=[],this.initiateProcess=!0,this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.readonlyControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[],this.importExcel=!1},async getWorkflow(t){this.reset(),this.processSheet=!0,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await l["t"].getWorkflow(this.workflowId);e?this.$alert.error(e):(this.workflow=i,this.selectedNode=t?"sent":"inbox",this.selectedProcess.inbox?await this.openProcess(!1):await this.openProcess(!t),this.$store.commit("hideLoadingBarSave"))},closeProcessSheet(){this.processSheet=!1,this.saveAction="",this.workflowFormModel={},this.requestFormData=[],this.formView=!0,this.$emit("closeProcessSheet")},getLabel(t){let e="";return Object.keys(this.form).length&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async openProcess(t=!1){if(this.getRepository(),t){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(console.log(e.settings.fileSettings),e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}else"MANUAL_AUTOMATIC"===e.settings.initiateMode&&(e.settings.users.indexOf(this.$store.state.session.id)>-1||e.settings.users.indexOf("0")>-1)&&e.settings.initiateBy.indexOf("MASTER_FORM")>-1&&(this.importExcel=!0,this.masterFormId=e.settings.masterFormId);if(this.generatePDF=e.settings.generatePDF?1:0,this.documentRequired=e.settings.documentRequired||!1,e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}}else this.checkList=[]}}else{if(this.getFormDetails(),"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){this.formEditAccess=!1;let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e){if(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}if(e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.checkList=t}t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.actions.indexOf(t.proceedAction)<0&&(this.actions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))})}else this.checkList=[]}}else this.formEditAccess=!0;this.initiateProcess=!1,this.getModel(this.selectedProcess.processId);let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.dataValidation(this.selectedProcess.processId,!1),"https://edmsuat.sobhaapps.com"===t&&55===this.workflow.id&&(this.formEditAccess=!0),this.loadProcessLinks()}this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),await this.getForm(t,this.workflow.wFormId))},async getFormDetails(){this.$store.commit("showLoadingBarPage");let t=this.selectedProcess.requestNo;const{error:e,payload:i}=await l["o"].getWorkflowData(this.selectedProcess.id,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s}=i;this.$store.commit("hideLoadingBarPage");let a=s||[];if(a[0].value[0].formData){let t=Object.keys(a[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(a[0].value[0].formData.fields[t])}),this.requestFormData=a,this.formModel=a[0].value[0].formData.fields}e&&this.$alert.error(e)},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await l["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else{if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}this.$emit("attachmentLength",this.attachmentList.length)}},async getForm(t){const{error:e,payload:i}=await l["g"].getForm(this.formId);if(e)this.$alert.error(e);else if(i){this.wform=i,this.form=JSON.parse(this.wform.formJson),t||"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB");let e=JSON.parse(this.wform.formJson);const s=[...e.panels,...e.secondaryPanels];if(!s.length)return;let a=[];for(const t of s)a.push(...t.fields);a.forEach(t=>{"DIVIDER"===t.type||"LABEL"===t.type||"PARAGRAPH"===t.type||!t.label&&"TABLE"!==t.type||"DISABLE"===t.settings.general.visibility||this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings})}),this.sameFormFields=[],this.mainFormFields.forEach(t=>{let e=this.formFields.findIndex(e=>t.label===e.label);e>-1&&this.sameFormFields.push({id:this.$nano.id(),index:e,label:t.label,name:this.formFields[e].value,value:this.mainFormModel[t.value]})})}},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflow.id}/${t}`},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");return"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&action=all`:"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments.value=null},async showLinks(t){if("ATTACHMENTS"===t)this.showAttachmentSheet=!0;else if("COMMENTS"===t){if(this.displayInternalPublic=!1,!this.portal){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);e&&e.settings.initiateBy.indexOf("PORTAL")>-1&&(this.displayInternalPublic=!0),this.fileNames=[],this.fileNames=this.attachmentList.filter(t=>{let e=t.name.split(".").pop().toUpperCase();return"pdf"===e.toLowerCase()}).map(t=>({id:this.$nano.id(),label:t.name,value:t.id}))}this.showCommentsSheet=!0}else"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.addTask():"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},validateType(t){let e="";return this.panels&&this.panels.length&&this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},async getFileData(t,e){const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:r}=await l["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r),this.jiraCommentAction=1},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflow.id),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),this.formData=a,e?(a.append("fields",e),this.formData=e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(p["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(p["a"])(r))return void this.$alert.info("This file format is not supported");try{const i=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let d=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),h=this.fileData.find(t=>t.name===d.name),p=!1;"pdf"!==r.toLowerCase()&&(p=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?h.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:p}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},checkCommentsOption(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&("https://app.ezofis.com"!==t&&"https://appuat.ezofis.com"!==t||2!==this.$store.state.session.tenantId||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},async uploadWflowAttachments(t){if(this.fileUploadForControl=!1,"STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;this.showMetaDataEditModal=!0}else this.uploadAttachments(t)},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflow.id||2092===this.workflow.id)&&0===this.attachmentList.length},checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},isTenantGOTOComments(){if(Object.keys(this.selectedProcess).length){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&this.selectedProcess.jiraIssueInfo.id)return!0}return!1},toggleWidth(){this.formWidth="100vw"===this.formWidth?"50vw":"100vw"},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})),this.$emit("commentsLength",this.commentsList.length))},async saveComment(){if(this.commentText)if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}else{const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if("https://app.ezofis.com"!==origin&&"https://appuat.ezofis.com"!==origin||2!==this.$store.state.session.tenantId||!this.selectedProcess.jiraIssueInfo.id||2!==this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.portal?1:this.commentAction,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)});this.actionComments&&this.processRequest(!1,!1)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(m["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(p["d"])(e))s="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="";"inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(i="&action=all");let s="";if(Object(p["d"])(e))"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?(i="",s="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):s="https://trial.ezofis.com"!==t||Object(p["c"])(e)?t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(p["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${i}`}}},closeTaskSheet(){this.taskSheet=!1},closeJiraIssueSheet(){this.issueName="",this.projectKey="",this.issueType="",this.issueDescription="",this.issueEpicValue="",this.issueAssignee="",this.issueDescriptionTable=!1,this.issueDescriptionFields=[],this.jiraIssueSheet=!1},loadProcessLinks(){this.getComments(),this.getAttachments(),this.getProcessSignature(),this.getMailTransactions()},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await l["t"].getProcessSignature(this.workflow.id,this.selectedProcess.processId);t?this.$alert.error(t):this.signList=e},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length-1)}),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await l["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getAppConnection(){this.jiraConnect=!1;const{error:t,payload:e}=await l["j"].getJiraConnection({filterBy:[]});t?this.$alert.error(t):e.forEach(t=>{"jira"===t.cloudName&&(this.jiraConnect=!0,this.jiraAccounts.push(t))})},async createJiraIssue(){this.issueRef={};const t=await this.$refs.form.validate();if(!t)return;let e=[],i="",s="",a=0;this.groupKey.forEach(t=>{if(t.checked)return e=[],void(i=t.name)}),""===i&&(this.workflowRequestList.forEach(t=>{t.checked&&e.push(t.transactionId)}),this.issueDescriptionTable&&(s="||Action Taken (Mandatory)",this.issueDescriptionFields.forEach(t=>{s+="||"+t}),s+="||\n",this.workflowRequestList.forEach(t=>{t.checked&&(s+="|| ",this.issueDescriptionFields.forEach(e=>{var i;let o=null===(i=this.formFields.find(t=>t.label===e))||void 0===i?void 0:i.value;"Savings"===e?t.formData.fields[o]?(s+="||"+Number(t.formData.fields[o]).toFixed(2),a+=Number(t.formData.fields[o])):s+="|| ":t.formData.fields[o]?s+="||"+t.formData.fields[o]:s+="|| "}),s+="||\n")}),s+="Potential Savings: "+a.toFixed(2)+"\n"));let o={};o=this.jiraAccounts[0].email?{fields_cloud:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:{content:[{content:[{text:this.issueDescription+s,type:"text"}],type:"paragraph"}],type:"doc",version:1}}},cloudIntegrationId:this.jiraAccounts[0].id}:{fields_onpremise:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:this.issueDescription+s,customfield_14635:{value:"No"},customfield_15136:{value:"Maintenance"}}},cloudIntegrationId:this.jiraAccounts[0].id,workflowId:this.workflow.id,transactionId:e,mlPrediction:i,assignee:this.issueAssignee?{name:this.issueAssignee}:{},filterBy:this.filterBy},this.$store.commit("showLoadingBar");const{error:r,payload:n}=await l["j"].createJiraIssue(o);if(this.$store.commit("hideLoadingBar"),r){this.$alert.warning("error creating issue in jira");let t=JSON.parse(r);return console.log(t),this.errorMessage=t.errorMessages,void(this.errorModal=!0)}if(i)this.successModal=!0;else{if(!n)return void this.$alert.warning("error creating issue in jira");this.issueRef=JSON.parse(n),this.issueRef.self=this.getJIRALink(this.issueRef),this.$alert.success("Issue Created in JIRA"),this.jiraConfirmModal=!0}this.closeJiraIssueSheet()},async insertJiraIssueComment(){var t,e;let i="",s="";if(i=null===(t=this.formFields.find(t=>"Reference ID"===t.label))||void 0===t?void 0:t.value,s=null===(e=this.formFields.find(t=>"Remarks"===t.label))||void 0===e?void 0:e.value,this.workflowFormModel[i]&&this.workflowFormModel[s]){this.$store.commit("showLoadingBar");let t={};t=this.jiraAccounts[0].email?{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_cloud:{body:this.workflowFormModel[s]}}:{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_onpremise:{body:this.workflowFormModel[s]}};const{error:e,payload:a}=await l["j"].insertJiraIssueComments(t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);console.log(a)}},async getJiraUsers(){this.issueAssigneeUsers=[];const{error:t,payload:e}=await l["j"].getJiraUsers({cloudIntegrationId:this.jiraAccounts[0].id});t?this.$alert.error(t):e.length&&e.forEach(t=>{this.issueAssigneeUsers.push({id:t.key,label:t.displayName,value:t.name})})},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},async processRequest(t=!0,e=!0){if(t){let t=location.origin;if(("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy));let a=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let e=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&e.push(t.fileId)}),e.length&&a.push({jsonId:t.value,fileIds:e}),delete this.workflowFormModel[t.value]}}),this.formId?("https://app.ezofis.com"!==s&&"https://appuat.ezofis.com"!==s||2!==this.$store.state.session.tenantId||"Rollback"!==this.saveAction?"http://demo.ezofis.com"!==s&&"http://52.172.32.88"!==s||6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy):1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel,formUpload:a},userIds:this.forwardUsers,groupIds:this.forwardGroups}):this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},this.saveOnly||this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.saveOnly||this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),this.saveOnly?this.saveOnly=!1:(""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.customReply=!1,this.userReply=!1,this.toRequester=!1,this.closeProcessSheet()),this.fileControlDeleteFile.length&&(this.fileControlDeleteFile.forEach(t=>{this.fileControlDeletedFile(t)}),this.fileControlDeleteFile=[]))},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{if(this.documentRequired&&0===this.attachmentList.length)return this.$alert.warning("A minimum of one document is required for submission"),this.saveAction="",void(this.workflowFormModel={});let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.initiateProcess?this.initiateRequest():this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},async groupProcessRequest(){let t=[],e="";this.workflowRequestList.forEach(e=>{e.key===this.groupActionKey&&e.checked&&t.push(e.transactionId)}),this.groupKey.forEach(i=>{if(i.checked)return t=[],void(e=i.name)});let i={workflowId:this.workflow.id,transactionId:t,review:"Save"===this.saveAction?"":this.saveAction,fields:this.workflowFormModel,mlPrediction:e,comments:this.commentText,userIds:this.forwardUsers,groupIds:this.forwardGroups,filterBy:this.filterBy};const{error:s}=await l["t"].groupRequestAction(i);this.$store.commit("hideLoadingBar"),s?this.$alert.error(s):(await this.insertJiraIssueComment(),this.saveAction="",this.workflowFormModel={},this.forwardUsers=[],this.forwardGroups=[],this.$alert.success("Group Request Processed"),this.closeRequestActionModal(),this.$emit("refresh",this.workflow.id))},async initiateRequest(){let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)});let e=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let i=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&i.push(t.fileId)}),i.length&&e.push({jsonId:t.value,fileIds:i}),delete this.workflowFormModel[t.value]}});let i={workflowId:this.workflow.id,review:"Save"===this.saveAction?"":this.saveAction,comments:this.commentsList,formData:{formId:this.formId,fields:this.workflowFormModel,formUpload:e},fileIds:t,task:this.taskEntryId,hasFormPDF:this.generatePDF,prefix:this.requestPrefix,mlPrediction:this.mlPrediction};this.$store.commit("showLoadingBarSave");const{error:s,payload:a}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.workflowFormModel={},this.alertModal=!1,s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(a),this.$alert.success(a.requestNo+" Request Initiated"),this.mainProcessId?this.addSubWorkflowProcess(a.processId):this.$emit("update:subProcessId",a.processId),this.closeProcessSheet())},saveMetaData(t){let e=[];if(this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(D["a"])(e.label)===Object(D["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.fileUploadForControl){this.metaDataModal=t;let i=this.fileUploadInput;this.uploadFilesFromForm(i.files,i.control,i.fieldId,JSON.stringify(e))}else this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async getTaskList(){this.taskEntries=[];const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async insertTaskEntry(t,e){const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});i?this.$alert.error(i):this.getTaskList()},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},async uploadFile(t){const e=t.target.files[0];if("text/csv"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type){const s=new FormData;s.append("formId",this.masterFormId),s.append("file",e);try{this.$store.commit("showLoadingBarSave");const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/form/uploadMasterFile",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBarSave");const{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Data imported successfully")}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.dataImported=!0,t.target.value=""}else this.$alert.error("Please upload a csv/excel file")},async addSubWorkflowProcess(t){let e={mainWorkflowId:this.mainWorkflowId,subWorkflowId:this.workflowId,mainProcessId:this.mainProcessId,subProcessId:t,subProcessStatus:0,review:""};const{error:i}=await l["t"].addSubWorkflow(e);i?this.$alert.error(i):this.updateSubWorkflowProcess()},getModel(t){if(this.formModel={},this.itemModel={},console.log(this.selectedProcess.processId,t,this.selectedProcess.id,this.workflow.id),this.selectedProcess.processId==t&&this.selectedProcess.id==this.workflow.id)if(this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stageName}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData)},async dataValidation(t,e=!0){const{error:i,payload:s}=await l["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:t}],groupCondition:""}],mode:"BROWSE"});i?this.$alert.error(i):s.length?(this.dataValidationValues=s,e&&(this.dataValidationModal=!0)):(this.dataValidationValues=[],e&&this.$alert.info("Data not found"))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(p["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async updateSubWorkflowProcess(){const{error:t,payload:e}=await l["q"].updateSubWorkflowProcess(this.mainWorkflowId,this.$store.state.session.tenantId,this.workflowId);t?this.$alert.error(t):console.log(e)},async uploadFilesFromForm(t,e,i,s){this.formUploadFiles=[];const a=new FormData;let o=[];if(e&&e.length&&e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&o.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t)if(e.name&&!e.error){a.append("repositoryId",this.workflow.repositoryId),a.append("file",e),a.append("filename",e.name),o.length&&a.append("formFields",JSON.stringify(o)),s?a.append("fields",s):a.append("fields","");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),this.workflowModel[i][a].uploadedPercentage=s)}.bind(this)}),{status:s,data:o}=t;if(200!==s)throw"Invalid response";e.createdAt=this.$day.newDateTime(),e.createdBy=this.$store.state.session.email;let r=JSON.parse(o);e.fileId=r.fileId,e.fieldId=i}catch(r){console.error(r),this.$alert.error("error attaching file")}}let n=Array.from(t);this.formUploadFiles=[];for(let t of n)if(t.name){const e=await Object(M["a"])(t);this.formUploadFiles.push({name:t.name,size:t.size,file:e,fileId:t.fileId,createdBy:t.createdBy,createdAt:t.createdAt,workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,fieldId:t.fieldId})}e.forEach(t=>{let e=this.readonlyControls.findIndex(e=>e===t);e>=0&&this.readonlyControls.splice(e,1)}),this.$store.commit("hideLoadingBarSave")}},mandatoryControlsList(t){this.mandatory=t},deletedFiles(t){this.fileControlDeleteFile.push(t)},async fileControlDeletedFile(t){this.$store.commit("showLoadingBar");let e=[];t.forEach(t=>{t.id&&e.push(t.id)});let i={ids:e,formInfo:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,jsonId:t[0].jsonId}};const{error:s}=await l["p"].fileControlDeleteFile(this.workflow.repositoryId,i);this.$store.commit("hideLoadingBar"),s&&this.$alert.error(s)},async checkFormValidation(){this.hasCheckFormValidate=!0},async getOCRResult(t,e,i){const s=new FormData;let a=[];if(e&&e.length){if(e.forEach(t=>{this.readonlyControls.push(t)}),e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&a.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t){if(e.name&&!e.error){s.append("repositoryId",this.workflow.repositoryId),s.append("file",e),a.length&&s.append("formFields",JSON.stringify(a));try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/uploadforStaticMetadata",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),100!==s&&(this.workflowModel[i][a].uploadedPercentage=s))}.bind(this)}),{status:a,data:o}=t;if(200!==a)throw"Invalid response";let r=Object(F["a"])(o,this.$store.state.identity.key,this.$store.state.identity.iv),n=JSON.parse(r),l=JSON.parse(n),c=JSON.parse(l);Array.isArray(c)&&c.forEach(t=>{let e=this.formFields.find(e=>e.label===t.name);e&&t.value&&(this.workflowModel[e.value]=t.value)})}catch(o){console.error(o),this.$alert.error("error on get ocr result")}}this.workflowModel[i].findIndex(t=>t.name===e.name)}this.$store.commit("hideLoadingBarSave"),this.uploadFileForControl(t,e,i)}}else this.uploadFileForControl(t,e,i)},async uploadFileForControl(t,e,i){if(this.fileUploadInput={files:t,control:e,fieldId:i},"STATIC"===this.repositoryDetails.fieldsType){if(this.fileUploadForControl=!1,this.customCheckUpload()){let t=this.formFields.find(t=>"Document No"===t.label);t&&(this.uploadFilename=this.workflowModel[t.value]+".pdf")}this.fileUploadForControl=!0,this.showMetaDataEditModal=!0}else this.uploadFilesFromForm(t,e,i)},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await l["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})}}},R=$,z=(i("e98d"),i("5ab0"),i("2877")),q=i("58ea"),V=i("4e73"),j=i("b047"),W=i("cb32"),H=i("8169"),X=i("93dc"),Y=i.n(X),G=Object(z["a"])(R,s,a,!1,null,"5b96b9ec",null);e["a"]=G.exports;Y()(G,"components",{QCircularProgress:q["a"],QMenu:V["a"],QChip:j["a"],QAvatar:W["a"],QChatMessage:H["a"]})},4714:function(t,e,i){},4759:function(t,e,i){},"487e":function(t,e,i){"use strict";i("0b2c")},"4d38":function(t,e,i){},"4d5a":function(t,e,i){"use strict";var s=i("a026"),a=i("0967"),o=i("0831"),r=i("d882");const{passive:n}=r["f"];var l=s["default"].extend({name:"QScrollObserver",props:{debounce:[String,Number],horizontal:Boolean,scrollTarget:{default:void 0}},render:r["g"],data(){return{pos:0,dir:!0===this.horizontal?"right":"down",dirChanged:!1,dirChangePos:0}},watch:{scrollTarget(){this.__unconfigureScrollTarget(),this.__configureScrollTarget()},"$q.lang.rtl"(){this.__emit()}},methods:{getPosition(){return{position:this.pos,direction:this.dir,directionChanged:this.dirChanged,inflexionPosition:this.dirChangePos}},trigger(t){if(!0===t||0===this.debounce||"0"===this.debounce)this.__emit();else if(void 0===this.clearTimer){const[t,e]=this.debounce?[setTimeout(this.__emit,this.debounce),clearTimeout]:[requestAnimationFrame(this.__emit),cancelAnimationFrame];this.clearTimer=()=>{e(t),this.clearTimer=void 0}}},__emit(){void 0!==this.clearTimer&&this.clearTimer();const t=!0===this.horizontal?o["a"]:o["b"],e=Math.max(0,t(this.__scrollTarget)),i=e-this.pos,s=!0===this.horizontal?i<0?"left":"right":i<0?"up":"down";this.dirChanged=this.dir!==s,this.dirChanged&&(this.dir=s,this.dirChangePos=this.pos),this.pos=e,this.$emit("scroll",this.getPosition())},__configureScrollTarget(){this.__scrollTarget=Object(o["c"])(this.$el.parentNode,this.scrollTarget),this.__scrollTarget.addEventListener("scroll",this.trigger,n),this.trigger(!0)},__unconfigureScrollTarget(){void 0!==this.__scrollTarget&&(this.__scrollTarget.removeEventListener("scroll",this.trigger,n),this.__scrollTarget=void 0)}},mounted(){this.__configureScrollTarget()},beforeDestroy(){void 0!==this.clearTimer&&this.clearTimer(),this.__unconfigureScrollTarget()}}),c=i("3980"),d=i("87e8"),h=i("e277"),u=i("d54d");e["a"]=s["default"].extend({name:"QLayout",mixins:[d["a"]],provide(){return{layout:this}},props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())}},data(){return{height:this.$q.screen.height,width:!0===this.container?0:this.$q.screen.width,containerHeight:0,scrollbarWidth:!0===a["f"]?0:Object(o["d"])(),header:{size:0,offset:0,space:!1},right:{size:300,offset:0,space:!1},footer:{size:0,offset:0,space:!1},left:{size:300,offset:0,space:!1},scroll:{position:0,direction:"down"}}},computed:{rows(){const t=this.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}},style(){return!0===this.container?null:{minHeight:this.$q.screen.height+"px"}},targetStyle(){if(0!==this.scrollbarWidth)return{[!0===this.$q.lang.rtl?"left":"right"]:this.scrollbarWidth+"px"}},targetChildStyle(){if(0!==this.scrollbarWidth)return{[!0===this.$q.lang.rtl?"right":"left"]:0,[!0===this.$q.lang.rtl?"left":"right"]:`-${this.scrollbarWidth}px`,width:`calc(100% + ${this.scrollbarWidth}px)`}},totalWidth(){return this.width+this.scrollbarWidth},classes(){return"q-layout q-layout--"+(!0===this.container?"containerized":"standard")},scrollbarEvtAction(){return!0!==this.container&&this.scrollbarWidth>0?"add":"remove"}},watch:{scrollbarEvtAction:"__updateScrollEvent"},created(){this.instances={}},mounted(){"add"===this.scrollbarEvtAction&&this.__updateScrollEvent("add")},beforeDestroy(){"add"===this.scrollbarEvtAction&&this.__updateScrollEvent("remove")},render(t){const e=t("div",{class:this.classes,style:this.style,attrs:{tabindex:-1},on:{...this.qListeners}},Object(h["a"])([t(l,{on:Object(u["b"])(this,"scroll",{scroll:this.__onPageScroll})}),t(c["a"],{on:Object(u["b"])(this,"resizeOut",{resize:this.__onPageResize})})],this,"default"));return!0===this.container?t("div",{staticClass:"q-layout-container overflow-hidden"},[t(c["a"],{on:Object(u["b"])(this,"resizeIn",{resize:this.__onContainerResize})}),t("div",{staticClass:"absolute-full",style:this.targetStyle},[t("div",{staticClass:"scroll",style:this.targetChildStyle},[e])])]):e},methods:{__animate(){void 0!==this.timer?clearTimeout(this.timer):document.body.classList.add("q-body--layout-animate"),this.timer=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),this.timer=void 0},150)},__onPageScroll(t){!0!==this.container&&!0===document.qScrollPrevented||(this.scroll=t),void 0!==this.qListeners.scroll&&this.$emit("scroll",t)},__onPageResize({height:t,width:e}){let i=!1;this.height!==t&&(i=!0,this.height=t,void 0!==this.qListeners["scroll-height"]&&this.$emit("scroll-height",t),this.__updateScrollbarWidth()),this.width!==e&&(i=!0,this.width=e),!0===i&&void 0!==this.qListeners.resize&&this.$emit("resize",{height:t,width:e})},__onContainerResize({height:t}){this.containerHeight!==t&&(this.containerHeight=t,this.__updateScrollbarWidth())},__updateScrollbarWidth(){if(!0===this.container){const t=this.height>this.containerHeight?Object(o["d"])():0;this.scrollbarWidth!==t&&(this.scrollbarWidth=t)}},__updateScrollEvent(t){void 0!==this.timerScrollbar&&"remove"===t&&(clearTimeout(this.timerScrollbar),this.__restoreScrollbar()),window[t+"EventListener"]("resize",this.__hideScrollbar)},__hideScrollbar(){if(void 0===this.timerScrollbar){const t=document.body;if(t.scrollHeight>this.$q.screen.height)return;t.classList.add("hide-scrollbar")}else clearTimeout(this.timerScrollbar);this.timerScrollbar=setTimeout(this.__restoreScrollbar,200)},__restoreScrollbar(){this.timerScrollbar=void 0,document.body.classList.remove("hide-scrollbar")}}})},"4ddc":function(t,e,i){},"4e64":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:t._style,attrs:{id:"pulse"}})},a=[],o=i("b263"),r={name:"Pulse",props:{color:{type:String,default:"secondary",validator:o["a"]}},computed:{_style(){return`background-color: var(--${this.color}); color: var(--${this.color})`}}},n=r,l=(i("e953"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,"123d286d",null);e["a"]=c.exports},"4f21":function(t,e,i){},5042:function(t,e,i){},"50ff":function(t,e,i){},5132:function(t,e,i){"use strict";var s=i("2250"),a=i("4dc8");function o(t,e){e=Object(s["a"])(e,t);var i=0,o=e.length;while(null!=t&&i<o)t=t[Object(a["a"])(e[i++])];return i&&i==o?t:void 0}e["a"]=o},"51c8":function(t,e,i){},"53ed":function(t,e,i){t.exports=i.p+"img/users-dark.96314a57.png"},"53f6":function(t,e,i){t.exports=i.p+"img/users-light.bbcd693c.png"},5439:function(t,e,i){"use strict";i("7f31")},"55ff":function(t,e,i){"use strict";i("9db8")},"56e0":function(t,e,i){"use strict";var s,a;(function(o){t.exports?(o["default"]=o,t.exports=o):(s=[i("ea7f")],a=function(t){return o(t),o.Highcharts=t,o}.apply(e,s),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}t=t?t._modules:{},e(t,"Series/NodesComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:i,prototype:{pointClass:{prototype:s}}}}=t,{defined:a,extend:o,find:r,merge:n,pick:l}=e;var c;return function(t){function c(){return this.data=[].concat(this.points||[],this.nodes),i.destroy.apply(this,arguments)}function d(){this.nodes&&(this.nodes.forEach(t=>{t.destroy()}),this.nodes.length=0),i.setData.apply(this,arguments)}function h(t){const e=arguments,i=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==t&&i.forEach(t=>{t&&t.series&&(s.setState.apply(t,e),t.isNode||(t.fromNode.graphic&&s.setState.apply(t.fromNode,e),t.toNode&&t.toNode.graphic&&s.setState.apply(t.toNode,e)))}),s.setState.apply(this,e)}function u(t,e,i,a){const o=this.series.options.nodes,r=this.series.options.data,c=r&&r.length||0,d=r&&r[this.index];s.update.call(this,t,!this.isNode&&e,i,a),this.isNode&&(t=(o||[]).reduce((t,e,i)=>this.id===e.id?i:t,-1),a=n(o&&o[t]||{},r&&r[this.index]||{}),r&&(d?r[this.index]=d:r.length=c),o?0<=t?o[t]=a:o.push(a):this.series.options.nodes=[a],l(e,!0)&&this.series.chart.redraw(i))}const p=[];t.compose=function(t,i){return e.pushUnique(p,t)&&(t=t.prototype,t.setNodeState=h,t.setState=h,t.update=u),e.pushUnique(p,i)&&(t=i.prototype,t.destroy=c,t.setData=d),i},t.createNode=function(t){const e=this.pointClass;var i=(t,e)=>r(t,t=>t.id===e);let s=i(this.nodes,t);if(!s){i=this.options.nodes&&i(this.options.nodes,t);const a=(new e).init(this,o({className:"highcharts-node",isNode:!0,id:t,y:1},i));a.linksTo=[],a.linksFrom=[],a.getSum=function(){let t=0,e=0;return a.linksTo.forEach(e=>{t+=e.weight||0}),a.linksFrom.forEach(t=>{e+=t.weight||0}),Math.max(t,e)},a.offset=function(t,e){let i=0;for(let s=0;s<a[e].length;s++){if(a[e][s]===t)return i;i+=a[e][s].weight}},a.hasShape=function(){let t=0;return a.linksTo.forEach(e=>{e.outgoing&&t++}),!a.linksTo.length||t!==a.linksTo.length},a.index=this.nodes.push(a)-1,s=a}return s.formatPrefix="node",s.name=s.name||s.options.id||"",s.mass=l(s.options.mass,s.options.marker&&s.options.marker.radius,this.options.marker&&this.options.marker.radius,4),s},t.destroy=c,t.generatePoints=function(){const t=this.chart,e={};i.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(t=>{t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level}),this.points.forEach(i=>{a(i.from)&&(e[i.from]||(e[i.from]=this.createNode(i.from)),e[i.from].linksFrom.push(i),i.fromNode=e[i.from],t.styledMode?i.colorIndex=l(i.options.colorIndex,e[i.from].colorIndex):i.color=i.options.color||e[i.from].color),a(i.to)&&(e[i.to]||(e[i.to]=this.createNode(i.to)),e[i.to].linksTo.push(i),i.toNode=e[i.to]),i.name=i.name||i.id},this),this.nodeLookup=e},t.setNodeState=h,t.updateNode=u}(c||(c={})),c})),e(t,"Series/Sankey/SankeyPoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){({seriesTypes:{column:e}}=e);const{defined:s}=i;class a extends e.prototype.pointClass{constructor(){super(...arguments),this.toNode=this.series=this.options=this.nodeY=this.nodeX=this.mass=this.linksTo=this.linksFrom=this.linkBase=this.level=this.fromNode=this.className=void 0}applyOptions(e,i){return t.prototype.applyOptions.call(this,e,i),s(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+t.prototype.getClassName.call(this)}getFromNode(){let t,e=-1;for(let i=0;i<this.linksTo.length;i++){const s=this.linksTo[i];s.fromNode.column>e&&s.fromNode!==this&&(t=s.fromNode,e=t.column)}return{fromNode:t,fromColumn:e}}setNodeColumn(){s(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"===typeof this.weight}}return a})),e(t,"Series/Sankey/SankeySeriesDefaults.js",[],(function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} → {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}})),e(t,"Series/Sankey/SankeyColumnComposition.js",[t["Core/Utilities.js"]],(function(t){const{defined:e,relativeLength:i}=t;var s;return function(t){t.compose=function(t,e){return t.sankeyColumn=new s(t,e),t};class s{constructor(t,e){this.points=t,this.series=e}getTranslationFactor(t){const e=this.points,i=e.slice(),s=t.options.minLinkWidth||0;let a,o=0,r=(t.chart.plotSizeY||0)-(t.options.borderWidth||0)-(e.length-1)*t.nodePadding;for(;e.length;){for(o=r/e.sankeyColumn.sum(),t=!1,a=e.length;a--;)e[a].getSum()*o<s&&(e.splice(a,1),r-=s,t=!0);if(!t)break}return e.length=0,i.forEach(t=>{e.push(t)}),o}top(t){const e=this.series,i=e.nodePadding,s=this.points.reduce((function(s,a){return 0<s&&(s+=i),a=Math.max(a.getSum()*t,e.options.minLinkWidth||0),s+a}),0);return((e.chart.plotSizeY||0)-s)/2}left(t){const e=this.series,i=e.chart,s=e.options.equalNodes,a=i.inverted?i.plotHeight:i.plotWidth,o=e.nodePadding,r=this.points.reduce((function(i,r){return 0<i&&(i+=o),r=s?a/r.series.nodes.length-o:Math.max(r.getSum()*t,e.options.minLinkWidth||0),i+r}),0);return((i.plotSizeX||0)-Math.round(r))/2}sum(){return this.points.reduce((function(t,e){return t+e.getSum()}),0)}offset(t,s){const a=this.points,o=this.series,r=o.nodePadding;let n=0;if(o.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(let c=0;c<a.length;c++){var l=a[c].getSum();const d=Math.max(l*s,o.options.minLinkWidth||0),h=t.options[o.chart.inverted?"offsetHorizontal":"offsetVertical"],u=t.options.offset||0;if(l=l?d+r:0,a[c]===t)return{relativeTop:n+(e(h)?i(h,d):i(u,l))};n+=l}}}t.SankeyColumnAdditions=s}(s||(s={})),s})),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){function i(t,e){var a=e.before;const o=e.idRoot,r=e.mapIdToNode[o],n=e.points[t.i],c=n&&n.options||{},d=[];let h=0;return t.levelDynamic=t.level-(!1!==e.levelIsConstant?0:r.level),t.name=l(n&&n.name,""),t.visible=o===t.id||!0===e.visible,"function"===typeof a&&(t=a(t,e)),t.children.forEach((a,o)=>{const r=s({},e);s(r,{index:o,siblings:t.children.length,visible:t.visible}),a=i(a,r),d.push(a),a.visible&&(h+=a.val)}),a=l(c.value,h),t.visible=0<=a&&(0<h||t.visible),t.children=d,t.childrenTotal=h,t.isLeaf=t.visible&&!h,t.val=a,t}const{extend:s,isArray:a,isNumber:o,isObject:r,merge:n,pick:l}=e;return{getColor:function(e,i){const s=i.index;var a=i.mapOptionsToLevel;const o=i.parentColor,r=i.parentColorIndex,n=i.series;var c=i.colors;const d=i.siblings;var h=n.points,u=n.chart.options.chart;let p;var m;let f;if(e){if(h=h[e.i],e=a[e.level]||{},a=h&&e.colorByPoint){p=h.index%(c?c.length:u.colorCount);var g=c&&c[p]}n.chart.styledMode||(c=h&&h.options.color,u=e&&e.color,(m=o)&&(m=(m=e&&e.colorVariation)&&"brightness"===m.key&&s&&d?t.parse(o).brighten(s/d*m.to).get():o),m=l(c,u,g,m,n.color)),f=l(h&&h.options.colorIndex,e&&e.colorIndex,p,r,i.colorIndex)}return{color:m,colorIndex:f}},getLevelOptions:function(t){let e,i,s,c={};if(r(t)){s=o(t.from)?t.from:1;var d=t.levels;for(i={},e=r(t.defaults)?t.defaults:{},a(d)&&(i=d.reduce((t,i)=>{let a,c;return r(i)&&o(i.level)&&(c=n({},i),a=l(c.levelIsConstant,e.levelIsConstant),delete c.levelIsConstant,delete c.level,i=i.level+(a?0:s-1),r(t[i])?n(!0,t[i],c):t[i]=c),t},{})),d=o(t.to)?t.to:1,t=0;t<=d;t++)c[t]=n({},e,r(i[t])?i[t]:{})}return c},setTreeValues:i,updateRootId:function(t){if(r(t)){var e=r(t.options)?t.options:{};e=l(t.rootNode,e.rootId,""),r(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Series/Sankey/SankeySeries.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Series/NodesComposition.js"],t["Series/Sankey/SankeyPoint.js"],t["Series/Sankey/SankeySeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Sankey/SankeyColumnComposition.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l){const{series:c,seriesTypes:{column:d}}=o,{getLevelOptions:h}=n,{extend:u,isObject:p,merge:m,pick:f,relativeLength:g,stableSort:v}=l;class y extends d{constructor(){super(...arguments),this.translationFactor=this.points=this.options=this.nodeWidth=this.nodes=this.nodePadding=this.nodeLookup=this.group=this.data=this.colDistance=void 0}static getDLOptions(t){const e=p(t.optionsPoint)?t.optionsPoint.dataLabels:{};return t=p(t.level)?t.level.dataLabels:{},m({style:{}},t,e)}createNodeColumns(){const t=[];this.nodes.forEach((function(e){e.setNodeColumn(),t[e.column]||(t[e.column]=r.compose([],this)),t[e.column].push(e)}),this);for(let e=0;e<t.length;e++)"undefined"===typeof t[e]&&(t[e]=r.compose([],this));return t}order(t,e){const i=this;"undefined"===typeof t.level&&(t.level=e,t.linksFrom.forEach((function(t){t.toNode&&i.order(t.toNode,e+1)})))}generatePoints(){i.generatePoints.apply(this,arguments);const t=this;this.orderNodes&&(this.nodes.filter((function(t){return 0===t.linksTo.length})).forEach((function(e){t.order(e,0)})),v(this.nodes,(function(t,e){return t.level-e.level})))}getNodePadding(){let t=this.options.nodePadding||0;if(this.nodeColumns){const e=this.nodeColumns.reduce((t,e)=>Math.max(t,e.length),0);e*t>this.chart.plotSizeY&&(t=this.chart.plotSizeY/e)}return t}hasData(){return!!this.processedXData.length}pointAttribs(e,i){if(!e)return{};const s=this,a=s.mapOptionsToLevel[(e.isNode?e.level:e.fromNode.level)||0]||{},o=e.options,r=a.states&&a.states[i||""]||{};i=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((function(t,e){return t[e]=f(r[e],o[e],a[e],s.options[e]),t}),{});const n=f(r.color,o.color,i.colorByPoint?e.color:a.color);return e.isNode?{fill:n,stroke:i.borderColor,"stroke-width":i.borderWidth,opacity:i.opacity}:{fill:t.parse(n).setOpacity(i.linkOpacity).get()}}drawTracker(){d.prototype.drawTracker.call(this,this.points),d.prototype.drawTracker.call(this,this.nodes)}drawPoints(){d.prototype.drawPoints.call(this,this.points),d.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){d.prototype.drawDataLabels.call(this,this.points),d.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=g(this.options.nodeWidth,this.chart.plotSizeX);const t=this,e=this.chart,i=this.options,s=this.nodeWidth,a=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=a.reduce((e,i)=>Math.min(e,i.sankeyColumn.getTranslationFactor(t)),1/0),this.colDistance=(e.plotSizeX-s-i.borderWidth)/Math.max(1,a.length-1),t.mapOptionsToLevel=h({from:1,levels:i.levels,to:a.length-1,defaults:{borderColor:i.borderColor,borderRadius:i.borderRadius,borderWidth:i.borderWidth,color:t.color,colorByPoint:i.colorByPoint,levelIsConstant:!0,linkColor:i.linkColor,linkLineWidth:i.linkLineWidth,linkOpacity:i.linkOpacity,states:i.states}}),a.forEach((function(e){e.forEach((function(i){t.translateNode(i,e)}))}),this),this.nodes.forEach((function(e){e.linksFrom.forEach((function(e){(e.weight||e.isNull)&&e.to&&(t.translateLink(e),e.allowShadow=!1)}))}))}translateLink(t){var e=(e,i)=>(i=e.offset(t,i)*o,Math.min(e.nodeY+i,e.nodeY+(e.shapeArgs&&e.shapeArgs.height||0)-r));let i=t.fromNode;var s=t.toNode;let a=this.chart,o=this.translationFactor,r=Math.max(t.weight*o,this.options.minLinkWidth);var n=(a.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor;let l=e(i,"linksFrom");e=e(s,"linksTo");let c=i.nodeX,d=this.nodeWidth;s=s.nodeX;var h=t.outgoing,u=s>c+d;if(a.inverted&&(l=a.plotSizeY-l,e=(a.plotSizeY||0)-e,d=-d,r=-r,u=c>s),t.shapeType="path",t.linkBase=[l,l+r,e,e+r],u&&"number"===typeof e)t.shapeArgs={d:[["M",c+d,l],["C",c+d+n,l,s-n,e,s,e],["L",s+(h?d:0),e+r/2],["L",s,e+r],["C",s-n,e+r,c+d+n,l+r,c+d,l+r],["Z"]]};else if("number"===typeof e){n=s-20-r,h=s-20,u=c+d;const i=u+20,o=i+r,p=l,m=l+r,f=m+20,g=f+(a.plotHeight-l-r),v=g+20,y=v+r,b=e,x=b+r,w=x+20,k=v+.7*r,C=s-.7*r,S=u+.7*r;t.shapeArgs={d:[["M",u,p],["C",S,p,o,m-.7*r,o,f],["L",o,g],["C",o,k,S,y,u,y],["L",s,y],["C",C,y,n,k,n,g],["L",n,w],["C",n,x-.7*r,C,b,s,b],["L",s,x],["C",h,x,h,x,h,w],["L",h,g],["C",h,v,h,v,s,v],["L",u,v],["C",i,v,i,v,i,g],["L",i,f],["C",i,m,i,m,u,m],["Z"]]}}t.dlBox={x:c+(s-c+d)/2,y:l+(e-l)/2,height:r,width:0},t.tooltipPos=a.inverted?[a.plotSizeY-t.dlBox.y-r/2,a.plotSizeX-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+r/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=i.color)}translateNode(t,e){var i=this.translationFactor;const s=this.chart,a=this.options,{borderRadius:o,borderWidth:r=0}=a;var n=t.getSum();const l=Math.max(Math.round(n*i),this.options.minLinkWidth),c=Math.round(this.nodeWidth);var d=Math.round(r)%2/2,h=e.sankeyColumn.offset(t,i);if(e=Math.floor(f(h.absoluteTop,e.sankeyColumn.top(i)+h.relativeTop))+d,d=Math.floor(this.colDistance*t.column+r/2)+g(t.options.offsetHorizontal||0,c)+d,d=s.inverted?s.plotSizeX-d:d,t.sum=n){t.shapeType="roundedRect",t.nodeX=d,t.nodeY=e,n=d,i=e,h=t.options.width||a.width||c;let r=t.options.height||a.height||l;const u=g("object"===typeof o?o.radius:o||0,h);s.inverted&&(n=d-c,i=s.plotSizeY-e-l,h=t.options.height||a.height||c,r=t.options.width||a.width||l),t.dlOptions=y.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options}),t.plotX=1,t.plotY=1,t.tooltipPos=s.inverted?[s.plotSizeY-i-r/2,s.plotSizeX-n-h/2]:[n+h/2,i+r/2],t.shapeArgs={x:n,y:i,width:h,height:r,r:u,display:t.hasShape()?"":"none"}}else t.dlOptions={enabled:!1}}}return y.defaultOptions=m(d.defaultOptions,a),i.compose(s,y),u(y.prototype,{animate:c.prototype.animate,createNode:i.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:s,searchPoint:e.noop}),o.registerSeriesType("sankey",y),y})),e(t,"masters/modules/sankey.src.js",[],(function(){}))}))},5812:function(t,e,i){"use strict";i("62f0")},5960:function(t,e,i){"use strict";i("9a8d")},"5a6e":function(t,e,i){"use strict";(function(t){i("14d9"),i("caad");var s=i("4e64"),a=i("381e"),o=i("1b0d"),r=i("4bc4"),n=i("eff0"),l=i("dd90"),c=i("a7d2"),d=i("6a70"),h=i("bc3a"),u=i.n(h),p=i("1c54"),m=i("695e"),f=i("8bc3"),g=i("869e"),v=i("6df3"),y=i("9234"),b=i("fa1f"),x=i("cade"),w=i("be3f"),k=i("8505"),C=i("470f"),S=i("b0ba"),A=i("ec15"),I=i("bb36");e["a"]={name:"Notifications",components:{Pulse:s["a"],Sheet:a["a"],RenderForm:r["a"],SignatureField:n["a"],Modal:d["a"],Confirm:p["a"],TextBuilderField:m["a"],PasswordField:f["a"],CheckboxField:g["a"],TextAreaField:v["a"],SingleChoiceField:y["a"],FileIcon:b["a"],ListItem:x["a"],ExpandableSearch:w["a"],ProcessHistory:k["a"],SubWorkflowProcess:C["a"],FormEntryHistory:S["a"],Attachments:A["a"],Comments:I["a"]},data(){return{notificationSheet:!1,notifyData:[],notifyCopyData:[],iconColor:"secondary",workflowId:0,processId:0,workflow:{},workflowRequestList:[],formId:"",form:null,formFields:[],formModel:{},formEditAccess:!1,formEditControls:[],formVisibilityAccess:!0,formSecureControls:[],workflowFormModel:{},saveAction:"",attachmentList:[],attachmentSheet:!1,commentText:"",commentsList:[],commentsSheet:!1,selectedProcess:{},selectedFile:{},fileSheet:!1,checkList:[],rowIndex:null,hideFileSheet:!1,processSheet:!1,totalItems:0,itemsPerPage:10,currentPage:1,title:"NO DATA",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Sub Process",value:"SUB_PROCESS",icon:"eva-link-2-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],taskSheet:!1,headerTitle:"",taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",filterBy:[],processActions:[],processActionsAddOn:[],advancedCommentsSheet:!1,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,advancedCommentText:"",actionText:"",actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",isLoading:!1,internalForward:{proceed:!1,users:[],groups:[]},userSignature:!1,signImg:"",signList:[],actions:[],itemModel:{},checkListRowIndex:null,selectAll:!1,processForwardGroupAction:!1,processForwardModal:!1,forwardUsers:[],forwardGroups:[],errorMessage:"",alertModal:!1,errorModal:!1,documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],addTaskEnabled:!1,notifyLoad:null,alertNotification:!1,historyProcessId:0,hasWflowInitiator:!1,subWorkflowId:0,initiateSubWorkflowProcess:!1,subProcessSheet:!1,subProcessData:{},subTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],subProcessLink:"",openSubProcessSheet:!1,subProcessTickets:[],subProcessId:0,workflowList:[],showFormEntryHistoryModal:!1,showAttachmentSheet:!1,wform:{},showCommentsSheet:!1}},computed:{panels(){return this.form?this.form.panels:[]},secondaryPanels(){return this.form?this.form.secondaryPanels:[]},formSettings(){return this.form?this.form.settings:{}},checkListTemplate(){return!!this.checkList.length&&this.checkList.filter(t=>t.template).length>0},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},_enableControls(){let t=[],e=[];return this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}}},watch:{selectedProcess:{immediate:!0,handler(){this.selectedProcess.processId&&(this.attachmentList=[],this.getComments(),this.getAttachments(),this.getProcessSignature())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.checkRequiredDocument()}},subWorkflowId(){if(this.subWorkflowId){let t=this.workflowList.find(t=>t.value==this.subWorkflowId);if(t){this.subWorkflowName="Initiate - "+t.label,this.hasWflowInitiator=!1;let e=t.flowJson,i=e.blocks.find(t=>"START"===t.type);if(i&&"MANUAL"===i.settings.initiateMode&&"DOCUMENT"!==t.initiatedBy&&((i.settings.users.indexOf(this.$store.state.session.id)>-1||i.settings.users.indexOf("0")>-1)&&(this.hasWflowInitiator=!0),i.settings.initiateBy.indexOf("DOMAIN_USER")>-1)){let t=this.$store.state.session.email.split("@").pop();i.settings.userDomains.indexOf(t)>-1&&(this.hasWflowInitiator=!0)}}else this.hasWflowInitiator=!1}}},created(){this.getNotifications();let t=location.origin;t.indexOf("http://localhost")>0&&(this.notifyLoad=setInterval(()=>{this.getNotifications(!0)},3e4))},methods:{checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t||(this.commentAction=2,!1)},isTenantArmgroup(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t},checkTabAccess(t){return"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isTenantArmgroup():"FORM_ENTRY_HISTORY"!==t||!!this.formId},duration(t){const e=t instanceof Date?t:new Date(t),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateURL(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return e.test(t)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();return this.selectedFile.initiate?Object(l["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`:Object(l["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(l["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:Object(l["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2`}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},download(t){window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t}`)},downloadAll(){this.checkList.forEach(t=>{t.id&&t.template&&window.open(`https://appuat.ezofis.com/ezofisapi/api/workflow/viewChecklist?wId=${this.workflowId}&id=${t.id}`)})},attachTemplate(t){this.rowIndex=t,this.$refs.attachments.click()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},checkDocument(){this.docWarning=!1,this.trackRequest||this.checkList.length&&this.checkList.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})},closeTaskSheet(){this.taskSheet=!1},closeProcessSheet(){this.processSheet=!1},openForm(t){if("WORKFLOW"===t.category){let e=JSON.parse(t.inputJson);this.workflowId=Number(e.workflowId),this.processId=Number(e.processId),this.filterBy=[{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"requestNo",condition:"IS_EQUALS_TO",value:t.title.split(": ")[1]}]}],this.getSubWorkflow(),this.getWorkflowData()}else"TASK"===t.category&&console.log(t)},openNotification(){this.alertNotification=!1,this.notifyLoad=setInterval(()=>{this.getNotifications(!0)},3e4),this.clearAllNotifications(2),this.getUserWorkflow(),this.notificationSheet=!0},getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async getNotifications(t=!1){let e={filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}],mode:"Browse"};t||this.$store.commit("showLoadingBar");const{error:i,payload:s}=await o["b"].getNotifications(e);if(t||this.$store.commit("hideLoadingBar"),i)return void this.$alert.error(i);let a=s.filter(t=>!1===t.readStatus);a.length&&(this.alertNotification=!0,clearInterval(this.notifyLoad)),this.notifyData=s,this.notifyCopyData=s},async clearAllNotifications(t=1){let e=this.$store.state.session.id;const{error:i}=await o["b"].clearAllNotifications(e,t);i?this.$alert.error(i):this.getNotifications()},async deleteNotification(t){let e={isDeleted:!0};const{error:i}=await o["b"].deleteNotification(t,e);i?this.$alert.error(i):this.getNotifications()},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await o["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getWorkflow(){this.checkList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].getWorkflow(this.workflowId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(this.workflow=e,this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),await this.getForm()),this.getTaskForm())},async getWorkflowData(){this.$store.commit("showLoadingBar"),this.workflowRequestList=[],this.list=[];const{error:t,payload:e}=await o["o"].getWorkflowData(this.workflowId,{filterBy:this.filterBy,itemsPerPage:10,currentPage:1,mode:""});this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.data.length&&(this.selectedProcess=e.data[0].value[0],await this.getWorkflow(),this.openProcess())},async getForm(){if(this.formFields=[],this.formId){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["g"].getForm(this.formId);if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.wform=e,this.form=i;const s=[...i.panels,...i.secondaryPanels];if("CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),!s.length)return;let a=[];for(const o of s)a.push(...o.fields);a.forEach(t=>{this.formFields.push({id:this.$nano.id(),label:t.label,value:t.id,dataType:"DATE"===t.type?t.type:"SHORT_TEXT"})})}},async openProcess(){if(this.formModel={},this.itemModel={},this.formEditAccess=!0,this.formEditControls=[],this.processActions=[],this.processActionsAddOn=[],this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`,this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcessrocess.itemData&&(this.itemModel=t.itemData);if(this.selectedProcess.activityUserEmail===this.$store.state.session.email){let t=JSON.parse(this.workflow.flowJson);t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&this.processActions.indexOf(t.proceedAction)<0&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1}))}),this.internalForward={proceed:!1,users:[],groups:[]},this.userSignature=!1,t.blocks.forEach(e=>{if(e.id===this.selectedProcess.activityId){if(e.settings.internalForward&&(this.processActions.push("Forward"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[]),""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}this.userSignature=e.settings.userSignature,e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})),e.settings.workflowInitiator&&(this.subWorkflowId=e.settings.subWorkflowId)}}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.processActions.push("Force Close")}"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),this.actions=this.processActions,this.processSheet=!0,this.getTaskList()},validateRequest(t){this.saveAction=t,this.itemModel.itemId&&this.processRequest()},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},async processRequest(t=!0,e=!0){if(t&&"Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0)}}let i={};this.formId?i={workflowId:this.workflowId,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.workflowFormModel},userIds:this.forwardUsers,groupIds:this.forwardGroups}:this.itemModel&&(i={workflowId:this.workflowId,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups}),this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:s}=await o["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),""===i.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.forwardUsers=[],this.forwardGroups=[],this.closeProcessSheet(),this.$emit("refresh",this.workflowId))},showLinks(t){"ATTACHMENTS"===t?this.showAttachmentSheet=!0:"COMMENTS"===t?this.showCommentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflowId}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$alert.info("Task not found"):"SUB_PROCESS"===t?this.subProcessSheet=!0:"FORM_ENTRY_HISTORY"===t&&(this.showFormEntryHistoryModal=!0)},searchRow(t){this.notifyData=t?this.notifyCopyData.filter(e=>{for(let i in e)if(String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}):this.notifyCopyData},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].getProcessComments(this.workflowId,this.selectedProcess.processId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.selectedProcess.processId){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e),this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText){if(this.selectedProcess.processId){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.advancedCommentText="",this.advancedCommentsSheet=!1;this.actionComments&&this.processRequest(!1,!1)}},async sendCommentsToJira(t,e,i){this.$store.commit("showLoadingBar");let s={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:a,payload:r}=await o["j"].insertJiraIssueComments(s);if(this.$store.commit("hideLoadingBar"),a){this.$alert.error("error posting comments to jira");let t=JSON.parse(a);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r)},async uploadAttachments(t){if(this.selectedProcess.processId){const i=t.target.files[0],s=new FormData;s.append("workflowId",this.workflowId),s.append("repositoryId",this.workflow.repositoryId),s.append("processId",this.selectedProcess.processId),s.append("transactionId",this.selectedProcess.transactionId),s.append("fields",""),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(!Object(l["a"])(o))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached")}catch(e){this.$alert.error("Error uploading file"),console.error(e)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("repositoryId",this.workflow.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);s.append("filename",t[0].name+"."+o),a=t[0].name+"."+o}if(!Object(l["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await u()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:o,data:r}=e;if(200!==o)throw"Invalid response";let n=JSON.parse(r);this.attachmentList.push({id:Number(n.fileId),name:a,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,uid:this.checkListRowIndex}),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(e){console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){if(this.checkList=[],this.selectedProcess.processId){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);e&&e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.checkDocument()),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:s,payload:a}=await o["t"].getAttachments(this.workflowId,this.selectedProcess.processId);if(this.$store.commit("hideLoadingBar"),s)return void this.$alert.error(s);a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i)return e});e.length?t.attach=!0:t.attach=!1})}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await o["t"].saveProcessSignature(this.workflowId,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await o["t"].getProcessSignature(this.workflowId,this.processId);t?this.$alert.error(t):this.signList=e},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflowId}/${t}`},async validatePassword(){const t=await this.$refs.passwordForm.validate();if(!t)return;this.isLoading=!0;const{error:e}=await o["a"].validatePassword({password:this.actionUserPassword});if(this.isLoading=!1,e)return console.log(e),void this.$alert.warning(e);this.actionUserPassword="",this.actionPasswordConfirm=!1,this.actionRemarks?(this.actionComments=!0,this.advancedCommentsSheet=!0):(this.actionRemarks=!1,this.actionPassword=!1,this.processRequest(!1,!1))},async getTaskList(){this.taskEntries=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["t"].getTaskEntries(this.workflowId,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},documentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();Object(l["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await o["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getSubWorkflow(){this.tabs.find(t=>{"SUB_PROCESS"===t.value&&(t.count=0)});const{error:t,payload:e}=await o["t"].getSubWorkflow(this.workflowId,this.processId);t?this.$alert.error(t):(console.log(e,"payload"),e.length&&this.getSubProcessDetails(e[0].subWorkflowId,e))},async getSubProcessDetails(t,e){this.subProcessTickets=[];const{error:i,payload:s}=await o["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:0,currentPage:0,mode:""});if(i)this.$alert.error(i);else if(console.log(s),s.meta.totalItems){console.log(s);let t=[];e.forEach(e=>{let i=s.data[0].value.find(t=>t.processId===Number(e.subProcessId));console.log(i),i&&t.push(i)}),t.length&&(this.subProcessTickets=t),this.tabs.find(e=>{"SUB_PROCESS"===e.value&&(e.count=t.length)})}},subProcessShowLinks(t,e){this.subProcessLink="",this.subProcessData=e,this.subProcessLink=t},openSubProcess(t){this.subProcessData=t,this.openSubProcessSheet=!0},closeSubProcess(){this.openSubProcessSheet=!1,this.subProcessData={},this.initiateSubWorkflowProcess=!1},initiateSubWorkflow(){this.initiateSubWorkflowProcess=!0},async getUserWorkflow(){this.workflowList=[],this.$store.commit("showLoadingBarSave");const{error:t,payload:e}=await o["t"].getUserWorkflow();t?this.$alert.error(t):(e.length&&e.forEach(t=>{this.workflowList.push({id:this.$nano.id(),label:t.name,value:t.id,initiatedBy:t.initiatedBy,formId:t.wFormId,repositoryId:t.repositoryId,flowJson:JSON.parse(t.flowJson)})}),this.$store.commit("hideLoadingBarSave"))},closeSubProcessSheet(){this.subProcessSheet=!1}}}}).call(this,i("4362"))},"5a75":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("q-layout",{attrs:{view:"hHh LpR fFf"}},[e("Toolbar"),e("Drawer"),e("q-page-container",[e("BaseScrollbar",{staticClass:"q-pa-md relative-position",attrs:{height:"calc(100vh - 56px)"}},[t._t("default")],2)],1)],1)},a=[],o=function(){var t=this,e=t._self._c;return e("q-header",{attrs:{id:"toolbar"}},[e("q-toolbar",{staticClass:"no-padding",staticStyle:{height:"56px"}},[e("Legend"),t.customerLogo?[e("CustomerLogo",{staticClass:"q-ml-md q-mr-xl"})]:[e("Logo",{staticClass:"q-ml-md q-mr-xl"})],e("GlobalSearch"),e("q-space"),t.customerLogo&&t.ezofisLogo?[e("Logo",{staticClass:"q-ml-md q-mr-md"})]:t._e(),e("ThemeSwitcher",{staticClass:"q-mr-sm"}),e("Notifications",{staticClass:"q-mr-sm"}),e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-power-outline","no-border":""},on:{click:t.logOut}}),e("Account",{staticClass:"q-mr-md"})],2)],1)},r=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative-position cursor-pointer",on:{click:t.homePage}},[t._m(0),e("div",{attrs:{id:"legend-tail"}})])},l=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"legend"}},[e("img",{attrs:{src:"https://demo.ezofis.com/Logo/mark-white.png"}})])}],c=(i("14d9"),{name:"Legend",methods:{homePage(){var t;if(this.$store.state.session.profile&&(this.$store.state.profileMenus.length&&null!==(t=this.$store.state.profileMenus.find(t=>t.workspaces))&&void 0!==t&&t.Menu["Overview"]))return void("repositories-browse"!==this.$route.name&&this.$router.push({name:"repositories-browse"}));"workflows-overview"!==this.$route.name&&this.$router.push({name:"workflows-overview"})}}}),d=c,h=(i("b2f9"),i("2877")),u=Object(h["a"])(d,n,l,!1,null,"7e06f69f",null),p=u.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"logo"},on:{click:t.homePage}},[e("img",{attrs:{src:t._logo,height:t.logoHeight}})])},f=[],g=i("2f62"),v={name:"Logo",computed:{...Object(g["c"])(["darkTheme"]),_logo(){return this.darkTheme?"https://demo.ezofis.com/Logo/name-dark.png":"https://demo.ezofis.com/Logo/name-light.png"},logoHeight(){return"24px"}},methods:{homePage(){var t;if(this.$store.state.session.profile&&(this.$store.state.profileMenus.length&&null!==(t=this.$store.state.profileMenus.find(t=>t.workspaces))&&void 0!==t&&t.Menu["Overview"]))return void("repositories-browse"!==this.$route.name&&this.$router.push({name:"repositories-browse"}));"workflows-overview"!==this.$route.name&&this.$router.push({name:"workflows-overview"})}}},y=v,b=(i("ea0d"),Object(h["a"])(y,m,f,!1,null,"ce8b9a52",null)),x=b.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"logo"},on:{click:t.homePage}},[e("img",{attrs:{src:t._logo,height:t.logoHeight}})])},k=[],C={name:"Logo",computed:{...Object(g["c"])(["darkTheme"]),_logo(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?i("3846"):"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?i("651a"):"http://172.16.1.118"===t||"http://localhost:8080"===t?i("1d87"):i("bcdf")(`./name-${this.darkTheme?"dark":"light"}.png`)},logoHeight(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?"28px":"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"42px":"http://172.16.1.118"===t?"38px":"24px"}},methods:{homePage(){var t;if(this.$store.state.session.profile&&(this.$store.state.profileMenus.length&&null!==(t=this.$store.state.profileMenus.find(t=>t.workspaces))&&void 0!==t&&t.Menu["Overview"]))return void("repositories-browse"!==this.$route.name&&this.$router.push({name:"repositories-browse"}));"workflows-overview"!==this.$route.name&&this.$router.push({name:"workflows-overview"})}}},S=C,A=(i("75a4"),Object(h["a"])(S,w,k,!1,null,"7d62c8eb",null)),I=A.exports,T=function(){var t=this,e=t._self._c;return e("div",{ref:"search",attrs:{id:"global-search"}},[e("BaseIcon",{attrs:{name:"eva-search"}}),e("div",{staticClass:"label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],ref:"searchQuery",staticClass:"q-px-xs",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("q-space"),t._e()],1),e("q-menu",{staticClass:"shadow-3",attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right","no-parent-event":"",fit:""},model:{value:t.showSearchOptions,callback:function(e){t.showSearchOptions=e},expression:"showSearchOptions"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:"calc(80vh - 273px)",width:"600px"}},[e("div",{attrs:{id:"search-menu"}},[e("table",[e("tbody",[e("tr",[e("td",{staticClass:"label"},[t._v("Type")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.typeList},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)]),t.type?["Folder"===t.type||"Workspace"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Workspace")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.workspaceList},model:{value:t.workspace,callback:function(e){t.workspace=e},expression:"workspace"}})],1)]):t._e(),"Folder"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Folder")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.folderList},model:{value:t.folder,callback:function(e){t.folder=e},expression:"folder"}})],1)]):t._e(),"Task"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Task")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.taskList},model:{value:t.task,callback:function(e){t.task=e},expression:"task"}})],1)]):t._e(),"Form"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Form")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.formList},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1)]):t._e(),"Workflow"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Workflow")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.workflowList},model:{value:t.workflow,callback:function(e){t.workflow=e},expression:"workflow"}})],1)]):t._e(),"User"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("User")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.userList},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)]):t._e(),"Group"===t.type?e("tr",[e("td",{staticClass:"label"},[t._v("Group")]),e("td",{staticClass:"value"},[e("SelectField",{attrs:{options:t.groupList},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1)]):t._e(),t._e()]:t._e(),t._e()],2)])])]),e("div",{staticClass:"row items-center footer q-pa-sm"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row items-center date-filter"},[e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"From Date"},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"col-auto q-mx-sm"},[e("BaseIcon",{attrs:{name:"eva-arrow-forward-outline"}})],1),e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"To Date"},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)])]),e("q-space"),e("div",{staticClass:"col-auto footer1 q-ml-sm"},[e("div",{staticClass:"row items-center"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"reset"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"search more"},on:{click:t.searchFiles}})],1)])],1)],1),e("q-menu",{staticClass:"shadow-3",attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right","no-parent-event":"",fit:"","no-focus":"","no-refocus":""},model:{value:t.showSearchMenu,callback:function(e){t.showSearchMenu=e},expression:"showSearchMenu"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:"calc(80vh - 273px)",width:"600px"}},[e("div",{attrs:{id:"search-menu"}},[e("div",{staticClass:"row items-center chip-menu q-pb-sm",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t._l(t.typeList,(function(i){return[i.isVisible?e("div",{key:i.id,staticClass:"chip",class:{"condition-chip":i.isSelectMenu},on:{click:function(t){i.isSelectMenu=!i.isSelectMenu}}},[i.isSelectMenu?e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-checkmark-outline"}}):t._e(),e("div",[t._v(t._s(i.label))])],1):t._e()]})),e("div",{staticClass:"chip",on:{click:t.showFullTypeList}},[e("div",[t._v(" "+t._s(t.showAllButtonText)+" "),e("BaseIcon",{class:{"rotate-180":t.isShowAll},attrs:{name:"mdi-menu-down"}})],1)])],2),e("div",{staticClass:"row items-center q-py-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-search"}}),t._v(" "+t._s(t.search)+" ")],1),t.isLoadingActive?e("BaseLoadingBarSheet",{staticStyle:{position:"absolute !important","z-index":"9999"}}):t._e(),t.searchResult.length?[t._l(t.searchResult,(function(i,s){return e("div",{key:s,staticClass:"row items-center q-py-sm cursor-pointer",staticStyle:{"border-bottom":"1px solid var(--divider-color)"},on:{click:function(e){return t.goto(i)}}},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-md",attrs:{name:t.getMenuIcon(i.menu)}})],1),e("div",{staticClass:"col"},[e("div",{staticClass:"search-title"},[t._v(" "+t._s(i.searchName)+" ")]),e("div",{staticClass:"subtitle"},[t._v(" "+t._s(i.description)+" ")])]),e("div",{staticClass:"col-auto"},[t._v(t._s(i.date))])])})),e("BaseSeparator"),e("div",{staticClass:"row items-center q-pa-sm"},[e("div",{staticClass:"col subtitle"},[t._v(t._s(t.totalItems)+" results found")]),t.totalItems>=10?e("div",{staticClass:"show-all",on:{click:t.searchFiles}},[t._v(" "+t._s(t.loadMore?"view less":"view all")+" ")]):t._e()])]:[e("div",{staticClass:"row items-center q-py-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t._v(" No recent items match your search ")])]],2)]),e("div",{staticClass:"row items-center footer q-pa-sm"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row items-center date-filter"},[e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"From Date"},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"col-auto q-mx-sm"},[e("BaseIcon",{attrs:{name:"eva-arrow-forward-outline"}})],1),e("div",{staticClass:"col-auto",staticStyle:{width:"160px"}},[e("DateField",{attrs:{"hide-border":!0,placeholder:"To Date"},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)])]),e("q-space"),e("div",{staticClass:"col-auto footer1 q-ml-sm"},[e("div",{staticClass:"row items-center"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"reset"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"search more"},on:{click:t.searchFiles}})],1)])],1)],1),e("FileSheet",{attrs:{file:t.selectFile,"repository-field":t.repositoryField,options:{}},on:{"show-files":function(e){t.isFileSheetVisible=!0}},model:{value:t.isFileSheetVisible,callback:function(e){t.isFileSheetVisible=e},expression:"isFileSheetVisible"}}),e("RequestProcessSheet",{attrs:{"workflow-request-list":t.workflowTicketList,"process-id":t.processId,workflow:t.workflows,"workflow-id":t.workflowId,"form-id":t.formId,form:t.forms,"enable-controls":t._enableControls}})],1)},L=[],P=i("12b8"),_=i("b3d1"),M=i("53c1"),F=i("7104"),D=i("1b0d"),B=i("3fc6"),O=i("4360"),E={name:"GlobalSearch",components:{SelectField:P["a"],TextField:_["a"],DateField:M["a"],FileSheet:F["a"],RequestProcessSheet:B["a"]},data(){return{search:"",type:"",isShowAll:!1,typeList:[{id:this.$nano.id(),label:"Document",value:"Documents",isSelectMenu:!1,isVisible:!0,default:!0},{id:this.$nano.id(),label:"Content",value:"content",isSelectMenu:!0,isVisible:!0,default:!0},{id:this.$nano.id(),label:"Request No",value:"Request No",isSelectMenu:!1,isVisible:!0,default:!0},{id:this.$nano.id(),label:"Workspace",value:"Workspace",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Folder",value:"Folders",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Form",value:"Form",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Workflow",value:"WorkFlow",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"User",value:"User",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Group",value:"Group",isSelectMenu:!1,isVisible:!1,default:!1},{id:this.$nano.id(),label:"Menu",value:"Menu",isSelectMenu:!1,isVisible:!1,default:!1}],words:"",owner:"",itemName:"",location:location,date:"",workflow:"",folder:"",workspace:"",workspaceList:[],folderList:[],groupList:[],group:[],taskList:[],formList:[],form:"",task:"",workflowList:[],userList:[],user:"",isExpanded:!1,fromDate:"",toDate:"",showSearchOptions:!1,showSearchMenu:!1,isSelectMenu:!1,searchResult:[],selectFile:{},isFileSheetVisible:!1,repositoryField:[],loadMore:!1,totalItems:0,searchInput:{},workflowTicketList:[],selectedProcess:{},processId:0,workflows:{},workflowId:0,formId:0,forms:{},isLoadingActive:!1,showAllButtonText:"More"}},computed:{panels(){return this.form?this.form.panels:[]},_enableControls(){let t=[],e=[];return this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}}},watch:{workspace(){this.workspace&&this.getRepositories()},type(){this.workspace="",this.workflow="",this.user="",this.group="",this.task="",this.form="",this.folder="",this.date="","Workspace"===this.type||"Folder"===this.type?this.getWorkspaces():"Group"===this.type?this.getGroups():"Form"===this.type?this.getForms():"Task"===this.type?this.getTasks():"Workflow"===this.type?this.getWorkflows():"User"===this.type&&this.getUsers()},search(){this.search?this.search.length>=2&&(this.showSearchMenu=!0,this.getGlobalSearch()):this.showSearchMenu=!1},typeList:{deep:!0,handler(){let t=this.typeList.filter(t=>t.isSelectMenu);console.log(t);let e=[];t.forEach(t=>{e.push(t.value)}),this.getGlobalSearch(e.length?e:[""])}}},created(){},methods:{showFullTypeList(){this.isShowAll=!this.isShowAll,this.showAllButtonText=this.isShowAll?"Less":"More",this.typeList.forEach(t=>{t.isVisible=!!this.isShowAll||t.default})},async getWorkspaces(){const{error:t,payload:e}=await D["u"].getWorkspaceList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.workspaceList=e.map(t=>({id:t.id,label:t.value,value:t.value})))},async getRepositories(){if(this.workspace){this.folderList=[];let t=this.workspaceList.find(t=>t.value===this.workspace)["id"];const{error:e,payload:i}=await D["p"].getRepositoryList("workspaceId",t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);if(!i.length)return;this.folderList=i.map(t=>({id:this.$nano.id(),label:t.value,value:t.value}))}},async getGroups(){const{error:t,payload:e}=await D["i"].getGroupList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.groupList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getForms(){const{error:t,payload:e}=await D["g"].getFormList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.formList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getWorkflows(){const{error:t,payload:e}=await D["t"].getWorkflowList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.workflowList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getUsers(){const{error:t,payload:e}=await D["s"].getUserList();this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.userList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.value})))},async getTasks(){const{error:t,payload:e}=await D["g"].getFormEntries(19,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:100,currentPage:1});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=e;console.log(i),this.taskList=i||[],i.length&&i[0].value.length},searchFiles(){let t="";"Workspace"===this.type?t=this.workspace:"Form"===this.type?t=this.form:"Folder"===this.type?t=this.folder:"Task"===this.type?t=this.task:"Workflow"===this.type?t=this.workflow:"User"===this.type?t=this.user:"Group"===this.type&&(t=this.group),this.showSearchOptions?this.$router.replace({name:"search",query:{type:this.type,name:t}}):(this.searchInput.fromDate=this.fromDate,this.searchInput.toDate=this.toDate,"search"===this.$route.name?(this.$route.params.searchInput=this.searchInput,O["a"].commit("setSearchInput",this.searchInput)):this.$router.replace({name:"search",params:{searchInput:this.searchInput}})),this.showSearchMenu=!1},async getGlobalSearch(t){let e=this.typeList.filter(t=>t.isSelectMenu),i=[];e.forEach(t=>{i.push(t.value)});let s=[];s=t||(e.length?i:[""]);let a={SearchValue:this.search,type:s,itemsPerPage:10,currentPage:1,fromDate:this.fromDate,toDate:this.toDate,userId:this.$store.state.session.id};this.searchInput=a,this.isLoadingActive=!0;const{error:o,payload:r}=await D["h"].globalSearch(a);if(this.isLoadingActive=!1,o)return void this.$alert.error(o);console.log(r);let n=r;this.totalItems=r.meta.totalItems,n.data&&(console.log(n.data),n.data.length?(this.searchResult=[],n.data.forEach(t=>{this.searchResult.push({menu:t.type,searchName:"Documents"===t.type?t.ifileName:t.name,idJson:t.id,description:t.description?t.description:t.type,requestNo:t.requestNo,date:t.modifiedDateandtime?this.$day.format(t.modifiedDateandtime):this.$day.format(t.dateandtime)})})):this.searchResult=[])},getMenuIcon(t){switch(t){case"Folders":return"eva-archive-outline";case"WorkFlow":return"o_account_tree";case"Task":return"eva-cube-outline";case"Portal":return"eva-globe-outline";case"Form":return"mdi-text-box-outline";case"Settings":return"eva-settings-2-outline";case"Report":return"eva-pie-chart-outline";case"Documents":return"mdi-file-document-outline";case"Menu":return"mdi-menu";case"Content":return"mdi-file-document-outline";case"Request No":return"o_account_tree";default:return"o_dashboard"}},goto(t){console.log(t),t.idJson.itemId&&"Request No"!==t.menu?(this.getRepositoryField(t.idJson.repositoryId),this.getFile(t.idJson.repositoryId,t.idJson.itemId)):t.idJson.workflwId&&"Request No"===t.menu?this.getWorkflowData(t.idJson.workflowId,t.idJson.processId):"Folders"===t.menu?this.$router.replace({name:"repositories-browse",query:{workspaceId:t.idJson.workspaceId,repositoryId:t.idJson.repositoryId}}):"WorkFlow"===t.menu?this.$router.replace({name:"workflow-builder",params:{id:String(t.idJson.workflowId)}}):"Menu"===t.menu&&this.$router.replace({name:t.searchName})},async getFile(t,e){let i={repositoryId:t,parentNodeId:0,sortBy:{criteria:"",order:"ASC"},groupBy:"",filterBy:[{filters:[{id:this.$nano.id(),criteria:"itemid",condition:"IS_EQUALS_TO",value:e,dataType:"SHORT_TEXT"}],groupCondition:""}],currentPage:1,itemsPerPage:100,mode:"BROWSE",level:1};const{error:s,payload:a}=await D["p"].getEntities(i);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(console.log(a),a.data[0].value.length){let t=a.data[0].value;console.log(t);let i=t.find(t=>t.id===Number(e));console.log(i),this.selectFile=i,this.isFileSheetVisible=!0}},async getRepositoryField(t){const{error:e,payload:i}=await D["p"].getRepositoryField({criteria:"repositoryId",value:t});e?this.$alert.error(e):this.repositoryField=i},async getWorkflowData(t,e){this.workflowTicketList=[];const{error:i,payload:s}=await D["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:100,currentPage:1,mode:""});this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(s.data.forEach(t=>{t.value.forEach(t=>{this.workflowTicketList.push({...t})})}),console.log(this.workflowTicketList),this.selectedProcess=this.workflowTicketList.find(t=>t.processId===Number(e)),await this.getWorkflow(t,e))},async getWorkflow(t,e){this.workflowId=t;const{error:i,payload:s}=await D["t"].getWorkflow(t);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(console.log(s),console.log(s.wFormId),this.workflows=s,this.formId=String(s.wFormId),await this.getForm(e))},async getForm(t){if(this.formId){const{error:t,payload:e}=await D["g"].getForm(this.formId);if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.forms=i}this.processId=Number(t)},reset(){this.search="",this.fromDate="",this.toDate=""}}},N=E,$=(i("2d9d"),i("2c91")),R=i("4e73"),z=i("93dc"),q=i.n(z),V=Object(h["a"])(N,T,L,!1,null,"48781ddd",null),j=V.exports;q()(V,"components",{QSpace:$["a"],QMenu:R["a"]});var W=i("fd26"),H=function(){var t=this,e=t._self._c;return e("div",[e("BaseActionButton",{attrs:{"is-flat":"",icon:"mdi-bell-outline","no-border":""},on:{click:t.openNotification}},[t.alertNotification?e("Pulse",{staticClass:"pulse"}):t._e()],1),e("Sheet",{attrs:{width:"40vw"},on:{input:function(e){t.notificationSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Notifications ")]},proxy:!0},{key:"actions",fn:function(){return[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getNotifications()}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear all",expression:"'clear all'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-notification-clear-all",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.clearAllNotifications()}}})]},proxy:!0}]),model:{value:t.notificationSheet,callback:function(e){t.notificationSheet=e},expression:"notificationSheet"}},[e("div",{staticClass:"notificationData",attrs:{id:"content-wrapper"}},[t.notifyData.length?t._l(t.notifyData,(function(i){return e("div",{key:i.id,staticClass:"notificationContent",class:!1===i.readStatus?"unread":""},[e("div",{staticClass:"entry",on:{click:function(e){return t.openForm(i)}}},[e("div",{staticClass:"header"},[t._v(t._s(i.title))]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",{staticClass:"ellipsis"},[t._v(t._s(i.createdByEmail))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",{staticClass:"ellipsis"},[t._v(t._s(t.$day.format(i.createdAt)))]),e("div",{staticClass:"action"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-trash-can-outline",color:"red","is-flat":"",size:"20px"},on:{click:function(e){return t.deleteNotification(i.id)}}})],1)],1),e("div",{staticClass:"changes-meta"},["COMPLETED"==i.status||"SUCCESS"==i.status?[e("div",{staticClass:"text-green"},[t._v(t._s(i.status))])]:"PROCESSING"==i.status?[e("div",{staticClass:"text-orange"},[t._v(t._s(i.status))])]:"FAILED"==i.status?[e("div",{staticClass:"text-red"},[t._v(t._s(i.status))])]:[e("div",{staticClass:"text-secondary"},[t._v(t._s(i.status))])],e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),t.validateURL(i.remarks)?[e("a",{staticClass:"ellipsis",attrs:{href:i.remarks,target:"_blank"}},[t._v(t._s(i.remarks))])]:[e("span",{staticClass:"font-semibold"},[t._v(t._s(i.remarks))])]],2),e("div",{staticClass:"changes-meta"},[e("div",{staticClass:"action"},[t._v(t._s(t.duration(i.createdAt)))])])])])])})):e("div",{staticClass:"no-history"},[t._v("No data found")])],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.hasWflowInitiator?e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:t.subWorkflowName,color:"secondary"},on:{click:t.initiateSubWorkflow}}):t._e()]},proxy:!0},{key:"footer",fn:function(){return[t.actions.length?e("div",{staticClass:"footer row"},[e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}),t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1)],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess(i.value)?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.selectedProcess.processId,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[t.selectedProcess.processId&&t.attachmentList.length?[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")]:t._e(),(t.selectedProcess.processId&&t.selectedFileCount,t._e()),(t.selectedProcess.processId&&t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 250px)"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.checkList,(function(i){return[i.name?[i.attach?t._e():e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.isTenantArmgroup()?"calc(100vh - 190px)":"calc(100vh - 150px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[t.isTenantArmgroup()?e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$emit("addTask")}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantArmgroup()?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e(),e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionPasswordConfirm=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Action Password")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"passwordForm"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{"is-mandatory":"","is-readonly":t.isLoading,error:i[0],"auto-focus":!0},on:{enter:t.validatePassword},model:{value:t.actionUserPassword,callback:function(e){t.actionUserPassword=e},expression:"actionUserPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"validate","is-loading":t.isLoading},on:{click:t.validatePassword}})]},proxy:!0}]),model:{value:t.actionPasswordConfirm,callback:function(e){t.actionPasswordConfirm=e},expression:"actionPasswordConfirm"}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeSubProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Linked Request ")]},proxy:!0}]),model:{value:t.subProcessSheet,callback:function(e){t.subProcessSheet=e},expression:"subProcessSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.subProcessTickets,(function(i,s){return[e("div",{key:s,staticClass:"subProcess"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"o_account_tree",color:"primary-4"}})],1),e("div",{staticClass:"col ellipsis text-underline",on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo)+" ")]),"1"===i.flowStatus?e("q-chip",{attrs:{size:"10px",color:"green","text-color":"white"}},[t._v(" Completed ")]):e("q-chip",{attrs:{size:"10px",color:"orange","text-color":"white"}},[t._v(" Running ")])],1),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(i.name))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.duration)+" ago")])],1)]),t._e()])]}))],2)]),e("SubWorkflowProcess",{attrs:{"workflow-id":t.subWorkflowId||t.subProcessData.id,"initiate-sub-workflow-process":t.initiateSubWorkflowProcess,"main-workflow-id":t.workflowId,"main-process-id":t.selectedProcess.processId,"sub-process-link":t.subProcessLink,"selected-process":t.subProcessData,"open-sub-process":t.openSubProcessSheet,"main-form-fields":t.formFields,"main-form-model":t.formModel,"sub-process-id":t.subProcessId},on:{"update:subProcessId":function(e){t.subProcessId=e},"update:sub-process-id":function(e){t.subProcessId=e},closeProcessSheet:t.closeSubProcess}}),t.showFormEntryHistoryModal?e("FormEntryHistory",{attrs:{value:t.showFormEntryHistoryModal,"workflow-id":t.workflow.id,"process-id":t.selectedProcess.processId},on:{"update:value":function(e){t.showFormEntryHistoryModal=e}}}):t._e(),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"inbox","initiate-process":!1,"form-check-list":!1,"check-list":t.checkList,wform:t.wform,"repository-details":{},"workflow-model":{},"form-upload-files":[],"repository-field":[],columns:[],attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":"inbox","initiate-process":!1,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":[],comments:t.commentsList,"display-internal-public":!1},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},X=[],Y=i("5a6e"),G=Y["a"],U=(i("b97e"),i("b047")),J=i("cb32"),K=i("8169"),Z=Object(h["a"])(G,H,X,!1,null,"e67e8e24",null),Q=Z.exports;q()(Z,"components",{QChip:U["a"],QAvatar:J["a"],QChatMessage:K["a"],QMenu:R["a"]});var tt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"account"}},[e("div",{attrs:{id:"user-avatar"},on:{click:function(e){t.profileSheet=!0}}},[e("img",{attrs:{src:t.imageURL(),alt:"avatar"}})]),e("Sheet",{attrs:{width:"25vw","has-footer":!1},on:{input:function(e){t.profileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Profile ")]},proxy:!0}]),model:{value:t.profileSheet,callback:function(e){t.profileSheet=e},expression:"profileSheet"}},[e("div",{staticClass:"profileData",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-mt-sm q-mb-sm"},[e("div",{staticClass:"text-center"},[e("div",{staticClass:"profile-avatar"},[e("img",{attrs:{src:t.imageURL(),alt:"avatar"}})]),e("div",{staticClass:"text-weight-bold q-mt-md"},[t.isAdUser?[t._v(" "+t._s(t.$store.state.session.firstName)+" "+t._s(t.$store.state.session.lastName)+" ")]:[t._v(" "+t._s(t.$store.state.session.email)+" ")]],2),e("div",{staticClass:"text-caption"},[t._v(" "+t._s(t.$store.state.session.role)+" ")])])]),t._l(t.menus,(function(i,s){return e("div",{key:s},[t._l(i,(function(i){return[i.required||!t.checkTenant?e("div",{key:i.label,staticClass:"row items-center hoverable",staticStyle:{height:"50px"},on:{click:i.action}},[e("div",{staticClass:"col-2 row items-center justify-center",staticStyle:{color:"var(--icon-color)"}},[e("q-icon",{attrs:{name:i.icon,size:"20px"}})],1),e("div",{staticClass:"col text-capitalize"},[t._v(" "+t._s(i.label)+" ")])]):t._e()]})),s!==t.menus.length-1?e("q-separator",{attrs:{inset:"",color:"grey-2"}}):t._e()],2)}))],2)]),e("Modal",{attrs:{width:"30vw",height:"70vh","has-footer":""},on:{input:function(e){t.changePasswordModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Change Password")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"changePassword"}},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-lg",attrs:{label:"password","is-mandatory":"",tooltip:t._passwordHint,error:i[0]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])}),e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-lg",attrs:{label:"confirm password","is-mandatory":"","is-readonly":t.isLoading,tooltip:t._passwordHint,error:i[0]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Update",color:"primary"},on:{click:t.updatePassword}})]},proxy:!0}]),model:{value:t.changePasswordModal,callback:function(e){t.changePasswordModal=e},expression:"changePasswordModal"}}),e("Modal",{attrs:{width:"30vw",height:"70vh","has-footer":""},on:{input:function(e){t.changeIdentityModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Change Identity")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"changePhoto"}},[e("ValidationProvider",{attrs:{name:"upload image",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("ImageField",{attrs:{label:"upload image","is-mandatory":!0,error:i[0]},model:{value:t.uploadImage,callback:function(e){t.uploadImage=e},expression:"uploadImage"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-md",attrs:{label:"Remove",color:"red"},on:{click:t.removeImage}}),e("BaseButton",{attrs:{label:"Update",color:"primary"},on:{click:t.updateImage}})]},proxy:!0}]),model:{value:t.changeIdentityModal,callback:function(e){t.changeIdentityModal=e},expression:"changeIdentityModal"}})],1)},et=[],it=i("381e"),st=i("6a70"),at=i("7bb1"),ot=i("8bc3"),rt=i("0c6e"),nt=i("6f00"),lt={name:"Account",components:{Sheet:it["a"],Modal:st["a"],ValidationProvider:at["b"],PasswordField:ot["a"],ImageField:nt["a"]},data(){return{profileSheet:!1,menus:[[{icon:"eva-person-outline",label:"change identity",action:this.changeIdentity,required:!1},{icon:"eva-lock-outline",label:"change password",action:this.changePassword,required:!1},{icon:"mdi-clipboard-text-outline",label:"Terms of Use",action:this.showTermsOfUse,required:!0},{icon:"eva-shield-outline",label:"Privacy Policy",action:this.showPrivacyPolicy,required:!0}],[{icon:"eva-log-out",label:"Log Out",action:this.logOut,required:!0}]],password:"",confirmPassword:"",changePasswordModal:!1,changeIdentityModal:!1,uploadImage:""}},computed:{_passwordHint(){return rt["a"]},checkTenant(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t},isAdUser(){let t=location.origin;return"http://172.16.1.118"===t}},methods:{logOut(){window.localStorage.clear(),this.$router.push({name:"signIn"})},changePassword(){this.changePasswordModal=!0},showTermsOfUse(){window.open("https://www.ezofis.com/privacy-policy/")},showPrivacyPolicy(){window.open("https://www.ezofis.com/privacy-policy/")},changeIdentity(){this.changeIdentityModal=!0},viewProfile(){this.showUserSheet()},imageURL(){return`https://appuat.ezofis.com/ezofisapi/api/user/avatar/${this.$store.state.session.tenantId}/${this.$store.state.session.id}?t=${(new Date).getTime()}`},async updatePassword(){if(this.password===this.confirmPassword){this.$store.commit("showLoadingBar");let t={password:this.password};const{error:e}=await D["s"].updateUser(this.$store.state.session.id,t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);this.$alert.success("Password updated"),this.changePasswordModal=!1,this.password="",this.confirmPassword=""}else this.$alert.warning("password not matched")},async updateImage(){this.$store.commit("showLoadingBar");let t={base64file:this.uploadImage.split(",")[1],fileType:"png"};const{error:e}=await D["s"].uploadImage(t);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):(this.$store.commit("hideLoadingBar"),this.changeIdentityModal=!1,this.uploadImage="")},async removeImage(){const{error:t}=await D["s"].removeImage(this.$store.state.session.tenantId,this.$store.state.session.id);t?this.$alert.error(t):(this.changeIdentityModal=!1,this.uploadImage="")}}},ct=lt,dt=(i("108c"),i("0016")),ht=i("eb85"),ut=Object(h["a"])(ct,tt,et,!1,null,"443b001b",null),pt=ut.exports;q()(ut,"components",{QIcon:dt["a"],QSeparator:ht["a"]});var mt={name:"Toolbar",components:{Legend:p,Logo:x,CustomerLogo:I,GlobalSearch:j,ThemeSwitcher:W["a"],Notifications:Q,Account:pt},computed:{customerLogo(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t||"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://172.16.1.118"===t},ezofisLogo(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t}},methods:{logOut(){window.localStorage.clear(),location.reload()}}},ft=mt,gt=(i("b2a7"),i("e359")),vt=i("65c6"),yt=Object(h["a"])(ft,o,r,!1,null,"ea69e05a",null),bt=yt.exports;q()(yt,"components",{QHeader:gt["a"],QToolbar:vt["a"],QSpace:$["a"]});var xt=function(){var t=this,e=t._self._c;return e("q-drawer",{attrs:{mini:t.miniDrawer,side:"left",width:240,"mini-width":52},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("div",{attrs:{id:"drawer"}},[t._l(t.menus,(function(i){return[i.access&&t.checkTenantMenu(i.label)?e("Menu",{key:i.id,attrs:{menu:i,"is-active":i.label===t.activeMenu},on:{click:function(e){return t.goto(i.route)}}}):t._e()]})),e("q-space"),t.checkTenant?e("Menu",{attrs:{menu:{label:"help center",icon:"mdi-help-circle-outline",activeIcon:"mdi-help-circle"}},on:{click:function(e){return t.goto("helpCenter")}}}):t._e()],2)])},wt=[],kt=function(){var t=this,e=t._self._c;return e("div",t._g({directives:[{name:"tooltip",rawName:"v-tooltip:secondary.right",value:t.menu.label,expression:"menu.label",arg:"secondary",modifiers:{right:!0}}],class:{active:t.isActive},attrs:{id:"menu"}},t.$listeners),[e("BaseIcon",{attrs:{name:t.isActive?t.menu.activeIcon:t.menu.icon,color:""}}),t.isActive?e("div",{staticClass:"indicator"}):t._e()],1)},Ct=[],St={name:"Menu",props:{menu:{type:Object,required:!0},isActive:{type:Boolean,default:!1}}},At=St,It=(i("2e65"),Object(h["a"])(At,kt,Ct,!1,null,"87127af4",null)),Tt=It.exports,Lt={name:"Drawer",components:{Menu:Tt},data(){return{drawer:!0,miniDrawer:!0,menus:[{id:this.$nano.id(),label:"dashboard",route:"dashboard",icon:"o_dashboard",activeIcon:"dashboard",access:!0},{id:this.$nano.id(),label:"workspaces",route:"workspaces-overview",icon:"mdi-briefcase-outline",activeIcon:"mdi-briefcase",access:!1},{id:this.$nano.id(),label:"folders",route:"repositories-browse",icon:"eva-archive-outline",activeIcon:"eva-archive",access:!0},{id:this.$nano.id(),label:"tasks",route:"tasks-overview",icon:"eva-cube-outline",activeIcon:"eva-cube",access:!1},{id:this.$nano.id(),label:"portals",route:"portals-browse",icon:"eva-globe-outline",activeIcon:"eva-globe",access:!1},{id:this.$nano.id(),label:"forms",route:"forms-overview",icon:"mdi-text-box-outline",activeIcon:"mdi-text-box",access:!1},{id:this.$nano.id(),label:"workflows",route:"workflows-inbox",icon:"o_account_tree",activeIcon:"account_tree",access:!0},{id:this.$nano.id(),label:"reports",route:"reports",icon:"eva-pie-chart-outline",activeIcon:"eva-pie-chart",access:!1},{id:this.$nano.id(),label:"settings",route:"settings",icon:"eva-settings-2-outline",activeIcon:"eva-settings-2",access:!1}],activeMenu:"",profileMenu:[]}},computed:{checkTenant(){let t=location.origin;return"https://demo.ezofis.com"===t||"http://52.172.32.88"===t||"http://localhost:8080"===t}},watch:{$route:{immediate:!0,handler(){"user"===this.$route.meta.menu||"group"===this.$route.meta.menu||"profile"===this.$route.meta.menu?this.activeMenu="settings":this.activeMenu=this.$route.meta.menu}}},created(){this.$store.state.session.profile&&(0===this.$store.state.profileMenus.length?this.getProfileMenu():this.menus.forEach(t=>{var e;t.access||(t.access=null===(e=this.$store.state.profileMenus.find(e=>e[t.label]))||void 0===e?void 0:e[t.label])}))},methods:{goto(t){this.$router.push({name:t})},checkTenantMenu(t){let e=location.origin;return"http://localhost:80801"!==e&&"http://10.16.7.1"!==e||("dashboard"===t||"workspaces"===t||"folders"===t||"tasks"===t||"settings"===t)},async getProfileMenu(){const{error:t,payload:e}=await D["n"].getProfileList(this.$store.state.session.profile.id);t?this.$alert.error(t):(this.profileMenu=e?JSON.parse(e.menuOptions):[],this.menus.forEach(t=>{var e;t.access||(t.access=null===(e=this.profileMenu.find(e=>e[t.label]))||void 0===e?void 0:e[t.label])}),O["a"].commit("setProfileMenu",this.profileMenu))}}},Pt=Lt,_t=(i("b591"),i("9404")),Mt=Object(h["a"])(Pt,xt,wt,!1,null,"5cfd261b",null),Ft=Mt.exports;q()(Mt,"components",{QDrawer:_t["a"],QSpace:$["a"]});var Dt={name:"AppLayout",components:{Toolbar:bt,Drawer:Ft}},Bt=Dt,Ot=i("4d5a"),Et=i("09e3"),Nt=Object(h["a"])(Bt,s,a,!1,null,"afde89cc",null);e["a"]=Nt.exports;q()(Nt,"components",{QLayout:Ot["a"],QPageContainer:Et["a"]})},"5ab0":function(t,e,i){"use strict";i("a945")},"5b8f":function(t,e,i){"use strict";i("affa")},"5c3a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("AppLayout",[e("ViewWrapper",{attrs:{title:"Dashboard",breadcrumbs:[],tab:"",tabs:[]},on:{quickHelp:t.showQuickHelp},scopedSlots:t._u([{key:"header-actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:t.getFilterList}}),t.workflowList.length>1?e("div",{staticClass:"item-list"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"label"},[t._v(t._s(t.selectedFilter))]),e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-chevron-down","inherit-color":""}})],1),e("q-menu",{attrs:{fit:"","auto-close":"","transition-show":"scale","transition-hide":"scale"}})],1):t._e()]},proxy:!0}])},[e("QuickHelp",{model:{value:t.quickHelp,callback:function(e){t.quickHelp=e},expression:"quickHelp"}}),t.extraContent?e("div",{attrs:{id:"search"}},[e("div",{staticClass:"row q-col-gutter-md"},[t._e(),t._l(t.workflowCountChart,(function(i,s){return[e("div",{key:s,staticClass:"col-4"},[e("div",{staticClass:"card chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[t._v(" "+t._s(s)+" ")]),e("div",{staticClass:"column"},[e("div",{staticClass:"col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(i.totalCount)+" ")]),e("div",{staticClass:"col self-center"},[e("BaseIcon",{attrs:{name:"mdi-triangle",color:"positive"}}),t._v(" "+t._s(Math.round(i.todayCount/i.totalCount*100)||0)+" % increase previous day : "+t._s(i.todayCount)+" ")],1)])])])]})),e("div",{staticClass:"col-3"},[e("div",{staticClass:"card q-pa-md piechart"},[e("div",{staticClass:"row items-center header"},[t._v("Recent Submissions")]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 435px)"}},[t._l(t.recentWorkflowListData,(function(i,s){return[i.duration.split(" ")[0]<=24&&("hours"==i.duration.split(" ")[1]||"hour"==i.duration.split(" ")[1]||"minutes"==i.duration.split(" ")[1])?e("div",{key:s,staticClass:"row items-center q-my-sm"},["Inbox"==i.type?e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"warning"}}):"Process"==i.type?e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-loader-outline",color:"secondary"}}):e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-checkmark-circle-2-outline",color:"positive"}}),e("div",{staticClass:"col"},[t._v(t._s(i.requestNo))]),e("div",{staticClass:"col-auto row"},[e("div",{staticClass:"q-mr-md"},[t._v(t._s(i.duration))])])],1):t._e()]}))],2)],1)]),e("div",{staticClass:"col-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"row items-center header"},[t._v("Open vs Close")]),e("apexchart",{attrs:{height:"100%",type:"donut",options:t.openCloseChartOptions,series:t.openCloseChartSeries}})],1)]),4===t.selectWorkflow&&t.checkTenant?e("div",{staticClass:"col-3"},[e("div",{staticClass:"card piechart"},[e("div",{staticClass:"row items-center header"},[t._v("Workflow Count by Month")]),e("apexchart",{attrs:{height:"100%",type:"donut",options:t.stockChartOptions,series:t.stockChartSeries}})],1)]):t._e(),e("div",{staticClass:"col-6"},[e("div",{staticClass:"card piechart"},[e("div",{staticClass:"row items-center header"},[t._v("Workflow Count by Month")]),e("apexchart",{attrs:{type:"line",height:"90%",options:t.workflowMonthChartOptions,series:t.workflowMonthSeries}})],1),4===t.selectWorkflow&&t.checkTenant?e("div",{staticClass:"card"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getSignodeChart(4)}}},[t._v(" Month ")]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getSignodeChart(4,t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refChartSignode",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1):t._e()])],2)]):t._e(),e("BaseScrollbar",{attrs:{height:"calc(100vh - 150px)"}},[t.loadingBar?e("DashboardLoadingBar"):e("div",{staticClass:"container q-pt-sm"},[e("div",[e("draggable",{staticClass:"row",on:{end:t.onDragEnd},model:{value:t.WfilterList,callback:function(e){t.WfilterList=e},expression:"WfilterList"}},t._l(t.WfilterList,(function(i){return e("div",{key:i.id,staticClass:"col",class:t.getItemClass(i),staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},["repositoryActivityReport"===i.filterFrom||"repositoryOcrReport"===i.filterFrom||"workflowReport"===i.filterFrom||"repositorySignReport"===i.filterFrom?[e("DashboardFilterView",{attrs:{"filter-item":i,"listed-data":t.listedData},on:{delete:t.getFilterList}})]:t._e(),"workflowInbox"===i.filterFrom?[e("WorkflowInbox",{attrs:{"filter-item":i,"listed-data":t.inboxData},on:{delete:t.getFilterList}})]:t._e(),"workflowOverview"===i.filterFrom?[e("WorkflowRequest",{attrs:{"filter-item":i,"listed-data":t.requestData},on:{delete:t.getFilterList}})]:t._e(),"repositoryOverview"===i.filterFrom?[e("DashboaardRepositoryOverview",{attrs:{item:i,"listed-data":t.DashboaardRepositoryOverviewData},on:{delete:t.getFilterList}})]:t._e()],2)})),0)],1)])],1),t.extraContent?e("ViewDetails",{attrs:{"workflow-details-list":t.workflowDetailsList,"selected-workflow":t.selectedWorkflow},on:{close:function(e){t.viewDetailsModal=!1}},model:{value:t.viewDetailsModal,callback:function(e){t.viewDetailsModal=e},expression:"viewDetailsModal"}}):t._e()],1)],1)},a=[],o=(i("14d9"),i("caad"),i("5a75")),r=i("b822"),n=i("36b4"),l=i("1b0d"),c=i("604f"),d=i.n(c),h=i("2f62"),u=i("4523"),p=i.n(u),m=i("ea7f"),f=i.n(m),g=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"720px"},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.selectedWorkflow.name)+" List")]}))]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md",attrs:{id:"table-field"}},[e("BaseScrollbar",{staticClass:"q-pb-sm"},[e("table",[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.name,staticClass:"large"},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.workflowDetailsList,(function(i){return e("tr",{key:i},t._l(t.columns,(function(s){return e("td",{key:s.name},["raisedAt"==s.name||"transaction_createdAt"==s.name?[t._v(" "+t._s(t.$day.format(i[s.name]))+" ")]:[t._v(" "+t._s(i[s.name])+" ")]],2)})),0)})),0)])])],1)]},proxy:!0}],null,!0)})},v=[],y=i("381e"),b=i("874f"),x=i("9996"),w={name:"ViewDetails",components:{Sheet:y["a"]},props:{value:{type:Boolean,default:!1},selectedWorkflow:{type:Object,required:!0},workflowDetailsList:{type:Array,default:()=>[]}},data(){return{columns:[]}},computed:{},watch:{workflowDetailsList:{deep:!0,handler(){this.columns=[];for(const t in this.workflowDetailsList[0])"processId"!==t&&"transactionId"!==t&&"activityId"!==t&&"ruleId"!==t&&"FormData"!==t&&"flowStatus"!==t&&this.columns.push({name:t,label:Object(b["a"])(Object(x["a"])(t))})}}},methods:{closeSheet(){this.$emit("close",!1)},isValidDate(t){var e=new Date(t);return console.log(e),!isNaN(e.getDate())}}},k=w,C=(i("9758"),i("2877")),S=Object(C["a"])(k,g,v,!1,null,"06749bb2",null),A=S.exports,I=i("0319"),T=i.n(I),L=function(){var t=this,e=t._self._c;return t.expand?e("div",{attrs:{id:"repository-reports"}},[e("div",{staticClass:"row",staticStyle:{cursor:"pointer","border-bottom":"1px solid var(--divider-color)"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.findIcon.iconTootip,expression:"findIcon.iconTootip",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:t.findIcon.icon,color:t.findIcon.color,size:"20px"}})],1),e("span",{staticClass:"col text-base font-bold text-uppercase items-center text-black"},[t._v(t._s(t.findValue.name)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold text-uppercase items-center",staticStyle:{color:"#475569",width:"100%"}},[t._v(" "+t._s(t.findValue.description)+" ")])]),t.filterContains.length?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-xs col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent"},t._l(t.filterContains,(function(i,s){return e("div",{key:s,staticClass:"col-12 q-mr-sm row items-center filerItem"},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.criteria))]),e("span",{staticClass:"q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"40px","border-right":"0px"}},[t._v(" "+t._s(i.condition))]),e("span",{staticClass:"q-mr-sm q-ml-sm q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center text-align-right",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.value))])])})),0)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"export",expression:"'export'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return e.stopPropagation(),t.export_Data.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"close",expression:"'close'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-upward-outline"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"UnPin",expression:"'UnPin'",modifiers:{bottom:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}})],1),t.loadingBarContent?e("div",[e("ProgressBar",{attrs:{"container-height":"75vh","container-color":"white","progress-bars":t.progressBars}})],1):e("div",[e("div",{staticClass:"content"},[t.repositoryReportList.length||t.repositoryOcrReportListData.length||t.repositorySignReportListData.length?e("DashboardFilterList",{attrs:{flength:t.length,mode:t.mode,items:t.items,columns:t.columns},on:{view:t.openFile}}):t.workflowRequestList.length?e("ReportList",{attrs:{mode:t.mode,items:t.items,columns:t.columns,lists:t.list,form:t.form},on:{open:t.openProcess,history:t.openHistory,attachments:t.openAttachments,comments:t.openComments,viewFile:t.openFiles,openSubWorkflow:t.updateSelectedSubWorkflow,subHistory:t.showSubHistory,subComments:t.openSubComments,subAttachments:t.openSubAttachments}}):e("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"eva-archive-outline",title:"Generate Report",description:"Select workspace and repository to display data"}})],1),t.repositoryReportList.length||t.repositoryOcrReportListData.length||t.workflowRequestList.length?e("Pagination",{attrs:{"total-items":t.totalItems,"current-page":t.currentPage,"items-per-page":t.itemsPerPage,"file-sheet":t.hideFileSheet},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}}}):t._e(),e("FileSheet",{attrs:{file:t.selectedFile,"repository-field":t.repositoryField,options:t.options},model:{value:t.isFileSheetVisible,callback:function(e){t.isFileSheetVisible=e},expression:"isFileSheetVisible"}}),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}],null,!1,370123325),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-2"}})]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",upload:!1,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-xs",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0}],null,!1,3143328066),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",[t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFiles(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFilesData(i)}}})],1)])])]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$emit("addTask")}}})]},proxy:!0}],null,!1,2145968311),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),e("FileDetails",{attrs:{"file-data":t.filesData},on:{input:function(e){t.fileDetailsSheet=!1}},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),t.selectedFile.createdAt&&t.selectedFile.createdByEmail?e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1):t._e()])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}],null,!1,3588165478),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i)}}})})),1)],1)],1):t._e(),t.formView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}})]},proxy:!0}],null,!1,2475617062),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.formId?e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[t.formView?[t.formId&&t.form?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"is-readonly":!0,"enable-controls":t._enableControls},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}}):t._e()]:[e("div",{staticClass:"col-12 q-mb-sm q-pt-md stepper"},[e("Stepper",{attrs:{"stage-level":t.stageLevel,"current-step":t.currentStep}})],1),e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col q-pa-md"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.selectedProcess.createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.selectedProcess.createdByName)+" ")])]):t._e(),e("tr",[t.selectedProcess.raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.selectedProcess.raisedBy?e("td",[t._v(" "+t._s(t.selectedProcess.raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.selectedProcess.transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 320px)"}},[[e("table",{staticClass:"mainData col-12"},[t._l(t.selectedProcess.formData.fields,(function(i,s){return[i?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableValue(i)[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(t.getLabel(s,"table"))+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]}))],2)]],2)],1)])])])]],2)],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e(),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return["TASK"!==i.value||"TASK"===i.value&&t.addTaskEnabled?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}],null,!1,3244485873),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("ConfirmDelete",{attrs:{label:t.findValue.name,"delete-data":t.deleteData},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1)]):e("div",{staticClass:"text-base font-bold items-center text-black row col-12",staticStyle:{cursor:"pointer"},attrs:{id:"repository-reports"},on:{click:t.findItem}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.findIcon.iconTootip,expression:"findIcon.iconTootip",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:t.findIcon.icon,color:t.findIcon.color,size:"20px"}})],1),e("span",{staticClass:"col text-base font-bold text-uppercase items-center text-black"},[t._v(t._s(t.findValue.name)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold text-uppercase items-center",staticStyle:{color:"#475569",width:"100%"}},[t._v(" "+t._s(t.findValue.description)+" ")])]),t.filterContains.length?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-xs col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent",on:{click:function(t){t.stopPropagation()}}},t._l(t.filterContains,(function(i,s){return e("div",{key:s,staticClass:"col-12 q-mr-sm row items-center filerItem"},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.criteria))]),e("span",{staticClass:"q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"40px","border-right":"0px"}},[t._v(" "+t._s(i.condition))]),e("span",{staticClass:"q-mr-sm q-ml-sm q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center text-align-right",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.value))])])})),0)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"export",expression:"'export'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return e.stopPropagation(),t.export_Data.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"open",expression:"'open'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-downward-outline"},on:{click:function(e){return e.stopPropagation(),t.findItem.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"UnPin",expression:"'UnPin'",modifiers:{bottom:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}}),e("ConfirmDelete",{attrs:{label:t.findValue.name,"delete-data":t.deleteData},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1)},P=[],_=function(){var t=this,e=t._self._c;return e("ItemList",{attrs:{columns:t.columns,items:t.items,mode:t.mode,report:!0},on:{select:t.handleOpenFile}})},M=[],F=i("f92f"),D={name:"ReportList",components:{ItemList:F["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{handleOpenFile(t,e){this.$emit("view",t,e)}}},B=D,O=Object(C["a"])(B,_,M,!1,null,"11c1d3ec",null),E=O.exports,N=i("381b"),$=i("c49c"),R=i("b6d2"),z=i("42fc"),q=i("7104"),V=i("a7d2"),j=i("c1cb"),W=i("8505"),H=i("dd90"),X=i("4bc4"),Y=i("0006"),G=i("fa1f"),U=i("cade"),J=i("b94d"),K=i("abe1"),Z=i("46ab"),Q=i("6e8c"),tt={name:"DashboardFilterReport",components:{StateWrapper:$["a"],Pagination:R["a"],FileSheet:q["a"],DashboardFilterList:E,ReportList:j["a"],ProcessHistory:W["a"],Sheet:y["a"],RenderForm:X["a"],Stepper:Y["a"],FileIcon:G["a"],ListItem:U["a"],Tabs:J["a"],FileDetails:K["a"],ProgressBar:Z["a"],ConfirmDelete:Q["a"]},props:{filterItem:{type:Object,required:!0},listedData:{type:Array,required:!0}},data(){return{mode:"REPORT",sortBy:{criteria:"",order:"ASC"},breadcrumbs:[{id:this.$nano.id(),label:"dashboard",route:"dashboard"},{id:this.$nano.id(),label:"folders",route:"repositories-browse"},{id:this.$nano.id(),label:"reports",route:"repositories-reports-overview"},{id:this.$nano.id(),label:"activity",route:""}],tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0}],columns:[],groupBy:"",filterBy:[],totalItems:0,itemsPerPage:10,currentPage:1,hideFileSheet:!1,userList:[],workspaceId:0,workspaceList:[],itemId:0,repositoryId:0,repositoriesList:[],reportList:[],repositoryReportList:[],repositoryReportListData:[],repositoryDetails:{},repositoryField:[],options:{},selectedFile:{},isFileSheetVisible:!1,loadingBarContent:!1,exportDataList:[],activities:[],issavesheet:!1,showFilterList:!1,WfilterList:[],filterId:"",savedList:[],savedListData:[],selectedIds:0,filterListData:[],filterFrom:"",length:0,findValue:{},expand:!1,repositoryOcrReportList:[],repositoryOcrReportListData:[],workflowRequestList:[],workflowRequestListData:[],formId:"",formFields:[],slaSettings:0,checkList:[],stages:[],processLevel:[],selectedProcess:{},historyProcessId:0,commentsSheet:!1,attachmentSheet:!1,attachmentList:[],commentsList:[],taskSheet:!1,taskEntries:[],fileSheet:!1,processSheet:!1,itemModel:{},formModel:{},formView:!0,stageLevel:[],currentStep:0,headerTitle:"",documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],workflowFormModel:{},saveAction:"",form:null,addTaskEnabled:!1,taskFormId:0,taskRepositoryId:0,addTaskForm:{},mailTransactionSheet:!1,mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",mailTransactionList:[],workflowList:[],filesData:[],fileDetailsSheet:!1,repositorySignReportList:[],repositorySignReportListData:[],filterContains:[],progressBars:[{width:"20%"},{width:"30%"},{width:"50%"},{width:"30%"},{width:"50%"},{width:"70%"},{width:"20%"},{width:"30%"},{width:"50%"},{width:"30%"},{width:"50%"},{width:"70%"},{width:"20%"},{width:"30%"},{width:"50%"}],findIcon:{},deleteData:{},isDeleteConfirmationVisible:!1}},computed:{_columns(){let t=[{id:this.$nano.id(),name:"ifileName",label:"File Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"activityId",label:"Activity",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"activityUserEmail",label:"Activity User Email",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"activityOn",label:"Activity On",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].DATE},{id:this.$nano.id(),name:"filesize",label:"Size",isVisible:!0,isSortable:!0,isGroupable:!0,isFilter:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdAt",label:"Created At",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].DATE},{id:this.$nano.id(),name:"version",label:"Version",isVisible:!0,isSortable:!0,isGroupable:!0,isFilter:!1,dataType:N["a"].SHORT_TEXT}];return this.repositoryField.forEach(e=>{t.push({id:this.$nano.id(),label:e.name,name:e.name,dataType:e.dataType,isVisible:!0,isSortable:!0,isGroupable:!1})}),t},items(){return"repositoryActivityReport"===this.filterFrom?this.repositoryReportListData.map(({key:t,value:e})=>({key:"",value:t,data:e.map(t=>({icon:"mdi-text-box",id:t.rNo,itemId:t.itemId,link:!0,ifileName:t.ifileName,activity:t.activity,email:t.email,activityOn:this.$day.format(t.activityOn),filesize:"",createdAt:this.$day.format(t.createdAt),version:t.fileVersion,...this.getFileData(t)}))})):"repositoryOcrReport"===this.filterFrom?this.repositoryOcrReportListData.map(({key:t,value:e})=>({key:"",value:t,data:e.map(t=>({icon:"mdi-text-box",itemId:t.itemId,link:!0,fileName:t.fileName,fileSize:"",totalPage:t.totalPage,fileStatus:t.fileStatus,processedPages:t.processedPages,ocrType:t.ocrType,processedOn:this.$day.format(t.processedOn),processedBy:t.processedBy}))})):"workflowReport"===this.filterFrom?this.workflowRequestList.map(({key:t,value:e})=>({key:"",value:t,data:e.map(t=>({icon:1==t.flowStatus?"mdi-check-circle-outline":"mdi-progress-clock",color:1==t.flowStatus?"green":"orange",iconTooltip:1==t.flowStatus?"Completed":"In-progress",link:!0,id:t.processId,processId:t.processId,requestNo:t.requestNo,raisedBy:t.raisedBy,raisedAt:this.$day.format(t.raisedAt),stage:t.stage,lastActionBy:t.transaction_createdByEmail,lastActionOn:this.$day.format(t.transaction_createdAt),actionUser:t.activityUserEmail,duration:1==t.flowStatus?this.daysOpen(t):"",daysOpen:0==t.flowStatus?this.daysOpen(t):"",attachmentCount:t.attachmentCount,commentsCount:t.commentsCount,jiraIssueInfo:t.jiraIssueInfo,...this.getResponseData(t.slaResponse),...this.getResolutionData(t.slaResolution),...this.getFormData(t),subWorkflow:t.subworkflowTransaction.map(e=>({activityId:e.activityId,userId:e.activityUserId,color:1==e.flowStatus?"green":"orange",iconTooltip:1==e.flowStatus?"Completed":"In-progress",icon:1==e.flowStatus?"mdi-check-circle-outline":"mdi-progress-clock",processId:e.processId,raisedAt:this.$day.format(e.raisedAt),parentProcessID:t.processId,raisedBy:e.raisedBy,raisedByUser:e.raisedByUserId,requestNo:e.requestNo,review:e.review,stageName:e.stageName,id:e.subWorkFlowId,stageType:e.stageType,stage:e.stageName,subWorkFlowId:e.subWorkFlowId,subWorkflowName:e.subWorkflowName,transactionId:e.transactionId,inbox:String(e.activityUserId)===String(this.$store.state.session.id),attachmentsCount:e.attachmentCount,commentsCount:e.commentsCount,displaySubTable:!1,actionUser:e.activityUserEmail}))}))})):"repositorySignReport"===this.filterFrom?this.repositorySignReportListData.map(({key:t,value:e})=>({key:"",value:t,data:e.map(t=>({icon:"Running"===t.status?"eva-clock-outline":"eva-checkmark-circle-2-outline",color:t.status?"orange":"green ",iconTooltip:t.status?"Processing":"Completed ",itemId:t.itemId,link:!0,fileName:t.fileName,fileSize:t.fileSize?Object(V["a"])(t.fileSize):"",fileStatus:t.status,signType:t.signType,requestedAt:this.$day.format(t.requestedAt),requestedBy:t.requestedByEmail,version:t.version,currentUser:t.currentUser,Stage:t.stageName,pId:t.processId,wId:t.workflowId}))})):[]},panels(){return this.form?this.form.panels:[]},secondaryPanels(){return this.form?this.form.secondaryPanels:[]},formSettings(){return this.form?this.form.settings:{}},checkListTemplate(){return!!this.checkList.length&&this.checkList.filter(t=>t.template).length>0},_enableControls(){let t=[],e=[];return this.form?(this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}):{}},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{item:{immediate:!0,deep:!0,handler(){if(this.filterItem){this.findValue=this.filterItem,this.expand=this.findValue.expand;let t=JSON.parse(this.filterItem.filter),e=JSON.parse(t[0].filters);if(console.log(e,"filters"),e.length){const t={IS_EQUALS_TO:"=",CONTAINS:"()",is_greater_than:">"},i=e.flatMap(e=>e.filters.map(e=>({criteria:e.selectedCriteria||e.criteria,condition:t[e.condition]||e.condition,value:e.selectedValue||e.value})));this.filterContains=i,console.log(i,"filterss")}let i=this.findValue.filterFrom;"repositoryActivityReport"===i?this.findIcon={icon:"mdi-file-table",iconTootip:"Repository Activity Report",color:"orange"}:"repositoryOcrReport"===i?this.findIcon={icon:"mdi-file-table-box",iconTootip:"Data Capture Report",color:"purple"}:"workflowReport"===i?(this.findIcon={icon:"mdi-chart-timeline-variant-shimmer",iconTootip:"Workflow Report",color:"yellow"},this.iconTootip="Payment"):"repositorySignReport"===i&&(this.findIcon={icon:"mdi-draw",iconTootip:"Repository Sign Report",color:"green"},this.iconTootip="Completed")}}},$route:{immediate:!0,deep:!0,handler(){const t=this.breadcrumbs.length-1;this.breadcrumbs[t].label=this.$route.meta.breadcrumb}},workspaceId:{deep:!0,immediate:!0,handler(){this.clearData(),this.workspaceId&&this.getRepositories()}},repositoryId:{deep:!0,immediate:!0,async handler(){this.repositoryReportList=[],this.repositoryOcrReportListData=[],this.repositoryId&&this.filterFrom||this.repositoryId&&(await this.getRepository(),this.getRepositoryData())}},filterId:{deep:!0,immediate:!0,async handler(){"-1"===this.filterId?(this.showFilterList=!0,this.getFilterData()):this.filterId?(this.showFilterList=!1,this.filterList(),this.selectedIds=this.filterId):this.filterId||(this.showFilterList=!1,this.repositoryReportList=[])}},itemsPerPage:{deep:!0,immediate:!0,handler(){this.workspaceId&&this.repositoryId&&this.itemsPerPage&&this.getRepositoryData()}},currentPage:{deep:!0,immediate:!0,handler(){this.workspaceId&&this.repositoryId&&this.currentPage&&this.getRepositoryData()}}},created(){this.getWorkspaces(),this.getUsers(),this.getActivityList()},methods:{refreshData(){this.workspaceId&&this.repositoryId?this.getRepositoryData():this.workspaceId&&this.getRepositories()},deleteItem(){this.listedData.map(t=>{t.name===this.findValue.label&&(this.isDeleteConfirmationVisible=!0,console.log(t,"itemss"),this.deleteData={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,pinDashboard:!1})})},async export_Data(){let t=JSON.parse(this.findValue.filter),e=Number(t[0].uId);if(console.log(e,"this.findValue"),"workflowReport"===this.findValue.filterFrom){const{error:t,payload:i}=await l["o"].getWorkflowData(e,{filterBy:this.filterBy,itemsPerPage:0,currentPage:0,mode:""});if(t)return void this.$alert.error(t);const{meta:s,data:a}=i;if(s.totalItems&&a.length){let t=[];a[0].value.forEach(e=>{t.push({"Request No":e.requestNo,...this.getJiraIssueInfo(e),Status:1==e.flowStatus?"Completed":"In-progress",Duration:1==e.flowStatus?this.daysOpen(e):"","Days Open":0==e.flowStatus?this.daysOpen(e):"",Stage:e.stage,"Action User":e.activityUserEmail,...this.getResponseData(e.slaResponse,!0),...this.getResolutionData(e.slaResolution,!0),"Raised By":e.raisedBy,"Raised On":this.$day.format(e.raisedAt),"Last Action By":e.transaction_createdByEmail,"Last Action On":this.$day.format(e.transaction_createdAt),"Attachments Count":e.attachmentCount,"Comments Count":e.commentsCount,...this.getFormData(e)})}),Object(z["a"])(t,this.findValue.label)}}else{this.loadingBarContent=!0;const{error:t,payload:i}=await l["o"].getRepositoryData(e,{itemId:this.itemId,filterBy:this.filterBy,itemsPerPage:0,currentPage:0});if(this.loadingBarContent=!1,t)return void this.$alert.error(t);let s=[];i&&i.data.forEach(t=>{t.value.forEach(t=>{s.push({"File Name":t.ifileName,Activity:t.activity,"Activity User Email":t.email,"Activity On":this.$day.format(t.activityOn),Size:Object(V["a"])(t.ifileSize),"Created At":this.$day.format(t.createdAt),Version:t.fileVersion,...this.getFileData(t)})})}),s.length&&Object(z["a"])(s,this.findValue.label)}},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},validateType(t){let e="";return this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},closeTaskSheet(){this.taskSheet=!1},processDocumentAction(t){if("Email_Sharing"===t.id);else if("Print"===t.id){if(this.itemModel.name){let t=this.itemModel.name.split(".").pop();Object(H["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.itemModel.itemId)):this.$refs.myProcessFiles.contentWindow.print()}this.processFilePrintSession()}else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.itemModel.repositoryId}/${this.itemModel.itemId}/2`,window.open(t,"_blank")}},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();return this.selectedFile.initiate?Object(H["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:"http://52.172.32.88"===t?`http://52.172.32.88/AnnViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`:Object(H["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}&action=download,print`:Object(H["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/AnnViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2`}},openFiles(t){this.selectedFile=t,console.log(this.selectedFile,"this.selectedFile");let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},async openSubAttachments(t){console.log(this.workflowRequestList[0].value,"this.workflowRequestList[0].value");const e=this.workflowRequestList[0].value.find(e=>e.processId===t.parentProcessID);let i;e&&(i=e.subworkflowTransaction.find(e=>e.processId===t.processId),i&&(i.id=i.subWorkFlowId,this.selectedProcess=i,this.$emit("update:selectedProcess",i),await this.getAttachments(i.subWorkFlowId,i.processId),this.showLinks("ATTACHMENTS")))},async openSubComments(t){const e=this.workflowRequestList[0].value.find(e=>e.processId===t.parentProcessID);let i;e&&(i=e.subworkflowTransaction.find(e=>e.processId===t.processId),i&&(i.id=i.subWorkFlowId,this.selectedProcess=i,await this.getComments(i.subWorkFlowId,i.processId),this.showLinks("COMMENTS")))},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(H["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},async getFilesData(t){this.loadingBarContent=!0;const{error:e,payload:i}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});this.loadingBarContent=!1,e?this.$alert.error(e):i&&(this.filesData=i,this.fileDetailsSheet=!0)},openFile(t){let e={};"repositoryActivityReport"===this.filterFrom?(e=this.repositoryReportList[0].value.find(e=>e.rNo===t),this.selectedFile={id:e.itemId,name:e.ifileName,size:e.ifileSize,repositoryId:this.repositoryId,createdAt:e.createdAt,createdBy:e.createdBy}):"repositoryOcrReport"===this.filterFrom?(e=this.repositoryOcrReportListData[0].value.find(e=>e.rNo===t),this.selectedFile={id:e.itemId,name:e.ifileName,size:e.ifileSize,repositoryId:this.repositoryId,createdAt:e.createdAt,createdBy:""}):"repositorySignReport"===this.filterFrom&&(e=this.repositorySignReportListData[0].value.find(e=>e.rNo===t),console.log(e,"listed"),this.selectedFile={id:e.itemId,name:e.fileName,size:e.fileSize,repositoryId:this.repositoryId,createdAt:e.requestedAt,createdBy:e.requestedByEmail}),this.isFileSheetVisible=!0},getFileData(t){const e={};return this.repositoryField.forEach(i=>{e[i.name]=t[i.name]}),e},async getWorkspaces(){this.loadingBarContent=!0;const{error:t,payload:e}=await l["u"].getWorkspaceList();this.loadingBarContent=!1,t?this.$alert.error(t):e&&(this.workspaceList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id})))},async getRepositories(){if(this.workspaceId){this.repositoriesList=[],this.loadingBarContent=!0;const{error:t,payload:e}=await l["p"].getRepositoryList("workspaceId",this.workspaceId);if(this.loadingBarContent=!1,t)return void this.$alert.error(t);if(!e.length)return;this.repositoriesList=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))}},async getUsers(){this.userList=[];const{error:t,payload:e}=await l["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.userList.push({id:this.$nano.id(),label:t.value,value:t.id})})},async getActivityList(){this.activities=[];let t={filterBy:[{filters:[{criteria:"activityType",condition:"IS_EQUALS_TO",value:"Document Report"}],groupCondition:""}]};const{error:e,payload:i}=await l["o"].activityList(t);e?this.$alert.error("Error fetching activity list"):i&&i.map(t=>{this.activities.push({id:this.$nano.id(),label:t.activityName,value:t.id})})},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.workspaceId=this.repositoryDetails.workspace.id,e.options&&(this.options=e.options),this.repositoryField=this.repositoryDetails.fields,this.columns=[{id:this.$nano.id(),name:"id",label:"Id",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"itemId",label:"Item Id",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"ifileName",label:"File Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"activity",label:"Activity",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"email",label:"Activity User Email",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"activityOn",label:"Activity On",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].DATE},{id:this.$nano.id(),name:"filesize",label:"Size",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdAt",label:"Created At",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"version",label:"Version",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT}],this.repositoryField.forEach(t=>{this.columns.push({id:this.$nano.id(),label:t.name,name:t.name,dataType:t.dataType,isVisible:!0,isSortable:!0,isGroupable:!1})}))},async getOcrReportData(){var t;this.loadingBarContent=!0,this.repositoryOcrReportList=[],this.repositoryOcrReportListData=[],this.list=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify([t.arrayValue]))})});const{error:e,payload:i}=await l["o"].getOcrReportData(this.repositoryId,{itemId:this.itemId,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage});this.loadingBarContent=!1,console.log(i,"payloadOcr"),e?this.$alert.error(e):(this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0,this.columns=[{id:this.$nano.id(),name:"fileName",label:"File Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"fileStatus",label:"Status",isVisible:!0,options:this.fileStatus,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"ocrType",label:"Type",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"processedBy",label:"Processed By",isVisible:!0,isSortable:!0,isGroupable:!1,options:this.userList,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"processedOn",label:"Processed On",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].DATE},{id:this.$nano.id(),name:"totalPage",label:"Total Pages",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"processedPages",label:"Processed Pages",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"fileSize",label:"Size",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT}],0===this.totalItems?(this.repositoryOcrReportList=[],this.repositoryOcrReportListData=[]):(this.repositoryOcrReportList=i.data,this.repositoryOcrReportListData=i.data,this.repositoryOcrReportList.length&&(this.exportDataList=!0)))},async getWorkflowData(){var t;this.loadingBarContent=!0,this.workflowRequestList=[],this.workflowRequestListData=[],this.list=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify([t.arrayValue]))})});const{error:e,payload:i}=await l["o"].getWorkflowData(this.repositoryId,{filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,mode:""});this.loadingBarContent=!1,e?this.$alert.error(e):(console.log(i.data,"wpay"),i.data.forEach(t=>{t.value.forEach(e=>{console.log(t.value,"wpay"),this.list.push({...e})})}),this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0,this.columns=[],this.columns.push({id:this.$nano.id(),name:"id",label:"Process Id",dataType:"SHORT_TEXT",isVisible:!1,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"requestNo",label:"Request No",type:"TITLE",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"flowStatus",label:"Status",dataType:"SINGLE_SELECT",options:this.status,isVisible:!1,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"duration",label:"Duration",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"daysOpen",label:"Days Open",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"stage",label:"Stage",dataType:"SINGLE_SELECT",options:this.processLevel,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"actionUser",label:"Action User",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1}),2===this.slaSettings?this.columns.push({id:this.$nano.id(),name:"resolutionTime",label:"Resolution Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"resolutionStatus",label:"Resolution Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1}):3===this.slaSettings?this.columns.push({id:this.$nano.id(),name:"responseTime",label:"Response Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"responseStatus",label:"Response Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1}):4===this.slaSettings&&this.columns.push({id:this.$nano.id(),name:"responseTime",label:"Response Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"responseStatus",label:"Response Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"resolutionTime",label:"Resolution Time",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"resolutionStatus",label:"Resolution Status",dataType:"SHORT_TEXT",isVisible:!0,isSortable:!0,isGroupable:!1}),this.columns.push({id:this.$nano.id(),name:"raisedBy",label:"Raised By",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",dataType:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"lastActionBy",label:"Last Action By",dataType:"SINGLE_SELECT",options:this.userList,isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"lastActionOn",label:"Last Action On",dataType:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}),this.formFields.forEach(t=>{this.columns.push({id:this.$nano.id(),name:this.getLabel(t.value),label:t.label?t.label:t.dataType,dataType:t.dataType,isVisible:!0,isSortable:!0,isGroupable:!1})}),0===this.totalItems?(this.workflowRequestList=[],this.workflowRequestListData=[]):(this.workflowRequestList=i.data,this.workflowRequestListData=i.data),console.log(this.workflowRequestList,"this.workflowRequestList"))},async openProcess(t){if(this.selectedProcess=t,this.formModel={},this.itemModel={},this.selectedProcess.formData){let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e}else this.selectedProcess.itemData&&(this.itemModel=this.selectedProcess.itemData);this.headerTitle=`${this.workflow.name} - ${this.selectedProcess.requestNo} - ${t.stage}`,this.processSheet=!0,this.getTaskList(),this.getComments(),this.getAttachments(),this.getMailTransactions(),this.showHistoryStepper(this.selectedProcess.processId,this.selectedProcess.id)},showSubHistory(t){this.selectedProcess=t,this.showLinks("HISTORY")},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await l["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length&&(this.currentStep+=1);else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},updateSelectedSubWorkflow(t){this.subProcessData=t,this.selectedSubWorkflow=t,this.subWorkflowId=t.id,this.openSubProcessSheet=!0},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.loadingBarContent=!0;const{error:t,payload:e}=await l["t"].getProcessComments(this.selectedProcess.id,this.selectedProcess.processId);this.loadingBarContent=!1,t?this.$alert.error(t):(this.commentsList=[],e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)})))},async getAttachments(){if(this.checkList=[],this.attachmentList=[],this.selectedProcess.processId){let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);e&&e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.checkDocument()),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)}),this.loadingBarContent=!0;const{error:i,payload:s}=await l["t"].getAttachments(this.repositoryId,this.selectedProcess.processId);if(this.loadingBarContent=!1,i)return void this.$alert.error(i);this.attachmentList=[],s.length&&(this.attachmentList=s.map(t=>({...t,checked:!1})),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})),this.checkList.length&&this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i)return e});e.length?t.attach=!0:t.attach=!1})}},async getTaskList(){this.taskEntries=[],this.loadingBarContent=!0;const{error:t,payload:e}=await l["t"].getTaskEntries(this.repositoryId,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(this.loadingBarContent=!1,t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async getWorkflow(){this.processLevel=[],this.stages=[],this.checkList=[],this.loadingBarContent=!0;const{error:t,payload:e}=await l["t"].getWorkflow(this.repositoryId);if(this.loadingBarContent=!1,t)return void this.$alert.error(t);this.workflow=e,this.formId=e.wFormId;let i=JSON.parse(this.workflow.flowJson);this.slaSettings=i.hasSLASettings,console.log(this.workflow,"this.workflow "),i.blocks.forEach(t=>{if("START"===t.type||"INTERNAL_ACTOR"===t.type||"END"===t.type){let e=[];e.push({id:t.id,label:t.settings.label,type:t.type});let i="",s="";"START"===t.type?(i="mdi-flag-outline",s="green"):"INTERNAL_ACTOR"===t.type?t.settings.users.length&&t.settings.groups.length?(i="mdi-account-group-outline",s="secondary"):t.settings.users.length?(i="mdi-account-outline",s="primary"):(t.settings.groups.length,i="mdi-account-group-outline",s="secondary"):"END"===t.type&&(i="mdi-stop-circle-outline",s="red"),e.forEach(t=>{this.processLevel.push({id:this.$nano.id(),key:t.id,label:t.label,value:t.label.toLowerCase()}),this.stages.push({id:this.$nano.id(),key:t.id,label:t.label,icon:i,color:s,type:t.type})})}});let s=i.blocks.find(t=>"START"===t.type);s&&s.settings.fileSettings&&s.settings.fileSettings.fileCheckList.length&&(this.checkList=s.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.checkDocument())},checkDocument(){this.docWarning=!1,this.trackRequest||this.checkList.length&&this.checkList.forEach(t=>{t.required&&!t.attach&&(this.docWarning=!0)})},async getRepositoryData(){var t;this.loadingBarContent=!0,this.repositoryReportList=[],this.repositoryReportListData=[],this.list=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"===t.dataType&&(t.value=t.arrayValue)})});const{error:e,payload:i}=await l["o"].getRepositoryData(this.repositoryId,{itemId:this.itemId,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage});this.loadingBarContent=!1,e?this.$alert.error(e):(i&&i.data.length&&i.data.forEach(t=>{t.value.forEach(t=>{this.reportList.push({...t})})}),this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0,console.log(i.data,"datas"),0===this.totalItems?(this.repositoryReportList=[],this.repositoryReportListData=[]):(this.repositoryReportList=i.data,this.repositoryReportListData=i.data,this.repositoryReportList.length&&(this.exportDataList=!0)))},getResponseData(t,e){let i,s={responseTime:"",responseStatus:""};if(t){s.responseStatus=t.status||0,0==s.responseStatus?i=new Date(t.assignedAt).getTime()-(new Date).getTime():1==s.responseStatus?i=new Date(t.assignedAt).getTime()-new Date(t.responsedAt).getTime():2==s.responseStatus&&(i=t.responsedAt?new Date(t.responsedAt).getTime()-new Date(t.assignedAt).getTime():(new Date).getTime()-new Date(t.assignedAt).getTime());let e=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),o=Math.floor(i%36e5/6e4);e?(1===e&&(s.responseTime=e+" day"),s.responseTime=e+" days"):a?(1===a&&(s.responseTime=a+" hour"),s.responseTime=a+" hours"):o&&(1===o&&(s.responseTime=o+" min"),s.responseTime=o+" mins")}return e?t?{"Response Time":s.responseTime,"Response Status":0==s.responseStatus?"In-Progress":1==s.responseStatus?"WithIn SLA":"Overdue"}:{}:(console.log(s,"sla"),s)},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);console.log(e,"forms");const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},getResolutionData(t,e){let i,s={resolutionTime:"",resolutionStatus:""};if(t){s.resolutionStatus=t.status||0,0==s.resolutionStatus?i=new Date(t.assignedAt).getTime()-(new Date).getTime():1==s.resolutionStatus?i=new Date(t.assignedAt).getTime()-new Date(t.responsedAt).getTime():2==s.resolutionStatus&&(i=t.responsedAt?new Date(t.responsedAt).getTime()-new Date(t.assignedAt).getTime():(new Date).getTime()-new Date(t.assignedAt).getTime());let e=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),o=Math.floor(i%36e5/6e4);e?(1===e&&(s.resolutionTime=e+" day"),s.resolutionTime=e+" days"):a?(1===a&&(s.resolutionTime=a+" hour"),s.resolutionTime=a+" hours"):o&&(1===o&&(s.resolutionTime=o+" min"),s.resolutionTime=o+" mins")}return e?t?{"Resolution Time":s.resolutionTime,"Resolution Status":0==s.resolutionStatus?"In-Progress":1==s.resolutionStatus?"WithIn SLA":"Overdue"}:{}:s},getFormData(t){const e={};if(t.formData)for(let i of Object.keys(t.formData.fields)){const s=this.getLabel(i);e[s]=this.removeTags(t.formData.fields[i])}return e},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},openComments(t){this.selectedProcess=t,this.showLinks("COMMENTS")},closeCommentsSheet(){this.closeCommnetsSheet=!1},closeAttachmentsSheet(){this.attachmentSheet=!1},openHistory(t){this.selectedProcess=t,this.showLinks("HISTORY")},openAttachments(t){this.selectedProcess=t,this.showLinks("ATTACHMENTS")},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},async showLinks(t){"ATTACHMENTS"===t?(await this.getAttachments(),this.attachmentSheet=!0):"COMMENTS"===t?(await this.getComments(),this.commentsSheet=!0):"HISTORY"===t?(this.historyProcessId=this.selectedProcess.processId,console.log(this.selectedProcess,"this.selectedProcess")):"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$alert.info("Task not found"):"MAIL"===t&&(this.getMailTransactions(),this.mailTransactionSheet=!0)},async getForm(){this.formFields=[],this.loadingBarContent=!0;const{error:t,payload:e}=await l["g"].getForm(this.formId);if(this.loadingBarContent=!1,t)return void this.$alert.error(t);let i=JSON.parse(e.formJson);this.form=i,this.formId=String(this.formId);const s=[...i.panels,...i.secondaryPanels];if(console.log(this.form,"form"),"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB"),!s.length)return;let a=[];for(const o of s)a.push(...o.fields);a.forEach(t=>{"DIVIDER"===t.type||"LABEL"===t.type||"PARAGRAPH"===t.type||!t.label&&"TABLE"!==t.type||"DISABLE"===t.settings.general.visibility||this.formFields.push({id:this.$nano.id(),label:t.label?t.label:t.type,value:t.id,dataType:t.type})})},daysOpen(t){let e;e="END"===t.stageType?new Date(t.transaction_createdAt).getTime()-new Date(t.raisedAt).getTime():(new Date).getTime()-new Date(t.raisedAt).getTime();let i=Math.floor(e/864e5),s=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4);return i?1===i?i+" day":i+" days":s?1===s?s+" hour":s+" hours":a?1===a?a+" min":a+" mins":""},getLabel(t){let e="";return this.form&&this.form.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.label?s.label:s.type)}),e},async getData(t,e){var i;const s=[{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"activityOn",condition:"IS_EQUALS_TO",value:t,valueTo:e}],groupCondition:""}];this.loadingBarContent=!0,this.repositoryReportList=[],this.repositoryReportListData=[],this.list=[];const{error:a,payload:o}=await l["o"].getRepositoryData(this.repositoryId,{itemId:this.itemId,filterBy:s,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage});this.loadingBarContent=!1,a?this.$alert.error(a):(o.data.length&&o.data.forEach(t=>{t.value.forEach(t=>{this.reportList.push({...t})})}),this.totalItems=(null===(i=o.meta)||void 0===i?void 0:i.totalItems)||0,0===this.totalItems?(this.repositoryReportList=[],this.repositoryReportListData=[]):(this.repositoryReportList=o.data,this.repositoryReportListData=o.data))},clearData(){this.exportDataList=!1,this.repositoryId=0,this.repositoryReportList=[]},call(){this.showFilterList=!1},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},async getSignReport(){var t;this.loadingBarContent=!0,this.repositorySignReportList=[],this.repositorySignReportListData=[],this.list=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify([t.arrayValue]))})});const{error:e,payload:i}=await l["o"].getSignReport(this.repositoryId,{sortBy:this.sortBy,filterBy:this.filterBy,currentPage:this.currentPage,itemsPerPage:this.itemsPerPage});this.loadingBarContent=!1,e?this.$alert.error(e):(this.columns=[{id:this.$nano.id(),name:"fileName",label:"File Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"signType",label:"Sign Type",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"fileStatus",label:"Status",isVisible:!0,options:this.fileStatus,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT,onClick:this.showHistory},{id:this.$nano.id(),name:"requestedBy",label:"Requested By",isVisible:!0,isSortable:!0,isGroupable:!1,options:this.userList,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"currentUser",label:"Current User",isVisible:!0,isSortable:!0,isGroupable:!1,options:this.userList,dataType:N["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"requestedAt",label:"Requested At",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].DATE},{id:this.$nano.id(),name:"version",label:"version",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"fileSize",label:"Size",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT}],this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0,0===this.totalItems?(this.repositorySignReportList=[],this.repositorySignReportListData=[]):(this.repositorySignReportList=i.data,this.repositorySignReportListData=i.data,this.repositorySignReportList.length&&(this.exportDataList=!1,this.exportDataList=!0)))},getFilterData(){var t;this.loadingBarContent=!0,this.savedList=[],this.savedListData=[],this.filterBy.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{"SINGLE_SELECT"===t.dataType&&(t.value=t.arrayValue)})});let e={meta:{currentPage:1,itemsPerPage:10,totalItems:17},data:[{key:"",value:[{rNo:1,itemId:72,pathId:"03062024101314",status:null,name:"raja report",totalPages:0,archivedFrom:"WEB",createdon:"2024-03-06T10:13:14.14Z",createdBy:"admin@ezofis.com",description:"Good This Good ",page:"repositoryActivityReport",items:[],search:'[{"id":"nAn5Yj4ymJe3PoCLGhjy3","filters":[{"id":"XqLyzjRTc0UJrJDIxogfs","criteria":"ifileName","condition":"CONTAINS","value":"muthu","valueTo":"","arrayValue":"","dataType":"SHORT_TEXT"}],"groupCondition":""}]}'},{rNo:2,itemId:72,pathId:"03062024101314",status:null,name:"raja report",totalPages:0,archivedFrom:"WEB",createdon:"2024-03-06T10:13:14.14Z",createdBy:"admin@ezofis.com",description:"Good This Good ",page:"repositoryActivityReport",search:'[{"id":"nAn5Yj4ymJe3PoCLGhjy3","filters":[{"id":"XqLyzjRTc0UJrJDIxogfs","criteria":"ifileName","condition":"CONTAINS","value":"muthu","valueTo":"","arrayValue":"","dataType":"SHORT_TEXT"}],"groupCondition":""}]}'},{rNo:3,itemId:72,pathId:"03062024101314",status:null,name:"raja report",totalPages:0,archivedFrom:"WEB",createdon:"2024-03-06T10:13:14.14Z",createdBy:"admin@ezofis.com",description:"Good This Good ",page:"repositoryActivityReport",search:'[{"id":"nAn5Yj4ymJe3PoCLGhjy3","filters":[{"id":"XqLyzjRTc0UJrJDIxogfs","criteria":"ifileName","condition":"CONTAINS","value":"muthu","valueTo":"","arrayValue":"","dataType":"SHORT_TEXT"}],"groupCondition":""}]}'},{rNo:4,itemId:72,pathId:"03062024101314",status:null,name:"raja report",totalPages:0,archivedFrom:"WEB",createdon:"2024-03-06T10:13:14.14Z",createdBy:"admin@ezofis.com",description:"Good This Good ",page:"repositoryActivityReport",search:'[{"id":"nAn5Yj4ymJe3PoCLGhjy3","filters":[{"id":"XqLyzjRTc0UJrJDIxogfs","criteria":"ifileName","condition":"CONTAINS","value":"muthu","valueTo":"","arrayValue":"","dataType":"SHORT_TEXT"}],"groupCondition":""}]}'}]}],executeTime:""};this.columns=[{id:this.$nano.id(),name:"id",label:"Id",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"itemId",label:"Item Id",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"name",label:"Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"description",label:"Description",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:N["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdon",label:"Created On",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].DATE},{id:this.$nano.id(),name:"createdBy",label:"Created By",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:N["a"].SHORT_TEXT}],this.repositoryField.forEach(t=>{this.columns.push({id:this.$nano.id(),label:t.name,name:t.name,dataType:t.dataType,isVisible:!0,isSortable:!0,isGroupable:!1})}),this.loadingBarContent=!1,e&&e.data.length&&e.data.forEach(t=>{t.value.forEach(t=>{this.reportList.push({...t})})}),this.totalItems=(null===(t=e.meta)||void 0===t?void 0:t.totalItems)||0,0===this.totalItems?(this.savedList=[],this.savedListData=[]):(this.savedList=e.data,this.savedListData=e.data,this.savedList.length&&(this.exportDataList=!0))},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async findItem(){console.log(this.listedData,"this.listedData"),this.expand=!0,this.loadingBarContent=!0,this.listedData.map(t=>{if(t.name===this.findValue.label){this.expand=!0;const e=JSON.parse(t.filterJson),i=JSON.parse(e[0].filters);console.log(e,"parsedArray"),this.filterListData={id:t.itemId,name:t.name,rId:e[0].uId,filterFrom:t.filterFrom,filters:i}}}),this.filterFrom=this.filterListData.filterFrom,"repositoryActivityReport"===this.filterFrom?(this.repositoryId=this.filterListData.rId,await this.getRepository(),this.filterFrom=this.filterListData.filterFrom,this.repositoryId=this.filterListData.rId,this.itemId=0,this.filterBy=this.filterListData.filters,this.getRepositoryData(),console.log(this.filterListData,"this.filterListData")):"repositoryOcrReport"===this.filterFrom?(this.repositoryId=this.filterListData.rId,this.filterFrom=this.filterListData.filterFrom,this.repositoryId=this.filterListData.rId,this.itemId=0,this.filterBy=this.filterListData.filters,this.getOcrReportData(),console.log(this.filterListData,"this.filterListData")):"workflowReport"===this.filterFrom?(this.repositoryId=this.filterListData.rId,this.repositoryId=this.filterListData.rId,await this.getWorkflow(),await this.getTaskForm(),await this.getForm(),this.repositoryId=this.filterListData.rId,this.filterFrom=this.filterListData.filterFrom,this.repositoryId=this.filterListData.rId,this.itemId=0,this.filterBy=this.filterListData.filters,await this.getWorkflowData(),console.log(this.filterListData,"this.filterListData")):"repositorySignReport"===this.filterFrom&&(this.repositoryId=this.filterListData.rId,this.filterFrom=this.filterListData.filterFrom,this.repositoryId=this.filterListData.rId,this.itemId=0,this.filterBy=this.filterListData.filters,this.getSignReport(),console.log(this.filterListData,"this.filterListData"))},refresh(){"repositoryActivityReport"===this.filterFrom?(this.getRepository(),this.getRepositoryData()):"repositoryOcrReport"===this.filterFrom?this.getOcrReportData():"workflowReport"===this.filterFrom?(this.getWorkflow(),this.getTaskForm(),this.getForm(),this.getWorkflowData()):"repositorySignReport"===this.filterFrom&&this.getSignReport()}}},et=tt,it=(i("1579"),i("3bb4"),i("8169")),st=i("b047"),at=i("4e73"),ot=i("93dc"),rt=i.n(ot),nt=Object(C["a"])(et,L,P,!1,null,"78abd02c",null),lt=nt.exports;rt()(nt,"components",{QChatMessage:it["a"],QChip:st["a"],QMenu:at["a"]});var ct=function(){var t=this,e=t._self._c;return t.expand?e("div",{staticStyle:{height:"600px"},attrs:{id:"workflow-inbox-dashboard"}},[e("div",{staticClass:"row q-pb-sm",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.findIcon.iconTootip,expression:"findIcon.iconTootip",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:t.findIcon.icon,color:t.findIcon.color,size:"25px"}})],1),e("span",{staticClass:"col text-base font-bold text-uppercase items-center text-black"},[t._v(t._s(t.findValuename)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold text-uppercase items-center",staticStyle:{color:"#475569",width:"100%"}},[t._v(" "+t._s(t.findValue.description)+" ")])]),t.filterContains.length?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-sm col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent",on:{click:function(t){t.stopPropagation()}}},t._l(t.filterContains,(function(i,s){return e("div",{key:"model"+s,staticClass:"col-12 q-mr-sm row items-center filerItem",staticStyle:{width:"100%"}},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.criteria))]),e("span",{staticClass:"q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"40px","border-right":"0px"}},[t._v(" "+t._s(i.condition))]),e("span",{staticClass:"q-mr-sm q-ml-sm q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center text-align-right",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.value))])])})),0)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"export",expression:"'export'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return e.stopPropagation(),t.exportDataExcel.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Close",expression:"'Close'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-upward-outline"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"UnPin",expression:"'UnPin'",modifiers:{top:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}})],1),e("div",{staticStyle:{width:"100%","border-top":"1px solid var(--divider-color)"}},[e("div",{staticClass:"contents"},[e("div",{staticClass:"row q-col-gutter-sm"},[e("div",{staticClass:"col-2",staticStyle:{display:"none"}},[e("WorkflowTree",{staticStyle:{display:"none"},attrs:{"workflow-list":t.workflowList,"my-inbox-count":t.myInboxCount,refresh:t.refreshTree,"load-initial":t.loadInitial},on:{"update:loadInitial":function(e){t.loadInitial=e},"update:load-initial":function(e){t.loadInitial=e},selectedNode:t.getSelectedNode}})],1),e("div",{staticClass:"col",staticStyle:{width:"100%"}},[e("InboxList",{attrs:{dashboard:!0,"dashboard-view":!0,"selected-node":t.selectedNode,"my-inbox":t.myInboxShow,"workflow-list":t.workflowList,workflow:t.selectedWorkflow,"workflow-request-list":t.workflowRequestList,"group-key":t.groupKey,wform:t.form,repository:t.repository,"process-actions":t.processActions,"process-actions-add-on":t.processActionsAddOn,"selected-process":t.selectedProcess,"full-view":t.fullView,"active-view":t.activeView,"internal-forward":t.internalForward,"user-list":t.internalForward.users.length?t.internalForward.users:t.userList,"group-list":t.internalForward.groups.length?t.internalForward.groups:t.groupList,"current-page":t.currentPage,"items-per-page":t.itemsPerPage,"total-items":t.totalItems,"master-form-id":t.masterFormId,"data-imported":t.dataImported,"user-signature":t.userSignature,"task-form-id":t.taskFormId,"task-entry-id":t.taskEntryId,"task-entries":t.taskEntries,"check-list":t.checkList,"custom-reply":t.customReply,"user-reply":t.userReply,"to-requester":t.toRequester,"data-validation-values":t.dataValidationValues,"custom-close-process-sheet":t.customCloseProcessSheet,"selected-completed-node":t.selectedCompletedNode,"hide-columns":t.hideColumns,"add-task-enabled":t.addTaskEnabled,"loading-bar-inbox":t.loadingBarInbox,exporting:t.exporting},on:{"update:workflow":function(e){t.selectedWorkflow=e},"update:workflowRequestList":function(e){t.workflowRequestList=e},"update:workflow-request-list":function(e){t.workflowRequestList=e},"update:selectedProcess":function(e){t.selectedProcess=e},"update:selected-process":function(e){t.selectedProcess=e},"update:fullView":function(e){t.fullView=e},"update:full-view":function(e){t.fullView=e},"update:activeView":function(e){t.activeView=e},"update:active-view":function(e){t.activeView=e},"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:totalItems":function(e){t.totalItems=e},"update:total-items":function(e){t.totalItems=e},"update:masterFormId":function(e){t.masterFormId=e},"update:master-form-id":function(e){t.masterFormId=e},"update:taskEntries":function(e){t.taskEntries=e},"update:task-entries":function(e){t.taskEntries=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:customReply":function(e){t.customReply=e},"update:custom-reply":function(e){t.customReply=e},"update:userReply":function(e){t.userReply=e},"update:user-reply":function(e){t.userReply=e},"update:toRequester":function(e){t.toRequester=e},"update:to-requester":function(e){t.toRequester=e},"update:dataValidationValues":function(e){t.dataValidationValues=e},"update:data-validation-values":function(e){t.dataValidationValues=e},"update:hideColumns":function(e){t.hideColumns=e},"update:hide-columns":function(e){t.hideColumns=e},show:t.showRequestPreview,refresh:t.refresh,history:t.showHistory,subHistory:t.showSubHistory,filter:t.updateFilter,sortBy:t.updateSortBy,upload:function(e){return t.$refs.input.click()},close:function(e){t.dataImported=!1},addTask:t.addTask,viewTask:t.viewTask,validation:t.dataValidation,paymentTable:t.showPaymentTable,release:t.releaseReservedRequest,isDelete:t.deleteItem}}),e("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:t.uploadFile}})],1),e("UnpinDashboard",{attrs:{label:t.findValuename,"delete-data":t.deleteData},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1),e("Modal",{attrs:{width:"40vw",height:"50vh","has-footer":""},on:{input:function(e){t.saveAction="",t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.selectedProcess.requestNo)+'" '),t.isTenantGOTO()||t.isTenantArmgroup()?[t._v(" Process Assign ")]:[t._v(" Process Forward ")]]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[t.internalForward.proceed?e("MultiSelectField",{staticClass:"field",attrs:{label:"users","is-mandatory":"",options:t.internalForward.users.length?t.internalForward.users:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}):t._e(),t.internalForward.groups.length?e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.internalForward.groups.length?t.internalForward.groups:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantGOTO()||t.isTenantArmgroup()?[e("BaseButton",{attrs:{label:"Assign",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.requestAction("Assign",!1,!1)}}})]:[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardModal=!1,t.requestAction("Forward",!1,!1)}}})]]},proxy:!0}],null,!1,3217851687),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Modal",{attrs:{width:"70vw"},on:{input:function(e){t.dataValidationModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Data Verification [Claimant's Statement]")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"dataValidation"}},[e("table",[e("thead",[e("tr",t._l(t.dataValidationColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.dataValidationValues,(function(i){return e("tr",{key:i.id},t._l(t.dataValidationColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["STATUS"===s.type?["Matched"===i[s.name]?[e("span",{staticClass:"text-green"},[t._v(" "+t._s(i[s.name]))])]:"Verified"===i[s.name]?[e("span",{staticClass:"text-primary"},[t._v(" "+t._s(i[s.name]))])]:"Not Matched"===i[s.name]?[e("span",{staticClass:"text-red"},[t._v(" "+t._s(i[s.name]))])]:[e("span",{staticClass:"text-orange"},[t._v(" "+t._s(i[s.name]||"-"))])]]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0)})),0)])])]},proxy:!0}],null,!0),model:{value:t.dataValidationModal,callback:function(e){t.dataValidationModal=e},expression:"dataValidationModal"}}),e("Modal",{attrs:{width:"70vw","has-footer":"inbox"===t.selectedNode||"payment"===t.selectedNode},on:{input:function(e){t.paymentTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Payment Table")]},proxy:!0},{key:"action",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{icon:"mdi-table-arrow-right",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"paymentTable"}},["inbox"!==t.selectedNode||"psyCrYXtKfcs-EJmrYIhv"!==t.selectedProcess.activityId&&t.isPaymentFound?t._e():[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Total Payment",rules:{required:!0,min_value:1}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"q-pa-sm",attrs:{label:"Total Payment","is-mandatory":"",error:i[0]},model:{value:t.totalPayment,callback:function(e){t.totalPayment=e},expression:"totalPayment"}})]}}],null,!1,2992247998)})],1),e("div",{staticClass:"col-3"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Lumpsum Amount",rules:{required:!0,min_value:1,max_value:2e3}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"q-pa-sm",attrs:{label:"Lumpsum Amount","is-mandatory":"",max:2e3,error:i[0]},model:{value:t.lumpsumAmount,callback:function(e){t.lumpsumAmount=e},expression:"lumpsumAmount"}})]}}],null,!1,3540089406)})],1),e("div",{staticClass:"col-3"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Benefit Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-pa-sm",attrs:{label:"Benefit Type","is-mandatory":"",options:t.benefitTypes,error:i[0]},model:{value:t.benefitType,callback:function(e){t.benefitType=e},expression:"benefitType"}})]}}],null,!1,216517839)})],1),e("div",{staticClass:"col-3"},[e("BaseButton",{staticClass:"calculateBtn col-auto q-ml-md",attrs:{label:"Calculate"},on:{click:t.paymentCalculation}})],1)])]),e("div",{staticClass:"row col",staticStyle:{display:"flex","justify-content":"flex-end"}},[e("FormFieldLabel",{staticClass:"q-mr-sm q-mt-xs",attrs:{label:"Number of payments to approve"}}),e("NumberField",{staticClass:"q-pa-sm",attrs:{min:0,max:t.paymentTableValues.length,"is-clearable":!1,"is-readonly":!t.paymentTableValues.length},model:{value:t.numberOfApprovePayment,callback:function(e){t.numberOfApprovePayment=e},expression:"numberOfApprovePayment"}}),e("BaseButton",{staticClass:"q-ml-sm",staticStyle:{"margin-top":"12px"},attrs:{label:"Payment Approve",color:"secondary",disabled:!t.paymentTableValues.length},on:{click:t.paymentApprove}}),e("BaseButton",{staticClass:"q-ml-sm",staticStyle:{"margin-top":"12px"},attrs:{label:"Clear",color:"red",disabled:!t.paymentTableValues.length},on:{click:t.clearPaymentApprove}})],1)],e("div",{staticClass:"col q-pa-sm"},[e("BaseScrollbar",{attrs:{height:"inbox"!==t.selectedNode||"psyCrYXtKfcs-EJmrYIhv"!==t.selectedProcess.activityId&&t.isPaymentFound?"":"calc(100vh - 510px)"}},[e("table",{staticClass:"q-mt-sm"},[e("thead",[e("tr",[t._l(t.paymentTableColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],attrs:{color:"primary",icon:"eva-plus","no-border":""},on:{click:t.addPaymentRow}})],1):t._e()],2)]),e("tbody",t._l(t.paymentTableValues,(function(i,s){return e("tr",{key:"paymentrow"+s},[t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&!i["delete"]?["approval"===a.name?["Approved"===i[a.name]?[e("span",{staticClass:"text-green",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]]:"paymentDate"===a.name?[e("DateField",{model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]:["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"baseAmount"===a.name&&i["delete"]?[e("NumberField",{attrs:{placeholder:"0.00"},on:{input:function(e){return t.calcOtherColumns(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]],2)})),"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound?e("td",{staticClass:"actions"},[i["delete"]?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"delete row",expression:"'delete row'"}],attrs:{"is-flat":"",color:"red",icon:"eva-trash-outline","no-border":""},on:{click:function(e){return t.removePaymentRow(s)}}}):t._e()],1):t._e()],2)})),0)])])],1)],2)]},proxy:!0},"inbox"===t.selectedNode||"payment"===t.selectedNode?{key:"footer",fn:function(){return["psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId?[e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:"Recommend to Approve",color:"green"},on:{click:function(e){t.paymentTableModal=!1,t.customCloseProcessSheet=!t.customCloseProcessSheet,t.updatePaymentTable("Recommend to Approve")}}}),e("BaseButton",{attrs:{label:"Recommend to Reject",color:"red"},on:{click:function(e){t.paymentTableModal=!1,t.customCloseProcessSheet=!t.customCloseProcessSheet,t.updatePaymentTable("Recommend to Reject")}}})]:[e("BaseButton",{attrs:{label:"Update Payments",color:"primary"},on:{click:function(e){t.paymentTableModal=!1,t.updatePaymentTable()}}})]]},proxy:!0}:null],null,!0),model:{value:t.paymentTableModal,callback:function(e){t.paymentTableModal=e},expression:"paymentTableModal"}}),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}],null,!1,595070330),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionPasswordConfirm=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Action Password")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"passwordForm"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{"is-mandatory":"","is-readonly":t.isLoading,error:i[0],"auto-focus":!0},on:{enter:t.validatePassword},model:{value:t.actionUserPassword,callback:function(e){t.actionUserPassword=e},expression:"actionUserPassword"}})]}}],null,!1,2719161341)})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"validate","is-loading":t.isLoading},on:{click:t.validatePassword}})]},proxy:!0}],null,!1,1657231439),model:{value:t.actionPasswordConfirm,callback:function(e){t.actionPasswordConfirm=e},expression:"actionPasswordConfirm"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionConfirmAlert=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Confirmation")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(' Are you sure you want to confirm the action as " '),e("b",[t._v(t._s(t.actionText))]),t._v('"? ')])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:function(e){t.actionConfirmAlert=!1}}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:function(e){t.actionConfirmAlert=!1,t.requestAction(t.actionText,!1,!1)}}})]},proxy:!0}],null,!1,884338134),model:{value:t.actionConfirmAlert,callback:function(e){t.actionConfirmAlert=e},expression:"actionConfirmAlert"}}),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"workflow-task":!0,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Confirm",{attrs:{icon:"eva-info-outline","icon-color":"secondary","has-footer":!1},on:{input:function(e){t.requestLockedModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Progress: Action unavailable")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" The request "+t._s(t.selectedProcess.requestNo)+' is currently being processed by "'),e("b",[t._v(t._s(t.selectedProcess.ticketLockedByName))]),t._v('", preventing any further actions on it. ')])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:function(e){t.requestLockedModal=!1}}}),e("BaseButton",{attrs:{label:"View",color:"primary"},on:{click:t.updateRequestReserved}})]},proxy:!0}],null,!1,1437506053),model:{value:t.requestLockedModal,callback:function(e){t.requestLockedModal=e},expression:"requestLockedModal"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"orange"},on:{input:function(e){t.requestForLockModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Reserved for your action")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(' Would you like to approve the request "'),e("b",[t._v(t._s(t.selectedProcess.requestNo))]),t._v(", it will be assigned to you, others cannot do any action on this request, once you select proceed. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:function(e){t.requestForLockModal=!1}}}),e("BaseButton",{attrs:{label:"proceed",color:"primary"},on:{click:t.updateRequestReserved}})]},proxy:!0}],null,!1,3729247541),model:{value:t.requestForLockModal,callback:function(e){t.requestForLockModal=e},expression:"requestForLockModal"}})],1)])]):e("div",{staticClass:"col-4"},[e("div",{staticClass:"text-base font-bold text-uppercase items-center text-black row",staticStyle:{cursor:"pointer"},attrs:{id:"workflow-inbox-dashboard"},on:{click:function(e){return e.stopPropagation(),t.findItem.apply(null,arguments)}}},[e("span",{staticClass:"col-auto text-base font-bold text-uppercase items-center text-black"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.findIcon.iconTootip,expression:"findIcon.iconTootip",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:t.findIcon.icon,color:t.findIcon.color,size:"25px"}})],1),e("span",{staticClass:"col text-base font-bold text-uppercase items-center text-black"},[t._v(t._s(t.findValuename)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold text-uppercase items-center",staticStyle:{color:"#475569",width:"100%"}},[t._v(" "+t._s(t.findValue.description)+" ")])]),t.filterContains.length?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-xs col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent",on:{click:function(t){t.stopPropagation()}}},t._l(t.filterContains,(function(i,s){return e("div",{key:"model"+s,staticClass:"col-12 q-mr-sm row items-center filerItem"},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.criteria))]),e("span",{staticClass:"q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"40px","border-right":"0px"}},[t._v(" "+t._s(i.condition))]),e("span",{staticClass:"q-mr-sm q-ml-sm q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center text-align-right",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(i.value))])])})),0)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"export",expression:"'export'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return e.stopPropagation(),t.exportDataExcelClose("item")}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Open",expression:"'Open'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-downward-outline"},on:{click:function(e){return e.stopPropagation(),t.findItem.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"unpin",expression:"'unpin'",modifiers:{top:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":""},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}}),e("UnpinDashboard",{attrs:{label:t.findValuename,"delete-data":t.deleteData},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}}),e("div",{staticClass:"row q-col-gutter-sm",staticStyle:{display:"none"}},[e("div",{staticClass:"col",staticStyle:{width:"100%","border-top":"1px solid var(--divider-color)"}},[e("InboxList",{attrs:{dashboard:!0,"dashboard-view":!0,"selected-node":t.selectedNode,"my-inbox":t.myInboxShow,"workflow-list":t.workflowList,workflow:t.selectedWorkflow,"workflow-request-list":t.workflowRequestList,"group-key":t.groupKey,wform:t.form,repository:t.repository,"process-actions":t.processActions,"process-actions-add-on":t.processActionsAddOn,"selected-process":t.selectedProcess,"full-view":t.fullView,"active-view":t.activeView,"internal-forward":t.internalForward,"user-list":t.internalForward.users.length?t.internalForward.users:t.userList,"group-list":t.internalForward.groups.length?t.internalForward.groups:t.groupList,"current-page":t.currentPage,"items-per-page":t.itemsPerPage,"total-items":t.totalItems,"master-form-id":t.masterFormId,"data-imported":t.dataImported,"user-signature":t.userSignature,"task-form-id":t.taskFormId,"task-entry-id":t.taskEntryId,"task-entries":t.taskEntries,"check-list":t.checkList,"custom-reply":t.customReply,"user-reply":t.userReply,"to-requester":t.toRequester,"data-validation-values":t.dataValidationValues,"custom-close-process-sheet":t.customCloseProcessSheet,"selected-completed-node":t.selectedCompletedNode,"hide-columns":t.hideColumns,"add-task-enabled":t.addTaskEnabled,exporting:t.exporting,"dashboard-id":t.workflowId,"dashboard-name":t.findValuename},on:{"update:workflow":function(e){t.selectedWorkflow=e},"update:workflowRequestList":function(e){t.workflowRequestList=e},"update:workflow-request-list":function(e){t.workflowRequestList=e},"update:selectedProcess":function(e){t.selectedProcess=e},"update:selected-process":function(e){t.selectedProcess=e},"update:fullView":function(e){t.fullView=e},"update:full-view":function(e){t.fullView=e},"update:activeView":function(e){t.activeView=e},"update:active-view":function(e){t.activeView=e},"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:totalItems":function(e){t.totalItems=e},"update:total-items":function(e){t.totalItems=e},"update:masterFormId":function(e){t.masterFormId=e},"update:master-form-id":function(e){t.masterFormId=e},"update:taskEntries":function(e){t.taskEntries=e},"update:task-entries":function(e){t.taskEntries=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:customReply":function(e){t.customReply=e},"update:custom-reply":function(e){t.customReply=e},"update:userReply":function(e){t.userReply=e},"update:user-reply":function(e){t.userReply=e},"update:toRequester":function(e){t.toRequester=e},"update:to-requester":function(e){t.toRequester=e},"update:dataValidationValues":function(e){t.dataValidationValues=e},"update:data-validation-values":function(e){t.dataValidationValues=e},"update:hideColumns":function(e){t.hideColumns=e},"update:hide-columns":function(e){t.hideColumns=e},show:t.showRequestPreview,refresh:t.refresh,history:t.showHistory,subHistory:t.showSubHistory,filter:t.updateFilter,sortBy:t.updateSortBy,upload:function(e){return t.$refs.input.click()},close:function(e){t.dataImported=!1},addTask:t.addTask,viewTask:t.viewTask,validation:t.dataValidation,paymentTable:t.showPaymentTable,release:t.releaseReservedRequest,isDelete:t.deleteItem,exported:function(e){t.exporting=!1}}}),e("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:t.uploadFile}})],1)])],1)])},dt=[],ht=i("7bb1"),ut=i("15ce"),pt=i("84ee"),mt=i("6a70"),ft=i("1c54"),gt=i("c3d2"),vt=i("bc3a"),yt=i.n(vt),bt=i("0c04"),xt=i("12b8"),wt=i("ad54"),kt=i("695e"),Ct=i("9234"),St=i("8bc3"),At=i("53c1"),It=i("3445"),Tt={name:"WorkflowInbox",components:{ValidationObserver:ht["a"],ValidationProvider:ht["b"],WorkflowTree:ut["a"],InboxList:pt["a"],Modal:mt["a"],Confirm:ft["a"],MultiSelectField:gt["a"],AddTask:bt["a"],SelectField:xt["a"],NumberField:wt["a"],TextBuilderField:kt["a"],SingleChoiceField:Ct["a"],PasswordField:St["a"],DateField:At["a"],FormFieldLabel:It["a"],ProcessHistory:W["a"],UnpinDashboard:Q["a"]},props:{filterItem:{type:Object,required:!0},listedData:{type:Array,required:!0}},data(){return{selectedNode:"",workflowId:0,selectedCompletedNode:"",myInboxCount:0,myInboxShow:!1,workflowList:[],selectedWorkflow:{},workflowRequestList:[],selectedProcess:{},form:{},repository:{},processActions:[],processActionsAddOn:[],fullView:!1,activeView:"GRID",groupKey:[],processForwardModal:!1,internalForward:{proceed:!1,users:[],groups:[]},userList:[],groupList:[],forwardUsers:[],forwardGroups:[],filterBy:[],sortBy:{criteria:"",order:"DESC"},historyTitle:"",totalItems:0,itemsPerPage:50,currentPage:1,masterFormId:0,dataImported:!1,userSignature:!1,taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntries:[],taskEntryList:[],taskMode:"",selectedTask:{},checkList:[],dataValidationValues:[],dataValidationModal:!1,dataValidationColumns:[{id:this.$nano.id(),name:"fieldName",label:"FIELD",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"formValue",label:"FORM DATA",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"ocrValue",label:"PDF DATA",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"STATUS"}],paymentTableModal:!1,totalPayment:0,lumpsumAmount:0,benefitType:"",benefitTypes:[{id:this.$nano.id(),label:"Monthly",value:"Monthly"},{id:this.$nano.id(),label:"Bi-weekly",value:"BiWeekly"},{id:this.$nano.id(),label:"Semi-monthly",value:"SemiMonthly"},{id:this.$nano.id(),label:"Weekly",value:"Weekly"}],numberOfApprovePayment:0,paymentTableColumns:[{id:this.$nano.id(),name:"paymentNumber",label:"Payment Number",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"baseAmount",label:"Payment Base Amount",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"claimAmount",label:"Claim Amount (20% Increased)",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"cumulativeTotal",label:"Cumulative Total",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"approval",label:"Approval",type:"SINGLE_SELECT"},{id:this.$nano.id(),name:"approvedDate",label:"Approved Date",type:"DATE"},{id:this.$nano.id(),name:"paymentDate",label:"Payment Date",type:"DATE"}],paymentTableValues:[],isPaymentFound:!1,jiraAccounts:[],advancedCommentsSheet:!1,commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:1,advancedCommentText:"",actionText:"",actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",isLoading:!1,refreshTree:!0,loadInitial:!0,actionConfirm:!1,actionConfirmAlert:!1,customReply:!1,userReply:!1,toRequester:!1,customCloseProcessSheet:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],activeViewLoad:null,hideColumns:[],addTaskEnabled:!1,loadingBarInbox:!1,historyProcessId:0,requestLockedModal:!1,requestForLockModal:!1,expand:!1,findValue:{},node:"",refreshCount:!1,exporting:!1,isDeleteConfirmationVisible:!1,deleteData:{},findValuename:"",findIcon:{},filterContains:[]}},computed:{...Object(h["c"])(["loadingBarPage","loadingBar"]),selectedRequestCount(){let t=this.workflowRequestList.filter(t=>!0===t.checked).length;return t<2}},watch:{item:{immediate:!0,deep:!0,handler(){if(this.filterItem){if(this.findValue=this.filterItem,this.findValue.label){let t=this.removeTimestampFromString(this.findValue.label);const e=t.split(" ");this.findValuename=e.slice(0,-1).join(" ").trim();let i=e[e.length-1]||"";"sent"===i?this.findIcon={icon:"eva-person-done",iconTootip:"Send",color:"orange"}:"common"===i?this.findIcon={icon:"mdi-inbox",iconTootip:"Common",color:"purple"}:"payment"===i?(this.findIcon={icon:"mdi-account-cash",iconTootip:"Payment",color:"yellow"},this.iconTootip="Payment"):"completed"===i?(this.findIcon={icon:"eva-checkmark-circle-2",iconTootip:"Completed",color:"green"},this.iconTootip="Completed"):"inbox"===i&&(this.findIcon={icon:"eva-email",iconTootip:"Inbox",color:"secondary"},this.iconTootip="inbox")}let t=JSON.parse(this.filterItem.filter),e=JSON.parse(t[0].filters);if(e.length){const t={IS_EQUALS_TO:"=",CONTAINS:"()",is_greater_than:">"},i=e.flatMap(e=>e.filters.map(e=>({criteria:e.selectedCriteria||e.criteria,condition:t[e.condition]||e.condition,value:e.selectedValue||e.value})));this.filterContains=i}this.expand=this.findValue.expand}}},workspaceId:{deep:!0,immediate:!0,handler(){this.workspaceId&&this.getRepositories()}},filterId:{deep:!0,immediate:!0,async handler(){"-1"===this.filterId?(this.showFilterList=!0,this.getFilterData()):this.filterId?(this.showFilterList=!1,this.filterList(),this.selectedIds=this.filterId):this.filterId||(this.showFilterList=!1,this.repositoryReportList=[])}}},created(){},methods:{stopEvent(){},removeTimestampFromString(t){return t.replace(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,"").trim()},deleteItem(){this.listedData.map(t=>{t.name===this.findValue.label&&(this.isDeleteConfirmationVisible=!0,this.deleteData={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!0})})},async findItem(){this.loadingBarInbox=!0,this.listedData.map(t=>{if(t.name===this.findValue.label){this.expand=!0;const e=JSON.parse(t.filterJson),i=JSON.parse(e[0].filters);this.filterListData={id:t.itemId,name:t.name,node:e[0].node,refreshCount:e[0].refreshCount,rId:e[0].uId,filterFrom:t.filterFrom,filters:i}}}),this.filterBy=this.filterListData.filters,this.node=this.filterListData.node,this.refreshCount=this.filterListData.refreshCount,this.filterFrom=this.filterListData.filterFrom,this.workflowId=this.filterListData.rId,this.itemId=0,this.getAppConnection(),this.isTestServer()?this.getUserWorkflowTest():(await this.getUserMyInbox(),await this.getUserWorkflow()),this.getUsers(),this.getGroups(),this.getTaskForm(),(this.isTenantSobha()||this.isTenantArmgroup())&&(this.activeViewLoad=setInterval(()=>{this.activeView="LIST",clearInterval(this.activeViewLoad)},1e3))},async exportDataExcelClose(){this.listedData.map(t=>{if(t.name===this.findValue.label){this.expand=!1;const e=JSON.parse(t.filterJson),i=JSON.parse(e[0].filters);this.filterListData={id:t.itemId,name:t.name,node:e[0].node,refreshCount:e[0].refreshCount,rId:e[0].uId,filterFrom:t.filterFrom,filters:i}}}),this.filterBy=this.filterListData.filters,this.node=this.filterListData.node,this.refreshCount=this.filterListData.refreshCount,this.filterFrom=this.filterListData.filterFrom,this.itemId=0;let t=this.filterListData.node,e=t.replace(/-\d+$/,"");this.selectedNode=e,this.workflowId=this.filterListData.rId,this.exporting=!0},exportDataExcel(){this.exporting=!0},checkTenant(){return!this.isTenantArmgroup()||(this.commentAction=2,!1)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"http://localhost:8080"===t)&&3===this.$store.state.session.tenantId},isTenantSobha(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t},isTestServer(){let t=location.origin;return"https://appuat.ezofis.com"===t&&3===this.$store.state.session.tenantId||"http://52.172.32.881"===t},addPaymentRow(){const t={paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)},removePaymentRow(t){this.paymentTableValues.splice(t,1)},calcOtherColumns(t){let e=0,i=this.paymentTableValues[t].baseAmount,s=i+.2*i;this.paymentTableValues[t].claimAmount=s.toFixed(2),this.paymentTableValues.forEach(t=>{e+=Number(t.claimAmount)}),this.paymentTableValues[t].cumulativeTotal=e.toFixed(2)},updateFilter(t){this.currentPage=1,this.filterBy=t,this.refresh()},updateSortBy(t){this.currentPage=1,this.sortBy=t,this.refresh()},addTaskEntry(t,e){this.selectedProcess.processId?this.insertTaskEntry(t,e):(this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e))},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},viewTask(t){let e=this.taskList.filter(e=>e.formEntryId===t);e.length&&(this.selectedTask=e[0].entryInfo[0],this.selectedTask={id:e[0].formEntryId,...e[0].entryInfo[0]}),this.taskMode="EDIT",this.addTaskSheet=!0},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},refresh(){1===this.currentPage&&(this.workflowRequestList=[],this.groupBy=[],this.totalItems=0,this.selectedProcess={}),this.myInboxShow?(this.getUserMyInbox(),this.getMyInboxData()):this.getWorkflowData()},async getSelectedNode(){this.workflowRequestList=[],this.groupBy=[],this.sortBy={criteria:"",order:"DESC"},this.currentPage=1,this.totalItems=0,this.selectedProcess={};const t=this.node.split("-");this.selectedNode=t[0],this.selectedCompletedNode="",this.myInboxShow&&(this.selectedWorkflow={}),this.myInboxShow=!1,"My Inbox"!=this.findValuename?(this.selectedWorkflow.id!=t[1]&&(this.selectedWorkflow=this.workflowList.find(e=>e.id==t[1]),this.form={},this.repository={},this.selectedWorkflow.wFormId?await this.getForm():this.selectedWorkflow.repositoryId&&await this.getRepository(),this.getHideColumns()),3===t.length&&(this.selectedCompletedNode=t[2]),this.getWorkflowData()):(this.myInboxShow=!0,this.getMyInboxData())},getWorkflowData(){"inbox"===this.selectedNode?this.isTestServer()?this.getInboxListTest():this.getInboxList():"sent"===this.selectedNode?this.isTestServer()?this.getSentListTest():this.getSentList():"completed"===this.selectedNode?this.isTestServer()?this.getCompletedListTest():this.getCompletedList():"payment"===this.selectedNode?this.getPaymentList():"common"===this.selectedNode?this.getCommonInbox():(this.groupKey=[],this.totalItems=0),this.refreshCount&&this.refreshProcessCount()},showHistory(t){this.selectedProcess=this.workflowRequestList.find(e=>e.processId===t),this.historyProcessId=t},showSubHistory(t,e){const i=this.workflowRequestList.find(t=>t.processId===e);i&&(this.selectedProcess=i.subworkflowTransaction.find(e=>e.processId===t),this.selectedProcess&&(this.selectedProcess.id=this.selectedProcess.subWorkFlowId,this.historyProcessId=t))},async getMyInboxData(){"inbox"===this.selectedNode?this.isTenantGOTO()?(this.selectedWorkflow=this.workflowList.find(t=>1==t.id),this.selectedWorkflow.wFormId&&await this.getForm(),this.getMyInboxListGOTO()):this.getMyInboxList():this.groupKey=[],this.refreshCount&&this.refreshProcessCount()},async refreshProcessCount(){if(this.selectedNode&&(this.refreshTree=!1),this.isTestServer()){const{error:t,payload:e}=await l["t"].getUserWorkflowTest();if(t)return void this.$alert.error(t);e.length&&this.workflowList.forEach(t=>{let i=e.findIndex(e=>e.id===t.id);i>-1&&(t.inboxCount=e[i].inboxCount,t.processCount=e[i].processCount,t.completedCount=e[i].completedCount,t.paymentProcessCount=e[i].paymentProcessCount,t.runningCount=e[i].runningCount)})}else{const{error:t,payload:e}=await l["t"].getUserWorkflow();if(t)return void this.$alert.error(t);e.length&&this.workflowList.forEach(t=>{let i=e.findIndex(e=>e.id===t.id);i>-1&&(t.inboxCount=e[i].inboxCount,t.processCount=e[i].processCount,t.completedCount=e[i].completedCount,t.paymentProcessCount=e[i].paymentProcessCount,t.runningCount=e[i].runningCount)})}},async showRequestPreview(t,e,i){this.processActions=[],this.processActionsAddOn=[],this.internalForward={proceed:!1,users:[],groups:[]},this.userSignature=!1;let s=this.workflowRequestList.filter(i=>i.processId===t&&i.id===e);if(this.checkList=[],s.length){if(this.myInboxShow||(this.selectedProcess=s[0]),"inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){let t;this.myInboxShow?(this.form={},this.selectedWorkflow=this.workflowList.find(t=>t.id==s[0].id),t=JSON.parse(this.selectedWorkflow.flowJson),this.selectedWorkflow.wFormId&&0===Object.keys(this.form).length&&await this.getForm(),this.getHideColumns(),this.selectedProcess=s[0]):t=JSON.parse(this.selectedWorkflow.flowJson),this.processActions=[],this.processActionsAddOn=[],this.isTenantArmgroup()&&"psyCrYXtKfcs-EJmrYIhv1"===this.selectedProcess.activityId?t.rules.forEach(t=>{t.fromBlockId===this.selectedProcess.activityId&&"Force Close"===t.proceedAction&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}):t.rules.forEach(t=>{if(t.fromBlockId===this.selectedProcess.activityId)if(this.isTenantArmgroup()&&"common"===this.selectedNode&&"szS6B-q1x9acpB83rP6jT"===this.selectedProcess.activityId){if(this.$store.state.session.groups){let e=this.$store.state.session.groups;if(e.length){let i=e.find(t=>3===t.id);i&&(this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1}))}}}else this.processActions.push(t.proceedAction),this.processActionsAddOn.push({action:t.proceedAction,remarks:t.remarks||!1,passwordAccess:t.passwordAccess||!1,confirm:t.confirm||!1})}),t.blocks.forEach(t=>{t.id===this.selectedProcess.activityId&&("Forward"===this.selectedProcess.lastAction&&"REPLY"===t.settings.forwardedUserAction?(this.processActions=[],this.processActionsAddOn=[],this.processActions.push("Reply to "+this.selectedProcess.transaction_createdByEmail),this.processActionsAddOn.push({action:"Reply to "+this.selectedProcess.transaction_createdByEmail,remarks:!0,passwordAccess:!1,confirm:!1}),this.customReply=!0):(t.settings.userReply&&-1===this.processActions.indexOf("Reply")&&(this.processActions.push("Reply to "+this.selectedProcess.lastActionStageName),this.userReply=!0),t.settings.toInitiator&&-1===this.processActions.indexOf("To Requester")&&(this.processActions.push("To Requester"),this.toRequester=!0),t.settings.internalForward&&(this.isTenantGOTO()?this.processActions.push("Assign"):this.processActions.push("Forward"),this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],t.settings.internalForwardUser&&t.settings.internalForwardUser.length&&t.settings.internalForwardUser.forEach(t=>{let e=this.userList.filter(e=>e.value==t);e.length&&this.internalForward.users.push({id:this.$nano.id(),label:e[0].label,value:t})}),t.settings.internalForwardGroup&&t.settings.internalForwardGroup.length&&t.settings.internalForwardGroup.forEach(t=>{let e=this.groupList.filter(e=>e.value==t);e.length&&this.internalForward.groups.push({id:this.$nano.id(),label:e[0].label,value:t})}))),this.userSignature=t.settings.userSignature,t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1})))}),this.selectedProcess.userType&&"SUPERUSER"===this.selectedProcess.userType&&this.processActions.push("Force Close")}else"sent"===this.selectedNode&&(this.isTenantGOTO()?this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback")):"http://demo.ezofis.com"!==origin&&"http://52.172.32.88"!==origin||6===this.selectedWorkflow.id&&this.selectedProcess.transaction_createdBy===this.$store.state.session.id&&(this.processActions=[],this.processActions.push("Rollback")));this.selectedWorkflow.wFormId&&0===Object.keys(this.form).length&&await this.getForm(),this.getTaskList(),this.fullView=!0}i&&(("inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode||this.myInboxShow)&&this.selectedProcess.hasTicketMultiUser,this.fullView=!0)},async releaseReservedRequest(t){let e={workflowId:t.id,processId:t.processId,activityId:t.activityId,isLock:!1};const{error:i}=await l["t"].updateRequestReserved(e);i&&this.$alert.error(i)},async updateRequestReserved(){let t={workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,activityId:this.selectedProcess.activityId,isLock:!0};const{error:e}=await l["t"].updateRequestReserved(t);e?this.$alert.error(e):(this.requestForLockModal=!1,this.selectedProcess.ticketLockedBy=this.$store.state.session.id,this.fullView=!0)},async getAppConnection(){this.jiraConnect=!1;const{error:t,payload:e}=await l["j"].getJiraConnection({filterBy:[]});t?this.$alert.error(t):e.forEach(t=>{"jira"===t.cloudName&&this.jiraAccounts.push(t)})},async getUserMyInbox(){const{error:t,payload:e}=await l["t"].getUserMyInbox();t?this.$alert.error(t):e&&(this.myInboxCount=Number(e))},async getUserWorkflowTest(){this.refreshTree=!0,this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await l["t"].getUserWorkflowTest();this.$store.commit("hideLoadingBarPage"),t?this.$alert.error(t):e.length&&(this.workflowList=e)},async getUserWorkflow(){this.refreshTree=!0;const{error:t,payload:e}=await l["t"].getUserWorkflow();t?this.$alert.error(t):e.length&&(this.workflowList=e)},async getMyInboxListGOTO(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getMyInboxList(t,this.selectedWorkflow.id);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),this.totalItems=0,i.data.forEach(t=>{t.key?this.totalItems<t.totalCount&&(this.totalItems=t.totalCount):this.totalItems=i.meta.totalItems;let e=[],s=[];if(t.key&&t.value.length){let i=JSON.parse(this.selectedWorkflow.flowJson);i.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":case"Assign":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),i.blocks.forEach(i=>{i.id===t.value[0].activityId&&(i.settings.formEditPartialAccess&&(s=i.settings.formEditControls),i.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],e.push({id:this.$nano.id(),name:"Forward",icon:"mdi-arrow-right",color:"orange"})))})}1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:s,totalCount:t.totalCount,checkboxRequired:!0}),t.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,checked:!1,starred:!1,visible:!0,checkboxRequired:!0})})}))},async getMyInboxList(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getMyInboxList(t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),this.totalItems=i.meta.totalItems,i.data.forEach(t=>{let e=[],i=[];if(t.key&&t.value.length){this.selectedWorkflow=this.workflowList.find(e=>e.id==t.workflowId);let s=JSON.parse(this.selectedWorkflow.flowJson);s.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),s.blocks.forEach(s=>{s.id===t.value[0].activityId&&(s.settings.formEditPartialAccess&&(i=s.settings.formEditControls),s.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],e.push({id:this.$nano.id(),name:"Forward",icon:"mdi-arrow-right",color:"orange"})))})}let s=!1;this.isTenantGOTO()&&(s=!0),1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:i,totalCount:t.totalCount,checkboxRequired:s}),t.value.forEach(e=>{e.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,checked:!1,starred:!1,visible:!0,checkboxRequired:s})})})}))},async getCommonInbox(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getCommonList(this.selectedWorkflow.id,t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i.meta.totalItems&&(this.totalItems=i.meta.totalItems,i.data.forEach(t=>{1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,totalCount:t.totalCount}),t.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,checked:!1,starred:!1,visible:!0})})})))},async getInboxListTest(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getInboxListTest(this.selectedWorkflow.id,t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i.meta.totalItems&&(this.totalItems=0,i.data.forEach(t=>{this.totalItems+=t.totalCount;let e=[],i=[];if(t.key&&t.value.length){let s=JSON.parse(this.selectedWorkflow.flowJson);s.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),s.blocks.forEach(s=>{s.id===t.value[0].activityId&&(s.settings.formEditPartialAccess&&(i=s.settings.formEditControls),s.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],e.push({id:this.$nano.id(),name:"Assign",icon:"mdi-arrow-right",color:"orange"})))})}let s=!1;this.isTenantGOTO()&&(s=!0),1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:i,totalCount:t.totalCount,checkboxRequired:s}),t.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,checked:!1,starred:!1,visible:!0,checkboxRequired:s})})})))},async getInboxList(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getInboxList(this.selectedWorkflow.id,t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i.meta.totalItems&&(this.totalItems=0,i.data.forEach(t=>{this.totalItems+=t.totalCount;let e=[],i=[];if(t.key&&t.value.length){let s=JSON.parse(this.selectedWorkflow.flowJson);s.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":case"Assign":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),s.blocks.forEach(s=>{s.id===t.value[0].activityId&&(s.settings.formEditPartialAccess&&(i=s.settings.formEditControls),s.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],e.push({id:this.$nano.id(),name:"Assign",icon:"mdi-arrow-right",color:"orange"})))})}let s=!1;this.isTenantGOTO()&&(s=!0),1===this.currentPage&&(this.isTenantArmgroup()&&(e=[]),this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:i,totalCount:t.totalCount,checkboxRequired:s})),t.value.forEach(e=>{s=!1,this.isTenantArmgroup()&&"szS6B-q1x9acpB83rP6jT"===e.activityId&&(s=!0),this.workflowRequestList.push({key:t.key,...e,checked:!1,starred:!1,visible:!0,checkboxRequired:s,expandSubWorkflow:!1})})})))},async getSentListTest(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getSentListTest(this.selectedWorkflow.id,t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i&&(1===this.currentPage&&this.groupKey.push({name:"",checked:!1,expand:!0}),this.totalItems=i.meta.totalItems,i.data.length&&i.data[0].value.forEach(t=>{this.workflowRequestList.push({key:"",...t,starred:!1,visible:!0})})))},async getSentList(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getSentList(this.selectedWorkflow.id,t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i&&(1===this.currentPage&&this.groupKey.push({name:"",checked:!1,expand:!0}),this.totalItems=i.meta.totalItems,i.data.length&&i.data[0].value.forEach(t=>{this.workflowRequestList.push({key:"",...t,starred:!1,visible:!0,expandSubWorkflow:!1})})))},async getCompletedListTest(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,filterValue:this.selectedCompletedNode};const{error:e,payload:i}=await l["t"].getCompletedListTest(this.selectedWorkflow.id,t);if(this.loadingBarInbox=!1,e)this.$alert.error(e);else if(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i){var s;if(1===this.currentPage&&this.groupKey.push({name:"",checked:!1,expand:!0}),this.totalItems=i.meta.totalItems,this.selectedCompletedNode)this.totalItems=null===(s=this.selectedWorkflow.completedInfo.find(t=>t.value===this.selectedCompletedNode))||void 0===s?void 0:s.totalCount;i.data.length&&i.data[0].value.forEach(t=>{this.workflowRequestList.push({key:"",...t,starred:!1,visible:!0})})}},async getCompletedList(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={sortBy:this.sortBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,filterValue:this.selectedCompletedNode};const{error:e,payload:i}=await l["t"].getCompletedList(this.selectedWorkflow.id,t);if(this.loadingBarInbox=!1,e)this.$alert.error(e);else if(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i){var s;if(1===this.currentPage&&this.groupKey.push({name:"",checked:!1,expand:!0}),this.totalItems=i.meta.totalItems,this.selectedCompletedNode)this.totalItems=null===(s=this.selectedWorkflow.completedInfo.find(t=>t.value===this.selectedCompletedNode))||void 0===s?void 0:s.totalCount;i.data.length&&i.data[0].value.forEach(t=>{this.workflowRequestList.push({key:"",...t,starred:!1,visible:!0,expandSubWorkflow:!1})})}},async getPaymentList(){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[],this.loadingBarInbox=!0);let t={filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:e,payload:i}=await l["t"].getPaymentList(this.selectedWorkflow.id,t);this.loadingBarInbox=!1,e?this.$alert.error(e):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),i.meta.totalItems&&(this.totalItems=0,i.data.forEach(t=>{this.totalItems+=t.totalCount;let e=[],i=[];if(t.key&&t.value.length){let s=JSON.parse(this.selectedWorkflow.flowJson);s.rules.forEach(i=>{if(i.fromBlockId===t.value[0].activityId){let t="",s="";switch(i.proceedAction){case"Forward":case"Reply":t="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":t="mdi-check",s="positive";break;case"Reject":case"Terminate":t="mdi-close",s="red";break;default:t="mdi-arrow-left",s="primary";break}e.push({id:this.$nano.id(),name:i.proceedAction,icon:t,color:s})}}),s.blocks.forEach(s=>{s.id===t.value[0].activityId&&(s.settings.formEditPartialAccess&&(i=s.settings.formEditControls),s.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],e.push({id:this.$nano.id(),name:"Assign",icon:"mdi-arrow-right",color:"orange"})))})}let s=!1;this.isTenantGOTO()&&(s=!0),1===this.currentPage&&this.groupKey.push({name:t.key,checked:!1,expand:!0,actions:e,actionFields:i,totalCount:t.totalCount,checkboxRequired:s}),t.value.forEach(e=>{this.workflowRequestList.push({key:t.key,...e,checked:!1,starred:!1,visible:!0,checkboxRequired:s})})})))},async getForm(){console.log(this.selectedWorkflow);const{error:t,payload:e}=await l["g"].getForm(this.selectedWorkflow.wFormId);t?this.$alert.error(t):(e&&(this.form=e),console.log(this.form,"form"))},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.selectedWorkflow.repositoryId);t?this.$alert.error(t):e&&(this.repository=e)},async requestAction(t,e=!0,i=!0){if(e){if(this.isTenantGOTO()&&"Assign"===t&&this.internalForward.proceed)return void(this.processForwardModal=!0);if("Forward"===t&&this.internalForward.proceed)return void(this.processForwardModal=!0);if(this.isTenantArmgroup()&&"Assign"===t)return void(this.processForwardModal=!0)}if(i){let e=this.processActionsAddOn.find(e=>e.action===t);if(e&&Object.keys(e).length){if(this.actionRemarks=e.remarks,this.actionPassword=e.passwordAccess,this.actionConfirm=e.confirm,this.actionPassword)return this.actionText=t,void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionText=t,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return this.actionText=t,void(this.actionConfirmAlert=!0)}}let s,a=location.origin;this.isTenantGOTO()&&"Rollback"===t?this.forwardUsers.push(this.selectedProcess.transaction_createdBy):"http://demo.ezofis.com"!==a&&"http://52.172.32.88"!==a||6===this.selectedWorkflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy),this.customReply&&t.indexOf("Reply")>-1&&(t="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy)),this.userReply&&t.indexOf("Reply")>-1?t="UserReply":this.toRequester&&"To Requester"===t&&(t="ToInitiator"),this.selectedProcess.review=t,s=!(this.isTenantArmgroup()||"https://trial.ezofis.com"===a&&12===this.$store.state.session.tenantId)||1!==this.selectedWorkflow.id||"Recommend to Approve"!==t&&"Recommend to Reject"!==t?{workflowId:this.selectedWorkflow.id,transactionId:this.selectedProcess.transactionId,review:t,formData:this.selectedProcess.formData,userIds:this.forwardUsers,groupIds:this.forwardGroups}:{workflowId:this.selectedWorkflow.id,transactionId:this.selectedProcess.transactionId,review:t,userIds:this.forwardUsers,groupIds:this.forwardGroups},this.$store.commit("showLoadingBarSave");const{error:o,payload:r}=await l["t"].processTransaction(s);this.$store.commit("hideLoadingBarSave"),console.log(r),o?this.$alert.error(o):(""===s.review?this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"):s.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),this.selectedProcess={},this.processActions=[],this.processActionsAddOn=[],this.customReply=!1,this.userReply=!1,this.toRequester=!1,this.forwardUsers=[],this.fullView=!1,this.refresh())},async getUsers(){this.userList=[];const{error:t,payload:e}=await l["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.isTenantArmgroup()?"1"!==t.id&&this.userList.push({id:this.$nano.id(),label:t.value,value:t.id,firstName:t.firstName,lastName:t.lastName||""}):t.id!==this.$store.state.session.id&&this.userList.push({id:this.$nano.id(),label:t.value,value:t.id})})},async getGroups(){const{error:t,payload:e}=await l["i"].getGroupList();t?this.$alert.error("Error fetching groups"):this.groupList=e&&e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))},async uploadFile(t){const e=t.target.files[0];if("text/csv"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type){const s=new FormData;s.append("formId",this.masterFormId),s.append("file",e);try{this.$store.commit("showLoadingBarSave");const t=await yt()({url:"https://appuat.ezofis.com/ezofisapi/api/form/uploadMasterFile",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBarSave");const{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Data imported successfully")}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.dataImported=!0,t.target.value=""}else this.$alert.error("Please upload a csv/excel file")},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await l["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson)))},async getTaskFormEntry(t,e){const{error:i,payload:s}=await l["g"].getFormEntry(t,e);if(i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async getTaskList(){this.taskEntries=[];const{error:t,payload:e}=await l["t"].getTaskEntries(this.selectedWorkflow.id,this.selectedProcess.processId,{filterBy:[{filters:[{criteria:"createdBy",condition:"IS_EQUALS_TO",value:this.$store.state.session.id}]}]});if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);this.taskList=e,e.forEach(t=>{let e="",s="",a="",o="",r="",n="";i.forEach(i=>{switch(i.label){case"Task Name":e=t.entryInfo[0][i.id];break;case"Task Assign":s=t.entryInfo[0][i.id];break;case"Start Date":a=t.entryInfo[0][i.id];break;case"End Date":o=t.entryInfo[0][i.id];break;case"Priority":r=t.entryInfo[0][i.id];break;case"Task Status":n=t.entryInfo[0][i.id];break}}),this.taskEntries.push({id:t.entryInfo[0].itemid,name:e,assigned:s,startDate:a,endDate:o,priority:r,status:n})})}},async insertTaskEntry(t,e){const{error:i}=await l["t"].insertTaskEntry({workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,transactionId:this.selectedProcess.transactionId,wFormId:t,formEntryId:e});i?this.$alert.error(i):this.getTaskList()},async dataValidation(t,e=!0){const{error:i,payload:s}=await l["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:t}],groupCondition:""}],mode:"BROWSE"});i?this.$alert.error(i):s.length?(this.dataValidationValues=s,e&&(this.dataValidationModal=!0)):(this.dataValidationValues=[],e&&this.$alert.info("Data not found"))},async showPaymentTable(){this.totalPayment=0,this.lumpsumAmount=0,this.benefitType="",this.numberOfApprovePayment=0,this.paymentTableValues=[],await this.getPaymentTable(),this.paymentTableModal=!0},async getPaymentTable(){this.isPaymentFound=!1;const{error:t,payload:e}=await l["d"].getPaymentTable({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length&&(this.paymentTableValues=e,this.isPaymentFound=!0)},export_Data(){if(this.paymentTableValues.length){let t=[];t=this.paymentTableValues.map(t=>({"Payment Number":t.paymentNumber,"Base Amount":t.baseAmount,"Claim Amount":t.claimAmount,"Cumulative Total":t.cumulativeTotal,Approval:t.approval,"Approved Date":t.approvedDate,"Payment Date":t.paymentDate,"Benefit Type":t.benefitType})),Object(z["a"])(t)}},paymentApprove(){this.numberOfApprovePayment?this.paymentTableValues.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved",t.approvedDate=this.$day.newDate();let e=new Date;e.setDate(e.getDate()+1);let i=e.getMonth()+1;e.getMonth()+1<10&&(i="0"+e.getMonth());let s=e.getDate();e.getDate()<10&&(s="0"+e.getDate()),t.paymentDate=`${e.getFullYear()}-${i}-${s}`}else t.approval="",t.approvedDate="",t.paymentDate=""}):this.$alert.warning("Specify the number of payments to approve")},clearPaymentApprove(){this.numberOfApprovePayment=0,this.paymentTableValues.forEach(t=>{t.approval="",t.approvedDate=""})},updateApprovalDate(t){if("Approved"===this.paymentTableValues[t].approval){this.paymentTableValues[t].approvedDate=this.$day.newDate();let e=new Date;e.setDate(e.getDate()+1);let i=e.getMonth()+1;i<10&&(i="0"+i);let s=e.getDate();s<10&&(s="0"+s),this.paymentTableValues[t].paymentDate=`${e.getFullYear()}-${i}-${s}`}else this.paymentTableValues[t].approvedDate="",this.paymentTableValues[t].paymentDate=""},async paymentCalculation(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=7;break;case"BiWeekly":case"SemiMonthly":i=13;break;case"Weekly":i=25;break}for(let s=1;s<=i;s++){let t=this.totalPayment,i=t+.2*t;if(e+=i,e+this.lumpsumAmount>4e3)return;this.paymentTableValues.push({paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",benefitType:this.benefitType})}},async saveAdvancedComment(){if(this.advancedCommentText&&this.selectedProcess.processId){const{error:t}=await l["t"].insertProcessComment(this.selectedWorkflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction});if(t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.actionRemarks=!1,this.actionPassword=!1,this.requestAction(this.actionText,!1,!1),this.actionText=""}},async validatePassword(){const t=await this.$refs.passwordForm.validate();if(!t)return;this.isLoading=!0;const{error:e}=await l["a"].validatePassword({password:this.actionUserPassword});this.isLoading=!1,e?this.$alert.warning(e):(this.actionUserPassword="",this.actionPasswordConfirm=!1,this.actionRemarks?this.advancedCommentsSheet=!0:(this.actionRemarks=!1,this.actionPassword=!1,this.requestAction(this.actionText,!1,!1),this.actionText=""))},async updatePaymentTable(t){this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let e={workflowId:this.selectedWorkflow.id,processId:this.selectedProcess.processId,paymentTableList:this.paymentTableValues};if(this.isPaymentFound){const{error:t}=await l["d"].updatePaymentTable(this.selectedProcess.processId,e);if(t)return void this.$alert.error(t)}else{const{error:t}=await l["d"].savePaymentTable(e);if(t)return void this.$alert.error(t)}t&&this.requestAction(t,!1,!1)},async getHideColumns(){this.hideColumns=[];const{error:t,payload:e}=await l["k"].getHideColumns(this.selectedWorkflow.id);t?this.$alert.error(t):e.length&&(this.hideColumns=e)}}},Lt=Tt,Pt=(i("1ea3"),i("8255"),Object(C["a"])(Lt,ct,dt,!1,null,"59f7554e",null)),_t=Pt.exports,Mt=function(){var t=this,e=t._self._c;return t.expand?e("div",{attrs:{id:"sankey"===t.typeData?"reportOverview":"workfolw_overview-dashboard"}},[e("div",{staticClass:"row q-pb-sm",staticStyle:{cursor:"pointer","border-bottom":"1px solid var(--divider-color)","margin-bottom":"5px","margin-top":"10px"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.findIcon.iconTootip,expression:"findIcon.iconTootip",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:t.findIcon.icon,color:t.findIcon.color,size:"25px"}})],1),e("span",{staticClass:"col text-base font-bold text-uppercase items-center text-black ellipsis",staticStyle:{cursor:"pointer","border-right":"0px"}},[t._v(t._s(t.findValuename)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold text-uppercase items-center ellipsis",staticStyle:{color:"#475569",width:"100%",cursor:"pointer","border-right":"0px"}},[t._v(" "+t._s(t.findValue.description)+" ")])]),t.filterContains.length?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-sm col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent"},t._l(t.filterContains,(function(i,s){return e("div",{key:"model"+s,staticClass:"col-12 q-mr-sm row items-center filerItem",staticStyle:{width:"100%"}},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","border-right":"0px"}},[t._v(" "+t._s(i.label))])])})),0)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"close",expression:"'close'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-upward-outline"},on:{click:function(e){return e.stopPropagation(),t.findItem.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"UnPin",expression:"'UnPin'",modifiers:{bottom:!0}}],attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px col-auto",rotate:"rotate-45"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}})],1),t.loadingBarContent?e("div",[e("ProgressBar",{attrs:{"container-height":"75vh","container-color":"white","progress-bars":t.progressBars}})],1):e("div",{staticClass:"chart chartBox"},[e("div",{staticClass:"row text-capitalize items-center header"},[e("div",{staticClass:"col-8"},[t._v(" "+t._s(t.filterItem.workflowStatus)+" ")]),e("div",{staticClass:"col-4"})]),"report"===t.filterListData.type?e("div",{staticClass:"column"},[[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(t.findValue.description)+" ")])],[e("div",{staticClass:"text-primary col self-center q-mt-lg q-mb-sm count"},[t._v(" "+t._s(t.count)+" ")])]],2):t._e(),"Pie"===t.filterListData.type?e("div",t._l(t.pieChartDatas,(function(i,s){return e("div",{key:"dropdown-pie"+s,staticClass:"col-4 q-pr-sm q-pb-sm",staticStyle:{height:"350px"}},[e("PieChart",{attrs:{title:i.name,"x-data":i.xAxis,"y-data":i.yAxis,options:t.pieChartOptions,dashboard:i.dashboard,"dashboard-view":!0},on:{pin:function(e){return t.saveFilter(i,"Pie")}}})],1)})),0):t._e(),"bar"===t.filterListData.type?e("div",t._l(t.barChartDatas,(function(i,s){return e("div",{key:"overall-bar"+s,staticClass:"col-4 q-pr-sm q-pb-sm",staticStyle:{height:"350px"}},[e("BarChart",{attrs:{title:i.key,"x-data":i.xAxis,"y-data":i.yAxis,"is-horizontal":!0,"is-stacked":!0,options:t.barChartOptions,dashboard:i.dashboard,"dashboard-view":!0},on:{pin:function(e){return t.saveFilter(i,"bar")}}})],1)})),0):t._e(),"sankey"===t.typeData?[e("div",{staticClass:"workflowCharts q-mb-sm"},[e("div",{staticClass:"row border-bottom"},[e("div",{staticClass:"text-bold q-pa-sm col-auto"},[t._v("Data Link Chart")]),t.workflowId?[e("div",{staticClass:"row col"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],staticClass:"q-mr-sm q-mt-sm",attrs:{name:"eva-funnel-outline",color:"secondary",size:"24px"}}),t._l(t.sankeyChartsFilter,(function(i,s){return[e("div",{key:i.id,staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("SelectField",{staticClass:"fieldList q-mb-sm",attrs:{options:t.formFields,"is-clearable":!1},on:{input:t.loadingOverviewChart},model:{value:t.sankeyChartsFilter[s],callback:function(e){t.$set(t.sankeyChartsFilter,s,e)},expression:"sankeyChartsFilter[index]"}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"remove filter",expression:"'remove filter'",modifiers:{top:!0}}],staticClass:"plus q-mx-sm",attrs:{icon:"mdi-close",size:"14px","is-flat":"",color:"red"},on:{click:function(e){return t.removeSankeyChartsFilter(s)}}})],1)])])]})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"add filter",expression:"'add filter'",modifiers:{top:!0}}],attrs:{icon:"mdi-plus",color:"secondary"},on:{click:t.addSankeyChartsFilter}})],2),e("div",{staticClass:"col-auto"}),e("div",{staticClass:"row col-auto"},[e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),t._l(t.dataViews,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.dataView===i.value?i.activeIcon:i.icon,color:t.dataView===i.value?"secondary":"gray"},on:{click:function(e){t.dataView=i.value}}})}))],2)]:t._e()],2),"SANKEY"===t.dataView?e("div",{staticClass:"row chart"},[e("vue-highcharts",{ref:"refCharts",staticStyle:{width:"100%"},attrs:{highcharts:t.Highcharts,options:t.sankeyCharts}})],1):"TABLE"===t.dataView?e("div",[e("div",{staticClass:"workflowReports"},[e("BaseScrollbar",{attrs:{height:"300px"}},[e("table",[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.name)+" ")])})),0)]),e("tbody",t._l(t.tableReport,(function(i){return e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)})),0)])])],1)]):t._e()])]:t._e(),"fullchart"===t.filterListData.type?e("div",[e("div",{staticClass:"col-4 q-pr-sm q-pb-sm",staticStyle:{height:"350px"}},[e("div",{staticClass:"col-12 q-pr-sm q-mb-sm"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs row cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",staticStyle:{width:"100%"},on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getWorkflowChartCount()}}},[t._v(" Month ")]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getWorkflowChartCount(t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)])])]):t._e()],2),e("ConfirmDelete",{attrs:{"delete-data":t.deleteData,label:t.findValuename},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1):e("div",{staticClass:"col-12"},[e("div",{staticClass:"text-base font-bold text-uppercase items-center text-black row",staticStyle:{cursor:"pointer"},attrs:{id:"sankey"===t.typeData?"reportOverview":"workfolw_overview-dashboard"},on:{click:t.findItem}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.findIcon.iconTootip,expression:"findIcon.iconTootip",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:t.findIcon.icon,color:t.findIcon.color,size:"25px"}})],1),e("span",{staticClass:"col text-base font-bold text-uppercase items-center text-black ellipsis",staticStyle:{cursor:"pointer","border-right":"0px"}},[t._v(t._s(t.findValuename)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold text-uppercase items-center ellipsis",staticStyle:{color:"#475569",width:"100%",cursor:"pointer","border-right":"0px"}},[t._v(" "+t._s(t.findValue.description)+" ")])]),t.filterContains.length?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-sm col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent",on:{click:function(t){t.stopPropagation()}}},t._l(t.filterContains,(function(i,s){return e("div",{key:"model"+s,staticClass:"col-12 q-mr-sm row items-center filerItem",staticStyle:{width:"100%"}},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","border-right":"0px"}},[t._v(" "+t._s(i.label))])])})),0)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"open",expression:"'open'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-downward-outline"},on:{click:function(e){return e.stopPropagation(),t.findItem.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"UnPin",expression:"'UnPin'",modifiers:{bottom:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}}),e("ConfirmDelete",{attrs:{label:t.findValuename,"delete-data":t.deleteData},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1)])},Ft=[],Dt=(i("13d5"),i("9254")),Bt=i("c2d0"),Ot=i("e8ea"),Et=i("9b4a"),Nt=i("56e0"),$t=i.n(Nt);p()(f.a),T()(f.a),$t()(f.a),Et["a"].register(Et["d"],Ot["b"],Ot["a"]);var Rt={name:"DashboardWorkflowOverview",components:{BarChart:Dt["a"],PieChart:Bt["a"],VueHighcharts:d.a,ConfirmDelete:Q["a"],ProgressBar:Z["a"],SelectField:xt["a"]},props:{filterItem:{type:Object,required:!0},listedData:{type:Array,required:!0}},data(){return{expand:!1,workflowId:0,count:0,pieChartData:[],pieChartDatas:[],pieChartOptions:{chart:{height:"85%"}},barChartData:[],barChartDatas:[],barChartOptions:{chart:{height:"85%"}},Highcharts:f.a,chartData:{chart:{type:"spline",height:"330px"},title:{text:""},subtitle:{text:""},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{title:{text:"Count"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#bfa0fe"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getWorkflowChartCount(t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getWorkflowChartCount(this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},findIcon:{},deleteData:{},isDeleteConfirmationVisible:!1,sucess:!1,loadingBarContent:!1,progressBars:[{width:"30%"},{width:"50%"},{width:"70%"}],sankeyChartsFilter:[],sankeyCharts:{title:{text:""},credits:{enabled:!1},accessibility:{point:{valueDescriptionFormat:"{index}. {point.from} to {point.to}, {point.weight}."}},series:[{keys:["from","to","weight"],data:[],type:"sankey"}]},tableReport:[],tableReportData:[],dataViews:[{id:this.$nano.id(),label:"Sankey Diagram",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"},{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"}],dataView:"SANKEY",kanbanSettings:[],kanbanSettingsList:[],isVisibleKanbanView:!1,showKanbanView:!1,workflowProcessList:[],typeData:"",columns:[],findValuename:"",filterContains:[]}},computed:{},watch:{item:{immediate:!0,deep:!0,handler(){if(this.filterItem){this.findValue=this.filterItem,this.expand=this.findValue.expand,this.findValue.label&&(this.findValuename=this.removeTimestampFromString(this.findValue.label));let t=JSON.parse(this.findValue.filterJson),e=t[0].type;this.typeData=e,console.log(t,"parse"),"report"===e?this.findIcon={icon:"mdi-finance",iconTootip:"Workflow Request",color:"orange"}:"Pie"===e?this.findIcon={icon:"mdi-chart-pie",iconTootip:"Workflow Pie Chart",color:"purple"}:"fullchart"===e?(this.findIcon={icon:"mdi-chart-line",iconTootip:"Workflow Line Chart",color:"yellow"},this.iconTootip="Payment"):"bar"===e?(this.findIcon={icon:"mdi-chart-bar",iconTootip:"Workflow Bar Chart",color:"green"},this.iconTootip="Completed"):"sankey"===e&&(this.findIcon={icon:"mdi-chart-sankey-variant",iconTootip:"Workflow sankey Chart",color:"purple"},this.iconTootip="Completed")}let t=JSON.parse(this.filterItem.filter);console.log(t,"filterds");let e=t[0].label;if(console.log(e,"filterdss"),e.length){const t=e;this.filterContains=t}console.log}},typeData:{immediate:!0,deep:!0,handler(){"sankey"===this.typeData&&0!==this.workflowId&&("SANKEY"===this.dataView?this.overviewChart():"TABLE"===this.dataView&&this.overviewTableReport())}},dataView:{immediate:!0,deep:!0,handler(){"sankey"===this.typeData&&0!==this.workflowId&&("SANKEY"===this.dataView?this.overviewChart():"TABLE"===this.dataView&&this.overviewTableReport())}}},created(){},methods:{deleteItem(){this.listedData.map(t=>{t.name===this.findValue.label&&(console.log(t,"itemd"),this.isDeleteConfirmationVisible=!0,this.deleteData={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!0})})},removeTimestampFromString(t){return t.replace(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,"").trim()},refresh(){0===this.workflowId&&this.getUserOverallCount(),0!==this.workflowId&&"report"===this.filterListData.type&&this.getWorkflowCount(),(0!==this.workflowId&&"Pie"===this.filterListData.type||0!==this.workflowId&&"bar"===this.filterListData.type)&&(this.filterListData.formFields,this.getChartByColumns()),0!==this.workflowId&&"fullchart"===this.filterListData.type&&this.getWorkflowChartCount(),0!==this.workflowId&&"sankey"===this.filterListData.type&&("TABLE"===this.dataView?this.overviewTableReport():this.overviewChart())},async findItem(){this.listedData.map(t=>{if(alert(t.name),alert(this.findValue.label),t.name===this.findValue.label){this.expand=!0;const e=JSON.parse(t.filterJson),i=JSON.parse(e[0].filters);console.log(e,"parsedArray"),this.filterListData={name:t.name,description:t.description,key:e[0].key,type:e[0].type,rId:e[0].uId,chartFilter:e[0].chartFilter,formFields:e[0].formField,filterFrom:t.filterFrom,filters:i}}}),this.filterFrom=this.filterListData.filterFrom,this.filterFrom=this.filterListData.filterFrom,this.workflowId=Number(this.filterListData.rId),this.itemId=0,this.filterBy=this.filterListData.filters,0===this.workflowId&&this.getUserOverallCount(),0!==this.workflowId&&"report"===this.filterListData.type&&this.getWorkflowCount(),(0!==this.workflowId&&"Pie"===this.filterListData.type||0!==this.workflowId&&"bar"===this.filterListData.type)&&(this.filterListData.formFields,this.getChartByColumns()),0!==this.workflowId&&"fullchart"===this.filterListData.type&&this.getWorkflowChartCount(),0!==this.workflowId&&"sankey"===this.filterListData.type&&(this.formFields=this.filterListData.formFields,this.sankeyChartsFilter=this.filterListData.filters,await this.overviewChart(),await this.overviewTableReport())},async getWorkflowData(){var t;this.loadingBarContent=!0,this.workflowProcessList=[];const{error:e,payload:i}=await l["o"].getWorkflowData(this.workflowId,{filterBy:[],itemsPerPage:100,currentPage:1,mode:""});this.loadingBarContent=!1,e?this.$alert.error(e):(i.data.forEach(t=>{t.value.forEach(t=>{this.workflowProcessList.push({...t})})}),this.totalItems=(null===(t=i.meta)||void 0===t?void 0:t.totalItems)||0)},async getKanbanViewSettings(){this.loadingBarContent=!0;const{error:t,payload:e}=await l["t"].getKanbanViewSettings(this.workflowId);this.loadingBarContent=!1,t?this.$alert.error(t):(this.kanbanSettings=[],this.kanbanSettingsList=[],e.length?(this.isVisibleKanbanView=!0,e.forEach(t=>{this.kanbanSettings.push({...t,search:""}),this.kanbanSettingsList.push({...t,search:""})})):this.isVisibleKanbanView=!1)},async getUserOverallCount(){this.workflowId=0,this.loadingBarContent=!0;const{error:t,payload:e}=await l["l"].getUserOverallCount();if(this.loadingBarContent=!1,t)return void this.$alert.error(t);const i=this.filterListData.key,s=e[i];this.count=s},async getWorkflowCount(){this.loadingBarContent=!0;const{error:t,payload:e}=await l["l"].getRequestCountByUserId(this.workflowId);if(this.loadingBarContent=!1,t)return void this.$alert.error(t);const i=this.filterListData.key,s=e[i];this.count=s},async getChartByColumns(){this.barChartData=[],this.pieChartData=[];const{error:t,payload:e}=await l["o"].getChartByColumnsByUserId(this.workflowId,this.filterListData.chartFilter);if(t)this.$alert.error(t);else if(e){const t=Object.keys(e).reduce((t,i)=>{const s=this.filterListData.formFields[i.replace(/"/g,"")];return s&&(t[s]=e[i]),t},{});if(Object.keys(e).forEach(t=>{const i=t.replace(/"/g,"");e[t].forEach(t=>{t.name=t[i]?t[i]:"",delete t[i]})}),"bar"===this.filterListData.type){Object.keys(t).forEach(e=>{let i=[],s=[],a=[];t[e].forEach(t=>{i.push(t.name),s.push(t.running),a.push(t.completed)}),this.barChartData.push({key:e+" - Report Chart",xAxis:i,yAxis:[{name:"Running",data:s},{name:"Completed",data:a}]})}),console.log(this.barChartData,"chert");const e=this.findValue.description;console.log(e,"str");const i=this.barChartData.find(t=>t.key===e);this.barChartDatas=[i]}"Pie"===this.filterListData.type&&Object.keys(t).forEach(e=>{t[e].forEach(t=>{this.pieChartData.push({name:t.name+" - Report Chart",xAxis:["Running","Completed"],yAxis:[t.running,t.completed]})})}),console.log(this.pieChartData,"chart");const i=this.findValue.description,s=this.pieChartData.find(t=>t.name===i);this.pieChartDatas=[s],console.log(this.pieChartDatas.xAxis,"chart")}},async getWorkflowChartCount(t="",e=""){this.pinedchart=!1,this.loadingBarContent=!0,this.chartData.series=[];const i=e.replace(/\D/g,"");let s={year:(new Date).getFullYear(),month:t,weekno:i};const{error:a,payload:o}=await l["o"].getWorkflowChartByUserId(this.workflowId,s);if(this.loadingBarContent=!1,a)return void this.$alert.error(a);if(console.log(o,"payloading"),o&&o.completed&&o.initiated){let t=[];t.push({name:"Running",data:Object.values(o.initiated).map(Number)}),t.push({name:"Completed",data:Object.values(o.completed).map(Number)}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;try{e.removeSeries()}catch(n){}e.addSeries(this.chartData.series[0]),e.addSeries(this.chartData.series[1])}let r=this.listedData.map(t=>({id:this.$nano.id(),label:t.description,filterJson:JSON.parse(t.filterJson),dashboard:!1}));r.forEach(t=>{let e=t.filterJson[0].uId,i=t.filterJson[0].type;e===this.workflowId&&"fullchart"===i&&(this.pinedchart=!0)})},loadingOverviewChart(){this.overviewChart(),this.overviewTableReport()},async overviewChart(){this.loadingBarContent=!0;try{this.$refs.refCharts.removeSeries()}catch(i){}console.log(this.sankeyChartsFilter,this.formFields);const{error:t,payload:e}=await l["t"].overviewChart(this.workflowId,this.sankeyChartsFilter);if(this.loadingBarContent=!1,t)this.$alert.error(t);else if(console.log(e,"loading"),e.length){this.sankeyCharts.series[0].data=e,this.sankeyCharts.series[0].name=this.filterListData.description,console.log(this.sankeyCharts.series,"this.sankeyCharts.series");let t=this.$refs.refCharts;try{t.removeSeries()}catch(i){}t.addSeries(this.chartData.series[0])}},async overviewTableReport(){this.columns=[],this.loadingBarContent=!0;const{error:t,payload:e}=await l["t"].overviewTableReport(this.workflowId,this.sankeyChartsFilter);if(this.loadingBarContent=!1,t)this.$alert.error(t);else if(e&&e.Table.length){this.tableReport=e.Table,this.tableReportData=this.tableReport;let t=Object.keys(this.tableReport[0]);t.forEach(t=>{this.columns.push({id:this.$nano.id(),name:t})})}},removeSankeyChartsFilter(t){this.sankeyChartsFilter.splice(t,1)},addSankeyChartsFilter(){this.sankeyChartsFilter.push("")}}},zt=Rt,qt=(i("bfd6"),Object(C["a"])(zt,Mt,Ft,!1,null,"071ee285",null)),Vt=qt.exports,jt=i("b76a"),Wt=i.n(jt),Ht=function(){var t=this,e=t._self._c;return e("div",[t.expand?e("div",{attrs:{id:"repository_overview-dashboard"}},[e("div",{staticClass:"row",staticStyle:{cursor:"pointer","padding-bottom":"14px","border-bottom":"1px solid var(--divider-color)"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"repositoryOverView",expression:"'repositoryOverView'",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:"eva-archive-outline",color:"secondary",size:"20px"}})],1),e("div",{staticClass:"col"},[e("span",{staticClass:"q-pt-xxl text-base font-bold items-center text-black"},[t._v(t._s(t.findValuename)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold items-center",staticStyle:{color:"#475569",width:"100%"}},[t._v(" "+t._s(t.findValue.description)+" ")])])]),t.displayFromDate?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-xs col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent"},[e("div",{staticClass:"col-12 q-mr-sm row items-center"},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center filerItem",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(t.displayFromDate))]),e("span",{staticClass:"q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"20px","border-right":"0px"}},[t._v(" To")]),e("span",{staticClass:"q-mr-sm q-ml-sm q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center text-align-right filerItem",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(t.displayToDate))])])])],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"close",expression:"'close'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-upward-outline"},on:{click:function(e){e.stopPropagation(),t.expand=!1}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"unpin",expression:"'unpin'",modifiers:{top:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":""},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}})],1),e("div",{staticClass:"chart chartBox"},["uploadFiles"===t.filterListData.type?e("div",{staticClass:"column"},[e("div",{staticClass:"col-12",staticStyle:{"border-radius":"10px",padding:"0px 20px 0px 20px","margin-top":"10px"}},[e("OverviewGrid",{attrs:{credits:t.credits,"chart-view":!1,"dashboard-view":!0},on:{pinRecentActivity:function(e){return t.saveFilter("uploadFiles")}}})],1)]):t._e(),"recentActivity"===t.filterListData.type?e("div",[e("div",{staticClass:"col-12",staticStyle:{"border-radius":"10px",padding:"0px 15px 0px 15px","margin-top":"10px"}},[e("div",{staticClass:"col-6",staticStyle:{width:"100%","margin-left":"5px"},attrs:{id:"detailsGrid"}},[e("div",{staticClass:"grid"},[t._m(0),e("BaseScrollbar",{attrs:{height:"234px"}},[e("table",{staticStyle:{width:"100%"}},[e("thead",[e("tr",[e("th",{staticClass:"th text-center"},[t._v("Activity On")]),e("th",{staticClass:"th text-center",staticStyle:{width:"20%"}},[t._v(" Activity ")]),e("th",{staticClass:"th text-center"},[t._v("Activity By")]),e("th",{staticClass:"th text-center",staticStyle:{width:"30%","border-right":"0px"}},[t._v(" File Name ")])])]),e("tbody",{staticStyle:{width:"100%"}},t._l(t.recentActivity,(function(i,s){return e("tr",{key:s},[e("td",{staticClass:"td"},[t._v(" "+t._s(t.$day.format(i.activityOn))+" ")]),e("td",{staticClass:"td",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.activityName)+" ")]),e("td",{staticClass:"td"},[t._v(" "+t._s(i.activityBy||"-")+" ")]),e("td",{staticClass:"td font-medium ellipsis",staticStyle:{cursor:"pointer","text-decoration":"underline","max-width":"200px","border-right":"0px"},on:{click:function(e){return t.openFile(i.itemId)}}},[t._v(" "+t._s(i.ifileName)+" ")])])})),0)])])],1)]),e("FileSheet",{attrs:{repository:!0,file:t.selectedFile,"repository-field":[],options:{}},model:{value:t.isFileSheetVisible,callback:function(e){t.isFileSheetVisible=e},expression:"isFileSheetVisible"}})],1)]):t._e(),"TotalFiles"===t.filterListData.type?e("div",[e("div",{staticClass:"col-12",staticStyle:{width:"100%","margin-left":"0%"},attrs:{id:"detailsGrid"}},[e("div",{staticClass:"grid"},[e("div",{staticClass:"row items-center1 heading"},[t._m(1),e("div",{staticClass:"row items-center",staticStyle:{"margin-right":"5px"}},[t.repositoryId?e("div",{staticClass:"row items-center",staticStyle:{cursor:"pointer"},on:{click:t.uploadFiles}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Upload File",expression:"'Upload File'",modifiers:{top:!0}}],staticClass:"icons",attrs:{size:"20px",icon:"mdi-plus"}}),e("span",{staticClass:"text-base col q-pa-xs font-bold text-uppercase"},[t._v("Upload Files")])],1):t._e()])]),e("div",{staticClass:"row items-center1 content"},[e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase"},[e("apexchart",{attrs:{type:"bar",height:"150",width:"100%",options:t.chartOptions,series:t.series}})],1)])]),e("div",{staticClass:"row items-center1",staticStyle:{"border-radius":"10px"}},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase",staticStyle:{color:"rgb(156 223 229)","border-right":"1px solid var(--divider-color)",height:"73px"}},[t._v(" Standard "),e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase text-black"},[t._v(" "+t._s(t.credits.STANDARD||0)+" ")])]),e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase",staticStyle:{color:"rgb(207 172 239)"}},[t._v(" Advanced "),e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase text-black"},[t._v(" "+t._s(t.credits.ADVANCED||0)+" ")])])])])])]):t._e(),"repositoryChart"===t.filterListData.type?e("div",[e("div",{staticClass:"col-12 q-pr-sm q-mb-sm",staticStyle:{padding:"0px 17px 0px 12px","margin-top":"5px"},attrs:{id:"chart"}},[e("div",{staticClass:"chartview"},[e("div",{staticClass:"row item-center q-body q-mb-sm"},[e("div",{staticClass:"col-auto q-mr-xs cursor-pointer header",class:t.chartDataDrilldownStage.month?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.month="",t.chartDataDrilldownStage.week="",t.getOcrType()}}},[e("strong",[t._v(t._s(t.weekValue)+" "+t._s(t.monthValue)+" "+t._s(t.yearValue)+" ")])]),t.chartDataDrilldownStage.month?e("div",{staticClass:"col-auto cursor-pointer header",class:t.chartDataDrilldownStage.week?"text-secondary":"",on:{click:function(e){t.chartDataDrilldownStage.week="",t.getOcrType(t.chartDataDrilldownStage.month)}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.month)+" ")]):t._e(),t.chartDataDrilldownStage.week?e("div",{staticClass:"col-auto q-ml-xs header",on:{click:function(e){t.chartDataDrilldownStage.week=""}}},[t._v(" / "+t._s(t.chartDataDrilldownStage.week)+" ")]):t._e()]),e("div",[e("vue-highcharts",{ref:"refWorkflowChart",attrs:{highcharts:t.Highcharts,options:t.chartData}})],1)])])]):t._e()])]):e("div",{staticClass:"col-12"},[e("div",{staticClass:"text-base font-bold items-center text-black row",staticStyle:{cursor:"pointer"},attrs:{id:"repository_overview-dashboard"},on:{click:t.findItem}},[e("span",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"repositoryOverView",expression:"'repositoryOverView'",modifiers:{top:!0}}],staticClass:"q-mr-sm q-pb-sm",attrs:{name:"eva-archive-outline",color:"secondary",size:"20px"}})],1),e("div",{staticClass:"col"},[e("span",{staticClass:"q-pt-xxl text-base font-bold items-center text-black"},[t._v(t._s(t.findValuename)+" "),e("div",{staticClass:"q-mt-xs text-base font-bold items-center",staticStyle:{color:"#475569",width:"100%"}},[t._v(" "+t._s(t.findValue.description)+" ")])])]),t.displayFromDate?e("div",{staticClass:"icon-container"},[e("BaseActionButton",{staticClass:"q-ml-xs col-auto icon",attrs:{"is-flat":"","no-border":"",icon:"eva-eye",color:"primary"}}),e("div",{staticClass:"iconcontent",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"col-12 q-mr-sm row items-center"},[e("span",{staticClass:"q-ml-sm q-mr-xs q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center filerItem",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(t.displayFromDate))]),e("span",{staticClass:"q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center",staticStyle:{cursor:"pointer","max-width":"20px","border-right":"0px"}},[t._v(" To")]),e("span",{staticClass:"q-mr-sm q-ml-sm q-mt-sm q-mb-sm ellipsis text-base font-bold text-black items-center text-align-right filerItem",staticStyle:{cursor:"pointer","max-width":"100px","border-right":"0px"}},[t._v(" "+t._s(t.displayToDate))])])])],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return e.stopPropagation(),t.refresh.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"open",expression:"'open'",modifiers:{top:!0}}],staticClass:"q-ml-sm col-auto",attrs:{"is-flat":"","no-border":"",icon:"eva-arrow-ios-downward-outline"},on:{click:function(e){return e.stopPropagation(),t.findItem.apply(null,arguments)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"unpin",expression:"'unpin'",modifiers:{top:!0}}],staticClass:"col-auto",attrs:{icon:"mdi-pin",color:"secondary","no-border":"","is-flat":""},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}})],1)]),e("ConfirmDelete",{attrs:{label:t.findValuename,"delete-data":t.deleteData},on:{delete:function(e){return t.$emit("delete")}},model:{value:t.isDeleteConfirmationVisible,callback:function(e){t.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}})],1)},Xt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col row items-center text-base col q-pa-sm font-bold text-uppercase heading",staticStyle:{padding:"16px",width:"100%"}},[e("div",{staticStyle:{width:"100%"}},[t._v("Recent Activity")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase"},[t._v(" Total Files Uploaded ")])])}],Yt=(i("3c65"),i("76f2"));p()(f.a),T()(f.a);var Gt={name:"DashboardWorkflowOverview",components:{OverviewGrid:Yt["a"],FileSheet:q["a"],VueHighcharts:d.a,ConfirmDelete:Q["a"]},props:{item:{type:Object,required:!0},listedData:{type:Array,required:!0}},data(){return{expand:!1,credits:{},repositoryId:0,recentActivity:[],recentCount:5,selectedFile:{},isFileSheetVisible:!1,series:[],chartOptions:{chart:{type:"bar",height:350,stacked:!0},plotOptions:{bar:{horizontal:!0,dataLabels:{total:{enabled:!0,offsetX:0,style:{fontSize:"13px",fontWeight:900}}}}},colors:["#d4a4dd","#9cf1f7"],stroke:{width:1,colors:["#d4a4dd","#9cf1f7"]},title:{text:""},xaxis:{categories:["Total Files"]},yaxis:{title:{text:void 0}},tooltip:{y:{formatter:function(t){return t+" files"}}},fill:{opacity:1,colors:["#d4a4dd","#9cf1f7"]},legend:{position:"top",horizontalAlign:"left",offsetX:40}},workspaceId:0,Highcharts:f.a,chartData:{chart:{type:"spline",height:"330px"},title:{text:""},subtitle:{text:""},xAxis:{categories:[]},yAxis:{title:{text:"Count"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#d4a4dd","#858084","#9cf1f7"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getOcrType(t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getOcrType(this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},yearValue:"",monthValue:"",weekValue:"",findValuename:"",keyValue:"",fromDate:"",todate:"",displayFromDate:"",displayToDate:"",deleteData:{},isDeleteConfirmationVisible:!1}},computed:{},watch:{item:{immediate:!0,deep:!0,handler(){if(this.item){this.findValue=this.item,this.expand=this.findValue.expand,console.log(this.item,"itemed");let t=JSON.parse(this.item.filter);this.displayFromDate=t[0].fromDate,this.displayToDate=t[0].toDate,console.log(t,"filter"),console.log(this.displayFromDate,"displayFromDate"),console.log(this.displayToDate,"displayToDate"),this.findValue.label&&(this.findValuename=this.removeTimestampFromString(this.findValue.label))}}},credits:{deep:!0,handler(){this.credits&&(this.series=[],this.series.push({name:"Advanced",data:[this.credits.ADVANCED||0]}),this.series.push({name:"Standard",data:[this.credits.STANDARD||0]}))}}},created(){},methods:{stopEvent(){},refresh(){"repositoryChart"===this.filterListData.type?this.getchart():"recentActivity"===this.filterListData.type?this.getRecendActivity():"TotalFiles"===this.filterListData.type?this.getRepositoryOverView():"uploadFiles"===this.filterListData.type&&this.getData()},removeTimestampFromString(t){return t.replace(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,"").trim()},deleteItem(){this.listedData.map(t=>{t.name===this.findValue.label&&(console.log(t,"itemd"),this.isDeleteConfirmationVisible=!0,this.deleteData={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!0})})},handleOpen(){this.findItem(),this.expand=!0},async findItem(){this.expand=!0,console.log(this.listedData,"this.listedData"),this.listedData.map(t=>{if(t.name===this.findValue.label){this.expand=!0;const e=JSON.parse(t.filterJson),i=JSON.parse(e[0].filters);console.log(e,"parsedArray"),this.filterListData={name:t.name,type:e[0].type,todate:e[0].toDate,fromDate:e[0].fromDate,keyValue:e[0].keyValue,rId:e[0].uId,wId:e[0].wId,filterFrom:t.filterFrom,filters:i}}}),console.log(this.filterListData,"data"),this.fromDate=this.filterListData.fromDate,this.todate=this.filterListData.todate,this.keyValue=String(this.filterListData.keyValue),this.filterFrom=this.filterListData.filterFrom,this.repositoryId=Number(this.filterListData.rId),this.workspaceId=Number(this.filterListData.wId),this.itemId=0,this.filterBy=this.filterListData.filters,"repositoryChart"===this.filterListData.type?await this.getchart():"recentActivity"===this.filterListData.type?await this.getRecendActivity():"TotalFiles"===this.filterListData.type?await this.getRepositoryOverView():"uploadFiles"===this.filterListData.type&&await this.getData()},async getchart(){let t,e=this.keyValue;""===e&&(e="month"),this.WeekNumber=new Date(this.fromDate).getDate(),this.dates=new Date(this.todate).getDate(),this.chartData.xAxis.categories.splice(0),t="7days"===e||"quarter"===e||"week"===e?new Date(this.todate):new Date(this.fromDate);let i=new Date(t);i.setDate(1);let s=i.getDay(),a=7-s;i.setDate(i.getDate()+a);let o,r,n=t.getDate()-i.getDate(),c=Math.ceil((n+1)/7)+1;this.weekno=c,"7days"===e?(o=new Date(this.todate).getFullYear(),r=new Date(this.todate).getMonth()):"quarter"===e||"week"===e?(o=new Date(this.todate).getFullYear(),r=new Date(this.todate).getMonth(),t=new Date(this.todate)):(o=new Date(this.fromDate).getFullYear(),r=new Date(this.fromDate).getMonth());const d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let h,u=d[r];"Currentmonth"===e||"month"===e?(this.yearValue="-"+o,this.monthValue=u,this.weekValue="",h={year:o,month:u,weekno:""}):"currentyear"===e||"year"===e?(this.yearValue=" Year -"+o,this.monthValue="",this.weekValue="",h={year:o,month:"",weekno:""}):"today"===e?(this.yearValue="-"+o,this.monthValue="-"+u,this.weekValue=this.dates,h={year:o,month:u,weekno:this.weekno}):"yesterday"===e?(this.yearValue="-"+o,this.monthValue="-"+u,this.weekValue=+this.dates,h={year:o,month:u,weekno:this.weekno}):"7days"===e||"week"===e?(this.yearValue=this.dates+"-"+u+"-"+o,this.monthValue=this.WeekNumber+"-"+u+"-"+o+"  to",this.weekValue="",h={year:o,month:u,weekno:this.weekno}):"quarter"===e&&(this.weekValue="",this.monthValue="",this.yearValue=o,h={year:o,month:"",weekno:""}),this.columns=[],this.chartData.series=[];const{error:p,payload:m}=await l["p"].getOcrType(this.repositoryId||0,h);if(p)this.$alert.error(p);else if(m){let t=[],i=JSON.parse(m.data);const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date(this.todate).getMonth();let o=[],r=[],n=[];for(let e=0;e<3;e++){let t=(a-e+12)%12,l=s[t];o.push(Number(i.ADVANCED[l])||0),r.push(Number(i.MANUAL[l])||0),n.push(Number(i.STANDARD[l])||0)}if(o.reverse(),r.reverse(),n.reverse(),"quarter"===e){t.push({name:"Advanced",data:o.map(t=>Number(t))}),t.push({name:"Manual",data:r.map(t=>Number(t))}),t.push({name:"Standard",data:n.map(t=>Number(t))}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;try{e.removeSeries()}catch(f){}const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=new Date(2024,5,30).getMonth();let a=[];for(let t=0;t<3;t++){let e=(s-t+12)%12,o=i[e].slice(0,3);a.unshift(o)}this.chartData.xAxis.categories.push(...a),this.quaterData=this.chartData.xAxis.categories,this.weekValue=this.quaterData[0]+",",this.monthValue=this.quaterData[1]+",",this.yearValue=this.quaterData[2]+",",e.addSeries(this.chartData.series[0]),e.addSeries(this.chartData.series[1]),e.addSeries(this.chartData.series[2])}else{t.push({name:"Advanced",data:Object.values(i.ADVANCED).map(Number)}),t.push({name:"Manual",data:Object.values(i.MANUAL).map(Number)}),t.push({name:"Standard",data:Object.values(i.STANDARD).map(Number)}),this.chartData.series=t;let e=this.$refs.refWorkflowChart;try{e.removeSeries()}catch(f){}for(let[t,s]of Object.entries(i.ADVANCED)){let e={key:t,value:s};this.chartData.xAxis.categories.push([e.key.toString()])}e.addSeries(this.chartData.series[0]),e.addSeries(this.chartData.series[1]),e.addSeries(this.chartData.series[2])}}},async getData(){const t={fromDate:this.fromDate,toDate:this.todate};this.repositoryReportList=[],this.repositoryReportListData=[],this.list=[];const{error:e,payload:i}=await l["p"].getRepositoryOverView(this.repositoryId||0,t);this.credits=JSON.parse(i.data),e&&this.$alert.error(e)},uploadFiles(){let t=this.workspaceId,e=this.repositoryId;this.$router.push({name:"uploadAndIndex",query:{workspaceId:t,repositoryId:e}})},openFile(t){let e=this.recentActivity.find(e=>e.itemId===t);this.selectedFile={name:e.ifileName,createdAt:this.$day.format(e.activityOn),createdBy:e.activityBy,repositoryId:this.repositoryId,id:e.itemId,size:""},this.isFileSheetVisible=!0},async getRecendActivity(){this.recentActivity=[];const{error:t,payload:e}=await l["p"].getRecendActivity(this.repositoryId||0,this.recentCount);if(t)return void this.$alert.error(t);let i=JSON.parse(e.data);this.recentActivity=i.data[0].value},async getRepositoryOverView(){this.getOcrType(),this.columns=[];let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),2),i=e.toISOString().split("T")[0],s=new Date(t.getFullYear(),t.getMonth()+1,1),a=s.toISOString().split("T")[0];this.fromDate=i,this.todate=a;const o={fromDate:this.fromDate,toDate:this.todate},{error:r,payload:n}=await l["p"].getRepositoryOverView(this.repositoryId||0,o);this.credits=JSON.parse(n.data),console.log(this.credits,"credits"),r&&this.$alert.error(r)},async getOcrType(){this.columns=[],this.chartData.series=[];let t=(new Date).getMonth();const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let i=e[t].toString(),s={year:(new Date).getFullYear(),month:i,weekno:""};this.yearValue="-"+s.year,this.monthValue=s.month,this.weekValue="";const{error:a,payload:o}=await l["p"].getOcrType(this.repositoryId||0,s);if(a)this.$alert.error(a);else if(o){let t=[],e=JSON.parse(o.data);t.push({name:"Advanced",data:Object.values(e.ADVANCED).map(Number)}),t.push({name:"Manual",data:Object.values(e.MANUAL).map(Number)}),t.push({name:"Standard",data:Object.values(e.STANDARD).map(Number)}),this.chartData.series=t;let i=this.$refs.refWorkflowChart;try{i.removeSeries()}catch(r){}for(let[s,a]of Object.entries(e.ADVANCED)){let t={key:s,value:a};this.chartData.xAxis.categories.push([t.key.toString()])}i.addSeries(this.chartData.series[0]),i.addSeries(this.chartData.series[1]),i.addSeries(this.chartData.series[2])}}}},Ut=Gt,Jt=(i("eeb6"),Object(C["a"])(Ut,Ht,Xt,!1,null,"05c66b87",null)),Kt=Jt.exports,Zt=function(){var t=this;t._self._c;return t._m(0)},Qt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-bar-container",attrs:{id:"progress-bar-container"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})]),e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})]),e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"progress-bar col-4",staticStyle:{width:"98.7%"}},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})]),e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})]),e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})]),e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})]),e("div",{staticClass:"progress-bar col-4"},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"progress-bar col-4",staticStyle:{width:"98.7%"}},[e("div",{staticClass:"progress-inside",staticStyle:{width:"50%","margin-top":"30px"}}),e("div",{staticClass:"progress-inside",staticStyle:{width:"80%"}})])])])}],te={},ee=te,ie=(i("be01"),Object(C["a"])(ee,Zt,Qt,!1,null,"22e8473d",null)),se=ie.exports;p()(f.a),T()(f.a);var ae={name:"Dashboard",components:{AppLayout:o["a"],ViewWrapper:r["a"],QuickHelp:n["a"],VueHighcharts:d.a,ViewDetails:A,DashboardFilterView:lt,WorkflowInbox:_t,WorkflowRequest:Vt,draggable:Wt.a,DashboaardRepositoryOverview:Kt,DashboardLoadingBar:se},data(){return{Highcharts:f.a,workflowList:[],quickHelp:!1,workflowCount:[],workflowTotalCount:0,pieChartOptions:{chart:{type:"pie",backgroundColor:"",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,style:{fontFamily:"Outfit"}},tooltip:{pointFormat:"{series.name}: <b>{point.y}</b>"},title:{text:""},credits:{enabled:!1},colors:["#4a89dd","#36bd9a","#f7ba43","#e9573e","#977bdd","#d870ad","#8cc051"],plotOptions:{pie:{allowPointSelect:!0,borderColor:"",cursor:"pointer",dataLabels:{enabled:!0,distance:-50,filter:{property:"percentage",operator:">",value:4},style:{fontFamily:"Outfit",textShadow:"2px 2px 4px #000000;"},color:"#fff",format:'<span style="color:{point.color};">{point.name}: {point.y}</span>'},showInLegend:!1},series:{borderRadius:3,point:{events:{click:t=>{t.stopPropagation(),t.point.name&&this.getSeriesDetails(t.point.options)}}}}},series:[{name:"Workflow",colorByPoint:!0,data:[]}],drilldown:{series:[]}},workflowDetailsList:[],viewDetailsModal:!1,selectedWorkflow:{},selectWorkflow:"",workflowCountChart:{},openCloseChartSeries:[],openCloseChartOptions:{chart:{type:"donut"},title:{text:"",align:"left"},labels:["Open","Closed"],colors:["#bfa0fe","#75c1fd"],responsive:[{breakpoint:480,options:{chart:{width:"100%"},legend:{position:"bottom"}}}],legend:{show:!1}},recentWorkflowList:[],recentWorkflowListData:[],workflowMonthSeries:[],workflowMonthChartOptions:{chart:{height:"100%",type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"",align:"left"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},chartData:{chart:{type:"spline",height:"100%"},title:{text:""},subtitle:{text:""},xAxis:{type:"category"},yAxis:{title:{text:"Variance"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},legend:{enabled:!1},colors:["#bfa0fe"],plotOptions:{series:{cursor:"pointer",point:{events:{click:t=>{t.stopPropagation(),t.point.name&&t.point.y&&(""===this.chartDataDrilldownStage.month?(this.chartDataDrilldownStage.month=t.point.name,this.getSignodeChart(4,t.point.name)):""===this.chartDataDrilldownStage.week&&(this.chartDataDrilldownStage.week=t.point.name,this.getSignodeChart(4,this.chartDataDrilldownStage.month,t.point.name.replace("Week ",""))))}}}},spline:{dataLabels:{enabled:!0}}},series:[{name:"Variance",data:[]}],drilldown:{}},chartDataDrilldownStage:{month:"",week:""},stockChartSeries:[],stockChartOptions:{chart:{type:"donut"},title:{text:"Stock In vs Out",align:"left"},labels:["StockIn","StockOut"],colors:["#bfa0fe","#75c1fd"],responsive:[{breakpoint:480,options:{chart:{width:800},legend:{position:"bottom"}}}],legend:{show:!1}},extraContent:!1,WfilterList:[],listedData:[],inboxData:[],requestData:[],DashboaardRepositoryOverviewData:[],currentPage:1,itemsPerPage:0,sortBy:{criteria:"",order:""},success:!1,loadingBar:!1}},computed:{...Object(h["c"])(["darkTheme"]),selectedFilter(){return this.workflowList.length&&this.selectWorkflow?this.workflowList.find(t=>t.value===this.selectWorkflow).label:"Select workflow"},checkTenant(){let t=location.origin;return"http://52.172.32.88"===t||"https://demo.ezofis.com"===t}},watch:{darkTheme(){this.pieChartOptions.chart.backgroundColor=this.darkTheme?"#1d2129":"#ffffff",this.pieChartOptions.plotOptions.pie.dataLabels.color=this.darkTheme?"#ffffff":"#1d2129",this.pieChartOptions.plotOptions.pie.borderColor=this.darkTheme?"#ffffff":"#1d2129"},selectWorkflow(){let t=location.origin;this.selectWorkflow&&(4!==this.selectWorkflow||"http://52.172.32.88"!==t&&"https://demo.ezofis.com"!==t||(this.getSignodeChart(this.selectWorkflow),this.getSignodeChart_Stock(this.selectWorkflow)),this.getWorkflowCount(this.selectWorkflow),this.getInboxList())}},async created(){await this.getFilterList()},methods:{showQuickHelp(){this.quickHelp=!0},async getUserWorkflow(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await l["t"].getUserWorkflow();if(this.$store.commit("hideLoadingBarPage"),e)this.$alert.error(e);else if(this.workflowList=[],i.length){t?this.getWorkflowCount(this.selectWorkflow):this.selectWorkflow=i[0].id,this.getInboxList(),this.workflowCount=[];let e=[];i.forEach(t=>{this.workflowList.push({id:this.$nano.id(),label:t.name,value:t.id,formId:t.wFormId}),e.push({name:t.name,y:t.inboxCount+t.processCount+t.completedCount,drilldown:t.name}),this.pieChartOptions.drilldown.series.push({name:t.name,id:t.name,data:[{name:"Inbox",y:t.inboxCount,id:t.id},{name:"Process",y:t.processCount,id:t.id},{name:"Completed",y:t.completedCount,id:t.id}]})});try{this.$refs.refCharts.removeSeries()}catch(s){console.log(s)}this.pieChartOptions.series[0].data=e,console.log(e),this.$refs.refCharts.addSeries(this.pieChartOptions.series[0])}},async getSeriesDetails(t){this.$store.commit("showLoadingBarPage"),this.selectedWorkflow=t;let e="";"Completed"===t.name?e=await l["t"].getCompletedList(t.id):"Process"===t.name?e=await l["t"].getSentList(t.id):"Inbox"===t.name&&(e=await l["t"].getInboxList(t.id));const{error:i,payload:s}=e;this.$store.commit("hideLoadingBarPage"),i?this.$alert.error(i):(this.workflowDetailsList=s,this.viewDetailsModal=!0)},async getWorkflowCount(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await l["o"].getWorkflowCount(t);if(this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);this.workflowCountChart={},this.workflowCountChart=i,this.openCloseChartSeries=[];for(let a in i)"inbox"==a&&this.openCloseChartSeries.push(i[a].totalCount+i["process"].totalCount),"completed"==a&&this.openCloseChartSeries.push(i[a].totalCount);this.workflowTotalCount=i["inbox"].totalCount+i["process"].totalCount+i["completed"].totalCount;let s=this.workflowList.find(e=>e.value===t);this.workflowMonthSeries=[{name:s.label,color:"#7e61c8",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]},async getSignodeChart(t,e="",i=""){this.$store.commit("showLoadingBarPage");let s={year:(new Date).getFullYear(),month:e,weekno:i};const{error:a,payload:o}=await l["o"].getSignodeChart(t,s);if(this.$store.commit("hideLoadingBarPage"),a)this.$alert.error(a);else if(o&&(console.log(o),o.Table.length)){let t=[];i?o.Table.forEach(e=>{t.push({name:e.Day,y:Number(e.Variance)})}):e?o.Table.forEach(e=>{t.push({name:"Week "+e.Weekno,y:Number(e.Variance)})}):o.Table.forEach(e=>{t.push({name:e.Month,y:Number(e.Variance)})}),this.chartData.series[0].data=t;let s=this.$refs.refChartSignode;s.removeSeries(),s.addSeries(this.chartData.series[0])}},async getInboxList(){this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await l["t"].getInboxList(this.selectWorkflow,{filterBy:[]});this.$store.commit("hideLoadingBarPage"),t?this.$alert.error(t):(this.recentWorkflowList=[],e.data.forEach(t=>{t.value.forEach(e=>{this.recentWorkflowList.push({key:t.key,...e,type:"Inbox"})})}),await this.getSentList())},async getSentList(){this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await l["t"].getSentList(this.selectWorkflow,{filterBy:[]});this.$store.commit("hideLoadingBarPage"),t?this.$alert.error(t):(e.length&&e.forEach(t=>{this.recentWorkflowList.push({key:"",...t,type:"Process"})}),await this.getCompletedList())},async getCompletedList(){this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await l["t"].getCompletedList(this.selectWorkflow,{filterBy:[]});this.$store.commit("hideLoadingBarPage"),t?this.$alert.error(t):e.length&&(e.forEach(t=>{this.recentWorkflowList.push({key:"",...t,type:"Completed"})}),this.recentWorkflowListData=[],this.recentWorkflowListData=this.recentWorkflowList.map(t=>({id:t.processId,key:t.key,type:t.type,processId:t.processId,requestNo:t.requestNo,stage:t.stage,raisedAt:this.$day.format(t.raisedAt),raisedBy:t.raisedBy,transaction_createdBy:t.transaction_createdByEmail,duration:this.lastActionDuration(t),mlPrediction:t.mlPrediction})))},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getSignodeChart_Stock(t){this.stockChartSeries=[],this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await l["o"].getSignodeChart_Stock(t);this.$store.commit("hideLoadingBarPage"),e?this.$alert.error(e):(console.log(i),i&&i.Table&&(this.stockChartSeries.push(i.Table[0].StockOut),this.stockChartSeries.push(i.Table[0].StockIn)))},async getFilterList(){this.loadingBar=!0;const{error:t,payload:e}=await l["e"].getDashboardData({sortBy:this.sortBy,groupBy:"",filterBy:[{groupCondition:"",filters:[{criteria:"pinDashboard",condition:"IS_EQUALS_TO",value:!0}]}],currentPage:this.currentPage,itemsPerPage:this.itemsPerPage});if(this.loadingBar=!1,t)return void this.$alert.error(t);let i=e.data[0].value;console.log(i,"datapayload"),this.listedData=i.filter(t=>["repositoryActivityReport","repositoryOcrReport","workflowReport","repositorySignReport"].includes(t.filterFrom)),this.inboxData=i.filter(t=>"workflowInbox"===t.filterFrom),this.requestData=i.filter(t=>"workflowOverview"===t.filterFrom),this.DashboaardRepositoryOverviewData=i.filter(t=>"repositoryOverview"===t.filterFrom),console.log(i,"datas"),this.WfilterList=i.map(t=>({id:t.id,label:t.name,value:t.name,expand:!1,description:t.description,filterFrom:t.filterFrom,rId:t.rId,filter:t.filterJson,name:t.name,filterJson:t.filterJson,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!1})),this.WfilterList.sort((e,i)=>{let s,a;try{const t=JSON.parse(e.filterJson),o=JSON.parse(i.filterJson);s=t.length>0&&null!=t[0].OrderBy?t[0].OrderBy:1/0,a=o.length>0&&null!=o[0].OrderBy?o[0].OrderBy:1/0}catch(t){return console.error("Failed to parse filterJson JSON:",t),0}return s-a})},getItemClass(t){let e=JSON.parse(t.filter);return"repositoryActivityReport"===t.filterFrom||"repositoryOcrReport"===t.filterFrom||"workflowReport"===t.filterFrom||"repositorySignReport"===t.filterFrom||"repositoryOverview"===t.filterFrom||"workflowOverview"===t.filterFrom&&"sankey"===e[0].type?"col-12":"col-4"},async onDragEnd(){console.log(this.WfilterList,"Before updating"),this.WfilterList.forEach((t,e)=>{let i;try{i=JSON.parse(t.filterJson)}catch(s){return void console.error("Failed to parse filterJson JSON for item",t.id,":",s)}i.forEach(t=>{t.OrderBy=e}),t.filterJson=JSON.stringify(i)});for(const t of this.WfilterList){let e={id:t.id,name:t.name,description:t.description,filterJson:t.filterJson,filterFrom:t.filterFrom,createdAt:t.createdAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,isDeleted:!1};console.log(e,"order")}}}},oe=ae,re=(i("defc"),i("2c91")),ne=i("0016"),le=Object(C["a"])(oe,s,a,!1,null,"53e2a453",null);e["default"]=le.exports;rt()(le,"components",{QMenu:at["a"],QSpace:re["a"],QIcon:ne["a"]})},"5ca1":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseIcon",{staticClass:"q-mx-xs",class:t.color,attrs:{id:"separator",name:"eva-chevron-right","inherit-color":"",size:"18px"}})},a=[],o=i("2f62"),r={name:"Separator",computed:{...Object(o["c"])(["darkTheme"]),color(){return this.darkTheme?"text-gray-6":"text-gray-5"}}},n=r,l=i("2877"),c=Object(l["a"])(n,s,a,!1,null,"d7a62b86",null);e["a"]=c.exports},"5d0b":function(t,e,i){},"5e23":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":!0,"has-footer":"",width:"650px"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Document Sharing By Email")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"document-sharing-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("BaseScrollbar",{attrs:{height:"calc(100vh - 170px)"}},[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"to",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"to","is-mandatory":"","new-option":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("ValidationProvider",{attrs:{name:"subject",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"subject","is-mandatory":"",error:i[0]},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})]}}])}),"attach link"===t.tab?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm"},[e("ValidationProvider",{attrs:{name:"Expiry from Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry from Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})]}}],null,!1,714078504)})],1),e("div",{staticClass:"col-6 q-pl-sm"},[e("ValidationProvider",{attrs:{name:"Expiry to Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry to Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})]}}],null,!1,738413864)})],1)])]:t._e(),t._l(t.fileList,(function(i){return[e("q-chip",{key:i.id,staticClass:"chips secondary-hover cursor-pointer",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{attrs:{icon:"mdi-file",color:"secondary","text-color":"white"},on:{click:function(e){return t.remove(i.id)}}}),t._v(" "+t._s(i.name)+" "),e("q-avatar",{staticClass:"close-icon",attrs:{icon:"mdi-close","text-color":"red"},on:{click:function(e){return t.remove(i.id)}}})],1)]})),e("TextBuilderField",{model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],2)])],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:function(e){return t.$emit("input",!1)}}}),e("BaseButton",{attrs:{label:"send"},on:{click:t.documentShare}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("381e"),n=i("b94d"),l=i("b3d1"),c=i("53c1"),d=i("c3d2"),h=i("695e"),u=i("1b0d"),p={name:"EmailSharing",components:{Sheet:r["a"],ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:l["a"],Tabs:n["a"],DateField:c["a"],MultiSelectField:d["a"],TextBuilderField:h["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},fileList:{type:Array,default:()=>[]}},data(){return{tab:"attach file",tabs:[{id:this.$nano.id(),label:"attach file",value:"attach file"},{id:this.$nano.id(),label:"attach link",value:"attach link"}],email:[],subject:"",body:"",fromDate:"",toDate:"",minimumFromDate:""}},created(){const t=new Date,e=t.toISOString().split("T")[0];this.minimumFromDate=e},methods:{clearFields(){this.tab="attach file",this.email=[],this.subject="",this.body="",this.fromDate="",this.toDate=""},remove(t){if(this.fileList.length>1){let e=this.fileList.filter(e=>e.id!=t);this.$emit("update:fileList",e)}else this.$alert.warning("Minimum one document is required")},async documentShare(){const t=await this.$refs.form.validate();if(!t)return;let e=[];if(this.fileList.forEach(t=>{e.push(t.id)}),"attach file"===this.tab){let t={repositoryId:this.repositoryId,itemIds:e,toAdd:this.email.toString(),subject:this.subject,body:this.body};const{error:i}=await u["k"].documentShare(t);if(i)return void this.$alert.error(i)}else if("attach link"===this.tab){if(this.toDate<this.fromDate)return void this.$alert.warning("ToDate Is Must Be Greater Than Or Equal To FromDate");let t={toAddress:this.email.toString(),subject:this.subject,body:this.body,expiryFromDate:this.fromDate,expiryTodate:this.toDate,repositoryId:this.repositoryId,itemIdArray:e};const{error:i}=await u["k"].documentShareLink(t);if(i)return void this.$alert.error(i)}this.$alert.success("Initiated Document Sharing by Email"),this.clearFields(),this.$emit("input",!1)}}},m=p,f=(i("5fab"),i("2877")),g=i("b047"),v=i("cb32"),y=i("93dc"),b=i.n(y),x=Object(f["a"])(m,s,a,!1,null,"2c37c0ea",null);e["a"]=x.exports;b()(x,"components",{QChip:g["a"],QAvatar:v["a"]})},"5e5c":function(t,e,i){"use strict";i("204d")},"5f17":function(t,e,i){},"5f3d":function(t,e,i){},"5fab":function(t,e,i){"use strict";i("467fa")},"604f":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=3)}([function(t,e,i){var s=i(6)(i(1),i(7),null,null);t.exports=s.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i.n(s),o=i(2);e["default"]={props:{classname:{type:String,default:"vue-highcharts"},styles:{type:Object,default:function(){return{}}},options:Object,highcharts:Object},name:"VueHighcharts",data:function(){return{chart:null}},mounted:function(){!this.getChart()&&this.options&&this.init()},methods:{getChart:function(){return this.chart},addSeries:function(t){this.delegateMethod("addSeries",t)},removeSeries:function(){while(0!==this.getChart().series.length)this.getChart().series[0].remove()},mergeOption:function(t){this.delegateMethod("update",t)},showLoading:function(t){this.getChart().showLoading(t)},hideLoading:function(){this.getChart().hideLoading()},delegateMethod:function(t){var e;if(this.getChart()){for(var s=arguments.length,a=Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];return(e=this.getChart())[t].apply(e,a)}i.i(o["a"])("Cannot call [$name] before the chart is initialized. Set prop [options] first.",this)},initHigcharts:function(t){},init:function(){if(!this.getChart()&&this.options){var t=this.highcharts||a.a;if("Highstock"===t.product)return void(this.chart=new t.stockChart(this.$el,this.options));if("Highmaps"===t.product)return void(this.chart=new t.mapChart(this.$el,this.options));this.chart=new t.Chart(this.$el,this.options)}}},watch:{options:function(t){!this.getChart()&&t?this.init():this.getChart().update(this.options)}},beforeDestroy:function(){this.getChart()&&this.getChart().destroy()}}},function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var s=function(){};if("production"!==t.env.NODE_ENV){var a="undefined"!==typeof console;s=function(t,e){a&&console.error("[Vue warn]: "+t+(e?r(o(e)):""))};var o=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return e?"component <"+e+">":"anonymous component"},r=function(t){return"anonymous component"===t&&(t+='-use the "name" option for better debugging messages.'),t}}}).call(e,i(5))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i.n(s);e["default"]=a.a},function(t,e){(function(e,i){"object"===typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)})("undefined"!==typeof window?window:this,(function(t){var e=function(){var e="undefined"===typeof t?window:t,i=e.document,s=e.navigator&&e.navigator.userAgent||"",a=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(s)&&!e.opera,r=-1!==s.indexOf("Firefox"),n=-1!==s.indexOf("Chrome"),l=r&&4>parseInt(s.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.1.1",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:o,isWebKit:-1!==s.indexOf("AppleWebKit"),isFirefox:r,isChrome:n,isSafari:!n&&-1!==s.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(s),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:a,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();(function(t){t.timers=[];var e=t.charts,i=t.doc,s=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);s.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],s=[],a=this.now,o=e.length;if(1===a)s=this.toD;else if(o===i.length&&1>a)for(;o--;)t=parseFloat(e[o]),s[o]=isNaN(t)?i[o]:a*parseFloat(i[o]-t)+t;else s=i;this.elem.attr("d",s,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)},run:function(e,i,a){var o=this,r=o.options,n=function(t){return!n.stopped&&o.step(t)},l=s.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=a,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&1===t.timers.push(n)&&l(c)):(delete r.curAnim[this.prop],r.complete&&0===t.keys(r.curAnim).length&&r.complete.call(this.elem))},step:function(e){var i,s=+new Date,a=this.options,o=this.elem,r=a.complete,n=a.duration,l=a.curAnim;return o.attr&&!o.element?e=!1:e||s>=n+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,(function(t){!0!==t&&(i=!1)})),i&&r&&r.call(o),e=!1):(this.pos=a.easing((s-this.startTime)/n),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,s){function a(t){var e,i;for(d=t.length;d--;)e="M"===t[d]||"L"===t[d],i=/[a-zA-Z]/.test(t[d+3]),e&&i&&t.splice(d+1,0,t[d+1],t[d+2],t[d+1],t[d+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,m);[].splice.apply(t,[0,0].concat(i)),g&&(i=t.slice(t.length-m),[].splice.apply(t,[t.length,0].concat(i)),d--)}t[0]="M"}function r(t,e){for(var i=(l-t.length)/m;0<i&&i--;)c=t.slice().splice(t.length/v-m,m*v),c[0]=e[l-m-i*m],p&&(c[m-6]=c[m-2],c[m-5]=c[m-1]),[].splice.apply(t,[t.length/v,0].concat(c)),g&&i--}i=i||"";var n,l,c,d,h=e.startX,u=e.endX,p=-1<i.indexOf("C"),m=p?7:3;i=i.split(" "),s=s.slice();var f,g=e.isArea,v=g?2:1;if(p&&(a(i),a(s)),h&&u){for(d=0;d<h.length;d++){if(h[d]===u[0]){n=d;break}if(h[0]===u[u.length-h.length+d]){n=d,f=!0;break}}void 0===n&&(i=[])}return i.length&&t.isNumber(n)&&(l=s.length+n*v*m,f?(o(i,s),r(s,i)):(o(s,i),r(i,s))),[i,s]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.merge=function(){var e,i,s=arguments,a={},o=function(e,i){return"object"!==typeof e&&(e={}),t.objectEach(i,(function(s,a){!t.isObject(s,!0)||t.isClass(s)||t.isDOMElement(s)?e[a]=i[a]:e[a]=o(e[a]||{},s)})),e};for(!0===s[0]&&(a=s[1],s=Array.prototype.slice.call(s,2)),i=s.length,e=0;e<i;e++)a=o(a,s[e]);return a},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"===typeof t},t.isArray=function(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t},t.isObject=function(e,i){return!!e&&"object"===typeof e&&(!i||!t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"===typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,s){var a;return t.isString(i)?t.defined(s)?e.setAttribute(i,s):e&&e.getAttribute&&((a=e.getAttribute(i))||"class"!==i||(a=e.getAttribute(i+"Name"))):t.defined(i)&&t.isObject(i)&&t.objectEach(i,(function(t,i){e.setAttribute(i,t)})),a},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,s=i.length;for(t=0;t<s;t++)if(e=i[t],void 0!==e&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,s,a,o,r){e=i.createElement(e);var n=t.css;return s&&t.extend(e,s),r&&n(e,{padding:0,border:"none",margin:0}),a&&n(e,a),o&&o.appendChild(e),e},t.extendClass=function(e,i){var s=function(){};return s.prototype=new e,t.extend(s.prototype,i),s},t.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var s=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,a=this;return a.proceed=function(){s.apply(a,arguments.length?arguments:e)},t.unshift(s),t=i.apply(this,t),a.proceed=null,t}},t.formatSingle=function(e,i,s){var a=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(s=(s=e.match(a))?s[1]:-1,null!==i&&(i=t.numberFormat(i,s,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):i=(s||t.time).dateFormat(e,i),i},t.format=function(e,i,s){for(var a,o,r,n,l,c="{",d=!1,h=[];e;){if(c=e.indexOf(c),-1===c)break;if(a=e.slice(0,c),d){for(a=a.split(":"),o=a.shift().split("."),n=o.length,l=i,r=0;r<n;r++)l&&(l=l[o[r]]);a.length&&(l=t.formatSingle(a.join(":"),l,s)),h.push(l)}else h.push(a);e=e.slice(c+1),c=(d=!d)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,s,a,o){var r,n=e;for(s=t.pick(s,1),r=e/s,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===s?i=t.grep(i,(function(t){return 0===t%1})):.1>=s&&(i=[1/s]))),a=0;a<i.length&&(n=i[a],!(o&&n*s>=e||!o&&r<=(i[a]+(i[a+1]||i[a]))/2));a++);return t.correctFloat(n*s,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,s,a=t.length;for(s=0;s<a;s++)t[s].safeI=s;for(t.sort((function(t,s){return i=e(t,s),0===i?t.safeI-s.safeI:i})),s=0;s<a;s++)delete t[s].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,(function(t,s){t&&t!==i&&t.destroy&&t.destroy(),delete e[s]}))},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,s,a){e=+e||0,i=+i;var o,r,n=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===i?i=Math.min(l,20):t.isNumber(i)?i&&c[1]&&0>c[1]&&(o=i+ +c[1],0<=o?(c[0]=(+c[0]).toExponential(o).split("e")[0],i=o):(c[0]=c[0].split(".")[0]||0,e=20>i?(c[0]*Math.pow(10,c[1])).toFixed(i):0,c[1]=0)):i=2,r=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),l=String(t.pInt(r)),o=3<l.length?l.length%3:0,s=t.pick(s,n.decimalPoint),a=t.pick(a,n.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+a:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+a),i&&(e+=s+r.slice(-i)),c[1]&&0!==+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,a){return"width"===i?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(s.getComputedStyle||t.error(27,!0),(e=s.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(a,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i,s){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e,s)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]},t.some=function(e,i,s){return(t.somePolyfill||Array.prototype.some).call(e,i,s)},t.map=function(t,e){for(var i=[],s=0,a=t.length;s<a;s++)i[s]=e.call(t[s],t[s],s,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,s){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[i,s]:[i])},t.offset=function(t){var e=i.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(s.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(s.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var s=t.timers.length;s--;)t.timers[s].elem!==e||i&&i!==t.timers[s].prop||(t.timers[s].stopped=!0)},t.each=function(e,i,s){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,s)},t.objectEach=function(t,e,i){for(var s in t)t.hasOwnProperty(s)&&e.call(i||t[s],t[s],s,t)},t.addEvent=function(e,i,s,a){var o,r=e.addEventListener||t.addEventListenerPolyfill;return o="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),r&&r.call(e,i,s,!1),o[i]||(o[i]=[]),o[i].push(s),a&&t.isNumber(a.order)&&(s.order=a.order,o[i].sort((function(t,e){return t.order-e.order}))),function(){t.removeEvent(e,i,s)}},t.removeEvent=function(e,i,s){function a(i,s){var a=e.removeEventListener||t.removeEventListenerPolyfill;a&&a.call(e,i,s,!1)}function o(s){var o,r;e.nodeName&&(i?(o={},o[i]=!0):o=s,t.objectEach(o,(function(t,e){if(s[e])for(r=s[e].length;r--;)a(e,s[e][r])})))}var r,n;t.each(["protoEvents","hcEvents"],(function(l){var c=e[l];c&&(i?(r=c[i]||[],s?(n=t.inArray(s,r),-1<n&&(r.splice(n,1),c[i]=r),a(i,s)):(o(c),c[i]=[])):(o(c),e[l]={}))}))},t.fireEvent=function(e,s,a,o){var r,n,l,c,d;a=a||{},i.createEvent&&(e.dispatchEvent||e.fireEvent)?(r=i.createEvent("Events"),r.initEvent(s,!0,!0),t.extend(r,a),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(s,r)):t.each(["protoEvents","hcEvents"],(function(i){if(e[i])for(n=e[i][s]||[],l=n.length,a.target||t.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:e,type:s}),c=0;c<l;c++)(d=n[c])&&!1===d.call(e,a)&&a.preventDefault()})),o&&!a.defaultPrevented&&o.call(e,a)},t.animate=function(e,i,s){var a,o,r,n,l="";t.isObject(s)||(n=arguments,s={duration:n[2],easing:n[3],complete:n[4]}),t.isNumber(s.duration)||(s.duration=400),s.easing="function"===typeof s.easing?s.easing:Math[s.easing]||Math.easeInOutSine,s.curAnim=t.merge(i),t.objectEach(i,(function(n,c){t.stop(e,c),r=new t.Fx(e,s,c),o=null,"d"===c?(r.paths=r.initPath(e,e.d,i.d),r.toD=i.d,a=0,o=1):e.attr?a=e.attr(c):(a=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=n),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),r.run(a,o,l)}))},t.seriesType=function(e,i,s,a,o){var r=t.getOptions(),n=t.seriesTypes;return r.plotOptions[e]=t.merge(r.plotOptions[i],s),n[e]=t.extendClass(n[i]||function(){},a),n[e].prototype.type=e,o&&(n[e].prototype.pointClass=t.extendClass(t.Point,o)),n[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),s.jQuery&&(s.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})})(e),function(t){var e=t.each,i=t.isNumber,s=t.map,a=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,a,o,r;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=s(e.stops,(function(e){return new t.Color(e[1])}));else if(e&&e.charAt&&"#"===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?a=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(a=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!a)for(o=this.parsers.length;o--&&!a;)r=this.parsers[o],(i=r.regex.exec(e))&&(a=r.parse(i));this.rgba=a||[]},get:function(t){var s,o=this.input,r=this.rgba;return this.stops?(s=a(o),s.stops=[].concat(s.stops),e(this.stops,(function(e,i){s.stops[i]=[s.stops[i][0],e.get(t)]}))):s=r&&i(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":o,s},brighten:function(t){var s,a=this.rgba;if(this.stops)e(this.stops,(function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(s=0;3>s;s++)a[s]+=o(255*t),0>a[s]&&(a[s]=0),255<a[s]&&(a[s]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,s=t.rgba;return s.length&&i&&i.length?(t=1!==s[3]||1!==i[3],e=(t?"rgba(":"rgb(")+Math.round(s[0]+(i[0]-s[0])*(1-e))+","+Math.round(s[1]+(i[1]-s[1])*(1-e))+","+Math.round(s[2]+(i[2]-s[2])*(1-e))+(t?","+(s[3]+(i[3]-s[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,i,s=t.addEvent,a=t.animate,o=t.attr,r=t.charts,n=t.color,l=t.css,c=t.createElement,d=t.defined,h=t.deg2rad,u=t.destroyObjectProperties,p=t.doc,m=t.each,f=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,w=t.isFirefox,k=t.isMS,C=t.isObject,S=t.isString,A=t.isWebKit,I=t.merge,T=t.noop,L=t.objectEach,P=t.pick,_=t.pInt,M=t.removeEvent,F=t.stop,D=t.svg,B=t.SVG_NS,O=t.symbolSizes,E=t.win;e=t.SVGElement=function(){return this},f(e.prototype,{opacity:1,SVG_NS:B,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?c(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,s){return i=t.animObject(P(i,this.renderer.globalAnimation,!0)),0!==i.duration?(s&&(i.complete=s),a(this,e,i)):(this.attr(e,null,s),i.step&&i.step.call(this)),this},complexColor:function(e,i,s){var a,o,r,n,l,c,h,u,p,f,g,v,y=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},(function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(r=e[o],l=y.gradients,h=e.stops,f=s.radialReference,x(r)&&(e[o]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&f&&!d(r.gradientUnits)&&(n=r,r=I(r,y.getRadialAttr(f,n),{gradientUnits:"userSpaceOnUse"})),L(r,(function(t,e){"id"!==e&&b.push(e,t)})),L(h,(function(t){b.push(t)})),b=b.join(","),l[b]?g=l[b].attr("id"):(r.id=g=t.uniqueKey(),l[b]=c=y.createElement(o).attr(r).add(y.defs),c.radAttr=n,c.stops=[],m(h,(function(e){0===e[1].indexOf("rgba")?(a=t.color(e[1]),u=a.get("rgb"),p=a.get("a")):(u=e[1],p=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":u,"stop-opacity":p}).add(c),c.stops.push(e)}))),v="url("+y.url+"#"+g+")",s.setAttribute(i,v),s.gradient=b,e.toString=function(){return v})}))},applyTextOutline:function(e){var i,s,a,r,n,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),s=e[e.length-1],(a=e[0])&&"none"!==a&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*e+i})),n=e.length;n--;)i=e[n],"highcharts-text-outline"===i.getAttribute("class")&&g(e,l.removeChild(i));r=l.firstChild,m(e,(function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":a,"stroke-linejoin":"round"}),l.insertBefore(t,r)}))}},attr:function(t,e,i,s){var a,o,r,n,l=this.element,c=this;return"string"===typeof t&&void 0!==e&&(a=t,t={},t[a]=e),"string"===typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(L(t,(function(e,i){r=!1,s||F(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||(n=this[i+"Setter"]||this._defaultSetter,n.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,n))}),this),this.afterSetters()),i&&i.call(this),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var s=this.shadows,a=s.length;a--;)i.call(s[a],"height"===t?Math.max(e-(s[a].cutHeight||0),0):"d"===t?this.d:e,t,s[a])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;m("x y r start end width height innerR anchorX anchorY".split(" "),(function(i){e[i]=P(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),d(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,s=this.styles,a={},r=this.element,n="",c=!s,d=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),s&&L(t,(function(t,e){t!==s[e]&&(a[e]=t,c=!0)})),c&&(s&&(t=f(s,a)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===r.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=_(t.width))),this.styles=t,e&&!D&&this.renderer.forExport&&delete t.width,r.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},L(t,(function(t,e){-1===b(e,d)&&(n+=e.replace(/([A-Z])/g,i)+":"+t+";")})),n&&o(r,"style",n)):l(r,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,s=i.element;return y&&"click"===t?(s.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(s,t)},s.onclick=function(t){(-1===E.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(s,t)}):s["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,s=this.scaleY,a=this.inverted,o=this.rotation,r=this.matrix,n=this.element;a&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],d(r)&&t.push("matrix("+r.join(",")+")"),a?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+P(this.rotationOriginX,n.getAttribute("x"),0)+" "+P(this.rotationOriginY,n.getAttribute("y")||0)+")"),(d(i)||d(s))&&t.push("scale("+P(i,1)+" "+P(s,1)+")"),t.length&&n.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,a,o,r,n,l,c={};return a=this.renderer,o=a.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=s=i||"renderer",g(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=P(i,a[s],a),s=t.align,a=t.verticalAlign,o=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"===s?n=1:"center"===s&&(n=2),n&&(o+=(i.width-(t.width||0))/n),c[e?"translateX":"x"]=Math.round(o),"bottom"===a?l=1:"middle"===a&&(l=2),l&&(r+=(i.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(r),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var i,s,a,o,r,n=this.renderer,l=this.element,c=this.styles,u=this.textStr,p=n.cache,g=n.cacheKeys;if(e=P(e,this.rotation),s=e*h,a=c&&c.fontSize,d(u)&&(r=u.toString(),-1===r.indexOf("<")&&(r=r.replace(/[0-9]/g,"0")),r+=["",e||0,a,this.textWidth,c&&c.textOverflow].join()),r&&!t&&(i=p[r]),!i){if(l.namespaceURI===this.SVG_NS||n.forExport){try{(o=this.fakeTS&&function(t){m(l.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))})&&o("none"),i=l.getBBox?f({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(v){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(n.isSVG&&(t=i.width,n=i.height,c&&"11px"===c.fontSize&&17===Math.round(n)&&(i.height=n=14),e&&(i.width=Math.abs(n*Math.sin(s))+Math.abs(t*Math.cos(s)),i.height=Math.abs(n*Math.cos(s))+Math.abs(t*Math.sin(s)))),r&&0<i.height){for(;250<g.length;)delete p[g.shift()];p[r]||g.push(r),p[r]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,s=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(s),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,s=e.ownerSVGElement,a=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,F(t),a&&s&&(m(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){var e=t.getAttribute("clip-path"),i=a.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")})),t.clipPath=a.destroy()),t.stops){for(s=0;s<t.stops.length;s++)t.stops[s]=t.stops[s].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&g(t.renderer.alignedObjects,t),L(t,(function(e,i){delete t[i]})),null},shadow:function(t,e,i){var s,a,r,n,l,c,d=[],h=this.element;if(t){if(!this.shadows){for(n=P(t.width,3),l=(t.opacity||.15)/n,c=this.parentInverted?"(-1,-1)":"("+P(t.offsetX,1)+", "+P(t.offsetY,1)+")",s=1;s<=n;s++)a=h.cloneNode(0),r=2*n+1-2*s,o(a,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*s,"stroke-width":r,transform:"translate"+c,fill:"none"}),i&&(o(a,"height",Math.max(o(a,"height")-r,0)),a.cutHeight=r),e?e.element.appendChild(a):h.parentNode&&h.parentNode.insertBefore(a,h),d.push(a);this.shadows=d}}else this.destroyShadows();return this},destroyShadows:function(){m(this.shadows||[],(function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=P(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=_(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(P(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,s,a,o,r=this.renderer,n=this.parentGroup,l=(n||r).element||r.box,c=this.element;r=l===r.box;if(i=this.added,d(t)?(c.setAttribute("data-z-index",t),t=+t,this[e]===t&&(i=!1)):d(this[e])&&c.removeAttribute("data-z-index"),this[e]=t,i){for((t=this.zIndex)&&n&&(n.handleZ=!0),e=l.childNodes,o=e.length-1;0<=o&&!s;o--)n=e[o],i=n.getAttribute("data-z-index"),a=!d(i),n!==c&&(0>t&&a&&!r&&!o?(l.insertBefore(c,e[o]),s=!0):(_(i)<=t||a&&(!d(t)||0<=t))&&(l.insertBefore(c,e[o+1]||null),s=!0));s||(l.insertBefore(c,e[r?3:0]||null),s=!0)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,s){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",s),s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(s.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},f(i.prototype,{Element:e,SVG_NS:B,init:function(t,e,i,a,r,n){var c,d;a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(a)),c=a.element,t.appendChild(c),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=a,this.alignedObjects=[],this.url=(w||A)&&p.getElementsByTagName("base").length?E.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 6.1.1")),this.defs=this.createElement("defs").add(),this.allowHTML=n,this.forExport=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),w&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),d=t.getBoundingClientRect(),l(t,{left:Math.ceil(d.left)-d.left+"px",top:Math.ceil(d.top)-d.top+"px"})},e(),this.unSubPixelFix=s(E,"resize",e))},getStyle:function(t){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),u(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:T,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t){return t.getBBox(!0).width},applyEllipsis:function(t,e,i,s){var a,o,r=t.rotation,n=i,l=0,c=i.length,d=function(t){e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))};if(t.rotation=0,n=this.getSpanWidth(t,e),o=n>s){for(;l<=c;)a=Math.ceil((l+c)/2),n=i.substring(0,a)+"…",d(n),n=this.getSpanWidth(t,e),l===c?l=c+1:n>s?c=a-1:l=a;0===c&&d("")}return t.rotation=r,o},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,i,s,a=t.element,r=this,n=r.forExport,c=P(t.textStr,"").toString(),d=-1!==c.indexOf("<"),h=a.childNodes,u=o(a,"x"),f=t.styles,g=t.textWidth,y=f&&f.lineHeight,x=f&&f.textOutline,w=f&&"ellipsis"===f.textOverflow,k=f&&"nowrap"===f.whiteSpace,C=f&&f.fontSize,S=h.length,A=(f=g&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:C||r.style.fontSize||12,y?_(y):r.fontMetrics(e,t.getAttribute("style")?t:a).h}),I=function(t,e){return L(r.escapes,(function(i,s){e&&-1!==b(i,e)||(t=t.toString().replace(new RegExp(i,"g"),s))})),t},T=function(t,e){var i;if(i=t.indexOf("<"),t=t.substring(i,t.indexOf(">")-i),i=t.indexOf(e+"="),-1!==i&&(i=i+e.length+1,e=t.charAt(i),'"'===e||"'"===e))return t=t.substring(i+1),t.substring(0,t.indexOf(e))};if(i=[c,w,k,y,x,C,g].join(),i!==t.textCache){for(t.textCache=i;S--;)a.removeChild(h[S]);d||x||w||g||-1!==c.indexOf(" ")?(f&&f.appendChild(a),c=d?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,(function(t){return""!==t})),m(c,(function(i,c){var d,h=0;i=i.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=i.split("|||"),m(d,(function(i){if(""!==i||1===d.length){var m,f,v={},y=p.createElementNS(r.SVG_NS,"tspan");if((m=T(i,"class"))&&o(y,"class",m),(m=T(i,"style"))&&(m=m.replace(/(;| |^)color([ :])/,"$1fill$2"),o(y,"style",m)),(f=T(i,"href"))&&!n&&(o(y,"onclick",'location.href="'+f+'"'),o(y,"class","highcharts-anchor"),l(y,{cursor:"pointer"})),i=I(i.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==i){if(y.appendChild(p.createTextNode(i)),h?v.dx=0:c&&null!==u&&(v.x=u),o(y,v),a.appendChild(y),!h&&s&&(!D&&n&&l(y,{display:"block"}),o(y,"dy",A(y))),g){v=i.replace(/([^\^])-/g,"$1- ").split(" "),f=1<d.length||c||1<v.length&&!k;var b,x=[],C=A(y),S=t.rotation;for(w&&(e=r.applyEllipsis(t,y,i,g));!w&&f&&(v.length||x.length);)t.rotation=0,b=r.getSpanWidth(t,y),i=b>g,void 0===e&&(e=i),i&&1!==v.length?(y.removeChild(y.firstChild),x.unshift(v.pop())):(v=x,x=[],v.length&&!k&&(y=p.createElementNS(B,"tspan"),o(y,{dy:C,x:u}),m&&o(y,"style",m),a.appendChild(y)),b>g&&(g=b+1)),v.length&&y.appendChild(p.createTextNode(v.join(" ").replace(/- /g,"-")));t.rotation=S}h++}}})),s=s||a.childNodes.length})),w&&e&&t.attr("title",I(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(a),x&&t.applyTextOutline&&t.applyTextOutline(x)):a.appendChild(p.createTextNode(I(c)))}},getContrast:function(t){return t=n(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,a,o,r,n,l,c){var d,h,u,p,m=this.label(t,e,i,c,null,null,null,null,"button"),g=0;return m.attr(I({padding:8,r:2},o)),o=I({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),d=o.style,delete o.style,r=I(o,{fill:"#e6e6e6"},r),h=r.style,delete r.style,n=I(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},n),u=n.style,delete n.style,l=I(o,{style:{color:"#cccccc"}},l),p=l.style,delete l.style,s(m.element,k?"mouseover":"mouseenter",(function(){3!==g&&m.setState(1)})),s(m.element,k?"mouseout":"mouseleave",(function(){3!==g&&m.setState(g)})),m.setState=function(t){1!==t&&(m.state=g=t),m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),m.attr([o,r,n,l][t||0]).css([d,h,u,p][t||0])},m.attr(o).css(f({cursor:"default"},d)),m.on("click",(function(t){3!==g&&a.call(m,t)}))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:C(t)&&f(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=C(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,s,a,o){return C(t)?(s=t,e=s.y,i=s.r,t=s.x):s={innerR:s,start:a,end:o},t=this.symbol("arc",t,e,i,i,s),t.r=i,t},rect:function(t,e,i,s,a,r){a=C(t)?t.r:a;var n=this.createElement("rect");return t=C(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(s,0)},void 0!==r&&(t.strokeWidth=r,t=n.crisp(t)),t.fill="none",a&&(t.r=a),n.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},n.attr(t)},setSize:function(t,e,i){var s=this.alignedObjects,a=s.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:P(i,!0)?void 0:0});a--;)s[a].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,a,o,r){var n,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},d=function(e){c(n.element,t),r.call(n,e)};return 1<arguments.length&&f(l,{x:e,y:i,width:a,height:o}),n=this.createElement("image").attr(l),r?(c(n.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new E.Image,s(l,"load",d),l.src=t,l.complete&&d({})):c(n.element,t),n},symbol:function(t,e,i,s,a,o){var n,h,u,g=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],w=d(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(i),s,a,o);return x?(n=this.path(w),n.attr("fill","none"),f(n,{symbolName:b,x:e,y:i,width:s,height:a}),o&&f(n,o)):y&&(h=t.match(v)[1],n=this.image(h),n.imgwidth=P(O[h]&&O[h].width,o&&o.width),n.imgheight=P(O[h]&&O[h].height,o&&o.height),u=function(){n.attr({width:n.width,height:n.height})},m(["width","height"],(function(t){n[t+"Setter"]=function(t,e){var i={},s=this["img"+e],a="width"===e?"translateX":"translateY";this[e]=t,d(s)&&(this.element&&this.element.setAttribute(e,s),this.alignByTranslate||(i[a]=((this[e]||0)-s)/2,this.attr(i)))}})),d(e)&&n.attr({x:e,y:i}),n.isImg=!0,d(n.imgwidth)&&d(n.imgheight)?u():(n.attr({width:0,height:0}),c("img",{onload:function(){var t=r[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),O[h]={width:this.width,height:this.height},n.imgwidth=this.width,n.imgheight=this.height,n.element&&u(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),n},symbols:{circle:function(t,e,i,s){return this.arc(t+i/2,e+s/2,i/2,s/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i,e+s,t,e+s,"Z"]},triangle:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s,t,e+s,"Z"]},"triangle-down":function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i/2,e+s,"Z"]},diamond:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s/2,t+i/2,e+s,t,e+s/2,"Z"]},arc:function(t,e,i,s,a){var o=a.start,r=a.r||i,n=a.r||s||i,l=a.end-.001;i=a.innerR,s=P(a.open,.001>Math.abs(a.end-a.start-2*Math.PI));var c=Math.cos(o),h=Math.sin(o),u=Math.cos(l);l=Math.sin(l);return a=.001>a.end-o-Math.PI?0:1,r=["M",t+r*c,e+n*h,"A",r,n,0,a,1,t+r*u,e+n*l],d(i)&&r.push(s?"M":"L",t+i*u,e+i*l,"A",i,i,0,a,0,t+i*c,e+i*h),r.push(s?"":"Z"),r},callout:function(t,e,i,s,a){var o,r=Math.min(a&&a.r||0,i,s),n=r+6,l=a&&a.anchorX;return a=a&&a.anchorY,o=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+s-r,"C",t+i,e+s,t+i,e+s,t+i-r,e+s,"L",t+r,e+s,"C",t,e+s,t,e+s,t,e+s-r,"L",t,e+r,"C",t,e,t,e,t+r,e],l&&l>i?a>e+n&&a<e+s-n?o.splice(13,3,"L",t+i,a-6,t+i+6,a,t+i,a+6,t+i,e+s-r):o.splice(13,3,"L",t+i,s/2,l,a,t+i,s/2,t+i,e+s-r):l&&0>l?a>e+n&&a<e+s-n?o.splice(33,3,"L",t,a+6,t-6,a,t,a-6,t,e+r):o.splice(33,3,"L",t,s/2,l,a,t,s/2,t,e+r):a&&a>s&&l>t+n&&l<t+i-n?o.splice(23,3,"L",l+6,e+s,l,e+s+6,l-6,e+s,t+r,e+s):a&&0>a&&l>t+n&&l<t+i-n&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-r,e),o}},clipRect:function(e,i,s,a){var o=t.uniqueKey(),r=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,i,s,a,0).add(r),e.id=o,e.clipPath=r,e.count=0,e},text:function(t,e,i,s){var a={};return!s||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),t=this.createElement("text").attr(a),s||(t.xSetter=function(t,e,i){var s,a,o=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(a=0;a<o.length;a++)s=o[a],s.getAttribute(e)===r&&s.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?_(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var s=t;return e&&i&&(s=Math.max(s*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:s}},label:function(i,s,a,o,r,n,l,c,h){var u,p,g,v,y,b,x,w,k,C,S,A,T,L=this,P=L.g("button"!==h&&"label"),_=P.text=L.text("",0,0,l).attr({zIndex:1}),F=0,D=3,B=0,O={},E=/^url\((.*?)\)$/.test(o),N=E;h&&P.addClass("highcharts-"+h),N=E,C=function(){return(w||0)%2/2},S=function(){var t=_.element.style,e={};p=(void 0===g||void 0===v||x)&&d(_.textStr)&&_.getBBox(),P.width=(g||p.width||0)+2*D+B,P.height=(v||p.height||0)+2*D,k=D+L.fontMetrics(t&&t.fontSize,_).b,N&&(u||(P.box=u=L.symbols[o]||E?L.symbol(o):L.rect(),u.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),u.add(P),t=C(),e.x=t,e.y=(c?-k:0)+t),e.width=Math.round(P.width),e.height=Math.round(P.height),u.attr(f(e,O)),O={})},A=function(){var t,e=B+D;t=c?0:k,d(g)&&p&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(g-p.width)),e===_.x&&t===_.y||(_.attr("x",e),_.hasBoxWidthChanged&&(p=_.getBBox(!0),S()),void 0!==t&&_.attr("y",t)),_.x=e,_.y=t},T=function(t,e){u?u.attr(t,e):O[t]=e},P.onAdd=function(){_.add(P),P.attr({text:i||0===i?i:"",x:s,y:a}),u&&d(r)&&P.attr({anchorX:r,anchorY:n})},P.widthSetter=function(e){g=t.isNumber(e)?e:null},P.heightSetter=function(t){v=t},P["text-alignSetter"]=function(t){x=t},P.paddingSetter=function(t){d(t)&&t!==D&&(D=P.padding=t,A())},P.paddingLeftSetter=function(t){d(t)&&t!==B&&(B=t,A())},P.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==F&&(F=t,p&&P.attr({x:y}))},P.textSetter=function(t){void 0!==t&&_.textSetter(t),S(),A()},P["stroke-widthSetter"]=function(t,e){t&&(N=!0),w=this["stroke-width"]=t,T(e,t)},P.strokeSetter=P.fillSetter=P.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(N=!0),P[e]=t),T(e,t)},P.anchorXSetter=function(t,e){r=P.anchorX=t,T(e,Math.round(t)-C()-y)},P.anchorYSetter=function(t,e){n=P.anchorY=t,T(e,t-b)},P.xSetter=function(t){P.x=t,F&&(t-=F*((g||p.width)+2*D),P["forceAnimate:x"]=!0),y=Math.round(t),P.attr("translateX",y)},P.ySetter=function(t){b=P.y=Math.round(t),P.attr("translateY",b)};var $=P.css;return f(P,{css:function(t){if(t){var e={};t=I(t),m(P.textProps,(function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])})),_.css(e),"width"in e&&S()}return $.call(P,t)},getBBox:function(){return{width:p.width+2*D,height:p.height+2*D,x:p.x-D,y:p.y-D}},shadow:function(t){return t&&(S(),u&&u.shadow(t)),P},destroy:function(){M(P.element,"mouseenter"),M(P.element,"mouseleave"),_&&(_=_.destroy()),u&&(u=u.destroy()),e.prototype.destroy.call(P),P=L=S=A=T=null}})}}),t.Renderer=i}(e),function(t){var e=t.attr,i=t.createElement,s=t.css,a=t.defined,o=t.each,r=t.extend,n=t.isFirefox,l=t.isMS,c=t.isWebKit,d=t.pick,h=t.pInt,u=t.SVGRenderer,p=t.win,m=t.wrap;r(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=r(this.styles,t),s(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,r=this.translateY||0,n=this.x||0,l=this.y||0,c=this.textAlign||"left",d={left:0,center:.5,right:1}[c],u=this.styles,p=u&&u.whiteSpace;if(s(e,{marginLeft:i,marginTop:r}),this.shadows&&o(this.shadows,(function(t){s(t,{marginLeft:i+1,marginTop:r+1})})),this.inverted&&o(e.childNodes,(function(i){t.invertChild(i,e)})),"SPAN"===e.tagName){u=this.rotation;var m,f=this.textWidth&&h(this.textWidth),g=[u,c,e.innerHTML,this.textWidth,this.textAlign].join();(m=f!==this.oldTextWidth)&&!(m=f>this.oldTextWidth)&&((m=this.textPxLength)||(s(e,{width:"",whiteSpace:p||"nowrap"}),m=e.offsetWidth),m=m>f),m&&/[ \-]/.test(e.textContent||e.innerText)?(s(e,{width:f+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,a(u)&&u!==(this.oldRotation||0)&&this.setSpanRotation(u,d,p),this.getSpanCorrection(!a(u)&&this.textPxLength||e.offsetWidth,p,d,u,c)),s(e,{left:n+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var a={},o=this.renderer.getTransformKey();a[o]=a.transform="rotate("+t+"deg)",a[o+(n?"Origin":"-origin")]=a.transformOrigin=100*e+"% "+i+"px",s(this.element,a)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),r(u.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":n?"MozTransform":p.opera?"-o-transform":""},html:function(t,s,a){var n=this.createElement("span"),l=n.element,c=n.renderer,h=c.isSVG,u=function(t,e){o(["opacity","visibility"],(function(i){m(t,i+"Setter",(function(t,i,s,a){t.call(this,i,s,a),e[s]=i}))})),t.addedSetters=!0};return n.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=d(t,""),n.doTransform=!0},h&&u(n,n.element.style),n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.doTransform=!0},n.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},n.attr({text:t,x:Math.round(s),y:Math.round(a)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",n.css=n.htmlCss,h&&(n.add=function(t){var s,a=c.box.parentNode,d=[];if(this.parentGroup=t){if(s=t.div,!s){for(;t;)d.push(t),t=t.parentGroup;o(d.reverse(),(function(t){function o(e,i){t[i]=e,"translateX"===i?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,c=e(t.element,"class");c&&(c={className:c}),s=t.div=t.div||i("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},s||a),l=s.style,r(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return d[0].div&&n.on.apply({element:d[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||u(t,l)}))}}else s=a;return s.appendChild(l),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}})}(e),function(t){var e=t.defined,i=t.each,s=t.extend,a=t.merge,o=t.pick,r=t.timeUnits,n=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(e){var i=o(e&&e.useUTC,!0),s=this;this.options=e=a(!0,this.options||{},e),this.Date=e.Date||n.Date,this.timezoneOffset=(this.useUTC=i)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(i&&!e.getTimezoneOffset&&!e.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),a=i-s.getTimezoneOffset(e);return e.setTime(a),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(e,i,a){var o;-1!==t.inArray(e,["Milliseconds","Seconds","Minutes"])?i["set"+e](a):(o=s.getTimezoneOffset(i),o=i.getTime()-o,i.setTime(o),i["setUTC"+e](a),e=s.getTimezoneOffset(i),o=i.getTime()+e,i.setTime(o))}):i?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(e,i,s,a,r,n){var l,c,d;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(l),l+=c,d=this.getTimezoneOffset(l),c!==d?l+=d-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,i,o(s,1),o(a,0),o(r,0),o(n,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,i=this.options,s=n.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(s)return function(t){return 6e4*-s.tz(t,i.timezone).utcOffset()};t.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,i,s){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var a=this,o=new this.Date(i),r=this.get("Hours",o),n=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),d=this.get("FullYear",o),h=t.defaultOptions.lang,u=h.weekdays,p=h.shortWeekdays,m=t.pad;o=t.extend({a:p?p[n]:u[n].substr(0,3),A:u[n],d:m(l),e:m(l,2," "),w:n,b:h.shortMonths[c],B:h.months[c],m:m(c+1),o:c+1,y:d.toString().substr(2,2),Y:d,H:m(r),k:r,I:m(r%12||12),l:r%12||12,M:m(a.get("Minutes",o)),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:m(o.getSeconds()),L:m(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(o,(function(t,s){for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"===typeof t?t.call(a,i):t)})),s?e.substr(0,1).toUpperCase()+e.substr(1):e},getTimeTicks:function(t,a,n,l){var c,d,h=this,u=[],p={},m=new h.Date(a),f=t.unitRange,g=t.count||1;if(e(a)){h.set("Milliseconds",m,f>=r.second?0:g*Math.floor(h.get("Milliseconds",m)/g)),f>=r.second&&h.set("Seconds",m,f>=r.minute?0:g*Math.floor(h.get("Seconds",m)/g)),f>=r.minute&&h.set("Minutes",m,f>=r.hour?0:g*Math.floor(h.get("Minutes",m)/g)),f>=r.hour&&h.set("Hours",m,f>=r.day?0:g*Math.floor(h.get("Hours",m)/g)),f>=r.day&&h.set("Date",m,f>=r.month?1:g*Math.floor(h.get("Date",m)/g)),f>=r.month&&(h.set("Month",m,f>=r.year?0:g*Math.floor(h.get("Month",m)/g)),c=h.get("FullYear",m)),f>=r.year&&h.set("FullYear",m,c-c%g),f===r.week&&h.set("Date",m,h.get("Date",m)-h.get("Day",m)+o(l,1)),c=h.get("FullYear",m),l=h.get("Month",m);var v=h.get("Date",m),y=h.get("Hours",m);for(a=m.getTime(),h.variableTimezone&&(d=n-a>4*r.month||h.getTimezoneOffset(a)!==h.getTimezoneOffset(n)),m=m.getTime(),a=1;m<n;)u.push(m),m=f===r.year?h.makeTime(c+a*g,0):f===r.month?h.makeTime(c,l+a*g):!d||f!==r.day&&f!==r.week?d&&f===r.hour&&1<g?h.makeTime(c,l,v,y+a*g):m+f*g:h.makeTime(c,l,v+a*g*(f===r.day?1:7)),a++;u.push(m),f<=r.hour&&1e4>u.length&&i(u,(function(t){0===t%18e5&&"000000000"===h.dateFormat("%H%M%S%L",t)&&(p[t]="day")}))}return u.info=s(t,{higherRanks:p,totalRange:f*g}),u}}}(e),function(t){var e=t.color,i=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=i(!0,t.defaultOptions,e),t.time.update(i(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,s){return t.time.dateFormat(e,i,s)}}(e),function(t){var e=t.correctFloat,i=t.defined,s=t.destroyObjectProperties,a=t.fireEvent,o=t.isNumber,r=t.merge,n=t.pick,l=t.deg2rad;t.Tick=function(t,e,i,s){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||s||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,s=this.axis,a=s.options,o=s.chart,l=s.categories,c=s.names,d=this.pos,h=a.labels,u=s.tickPositions,p=d===u[0],m=d===u[u.length-1];c=l?n(l[d],c[d],d):d,l=this.label,u=u.info;s.isDatetimeAxis&&u&&(t=a.dateTimeLabelFormats[u.higherRanks[d]||u.unitName]),this.isFirst=p,this.isLast=m,a=s.labelFormatter.call({axis:s,chart:o,isFirst:p,isLast:m,dateTimeLabelFormat:t,value:s.isLog?e(s.lin2log(c)):c,pos:d}),i(l)?l&&l.attr({text:a}):((this.label=l=i(a)&&h.enabled?o.renderer.text(a,0,0,h.useHTML).css(r(h.style)).add(s.labelGroup):null)&&(l.textPxLength=l.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,s=i.options.labels,a=t.x,o=i.chart.chartWidth,r=i.chart.spacing,c=n(i.labelLeft,Math.min(i.pos,r[3])),d=(r=n(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,o-r[1])),this.label),h=this.rotation,u={left:0,center:.5,right:1}[i.labelAlign||d.attr("align")],p=d.getBBox().width,m=i.getSlotWidth(this),f=m,g=1,v={};h||!1===s.overflow?0>h&&a-u*p<c?e=Math.round(a/Math.cos(h*l)-c):0<h&&a+u*p>r&&(e=Math.round((o-a)/Math.cos(h*l))):(o=a+(1-u)*p,a-u*p<c?f=t.x+f*(1-u)-c:o>r&&(f=r-t.x+f*u,g=-1),f=Math.min(m,f),f<m&&"center"===i.labelAlign&&(t.x+=g*(m-f-u*(m-Math.min(p,f)))),(p>f||i.autoRotation&&(d.styles||{}).width)&&(e=f)),e&&(v.width=e,(s.style||{}).textOverflow||(v.textOverflow="ellipsis"),d.css(v))},getPosition:function(e,i,s,o){var r=this.axis,n=r.chart,l=o&&n.oldChartHeight||n.chartHeight;return e={x:e?t.correctFloat(r.translate(i+s,null,null,o)+r.transB):r.left+r.offset+(r.opposite?(o&&n.oldChartWidth||n.chartWidth)-r.right-r.left:0),y:e?l-r.bottom+r.offset-(r.opposite?r.height:0):t.correctFloat(l-r.translate(i+s,null,null,o)-r.transB)},a(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,s,o,r,n,c,d){var h=this.axis,u=h.transA,p=h.reversed,m=h.staggerLines,f=h.tickRotCorr||{x:0,y:0},g=r.y,v=o||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y={};return i(g)||(g=0===h.side?s.rotation?-8:-s.getBBox().height:2===h.side?f.y+8:Math.cos(s.rotation*l)*(f.y-s.getBBox(!1,0).height/2)),t=t+r.x+v+f.x-(n&&o?n*u*(p?-1:1):0),e=e+g-(n&&!o?n*u*(p?1:-1):0),m&&(s=c/(d||1)%m,h.opposite&&(s=m-s-1),e+=h.labelOffset/m*s),y.x=t,y.y=Math.round(e),a(this,"afterGetLabelPosition",{pos:y}),y},getMarkPath:function(t,e,i,s,a,o){return o.crispLine(["M",t,e,"L",t+(a?0:-i),e+(a?i:0)],s)},renderGridLine:function(t,e,i){var s=this.axis,a=s.options,o=this.gridLine,r={},n=this.pos,l=this.type,c=s.tickmarkOffset,d=s.chart.renderer,h=l?l+"Grid":"grid",u=a[h+"LineWidth"],p=a[h+"LineColor"];a=a[h+"LineDashStyle"];o||(r.stroke=p,r["stroke-width"]=u,a&&(r.dashstyle=a),l||(r.zIndex=1),t&&(r.opacity=0),this.gridLine=o=d.path().attr(r).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(s.gridGroup)),!t&&o&&(t=s.getPlotLinePath(n+c,o.strokeWidth()*i,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var s=this.axis,a=s.options,o=s.chart.renderer,r=this.type,l=r?r+"Tick":"tick",c=s.tickSize(l),d=this.mark,h=!d,u=t.x;t=t.y;var p=n(a[l+"Width"],!r&&s.isXAxis?1:0);a=a[l+"Color"];c&&(s.opposite&&(c[0]=-c[0]),h&&(this.mark=d=o.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(s.axisGroup),d.attr({stroke:a,"stroke-width":p})),d[h?"attr":"animate"]({d:this.getMarkPath(u,t,c[0],d.strokeWidth()*i,s.horiz,o),opacity:e}))},renderLabel:function(t,e,i,s){var a=this.axis,r=a.horiz,l=a.options,c=this.label,d=l.labels,h=d.step,u=(a=a.tickmarkOffset,!0),p=t.x;t=t.y,c&&o(p)&&(c.xy=t=this.getLabelPosition(p,t,c,r,d,a,s,h),this.isFirst&&!this.isLast&&!n(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!n(l.showLastLabel,1)?u=!1:!r||d.step||d.rotation||e||0===i||this.handleOverflow(t),h&&s%h&&(u=!1),u&&o(t.y)?(t.opacity=i,c[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(e,i,s){var a=this.axis,o=a.horiz,r=this.getPosition(o,this.pos,a.tickmarkOffset,i),l=r.x,c=r.y;a=o&&l===a.pos+a.len||!o&&c===a.pos?-1:1;s=n(s,1),this.isActive=!0,this.renderGridLine(i,s,a),this.renderMark(r,s,a),this.renderLabel(r,i,s,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){s(this,this.axis)}}}(e);var i=function(t){var e=t.addEvent,i=t.animObject,s=t.arrayMax,a=t.arrayMin,o=t.color,r=t.correctFloat,n=t.defaultOptions,l=t.defined,c=t.deg2rad,d=t.destroyObjectProperties,h=t.each,u=t.extend,p=t.fireEvent,m=t.format,f=t.getMagnitude,g=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,x=t.isString,w=t.merge,k=t.normalizeTickInterval,C=t.objectEach,S=t.pick,A=t.removeEvent,I=t.splat,T=t.syncTimeout,L=t.Tick,P=function(){this.init.apply(this,arguments)};return t.extend(P.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var s=i.isX,a=this;a.chart=t,a.horiz=t.inverted&&!a.isZAxis?!s:s,a.isXAxis=s,a.coll=a.coll||(s?"xAxis":"yAxis"),p(this,"init",{userOptions:i}),a.opposite=i.opposite,a.side=i.side||(a.horiz?a.opposite?0:2:a.opposite?1:3),a.setOptions(i);var o=this.options,r=o.type;a.labelFormatter=o.labels.formatter||a.defaultLabelFormatter,a.userOptions=i,a.minPixelPadding=0,a.reversed=o.reversed,a.visible=!1!==o.visible,a.zoomEnabled=!1!==o.zoomEnabled,a.hasNames="category"===r||!0===o.categories,a.categories=o.categories||a.hasNames,a.names||(a.names=[],a.names.keys={}),a.plotLinesAndBandsGroups={},a.isLog="logarithmic"===r,a.isDatetimeAxis="datetime"===r,a.positiveValuesOnly=a.isLog&&!a.allowNegativeLog,a.isLinked=l(o.linkedTo),a.ticks={},a.labelEdge=[],a.minorTicks={},a.plotLinesAndBands=[],a.alternateBands={},a.len=0,a.minRange=a.userMinRange=o.minRange||o.maxZoom,a.range=o.range,a.offset=o.offset||0,a.stacks={},a.oldStacks={},a.stacksTouched=0,a.max=null,a.min=null,a.crosshair=S(o.crosshair,I(t.options.tooltip.crosshairs)[s?0:1],!1),i=a.options.events,-1===v(a,t.axes)&&(s?t.axes.splice(t.xAxis.length,0,a):t.axes.push(a),t[a.coll].push(a)),a.series=a.series||[],t.inverted&&!a.isZAxis&&s&&void 0===a.reversed&&(a.reversed=!0),C(i,(function(t,i){e(a,i,t)})),a.lin2log=o.linearToLogConverter||a.lin2log,a.isLog&&(a.val2lin=a.log2lin,a.lin2val=a.lin2log),p(this,"afterInit")},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(n[this.coll],t)),p(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,i=this.axis,s=this.value,a=i.chart.time,o=i.categories,r=this.dateTimeLabelFormat,l=n.lang,c=l.numericSymbols,d=(l=l.numericSymbolMagnitude||1e3,c&&c.length),h=i.options.labels.format;i=i.isLog?Math.abs(s):i.tickInterval;if(h)e=m(h,this,a);else if(o)e=s;else if(r)e=a.dateFormat(r,s);else if(d&&1e3<=i)for(;d--&&void 0===e;)a=Math.pow(l,d+1),i>=a&&0===10*s%a&&null!==c[d]&&0!==s&&(e=t.numberFormat(s/a,-1)+c[d]);return void 0===e&&(e=1e4<=Math.abs(s)?t.numberFormat(s,-1):t.numberFormat(s,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),h(t.series,(function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,r=i.options,n=r.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=n&&(n=null),t.isXAxis?(r=i.xData,r.length&&(i=a(r),o=s(r),b(i)||i instanceof Date||(r=g(r,b),i=a(r),o=s(r)),r.length&&(t.dataMin=Math.min(S(t.dataMin,r[0],i),i),t.dataMax=Math.max(S(t.dataMax,r[0],o),o)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,l(i)&&l(o)&&(t.dataMin=Math.min(S(t.dataMin,i),i),t.dataMax=Math.max(S(t.dataMax,o),o)),l(n)&&(t.threshold=n),(!r.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),p(this,"afterGetSeriesExtremes")},translate:function(t,e,i,s,a,o){var r=this.linkedParent||this,n=1,l=0,c=s?r.oldTransA:r.transA;s=s?r.oldMin:r.min;var d=r.minPixelPadding;return a=(r.isOrdinal||r.isBroken||r.isLog&&a)&&r.lin2val,c||(c=r.transA),i&&(n*=-1,l=r.len),r.reversed&&(n*=-1,l-=n*(r.sector||r.len)),e?(t=(t*n+l-d)/c+s,a&&(t=r.lin2val(t))):(a&&(t=r.val2lin(t)),t=b(s)?n*(t-s)*c+l+n*d+(b(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,s,a){var o,r,n,l=this.chart,c=this.left,d=this.top,h=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(s?t=Math.min(Math.max(e,t),i):n=!0),t};return a=S(a,this.translate(t,null,null,i)),a=Math.min(Math.max(-1e5,a),1e5),t=i=Math.round(a+o),o=r=Math.round(h-a-o),b(a)?this.horiz?(o=d,r=h-this.bottom,t=i=p(t,c,c+this.width)):(t=c,i=u-this.right,o=r=p(o,d,d+this.height)):(n=!0,s=!1),n&&!s?null:l.renderer.crispLine(["M",t,o,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var s,a=r(Math.floor(e/t)*t);i=r(Math.ceil(i/t)*t);var o,n=[];if(r(a+t)===a&&(o=20),this.single)return[e];for(e=a;e<=i;){if(n.push(e),e=r(e+t,o),e===s)break;s=e}return n},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?S(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,s=t.minorTickInterval,a=[],o=t.pointRangePadding||0,r=t.min-o,n=(o=t.max+o,o-r);if(n&&n/s<t.len/3)if(t.isLog)h(this.paddedTicks,(function(e,i,o){i&&a.push.apply(a,t.getLogTickPositions(s,o[i-1],o[i],!0))}));else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())a=a.concat(t.getTimeTicks(t.normalizeTimeTickInterval(s),r,o,e.startOfWeek));else for(e=r+(i[0]-r)%s;e<=o&&e!==a[0];e+=s)a.push(e);return 0!==a.length&&t.trimTicks(a),a},adjustForMinRange:function(){var t,e,i,o,r,n,c,d=this.options,u=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(d.min)||l(d.max)?this.minRange=null:(h(this.series,(function(t){for(n=t.xData,o=t.xIncrement?1:n.length-1;0<o;o--)r=n[o]-n[o-1],(void 0===i||r<i)&&(i=r)})),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),p-u<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,t=(c-p+u)/2,t=[u-t,S(d.min,u-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=s(t),p=[u+c,S(d.max,u+c)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),p=a(p),p-u<c&&(t[0]=p-c,t[1]=S(d.min,p-c),u=s(t))),this.min=u,this.max=p},getClosest:function(){var t;return this.categories?t=1:h(this.series,(function(e){var i=e.closestPointRange,s=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&s&&(t=l(t)?Math.min(t,i):i)})),t},nameToX:function(t){var e,i=y(this.categories),s=i?this.categories:this.names,a=t.options.x;return t.series.requireSorting=!1,l(a)||(a=!1===this.options.uniqueNames?t.series.autoIncrement():i?v(t.name,s):S(s.keys[t.name],-1)),-1===a?i||(e=s.length):e=a,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,i=this.names;0<i.length&&(h(t.keys(i.keys),(function(t){delete i.keys[t]})),i.length=0,this.minRange=this.userMinRange,h(this.series||[],(function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),h(t.points,(function(i,s){var a;i.options&&(a=e.nameToX(i),void 0!==a&&a!==i.x&&(i.x=a,t.xData[s]=a))}))})))},setAxisTranslation:function(t){var e,i=this,s=i.max-i.min,a=i.axisPointRange||0,o=0,r=0,n=i.linkedParent,l=!!i.categories,c=i.transA,d=i.isXAxis;(d||l||a)&&(e=i.getClosest(),n?(o=n.minPointOffset,r=n.pointRangePadding):h(i.series,(function(t){var s=l?1:d?S(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,a=Math.max(a,s),i.single||(o=Math.max(o,x(t)?0:s/2),r=Math.max(r,"on"===t?0:s))})),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=n,i.pointRangePadding=r*=n,i.pointRange=Math.min(a,s),d&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.options.staticScale||i.len/(s+r||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*o,p(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,s,a,o,n=this,c=n.chart,d=n.options,u=n.isLog,m=n.isDatetimeAxis,g=n.isXAxis,v=n.isLinked,y=d.maxPadding,x=d.minPadding,w=d.tickInterval,C=d.tickPixelInterval,A=n.categories,I=b(n.threshold)?n.threshold:null,T=n.softThreshold;m||A||v||this.getTickAmount(),a=S(n.userMin,d.min),o=S(n.userMax,d.max),v?(n.linkedParent=c[n.coll][d.linkedTo],c=n.linkedParent.getExtremes(),n.min=S(c.min,c.dataMin),n.max=S(c.max,c.dataMax),d.type!==n.linkedParent.options.type&&t.error(11,1)):(!T&&l(I)&&(n.dataMin>=I?(i=I,x=0):n.dataMax<=I&&(s=I,y=0)),n.min=S(a,i,n.dataMin),n.max=S(o,s,n.dataMax)),u&&(n.positiveValuesOnly&&!e&&0>=Math.min(n.min,S(n.dataMin,n.min))&&t.error(10,1),n.min=r(n.log2lin(n.min),15),n.max=r(n.log2lin(n.max),15)),n.range&&l(n.max)&&(n.userMin=n.min=a=Math.max(n.dataMin,n.minFromRange()),n.userMax=o=n.max,n.range=null),p(n,"foundExtremes"),n.beforePadding&&n.beforePadding(),n.adjustForMinRange(),!(A||n.axisPointRange||n.usePercentage||v)&&l(n.min)&&l(n.max)&&(c=n.max-n.min)&&(!l(a)&&x&&(n.min-=c*x),!l(o)&&y&&(n.max+=c*y)),b(d.softMin)&&!b(n.userMin)&&(n.min=Math.min(n.min,d.softMin)),b(d.softMax)&&!b(n.userMax)&&(n.max=Math.max(n.max,d.softMax)),b(d.floor)&&(n.min=Math.max(n.min,d.floor)),b(d.ceiling)&&(n.max=Math.min(n.max,d.ceiling)),T&&l(n.dataMin)&&(I=I||0,!l(a)&&n.min<I&&n.dataMin>=I?n.min=I:!l(o)&&n.max>I&&n.dataMax<=I&&(n.max=I)),n.tickInterval=n.min===n.max||void 0===n.min||void 0===n.max?1:v&&!w&&C===n.linkedParent.options.tickPixelInterval?w=n.linkedParent.tickInterval:S(w,this.tickAmount?(n.max-n.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(n.max-n.min)*C/Math.max(n.len,C)),g&&!e&&h(n.series,(function(t){t.processData(n.min!==n.oldMin||n.max!==n.oldMax)})),n.setAxisTranslation(!0),n.beforeSetTickPositions&&n.beforeSetTickPositions(),n.postProcessTickInterval&&(n.tickInterval=n.postProcessTickInterval(n.tickInterval)),n.pointRange&&!w&&(n.tickInterval=Math.max(n.pointRange,n.tickInterval)),e=S(d.minTickInterval,n.isDatetimeAxis&&n.closestPointRange),!w&&n.tickInterval<e&&(n.tickInterval=e),m||u||w||(n.tickInterval=k(n.tickInterval,null,f(n.tickInterval),S(d.allowDecimals,!(.5<n.tickInterval&&5>n.tickInterval&&1e3<n.max&&9999>n.max)),!!this.tickAmount)),this.tickAmount||(n.tickInterval=n.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var s=e.tickPositioner,a=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()],t[0]===t[1]&&(t.length=1)),this.tickPositions=t,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=t=s),this.paddedTicks=t.slice(0),this.trimTicks(t,a,o),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),i||s||this.adjustTickAmount()),p(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var s=t[0],a=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==s)this.min=s;else for(;this.min-o>t[0];)t.shift();if(i)this.max=a;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(s)&&!this.options.tickPositions&&t.push((a+s)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||h(this.chart[this.coll],(function(i){var s=i.options;s=[i.horiz?s.left:s.top,s.width,s.height,s.pane].join();i.series.length&&(e[s]?t=!0:e[s]=1)})),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,s=this.finalTickAmt,a=e&&e.length,o=S(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<i){for(;e.length<i;)e.length%2||this.min===o?e.push(r(e[e.length-1]+t)):e.unshift(r(e[0]-t));this.transA*=(a-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else a>i&&(this.tickInterval*=2,this.setTickPositions());if(l(s)){for(t=i=e.length;t--;)(3===s&&1===t%2||2>=s&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,h(this.series,(function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)})),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),p(this,"afterSetScale")},setExtremes:function(t,e,i,s,a){var o=this,r=o.chart;i=S(i,!0),h(o.series,(function(t){delete t.kdTree})),a=u(a,{min:t,max:e}),p(o,"setExtremes",a,(function(){o.userMin=t,o.userMax=e,o.eventArgs=a,i&&r.redraw(s)}))},zoom:function(t,e){var i=this.dataMin,s=this.dataMax,a=this.options,o=Math.min(i,S(a.min,i));a=Math.max(s,S(a.max,s));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>a&&(t=a)),l(s)&&(e<o&&(e=o),e>a&&(e=a))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=this.options,s=i.offsets||[0,0,0,0],a=this.horiz,o=this.width=Math.round(t.relativeLength(S(i.width,e.plotWidth-s[3]+s[1]),e.plotWidth)),r=this.height=Math.round(t.relativeLength(S(i.height,e.plotHeight-s[0]+s[2]),e.plotHeight)),n=this.top=Math.round(t.relativeLength(S(i.top,e.plotTop+s[0]),e.plotHeight,e.plotTop));i=this.left=Math.round(t.relativeLength(S(i.left,e.plotLeft+s[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-r-n,this.right=e.chartWidth-o-i,this.len=Math.max(a?o:r,0),this.pos=a?i:n},getExtremes:function(){var t=this.isLog;return{min:t?r(this.lin2log(this.min)):this.min,max:t?r(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?this.lin2log(this.min):this.min;e=e?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(S(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],s=S(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(s&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,s]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,s=this.options.labels,a=this.horiz,o=this.tickInterval,n=o,d=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=s.rotation,p=this.labelMetrics(),m=Number.MAX_VALUE,f=function(t){return t/=d||1,t=1<t?Math.ceil(t):1,r(t*o)};return a?(i=!s.staggerLines&&!s.step&&(l(u)?[u]:d<S(s.autoRotationLimit,80)&&s.autoRotation))&&h(i,(function(i){var s;(i===u||i&&-90<=i&&90>=i)&&(e=f(Math.abs(p.h/Math.sin(c*i))),s=e+Math.abs(i/360),s<m&&(m=s,t=i,n=e))})):s.step||(n=f(p.h)),this.autoRotation=i,this.labelRotation=S(t,u),n},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,s=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/s||!e&&(i.style&&parseInt(i.style.width,10)||a&&a-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,s=this.chart,a=s.renderer,o=this.tickPositions,r=this.ticks,n=this.options.labels,l=n&&n.style||{},c=this.horiz,d=this.getSlotWidth(),u=Math.max(1,Math.round(d-2*(n.padding||5))),p={},m=this.labelMetrics(),f=n.style&&n.style.textOverflow,g=0;if(x(n.rotation)||(p.rotation=n.rotation||0),h(o,(function(t){(t=r[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)})),this.maxLabelLength=g,this.autoRotation)g>u&&g>m.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t=u,!f))for(e="clip",u=o.length;!c&&u--;)i=o[u],(i=r[i].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>d&&i.css({width:d+"px"}),i.getBBox().height>this.len/o.length-(m.h-m.f)&&(i.specificTextOverflow="ellipsis"));p.rotation&&(t=g>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight,f||(e="ellipsis")),(this.labelAlign=n.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),h(o,(function(i){var s=(i=r[i])&&i.label,a=l.width,o={};s&&(s.attr(p),t&&!a&&"nowrap"!==l.whiteSpace&&(t<s.textPxLength||"SPAN"===s.element.tagName)?(o.width=t,f||(o.textOverflow=s.specificTextOverflow||e),s.css(o)):s.styles&&s.styles.width&&!o.width&&!a&&s.css({width:null}),delete s.specificTextOverflow,i.rotation=p.rotation)})),this.tickRotCorr=a.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,s=this.horiz,a=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(s?{low:"left",middle:"center",high:"right"}:{low:a?"right":"left",middle:"center",high:a?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(w(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new L(this,t)},getOffset:function(){var t,e,i,s=this,a=s.chart,o=a.renderer,r=s.options,n=s.tickPositions,c=s.ticks,d=s.horiz,u=s.side,p=a.inverted&&!s.isZAxis?[1,0,3,2][u]:u,m=0,f=0,g=r.title,v=r.labels,y=0,b=a.axisOffset,x=(a=a.clipOffset,[-1,1,1,-1][u]),w=r.className,k=s.axisParent,A=this.tickSize("tick");t=s.hasData(),s.showAxis=e=t||S(r.showEmpty,!0),s.staggerLines=s.horiz&&v.staggerLines,s.axisGroup||(s.gridGroup=o.g("grid").attr({zIndex:r.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),s.axisGroup=o.g("axis").attr({zIndex:r.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),s.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||s.isLinked?(h(n,(function(t,e){s.generateTick(t,e)})),s.renderUnsquish(),s.reserveSpaceDefault=0===u||2===u||{1:"left",3:"right"}[u]===s.labelAlign,S(v.reserveSpace,"center"===s.labelAlign||null,s.reserveSpaceDefault)&&h(n,(function(t){y=Math.max(c[t].getLabelSize(),y)})),s.staggerLines&&(y*=s.staggerLines),s.labelOffset=y*(s.opposite?-1:1)):C(c,(function(t,e){t.destroy(),delete c[e]})),g&&g.text&&!1!==g.enabled&&(s.addTitle(e),e&&!1!==g.reserveSpace&&(s.titleOffset=m=s.axisTitle.getBBox()[d?"height":"width"],i=g.offset,f=l(i)?0:S(g.margin,d?5:10))),s.renderLine(),s.offset=x*S(r.offset,b[u]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=0===u?-s.labelMetrics().h:2===u?s.tickRotCorr.y:0,f=Math.abs(y)+f,y&&(f=f-o+x*(d?S(v.y,s.tickRotCorr.y+8*x):v.x)),s.axisTitleMargin=S(i,f),b[u]=Math.max(b[u],s.axisTitleMargin+m+x*s.offset,f,t&&n.length&&A?A[0]+x*s.offset:0),r=r.offset?0:2*Math.floor(s.axisLine.strokeWidth()/2),a[p]=Math.max(a[p],r)},getLinePath:function(t){var e=this.chart,i=this.opposite,s=this.offset,a=this.horiz,o=this.left+(i?this.width:0)+s;s=e.chartHeight-this.bottom-(i?this.height:0)+s;return i&&(t*=-1),e.renderer.crispLine(["M",a?this.left:o,a?s:this.top,"L",a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,s=this.len,a=this.options.title,o=t?e:i,r=this.opposite,n=this.offset,l=a.x||0,c=a.y||0,d=this.axisTitle,h=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,d);d=Math.max(d.getBBox(null,0).height-h.h-1,0),s={low:o+(t?0:s),middle:o+s/2,high:o+(t?s:0)}[a.align],e=(t?i+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+[-d,d,h.f,-d][this.side];return{x:t?s+l:e+(r?this.width:0)+n+l,y:t?e+c-(r?this.height:0)+n:s+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new L(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,s=this.ticks,a=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(s[t]||(s[t]=new L(this,t)),a&&s[t].isNew&&s[t].render(e,!0,.1),s[t].render(e))},render:function(){var e,s,a=this,o=a.chart,r=a.options,n=a.isLog,l=a.isLinked,c=a.tickPositions,d=a.axisTitle,u=a.ticks,m=a.minorTicks,f=a.alternateBands,g=r.stackLabels,v=r.alternateGridColor,y=a.tickmarkOffset,x=a.axisLine,w=a.showAxis,k=i(o.renderer.globalAnimation);a.labelEdge.length=0,a.overlap=!1,h([u,m,f],(function(t){C(t,(function(t){t.isActive=!1}))})),(a.hasData()||l)&&(a.minorTickInterval&&!a.categories&&h(a.getMinorTickPositions(),(function(t){a.renderMinorTick(t)})),c.length&&(h(c,(function(t,e){a.renderTick(t,e)})),y&&(0===a.min||a.single)&&(u[-1]||(u[-1]=new L(a,-1,null,!0)),u[-1].render(-1))),v&&h(c,(function(i,r){s=void 0!==c[r+1]?c[r+1]+y:a.max-y,0===r%2&&i<a.max&&s<=a.max+(o.polar?-y:y)&&(f[i]||(f[i]=new t.PlotLineOrBand(a)),e=i+y,f[i].options={from:n?a.lin2log(e):e,to:n?a.lin2log(s):s,color:v},f[i].render(),f[i].isActive=!0)})),a._addedPlotLB||(h((r.plotLines||[]).concat(r.plotBands||[]),(function(t){a.addPlotBandOrLine(t)})),a._addedPlotLB=!0)),h([u,m,f],(function(t){var e,i=[],s=k.duration;C(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),T((function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==f&&o.hasRendered&&s?s:0)})),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),d&&w&&(r=a.getTitlePosition(),b(r.y)?(d[d.isNew?"attr":"animate"](r),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),g&&g.enabled&&a.renderStackTotals(),a.isDirty=!1,p(this,"afterRender")},redraw:function(){this.visible&&(this.render(),h(this.plotLinesAndBands,(function(t){t.render()}))),h(this.series,(function(t){t.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,s=i.stacks,a=i.plotLinesAndBands;if(p(this,"destroy",{keepEvents:t}),t||A(i),C(s,(function(t,e){d(t),s[e]=null})),h([i.ticks,i.minorTicks,i.alternateBands],(function(t){d(t)})),a)for(t=a.length;t--;)a[t].destroy();for(e in h("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),(function(t){i[t]&&(i[t]=i[t].destroy())})),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();C(i,(function(t,e){-1===v(e,i.keepProps)&&delete i[e]}))},drawCrosshair:function(t,e){var i,s,a=this.crosshair,r=S(a.snap,!0),n=this.cross;if(p(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!r)){if(r?l(e)&&(s=S(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):s=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(s)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:S(e.stackY,e.y)),null,null,null,s)||null),!l(i))return void this.hideCrosshair();r=this.categories&&!this.isRadial,n||(this.cross=n=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+a.className).attr({zIndex:S(a.zIndex,2)}).add(),n.attr({stroke:a.color||(r?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&n.attr({dashstyle:a.dashStyle})),n.show().attr({d:i}),r&&!a.width&&n.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=P}(e);return function(t){var e=t.Axis,i=t.getMagnitude,s=t.normalizeTickInterval,a=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var r,n=a[e[0]],l=e[1];for(r=0;r<o.length&&(e=o[r],n=a[e[0]],l=e[1],!(o[r+1]&&t<=(n*l[l.length-1]+a[o[r+1][0]])/2));r++);return n===a.year&&t<5*n&&(l=[1,2,5]),t=s(t/n,l,"year"===e[0]?Math.max(i(t/n),1):1),{unitRange:n,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,i=t.getMagnitude,s=t.map,a=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,r,n){var l=this.options,c=this.len,d=[];if(n||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,r);else if(.08<=t){var h,u,p,m,f;for(c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<r+1&&!f;c++)for(u=l.length,h=0;h<u&&!f;h++)p=this.log2lin(this.lin2log(c)*l[h]),p>e&&(!n||m<=r)&&void 0!==m&&d.push(m),m>r&&(f=!0),m=p}else e=this.lin2log(e),r=this.lin2log(r),t=n?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(n?5:1)*(r-e)/((n?c/this.tickPositions.length:c)||1)),t=a(t,null,i(t)),d=s(this.getLinearTickPositions(t,e,r),this.log2lin),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var i=t.arrayMax,s=t.arrayMin,a=t.defined,o=t.destroyObjectProperties,r=t.each,n=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,s=i.horiz,o=e.options,r=o.label,n=e.label,d=o.to,h=o.from,u=o.value,p=a(h)&&a(d),m=a(u),f=e.svgElem,g=!f,v=[],y=o.color,b=c(o.zIndex,0),x=o.events,w=(v={class:"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},{}),k=i.chart.renderer,C=p?"bands":"lines";if(i.isLog&&(h=i.log2lin(h),d=i.log2lin(d),u=i.log2lin(u)),m?(v.stroke=y,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):p&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),w.zIndex=b,C+="-"+b,(y=i.plotLinesAndBandsGroups[C])||(i.plotLinesAndBandsGroups[C]=y=k.g("plot-"+C).attr(w).add()),g&&(e.svgElem=f=k.path().attr(v).add(y)),m)v=i.getPlotLinePath(u,f.strokeWidth());else{if(!p)return;v=i.getPlotBandPath(h,d,o)}return g&&v&&v.length?(f.attr({d:v}),x&&t.objectEach(x,(function(t,i){f.on(i,(function(t){x[i].apply(e,[t])}))}))):f&&(v?(f.show(),f.animate({d:v})):(f.hide(),n&&(e.label=n=n.destroy()))),r&&a(r.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.isFlat?(r=l({align:s&&p&&"center",x:s?!p&&4:10,verticalAlign:!s&&p&&"middle",y:s?p?16:10:p?6:-4,rotation:s&&!p&&90},r),this.renderLabel(r,v,p,b)):n&&n.hide(),e},renderLabel:function(t,e,a,o){var r=this.label,n=this.axis.chart.renderer;r||(r={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||"")},r.zIndex=o,this.label=r=n.text(t.text,0,0,t.useHTML).attr(r).add(),r.css(t.style)),o=e.xBounds||[e[1],e[4],a?e[6]:e[1]],e=e.yBounds||[e[2],e[5],a?e[7]:e[2]],a=s(o),n=s(e),r.align(t,!1,{x:a,y:n,width:i(o)-a,height:i(e)-n}),r.show()},destroy:function(){n(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,s=this.getPlotLinePath(e,null,null,!0),a=this.getPlotLinePath(t,null,null,!0),o=[],r=this.horiz,n=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,a&&s)for(t&&(i=a.toString()===s.toString(),n=0),t=0;t<a.length;t+=6)r&&s[t+1]===a[t+1]?(s[t+1]+=n,s[t+4]+=n):r||s[t+2]!==a[t+2]||(s[t+2]+=n,s[t+5]+=n),o.push("M",a[t+1],a[t+2],"L",a[t+4],a[t+5],s[t+4],s[t+5],s[t+1],s[t+2],"z"),o.isFlat=i;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var s=new t.PlotLineOrBand(this,e).render(),a=this.userOptions;return s&&(i&&(a[i]=a[i]||[],a[i].push(e)),this.plotLinesAndBands.push(s)),s},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,s=this.userOptions,a=e.length;a--;)e[a].id===t&&e[a].destroy();r([i.plotLines||[],s.plotLines||[],i.plotBands||[],s.plotBands||[]],(function(e){for(a=e.length;a--;)e[a].id===t&&n(e,e[a])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,i),function(t){var e=t.doc,i=t.each,s=t.extend,a=t.format,o=t.isNumber,r=t.map,n=t.merge,l=t.pick,c=t.splat,d=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){i(this.chart.series,(function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))},getLabel:function(){var e,i=this.chart.renderer,s=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:"none"}),t.doc.body.appendChild(e),this.renderer=i=new t.Renderer(e,0,0)),this.split?this.label=i.g("tooltip"):(this.label=i.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,"tooltip").attr({padding:s.padding,r:s.borderRadius}),this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).shadow(s.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),n(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,n(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,a,o){var r=this,n=r.now,l=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(e-n.x)||1<Math.abs(i-n.y)),c=r.followPointer||1<r.len;s(n,{x:l?(2*n.x+e)/3:e,y:l?(n.y+i)/2:i,anchorX:c?void 0:l?(2*n.anchorX+a)/3:a,anchorY:c?void 0:l?(n.anchorY+o)/2:o}),r.getLabel().attr(n),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){r&&r.move(e,i,a,o)}),32))},hide:function(e){var i=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d((function(){i.getLabel()[e?"fadeOut":"hide"](),i.isHidden=!0}),e))},getAnchor:function(t,e){var s,a,o,n=this.chart,l=n.inverted,d=n.plotTop,h=n.plotLeft,u=0,p=0;return t=c(t),s=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=n.pointer.normalize(e)),s=[e.chartX-n.plotLeft,e.chartY-d]),s||(i(t,(function(t){a=t.series.yAxis,o=t.series.xAxis,u+=t.plotX+(!l&&o?o.left-h:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&a?a.top-d:0)})),u/=t.length,p/=t.length,s=[l?n.plotWidth-p:u,this.shared&&!l&&1<t.length&&e?e.chartY-d:l?n.plotHeight-u:p]),r(s,Math.round)},getPosition:function(t,i,s){var a,o=this.chart,r=this.distance,n={},c=o.inverted&&s.h||0,d=this.outside,h=d?e.documentElement.clientWidth-2*r:o.chartWidth,u=d?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,m=["y",u,i,(d?p.top-r:0)+s.plotY+o.plotTop,d?0:o.plotTop,d?u:o.plotTop+o.plotHeight],f=["x",h,t,(d?p.left-r:0)+s.plotX+o.plotLeft,d?0:o.plotLeft,d?h:o.plotLeft+o.plotWidth],g=!this.followPointer&&l(s.ttBelow,!o.inverted===!!s.negative),v=function(t,e,i,s,a,o){var l=i<s-r,d=s+r+i<e,h=s-r-i;if(s+=r,g&&d)n[t]=s;else if(!g&&l)n[t]=h;else if(l)n[t]=Math.min(o-i,0>h-c?h:h-c);else{if(!d)return!1;n[t]=Math.max(a,s+c+i>e?s:s+c)}},y=function(t,e,i,s){var a;return s<r||s>e-r?a=!1:n[t]=s<i/2?1:s>e-i/2?e-i-2:s-i/2,a},b=function(t){var e=m;m=f,f=e,a=t},x=function(){!1!==v.apply(0,m)?!1!==y.apply(0,f)||a||(b(!0),x()):a?n.x=n.y=0:(b(!0),x())};return(o.inverted||1<this.len)&&b(),x(),n},defaultFormatter:function(t){var e,i=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(e,s){var a,o,r,n=this.options,d=e,h={},u=[];a=n.formatter||this.defaultFormatter;var p;h=this.shared;n.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=c(d)[0].series.tooltipOptions.followPointer,r=this.getAnchor(d,s),s=r[0],o=r[1],!h||d.series&&d.series.noSharedTooltip?h=d.getLabelConfig():(i(d,(function(t){t.setState("hover"),u.push(t.getLabelConfig())})),h={x:d[0].category,y:d[0].y},h.points=u,d=d[0]),this.len=u.length,h=a.call(h,this),p=d.series,this.distance=l(p.tooltipOptions.distance,16),!1===h?this.hide():(a=this.getLabel(),this.isHidden&&a.attr({opacity:1}).show(),this.split?this.renderSplit(h,c(e)):(n.style.width||a.css({width:this.chart.spacingBox.width}),a.attr({text:h&&h.join?h.join(""):h}),a.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(d.colorIndex,p.colorIndex)),a.attr({stroke:n.borderColor||d.color||p.color||"#666666"}),this.updatePosition({plotX:s,plotY:o,negative:d.negative,ttBelow:d.ttBelow,h:r[2]||0})),this.isHidden=!1))},renderSplit:function(e,s){var a=this,o=[],r=this.chart,n=r.renderer,c=!0,d=this.options,h=0,u=this.getLabel();t.isString(e)&&(e=[!1,e]),i(e.slice(0,s.length+1),(function(t,e){if(!1!==t){e=s[e-1]||{isHeader:!0,plotX:s[0].plotX};var i=e.series||a,p=i.tt,m=e.series||{},f="highcharts-color-"+l(e.colorIndex,m.colorIndex,"none");p||(i.tt=p=n.label(null,null,null,"callout",null,null,d.useHTML).addClass("highcharts-tooltip-box "+f).attr({padding:d.padding,r:d.borderRadius,fill:d.backgroundColor,stroke:d.borderColor||e.color||m.color||"#333333","stroke-width":d.borderWidth}).add(u)),p.isActive=!0,p.attr({text:t}),p.css(d.style).shadow(d.shadow),t=p.getBBox(),m=t.width+p.strokeWidth(),e.isHeader?(h=t.height,m=Math.max(0,Math.min(e.plotX+r.plotLeft-m/2,r.chartWidth-m))):m=e.plotX+r.plotLeft-l(d.distance,16)-m,0>m&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=r.plotTop,o.push({target:e.isHeader?r.plotHeight+h:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:m,tt:p})}})),this.cleanSplit(),t.distribute(o,r.plotHeight+h),i(o,(function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+r.plotLeft+l(d.distance,16),y:t.pos+r.plotTop,anchorX:e.isHeader?e.plotX+r.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+r.plotTop-15:e.plotY+i.yAxis.pos})}))},updatePosition:function(t){var e,i=this.chart,s=this.getLabel(),a=(this.options.positioner||this.getPosition).call(this,s.width,s.height,t),o=t.plotX+i.plotLeft;t=t.plotY+i.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(s.width+e,s.height+e,!1),o+=i.pointer.chartPosition.left-a.x,t+=i.pointer.chartPosition.top-a.y),this.move(Math.round(a.x),Math.round(a.y||0),o,t)},getDateFormat:function(t,e,i,s){var a,o,r=this.chart.time,n=r.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in h){if(t===h.week&&+r.dateFormat("%w",e)===i&&"00:00:00.000"===n.substr(6)){o="week";break}if(h[o]>t){o=c;break}if(l[o]&&n.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(a=s[o]),a},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var s=i&&i.closestPointRange;return(s?this.getDateFormat(s,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var s=t.series,r=s.tooltipOptions,n=r.xDateFormat,l=s.xAxis,c=l&&"datetime"===l.options.type&&o(t.key),d=r[e+"Format"];return c&&!n&&(n=this.getXDateFormat(t,r,l)),c&&n&&i(t.point&&t.point.tooltipDateKeys||["key"],(function(t){d=d.replace("{point."+t+"}","{point."+t+":"+n+"}")})),a(d,{point:t,series:s},this.chart.time)},bodyFormatter:function(t){return r(t,(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])}))}}}(e),function(t){var e=t.addEvent,i=t.attr,s=t.charts,a=t.color,o=t.css,r=t.defined,n=t.each,l=t.extend,c=t.find,d=t.fireEvent,h=t.isNumber,u=t.isObject,p=t.offset,m=t.pick,f=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=m(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,s=i.zoomType||"";e=e.inverted;/touch/.test(t.type)&&(s=m(i.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=t&&!e||s&&e,this.zoomVert=s&&!e||t&&e,this.hasZoom=t||s},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),l(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return n(this.chart.axes,(function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e},findNearestKDPoint:function(t,e,i){var s;return n(t,(function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,a),(a=u(t,!0))&&!(a=!u(s,!0))){a=s.distX-t.distX;var o=s.dist-t.dist,r=(t.series.group&&t.series.group.zIndex)-(s.series.group&&s.series.group.zIndex);a=0<(0!==a&&e?a:0!==o?o:0!==r?r:s.series.index>t.series.index?-1:1)}a&&(s=t)})),s},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,s=i.xAxis,a=(i=i.yAxis,m(t.clientX,t.plotX)),o=t.shapeArgs;return s&&i?e?{chartX:s.len+s.pos-a,chartY:i.len+i.pos-t.plotY}:{chartX:a+s.pos,chartY:t.plotY+i.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,i,s,a,o,r,l){var d,h=[],p=l&&l.isBoosting;return a=!(!a||!e),l=i&&!i.stickyTracking?[i]:t.grep(s,(function(t){return t.visible&&!(!o&&t.directTouch)&&m(t.options.enableMouseTracking,!0)&&t.stickyTracking})),i=(d=a?e:this.findNearestKDPoint(l,o,r))&&d.series,d&&(o&&!i.noSharedTooltip?(l=t.grep(s,(function(t){return t.visible&&!(!o&&t.directTouch)&&m(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip})),n(l,(function(t){var e=c(t.points,(function(t){return t.x===d.x&&!t.isNull}));u(e)&&(p&&(e=t.getPoint(e)),h.push(e))}))):h.push(d)),{hoverPoint:d,hoverSeries:i,hoverPoints:h}},runPointActions:function(i,a){var o,r=this.chart,l=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,c=!!l&&l.shared,d=a||r.hoverPoint,h=d&&d.series||r.hoverSeries;h=this.getHoverData(d,h,r.series,!!a||h&&h.directTouch&&this.isDirectTouch,c,i,{isBoosting:r.isBoosting}),d=h.hoverPoint;if(o=h.hoverPoints,a=(h=h.hoverSeries)&&h.tooltipOptions.followPointer,c=c&&h&&!h.noSharedTooltip,d&&(d!==r.hoverPoint||l&&l.isHidden)){if(n(r.hoverPoints||[],(function(e){-1===t.inArray(e,o)&&e.setState()})),n(o||[],(function(t){t.setState("hover")})),r.hoverSeries!==h&&h.onMouseOver(),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!d.series)return;d.firePointEvent("mouseOver"),r.hoverPoints=o,r.hoverPoint=d,l&&l.refresh(c?o:d,i)}else a&&l&&!l.isHidden&&(d=l.getAnchor([{}],i),l.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(r.container.ownerDocument,"mousemove",(function(e){var i=s[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)}))),n(r.axes,(function(e){var s=m(e.crosshair.snap,!0),a=s?t.find(o,(function(t){return t.series[e.coll]===e})):void 0;a||!s?e.drawCrosshair(i,a):e.hideCrosshair()}))},reset:function(t,e){var i=this.chart,s=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,r=i.tooltip,l=r&&r.shared?o:a;t&&l&&n(f(l),(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?r&&l&&(r.refresh(l),a&&(a.setState(a.state,!0),n(i.axes,(function(t){t.crosshair&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),o&&n(o,(function(t){t.setState()})),s&&s.onMouseOut(),r&&r.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n(i.axes,(function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,s=this.chart;n(s.series,(function(a){i=t||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(e?s.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))})),s.clipRect.attr(e||s.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,s=i.options.chart,o=t.chartX,r=t.chartY,n=this.zoomHor,l=this.zoomVert,c=i.plotLeft,d=i.plotTop,h=i.plotWidth,u=i.plotHeight,p=this.selectionMarker,m=this.mouseDownX,f=this.mouseDownY,g=s.panKey&&t[s.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+h&&(o=c+h),r<d?r=d:r>d+u&&(r=d+u),this.hasDragged=Math.sqrt(Math.pow(m-o,2)+Math.pow(f-r,2)),10<this.hasDragged&&(e=i.isInsidePlot(m-c,f-d),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=i.renderer.rect(c,d,n?1:h,l?1:u,0).attr({fill:s.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&n&&(o-=m,p.attr({width:Math.abs(o),x:(0<o?0:o)+m})),p&&l&&(o=r-f,p.attr({height:Math.abs(o),y:(0<o?0:o)+f})),e&&!p&&s.panning&&i.pan(t,s.panning)))},drop:function(t){var e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){var a,c={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,p=u.attr?u.attr("x"):u.x,m=u.attr?u.attr("y"):u.y,f=u.attr?u.attr("width"):u.width,g=u.attr?u.attr("height"):u.height;(this.hasDragged||s)&&(n(i.axes,(function(i){if(i.zoomEnabled&&r(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,n="touchend"===t.type?i.minPixelPadding:0,l=i.toValue((o?p:m)+n);o=i.toValue((o?p+f:m+g)-n);c[i.coll].push({axis:i,min:Math.min(l,o),max:Math.max(l,o)}),a=!0}})),a&&d(i,"selection",c,(function(t){i.zoom(l(t,s?{animation:!1}:null))}))),h(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&h(i.index)&&(o(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){s[t.hoverChartIndex]&&s[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=s[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;r(t.hoverChartIndex)&&s[t.hoverChartIndex]&&s[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var s;t;){if(s=i(t,"class")){if(-1!==s.indexOf(e))return!0;if(-1!==s.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,s=e.plotLeft,a=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(d(i.series,"click",l(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-s,t.chartY-a)&&d(e,"click",t)))},setDOMEvents:function(){var i=this,s=i.chart.container,a=s.ownerDocument;s.onmousedown=function(t){i.onContainerMouseDown(t)},s.onmousemove=function(t){i.onContainerMouseMove(t)},s.onclick=function(t){i.onContainerClick(t)},this.unbindContainerMouseLeave=e(s,"mouseleave",i.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(a,"mouseup",i.onDocumentMouseUp)),t.hasTouch&&(s.ontouchstart=function(t){i.onContainerTouchStart(t)},s.ontouchmove=function(t){i.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(a,"touchend",i.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,(function(t,i){e[i]=null}))}}}(e),function(t){var e=t.charts,i=t.each,s=t.extend,a=t.map,o=t.noop,r=t.pick;s(t.Pointer.prototype,{pinchTranslate:function(t,e,i,s,a,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,s,a,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,s,a,o)},pinchTranslateDirection:function(t,e,i,s,a,o,r,n){var l,c,d,h=this.chart,u=t?"x":"y",p=t?"X":"Y",m="chart"+p,f=t?"width":"height",g=h["plot"+(t?"Left":"Top")],v=n||1,y=h.inverted,b=h.bounds[t?"h":"v"],x=1===e.length,w=e[0][m],k=i[0][m],C=!x&&e[1][m],S=!x&&i[1][m];i=function(){!x&&20<Math.abs(w-C)&&(v=n||Math.abs(k-S)/Math.abs(w-C)),c=(g-k)/v+w,l=h["plot"+(t?"Width":"Height")]/v},i(),e=c,e<b.min?(e=b.min,d=!0):e+l>b.max&&(e=b.max-l,d=!0),d?(k-=.8*(k-r[u][0]),x||(S-=.8*(S-r[u][1])),i()):r[u]=[k,S],y||(o[u]=c-g,o[f]=l),o=y?1/v:v,a[f]=l,a[u]=e,s[y?t?"scaleY":"scaleX":"scale"+p]=v,s["translate"+p]=o*g+(k-o*w)},pinch:function(t){var e=this,n=e.chart,l=e.pinchDown,c=t.touches,d=c.length,h=e.lastValidTouch,u=e.hasZoom,p=e.selectionMarker,m={},f=1===d&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),g={};1<d&&(e.initiated=!0),u&&e.initiated&&!f&&t.preventDefault(),a(c,(function(t){return e.normalize(t)})),"touchstart"===t.type?(i(c,(function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}})),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],i(n.axes,(function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(r(t.options.min,t.dataMin)),a=t.toPixels(r(t.options.max,t.dataMax)),o=Math.max(s,a);e.min=Math.min(t.pos,Math.min(s,a)-i),e.max=Math.max(t.pos+t.len,o+i)}})),e.res=!0):e.followTouchMove&&1===d?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=s({destroy:o,touch:!0},n.plotBox)),e.pinchTranslate(l,c,m,p,g,h),e.hasPinched=u,e.scaleGroups(m,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var s,a=this.chart;a.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=a.index,1===e.touches.length?(e=this.normalize(e),a.isInsidePlot(e.chartX-a.plotLeft,e.chartY-a.plotTop)&&!a.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,s=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),r(s,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){var e=t.addEvent,i=t.charts,s=t.css,a=t.doc,o=t.extend,r=t.noop,n=t.Pointer,l=t.removeEvent,c=t.win,d=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var h={},u=!!c.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e},m=function(e,s,a,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),o=i[t.hoverChartIndex].pointer,o[s]({type:a,target:e.currentTarget,preventDefault:r,touches:p()}))};o(n.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",(function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",(function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",(function(t){delete h[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,u?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,u?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(a,u?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),d(n.prototype,"init",(function(t,e,i){t.call(this,e,i),this.hasZoom&&s(e.container,{"-ms-touch-action":"none","touch-action":"none"})})),d(n.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)})),d(n.prototype,"destroy",(function(t){this.batchMSEvents(l),t.call(this)}))}}(e),function(t){var e=t.addEvent,i=t.css,s=t.discardElement,a=t.defined,o=t.each,r=t.fireEvent,n=t.isFirefox,l=t.marginNames,c=t.merge,d=t.pick,h=t.setAnimation,u=t.stableSort,p=t.win,m=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=e(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=d(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=d(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,d(e,!0)&&i.redraw(),r(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,s=t.legendItem,a=t.legendLine,o=t.legendSymbol,n=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:n,e&&t.color||n),c=t.options&&t.options.marker,d={fill:l};s&&s.css({fill:i,color:i}),a&&a.attr({stroke:l}),o&&(c&&o.isMarker&&(d=t.pointAttribs(),e||(d.stroke=d.fill=n)),o.attr(d)),r(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,i=e.symbolPadding,s=(e=!e.rtl,t._legendItemPos),o=s[0],r=(s=s[1],t.checkbox);(t=t.legendGroup)&&t.element&&t[a(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*i-4,translateY:s}),r&&(r.x=o,r.y=s)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],(function(e){t[e]&&(t[e]=t[e].destroy())})),e&&s(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),(function(e){o(["legendItem","legendGroup"],t,e)})),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,s=this.clipHeight||this.legendHeight,a=this.titleHeight;e&&(t=e.translateY,o(this.allItems,(function(o){var r,n=o.checkbox;n&&(r=t+a+n.y+(this.scrollOffset||0)+3,i(n,{left:e.translateX+o.checkboxOffset+n.x-20+"px",top:r+"px",display:r>t-6&&r<t+s-6?"":"none"}))}),this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,s=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),s=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:s})),this.titleHeight=s},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,s=this.options,a=this.symbolWidth,o=s.symbolPadding,r=this.itemStyle,n=this.itemHiddenStyle,l="horizontal"===s.layout?d(s.itemDistance,20):0,h=!s.rtl,u=t.legendItem,p=!t.series,m=!p&&t.series.drawLegendSymbol?t.series:t,f=m.options,g=(f=this.createCheckboxForItem&&f&&f.showCheckbox,l=a+o+l+(f?20:0),s.useHTML),v=t.options.className;u||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+m.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=u=i.text("",h?a+o:-o,this.baseline||0,g).css(c(t.visible?r:n)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=r.fontSize,this.fontMetrics=i.fontMetrics(a,u),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,u.attr("y",this.baseline)),this.symbolHeight=s.symbolHeight||this.fontMetrics.f,m.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,u,g),f&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),r.width||u.css({width:(s.itemWidth||s.width||e.spacingBox.width)-l}),this.setText(t),e=u.getBBox(),t.itemWidth=t.checkboxOffset=s.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,s="horizontal"===e.layout,a=t.itemHeight,o=e.itemMarginBottom||0,r=this.itemMarginTop,n=s?d(e.itemDistance,20):0,l=e.width,c=l||this.chart.spacingBox.width-2*i-e.x;e=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth;s&&this.itemX-i+e>c&&(this.itemX=i,this.itemY+=r+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=e:(this.itemY+=r+a+o,this.lastLineHeight=a),this.offsetWidth=l||Math.max((s?this.itemX-i-(t.checkbox?0:n):e)+i,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,(function(e){var i=e&&e.options;e&&d(i.showInLegend,!a(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))})),r(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,s=this.options,r=this.getAlignment();r&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(o,n){o.test(r)&&!a(t[n])&&(i[l[n]]=Math.max(i[l[n]],i.legend[(n+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][n]*s[n%2?"x":"y"]+d(s.margin,12)+e[n]+(0===n&&void 0!==i.options.title.margin?i.titleOffset+i.options.title.margin:0)))}))},proximatePositions:function(){var e=this.chart,i=[],s="left"===this.options.align;o(this.allItems,(function(a){var o,r;o=s,a.xAxis&&a.points&&(a.xAxis.options.reversed&&(o=!o),o=t.find(o?a.points:a.points.slice(0).reverse(),(function(e){return t.isNumber(e.plotY)})),r=a.legendGroup.getBBox().height,i.push({target:a.visible?o.plotY-.3*r:e.plotHeight,size:r,item:a}))}),this),t.distribute(i,e.plotHeight),o(i,(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos}))},render:function(){var t,e,i,s=this.chart,a=s.renderer,r=this.group,n=this.box,l=this.options,d=this.padding;this.itemX=d,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,r||(this.group=r=a.g("legend").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(r),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),u(t,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+d,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=d,n||(this.box=n=a.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(r),n.isNew=!0),n.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<i&&(n[n.isNew?"attr":"animate"](n.crisp.call({},{x:0,y:0,width:t,height:i},n.strokeWidth())),n.isNew=!1),n[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=i,e&&(a=s.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(a=c(a,{y:a.y+s.titleOffset+s.options.title.margin})),r.align(c(l,{width:t,height:i,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,a)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,i,s=this,a=this.chart,r=a.renderer,n=this.options,l=n.y,c=this.padding,h=(a=a.spacingBox.height+("top"===n.verticalAlign?-l:l)-c,l=n.maxHeight,this.clipRect),u=n.navigation,p=d(u.animation,!0),m=u.arrowSize||12,f=this.nav,g=this.pages,v=this.allItems,y=function(t){"number"===typeof t?h.attr({height:t}):h&&(s.clipRect=h.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==n.layout||"middle"===n.verticalAlign||n.floating||(a/=2),l&&(a=Math.min(a,l)),g.length=0,t>a&&!1!==u.enabled?(this.clipHeight=e=Math.max(a-20-this.titleHeight-c,0),this.currentPage=d(this.currentPage,1),this.fullHeight=t,o(v,(function(t,s){var a=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),r=g.length;(!r||a-g[r-1]>e&&(i||a)!==g[r-1])&&(g.push(i||a),r++),t.pageIx=r-1,i&&(v[s-1].pageIx=r-1),s===v.length-1&&a+o-g[r-1]>e&&(g.push(a),t.pageIx=r),a!==i&&(i=a)})),h||(h=s.clipRect=r.clipRect(0,c,9999,0),s.contentGroup.clip(h)),y(e),f||(this.nav=f=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",(function(){s.scroll(-1,p)})).add(f),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(f),this.down=r.symbol("triangle-down",0,0,m,m).on("click",(function(){s.scroll(1,p)})).add(f)),s.scroll(0),t=a):f&&(y(),this.nav=f.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,s=i.length;t=this.currentPage+t;var a=this.clipHeight,o=this.options.navigation,r=this.pager,n=this.padding;t>s&&(t=s),0<t&&(void 0!==e&&h(e,this.chart),this.nav.attr({translateX:n,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),r.attr({text:t+"/"+s}),this.down.attr({x:18+this.pager.getBBox().width,class:t===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===s?o.inactiveColor:o.activeColor}).css({cursor:t===s?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,s=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(s?(t.symbolWidth-i)/2:0,t.baseline-i+1,s?i:t.symbolWidth,i,d(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,s=i.marker,a=t.symbolWidth,o=t.symbolHeight,r=o/2,n=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=n.path(["M",0,t,"L",a,t]).addClass("highcharts-graph").attr(e).add(l),s&&!1!==s.enabled&&a&&(i=Math.min(d(s.radius,r),r),0===this.symbol.indexOf("url")&&(s=c(s,{width:o,height:o}),i=0),this.legendSymbol=s=n.symbol(this.symbol,a/2-i,t-i,2*i,2*i,s).addClass("highcharts-point").add(l),s.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||n)&&m(t.Legend.prototype,"positionItem",(function(t,e){var i=this,s=function(){e._legendItemPos&&t.call(i,e)};s(),setTimeout(s)}))}(e),function(t){var e=t.addEvent,i=t.animate,s=t.animObject,a=t.attr,o=t.doc,r=t.Axis,n=t.createElement,l=t.defaultOptions,c=t.discardElement,d=t.charts,h=t.css,u=t.defined,p=t.each,m=t.extend,f=t.find,g=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,x=t.isString,w=t.Legend,k=t.marginNames,C=t.merge,S=t.objectEach,A=t.Pointer,I=t.pick,T=t.pInt,L=t.removeEvent,P=t.seriesTypes,_=t.splat,M=t.syncTimeout,F=t.win,D=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new D(t,e,i)},m(D.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(x(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,s){var a,o,r=i.series,n=i.plotOptions||{};g(this,"init",{args:arguments},(function(){for(o in i.series=null,a=C(l,i),a.plotOptions)a.plotOptions[o].tooltip=n[o]&&C(n[o].tooltip)||void 0;a.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,a.series=i.series=r,this.userOptions=i;var c=a.chart,h=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=s,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=i.time&&t.keys(i.time).length?new t.Time(i.time):t.time,this.hasCartesianSeries=c.showAxes;var u=this;u.index=d.length,d.push(u),t.chartCount++,h&&S(h,(function(t,i){e(u,i,t)})),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,g(u,"afterInit"),u.firstRender()}))},initSeries:function(e){var i=this.options.chart;return(i=P[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),i=new i,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var s=i?e:t;return t=i?t:e,0<=s&&s<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var i,s,a,o=this.axes,r=this.series,n=this.pointer,l=this.legend,c=this.isDirtyLegend,d=this.hasCartesianSeries,h=this.isDirtyBox,u=this.renderer,f=u.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),f&&this.temporaryDisplay(),this.layOutTitles(),e=r.length;e--;)if(a=r[e],a.options.stacking&&(i=!0,a.isDirty)){s=!0;break}if(s)for(e=r.length;e--;)a=r[e],a.options.stacking&&(a.isDirty=!0);p(r,(function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&g(t,"updatedData")})),c&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),d&&p(o,(function(t){t.updateNames(),t.setScale()})),this.getMargins(),d&&(p(o,(function(t){t.isDirty&&(h=!0)})),p(o,(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push((function(){g(t,"afterSetExtremes",m(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(h||i)&&t.redraw()}))),h&&this.drawChartBox(),g(this,"predraw"),p(r,(function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),n&&n.reset(!0),u.draw(),g(this,"redraw"),g(this,"render"),f&&this.temporaryDisplay(!0),p(v,(function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,s,a=this.series;for(i=f(this.axes,e)||f(this.series,e),s=0;!i&&s<a.length;s++)i=f(a[s].points||[],e);return i},getAxes:function(){var t=this,e=this.options,i=e.xAxis=_(e.xAxis||{});e=e.yAxis=_(e.yAxis||{});g(this,"getAxes"),p(i,(function(t,e){t.index=e,t.isX=!0})),p(e,(function(t,e){t.index=e})),i=i.concat(e),p(i,(function(e){new r(t,e)})),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return p(this.series,(function(e){t=t.concat(v(e.data||[],(function(t){return t.selected})))})),t},getSelectedSeries:function(){return v(this.series,(function(t){return t.selected}))},setTitle:function(t,e,i){var s,a=this,o=a.options;s=o.title=C({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=C({style:{color:"#666666"}},o.subtitle,e),p([["title",t,s],["subtitle",e,o]],(function(t,e){var i=t[0],s=a[i],o=t[1];t=t[2],s&&o&&(a[i]=s=s.destroy()),t&&!s&&(a[i]=a.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),a[i].update=function(t){a.setTitle(!e&&t,e&&t)},a[i].css(t.style))})),a.layOutTitles(i)},layOutTitles:function(t){var e,i=0,s=this.renderer,a=this.spacingBox;p(["title","subtitle"],(function(t){var e,o=this[t],r=this.options[t];t="title"===t?-3:r.verticalAlign?0:i+2,o&&(e=r.style.fontSize,e=s.fontMetrics(e,o).b,o.css({width:(r.width||a.width+r.widthAdjust)+"px"}).align(m({y:t+e},r),!1,"spacingBox"),r.floating||r.verticalAlign||(i=Math.ceil(i+o.getBBox(r.useHTML).height)))}),this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&I(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width,s=(e=e.height,this.renderTo);u(i)||(this.containerWidth=t.getStyle(s,"width")),u(e)||(this.containerHeight=t.getStyle(s,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(o.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style;)if(o.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,o.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),i=i.parentNode,i===o.body)break},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,s,r=this.options,l=r.chart;e=this.renderTo;var c,h=t.uniqueKey();e||(this.renderTo=e=l.renderTo),x(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),i=T(a(e,"data-highcharts-chart")),y(i)&&d[i]&&d[i].hasRendered&&d[i].destroy(),a(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,s=this.chartHeight,c=m({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=n("div",{id:h},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,i,s,null,l.forExport,r.exporting&&r.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,s=this.titleOffset;this.resetMargins(),s&&!u(i[0])&&(this.plotTop=Math.max(this.plotTop,s+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,(function(t){t.visible&&t.getOffset()})),p(k,(function(s,a){u(i[a])||(t[s]+=e[a])})),t.setChartSize()},reflow:function(e){var i=this,s=i.options.chart,a=i.renderTo,r=u(s.width)&&u(s.height),n=s.width||t.getStyle(a,"width");s=s.height||t.getStyle(a,"height"),a=e?e.target:F;r||i.isPrinting||!n||!s||a!==F&&a!==o||(n===i.containerWidth&&s===i.containerHeight||(t.clearTimeout(i.reflowTimeout),i.reflowTimeout=M((function(){i.container&&i.setSize(void 0,void 0,!1)}),e?100:0)),i.containerWidth=n,i.containerHeight=s)},setReflow:function(t){var i=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(F,"resize",(function(t){i.reflow(t)})),e(this,"destroy",this.unbindReflow))},setSize:function(e,a,o){var r=this,n=r.renderer;r.isResizing+=1,t.setAnimation(o,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==e&&(r.options.chart.width=e),void 0!==a&&(r.options.chart.height=a),r.getChartSize(),e=n.globalAnimation,(e?i:h)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},e),r.setChartSize(!0),n.setSize(r.chartWidth,r.chartHeight,o),p(r.axes,(function(t){t.isDirty=!0,t.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(o),r.oldChartHeight=null,g(r,"resize"),M((function(){r&&g(r,"endResize",null,(function(){--r.isResizing}))}),s(e).duration)},setChartSize:function(t){var e,i,s,a,o=this.inverted,r=this.renderer,n=this.chartWidth,l=this.chartHeight,c=this.options.chart,d=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=s=Math.max(0,Math.round(n-e-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=o?a:s,this.plotSizeY=o?s:a,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:d[3],y:d[0],width:n-d[3]-d[1],height:l-d[0]-d[2]},this.plotBox=r.plotBox={x:e,y:i,width:s,height:a},n=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(n,h[3])/2),r=Math.ceil(Math.max(n,h[0])/2),this.clipBox={x:o,y:r,width:Math.floor(this.plotSizeX-Math.max(n,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(n,h[2])/2-r))},t||p(this.axes,(function(t){t.setAxisSize(),t.setAxisTranslation()})),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],(function(i){var s=e[i],a=b(s)?s:[s,s,s,s];p(["Top","Right","Bottom","Left"],(function(s,o){t[i][o]=I(e[i+s],a[o])}))})),p(k,(function(e,i){t[e]=I(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,s=this.renderer,a=this.chartWidth,o=this.chartHeight,r=this.chartBackground,n=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,d=i.backgroundColor,h=i.plotBackgroundColor,u=i.plotBackgroundImage,p=this.plotLeft,m=this.plotTop,f=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox,w="animate";r||(this.chartBackground=r=s.rect().addClass("highcharts-background").add(),w="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),d={fill:d||"none"},(t||r["stroke-width"])&&(d.stroke=i.borderColor,d["stroke-width"]=t),r.attr(d).shadow(i.shadow),r[w]({x:e/2,y:e/2,width:a-e-t%2,height:o-e-t%2,r:i.borderRadius}),w="animate",n||(w="attr",this.plotBackground=n=s.rect().addClass("highcharts-plot-background").add()),n[w](y),n.attr({fill:h||"none"}).shadow(i.plotShadow),u&&(c?c.animate(y):this.plotBGImage=s.image(u,p,m,f,v).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=s.clipRect(x),w="animate",l||(w="attr",this.plotBorder=l=s.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:p,y:m,width:f,height:v},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,s=this,a=s.options.chart,o=s.options.series;p(["inverted","angular","polar"],(function(r){for(t=P[a.type||a.defaultSeriesType],i=a[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=P[o[e].type])&&t.prototype[r]&&(i=!0);s[r]=i}))},linkSeries:function(){var t=this,e=t.series;p(e,(function(t){t.linkedSeries.length=0})),p(e,(function(e){var i=e.options.linkedTo;x(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=I(e.options.visible,i.options.visible,e.visible))})),g(this,"afterLinkSeries")},renderSeries:function(){p(this.series,(function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,(function(i){var s=m(e.style,i.style),a=T(s.left)+t.plotLeft,o=T(s.top)+t.plotTop+12;delete s.left,delete s.top,t.renderer.text(i.html,a,o).attr({zIndex:2}).css(s).add()}))},render:function(){var t,e,i,s=this.axes,a=this.renderer,o=this.options;this.setTitle(),this.legend=new w(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(s,(function(t){t.setScale()})),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(p(s,(function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(s,(function(t){t.visible&&t.render()})),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(F.location.href=t.href)})).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,s=i.axes,a=i.series,o=i.container,r=o&&o.parentNode;for(g(i,"destroy"),i.renderer.forExport?t.erase(d,i):d[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),L(i),e=s.length;e--;)s[e]=s[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=a.length;e--;)a[e]=a[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),(function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())})),o&&(o.innerHTML="",L(o),r&&c(o)),S(i,(function(t,e){delete i[e]}))},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],(function(e){t.initSeries(e)})),t.linkSeries(),g(t,"beforeRender"),A&&(t.pointer=new A(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),(function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),g(this,"load"),g(this,"render"),u(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,i=t.Chart,s=t.each;e(i,"afterSetChartSize",(function(e){var i=this.options.chart.scrollablePlotArea;(i=i&&i.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=i=Math.max(0,i-this.chartWidth))&&(this.plotWidth+=i,this.clipBox.width+=i,e.skipAxes||s(this.axes,(function(e){1===e.side?e.getPlotLinePath=function(){var i,s=this.right;return this.right=s-e.chart.scrollablePixels,i=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=s,i}:(e.setAxisSize(),e.setAxisTranslation())})))})),e(i,"render",(function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.applyFixed=function(){var e,i,s=this.container,a=!this.fixedDiv;a&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title"],(function(i){t.each(s.querySelectorAll(i),(function(t){e.box.appendChild(t),t.style.pointerEvents="auto"}))}))),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),i=this.chartWidth+this.scrollablePixels,this.container.style.width=i+"px",this.renderer.boxWrapper.attr({width:i,height:this.chartHeight,viewBox:[0,0,i,this.chartHeight].join(" ")}),a&&(i=this.options.chart.scrollablePlotArea,i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*i.scrollPositionX)),a=this.axisOffset,i=this.plotTop-a[0]-1;a=this.plotTop+this.plotHeight+a[2];var o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,i,"L",this.plotLeft-1,i,"L",this.plotLeft-1,a,"L",0,a,"Z","M",o,i,"L",this.chartWidth,i,"L",this.chartWidth,a,"L",o,a,"Z"]:["M",0,0]})}}(e),function(t){var e,i=t.each,s=t.extend,a=t.erase,o=t.fireEvent,r=t.format,n=t.isArray,l=t.isNumber,c=t.pick,d=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=c(this.colorIndex,i),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,i){var a=this.series,o=a.options.pointValKey||a.pointValKey;return t=e.prototype.optionsToObject.call(this,t),s(this,t),this.options=this.options?s(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===i?a.autoIncrement(this):i),this},setNestedProperty:function(e,i,s){return s=s.split("."),t.reduce(s,(function(e,s,a,o){return e[s]=o.length-1===a?i:t.isObject(e[s],!0)?e[s]:{},e[s]}),e),e},optionsToObject:function(e){var i={},s=this.series,a=s.options.keys,o=a||s.pointArrayMap||["y"],r=o.length,c=0,d=0;if(l(e)||null===e)i[o[0]]=e;else if(n(e))for(!a&&e.length>r&&(s=typeof e[0],"string"===s?i.name=e[0]:"number"===s&&(i.x=e[0]),c++);d<r;)a&&void 0===e[c]||(0<o[d].indexOf(".")?t.Point.prototype.setNestedProperty(i,e[c],o[d]):i[o[d]]=e[c]),c++,d++;else"object"===typeof e&&(i=e,e.dataLabels&&(s._hasPointLabels=!0),e.marker&&(s._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,s=(e=e.zoneAxis||"y",0);for(t=i[s];this[e]>=t.value;)t=i[++s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),a(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,s=e.tooltipOptions,a=c(s.valueDecimals,""),o=s.valuePrefix||"",n=s.valueSuffix||"";return i(e.pointArrayMap||["y"],(function(e){e="{point."+e,(o||n)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+n)),t=t.replace(RegExp(e+"}","g"),e+":,."+a+"f}")})),r(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var s=this,a=this.series.options;(a.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&this.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){s.select&&s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(e),function(t){var e=t.addEvent,i=t.animObject,s=t.arrayMax,a=t.arrayMin,o=t.correctFloat,r=t.defaultOptions,n=t.defaultPlotOptions,l=t.defined,c=t.each,d=t.erase,h=t.extend,u=t.fireEvent,p=t.grep,m=t.isArray,f=t.isNumber,g=t.isString,v=t.merge,y=t.objectEach,b=t.pick,x=t.removeEvent,w=t.splat,k=t.SVGElement,C=t.syncTimeout,S=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var s,a,o=this,r=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),h(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),s=i.events,y(s,(function(t,i){e(o,i,t)})),(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,(function(t){o[t+"Data"]=[]})),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),r.length&&(a=r[r.length-1]),o._i=b(a&&a._i,-1)+1,t.orderSeries(this.insert(r)),u(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(f(i)){for(e=t.length;e--;)if(i>=b(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return b(e,t.length-1)},bindAxes:function(){var e,i=this,s=i.options,a=i.chart;c(i.axisTypes||[],(function(o){c(a[o],(function(t){e=t.options,(s[o]===e.index||void 0!==s[o]&&s[o]===e.id||void 0===s[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)})),i[o]||i.optionalAxis===o||t.error(18,!0)}))},updateParallelArrays:function(t,e){var i=t.series,s=arguments,a=f(e)?function(s){var a="y"===s&&i.toYData?i.toYData(t):t[s];i[s+"Data"][e]=a}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(s,2))};c(i.parallelArrays,a)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,s=e.pointIntervalUnit,a=this.chart.time;i=b(i,e.pointStart,0);return this.pointInterval=t=b(this.pointInterval,e.pointInterval,1),s&&(e=new a.Date(i),"day"===s?a.set("Date",e,a.get("Date",e)+t):"month"===s?a.set("Month",e,a.get("Month",e)+t):"year"===s&&a.set("FullYear",e,a.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,s=i.plotOptions,a=(e.userOptions||{}).plotOptions||{},o=s[this.type];return this.userOptions=t,e=v(o,s.series,t),this.tooltipOptions=v(r.tooltip,r.plotOptions.series&&r.plotOptions.series.tooltip,r.plotOptions[this.type].tooltip,i.tooltip.userOptions,s.series&&s.series.tooltip,s[this.type].tooltip,t.tooltip),this.stickyTracking=b(t.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),u(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var s,a=this.chart,o=this.userOptions,r=t+"Index",n=t+"Counter",c=i?i.length:b(a.options.chart[t+"Count"],a[t+"Count"]);e||(s=b(o[r],o["_"+r]),l(s)||(a.series.length||(a[n]=0),o["_"+r]=s=a[n]%c,a[n]+=1),i&&(e=i[s])),void 0!==s&&(this[r]=s),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||n[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var i,s,a,o=this.options,r=this.points,n=[],l=this.requireSorting;if(c(e,(function(e){var s;s=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,f(s)&&(s=t.inArray(s,this.xData,a),-1===s?n.push(e):e!==o.data[s]?(r[s].update(e,!1,null,!1),r[s].touched=!0,l&&(a=s)):r[s]&&(r[s].touched=!0),i=!0)}),this),i)for(e=r.length;e--;)s=r[e],s.touched||s.remove(!1),s.touched=!1;else{if(e.length!==r.length)return!1;c(e,(function(t,e){r[e].update&&t!==o.data[e]&&r[e].update(t,!1,null,!1)}))}return c(n,(function(t){this.addPoint(t,!1)}),this),!0},setData:function(e,i,s,a){var o,r,n=this,l=n.points,d=l&&l.length||0,h=n.options,u=n.chart,p=null,v=n.xAxis,y=h.turboThreshold,x=this.xData,w=this.yData,k=(o=n.pointArrayMap)&&o.length;if(e=e||[],o=e.length,i=b(i,!0),!1!==a&&o&&d&&!n.cropped&&!n.hasGroupedData&&n.visible&&(r=this.updateData(e)),!r){if(n.xIncrement=null,n.colorCounter=0,c(this.parallelArrays,(function(t){n[t+"Data"].length=0})),y&&o>y){for(s=0;null===p&&s<o;)p=e[s],s++;if(f(p))for(s=0;s<o;s++)x[s]=this.autoIncrement(),w[s]=e[s];else if(m(p))if(k)for(s=0;s<o;s++)p=e[s],x[s]=p[0],w[s]=p.slice(1,k+1);else for(s=0;s<o;s++)p=e[s],x[s]=p[0],w[s]=p[1];else t.error(12)}else for(s=0;s<o;s++)void 0!==e[s]&&(p={series:n},n.pointClass.prototype.applyOptions.apply(p,[e[s]]),n.updateParallelArrays(p,s));for(w&&g(w[0])&&t.error(14,!0),n.data=[],n.options.data=n.userOptions.data=e,s=d;s--;)l[s]&&l[s].destroy&&l[s].destroy();v&&(v.minRange=v.userMinRange),n.isDirty=u.isDirtyBox=!0,n.isDirtyData=!!l,s=!1}"point"===h.legendType&&(this.processData(),this.generatePoints()),i&&u.redraw(s)},processData:function(e){var i,s=this.xData,a=this.yData,o=s.length;i=0;var r,n,l,c=this.xAxis,d=this.options;l=d.cropThreshold;var h,u,p=this.getExtremesFromAll||d.getExtremesFromAll,m=this.isCartesian,f=(d=c&&c.val2lin,c&&c.isLog),g=this.requireSorting;if(m&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),h=e.min,u=e.max),m&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(s[o-1]<h||s[0]>u?(s=[],a=[]):(s[0]<h||s[o-1]>u)&&(i=this.cropData(this.xData,this.yData,h,u),s=i.xData,a=i.yData,i=i.start,r=!0)),l=s.length||1;--l;)o=f?d(s[l])-d(s[l-1]):s[l]-s[l-1],0<o&&(void 0===n||o<n)?n=o:0>o&&g&&(t.error(15),g=!1);this.cropped=r,this.cropStart=i,this.processedXData=s,this.processedYData=a,this.closestPointRange=n},cropData:function(t,e,i,s,a){var o,r=t.length,n=0,l=r;for(a=b(a,this.cropShoulder,1),o=0;o<r;o++)if(t[o]>=i){n=Math.max(0,o-a);break}for(i=o;i<r;i++)if(t[i]>s){l=i+a;break}return{xData:t.slice(n,l),yData:e.slice(n,l),start:n,end:l}},generatePoints:function(){var t,e,i,s,a=this.options,o=a.data,r=this.data,n=this.processedXData,l=this.processedYData,c=this.pointClass,d=n.length,h=this.cropStart||0,u=this.hasGroupedData,p=(a=a.keys,[]);for(r||u||(r=[],r.length=o.length,r=this.data=r),a&&u&&(this.options.keys=!1),s=0;s<d;s++)e=h+s,u?(i=(new c).init(this,[n[s]].concat(w(l[s]))),i.dataGroup=this.groupMap[s]):(i=r[e])||void 0===o[e]||(r[e]=i=(new c).init(this,o[e],n[s])),i&&(i.index=e,p[s]=i);if(this.options.keys=a,r&&(d!==(t=r.length)||u))for(s=0;s<t;s++)s!==h||u||(s+=d),r[s]&&(r[s].destroyElements(),r[s].plotX=void 0);this.data=r,this.points=p},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,r=[],n=0;e=this.xAxis.getExtremes();var l,c,d,h,u=e.min,p=e.max,g=this.requireSorting?1:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,h=0;h<e;h++)if(c=o[h],d=t[h],l=(f(d,!0)||m(d))&&(!i.positiveValuesOnly||d.length||0<d),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[h+g]||c)>=u&&(o[h-g]||c)<=p,l&&c)if(l=d.length)for(;l--;)"number"===typeof d[l]&&(r[n++]=d[l]);else r[n++]=d;this.dataMin=a(r),this.dataMax=s(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,s,a=this.options,r=a.stacking,n=this.xAxis,c=n.categories,d=this.yAxis,h=this.points,p=h.length,m=!!this.modifyValue,g=a.pointPlacement,v="between"===g||f(g),y=a.threshold,x=a.startFromThreshold?y:0,w=Number.MAX_VALUE;for("between"===g&&(g=.5),f(g)&&(g*=b(a.pointRange||n.pointRange)),a=0;a<p;a++){var k=h[a],C=k.x,S=k.y;e=k.low;var A,I=r&&d.stacks[(this.negStacks&&S<(x?0:y)?"-":"")+this.stackKey];d.positiveValuesOnly&&null!==S&&0>=S&&(k.isNull=!0),k.plotX=t=o(Math.min(Math.max(-1e5,n.translate(C,0,0,0,1,g,"flags"===this.type)),1e5)),r&&this.visible&&!k.isNull&&I&&I[C]&&(s=this.getStackIndicator(s,C,this.index),A=I[C],S=A.points[s.key],e=S[0],S=S[1],e===x&&s.key===I[C].base&&(e=b(f(y)&&y,d.min)),d.positiveValuesOnly&&0>=e&&(e=null),k.total=k.stackTotal=A.total,k.percentage=A.total&&k.y/A.total*100,k.stackY=S,A.setOffset(this.pointXOffset||0,this.barW||0)),k.yBottom=l(e)?Math.min(Math.max(-1e5,d.translate(e,0,1,0,1)),1e5):null,m&&(S=this.modifyValue(S,k)),k.plotY=e="number"===typeof S&&1/0!==S?Math.min(Math.max(-1e5,d.translate(S,0,1,0,1)),1e5):void 0,k.isInside=void 0!==e&&0<=e&&e<=d.len&&0<=t&&t<=n.len,k.clientX=v?o(n.translate(C,0,0,0,1,g)):t,k.negative=k.y<(y||0),k.category=c&&void 0!==c[k.x]?c[k.x]:k.x,k.isNull||(void 0!==i&&(w=Math.min(w,Math.abs(t-i))),i=t),k.zone=this.zones.length&&k.getZone()}this.closestPointRangePx=w,u(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return p(t||this.points||[],(function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull}))},setClip:function(t){var e=this.chart,i=this.options,s=e.renderer,a=e.inverted,o=this.clipBox,r=o||e.clipBox,n=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height,i.xAxis,i.yAxis].join(),l=e[n],c=e[n+"m"];l||(t&&(r.width=0,a&&(r.x=e.plotSizeX),e[n+"m"]=c=s.clipRect(a?e.plotSizeX+99:-99,a?-e.plotLeft:-e.plotTop,99,a?e.chartWidth:e.chartHeight)),e[n]=l=s.clipRect(r),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=n),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&n&&e[n]&&(o||(e[n]=e[n].destroy()),e[n+"m"]&&(e[n+"m"]=e[n+"m"].destroy())))},animate:function(t){var e,s=this.chart,a=i(this.options.animation);t?this.setClip(a):(e=this.sharedClipKey,(t=s[e])&&t.animate({width:s.plotSizeX,x:0},a),s[e+"m"]&&s[e+"m"].animate({width:s.plotSizeX+99,x:0},a),this.animate=null)},afterAnimate:function(){this.setClip(),u(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,s,a,o,r,n,l=this.points,c=this.chart,d=this.options.marker,h=this[this.specialGroup]||this.markerGroup,u=b(d.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=d.enabledThreshold*d.radius);if(!1!==d.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)e=l[t],s=e.graphic,a=e.marker||{},o=!!e.marker,i=u&&void 0===a.enabled||a.enabled,r=e.isInside,i&&!e.isNull?(i=b(a.symbol,this.symbol),n=this.markerAttribs(e,e.selected&&"select"),s?s[r?"show":"hide"](!0).animate(n):r&&(0<n.width||e.hasImage)&&(e.graphic=s=c.renderer.symbol(i,n.x,n.y,n.width,n.height,o?a:d).add(h)),s&&s.attr(this.pointAttribs(e,e.selected&&"select")),s&&s.addClass(e.getClassName(),!0)):s&&(e.graphic=s.destroy())},markerAttribs:function(t,e){var i=this.options.marker,s=t.marker||{},a=s.symbol||i.symbol,o=b(s.radius,i.radius);return e&&(i=i.states[e],e=s.states&&s.states[e],o=b(e&&e.radius,i&&i.radius,o+(i&&i.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var i=this.options.marker,s=t&&t.options,a=s&&s.marker||{},o=this.color,r=s&&s.color,n=t&&t.color;s=b(a.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,o=r||t||n||o,t=a.fillColor||i.fillColor||o,o=a.lineColor||i.lineColor||o,e&&(i=i.states[e],e=a.states&&a.states[e]||{},s=b(e.lineWidth,i.lineWidth,s+b(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,o=e.lineColor||i.lineColor||o),{stroke:o,"stroke-width":s,fill:t}},destroy:function(){var e,i,s,a,o=this,r=o.chart,n=/AppleWebKit\/533/.test(S.navigator.userAgent),l=o.data||[];for(u(o,"destroy"),x(o),c(o.axisTypes||[],(function(t){(a=o[t])&&a.series&&(d(a.series,o),a.isDirty=a.forceRedraw=!0)})),o.legendItem&&o.chart.legend.destroyItem(o),i=l.length;i--;)(s=l[i])&&s.destroy&&s.destroy();o.points=null,t.clearTimeout(o.animationTimeout),y(o,(function(t,i){t instanceof k&&!t.survive&&(e=n&&"group"===i?"hide":"destroy",t[e]())})),r.hoverSeries===o&&(r.hoverSeries=null),d(r.series,o),r.orderSeries(),y(o,(function(t,e){delete o[e]}))},getGraphPath:function(t,e,i){var s,a,o=this,r=o.options,n=r.step,d=[],h=[];return t=t||o.points,(s=t.reversed)&&t.reverse(),(n={right:1,center:2}[n]||n&&3)&&s&&(n=4-n),!r.connectNulls||e||i||(t=this.getValidPoints(t)),c(t,(function(s,c){var u=s.plotX,p=s.plotY,m=t[c-1];(s.leftCliff||m&&m.rightCliff)&&!i&&(a=!0),s.isNull&&!l(e)&&0<c?a=!r.connectNulls:s.isNull&&!e?a=!0:(0===c||a?c=["M",s.plotX,s.plotY]:o.getPointSpline?c=o.getPointSpline(t,s,c):n?(c=1===n?["L",m.plotX,p]:2===n?["L",(m.plotX+u)/2,m.plotY,"L",(m.plotX+u)/2,p]:["L",u,m.plotY],c.push("L",u,p)):c=["L",u,p],h.push(s.x),n&&(h.push(s.x),2===n&&h.push(s.x)),d.push.apply(d,c),a=!1)})),d.xMap=h,o.graphPath=d},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];s=t.getZonesGraphs(s);c(s,(function(s,a){var o=s[0],r=t[o];r?(r.endX=t.preventGraphAnimation?null:i.xMap,r.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(s[1]).attr({zIndex:1}).add(t.group),r={stroke:s[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},s[3]?r.dashstyle=s[3]:"square"!==e.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),r=t[o].attr(r).shadow(2>a&&e.shadow)),r&&(r.startX=i.xMap,r.isArea=i.isArea)}))},getZonesGraphs:function(t){return c(this.zones,(function(e,i){t.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])}),this),t},applyZones:function(){var t,e,i,s,a,o,r,n,l,d=this,h=this.chart,u=h.renderer,p=this.zones,m=this.clips||[],f=this.graph,g=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],x=h.inverted,w=!1;p.length&&(f||g)&&y&&void 0!==y.min&&(a=y.reversed,o=y.horiz,f&&!this.showLine&&f.hide(),g&&g.hide(),s=y.getExtremes(),c(p,(function(c,p){t=a?o?h.plotWidth:0:o?0:y.toPixels(s.min),t=Math.min(Math.max(b(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(b(c.value,s.max),!0)),0),v),w&&(t=e=y.toPixels(s.max)),r=Math.abs(t-e),n=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:x?l:n,y:0,width:r,height:v},o||(i.x=h.plotHeight-i.x)):(i={x:0,y:x?l:n,width:v,height:r},o&&(i.y=h.plotWidth-i.y)),x&&u.isVML&&(i=y.isXAxis?{x:0,y:a?n:l,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),m[p]?m[p].animate(i):(m[p]=u.clipRect(i),f&&d["zone-graph-"+p].clip(m[p]),g&&d["zone-area-"+p].clip(m[p])),w=c.value>s.max,d.resetZones&&0===e&&(e=void 0)})),this.clips=m)},invertGroups:function(t){function i(){c(["group","markerGroup"],(function(e){a[e]&&(o.renderer.isVML&&a[e].attr({width:a.yAxis.len,height:a.xAxis.len}),a[e].width=a.yAxis.len,a[e].height=a.xAxis.len,a[e].invert(t))}))}var s,a=this,o=a.chart;a.xAxis&&(s=e(o,"resize",i),e(a,"destroy",s),i(t),a.invertGroups=i)},plotGroup:function(t,e,i,s,a){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g().attr({zIndex:s||.1}).add(a)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,s=e.chart,a=e.options,o=!!e.animate&&s.renderer.isSVG&&i(a.animation).duration,r=e.visible?"inherit":"hidden",n=a.zIndex,l=e.hasRendered,c=s.seriesGroup,d=s.inverted;t=e.plotGroup("group","series",r,n,c),e.markerGroup=e.plotGroup("markerGroup","markers",r,n,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&d,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(d),!1===a.clip||e.sharedClipKey||l||t.clip(s.clipRect),o&&e.animate(),l||(e.animationTimeout=C((function(){e.afterAnimate()}),o)),e.isDirty=!1,e.hasRendered=!0,u(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,s=this.xAxis,a=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:b(s&&s.left,t.plotLeft),translateY:b(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,s=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?s.len-t.chartX+s.pos:t.chartY-s.pos},e)},buildKDTree:function(){function t(i,s,a){var o,r;if(r=i&&i.length)return o=e.kdAxisArray[s%a],i.sort((function(t,e){return t[o]-e[o]})),r=Math.floor(r/2),{point:i[r],left:t(i.slice(0,r),s+1,a),right:t(i.slice(r+1),s+1,a)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,C((function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1}),e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,n,c){var d,h,u=e.point,p=s.kdAxisArray[n%c],m=u;return h=l(t[a])&&l(u[a])?Math.pow(t[a]-u[a],2):null,d=l(t[o])&&l(u[o])?Math.pow(t[o]-u[o],2):null,d=(h||0)+(d||0),u.dist=l(d)?Math.sqrt(d):Number.MAX_VALUE,u.distX=l(h)?Math.sqrt(h):Number.MAX_VALUE,p=t[p]-u[p],d=0>p?"left":"right",h=0>p?"right":"left",e[d]&&(d=i(t,e[d],n+1,c),m=d[r]<m[r]?d:u),e[h]&&Math.sqrt(p*p)<m[r]&&(t=i(t,e[h],n+1,c),m=t[r]<m[r]?t:m),m}var s=this,a=this.kdAxisArray[0],o=this.kdAxisArray[1],r=e?"distX":"dist";if(e=-1<s.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,i=t.Chart,s=t.correctFloat,a=t.defined,o=t.destroyObjectProperties,r=t.each,n=t.format,l=t.objectEach,c=t.pick,d=t.Series;t.StackItem=function(t,e,i,s,a){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=s,this.total=null,this.points={},this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:c(e.y,o?4:i?14:-6),x:c(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,s=i.format;s=s?n(s,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:s,visibility:"hidden"}):this.label=e.renderer.text(s,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,s=i.chart,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),o=i.translate(0);o=Math.abs(a-o);t=s.xAxis[0].translate(this.x)+t,i=this.getStackBox(s,this,t,a,e,o,i),(e=this.label)&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||s.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,s,a,o,r){var n=e.axis.reversed,l=t.inverted;return t=r.height+r.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!n||!e.isNegative&&n,{x:l?e?s:s-o:i,y:l?t-i-a:e?t-s-o:t-s,width:l?o:a,height:l?a:o}}},i.prototype.getStacks=function(){var t=this;r(t.yAxis,(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),r(t.series,(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))}))},e.prototype.buildStacks=function(){var t,e=this.series,i=c(this.options.reversedStacks,!0),s=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=s;t--;)e[i?t:s-t-1].setStackedPoints();for(t=0;t<s;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(t.plotLeft,t.plotTop),l(i,(function(t){l(t,(function(t){t.render(s)}))}))},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,(function(e){l(e,(function(i,s){i.touched<t.stacksTouched?(i.destroy(),delete e[s]):(i.total=null,i.cumulative=null)}))}))},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,(function(t){l(t,(function(t){t.cumulative=t.total}))})))},d.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,o,r,n,l,d,h=this.processedXData,u=this.processedYData,p=[],m=u.length,f=this.options,g=f.threshold,v=c(f.startFromThreshold&&g,0),y=f.stack,b=(f=f.stacking,this.stackKey),x="-"+b,w=this.negStacks,k=this.yAxis,C=k.stacks,S=k.oldStacks;for(k.stacksTouched+=1,n=0;n<m;n++)l=h[n],d=u[n],e=this.getStackIndicator(e,l,this.index),r=e.key,o=(i=w&&d<(v?0:g))?x:b,C[o]||(C[o]={}),C[o][l]||(S[o]&&S[o][l]?(C[o][l]=S[o][l],C[o][l].total=null):C[o][l]=new t.StackItem(k,k.options.stackLabels,i,l,y)),o=C[o][l],null!==d?(o.points[r]=o.points[this.index]=[c(o.cumulative,v)],a(o.cumulative)||(o.base=r),o.touched=k.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[r][0]=o.points[this.index+","+l+",0"][0])):o.points[r]=o.points[this.index]=null,"percent"===f?(i=i?b:x,w&&C[i]&&C[i][l]?(i=C[i][l],o.total=i.total=Math.max(i.total,o.total)+Math.abs(d)||0):o.total=s(o.total+(Math.abs(d)||0))):o.total=s(o.total+(d||0)),o.cumulative=c(o.cumulative,v)+(d||0),null!==d&&(o.points[r].push(o.cumulative),p[n]=o.cumulative);"percent"===f&&(k.usePercentage=!0),this.stackedYData=p,k.oldStacks={}}},d.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,s=e.yAxis.stacks,a=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&r([i,"-"+i],(function(i){for(var r,n,l=a.length;l--;)r=a[l],t=e.getStackIndicator(t,r,e.index,i),(n=(r=s[i]&&s[i][r])&&r.points[t.key])&&e[o+"Stacker"](n,r,l)}))},d.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=s(t[0]*e),t[1]=s(t[1]*e),this.stackedYData[i]=t[1]},d.prototype.getStackIndicator=function(t,e,i,s){return!a(t)||t.x!==e||s&&t.key!==s?t={x:e,index:0,key:s}:t.index++,t.key=[i,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,i=t.animate,s=t.Axis,a=t.createElement,o=t.css,r=t.defined,n=t.each,l=t.erase,c=t.extend,d=t.fireEvent,h=t.inArray,u=t.isNumber,p=t.isObject,m=t.isArray,f=t.merge,g=t.objectEach,v=t.pick,y=t.Point,b=t.Series,x=t.seriesTypes,w=t.setAnimation,k=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,i){var s,a=this;return t&&(e=v(e,!0),d(a,"addSeries",{options:t},(function(){s=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),d(a,"afterAddSeries"),e&&a.redraw(i)}))),s},addAxis:function(t,e,i,a){var o=e?"xAxis":"yAxis",r=this.options;return t=f(t,{index:this[o].length,isX:e}),e=new s(this,t),r[o]=k(r[o]||{}),r[o].push(t),v(i,!0)&&this.redraw(a),e},showLoading:function(t){var s=this,r=s.options,n=s.loadingDiv,l=r.loading,d=function(){n&&o(n,{left:s.plotLeft+"px",top:s.plotTop+"px",width:s.plotWidth+"px",height:s.plotHeight+"px"})};n||(s.loadingDiv=n=a("div",{className:"highcharts-loading highcharts-loading-hidden"},null,s.container),s.loadingSpan=a("span",{className:"highcharts-loading-inner"},null,n),e(s,"redraw",d)),n.className="highcharts-loading",s.loadingSpan.innerHTML=t||r.lang.loading,o(n,c(l.style,{zIndex:10})),o(s.loadingSpan,l.labelStyle),s.loadingShown||(o(n,{opacity:0,display:""}),i(n,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),s.loadingShown=!0,d()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,i,s){var a,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},p=t.chart,m=[];d(l,"update",{options:t}),p&&(f(!0,l.options.chart,p),"className"in p&&l.setClassName(p.className),"reflow"in p&&l.setReflow(p.reflow),("inverted"in p||"polar"in p||"type"in p)&&(l.propFromSeries(),a=!0),"alignTicks"in p&&(a=!0),g(p,(function(t,e){-1!==h("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==h(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)})),"style"in p&&l.renderer.setStyle(p.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&f(!0,this.options.plotOptions,t.plotOptions),g(t,(function(t,e){l[e]&&"function"===typeof l[e].update?l[e].update(t,!1):"function"===typeof l[c[e]]&&l[c[e]](t),"chart"!==e&&-1!==h(e,l.propsRequireUpdateSeries)&&(o=!0)})),n("xAxis yAxis zAxis series colorAxis pane".split(" "),(function(e){var s;t[e]&&("series"===e&&(s=[],n(l[e],(function(t,e){t.options.isInternal||s.push(e)}))),n(k(t[e]),(function(t,a){(a=r(t.id)&&l.get(t.id)||l[e][s?s[a]:a])&&a.coll===e&&(a.update(t,!1),i&&(a.touched=!0)),!a&&i&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))})),i&&n(l[e],(function(t){t.touched||t.options.isInternal?delete t.touched:m.push(t)})))})),n(m,(function(t){t.remove(!1)})),a&&n(l.axes,(function(t){t.update({},!1)})),o&&n(l.series,(function(t){t.update({},!1)})),t.loading&&f(!0,l.options.loading,t.loading),a=p&&p.width,p=p&&p.height,u(a)&&a!==l.chartWidth||u(p)&&p!==l.chartHeight?l.setSize(a,p,s):v(e,!0)&&l.redraw(s),d(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(y.prototype,{update:function(t,e,i,s){function a(){r.applyOptions(t),null===r.y&&l&&(r.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(r.graphic=l.destroy()),t&&t.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy()),r.connector&&(r.connector=r.connector.destroy())),o=r.index,n.updateParallelArrays(r,o),d.data[o]=p(d.data[o],!0)||p(t,!0)?r.options:v(t,d.data[o]),n.isDirty=n.isDirtyData=!0,!n.fixedBox&&n.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===d.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var o,r=this,n=r.series,l=r.graphic,c=n.chart,d=n.options;e=v(e,!0),!1===s?a():r.firePointEvent("update",{options:t},a)},remove:function(t,e){this.series.removePoint(h(this,this.series.data),t,e)}}),c(b.prototype,{addPoint:function(t,e,i,s){var a,o,r,n,l=this.options,c=this.data,d=this.chart,h=this.xAxis,u=(h=h&&h.hasNames&&h.names,l.data),p=this.xData;if(e=v(e,!0),a={series:this},this.pointClass.prototype.applyOptions.apply(a,[t]),n=a.x,r=p.length,this.requireSorting&&n<p[r-1])for(o=!0;r&&p[r-1]>n;)r--;this.updateParallelArrays(a,"splice",r,0,0),this.updateParallelArrays(a,r),h&&a.name&&(h[n]=a.name),u.splice(r,0,t),o&&(this.data.splice(r,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(a,"shift"),u.shift())),this.isDirtyData=this.isDirty=!0,e&&d.redraw(s)},removePoint:function(t,e,i){var s=this,a=s.data,o=a[t],r=s.points,n=s.chart,l=function(){r&&r.length===a.length&&r.splice(t,1),a.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(o||{series:s},"splice",t,1),o&&o.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&n.redraw()};w(i,n),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function s(){a.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var a=this,o=a.chart;!1!==i?d(a,"remove",null,s):s()},update:function(e,i){var s,a=this,o=a.chart,r=a.userOptions,l=a.oldType||a.type,u=e.type||r.type||o.options.chart.type,p=x[l].prototype,m=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],y=a.finishedAnimating&&{animation:!1},b=["data","name","turboThreshold"],w=t.keys(e),k=0<w.length;if(n(w,(function(t){-1===h(t,b)&&(k=!1)})),k)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(s in g=m.concat(g),n(g,(function(t){g[t]=a[t],delete a[t]})),e=f(r,y,{index:a.index,pointStart:v(r.pointStart,a.xData[0])},{data:a.options.data},e),a.remove(!1,null,!1),p)a[s]=void 0;x[u||l]?c(a,x[u||l].prototype):t.error(17,!0),n(g,(function(t){a[t]=g[t]})),a.init(o,e),e.zIndex!==r.zIndex&&n(m,(function(t){a[t]&&a[t].attr({zIndex:e.zIndex})})),a.oldType=l,o.linkSeries()}d(this,"afterUpdate"),v(i,!0)&&o.redraw(!1)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(s.prototype,{update:function(t,e){var i=this.chart,s=t&&t.events||{};t=f(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),g(i.options[this.coll].events,(function(t,e){"undefined"===typeof s[e]&&(s[e]=void 0)})),this.destroy(!0),this.init(i,c(t,{events:s})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,s=this.series,a=s.length;a--;)s[a]&&s[a].remove(!1);l(e.axes,this),l(e[i],this),m(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],n(e[i],(function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,i=t.each,s=t.map,a=t.pick,o=t.Series,r=t.seriesType;r("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,r,n=[],l=[],c=this.xAxis,d=this.yAxis,h=d.stacks[this.stackKey],u={},p=this.index,m=d.series,f=m.length,g=a(d.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(r=0;r<e.length;r++)e[r].leftNull=e[r].rightNull=null,u[e[r].x]=e[r];t.objectEach(h,(function(t,e){null!==t.total&&l.push(e)})),l.sort((function(t,e){return t-e})),o=s(m,(function(){return this.visible})),i(l,(function(t,e){var s,a,m=0;if(u[t]&&!u[t].isNull)n.push(u[t]),i([-1,1],(function(i){var n=1===i?"rightNull":"leftNull",c=0,d=h[l[e+i]];if(d)for(r=p;0<=r&&r<f;)s=d.points[r],s||(r===p?u[t][n]=!0:o[r]&&(a=h[t].points[r])&&(c-=a[1]-a[0])),r+=g;u[t][1===i?"rightCliff":"leftCliff"]=c}));else{for(r=p;0<=r&&r<f;){if(s=h[t].points[r]){m=s[1];break}r+=g}m=d.translate(m,0,1,0,1),n.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:m,yBottom:m})}}))}return n},getGraphPath:function(t){var e,i,s,r,n=o.prototype.getGraphPath,l=this.options,c=l.stacking,d=this.yAxis,h=[],u=[],p=this.index,m=d.stacks[this.stackKey],f=l.threshold,g=d.getThreshold(l.threshold),v=(l=l.connectNulls||"percent"===c,function(e,i,a){var o=t[e];e=c&&m[o.x].points[p];var r=o[a+"Null"]||0;a=o[a+"Cliff"]||0;var n,l;o=!0;a||r?(n=(r?e[0]:e[1])+a,l=e[0]+a,o=!!r):!c&&t[i]&&t[i].isNull&&(n=l=f),void 0!==n&&(u.push({plotX:s,plotY:null===n?g:d.getThreshold(n),isNull:o,isCliff:!0}),h.push({plotX:s,plotY:null===l?g:d.getThreshold(l),doCurve:!1}))});for(t=t||this.points,c&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)i=t[e].isNull,s=a(t[e].rectPlotX,t[e].plotX),r=a(t[e].yBottom,g),(!i||l)&&(l||v(e,e-1,"left"),i&&!c&&l||(u.push(t[e]),h.push({x:e,plotX:s,plotY:r})),l||v(e,e+1,"right"));return e=n.call(this,u,!0,!0),h.reversed=!0,i=n.call(this,h,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),n=n.call(this,u,!1,l),i.xMap=e.xMap,this.areaPath=i,n},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,s=this.areaPath,r=this.options,n=[["area","highcharts-area",this.color,r.fillColor]];i(this.zones,(function(e,i){n.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])})),i(n,(function(i){var o=i[0],n=t[o];n?(n.endX=t.preventGraphAnimation?null:s.xMap,n.animate({d:s})):(n=t[o]=t.chart.renderer.path(s).addClass(i[1]).attr({fill:a(i[3],e(i[2]).setOpacity(a(r.fillOpacity,.75)).get()),zIndex:0}).add(t.group),n.isArea=!0),n.startX=s.xMap,n.shiftUnit=r.step?2:1}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;t=t.seriesType,t("spline","line",{},{getPointSpline:function(t,i,s){var a,o,r,n,l=i.plotX,c=i.plotY,d=t[s-1];if(s=t[s+1],d&&!d.isNull&&!1!==d.doCurve&&!i.isCliff&&s&&!s.isNull&&!1!==s.doCurve&&!i.isCliff){t=d.plotY,r=s.plotX,s=s.plotY;var h=0;a=(1.5*l+d.plotX)/2.5,o=(1.5*c+t)/2.5,r=(1.5*l+r)/2.5,n=(1.5*c+s)/2.5,r!==a&&(h=(n-o)*(r-l)/(r-a)+c-n),o+=h,n+=h,o>t&&o>c?(o=Math.max(t,c),n=2*c-o):o<t&&o<c&&(o=Math.min(t,c),n=2*c-o),n>s&&n>c?(n=Math.max(s,c),o=2*c-n):n<s&&n<c&&(n=Math.min(s,c),o=2*c-n),i.rightContX=r,i.rightContY=n}return i=["C",e(d.rightContX,d.plotX),e(d.rightContY,d.plotY),e(a,l),e(o,c),l,c],d.rightContX=d.rightContY=null,i}})}(e),function(t){var e=t.seriesTypes.area.prototype,i=t.seriesType;i("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,i=t.color,s=t.each,a=t.extend,o=t.isNumber,r=t.merge,n=t.pick,l=t.Series,c=t.seriesType,d=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&s(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t,e=this,i=e.options,a=e.xAxis,o=e.yAxis,r=a.options.reversedStacks,l=(r=a.reversed&&!r||!a.reversed&&r,{}),c=0;!1===i.grouping?c=1:s(e.chart.series,(function(i){var s,a=i.options,r=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==r.len||o.pos!==r.pos||(a.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=c++),s=l[t]):!1!==a.grouping&&(s=c++),i.columnIndex=s)}));var d=Math.min(Math.abs(a.transA)*(a.ordinalSlope||i.pointRange||a.closestPointRange||a.tickInterval||1),a.len),h=d*i.groupPadding,u=(d-2*h)/(c||1);i=Math.min(i.maxPointWidth||a.len,n(i.pointWidth,u*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(u-i)/2+(h+((e.columnIndex||0)+(r?1:0))*u-d/2)*(r?-1:1)},e.columnMetrics},crispCol:function(t,e,i,s){var a=this.chart,o=this.borderWidth,r=-(o%2?.5:0);o=o%2?.5:1;return a.inverted&&a.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+r,t=Math.round(t)+r,i-=t),s=Math.round(e+s)+o,r=.5>=Math.abs(e)&&.5<s,e=Math.round(e)+o,s-=e,r&&s&&(--e,s+=1),{x:t,y:e,width:i,height:s}},translate:function(){var t=this,e=t.chart,i=t.options,a=t.dense=2>t.closestPointRange*t.xAxis.transA,o=(a=t.borderWidth=n(i.borderWidth,a?0:1),t.yAxis),r=i.threshold,c=t.translatedThreshold=o.getThreshold(r),d=n(i.minPointLength,5),h=t.getColumnMetrics(),u=h.width,p=t.barW=Math.max(u,1+2*a),m=t.pointXOffset=h.offset;e.inverted&&(c-=.5),i.pointPadding&&(p=Math.ceil(p)),l.prototype.translate.apply(t),s(t.points,(function(i){var s,a=n(i.yBottom,c),l=999+Math.abs(a),h=(l=Math.min(Math.max(-l,i.plotY),o.len+l),i.plotX+m),f=p,g=Math.min(l,a),v=Math.max(l,a)-g;d&&Math.abs(v)<d&&(v=d,s=!o.reversed&&!i.negative||o.reversed&&i.negative,i.y===r&&t.dataMax<=r&&o.min<r&&(s=!s),g=Math.abs(g-c)>d?a-d:c-(s?d:0)),i.barX=h,i.pointWidth=u,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-h-f/2,v]:[h+f/2,l+o.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[h,c,f,0]:[h,g,f,v])}))},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var s,a=this.options,o=this.pointAttrToOptions||{};s=o.stroke||"borderColor";var n=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t&&t[s]||a[s]||this.color||l,d=t&&t[n]||a[n]||this[n]||0;o=a.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=r(a.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&i(l).brighten(t.brightness).get()||l,c=t[s]||c,d=t[n]||d,o=t.dashStyle||o),s={fill:l,stroke:c,"stroke-width":d},o&&(s.dashstyle=o),s},drawPoints:function(){var t,e=this,i=this.chart,a=e.options,n=i.renderer,l=a.animationLimit||250;s(e.points,(function(s){var c=s.graphic,d=c&&i.pointCount<l?"animate":"attr";o(s.plotY)&&null!==s.y?(t=s.shapeArgs,c?c[d](r(t)):s.graphic=c=n[s.shapeType](t).add(s.group||e.group),a.borderRadius&&c.attr({r:a.borderRadius}),c[d](e.pointAttribs(s,s.selected&&"select")).shadow(a.shadow,null,a.stacking&&!a.borderRadius),c.addClass(s.getClassName(),!0)):c&&(s.graphic=c.destroy())}))},animate:function(t){var i,s=this,o=this.yAxis,r=s.options,n=this.chart.inverted,l={},c=n?"translateX":"translateY";d&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(r.threshold))),n?l.translateX=t-o.len:l.translateY=t,s.group.attr(l)):(i=s.group.attr(c),s.group.animate({scaleY:1},a(e(s.options.animation),{step:function(t,e){l[c]=i+e.pos*(o.pos-i),s.group.attr(l)}})),s.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&s(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)})),l.prototype.remove.apply(t,arguments)}})}(e),function(t){t=t.seriesType,t("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;t=t.seriesType,t("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,i=t.isNumber,s=t.pick,a=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,r=2*(i.slicedOffset||0),n=o.plotWidth-2*r,l=(o=o.plotHeight-2*r,i.center),c=(l=[s(l[0],"50%"),s(l[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(n,o));for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=a(e,[n,o,c,l[2]][t])+(i?r:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,s){return t=i(t)?t:0,s=i(s)&&s>t&&360>s-t?s:t+360,{start:e*(t+-90),end:e*(s+-90)}}}}(e),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,s=t.defined,a=t.each,o=t.extend,r=i.getStartAndEndRadians,n=t.inArray,l=t.noop,c=t.pick,d=t.Point,h=t.Series,u=t.seriesType,p=t.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,s=e.startAngleRad;t||(a(i,(function(t){var i=t.graphic,a=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:s,end:s}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))})),e.animate=null)},updateTotals:function(){var t,e,i=0,s=this.points,a=s.length,o=this.options.ignoreHiddenPoint;for(t=0;t<a;t++)e=s[t],i+=o&&!e.visible||e.isNull?0:e.y;for(this.total=i,t=0;t<a;t++)e=s[t],e.percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,s,a,o,n,l=0,d=this.options,h=d.slicedOffset,u=h+(d.borderWidth||0),p=r(d.startAngle,d.endAngle),m=this.startAngleRad=p.start,f=(p=(this.endAngleRad=p.end)-m,this.points),g=d.dataLabels.distance,v=(d=d.ignoreHiddenPoint,f.length);for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,a){return s=Math.asin(Math.min((e-t[1])/(t[2]/2+a.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(s)*(t[2]/2+a.labelDistance)},o=0;o<v;o++)n=f[o],n.labelDistance=c(n.options.dataLabels&&n.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,n.labelDistance),e=m+l*p,d&&!n.visible||(l+=n.percentage/100),i=m+l*p,n.shapeType="arc",n.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},s=(i+e)/2,s>1.5*Math.PI?s-=2*Math.PI:s<-Math.PI/2&&(s+=2*Math.PI),n.slicedTranslation={translateX:Math.round(Math.cos(s)*h),translateY:Math.round(Math.sin(s)*h)},i=Math.cos(s)*t[2]/2,a=Math.sin(s)*t[2]/2,n.tooltipPos=[t[0]+.7*i,t[1]+.7*a],n.half=s<-Math.PI/2||s>Math.PI/2?1:0,n.angle=s,e=Math.min(u,n.labelDistance/5),n.labelPos=[t[0]+i+Math.cos(s)*n.labelDistance,t[1]+a+Math.sin(s)*n.labelDistance,t[0]+i+Math.cos(s)*e,t[1]+a+Math.sin(s)*e,t[0]+i,t[1]+a,0>n.labelDistance?"center":n.half?"right":"left",s]},drawGraph:null,drawPoints:function(){var t,e,i,s,r=this,n=r.chart.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=n.g("shadow").add(r.group)),a(r.points,(function(a){if(e=a.graphic,a.isNull)e&&(a.graphic=e.destroy());else{s=a.shapeArgs,t=a.getTranslate();var c=a.shadowGroup;l&&!c&&(c=a.shadowGroup=n.g("shadow").add(r.shadowGroup)),c&&c.attr(t),i=r.pointAttribs(a,a.selected&&"select"),e?e.setRadialReference(r.center).attr(i).animate(o(s,t)):(a.graphic=e=n[a.shapeType](s).setRadialReference(r.center).attr(t).add(r.group),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.attr({visibility:a.visible?"inherit":"hidden"}),e.addClass(a.getClassName())}}))},searchPoint:l,sortByAngle:function(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:i.getCenter,getSymbol:l},{init:function(){d.prototype.init.apply(this,arguments);var t,i=this;return i.name=c(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,s=i.series,o=s.chart,r=s.options.ignoreHiddenPoint;e=c(e,r),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,s.options.data[n(i,s.data)]=i.options,a(["graphic","dataLabel","connector","shadowGroup"],(function(e){i[e]&&i[e][t?"show":"hide"](!0)})),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),r&&(s.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var a=this.series;p(i,a.chart),c(e,!0),this.sliced=this.options.sliced=s(t)?t:!this.sliced,a.options.data[n(this,a.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,i=t.arrayMax,s=t.defined,a=t.each,o=t.extend,r=t.format,n=t.map,l=t.merge,c=t.noop,d=t.pick,h=t.relativeLength,u=t.Series,p=t.seriesTypes,m=t.some,f=t.stableSort;t.distribute=function(e,i,s){function o(t,e){return t.target-e.target}var r,l,c=!0,h=e,u=[];l=0;var p=h.reducedLen||i;for(r=e.length;r--;)l+=e[r].size;if(l>p){for(f(e,(function(t,e){return(e.rank||0)-(t.rank||0)})),l=r=0;l<=p;)l+=e[r].size,r++;u=e.splice(r-1,e.length)}for(f(e,o),e=n(e,(function(t){return{size:t.size,targets:[t.target],align:d(t.align,.5)}}));c;){for(r=e.length;r--;)c=e[r],l=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=Math.min(Math.max(0,l-c.size*c.align),i-c.size);for(r=e.length,c=!1;r--;)0<r&&e[r-1].pos+e[r-1].size>e[r].pos&&(e[r-1].size+=e[r].size,e[r-1].targets=e[r-1].targets.concat(e[r].targets),e[r-1].align=.5,e[r-1].pos+e[r-1].size>i&&(e[r-1].pos=i-e[r-1].size),e.splice(r,1),c=!0)}h.push.apply(h,u),r=0,m(e,(function(e){var o=0;if(m(e.targets,(function(){if(h[r].pos=e.pos+o,Math.abs(h[r].pos-h[r].target)>s)return a(h.slice(0,r+1),(function(t){delete t.pos})),h.reducedLen=(h.reducedLen||i)-.1*i,h.reducedLen>.1*i&&t.distribute(h,i,s),!0;o+=h[r].size,r++})))return!0})),f(h,o)},u.prototype.drawDataLabels=function(){function i(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}var o,n,c,h,u=this,p=u.chart,m=u.options,f=m.dataLabels,g=u.points,v=u.hasRendered||0,y=d(f.defer,!!m.animation),b=p.renderer;(f.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(f),h=u.plotGroup("dataLabelsGroup","data-labels",y&&!v?"hidden":"visible",f.zIndex||6),y&&(h.attr({opacity:+v}),v||e(u,"afterAnimate",(function(){u.visible&&h.show(!0),h[m.animation?"animate":"attr"]({opacity:1},{duration:200})}))),n=f,a(g,(function(e){var a,g,v,y,x=e.dataLabel,w=e.connector,k=!x;o=e.dlOptions||e.options&&e.options.dataLabels,(a=d(o&&o.enabled,n.enabled)&&!e.isNull)&&(a=!0===i(e,o||f)),a&&(f=l(n,o),g=e.getLabelConfig(),y=f[e.formatPrefix+"Format"]||f.format,c=s(y)?r(y,g,p.time):(f[e.formatPrefix+"Formatter"]||f.formatter).call(g,f),y=f.style,g=f.rotation,y.color=d(f.color,y.color,u.color,"#000000"),"contrast"===y.color&&(e.contrastColor=b.getContrast(e.color||u.color),y.color=f.inside||0>d(e.labelDistance,f.distance)||m.stacking?e.contrastColor:"#000000"),m.cursor&&(y.cursor=m.cursor),v={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:g,padding:f.padding,zIndex:1},t.objectEach(v,(function(t,e){void 0===t&&delete v[e]}))),!x||a&&s(c)?a&&s(c)&&(x?v.text=c:(x=e.dataLabel=g?b.text(c,0,-9999).addClass("highcharts-data-label"):b.label(c,0,-9999,f.shape,null,null,f.useHTML,null,"data-label"),x.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")+(f.useHTML?" highcharts-tracker":""))),x.attr(v),x.css(y).shadow(f.shadow),x.added||x.add(h),u.alignDataLabel(e,x,f,null,k)):(e.dataLabel=x=x.destroy(),w&&(e.connector=w.destroy()))}))),t.fireEvent(this,"afterDrawDataLabels")},u.prototype.alignDataLabel=function(t,e,i,s,a){var r,n=this.chart,l=n.inverted,c=d(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=d(t.plotY,-9999),u=e.getBBox(),p=i.rotation,m=i.align,f=this.visible&&(t.series.forceDL||n.isInsidePlot(c,Math.round(h),l)||s&&n.isInsidePlot(c,l?s.x+1:s.y+s.height-1,l)),g="justify"===d(i.overflow,"justify");f&&(r=i.style.fontSize,r=n.renderer.fontMetrics(r,e).b,s=o({x:l?this.yAxis.len-h:c,y:Math.round(l?this.xAxis.len-c:h),width:0,height:0},s),o(i,{width:u.width,height:u.height}),p?(g=!1,c=n.renderer.rotCorr(r,p),c={x:s.x+i.x+s.width/2+c.x,y:s.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*s.height},e[a?"attr":"animate"](c).attr({align:m}),h=(p+720)%360,h=180<h&&360>h,"left"===m?c.y-=h?u.height:0:"center"===m?(c.x-=u.width/2,c.y-=u.height/2):"right"===m&&(c.x-=u.width,c.y-=h?0:u.height),e.placed=!0,e.alignAttr=c):(e.align(i,null,s),c=e.alignAttr),g?t.isLabelJustified=this.justifyDataLabel(e,i,c,u,s,a):d(i.crop,!0)&&(f=n.isInsidePlot(c.x,c.y)&&n.isInsidePlot(c.x+u.width,c.y+u.height)),i.shape&&!p)&&e[a?"attr":"animate"]({anchorX:l?n.plotWidth-t.plotY:t.plotX,anchorY:l?n.plotHeight-t.plotX:t.plotY}),f||(e.attr({y:-9999}),e.placed=!1)},u.prototype.justifyDataLabel=function(t,e,i,s,a,o){var r,n,l=this.chart,c=e.align,d=e.verticalAlign,h=t.box?0:t.padding||0;return r=i.x+h,0>r&&("right"===c?e.align="left":e.x=-r,n=!0),r=i.x+s.width-h,r>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-r,n=!0),r=i.y+h,0>r&&("bottom"===d?e.verticalAlign="top":e.y=-r,n=!0),r=i.y+s.height-h,r>l.plotHeight&&("top"===d?e.verticalAlign="bottom":e.y=l.plotHeight-r,n=!0),n&&(t.placed=!o,t.align(e,null,a)),n},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,r,n,l,c,h,p,m,f,g=this,v=g.data,y=g.chart,b=g.options.dataLabels,x=d(b.connectorPadding,10),w=d(b.connectorWidth,1),k=y.plotWidth,C=y.plotHeight,S=Math.round(y.chartWidth/3),A=g.center,I=A[2]/2,T=A[1],L=[[],[]],P=[0,0,0,0];g.visible&&(b.enabled||g._hasPointLabels)&&(a(v,(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),u.prototype.drawDataLabels.apply(g),a(v,(function(t){t.dataLabel&&(t.visible?(L[t.half].push(t),t.dataLabel._pos=null,!s(b.style.width)&&!s(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>S&&(t.dataLabel.css({width:.7*S}),t.dataLabel.shortened=!0)):t.dataLabel=t.dataLabel.destroy())})),a(L,(function(i,o){var u,v,w,S=i.length,L=[];if(S)for(g.sortByAngle(i,o-.5),0<g.maxLabelDistance&&(u=Math.max(0,T-I-g.maxLabelDistance),v=Math.min(T+I+g.maxLabelDistance,y.plotHeight),a(i,(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,T-I-t.labelDistance),t.bottom=Math.min(T+I+t.labelDistance,y.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},L.push(t.distributeBox))})),u=v+w-u,t.distribute(L,u,u/5)),f=0;f<S;f++)e=i[f],l=e.labelPos,r=e.dataLabel,m=!1===e.visible?"hidden":"inherit",p=u=l[1],L&&s(e.distributeBox)&&(void 0===e.distributeBox.pos?m="hidden":(c=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,h=b.justify?A[0]+(o?-1:1)*(I+e.labelDistance):g.getX(p<e.top+2||p>e.bottom-2?u:p,o,e),r._attr={visibility:m,align:l[6]},r._pos={x:h+b.x+({left:x,right:-x}[l[6]]||0),y:p+b.y-10},l.x=h,l.y=p,d(b.crop,!0)&&(n=r.getBBox().width,u=null,h-n<x&&1===o?(u=Math.round(n-h+x),P[3]=Math.max(u,P[3])):h+n>k-x&&0===o&&(u=Math.round(h+n-k+x),P[1]=Math.max(u,P[1])),0>p-c/2?P[0]=Math.max(Math.round(c/2-p),P[0]):p+c/2>C&&(P[2]=Math.max(Math.round(p+c/2-C),P[2])),r.sideOverflow=u)})),0===i(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),w&&a(this.points,(function(t){var e;o=t.connector,(r=t.dataLabel)&&r._pos&&t.visible&&0<t.labelDistance?(m=r._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),o.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",m)):o&&(t.connector=o.destroy())})))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return d(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){a(this.points,(function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:this.options.dataLabels.style.textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))}),this)},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,s=this.options,a=s.center,o=s.minSize||80,r=null!==s.size;return r||(null!==a[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(h(s.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):r=!0),r}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,s,a){var o=this.chart.inverted,r=t.series,n=t.dlBox||t.shapeArgs,c=d(t.below,t.plotY>d(this.translatedThreshold,r.yAxis.len)),h=d(i.inside,!!this.options.stacking);n&&(s=l(n),0>s.y&&(s.height+=s.y,s.y=0),n=s.y+s.height-r.yAxis.len,0<n&&(s.height-=n),o&&(s={x:r.yAxis.len-s.y-s.height,y:r.xAxis.len-s.x-s.width,width:s.height,height:s.width}),h||(o?(s.x+=c?0:s.width,s.width=0):(s.y+=c?s.height:0,s.height=0))),i.align=d(i.align,!o||h?"center":c?"right":"left"),i.verticalAlign=d(i.verticalAlign,o||h?"middle":c?"top":"bottom"),u.prototype.alignDataLabel.call(this,t,e,i,s,a),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,i=t.each,s=t.objectEach,a=t.pick;t=t.addEvent,t(e,"render",(function(){var t=[];i(this.labelCollectors||[],(function(e){t=t.concat(e())})),i(this.yAxis||[],(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&s(e.stacks,(function(e){s(e,(function(e){t.push(e.label)}))}))})),i(this.series||[],(function(e){var s=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(s.enabled||e._hasPointLabels)&&!s.allowOverlap&&e.visible&&i(o,(function(s){i(e.points,(function(e){e[s]&&(e[s].labelrank=a(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[s]))}))}))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(t){var e,s,a,o,r,n,l=t.length,c=function(t,e,i,s,a,o,r,n){return!(a>t+i||a+r<t||o>e+s||o+n<e)};for(a=function(t){var e,i,s,a=2*(t.box?0:t.padding||0);if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(s=t.getBBox(),t.width=s.width,t.height=s.height),{x:e.x+(i.translateX||0),y:e.y+(i.translateY||0),width:t.width-a,height:t.height-a}},s=0;s<l;s++)(e=t[s])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=a(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),s=0;s<l;s++)for(n=(a=t[s])&&a.absoluteBox,e=s+1;e<l;++e)r=(o=t[e])&&o.absoluteBox,n&&r&&a!==o&&0!==a.newOpacity&&0!==o.newOpacity&&(r=c(n.x,n.y,n.width,n.height,r.x,r.y,r.width,r.height))&&((a.labelrank<o.labelrank?a:o).newOpacity=0);i(t,(function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)}))}}(e),function(t){var e,i=t.addEvent,s=t.Chart,a=t.createElement,o=t.css,r=t.defaultOptions,n=t.defaultPlotOptions,l=t.each,c=t.extend,d=t.fireEvent,h=t.hasTouch,u=t.inArray,p=t.isObject,m=t.Legend,f=t.merge,g=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)})),t._hasTracking||(l(t.trackerGroups,(function(s){t[s]&&(t[s].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",(function(t){e.onTrackerMouseOut(t)})),h&&t[s].on("touchstart",i),t.options.cursor&&t[s].css(o).css({cursor:t.options.cursor}))})),t._hasTracking=!0),d(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,s=i.trackByArea,a=[].concat(s?e.areaPath:e.graphPath),o=a.length,r=e.chart,n=r.pointer,c=r.renderer,u=r.options.tooltip.snap,p=e.tracker,m=function(){r.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(x?1e-4:.002)+")";if(o&&!s)for(t=o+1;t--;)"M"===a[t]&&a.splice(t+1,0,a[t+1]-u,a[t+2],"L"),(t&&"M"===a[t]||t===o)&&a.splice(t,0,"L",a[t-2]+u,a[t-1]);p?p.attr({d:a}):e.graph&&(e.tracker=c.path(a).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:s?f:"none","stroke-width":e.graph.strokeWidth()+(s?0:2*u),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],(function(t){t.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",(function(t){n.onTrackerMouseOut(t)})),i.cursor&&t.css({cursor:i.cursor}),h&&t.on("touchstart",m)}))),d(this,"afterDrawTracker")}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),c(m.prototype,{setItemEvents:function(t,e,i){var s=this,a=s.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",(function(){t.setState("hover"),a.addClass(o),e.css(s.options.itemHoverStyle)})).on("mouseout",(function(){e.css(f(t.visible?s.itemStyle:s.itemHiddenStyle)),a.removeClass(o),t.setState()})).on("click",(function(e){var i=function(){t.setVisible&&t.setVisible()};a.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):d(t,"legendItemClick",e,i)}))},createCheckboxForItem:function(t){t.checkbox=a("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",(function(e){d(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),r.legend.itemStyle.cursor="pointer",c(s.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=r.lang,s=e.options.chart.resetZoomButton,a=s.theme,o=a.states,n="chart"===s.relativeTo?null:"plotBox";d(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,a,o&&o.hover).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,n)}))},zoomOut:function(){d(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,i,s=this.pointer,a=!1;!t||t.resetSelection?(l(this.axes,(function(t){e=t.zoom()})),s.initiated=!1):l(t.xAxis.concat(t.yAxis),(function(t){var i=t.axis;s[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(a=!0))})),i=this.resetZoomButton,a&&!i?this.showResetZoom():!a&&p(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,s=this,a=s.hoverPoints;a&&l(a,(function(t){t.setState()})),l("xy"===e?[1,0]:[1],(function(e){e=s[e?"xAxis":"yAxis"][0];var a=e.horiz,o=t[a?"chartX":"chartY"],r=(a=a?"mouseDownX":"mouseDownY",s[a]),n=(e.pointRange||0)/2,l=e.reversed&&!s.inverted||!e.reversed&&s.inverted?-1:1,c=e.getExtremes(),d=e.toValue(r-o,!0)+n*l,h=(l=e.toValue(r+e.len-o,!0)-n*l,l<d);r=h?l:d,d=h?d:l,l=Math.min(c.dataMin,n?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)),n=Math.max(c.dataMax,n?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding)),h=l-r;0<h&&(d+=h,r=l),h=d-n,0<h&&(d=n,r-=h),e.series.length&&r!==c.min&&d!==c.max&&(e.setExtremes(r,d,!1,!1,{trigger:"pan"}),i=!0),s[a]=o})),i&&s.redraw(!1),o(s.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var i=this,s=i.series,a=s.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,s.options.data[u(i,s.data)]=i.options,i.setState(t&&"select"),e||l(a.getSelectedPoints(),(function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,s.options.data[u(t,s.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))}))}))},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],(function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,s=f(e.series.options.point,e.options).events;e.events=s,t.objectEach(s,(function(t,s){i(e,s,t)})),this.hasImportedEvents=!0}},setState:function(t,e){var i,s=Math.floor(this.plotX),a=this.plotY,o=this.series,r=o.options.states[t||"normal"]||{},l=n[o.type].marker&&o.options.marker,h=l&&!1===l.enabled,u=l&&l.states&&l.states[t||"normal"]||{},p=!1===u.enabled,m=o.stateMarkerGraphic,f=this.marker||{},v=o.chart,y=o.halo,b=l&&o.markerAttribs;t=t||"",t===this.state&&!e||this.selected&&"select"!==t||!1===r.enabled||t&&(p||h&&!1===u.enabled)||t&&f.states&&f.states[t]&&!1===f.states[t].enabled||(b&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),g(v.options.chart.animation,r.animation)),i&&this.graphic.animate(i,g(v.options.chart.animation,u.animation,l.animation)),m&&m.hide()):(t&&u&&(l=f.symbol||o.symbol,m&&m.currentSymbol!==l&&(m=m.destroy()),m?m[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(o.stateMarkerGraphic=m=v.renderer.symbol(l,i.x,i.y,i.width,i.height).add(o.markerGroup),m.currentSymbol=l),m&&m.attr(o.pointAttribs(this,t))),m&&(m[t&&v.isInsidePlot(s,a,v.inverted)?"show":"hide"](),m.element.point=this)),(s=r.halo)&&s.size?(y||(o.halo=y=v.renderer.path().add((this.graphic||m).parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(s.size)}),y.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),y.point=this,y.attr(c({fill:this.color||o.color,"fill-opacity":s.opacity},s.attributes))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)},null,y.hide),this.state=t,d(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&d(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,s=e.graph,a=i.states,o=i.lineWidth;i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],(function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))})),e.state=t,!a[t]||!1!==a[t].enabled)&&(t&&(o=a[t].lineWidth||o+(a[t].lineWidthPlus||0)),s&&!s.dashstyle))for(o={"stroke-width":o},s.animate(o,g(a[t||"normal"]&&a[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,s=this,a=s.chart,o=s.legendItem,r=a.options.chart.ignoreHiddenSeries,n=s.visible;i=(s.visible=t=s.options.visible=s.userOptions.visible=void 0===t?!n:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(t){s[t]&&s[t][i]()})),a.hoverSeries!==s&&(a.hoverPoint&&a.hoverPoint.series)!==s||s.onMouseOut(),o&&a.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&l(a.series,(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),l(s.linkedSeries,(function(e){e.setVisible(t,!1)})),r&&(a.isDirtyBox=!0),d(s,i),!1!==e&&a.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),d(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,i=t.each,s=t.inArray,a=t.isArray,o=t.isObject,r=t.pick,n=t.splat;e.prototype.setResponsive=function(e){var s=this.options.responsive,a=[],o=this.currentResponsive;s&&s.rules&&i(s.rules,(function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,a,e)}),this);var r=t.merge.apply(0,t.map(a,(function(e){return t.find(s.rules,(function(t){return t._id===e})).chartOptions})));a=a.toString()||void 0;a!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),a?(this.currentResponsive={ruleIds:a,mergedOptions:r,undoOptions:this.currentOptions(r)},this.update(r,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=r(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(i.minWidth,0)&&this.chartHeight>=r(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,r,l,c){var d;t.objectEach(e,(function(t,e){if(!c&&-1<s(e,["series","xAxis","yAxis"]))for(t=n(t),l[e]=[],d=0;d<t.length;d++)r[e][d]&&(l[e][d]={},i(t[d],r[e][d],l[e][d],c+1));else o(t)?(l[e]=a(t)?[]:{},i(t,r[e]||{},l[e],c+1)):l[e]=r[e]||null}))}var r={};return i(e,this.options,r,0),r}}(e),e}))},function(t,e){var i,s,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(s===clearTimeout)return clearTimeout(t);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{return s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:o}catch(t){i=o}try{s="function"===typeof clearTimeout?clearTimeout:r}catch(t){s=r}})();var c,d=[],h=!1,u=-1;function p(){h&&c&&(h=!1,c.length?d=c.concat(d):u=-1,d.length&&m())}function m(){if(!h){var t=n(p);h=!0;var e=d.length;while(e){c=d,d=[];while(++u<e)c&&c[u].run();u=-1,e=d.length}c=null,h=!1,l(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new f(t,e)),1!==d.length||h||n(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){t.exports=function(t,e,i,s){var a,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(a=t,o=t.default);var n="function"===typeof o?o.options:o;if(e&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns),i&&(n._scopeId=i),s){var l=n.computed||(n.computed={});Object.keys(s).forEach((function(t){var e=s[t];l[t]=function(){return e}}))}return{esModule:a,exports:o,options:n}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classname,style:t.styles})},staticRenderFns:[]}}])}))},"61a4":function(t,e,i){},"61cf":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t.showWorkspaceRepository?[e("WorkspaceList",{model:{value:t.workspaceId,callback:function(e){t.workspaceId=e},expression:"workspaceId"}}),e("RepositoryList",{attrs:{"workspace-id":t.workspaceId},model:{value:t.repositoryId,callback:function(e){t.repositoryId=e},expression:"repositoryId"}})]:t._e(),e("div",{class:[{"is-dragging":t.isDragging},{"is-indexing":t.tabIndexing}],attrs:{id:"dropzone"}},[e("div",{staticClass:"hint"},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"128px","inherit-color":""}}),e("div",{staticClass:"title"},[t._v("Drag & Drop your files here to upload")]),e("div",{staticClass:"description"},[t._v(" Simply dragging and dropping them from the user's computer or device onto a designated area on the screen ")]),e("OrDivider",{staticClass:"full-width"}),t.tabIndexing?e("BaseButton",{attrs:{icon:"eva-plus",label:"Add more files"}}):e("BaseButton",{attrs:{label:"browse files"}})],1),e("input",{ref:"dropzone",attrs:{type:"file",multiple:t.hasMultiple},on:{dragenter:function(e){t.isDragging=!0},dragleave:function(e){t.isDragging=!1},drop:function(e){t.isDragging=!1},change:t.handleChange}})])],2)},a=[],o=(i("caad"),i("14d9"),i("42dc")),r=i("dc7a"),n=i("9c79"),l=i("2f62"),c=i("dd90"),d={name:"Dropzone",components:{WorkspaceList:o["a"],RepositoryList:r["a"],OrDivider:n["a"]},props:{workspaceId:{type:Number,required:!0},repositoryId:{type:Number,required:!0},hasMultiple:{type:Boolean,default:!0},showWorkspaceRepository:{type:Boolean,default:!0},tabIndexing:{type:Boolean,default:!1}},data(){return{isDragging:!1}},computed:{...Object(l["c"])(["session"]),fileSizeLimit(){return this.session.license,52428800}},methods:{handleChange(t){const e=t.target.files,i=[],s=["exe"];if(e.length){for(let t of e){if(t.size>this.fileSizeLimit)return void this.$alert.warning(t.name+" - Maximum file size exceeded");const e=t.name.split(".").reverse()[0];if(s.includes(e))return void this.$alert.warning(t.name+" - Invalid file type");if(!Object(c["a"])(e))return void this.$alert.warning(t.name+" - Invalid file type");i.push({id:this.$nano.id(),name:t.name,type:e.slice(0,4),size:t.size,createdAt:"",status:"UPLOADING",file:t,uploadedPercentage:0})}this.$refs.dropzone.value="",this.$emit("upload",i)}}}},h=d,u=(i("9495"),i("2877")),p=Object(u["a"])(h,s,a,!1,null,"dc127c58",null);e["a"]=p.exports},6216:function(t,e,i){},"626d":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{value:t.value,"is-header":!1,"has-footer":!0,width:"60vw",height:"80vh"},on:{input:function(e){return t.$emit("input")}},scopedSlots:t._u([{key:"default",fn:function(){return[t.summarizeView?[e("div",{staticClass:"footer-modal q-pa-sm"},[e("BaseIcon",{attrs:{name:"mdi-creation",color:"secondary"}}),e("span",{staticClass:"footer-text"},[t._v("Recommended Action:")]),t._v(" "+t._s(t.summarizingData.description)+" ")],1),e("div",{staticClass:"q-pt-md"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 320px)"}},[e("table",[e("tbody",[t._l(t.summarizingData.data,(function(i,s){return["string"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(t._s(i))])])]:"object"===typeof i?[Array.isArray(i)?[e("tr",{key:s},[e("td",{staticClass:"tablekey",staticStyle:{color:"#643094"},attrs:{colspan:"2"}},[t._v(" "+t._s(s)+" ")])]),e("tr",{key:s},[e("td",{attrs:{colspan:"2"}},[e("table",{staticClass:"sub-table"},[e("thead",[e("tr",t._l(i[0],(function(i,s){return e("th",{key:s,staticClass:"tablevalue",staticStyle:{color:"#00bcd4"}},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(i,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s,staticClass:"tablevalue"},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])])]:[e("tr",{key:s},[e("td",{staticClass:"tablekey",staticStyle:{color:"#643094"},attrs:{colspan:"2"}},[t._v(" "+t._s(s)+" ")])]),t._l(i,(function(i,s){return["string"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(t._s(i))])])]:"object"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey",staticStyle:{color:"#f49d3a"},attrs:{colspan:"2"}},[t._v(" "+t._s(s)+" ")])]),t._l(i,(function(i,s){return["string"===typeof i?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(" "+t._s(i)+" ")])])]:t._e()]}))]:"array"===typeof i?[e("tr",{key:s},[e("td",{attrs:{colspan:"2"}},[t._v(t._s(s))])]),t._l(i,(function(i,s){return["string"===typeof t.objectvalueobject?[e("tr",{key:s},[e("td",{staticClass:"tablekey"},[t._v(t._s(s))]),e("td",{staticClass:"tablevalue"},[t._v(" "+t._s(i)+" ")])])]:t._e()]}))]:t._e()]}))]]:t._e()]}))],2)])])],1)]:[e("div",{staticClass:"htmlElement",domProps:{innerHTML:t._s(t.summarizingData)}})]]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close"},on:{click:function(e){return t.$emit("input",!1)}}})]},proxy:!0}])})},a=[],o=i("6a70"),r=i("1b0d"),n={name:"Summarize",components:{Modal:o["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},itemid:{type:Number,default:0},transactionId:{type:Number,default:0},workflowId:{type:Number,default:0},processId:{type:Number,default:0},page:{type:String,default:""}},data(){return{summarizingData:"",summarizeView:!1}},watch:{value:{immediate:!0,handler(){this.value&&("REPOSITORY"===this.page?this.documentSummarize():"WORKFLOW"===this.page&&this.workflowRecommendation())}}},methods:{async documentSummarize(){this.$store.commit("showLoadingBarSave");const{error:t,payload:e}=await r["p"].getSummary(this.repositoryId,this.itemid);if(this.$store.commit("hideLoadingBarSave"),t)this.$alert.error(t);else if(e)try{this.summarizingData=JSON.parse(e.output),this.summarizeView=!0}catch(i){console.log(i),this.summarizeView=!1,this.summarizingData=e.output.replace(new RegExp("<title>","g"),'<title class="heading" style="display:block">').replace(new RegExp("<h1>","g"),'<h6 class="heading">').replace(new RegExp("<h2>","g"),'<h6 class="heading2">').replace(new RegExp("<table>","g"),'<table class="custom-table-style">').replace(new RegExp("<p>","g"),'<p style="margin-top:20px">')}},async workflowRecommendation(){this.$store.commit("showLoadingBarSave");const{error:t,payload:e}=await r["t"].getWorkflowRecommendation(this.workflowId,this.processId,this.transactionId);if(this.$store.commit("hideLoadingBarSave"),t)this.$alert.error(t);else if(e)try{this.summarizingData=JSON.parse(e.output),this.summarizeView=!0}catch(i){console.log(i),this.summarizeView=!1,this.summarizingData=e.replace(new RegExp("<title>","g"),'<title class="heading" style="display:block">').replace(new RegExp("<h1>","g"),'<h6 class="heading">').replace(new RegExp("<h2>","g"),'<h6 class="heading2">').replace(new RegExp("<table>","g"),'<table class="custom-table-style">').replace(new RegExp("<p>","g"),'<p style="margin-top:20px">')}}}},l=n,c=(i("3595"),i("e864"),i("2877")),d=Object(c["a"])(l,s,a,!1,null,"85a6110e",null);e["a"]=d.exports},"62f0":function(t,e,i){},"64ab":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"tip-tap-editor"}},[e("Toolbar",{attrs:{"hide-tool-bar":t.hideToolBar,"form-columns":t.formColumns},on:{"set-heading":t.setHeading,"unset-heading":t.unsetHeading,"toggle-alignment":t.toggleAlignment,"toggle-bold":t.toggleBold,"toggle-italic":t.toggleItalic,"toggle-underline":t.toggleUnderline,"toggle-bullet-list":t.toggleBulletList,"toggle-number-list":t.toggleNumberList,"increase-indent":t.increaseIndent,"decrease-indent":t.decreaseIndent,"set-text-color":t.setTextColor,"unset-text-color":t.unsetTextColor,"set-bg-color":t.setBgColor,"unset-bg-color":t.unsetBgColor,undo:t.undo,redo:t.redo,"set-link":t.setLink,"add-field":t.addField}}),e("EditorContent",{attrs:{editor:t.editor}})],1)},a=[],o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"toolbar"}},[e("AddField",{attrs:{"form-columns":t.formColumns},on:{click:t.addField}}),t.hideToolBar?[e("Heading",{on:{set:t.setHeading,unset:t.unsetHeading}}),e("Alignment",{on:{toggle:t.toggleAlignment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"bold",expression:"'bold'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-bold"},on:{click:t.toggleBold}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"italic",expression:"'italic'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-italic"},on:{click:t.toggleItalic}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"underline",expression:"'underline'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-underline"},on:{click:t.toggleUnderline}}),e("List",{on:{bullet:t.toggleBulletList,number:t.toggleNumberList}}),e("Indent",{on:{increase:t.increaseIndent,decrease:t.decreaseIndent}}),e("TextColor",{on:{set:t.setTextColor,unset:t.unsetTextColor}}),e("BackgroundColor",{on:{set:t.setBgColor,unset:t.unsetBgColor}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"undo",expression:"'undo'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-undo"},on:{click:t.undo}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"redo",expression:"'redo'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-redo"},on:{click:t.redo}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"link",expression:"'link'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-link-2-outline"},on:{click:t.setLink}})]:t._e()],2)},r=[],n=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"heading",expression:"'heading'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-size"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.headings,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"heading.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.handleClick(i.level)}}})})),1)],1)},l=[],c={name:"Heading",data(){return{headings:[{id:this.$nano.id(),label:"heading 1",icon:"mdi-format-header-1",level:1},{id:this.$nano.id(),label:"heading 2",icon:"mdi-format-header-2",level:2},{id:this.$nano.id(),label:"heading 3",icon:"mdi-format-header-3",level:3},{id:this.$nano.id(),label:"heading 4",icon:"mdi-format-header-4",level:4},{id:this.$nano.id(),label:"heading 5",icon:"mdi-format-header-5",level:5},{id:this.$nano.id(),label:"heading 6",icon:"mdi-format-header-6",level:6},{id:this.$nano.id(),label:"normal",icon:"mdi-format-paragraph",level:0}]}},methods:{handleClick(t){t?this.$emit("set",t):this.$emit("unset")}}},d=c,h=i("2877"),u=i("4e73"),p=i("93dc"),m=i.n(p),f=Object(h["a"])(d,n,l,!1,null,"5b56e398",null),g=f.exports;m()(f,"components",{QMenu:u["a"]});var v=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"alignment",expression:"'alignment'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-align-center"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.alignments,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"alignment.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.$emit("toggle",i.label)}}})})),1)],1)},y=[],b={name:"Alignment",data(){return{alignments:[{id:this.$nano.id(),label:"left",icon:"mdi-format-align-left"},{id:this.$nano.id(),label:"center",icon:"mdi-format-align-center"},{id:this.$nano.id(),label:"right",icon:"mdi-format-align-right"},{id:this.$nano.id(),label:"justify",icon:"mdi-format-align-justify"}]}}},x=b,w=Object(h["a"])(x,v,y,!1,null,"4a6ff39e",null),k=w.exports;m()(w,"components",{QMenu:u["a"]});var C=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"list",expression:"'list'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-list-bulleted-square"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.lists,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"list.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.$emit(i.value)}}})})),1)],1)},S=[],A={name:"List",data(){return{lists:[{id:this.$nano.id(),label:"bullet list",icon:"mdi-format-list-bulleted",value:"bullet"},{id:this.$nano.id(),label:"number list",icon:"mdi-format-list-numbered",value:"number"}]}}},I=A,T=Object(h["a"])(I,C,S,!1,null,"6f405cc2",null),L=T.exports;m()(T,"components",{QMenu:u["a"]});var P=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"indent",expression:"'indent'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-format-indent-increase"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"transition-show":"scale","transition-hide":"scale"}},t._l(t.indents,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:i.label,expression:"indent.label",modifiers:{right:!0}}],key:i.id,staticClass:"q-ma-sm",attrs:{"is-flat":"",icon:i.icon},on:{click:function(e){return t.$emit(i.value)}}})})),1)],1)},_=[],M={name:"Indent",data(){return{indents:[{id:this.$nano.id(),label:"increase indent",icon:"mdi-format-indent-increase",value:"increase"},{id:this.$nano.id(),label:"decrease indent",icon:"mdi-format-indent-decrease",value:"decrease"}]}}},F=M,D=Object(h["a"])(F,P,_,!1,null,"fd1a0bc6",null),B=D.exports;m()(D,"components",{QMenu:u["a"]});var O=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"text color",expression:"'text color'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"format_color_text"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"auto-close":"","transition-show":"scale","transition-hide":"scale"}},[e("div",{attrs:{id:"colors"}},t._l(t.colors,(function(i){return e("div",{key:i.id,staticClass:"color",style:{backgroundColor:i.value},on:{click:function(e){return t.handleInput(i)}}},[t.activeColor===i.value?e("BaseIcon",{attrs:{name:"eva-checkmark",color:"white"}}):t._e()],1)})),0)])],1)},E=[],N={name:"TextColor",data(){return{colors:[{id:this.$nano.id(),label:"primary",value:"#643094"},{id:this.$nano.id(),label:"secondary",value:"#00bcd4"},{id:this.$nano.id(),label:"red",value:"#f44336"},{id:this.$nano.id(),label:"pink",value:"#e91e63"},{id:this.$nano.id(),label:"purple",value:"#9c27b0"},{id:this.$nano.id(),label:"deep-purple",value:"#673ab7"},{id:this.$nano.id(),label:"indigo",value:"#3f51b5"},{id:this.$nano.id(),label:"blue",value:"#2196f3"},{id:this.$nano.id(),label:"teal",value:"#009688"},{id:this.$nano.id(),label:"green",value:"#4caf50"},{id:this.$nano.id(),label:"light-green",value:"#8bc34a"},{id:this.$nano.id(),label:"lime",value:"#cddc39"},{id:this.$nano.id(),label:"amber",value:"#ffc107"},{id:this.$nano.id(),label:"orange",value:"#ff9800"},{id:this.$nano.id(),label:"deep-orange",value:"#ff5722"},{id:this.$nano.id(),label:"brown",value:"#795548"},{id:this.$nano.id(),label:"gray",value:"#64748b"},{id:this.$nano.id(),label:"none",value:""}],activeColor:""}},methods:{handleInput(t){this.activeColor=t.value,"none"!==t.label?this.$emit("set",t.value):this.$emit("unset")}}},$=N,R=(i("718c"),Object(h["a"])($,O,E,!1,null,"781fdde1",null)),z=R.exports;m()(R,"components",{QMenu:u["a"]});var q=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"background color",expression:"'background color'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-color-palette-outline"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],"auto-close":"","transition-show":"scale","transition-hide":"scale"}},[e("div",{attrs:{id:"colors"}},t._l(t.colors,(function(i){return e("div",{key:i.id,staticClass:"color",style:{backgroundColor:i.value},on:{click:function(e){return t.handleInput(i)}}},[t.activeColor===i.value?e("BaseIcon",{attrs:{name:"eva-checkmark",color:"white"}}):t._e()],1)})),0)])],1)},V=[],j={name:"BackgroundColor",data(){return{colors:[{id:this.$nano.id(),label:"primary",value:"#dec2e7"},{id:this.$nano.id(),label:"secondary",value:"#b2ebf2"},{id:this.$nano.id(),label:"red",value:"#ffcdd2"},{id:this.$nano.id(),label:"pink",value:"#f8bbd0"},{id:this.$nano.id(),label:"purple",value:"#e1bee7"},{id:this.$nano.id(),label:"deep-purple",value:"#d1c4e9"},{id:this.$nano.id(),label:"indigo",value:"#c5cae9"},{id:this.$nano.id(),label:"blue",value:"#bbdefb"},{id:this.$nano.id(),label:"teal",value:"#b2dfdb"},{id:this.$nano.id(),label:"green",value:"#c8e6c9"},{id:this.$nano.id(),label:"lime",value:"#f0f4c3"},{id:this.$nano.id(),label:"amber",value:"#ffecb3"},{id:this.$nano.id(),label:"orange",value:"#ffe0b2"},{id:this.$nano.id(),label:"deep-orange",value:"#ffccbc"},{id:this.$nano.id(),label:"brown",value:"#d7ccc8"},{id:this.$nano.id(),label:"none",value:""}],activeColor:""}},methods:{handleInput(t){this.activeColor=t.value,"none"!==t.label?this.$emit("set",t.value):this.$emit("unset")}}},W=j,H=(i("e21c"),Object(h["a"])(W,q,V,!1,null,"6647f5ea",null)),X=H.exports;m()(H,"components",{QMenu:u["a"]});var Y=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"add field",expression:"'add field'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-plus"}},[e("q-menu",{attrs:{anchor:"bottom middle",self:"top middle","transition-show":"scale","transition-hide":"scale"}},[e("div",{staticClass:"row border"},[e("div",{staticClass:"title-3 q-pa-xs col-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Search",autofocus:""},domProps:{value:t.searchColumns},on:{keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})])]),e("BaseScrollbar",{attrs:{height:"200px"}},t._l(t.fields,(function(i){return e("ListItem",{key:i.id,staticClass:"text-capitalize",class:i.display,attrs:{label:i.label,color:i.color},on:{click:function(e){return t.$emit("click",i)}}})})),1)],1)],1)},G=[],U=(i("14d9"),i("caad"),i("cade")),J={name:"AddField",components:{ListItem:U["a"]},props:{formColumns:{type:Array,default:()=>[]}},data(){return{fields:[],searchColumns:""}},watch:{formColumns:{immediate:!0,handler(){this.formColumns.length&&this.formColumns.forEach(t=>{this.fields.push({id:this.$nano.id(),label:t.label,value:t.hasDefault?t.value:`#F#${t.label}#F#`,display:"",color:t.hasDefault?t.color:"#00bcd4"})})}}},methods:{searchColumnList(t){this.fields.forEach(e=>{e.display="",t&&(e.label.toLowerCase().includes(t.toLowerCase())||(e.display="hide"))})}}},K=J,Z=(i("ea98"),Object(h["a"])(K,Y,G,!1,null,"42d457c1",null)),Q=Z.exports;m()(Z,"components",{QMenu:u["a"]});var tt={name:"Toolbar",components:{Heading:g,Alignment:k,List:L,Indent:B,TextColor:z,BackgroundColor:X,AddField:Q},props:{hideToolBar:{type:Boolean,default:!1},formColumns:{type:Array,default:()=>[]}},methods:{setHeading(t){this.$emit("set-heading",t)},unsetHeading(){this.$emit("unset-heading")},toggleAlignment(t){this.$emit("toggle-alignment",t)},toggleBold(){this.$emit("toggle-bold")},toggleItalic(){this.$emit("toggle-italic")},toggleUnderline(){this.$emit("toggle-underline")},toggleBulletList(){this.$emit("toggle-bullet-list")},toggleNumberList(){this.$emit("toggle-number-list")},increaseIndent(){this.$emit("increase-indent")},decreaseIndent(){this.$emit("decrease-indent")},setTextColor(t){this.$emit("set-text-color",t)},unsetTextColor(){this.$emit("unset-text-color")},setBgColor(t){this.$emit("set-bg-color",t)},unsetBgColor(){this.$emit("unset-bg-color")},undo(){this.$emit("undo")},redo(){this.$emit("redo")},setLink(){this.$emit("set-link")},addField(t){this.$emit("add-field",t)}}},et=tt,it=(i("8829"),Object(h["a"])(et,o,r,!1,null,"10d390a9",null)),st=it.exports,at=i("1ab4"),ot=i("672a"),rt=i("3560"),nt=i("cc86"),lt=i("97a2"),ct=i("58e6"),dt=i("e8d8"),ht=i("9751"),ut=i("795d"),pt=i("9980"),mt=function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"field-placeholder-wrapper"},[e("div",{attrs:{id:"field-placeholder"}},[e("div",{staticClass:"field"},[t._v(" "+t._s(t.node.attrs.fieldType)+" ")]),e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-close",color:"red"},on:{click:t.deleteNode}})],1)])},ft=[],gt={name:"FieldPlaceholder",components:{NodeViewWrapper:at["c"]},props:at["e"]},vt=gt,yt=(i("2f12"),Object(h["a"])(vt,mt,ft,!1,null,"f6682294",null)),bt=yt.exports,xt=pt["d"].create({name:"FieldPlaceholder",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{fieldType:{type:String,required:!0}}},parseHTML(){return[{tag:"FieldPlaceholder"}]},renderHTML({HTMLAttributes:t}){return["FieldPlaceholder",Object(pt["r"])(t)]},addNodeView(){return Object(at["d"])(bt)}}),wt=i("dce4"),kt={name:"TextEditor",components:{Toolbar:st,EditorContent:at["b"]},props:{value:{type:Object,required:!0},field:{type:Object,default:()=>{}},hideToolBar:{type:Boolean,default:!0},formColumns:{type:Array,default:()=>[]}},data(){return{editor:null,textContent:""}},watch:{editor:{deep:!0,handler(){if(this.value){const e=new DOMParser,i=e.parseFromString(this.editor.getHTML(),"text/html");var t="";i.body.childNodes.forEach(e=>{let i=e.outerHTML.replace(new RegExp('"></fieldplaceholder>',"g"),""),s=i.split('<fieldplaceholder fieldtype="');t+=s.join("")});let s={text:this.editor.getHTML(),content:t};this.$emit("input",s)}}}},created(){this.initiateEditor()},beforeDestroy(){this.editor.destroy()},methods:{initiateEditor(){this.editor=new at["a"]({content:this.value.text,extensions:[ot["a"],rt["a"],nt["a"],lt["a"].configure({types:["heading","paragraph"]}),ct["a"],dt["a"],ht["a"].configure({multicolor:!0}),ut["a"].configure({placeholder:"Start typing …"}),xt,Text,wt["b"]]})},setHeading(t){this.editor.chain().focus().toggleHeading({level:t}).run()},unsetHeading(){this.editor.chain().focus().clearNodes().unsetAllMarks().run()},toggleAlignment(t){this.editor.chain().focus().setTextAlign(t).run()},toggleBold(){this.editor.chain().focus().toggleBold().run()},toggleItalic(){this.editor.chain().focus().toggleItalic().run()},toggleUnderline(){this.editor.chain().focus().toggleUnderline().run()},toggleBulletList(){this.editor.chain().focus().toggleBulletList().run()},toggleNumberList(){this.editor.chain().focus().toggleOrderedList().run()},increaseIndent(){this.editor.chain().focus().sinkListItem("listItem").run()},decreaseIndent(){this.editor.chain().focus().liftListItem("listItem").run()},undo(){this.editor.chain().focus().undo().run()},redo(){this.editor.chain().focus().redo().run()},setLink(){const t=this.editor.getAttributes("link").href,e=window.prompt("URL",t);null!==e&&(e?this.editor.chain().focus().extendMarkRange("link").setLink({href:e}).run():this.editor.chain().focus().extendMarkRange("link").unsetLink().run())},setTextColor(t){this.editor.chain().focus().setColor(t).run()},unsetTextColor(){this.editor.chain().focus().unsetColor().run()},setBgColor(t){this.editor.chain().focus().setHighlight({color:t}).run()},unsetBgColor(){this.editor.chain().focus().unsetHighlight().run()},addField(t){const e=`<FieldPlaceholder fieldId="${t.id}" fieldType="${t.value}">${t.value}</FieldPlaceholder>`;this.editor.chain().focus().insertContent(e).run()}}},Ct=kt,St=(i("74d9"),Object(h["a"])(Ct,s,a,!1,null,"b184c692",null));e["a"]=St.exports},"651a":function(t,e,i){t.exports=i.p+"img/psg-logo.20670f47.png"},"65c0":function(t,e,i){},"65c6":function(t,e,i){"use strict";var s=i("a026"),a=i("87e8"),o=i("e277");const r={role:"toolbar"};e["a"]=s["default"].extend({name:"QToolbar",mixins:[a["a"]],props:{inset:Boolean},render(t){return t("div",{staticClass:"q-toolbar row no-wrap items-center",class:this.inset?"q-toolbar--inset":null,attrs:r,on:{...this.qListeners}},Object(o["c"])(this,"default"))}})},"670a":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"toggle"}},t._l(t.options,(function(i){return e("div",{key:i,staticClass:"option",class:{"is-selected":t.value===i},on:{click:function(e){return t.$emit("input",i)}}},[t._v(" "+t._s(i)+" ")])})),0)},a=[],o={name:"Toggle",props:{value:{type:String,required:!0},options:{type:Array,required:!0}}},r=o,n=(i("fa79"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"0e83c5c2",null);e["a"]=l.exports},"686b":function(t,e,i){},"6c88":function(t,e,i){"use strict";i("5d0b")},"6e8c":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"mdi-pin-outline","icon-color":"primary"},on:{input:t.handleInput},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("UnPin")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to unpin the "),e("b",[t._v('"'+t._s(t.label)+'"')]),t._v(". If you unpin, you will not be able to use this in the dashboard. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.deleteFilter}})]},proxy:!0}])})},a=[],o=i("1c54"),r=i("1b0d"),n={name:"ConfirmDeleteRepository",components:{Confirm:o["a"]},props:{value:{type:Boolean,required:!0},deleteData:{type:Object,required:!0},label:{type:String,default:""}},methods:{handleInput(t){this.$emit("input",t)},handleNo(){this.$emit("input",!1)},async deleteFilter(){const{error:t}=await r["e"].deleteFilter(this.deleteData.id,this.deleteData);t?this.$alert.warning("error"):(this.$emit("input",!1),this.$emit("delete"),this.$alert.success("Unpinned Successfully"))}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,"88551dfe",null);e["a"]=d.exports},"6f95":function(t,e,i){},"70a9":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"async-select-field"}},[t.label?e("FormFieldLabel",{attrs:{label:t.label,"is-mandatory":t.isMandatory,tooltip:t.tooltip}}):t._e(),e("FormFieldWrapper",{ref:"wrapper",attrs:{"is-focused":t._isFocused,"is-clearable":t._isClearable,"is-readonly":t.isReadonly,"is-disabled":t.isDisabled,"has-error":!!t.error,"action-icon":"eva-chevron-down"},on:{click:t.showOptionPicker,clear:t.handleClear},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"async-select"},[t._l(t.value,(function(i,s){return e("div",{key:i,staticClass:"chip"},[e("div",{staticClass:"q-mr-xs"},[t._v(t._s(i))]),e("BaseIcon",{attrs:{name:"eva-close"},on:{click:function(e){return e.stopPropagation(),t.removeOption(s)}}})],1)})),e("div",{staticClass:"col search-query"},[e("input",{ref:"searchQuery",attrs:{type:"text",placeholder:t._placeholder},domProps:{value:t.searchQuery},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},input:t.debouncedInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeypress.apply(null,arguments)}}})])],2),e("q-menu",{attrs:{target:t.$refs.wrapper,fit:"","no-focus":"","no-refocus":"","no-parent-event":"","transition-show":"scale","transition-hide":"scale"},model:{value:t.optionPicker,callback:function(e){t.optionPicker=e},expression:"optionPicker"}},[e("OptionPicker",{attrs:{"is-multiple":"",value:t.value,options:t._options,"new-option":t.newOption},on:{select:t.handleSelect,loadMore:t.getOptions}})],1)]},proxy:!0},{key:"action",fn:function(){return[t.isLoading?e("q-spinner",{staticClass:"q-mr-sm",attrs:{color:"secondary",size:"20px"}}):t._e()]},proxy:!0}])}),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e()],1)},a=[],o=(i("caad"),i("14d9"),i("3445")),r=i("0f01"),n=i("e683"),l=i("29db"),c=i("0d5e"),d=i("9996"),h=i("32e8"),u=i("5c8a"),p=i("85b1"),m={name:"AsyncMultiSelectField",components:{FormFieldLabel:o["a"],FormFieldWrapper:r["a"],FormFieldError:n["a"],OptionPicker:l["a"]},props:{value:{type:Array,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:""},isMandatory:{type:Boolean,default:!1},tooltip:{type:String,default:""},isDisabled:{type:Boolean,default:!1},isReadonly:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},error:{type:String,default:""},newOption:{type:Boolean,default:!1},apiPath:{type:String,default:""},columnName:{type:String,default:""}},data(){return{isFocused:!1,optionPicker:!1,searchQuery:"",options:[],isLoading:!1,optionsCount:0,optionsClone:[]}},computed:{_placeholder(){if(!this.value.length)return this.placeholder||"Select"},_isFocused(){return this.isFocused||this.optionPicker},_isClearable(){return this.isClearable&&!!this.value.length},_options(){return this.searchQuery?this.optionsClone.filter(t=>Object(d["a"])(t).includes(Object(d["a"])(this.searchQuery))):this.optionsClone}},watch:{options:{immediate:!0,deep:!0,handler(){Object(h["a"])(this.options,this.optionsClone)||(this.optionsClone=Object(u["a"])(this.options))}},optionPicker(){this.optionPicker||(this.searchQuery="")},columnName(){this.columnName&&(this.options=[],this.getOptions())}},created(){this.getOptions()},methods:{showOptionPicker(){this.optionPicker=!0},handleChange(t){this.searchQuery=t.target.value},handleSelect(t){const e=[...this.value],i=e.findIndex(e=>e===t);-1===i?e.push(t):e.splice(i,1),this.$emit("input",e),this.searchQuery=""},removeOption(t){const e=[...this.value];e.splice(t,1),this.$emit("input",e)},handleKeypress(){this.searchQuery&&this.newOption&&(this.handleSelect(this.searchQuery),this.$refs.searchQuery.blur())},handleClear(){this.$emit("input",[])},debouncedInput:Object(p["a"])((function(t){this.searchQuery=t.target.value}),500),async getOptions(){try{let t="";t=this.label?this.label:"object"===typeof this.columnName?this.columnName[0]:this.columnName;const e=await c["b"].post(this.apiPath,JSON.stringify({column:t,keyword:this.searchQuery,rowFrom:this.options.length||0,rowCount:this.options.length+10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);this.options.push(...a)}catch(t){console.error(t),this.$alert.error("Error fetching options")}},loadMoreOptions(){}}},f=m,g=(i("c187"),i("2877")),v=i("4e73"),y=i("0d59"),b=i("93dc"),x=i.n(b),w=Object(g["a"])(f,s,a,!1,null,"b0cc9a00",null);e["a"]=w.exports;x()(w,"components",{QMenu:v["a"],QSpinner:y["a"]})},7104:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":"",width:"100vw"},on:{input:t.closeFileSheet},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{attrs:{id:"file"}},[t.menuActions?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"files",expression:"'files'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"eva-menu-2"},on:{click:function(e){return t.$emit("show-files")}}}):t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.type}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.file.name)+" "),2===t.file.checkinStatus?e("q-chip",{staticClass:"chips red-hover ellipsis",staticStyle:{height:"20px","font-size":"12px"},attrs:{color:"red","text-color":"white"}},[t._v(" Readonly ")]):t._e()],1),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.file.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.file.createdBy))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("File Size: "+t._s(t.fileSize))])],1)])],1)]},proxy:!0},t.menuActions?{key:"actions",fn:function(){return[t.checkTenant?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Data Extraction",expression:"'Data Extraction'",modifiers:{top:!0}}],staticClass:"q-ml-xs btnColor",attrs:{icon:"mdi-creation",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){t.summarizeModal=!0}}}):t._e(),e("div",{staticClass:"row q-mr-sm"},[2===t.file.checkinStatus&&t.file.checkinBy===t.$store.state.session.email?e("q-chip",{staticClass:"chips ellipsis",staticStyle:{height:"25px"},attrs:{outline:"",color:"orange",clickable:""},on:{click:function(e){return t.showCheckinUploadFile(t.file)}}},[e("q-avatar",{attrs:{icon:"mdi-file-upload-outline",color:"orange","text-color":"white"}}),t._v(" CheckIn ")],1):t._e()],1),t.isSignProcessFound&&0===t.file.checkinStatus?e("div",{staticClass:"row q-mr-sm"},[e("q-chip",{staticClass:"chips ellipsis",staticStyle:{height:"25px"},attrs:{outline:"",color:"primary",clickable:""},on:{click:t.checkSignProcess}},[e("q-avatar",{attrs:{icon:"mdi-file-outline",color:"primary","text-color":"white"}}),t._v(" Request for Sign ")],1)],1):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},t._l(t.actionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label,visible:i.visible,disabled:i.disable,"sub-list":i.subMenu||[]},on:{click:function(e){return t.updateColumns(i)},subListAction:t.checkWorkflow}})})),1)],1)],1)]},proxy:!0}:null],null,!0)},[e("div",{attrs:{id:"content-wrapper"}},[t.menuActions?e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})]):t._e(),t.documentEdit?t._e():e("div",{staticClass:"aside"},[e("div",{staticClass:"action-bar"},[e("Tabs",{attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}})],1),t.loadingBar?e("BaseLoadingBarSheet"):t._e(),e("div",["METADATA"===t.tab?e("FileDetails",{attrs:{file:t.file,"repository-field":t.repositoryField,"file-data":t.fileData,"is-retention-required":t.menuActions,"retention-list":t.retentionList},on:{refresh:t.getFileRetentions}}):t._e(),"COMMENTS"===t.tab?e("Comments",{attrs:{"repository-id":t.file.repositoryId,"item-id":t.file.id}}):t._e(),"HISTORY"===t.tab?e("DocumentHistory",{attrs:{history:t.history},on:{get:t.getFileHistory}}):t._e()],1)],1)]),e("Password",{attrs:{value:t.showPasswordModal,header:t.selectList,"repository-id":t.file.repositoryId,"item-id":t.file.id},on:{close:function(e){t.showPasswordModal=!1}}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.file,"repository-field":t.repositoryField,"file-data":t.fileData,"edit-from-file-sheet":""},on:{close:function(e){t.showMetaDataEditModal=!1},save:t.saveMetaData}}),e("EncryptDecrypt",{attrs:{value:t.showEncryptDecryptModal,header:t.selectList},on:{close:function(e){t.showEncryptDecryptModal=!1}}}),e("HidePage",{attrs:{value:t.showHidePageModal,header:t.selectList},on:{close:function(e){t.showHidePageModal=!1}}}),e("Task",{attrs:{value:t.showTaskModal},on:{close:function(e){t.showTaskModal=!1}}}),e("Alert",{attrs:{value:t.showAlertModal},on:{close:function(e){t.showAlertModal=!1}}}),e("CheckedInOut",{attrs:{value:t.showCheckedInOutModal,header:t.selectList,file:t.file},on:{close:function(e){t.showCheckedInOutModal=!1},checkout:t.closeFileSheet,downloadFile:t.fileDownload}}),e("Delete",{attrs:{value:t.showDeleteModal,header:t.selectList,"repository-id":t.file.repositoryId,"item-id":t.file.id},on:{close:t.closeDeleteFile}}),e("AddVault",{attrs:{value:t.showAddVaultModal},on:{close:function(e){t.showAddVaultModal=!1}}}),e("EmailSharing",{attrs:{"repository-id":t.file.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("Sheet",{attrs:{width:t.formWidth,"has-footer":"","no-padding":""},on:{input:t.closeProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},t.documentSignProcess?null:{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.formId?e("div",[e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"enable-controls":t._enableControls},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1):t._e(),t.documentSignProcess?e("div",[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e()])],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.processTabs,(function(i){return["TASK"!==i.value||"TASK"===i.value&&t.addTaskEnabled?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"processTab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"upload documents",expression:"'upload documents'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-upload",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$refs.attachments.click()}}})]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.attachedFileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:t.commentsText(i),"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":t.bgCommentsColor(i)}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("File Size: "+t._s(t.attachedFileSize(t.selectedFile.size)))])],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{attrs:{id:"file-frame",src:t.attachedFileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.addTask}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),t.taskFormId?e("AddTask",{attrs:{value:t.addTaskSheet,"form-settings":t.addTaskForm.settings,panels:t.addTaskForm.panels,"secondary-panels":t.addTaskForm.secondaryPanels,"form-id":t.taskFormId,"repository-id":t.taskRepositoryId,"task-model":t.selectedTask,"document-task":!0,file:t.file,mode:t.taskMode},on:{close:function(e){t.addTaskSheet=!1},addEntry:t.addTaskEntry}}):t._e(),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Sheet",{attrs:{width:"470px","has-footer":""},on:{input:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Upload File ")]},proxy:!0},{key:"default",fn:function(){return[t.filesToUpload.length?t._e():e("Dropzone",{attrs:{"show-workspace-repository":!1,"workspace-id":Number(t.$route.query.workspaceId),"repository-id":Number(t.file.repositoryId),"has-multiple":!1},on:{upload:t.queueFilesForUpload}}),t.filesError?e("FormFieldError",{staticClass:"q-mx-md",attrs:{error:"Please upload file"}}):t._e(),t.filesToUpload.length?e("UploadingFileList",{attrs:{files:t.filesToUpload,"show-progress":t.showProgress,"show-delete-btn":t.showDeleteBtn},on:{delete:t.deleteUploadFile}}):t._e(),e("div",{staticClass:"q-px-md"},[e("ValidationObserver",{ref:"checkin"},[e("ValidationProvider",{attrs:{name:"comment",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"q-mb-lg",attrs:{label:"Purpose for checking in","is-mandatory":"",error:i[0]},model:{value:t.comments,callback:function(e){t.comments=e},expression:"comments"}})]}}])})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.uploadFile}})]},proxy:!0}]),model:{value:t.showCheckinModal,callback:function(e){t.showCheckinModal=e},expression:"showCheckinModal"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.signProcessModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Document Sign")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"field-wrapper"},[e("SingleChoiceField",{staticClass:"q-mb-lg",attrs:{label:"Signature Type","is-mandatory":"",options:t.signTypes,"options-per-line":2},model:{value:t.signType,callback:function(e){t.signType=e},expression:"signType"}}),e("SingleChoiceField",{staticClass:"q-mb-lg",attrs:{label:"Order Type","is-mandatory":"",options:t.orderTypes,"options-per-line":2},model:{value:t.orderType,callback:function(e){t.orderType=e},expression:"orderType"}})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Continue",color:"primary"},on:{click:t.openSignProcess}})]},proxy:!0}]),model:{value:t.signProcessModal,callback:function(e){t.signProcessModal=e},expression:"signProcessModal"}}),e("Summarizing",{attrs:{itemid:t.file.id,"repository-id":t.file.repositoryId,page:"REPOSITORY"},on:{input:function(e){t.summarizeModal=!1}},model:{value:t.summarizeModal,callback:function(e){t.summarizeModal=e},expression:"summarizeModal"}})],1)},a=[],o=(i("14d9"),i("a7d2")),r=i("1b0d"),n=i("381e"),l=i("fa1f"),c=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"file-details"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[e("div",{attrs:{id:"item-overview"}},[e("div",{staticClass:"version"},[t._v("Version : "+t._s(t.file.fileVersion))]),e("table",[e("tbody",[t._l(t.fileData,(function(i,s){return e("tr",{key:s+""+i.name,staticClass:"tableRow",on:{click:function(e){return t.textSearchInFile(i.value)}}},[e("td",{staticClass:"label"},[t._v(t._s(i.name))]),"TABLE"!==i.type?e("td",{staticClass:"value"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col ellipsis"},[t._t(i.name,(function(){return[t._v(" "+t._s(i.value||"-")+" ")]}),{value:i.value})],2),t.isRetentionRequired&&"DATE"===i.type&&i.value?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Notification Settings",expression:"'Notification Settings'",modifiers:{top:!0}}],staticClass:"actions",attrs:{"is-flat":"","no-border":"",icon:"eva-settings-outline",color:t.checkRetention(i.id)},on:{click:function(e){return t.showRetention(i.id)}}})],1)]:t._e()],2)]):e("td",{staticClass:"value",staticStyle:{padding:"8px"}},[t._t(i.name,(function(){return[e("BaseActionButton",{attrs:{icon:"mdi-table-large","is-flat":"","no-border":""},on:{click:function(e){return t.showTable(i.name)}}})]}))],2)])})),e("tr",{staticClass:"tableRow"},[e("td",{staticClass:"label"},[t._v("Uploaded Date")]),e("td",{staticClass:"value"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col ellipsis"},[t._v(" "+t._s(t.$day.format(t.file.createdAt))+" ")]),t.isRetentionRequired?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Notification Settings",expression:"'Notification Settings'",modifiers:{top:!0}}],staticClass:"actions",attrs:{"is-flat":"","no-border":"",icon:"eva-settings-outline",color:t.checkRetention(0)},on:{click:function(e){return t.showRetention(0)}}})],1):t._e()])])])],2)])])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableHeader))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}}),e("Sheet",{attrs:{width:"750px","has-footer":""},on:{input:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Notification Settings ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"tab-settings"}},[e("div",{staticClass:"content"},[e("div",{},[e("ValidationObserver",{ref:"retention"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"GENERAL"===t.activeTab,expression:"activeTab === 'GENERAL'"}]},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-md",attrs:{label:"name","is-mandatory":"",error:i[0]},model:{value:t.retention.name,callback:function(e){t.$set(t.retention,"name",e)},expression:"retention.name"}})]}}])})],1)]),e("SingleChoiceField",{staticClass:"q-mb-md",attrs:{"is-mandatory":"",label:"Set Notification Date","options-per-line":t.notificationDateOptions.length,options:t.notificationDateOptions},model:{value:t.notificationDate,callback:function(e){t.notificationDate=e},expression:"notificationDate"}}),"field_date"===t.notificationDate?[e("FormFieldLabel",{staticClass:"q-mb-lg",attrs:{label:t.getFieldDateLabel}}),e("BaseSeparator",{staticClass:"q-mb-md"})]:t._e(),"specific_date"===t.notificationDate?[e("FormFieldLabel",{staticClass:"q-mb-lg",attrs:{label:"Define a specific date for document notification, activating automatic reminders when the chosen date is reached.",transform:""}}),e("BaseSeparator",{staticClass:"q-mb-md"}),e("ValidationProvider",{attrs:{name:"notification date",rules:t.dateValidation},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-md",attrs:{label:"notification date","is-mandatory":"",validation:"",error:i[0]},model:{value:t.retention.actionDate,callback:function(e){t.$set(t.retention,"actionDate",e)},expression:"retention.actionDate"}})]}}],null,!1,2663690688)})]:t._e(),"future_date"===t.notificationDate?e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12"},[e("FormFieldLabel",{staticClass:"q-mb-md",attrs:{label:"Allows to schedule a future expiry date\n              based on an existing date, which prompts automatic reminders\n              when due",transform:""}}),e("BaseSeparator")],1),e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"Duration",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("CounterField",{staticClass:"q-mb-md",attrs:{label:"Duration",error:i[0]},model:{value:t.retention.duration,callback:function(e){t.$set(t.retention,"duration",e)},expression:"retention.duration"}})]}}],null,!1,3325698584)})],1),e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"Duration Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-md",attrs:{label:"Duration Type",options:t.durationTypes,error:i[0]},model:{value:t.retention.durationType,callback:function(e){t.$set(t.retention,"durationType",e)},expression:"retention.durationType"}})]}}],null,!1,1187220727)})],1)]):t._e(),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"user",rules:{required:0===t.retention.notification.group.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-m-md",attrs:{label:"users",options:t.userList,error:i[0]},model:{value:t.retention.notification.user,callback:function(e){t.$set(t.retention.notification,"user",e)},expression:"retention.notification.user"}})]}}])})],1),e("div",{staticClass:"col-6"},[e("ValidationProvider",{attrs:{name:"group",rules:{required:0===t.retention.notification.user.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-m-md",attrs:{label:"groups",options:t.groupList,error:i[0]},model:{value:t.retention.notification.group,callback:function(e){t.$set(t.retention.notification,"group",e)},expression:"retention.notification.group"}})]}}])})],1)]),t.dateError?e("FormFieldError",{attrs:{error:t.dateError}}):t._e()],2),"NOTIFICATION"===t.activeTab?[e("FormFieldLabel",{attrs:{label:"Mail Subject"}}),e("TextEditor",{staticClass:"mail-class",attrs:{"hide-tool-bar":!1,"form-columns":t.fieldColumns},model:{value:t.retention.notification.mailSubject,callback:function(e){t.$set(t.retention.notification,"mailSubject",e)},expression:"retention.notification.mailSubject"}}),e("FormFieldLabel",{staticClass:"q-my-md",attrs:{label:"Mail Content"}}),e("TextEditor",{staticClass:"mail-class",attrs:{"form-columns":t.fieldColumns},model:{value:t.retention.notification.mailBody,callback:function(e){t.$set(t.retention.notification,"mailBody",e)},expression:"retention.notification.mailBody"}})]:t._e()],2)],1)]),e("div",{staticClass:"tabs"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"q-mb-md",attrs:{"is-flat":t.activeTab!==i.value,icon:i.icon,color:t.activeTab===i.value?"primary":"gray"},on:{click:function(e){t.activeTab=i.value}}})})),1)])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.reset}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.saveRetention}})]},proxy:!0}]),model:{value:t.retentionSettings,callback:function(e){t.retentionSettings=e},expression:"retentionSettings"}})],1)},d=[],h=i("6a70"),u=i("cc77"),p=i("c3d2"),m=i("b3d1"),f=i("12b8"),g=i("7bb1"),v=i("869e"),y=i("3445"),b=i("9234"),x=i("53c1"),w=i("64ab"),k=i("e683"),C={name:"FileDetails",components:{Modal:h["a"],Sheet:n["a"],CounterField:u["a"],MultiSelectField:p["a"],TextField:m["a"],SelectField:f["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],CheckboxField:v["a"],FormFieldLabel:y["a"],TextEditor:w["a"],SingleChoiceField:b["a"],DateField:x["a"],FormFieldError:k["a"]},props:{file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},fileData:{type:Array,required:!0},isRetentionRequired:{type:Boolean,default:!1},retentionList:{type:Array,default:()=>[]}},data(){return{expandTableModal:!1,tableHeader:"",tableData:[],retentionFieldId:0,retentionSettings:!1,retention:{id:0,repositoryId:this.file.repositoryId,itemId:this.file.id,name:"",fieldId:"",duration:0,durationType:"Day",conditionJson:"",action:"",actionDate:"",notification:{duration:0,durationType:"Day",user:[],group:[],mailSubject:{text:"",content:""},mailBody:{text:"",content:""}}},durationTypes:[{id:this.$nano.id(),label:"Year",value:"Year"},{id:this.$nano.id(),label:"Month",value:"Month"},{id:this.$nano.id(),label:"Day",value:"Day"}],userList:[],groupList:[],retentionActions:[{id:this.$nano.id(),label:"No Action",value:"NO_ACTION"},{id:this.$nano.id(),label:"Hide",value:"HIDE"},{id:this.$nano.id(),label:"Move to Trash",value:"TRASH"},{id:this.$nano.id(),label:"Permanent Delete",value:"DELETE"}],notify:!0,notificationDate:"field_date",activeTab:"GENERAL",tabs:[{id:this.$nano.id(),label:"general",value:"GENERAL",icon:"mdi-tune"},{id:this.$nano.id(),label:"notification",value:"NOTIFICATION",icon:"mdi-bell-outline"}],dateError:""}},computed:{fieldColumns(){let t=[{id:this.$nano.id(),label:"Uploaded Date",value:"#UPLOADEDDATE#",display:"",color:"#643094",hasDefault:!0},{id:this.$nano.id(),label:"Uploaded By",value:"#UPLOADBY#",display:"",color:"#643094",hasDefault:!0}],e=this.repositoryField.map(t=>({id:t.id,label:t.name,value:t.id,hasDefault:!1}));return[...t,...e]},getFieldDateLabel(){if(this.retention.fieldId){let t=this.repositoryField.find(t=>t.id===this.retention.fieldId);return`Set a Document's expiry based on\n                    an ${t.name}, which triggers auto-reminders when due.`}return""},notificationDateOptions(){return this.retention.fieldId?[{id:this.$nano.id(),label:"Use Field Date",value:"field_date"},{id:this.$nano.id(),label:"Use Specific Date",value:"specific_date"},{id:this.$nano.id(),label:"Set Future Date from Field Date",value:"future_date"}]:[{id:this.$nano.id(),label:"Use Specific Date",value:"specific_date"},{id:this.$nano.id(),label:"Set Future Date from Field Date",value:"future_date"}]},dateValidation(){const t={};"specific_date"===this.notificationDate&&(t.required=!0);let e="";if(this.retention.fieldId){let t=this.fileData.find(t=>t.id===this.retention.fieldId);e=t.value}else e=this.$day.format(this.file.createdAt,!1);return e&&(t.minDate=e),t}},watch:{file:{immediate:!0,deep:!0,async handler(){this.file}},notificationDate(){this.notificationDate&&(this.dateError="")}},mounted(){this.getUserList(),this.getGroupList()},methods:{textSearchInFile(t){localStorage.setItem("findText",t)},showTable(t){let e=this.fileData.filter(e=>e.name===t);this.tableHeader=e[0].name,this.tableData=JSON.parse(e[0].value),this.expandTableModal=!0},checkRetention(t){return this.retentionList.filter(e=>e.fieldId===t).length?"orange":""},showRetention(t){this.retentionFieldId=t,this.reset();let e=this.retentionList.find(e=>e.fieldId===t);e&&(this.retention.id=e.id,this.retention.name=e.name,this.retention.duration=e.duration,this.retention.durationType=e.durationType,this.retention.action=e.action,this.retention.actionDate=e.actionDate,this.notificationDate="field_date",this.retention.duration?this.notificationDate="future_date":this.retention.actionDate&&(this.notificationDate="specific_date"),this.retention.notification=JSON.parse(e.notifyJson),e.notifyJson&&(this.notify=!0),this.retention.notification.mailSubject||(this.retention.notification.mailSubject={text:"",content:""},this.retention.notification.mailBody={text:"",content:""})),this.retention.fieldId=t,e||(this.retention.fieldId?this.notificationDate="field_date":this.notificationDate="future_date"),this.retentionSettings=!0},reset(){this.activeTab="GENERAL",this.retentionSettings=!1,this.retention.name="",this.retention.fieldId="",this.retention.action="NO_ACTION",this.retention.actionDate="",this.retention.durationType="Day",this.retention.duration=0,this.retention.notification={duration:0,durationType:"Day",user:[],group:[],mailSubject:{text:"",content:""},mailBody:{text:"",content:""}},this.dateError="",this.notify=!0},async getUserList(){const{error:t,payload:e}=await r["s"].getUserList();t?this.$alert.error("Error fetching users"):this.userList=e&&e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))},async getGroupList(){const{error:t,payload:e}=await r["i"].getGroupList();t?this.$alert.error("Error fetching groups"):this.groupList=e&&e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))},async saveRetention(){"field_date"===this.notificationDate?(this.retention.actionDate="",this.retention.duration=0,this.retention.durationType="Day"):"specific_date"===this.notificationDate?(this.retention.duration=0,this.retention.durationType="Day"):"future_date"===this.notificationDate&&(this.retention.actionDate="");let t="";if(this.retention.fieldId){let e=this.fileData.find(t=>t.id===this.retention.fieldId);t=e.value}else t=this.$day.format(this.file.createdAt,!1);let e="",i="";if("future_date"===this.notificationDate?("Day"===this.retention.durationType&&(e=this.$day.addDate(t,this.retention.duration)),"Month"===this.retention.durationType&&(e=this.$day.addMonth(t,this.retention.duration)),"Year"===this.retention.durationType&&(e=this.$day.addYear(t,this.retention.duration)),i=this.$day.isDateGreater(t,this.$day.newDate())?t:this.$day.newDate()):e="specific_date"===this.notificationDate?this.retention.actionDate:t,!(e>=this.$day.newDate()))return void("field_date"===this.notificationDate?this.dateError="Its completed date. please select any one option in two options":this.dateError=`Please select any date after (${i}) this date`);this.dateError="";const s=await this.$refs.retention.validate();if(s){if(this.notify?this.retention.notifyJson=JSON.stringify(this.retention.notification):this.retention.notifyJson="",this.$store.commit("showLoadingBar"),this.retention.id&&this.retention.fieldId===this.retentionFieldId){const{error:t}=await r["p"].updateRetention(this.retention.id,this.retention);if(t)return void this.$alert.error(t);this.$alert.success("Notification rule updated succesfully")}else{const{error:t}=await r["p"].addRetention(this.retention);if(t)return void this.$alert.error(t);this.$alert.success("Notification rule added succesfully")}this.$store.commit("hideLoadingBar"),this.$emit("refresh"),this.reset()}}}},S=C,A=(i("d2fb"),i("2877")),I=Object(A["a"])(S,c,d,!1,null,"1ffcec1e",null),T=I.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"q-pa-xs"},[e("BaseScrollbar",{staticClass:"q-pa-sm",attrs:{height:"calc(100vh - 215px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:t.commentsText(i),"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":t.bgCommentsColor(i)}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},P=[],_=i("6df3"),M=i("695e"),F={name:"FileComments",components:{TextAreaField:_["a"],TextBuilderField:M["a"],Modal:h["a"]},props:{repositoryId:{type:Number,default:0},itemId:{type:Number,default:0}},data(){return{commentText:"",commentsList:[],advancedCommentsSheet:!1,advancedCommentText:""}},created(){this.getComments()},methods:{commentsText(t){return t.processId?[`<b>${t.workflowName} : ${t.requestNo}</b><br/> ${t.comments}`]:2===t.checkinStatus?["<b>CheckOut:</b><br/> "+t.comments]:1===t.checkinStatus?["<b>CheckIn:</b><br/> "+t.comments]:[t.comments]},bgCommentsColor(t){return t.processId?"orange-1":2===t.checkinStatus?"red-1":1===t.checkinStatus?"green-1":t.createdBy===this.$store.state.session.id?"primary-1":"secondary-1"},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},async getComments(){this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["p"].getFileComments(this.repositoryId,this.itemId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e)},async saveComment(){if(this.commentText){this.$store.commit("showLoadingBar");const{error:t}=await r["p"].insertFileComments(this.repositoryId,this.itemId,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText){this.$store.commit("showLoadingBar");const{error:t}=await r["p"].insertFileComments(this.repositoryId,this.itemId,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}}}},D=F,B=(i("81e5"),i("8169")),O=i("93dc"),E=i.n(O),N=Object(A["a"])(D,L,P,!1,null,"f1ea4660",null),$=N.exports;E()(N,"components",{QChatMessage:B["a"]});var R=i("b94d"),z=i("cade"),q=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{label:"Set_Password"===t.header.id?"enter a password for to protect this file":"enter a password to remove this file protection","is-mandatory":"",tooltip:t._passwordHint,error:i[0]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])}),e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-lg",attrs:{label:"confirm password","is-mandatory":"",tooltip:t._passwordHint,error:i[0]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.updatePassword}})]},proxy:!0}])})},V=[],j=i("1c54"),W=i("8bc3"),H=i("0c6e"),X={name:"Password",components:{Confirm:j["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],PasswordField:W["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0},repositoryId:{type:Number,required:!0},itemId:{type:Number,required:!0}},data(){return{password:"",confirmPassword:""}},computed:{_passwordHint(){return H["a"]}},methods:{closeModal(){this.$emit("close",!1)},async updatePassword(){if(this.password===this.confirmPassword){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["k"].setRemoveFilePassword({repositoryId:this.repositoryId,itemId:this.itemId,password:"Set_Password"===this.header.id?this.confirmPassword:""});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);202===e.status&&("Set_Password"===this.header.id?this.$alert.success("password set successfully"):this.$alert.success("password removed successfully"),this.password="",this.confirmPassword=""),this.$emit("close",!1)}else this.$alert.warning("password not matched")}}},Y=X,G=Object(A["a"])(Y,q,V,!1,null,"5e2bad70",null),U=G.exports,J=i("ee54"),K=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-my-lg",attrs:{label:"Encrypt"===t.header.id?"enter a password for to encrypt this file":"enter a password for to decrypt this file","is-mandatory":"",error:i[0]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},Z=[],Q={name:"EncryptDecrypt",components:{Confirm:j["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextField:m["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0}},data(){return{password:""}},methods:{closeModal(){this.$emit("close",!1)}}},tt=Q,et=Object(A["a"])(tt,K,Z,!1,null,"30ac12fa",null),it=et.exports,st=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mt-lg",attrs:{label:"Pages","is-mandatory":"",error:i[0],placeholder:"enter page number like 2,3,4  or 2-5"},model:{value:t.pages,callback:function(e){t.pages=e},expression:"pages"}})]}}])}),e("div",{staticClass:"description q-mb-lg q-mt-sm"},[t._v(" Note: First page and last page cannot be hide ")])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},at=[],ot={name:"HidePage",components:{Confirm:j["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextField:m["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0}},data(){return{pages:""}},methods:{closeModal(){this.$emit("close",!1)}}},rt=ot,nt=(i("02fb"),Object(A["a"])(rt,st,at,!1,null,"7b871c5e",null)),lt=nt.exports,ct=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Task")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"task-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("div",{staticClass:"q-pa-md"},["form"===t.tab?e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"Type","is-mandatory":"",options:[],error:i[0]},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})]}}],null,!1,221057675)}),e("TextAreaField",{staticClass:"q-mb-sm",attrs:{value:t.task,label:"Task"}}),e("ValidationProvider",{attrs:{name:"start time",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{staticClass:"q-mb-sm",attrs:{value:t.startTime,label:"Start Time","is-mandatory":"",error:i[0]}})]}}],null,!1,882080563)}),e("ValidationProvider",{attrs:{name:"end time",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{staticClass:"q-mb-sm",attrs:{value:t.endTime,label:"End Time","is-mandatory":"",error:i[0]}})]}}],null,!1,384865875)}),e("ValidationProvider",{attrs:{name:"users",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"users","is-mandatory":"",options:[],error:i[0]},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})]}}],null,!1,1613393186)}),e("ValidationProvider",{attrs:{name:"priority",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"task priority","is-mandatory":"",options:t.priorityList,error:i[0]},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})]}}],null,!1,1876549040)})],1)]):t._e(),"history"===t.tab?e("div",{attrs:{id:"history"}},[[e("div",{staticClass:"entry"},[e("div",{staticClass:"header"},[t._v("1 Task Assign")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v("admin@ezofis.com")]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v("2022-May-06 09:35 PM")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Assigned" ')]),t._v(" to abc@ezofis.com ")])],1)])])]],2):t._e()],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},dt=[],ht=i("d1e5"),ut={name:"Task",components:{Sheet:n["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextAreaField:_["a"],SelectField:f["a"],DateTimeField:ht["a"],MultiSelectField:p["a"],Tabs:R["a"]},props:{value:{type:Boolean,default:!1}},data(){return{tab:"form",tabs:[{id:this.$nano.id(),label:"form",value:"form"},{id:this.$nano.id(),label:"history",value:"history"}],type:"",task:"",startTime:"",endTime:"",users:[],priority:"",priorityList:[{id:this.$nano.id(),label:"High",value:"High"},{id:this.$nano.id(),label:"Medium",value:"Medium"},{id:this.$nano.id(),label:"Low",value:"Low"}]}},methods:{closeModal(){this.$emit("close",!1)}}},pt=ut,mt=(i("21e0"),Object(A["a"])(pt,ct,dt,!1,null,"1a249f74",null)),ft=mt.exports,gt=(i("caad"),function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Alert")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"alert-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("div",{staticClass:"q-pa-md"},["form"===t.tab?e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("FormFieldLabel",{attrs:{label:"Conditions","is-mandatory":""}}),e("div",{staticClass:"options-wrapper"},[e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Checked In"),label:"Checked In"},on:{input:function(e){return t.updateValue("Checked In")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Checked Out"),label:"Checked Out"},on:{input:function(e){return t.updateValue("Checked Out")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Commented"),label:"Commented"},on:{input:function(e){return t.updateValue("Commented")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Email"),label:"Email"},on:{input:function(e){return t.updateValue("Email")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Link"),label:"Link"},on:{input:function(e){return t.updateValue("Link")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Viewed"),label:"Viewed"},on:{input:function(e){return t.updateValue("Viewed")}}})],1),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e(),e("ValidationProvider",{attrs:{name:"Alert To",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"alert to","is-mandatory":"",options:[],error:i[0]},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})]}}],null,!1,3515054549)})],1)]):t._e(),"history"===t.tab?e("div",{attrs:{id:"history"}},[[e("div",{staticClass:"entry"},[e("div",{staticClass:"header"},[t._v("2 Alerts")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v("admin@ezofis.com")]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v("2022-May-06 09:35 PM")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Checkin" ')]),t._v(" alert sent to abc@ezofis.com ")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Viewed" ')]),t._v(" alert sent to xyz@ezofis.com ")])],1)])])]],2):t._e()],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})}),vt=[],yt={name:"Alert",components:{Sheet:n["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],MultiSelectField:p["a"],FormFieldLabel:y["a"],CheckboxField:v["a"],FormFieldError:k["a"],Tabs:R["a"]},props:{value:{type:Boolean,default:!1}},data(){return{tab:"form",tabs:[{id:this.$nano.id(),label:"form",value:"form"},{id:this.$nano.id(),label:"history",value:"history"}],users:[],conditions:[],error:""}},methods:{closeModal(){this.$emit("close",!1)},updateValue(t){const e=[...this.conditions];if(e.includes(t)){const i=e.indexOf(t);e.splice(i,1)}else e.push(t);this.conditions=e}}},bt=yt,xt=(i("cccc"),Object(A["a"])(bt,gt,vt,!1,null,"67ebff79",null)),wt=xt.exports,kt=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"q-my-lg",attrs:{label:"CheckIn"===t.header.id?"Purpose for checking in":"Purpose for checking out","is-mandatory":"",error:i[0]},model:{value:t.checkInOut,callback:function(e){t.checkInOut=e},expression:"checkInOut"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.saveCheckInCheckOut}})]},proxy:!0}])})},Ct=[],St={name:"CheckedInOut",components:{Confirm:j["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],TextAreaField:_["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0},file:{type:Object,required:!0}},data(){return{checkInOut:""}},methods:{closeModal(){this.$emit("close",!1)},async saveCheckInCheckOut(){this.$store.commit("showLoadingBar");let t={comments:this.checkInOut};if("CheckOut"===this.header.label){const{error:e,payload:i}=await r["p"].fileCheckOut(this.file.repositoryId,this.file.id,t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);if(!i)return;console.log(i),this.$emit("checkout",!1),this.$emit("downloadFile","")}this.checkInOut="",this.$emit("close",!1)}}},At=St,It=Object(A["a"])(At,kt,Ct,!1,null,"3664c360",null),Tt=It.exports,Lt=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:t.header.icon||"","icon-color":"red",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){var e;return[t._v(t._s(null===(e=t.header)||void 0===e?void 0:e.label))]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to delete this "),e("span",[t._v("file")])]),e("p",[t._v("You can always restore the deleted file from the trash page.")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:t.deleteFile}})]},proxy:!0}])})},Pt=[],_t={name:"Delete",components:{Confirm:j["a"]},props:{value:{type:Boolean,default:!1},header:{type:Object,required:!0},repositoryId:{type:Number,required:!0},itemId:{type:Number,required:!0}},data(){return{}},methods:{closeModal(){this.$emit("close",!1)},async deleteFile(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["p"].fileDelete(this.repositoryId,this.itemId);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):(200===e.status&&this.$alert.success("file deleted successfully"),this.$emit("close",!1))}}},Mt=_t,Ft=Object(A["a"])(Mt,Lt,Pt,!1,null,"5663a02d",null),Dt=Ft.exports,Bt=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Protect using password")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"vault-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("div",{staticClass:"q-pa-md"},["form"===t.tab?e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("FormFieldLabel",{attrs:{label:"Requires user to enter a password for","is-mandatory":""}}),e("div",{staticClass:"options-wrapper"},[e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Viewing"),label:"Viewing"},on:{input:function(e){return t.updateValue("Viewing")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Editing"),label:"Editing"},on:{input:function(e){return t.updateValue("Editing")}}})],1),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e(),e("ValidationProvider",{attrs:{name:"password",rules:{password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-sm",attrs:{"is-mandatory":"",label:"password",value:t.password,error:i[0]}})]}}],null,!1,2834753869)}),e("ValidationProvider",{attrs:{name:"confirm password",rules:{password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-mb-sm",attrs:{"is-mandatory":"",label:"confirm password",value:t.password,error:i[0]}})]}}],null,!1,298225343)}),e("div",{staticClass:"advanced q-py-sm q-mb-sm",on:{click:function(e){t.showAdvanceOptions=!t.showAdvanceOptions}}},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"label"},[t._v("Advanced Options")]),e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-chevron-down","inherit-color":""}})],1)]),t.showAdvanceOptions?[e("FormFieldLabel",{attrs:{label:"Requires user to enter a password for","is-mandatory":""}}),e("div",{staticClass:"options-wrapper"},[e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Links"),label:"Links"},on:{input:function(e){return t.updateValue("Links")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Comments"),label:"Comments"},on:{input:function(e){return t.updateValue("Comments")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Share"),label:"Share"},on:{input:function(e){return t.updateValue("Share")}}}),e("CheckboxField",{staticClass:"q-mb-md",attrs:{value:t.conditions.includes("Task"),label:"Task"},on:{input:function(e){return t.updateValue("Task")}}})],1)]:t._e()],2)]):t._e(),"history"===t.tab?e("div",{attrs:{id:"history"}},[[e("div",{staticClass:"entry"},[e("div",{staticClass:"header"},[t._v("1 items protected")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v("admin@ezofis.com")]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v("2022-May-06 09:35 PM")])],1),e("div",{staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),e("div",[e("span",{staticClass:"font-semibold"},[t._v(' "Editing" ')]),t._v(" menu protected ")])],1)])])]],2):t._e()],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"}})]},proxy:!0}])})},Ot=[],Et={name:"AddVault",components:{Sheet:n["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],PasswordField:W["a"],FormFieldLabel:y["a"],CheckboxField:v["a"],FormFieldError:k["a"],Tabs:R["a"]},props:{value:{type:Boolean,default:!1}},data(){return{tab:"form",tabs:[{id:this.$nano.id(),label:"form",value:"form"},{id:this.$nano.id(),label:"history",value:"history"}],password:"",conditions:[],error:"",showAdvanceOptions:!1}},methods:{closeModal(){this.$emit("close",!1)}}},Nt=Et,$t=(i("297e"),Object(A["a"])(Nt,Bt,Ot,!1,null,"4b214f92",null)),Rt=$t.exports,zt=i("5e23"),qt=i("4bc4"),Vt=i("bc3a"),jt=i.n(Vt),Wt=i("0c04"),Ht=i("dd90"),Xt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"history"}},[t.history.length?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 140px)"}},t._l(t.history,(function(i){return e("div",{key:i.id,staticClass:"entry"},[e("div",{staticClass:"header"},[t._v(" "+t._s(i.activity)+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v(t._s(i.activityBy))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.activityOn))])],1)])])})),0)]:e("div",{staticClass:"no-history"},[t._v("No data found")])],2)},Yt=[],Gt={name:"DocumentHistory",props:{history:{type:Array,required:!0}},data(){return{}},created(){this.$emit("get")}},Ut=Gt,Jt=(i("5960"),Object(A["a"])(Ut,Xt,Yt,!1,null,"707cfe64",null)),Kt=Jt.exports,Zt=i("61cf"),Qt=i("1026"),te=i("2f62"),ee=i("626d"),ie={name:"FileSheet",components:{Sheet:n["a"],FileIcon:l["a"],Tabs:R["a"],FileDetails:T,Comments:$,ListItem:z["a"],Password:U,MetaDataEdit:J["a"],EncryptDecrypt:it,HidePage:lt,Task:ft,Alert:wt,CheckedInOut:Tt,Delete:Dt,AddVault:Rt,EmailSharing:zt["a"],RenderForm:qt["a"],TextAreaField:_["a"],AddTask:Wt["a"],TextBuilderField:M["a"],Modal:h["a"],DocumentHistory:Kt,Dropzone:Zt["a"],UploadingFileList:Qt["a"],ValidationObserver:g["a"],ValidationProvider:g["b"],FormFieldError:k["a"],SingleChoiceField:b["a"],Summarizing:ee["a"]},props:{value:{type:Boolean,default:!1},file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},options:{type:Object,default:()=>{}},menuActions:{type:Boolean,default:!0}},data(){return{tab:"METADATA",tabs:[{id:this.$nano.id(),label:"Metadata",value:"METADATA"},{id:this.$nano.id(),label:"Comments",value:"COMMENTS"},{id:this.$nano.id(),label:"History",value:"HISTORY"}],actionList:[{id:"Indexing_Change",key:"metadataEdit",label:"Metadata Edit",icon:"eva-edit-2-outline",visible:!0,disable:!0},{id:"Set_Password",key:"password",label:"Set Password",icon:"mdi-lock-outline",visible:!0,disable:!0},{id:"Remove_Password",key:"password",label:"Remove Password",icon:"mdi-lock-minus-outline",visible:!0,disable:!0},{id:"Add_To_Vault",key:"vault",label:"Add To Vault",icon:"mdi-eye-off-outline",visible:!0,disable:!0},{id:"Hide_Pages",key:"hidePages",label:"Hide Pages",icon:"mdi-book-open-page-variant-outline",visible:!0,disable:!0},{id:"Task",key:"task",label:"Task",icon:"mdi-send-outline",visible:!0,disable:!1},{id:"Initiate_Workflow",key:"workFlow",label:"Initiate Workflow",icon:"mdi-sitemap",subMenu:[],visible:!0,disable:!1},{id:"Alert",key:"alert",label:"Alert",icon:"mdi-file-alert-outline",visible:!0,disable:!0},{id:"CheckIn",key:"checkInAndOut",label:"CheckIn",icon:"mdi-file-upload-outline",visible:!0,disable:!0},{id:"CheckOut",key:"checkInAndOut",label:"CheckOut",icon:"mdi-file-download-outline",visible:!0,disable:!0},{id:"Delete",key:"deleteFile",label:"Delete",icon:"mdi-file-remove-outline",visible:!0,disable:!0},{id:"Email_Sharing",key:"emailSharing",label:"Email Sharing",icon:"mdi-email-outline",visible:!0,disable:!0},{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline",visible:!0,disable:!0},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline",visible:!0,disable:!0},{id:"Links",key:"links",label:"Links",icon:"mdi-link-variant",visible:!0,disable:!0}],showPasswordModal:!1,selectList:{},showMetaDataEditModal:!1,showEncryptDecryptModal:!1,showHidePageModal:!1,showTaskModal:!1,showAlertModal:!1,showCheckedInOutModal:!1,showDeleteModal:!1,showAddVaultModal:!1,emailSharingSheet:!1,selectedFileList:[],processSheet:!1,headerTitle:"",fileData:[],workflows:[],formId:"",form:{},formModel:{},workflowFormModel:{},actions:[],saveAction:"",processTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0}],attachmentSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],attachmentList:[],fileSheet:!1,selectedFile:{},taskSheet:!1,taskEntries:[],workflowInit:{},taskFormId:0,taskRepositoryId:0,addTaskForm:{},addTaskSheet:!1,taskEntryId:[],taskEntryList:[],taskMode:"",selectedTask:{},formWidth:"100vw",advancedCommentsSheet:!1,advancedCommentText:"",history:[],fileAction:"",addTaskEnabled:!1,showCheckinModal:!1,filesToUpload:[],comments:"",showProgress:!1,filesError:!1,showDeleteBtn:!0,retentionList:[],isSignProcessFound:!1,documentSignProcess:!1,signWorkflow:{},signAction:"",signProcessModal:!1,signType:0,signTypes:[{id:this.$nano.id(),label:"E-Signature",value:0},{id:this.$nano.id(),label:"Digital Signature",value:1}],orderType:0,orderTypes:[{id:this.$nano.id(),label:"Sequential",value:1},{id:this.$nano.id(),label:"Non-Sequential",value:0}],watchViewerClose:null,watchViewerEdit:null,transactionUserIds:[],signerSettings:{},summarizeModal:!1,selectedUploadFile:[],repositoryDetails:{},userList:[],documentEdit:!1}},computed:{...Object(te["c"])(["loadingBar"]),checkTenant(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"!==t&&"https://ag-appsvc05.azurewebsites.net"!==t&&"http://10.16.7.1"!==t&&"http://172.16.1.118"!==t},type(){return this.file.name?this.file.name.split(".").reverse()[0].slice(0,4):""},fileSize(){return Object(o["a"])(this.file.size)},scrollbarHeight(){const t=36*this.actionList.length;return t>216?"276px":t+58+"px"},formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){return this.formId?this.form.panels:[]},secondaryPanels(){return this.formId?this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},updatedActionList(){const t=[...this.actionList];return t.forEach(t=>{t.key in this.options&&(t.disable="true"!==this.options[t.key],"download"!==t.key||t.disable?"print"!==t.key||t.disable||(this.fileAction+=",print"):(this.fileAction="",this.fileAction+="download"))}),t},_enableControls(){let t=[],e=[];return this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}}},watch:{value:{immediate:!0,deep:!0,async handler(){if(this.file.id&&this.value){if(this.getUserList(),this.getItemDetails(),this.getFileRetentions(),this.getWorkflows(),this.isSignProcessFound=!1,this.file.name){let t=this.file.name.split(".").pop();"pdf"===t.toLowerCase()&&this.getSignWorkflow()}if(this.getFileHistory(),this.getTaskForm(),this.file.repositoryId&&this.getFolderSecurity(),this.file.hasPassword)if(this.$store.state.session.id==this.file.encryptedBy){let t=this.actionList.findIndex(t=>"Set_Password"===t.id);this.actionList[t].label="Change Password",this.actionList[1].visible=!0,this.actionList[2].visible=!0}else this.actionList[1].visible=!1,this.actionList[2].visible=!1;else this.actionList[1].visible=!0,this.actionList[2].visible=!1;let t=this.actionList.findIndex(t=>"CheckIn"===t.id),e=this.actionList.findIndex(t=>"CheckOut"===t.id);this.file.checkinStatus?2===this.file.checkinStatus&&this.file.checkinBy===this.$store.state.session.email?t>=0&&(this.actionList[t].disable=!1,this.actionList[e].disable=!0):1===this.file.checkinStatus&&this.file.checkinBy===this.$store.state.session.email&&e>=0&&(this.actionList[e].disable=!1,this.actionList[t].disable=!0):e>=0&&(this.actionList[e].disable=!1,this.actionList[t].disable=!0)}}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateWorkflow()}},options:{deep:!0,immediate:!0,handler(){this.actionList=this.updatedActionList}}},methods:{fileLink(){let t=location.origin.replace("http://localhost:8080","https://trial.ezofis.com");if(this.file.name){let e=this.file.name.split(".").pop();if(Object(Ht["d"])(e)){let i="";return this.fileAction&&(i="&action="+this.fileAction),"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}`:"https://trial.ezofis.com"!==t||Object(Ht["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}${i}`:(this.isSignProcessFound&&0===this.file.checkinStatus&&(localStorage.setItem("viewerClose",!1),localStorage.setItem("viewerEdit",!1),this.watchViewerEdit=setInterval(()=>this.checkViewerEdit(),1e3),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3)),`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}${i}`)}return Object(Ht["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.file.repositoryId}/${this.file.id}/2`:(localStorage.setItem("viewerClose",!1),localStorage.setItem("viewerEdit",!1),this.watchViewerEdit=setInterval(()=>this.checkViewerEdit(),1e3),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&type=2&filename=${this.file.name}`)}return""},closeFileSheet(){this.$emit("input",!1)},updateColumns(t){if(this.selectList={},"Set_Password"===t.id||"Remove_Password"===t.id)this.showPasswordModal=!0,this.selectList=t;else if("Indexing_Change"===t.id)this.showMetaDataEditModal=!0;else if("Encrypt"===t.id||"Decrypt"===t.id)this.showEncryptDecryptModal=!0,this.selectList=t;else if("Hide_Pages"===t.id&&this.file&&this.file.name&&this.file.name.endsWith(".pdf"))this.showHidePageModal=!0,this.selectList=t;else if("Task"===t.id)this.taskEntries.length?this.taskSheet=!0:this.addTask();else if("Alert"===t.id)this.showAlertModal=!0;else if("CheckIn"===t.id||"CheckOut"===t.id)"CheckOut"===t.id?this.showCheckedInOutModal=!0:(this.itemId=this.file.id,this.showCheckinModal=!0),this.selectList=t;else if("Delete"===t.id)this.showDeleteModal=!0,this.selectList=t;else if("Add_To_Vault"===t.id)this.showAddVaultModal=!0;else if("Email_Sharing"===t.id)this.selectedFileList=[],this.selectedFileList.push({id:this.file.id,name:this.file.name}),this.emailSharingSheet=!0;else if("Print"===t.id){if(this.file.name){let t=this.file.name.split(".").pop();Object(Ht["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.file.id)):this.$refs.myFiles.contentWindow.print()}this.filePrintSession()}else if("Initiate_Workflow"===t.id);else if("Download"===t.id){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.file.repositoryId}/${this.file.id}/2`,window.open(t,"_blank")}},closeProcessSheet(){this.processSheet=!1},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"PRINT"===t?window.print():"TASK"===t&&(this.taskEntries.length?this.taskSheet=!0:this.addTask())},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},commentsText(t){return t.processId?[`<b>${t.workflowName} : ${t.requestNo}</b><br/> ${t.comments}`]:2===t.checkinStatus?["<b>CheckOut:</b><br/> "+t.comments]:1===t.checkinStatus?["<b>CheckIn:</b><br/> "+t.comments]:[t.comments]},bgCommentsColor(t){return t.processId?"orange-1":2===t.checkinStatus?"red-1":1===t.checkinStatus?"green-1":t.createdBy===this.$store.state.session.id?"primary-1":"secondary-1"},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},openFile(t){this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},attachedFileSize(t){return Object(o["a"])(t)},attachedFileLink(){return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view?id=${this.selectedFile.id}&type=1`},closeTaskSheet(){this.taskSheet=!1},validateRequest(t){this.saveAction=t},addTask(){this.selectedTask={},this.taskMode="NEW",this.addTaskSheet=!0},addTaskEntry(t,e){this.taskEntryId.push({formId:t,formEntryId:e}),this.getTaskFormEntry(t,e)},getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},disableAction(t,e){return!!("Hide_Pages"===e.id&&t&&this.file&&this.file.name)&&!this.file.name.endsWith(".pdf")},closeDeleteFile(){this.showDeleteModal=!1,this.$emit("input",!1)},showCheckinUploadFile(t){if(2===t.checkinStatus)this.showCheckinModal=!0,console.log(t),this.itemId=t.id;else{this.showCheckedInOutModal=!0;let t=this.actionList.findIndex(t=>"CheckOut"===t.id);this.selectList=this.actionList[t]}},queueFilesForUpload(t){this.filesError=!1,this.filesToUpload.push(...t)},fileDownload(){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.file.repositoryId}/${this.file.id}/2`,window.open(t,"_blank")},reset(){this.filesToUpload=[],this.comments="",this.showCheckinModal=!1},deleteUploadFile(t){this.filesToUpload.splice(t,1)},checkSignProcess(){this.signType=0,this.orderType=1,this.signProcessModal=!0},openSignProcess(){this.signProcessModal=!1,this.actions=[];let t=JSON.parse(this.signWorkflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e&&"MANUAL"===e.settings.initiateMode){this.headerTitle=`${this.signWorkflow.name} - ${e.settings.label}`;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}localStorage.setItem("userList",JSON.stringify(this.userList)),localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),this.documentSignProcess=!0,this.processSheet=!0},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88"),e="";return e="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":"http://52.172.32.88"===t?"http://52.172.32.88/DocsViewer/index.html":t+"/PDFViewer/web/viewer.html",`${e}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.file.repositoryId}&itemId=${this.file.id}&wId=${this.signWorkflow.id}&type=2&position=true&signType=${this.signType}&orderType=${this.orderType}`},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(clearInterval(this.watchViewerClose),localStorage.removeItem("viewerClose"),this.processSheet?this.getSignerSettings():this.closeFileSheet())},checkViewerEdit(){localStorage.getItem("viewerEdit")&&"true"===localStorage.getItem("viewerEdit")&&(localStorage.removeItem("viewerEdit"),clearInterval(this.watchViewerEdit),this.documentEdit=!0)},async getUserList(){const{error:t,payload:e}=await r["s"].getUserList();t?this.$alert.error("Error fetching users"):this.userList=e&&e.map(t=>({id:t.id,value:t.value,firstName:t.firstName}))},async getItemDetails(){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["p"].getFileData({repositoryId:this.file.repositoryId,itemId:this.file.id});this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.fileData=e)},async getFileRetentions(){this.retentionList=[];const{error:t,payload:e}=await r["p"].getRetentions({sortBy:{criteria:"",order:"ASC"},groupBy:"",filterBy:[{filters:[{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.file.repositoryId},{criteria:"itemId",condition:"IS_EQUALS_TO",value:this.file.id}],groupCondition:""}],currentPage:0,itemsPerPage:0,mode:"BROWSE"});t?this.$alert.error(t):null!==e&&(this.retentionList=e&&e.map(t=>({id:t.id,name:t.name,action:t.action,actionDate:t.actionDate,fieldId:t.fieldId,durationType:t.durationType,duration:t.duration,notifyJson:t.notifyJson})))},async getWorkflows(){this.workflows=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].getWorkflows({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"initiatedBy",condition:"CONTAINS",value:"Document",dataType:""},{criteria:"flowstatus",condition:"IS_EQUALS_TO",value:"PUBLISHED",dataType:""},{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.file.repositoryId,dataType:""}],groupCondition:""}],itemsPerPage:0,currentPage:0,hasSecurity:!1});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(i[0].value.forEach(t=>{let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i&&i.settings.initiateBy.indexOf("USER")>-1){let s=!1;if((i.settings.users.indexOf(this.$store.state.session.id)>-1||i.settings.users.indexOf("0")>-1)&&(s=!0),i.settings.initiateBy.indexOf("DOMAIN_USER")>-1){let t=this.$store.state.session.email.split("@").pop();i.settings.userDomains.indexOf(t)>-1&&(s=!0)}if(s){let s="",a=e.rules.find(t=>t.fromBlockId===i.id);a&&(s=a.proceedAction),this.workflows.push({id:t.id,name:t.name,review:s,initiatedBy:t.initiatedBy,formId:t.wFormId,flowJson:t.flowJson})}}}),this.workflows.length&&this.actionList.find(t=>{"Initiate_Workflow"===t.id&&(t.subMenu=this.workflows)}))},async getSignWorkflow(){this.isSignProcessFound=!1,this.signWorkflow={},this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].getWorkflows({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"initiatedBy",condition:"CONTAINS",value:"DOCUMENT_SIGN",dataType:""},{criteria:"flowstatus",condition:"IS_EQUALS_TO",value:"PUBLISHED",dataType:""}],groupCondition:""}],itemsPerPage:0,currentPage:0,hasSecurity:!1});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.isSignProcessFound=!0,i[0].value.forEach(t=>{let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i){let s="",a=e.rules.find(t=>t.fromBlockId===i.id);a&&(s=a.proceedAction),this.signWorkflow={id:t.id,name:t.name,review:s,initiatedBy:t.initiatedBy,formId:t.wFormId,flowJson:t.flowJson}}}))},async checkWorkflow(t){if(this.documentSignProcess=!1,"DOCUMENT"===t.initiatedBy||"DOCUMENT_SIGN"===t.initiatedBy)this.workflowInit=t,this.saveAction=t.review,this.initiateWorkflow();else if("DOCUMENT_FORM"===t.initiatedBy&&t.formId){this.workflowInit=t,this.actions=[],await this.getForm(t.formId),this.formId=String(t.formId);let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i&&"MANUAL"===i.settings.initiateMode){this.headerTitle=`${t.name} - ${i.settings.label}`;let s=e.rules.find(t=>t.fromBlockId===i.id);s&&this.actions.push(s.proceedAction)}const s=[...this.form.panels,...this.form.secondaryPanels];if(!s.length)return;let a=[];for(const t of s)a.push(...t.fields);a.forEach(t=>{this.fileData.forEach(e=>{e.name==t.label&&(this.formModel[t.id]=e.value)})}),this.processSheet=!0}},async getForm(t){const{error:e,payload:i}=await r["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=JSON.parse(i.formJson))},async initiateWorkflow(){let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)});let e={workflowId:this.workflowInit.id,repositoryId:this.file.repositoryId,itemId:this.file.id,review:this.saveAction,formData:{formId:this.workflowInit.formId,fields:this.workflowFormModel},comments:this.commentsList,task:this.taskEntryId,userIds:this.transactionUserIds,fileIds:t};this.saveAction="",this.workflowFormModel={},this.$store.commit("showLoadingBarSave");const{error:i,payload:s}=await r["t"].processTransaction(e);this.$store.commit("hideLoadingBarSave"),i?this.$alert.error(i):(this.$alert.success(s.requestNo+" Request Initiated"),"DOCUMENT_SIGN"===this.workflowInit.initiatedBy&&this.updateSignerSettingWithProcessId(s),this.workflowInit={},this.closeProcessSheet())},async saveComment(){this.commentText&&(this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,fileIds:[0]}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.commentText="")},async saveAdvancedComment(){this.advancedCommentText&&(this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,fileIds:[0]}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.advancedCommentText="",this.advancedCommentsSheet=!1)},async getRepository(){const{error:t,payload:e}=await r["p"].getRepository(this.file.repositoryId);t?this.$alert.error(t):this.repositoryDetails=e},async uploadWflowAttachments(t){"STATIC"===this.repositoryDetails.fieldsType&&(this.selectedUploadFile=t,this.uploadFilename=t.target.files[0].name,this.showMetaDataEditModal=!0)},async uploadAttachments(t){const e=t.target.files[0],i=new FormData;i.append("file",e),i.append("repositoryId",this.file.repositoryId);let s=t.target.files[0].name;const a=s.split(".").pop();if(Object(Ht["a"])(a))try{const s=await jt()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:i,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=s;if(200!==a)throw"Invalid response";let r=JSON.parse(o);this.attachmentList.push({id:Number(r.fileId),name:e.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:e.size,initiate:!0}),t.target.value=""}catch(o){console.error(o),this.$alert.error("error attaching file")}else this.$alert.info("This file format is not supported")},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await r["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}},async getTaskForm(){this.taskFormList=[],this.addTaskEnabled=!1;const{error:t,payload:e}=await r["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskEnabled=!0,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length&&1===this.taskFormList.length&&(this.taskFormId=this.taskFormList[0].id,this.taskRepositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson),this.getDocumentTaskEntries()))},async getTaskFormEntry(t,e){this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["g"].getFormEntry(t,e);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let e=[];for(const s of t)e.push(...s.fields);let i="",a="",o="",r="",n="",l="";e.forEach(t=>{switch(t.label){case"Task Name":i=s[0][t.id];break;case"Task Assign":a=s[0][t.id];break;case"Start Date":o=s[0][t.id];break;case"End Date":r=s[0][t.id];break;case"Priority":n=s[0][t.id];break;case"Task Status":l=s[0][t.id];break}}),this.taskEntries.push({id:s[0].itemid,name:i,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async getDocumentTaskEntries(){this.taskEntries=[];const{error:t,payload:e}=await r["g"].getDocumentTaskEntries(this.taskFormId,this.file.repositoryId,this.file.id);if(t)this.$alert.error(t);else if(e.length){const t=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let i=[];for(const e of t)i.push(...e.fields);let s="",a="",o="",r="",n="",l="";i.forEach(t=>{switch(t.label){case"Task Name":s=e[0][t.id];break;case"Task Assign":a=e[0][t.id];break;case"Start Date":o=e[0][t.id];break;case"End Date":r=e[0][t.id];break;case"Priority":n=e[0][t.id];break;case"Task Status":l=e[0][t.id];break}}),this.taskEntries.push({id:e[0].itemid,name:s,assigned:a,startDate:o,endDate:r,priority:n,status:l})}},async filePrintSession(){const{error:t}=await r["k"].filePrintSession({repositoryId:this.file.repositoryId,itemId:this.file.id,activityId:4});t&&this.$alert.error(t)},async getFileHistory(){this.$store.commit("showLoadingBar"),this.history=[];const{error:t,payload:e}=await r["o"].getRepositoryData(this.file.repositoryId,{itemId:this.file.id,filterBy:[],itemsPerPage:100,currentPage:1});this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e&&(this.history=e.data[0].value.map(t=>({activity:t.activity,activityBy:t.activityBy,activityOn:this.$day.format(t.activityOn)})))},async uploadFile(){const t=await this.$refs.checkin.validate();if(!this.filesToUpload.length)return void(this.filesError=!0);if(!t)return;let e=this.filesToUpload[0],i=0;const s=new FormData;s.append("file",e.file),s.append("repositoryId",this.file.repositoryId),s.append("itemId",this.itemId),s.append("comments",this.comments),this.showProgress=!0,this.showDeleteBtn=!1;let a=e.name;const o=a.split(".").pop();if(!Object(Ht["a"])(o))return this.filesToUpload.splice(i,1),void this.$alert.info("This file format is not supported");try{const t=await jt()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){const i=Math.round(100*t.loaded/t.total);e.uploadedPercentage=i}}),{status:i}=t;if(200!==i)throw"Invalid response";this.$alert.success("file updated successfully"),this.reset(),this.showCheckinModal=!1,this.$emit("input",!1)}catch(r){console.error(r),this.$alert.error("error uploading file - "+e.name)}},async saveMetaData(t){this.$store.commit("showLoadingBar");let e=[],i=!1;if(t.forEach(t=>{t.oldValue!==t.newValue&&(i=!0,e.push(t))}),!i)return void this.$alert.error("Not edited any field");let s={repositoryId:this.file.repositoryId,itemId:this.file.id,settings:JSON.stringify(e)};const{error:a,payload:o}=await r["p"].saveMetaData(s);this.$store.commit("hideLoadingBar"),a?this.$alert.error(a):(o&&this.$alert.success("Metadata edit successfully"),this.getItemDetails())},async getFolderSecurity(){const{error:t,payload:e}=await r["p"].getRepositorySecurity(this.file.repositoryId);if(t)this.$alert.error(t);else if(e&&e.userOptions){const t=e.userOptions.map(t=>({id:t.id,userName:t.email,userId:t.userId,options:JSON.parse(t.options)}));let i=t.find(t=>t.userId===this.$store.state.session.id),s=!1;s=!(!i||!i.options)&&!!i.options.metadataEdit;const a=e.groupOptions.map(t=>({id:t.id,groupId:t.groupId,options:JSON.parse(t.options)}));let o=!1;this.$store.state.session.groups&&this.$store.state.session.groups.forEach(t=>{let e=a.find(e=>e.groupId===t.id);e&&e.options&&e.options.metadataEdit&&(o=!0)});let r=this.actionList.findIndex(t=>"Indexing_Change"===t.id);r>=0&&(this.actionList[r].disable=!s&&!o)}},async getSignerSettings(){this.transactionUserIds=[],this.signerSettings={};let t=[{groupCondition:"",filters:[{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.file.repositoryId.toString()},{criteria:"itemId",condition:"IS_EQUALS_TO",value:this.file.id.toString()}]}];try{const e=await jt()({url:`https://appuat.ezofis.com/ezofisapi/api/annotation/signSettingsList/${this.$store.state.session.tenantId}/${this.signWorkflow.id}`,method:"POST",headers:{Accept:"application/json"},data:t}),{status:i,data:s}=e;if(200!==i)throw"Invalid response";this.signerSettings=JSON.parse(s);let a=JSON.parse(this.signerSettings.settingsJson);if(a.length)if(0===this.orderType)a.forEach(t=>{"External"===t.signerType?this.transactionUserIds.push(t.externalSignerId):this.transactionUserIds.push(t.signerId)});else{let t=a.find(t=>1===t.signOrder);if(t){let e="External"===t.signerType?t.externalSignerId:t.signerId;this.transactionUserIds.push(e)}}this.transactionUserIds.length&&this.checkWorkflow(this.signWorkflow)}catch(e){console.error(e),this.$alert.error("error getting signer details")}},async updateSignerSettingWithProcessId(t){try{this.signerSettings.processId=t.processId;let e={pId:t.processId,rId:this.signerSettings.repositoryId,itemId:this.signerSettings.itemId,settingsJson:this.signerSettings.settingsJson,isDeleted:0};const i=await jt()({url:`https://appuat.ezofis.com/ezofisapi/api/annotation/signSettings/${this.$store.state.session.tenantId}/${this.signWorkflow.id}/${this.signerSettings.id}`,method:"PUT",headers:{Accept:"application/json"},data:e}),{status:s}=i;if(202!==s)throw"Invalid response"}catch(e){console.error(e),this.$alert.error("error updating signer details")}}}},se=ie,ae=(i("487e"),i("b047")),oe=i("cb32"),re=i("4e73"),ne=Object(A["a"])(se,s,a,!1,null,"07c89b08",null);e["a"]=ne.exports;E()(ne,"components",{QChip:ae["a"],QAvatar:oe["a"],QMenu:re["a"],QChatMessage:B["a"]})},"718c":function(t,e,i){"use strict";i("1a82")},"71f4":function(t,e,i){},7225:function(t,e,i){"use strict";i("afe7")},7334:function(t,e,i){},"739a":function(t,e,i){var s={"./users-dark.png":"53ed","./users-light.png":"53f6","./workspace-dark.png":"c53c","./workspace-light.png":"972e"};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="739a"},"73e0":function(t,e,i){"use strict";i("8ddd")},"742a":function(t,e,i){"use strict";i("ef04")},"74d9":function(t,e,i){"use strict";i("ee7b")},"75a4":function(t,e,i){"use strict";i("f458")},"75c3":function(t,e,i){"use strict";var s=i("0967"),a=i("7c86"),o=i("d882"),r=i("f249");function n(t,e,i){const s=Object(o["h"])(t);let a,r=s.left-e.event.x,n=s.top-e.event.y,l=Math.abs(r),c=Math.abs(n);const d=e.direction;!0===d.horizontal&&!0!==d.vertical?a=r<0?"left":"right":!0!==d.horizontal&&!0===d.vertical?a=n<0?"up":"down":!0===d.up&&n<0?(a="up",l>c&&(!0===d.left&&r<0?a="left":!0===d.right&&r>0&&(a="right"))):!0===d.down&&n>0?(a="down",l>c&&(!0===d.left&&r<0?a="left":!0===d.right&&r>0&&(a="right"))):!0===d.left&&r<0?(a="left",l<c&&(!0===d.up&&n<0?a="up":!0===d.down&&n>0&&(a="down"))):!0===d.right&&r>0&&(a="right",l<c&&(!0===d.up&&n<0?a="up":!0===d.down&&n>0&&(a="down")));let h=!1;if(void 0===a&&!1===i){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};a=e.event.lastDir,h=!0,"left"===a||"right"===a?(s.left-=r,l=0,r=0):(s.top-=n,c=0,n=0)}return{synthetic:h,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:s,direction:a,isFirst:e.event.isFirst,isFinal:!0===i,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:r,y:n},delta:{x:s.left-e.event.lastX,y:s.top-e.event.lastY}}}}function l(t){const e=t.__qtouchpan;void 0!==e&&(void 0!==e.event&&e.end(),Object(o["b"])(e,"main"),Object(o["b"])(e,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchpan)}let c=0;e["a"]={name:"touch-pan",bind(t,{value:e,modifiers:i}){if(void 0!==t.__qtouchpan&&(l(t),t.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function d(t,e){!0===i.mouse&&!0===e?Object(o["l"])(t):(!0===i.stop&&Object(o["k"])(t),!0===i.prevent&&Object(o["i"])(t))}const h={uid:"qvtp_"+c++,handler:e,modifiers:i,direction:Object(a["a"])(i),noop:o["g"],mouseStart(t){Object(a["b"])(t,h)&&Object(o["e"])(t)&&(Object(o["a"])(h,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),h.start(t,!0))},touchStart(t){if(Object(a["b"])(t,h)){const e=t.target;Object(o["a"])(h,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),h.start(t)}},start(e,a){!0===s["a"].is.firefox&&Object(o["j"])(t,!0),h.lastEvt=e;const r=Object(o["h"])(e);if(!0===a||!0===i.stop){if(!0!==h.direction.all&&(!0!==a||!0!==h.modifiers.mouseAllDir&&!0!==h.modifiers.mousealldir)){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&Object(o["i"])(t),!0===e.cancelBubble&&Object(o["k"])(t),t.qClonedBy=void 0===e.qClonedBy?[h.uid]:e.qClonedBy.concat(h.uid),t.qKeyEvent=e.qKeyEvent,t.qClickOutside=e.qClickOutside,h.initialEvent={target:e.target,event:t}}Object(o["k"])(e)}h.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===a,detected:!1,isFirst:!0,isFinal:!1,lastX:r.left,lastY:r.top}},move(t){if(void 0===h.event)return;h.lastEvt=t;const e=!0===h.event.mouse,i=()=>{let i;d(t,e),!0!==h.modifiers.preserveCursor&&!0!==h.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===e&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(r["a"])(),h.styleCleanup=t=>{if(h.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===e){const e=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==t?setTimeout(()=>{e(),t()},50):e()}else void 0!==t&&t()}};if(!0===h.event.detected){!0!==h.event.isFirst&&d(t,h.event.mouse);const{payload:e,synthetic:s}=n(t,h,!1);return void(void 0!==e&&(!1===h.handler(e)?h.end(t):(void 0===h.styleCleanup&&!0===h.event.isFirst&&i(),h.event.lastX=e.position.left,h.event.lastY=e.position.top,h.event.lastDir=!0===s?void 0:e.direction,h.event.isFirst=!1)))}if(!0===h.direction.all||!0===e&&(!0===h.modifiers.mouseAllDir||!0===h.modifiers.mousealldir))return i(),h.event.detected=!0,void h.move(t);const s=Object(o["h"])(t),a=s.left-h.event.x,l=s.top-h.event.y,c=Math.abs(a),u=Math.abs(l);c!==u&&(!0===h.direction.horizontal&&c>u||!0===h.direction.vertical&&c<u||!0===h.direction.up&&c<u&&l<0||!0===h.direction.down&&c<u&&l>0||!0===h.direction.left&&c>u&&a<0||!0===h.direction.right&&c>u&&a>0?(h.event.detected=!0,h.move(t)):h.end(t,!0))},end(e,i){if(void 0!==h.event){if(Object(o["b"])(h,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),!0===i)void 0!==h.styleCleanup&&h.styleCleanup(),!0!==h.event.detected&&void 0!==h.initialEvent&&h.initialEvent.target.dispatchEvent(h.initialEvent.event);else if(!0===h.event.detected){!0===h.event.isFirst&&h.handler(n(void 0===e?h.lastEvt:e,h).payload);const{payload:t}=n(void 0===e?h.lastEvt:e,h,!0),i=()=>{h.handler(t)};void 0!==h.styleCleanup?h.styleCleanup(i):i()}h.event=void 0,h.initialEvent=void 0,h.lastEvt=void 0}}};t.__qtouchpan=h,!0===i.mouse&&Object(o["a"])(h,"main",[[t,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(o["a"])(h,"main",[[t,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},update(t,{oldValue:e,value:i}){const s=t.__qtouchpan;void 0!==s&&e!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(t){void 0===t.__qtouchpan_destroyed?l(t):delete t.__qtouchpan_destroyed}}},"76f2":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row items-start q-col-gutter-sm"},[e("div",{staticClass:"col-12",staticStyle:{"margin-top":"5px"},attrs:{id:"OverviewGrid"}},[e("div",{staticClass:"grid"},[e("div",{staticClass:"row items-center1 heading"},[e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase q-pa-md"},[t._v(" Uploaded Files ")]),t.dashboardView?t._e():e("div",{staticClass:"col-auto q-pa-sm"},[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pinRecentActivity")}}})],1)])]),e("div",[e("div",{staticClass:"row items-center1"},[e("div",{staticClass:"col row items-center"},[e("BaseIcon",{staticClass:"icon icons",staticStyle:{"background-color":"lightgray"},attrs:{name:"mdi-file-edit-outline",size:"20px",color:"white"}}),e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase"},[t._v(" Manual Indexed "),e("div",{staticClass:"text-base col textcontent text-uppercase"},[t._v(" "+t._s(t.credits.MANUAL||0)+" file ")])])])],1),e("div",{staticClass:"col row items-center"},[e("BaseIcon",{staticClass:"icon icons",staticStyle:{"background-color":"rgb(207 172 239)"},attrs:{name:"mdi-robot",size:"20px",color:"white"}}),e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase"},[t._v(" Advanced ocr "),e("div",{staticClass:"text-base col text-uppercase textcontent"},[t._v(" "+t._s(t.credits.ADVANCED||0)+" file ")])])])],1),e("div",{staticClass:"col row items-center"},[e("BaseIcon",{staticClass:"icon icons",staticStyle:{"background-color":"rgb(156 223 229)"},attrs:{name:"mdi-file-image",size:"20px",color:"white"}}),e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase"},[t._v(" standard ocr "),e("div",{staticClass:"text-base col text-uppercase textcontent"},[t._v(" "+t._s(t.credits.STANDARD||0)+" file ")])])])],1),e("div",{staticClass:"col row items-center"},[e("BaseIcon",{staticClass:"icon icons",staticStyle:{"background-color":"rgb(190 232 214)"},attrs:{name:"mdi-wallet",size:"21px",color:"white"}}),e("div",{staticClass:"col row items-center"},[e("div",{staticClass:"text-base col q-pa-sm font-bold text-uppercase"},[t._v(" balance credits "),e("div",{staticClass:"text-uppercase textcontent"},[t._v(" "+t._s(t.credits.balanceCredit||0)+" Credits ")])])])],1)]),e("div",{staticClass:"row items-center1"},[e("div",{staticClass:"col row items-center",staticStyle:{"padding-left":"5px"}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"mdi-chart-areaspline",size:"20px",color:"black"},on:{click:function(e){return t.$emit("chart")}}}),e("div",{staticClass:"col row items-center font-bold text-base col q-pa-sm text-uppercase cursor-pointer",on:{click:function(e){return t.$emit("chart")}}},[t._v(" Show Charts "),t.chartView?e("BaseIcon",{staticClass:"icone q-ml-xs q-mr-xs",attrs:{name:"eva-arrow-ios-upward-outline","is-flat":"","no-border":"",color:"black"}}):e("BaseIcon",{staticClass:"icone q-ml-xs q-mr-xs",attrs:{name:"eva-arrow-ios-downward-outline",size:"20px","is-flat":"","no-border":"",color:"black"}})],1)],1)])])])])])])},a=[],o={name:"DetailsGrid",props:{credits:{type:Object,required:!0},chartView:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1},dashboard:{type:Boolean,default:!1}},data(){return{calendar:!1,DateOptions:[{first:"Last 30 Days"},{first:"Last 2 months"},{first:"Last 3 months"},{first:"Last 1 year"}]}}},r=o,n=(i("c3d7"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,null,null);e["a"]=l.exports},7794:function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"repository-field"}},[t.showFreeze?e("div",{attrs:{id:"checkbox-field"}},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Freeze",expression:"'Freeze'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:t.freezed?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:t.handleFreeze},model:{value:t.freezed,callback:function(e){t.freezed=e},expression:"freezed"}})],1):t._e(),"SHORT_TEXT"===t.field.dataType||"BARCODE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2138129544)}):t._e(),"NUMBER"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory,integer:!t.field.options.allowDecimals}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,3272965974)}):t._e(),"DATE"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2736912833)}):t._e(),"TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,2195704480)}):t._e(),"DATE_TIME"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateTimeField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1802324180)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["EXISTING"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("AsyncSelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,"api-path":t.apiPath,error:i[0],"new-option":t.field.options.allowToAddNewOptions,"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,364407705)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&"PREDEFINED"===t.field.options.optionsType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.predefinedSelectOptions,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,3382750843)}):t._e(),"SINGLE_SELECT"===t.field.dataType&&["MASTER"].includes(t.field.options.optionsType)?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,error:i[0],"new-option":t.field.options.allowToAddNewOptions,options:t.options,"is-readonly":t.readOnly,page:"repository"},on:{input:t.handleInput}})]}}],null,!1,768311157)}):t._e(),"BOOLEAN"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.booleanOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,61245750)}):t._e(),"OMR"===t.field.dataType?e("ValidationProvider",{staticClass:"full-width",attrs:{name:t.field.name,rules:{required:t.field.isMandatory}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SingleChoiceField",{attrs:{value:t.value,"is-mandatory":t.field.isMandatory,label:t.label||t.field.name,options:t.omrOptions,error:i[0],"is-readonly":t.readOnly},on:{input:t.handleInput}})]}}],null,!1,1875132930)}):t._e()],1),e("div",{staticClass:"row items-center justify-center q-mt-sm"},[t.visiableSyncBtn?e("BaseButton",{attrs:{label:"Sync",color:"secondary"},on:{click:function(e){return t.$emit("saveSync",t.field)}}}):t._e()],1)])},a=[],o=i("7bb1"),r=i("b3d1"),n=i("ad54"),l=i("53c1"),c=i("cedb"),d=i("d1e5"),h=i("12b8"),u=i("0c21"),p=i("9234"),m=i("0d5e"),f={name:"RepositoryField",components:{ValidationProvider:o["b"],TextField:r["a"],NumberField:n["a"],DateField:l["a"],TimeField:c["a"],DateTimeField:d["a"],SelectField:h["a"],AsyncSelectField:u["a"],SingleChoiceField:p["a"]},props:{field:{type:Object,required:!0},repositoryId:{type:[String,Number],required:!0},value:{type:[String,Number],required:!0},readOnly:{type:Boolean,default:!1},label:{type:String,default:""},syncField:{type:Object,default:()=>{}},parentControl:{type:Boolean,default:!1},rowIndex:{type:Number,required:!0},filter:{type:Boolean,default:!1},freezedData:{type:Object,default:()=>{}},showFreeze:{type:Boolean,default:!1}},data(){return{booleanOptions:[{id:this.$nano.id(),label:this.field.options.truthyValue,value:this.field.options.truthyValue},{id:this.$nano.id(),label:this.field.options.falsyValue,value:this.field.options.falsyValue}],omrOptions:[{id:this.$nano.id(),label:"Yes",value:"true"},{id:this.$nano.id(),label:"No",value:"false"}],visiableSyncBtn:!1,options:[],freeze:!1,freezeData:this.freezedData,freezed:!1}},computed:{predefinedSelectOptions(){return this.field.options.predefinedOptions.map(t=>({id:this.$nano.id(),label:t,value:t}))},apiPath(){return`/repository/${this.repositoryId}/uniqueColumnValues`}},watch:{field:{immediate:!0,async handler(){for(let t in this.syncField)this.syncField[t]===this.field.name&&(this.visiableSyncBtn=!0)}},filter:{immediate:!0,deep:!0,handler(){this.field.filterBy&&this.field.options.masterFormId&&this.getMasterEntriesFilter(this.field)}}},created(){this.freezedData&&(this.freezed=this.field.name in this.freezedData),this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn)},methods:{handleInput(t){this.$emit("input",t),this.parentControl&&this.$emit("filterBy",this.field,this.rowIndex),this.freezed&&this.updateOrAddField(this.field.name,t)},handleFreeze(){this.freezed=!this.freezed,this.freezed?(this.updateOrAddField(this.field.name,this.value),this.$emit("update:freezed",this.freeze)):this.$emit("update:removeFreezed",this.field.name)},updateOrAddField(t,e){t in this.freezeData?this.freezeData[t]=e:this.freezeData={...this.freezeData,[t]:e},this.$emit("update:freezedData",this.freezeData)},async getMasterEntries(t,e){try{const i=await m["b"].post(`/form/${t}/uniqueColumnValues`,JSON.stringify({column:e,keyword:"",rowFrom:0,rowCount:0})),{status:s,data:a}=i;if(200!==s)throw i;const o=JSON.parse(a);o.length&&(this.options=o.map(t=>({id:this.$nano.id(),label:t,value:t})))}catch(i){console.error(i),this.$alert.error("Error fetching options")}},async getMasterEntriesFilter(t){try{const e=await m["b"].post(`/form/${t.options.masterFormId}/uniqueColumnValues`,JSON.stringify({column:t.options.masterTableColumn,keyword:"",rowFrom:0,rowCount:0,filters:t.filterBy})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length?(this.options=a.map(t=>({id:this.$nano.id(),label:t,value:t})),1===this.options.length&&this.handleInput(this.options[0].value)):(this.field.options.masterFormId&&this.getMasterEntries(this.field.options.masterFormId,this.field.options.masterTableColumn),this.handleInput(""))}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},g=f,v=(i("87dc"),i("2877")),y=Object(v["a"])(g,s,a,!1,null,"174d3602",null);e["a"]=y.exports},7982:function(t,e,i){},"79b4":function(t,e,i){},"7b7c":function(t,e,i){},"7f31":function(t,e,i){},"7fe6":function(t,e,i){"use strict";i("b4cd")},8169:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("87e8");e["a"]=s["default"].extend({name:"QChatMessage",mixins:[a["a"]],props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){return"q-message-text-content q-message-text-content--"+this.op+(void 0!==this.textColor?" text-"+this.textColor:"")},messageClass(){return"q-message-text q-message-text--"+this.op+(void 0!==this.bgColor?" text-"+this.bgColor:"")},containerClass(){return"q-message-container row items-end no-wrap"+(!0===this.sent?" reverse":"")},sizeClass(){if(void 0!==this.size)return"col-"+this.size},op(){return!0===this.sent?"sent":"received"}},methods:{__wrapStamp(t,e){if(void 0!==this.$scopedSlots.stamp)return[e,t("div",{staticClass:"q-message-stamp"},this.$scopedSlots.stamp())];if(this.stamp){const i=!0===this.stampSanitize?"textContent":"innerHTML";return[e,t("div",{staticClass:"q-message-stamp",domProps:{[i]:this.stamp}})]}return[e]},__getText(t,e,i){const s=!0===this.textSanitize?"textContent":"innerHTML";if(!0===i&&!0===e.some(t=>void 0===t.tag&&void 0!==t.text))return[t("div",{class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,t("div",e)))])];const a=!0!==i?e=>t("div",{domProps:{[s]:e}}):e.length>1?t=>t:e=>t("div",[e]);return e.map((e,i)=>t("div",{key:i,class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,a(e)))]))}},render(t){const e=[];void 0!==this.$scopedSlots.avatar?e.push(this.$scopedSlots.avatar()):void 0!==this.avatar&&e.push(t("img",{class:"q-message-avatar q-message-avatar--"+this.op,attrs:{src:this.avatar,"aria-hidden":"true"}}));const i=[];void 0!==this.$scopedSlots.name?i.push(t("div",{class:"q-message-name q-message-name--"+this.op},this.$scopedSlots.name())):void 0!==this.name&&i.push(t("div",{class:"q-message-name q-message-name--"+this.op,domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}})),void 0!==this.text&&i.push(this.__getText(t,this.text)),void 0!==this.$scopedSlots.default&&i.push(this.__getText(t,this.$scopedSlots.default(),!0)),e.push(t("div",{class:this.sizeClass},i));const s=[];return void 0!==this.$scopedSlots.label?s.push(t("div",{staticClass:"q-message-label"},this.$scopedSlots.label())):void 0!==this.label&&s.push(t("div",{staticClass:"q-message-label",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}})),s.push(t("div",{class:this.containerClass},e)),t("div",{class:"q-message q-message-"+this.op,on:{...this.qListeners}},s)}})},8180:function(t,e,i){"use strict";i("e0b6")},"81e5":function(t,e,i){"use strict";i("e887")},8255:function(t,e,i){"use strict";i("61a4")},"829d":function(t,e,i){},"84ee":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"workflowRequestList"}},["GRID"===t.activeView?e("div",{class:t.dashboardView?"cards":"card"},[e("div",{staticClass:"row items-center q-pa-xs"},[t.initiate&&!t.myInbox?e("div",{staticClass:"row items-center q-mr-xs",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.openProcess(!0)}}},[e("q-chip",{staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)],1):t._e(),t.importExcel&&!t.myInbox?e("ImportPopup",{staticClass:"row items-center q-mr-xs",attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":String(t.masterFormId)},on:{upload:function(e){return t.$emit("upload")},close:function(e){return t.$emit("close")}}}):t._e(),e("div",{staticClass:"col ellipsis",attrs:{id:"global-search"}},[e("div",{staticClass:"row col"},[e("SearchItems",{staticClass:"col-auto actions addFilter",attrs:{columns:t.columns,"filter-search-column":t.filterSearchColumn,"selected-filter-column":t.selectedFilterColumn},on:{"update:filterSearchColumn":function(e){t.filterSearchColumn=e},"update:filter-search-column":function(e){t.filterSearchColumn=e},"update:selectedFilterColumn":function(e){t.selectedFilterColumn=e},"update:selected-filter-column":function(e){t.selectedFilterColumn=e},update:t.updateFilterByColumns}}),t.selectedFilterColumn?e("span",{staticClass:"col-auto q-ml-xs q-mt-xs"},[t._v(t._s(t.selectedFilterColumn)+" :")]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],ref:"searchQuery",staticClass:"col q-px-xs q-mt-xs",attrs:{type:"text",placeholder:"Search Request..."},domProps:{value:t.search},on:{keyup:function(e){return t.searchRow(t.search)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateFilterByColumns.apply(null,arguments)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Search",expression:"'Search'",modifiers:{bottom:!0}}],staticClass:"col-auto",attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:t.updateFilterByColumns}}),t.selectedFilterColumn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Clear Filter",expression:"'Clear Filter'",modifiers:{bottom:!0}}],staticClass:"col-auto",attrs:{icon:"eva-close","no-border":"","is-flat":""},on:{click:function(e){return t.clearFilterByColumns(!0)}}}):t._e()],1)]),e("div",{staticClass:"col-auto q-ml-xs"},[!t.jiraConnect||t.selectedFilterColumn||t.search?t._e():e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira",color:"gray","no-border":"","is-flat":"",size:"18px"},on:{click:t.checkJiraRequest}})],1),t.selectedFilterColumn||t.search?t._e():e("div",{staticClass:"col-auto q-ml-xs"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Refresh",expression:"'Refresh'",modifiers:{top:!0}}],attrs:{icon:"eva-refresh",color:"gray","no-border":"","is-flat":"",size:"20px"},on:{click:t.getRequest}})],1),t.selectedFilterColumn||t.search?t._e():e("div",{staticClass:"col-auto"},[e("SortItems",{attrs:{columns:t.workflow.id?t.columns:[],order:t.sortBy.order,criteria:t.sortBy.criteria},on:{"update:order":function(e){return t.$set(t.sortBy,"order",e)},"update:criteria":function(e){return t.$set(t.sortBy,"criteria",e)}}})],1),t.selectedFilterColumn||t.search?t._e():e("div",{staticClass:"col-auto"},[e("FilterItems",{attrs:{item:"proces",columns:t.workflow.id?t.columns:[],"filter-by":t.filterBy,module:"form","module-id":t.workflow.wFormId},on:{"update:filterBy":function(e){t.filterBy=e},"update:filter-by":function(e){t.filterBy=e},update:t.updateFilterBy}})],1),t.selectedFilterColumn||t.search?t._e():e("div",{staticClass:"col-auto"},[t.dashboardView?t._e():e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"List View",expression:"'List View'",modifiers:{top:!0}}],attrs:{icon:"mdi-format-list-checkbox",color:"gray","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$emit("update:activeView","LIST")}}})],1),t.selectedFilterColumn||t.search?t._e():e("div",{staticClass:"col-auto q-ml-xs"},[t.dashboardView?t._e():e("div",[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("issavesheet")}}})],1)])],1),t.dashboardView?[t.loadingBarInbox?e("ProgressBar",{attrs:{"container-height":"50vh","container-color":"white","progress-bars":t.progressBars}}):t._e()]:[t.loadingBarInbox?e("BaseLoadingBarSheet",{staticClass:"card1"}):t._e()],t.selectedNode?[e("BaseScrollbar",{staticClass:"q-pa-xs",attrs:{height:t.dashboardView?"calc(75vh - 285px)":"calc(100vh - 285px)"},on:{scroll:t.loadMore}},[t._l(t.groupKey,(function(i){return[i.name?e("div",{key:i.name,staticClass:"row"},[t.groupRequestListName(i.name)?[e("div",{staticClass:"group-by col-auto q-mb-sm"},[i.checkboxRequired?e("CheckboxField",{staticClass:"col-auto check-group-by",attrs:{value:i.checked},on:{input:function(e){return t.updateSelectionGroup(i)}}}):t._e(),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"groupLabel"},[t._v(" "+t._s(i.name+" ("+i.totalCount+")")+" ")])]),e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expand?"mdi-chevron-down":"mdi-chevron-up"},on:{click:function(t){i.expand=!i.expand}}})],1),e("div",{staticClass:"q-ml-sm"},[t.groupSelected(i.name)?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],attrs:{icon:"eva-more-horizontal-outline",size:"16px",color:"primary-5"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},t._l(i.actions,(function(s){return e("ListItem",{key:s.id,attrs:{label:s.name,icon:s.icon,color:s.color},on:{click:function(e){return t.groupRequestAction(s,i)}}})})),1)],1):t._e()],1)]:t._e()],2):t._e(),t._l(t.groupRequestList(i.name),(function(s){return[e("div",{key:i.name+"-"+s.processId},[e("div",{on:{click:function(t){s.expandSubWorkflow=!s.expandSubWorkflow}}},[s.visible&&i.expand?e("div",{staticClass:"list q-mb-xs q-pa-sm",class:s.processId===t.hasSelectedProcess&&s.id===t.hasSelectedWorkflow?"active-list":"",style:{background:t.actionColor(s.lastAction)},on:{click:function(e){return t.showRequestPreview(s.processId,s.id)}}},[e("div",{staticClass:"row"},[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&s.checkboxRequired&&s.key?e("CheckboxField",{staticClass:"col-auto",attrs:{value:s.checked},on:{input:function(e){return t.updateSelection(s)}}}):t._e(),e("q-icon",{staticClass:"q-mr-sm col-auto",attrs:{name:s.starred?"mdi-star":"mdi-star-outline",color:t.darkTheme?"secondary":"primary",size:"18px"},on:{click:function(e){return e.stopPropagation(),t.updateStarred(s)}}}),e("span",{staticClass:"col"},[t._v(t._s(s.requestNo))]),s.subworkflowTransaction?[s.subworkflowTransaction.length?e("BaseIcon",{attrs:{name:s.expandSubWorkflow?"mdi-menu-down rotate-180":"mdi-menu-down",color:"secondary"}}):t._e()]:t._e()],2),e("div",{staticClass:"row"},[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col ellipsis"},[t._v(t._s(s.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto"},[t._v(t._s(t.lastActionDuration(s)))])],1),"inbox"!==t.selectedNode&&"common"!==t.selectedNode&&"payment"!==t.selectedNode||!s.mlPrediction?t._e():e("div",{staticClass:"row q-pt-sm"},[s.mlCondition?e("div",{staticClass:"col-auto"},[t._l(s.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips gray-hover",attrs:{outline:"",color:"gray"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"gray","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))],2):t._e()]),!s.mlPrediction&&s.mlCondition?e("div",{staticClass:"row q-pt-sm"},[s.mlCondition.indexOf("[")>-1?t._l(JSON.parse(s.mlCondition),(function(i){return e("div",{key:s.processId+""+i.fieldName,on:{click:function(e){return e.stopPropagation(),t.$emit("validation",s.processId)}}},[e("q-chip",{staticClass:"chips gray-hover",class:"Matched"===i.status?"green-hover":"Not Matched"===i.status?"red-hover":"orange-hover",attrs:{outline:"",color:"Matched"===i.status?"green":"Not Matched"===i.status?"red":"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-robot",color:"Matched"===i.status?"green":"Not Matched"===i.status?"red":"orange","text-color":"white"}}),t._v(" "+t._s(i.fieldValue)+" ")],1)],1)})):[t._l(s.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))]],2):t._e(),s.jiraIssueInfo&&s.jiraIssueInfo.id?e("div",{staticClass:"row q-mt-sm"},[e("a",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA Issue Link",expression:"'JIRA Issue Link'",modifiers:{top:!0}}],staticClass:"col-auto",staticStyle:{"text-decoration":"none"},attrs:{href:t.getJIRALink(s.jiraIssueInfo),target:"_blank"}},[e("BaseActionButton",{staticClass:"q-mr-xs small",attrs:{icon:"mdi-jira",color:"primary","is-flat":"","no-border":"",size:"16px"}})],1),e("span",{staticClass:"col-auto"},[t._v("REF# ID: "+t._s(s.jiraIssueInfo.id))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto"},[t._v("KEY: "+t._s(s.jiraIssueInfo.key))]),s.jiraIssueInfo.assignee?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto text-primary text-bold"},[t._v("ASSIGNEE: "+t._s(s.jiraIssueInfo.assignee))])]:t._e(),s.jiraIssueInfo.issueStatus?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto text-primary text-bold"},[t._v("STATUS: "+t._s(s.jiraIssueInfo.issueStatus))])]:t._e()],2):t._e()]):t._e()]),s.subworkflowTransaction&&s.expandSubWorkflow?e("div",[t._l(s.subworkflowTransaction,(function(i){return[e("div",{key:i.requestNo,staticClass:"sub-workflow-details",on:{click:function(e){return t.showSubRequestPreview(i)}}},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:1==i.flowStatus?"Completed":"In-progress",expression:"\n                        item.flowStatus == 1 ? 'Completed' : 'In-progress'\n                      ",modifiers:{top:!0}}],staticClass:"q-mr-sm col-auto",attrs:{name:1==i.flowStatus?"mdi-check-circle-outline":"mdi-progress-clock",size:"18px",color:t.darkTheme?"secondary":"primary"}}),e("span",{staticClass:"col"},[t._v(t._s(i.requestNo))]),e("div",{staticClass:"row"},[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col ellipsis"},[t._v(t._s(i.stageName))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto"},[t._v(t._s(t.sublastActionDuration(i)))])],1),"inbox"!==t.selectedNode&&"common"!==t.selectedNode&&"payment"!==t.selectedNode||!s.mlPrediction?t._e():e("div",{staticClass:"row q-pt-sm"},[s.mlCondition?e("div",{staticClass:"col-auto"},[t._l(s.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips gray-hover",attrs:{outline:"",color:"gray"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"gray","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))],2):t._e()]),!s.mlPrediction&&s.mlCondition?e("div",{staticClass:"row q-pt-sm"},[s.mlCondition.indexOf("[")>-1?t._l(JSON.parse(s.mlCondition),(function(i){return e("div",{key:s.processId+""+i.fieldName,on:{click:function(e){return e.stopPropagation(),t.$emit("validation",s.processId)}}},[e("q-chip",{staticClass:"chips gray-hover",class:"Matched"===i.status?"green-hover":"Not Matched"===i.status?"red-hover":"orange-hover",attrs:{outline:"",color:"Matched"===i.status?"green":"Not Matched"===i.status?"red":"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-robot",color:"Matched"===i.status?"green":"Not Matched"===i.status?"red":"orange","text-color":"white"}}),t._v(" "+t._s(i.fieldValue)+" ")],1)],1)})):[t._l(s.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))]],2):t._e(),s.jiraIssueInfo&&s.jiraIssueInfo.id?e("div",{staticClass:"row q-mt-sm"},[e("a",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA Issue Link",expression:"'JIRA Issue Link'",modifiers:{top:!0}}],staticClass:"col-auto",staticStyle:{"text-decoration":"none"},attrs:{href:t.getJIRALink(s.jiraIssueInfo),target:"_blank"}},[e("BaseActionButton",{staticClass:"q-mr-xs small",attrs:{icon:"mdi-jira",color:"primary","is-flat":"","no-border":"",size:"16px"}})],1),e("span",{staticClass:"col-auto"},[t._v("REF# ID: "+t._s(s.jiraIssueInfo.id))]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto"},[t._v("KEY: "+t._s(s.jiraIssueInfo.key))]),s.jiraIssueInfo.assignee?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto text-primary text-bold"},[t._v("ASSIGNEE: "+t._s(s.jiraIssueInfo.assignee))])]:t._e(),s.jiraIssueInfo.issueStatus?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"col-auto text-primary text-bold"},[t._v("STATUS: "+t._s(s.jiraIssueInfo.issueStatus))])]:t._e()],2):t._e()],1)]}))],2):t._e()])]}))]}))],2),(t.totalItems,t._e()),t.totalItems?e("div",{staticClass:"row items-center q-pa-xs custom-pagination"},[e("div",{staticClass:"q-mr-sm q-ml-sm"},[t._v(" Showing "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.workflowRequestList.length>=t.totalItems?t.totalItems:t.workflowRequestList.length))]),t._v(" out of "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.totalItems))]),t._v(" requests ")])]):t._e()]:t._e()],2):t._e(),"LIST"===t.activeView?e("div",[e("Portal",{attrs:{to:"action-bar"}},[t.isLoading?t._e():e("ItemActions",{attrs:{item:"process",columns:t.columns,"toggle-id":t.workflow.id,"group-by":"",order:"","filter-by":t.filterBy,"active-view":t.activeView,criteria:t.sortBy.criteria,"hide-actions":t.hideActions,"workflow-initiate":t.initiate&&!t.myInbox,"initiate-access":!0,"workflow-import":t.importExcel&&!t.myInbox,"data-imported":t.dataImported,"form-id":String(t.masterFormId),"jira-connect":t.jiraConnect,module:"form","module-id":t.workflow.wFormId,"custom-process-form":t.isCustomizedWorkflow,"process-forward":t.groupItemSelected},on:{"update:columns":function(e){t.columns=e},"update:filterBy":function(e){t.filterBy=e},"update:filter-by":function(e){t.filterBy=e},"update:activeView":function(e){t.activeView=e},"update:active-view":function(e){t.activeView=e},"update:criteria":function(e){return t.$set(t.sortBy,"criteria",e)},refresh:t.getRequest,search:t.searchRow,update:t.updateFilterBy,initiate:function(e){return t.openProcess(!0)},upload:function(e){return t.$emit("upload")},close:function(e){return t.$emit("close")},jira:t.checkJiraRequest,export:t.exportRequestData,custom:function(e){t.showCustomProcessForm=!0},forward:function(e){return t.groupRequestAction("Assign",[])}}})],1),t.isLoading?t._e():e("div",{staticClass:"content card"},[t.dashboardView?[t.loadingBarInbox?e("ProgressBar",{attrs:{"container-height":"50vh","container-color":"white","progress-bars":t.progressBars}}):t._e()]:[t.loadingBarInbox?e("BaseLoadingBarSheet",{staticClass:"card1"}):t._e()],e("BaseScrollbar",{attrs:{height:"calc(100vh - 250px)"},on:{scroll:t.loadMore}},["LIST"===t.activeView?e("ProcessList",{attrs:{mode:t.selectedNode,items:t.items,columns:t.columns,"group-key":t.groupKey,"group-item-selected":t.groupItemSelected},on:{"update:groupItemSelected":function(e){t.groupItemSelected=e},"update:group-item-selected":function(e){t.groupItemSelected=e},show:t.showRequest,starred:t.updateStarred,selected:t.updateSelection,group:t.updateSelectionGroup,action:t.groupRequestAction,history:t.showHistory,SubHistory:t.showSubHistory,attachments:t.openAttachments,subAttachments:t.openSubAttachments,comments:t.openComments,subComments:t.openSubComments,validation:function(e){return t.$emit("validation")},openSubWorkflow:t.updateSelectedSubWorkflow}}):t._e()],1),(t.totalItems,t._e()),t.totalItems?e("div",{staticClass:"row items-center q-pa-xs custom-pagination"},[e("div",{staticClass:"q-mr-sm q-ml-sm"},[t._v(" Showing "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.workflowRequestList.length>=t.totalItems?t.totalItems:t.workflowRequestList.length))]),t._v(" out of "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.totalItems))]),t._v(" requests ")])]):t._e()],2)],1):t._e(),e("Sheet",{attrs:{width:t.formWidth,"has-footer":!t.isCustomizedWorkflow||!t.initiateProcess,"no-padding":""},on:{input:function(e){return t.closeProcessSheet(!0)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"actions",fn:function(){return[t.isCustomizedWorkflow?[t.isRequestLocked?e("div",{staticClass:"cursor-pointer q-mr-sm"},[e("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[t._v(" View Only ")])],1):t._e(),t.selectedProcess.ticketLockedBy===t.$store.state.session.id?e("div",{staticClass:"cursor-pointer q-mr-sm",on:{click:function(e){t.requestReleaseModal=!0}}},[e("q-chip",{staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",color:"secondary"}},[t._v(" Release ")])],1):t._e()]:t._e(),t.isCustomizedWorkflow||"DOCUMENT"===t.workflow.initiatedBy?t._e():[t.mandatory.filledValue||t.mandatory.nonFilledValue?[e("q-circular-progress",{staticClass:"q-mr-sm",attrs:{"show-value":"","font-size":"12px",value:t.mandatoryFilling,size:"lg",thickness:.22,color:"primary","track-color":"grey-3"}},[t._v(" "+t._s(t.mandatoryFilling)+"% ")])]:t._e(),t.mandatory.filledValue?e("div",{staticClass:"chip-success q-mr-sm"},[e("div",{},[t._v(t._s(t.mandatory.filledValue)+" ready")])]):t._e(),t.mandatory.nonFilledValue?e("div",{staticClass:"chip-warning",on:{click:t.checkFormValidation}},[e("div",{},[t._v(t._s(t.mandatory.nonFilledValue)+" need to work")])]):t._e()],t.mandatoryDocument.length?[e("div",{staticClass:"chip-warning cursor-pointer",on:{click:function(e){t.attachmentSheet=!0}}},[e("div",{},[t._v(t._s(t.mandatoryDocument.length)+" document required")])])]:t._e(),t.isCustomizedWorkflow?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh","no-border":"","is-flat":"",size:"20px"},on:{click:t.refreshFormData}})]:t._e(),t.hasWflowInitiator?e("BaseButton",{staticClass:"q-mr-sm",attrs:{label:t.subWorkflowName,color:"secondary"},on:{click:t.initiateSubWorkflow}}):t._e(),t.itemModel.itemId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.processDocumentAction(i.id)}}})})),1)],1)],1):t._e(),!t.isCustomizedWorkflow&&Object.keys(t.selectedProcess).length&&0===t.actions.length?[t.formView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Details View",expression:"'Details View'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-table-column"},on:{click:function(e){t.formView=!1}}}):e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Form View",expression:"'Form View'",modifiers:{top:!0}}],staticClass:"q q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select"},on:{click:function(e){t.formView=!0}}})]:t._e(),t.isCustomizedWorkflow?t._e():e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},t.documentSignProcess||t.isRequestLocked?null:{key:"footer",fn:function(){return[t.isCustomizedWorkflow&&t.initiateProcess?t._e():[t.actions.length?e("div",{staticClass:"footer row"},["inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Save",color:"secondary"},on:{click:function(e){return t.validateRequest("Save")}}}):t._e(),t._l(t.actions,(function(i){return["Approve"===i||"Complete"===i||"Rightsize"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}):"Reject"===i||"Terminate"===i||"Force Close"===i||"Decline"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}):"Forward"===i||i.indexOf("Reply")>-1||"Rollback"===i||"Assign"===i?e("BaseButton",{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}):e("BaseButton","To Requester"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"pink"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()],"psyCrYXtKfcs-EJmrYIhv1"===t.selectedProcess.activityId?["inbox"===t.selectedNode?e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Verify",disabled:t.customVerify,color:"primary"},on:{click:function(e){return t.validateRequest("CustomVerify",!1,!1)}}}):t._e()]:t._e()]},proxy:!0}],null,!0),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t.isCustomizedWorkflow&&t.initiateProcess?[e("CustomForm",{attrs:{"workflow-id":t.workflow.id,workflow:t.workflow,"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,actions:t.actions,"request-prefix":t.requestPrefix,"ml-prediction":t.mlPrediction,"form-fields":t.formFields,"generate-p-d-f":t.generatePDF},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:requestPrefix":function(e){t.requestPrefix=e},"update:request-prefix":function(e){t.requestPrefix=e},"update:mlPrediction":function(e){t.mlPrediction=e},"update:ml-prediction":function(e){t.mlPrediction=e},refresh:t.refreshCustomForm}})]:[t.isCustomizedWorkflow&&!t.initiateProcess?[t.formId?e("div",{staticClass:"col"},[e("CustomProcessForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"selected-process":t.selectedProcess,"is-readonly":!!t.isRequestLocked||t.formEditAccess,"check-list":t.checkList,"form-check-list":t.formCheckList,"save-only":t.saveOnly,inbox:("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&!t.isRequestLocked,"auto-save-model":t.autoSaveModel},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:dataValidationValues":function(e){t.dataValidationValues=e},"update:data-validation-values":function(e){t.dataValidationValues=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e},"update:saveOnly":function(e){t.saveOnly=e},"update:save-only":function(e){t.saveOnly=e},"update:autoSaveModel":function(e){t.autoSaveModel=e},"update:auto-save-model":function(e){t.autoSaveModel=e},updateDataValidationValues:t.updateDataValidationValues}})],1):t._e()]:[t.formId?e("div",{staticClass:"col"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 115px)"}},[t.initiateProcess||t.formView?e("div",{attrs:{id:"form-view"}},[t.formId?e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,"workflow-model":t.workflowModel,"is-readonly":t.formEditAccess,"form-edit-controls":t.formEditControls,"readonly-controls":t.readonlyControls,"form-visibility-access":t.formVisibilityAccess,"form-secure-controls":t.formSecureControls,"enable-controls":t._enableControls,"check-list":t.checkList,"form-fields":t.formFields,"data-validation-values":t.dataValidationValues,"form-check-list":t.formCheckList,"form-upload-files":t.formUploadFiles,"has-check-form-validate":t.hasCheckFormValidate,"ocr-result":t.ocrResult},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:workflowModel":function(e){t.workflowModel=e},"update:workflow-model":function(e){t.workflowModel=e},"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e},"update:formCheckList":function(e){t.formCheckList=e},"update:form-check-list":function(e){t.formCheckList=e},"update:hasCheckFormValidate":function(e){t.hasCheckFormValidate=e},"update:has-check-form-validate":function(e){t.hasCheckFormValidate=e},uploadFiles:t.getOCRResult,mandatoryControlsList:t.mandatoryControlsList,deletedFiles:t.deletedFiles,showQr:t.generateQrCode}}):t._e(),t.signList.length?e("div",{staticClass:"q-pa-md",attrs:{id:"approvalSignature"}},[e("div",{staticClass:"title q-mb-sm"},[t._v("Approval Signature")]),e("BaseSeparator",{staticClass:"q-my-sm"}),e("div",{staticClass:"row"},[t._l(t.signList,(function(i){return[e("div",{key:i.id,staticClass:"col-3 q-mb-sm"},[e("img",{staticClass:"imgCenter col",attrs:{src:t.signLink(i.id)}}),e("div",{staticClass:"text row"},[e("span",{staticClass:"col-12 text-bold"},[t._v(t._s(i.stage))]),e("span",{staticClass:"col-12"},[t._v(t._s(i.createdByEmail))]),e("span",{staticClass:"col-12"},[t._v(t._s(t.$day.format(i.createdAt)))])])])]}))],2)],1):t._e(),t.userSignature||t.initUserSignature?e("SignatureField",{staticClass:"q-pa-md",attrs:{label:"Signature"},model:{value:t.signImg,callback:function(e){t.signImg=e},expression:"signImg"}}):t._e()],1):e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"col-12",attrs:{id:"requestDetails"}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("table",{staticClass:"submittedData q-mb-sm"},[e("tbody",[t.selectedProcess.createdByName?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" Requested By: "+t._s(t.selectedProcess.createdByName)+" ")])]):t._e(),e("tr",[t.selectedProcess.raisedBy?e("th",[t._v(" Requested User Email ")]):t._e(),e("th",[t._v("Requested Date")]),e("th",[t._v("Last Acted By")]),e("th",[t._v("Last Acted On")])]),e("tr",[t.selectedProcess.raisedBy?e("td",[t._v(" "+t._s(t.selectedProcess.raisedBy)+" ")]):t._e(),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.raisedAt))+" ")]),e("td",[t._v(" "+t._s(t.selectedProcess.transaction_createdByEmail)+" ")]),e("td",[t._v(" "+t._s(t.$day.format(t.selectedProcess.transaction_createdAt))+" ")])])])]),e("BaseScrollbar",{attrs:{height:"calc(100vh - 275px)"}},[t.selectedProcess.formData.fields?[e("table",{staticClass:"mainData col-12"},[t._l(t.selectedProcess.formData.fields,(function(i,s){return[i&&"[]"!=i?[t.isVisible(s)?["TABLE"!==t.validateType(s)?[e("tr",{key:`${s}-${i}`},[e("td",{staticClass:"tblHeader ellipsis small"},[t._v(" "+t._s(t.getLabel(s))+" ")]),e("td",{staticClass:"ellipsis"},["FILE_UPLOAD"===t.validateType(s)?[JSON.parse(i).length?e("div",t._l(JSON.parse(i),(function(s){return e("div",{key:s.fileName,staticClass:"q-mb-xs"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col row items-center",on:{click:function(e){return t.viewFile(s,i)}}},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"cursor-pointer text-underline text-secondary"},[t._v(t._s(s.fileName))])],1)])])})),0):t._e()]:"DATE"===t.validateType(s)?[t._v(" "+t._s(t.$day.format(i,!1))+" ")]:t.validateValue(i)?[t._v(" "+t._s(t.removeTags(i)||"-")+" ")]:[e("a",{attrs:{href:i,target:"_blank"}},[t._v(" "+t._s(i||"-")+" ")])]],2)])]:JSON.parse(i).length?[t.getLabel(s)?e("tr",{key:"trlabel-"+s},[e("td",{staticClass:"tblHeader ellipsis small",attrs:{colspan:"2"}},[e("FormFieldLabel",{key:"label-"+s,staticClass:"q-mt-sm",attrs:{label:t.getLabel(s)}})],1)]):t._e(),e("tr",{key:"trtable1-"+s},[e("td",{attrs:{colspan:"2"}},[e("BaseScrollbar",{key:"scroll-"+s,staticStyle:{"max-height":"200px"}},[e("table",{key:"table-"+s,staticClass:"sub-table q-mt-sm q-mb-sm"},[e("thead",[e("tr",t._l(t.tableColumns(i,s),(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.tableValue(i),(function(a,o){return e("tr",{key:o},t._l(t.tableColumns(i,s),(function(i){return e("td",{key:i.id},[t._v(" "+t._s(a[i.id])+" ")])})),0)})),0)])])],1)])]:t._e()]:t._e()]:t._e()]}))],2)]:t._e()],2)],1)])])])])])],1):t._e(),t.itemModel.itemId?e("div",{staticClass:"col"},[e("div",{staticClass:"fileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myProcessFiles",attrs:{id:"file-frame",src:t.itemLink(),frameborder:"0"}})])])]):t._e()],e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[t.checkTabAccess(i.value)?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()]):t._e()]}))],2)]],2)]),e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[!i.name||i.hasOwnProperty("visible")&&!i.show?t._e():[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()])])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"q-pr-sm",class:t.attachComment?"col-auto":"col",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.selectedProcess.processId&&"START"!==t.selectedProcess.stageType&&!t.attachComment?e("CheckboxField",{staticClass:"col-auto notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e(),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||!t.attachComment&&t.attachmentList.length&&t.fileNames.length?t._e():e("CheckboxField",{staticClass:"col-12 q-pl-sm q-pb-sm q-pt-sm",class:t.notifyInitiatorClass,attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"resend",expression:"'resend'",modifiers:{top:!0}}],attrs:{icon:"mdi-send",color:"secondary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.resendMail(i.ezMailId)}}})],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Modal",{attrs:{width:"70vw","has-footer":""},on:{input:t.closeRequestActionModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Request Action")]},proxy:!0},{key:"default",fn:function(){return[e("RenderForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.formModel,"workflow-form-model":t.workflowFormModel,"save-action":t.saveAction},on:{"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}}),t.internalForward.proceed&&"Assign"===t.groupActionModalButton.name?e("div",[e("MultiSelectField",{staticClass:"field q-ml-md q-mr-md q-mb-md",attrs:{label:"users","is-mandatory":"",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}),e("TextAreaField",{staticClass:"field q-ml-md q-mr-md q-mb-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1):t._e()]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:t.groupActionModalButton.name,color:t.groupActionModalButton.color},on:{click:t.submitGroupAction}})]},proxy:!0}]),model:{value:t.requestActionModal,callback:function(e){t.requestActionModal=e},expression:"requestActionModal"}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.processForwardModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t.processForwardGroupAction?t._e():e("span",[t._v('"'+t._s(t.selectedProcess.requestNo)+'"')]),t.isTenantGOTO()||t.isTenantArmgroup()?[t._v(" Process Assign ")]:[t._v(" Process Forward ")]]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processForward"}},[t.isTenantArmgroup()?[e("SelectField",{staticClass:"field q-mb-md",attrs:{label:"users",options:t.userList},model:{value:t.armgroupForwardUser,callback:function(e){t.armgroupForwardUser=e},expression:"armgroupForwardUser"}})]:[e("MultiSelectField",{staticClass:"field q-mb-md",attrs:{label:"users",options:t.userList},model:{value:t.forwardUsers,callback:function(e){t.forwardUsers=e},expression:"forwardUsers"}}),e("MultiSelectField",{staticClass:"field",attrs:{label:"group",options:t.groupList},model:{value:t.forwardGroups,callback:function(e){t.forwardGroups=e},expression:"forwardGroups"}}),t.processForwardGroupAction?e("TextAreaField",{staticClass:"field q-mt-md",attrs:{placeholder:"Type a comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):t._e()]],2)]},proxy:!0},{key:"footer",fn:function(){return[t.isTenantGOTO()||t.isTenantArmgroup()?[e("BaseButton",{attrs:{label:"Assign",color:"orange"},on:{click:function(e){t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]:[e("BaseButton",{attrs:{label:"Forward",color:"orange"},on:{click:function(e){t.processForwardGroupAction?t.groupProcessRequest():t.processRequest(!1,!1)}}})]]},proxy:!0}]),model:{value:t.processForwardModal,callback:function(e){t.processForwardModal=e},expression:"processForwardModal"}}),e("Sheet",{attrs:{width:"40vw","has-footer":""},on:{input:t.closeJiraIssueSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" JIRA - Create Issue ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"jiraIssue",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"Issue Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"field",attrs:{label:"Issue Name","is-mandatory":"",error:i[0]},model:{value:t.issueName,callback:function(e){t.issueName=e},expression:"issueName"}})]}}])}),t._e(),t._e(),e("ValidationProvider",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextAreaField",{staticClass:"field",attrs:{label:"Description","is-mandatory":"",error:i[0]},model:{value:t.issueDescription,callback:function(e){t.issueDescription=e},expression:"issueDescription"}})]}}])}),t._e(),t._e(),t._e()],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Create Issue",color:"primary"},on:{click:t.createJiraIssue}})]},proxy:!0}]),model:{value:t.jiraIssueSheet,callback:function(e){t.jiraIssueSheet=e},expression:"jiraIssueSheet"}}),e("Modal",{attrs:{width:"40vw",height:"70vh","has-footer":""},on:{input:t.closeJiraConfirmModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" JIRA - Issue Created Successful ")]},proxy:!0},{key:"default",fn:function(){return[e("div",[e("div",{staticClass:"field-wrapper"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("FormFieldLabel",{attrs:{label:"REF# ID","is-mandatory":""}})],1),e("div",{staticClass:"col-auto q-ml-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Copy Reference Id",expression:"'Copy Reference Id'",modifiers:{top:!0}}],staticClass:"copyActions",attrs:{icon:"mdi-content-copy",color:"secondary","no-border":"",size:"12px"},on:{click:function(e){return t.copyText(t.issueRef.id)}}})],1)]),e("TextField",{staticClass:"q-mb-sm",attrs:{"is-readonly":""},model:{value:t.issueRef.id,callback:function(e){t.$set(t.issueRef,"id",e)},expression:"issueRef.id"}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("FormFieldLabel",{attrs:{label:"KEY","is-mandatory":""}})],1),e("div",{staticClass:"col-auto q-ml-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Copy Reference Key",expression:"'Copy Reference Key'",modifiers:{top:!0}}],staticClass:"copyActions",attrs:{icon:"mdi-content-copy",color:"secondary","no-border":"",size:"12px"},on:{click:function(e){return t.copyText(t.issueRef.key)}}})],1)]),e("TextField",{staticClass:"q-mb-sm",attrs:{"is-readonly":""},model:{value:t.issueRef.key,callback:function(e){t.$set(t.issueRef,"key",e)},expression:"issueRef.key"}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("FormFieldLabel",{attrs:{label:"REF# URL","is-mandatory":""}})],1),e("div",{staticClass:"col-auto q-ml-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Copy Reference URL",expression:"'Copy Reference URL'",modifiers:{top:!0}}],staticClass:"copyActions",attrs:{icon:"mdi-content-copy",color:"secondary","no-border":"",size:"12px"},on:{click:function(e){return t.copyText(t.issueRef.self)}}})],1)]),e("TextField",{staticClass:"q-mb-sm",attrs:{"is-readonly":""},model:{value:t.issueRef.self,callback:function(e){t.$set(t.issueRef,"self",e)},expression:"issueRef.self"}})],1)])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"primary"},on:{click:t.closeJiraConfirmModal}})]},proxy:!0}]),model:{value:t.jiraConfirmModal,callback:function(e){t.jiraConfirmModal=e},expression:"jiraConfirmModal"}}),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Tasks ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Task",expression:"'Add Task'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.$emit("addTask")}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.taskEntries,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.$emit("viewTask",i.id)}}},[t._v(" "+t._s(i.name)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.priority),"text-color":"white"}},[t._v(" "+t._s(i.priority)+" ")]),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.status),"text-color":"white"}},[t._v(" "+t._s(i.status)+" ")])],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v("Assigned To: "+t._s(i.assigned))]),e("div",{staticClass:"col-12"},[t._v(" Start Date: "+t._s(t.$day.format(i.startDate,!1))+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" End Date: "+t._s(t.$day.format(i.endDate,!1))+" ")],1)])])]}))],2)]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Confirm",{attrs:{icon:"eva-checkmark-circle-2-outline","icon-color":"green"},on:{input:function(e){t.successModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Success")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Your request for Jira ticket creation has been submitted and the process has been initiated. You will receive notifications once the process is complete. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"primary"},on:{click:function(e){t.successModal=!1}}})]},proxy:!0}]),model:{value:t.successModal,callback:function(e){t.successModal=e},expression:"successModal"}}),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[e("div",{staticClass:"row actions advance-cmd"},[t.attachmentList.length&&t.fileNames.length?[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()]:t._e(),t.selectedProcess.processId&&"START"!==t.selectedProcess.stageType?e("CheckboxField",{staticClass:"col-auto q-pl-sm adv-notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e()],2),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("Confirm",{attrs:{icon:"mdi-file-alert","icon-color":"red"},on:{input:t.closeAlertModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Documents Required!")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md text-md"},[e("p",[t._v(" Are you sure you want to submit the request without attaching the required documents. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no"},on:{click:t.closeAlertModal}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:t.proceedSubmission}})]},proxy:!0}]),model:{value:t.alertModal,callback:function(e){t.alertModal=e},expression:"alertModal"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.saveAction="",t.workflowFormModel="",t.actionPasswordConfirm=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Action Password")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"passwordForm"},[e("ValidationProvider",{attrs:{name:"password",rules:{required:!0,password:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("PasswordField",{staticClass:"q-my-lg",attrs:{"is-mandatory":"","is-readonly":t.isLoading,error:i[0],"auto-focus":!0},on:{enter:t.validatePassword},model:{value:t.actionUserPassword,callback:function(e){t.actionUserPassword=e},expression:"actionUserPassword"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"validate","is-loading":t.isLoading},on:{click:t.validatePassword}})]},proxy:!0}]),model:{value:t.actionPasswordConfirm,callback:function(e){t.actionPasswordConfirm=e},expression:"actionPasswordConfirm"}}),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.actionConfirmAlert=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Confirmation")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(' Are you sure you want to confirm the action as " '),e("b",[t._v(t._s(t.saveAction))]),t._v('"? ')])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"primary"},on:{click:function(e){t.saveAction="",t.workflowFormModel={},t.actionConfirmAlert=!1}}}),e("BaseButton",{attrs:{label:"yes",color:"primary"},on:{click:function(e){t.actionConfirmAlert=!1,t.processRequest(!1,!1)}}})]},proxy:!0}]),model:{value:t.actionConfirmAlert,callback:function(e){t.actionConfirmAlert=e},expression:"actionConfirmAlert"}}),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}}),e("Sheet",{attrs:{width:t.formWidth,"has-footer":!t.isCustomizedWorkflow,"no-padding":""},on:{input:function(e){t.showCustomProcessForm=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Custom Form ")]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}]),model:{value:t.showCustomProcessForm,callback:function(e){t.showCustomProcessForm=e},expression:"showCustomProcessForm"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col"},[t.isCustomizedWorkflow?[e("CustomProcessForm",{attrs:{panels:t.panels,"secondary-panels":t.secondaryPanels,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel,actions:t.actions},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})]:t._e()],2),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),t.initiateSubWorkflowProcess||t.openSubProcessSheet?e("SubWorkflowProcess",{attrs:{"workflow-id":t.subWorkflowId||t.subProcessData.id,"initiate-sub-workflow-process":t.initiateSubWorkflowProcess,"main-workflow-id":t.workflow.id,"main-process-id":t.selectedProcess.processId,"sub-process-link":t.subProcessLink,"selected-process":t.subProcessData,"open-sub-process":t.openSubProcessSheet,"main-form-fields":t.formFields,"main-form-model":t.checkFormModel,"sub-process-id":t.subProcessId},on:{"update:subProcessId":function(e){t.subProcessId=e},"update:sub-process-id":function(e){t.subProcessId=e},closeProcessSheet:t.closeSubProcess}}):t._e(),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeSubProcessSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Linked Request ")]},proxy:!0}]),model:{value:t.subProcessSheet,callback:function(e){t.subProcessSheet=e},expression:"subProcessSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.subProcessTickets,(function(i,s){return[e("div",{key:s,staticClass:"subProcess"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"o_account_tree",color:"primary-4"}})],1),e("div",{staticClass:"col ellipsis text-underline",on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo)+" ")]),"1"===i.flowStatus?e("q-chip",{attrs:{size:"10px",color:"green","text-color":"white"}},[t._v(" Completed ")]):e("q-chip",{attrs:{size:"10px",color:"orange","text-color":"white"}},[t._v(" Running ")])],1),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(i.name))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.stage))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.duration)+" ago")])],1)]),t._e()])]}))],2)]),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"orange"},on:{input:function(e){t.requestReleaseModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Request release confirmation")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(' Please confirm the request "'),e("b",[t._v(t._s(t.selectedProcess.requestNo))]),t._v(", has been released by you to be approved by others. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel",color:"orange"},on:{click:function(e){t.requestReleaseModal=!1}}}),e("BaseButton",{attrs:{label:"Confirm",color:"orange"},on:{click:function(e){t.requestReleaseModal=!1,t.$emit("release",t.selectedProcess),t.closeProcessSheet(!0)}}})]},proxy:!0}]),model:{value:t.requestReleaseModal,callback:function(e){t.requestReleaseModal=e},expression:"requestReleaseModal"}}),e("GenerateQr",{attrs:{value:t.showQr,"repository-id":t.workflow.repositoryId,"field-id":t.selectedFieldId},on:{checkUploadId:t.checkMobileUpload,input:function(e){t.showQr=!1}}}),t.showAttachmentSheet?e("Attachments",{attrs:{value:t.showAttachmentSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"form-check-list":t.formCheckList,"check-list":t.checkList,wform:t.wform,"repository-details":t.repositoryDetails,"workflow-model":t.workflowModel,"form-upload-files":t.formUploadFiles,"repository-field":t.repositoryField,columns:t.columns,attachments:t.attachmentList,"workflow-id":t.workflow.id},on:{"update:value":function(e){t.showAttachmentSheet=e},"update:attachments":function(e){t.attachmentList=e},attachmentCount:t.attachmentCount}}):t._e(),t.showCommentsSheet?e("Comments",{attrs:{value:t.showCommentsSheet,"selected-process":t.selectedProcess,workflow:t.workflow,"selected-node":t.selectedNode,"initiate-process":t.initiateProcess,"attachment-list":t.attachmentList,"workflow-id":t.workflow.id,"file-names":t.fileNames,comments:t.commentsList,"display-internal-public":t.displayInternalPublic},on:{"update:value":function(e){t.showCommentsSheet=e},"update:comments":function(e){t.commentsList=e},commentsCount:t.commentsCount}}):t._e()],1)},a=[],o=(i("14d9"),i("caad"),i("13d5"),i("7bb1")),r=i("381e"),n=i("4bc4"),l=i("1b0d"),c=i("3445"),d=i("869e"),h=i("6df3"),u=i("b3d1"),p=i("2b88"),m=i("064c"),f=i("381b"),g=function(){var t=this,e=t._self._c;return e("ItemList",{attrs:{columns:t.columns,items:t.items,"group-key":t.groupKey},on:{groupItemSelected:t.updateGroupItemSelection,group:t.updateSelectionGroup,action:t.groupRequestAction,openSubWorkflow:t.updateSelectedSubWorkflow},scopedSlots:t._u([{key:"avatar",fn:function({item:i}){return[e("div",{staticClass:"row"},["inbox"===t.mode&&i.key&&i.checkboxRequired?e("CheckboxField",{staticClass:"col q-mr-md",attrs:{value:i.checked},on:{input:function(e){return t.$emit("selected",i)}}}):t._e(),e("BaseIcon",{staticClass:"icon col",attrs:{name:i.starred?"mdi-star":"mdi-star-outline",color:t.darkTheme?"secondary":"primary"},on:{click:function(e){return t.$emit("starred",i)}}})],1)]}},{key:"title",fn:function({item:i}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis",style:i.requestNo.length>50?"max-width: 250px":""},[e("span",{staticClass:"stat",class:i.link?"text-underline":"",on:{click:function(e){return e.stopPropagation(),t.$emit("show",i.id,i.workflowId)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")]),i.jiraIssueInfo&&i.jiraIssueInfo.id?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("a",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA Issue Link",expression:"'JIRA Issue Link'",modifiers:{top:!0}}],staticStyle:{color:"inherit"},attrs:{href:t.getJIRALink(i.jiraIssueInfo),target:"_blank"}},[t._v(" REF# ID: "+t._s(i.jiraIssueInfo.id)+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",[t._v(" KEY: "+t._s(i.jiraIssueInfo.key)+" ")]),i.jiraIssueInfo.assignee?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"text-primary text-bold"},[t._v("ASSIGNEE: "+t._s(i.jiraIssueInfo.assignee))])]:t._e(),i.jiraIssueInfo.issueStatus?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"text-primary text-bold"},[t._v("STATUS: "+t._s(i.jiraIssueInfo.issueStatus))])]:t._e()]:t._e()],2)]),!t.isGOTOTenant||"inbox"!==t.mode&&"common"!==t.mode&&"payment"!==t.mode||i.mlPrediction||!i.mlCondition?t._e():e("div",{staticClass:"row q-pt-sm"},[i.mlCondition.indexOf("[")>-1?t._l(JSON.parse(i.mlCondition),(function(s){return e("div",{key:i.processId+""+s.fieldName,on:{click:function(e){return e.stopPropagation(),t.$emit("validation",i.processId)}}},[e("q-chip",{staticClass:"chips gray-hover",class:"Matched"===s.status?"green-hover":"Not Matched"===s.status?"red-hover":"orange-hover",attrs:{outline:"",color:"Matched"===s.status?"green":"Not Matched"===s.status?"red":"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-robot",color:"Matched"===s.status?"green":"Not Matched"===s.status?"red":"orange","text-color":"white"}}),t._v(" "+t._s(s.fieldValue)+" ")],1)],1)})):[t._l(i.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))]],2)]}},{key:"mlcondition",fn:function({item:i}){return["inbox"!==t.mode&&"common"!==t.mode&&"payment"!==t.mode||!i.mlCondition?t._e():e("div",[t._l(i.mlCondition.split(","),(function(i){return[i.indexOf("Extracted")>-1?[e("q-chip",{key:i,staticClass:"chips green-hover",attrs:{outline:"",color:"green"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"green","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]:i.indexOf("Processing")>-1?[e("q-chip",{key:i,staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"orange","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]:[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]]}))],2)]}},{key:"actions",fn:function({item:i}){return[e("div",{staticClass:"row",staticStyle:{width:"100px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],staticClass:"icon",attrs:{icon:"mdi-history",color:"primary","is-flat":"","no-border":""},on:{click:function(e){return t.$emit("history",i.id)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("attachments",i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("comments",i)}}},[i.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsCount)+" ")]):t._e()])],1)]}},{key:"subactions",fn:function({item:i}){return[e("div",{staticClass:"row",staticStyle:{width:"100px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],staticClass:"icon",staticStyle:{margin:"auto"},attrs:{icon:"mdi-history",color:"primary","is-flat":"","no-border":""},on:{click:function(e){return t.subWorkflowHistory(i)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("subAttachments",i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("subComments",i)}}},[i.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsCount)+" ")]):t._e()])],1)]}}])})},v=[],y=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"process-item-list"}},[t.dummydata?t._t("default"):t._e(),t.items.length?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky icon",staticStyle:{left:"0"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e(),t.mlCondition?e("th",[t._t("titleHead",(function(){return[t._v(" "+t._s(t.mlCondition.label)+" ")]}),{title:t.mlCondition.label})],2):t._e(),t._l(t._columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticStyle:{right:"0"}})],2)]),e("tbody",[t._l(t.groupKey,(function(i){return[i.name&&t.groupRequestListName(i.name)?e("tr",{key:i.name,staticClass:"background"},[e("td",{staticClass:"sticky",staticStyle:{left:"0"},attrs:{colspan:"4"}},[i.name?e("div",{key:i.name,staticClass:"row"},[e("div",{staticClass:"group-by col-auto"},[i.checkboxRequired?e("CheckboxField",{staticClass:"col-auto check-group-by",attrs:{value:i.checked},on:{input:function(e){return t.updateSelectionGroup(i)}}}):t._e(),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"groupLabel"},[t._v(" "+t._s(i.name+" ("+i.totalCount+")")+" ")])]),e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expand?"mdi-chevron-down":"mdi-chevron-up"},on:{click:function(t){i.expand=!i.expand}}})],1),e("div",{staticClass:"q-ml-sm"},[t.groupSelected(i.name)&&i.actions.length?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],attrs:{icon:"eva-more-horizontal-outline",size:"16px",color:"primary-5"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},t._l(i.actions,(function(s){return e("ListItem",{key:s.id,attrs:{label:s.name,icon:s.icon,color:s.color},on:{click:function(e){return t.$emit("action",s,i)}}})})),1)],1):t._e()],1)]):t._e()])]):t._e(),t._l(t.groupRequestList(i.name),(function(s){return[s.visible&&i.expand?e("tr",{key:i.name+"-"+s.id,staticClass:"background",on:{click:function(e){return t.expandRow(s)}}},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"36px"},style:{background:t.actionColor(s.lastAction)}},[e("div",{staticClass:"items-center justify-center",staticStyle:{display:"flex"}},[t._t("avatar",(function(){return[e("BaseIcon",{attrs:{name:s.icon,color:"secondary"}})]}),{item:s}),s.subWorkflow?[s.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:s.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2)]),t.title?e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"}},[e("div",[t._t("title",(function(){return[e("div",{staticClass:"font-medium ellipsis",class:s.link?"text-underline":"",staticStyle:{overflow:"hidden !important","white-space":"unset !important","max-width":"250px"}},[t._v(" "+t._s(s[t.title.name])+" ")])]}),{item:s,title:s[t.title.name]})],2)]):t._e(),t.mlCondition?e("td",[t._t("mlcondition",(function(){return[e("div",{staticClass:"font-medium q-mr-xl"},[t._v(" "+t._s(s[t.mlCondition.name])+" ")])]}),{item:s,mlcondition:s[t.mlCondition.name]})],2):t._e(),t._l(t._columns,(function(i){return e("td",{key:i.id},[t._t(i.name,(function(){return[t._v(" "+t._s(s[i.name]||"-")+" ")]}),{value:s[i.name],item:s})],2)})),e("td",{staticClass:"sticky",staticStyle:{right:"0"}},[t._t("actions",null,{item:s})],2)],2):t._e(),s.subWorkflow?[s.subWorkflow.length?[s.expandSubworkflow?e("tr",{key:i.name+"+"+s.id},[e("td",{attrs:{colspan:t._columns.length+3}},[e("table",{key:"subtable"+i.id,staticStyle:{"margin-left":"20px",border:"1px solid var(--divider-color)","table-layout":"fixed","max-width":"63%","min-width":"calc(59% - 1px)","border-collapse":"collapse","white-space":"nowrap"}},[e("thead",[e("tr",[e("th",{staticClass:"sticky icon",staticStyle:{left:"0","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"icon"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"title"}},[e("div",{staticClass:"font-medium ellipsis",staticStyle:{"max-width":"250px"}},[t._v(" "+t._s(t.title.label)+" ")])]):t._e(),t._l(t._subWorkflowColumns,(function(i){return e("th",{key:i.id,staticStyle:{"background-color":"rgb(222 217 247)",width:"2%"}},[t._v(" "+t._s(i.label)+" ")])}))],2)]),e("tbody",[t._l(s.subWorkflow,(function(i){return[e("tr",{key:i.requestNo},[e("td",{staticClass:"sticky icon",staticStyle:{left:"0"},attrs:{name:"avatar"}},[e("div",{staticClass:"row items-center sticky justify-center"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"subItem.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color}})],1)]),e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"},attrs:{name:"title"}},[e("div",{staticClass:"row items-center text-underline",staticStyle:{overflow:"hidden !important","white-space":"unset !important",width:"220px"},on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")])]),e("td",{staticClass:"sub-background"},[t._v(" "+t._s(i.stage)+" ")]),e("td",{staticClass:"sub-background"},[t._v(" "+t._s(i.raisedBy)+" ")]),e("td",{staticClass:"sub-background"},[t._v(" "+t._s(i.raisedAt)+" ")]),e("td",[t._v(" "+t._s(i.duration)+" ")]),e("td",{staticClass:"sticky",staticStyle:{right:"0"}},[t._t("subactions",null,{item:i})],2)])]}))],2)])])]):t._e()]:t._e()]:t._e()]}))]}))],2)]):t._e()],2)},b=[],x=i("cade"),w=i("2f62"),k={name:"ItemList",components:{CheckboxField:d["a"],ListItem:x["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},groupKey:{type:Array,default:()=>[]},groupItemSelected:{type:Boolean,default:!1}},data(){return{dummydata:!1}},computed:{...Object(w["c"])(["darkTheme"]),_columns(){return this.columns.filter(t=>"TITLE"!==t.type&&"MLCONDITION"!==t.type&&t.isVisible)},title(){return this.columns.find(t=>"TITLE"===t.type)},mlCondition(){return this.columns.find(t=>"MLCONDITION"===t.type)},_subWorkflowColumns(){let t=[{id:this.$nano.id(),name:"stage",label:"Stage",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",type:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"duration",label:"Duration",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1}];return t}},methods:{groupRequestList(t){return this.items.filter(e=>e.key===t)},groupRequestListName(t){const e=this.items.filter(e=>e.key===t);return!!(e.length>0&&e.some(t=>!0===t.visible))},groupSelected(t){let e=this.items.filter(e=>e.key===t),i=0;return e.forEach(t=>{t.checked&&i++}),i>1},updateSelectionGroup(t){this.$emit("group",t)},actionColor(t){return this.darkTheme?t?-1!==t.toLowerCase().indexOf("reply")?"#ca811680":-1!==t.toLowerCase().indexOf("forward")?"#fcf5bc80":-1!==t.toLowerCase().indexOf("approve")?"#d2bc0980":-1!==t.toLowerCase().indexOf("reject")?"#c9141480":"#7f7f7f80":"#7f7f7f80":t?-1!==t.toLowerCase().indexOf("reply")?"#f9e6ca":-1!==t.toLowerCase().indexOf("forward")?"#fcf5bc":-1!==t.toLowerCase().indexOf("approve")?"#bfe2c0":-1!==t.toLowerCase().indexOf("reject")?"#f9c3c3":"#ffffff":"#ffffff"},expandRow(t){t.expandSubworkflow=!t.expandSubworkflow,this.dummydata=!this.dummydata},openSubProcess(t){this.$emit("openSubWorkflow",t)}}},C=k,S=(i("e603"),i("2877")),A=i("4e73"),I=i("93dc"),T=i.n(I),L=Object(S["a"])(C,y,b,!1,null,"f5c99f84",null),P=L.exports;T()(L,"components",{QMenu:A["a"]});var _={name:"ProcessList",components:{ItemList:P,CheckboxField:d["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},groupKey:{type:Array,default:()=>[]},groupItemSelected:{type:Boolean,default:!1}},computed:{...Object(w["c"])(["darkTheme"]),isGOTOTenant(){let t=location.origin;return"https://app.ezofis.com"===t}},methods:{updateSelectionGroup(t){this.$emit("group",t)},groupRequestAction(t,e){this.$emit("action",t,e)},getJIRALink(t){let e=new URL(t.self),i=e.origin.replace("https://jira-external-tools-integration.getgotools.net","https://jira.ops.expertcity.com");return`${i}/browse/${t.key}`},updateSelectedSubWorkflow(t){this.$emit("openSubWorkflow",t)},updateGroupItemSelection(t){this.$emit("update:groupItemSelected",t)},subWorkflowHistory(t){this.$emit("SubHistory",t.processId,t.parentProcessID)}}},M=_,F=(i("b148"),i("b047")),D=i("cb32"),B=Object(S["a"])(M,g,v,!1,null,"5114fc78",null),O=B.exports;T()(B,"components",{QChip:F["a"],QAvatar:D["a"]});var E=i("6a70"),N=i("27bd"),$=i("c559"),R=i("c3d2"),z=i("b6d2"),q=i("0cdc"),V=i("fa1f"),j=i("a7d2"),W=i("dd90"),H=i("bc3a"),X=i.n(H),Y=i("eff0"),G=i("5e23"),U=i("abe1"),J=i("cdde"),K=i("1c54"),Z=i("9234"),Q=i("12b8"),tt=i("a589"),et=i("c52a"),it=i("695e"),st=i("8bc3"),at=i("ee54"),ot=i("b94d"),rt=i("42fc"),nt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"search-items"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Search By",expression:"'Search By'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:t.activeFilter?"secondary":"gray","no-border":""}},[e("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[e("div",{staticClass:"title-3 q-pa-xs border"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchColumns},on:{click:function(t){t.stopPropagation()},keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[t._l(t.columnList,(function(i){return[i.display&&!1!==i.isFilter?e("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(e){return t.updateFilterBy(i.id)}}}):t._e()]}))],2)],1)],1)],1)},lt=[],ct={name:"SearchItems",components:{ListItem:x["a"]},props:{columns:{type:Array,default:()=>[]},selectedFilterColumn:{type:String,default:""}},data(){return{activeFilter:!1,searchColumns:"",columnList:[]}},computed:{scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{columns:{deep:!0,immediate:!0,handler(){this.columns.length&&!this.activeFilter&&(this.columnList=[],this.columns.forEach(t=>{this.columnList.push({...t,selected:!1,display:"show"})}))}},selectedFilterColumn:{deep:!0,immediate:!0,handler(){this.selectedFilterColumn?this.activeFilter=!0:this.activeFilter=!1}}},methods:{searchColumnList(t){this.columnList.forEach(e=>{e.display="show",e.label.toLowerCase().includes(t.toLowerCase())||(e.display="")})},updateFilterBy(t){this.columnList.forEach(t=>{t.selected=!1});let e=this.columnList.find(e=>e.id===t);if(e){e.selected=!0,this.$emit("update:selectedFilterColumn",e.label);let t=[],i="CONTAINS";"DATE"===e.dataType&&(i="IS_EQUALS_TO"),t=[{filters:[{criteria:e.id,condition:i,value:"",dataType:e.dataType}],groupCondition:""}],this.$emit("update:filterSearchColumn",t),0===t.length&&this.$emit("update")}}}},dt=ct,ht=(i("1fa9"),Object(S["a"])(dt,nt,lt,!1,null,"4cd3e935",null)),ut=ht.exports;T()(ht,"components",{QMenu:A["a"]});var pt=i("470f"),mt=i("98cf"),ft=i("909a"),gt=i("7ee8"),vt=i("9996"),yt=i("ec15"),bt=i("bb36"),xt=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"mdi-cellphone-link","icon-color":"secondary"},on:{input:t.handleInput},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Upload files from another device")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md row qr-contnt"},[e("img",{attrs:{src:t.qrImg}}),e("div",{staticClass:"row qr-info"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.tooltip,expression:"tooltip",modifiers:{top:!0}}],staticClass:"info-icon",attrs:{"inherit-color":"",name:"eva-alert-circle-outline"}}),e("p",[t._v("Keep the form open while uploading files.")])],1)])]},proxy:!0}])})},wt=[],kt={name:"GenerateQr",components:{Confirm:K["a"]},props:{value:{type:Boolean,required:!0},isReadonly:{type:Boolean,default:!1},repositoryId:{type:Number},fieldId:{type:String}},data(){return{qrImg:""}},watch:{value:{deep:!0,immediate:!0,handler(){this.value&&this.getQr()}}},methods:{handleInput(t){this.$emit("input",t),console.log(this.$store.state.session,"this.$store.state.session")},async getQr(){let t="http://localhost:8080"==location.origin?"http://52.172.32.88/app":location.origin,e={url:t+"/mobileUpload",jsonData:JSON.stringify([{repositoryId:this.repositoryId,fieldId:this.fieldId}]),status:0};console.log(e,"input");const{error:i,payload:s}=await l["p"].getQrcode(e);console.log(i,s,"error, payload"),console.log(JSON.parse(s.data),"url");const{id:a,output:o}=JSON.parse(s.data);this.qrImg="data:image/png;base64,"+o,console.log(this.qrImg,"this.qrImg",a),this.$emit("checkUploadId",a)}}},Ct=kt,St=(i("9d3d"),Object(S["a"])(Ct,xt,wt,!1,null,"7f52b105",null)),At=St.exports,It=i("46ab"),Tt={name:"InboxList",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],Sheet:r["a"],RenderForm:n["a"],FormFieldLabel:c["a"],CheckboxField:d["a"],TextAreaField:h["a"],TextField:u["a"],Portal:p["Portal"],ItemActions:m["a"],ProcessList:O,ListItem:x["a"],Modal:E["a"],FilterItems:N["a"],SortItems:$["a"],MultiSelectField:R["a"],Pagination:z["a"],ImportPopup:q["a"],FileIcon:V["a"],SignatureField:Y["a"],EmailSharing:G["a"],FileDetails:U["a"],Confirm:K["a"],SingleChoiceField:Z["a"],SelectField:Q["a"],CustomForm:tt["default"],CustomProcessForm:et["a"],TextBuilderField:it["a"],PasswordField:st["a"],MetaDataEdit:at["a"],Tabs:ot["a"],SearchItems:ut,SubWorkflowProcess:pt["a"],Attachments:yt["a"],Comments:bt["a"],GenerateQr:At,ProgressBar:It["a"]},props:{selectedNode:{type:String,required:!0,default:"My Inbox"},myInbox:{type:Boolean,required:!0},workflow:{type:Object,required:!0},workflowList:{type:Array,default:()=>[]},workflowRequestList:{type:Array,default:()=>[]},groupKey:{type:Array,default:()=>[]},wform:{type:Object,default:()=>{}},repository:{type:Object,default:()=>{}},processActions:{type:Array,default:()=>[]},processActionsAddOn:{type:Array,default:()=>[]},selectedProcess:{type:Object,default:()=>{}},fullView:{type:Boolean,default:!1},activeView:{type:String,default:""},internalForward:{type:Object,default:()=>{}},userList:{type:Array,default:()=>[]},groupList:{type:Array,default:()=>[]},currentPage:{type:Number,default:1},itemsPerPage:{type:Number,default:50},totalItems:{type:Number,default:0},masterFormId:{type:Number,default:0},dataImported:{type:Boolean,default:!1},userSignature:{type:Boolean,default:!1},taskFormId:{type:Number,default:0},taskEntryId:{type:Array,default:()=>[]},taskEntries:{type:Array,default:()=>[]},checkList:{type:Array,default:()=>[]},customReply:{type:Boolean,default:!1},userReply:{type:Boolean,default:!1},toRequester:{type:Boolean,default:!1},dataValidationValues:{type:Array,default:()=>[]},customCloseProcessSheet:{type:Boolean,required:!1},selectedCompletedNode:{type:String,default:""},hideColumns:{type:Array,default:()=>[]},addTaskEnabled:{type:Boolean,default:!1},loadingBarInbox:{type:Boolean,default:!1},portalAction:{type:Boolean,default:!1},dashboard:{type:Boolean,default:!1},exporting:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1},dashboardId:{type:Number,default:0},dashboardName:{type:String,default:""}},data(){return{hideActions:["sort","group"],search:"",initiate:!1,importExcel:!1,processSheet:!1,headerTitle:"",formModel:{},form:{},formId:"",actions:[],workflowFormModel:{},saveAction:"",generatePDF:0,documentRequired:!1,hasSelectedProcess:0,hasSelectedWorkflow:0,initiateProcess:!1,tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0},{id:this.$nano.id(),label:"task",value:"TASK",icon:"eva-cube-outline",count:0},{id:this.$nano.id(),label:"Data Validation",value:"VALIDATION",icon:"mdi-file-compare",count:0},{id:this.$nano.id(),label:"Sub Process",value:"SUB_PROCESS",icon:"eva-link-2-outline",count:0},{id:this.$nano.id(),label:"Form Entry History",value:"FORM_ENTRY_HISTORY",icon:"mdi-file-document",count:0}],mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",attachmentSheet:!1,commentsSheet:!1,mailTransactionSheet:!1,commentText:"",commentsList:[],attachmentList:[],mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},isLoading:!1,sortBy:{criteria:"",order:"DESC"},groupBy:"",columns:[],requestActionModal:!1,groupActionModalButton:{},groupActionKey:"",groupActionFields:[],workflowRequestListData:[],armgroupForwardUser:"",processForwardModal:!1,forwardUsers:[],forwardGroups:[],processForwardGroupAction:!1,selectedFilter:[],filterBy:[],attachmentLoad:null,signImg:"",signList:[],selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],jiraConnect:!1,jiraAccounts:[],jiraIssueSheet:!1,issueName:"",projectKey:"",issueType:"",issueDescription:"",issueEpicValue:"",issueAssignee:"",issueAssigneeUsers:[],issueDescriptionTable:!1,issueDescriptionFields:[],jiraConfirmModal:!1,issueRef:{},taskSheet:!1,itemModel:{},errorMessage:"",errorModal:!1,successModal:!1,formWidth:"100vw",commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,formFields:[],checkListRowIndex:null,formEditAccess:!1,formEditControls:[],readonlyControls:[],formVisibilityAccess:!0,formSecureControls:[],requestPrefix:"",mlPrediction:"",advancedCommentsSheet:!1,advancedCommentText:"",docWarning:!1,alertModal:!1,actionRemarks:!1,actionPassword:!1,actionPasswordConfirm:!1,actionUserPassword:"",actionComments:!1,actionConfirm:!1,actionConfirmAlert:!1,repositoryDetails:[],repositoryField:[],showMetaDataEditModal:!1,selectedUploadFile:{},workflowModel:{},customVerify:!1,formCheckList:!1,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],scrollPosition:0,commentsLoad:null,mailTransactionLoad:null,documentLoad:null,documentLoadList:[],uploadFilename:"",filterSearchColumn:{},selectedFilterColumn:"",showCustomProcessForm:!1,watchViewerClose:null,saveOnly:!1,hasWflowInitiator:!1,subWorkflowId:0,initiateSubWorkflowProcess:!1,subProcessSheet:!1,subProcessData:{},subTabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],subProcessLink:"",openSubProcessSheet:!1,subProcessTickets:[],documentSignProcess:!1,formUploadFiles:[],attachComment:!1,fileNames:[],selectedFileForAttach:0,displayInternalPublic:!1,mandatory:{},fileControlDeleteFile:[],hasCheckFormValidate:!1,subWorkflowName:"",fileUploadForControl:!1,fileUploadInput:{},metaDataModal:{},metaDataTitle:"",requestReleaseModal:!1,notifyInitiator:!1,initUserSignature:!1,isRequestLocked:!1,selectedSubWorkflow:{},groupItemSelected:!1,ocrResult:[],formView:!0,stageLevel:[],currentStep:0,subProcessId:0,btnAction:!1,refreshAction:!1,autoSaveModel:{},showAttachmentSheet:!1,showCommentsSheet:!1,showQr:!1,selectedFieldId:"",uploadInterval:null,pinned:!1,issavesheet:!1,progressBars:[{width:"20%"},{width:"30%"},{width:"50%"},{width:"30%"},{width:"50%"},{width:"70%"},{width:"20%"},{width:"30%"},{width:"50%"},{width:"30%"},{width:"50%"},{width:"70%"},{width:"20%"},{width:"70%"}]}},computed:{...Object(w["c"])(["LoadingBar","darkTheme"]),formName(){return this.formId?this.form.settings.general.name:""},formDescription(){return this.formId?this.form.settings.general.description:""},panels(){if(!this.formId)return[];if(this.groupActionFields.length){let t=[];return this.form.panels.map(e=>{let i=[];e.fields.forEach(t=>{this.groupActionFields.indexOf(t.id)>-1&&i.push(t)}),t.push({id:e.id,fields:i,settings:e.settings})}),t}return this.form.panels},secondaryPanels(){return this.formId?this.groupActionFields.length?[]:this.form.secondaryPanels:[]},formSettings(){return this.formId?this.form.settings:{}},items(){return this.workflowRequestList.map(t=>({id:t.processId,key:t.key,itemLink:!0,processId:t.processId,workflowId:t.id,requestNo:t.requestNo,stage:t.stage,raisedAt:this.$day.format(t.raisedAt),raisedBy:t.raisedBy,actionUser:t.activityUserEmail,lastAction:t.lastAction,lastActionBy:t.transaction_createdByEmail,lastActionOn:this.$day.format(t.transaction_createdAt),duration:this.lastActionDuration(t),checked:t.checked,starred:t.starred,mlPrediction:t.mlPrediction,mlCondition:t.mlCondition,jiraIssueInfo:t.jiraIssueInfo,visible:t.visible,attachmentCount:t.attachmentCount||0,commentsCount:t.commentsCount||0,transactionId:t.transactionId,expandSubworkflow:!1,checkboxRequired:t.checkboxRequired,...this.getProcessData(t),subWorkflow:t.subworkflowTransaction?t.subworkflowTransaction.map(e=>({activityId:e.activityId,userId:e.activityUserId,color:1==e.flowStatus?"green":"orange",iconTooltip:1==e.flowStatus?"Completed":"In-progress",icon:1==e.flowStatus?"mdi-check-circle-outline":"mdi-progress-clock",processId:e.processId,raisedAt:this.$day.format(e.raisedAt),raisedBy:e.raisedBy,raisedByUser:e.raisedByUserId,requestNo:e.requestNo,review:e.review,stageName:e.stageName,id:e.subWorkFlowId,parentProcessID:t.processId,stageType:e.stageType,duration:this.sublastActionDuration(e),stage:e.stageName,subWorkFlowId:e.subWorkFlowId,subWorkflowName:e.subWorkflowName,transactionId:e.transactionId,inbox:String(e.activityUserId)===String(this.$store.state.session.id),attachmentsCount:e.attachmentCount,commentsCount:e.commentsCount,displaySubTable:!1,actionUser:e.activityUserEmail})):[]}))},selectedFileCount(){this.clearAttach();let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t},isMaximized(){return"100vw"===this.formWidth},_enableControls(){let t=[],e=[];return this.panels&&this.panels.forEach(i=>{if(i.fields.length){let s=i.fields.filter(t=>"SINGLE_SELECT"===t.type||"SINGLE_CHOICE"===t.type||"MULTIPLE_CHOICE"===t.type||"MULTI_SELECT"===t.type);s.length&&s.forEach(i=>{if(i.settings.validation.enableSettings&&i.settings.validation.enableSettings.length){let s=[];i.settings.validation.enableSettings.forEach(t=>{t.controls.length&&(s.push({value:t.value,childControls:t.controls}),t.controls.forEach(t=>{s.indexOf(t)<0&&e.push(t)}))}),s.length&&t.push({id:i.id,parentControls:s})}})}}),{listControls:e,controls:t}},isCustomizedWorkflow(){let t=location.origin;if("https://demo.ezofis.com"===t||"http://52.172.32.88"===t){if(1014===this.workflow.id)return!0}else if((this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&1===this.workflow.id)return!0;return!1},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)},commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode||this.initiateProcess?this.checkCommentsOption()&&!this.isCustomizedWorkflow?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 270px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 230px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 200px)":this.displayInternalPublic?"calc(100vh - 220px)":"START"!==this.selectedProcess.stageType?"calc(100vh - 180px)":"calc(100vh - 150px)":"calc(100vh - 150px)":""},notifyInitiatorClass(){return this.attachmentList.length&&this.fileNames.length?"":"action-container"},mandatoryDocument(){return this.checkList.filter(t=>t.required&&!t.attach)},mandatoryFilling(){return this.mandatory.filledValue&&this.mandatory.nonFilledValue?Math.floor(this.mandatory.filledValue/(this.mandatory.filledValue+this.mandatory.nonFilledValue)*100):this.mandatory.filledValue?100:0},checkFormModel(){return Object(gt["a"])(this.formModel)?Object(gt["a"])(this.workflowModel)?this.formModel:this.workflowModel:this.formModel}},watch:{myInbox:{deep:!0,immediate:!0,handler(){this.myInbox?this.hideActions.push("toggle"):this.hideActions=this.hideActions.filter(t=>"toggle"!=t)}},workflowRequestList:{deep:!0,immediate:!0,handler(){this.getColumns(),this.applyHideColumns(),this.groupItemSelected=!1,this.workflowRequestList.filter(t=>t.checked).length&&(this.groupItemSelected=!0)}},workflow:{deep:!0,immediate:!0,handler(){if(this.initiate=!1,this.importExcel=!1,this.workflow.id){this.myInbox||this.clearFilterByColumns();let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e){if("MANUAL"===e.settings.initiateMode&&"DOCUMENT"!==this.workflow.initiatedBy){if((e.settings.users.indexOf(this.$store.state.session.id)>-1||e.settings.users.indexOf("0")>-1)&&(this.initiate=!0),e.settings.initiateBy.indexOf("DOMAIN_USER")>-1){let t=this.$store.state.session.email.split("@").pop();e.settings.userDomains.indexOf(t)>-1&&(this.initiate=!0)}}else"MANUAL_AUTOMATIC"===e.settings.initiateMode&&(e.settings.users.indexOf(this.$store.state.session.id)>-1||e.settings.users.indexOf("0")>-1)&&e.settings.initiateBy.indexOf("MASTER_FORM")>-1&&(this.importExcel=!0,this.$emit("update:masterFormId",e.settings.masterFormId));this.generatePDF=e.settings.generatePDF?1:0,this.documentRequired=e.settings.documentRequired||!1}let i=location.origin;"https://edmsuat.sobhaapps.com"===i&&55===this.workflow.id&&(this.initiate=!1)}}},wform:{deep:!0,immediate:!0,handler(){this.wform.formJson&&this.getColumns()}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&(this.initiateProcess?this.checkRequiredDocument():this.groupActionFields.length?this.groupProcessRequest():this.checkRequiredDocument())}},fullView:{deep:!0,immediate:!0,handler(){this.fullView?(this.openProcess(),this.getSubWorkflow()):this.closeProcessSheet()}},selectedProcess:{immediate:!0,handler(){this.selectedProcess.processId&&(this.attachmentList=[])}},activeView:{deep:!0,immediate:!0,handler(){this.activeView&&this.$emit("update:activeView",this.activeView)}},currentPage:{immediate:!0,deep:!0,handler(){this.$emit("update:currentPage",this.currentPage),this.$emit("refresh",!1)}},attachmentSheet:{immediate:!0,handler(){if(this.attachmentSheet&&this.selectedProcess.processId){if(this.getAttachments(),this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}},commentsSheet:{immediate:!0,handler(){this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments()},3e4):clearInterval(this.commentsLoad)}},mailTransactionSheet:{immediate:!0,handler(){this.mailTransactionSheet&&this.selectedProcess.processId?this.mailTransactionLoad=setInterval(()=>{this.getMailTransactions()},3e4):clearInterval(this.mailTransactionLoad)}},taskEntries:{immediate:!0,handler(){this.tabs.find(t=>{"TASK"===t.value&&(t.count=this.taskEntries.length)})}},processSheet(){this.fileData=[],this.workflowModel={}},dataValidationValues:{immediate:!0,deep:!0,handler(){if(this.customVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.filter(t=>"Matched"!==t.status&&"Verified"!==t.status);t.length&&(this.customVerify=!0)}}},customCloseProcessSheet:{deep:!0,immediate:!0,handler(){this.closeProcessSheet()}},sortBy:{deep:!0,immediate:!0,handler(){this.sortBy.criteria&&this.$emit("sortBy",this.sortBy)}},subWorkflowId(){if(this.hasWflowInitiator=!1,this.subWorkflowId){let t=this.workflowList.find(t=>t.id==this.subWorkflowId);if(t){this.subWorkflowName="Initiate - "+t.name,this.hasWflowInitiator=!1;let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i&&"MANUAL"===i.settings.initiateMode&&"DOCUMENT"!==t.initiatedBy&&((i.settings.users.indexOf(this.$store.state.session.id)>-1||i.settings.users.indexOf("0")>-1)&&(this.hasWflowInitiator=!0),i.settings.initiateBy.indexOf("DOMAIN_USER")>-1)){let t=this.$store.state.session.email.split("@").pop();i.settings.userDomains.indexOf(t)>-1&&(this.hasWflowInitiator=!0)}}}},exporting:{immediate:!0,deep:!0,async handler(){this.exporting&&await this.exportRequestData()}}},created(){localStorage.removeItem("viewerClose"),localStorage.removeItem("signItemId"),this.getAppConnection();let t=location.origin;"https://edmsuat.sobhaapps.com"!==t&&"https://edms.sobhaapps.com"!==t||this.hideActions.push("activeView")},methods:{checkMobileUpload(t){console.log(t),this.uploadInterval=setInterval(()=>{this.watchMobileUpload(t)},5e3)},async watchMobileUpload(t){const{error:e,payload:i}=await l["p"].getQrFileUploadById(t);console.log(e,i,"error, payload");let s=JSON.parse(i.jsonData);if(console.log(s,"jsonData","payload.status",i.status),i.status){let t=s[0];console.log(t,"file");let e={name:t.attachmentList[0].name,size:t.attachmentList[0].size,file:"",fileId:t.attachmentList[0].id,id:t.attachmentList[0].id,fileControl:!0,formAttach:!0,createdBy:t.attachmentList[0].createdByEmail,createdAt:new Date(t.attachmentList[0].createdAt).toLocaleString("en-US",{hour12:!0,timeZone:"Asia/Kolkata"}),workflowId:this.workflow.id,processId:this.selectedProcess.processId,fieldId:t.fieldId,fileDataValidate:""};this.attachmentList.push(e);let i={name:t.attachmentList[0].name,size:t.attachmentList[0].size,file:"",fileId:t.attachmentList[0].id,uploadedPercentage:100,createdBy:t.attachmentList[0].createdByEmail,createdAt:new Date(t.attachmentList[0].createdAt).toLocaleString("en-US",{hour12:!0,timeZone:"Asia/Kolkata"})};this.formFields.forEach(e=>{"FILE_UPLOAD"===e.type&&this.workflowModel[e.value]&&e.value==t.fieldId&&this.workflowModel[e.value].push(i)}),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)}),this.showQr=!1,console.log(e,"updatedData"),clearInterval(this.uploadInterval),this.uploadInterval=null}else console.log("Waiting for uploaded"),this.processSheet||(clearInterval(this.uploadInterval),this.uploadInterval=null)},generateQrCode(t){this.selectedFieldId=t,console.log(t,"fieldId"),this.showQr=!0},checkTabAccess(t){return"TASK"===t?this.addTaskEnabled:"VALIDATION"===t?!!this.isCustomizedWorkflow:"FORM_ENTRY_HISTORY"!==t||!!this.formId},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1,this.notifyInitiator=!1},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflow.id||2092===this.workflow.id)&&0===this.attachmentList.length},checkTenant(){return!this.isTenantArmgroup()||(this.commentAction=2,!1)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:80801"===t)&&3===this.$store.state.session.tenantId},isTenantGOTOComments(){return!!(Object.keys(this.selectedProcess).length&&this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id)},checkCommentsOption(){return!this.isTenantArmgroup()&&(!this.isTenantGOTO()||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},toggleWidth(){this.formWidth="100vw"===this.formWidth?"50vw":"100vw"},closeProcessSheet(t){this.isCustomizedWorkflow&&this.selectedProcess.ticketLockedBy===this.$store.state.session.id&&this.$emit("release",this.selectedProcess),this.processSheet=!1,this.saveAction="",this.workflowFormModel={},this.subProcessData={},this.subProcessTickets=[],this.$emit("update:fullView",!1),(this.isCustomizedWorkflow&&t||this.refreshAction)&&this.$emit("refresh",this.workflow.id)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments&&(this.$refs.attachments.value=null)},clearSortBy(){this.sortBy={criteria:"",order:"DESC"}},clearGroupBy(){this.groupBy=""},closeTaskSheet(){this.taskSheet=!1},closeJiraIssueSheet(){this.issueName="",this.projectKey="",this.issueType="",this.issueDescription="",this.issueEpicValue="",this.issueAssignee="",this.issueDescriptionTable=!1,this.issueDescriptionFields=[],this.jiraIssueSheet=!1},async loadProcessLinks(){this.getComments(),await this.getAttachments(),(this.isTenantArmgroup()||"https://trial.ezofis.com"===origin&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.selectedProcess.commentsCount)}),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.selectedProcess.attachmentCount)}),this.getProcessSignature(),this.getMailTransactions()},updateDataValidationValues(t){this.$emit("update:dataValidationValues",t)},userInitials(t){let e="";return t.firstName&&(e+=t.firstName[0].toUpperCase()),t.lastName?e+=t.lastName[0].toUpperCase():e+=t.firstName[1],e},async showLinks(t){"ATTACHMENTS"===t?this.showAttachmentSheet=!0:"COMMENTS"===t?(this.fileNames=[],this.fileNames=this.attachmentList.filter(t=>{let e=t.name.split(".").pop().toUpperCase();return"pdf"===e.toLowerCase()}).map(t=>({id:this.$nano.id(),label:t.name,value:t.id})),this.showCommentsSheet=!0):"HISTORY"===t&&this.selectedProcess.processId?this.$emit("history",this.selectedProcess.processId):"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$emit("addTask"):"VALIDATION"===t?this.$emit("validation",this.selectedProcess.processId):"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"SUB_PROCESS"===t?this.subProcessSheet=!0:"FORM_ENTRY_HISTORY"===t&&this.$emit("showFormEntryHistory")},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},sublastActionDuration(t){const e=t.raisedAt instanceof Date?t.raisedAt:new Date(t.raisedAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},validateType(t){let e="";return this.panels.forEach(i=>{if(!i.fields.length)return;let s=i.fields.find(e=>e.id===t);s&&(e=s.type)}),e},validateValue(t){let e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!e.test(t)},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},tableValue(t){return t?JSON.parse(t):[]},tableColumns(t,e){let i=this.formFields.find(t=>t.value===e),s=[];i.settings.specific.tableColumns.forEach(t=>{"DISABLE"!==t.settings.general.visibility&&s.push(t)});let a=[],o=[];for(let r in this.tableValue(t)[0])a.push(r);return s.forEach(t=>{a.indexOf(t.id)>-1&&o.push(t)}),o},groupRequestList(t){return this.workflowRequestList.filter(e=>e.key===t)},groupRequestListName(t){const e=this.workflowRequestList.filter(e=>e.key===t);return!!(e.length>0&&e.some(t=>!0===t.visible))},groupSelected(t){let e=this.workflowRequestList.filter(e=>e.key===t),i=0;return e.forEach(t=>{t.checked&&i++}),i>1},showRequestPreview(t,e){this.hasSelectedProcess=t,this.hasSelectedWorkflow=e,this.$emit("show",t,e)},showSubRequestPreview(t){t.id=t.subWorkFlowId,this.hasSelectedProcess=t.processId,this.hasSelectedWorkflow=t.subWorkFlowId,this.selectedSubWorkflow=t,this.subWorkflowId=t.subWorkFlowId,this.openSubProcessSheet=!0,this.subProcessData=t},getJIRALink(t){let e=new URL(t.self),i=e.origin.replace("https://jira-external-tools-integration.getgotools.net","https://jira.ops.expertcity.com");return`${i}/browse/${t.key}`},closeSubProcessSheet(){this.subProcessSheet=!1},async showRequest(t,e){this.hasSelectedProcess=t,this.hasSelectedWorkflow=e,this.$emit("show",t,e,!0)},getModel(t){if(this.formModel={},this.itemModel={},0===Object.keys(this.selectedProcess).length)this.workflowRequestList.forEach(e=>{if(e.processId==t&&e.id==this.workflow.id)if(this.headerTitle=`${e.requestNo} - ${e.stage}`,e.formData){let t=Object.keys(e.formData.fields),i={};t.forEach(t=>{i[t]=this.validateTypeValue(e.formData.fields[t])}),this.formModel=i}else e.itemData&&(this.itemModel=e.itemData)});else{let t=this.selectedProcess;if(this.headerTitle=`${t.requestNo} - ${t.stage}`,t.formData){let e=Object.keys(t.formData.fields),i={};e.forEach(e=>{i[e]=this.validateTypeValue(t.formData.fields[e])}),this.formModel=i}else t.itemData&&(this.itemModel=t.itemData)}},loadMore(t){if(this.totalItems>this.itemsPerPage&&this.workflowRequestList.length>=this.currentPage*this.itemsPerPage){let e=t.srcElement.scrollTop;e>this.scrollPosition&&this.$emit("update:currentPage",this.currentPage+1),this.scrollPosition=e}},async openProcess(t=!1){if(this.btnAction=!1,this.actions=[],this.form={},this.formId="",this.isRequestLocked=!1,this.displayInternalPublic=!1,this.getRepository(),this.ocrResult=[],this.subWorkflowId=0,this.attachmentList=[],this.commentsList=[],t){this.tabs.find(t=>{t.count=0}),this.$emit("update:selectedProcess",{}),this.$emit("update:taskEntries",[]),this.commentsList=[],this.attachmentList=[],this.initUserSignature=!1,this.initiateProcess=!0,this.formModel={},this.signList=[],this.formEditAccess=!1,this.formEditControls=[],this.readonlyControls=[],this.formVisibilityAccess=!0,this.formSecureControls=[];let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>"START"===t.type);if(e){if("MANUAL"===e.settings.initiateMode){this.headerTitle=""+e.settings.label;let i=t.rules.find(t=>t.fromBlockId===e.id);i&&this.actions.push(i.proceedAction)}if(e.settings.formEditAccess&&(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls)),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),this.initUserSignature=e.settings.userSignature,e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.$emit("update:checkList",t)}}else this.$emit("update:checkList",[]);(e.settings.initiateBy.indexOf("PORTAL")>-1||this.portalAction)&&(this.displayInternalPublic=!0),e.settings.workflowInitiator&&(this.subWorkflowId=e.settings.subWorkflowId)}}else{if("inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){this.formEditAccess=!1;let t=JSON.parse(this.workflow.flowJson),e=t.blocks.find(t=>t.id===this.selectedProcess.activityId);if(e){if(""===e.settings.formEditAccess?(this.formEditAccess=!0,this.formEditControls=[]):"FULL"===e.settings.formEditAccess?(this.formEditAccess=!1,this.formEditControls=[]):"PARTIAL"===e.settings.formEditAccess&&(this.formEditAccess=!1,this.formEditControls=e.settings.formEditControls),e.settings.formVisibilityAccess?(this.formVisibilityAccess=!0,this.formSecureControls=[]):(this.formVisibilityAccess=!1,this.formSecureControls=e.settings.formSecureControls),t.settings.general.processNumberPrefix.indexOf("[")>-1){let e=JSON.parse(t.settings.general.processNumberPrefix);this.readonlyControls=[];let i=e.filter(t=>"formColumn"===t.key);i.length&&i.forEach(t=>{this.readonlyControls.push(t.value),this.formEditControls.indexOf(t.value)>-1&&this.formEditControls.splice(this.formEditControls.indexOf(t.value),1)})}if(e.settings.fileSettings){if(e.settings.fileSettings.fileCheckList.length){let t=e.settings.fileSettings.fileCheckList;t.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}),this.docWarning=e.settings.fileSettings.partial,this.$emit("update:checkList",t)}}else this.$emit("update:checkList",[]);e.settings.workflowInitiator&&(this.subWorkflowId=e.settings.subWorkflowId),this.displayInternalPublic=!1;let i=t.blocks.find(t=>"START"===t.type);i&&(i.settings.initiateBy.indexOf("PORTAL")>-1||this.portalAction)&&(this.displayInternalPublic=!0)}if(this.isCustomizedWorkflow)if("common"===this.selectedNode&&"szS6B-q1x9acpB83rP6jT"===this.selectedProcess.activityId){if(this.$store.state.session.groups){let t=this.$store.state.session.groups;if(t.length){let e=t.find(t=>3===t.id);e&&await this.checkTicketLock()}}}else await this.checkTicketLock()}else this.formEditAccess=!0;this.initiateProcess=!1,this.getModel(this.hasSelectedProcess),this.actions=this.processActions;let t=location.origin;(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.$emit("validation",this.hasSelectedProcess,!1),"https://edmsuat.sobhaapps.com"===t&&55===this.workflow.id&&(this.formEditAccess=!0),this.loadProcessLinks()}this.workflow.wFormId&&(this.formId=String(this.workflow.wFormId),this.form=JSON.parse(this.wform.formJson),t||"CARD"===this.form.settings.general.layout&&(this.form.settings.general.layout="TAB")),this.refreshAction=!1,this.processSheet=!0},validateRequest(t){this.btnAction=!0,this.saveAction=t,this.itemModel.itemId&&this.processRequest()},updateSelection(t){this.workflowRequestList.forEach(e=>{e.processId===t.processId&&(e.checked=!t.checked)}),this.$emit("update:workflowRequestList",this.workflowRequestList)},updateStarred(t){this.workflowRequestList.forEach(e=>{e.processId===t.processId&&(e.starred=!t.starred)}),this.$emit("update:workflowRequestList",this.workflowRequestList)},updateSelectionGroup(t){this.groupKey.forEach(e=>{e.name===t.name&&(e.checked=!t.checked,this.workflowRequestList.forEach(e=>{e.key===t.name&&(e.checked=t.checked)}),this.$emit("update:workflowRequestList",this.workflowRequestList))})},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},groupRequestAction(t,e){e.length?e.actionFields.length?(this.groupActionKey=e.name,this.groupActionFields=e.actionFields,this.groupActionModalButton=t,this.requestActionModal=!0,this.formId=String(this.workflow.wFormId),this.form=JSON.parse(this.wform.formJson)):"Forward"===t.name&&this.internalForward.proceed||this.isTenantGOTO()&&"Assign"===t.name&&this.internalForward.proceed?(this.groupActionKey=e.name,this.saveAction=t.name,this.processForwardGroupAction=!0,this.processForwardModal=!0):this.isTenantArmgroup()&&"Assign"===t.name?(this.saveAction=t.name,this.processForwardGroupAction=!0,this.processForwardModal=!0):(this.saveAction=t.name,this.groupProcessRequest()):this.isTenantArmgroup()&&"Assign"===t&&(this.saveAction=t,this.processForwardGroupAction=!0,this.processForwardModal=!0)},closeRequestActionModal(){this.requestActionModal=!1,this.groupActionKey="",this.groupActionFields=[],this.groupActionModalButton={}},submitGroupAction(){this.saveAction=this.groupActionModalButton.name},searchList(){this.search?this.workflowRequestList.forEach(t=>{t.requestNo.toLowerCase().indexOf(this.search.toLowerCase())>-1||t.name.toLowerCase().indexOf(this.search.toLowerCase())>-1||t.key.toLowerCase().indexOf(this.search.toLowerCase())>-1?t.visible=!0:t.visible=!1}):this.workflowRequestList.forEach(t=>{t.visible=!0})},searchRow(t){t?(this.workflowRequestList.forEach(t=>{t.visible=!1}),this.workflowRequestList.forEach(e=>{for(let i in e){let s=this.columns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return void(e.visible=!0);if("object"===typeof e[i]){if(JSON.stringify(e[i]).toLowerCase().includes(t.toLowerCase()))return void(e.visible=!0)}else if(String(e[i]).toLowerCase().includes(t.toLowerCase()))return void(e.visible=!0)}})):this.workflowRequestList.forEach(t=>{t.visible=!0})},getRequest(){1===this.currentPage?this.$emit("refresh"):this.$emit("update:currentPage",1)},getColumns(){this.formFields=[];let t=location.origin;this.columns=[{id:"requestNo",name:"requestNo",label:"Request No",type:"TITLE",isVisible:!0,isSortable:!0,dataType:f["a"].SHORT_TEXT}],this.isTenantGOTO()&&this.columns.push({id:"mlCondition",name:"mlCondition",label:"",type:"MLCONDITION",isVisible:!0,dataType:f["a"].SHORT_TEXT,isFilter:!1}),(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.columns.push({id:"mlCondition",name:"mlCondition",label:"",type:"MLCONDITION",isVisible:!0,dataType:f["a"].SHORT_TEXT,isFilter:!1});let e=[{id:"stage",name:"stage",label:"Stage",type:"NORMAL",isVisible:!0,dataType:f["a"].SHORT_TEXT},{id:"actionUser",name:"actionUser",label:"Action User",type:"NORMAL",options:this.userList,isVisible:!0,dataType:f["a"].SINGLE_SELECT},{id:"raisedBy",name:"raisedBy",label:"Raised By",type:"NORMAL",options:this.userList,isVisible:!0,dataType:f["a"].SINGLE_SELECT},{id:"raisedAt",name:"raisedAt",label:"Raised On",type:"NORMAL",isVisible:!0,isSortable:!0,dataType:f["a"].DATE},{id:"lastAction",name:"lastAction",label:"Last Action",type:"NORMAL",isVisible:!0,dataType:f["a"].SHORT_TEXT},{id:"lastActionBy",name:"lastActionBy",label:"Last Action By",type:"NORMAL",options:this.userList,isVisible:!0,dataType:f["a"].SINGLE_SELECT},{id:"lastActionOn",name:"lastActionOn",label:"Last Action On",type:"NORMAL",isVisible:!0,dataType:f["a"].DATE},{id:"duration",name:"duration",label:"Duration",type:"NORMAL",isVisible:!0,dataType:f["a"].SHORT_TEXT}];if(this.isTenantArmgroup()||"http://localhost:80801"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId){if(this.workflow.wFormId&&this.wform.formJson){let t=JSON.parse(this.wform.formJson);const e=[...t.panels,...t.secondaryPanels];if(!e.length)return;let i=[];for(const o of e)i.push(...o.fields);let s=i.find(t=>"Initials"===t.label);s&&this.columns.push({id:s.id,name:s.id,label:s.label,type:"NORMAL",isVisible:!0,dataType:s.type,apiLoad:!0,isFilter:!0});let a=i.find(t=>"Benefit Claimed"===t.label);a&&this.columns.push({id:a.id,name:a.id,label:a.label,type:"NORMAL",isVisible:!0,dataType:a.type,apiLoad:!0,isFilter:!0})}this.columns.push({id:"stage",name:"stage",label:"Stage",type:"NORMAL",isVisible:!0,dataType:f["a"].SHORT_TEXT},{id:"actionUser",name:"actionUser",label:"Action User",type:"NORMAL",options:this.userList,isVisible:!0,dataType:f["a"].SINGLE_SELECT},{id:"lastAction",name:"lastAction",label:"Last Action",type:"NORMAL",isVisible:!0,dataType:f["a"].SHORT_TEXT},{id:"lastActionBy",name:"lastActionBy",label:"Last Action By",type:"NORMAL",options:this.userList,isVisible:!0,dataType:f["a"].SINGLE_SELECT},{id:"lastActionOn",name:"lastActionOn",label:"Last Action On",type:"NORMAL",isVisible:!0,dataType:f["a"].DATE},{id:"duration",name:"duration",label:"Duration",type:"NORMAL",isVisible:!0,dataType:f["a"].SHORT_TEXT},{id:"raisedBy",name:"raisedBy",label:"Raised By",type:"NORMAL",options:this.userList,isVisible:!0,dataType:f["a"].SINGLE_SELECT},{id:"raisedAt",name:"raisedAt",label:"Raised On",type:"NORMAL",isVisible:!0,dataType:f["a"].DATE})}else this.columns.push(...e);if(this.workflow.wFormId&&this.wform.formJson){let t=JSON.parse(this.wform.formJson);const e=[...t.panels,...t.secondaryPanels];if(!e.length)return;let i=[];for(const r of e)i.push(...r.fields);let s=JSON.parse(this.workflow.flowJson),a=[];const o=s.blocks.reduce((t,e)=>(e.settings.formSecureControls&&e.settings.formSecureControls.length&&("string"===typeof e.settings.formSecureControls[0]?e.settings.users.forEach(i=>{t.push({[i]:e.settings.formSecureControls})}):e.settings.formSecureControls.forEach(e=>{e.formFields.length&&t.push({[e.userId]:e.formFields})})),t),[]);o.forEach(t=>{t[this.$store.state.session.id]&&a.push(...t[this.$store.state.session.id])}),i.forEach(t=>{if("DIVIDER"!==t.type&&"LABEL"!==t.type&&"PARAGRAPH"!==t.type&&(t.label||"TABLE"===t.type)&&"DISABLE"!==t.settings.general.visibility)if(a.length)if("object"===typeof a[0]){let e=a.findIndex(t=>t.userId===this.$store.state.session.id);if(e>=0){let i=a[e].formFields,s=i.findIndex(e=>e===t.id);-1===s&&(this.myInbox||this.columns.push({id:t.id,name:t.id,label:t.label,type:"NORMAL",isVisible:!0,dataType:t.type,apiLoad:!0,isFilter:!0}),this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings}))}}else{let e=a.findIndex(e=>e===t.id);-1===e&&(this.myInbox||this.columns.push({id:t.id,name:t.id,label:t.label,type:"NORMAL",isVisible:!0,dataType:t.type,apiLoad:!0,isFilter:!0}),this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings}))}else{if(!this.myInbox){let e=this.columns.findIndex(e=>e.id===t.id);-1===e&&this.columns.push({id:t.id,name:t.id,label:t.label,type:"NORMAL",isVisible:!0,dataType:t.type,apiLoad:!0,isFilter:!0})}this.formFields.push({id:this.$nano.id(),label:t.label||t.type,value:t.id,type:t.type,settings:t.settings})}})}else this.workflow.repositoryId&&this.repository.fields&&this.repository.fields.forEach(t=>{t.name&&"TABLE"!==t.dataType&&(this.myInbox||this.columns.push({id:t.id,name:t.name,label:t.name,type:"NORMAL",isVisible:!0,dataType:t.dataType}))})},async applyHideColumns(){this.hideColumns.forEach(t=>{const e=this.columns.findIndex(e=>e.id===t.columnName);e>-1&&(this.columns[e].isVisible=!1,this.columns[e].hideId=t.id)})},updateFilterBy(t){this.filterBy=t,this.$emit("filter",t)},updateFilterByColumns(){this.search?this.filterSearchColumn.length&&("SINGLE_SELECT"===this.filterSearchColumn[0].filters[0].dataType?this.filterSearchColumn[0].filters[0].value=JSON.stringify([this.search]):this.filterSearchColumn[0].filters[0].value=this.search,this.$emit("filter",this.filterSearchColumn)):0===this.filterSearchColumn.length&&this.$emit("filter",this.filterSearchColumn)},clearFilterByColumns(t){this.selectedFilterColumn="",this.filterSearchColumn=[],this.search="",t&&this.updateFilterByColumns()},showSubHistory(t,e){this.$emit("subHistory",t,e)},showHistory(t){this.$emit("history",t),this.$emit("history",t)},async openSubAttachments(t){const e=this.workflowRequestList.find(e=>e.processId===t.parentProcessID);let i;e&&(i=e.subworkflowTransaction.find(e=>e.processId===t.processId),i&&(i.id=i.subWorkFlowId,this.selectedProcess=i,this.$emit("update:selectedProcess",i),await this.getRepository(),await this.getAttachments(i.subWorkFlowId,i.processId),this.showLinks("ATTACHMENTS")))},async openAttachments(t){let e=this.workflowList.find(e=>e.id==t.workflowId);this.$emit("update:workflow",e),this.$emit("update:selectedProcess",t),await this.getRepository(),await this.getAttachments(t.workflowId,t.processId),this.showLinks("ATTACHMENTS")},async openSubComments(t){const e=this.workflowRequestList.find(e=>e.processId===t.parentProcessID);let i;e&&(i=e.subworkflowTransaction.find(e=>e.processId===t.processId),i&&(i.id=i.subWorkFlowId,this.selectedProcess=i,await this.getComments(i.subWorkFlowId,i.processId),this.showLinks("COMMENTS")))},async openComments(t){let e=this.workflowList.find(e=>e.id==t.workflowId);this.$emit("update:workflow",e),this.$emit("update:selectedProcess",t),await this.getComments(t.workflowId,t.processId),this.showLinks("COMMENTS")},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(j["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(W["d"])(e))s=this.isTenantArmgroup()?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="",s="";if("inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(s="&action=all"),Object(W["d"])(e))this.isTenantArmgroup()?(s="",i="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):"https://trial.ezofis.com"!==t||Object(W["c"])(e)?i=this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":(localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="https://trial.ezofis.com/docsviewer/index.html");else{if(Object(W["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${s}`}}},itemLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if("inbox"===this.selectedNode||"common"===this.selectedNode||"payment"===this.selectedNode){let e="",i="&action=all";return e=this.isTenantArmgroup()?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":"http://52.172.32.88"===t?"http://52.172.32.88/DocsViewer/index.html":t+"/PDFViewer/web/viewer.html","DOCUMENT_SIGN"===this.workflow.initiatedBy?(this.documentSignProcess=!0,localStorage.setItem("signItemId",0),localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),`${e}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&signature=true&getSign=true&uniqId=${this.selectedProcess.raisedByUserId}`):`${e}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}${i}`}{let e="",i="&action=download,print";return this.isTenantArmgroup()?(e="https://ag-appsvc04.azurewebsites.net/web/viewer.html",i=""):e="https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":"http://52.172.32.88"===t?"http://52.172.32.88/DocsViewer/index.html":t+"/PDFViewer/web/viewer.html",`${e}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}${i}`}},openFileByCmd(t){const e=t.embedFileList[0],{fileName:i,itemid:s,...a}=e;this.selectedFile={name:i,id:s,...a},this.isTenantArmgroup()?window.open(this.fileLink()):this.fileSheet=!0},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,this.isTenantArmgroup()?window.open(this.fileLink()):this.fileSheet=!0)},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(this.fileSheet=!1,localStorage.removeItem("viewerClose"),clearInterval(this.watchViewerClose),"DOCUMENT_SIGN"===this.workflow.initiatedBy&&this.getSignerSettings())},signLink(t){return`https://appuat.ezofis.com/ezofisapi/api/workflow/signView/${this.$store.state.session.tenantId}/${this.workflow.id}/${t}`},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},checkJiraRequest(){var t=this.workflowRequestList.filter(t=>t.checked);if(t.length){var e,i;let s="",a=0,o="",r="",n=0,l="";o=null===(e=this.formFields.find(t=>"Account Name"===t.label))||void 0===e?void 0:e.value,l=null===(i=this.formFields.find(t=>"Recommendation"===t.label))||void 0===i?void 0:i.value,t.forEach(t=>{t.formData.fields[o]!==s&&(s=t.formData.fields[o],a+=1),t.formData.fields[l]!==r&&(r=t.formData.fields[l],n+=1)}),a>1&&(s=""),n>1&&(r="");let c="";1===this.workflow.id?(c="EC2 ",this.issueDescriptionFields=["Resource ID","Resource Name","Availability Zone","Instance Type - Current","Recommendation","Instance Type - Recommended","Savings"]):3===this.workflow.id&&(c="EBS ",this.issueDescriptionFields=["Resource ID","Resource Name","Availability Zone","Volume Type - Current","Recommendation","Volume Type - Recommended","Savings"]),this.issueName=`${c}instances from ${s} marked for ${r}`,this.projectKey="GISDCT",this.issueType="Support-Request",this.jiraIssueSheet=!0,this.issueDescriptionTable=!0}else this.$alert.info("Select the inbox request")},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click()},actionColor(t){return this.darkTheme?t?-1!==t.toLowerCase().indexOf("reply")?"#ca811680":-1!==t.toLowerCase().indexOf("forward")?"#d2bc0980":-1!==t.toLowerCase().indexOf("approve")?"#418f4380":-1!==t.toLowerCase().indexOf("reject")?"#c9141480":"#27abc580":"#27abc580":t?-1!==t.toLowerCase().indexOf("reply")?"#f9e6ca":-1!==t.toLowerCase().indexOf("forward")?"#fcf5bc":-1!==t.toLowerCase().indexOf("approve")?"#bfe2c0":-1!==t.toLowerCase().indexOf("reject")?"#f9c3c3":"#e1f5f9":"#e1f5f9"},async copyText(t){await Object(J["a"])(t),this.$alert.success("Text copied")},checkRequiredDocument(){if("Save"===this.saveAction||"Force Close"===this.saveAction)this.proceedSubmission();else{if(this.documentRequired&&0===this.attachmentList.length)return this.$alert.warning("A minimum of one document is required for submission"),this.saveAction="",void(this.workflowFormModel={});let t=this.checkList.filter(t=>t.required&&!t.attach);t.length?this.docWarning?this.alertModal=!0:(this.$alert.warning("Mandatory documents required"),this.saveAction="",this.workflowFormModel={}):this.proceedSubmission()}},proceedSubmission(){this.alertModal=!1,this.initiateProcess?this.initiateRequest():this.processRequest()},closeAlertModal(){this.alertModal=!1,this.saveAction="",this.workflowFormModel={}},getJiraIssueInfo(t){if(t.jiraIssueInfo.id)return{"Ref# Id":t.jiraIssueInfo.id,Key:t.jiraIssueInfo.key,Link:t.jiraIssueInfo.self?this.getJIRALink(t.jiraIssueInfo):"",Assignee:t.jiraIssueInfo.assignee,"Issue Status":t.jiraIssueInfo.issueStatus}},getProcessData(t,e=!1){const i={};if(this.workflow.wFormId&&this.wform.formJson){if(t.formData)for(let s of Object.keys(t.formData.fields))if(e){const e=this.getLabel(s);i[e]=t.formData.fields[s]}else i[s]=t.formData.fields[s]}else if(this.workflow.repositoryId&&t.itemData)for(let s of Object.keys(t.itemData.items))i[s]=t.itemData.items[s];return i},getLabel(t){let e="",i=JSON.parse(this.wform.formJson);const s=[...i.panels,...i.secondaryPanels];if(!s.length)return;let a=[];for(const o of s)a.push(...o.fields);return a.forEach(i=>{const s=i.settings.specific.tableColumns.find(e=>e.id===t);if(s)e=s.label;else if(i.id===t)return void(e=i.label)}),e},isVisible(t){const e=this.columns,i=e.findIndex(e=>e.id===t);return i>-1&&e[i].isVisible},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},closeJiraConfirmModal(){this.jiraConfirmModal=!1,this.$emit("refresh",this.workflow.id)},updateSelectedSubWorkflow(t){this.subProcessData=t,this.selectedSubWorkflow=t,this.subWorkflowId=t.id,this.openSubProcessSheet=!0},async initiateRequest(){let t=[],e=[];this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let i=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&i.push(t.fileId)}),i.length&&e.push({jsonId:t.value,fileIds:i}),delete this.workflowFormModel[t.value]}}),this.attachmentList.length&&this.attachmentList.forEach(i=>{const s=e.some(t=>t.fileIds.includes(i.id));s||t.push(i.id)});let i={workflowId:this.workflow.id,review:"Save"===this.saveAction?"":this.saveAction,comments:this.commentsList,formData:{formId:this.formId,fields:this.workflowFormModel,formUpload:e},fileIds:t,task:this.taskEntryId,hasFormPDF:this.generatePDF,prefix:this.requestPrefix,mlPrediction:this.mlPrediction};this.$store.commit("showLoadingBarSave");const{error:s,payload:a}=await l["t"].processTransaction(i);this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.workflowFormModel={},this.alertModal=!1,s?this.$alert.error(s):(this.signImg&&await this.saveProcessSignature(a),i.review?this.$alert.success(a.requestNo+" Request Initiated"):this.$alert.success(a.requestNo+" Request Initiated and Moved to your inbox"),this.subProcessId&&this.addSubWorkflowProcess(a.processId),this.closeProcessSheet(),this.$emit("refresh",this.workflow.id))},async addSubWorkflowProcess(t){let e={mainWorkflowId:this.workflow.id,subWorkflowId:this.subWorkflowId,mainProcessId:t,subProcessId:this.subProcessId,subProcessStatus:0,review:""};const{error:i}=await l["t"].addSubWorkflow(e);i?this.$alert.error(i):this.updateSubWorkflowProcess()},async updateSubWorkflowProcess(){const{error:t,payload:e}=await l["q"].updateSubWorkflowProcess(this.workflow.id,this.$store.state.session.tenantId,this.subWorkflowId);t?this.$alert.error(t):console.log(e)},async processRequest(t=!0,e=!0){if(t){if(this.isTenantGOTO()&&"Assign"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if("Forward"===this.saveAction&&this.internalForward.proceed)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0);if(this.isTenantArmgroup()&&"Assign"===this.saveAction)return this.processForwardGroupAction=!1,void(this.processForwardModal=!0)}if(e){let t=this.processActionsAddOn.find(t=>t.action===this.saveAction);if(t&&Object.keys(t).length){if(this.actionRemarks=t.remarks,this.actionPassword=t.passwordAccess,this.actionConfirm=t.confirm,this.actionPassword)return void(this.actionPasswordConfirm=!0);if(this.actionRemarks)return this.actionComments=!0,void(this.advancedCommentsSheet=!0);if(this.actionConfirm)return void(this.actionConfirmAlert=!0)}}let i={},s=location.origin;this.userReply&&this.saveAction.indexOf("Reply")>-1?this.saveAction="UserReply":this.toRequester&&"To Requester"===this.saveAction&&(this.saveAction="ToInitiator"),this.customReply&&this.saveAction.indexOf("Reply")>-1&&(this.saveAction="Reply",this.forwardUsers.push(this.selectedProcess.transaction_createdBy));let a=[];if(this.formFields.forEach(t=>{if("FILE_UPLOAD"===t.type&&this.workflowModel[t.value]){let e=[];this.workflowModel[t.value].forEach(t=>{t.fileId&&e.push(t.fileId)}),e.length&&a.push({jsonId:t.value,fileIds:e}),delete this.workflowFormModel[t.value]}}),this.formId){if(this.isTenantGOTO()&&"Rollback"===this.saveAction)1===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy);else if("http://demo.ezofis.com"===s||"http://52.172.32.88"===s)6===this.workflow.id&&this.forwardUsers.push(this.selectedProcess.transaction_createdBy);else if(this.isTenantArmgroup()&&"szS6B-q1x9acpB83rP6jT"===this.selectedProcess.activityId&&"Assign"===this.saveAction){let t=this.formFields.find(t=>"Assigned To"===t.label);if(t){let e=this.userList.find(t=>t.value===this.armgroupForwardUser);if(!e)return void this.$alert.warning("Select any one user to assign");{this.workflowFormModel[t.value]=e.label;let i=this.formFields.find(t=>"Initials"===t.label);this.workflowFormModel[i.value]=this.userInitials(e)}this.armgroupForwardUser=""}}i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction||"CustomVerify"===this.saveAction?"":this.saveAction,formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.saveOnly?this.autoSaveModel:this.workflowFormModel,formUpload:a},userIds:this.forwardUsers,groupIds:this.forwardGroups}}else this.itemModel&&(i={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"Save"===this.saveAction?"":this.saveAction,formData:{},userIds:this.forwardUsers,groupIds:this.forwardGroups});this.saveAction="",this.workflowFormModel={},this.saveOnly||this.$store.commit("showLoadingBarSave");const{error:o}=await l["t"].processTransaction(i);this.saveOnly||this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):(this.signImg&&await this.saveProcessSignature(this.selectedProcess),this.saveOnly?this.saveOnly=!1:(""===i.review?(this.$alert.info(this.selectedProcess.requestNo+" data saved, awaiting your action to submit"),this.refreshAction=!0):i.review.toLowerCase().indexOf("reject")>-1?this.$alert.danger(this.selectedProcess.requestNo+" Request Rejected Successfully"):this.$alert.success(this.selectedProcess.requestNo+" Request Processed"),i.review&&(this.forwardUsers=[],this.forwardGroups=[],this.$emit("update:customReply",!1),this.$emit("update:userReply",!1),this.$emit("update:toRequester",!1),this.$emit("update:selectedProcess",{}),this.closeProcessSheet(),this.processForwardModal=!1,this.$emit("refresh",this.workflow.id))),this.fileControlDeleteFile.length&&(this.fileControlDeleteFile.forEach(t=>{this.fileControlDeletedFile(t)}),this.fileControlDeleteFile=[]))},async groupProcessRequest(){let t=[],e="";if(this.isTenantArmgroup()){this.workflowRequestList.forEach(e=>{e.checked&&t.push(e.transactionId)});let e=this.formFields.find(t=>"Assigned To"===t.label);if(e){let t=this.userList.find(t=>t.value===this.armgroupForwardUser);if(!t)return void this.$alert.warning("Select any one user to assign");{this.workflowFormModel[e.value]=t.label;let i=this.formFields.find(t=>"Initials"===t.label);this.workflowFormModel[i.value]=this.userInitials(t)}this.armgroupForwardUser=""}}else this.workflowRequestList.forEach(e=>{e.key===this.groupActionKey&&e.checked&&t.push(e.transactionId)});this.groupKey.forEach(i=>{if(i.checked)return t=[],void(e=i.name)});let i={workflowId:this.workflow.id,transactionId:t,review:"Save"===this.saveAction?"":this.saveAction,fields:this.workflowFormModel,mlPrediction:e,comments:this.commentText,userIds:this.forwardUsers,groupIds:this.forwardGroups,filterBy:this.filterBy};const{error:s}=await l["t"].groupRequestAction(i);this.$store.commit("hideLoadingBar"),s?this.$alert.error(s):(this.isTenantGOTO()&&await this.insertJiraIssueComment(),this.saveAction="",this.workflowFormModel={},this.forwardUsers=[],this.forwardGroups=[],this.$alert.success("Group Request Processed"),this.processForwardModal=!1,this.closeRequestActionModal(),this.$emit("refresh",this.workflow.id))},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}this.commentText="",this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]}),showTo:this.commentAction}),this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}),this.commentText="",this.clearAttach()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await l["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,showTo:this.commentAction}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)});this.actionComments&&this.processRequest(!1,!1)}},async uploadWflowAttachments(t){if(this.fileUploadForControl=!1,"STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;this.showMetaDataEditModal=!0}else this.uploadAttachments(t)},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflow.id),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),e?a.append("fields",e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(W["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await X()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(W["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const i=await X()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBar");const{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let d=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),h=this.fileData.find(t=>t.name===d.name),u=!1;"pdf"!==r.toLowerCase()&&(u=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?h.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:u}),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)}),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflow.id,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await l["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.selectedProcess.attachmentCount!==this.attachmentList.length&&(this.formCheckList=!0)}},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await l["t"].getMailTransactions(this.workflow.id,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},async resendMail(t){if(t){const{error:e}=await l["t"].resendMail(t);if(e)return void this.$alert.error(e);this.$alert.success("Resend Successful!"),this.getMailTransactions()}else this.$alert.info("Unable to resend")},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length-1)}),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await l["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await l["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},async saveProcessSignature(t){let e={signBinary:this.signImg.split(",")[1],fileType:"png"};const{error:i}=await l["t"].saveProcessSignature(this.workflow.id,t.processId,t.transactionId,e);i?this.$alert.error(i):this.signImg=""},async getProcessSignature(){this.signList=[];const{error:t,payload:e}=await l["t"].getProcessSignature(this.workflow.id,this.selectedProcess.processId);t?this.$alert.error(t):this.signList=e},async getAppConnection(){this.jiraConnect=!1;const{error:t,payload:e}=await l["j"].getJiraConnection({filterBy:[]});t?this.$alert.error(t):e.forEach(t=>{"jira"===t.cloudName&&(this.jiraConnect=!0,this.jiraAccounts.push(t))})},async createJiraIssue(){this.issueRef={};const t=await this.$refs.form.validate();if(!t)return;let e=[],i="",s="",a=0;this.groupKey.forEach(t=>{if(t.checked)return e=[],void(i=t.name)}),""===i&&(this.workflowRequestList.forEach(t=>{t.checked&&e.push(t.transactionId)}),this.issueDescriptionTable&&(s="||Action Taken (Mandatory)",this.issueDescriptionFields.forEach(t=>{s+="||"+t}),s+="||\n",this.workflowRequestList.forEach(t=>{t.checked&&(s+="|| ",this.issueDescriptionFields.forEach(e=>{var i;let o=null===(i=this.formFields.find(t=>t.label===e))||void 0===i?void 0:i.value;"Savings"===e?t.formData.fields[o]?(s+="||"+Number(t.formData.fields[o]).toFixed(2),a+=Number(t.formData.fields[o])):s+="|| ":t.formData.fields[o]?s+="||"+t.formData.fields[o]:s+="|| "}),s+="||\n")}),s+="Potential Savings: "+a.toFixed(2)+"\n"));let o={};o=this.jiraAccounts[0].email?{fields_cloud:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:{content:[{content:[{text:this.issueDescription+s,type:"text"}],type:"paragraph"}],type:"doc",version:1}}},cloudIntegrationId:this.jiraAccounts[0].id}:{fields_onpremise:{fields:{summary:this.issueName,project:{key:this.projectKey},issuetype:{name:this.issueType},description:this.issueDescription+s,customfield_14635:{value:"No"},customfield_15136:{value:"Maintenance"}}},cloudIntegrationId:this.jiraAccounts[0].id,workflowId:this.workflow.id,transactionId:e,mlPrediction:i,assignee:this.issueAssignee?{name:this.issueAssignee}:{},filterBy:this.filterBy},this.$store.commit("showLoadingBar");const{error:r,payload:n}=await l["j"].createJiraIssue(o);if(this.$store.commit("hideLoadingBar"),r){this.$alert.warning("error creating issue in jira");let t=JSON.parse(r);return console.log(t),this.errorMessage=t.errorMessages,void(this.errorModal=!0)}if(i)this.successModal=!0;else{if(!n)return void this.$alert.warning("error creating issue in jira");this.issueRef=JSON.parse(n),this.issueRef.self=this.getJIRALink(this.issueRef),this.$alert.success("Issue Created in JIRA"),this.jiraConfirmModal=!0}this.closeJiraIssueSheet()},async insertJiraIssueComment(){var t,e;let i="",s="";if(i=null===(t=this.formFields.find(t=>"Reference ID"===t.label))||void 0===t?void 0:t.value,s=null===(e=this.formFields.find(t=>"Remarks"===t.label))||void 0===e?void 0:e.value,this.workflowFormModel[i]&&this.workflowFormModel[s]){this.$store.commit("showLoadingBar");let t={};t=this.jiraAccounts[0].email?{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_cloud:{body:this.workflowFormModel[s]}}:{cloudIntegrationId:this.jiraAccounts[0].id,url:this.workflowFormModel[i],data_onpremise:{body:this.workflowFormModel[s]}};const{error:e,payload:a}=await l["j"].insertJiraIssueComments(t);if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);console.log(a)}},async getJiraUsers(){this.issueAssigneeUsers=[];const{error:t,payload:e}=await l["j"].getJiraUsers({cloudIntegrationId:this.jiraAccounts[0].id});t?this.$alert.error(t):e.length&&e.forEach(t=>{this.issueAssigneeUsers.push({id:t.key,label:t.displayName,value:t.name})})},async getFileData(t,e){const{error:i,payload:s}=await l["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:r}=await l["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(r),this.jiraCommentAction=1},async validatePassword(){const t=await this.$refs.passwordForm.validate();if(!t)return;this.isLoading=!0;const{error:e}=await l["a"].validatePassword({password:this.actionUserPassword});if(this.isLoading=!1,e)return console.log(e),void this.$alert.warning(e);this.actionUserPassword="",this.actionPasswordConfirm=!1,this.actionRemarks?(this.actionComments=!0,this.advancedCommentsSheet=!0):(this.actionRemarks=!1,this.actionPassword=!1,this.processRequest(!1,!1))},async getRepository(){const{error:t,payload:e}=await l["p"].getRepository(this.workflow.repositoryId);t?this.$alert.error(t):(this.repositoryDetails=e,this.repositoryField=e.fields)},saveMetaData(t){let e=[];if(this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(vt["a"])(e.label)===Object(vt["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.fileUploadForControl){this.metaDataModal=t;let i=this.fileUploadInput;this.uploadFilesFromForm(i.files,i.control,i.fieldId,JSON.stringify(e),i.aiSettings)}else this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},processDocumentAction(t){if("Email_Sharing"===t);else if("Print"===t){if(this.itemModel.name){let t=this.itemModel.name.split(".").pop();Object(W["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.itemModel.itemId)):this.$refs.myProcessFiles.contentWindow.print()}this.processFilePrintSession()}else if("Download"===t){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.itemModel.repositoryId}/${this.itemModel.itemId}/2`,window.open(t,"_blank")}},async processFilePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.itemModel.repositoryId,itemId:this.itemModel.itemId,activityId:4});t&&this.$alert.error(t)},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(W["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await l["t"].documentMerge(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async exportRequestData(){let t=[],e=0,i="";this.workflow.id?(e=this.workflow.id,i=this.workflow.name):(e=this.dashboardId,i=this.dashboardName);let s={filterBy:this.filterBy,itemsPerPage:500,currentPage:1,filterValue:"Completed"===this.selectedNode?this.selectedCompletedNode:""};if("inbox"===this.selectedNode){const{error:i,payload:a}=await l["t"].getInboxList(e,s);this.$store.commit("hideLoadingBarPage");const{meta:o,data:r}=a;if(o.totalItems&&r.length&&(t=r[0].value),i)return void this.$alert.error(i)}else if("common"===this.selectedNode){const{error:i,payload:a}=await l["t"].getCommonList(e,s);this.$store.commit("hideLoadingBarPage");const{meta:o,data:r}=a;if(o.totalItems&&r.length&&(t=r[0].value),i)return void this.$alert.error(i)}else if("sent"===this.selectedNode){const{error:i,payload:a}=await l["t"].getSentList(e,s);this.$store.commit("hideLoadingBarPage");const{meta:o,data:r}=a;if(o.totalItems&&r.length&&(t=r[0].value),i)return void this.$alert.error(i)}else if("completed"===this.selectedNode){const{error:i,payload:a}=await l["t"].getCompletedList(e,s);this.$store.commit("hideLoadingBarPage");const{meta:o,data:r}=a;if(o.totalItems&&r.length&&(t=r[0].value),i)return void this.$alert.error(i)}else if("payment"===this.selectedNode){const{error:i,payload:a}=await l["t"].getPaymentList(e,s);this.$store.commit("hideLoadingBarPage");const{meta:o,data:r}=a;if(o.totalItems&&r.length&&(t=r[0].value),i)return void this.$alert.error(i)}if(t.length){let e=[];t.forEach(t=>{e.push({"Request No":t.requestNo,...this.getJiraIssueInfo(t),Stage:t.stage,"Action User":t.activityUserEmail,"Raised By":t.raisedBy,"Raised On":this.$day.format(t.raisedAt),"Last Action":t.lastAction,"Last Action By":t.transaction_createdByEmail,"Last Action On":this.$day.format(t.transaction_createdAt),Duration:this.lastActionDuration(t),"Attachments Count":t.attachmentCount,"Comments Count":t.commentsCount,...this.getProcessData(t,!0)})}),Object(rt["a"])(e,i+"-"+this.selectedNode+" Report"),this.$emit("exported")}},initiateSubWorkflow(){this.initiateSubWorkflowProcess=!0},async getSubWorkflow(){this.tabs.find(t=>{"SUB_PROCESS"===t.value&&(t.count=0)});const{error:t,payload:e}=await l["t"].getSubWorkflow(this.workflow.id,this.selectedProcess.processId);t?this.$alert.error(t):e.length&&this.getSubProcessDetails(e[0].subWorkflowId,e)},async getSubProcessDetails(t,e){this.subProcessTickets=[];const{error:i,payload:s}=await l["o"].getWorkflowData(t,{filterBy:[],itemsPerPage:0,currentPage:0,mode:""});if(i)this.$alert.error(i);else if(s.meta.totalItems){let t=[];e.forEach(e=>{let i=s.data[0].value.find(t=>t.processId===Number(e.subProcessId));i&&t.push(i)}),t.length&&(this.subProcessTickets=t),this.tabs.find(e=>{"SUB_PROCESS"===e.value&&(e.count=t.length)})}},subProcessShowLinks(t,e){this.subProcessLink="",this.subProcessData=e,this.subProcessLink=t},openSubProcess(t){this.subProcessData=t,this.openSubProcessSheet=!0},closeSubProcess(){this.openSubProcessSheet=!1,this.subProcessData={},this.initiateSubWorkflowProcess=!1},async getSignerSettings(){this.forwardUsers=[];let t=this.itemModel.itemId.toString();localStorage.getItem("signItemId")&&"0"!==localStorage.getItem("signItemId")&&(t=localStorage.getItem("signItemId")),localStorage.removeItem("signItemId");let e=[{groupCondition:"",filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId.toString()},{criteria:"repositoryId",condition:"IS_EQUALS_TO",value:this.itemModel.repositoryId.toString()},{criteria:"itemId",condition:"IS_EQUALS_TO",value:t}]}];try{const t=await X()({url:`https://appuat.ezofis.com/ezofisapi/api/annotation/signSettingsList/${this.$store.state.session.tenantId}/${this.selectedProcess.id}`,method:"POST",headers:{Accept:"application/json"},data:e}),{status:i,data:s}=t;if(200!==i)throw"Invalid response";let a=JSON.parse(s),o=JSON.parse(a.settingsJson);if(o.length){let t=o.find(t=>t.signerId===Number(this.$store.state.session.id));if(t&&t.signOrder){let e=t.signOrder+1,i=o.find(t=>t.signOrder===e);i&&("External"==i.signerType?this.forwardUsers.push(i.externalSignerId):this.forwardUsers.push(i.signerId))}}this.saveAction=this.processActions[0],this.processRequest(!1,!1)}catch(i){console.error(i),this.$alert.error("error getting signer details")}},async uploadFilesFromForm(t,e,i,s,a){this.formUploadFiles=[];const o=new FormData;if(t.length){for(let l of t){if(l.name&&!l.error){o.append("repositoryId",this.workflow.repositoryId),o.append("file",l),o.append("filename",l.name),s?o.append("fields",s):o.append("fields",""),Object(gt["a"])(a)||a.formControlValidate&&("MASTER"===a.formControlValidate.optionsType&&(o.append("masterFormId",a.formControlValidate.masterFormId),o.append("masterFormColumn",a.formControlValidate.masterFormColumn)),a.fileDataValidate.length&&o.append("isValidateFile",a.fileDataValidate.includes("EXPIRY_DATE")));try{const t=await X()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:o,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let e=Math.round(100*t.loaded/t.total),s=this.workflowModel[i].findIndex(t=>t.name===l.name);s>=0&&(this.$set(this.workflowModel[i][s],"uploadedPercentage",0),this.workflowModel[i][s].uploadedPercentage=e>50&&100!==e?e:98)}.bind(this)}),{status:s,data:a}=t;if(200!==s)throw"Invalid response";l.createdAt=this.$day.newDateTime(),l.createdBy=this.$store.state.session.email;let r=JSON.parse(a);l.fileId=r.fileId,l.fieldId=i,l.fileDataValidate=r.OCRfieldlist,this.attachmentList.push({id:Number(r.fileId),name:l.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:l.size,initiate:!0,formAttach:!0,fileControl:!0,fieldId:i,control:e}),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})}catch(r){console.error(r),this.$alert.error("error attaching file")}}let t=this.workflowModel[i].findIndex(t=>t.name===l.name);t>=0&&(this.workflowModel[i][t].uploadedPercentage=99,this.workflowModel[i][t].uploadedPercentage=100)}let n=Array.from(t);this.formUploadFiles=[];for(let t of n)if(t.name){const e=await Object(mt["a"])(t);this.formUploadFiles.push({name:t.name,size:t.size,file:e,fileId:t.fileId,createdBy:t.createdBy,createdAt:t.createdAt,workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,fieldId:t.fieldId,fileDataValidate:t.fileDataValidate})}e&&e.length&&e.forEach(t=>{let e=this.readonlyControls.findIndex(e=>e===t);e>=0&&this.readonlyControls.splice(e,1)}),this.$store.commit("hideLoadingBarSave")}},mandatoryControlsList(t){this.mandatory=t},deletedFiles(t,e){if(this.fileControlDeleteFile.push(t),e){e.controls&&e.controls.length&&e.controls.forEach(t=>{console.log(t),this.workflowModel[t]=""});let t=this.attachmentList.findIndex(t=>t.name===e.file.name&&t.id===e.file.fileId&&t.fileControl);this.ocrResult=[],t>=0&&(this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length-1)}),this.attachmentList.splice(t,1))}},async fileControlDeletedFile(t){this.$store.commit("showLoadingBar");let e=[];t.forEach(t=>{t.id&&e.push(t.id)});let i={ids:e,formInfo:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,jsonId:t[0].jsonId}};const{error:s}=await l["p"].fileControlDeleteFile(this.workflow.repositoryId,i);this.$store.commit("hideLoadingBar"),s&&this.$alert.error(s)},async checkFormValidation(){this.hasCheckFormValidate=!0},async refreshFormData(){const{error:t,payload:e}=await l["o"].getWorkflowData(this.selectedProcess.id,{filterBy:[{filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:this.selectedProcess.requestNo}]}],itemsPerPage:10,currentPage:1,mode:""});if(t)this.$alert.error(t);else if(e.data.length&&(this.formModel={},e.data[0].value[0].formData)){let t=Object.keys(e.data[0].value[0].formData.fields),i={};t.forEach(t=>{i[t]=this.validateTypeValue(e.data[0].value[0].formData.fields[t])}),this.formModel=i}},async uploadFileForControl(t,e,i,s){if(this.fileUploadInput={files:t,control:e,fieldId:i,aiSettings:s},"STATIC"===this.repositoryDetails.fieldsType){if(this.fileUploadForControl=!1,this.customCheckUpload()){let t=this.formFields.find(t=>"Document No"===t.label);t&&(this.uploadFilename=this.workflowModel[t.value]+".pdf")}let t=this.getLabel(i);this.uploadFilename=t;const e=this.repositoryField.reduce((t,e)=>e.level>t.level?e:t,this.repositoryField[0]),s=e.id;if(this.attachmentList.length){let t=this.attachmentList.length-1;await this.getFileData(this.attachmentList[t],"file")}const a=this.fileData.find(t=>s==t.id),o={id:e.id,name:e.name,value:t,type:e.dataType};this.fileData.length?a.value=t:this.fileData.push(o);const r=this.repositoryField.filter(t=>!0===t.isMandatory).map(t=>t.id),n=r.every(t=>{const e=this.fileData.find(e=>e.id===t);return e&&""!==e.value});if(this.showMetaDataEditModal=!n,n){const t={};this.fileData.forEach(e=>{t[e.name]=""!==e.value?e.value:""}),this.fileUploadForControl=!0,this.saveMetaData(t)}else this.fileUploadForControl=!0,this.showMetaDataEditModal=!0}else this.uploadFilesFromForm(t,e,i,"",s)},async getOCRResult(t,e,i,s){const a=new FormData;let o=[];if(e&&e.length){if(e.forEach(t=>{this.readonlyControls.push(t)}),e.forEach(t=>{let e=this.formFields.find(e=>e.value===t);e&&o.push(`${e.label}, ${e.type}`)}),t.length){for(let e of t){if(e.name&&!e.error){a.append("repositoryId",this.workflow.repositoryId),a.append("file",e),a.append("formFields",JSON.stringify(o));try{const t=await X()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/uploadforStaticMetadata",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:function(t){let s=Math.round(100*t.loaded/t.total),a=this.workflowModel[i].findIndex(t=>t.name===e.name);a>=0&&(this.$set(this.workflowModel[i][a],"uploadedPercentage",0),this.workflowModel[i][a].uploadedPercentage=s<50?s:49)}.bind(this)}),{status:s,data:o}=t;if(200!==s)throw"Invalid response";let r=Object(ft["a"])(o,this.$store.state.identity.key,this.$store.state.identity.iv),n=JSON.parse(r),l=JSON.parse(n),c=JSON.parse(l);Array.isArray(c)&&(c.forEach(t=>{let e=this.formFields.find(e=>e.label===t.name);e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.ocrResult=c)}catch(r){console.error(r),this.$alert.error("error on get ocr result")}}this.workflowModel[i].findIndex(t=>t.name===e.name)}this.$store.commit("hideLoadingBarSave"),this.uploadFileForControl(t,e,i,s)}}else this.uploadFileForControl(t,e,i,s)},async checkTicketLock(){let t={sortBy:{criteria:"",order:"DESC"},filterBy:[{filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:this.selectedProcess.requestNo,dataType:"SHORT_TEXT"}],groupCondition:""}],itemsPerPage:10,currentPage:1};const{error:e,payload:i}=await l["t"].getCommonList(this.selectedProcess.id,t);e?this.$alert.error(e):(console.log(i),i.meta.totalItems&&i.data.length&&i.data[0].value.length&&(this.$emit("update:selectedProcess",i.data[0].value[0]),i.data[0].value[0].ticketLockedBy===this.$store.state.session.id?this.isRequestLocked=!1:i.data[0].value[0].ticketLockedBy&&"0"!==i.data[0].value[0].ticketLockedBy?this.isRequestLocked=!0:await this.updateRequestReserved()))},async checkTicketLock1(){const{error:t,payload:e}=await l["t"].getProcess(this.selectedProcess.id,this.selectedProcess.processId,this.selectedProcess.transactionId);t?this.$alert.error(t):(console.log(e),e&&(e.ticketLockedBy===this.$store.state.session.id?this.isRequestLocked=!1:e.ticketLockedBy&&"0"!==e.ticketLockedBy?this.isRequestLocked=!0:await this.updateRequestReserved()))},async updateRequestReserved(){let t={workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,activityId:this.selectedProcess.activityId,isLock:!0};const{error:e}=await l["t"].updateRequestReserved(t);e?this.$alert.error(e):this.selectedProcess.ticketLockedBy=this.$store.state.session.id},async showHistoryStepper(t,e){console.log("called");const{error:i,payload:s}=await l["t"].processHistory(e,t);i?this.$alert.error(i):s.length&&(this.stageLevel=[],this.currentStep=0,s.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},refreshCustomForm(){this.closeProcessSheet(),this.$emit("refresh",this.workflow.id)},attachmentCount(t){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=t)})},commentsCount(t){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=t)})}}},Lt=Tt,Pt=(i("5812"),i("ddad"),i("19b0"),i("0016")),_t=i("58ea"),Mt=i("8169"),Ft=Object(S["a"])(Lt,s,a,!1,null,"31bbbe4a",null);e["a"]=Ft.exports;T()(Ft,"components",{QChip:F["a"],QAvatar:D["a"],QMenu:A["a"],QIcon:Pt["a"],QCircularProgress:_t["a"],QChatMessage:Mt["a"]})},8505:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Modal",{attrs:{width:t.externalAccess?"100vw":"70vw","external-access":t.externalAccess},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.historyTitle)+'" Process History')]},proxy:!0},{key:"action",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:t.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processHistory"}},[e("div",{staticClass:"col-12 q-mb-md q-pt-sm"},[e("Stepper",{attrs:{"stage-level":t.stageLevel,"current-step":t.currentStep}})],1),e("table",{attrs:{id:"history"}},[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.processHistoryData,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:"stage"===s.name?[t._v(" "+t._s(i[s.name]||"-")+" "),i.subWorkflowHistory?[i.subWorkflowHistory.length?[e("span",{staticClass:"text-secondary"},[t._v(" [CONNECTOR] ")])]:t._e()]:t._e()]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0),i.comments.length?e("tr",{key:i.id,on:{click:function(t){i.showComments=!i.showComments}}},[e("td",{staticClass:"comments",attrs:{colspan:"6"}},[e("BaseIcon",{attrs:{name:i.showComments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Comments ("+t._s(i.comments.length)+") ")],1)]):t._e(),i.comments.length&&i.showComments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"comments1"}},[e("thead",[e("tr",[e("th",{staticClass:"large"},[t._v("Comments")]),e("th",{staticClass:"medium"},[t._v("Commented By")]),e("th",{staticClass:"medium"},[t._v("Commented On")]),e("th",{staticClass:"medium"},[t._v("Attached In")])])]),e("tbody",[t._l(i.comments,(function(i,s){return[e("tr",{key:s},[e("td",{staticClass:"commentsText ellipsis"},[t._v(" "+t._s(t.removeTags(i.comments)||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(i.createdByEmail||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")]),e("td",[i.embedFileList&&i.embedFileList.length?[e("div",{staticClass:"file-icons",on:{click:function(e){return t.openFileByCmd(i.embedFileList[0])}}},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"\n                                    comment.embedFileList[0].fileName\n                                  ",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}}),e("a",{staticClass:"file-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(i.embedFileList[0].fileName||"-"))])],1)]:[t._v(" "+t._s("-")+" ")]],2)])]}))],2)])])]):t._e(),i.attachments.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showAttachments=!i.showAttachments}}},[e("BaseIcon",{attrs:{name:i.showAttachments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Attachments ("+t._s(i.attachments.length)+") ")],1)]):t._e(),i.attachments.length&&i.showAttachments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",[e("tr",[e("th",[t._v("File Name")]),e("th",[t._v("Attached By")]),e("th",[t._v("Attached On")])])]),e("tbody",[t._l(i.attachments,(function(i,s){return[e("tr",{key:s},[e("td",[t._v(t._s(i.name||"-"))]),e("td",[t._v(t._s(i.createdByEmail||"-"))]),e("td",[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")])])]}))],2)])])]):t._e(),i.subWorkflowHistory?[i.subWorkflowHistory.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showSubWorkflowHistory=!i.showSubWorkflowHistory}}},[e("BaseIcon",{attrs:{name:i.showSubWorkflowHistory?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),1===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Completed",expression:"'Completed'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-check",color:"green"}})]:0===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-progress",expression:"'In-progress'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-clock",color:"orange"}})]:t._e(),t._v(" "+t._s(i.subWorkflowHistory[0].requestNo)+" ")],2)]):t._e(),i.showSubWorkflowHistory?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",[t._l(i.subWorkflowHistory,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]):t._e()]:t._e()]}))],2)])])]},proxy:!0}],null,!0),model:{value:t.processHistoryModal,callback:function(e){t.processHistoryModal=e},expression:"processHistoryModal"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFiles[0].createdAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFiles[0].createdByEmail))]),t.selectedFiles[0].size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFiles[0].size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],1)},a=[],o=(i("14d9"),i("1b0d")),r=i("6a70"),n=i("0006"),l=i("fa1f"),c=i("381e"),d=i("dd90"),h=i("a7d2"),u=i("42fc"),p={name:"ProcessHistory",components:{Modal:r["a"],Stepper:n["a"],Sheet:c["a"],FileIcon:l["a"]},props:{processId:{type:Number,required:!0},selectedProcess:{type:Object,default:()=>{}},externalAccess:{type:Boolean,default:!1}},data(){return{historyTitle:"",processHistoryData:[],processHistoryModal:!1,columns:[{id:this.$nano.id(),name:"stage",label:"STAGE",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"actionUser",label:"ACTION USER",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"receivedOn",label:"RECEIVED ON",type:"DATE"},{id:this.$nano.id(),name:"processedBy",label:"PROCESSED BY",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"processedOn",label:"PROCESSED ON",type:"DATE"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"SHORT_TEXT"}],stageLevel:[],currentStep:0,selectedFile:{},fileSheet:!1,selectedFiles:[]}},watch:{processId:{immediate:!0,handler(){this.processId&&this.showHistory(this.processId)}}},methods:{async showHistory(t){this.processHistoryModal=!0,this.processHistoryData=[],this.historyTitle=this.selectedProcess.requestNo,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await o["t"].processHistory(this.selectedProcess.id,t);this.$store.commit("hideLoadingBarSave"),e?this.$alert.error(e):i.length&&(i.forEach(t=>{this.processHistoryData.push({...t,showComments:!1,showAttachments:!1,showSubWorkflowHistory:!1})}),this.stageLevel=[],this.currentStep=0,i.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},openFileByCmd(t){const e=t,{fileName:i,itemid:s,...a}=e;this.selectedFile={name:i,id:s,...a};const o=this.processHistoryData.map(t=>t.attachments).flat();this.selectedFiles=o.filter(t=>t.id==this.selectedFile.id&&t.name==this.selectedFile.name),this.openFile(this.selectedFile)},fileSize(t){return Object(h["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;return"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2),Object(d["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`}return Object(d["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(d["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:Object(d["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},closeModal(){this.processHistoryModal=!1,this.$emit("close")},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},export_Data1(){let t=[];this.processHistoryData.forEach(e=>{t.push({Stage:e.stage,"Action User":e.actionUser,"Received On":this.$day.format(e.receivedOn),"Processed On":this.$day.format(e.processedOn),"Processed By":e.processedBy,Status:e.status})}),Object(u["a"])(t,this.historyTitle+" - Process History")},export_Data(){let t=[];this.processHistoryData.forEach(e=>{if(t.push({Stage:e.stage,"Action User":e.actionUser||"","Received On":this.$day.format(e.receivedOn)||"","Processed On":this.$day.format(e.processedOn)||"","Processed By":e.processedBy||"",Status:e.status||""}),e.comments&&e.comments.length){let i;t.push({Stage:`<span style="color: #00BCD4;font-weight: bold;">Comments(${e.comments.length})</span>`}),t.push({Stage:"<strong>Comments<strong>","Action User":"<strong>Commented By<strong>","Received On":"<strong>Commented On<strong>","Processed On":"<strong>Attached In<strong>"}),e.comments.forEach(e=>{e.embedFileList&&e.embedFileList.length&&e.embedFileList.forEach(t=>{i=t.fileName}),t.push({Stage:`<span style="color: #00BCD4;">${e.comments||""}</span>`,"Action User":`<span style="color: #00BCD4;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #00BCD4;">${this.$day.format(e.createdAt)||""}</span>`,"Processed On":`<span style="color: #00BCD4;">${i||""}</span>`})})}e.attachments&&e.attachments.length&&(t.push({Stage:`<span style="color: #643094;font-weight: bold;">Attachment(${e.attachments.length})</span>`}),t.push({Stage:"<strong>File Name<strong>","Action User":"<strong>\tAttached By<strong>","Received On":"<strong>Attached On<strong>"}),e.attachments.forEach(e=>{t.push({Stage:`<span style="color: #643094; border: 12px solid#50067e;">${e.name||""}</span>`,"Action User":`<span style="color: #643094;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #643094;">${this.$day.format(e.createdAt)||""}</span>`})})),e.subWorkflowHistory&&e.subWorkflowHistory.length&&(t.push({Stage:`<span style="color: #e97f06;font-weight: bold;">${e.subWorkflowHistory[0].requestNo}[Connector]<span>`}),t.push({Stage:"<strong>Stage</strong>","Action User":"<strong>Action User</strong>","Received On":"<strong>Received On</strong>","Processed On":"<strong>Processed On</strong>","Processed By":"<strong>Processed By</strong>",Status:"<strong>status</strong>"}),e.subWorkflowHistory.forEach(e=>{t.push({Stage:`<span style="color: #e97f06;">${e.stage}</span>`,"Action User":`<span style="color: #e97f06;border:2px solid black">${e.actionUser||""}</span>`,"Received On":`<span style="color: #e97f06;">${this.$day.format(e.receivedOn)||""}</span>`,"Processed On":`<span style="color: #e97f06;">${this.$day.format(e.processedOn)||""}</span>`,"Processed By":`<span style="color: #e97f06;">${e.processedBy||""}</span>`,Status:`<span style="color: #e97f06;">${e.status||""}</span>`})}))}),Object(u["a"])(t,this.historyTitle+" Report")}}},m=p,f=(i("bf55"),i("2877")),g=i("4e73"),v=i("93dc"),y=i.n(v),b=Object(f["a"])(m,s,a,!1,null,"2443da3d",null);e["a"]=b.exports;y()(b,"components",{QMenu:g["a"]})},"85fc":function(t,e,i){"use strict";i("14d9");var s=i("b7fa"),a=i("d882"),o=i("f89c"),r=i("6642"),n=Object(r["b"])({xs:30,sm:35,md:40,lg:50,xl:60}),l={computed:{__refocusTargetEl(){if(!0!==this.disable)return this.$createElement("span",{ref:"refocusTarget",staticClass:"no-outline",attrs:{tabindex:-1}})}},methods:{__refocusTarget(t){void 0!==t&&0===t.type.indexOf("key")?document.activeElement!==this.$el&&!0===this.$el.contains(document.activeElement)&&this.$el.focus():void 0!==t&&!0!==this.$el.contains(t.target)||void 0===this.$refs.refocusTarget||this.$refs.refocusTarget.focus()}}},c=i("e277"),d=i("d54d");e["a"]={mixins:[s["a"],n,o["b"],l],props:{value:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>"tf"===t||"ft"===t},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},computed:{isTrue(){return!0===this.modelIsArray?this.index>-1:this.value===this.trueValue},isFalse(){return!0===this.modelIsArray?-1===this.index:this.value===this.falseValue},isIndeterminate(){return!1===this.isTrue&&!1===this.isFalse},index(){if(!0===this.modelIsArray)return this.value.indexOf(this.val)},modelIsArray(){return void 0!==this.val&&Array.isArray(this.value)},computedTabindex(){return!0===this.disable?-1:this.tabindex||0},classes(){return`q-${this.type} cursor-pointer no-outline row inline no-wrap items-center`+(!0===this.disable?" disabled":"")+(!0===this.isDark?` q-${this.type}--dark`:"")+(!0===this.dense?` q-${this.type}--dense`:"")+(!0===this.leftLabel?" reverse":"")},innerClass(){const t=!0===this.isTrue?"truthy":!0===this.isFalse?"falsy":"indet",e=void 0===this.color||!0!==this.keepColor&&("toggle"===this.type?!0!==this.isTrue:!0===this.isFalse)?"":" text-"+this.color;return`q-${this.type}__inner--${t}${e}`},formAttrs(){const t={type:"checkbox"};return void 0!==this.name&&Object.assign(t,{checked:this.isTrue,name:this.name,value:!0===this.modelIsArray?this.val:this.trueValue}),t},attrs(){const t={tabindex:this.computedTabindex,role:"toggle"===this.type?"switch":"checkbox","aria-label":this.label,"aria-checked":!0===this.isIndeterminate?"mixed":!0===this.isTrue?"true":"false"};return!0===this.disable&&(t["aria-disabled"]="true"),t}},methods:{toggle(t){void 0!==t&&(Object(a["l"])(t),this.__refocusTarget(t)),!0!==this.disable&&this.$emit("input",this.__getNextValue(),t)},__getNextValue(){if(!0===this.modelIsArray){if(!0===this.isTrue){const t=this.value.slice();return t.splice(this.index,1),t}return this.value.concat([this.val])}if(!0===this.isTrue){if("ft"!==this.toggleOrder||!1===this.toggleIndeterminate)return this.falseValue}else{if(!0!==this.isFalse)return"ft"!==this.toggleOrder?this.trueValue:this.falseValue;if("ft"===this.toggleOrder||!1===this.toggleIndeterminate)return this.trueValue}return this.indeterminateValue},__onKeydown(t){13!==t.keyCode&&32!==t.keyCode||Object(a["l"])(t)},__onKeyup(t){13!==t.keyCode&&32!==t.keyCode||this.toggle(t)}},render(t){const e=this.__getInner(t);!0!==this.disable&&this.__injectFormInput(e,"unshift",`q-${this.type}__native absolute q-ma-none q-pa-none`);const i=[t("div",{staticClass:`q-${this.type}__inner relative-position non-selectable`,class:this.innerClass,style:this.sizeStyle,attrs:{"aria-hidden":"true"}},e)];void 0!==this.__refocusTargetEl&&i.push(this.__refocusTargetEl);const s=void 0!==this.label?Object(c["a"])([this.label],this,"default"):Object(c["c"])(this,"default");return void 0!==s&&i.push(t("div",{staticClass:`q-${this.type}__label q-anchor--skip`},s)),t("div",{class:this.classes,attrs:this.attrs,on:Object(d["b"])(this,"inpExt",{click:this.toggle,keydown:this.__onKeydown,keyup:this.__onKeyup})},i)}}},8749:function(t,e,i){},"874f":function(t,e,i){"use strict";var s=i("7c4a"),a=i("0e40"),o=Object(s["a"])((function(t,e,i){return t+(i?" ":"")+Object(a["a"])(e)}));e["a"]=o},"87dc":function(t,e,i){"use strict";i("5f3d")},8829:function(t,e,i){"use strict";i("4714")},"888a":function(t,e,i){},8920:function(t,e,i){},"8b18":function(t,e,i){"use strict";i("28f7")},"8b55":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({class:{active:t.isActive,"is-full-width":t.isFullWidth},style:{color:t.isActive?t._color:""},attrs:{id:"tab"}},t.$listeners),[t._v(" "+t._s(t.label)+" ")])},a=[],o={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},r=o,n=(i("2ac6"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"f3c4783e",null);e["a"]=l.exports},"8ddd":function(t,e,i){},"8fbb":function(t,e,i){},"8fc9":function(t,e,i){},"91dd":function(t,e,i){},9254:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.barChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("a1a34"),r=i("2adf"),n={name:"BarChart",components:{ChartWrapper:r["a"]},props:{title:{type:String,required:!0},isHorizontal:{type:Boolean,default:!1},isStacked:{type:Boolean,default:!1},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{barChartOptions:{chart:{type:"bar",barHeight:"100%",stacked:this.isStacked},xaxis:{categories:this.xData},plotOptions:{bar:{borderRadius:4,horizontal:this.isHorizontal}}}}},watch:{options:{immediate:!0,deep:!0,handler(){Object(o["a"])(this.barChartOptions,this.options)}}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,"8af710e6",null);e["a"]=d.exports},9404:function(t,e,i){"use strict";i("caad"),i("14d9");var s=i("a026"),a=i("58e5"),o=i("463c"),r=i("7ee0"),n=i("efe6"),l=i("b7fa"),c=i("75c3"),d=i("7937"),h=i("e277"),u=i("d54d"),p=i("f376");const m=150,f=["mouseover","mouseout","mouseenter","mouseleave"];e["a"]=s["default"].extend({name:"QDrawer",inject:{layout:{default(){console.error("QDrawer needs to be child of QLayout")}}},mixins:[l["a"],a["a"],o["a"],r["a"],n["a"]],directives:{TouchPan:c["a"]},props:{side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,contentStyle:[String,Object,Array],contentClass:[String,Object,Array],overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},data(){const t="mobile"===this.behavior||"desktop"!==this.behavior&&this.layout.totalWidth<=this.breakpoint;return{belowBreakpoint:t,showing:!0===this.showIfAbove&&!1===t||!0===this.value}},watch:{belowBreakpoint(t){!0===t?(this.lastDesktopState=this.showing,!0===this.showing&&this.hide(!1)):!1===this.overlay&&"mobile"!==this.behavior&&!1!==this.lastDesktopState&&(!0===this.showing?(this.__applyPosition(0),this.__applyBackdrop(0),this.__cleanup()):this.show(!1))},"layout.totalWidth"(){!0!==this.layout.container&&!0===document.qScrollPrevented||this.__updateBelowBreakpoint()},side(t,e){this.layout.instances[e]===this&&(this.layout.instances[e]=void 0,this.layout[e].space=!1,this.layout[e].offset=0),this.layout.instances[t]=this,this.layout[t].size=this.size,this.layout[t].space=this.onLayout,this.layout[t].offset=this.offset},behavior(){this.__updateBelowBreakpoint()},breakpoint(){this.__updateBelowBreakpoint()},"layout.container"(t){!0===this.showing&&this.__preventScroll(!0!==t),!0===t&&this.__updateBelowBreakpoint()},"layout.scrollbarWidth"(){this.__applyPosition(!0===this.showing?0:void 0)},offset(t){this.__update("offset",t)},onLayout(t){this.$emit("on-layout",t),this.__update("space",t)},rightSide(){this.__applyPosition()},size(t){this.__applyPosition(),this.__updateSizeOnLayout(this.miniToOverlay,t)},miniToOverlay(t){this.__updateSizeOnLayout(t,this.size)},"$q.lang.rtl"(){this.__applyPosition()},mini(){!0===this.value&&(this.__animateMini(),this.layout.__animate())},isMini(t){this.$emit("mini-state",t)}},computed:{rightSide(){return"right"===this.side},otherSide(){return!0===this.rightSide?"left":"right"},offset(){return!0===this.showing&&!1===this.belowBreakpoint&&!1===this.overlay?!0===this.miniToOverlay?this.miniWidth:this.size:0},size(){return!0===this.isMini?this.miniWidth:this.width},fixed(){return!0===this.overlay||!0===this.miniToOverlay||this.layout.view.indexOf(this.rightSide?"R":"L")>-1||this.$q.platform.is.ios&&!0===this.layout.container},onLayout(){return!0===this.showing&&!1===this.belowBreakpoint&&!1===this.overlay},onScreenOverlay(){return!0===this.showing&&!1===this.belowBreakpoint&&!0===this.overlay},backdropClass(){return!1===this.showing?"hidden":null},headerSlot(){return!0===this.rightSide?"r"===this.layout.rows.top[2]:"l"===this.layout.rows.top[0]},footerSlot(){return!0===this.rightSide?"r"===this.layout.rows.bottom[2]:"l"===this.layout.rows.bottom[0]},aboveStyle(){const t={};return!0===this.layout.header.space&&!1===this.headerSlot&&(!0===this.fixed?t.top=this.layout.header.offset+"px":!0===this.layout.header.space&&(t.top=this.layout.header.size+"px")),!0===this.layout.footer.space&&!1===this.footerSlot&&(!0===this.fixed?t.bottom=this.layout.footer.offset+"px":!0===this.layout.footer.space&&(t.bottom=this.layout.footer.size+"px")),t},style(){const t={width:this.size+"px"};return!0===this.belowBreakpoint?t:Object.assign(t,this.aboveStyle)},classes(){return"q-drawer--"+this.side+(!0===this.bordered?" q-drawer--bordered":"")+(!0===this.isDark?" q-drawer--dark q-dark":"")+(!0!==this.showing?" q-layout--prevent-focus":"")+(!0===this.belowBreakpoint?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":" q-drawer--"+(!0===this.isMini?"mini":"standard")+(!0===this.fixed||!0!==this.onLayout?" fixed":"")+(!0===this.overlay||!0===this.miniToOverlay?" q-drawer--on-top":"")+(!0===this.headerSlot?" q-drawer--top-padding":""))},stateDirection(){return(!0===this.$q.lang.rtl?-1:1)*(!0===this.rightSide?1:-1)},isMini(){return!0===this.mini&&!0!==this.belowBreakpoint},onNativeEvents(){if(!0!==this.belowBreakpoint){const t={"!click":t=>{this.$emit("click",t)}};return f.forEach(e=>{t[e]=t=>{void 0!==this.qListeners[e]&&this.$emit(e,t)}}),t}},hideOnRouteChange(){return!0!==this.persistent&&(!0===this.belowBreakpoint||!0===this.onScreenOverlay)},openDirective(){const t=!0===this.$q.lang.rtl?this.side:this.otherSide;return[{name:"touch-pan",value:this.__openByTouch,modifiers:{[t]:!0,mouse:!0}}]},contentCloseDirective(){if(!0!==this.noSwipeClose){const t=!0===this.$q.lang.rtl?this.otherSide:this.side;return[{name:"touch-pan",value:this.__closeByTouch,modifiers:{[t]:!0,mouse:!0}}]}},backdropCloseDirective(){if(!0!==this.noSwipeBackdrop){const t=!0===this.$q.lang.rtl?this.otherSide:this.side;return[{name:"touch-pan",value:this.__closeByTouch,modifiers:{[t]:!0,mouse:!0,mouseAllDir:!0}}]}}},methods:{__applyPosition(t){void 0===t?this.$nextTick(()=>{t=!0===this.showing?0:this.size,this.__applyPosition(this.stateDirection*t)}):void 0!==this.$refs.content&&(!0!==this.layout.container||!0!==this.rightSide||!0!==this.belowBreakpoint&&Math.abs(t)!==this.size||(t+=this.stateDirection*this.layout.scrollbarWidth),this.__lastPosition!==t&&(this.$refs.content.style.transform=`translateX(${t}px)`,this.__lastPosition=t))},__applyBackdrop(t,e){void 0!==this.$refs.backdrop?this.$refs.backdrop.style.backgroundColor=this.lastBackdropBg=`rgba(0,0,0,${.4*t})`:!0!==e&&this.$nextTick(()=>{this.__applyBackdrop(t,!0)})},__setBackdropVisible(t){void 0!==this.$refs.backdrop&&this.$refs.backdrop.classList[!0===t?"remove":"add"]("hidden")},__setScrollable(t){const e=!0===t?"remove":!0!==this.layout.container?"add":"";""!==e&&document.body.classList[e]("q-body--drawer-toggle")},__animateMini(){void 0!==this.timerMini?clearTimeout(this.timerMini):void 0!==this.$el&&this.$el.classList.add("q-drawer--mini-animate"),this.timerMini=setTimeout(()=>{void 0!==this.$el&&this.$el.classList.remove("q-drawer--mini-animate"),this.timerMini=void 0},150)},__openByTouch(t){if(!1!==this.showing)return;const e=this.size,i=Object(d["a"])(t.distance.x,0,e);if(!0===t.isFinal){const t=this.$refs.content,s=i>=Math.min(75,e);return t.classList.remove("no-transition"),void(!0===s?this.show():(this.layout.__animate(),this.__applyBackdrop(0),this.__applyPosition(this.stateDirection*e),t.classList.remove("q-drawer--delimiter"),t.classList.add("q-layout--prevent-focus"),this.__setBackdropVisible(!1)))}if(this.__applyPosition((!0===this.$q.lang.rtl?!0!==this.rightSide:this.rightSide)?Math.max(e-i,0):Math.min(0,i-e)),this.__applyBackdrop(Object(d["a"])(i/e,0,1)),!0===t.isFirst){const t=this.$refs.content;t.classList.add("no-transition"),t.classList.add("q-drawer--delimiter"),t.classList.remove("q-layout--prevent-focus"),this.__setBackdropVisible(!0)}},__closeByTouch(t){if(!0!==this.showing)return;const e=this.size,i=t.direction===this.side,s=(!0===this.$q.lang.rtl?!0!==i:i)?Object(d["a"])(t.distance.x,0,e):0;if(!0===t.isFinal){const t=Math.abs(s)<Math.min(75,e);return this.$refs.content.classList.remove("no-transition"),void(!0===t?(this.layout.__animate(),this.__applyBackdrop(1),this.__applyPosition(0)):this.hide())}this.__applyPosition(this.stateDirection*s),this.__applyBackdrop(Object(d["a"])(1-s/e,0,1)),!0===t.isFirst&&this.$refs.content.classList.add("no-transition")},__show(t,e){if(this.__addHistory(),this.__setBackdropVisible(!0),!1!==t&&this.layout.__animate(),this.__applyPosition(0),!0===this.belowBreakpoint){const t=this.layout.instances[this.otherSide];void 0!==t&&!0===t.belowBreakpoint&&t.hide(!1),this.__applyBackdrop(1),!0!==this.layout.container&&this.__preventScroll(!0)}else this.__applyBackdrop(0),!1!==t&&this.__setScrollable(!1);this.__registerTimeout(()=>{!1!==t&&this.__setScrollable(!0),!0!==e&&this.$emit("show",t)},m)},__hide(t,e){this.__removeHistory(),!1!==t&&this.layout.__animate(),this.__applyBackdrop(0),this.__applyPosition(this.stateDirection*this.size),this.__setBackdropVisible(!1),this.__cleanup(),!0!==e?this.__registerTimeout(()=>{this.$emit("hide",t)},m):this.__removeTimeout()},__cleanup(){this.__preventScroll(!1),this.__setScrollable(!0)},__update(t,e){this.layout[this.side][t]!==e&&(this.layout[this.side][t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)},__updateSizeOnLayout(t,e){this.__update("size",!0===t?this.miniWidth:e)},__updateBelowBreakpoint(){this.__updateLocal("belowBreakpoint","mobile"===this.behavior||"desktop"!==this.behavior&&this.layout.totalWidth<=this.breakpoint)}},created(){this.__useTimeout("__registerTimeout","__removeTimeout"),this.layout.instances[this.side]=this,this.__updateSizeOnLayout(this.miniToOverlay,this.size),this.__update("space",this.onLayout),this.__update("offset",this.offset),!0===this.showIfAbove&&!0!==this.value&&!0===this.showing&&void 0!==this.qListeners.input&&this.$emit("input",!0)},mounted(){this.$emit("on-layout",this.onLayout),this.$emit("mini-state",this.isMini),this.lastDesktopState=!0===this.showIfAbove;const t=()=>{const t=!0===this.showing?"show":"hide";this["__"+t](!1,!0)};0===this.layout.totalWidth?this.watcher=this.$watch("layout.totalWidth",()=>{this.watcher(),this.watcher=void 0,!1===this.showing&&!0===this.showIfAbove&&!1===this.belowBreakpoint?this.show(!1):t()}):this.$nextTick(t)},beforeDestroy(){void 0!==this.watcher&&this.watcher(),clearTimeout(this.timerMini),!0===this.showing&&this.__cleanup(),this.layout.instances[this.side]===this&&(this.layout.instances[this.side]=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},render(t){const e=[];!0===this.belowBreakpoint&&(!0!==this.noSwipeOpen&&e.push(t("div",{staticClass:"q-drawer__opener fixed-"+this.side,attrs:p["a"],directives:this.openDirective})),e.push(t("div",{ref:"backdrop",staticClass:"fullscreen q-drawer__backdrop",class:this.backdropClass,attrs:p["a"],style:void 0!==this.lastBackdropBg?{backgroundColor:this.lastBackdropBg}:null,on:Object(u["b"])(this,"bkdrop",{click:this.hide}),directives:!1===this.showing?void 0:this.backdropCloseDirective})));const i=[t("div",{staticClass:"q-drawer__content fit "+(!0===this.layout.container?"overflow-auto":"scroll"),class:this.contentClass,style:this.contentStyle},!0===this.isMini&&void 0!==this.$scopedSlots.mini?this.$scopedSlots.mini():Object(h["c"])(this,"default"))];return!0===this.elevated&&!0===this.showing&&i.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(t("aside",{ref:"content",staticClass:"q-drawer",class:this.classes,style:this.style,on:this.onNativeEvents,directives:!0===this.belowBreakpoint?this.contentCloseDirective:void 0},i)),t("div",{staticClass:"q-drawer-container"},e)}})},9495:function(t,e,i){"use strict";i("888a")},"94f5":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({attrs:{id:"action"}},t.$listeners),[e("BaseIcon",{attrs:{name:t.icon,"inherit-color":""}}),e("div",{staticClass:"label"},[t._v(t._s(t.label))])],1)},a=[],o={name:"Action",props:{icon:{type:String,required:!0},label:{type:String,default:""}}},r=o,n=(i("a116"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"1619714d",null);e["a"]=l.exports},"956a":function(t,e,i){"use strict";i("5f17")},"970a":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));const s={CONTAINS:"CONTAINS",IS_EQUALS_TO:"IS_EQUALS_TO (=)",IS_NOT_EQUALS_TO:"IS_NOT_EQUALS_TO (!=)",IS_GREATER_THAN:"IS_GREATER_THAN (>)",IS_GREATER_THAN_OR_EQUALS_TO:"IS_GREATER_THAN_OR_EQUALS_TO (>=)",IS_LESSER_THAN:"IS_LESSER_THAN (<)",IS_LESSER_THAN_OR_EQUALS_TO:"IS_LESSER_THAN_OR_EQUALS_TO (<=)",IS_EMPTY:"IS_EMPTY ({})",IS_NOT_EMPTY:"IS_NOT_EMPTY (!{})",IS_ANY_OF:"IS_ANY_OF",IS_NOT_ANY_OF:"IS_NOT_ANY_OF",NOT_CONTAINS:"NOT_CONTAINS",STARTS_WITH:"STARTS_WITH",NOT_STARTS_WITH:"NOT_STARTS_WITH",ENDS_WITH:"ENDS_WITH",NOT_ENDS_WITH:"NOT_ENDS_WITH"};Object.freeze(s);var a=s,o=i("381b");function r(t){switch(t){case o["a"].NUMBER:case o["a"].DATE:case o["a"].TIME:case o["a"].DATE_TIME:case o["a"].COUNTER:case o["a"].CALCULATED:return[a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_GREATER_THAN,a.IS_GREATER_THAN_OR_EQUALS_TO,a.IS_LESSER_THAN,a.IS_LESSER_THAN_OR_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SHORT_TEXT:case o["a"].LONG_TEXT:case o["a"].TABLE:return[a.CONTAINS,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.NOT_CONTAINS,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SINGLE_SELECT:case o["a"].MULTI_SELECT:case o["a"].MULTIPLE_CHOICE:return[a.CONTAINS,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_ANY_OF,a.IS_NOT_ANY_OF];default:return[a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO]}}},"972e":function(t,e,i){t.exports=i.p+"img/workspace-light.cfe4603d.png"},9758:function(t,e,i){"use strict";i("34b3")},9935:function(t,e,i){},"9a8d":function(t,e,i){},"9b4a":function(t,e,i){"use strict";i.d(e,"a",(function(){return Sa})),i.d(e,"b",(function(){return ki})),i.d(e,"c",(function(){return Es})),i.d(e,"d",(function(){return go}));const s=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function a(t,e){let i=!1,a=[];return function(...o){a=Array.prototype.slice.call(o),i||(i=!0,s.call(window,()=>{i=!1,t.apply(e,a)}))}}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const o={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return-t*(t-2)},easeInOutQuad(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic(t){return t*t*t},easeOutCubic(t){return(t-=1)*t*t+1},easeInOutCubic(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return-((t-=1)*t*t*t-1)},easeInOutQuart(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return(t-=1)*t*t*t*t+1},easeInOutQuint(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine(t){return Math.sin(t*(Math.PI/2))},easeInOutSine(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic(t){let e=1.70158,i=0,s=1;return 0===t?0:2===(t/=.5)?1:(i||(i=.45),e=i/(2*Math.PI)*Math.asin(1/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:s*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce(t){return 1-o.easeOutBounce(1-t)},easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce(t){return t<.5?.5*o.easeInBounce(2*t):.5*o.easeOutBounce(2*t-1)+.5}};var r=o;
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function n(){}const l=function(){let t=0;return function(){return t++}}();function c(t){return null===t||"undefined"===typeof t}function d(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function h(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const u=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function p(t,e){return"undefined"===typeof t?e:t}function m(t,e,i){if(t&&"function"===typeof t.call)return t.apply(i,e)}function f(t,e,i,s){let a,o,r;if(d(t))if(o=t.length,s)for(a=o-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<o;a++)e.call(i,t[a],a);else if(h(t))for(r=Object.keys(t),o=r.length,a=0;a<o;a++)e.call(i,t[r[a]],r[a])}function g(t,e){let i,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(a=t[i],o=e[i],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function v(t){if(d(t))return t.map(v);if(h(t)){const e={},i=Object.keys(t),s=i.length;let a=0;for(;a<s;++a)e[i[a]]=v(t[i[a]]);return e}return t}function y(t,e,i,s){const a=e[t],o=i[t];h(a)&&h(o)?b(a,o,s):e[t]=v(o)}function b(t,e,i){const s=d(e)?e:[e],a=s.length;if(!h(t))return t;i=i||{};const o=i.merger||y;for(let r=0;r<a;++r){if(e=s[r],!h(e))continue;const a=Object.keys(e);for(let s=0,r=a.length;s<r;++s)o(a[s],t,e,i)}return t}function x(t,e){return b(t,e,{merger:w})}function w(t,e,i){const s=e[t],a=i[t];h(s)&&h(a)?x(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=v(a))}function k(t,e){if(e.length<3)return t[e];const i=e.split(".");for(let s=0,a=i.length;s<a;++s){const e=i[s];if(!(e in t))return;t=t[e]}return t}function C(t){return t.charAt(0).toUpperCase()+t.slice(1)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const S=Math.PI,A=S/180,I=2*S,T=S/2,L=S/4,P=2*S/3;function _(t){return!t||c(t.size)||c(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function M(t,e,i,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,i.push(a)),o>s&&(s=o),s}function F(t,e,i,s){s=s||{};let a=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const n=i.length;let l,c,h,u,p;for(l=0;l<n;l++)if(u=i[l],void 0!==u&&null!==u&&!0!==d(u))r=M(t,a,o,r,u);else if(d(u))for(c=0,h=u.length;c<h;c++)p=u[c],void 0===p||null===p||d(p)||(r=M(t,a,o,r,p));t.restore();const m=o.length/2;if(m>i.length){for(l=0;l<m;l++)delete a[o[l]];o.splice(0,m)}return r}function D(t,e,i){const s=t.currentDevicePixelRatio,a=i/2;return Math.round((e-a)*s)/s+a}function B(t){t.ctx.clearRect(0,0,t.width,t.height)}function O(t,e,i,s){let a,o,r,n,l;const c=e.pointStyle,d=e.rotation,h=e.radius;let u=(d||0)*A;if(c&&"object"===typeof c&&(a=c.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(i,s),t.rotate(u),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void t.restore();if(!(isNaN(h)||h<=0)){switch(t.beginPath(),c){default:t.arc(i,s,h,0,I),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*h,s-Math.cos(u)*h),u+=P,t.lineTo(i+Math.sin(u)*h,s-Math.cos(u)*h),u+=P,t.lineTo(i+Math.sin(u)*h,s-Math.cos(u)*h),t.closePath();break;case"rectRounded":l=.516*h,n=h-l,o=Math.cos(u+L)*n,r=Math.sin(u+L)*n,t.arc(i-o,s-r,l,u-S,u-T),t.arc(i+r,s-o,l,u-T,u),t.arc(i+o,s+r,l,u,u+T),t.arc(i-r,s+o,l,u+T,u+S),t.closePath();break;case"rect":if(!d){n=Math.SQRT1_2*h,t.rect(i-n,s-n,2*n,2*n);break}u+=L;case"rectRot":o=Math.cos(u)*h,r=Math.sin(u)*h,t.moveTo(i-o,s-r),t.lineTo(i+r,s-o),t.lineTo(i+o,s+r),t.lineTo(i-r,s+o),t.closePath();break;case"crossRot":u+=L;case"cross":o=Math.cos(u)*h,r=Math.sin(u)*h,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r),t.moveTo(i+r,s-o),t.lineTo(i-r,s+o);break;case"star":o=Math.cos(u)*h,r=Math.sin(u)*h,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r),t.moveTo(i+r,s-o),t.lineTo(i-r,s+o),u+=L,o=Math.cos(u)*h,r=Math.sin(u)*h,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r),t.moveTo(i+r,s-o),t.lineTo(i-r,s+o);break;case"line":o=Math.cos(u)*h,r=Math.sin(u)*h,t.moveTo(i-o,s-r),t.lineTo(i+o,s+r);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(u)*h,s+Math.sin(u)*h);break}t.fill(),e.borderWidth>0&&t.stroke()}}function E(t,e){const i=.5;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function N(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $(t){t.restore()}function R(t,e,i,s,a){if(!e)return t.lineTo(i.x,i.y);if("middle"===a){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===a!==!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function z(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.controlPointPreviousX:e.controlPointNextX,s?e.controlPointPreviousY:e.controlPointNextY,s?i.controlPointNextX:i.controlPointPreviousX,s?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function q(t,e){if(!e)return t;const i=e.split(".");for(let s=0,a=i.length;s<a;++s){const e=i[s];t=t[e]||(t[e]={})}return t}class V{constructor(){this.color="rgba(0,0,0,0.1)",this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={color:"#666",family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null,lineWidth:0,strokeStyle:void 0},this.hover={onHover:null,mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onClick=null,this.responsive=!0,this.showLines=!0,this.plugins={},this.scale=void 0,this.doughnut=void 0,this.scales={},this.controllers=void 0}set(t,e){return b(q(this,t),e)}get(t){return q(this,t)}route(t,e,i,s){const a=q(this,t),o=q(this,i),r="_"+e;Object.defineProperties(a,{[r]:{writable:!0},[e]:{enumerable:!0,get(){return p(this[r],o[s])},set(t){this[r]=t}}})}}var j=new V;function W(t,e){const i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}function H(t){let e,i,s,a;return h(t)?(e=+t.top||0,i=+t.right||0,s=+t.bottom||0,a=+t.left||0):e=i=s=a=+t||0,{top:e,right:i,bottom:s,left:a,height:e+s,width:a+i}}function X(t,e){t=t||{},e=e||j.font;let i=p(t.size,e.size);"string"===typeof i&&(i=parseInt(i,10));const s={color:p(t.color,e.color),family:p(t.family,e.family),lineHeight:W(p(t.lineHeight,e.lineHeight),i),lineWidth:p(t.lineWidth,e.lineWidth),size:i,style:p(t.style,e.style),weight:p(t.weight,e.weight),strokeStyle:p(t.strokeStyle,e.strokeStyle),string:""};return s.string=_(s),s}function Y(t,e,i,s){let a,o,r,n=!0;for(a=0,o=t.length;a<o;++a)if(r=t[a],void 0!==r&&(void 0!==e&&"function"===typeof r&&(r=r(e),n=!1),void 0!==i&&d(r)&&(r=r[i%r.length],n=!1),void 0!==r))return s&&!n&&(s.cacheable=!1),r}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const G={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},U="0123456789ABCDEF",J=t=>U[15&t],K=t=>U[(240&t)>>4]+U[15&t],Z=t=>(240&t)>>4===(15&t);function Q(t){return Z(t.r)&&Z(t.g)&&Z(t.b)&&Z(t.a)}function tt(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*G[t[1]],g:255&17*G[t[2]],b:255&17*G[t[3]],a:5===i?17*G[t[4]]:255}:7!==i&&9!==i||(e={r:G[t[1]]<<4|G[t[2]],g:G[t[3]]<<4|G[t[4]],b:G[t[5]]<<4|G[t[6]],a:9===i?G[t[7]]<<4|G[t[8]]:255})),e}function et(t){var e=Q(t)?J:K;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function it(t){return t+.5|0}const st=(t,e,i)=>Math.max(Math.min(t,i),e);function at(t){return st(it(2.55*t),0,255)}function ot(t){return st(it(255*t),0,255)}function rt(t){return st(it(t/2.55)/100,0,1)}function nt(t){return st(it(100*t),0,100)}const lt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ct(t){const e=lt.exec(t);let i,s,a,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?at(t):255*t)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?at(i):i),s=255&(e[4]?at(s):s),a=255&(e[6]?at(a):a),{r:i,g:s,b:a,a:o}}}function dt(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${rt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ht=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ut(t,e,i){const s=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function pt(t,e,i){const s=(s,a=(s+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function mt(t,e,i){const s=ut(t,1,.5);let a;for(e+i>1&&(a=1/(e+i),e*=a,i*=a),a=0;a<3;a++)s[a]*=1-e-i,s[a]+=e;return s}function ft(t){const e=255,i=t.r/e,s=t.g/e,a=t.b/e,o=Math.max(i,s,a),r=Math.min(i,s,a),n=(o+r)/2;let l,c,d;return o!==r&&(d=o-r,c=n>.5?d/(2-o-r):d/(o+r),l=o===i?(s-a)/d+(s<a?6:0):o===s?(a-i)/d+2:(i-s)/d+4,l=60*l+.5),[0|l,c||0,n]}function gt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(ot)}function vt(t,e,i){return gt(ut,t,e,i)}function yt(t,e,i){return gt(mt,t,e,i)}function bt(t,e,i){return gt(pt,t,e,i)}function xt(t){return(t%360+360)%360}function wt(t){const e=ht.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?at(+e[5]):ot(+e[5]));const a=xt(+e[2]),o=+e[3]/100,r=+e[4]/100;return i="hwb"===e[1]?yt(a,o,r):"hsv"===e[1]?bt(a,o,r):vt(a,o,r),{r:i[0],g:i[1],b:i[2],a:s}}function kt(t,e){var i=ft(t);i[0]=xt(i[0]+e),i=vt(i),t.r=i[0],t.g=i[1],t.b=i[2]}function Ct(t){if(!t)return;const e=ft(t),i=e[0],s=nt(e[1]),a=nt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${a}%, ${rt(t.a)})`:`hsl(${i}, ${s}%, ${a}%)`}const St={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},At={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function It(){const t={},e=Object.keys(At),i=Object.keys(St);let s,a,o,r,n;for(s=0;s<e.length;s++){for(r=n=e[s],a=0;a<i.length;a++)o=i[a],n=n.replace(o,St[o]);o=parseInt(At[r],16),t[n]=[o>>16&255,o>>8&255,255&o]}return t}let Tt;function Lt(t){Tt||(Tt=It(),Tt.transparent=[0,0,0,0]);const e=Tt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Pt(t,e,i){if(t){let s=ft(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=vt(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function _t(t,e){return t?Object.assign(e||{},t):t}function Mt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ot(t[3]))):(e=_t(t,{r:0,g:0,b:0,a:1}),e.a=ot(e.a)),e}function Ft(t){return"r"===t.charAt(0)?ct(t):wt(t)}class Dt{constructor(t){if(t instanceof Dt)return t;const e=typeof t;let i;"object"===e?i=Mt(t):"string"===e&&(i=tt(t)||Lt(t)||Ft(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=_t(this._rgb);return t&&(t.a=rt(t.a)),t}set rgb(t){this._rgb=Mt(t)}rgbString(){return this._valid?dt(this._rgb):this._rgb}hexString(){return this._valid?et(this._rgb):this._rgb}hslString(){return this._valid?Ct(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,a=t.rgb;let o;const r=e===o?.5:e,n=2*r-1,l=s.a-a.a,c=((n*l===-1?n:(n+l)/(1+n*l))+1)/2;o=1-c,s.r=255&c*s.r+o*a.r+.5,s.g=255&c*s.g+o*a.g+.5,s.b=255&c*s.b+o*a.b+.5,s.a=r*s.a+(1-r)*a.a,i.rgb=s}return i}clone(){return new Dt(this.rgb)}alpha(t){return this._rgb.a=ot(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=it(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Pt(this._rgb,2,t),this}darken(t){return Pt(this._rgb,2,-t),this}saturate(t){return Pt(this._rgb,1,t),this}desaturate(t){return Pt(this._rgb,1,-t),this}rotate(t){return kt(this._rgb,t),this}}function Bt(t){return new Dt(t)}const Ot=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function Et(t){return Ot(t)?t:Bt(t)}function Nt(t){return Ot(t)?t:Bt(t).saturate(.5).darken(.1).hexString()}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function $t(t,e){let i,s=t.length-1,a=0;while(s-a>1)i=a+s>>1,t[i]<e?a=i:s=i;return{lo:a,hi:s}}function Rt(t,e,i){let s,a=t.length-1,o=0;while(a-o>1)s=o+a>>1,t[s][e]<i?o=s:a=s;return{lo:o,hi:a}}function zt(t,e,i){let s,a=t.length-1,o=0;while(a-o>1)s=o+a>>1,t[s][e]<i?a=s:o=s;return{lo:o,hi:a}}function qt(t,e,i){let s=0,a=t.length;while(s<a&&t[s]<e)s++;while(a>s&&t[a-1]>i)a--;return s>0||a<t.length?t.slice(s,a):t}const Vt=["push","pop","shift","splice","unshift"];function jt(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Vt.forEach(e=>{const i="_onData"+C(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const a=s.apply(this,e);return t._chartjs.listeners.forEach(t=>{"function"===typeof t[i]&&t[i](...e)}),a}})}))}function Wt(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,a=s.indexOf(e);-1!==a&&s.splice(a,1),s.length>0||(Vt.forEach(e=>{delete t[e]}),delete t._chartjs)}function Ht(t){const e=new Set;let i,s;for(i=0,s=t.length;i<s;++i)e.add(t[i]);if(e.size===s)return t;const a=[];return e.forEach(t=>{a.push(t)}),a}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const Xt=Math.PI,Yt=2*Xt,Gt=Yt+Xt;function Ut(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s===0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort((t,e)=>t-e).pop(),e}const Jt=Math.log10||function(t){const e=Math.log(t)*Math.LOG10E,i=Math.round(e),s=t===Math.pow(10,i);return s?i:e};function Kt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Zt(t,e,i){return Math.abs(t-e)<i}function Qt(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function te(t,e,i){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}const ee=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1};function ie(t){return t*(Xt/180)}function se(t){return t*(180/Xt)}function ae(t){if(!u(t))return;let e=1,i=0;while(Math.round(t*e)/e!==t)e*=10,i++;return i}function oe(t,e){const i=e.x-t.x,s=e.y-t.y,a=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*Xt&&(o+=Yt),{angle:o,distance:a}}function re(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ne(t,e){return(t-e+Gt)%Yt-Xt}function le(t){return(t%Yt+Yt)%Yt}function ce(t,e,i){const s=le(t),a=le(e),o=le(i),r=le(a-s),n=le(o-s),l=le(s-a),c=le(s-o);return s===a||s===o||r>n&&l<c}function de(t,e,i){return Math.max(e,Math.min(i,t))}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function he(t){return void 0!==t&&null!==t&&"none"!==t}function ue(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function pe(t,e,i){let s;return"string"===typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}function me(t,e,i){const s=document.defaultView,a=ue(t),o=s.getComputedStyle(t)[e],r=s.getComputedStyle(a)[e],n=he(o),l=he(r),c=Number.POSITIVE_INFINITY;if(n||l)return Math.min(n?pe(o,t,i):c,l?pe(r,a,i):c)}function fe(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function ge(t){return me(t,"max-width","clientWidth")}function ve(t){return me(t,"max-height","clientHeight")}function ye(t,e,i){return e=fe(t,e),""===e?0:e.indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)}function be(t,e){const i=t.originalEvent||t,s=i.touches,a=s&&s.length?s[0]:i,o=a.clientX,r=a.clientY,n=a.offsetX||a.layerX||o,l=a.offsetY||a.layerY||r;if(n!==o&&l!==r)return{x:n,y:l};const c=e.canvas,d=e.currentDevicePixelRatio,h=c.getBoundingClientRect(),u=parseFloat(fe(c,"padding-left")),p=parseFloat(fe(c,"padding-top")),m=parseFloat(fe(c,"padding-right")),f=parseFloat(fe(c,"padding-bottom")),g=h.right-h.left-u-m,v=h.bottom-h.top-p-f;return{x:Math.round((n-h.left-u)/g*c.width/d),y:Math.round((l-h.top-p)/v*c.height/d)}}function xe(t,e){return"number"===typeof t?t:e}function we(t){const e=ue(t);if(!e)return xe(t.clientWidth,t.width);const i=e.clientWidth,s=ye(e,"padding-left",i),a=ye(e,"padding-right",i),o=i-s-a,r=ge(t);return isNaN(r)?o:Math.min(o,r)}function ke(t){const e=ue(t);if(!e)return xe(t.clientHeight,t.height);const i=e.clientHeight,s=ye(e,"padding-top",i),a=ye(e,"padding-bottom",i),o=i-s-a,r=ve(t);return isNaN(r)?o:Math.min(o,r)}function Ce(t,e){const i=t.currentDevicePixelRatio=e||"undefined"!==typeof window&&window.devicePixelRatio||1,{canvas:s,width:a,height:o}=t;s.height=o*i,s.width=a*i,t.ctx.setTransform(i,0,0,i,0,0),!s.style||s.style.height||s.style.width||(s.style.height=o+"px",s.style.width=a+"px")}const Se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Ae(t,e){const i=fe(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Ie(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Te(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function Le(t,e,i,s){const a={x:t.controlPointNextX,y:t.controlPointNextY},o={x:e.controlPointPreviousX,y:e.controlPointPreviousY},r=Ie(t,a,i),n=Ie(a,o,i),l=Ie(o,e,i),c=Ie(r,n,i),d=Ie(n,l,i);return Ie(c,d,i)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Pe(t){return"angle"===t?{between:ce,compare:ne,normalize:le}:{between:(t,e,i)=>t>=e&&t<=i,compare:(t,e)=>t-e,normalize:t=>t}}function _e(t,e,i,s){return{start:t%s,end:e%s,loop:i&&(e-t+1)%s===0}}function Me(t,e,i){const{property:s,start:a,end:o}=i,{between:r,normalize:n}=Pe(s),l=e.length;let c,d,{start:h,end:u,loop:p}=t;if(p){for(h+=l,u+=l,c=0,d=l;c<d;++c){if(!r(n(e[h%l][s]),a,o))break;h--,u--}h%=l,u%=l}return u<h&&(u+=l),{start:h,end:u,loop:p}}function Fe(t,e,i){if(!i)return[t];const{property:s,start:a,end:o}=i,r=e.length,{compare:n,between:l,normalize:c}=Pe(s),{start:d,end:h,loop:u}=Me(t,e,i),p=[];let m,f,g,v=!1,y=null;const b=()=>l(a,g,m)&&0!==n(a,g),x=()=>0===n(o,m)||l(o,g,m),w=()=>v||b(),k=()=>!v||x();for(let C=d,S=d;C<=h;++C)f=e[C%r],f.skip||(m=c(f[s]),v=l(m,a,o),null===y&&w()&&(y=0===n(m,a)?C:S),null!==y&&k()&&(p.push(_e(y,C,u,r)),y=null),S=C,g=m);return null!==y&&p.push(_e(y,h,u,r)),p}function De(t,e){const i=[],s=t.segments;for(let a=0;a<s.length;a++){const o=Fe(s[a],t.points,e);o.length&&i.push(...o)}return i}function Be(t,e,i,s){let a=0,o=e-1;if(i&&!s)while(a<e&&!t[a].skip)a++;while(a<e&&t[a].skip)a++;a%=e,i&&(o+=a);while(o>a&&t[o%e].skip)o--;return o%=e,{start:a,end:o}}function Oe(t,e,i,s){const a=t.length,o=[];let r,n=e,l=t[e];for(r=e+1;r<=i;++r){const i=t[r%a];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%a,end:(r-1)%a,loop:s}),e=n=i.stop?r:null):(n=r,l.skip&&(e=r)),l=i}return null!==n&&o.push({start:e%a,end:n%a,loop:s}),o}function Ee(t){const e=t.points,i=t.options.spanGaps,s=e.length;if(!s)return[];const a=!!t._loop,{start:o,end:r}=Be(e,s,a,i);if(!0===i)return[{start:o,end:r,loop:a}];const n=r<o?r+s:r,l=!!t._fullLoop&&0===o&&r===s-1;return Oe(e,o,n,l)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const Ne=Number.EPSILON||1e-14;function $e(t,e,i,s){const a=t.skip?e:t,o=e,r=i.skip?e:i,n=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2));let c=n/(n+l),d=l/(n+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=s*c,u=s*d;return{previous:{x:o.x-h*(r.x-a.x),y:o.y-h*(r.y-a.y)},next:{x:o.x+u*(r.x-a.x),y:o.y+u*(r.y-a.y)}}}function Re(t){const e=(t||[]).map(t=>({model:t,deltaK:0,mK:0})),i=e.length;let s,a,o,r,n,l,c,d,h;for(s=0;s<i;++s)if(o=e[s],!o.model.skip){if(a=s>0?e[s-1]:null,r=s<i-1?e[s+1]:null,r&&!r.model.skip){const t=r.model.x-o.model.x;o.deltaK=0!==t?(r.model.y-o.model.y)/t:0}!a||a.model.skip?o.mK=o.deltaK:!r||r.model.skip?o.mK=a.deltaK:ee(a.deltaK)!==ee(o.deltaK)?o.mK=0:o.mK=(a.deltaK+o.deltaK)/2}for(s=0;s<i-1;++s)o=e[s],r=e[s+1],o.model.skip||r.model.skip||(Zt(o.deltaK,0,Ne)?o.mK=r.mK=0:(n=o.mK/o.deltaK,l=r.mK/o.deltaK,d=Math.pow(n,2)+Math.pow(l,2),d<=9||(c=3/Math.sqrt(d),o.mK=n*c*o.deltaK,r.mK=l*c*o.deltaK)));for(s=0;s<i;++s)o=e[s],o.model.skip||(a=s>0?e[s-1]:null,r=s<i-1?e[s+1]:null,a&&!a.model.skip&&(h=(o.model.x-a.model.x)/3,o.model.controlPointPreviousX=o.model.x-h,o.model.controlPointPreviousY=o.model.y-h*o.mK),r&&!r.model.skip&&(h=(r.model.x-o.model.x)/3,o.model.controlPointNextX=o.model.x+h,o.model.controlPointNextY=o.model.y+h*o.mK))}function ze(t,e,i){return Math.max(Math.min(t,i),e)}function qe(t,e){let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i],E(a,e)&&(i>0&&E(t[i-1],e)&&(a.controlPointPreviousX=ze(a.controlPointPreviousX,e.left,e.right),a.controlPointPreviousY=ze(a.controlPointPreviousY,e.top,e.bottom)),i<t.length-1&&E(t[i+1],e)&&(a.controlPointNextX=ze(a.controlPointNextX,e.left,e.right),a.controlPointNextY=ze(a.controlPointNextY,e.top,e.bottom)))}function Ve(t,e,i,s){let a,o,r,n;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)Re(t);else{let i=s?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)r=t[a],n=$e(i,r,t[Math.min(a+1,o-(s?0:1))%o],e.tension),r.controlPointPreviousX=n.previous.x,r.controlPointPreviousY=n.previous.y,r.controlPointNextX=n.next.x,r.controlPointNextY=n.next.y,i=r}e.capBezierPoints&&qe(t,i)}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */const je=function(t,e){return{x(i){return t+t+e-i},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},We=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function He(t,e,i){return t?je(e,i):We()}function Xe(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Ye(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}
/*!
 * Chart.js v3.0.0-beta
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */function Ge(t,e,i,s){const a=1e3/(i-s)|0,o=t.ctx;o.save(),o.clearRect(0,0,50,24),o.fillStyle="black",o.textAlign="right",e&&(o.fillText(e,50,8),o.fillText(a+" fps",50,18)),o.restore()}class Ue{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s]||[],o=e.duration;a.forEach(s=>s({chart:t,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){const t=this;t._request||(t._running=!0,t._request=s.call(window,()=>{t._update(),t._request=null,t._running&&t._refresh()}))}_update(){const t=this,e=Date.now();let i=0;t._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let r,n=o.length-1,l=!1;for(;n>=0;--n)r=o[n],r._active?(r.tick(e),l=!0):(o[n]=o[o.length-1],o.pop());l&&(a.draw(),t._notify(a,s,e,"progress")),a.options.animation.debug&&Ge(a,o.length,e,t._lastDate),o.length||(s.running=!1,t._notify(a,s,e,"complete")),i+=o.length}),t._lastDate=e,0===i&&(t._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Je=new Ue;const Ke="transparent",Ze={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const s=Et(t||Ke),a=s.valid&&Et(e||Ke);return a&&a.valid?a.mix(s,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class Qe{constructor(t,e,i,s){const a=e[i];s=Y([t.to,s,a,t.from]);const o=Y([t.from,a,s]);this._active=!0,this._fn=t.fn||Ze[t.type||typeof o],this._easing=r[t.easing||"linear"],this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){const s=this;if(s._active){const a=s._target[s._prop],o=i-s._start,r=s._duration-o;s._start=i,s._duration=Math.floor(Math.max(r,t.duration)),s._loop=!!t.loop,s._to=Y([t.to,e,a,t.from]),s._from=Y([t.from,a,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,i=t-e._start,s=e._duration,a=e._prop,o=e._from,r=e._loop,n=e._to;let l;if(e._active=o!==n&&(r||i<s),!e._active)return e._target[a]=n,void e._notify(!0);i<0?e._target[a]=o:(l=i/s%2,l=r&&l>1?2-l:l,l=e._easing(Math.min(1,Math.max(0,l))),e._target[a]=e._fn(o,n,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}const ti=["x","y","borderWidth","radius","tension"],ei=["borderColor","backgroundColor"];function ii(t,e){const i=t.options,s=e.options;i&&s&&(i.$shared&&!s.$shared?t.options=Object.assign({},i,s,{$shared:!1}):Object.assign(i,s),delete e.options)}function si(t){const e={};return Object.keys(t).forEach(i=>{const s=t[i];h(s)||(e[i]=s)}),e}j.set("animation",{duration:1e3,easing:"easeOutQuart",onProgress:n,onComplete:n,colors:{type:"color",properties:ei},numbers:{type:"number",properties:ti},active:{duration:400},resize:{duration:0},show:{colors:{type:"color",properties:ei,from:"transparent"},visible:{type:"boolean",duration:0}},hide:{colors:{type:"color",properties:ei,to:"transparent"},visible:{type:"boolean",easing:"easeInExpo"}}});class ai{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!h(t))return;const e=this._properties,i=si(t);Object.keys(t).forEach(s=>{const a=t[s];h(a)&&(a.properties||[s]).forEach(t=>{if(e.has(t)){if(t===s){const{properties:i,...s}=e.get(t);e.set(t,Object.assign({},s,a))}}else e.set(t,Object.assign({},i,a))})})}_animateOptions(t,e){const i=e.options,s=ri(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&!s.$shared&&oi(t.$animations,i).then(()=>{t.options=i}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),o=Object.keys(e),r=Date.now();let n;for(n=o.length-1;n>=0;--n){const l=o[n];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(t,e));continue}const c=e[l];let d=a[l];const h=i.get(l);if(d){if(h&&d.active()){d.update(h,c,r);continue}d.cancel()}h&&h.duration?(a[l]=d=new Qe(h,t,l,c),s.push(d)):t[l]=c}return s}update(t,e){if(0===this._properties.size)return ii(t,e),void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Je.add(this._chart,i),!0):void 0}}function oi(t,e){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const e=t[s[a]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}function ri(t,e){if(!e)return;let i=t.options;if(i)return i.$shared&&!e.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}function ni(t,e){const i=t&&t.options||{},s=i.reverse,a=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:a,end:s?a:o}}function li(t,e,i){if(!1===i)return!1;const s=ni(t,i),a=ni(e,i);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function ci(t){let e,i,s,a;return h(t)?(e=t.top,i=t.right,s=t.bottom,a=t.left):e=i=s=a=t,{top:e,right:i,bottom:s,left:a}}function di(t,e){const i=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)i.push(s[a].index);return i}function hi(t,e,i,s){const a=t.keys;let o,r,n,l;for(o=0,r=a.length;o<r;++o){if(n=+a[o],n===i){if(s)continue;break}l=t.values[n],isNaN(l)||0!==e&&ee(e)!==ee(l)||(e+=l)}return e}function ui(t){const e=Object.keys(t),i=new Array(e.length);let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s],i[s]={x:o,y:t[o]};return i}function pi(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function mi(t,e,i){return t.id+"."+e.id+"."+i.stack+"."+i.type}function fi(t){const{min:e,max:i,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?i:Number.POSITIVE_INFINITY}}function gi(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function vi(t,e){const{chart:i,_cachedMeta:s}=t,a=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:n}=s,l=o.axis,c=r.axis,d=mi(o,r,s),h=e.length;let u;for(let p=0;p<h;++p){const t=e[p],{[l]:i,[c]:s}=t,o=t._stacks||(t._stacks={});u=o[c]=gi(a,d,i),u[n]=s}}function yi(t,e){const i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function bi(t){return d(t)?t:Object.keys(t)}function xi(t,e){return e?"hover"+C(t):t}function wi(t){return"reset"===t||"none"===t}class ki{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedAnimations={},this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this._config=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this.enableOptionSharing=!1,this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=pi(e.vScale,e),t.addElements()}updateIndex(t){this.index=t}linkScales(){const t=this,e=t.chart,i=t._cachedMeta,s=t.getDataset(),a=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,o=i.xAxisID=p(s.xAxisID,yi(e,"x")),r=i.yAxisID=p(s.yAxisID,yi(e,"y")),n=i.rAxisID=p(s.rAxisID,yi(e,"r")),l=i.indexAxis,c=i.iAxisID=a(l,o,r,n),d=i.vAxisID=a(l,r,o,n);i.xScale=t.getScaleForId(o),i.yScale=t.getScaleForId(r),i.rScale=t.getScaleForId(n),i.iScale=t.getScaleForId(c),i.vScale=t.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){this._data&&Wt(this._data,this)}_dataCheck(){const t=this,e=t.getDataset(),i=e.data||(e.data=[]);h(i)?t._data=ui(i):t._data!==i&&(t._data&&Wt(t._data,t),i&&Object.isExtensible(i)&&jt(i,t),t._data=i)}addElements(){const t=this,e=t._cachedMeta;t._dataCheck();const i=t._data,s=e.data=new Array(i.length);for(let a=0,o=i.length;a<o;++a)s[a]=new t.dataElementType;t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(){const t=this,e=t._cachedMeta,i=t.getDataset();let s=!1;t._dataCheck(),e._stacked=pi(e.vScale,e),e.stack!==i.stack&&(s=!0,e._parsed.forEach(t=>{delete t._stacks[e.vScale.id][e.index]}),e.stack=i.stack),t._resyncElements(),s&&vi(t,e._parsed)}configure(){const t=this;t._config=b({},[t.chart.options[t._type].datasets,t.getDataset()],{merger(t,e,i){"data"!==t&&y(t,e,i)}}),t._parsing=Y([t._config.parsing,t.chart.options.parsing,!0])}parse(t,e){const i=this,{_cachedMeta:s,_data:a}=i,{iScale:o,vScale:r,_stacked:n}=s,l=o.axis;let c,u,p,m,f=!0;if(t>0&&(f=s._sorted,m=s._parsed[t-1]),!1===i._parsing)s._parsed=a,s._sorted=!0;else{for(u=d(a[t])?i.parseArrayData(s,a,t,e):h(a[t])?i.parseObjectData(s,a,t,e):i.parsePrimitiveData(s,a,t,e),c=0;c<e;++c)s._parsed[c+t]=p=u[c],f&&(m&&p[l]<m[l]&&(f=!1),m=p);s._sorted=f}n&&vi(i,u),o.invalidateCaches(),r.invalidateCaches()}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:o}=t,r=a.axis,n=o.axis,l=a.getLabels(),c=a===o,d=new Array(s);let h,u,p;for(h=0,u=s;h<u;++h)p=h+i,d[h]={[r]:c||a.parse(l[p],p),[n]:o.parse(e[p],p)};return d}parseArrayData(t,e,i,s){const{xScale:a,yScale:o}=t,r=new Array(s);let n,l,c,d;for(n=0,l=s;n<l;++n)c=n+i,d=e[c],r[n]={x:a.parse(d[0],c),y:o.parse(d[1],c)};return r}parseObjectData(t,e,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:r="x",yAxisKey:n="y"}=this._parsing,l=new Array(s);let c,d,h,u;for(c=0,d=s;c<d;++c)h=c+i,u=e[h],l[c]={x:a.parse(k(u,r),h),y:o.parse(k(u,n),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}applyStack(t,e){const i=this.chart,s=this._cachedMeta,a=e[t.axis],o={keys:di(i,!0),values:e._stacks[t.axis]};return hi(o,a,s.index)}updateRangeFromParsed(t,e,i,s){let a=i[e.axis];const o=s&&i._stacks[e.axis];s&&o&&(s.values=o,t.min=Math.min(t.min,a),t.max=Math.max(t.max,a),a=hi(s,a,this._cachedMeta.index,!0)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this,s=i._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,r=a.length,n=i._getOtherScale(t),l=e&&s._stacked&&{keys:di(i.chart,!0),values:null},c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=fi(n);let u,p,m,f;function g(){return m=a[u],p=m[t.axis],f=m[n.axis],isNaN(p)||d>f||h<f}for(u=0;u<r;++u)if(!g()&&(i.updateRangeFromParsed(c,t,m,l),o))break;if(o)for(u=r-1;u>=0;--u)if(!g()){i.updateRangeFromParsed(c,t,m,l);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,o;for(s=0,a=e.length;s<a;++s)o=e[s][t.axis],isNaN(o)||i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=i.iScale,a=i.vScale,o=e.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this,i=e._cachedMeta;e.configure(),e._cachedAnimations={},e._cachedDataOpts={},e.update(t||"default"),i._clip=ci(p(e._config.clip,li(i.xScale,i.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,i=t.chart,s=t._cachedMeta,a=s.data||[],o=i.chartArea,r=[];let n,l;for(s.dataset&&s.dataset.draw(e,o),n=0,l=a.length;n<l;++n){const t=a[n];t.active?r.push(t):t.draw(e,o)}for(n=0,l=r.length;n<l;++n)r[n].draw(e,o)}_addAutomaticHoverColors(t,e){const i=this,s=i.getStyle(t),a=Object.keys(s).filter(t=>-1!==t.indexOf("Color")&&!(t in e));let o,r=a.length-1;for(;r>=0;r--)o=a[r],e[o]=Nt(s[o])}getStyle(t,e){const i=this,s=i._cachedMeta,a=s.dataset;i._config||i.configure();const o=a&&void 0===t?i.resolveDatasetElementOptions(e):i.resolveDataElementOptions(t||0,e&&"active");return e&&i._addAutomaticHoverColors(t,o),o}_getContext(t,e){return{chart:this.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:this.getDataset(),datasetIndex:this.index,active:e}}resolveDatasetElementOptions(t){return this._resolveOptions(this.datasetElementOptions,{active:t,type:this.datasetElementType.id})}resolveDataElementOptions(t,e){e=e||"default";const i=this,s="active"===e,a=i._cachedDataOpts,o=i.enableOptionSharing;if(a[e])return a[e];const r={cacheable:!s},n=i._resolveOptions(i.dataElementOptions,{index:t,active:s,info:r,type:i.dataElementType.id});return r.cacheable&&(n.$shared=o,a[e]=o?Object.freeze(n):n),n}_resolveOptions(t,e){const i=this,{index:s,active:a,type:o,info:r}=e,n=i._config,l=i.chart.options.elements[o]||{},c={},d=i._getContext(s,a),h=bi(t);for(let u=0,p=h.length;u<p;++u){const e=h[u],i=xi(e,a),o=Y([n[t[i]],n[i],l[i]],d,s,r);void 0!==o&&(c[e]=o)}return c}_resolveAnimations(t,e,i){const s=this,a=s.chart,o=s._cachedAnimations;if(e=e||"default",o[e])return o[e];const r={cacheable:!0},n=s._getContext(t,i),l=Y([s._config.animation],n,t,r),c=Y([a.options.animation],n,t,r);let d=x({},[l,c]);d[e]&&(d=Object.assign({},d,d[e]));const h=new ai(a,d);return r.cacheable&&(o[e]=h&&Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||wi(t)}updateElement(t,e,i,s){wi(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&this._resolveAnimations(void 0,e).update({options:t},{options:i})}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(){const t=this,e=t._cachedMeta,i=e.data.length,s=t._data.length;s>i?t._insertElements(i,s-i):s<i&&(e.data.splice(s,i-s),e._parsed.splice(s,i-s)),t.parse(0,Math.min(s,i))}_insertElements(t,e){const i=this,s=new Array(e),a=i._cachedMeta,o=a.data;let r;for(r=0;r<e;++r)s[r]=new i.dataElementType;o.splice(t,0,...s),i._parsing&&a._parsed.splice(t,0,...new Array(e)),i.parse(t,e),i.updateElements(s,t,"reset")}updateElements(t,e,i){}_removeElements(t,e){const i=this;i._parsing&&i._cachedMeta._parsed.splice(t,e),i._cachedMeta.data.splice(t,e)}_onDataPush(){const t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}_onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}_onDataShift(){this._removeElements(0,1)}_onDataSplice(t,e){this._removeElements(t,e),this._insertElements(t,arguments.length-2)}_onDataUnshift(){this._insertElements(0,arguments.length)}}function Ci(t,e){let i,s,a,o,r=t._length;for(a=1,o=e.length;a<o;++a)r=Math.min(r,Math.abs(e[a]-e[a-1]));for(a=0,o=t.ticks.length;a<o;++a)s=t.getPixelForTick(a),r=a>0?Math.min(r,Math.abs(s-i)):r,i=s;return r}function Si(t,e,i){const s=i.barThickness,a=e.stackCount;let o,r;return c(s)?(o=e.min*i.categoryPercentage,r=i.barPercentage):(o=s*a,r=1),{chunk:o/a,ratio:r,start:e.pixels[t]-o/2}}function Ai(t,e,i){const s=e.pixels,a=s[t];let o=t>0?s[t-1]:null,r=t<s.length-1?s[t+1]:null;const n=i.categoryPercentage;null===o&&(o=a-(null===r?e.end-e.start:r-a)),null===r&&(r=a+a-o);const l=a-(a-Math.min(o,r))/2*n,c=Math.abs(r-o)/2*n;return{chunk:c/e.stackCount,ratio:i.barPercentage,start:l}}function Ii(t,e,i,s){const a=i.parse(t[0],s),o=i.parse(t[1],s),r=Math.min(a,o),n=Math.max(a,o);let l=r,c=n;Math.abs(r)>Math.abs(n)&&(l=n,c=r),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:a,end:o,min:r,max:n}}function Ti(t,e,i,s){return d(t)?Ii(t,e,i,s):e[i.axis]=i.parse(t,s),e}function Li(t,e,i,s){const a=t.iScale,o=t.vScale,r=a.getLabels(),n=a===o,l=[];let c,d,h,u;for(c=i,d=i+s;c<d;++c)u=e[c],h={},h[a.axis]=n||a.parse(r[c],c),l.push(Ti(u,h,o,c));return l}function Pi(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}ki.defaults={},ki.prototype.datasetElementType=null,ki.prototype.dataElementType=null,ki.prototype.datasetElementOptions=["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],ki.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","pointStyle"];class _i extends ki{parsePrimitiveData(t,e,i,s){return Li(t,e,i,s)}parseArrayData(t,e,i,s){return Li(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:o}=t,{xAxisKey:r="x",yAxisKey:n="y"}=this._parsing,l="x"===a.axis?r:n,c="x"===o.axis?r:n,d=[];let h,u,p,m;for(h=i,u=i+s;h<u;++h)m=e[h],p={},p[a.axis]=a.parse(k(m,l),h),d.push(Ti(k(m,c),p,o,h));return d}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getLabelAndValue(t){const e=this,i=e._cachedMeta,{iScale:s,vScale:a}=i,o=e.getParsed(t),r=o._custom,n=Pi(r)?"["+r.start+", "+r.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:n}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize();const e=t._cachedMeta;e.stack=t.getDataset().stack}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,o=s._cachedMeta.vScale,r=o.getBasePixel(),n=o.isHorizontal(),l=s._getRuler(),c=s.resolveDataElementOptions(e,i),d=s.getSharedOptions(c),h=s.includeOptions(i,d);s.updateSharedOptions(d,i,c);for(let u=0;u<t.length;u++){const o=e+u,c=d||s.resolveDataElementOptions(o,i),p=s._calculateBarValuePixels(o,c),m=s._calculateBarIndexPixels(o,l,c),f={horizontal:n,base:a?r:p.base,x:n?a?r:p.head:m.center,y:n?m.center:a?r:p.head,height:n?m.size:void 0,width:n?void 0:m.size};h&&(f.options=c),s.updateElement(t[u],o,f,i)}}_getStacks(t){const e=this,i=e._cachedMeta,s=i.iScale,a=s.getMatchingVisibleMetas(e._type),o=s.options.stacked,r=a.length,n=[];let l,c;for(l=0;l<r;++l)if(c=a[l],(!1===o||-1===n.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&n.push(c.stack),c.index===t)break;return n.length||n.push(void 0),n}_getStackCount(){return this._getStacks().length}_getStackIndex(t,e){const i=this._getStacks(t),s=void 0!==e?i.indexOf(e):-1;return-1===s?i.length-1:s}_getRuler(){const t=this,e=t._cachedMeta,i=e.iScale,s=[];let a,o;for(a=0,o=e.data.length;a<o;++a)s.push(i.getPixelForValue(t.getParsed(a)[i.axis],a));const r=Ci(i,s);return{min:r,pixels:s,start:i._startPixel,end:i._endPixel,stackCount:t._getStackCount(),scale:i}}_calculateBarValuePixels(t,e){const i=this,s=i._cachedMeta,a=s.vScale,o=e.minBarLength,r=i.getParsed(t),n=r._custom;let l,c,d=r[a.axis],h=0,u=s._stacked?i.applyStack(a,r):d;u!==d&&(h=u-d,u=d),Pi(n)&&(d=n.barStart,u=n.barEnd-n.barStart,0!==d&&ee(d)!==ee(n.barEnd)&&(h=0),h+=d);let p=de(a.getPixelForValue(h),a._startPixel-10,a._endPixel+10);return l=a.getPixelForValue(h+u),c=l-p,void 0!==o&&Math.abs(c)<o&&(c=c<0?-o:o,0===d&&(p-=c/2),l=p+c),{size:c,base:p,head:l,center:l+c/2}}_calculateBarIndexPixels(t,e,i){const s=this,a="flex"===i.barThickness?Ai(t,e,i):Si(t,e,i),o=s._getStackIndex(s.index,s._cachedMeta.stack),r=a.start+a.chunk*o+a.chunk/2,n=Math.min(p(i.maxBarThickness,1/0),a.chunk*a.ratio);return{base:r-n/2,head:r+n/2,center:r,size:n}}draw(){const t=this,e=t.chart,i=t._cachedMeta,s=i.vScale,a=i.data,o=a.length;let r=0;for(N(e.ctx,e.chartArea);r<o;++r)isNaN(t.getParsed(r)[s.axis])||a[r].draw(t._ctx);$(e.ctx)}}_i.id="bar",_i.defaults={datasetElementType:!1,dataElementType:"rectangle",dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],hover:{mode:"index"},datasets:{categoryPercentage:.8,barPercentage:.9,animation:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},scales:{_index_:{type:"category",offset:!0,gridLines:{offsetGridLines:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Mi extends ki{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,e,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:r="x",yAxisKey:n="y"}=this._parsing,l=[];let c,d,h;for(c=i,d=i+s;c<d;++c)h=e[c],l.push({x:a.parse(k(h,r),c),y:o.parse(k(h,n),c),_custom:h&&h.r&&+h.r});return l}getMaxOverflow(){const t=this,e=t._cachedMeta;let i=(e.data||[]).length-1,s=0;for(;i>=0;--i)s=Math.max(s,t.getStyle(i,!0).radius);return s>0&&s}getLabelAndValue(t){const e=this,i=e._cachedMeta,{xScale:s,yScale:a}=i,o=e.getParsed(t),r=s.getLabelForValue(o.x),n=a.getLabelForValue(o.y),l=o._custom;return{label:i.label,value:"("+r+", "+n+(l?", "+l:"")+")"}}update(t){const e=this,i=e._cachedMeta.data;e.updateElements(i,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,{xScale:o,yScale:r}=s._cachedMeta,n=s.resolveDataElementOptions(e,i),l=s.getSharedOptions(n),c=s.includeOptions(i,l);for(let d=0;d<t.length;d++){const n=t[d],l=e+d,h=!a&&s.getParsed(l),u=a?o.getPixelForDecimal(.5):o.getPixelForValue(h.x),p=a?r.getBasePixel():r.getPixelForValue(h.y),m={x:u,y:p,skip:isNaN(u)||isNaN(p)};c&&(m.options=s.resolveDataElementOptions(l,i),a&&(m.options.radius=0)),s.updateElement(n,l,m,i)}s.updateSharedOptions(l,i,n)}resolveDataElementOptions(t,e){const i=this,s=i.chart,a=i.getDataset(),o=i.getParsed(t);let r=super.resolveDataElementOptions(t,e);const n={chart:s,dataPoint:o,dataIndex:t,dataset:a,datasetIndex:i.index};return r.$shared&&(r=Object.assign({},r,{$shared:!1})),"active"!==e&&(r.radius=0),r.radius+=Y([o&&o._custom,i._config.radius,s.options.elements.point.radius],n,t),r}}Mi.id="bubble",Mi.defaults={datasetElementType:!1,dataElementType:"point",dataElementOptions:["backgroundColor","borderColor","borderWidth","hitRadius","radius","pointStyle","rotation"],animation:{numbers:{properties:["x","y","borderWidth","radius"]}},scales:{x:{type:"linear"},y:{type:"linear"}},tooltips:{callbacks:{title(){return""}}}};const Fi=Math.PI,Di=2*Fi,Bi=Fi/2;function Oi(t,e,i){let s=1,a=1,o=0,r=0;if(e<Di){let n=t%Di;n+=n>=Fi?-Di:n<-Fi?Di:0;const l=n+e,c=Math.cos(n),d=Math.sin(n),h=Math.cos(l),u=Math.sin(l),p=n<=0&&l>=0||l>=Di,m=n<=Bi&&l>=Bi||l>=Di+Bi,f=n===-Fi||l>=Fi,g=n<=-Bi&&l>=-Bi||l>=Fi+Bi,v=f?-1:Math.min(c,c*i,h,h*i),y=g?-1:Math.min(d,d*i,u,u*i),b=p?1:Math.max(c,c*i,h,h*i),x=m?1:Math.max(d,d*i,u,u*i);s=(b-v)/2,a=(x-y)/2,o=-(b+v)/2,r=-(x+y)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:r}}class Ei extends ki{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;let a,o;for(a=t,o=t+e;a<o;++a)s._parsed[a]=+i[a]}getRingIndex(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e}update(t){const e=this,i=e.chart,{chartArea:s,options:a}=i,o=e._cachedMeta,r=o.data,n=a.cutoutPercentage/100||0,l=e._getRingWeight(e.index),{ratioX:c,ratioY:d,offsetX:h,offsetY:u}=Oi(a.rotation,a.circumference,n),p=e.getMaxBorderWidth()+e.getMaxOffset(r),m=(s.right-s.left-p)/c,f=(s.bottom-s.top-p)/d,g=Math.max(Math.min(m,f)/2,0),v=Math.max(g*n,0),y=(g-v)/e._getVisibleDatasetWeightTotal();e.offsetX=h*g,e.offsetY=u*g,o.total=e.calculateTotal(),e.outerRadius=g-y*e._getRingWeightOffset(e.index),e.innerRadius=Math.max(e.outerRadius-y*l,0),e.updateElements(r,0,t)}_circumference(t,e){const i=this,s=i.chart.options,a=i._cachedMeta;return e&&s.animation.animateRotate?0:this.chart.getDataVisibility(t)?i.calculateCircumference(a._parsed[t]*s.circumference/Di):0}updateElements(t,e,i){const s=this,a="reset"===i,o=s.chart,r=o.chartArea,n=o.options,l=n.animation,c=(r.left+r.right)/2,d=(r.top+r.bottom)/2,h=a&&l.animateScale,u=h?0:s.innerRadius,p=h?0:s.outerRadius,m=s.resolveDataElementOptions(e,i),f=s.getSharedOptions(m),g=s.includeOptions(i,f);let v,y=n.rotation;for(v=0;v<e;++v)y+=s._circumference(v,a);for(v=0;v<t.length;++v){const o=e+v,r=s._circumference(o,a),n=t[v],l={x:c+s.offsetX,y:d+s.offsetY,startAngle:y,endAngle:y+r,circumference:r,outerRadius:p,innerRadius:u};g&&(l.options=f||s.resolveDataElementOptions(o,i)),y+=r,s.updateElement(n,o,l,i)}s.updateSharedOptions(f,i,m)}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const e=t._parsed[i];!isNaN(e)&&this.chart.getDataVisibility(i)&&(s+=Math.abs(e))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Di*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=e.chart,a=s.data.labels||[];return{label:a[t]||"",value:i._parsed[t]}}getMaxBorderWidth(t){const e=this;let i=0;const s=e.chart;let a,o,r,n,l;if(!t)for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){r=s.getDatasetMeta(a),t=r.data,n=r.controller,n!==e&&n.configure();break}if(!t)return 0;for(a=0,o=t.length;a<o;++a)l=n.resolveDataElementOptions(a),"inner"!==l.borderAlign&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(p(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ei.id="doughnut",Ei.defaults={datasetElementType:!1,dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]},animateRotate:!0,animateScale:!1},aspectRatio:1,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((e,i)=>{const s=t.getDatasetMeta(0),a=s.controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(i),index:i}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},cutoutPercentage:50,rotation:-Bi,circumference:Di,tooltips:{callbacks:{title(){return""},label(t){let e=t.label;const i=": "+t.formattedValue;return d(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}};class Ni extends ki{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,i=e._cachedMeta,s=i.dataset,a=i.data||[];if("resize"!==t){const i={points:a,options:e.resolveDatasetElementOptions()};e.updateElement(s,void 0,i,t)}e.updateElements(a,0,t)}updateElements(t,e,i){const s=this,a="reset"===i,{xScale:o,yScale:r,_stacked:n}=s._cachedMeta,l=s.resolveDataElementOptions(e,i),c=s.getSharedOptions(l),d=s.includeOptions(i,c),h=p(s._config.spanGaps,s.chart.options.spanGaps),u=Kt(h)?h:Number.POSITIVE_INFINITY;let m;for(let p=0;p<t.length;++p){const l=e+p,h=t[p],f=s.getParsed(l),g=o.getPixelForValue(f.x,l),v=a?r.getBasePixel():r.getPixelForValue(n?s.applyStack(r,f):f.y,l),y={x:g,y:v,skip:isNaN(g)||isNaN(v),stop:p>0&&f.x-m.x>u};d&&(y.options=c||s.resolveDataElementOptions(l,i)),s.updateElement(h,l,y,i),m=f}s.updateSharedOptions(c,i,l)}resolveDatasetElementOptions(t){const e=this,i=e._config,s=e.chart.options,a=s.elements.line,o=super.resolveDatasetElementOptions(t),r=p(i.showLine,s.showLines);return o.spanGaps=p(i.spanGaps,s.spanGaps),o.tension=p(i.lineTension,a.tension),o.stepped=Y([i.stepped,a.stepped]),r||(o.borderWidth=0),o}getMaxOverflow(){const t=this,e=t._cachedMeta,i=e.dataset.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(),o=s[s.length-1].size();return Math.max(i,a,o)/2}draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),super.draw()}}function $i(t){return ie(t)-.5*Math.PI}Ni.id="line",Ni.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","capBezierPoints","cubicInterpolationMode","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverHitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},showLines:!0,spanGaps:!1,hover:{mode:"index"},scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Ri extends ki{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,t)}_updateRadius(){const t=this,e=t.chart,i=e.chartArea,s=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(a/2,0),r=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),n=(o-r)/e.getVisibleDatasetCount();t.outerRadius=o-n*t.index,t.innerRadius=t.outerRadius-n}updateElements(t,e,i){const s=this,a="reset"===i,o=s.chart,r=s.getDataset(),n=o.options,l=n.animation,c=s._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,u=$i(n.startAngle);let p,m=u;for(s._cachedMeta.count=s.countVisibleElements(),p=0;p<e;++p)m+=s._computeAngle(p);for(p=0;p<t.length;p++){const o=t[p],n=e+p;let f=m,g=m+s._computeAngle(n),v=this.chart.getDataVisibility(n)?c.getDistanceFromCenterForValue(r.data[n]):0;m=g,a&&(l.animateScale&&(v=0),l.animateRotate&&(f=u,g=u));const y={x:d,y:h,innerRadius:0,outerRadius:v,startAngle:f,endAngle:g,options:s.resolveDataElementOptions(n,i)};s.updateElement(o,n,y,i)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let i=0;return e.data.forEach((e,s)=>{!isNaN(t.data[s])&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t){const e=this,i=e._cachedMeta,s=i.count,a=e.getDataset();if(isNaN(a.data[t])||!this.chart.getDataVisibility(t))return 0;const o={chart:e.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:a,datasetIndex:e.index};return Y([e.chart.options.elements.arc.angle,2*Math.PI/s],o,t)}}Ri.id="polarArea",Ri.defaults={dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]},animateRotate:!0,animateScale:!0},aspectRatio:1,datasets:{indexAxis:"r"},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,gridLines:{circular:!0},pointLabels:{display:!1}}},startAngle:0,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((e,i)=>{const s=t.getDatasetMeta(0),a=s.controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(i),index:i}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltips:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}};class zi extends Ei{}zi.id="pie",zi.defaults={cutoutPercentage:0};class qi extends ki{getLabelAndValue(t){const e=this,i=e._cachedMeta.vScale,s=e.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(s[i.axis])}}update(t){const e=this,i=e._cachedMeta,s=i.dataset,a=i.data||[],o=i.iScale.getLabels();if("resize"!==t){const i={points:a,_loop:!0,_fullLoop:o.length===a.length,options:e.resolveDatasetElementOptions()};e.updateElement(s,void 0,i,t)}e.updateElements(a,0,t)}updateElements(t,e,i){const s=this,a=s.getDataset(),o=s._cachedMeta.rScale,r="reset"===i;let n;for(n=0;n<t.length;n++){const l=t[n],c=e+n,d=s.resolveDataElementOptions(c,i),h=o.getPointPositionForValue(c,a.data[c]),u=r?o.xCenter:h.x,p=r?o.yCenter:h.y,m={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:d};s.updateElement(l,c,m,i)}}resolveDatasetElementOptions(t){const e=this,i=e._config,s=e.chart.options,a=super.resolveDatasetElementOptions(t),o=p(i.showLine,s.showLines);return a.spanGaps=p(i.spanGaps,s.spanGaps),a.tension=p(i.lineTension,s.elements.line.tension),o||(a.borderWidth=0),a}}qi.id="radar",qi.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","borderWidth","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},aspectRatio:1,spanGaps:!1,scales:{r:{type:"radialLinear"}},datasets:{indexAxis:"r"},elements:{line:{fill:"start",tension:0}}};class Vi extends Ni{}function ji(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}Vi.id="scatter",Vi.defaults={scales:{x:{type:"linear"},y:{type:"linear"}},datasets:{showLine:!1,fill:!1},tooltips:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}};class Wi{constructor(t){this.options=t||{}}formats(){return ji()}parse(t,e){return ji()}format(t,e){return ji()}add(t,e,i){return ji()}diff(t,e,i){return ji()}startOf(t,e,i){return ji()}endOf(t,e){return ji()}}Wi.override=function(t){Object.assign(Wi.prototype,t)};var Hi={_date:Wi};function Xi(t,e){return"native"in t?{x:t.x,y:t.y}:be(t,e)}function Yi(t,e){const i=t.getSortedVisibleDatasetMetas();let s,a,o;for(let r=0,n=i.length;r<n;++r){({index:s,data:a}=i[r]);for(let t=0,i=a.length;t<i;++t)o=a[t],o.skip||e(o,s,t)}}function Gi(t,e,i,s){const{controller:a,data:o,_sorted:r}=t,n=a._cachedMeta.iScale;if(n&&e===n.axis&&r&&o.length){const t=n._reversePixels?zt:Rt;if(!s)return t(o,e,i);if(a._sharedOptions){const s=o[0],a="function"===typeof s.getRange&&s.getRange(e);if(a){const s=t(o,e,i-a),r=t(o,e,i+a);return{lo:s.lo,hi:r.hi}}}}return{lo:0,hi:o.length-1}}function Ui(t,e,i,s,a){const o=t.getSortedVisibleDatasetMetas(),r=i[e];for(let n=0,l=o.length;n<l;++n){const{index:t,data:i}=o[n],{lo:l,hi:c}=Gi(o[n],e,r,a);for(let e=l;e<=c;++e){const a=i[e];a.skip||s(a,t,e)}}}function Ji(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const a=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Ki(t,e,i,s){const a=[];if(!E(e,t.chartArea))return a;const o=function(t,i,o){t.inRange(e.x,e.y,s)&&a.push({element:t,datasetIndex:i,index:o})};return Ui(t,i,e,o,!0),a}function Zi(t,e,i,s,a){const o=Ji(i);let r=Number.POSITIVE_INFINITY,n=[];if(!E(e,t.chartArea))return n;const l=function(t,i,l){if(s&&!t.inRange(e.x,e.y,a))return;const c=t.getCenterPoint(a),d=o(e,c);d<r?(n=[{element:t,datasetIndex:i,index:l}],r=d):d===r&&n.push({element:t,datasetIndex:i,index:l})};return Ui(t,i,e,l),n}var Qi={modes:{index(t,e,i,s){const a=Xi(e,t),o=i.axis||"x",r=i.intersect?Ki(t,a,o,s):Zi(t,a,o,!1,s),n=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&n.push({element:i,datasetIndex:t.index,index:e})}),n):[]},dataset(t,e,i,s){const a=Xi(e,t),o=i.axis||"xy";let r=i.intersect?Ki(t,a,o,s):Zi(t,a,o,!1,s);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point(t,e,i,s){const a=Xi(e,t),o=i.axis||"xy";return Ki(t,a,o,s)},nearest(t,e,i,s){const a=Xi(e,t),o=i.axis||"xy";return Zi(t,a,o,i.intersect,s)},x(t,e,i,s){const a=Xi(e,t),o=[];let r=!1;return Yi(t,(t,e,i)=>{t.inXRange(a.x,s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(a.x,a.y,s)&&(r=!0)}),i.intersect&&!r?[]:o},y(t,e,i,s){const a=Xi(e,t),o=[];let r=!1;return Yi(t,(t,e,i)=>{t.inYRange(a.y,s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(a.x,a.y,s)&&(r=!0)}),i.intersect&&!r?[]:o}}};const ts=["left","top","right","bottom"];function es(t,e){return t.filter(t=>t.pos===e)}function is(t,e){return t.filter(t=>-1===ts.indexOf(t.pos)&&t.box.axis===e)}function ss(t,e){return t.sort((t,i)=>{const s=e?i:t,a=e?t:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function as(t){const e=[];let i,s,a;for(i=0,s=(t||[]).length;i<s;++i)a=t[i],e.push({index:i,box:a,pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return e}function os(t,e){let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i],a.width=a.horizontal?a.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,a.height=a.horizontal&&e.hBoxMaxHeight}function rs(t){const e=as(t),i=ss(es(e,"left"),!0),s=ss(es(e,"right")),a=ss(es(e,"top"),!0),o=ss(es(e,"bottom")),r=is(e,"x"),n=is(e,"y");return{leftAndTop:i.concat(a),rightAndBottom:s.concat(n).concat(o).concat(r),chartArea:es(e,"chartArea"),vertical:i.concat(s).concat(n),horizontal:a.concat(o).concat(r)}}function ns(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ls(t,e,i){const s=i.box,a=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?s.height:s.width,t[i.pos]+=i.size,s.getPadding){const t=s.getPadding();a.top=Math.max(a.top,t.top),a.left=Math.max(a.left,t.left),a.bottom=Math.max(a.bottom,t.bottom),a.right=Math.max(a.right,t.right)}const o=e.outerWidth-ns(a,t,"left","right"),r=e.outerHeight-ns(a,t,"top","bottom");if(o!==t.w||r!==t.h)return t.w=o,t.h=r,i.horizontal?o!==t.w:r!==t.h}function cs(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function ds(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{s[t]=Math.max(e[t],i[t])}),s}return s(t?["left","right"]:["top","bottom"])}function hs(t,e,i){const s=[];let a,o,r,n,l,c;for(a=0,o=t.length;a<o;++a)r=t[a],n=r.box,n.update(r.width||e.w,r.height||e.h,ds(r.horizontal,e)),ls(e,i,r)&&(c=!0,s.length&&(l=!0)),n.fullWidth||s.push(r);return l&&hs(s,e,i)||c}function us(t,e,i){const s=i.padding;let a,o,r,n,l=e.x,c=e.y;for(a=0,o=t.length;a<o;++a)r=t[a],n=r.box,r.horizontal?(n.left=n.fullWidth?s.left:e.left,n.right=n.fullWidth?i.outerWidth-s.right:e.left+e.w,n.top=c,n.bottom=c+n.height,n.width=n.right-n.left,c=n.bottom):(n.left=l,n.right=l+n.width,n.top=e.top,n.bottom=e.top+e.h,n.height=n.bottom-n.top,l=n.right);e.x=l,e.y=c}j.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var ps={addBox(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){const s=["fullWidth","position","weight"],a=s.length;let o,r=0;for(;r<a;++r)o=s[r],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},update(t,e,i){if(!t)return;const s=t.options.layout||{},a=H(s.padding),o=e-a.width,r=i-a.height,n=rs(t.boxes),l=n.vertical,c=n.horizontal,d=Object.freeze({outerWidth:e,outerHeight:i,padding:a,availableWidth:o,vBoxMaxWidth:o/2/l.length,hBoxMaxHeight:r/2}),h=Object.assign({maxPadding:Object.assign({},a),w:o,h:r,x:a.left,y:a.top},a);os(l.concat(c),d),hs(l,h,d),hs(c,h,d)&&hs(l,h,d),cs(h),us(n.leftAndTop,h,d),h.x+=h.w,h.y+=h.h,us(n.rightAndBottom,h,d),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},f(n.chartArea,e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(h.w,h.h)})}};class ms{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}isAttached(t){return!0}}class fs extends ms{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const gs="$chartjs",vs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ys=t=>null===t||""===t;function bs(t,e){const i=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[gs]={initial:{height:s,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ys(a)){const e=Ae(t,"width");void 0!==e&&(t.width=e)}if(ys(s))if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{const e=Ae(t,"height");void 0!==e&&(t.height=e)}return t}const xs=!!Se&&{passive:!0};function ws(t,e,i){t.addEventListener(e,i,xs)}function ks(t,e,i){t.canvas.removeEventListener(e,i,xs)}function Cs(t,e,i,s,a){return{type:t,chart:e,native:a||null,x:void 0!==i?i:null,y:void 0!==s?s:null}}function Ss(t,e){const i=vs[t.type]||t.type,s=be(t,e);return Cs(i,e,s.x,s.y,t)}function As(t,e,i){const s=t.canvas,a=s&&ue(s),o=a||s,r=new MutationObserver(t=>{const e=ue(o);t.forEach(t=>{for(let s=0;s<t.addedNodes.length;s++){const a=t.addedNodes[s];a!==o&&a!==e||i(t.target)}})});return r.observe(document,{childList:!0,subtree:!0}),r}function Is(t,e,i){const s=t.canvas,a=s&&ue(s);if(!a)return;const o=new MutationObserver(t=>{t.forEach(t=>{for(let e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===s){i();break}})});return o.observe(a,{childList:!0}),o}const Ts=new Map;let Ls=0;function Ps(){const t=window.devicePixelRatio;t!==Ls&&(Ls=t,Ts.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function _s(t,e){Ts.size||window.addEventListener("resize",Ps),Ts.set(t,e)}function Ms(t){Ts.delete(t),Ts.size||window.removeEventListener("resize",Ps)}function Fs(t,e,i){const s=t.canvas,o=s&&ue(s);if(!o)return;const r=a((t,e)=>{const s=o.clientWidth;i(t,e),s<o.clientWidth&&i()},window),n=new ResizeObserver(t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||r(i,s)});return n.observe(o),_s(t,r),n}function Ds(t,e,i){i&&i.disconnect(),"resize"===e&&Ms(t)}function Bs(t,e,i){const s=t.canvas,o=a(e=>{null!==t.ctx&&i(Ss(e,t))},t);return ws(s,e,o),o}class Os extends ms{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(bs(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gs])return!1;const i=e[gs].initial;["height","width"].forEach(t=>{const s=i[t];c(s)?e.removeAttribute(t):e.setAttribute(t,s)});const s=i.style||{};return Object.keys(s).forEach(t=>{e.style[t]=s[t]}),e.width=e.width,delete e[gs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),a={attach:As,detach:Is,resize:Fs},o=a[e]||Bs;s[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;const a={attach:Ds,detach:Ds,resize:Ds},o=a[e]||ks;o(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}isAttached(t){const e=ue(t);return!(!e||!ue(e))}}class Es{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Kt(this.x)&&Kt(this.y)}getProps(t,e){const i=this,s=this.$animations;if(!e||!s)return i;const a={};return t.forEach(t=>{a[t]=s[t]&&s[t].active?s[t]._to:i[t]}),a}}Es.defaults={},Es.defaultRoutes=void 0;const Ns={values(t){return d(t)?t:""+t},numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale,a=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));let o;(a<1e-4||a>1e15)&&(o="scientific");let r=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));const n=Jt(Math.abs(r)),l=Math.max(Math.min(-1*Math.floor(n),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),new Intl.NumberFormat(s,c).format(t)},logarithmic:function(t,e,i){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(Jt(t)));return 1===s||2===s||5===s?Ns.numeric.call(this,t,e,i):""}};var $s={formatters:Ns};function Rs(t,e){const i=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)i.push(t[Math.floor(o)]);return i}function zs(t,e,i){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,r=t._endPixel,n=1e-6;let l,c=t.getPixelForTick(a);if(!(i&&(l=1===s?Math.max(c-o,r-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(a-1))/2,c+=a<e?l:-l,c<o-n||c>r+n)))return c}function qs(t,e){f(t,t=>{const i=t.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[i[a]];i.splice(0,s)}})}function Vs(t){return t.drawTicks?t.tickMarkLength:0}function js(t,e){if(!t.display)return 0;const i=X(t.font,e),s=H(t.padding);return i.lineHeight+s.height}function Ws(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}function Hs(t,e,i){const s=Ws(t),a=e.length/i;if(!s)return Math.max(a,1);const o=Ut(s);for(let r=0,n=o.length-1;r<n;r++){const t=o[r];if(t>a)return t}return Math.max(a,1)}function Xs(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}function Ys(t,e,i,s){let a,o=0,r=i[0];for(s=Math.ceil(s),a=0;a<t.length;a++)a===r&&(e.push(t[a]),o++,r=i[o*s])}function Gs(t,e,i,s,a){const o=p(s,0),r=Math.min(p(a,t.length),t.length);let n,l,c,d=0;i=Math.ceil(i),a&&(n=a-s,i=n/Math.floor(n/i)),c=o;while(c<0)d++,c=Math.round(o+d*i);for(l=Math.max(o,0);l<r;l++)l===c&&(e.push(t[l]),d++,c=Math.round(o+d*i))}j.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,lineWidth:0,strokeStyle:"",padding:0,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:$s.formatters.values,minor:{},major:{}}});class Us extends Es{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._ticksLength=0,this._borderValue=0}init(t){const e=this;e.options=t,e.axis=e.isHorizontal()?"x":"y",e._userMin=e.parse(t.min),e._userMax=e.parse(t.max)}parse(t,e){return t}getUserBounds(){let t=this._userMin,e=this._userMax;return(c(t)||isNaN(t))&&(t=Number.POSITIVE_INFINITY),(c(e)||isNaN(e))&&(e=Number.NEGATIVE_INFINITY),{min:t,max:e,minDefined:u(t),maxDefined:u(e)}}getMinMax(t){const e=this;let i,{min:s,max:a,minDefined:o,maxDefined:r}=e.getUserBounds();if(o&&r)return{min:s,max:a};const n=e.getMatchingVisibleMetas();for(let l=0,c=n.length;l<c;++l)i=n[l].controller.getMinMax(e,t),o||(s=Math.min(s,i.min)),r||(a=Math.max(a,i.max));return{min:s,max:a}}invalidateCaches(){}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeUpdate(){m(this.options.beforeUpdate,[this])}update(t,e,i){const s=this,a=s.options.ticks,o=a.sampleSize;s.beforeUpdate(),s.maxWidth=t,s.maxHeight=e,s._margins=Object.assign({left:0,right:0,top:0,bottom:0},i),s.ticks=null,s._labelSizes=null,s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),s.ticks=s.buildTicks()||[],s.afterBuildTicks();const r=o<s.ticks.length;s._convertTicksToLabels(r?Rs(s.ticks,o):s.ticks),s.configure(),s.beforeCalculateLabelRotation(),s.calculateLabelRotation(),s.afterCalculateLabelRotation(),s.beforeFit(),s.fit(),s.afterFit(),s.ticks=a.display&&(a.autoSkip||"auto"===a.source)?s._autoSkip(s.ticks):s.ticks,r&&s._convertTicksToLabels(s.ticks),s.afterUpdate()}configure(){const t=this;let e,i,s=t.options.reverse;t.isHorizontal()?(e=t.left,i=t.right):(e=t.top,i=t.bottom,s=!s),t._startPixel=e,t._endPixel=i,t._reversePixels=s,t._length=i-e}afterUpdate(){m(this.options.afterUpdate,[this])}beforeSetDimensions(){m(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){m(this.options.afterSetDimensions,[this])}beforeDataLimits(){m(this.options.beforeDataLimits,[this])}determineDataLimits(){}afterDataLimits(){m(this.options.afterDataLimits,[this])}beforeBuildTicks(){m(this.options.beforeBuildTicks,[this])}buildTicks(){return[]}afterBuildTicks(){m(this.options.afterBuildTicks,[this])}beforeTickToLabelConversion(){m(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,i=e.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=m(i.callback,[o.value,s,t],e)}afterTickToLabelConversion(){m(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){m(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,i=e.ticks,s=t.ticks.length,a=i.minRotation||0,o=i.maxRotation;let r,n,l,c=a;if(!t._isVisible()||!i.display||a>=o||s<=1||!t.isHorizontal())return void(t.labelRotation=a);const d=t._getLabelSizes(),h=d.widest.width,u=d.highest.height-d.highest.offset,p=Math.min(t.maxWidth,t.chart.width-h);r=e.offset?t.maxWidth/s:p/(s-1),h+6>r&&(r=p/(s-(e.offset?.5:1)),n=t.maxHeight-Vs(e.gridLines)-i.padding-js(e.scaleLabel,t.chart.options.font),l=Math.sqrt(h*h+u*u),c=se(Math.min(Math.asin(Math.min((d.highest.height+6)/r,1)),Math.asin(Math.min(n/l,1))-Math.asin(u/l))),c=Math.max(a,Math.min(o,c))),t.labelRotation=c}afterCalculateLabelRotation(){m(this.options.afterCalculateLabelRotation,[this])}beforeFit(){m(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},i=t.chart,s=t.options,a=s.ticks,o=s.scaleLabel,r=s.gridLines,n=t._isVisible(),l="top"!==s.position&&"x"===t.axis,c=t.isHorizontal(),d=n&&js(o,i.options.font);if(c?e.width=t.maxWidth:n&&(e.width=Vs(r)+d),c?n&&(e.height=Vs(r)+d):e.height=t.maxHeight,a.display&&n&&t.ticks.length){const i=t._getLabelSizes(),s=i.first,o=i.last,r=i.widest,n=i.highest,d=.8*n.offset,h=a.padding;if(c){const i=0!==t.labelRotation,a=ie(t.labelRotation),c=Math.cos(a),u=Math.sin(a),p=u*r.width+c*(n.height-(i?n.offset:0))+(i?0:d);e.height=Math.min(t.maxHeight,e.height+p+h);const m=t.getPixelForTick(0)-t.left,f=t.right-t.getPixelForTick(t.ticks.length-1);let g,v;i?(g=l?c*s.width+u*s.offset:u*(s.height-s.offset),v=l?u*(o.height-o.offset):c*o.width+u*o.offset):(g=s.width/2,v=o.width/2),t.paddingLeft=Math.max((g-m)*t.width/(t.width-m),0)+3,t.paddingRight=Math.max((v-f)*t.width/(t.width-f),0)+3}else{const i=a.mirror?0:r.width+h+d;e.width=Math.min(t.maxWidth,e.width+i),t.paddingTop=o.height/2,t.paddingBottom=s.height/2}}t._handleMargins(),c?(t.width=t._length=i.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t._margins.top-t._margins.bottom)}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){m(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullWidth(){return this.options.fullWidth}_convertTicksToLabels(t){const e=this;e.beforeTickToLabelConversion(),e.generateTickLabels(t),e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;return e||(t._labelSizes=e=t._computeLabelSizes()),e}_computeLabelSizes(){const t=this,e=t.ctx,i=t._longestTextCache,s=t.options.ticks.sampleSize,a=[],o=[],r=[];let n=t.ticks;s<n.length&&(n=Rs(n,s));const l=n.length;let h,u,p,m,f,g,v,y,b,x,w;for(h=0;h<l;++h){if(m=n[h].label,f=t._resolveTickFontOptions(h),e.font=g=f.string,v=i[g]=i[g]||{data:{},gc:[]},y=f.lineHeight,b=x=0,c(m)||d(m)){if(d(m))for(u=0,p=m.length;u<p;++u)w=m[u],c(w)||d(w)||(b=M(e,v.data,v.gc,b,w),x+=y)}else b=M(e,v.data,v.gc,b,m),x=y;a.push(b),o.push(x),r.push(y/2)}qs(i,l);const k=a.indexOf(Math.max.apply(null,a)),C=o.indexOf(Math.max.apply(null,o));function S(t){return{width:a[t]||0,height:o[t]||0,offset:r[t]||0}}return{first:S(0),last:S(l-1),widest:S(k),highest:S(C)}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}_autoSkip(t){const e=this,i=e.options.ticks,s=i.maxTicksLimit||e._length/e._tickSize(),a=i.major.enabled?Xs(t):[],o=a.length,r=a[0],n=a[o-1],l=[];if(o>s)return Ys(t,l,a,o/s),l;const d=Hs(a,t,s);if(o>0){let e,i;const s=o>1?Math.round((n-r)/(o-1)):null;for(Gs(t,l,d,c(s)?0:r-s,r),e=0,i=o-1;e<i;e++)Gs(t,l,d,a[e],a[e+1]);return Gs(t,l,d,n,c(s)?t.length:n+s),l}return Gs(t,l,d),l}_tickSize(){const t=this,e=t.options.ticks,i=ie(t.labelRotation),s=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),o=t._getLabelSizes(),r=e.autoSkipPadding||0,n=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return t.isHorizontal()?l*s>n*a?n/s:l/a:l*a<n*s?l/s:n/a}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,i=e.axis,s=e.chart,a=e.options,{gridLines:o,position:r}=a,n=o.offsetGridLines,l=e.isHorizontal(),c=e.ticks,d=c.length+(n?1:0),u=Vs(o),p=[];let m={chart:s,scale:e,tick:c[0],index:0};const f=o.drawBorder?Y([o.borderWidth,o.lineWidth,0],m,0):0,g=f/2,v=function(t){return D(s,t,f)};let y,b,x,w,k,C,S,A,I,T,L,P;if("top"===r)y=v(e.bottom),C=e.bottom-u,A=y-g,T=v(t.top)+g,P=t.bottom;else if("bottom"===r)y=v(e.top),T=t.top,P=v(t.bottom)-g,C=y+g,A=e.top+u;else if("left"===r)y=v(e.right),k=e.right-u,S=y-g,I=v(t.left)+g,L=t.right;else if("right"===r)y=v(e.left),I=t.left,L=v(t.right)-g,k=y+g,S=e.left+u;else if("x"===i){if("center"===r)y=v((t.top+t.bottom)/2);else if(h(r)){const t=Object.keys(r)[0],i=r[t];y=v(e.chart.scales[t].getPixelForValue(i))}T=t.top,P=t.bottom,C=y+g,A=C+u}else if("y"===i){if("center"===r)y=v((t.left+t.right)/2);else if(h(r)){const t=Object.keys(r)[0],i=r[t];y=v(e.chart.scales[t].getPixelForValue(i))}k=y-g,S=k-u,I=t.left,L=t.right}for(b=0;b<d;++b){const t=c[b]||{};m={chart:s,scale:e,tick:t,index:b};const i=Y([o.lineWidth],m,b),a=Y([o.color],m,b),r=o.borderDash||[],d=Y([o.borderDashOffset],m,b);x=zs(e,b,n),void 0!==x&&(w=D(s,x,i),l?k=S=I=L=w:C=A=T=P=w,p.push({tx1:k,ty1:C,tx2:S,ty2:A,x1:I,y1:T,x2:L,y2:P,width:i,color:a,borderDash:r,borderDashOffset:d}))}return e._ticksLength=d,e._borderValue=y,p}_computeLabelItems(t){const e=this,i=e.axis,s=e.options,{position:a,ticks:o}=s,r=o.mirror,n=e.isHorizontal(),l=e.ticks,c=o.padding,u=Vs(s.gridLines),p=-ie(e.labelRotation),m=[];let f,g,v,y,b,x,w,k,C,S,A,I;if("top"===a)x=e.bottom-u-c,w=p?"left":"center";else if("bottom"===a)x=e.top+u+c,w=p?"right":"center";else if("left"===a)b=e.right-(r?0:u)-c,w=r?"left":"right";else if("right"===a)b=e.left+(r?0:u)+c,w=r?"right":"left";else if("x"===i){if("center"===a)x=(t.top+t.bottom)/2+u+c;else if(h(a)){const t=Object.keys(a)[0],i=a[t];x=e.chart.scales[t].getPixelForValue(i)+u+c}w=p?"right":"center"}else if("y"===i){if("center"===a)b=(t.left+t.right)/2-u-c;else if(h(a)){const t=Object.keys(a)[0],i=a[t];b=e.chart.scales[t].getPixelForValue(i)}w="right"}for(f=0,g=l.length;f<g;++f)v=l[f],y=v.label,k=e.getPixelForTick(f)+o.labelOffset,C=e._resolveTickFontOptions(f),S=C.lineHeight,A=d(y)?y.length:1,n?(b=k,"top"===a?(I=(Math.sin(p)*(A/2)+.5)*S,I-=(0===p?A-.5:Math.cos(p)*(A/2))*S):(I=Math.sin(p)*(A/2)*S,I+=(0===p?.5:Math.cos(p)*(A/2))*S)):(x=k,I=(1-A)*S/2),m.push({x:b,y:x,rotation:p,label:y,font:C,textOffset:I,textAlign:w});return m}drawGrid(t){const e=this,i=e.options.gridLines,s=e.ctx,a=e.chart;let o={chart:a,scale:e,tick:e.ticks[0],index:0};const r=i.drawBorder?Y([i.borderWidth,i.lineWidth,0],o,0):0,n=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let l,c;if(i.display)for(l=0,c=n.length;l<c;++l){const t=n[l],e=t.width,a=t.color;e&&a&&(s.save(),s.lineWidth=e,s.strokeStyle=a,s.setLineDash&&(s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset),s.beginPath(),i.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),i.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore())}if(r){const t=r;o={chart:a,scale:e,tick:e.ticks[e._ticksLength-1],index:e._ticksLength-1};const n=Y([i.lineWidth,1],o,e._ticksLength-1),l=e._borderValue;let c,d,h,u;e.isHorizontal()?(c=D(a,e.left,t)-t/2,d=D(a,e.right,n)+n/2,h=u=l):(h=D(a,e.top,t)-t/2,u=D(a,e.bottom,n)+n/2,c=d=l),s.lineWidth=r,s.strokeStyle=Y([i.borderColor,i.color],o,0),s.beginPath(),s.moveTo(c,h),s.lineTo(d,u),s.stroke()}}drawLabels(t){const e=this,i=e.options.ticks;if(!i.display)return;const s=e.ctx,a=e._labelItems||(e._labelItems=e._computeLabelItems(t));let o,r,n,l;for(o=0,n=a.length;o<n;++o){const t=a[o],e=t.font,i=e.lineWidth>0&&""!==e.strokeStyle;s.save(),s.translate(t.x,t.y),s.rotate(t.rotation),s.font=e.string,s.fillStyle=e.color,s.textBaseline="middle",s.textAlign=t.textAlign,i&&(s.strokeStyle=e.strokeStyle,s.lineWidth=e.lineWidth);const n=t.label;let c=t.textOffset;if(d(n))for(r=0,l=n.length;r<l;++r)i&&s.strokeText(""+n[r],0,c),s.fillText(""+n[r],0,c),c+=e.lineHeight;else i&&s.strokeText(n,0,c),s.fillText(n,0,c);s.restore()}}drawTitle(t){const e=this,i=e.ctx,s=e.options,a=s.scaleLabel;if(!a.display)return;const o=X(a.font,e.chart.options.font),r=H(a.padding),n=o.lineHeight/2,l=a.align,c=s.position,d=e.options.reverse;let h,u,p,m=0;if(e.isHorizontal()){switch(l){case"start":u=e.left+(d?e.width:0),h=d?"right":"left";break;case"end":u=e.left+(d?0:e.width),h=d?"left":"right";break;default:u=e.left+e.width/2,h="center"}p="top"===c?e.top+n+r.top:e.bottom-n-r.bottom}else{const t="left"===c;switch(u=t?e.left+n+r.top:e.right-n-r.top,l){case"start":p=e.top+(d?0:e.height),h=d===t?"right":"left";break;case"end":p=e.top+(d?e.height:0),h=d===t?"left":"right";break;default:p=e.top+e.height/2,h="center"}m=t?-.5*Math.PI:.5*Math.PI}i.save(),i.translate(u,p),i.rotate(m),i.textAlign=h,i.textBaseline="middle",i.fillStyle=o.color,i.font=o.string,i.fillText(a.labelString,0,0),i.restore()}draw(t){const e=this;e._isVisible()&&(e.drawGrid(t),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,i=e.ticks&&e.ticks.z||0,s=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==s&&t.draw===t._draw?[{z:s,draw(e){t.drawGrid(e),t.drawTitle()}},{z:i,draw(e){t.drawLabels(e)}}]:[{z:i,draw(e){t.draw(e)}}]}getMatchingVisibleMetas(t){const e=this,i=e.chart.getSortedVisibleDatasetMetas(),s=e.axis+"AxisID",a=[];let o,r;for(o=0,r=i.length;o<r;++o){const r=i[o];r[s]!==e.id||t&&r.type!==t||a.push(r)}return a}_resolveTickFontOptions(t){const e=this,i=e.chart,s=e.options.ticks,a=e.ticks||[],o={chart:i,scale:e,tick:a[t],index:t};return X(Y([s.font],o),i.options.font)}}Us.prototype._draw=Us.prototype.draw;class Js{constructor(t,e){this.type=t,this.scope=e,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Qs(e)&&(i=this.register(e));const s=this.items,a=t.id,o=this.scope,r=o?o+"."+a:a;if(!a)throw new Error("class does not have id: "+t);if(a in s)return r;if(Object.keys(j.get(r)).length)throw new Error('Can not register "'+a+'", because "defaults.'+r+'" would collide with existing defaults');return s[a]=t,Ks(t,r,i),r}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in j[s]?delete j[s][i]:i in j&&delete j[i]}}function Ks(t,e,i){const s=i?Object.assign({},j.get(i),t.defaults):t.defaults;j.set(e,s),t.defaultRoutes&&Zs(e,t.defaultRoutes)}function Zs(t,e){Object.keys(e).forEach(i=>{const s=e[i].split("."),a=s.pop(),o=s.join(".");j.route(t,i,o,a)})}function Qs(t){return"id"in t&&"defaults"in t}class ta{constructor(){this.controllers=new Js(ki,""),this.elements=new Js(Es,"elements"),this.plugins=new Js(Object,"plugins"),this.scales=new Js(Us,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){const s=this;[...e].forEach(e=>{const a=i||s._getRegistryForType(e);i||a.isForType(e)||a===s.plugins&&e.id?s._exec(t,a,e):f(e,e=>{const a=i||s._getRegistryForType(e);s._exec(t,a,e)})})}_exec(t,e,i){const s=C(t);m(i["before"+s],[],i),e[t](i),m(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var ea=new ta;class ia{notify(t,e,i){const s=this._descriptors(t);for(let a=0;a<s.length;++a){const o=s[a],r=o.plugin,n=r[e];if("function"===typeof n){const e=[t].concat(i||[]);if(e.push(o.options),!1===n.apply(r,e))return!1}}return!0}invalidate(){this._cache=void 0}_descriptors(t){if(this._cache)return this._cache;const e=t&&t.config||{},i=e.options&&e.options.plugins||{},s=sa(e),a=aa(s,i);return this._cache=a,a}}function sa(t){const e=[],i=Object.keys(ea.plugins.items);for(let a=0;a<i.length;a++)e.push(ea.getPlugin(i[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const t=s[a];-1===e.indexOf(t)&&e.push(t)}return e}function aa(t,e){const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=a.id;let r=e[o];!1!==r&&(!0===r&&(r={}),i.push({plugin:a,options:x({},[r,j.plugins[o]])}))}return i}var oa="3.0.0-beta";function ra(t,e){const i=j[t]||{},s=i.datasets||{},a=e[t]||{},o=a.datasets||{};return o.indexAxis||e.indexAxis||s.indexAxis||"x"}function na(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}function la(t,e){return t===e?"_index_":"_value_"}function ca(t,e){e=e||{};const i=j[t.type]||{scales:{}},s=e.scales||{},a=ra(t.type,e),o={},r={};return Object.keys(s).forEach(t=>{const e=s[t],n=va(t,e),l=la(n,a);o[n]=o[n]||t,r[t]=x({axis:n},[e,i.scales[n],i.scales[l]])}),e.scale&&(r[e.scale.id||"r"]=x({axis:"r"},[e.scale,i.scales.r]),o.r=o.r||e.scale.id||"r"),t.data.datasets.forEach(i=>{const a=i.type||t.type,n=i.indexAxis||ra(a,e),l=j[a]||{},c=l.scales||{};Object.keys(c).forEach(t=>{const e=na(t,n),a=i[e+"AxisID"]||o[e]||e;r[a]=r[a]||{},x(r[a],[{axis:e},s[a],c[t]])})}),Object.keys(r).forEach(t=>{const e=r[t];x(e,[j.scales[e.type],j.scale])}),r}function da(...t){return b({},t,{merger(t,e,i,s){"scales"!==t&&"scale"!==t&&y(t,e,i,s)}})}function ha(t){t=t||{};const e=t.data=t.data||{datasets:[],labels:[]};e.datasets=e.datasets||[],e.labels=e.labels||[];const i=ca(t,t.options),s=t.options=da(j,j[t.type],t.options||{});return s.scales=i,s.title=!1!==s.title&&b({},[j.plugins.title,s.title]),s.tooltips=!1!==s.tooltips&&b({},[j.plugins.tooltip,s.tooltips]),t}function ua(t){return!t.animation}function pa(t){let e=t.options;f(t.scales,e=>{ps.removeBox(t,e)});const i=ca(t.config,e);e=da(j,j[t.config.type],e),t.options=t.config.options=e,t.options.scales=i,t._animationsDisabled=ua(e)}const ma=["top","bottom","left","right","chartArea"];function fa(t,e){return"top"===t||"bottom"===t||-1===ma.indexOf(t)&&"x"===e}function ga(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function va(t,e){return"x"===t||"y"===t||"r"===t?t:e.axis||ga(e.position)||t.charAt(0).toLowerCase()}function ya(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function ba(t){const e=t.chart,i=e.options.animation;e._plugins.notify(e,"afterRender"),m(i&&i.onComplete,[t],e)}function xa(t){const e=t.chart,i=e.options.animation;m(i&&i.onProgress,[t],e)}function wa(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ka(t){return wa()&&"string"===typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}function Ca(t,e,i,s){return void 0!==e&&void 0!==i||(e=we(t),i=ke(t)),e=Math.max(0,Math.floor(e)),{width:e,height:Math.max(0,Math.floor(s?e/s:i))}}class Sa{constructor(t,e){const i=this;e=ha(e);const s=ka(t);this.platform=i._initializePlatform(s,e);const a=i.platform.acquireContext(s,e),o=a&&a.canvas,r=o&&o.height,n=o&&o.width;this.id=l(),this.ctx=a,this.canvas=o,this.config=e,this.width=n,this.height=r,this.aspectRatio=r?n/r:null,this.options=e.options,this._bufferedRender=!1,this._layers=[],this._metasets=[],this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.data=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this._updating=!1,this.scales={},this.scale=void 0,this._plugins=new ia,this.$proxies={},this._hiddenIndices={},this.attached=!1,Sa.instances[i.id]=i,Object.defineProperty(i,"data",{get(){return i.config.data},set(t){i.config.data=t}}),a&&o?(Je.listen(i,"complete",ba),Je.listen(i,"progress",xa),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}_initialize(){const t=this;return t._plugins.notify(t,"beforeInit"),t.options.responsive?t.resize(!0):Ce(t,t.options.devicePixelRatio),t.bindEvents(),t._plugins.notify(t,"afterInit"),t}_initializePlatform(t,e){return e.platform?new e.platform:!wa()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new fs:new Os}clear(){return B(this),this}stop(){return Je.stop(this),this}resize(t,e,i){const s=this,a=s.options,o=s.canvas,r=a.maintainAspectRatio&&s.aspectRatio,n=Ca(o,e,i,r),l=s.currentDevicePixelRatio,c=a.devicePixelRatio||s.platform.getDevicePixelRatio();s.width===n.width&&s.height===n.height&&l===c||(o.width=s.width=n.width,o.height=s.height=n.height,o.style&&(o.style.width=n.width+"px",o.style.height=n.height+"px"),Ce(s,c),t||(s._plugins.notify(s,"resize",[n]),m(a.onResize,[n],s),s.attached&&s.update("resize")))}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{},i=t.scale;f(e,(t,e)=>{t.id=e}),i&&(i.id=i.id||"scale")}buildOrUpdateScales(){const t=this,e=t.options,i=e.scales,s=t.scales||{},a=Object.keys(s).reduce((t,e)=>(t[e]=!1,t),{});let o=[];i&&(o=o.concat(Object.keys(i).map(t=>{const e=i[t],s=va(t,e),a="r"===s,o="x"===s;return{options:e,dposition:a?"chartArea":o?"bottom":"left",dtype:a?"radialLinear":o?"category":"linear"}}))),f(o,i=>{const o=i.options,r=o.id,n=va(r,o),l=p(o.type,i.dtype);void 0!==o.position&&fa(o.position,n)===fa(i.dposition)||(o.position=i.dposition),a[r]=!0;let c=null;if(r in s&&s[r].type===l)c=s[r];else{const e=ea.getScale(l);c=new e({id:r,type:l,ctx:t.ctx,chart:t}),s[c.id]=c}c.init(o,e),i.isDefault&&(t.scale=c)}),f(a,(t,e)=>{t||delete s[e]}),t.scales=s,f(s,e=>{e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,ps.addBox(t,e)})}_updateMetasetIndex(t,e){const i=this._metasets,s=t.index;s!==e&&(i[s]=i[e],i[e]=t,t.index=e)}_updateMetasets(){const t=this,e=t._metasets,i=t.data.datasets.length,s=e.length;if(s>i){for(let e=i;e<s;++e)t._destroyDatasetMeta(e);e.splice(i,s-i)}t._sortedMetasets=e.slice(0).sort(ya("order","index"))}buildOrUpdateControllers(){const t=this,e=[],i=t.data.datasets;let s,a;for(s=0,a=i.length;s<a;s++){const a=i[s];let o=t.getDatasetMeta(s);const r=a.type||t.config.type;if(o.type&&o.type!==r&&(t._destroyDatasetMeta(s),o=t.getDatasetMeta(s)),o.type=r,o.indexAxis=a.indexAxis||ra(r,t.options),o.order=a.order||0,t._updateMetasetIndex(o,s),o.label=""+a.label,o.visible=t.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const i=j[r],a=ea.getController(r);Object.assign(a.prototype,{dataElementType:ea.getElement(i.dataElementType),datasetElementType:i.datasetElementType&&ea.getElement(i.datasetElementType),dataElementOptions:i.dataElementOptions,datasetElementOptions:i.datasetElementOptions}),o.controller=new a(t,s),e.push(o.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;f(t.data.datasets,(e,i)=>{t.getDatasetMeta(i).controller.reset()},t)}reset(){this._resetElements(),this._plugins.notify(this,"reset")}update(t){const e=this;let i,s;if(e._updating=!0,pa(e),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e._plugins.invalidate(),!1===e._plugins.notify(e,"beforeUpdate"))return;const a=e.buildOrUpdateControllers();for(i=0,s=e.data.datasets.length;i<s;i++)e.getDatasetMeta(i).controller.buildOrUpdateElements();e._updateLayout(),f(a,t=>{t.reset()}),e._updateDatasets(t),e._plugins.notify(e,"afterUpdate"),e._layers.sort(ya("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render(),e._updating=!1}_updateLayout(){const t=this;!1!==t._plugins.notify(t,"beforeLayout")&&(ps.update(t,t.width,t.height),t._layers=[],f(t.boxes,e=>{e.configure&&e.configure(),t._layers.push(...e._layers())},t),t._layers.forEach((t,e)=>{t._idx=e}),t._plugins.notify(t,"afterLayout"))}_updateDatasets(t){const e=this,i="function"===typeof t;if(!1!==e._plugins.notify(e,"beforeDatasetsUpdate")){for(let s=0,a=e.data.datasets.length;s<a;++s)e._updateDataset(s,i?t({datasetIndex:s}):t);e._plugins.notify(e,"afterDatasetsUpdate")}}_updateDataset(t,e){const i=this,s=i.getDatasetMeta(t),a={meta:s,index:t,mode:e};!1!==i._plugins.notify(i,"beforeDatasetUpdate",[a])&&(s.controller._update(e),i._plugins.notify(i,"afterDatasetUpdate",[a]))}render(){const t=this,e=t.options.animation;if(!1===t._plugins.notify(t,"beforeRender"))return;const i=function(){t._plugins.notify(t,"afterRender"),m(e&&e.onComplete,[],t)};Je.has(t)?t.attached&&!Je.running(t)&&Je.start(t):(t.draw(),i())}draw(){const t=this;let e;if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t._plugins.notify(t,"beforeDraw"))return;const i=t._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(t.chartArea);for(t._drawDatasets();e<i.length;++e)i[e].draw(t.chartArea);t._plugins.notify(t,"afterDraw")}_getSortedDatasetMetas(t){const e=this,i=e._sortedMetasets,s=[];let a,o;for(a=0,o=i.length;a<o;++a){const e=i[a];t&&!e.visible||s.push(e)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t._plugins.notify(t,"beforeDatasetsDraw"))return;const e=t.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)t._drawDataset(e[i]);t._plugins.notify(t,"afterDatasetsDraw")}_drawDataset(t){const e=this,i=e.ctx,s=t._clip,a=e.chartArea,o={meta:t,index:t.index};!1!==e._plugins.notify(e,"beforeDatasetDraw",[o])&&(N(i,{left:!1===s.left?0:a.left-s.left,right:!1===s.right?e.width:a.right+s.right,top:!1===s.top?0:a.top-s.top,bottom:!1===s.bottom?e.height:a.bottom+s.bottom}),t.controller.draw(),$(i),e._plugins.notify(e,"afterDatasetDraw",[o]))}getElementAtEvent(t){return Qi.modes.nearest(this,t,{intersect:!0})}getElementsAtEvent(t){return Qi.modes.index(this,t,{intersect:!0})}getElementsAtXAxis(t){return Qi.modes.index(this,t,{intersect:!1})}getElementsAtEventForMode(t,e,i,s){const a=Qi.modes[e];return"function"===typeof a?a(this,t,i,s):[]}getDatasetAtEvent(t){return Qi.modes.dataset(this,t,{intersect:!0})}getDatasetMeta(t){const e=this,i=e.data.datasets[t],s=e._metasets;let a=s.filter(t=>t._dataset===i).pop();return a||(a=s[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1}),a}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.getDatasetMeta(t);return"boolean"===typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateDatasetVisibility(t,e){const i=this,s=e?"show":"hide",a=i.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,s);i.setDatasetVisibility(t,e),o.update(a,{visible:e}),i.update(e=>e.datasetIndex===t?s:void 0)}hide(t){this._updateDatasetVisibility(t,!1)}show(t){this._updateDatasetVisibility(t,!0)}_destroyDatasetMeta(t){const e=this,i=e._metasets&&e._metasets[t];i&&(i.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,e=t.canvas;let i,s;for(t.stop(),Je.remove(t),i=0,s=t.data.datasets.length;i<s;++i)t._destroyDatasetMeta(i);e&&(t.unbindEvents(),B(t),t.platform.releaseContext(t.ctx),t.canvas=null,t.ctx=null),t._plugins.notify(t,"destroy"),delete Sa.instances[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){const t=this,e=t._listeners,i=t.platform,s=(s,a)=>{i.addEventListener(t,s,a),e[s]=a},a=(s,a)=>{e[s]&&(i.removeEventListener(t,s,a),delete e[s])};let o=function(e){t._eventHandler(e)};if(f(t.options.events,t=>s(t,o)),t.options.responsive){let e;o=(e,i)=>{t.canvas&&t.resize(!1,e,i)};const r=()=>{a("attach",r),t.resize(),t.attached=!0,s("resize",o),s("detach",e)};e=()=>{t.attached=!1,a("resize",o),s("attach",r)},i.isAttached(t.canvas)?r():e()}else t.attached=!0}unbindEvents(){const t=this,e=t._listeners;e&&(delete t._listeners,f(e,(e,i)=>{t.platform.removeEventListener(t,i,e)}))}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,o,r,n;for("dataset"===e&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),r=0,n=t.length;r<n;++r)o=t[r],o&&this.getDatasetMeta(o.datasetIndex).controller[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}_updateHoverStyles(t,e){const i=this,s=i.options||{},a=s.hover;e.length&&i.updateHoverStyle(e,a.mode,!1),t.length&&a.mode&&i.updateHoverStyle(t,a.mode,!0)}_eventHandler(t,e){const i=this;if(!1!==i._plugins.notify(i,"beforeEvent",[t,e]))return i._handleEvent(t,e),i._plugins.notify(i,"afterEvent",[t,e]),i.render(),i}_handleEvent(t,e){const i=this,s=i._active||[],a=i.options,o=a.hover,r=e;let n=[],l=!1;return"mouseout"===t.type?i._lastEvent=null:(n=i.getElementsAtEventForMode(t,o.mode,o,r),i._lastEvent="click"===t.type?i._lastEvent:t),m(a.onHover||a.hover.onHover,[t,n,i],i),"mouseup"!==t.type&&"click"!==t.type||E(t,i.chartArea)&&m(a.onClick,[t,n,i],i),l=!g(n,s),(l||e)&&(i._active=n,i._updateHoverStyles(n,s)),l}}Sa.defaults=j,Sa.instances={},Sa.registry=ea,Sa.version=oa;const Aa=()=>f(Sa.instances,t=>t._plugins.invalidate());Sa.register=(...t)=>{ea.add(...t),Aa()},Sa.unregister=(...t)=>{ea.remove(...t),Aa()};const Ia=2*Math.PI;function Ta(t,e){const{startAngle:i,endAngle:s,pixelMargin:a,x:o,y:r,outerRadius:n,innerRadius:l}=e;let c=a/n;t.beginPath(),t.arc(o,r,n,i-c,s+c),l>a?(c=a/l,t.arc(o,r,l,s+c,i-c,!0)):t.arc(o,r,a,s+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}function La(t,e){const{x:i,y:s,startAngle:a,endAngle:o,pixelMargin:r}=e,n=Math.max(e.outerRadius-r,0),l=e.innerRadius+r;t.beginPath(),t.arc(i,s,n,a,o),t.arc(i,s,l,o,a,!0),t.closePath()}function Pa(t,e){if(e.fullCircles){e.endAngle=e.startAngle+Ia,La(t,e);for(let i=0;i<e.fullCircles;++i)t.fill();e.endAngle=e.startAngle+e.circumference%Ia}La(t,e),t.fill()}function _a(t,e,i){const{x:s,y:a,startAngle:o,endAngle:r,pixelMargin:n}=e,l=Math.max(e.outerRadius-n,0),c=e.innerRadius+n;let d;for(i&&(e.endAngle=e.startAngle+Ia,Ta(t,e),e.endAngle=r,e.endAngle===e.startAngle&&(e.endAngle+=Ia,e.fullCircles--)),t.beginPath(),t.arc(s,a,c,o+Ia,o,!0),d=0;d<e.fullCircles;++d)t.stroke();for(t.beginPath(),t.arc(s,a,l,o,o+Ia),d=0;d<e.fullCircles;++d)t.stroke()}function Ma(t,e){const{x:i,y:s,startAngle:a,endAngle:o,pixelMargin:r,options:n}=e,l=e.outerRadius,c=e.innerRadius+r,d="inner"===n.borderAlign;n.borderWidth&&(d?(t.lineWidth=2*n.borderWidth,t.lineJoin="round"):(t.lineWidth=n.borderWidth,t.lineJoin="bevel"),e.fullCircles&&_a(t,e,d),d&&Ta(t,e),t.beginPath(),t.arc(i,s,l,a,o),t.arc(i,s,c,o,a,!0),t.closePath(),t.stroke())}class Fa extends Es{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=oe(s,{x:t,y:e}),{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=d>=Ia||ce(a,r,n),u=o>=l&&o<=c;return h&&u}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),n=(s+a)/2,l=(o+r)/2;return{x:e+Math.cos(n)*l,y:i+Math.sin(n)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,i=e.options,s=i.offset||0;if(e.pixelMargin="inner"===i.borderAlign?.33:0,e.fullCircles=Math.floor(e.circumference/Ia),0!==e.circumference){if(t.save(),s&&e.circumference<Ia){const i=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(i)*s,Math.sin(i)*s)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,Pa(t,e),Ma(t,e),t.restore()}}}function Da(t,e){t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor}function Ba(t,e,i){t.lineTo(i.x,i.y)}function Oa(t){return t.stepped?R:t.tension?z:Ba}function Ea(t,e,i,s){const{start:a,end:o,loop:r}=i,{points:n,options:l}=e,c=Oa(l),d=n.length;let{move:h=!0,reverse:u}=s||{};const p=o<a?d+o-a:o-a;let m,f,g;for(m=0;m<=p;++m)f=n[(a+(u?p-m:m))%d],f.skip||(h?(t.moveTo(f.x,f.y),h=!1):c(t,g,f,u,l.stepped),g=f);return r&&(f=n[(a+(u?p:0))%d],c(t,g,f,u,l.stepped)),!!r}function Na(t,e,i,s){const a=e.points,o=a.length,{start:r,end:n}=i,{move:l=!0,reverse:c}=s||{},d=n<r?o+n-r:n-r;let h,u,p,m,f,g,v=0,y=0;const b=t=>(r+(c?d-t:t))%o,x=()=>{m!==f&&(t.lineTo(v,f),t.lineTo(v,m),t.lineTo(v,g))};for(l&&(u=a[b(0)],t.moveTo(u.x,u.y)),h=0;h<=d;++h){if(u=a[b(h)],u.skip)continue;const e=u.x,i=u.y,s=0|e;s===p?(i<m?m=i:i>f&&(f=i),v=(y*v+e)/++y):(x(),t.lineTo(e,i),p=s,y=0,m=f=i),g=i}x()}function $a(t){const e=t.options,i=e.borderDash&&e.borderDash.length,s=!t._loop&&!e.tension&&!e.stepped&&!i;return s?Na:Ea}function Ra(t){return t.stepped?Te:t.tension?Le:Ie}Fa.id="arc",Fa.defaults={borderAlign:"center",borderColor:"#fff",borderWidth:2,offset:0},Fa.defaultRoutes={backgroundColor:"color"};class za extends Es{constructor(t){super(),this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._points=void 0,this._segments=void 0,this._pointsUpdated=!1,t&&Object.assign(this,t)}updateControlPoints(t){const e=this,i=e.options;if(i.tension&&!i.stepped&&!e._pointsUpdated){const s=i.spanGaps?e._loop:e._fullLoop;Ve(e._points,i,t,s),e._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments}get points(){return this._points}get segments(){return this._segments||(this._segments=Ee(this))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this,s=i.options,a=t[e],o=i.points,r=De(i,{property:e,start:a,end:a});if(!r.length)return;const n=[],l=Ra(s);let c,d;for(c=0,d=r.length;c<d;++c){const{start:i,end:d}=r[c],h=o[i],u=o[d];if(h===u){n.push(h);continue}const p=Math.abs((a-h[e])/(u[e]-h[e])),m=l(h,u,p,s.stepped);m[e]=t[e],n.push(m)}return 1===n.length?n[0]:n}pathSegment(t,e,i){const s=$a(this);return s(t,this,e,i)}path(t){const e=this,i=e.segments,s=i.length,a=$a(e);let o=e._loop;for(let r=0;r<s;++r)o&=a(t,e,i[r]);return!!o}draw(t){const e=this.options||{},i=this.points||[];i.length&&e.borderWidth&&(t.save(),Da(t,e),t.beginPath(),this.path(t)&&t.closePath(),t.stroke(),t.restore(),this._pointsUpdated=!1)}}za.id="line",za.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,fill:!0,tension:0},za.defaultRoutes={backgroundColor:"color",borderColor:"color"};class qa extends Es{constructor(t){super(),this.options=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){const i=this.options,{x:s}=this.getProps(["x"],e);return Math.abs(t-s)<i.radius+i.hitRadius}inYRange(t,e){const i=this.options,{y:s}=this.getProps(["x"],e);return Math.abs(t-s)<i.radius+i.hitRadius}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(){const t=this.options||{},e=Math.max(t.radius,t.hoverRadius)||0,i=e&&t.borderWidth||0;return 2*(e+i)}draw(t,e){const i=this,s=i.options;i.skip||s.radius<=0||(void 0===e||E(i,e))&&(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,O(t,s,i.x,i.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Va(t,e){const{x:i,y:s,base:a,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let n,l,c,d,h;return t.horizontal?(h=r/2,n=Math.min(i,a),l=Math.max(i,a),c=s-h,d=s+h):(h=o/2,n=i-h,l=i+h,c=Math.min(s,a),d=Math.max(s,a)),{left:n,top:c,right:l,bottom:d}}function ja(t){let e=t.options.borderSkipped;const i={};return e?(e=t.horizontal?Wa(e,"left","right",t.base>t.x):Wa(e,"bottom","top",t.base<t.y),i[e]=!0,i):i}function Wa(t,e,i,s){return s?(t=Ha(t,e,i),t=Xa(t,i,e)):t=Xa(t,e,i),t}function Ha(t,e,i){return t===e?i:t===i?e:t}function Xa(t,e,i){return"start"===t?e:"end"===t?i:t}function Ya(t,e,i,s){return t?0:Math.max(Math.min(e,s),i)}function Ga(t,e,i){const s=t.options.borderWidth,a=ja(t);let o,r,n,l;return h(s)?(o=+s.top||0,r=+s.right||0,n=+s.bottom||0,l=+s.left||0):o=r=n=l=+s||0,{t:Ya(a.top,o,0,i),r:Ya(a.right,r,0,e),b:Ya(a.bottom,n,0,i),l:Ya(a.left,l,0,e)}}function Ua(t){const e=Va(t),i=e.right-e.left,s=e.bottom-e.top,a=Ga(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s},inner:{x:e.left+a.l,y:e.top+a.t,w:i-a.l-a.r,h:s-a.t-a.b}}}function Ja(t,e,i,s){const a=null===e,o=null===i,r=!(!t||a&&o)&&Va(t,s);return r&&(a||e>=r.left&&e<=r.right)&&(o||i>=r.top&&i<=r.bottom)}qa.id="point",qa.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3},qa.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Ka extends Es{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:i,outer:s}=Ua(this);t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),t.rect(s.x,s.y,s.w,s.h),t.clip(),t.rect(i.x,i.y,i.w,i.h),t.fillStyle=e.borderColor,t.fill("evenodd")),t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),t.restore()}inRange(t,e,i){return Ja(this,t,e,i)}inXRange(t,e){return Ja(this,t,null,e)}inYRange(t,e){return Ja(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ka.id="rectangle",Ka.defaults={borderSkipped:"start",borderWidth:0},Ka.defaultRoutes={backgroundColor:"color",borderColor:"color"};const Za={average(t){if(!t.length)return!1;let e,i,s=0,a=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,a+=t.y,++o}}return{x:s/o,y:a/o}},nearest(t,e){let i,s,a,o=e.x,r=e.y,n=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=s.getCenterPoint(),i=re(e,t);i<n&&(n=i,a=s)}}if(a){const t=a.tooltipPosition();o=t.x,r=t.y}return{x:o,y:r}}};function Qa(t,e){return e&&(d(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function to(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function eo(t,e){const{element:i,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:r,value:n}=o.getLabelAndValue(a);return{chart:t,label:r,dataPoint:o.getParsed(a),formattedValue:n,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:i}}function io(t,e){return t=b({},[j.plugins.tooltip,t]),t.bodyFont=X(t.bodyFont,e),t.titleFont=X(t.titleFont,e),t.footerFont=X(t.footerFont,e),t.boxHeight=p(t.boxHeight,t.bodyFont.size),t.boxWidth=p(t.boxWidth,t.bodyFont.size),t}function so(t){const e=t._chart.ctx,{body:i,footer:s,options:a,title:o}=t,{bodyFont:r,footerFont:n,titleFont:l,boxWidth:c,boxHeight:d}=a,h=o.length,u=s.length,p=i.length;let m=2*a.yPadding,g=0,v=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*l.size+(h-1)*a.titleSpacing+a.titleMarginBottom),v){const t=a.displayColors?Math.max(d,r.size):r.size;m+=p*t+(v-p)*r.size+(v-1)*a.bodySpacing}u&&(m+=a.footerMarginTop+u*n.size+(u-1)*a.footerSpacing);let y=0;const b=function(t){g=Math.max(g,e.measureText(t).width+y)};return e.save(),e.font=l.string,f(t.title,b),e.font=r.string,f(t.beforeBody.concat(t.afterBody),b),y=a.displayColors?c+2:0,f(i,t=>{f(t.before,b),f(t.lines,b),f(t.after,b)}),y=0,e.font=n.string,f(t.footer,b),e.restore(),g+=2*a.xPadding,{width:g,height:m}}function ao(t,e,i){const{x:s,y:a,width:o,height:r}=i,n=t.chartArea;let l,c,d="center",h="center";a<r?h="top":a>t.height-r&&(h="bottom");const u=(n.left+n.right)/2,p=(n.top+n.bottom)/2;"center"===h?(l=t=>t<=u,c=t=>t>u):(l=t=>t<=o/2,c=e=>e>=t.width-o/2);const m=i=>i+o+e.caretSize+e.caretPadding>t.width,f=t=>t-o-e.caretSize-e.caretPadding<0,g=t=>t<=p?"top":"bottom";return l(s)?(d="left",m(s)&&(d="center",h=g(a))):c(s)&&(d="right",f(s)&&(d="center",h=g(a))),{xAlign:e.xAlign?e.xAlign:d,yAlign:e.yAlign?e.yAlign:h}}function oo(t,e,i){let{x:s,width:a}=t;return"right"===e?s-=a:"center"===e&&(s-=a/2,s+a>i&&(s=i-a),s<0&&(s=0)),s}function ro(t,e,i){let{y:s,height:a}=t;return"top"===e?s+=i:s-="bottom"===e?a+i:a/2,s}function no(t,e,i,s){const{caretSize:a,caretPadding:o,cornerRadius:r}=t,{xAlign:n,yAlign:l}=i,c=a+o,d=r+o;let h=oo(e,n,s.width);const u=ro(e,l,c);return"center"===l?"left"===n?h+=c:"right"===n&&(h-=c):"left"===n?h-=d:"right"===n&&(h+=d),{x:h,y:u}}function lo(t,e){const i=t.options;return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.xPadding:t.x+i.xPadding}function co(t){return Qa([],to(t))}class ho extends Es{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this.$animations=void 0,this.options=void 0,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelTextColors=void 0,this.initialize()}initialize(){const t=this,e=t._chart.options;t.options=io(e.tooltips,e.font)}_resolveAnimations(){const t=this,e=t._cachedAnimations;if(e)return e;const i=t._chart,s=t.options,a=s.enabled&&i.options.animation&&s.animation,o=new ai(t._chart,a);return t._cachedAnimations=Object.freeze(o),o}getTitle(t){const e=this,i=e.options,s=i.callbacks,a=s.beforeTitle.apply(e,[t]),o=s.title.apply(e,[t]),r=s.afterTitle.apply(e,[t]);let n=[];return n=Qa(n,to(a)),n=Qa(n,to(o)),n=Qa(n,to(r)),n}getBeforeBody(t){return co(this.options.callbacks.beforeBody.apply(this,[t]))}getBody(t){const e=this,i=e.options.callbacks,s=[];return f(t,t=>{const a={before:[],lines:[],after:[]};Qa(a.before,to(i.beforeLabel.call(e,t))),Qa(a.lines,i.label.call(e,t)),Qa(a.after,to(i.afterLabel.call(e,t))),s.push(a)}),s}getAfterBody(t){return co(this.options.callbacks.afterBody.apply(this,[t]))}getFooter(t){const e=this,i=e.options.callbacks,s=i.beforeFooter.apply(e,[t]),a=i.footer.apply(e,[t]),o=i.afterFooter.apply(e,[t]);let r=[];return r=Qa(r,to(s)),r=Qa(r,to(a)),r=Qa(r,to(o)),r}_createItems(){const t=this,e=t._active,i=t.options,s=t._chart.data,a=[],o=[];let r,n,l=[];for(r=0,n=e.length;r<n;++r)l.push(eo(t._chart,e[r]));return i.filter&&(l=l.filter((t,e,a)=>i.filter(t,e,a,s))),i.itemSort&&(l=l.sort((t,e)=>i.itemSort(t,e,s))),f(l,e=>{a.push(i.callbacks.labelColor.call(t,e)),o.push(i.callbacks.labelTextColor.call(t,e))}),t.labelColors=a,t.labelTextColors=o,t.dataPoints=l,l}update(t){const e=this,i=e.options,s=e._active;let a;if(s.length){const t=Za[i.position].call(e,s,e._eventPosition),o=e._createItems();e.title=e.getTitle(o),e.beforeBody=e.getBeforeBody(o),e.body=e.getBody(o),e.afterBody=e.getAfterBody(o),e.footer=e.getFooter(o);const r=e._size=so(e),n=Object.assign({},t,r),l=ao(e._chart,i,n),c=no(i,n,l,e._chart);e.xAlign=l.xAlign,e.yAlign=l.yAlign,a={opacity:1,x:c.x,y:c.y,width:r.width,height:r.height,caretX:t.x,caretY:t.y}}else 0!==e.opacity&&(a={opacity:0});a&&e._resolveAnimations().update(e,a),t&&i.custom&&i.custom.call(e,{chart:e._chart,tooltip:e})}drawCaret(t,e,i){const s=this.getCaretPosition(t,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e){const{xAlign:i,yAlign:s,options:a}=this,{cornerRadius:o,caretSize:r}=a,{x:n,y:l}=t,{width:c,height:d}=e;let h,u,p,m,f,g;return"center"===s?(f=l+d/2,"left"===i?(h=n,u=h-r,m=f+r,g=f-r):(h=n+c,u=h+r,m=f-r,g=f+r),p=h):(u="left"===i?n+o+r:"right"===i?n+c-o-r:this.caretX,"top"===s?(m=l,f=m-r,h=u-r,p=u+r):(m=l+d,f=m+r,h=u+r,p=u-r),g=m),{x1:h,x2:u,x3:p,y1:m,y2:f,y3:g}}drawTitle(t,e){const i=this,s=i.options,a=i.title,o=a.length;let r,n,l;if(o){const c=He(s.rtl,i.x,i.width);for(t.x=lo(i,s.titleAlign),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",r=s.titleFont,n=s.titleSpacing,e.fillStyle=s.titleFont.color,e.font=r.string,l=0;l<o;++l)e.fillText(a[l],c.x(t.x),t.y+r.size/2),t.y+=r.size+n,l+1===o&&(t.y+=s.titleMarginBottom-n)}}_drawColorBox(t,e,i,s){const a=this,o=a.options,r=a.labelColors[i],{boxHeight:n,boxWidth:l,bodyFont:c}=o,d=lo(a,"left"),h=s.x(d),u=n<c.size?(c.size-n)/2:0,p=e.y+u;t.fillStyle=o.multiKeyBackground,t.fillRect(s.leftForLtr(h,l),p,l,n),t.lineWidth=1,t.strokeStyle=r.borderColor,t.strokeRect(s.leftForLtr(h,l),p,l,n),t.fillStyle=r.backgroundColor,t.fillRect(s.leftForLtr(s.xPlus(h,1),l-2),p+1,l-2,n-2),t.fillStyle=a.labelTextColors[i]}drawBody(t,e){const i=this,{body:s,options:a}=i,{bodyFont:o,bodySpacing:r,bodyAlign:n,displayColors:l,boxHeight:c,boxWidth:d}=a;let h=o.size,u=0;const p=He(a.rtl,i.x,i.width),m=function(i){e.fillText(i,p.x(t.x+u),t.y+h/2),t.y+=h+r},g=p.textAlign(n);let v,y,b,x,w,k,C;for(e.textAlign=n,e.textBaseline="middle",e.font=o.string,t.x=lo(i,g),e.fillStyle=o.color,f(i.beforeBody,m),u=l&&"right"!==g?"center"===n?d/2+1:d+2:0,x=0,k=s.length;x<k;++x){for(v=s[x],y=i.labelTextColors[x],e.fillStyle=y,f(v.before,m),b=v.lines,l&&b.length&&(i._drawColorBox(e,t,x,p),h=Math.max(o.size,c)),w=0,C=b.length;w<C;++w)m(b[w]),h=o.size;f(v.after,m)}u=0,h=o.size,f(i.afterBody,m),t.y-=r}drawFooter(t,e){const i=this,s=i.options,a=i.footer,o=a.length;let r,n;if(o){const l=He(s.rtl,i.x,i.width);for(t.x=lo(i,s.footerAlign),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",r=s.footerFont,e.fillStyle=s.footerFont.color,e.font=r.string,n=0;n<o;++n)e.fillText(a[n],l.x(t.x),t.y+r.size/2),t.y+=r.size+s.footerSpacing}}drawBackground(t,e,i){const{xAlign:s,yAlign:a,options:o}=this,{x:r,y:n}=t,{width:l,height:c}=i,d=o.cornerRadius;e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(r+d,n),"top"===a&&this.drawCaret(t,e,i),e.lineTo(r+l-d,n),e.quadraticCurveTo(r+l,n,r+l,n+d),"center"===a&&"right"===s&&this.drawCaret(t,e,i),e.lineTo(r+l,n+c-d),e.quadraticCurveTo(r+l,n+c,r+l-d,n+c),"bottom"===a&&this.drawCaret(t,e,i),e.lineTo(r+d,n+c),e.quadraticCurveTo(r,n+c,r,n+c-d),"center"===a&&"left"===s&&this.drawCaret(t,e,i),e.lineTo(r,n+d),e.quadraticCurveTo(r,n,r+d,n),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(){const t=this,e=t._chart,i=t.options,s=t.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const s=Za[i.position].call(t,t._active,t._eventPosition);if(!s)return;const r=t._size=so(t),n=Object.assign({},s,t._size),l=ao(e,i,n),c=no(i,n,l,e);a._to===c.x&&o._to===c.y||(t.xAlign=l.xAlign,t.yAlign=l.yAlign,t.width=r.width,t.height=r.height,t.caretX=s.x,t.caretY=s.y,t._resolveAnimations().update(t,c))}}draw(t){const e=this,i=e.options;let s=e.opacity;if(!s)return;e._updateAnimationTarget();const a={width:e.width,height:e.height},o={x:e.x,y:e.y};s=Math.abs(s)<.001?0:s;const r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;i.enabled&&r&&(t.save(),t.globalAlpha=s,e.drawBackground(o,t,a),Xe(t,i.textDirection),o.y+=i.yPadding,e.drawTitle(o,t),e.drawBody(o,t),e.drawFooter(o,t),Ye(t,i.textDirection),t.restore())}handleEvent(t,e){const i=this,s=i.options,a=i._active||[];let o=!1,r=[];"mouseout"!==t.type&&(r=i._chart.getElementsAtEventForMode(t,s.mode,s,e),s.reverse&&r.reverse());const n=Za[s.position].call(i,r,t),l=this.caretX!==n.x||this.caretY!==n.y;return o=e||!g(r,a)||l,o&&(i._active=r,(s.enabled||s.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0))),o}}ho.positioners=Za;class uo extends Us{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){const i=this.getLabels();if(i[e]===t)return e;const s=i.indexOf(t),a=i.lastIndexOf(t);return-1===s||s!==a?e:s}determineDataLimits(){const t=this,e=t.getLabels().length-1;t.min=Math.max(t._userMin||0,0),t.max=Math.min(t._userMax||e,e)}buildTicks(){const t=this,e=t.min,i=t.max,s=t.options.offset,a=[];let o=t.getLabels();o=0===e&&i===o.length-1?o:o.slice(e,i+1),t._valueRange=Math.max(o.length-(s?0:1),1),t._startValue=t.min-(s?.5:0);for(let r=e;r<=i;r++)a.push({value:r});return a}getLabelForValue(t){const e=this,i=e.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return"number"!==typeof t&&(t=e.parse(t)),e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const e=this,i=e.ticks;return t<0||t>i.length-1?null:e.getPixelForValue(i[t].value)}getValueForPixel(t){const e=this,i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)}getBasePixel(){return this.bottom}}function po(t){const e=Math.floor(Jt(t)),i=t/Math.pow(10,e);let s;return s=i<=1?1:i<=2?2:i<=5?5:10,s*Math.pow(10,e)}function mo(t,e){const i=[],s=1e-14,{stepSize:a,min:o,max:r,precision:n}=t,l=a||1,d=t.maxTicks-1,{min:h,max:u}=e;let p,m,f,g,v=po((u-h)/d/l)*l;if(v<s&&c(o)&&c(r))return[{value:h},{value:u}];g=Math.ceil(u/v)-Math.floor(h/v),g>d&&(v=po(g*v/d/l)*l),a||c(n)?p=Math.pow(10,ae(v)):(p=Math.pow(10,n),v=Math.ceil(v*p)/p),m=Math.floor(h/v)*v,f=Math.ceil(u/v)*v,!a||c(o)||c(r)||Qt((r-o)/a,v/1e3)&&(m=o,f=r),g=(f-m)/v,g=Zt(g,Math.round(g),v/1e3)?Math.round(g):Math.ceil(g),m=Math.round(m*p)/p,f=Math.round(f*p)/p,i.push({value:c(o)?m:o});for(let c=1;c<g;++c)i.push({value:Math.round((m+c*v)*p)/p});return i.push({value:c(r)?f:r}),i}uo.id="category",uo.defaults={ticks:{callback:uo.prototype.getLabelForValue}};class fo extends Us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return c(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?NaN:+t}handleTickRangeOptions(){const t=this,e=t.options;if(e.beginAtZero){const e=ee(t.min),i=ee(t.max);e<0&&i<0?t.max=0:e>0&&i>0&&(t.min=0)}const i=void 0!==e.min||void 0!==e.suggestedMin,s=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),i!==s&&t.min>=t.max&&(i?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)}getTickLimit(){const t=this,e=t.options.ticks;let i,{maxTicksLimit:s,stepSize:a}=e;return a?i=Math.ceil(t.max/a)-Math.floor(t.min/a)+1:(i=t.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,i=e.ticks;let s=t.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,min:e.min,max:e.max,precision:i.precision,stepSize:p(i.fixedStepSize,i.stepSize)},o=mo(a,t);return te(o,t,"value"),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),o}configure(){const t=this,e=t.ticks;let i=t.min,s=t.max;if(super.configure(),t.options.offset&&e.length){const t=(s-i)/Math.max(e.length-1,1)/2;i-=t,s+=t}t._startValue=i,t._endValue=s,t._valueRange=s-i}getLabelForValue(t){return new Intl.NumberFormat(this.options.locale).format(t)}}class go extends fo{determineDataLimits(){const t=this,e=t.options,{min:i,max:s}=t.getMinMax(!0);t.min=u(i)?i:p(e.suggestedMin,0),t.max=u(s)?s:p(e.suggestedMax,1),e.stacked&&i>0&&(t.min=0),t.handleTickRangeOptions()}computeTickLimit(){const t=this;if(t.isHorizontal())return Math.ceil(t.width/40);const e=t._resolveTickFontOptions(0);return Math.ceil(t.height/e.lineHeight)}getPixelForValue(t){const e=this;return e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function vo(t){const e=t/Math.pow(10,Math.floor(Jt(t)));return 1===e}function yo(t,e){return u(t)?t:e}function bo(t,e){const i=Math.floor(Jt(e.max)),s=Math.ceil(e.max/Math.pow(10,i)),a=[];let o=yo(t.min,Math.pow(10,Math.floor(Jt(e.min)))),r=Math.floor(Jt(o)),n=Math.floor(o/Math.pow(10,r)),l=r<0?Math.pow(10,Math.abs(r)):1;do{a.push({value:o,major:vo(o)}),++n,10===n&&(n=1,++r,l=r>=0?1:l),o=Math.round(n*Math.pow(10,r)*l)/l}while(r<i||r===i&&n<s);const c=yo(t.max,o);return a.push({value:c,major:vo(o)}),a}go.id="linear",go.defaults={ticks:{callback:$s.formatters.numeric}};class xo extends Us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=fo.prototype.parse.apply(this,[t,e]);if(0!==i)return u(i)&&i>0?i:NaN}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=u(e)?Math.max(0,e):null,t.max=u(i)?Math.max(0,i):null,t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,e=1,i=10;let s=t.min,a=t.max;s===a&&(s<=0?(s=e,a=i):(s=Math.pow(10,Math.floor(Jt(s))-1),a=Math.pow(10,Math.floor(Jt(a))+1))),s<=0&&(s=Math.pow(10,Math.floor(Jt(a))-1)),a<=0&&(a=Math.pow(10,Math.floor(Jt(s))+1)),t.min=s,t.max=a}buildTicks(){const t=this,e=t.options,i={min:t._userMin,max:t._userMax},s=bo(i,t);let a=!t.isHorizontal();return te(s,t,"value"),e.reverse?(a=!a,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),a&&s.reverse(),s}getLabelForValue(t){return void 0===t?"0":new Intl.NumberFormat(this.options.locale).format(t)}configure(){const t=this,e=t.min;super.configure(),t._startValue=Jt(e),t._valueRange=Jt(t.max)-Jt(e)}getPixelForValue(t){const e=this;return void 0!==t&&0!==t||(t=e.min),e.getPixelForDecimal(t===e.min?0:(Jt(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,i=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+i*e._valueRange)}}function wo(t){const e=t.ticks;return e.display&&t.display?p(e.font&&e.font.size,j.font.size)+2*e.backdropPaddingY:0}function ko(t,e,i){return d(i)?{w:F(t,t.font,i),h:i.length*e}:{w:t.measureText(i).width,h:e}}function Co(t,e,i,s,a){return t===s||t===a?{start:e-i/2,end:e+i/2}:t<s||t>a?{start:e-i,end:e}:{start:e,end:e+i}}function So(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},i={};let s,a,o;t._pointLabelSizes=[];const r=t.chart.data.labels.length;for(s=0;s<r;s++){o=t.getPointPosition(s,t.drawingArea+5);const r={chart:t.chart,scale:t,index:s,label:t.pointLabels[s]},n=X(Y([t.options.pointLabels.font],r,s),t.chart.options.font);t.ctx.font=n.string,a=ko(t.ctx,n.lineHeight,t.pointLabels[s]),t._pointLabelSizes[s]=a;const l=t.getIndexAngle(s),c=se(l),d=Co(c,o.x,a.w,0,180),h=Co(c,o.y,a.h,90,270);d.start<e.l&&(e.l=d.start,i.l=l),d.end>e.r&&(e.r=d.end,i.r=l),h.start<e.t&&(e.t=h.start,i.t=l),h.end>e.b&&(e.b=h.end,i.b=l)}t._setReductions(t.drawingArea,e,i)}function Ao(t){return 0===t||180===t?"center":t<180?"left":"right"}function Io(t,e,i,s){let a,o,r=i.y+s/2;if(d(e))for(a=0,o=e.length;a<o;++a)t.fillText(e[a],i.x,r),r+=s;else t.fillText(e,i.x,r)}function To(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function Lo(t){const e=t.ctx,i=t.options,s=i.pointLabels,a=wo(i),o=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max);e.save(),e.textBaseline="middle";for(let r=t.chart.data.labels.length-1;r>=0;r--){const i=0===r?a/2:0,n=t.getPointPosition(r,o+i+5),l={chart:t.chart,scale:t,index:r,label:t.pointLabels[r]},c=X(Y([s.font],l,r),t.chart.options.font);e.font=c.string,e.fillStyle=c.color;const d=se(t.getIndexAngle(r));e.textAlign=Ao(d),To(d,t._pointLabelSizes[r],n),Io(e,t.pointLabels[r],n,c.lineHeight)}e.restore()}function Po(t,e,i,s){const a=t.ctx,o=e.circular,r=t.chart.data.labels.length,n={chart:t.chart,scale:t,index:s,tick:t.ticks[s]},l=Y([e.color],n,s-1),c=Y([e.lineWidth],n,s-1);let d;if((o||r)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(Y([e.borderDash,[]],n)),a.lineDashOffset=Y([e.borderDashOffset],n,s-1)),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{d=t.getPointPosition(0,i),a.moveTo(d.x,d.y);for(let e=1;e<r;e++)d=t.getPointPosition(e,i),a.lineTo(d.x,d.y)}a.closePath(),a.stroke(),a.restore()}}function _o(t){return Kt(t)?t:0}xo.id="logarithmic",xo.defaults={ticks:{callback:$s.formatters.logarithmic,major:{enabled:!0}}};class Mo extends fo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this.pointLabels=[]}init(t){super.init(t),this.axis="r"}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=wo(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!1);t.min=u(e)&&!isNaN(e)?e:0,t.max=u(i)&&!isNaN(i)?i:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wo(this.options))}generateTickLabels(t){const e=this;fo.prototype.generateTickLabels.call(e,t),e.pointLabels=e.chart.data.labels.map((t,i)=>{const s=m(e.options.pointLabels.callback,[t,i],e);return s||0===s?s:""})}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?So(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){const s=this;let a=e.l/Math.sin(i.l),o=Math.max(e.r-s.width,0)/Math.sin(i.r),r=-e.t/Math.cos(i.t),n=-Math.max(e.b-(s.height-s.paddingTop),0)/Math.cos(i.b);a=_o(a),o=_o(o),r=_o(r),n=_o(n),s.drawingArea=Math.min(Math.floor(t-(a+o)/2),Math.floor(t-(r+n)/2)),s.setCenterPoint(a,o,r,n)}setCenterPoint(t,e,i,s){const a=this,o=a.width-e-a.drawingArea,r=t+a.drawingArea,n=i+a.drawingArea,l=a.height-a.paddingTop-s-a.drawingArea;a.xCenter=Math.floor((r+o)/2+a.left),a.yCenter=Math.floor((n+l)/2+a.top+a.paddingTop)}getIndexAngle(t){const e=this.chart,i=2*Math.PI/e.data.labels.length,s=e.options||{},a=s.startAngle||0;return le(t*i+ie(a))}getDistanceFromCenterForValue(t){const e=this;if(c(t))return NaN;const i=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*i:(t-e.min)*i}getValueForDistanceFromCenter(t){if(c(t))return NaN;const e=this,i=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-i:e.min+i}getPointPosition(t,e){const i=this,s=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(s)*e+i.xCenter,y:Math.sin(s)*e+i.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}drawGrid(){const t=this,e=t.ctx,i=t.options,s=i.gridLines,a=i.angleLines;let o,r,n;if(i.pointLabels.display&&Lo(t),s.display&&t.ticks.forEach((e,i)=>{0!==i&&(r=t.getDistanceFromCenterForValue(t.ticks[i].value),Po(t,s,r,i))}),a.display){for(e.save(),o=t.chart.data.labels.length-1;o>=0;o--){const l={chart:t.chart,scale:t,index:o,label:t.pointLabels[o]},c=Y([a.lineWidth,s.lineWidth],l,o),d=Y([a.color,s.color],l,o);c&&d&&(e.lineWidth=c,e.strokeStyle=d,e.setLineDash&&(e.setLineDash(Y([a.borderDash,s.borderDash,[]],l)),e.lineDashOffset=Y([a.borderDashOffset,s.borderDashOffset,0],l,o)),r=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),n=t.getPointPosition(o,r),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(n.x,n.y),e.stroke())}e.restore()}}drawLabels(){const t=this,e=t.ctx,i=t.options,s=i.ticks;if(!s.display)return;const a=t.getIndexAngle(0);let o,r;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((a,n)=>{const l={chart:t.chart,scale:t,index:n,tick:a};if(0===n&&!i.reverse)return;const c=t._resolveTickFontOptions(n);e.font=c.string,o=t.getDistanceFromCenterForValue(t.ticks[n].value);const d=Y([s.showLabelBackdrop],l,n);d&&(r=e.measureText(a.label).width,e.fillStyle=Y([s.backdropColor],l,n),e.fillRect(-r/2-s.backdropPaddingX,-o-c.size/2-s.backdropPaddingY,r+2*s.backdropPaddingX,c.size+2*s.backdropPaddingY)),e.fillStyle=c.color,e.fillText(a.label,0,-o)}),e.restore()}drawTitle(){}}Mo.id="radialLinear",Mo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:$s.formatters.numeric},pointLabels:{display:!0,font:{size:10},callback(t){return t}}};const Fo=Number.MAX_SAFE_INTEGER||9007199254740991,Do={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bo=Object.keys(Do);function Oo(t,e){return t-e}function Eo(t,e){if(c(e))return null;const i=t._adapter,s=t.options.time,{parser:a,round:o,isoWeekday:r}=s;let n=e;return"function"===typeof a&&(n=a(n)),u(n)||(n="string"===typeof a?i.parse(n,a):i.parse(n)),null===n?n:(o&&(n="week"===o&&r?t._adapter.startOf(n,"isoWeek",r):t._adapter.startOf(n,o)),+n)}function No(t,e,i,s){const a=Bo.length;for(let o=Bo.indexOf(t);o<a-1;++o){const t=Do[Bo[o]],a=t.steps?t.steps:Fo;if(t.common&&Math.ceil((i-e)/(a*t.size))<=s)return Bo[o]}return Bo[a-1]}function $o(t,e,i,s,a){for(let o=Bo.length-1;o>=Bo.indexOf(i);o--){const i=Bo[o];if(Do[i].common&&t._adapter.diff(a,s,i)>=e-1)return i}return Bo[i?Bo.indexOf(i):0]}function Ro(t){for(let e=Bo.indexOf(t)+1,i=Bo.length;e<i;++e)if(Do[Bo[e]].common)return Bo[e]}function zo(t,e,i){if(!t.length)return;const{lo:s,hi:a}=$t(t,i),o=t[s]>=i?t[s]:t[a];e[o]=!0}function qo(t,e,i,s){const a=t._adapter,o=+a.startOf(e[0].value,s),r=e[e.length-1].value;let n,l;for(n=o;n<=r;n=+a.add(n,1,s))l=i[n],l>=0&&(e[l].major=!0);return e}function Vo(t,e,i){const s=[],a={},o=e.length;let r,n;for(r=0;r<o;++r)n=e[r],a[n]=r,s.push({value:n,major:!1});return 0!==o&&i?qo(t,s,a,i):s}class jo extends Us{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1}init(t,e){const i=t.time||(t.time={}),s=this._adapter=new Hi._date(t.adapters.date);x(i.displayFormats,s.formats()),super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?NaN:Eo(this,t)}invalidateCaches(){this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,e=t.options,i=t._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:r,maxDefined:n}=t.getUserBounds();function l(t){r||isNaN(t.min)||(a=Math.min(a,t.min)),n||isNaN(t.max)||(o=Math.max(o,t.max))}r&&n||(l(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(t.getMinMax(!1))),a=u(a)&&!isNaN(a)?a:+i.startOf(Date.now(),s),o=u(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,t.min=Math.min(a,o),t.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this,e=t.options,i=e.time,s=e.ticks,a="labels"===s.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&a.length&&(t.min=t._userMin||a[0],t.max=t._userMax||a[a.length-1]);const o=t.min,r=t.max,n=qt(a,o,r);return t._unit=i.unit||(s.autoSkip?No(i.minUnit,t.min,t.max,t._getLabelCapacity(o)):$o(t,n.length,i.minUnit,t.min,t.max)),t._majorUnit=s.major.enabled&&"year"!==t._unit?Ro(t._unit):void 0,t.initOffsets(a),e.reverse&&n.reverse(),Vo(t,n,t._majorUnit)}initOffsets(t){const e=this;let i,s,a=0,o=0;e.options.offset&&t.length&&(i=e.getDecimalForValue(t[0]),a=1===t.length?1-i:(e.getDecimalForValue(t[1])-i)/2,s=e.getDecimalForValue(t[t.length-1]),o=1===t.length?s:(s-e.getDecimalForValue(t[t.length-2]))/2),e._offsets={start:a,end:o,factor:1/(a+1+o)}}_generate(){const t=this,e=t._adapter,i=t.min,s=t.max,a=t.options,o=a.time,r=o.unit||No(o.minUnit,i,s,t._getLabelCapacity(i)),n=p(o.stepSize,1),l="week"===r&&o.isoWeekday,c={};let d,h=i;if(l&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,l?"day":r),e.diff(s,i,r)>1e5*n)throw new Error(i+" and "+s+" are too far apart with stepSize of "+n+" "+r);if("data"===t.options.ticks.source){const i=t.getDataTimestamps();for(d=h;d<s;d=+e.add(d,n,r))zo(i,c,d);d!==s&&"ticks"!==a.bounds||zo(i,c,d)}else{for(d=h;d<s;d=+e.add(d,n,r))c[d]=!0;d!==s&&"ticks"!==a.bounds||(c[d]=!0)}return Object.keys(c).map(t=>+t)}getLabelForValue(t){const e=this,i=e._adapter,s=e.options.time;return s.tooltipFormat?i.format(t,s.tooltipFormat):i.format(t,s.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){const a=this,o=a.options,r=o.time.displayFormats,n=a._unit,l=a._majorUnit,c=n&&r[n],d=l&&r[l],h=i[e],u=l&&d&&h&&h.major,p=a._adapter.format(t,s||(u?d:c)),m=o.ticks.callback;return m?m(p,e,i):p}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){const e=this;return(t-e.min)/(e.max-e.min)}getPixelForValue(t){const e=this,i=e._offsets,s=e.getDecimalForValue(t);return e.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return e.min+s*(e.max-e.min)}_getLabelSize(t){const e=this,i=e.options.ticks,s=e.ctx.measureText(t).width,a=ie(e.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(a),r=Math.sin(a),n=e._resolveTickFontOptions(0).size;return{w:s*o+n*r,h:s*r+n*o}}_getLabelCapacity(t){const e=this,i=e.options.time,s=i.displayFormats,a=s[i.unit]||s.millisecond,o=e._tickFormatFunction(t,0,Vo(e,[t],e._majorUnit),a),r=e._getLabelSize(o),n=Math.floor(e.isHorizontal()?e.width/r.w:e.height/r.h)-1;return n>0?n:1}getDataTimestamps(){const t=this;let e,i,s=t._cache.data||[];if(s.length)return s;const a=t.getMatchingVisibleMetas();if(t._normalized&&a.length)return t._cache.data=a[0].controller.getAllParsedValues(t);for(e=0,i=a.length;e<i;++e)s=s.concat(a[e].controller.getAllParsedValues(t));return t._cache.data=t.normalize(s)}getLabelTimestamps(){const t=this,e=t._cache.labels||[];let i,s;if(e.length)return e;const a=t.getLabels();for(i=0,s=a.length;i<s;++i)e.push(Eo(t,a[i]));return t._cache.labels=t._normalized?e:t.normalize(e)}normalize(t){return Ht(t.sort(Oo))}}function Wo(t,e,i){let s,a,o,r;if(i)s=Math.floor(e),a=Math.ceil(e),o=t[s],r=t[a];else{const i=$t(t,e);o=i.lo,r=i.hi,s=t[o],a=t[r]}const n=a-s;return n?o+(r-o)*(e-s)/n:o}jo.id="time",jo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Ho extends jo{constructor(t){super(t),this._table=[],this._maxIndex=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable();t._table=t.buildLookupTable(e),t._maxIndex=t._table.length-1,super.initOffsets(e)}buildLookupTable(t){const e=this,{min:i,max:s}=e;if(!t.length)return[{time:i,pos:0},{time:s,pos:1}];const a=[i];let o,r,n;for(o=0,r=t.length;o<r;++o)n=t[o],n>i&&n<s&&a.push(n);return a.push(s),a}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const i=t.getDataTimestamps(),s=t.getLabelTimestamps();return e=i.length&&s.length?t.normalize(i.concat(s)):i.length?i:s,e=t._cache.all=e,e}getPixelForValue(t,e){const i=this,s=i._offsets,a=i._normalized&&i._maxIndex>0&&!c(e)?e/i._maxIndex:i.getDecimalForValue(t);return i.getPixelForDecimal((s.start+a)*s.factor)}getDecimalForValue(t){return Wo(this._table,t)/this._maxIndex}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return Wo(e._table,s*this._maxIndex,!0)}}Ho.id="timeseries",Ho.defaults=jo.defaults},"9bc4":function(t,e,i){"use strict";var s=i("b703"),a=i("09f4"),o=i("1549"),r=i("2250"),n=i("f842"),l=i("e8b2");function c(t){return Object(l["a"])(t)?void 0:t}var d=c,h=i("b4f1"),u=i("ca54"),p=i("f5fe"),m=i("ff51"),f=u["a"]?u["a"].isConcatSpreadable:void 0;function g(t){return Object(m["a"])(t)||Object(p["a"])(t)||!!(f&&t&&t[f])}var v=g;function y(t,e,i,s,a){var o=-1,r=t.length;i||(i=v),a||(a=[]);while(++o<r){var n=t[o];e>0&&i(n)?e>1?y(n,e-1,i,s,a):Object(h["a"])(a,n):s||(a[a.length]=n)}return a}var b=y;function x(t){var e=null==t?0:t.length;return e?b(t,1):[]}var w=x,k=i("500e"),C=i("c619");function S(t){return Object(C["a"])(Object(k["a"])(t,void 0,w),t+"")}var A=S,I=i("4e71"),T=1,L=2,P=4,_=A((function(t,e){var i={};if(null==t)return i;var l=!1;e=Object(s["a"])(e,(function(e){return e=Object(r["a"])(e,t),l||(l=e.length>1),e})),Object(n["a"])(t,Object(I["a"])(t),i),l&&(i=Object(a["a"])(i,T|L|P,d));var c=e.length;while(c--)Object(o["a"])(i,e[c]);return i}));e["a"]=_},"9d3d":function(t,e,i){"use strict";i("2a80")},"9db8":function(t,e,i){},"9e47":function(t,e,i){"use strict";function s(t,e,i,s){return Object.defineProperty(t,e,{get:i,set:s,enumerable:!0}),t}i.d(e,"a",(function(){return s}))},"9ef6":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"file-list"}},[e("div",{staticClass:"header",class:{"has-selected-files":t.hasSelectedFiles},on:{click:t.toggleContent}},[e("div",{staticClass:"label name-and-files"},[t._t("label"),e("span",{staticClass:"q-ml-xs"},[t._v("("+t._s(t.numberOfFiles)+")")])],2),e("q-space"),t.showAutoLoad?e("div",{staticClass:"auto-reload"},[t.isContentMaximized?e("p",{staticClass:"q-ml-sm text-gray ellipsis",staticStyle:{"font-size":"10px","margin-top":"15px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.isContentMaximized?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.refreshClicked()}}}):t._e()],1):t._e(),t.isContentMaximized?t._t("actions-maximized"):t._t("actions-minimized"),e("BaseIcon",{staticClass:"icon",class:{"rotate-180":t.isContentMaximized},attrs:{name:"mdi-menu-down","inherit-color":""}})],2),e("q-expansion-item",{attrs:{value:t.isContentMaximized,"header-style":t._styles}},[t.hasFiles?e("div",{staticClass:"q-pb-sm"},[t._t("default")],2):e("div",{staticClass:"no-files"},[t._v("No files found")])])],1)},a=[],o={name:"FileList",props:{hasFiles:{type:Boolean,default:!1},hasSelectedFiles:{type:Boolean,default:!1},numberOfFiles:{type:Number,default:0},showAutoLoad:{type:Boolean,default:!1}},data(){return{reloadClicked:!1,isContentMaximized:this.hasFiles}},computed:{_styles(){return{minHeight:"0px",height:"0px",padding:"0px",overflow:"hidden"}}},watch:{hasFiles(t){this.isContentMaximized=t}},mounted(){this.startAutoRefresh()},beforeDestroy(){this.stopAutoRefresh()},methods:{toggleContent(){this.reloadClicked?this.reloadClicked=!1:this.isContentMaximized=!this.isContentMaximized},showContent(){this.isContentMaximized=this.hasFiles},refreshClicked(){this.reloadClicked=!0,this.getdata()},getdata(){this.isContentMaximized&&this.$emit("getFiles")},startAutoRefresh(){this.autoRefreshInterval=setInterval(()=>{this.getdata()},15e3)},stopAutoRefresh(){this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=null)}}},r=o,n=(i("5e5c"),i("2877")),l=i("2c91"),c=i("3b73"),d=i("93dc"),h=i.n(d),u=Object(n["a"])(r,s,a,!1,null,"d1f2acf4",null);e["a"]=u.exports;h()(u,"components",{QSpace:l["a"],QExpansionItem:c["a"]})},a116:function(t,e,i){"use strict";i("f6de")},a1da:function(t,e,i){"use strict";i("8fc9")},a4c9:function(t,e,i){"use strict";i("91dd")},a589:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{style:{width:t.formWidth},attrs:{id:"custom-form-view"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"col-auto logo"},[e("img",{attrs:{src:t._logo}})]),t._m(0)]),e("div",{staticClass:"content"},[e("FormFieldLabel",{attrs:{label:"Claimant Search"}}),e("div",{staticClass:"content-wrapper"},[t.$q.screen.width>1280?e("div",{staticClass:"row q-mb-md"},[e("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:t.lenderList},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:t.getData},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:t.getData},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),e("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:t.getData},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"province"},on:{enter:t.getData},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:t.getData},model:{value:t.claimNumber,callback:function(e){t.claimNumber=e},expression:"claimNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:t.getData},model:{value:t.contractNumber,callback:function(e){t.contractNumber=e},expression:"contractNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:t.getData},model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),e("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:t.getData}})],1):e("div",[e("div",{staticClass:"row q-mb-md"},[e("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:t.lenderList},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:t.getData},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:t.getData},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),e("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:t.getData},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})],1),e("div",{staticClass:"row q-mb-md"},[e("TextField",{staticClass:"col",attrs:{label:"province"},on:{enter:t.getData},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:t.getData},model:{value:t.claimNumber,callback:function(e){t.claimNumber=e},expression:"claimNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:t.getData},model:{value:t.contractNumber,callback:function(e){t.contractNumber=e},expression:"contractNumber"}}),e("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:t.getData},model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),e("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:t.getData}})],1)])]),e("div",{staticClass:"row q-mb-xs"},[e("div",{staticClass:"col q-mt-sm"},[e("FormFieldLabel",{attrs:{label:"Search Results"}})],1),e("q-space"),e("div",{staticClass:"col-auto"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchRow}})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{attrs:{label:"Add Contract and Send Package",icon:"eva-plus-outline",color:"gray"},on:{click:function(e){t.addContractSheet=!0}}})],1)],1),e("div",{staticClass:"content-wrapper tables"},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 360px)"}},[e("div",{staticClass:"row"},[e("FormFieldLabel",{attrs:{label:t.contractCount}}),e("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:t.contractExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(e){t.contractExpand=!t.contractExpand}}})],1),t.contractExpand?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),t._l(t.contractColumnsFilter,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky"})],2)]),e("tbody",[t._l(t.tableContracts,(function(i){return[e("tr",{key:i.id},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[e("div",{staticClass:"row items-center justify-center"},[e("BaseButton",{attrs:{label:"Expand",icon:i.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){i.infoVisible=!i.infoVisible}}})],1)]),t._l(t.contractColumnsFilter,(function(s){return e("td",{key:s.id},[s.editable?["email"===s.valueType?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("TextField",{attrs:{"is-mandatory":"",error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:"lender"===s.name?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("SelectField",{attrs:{"is-mandatory":"",options:t.lenderList,error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:[e("TextField",{attrs:{"is-mandatory":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)})),e("td",{staticClass:"sticky"},[e("div",{staticClass:"row justify-center"},[e("BaseButton",{staticClass:"col-auto q-ml-md",attrs:{label:"Send Package",icon:"mdi-file-send-outline",color:"secondary"},on:{click:function(e){return t.getProduct(i.id)}}})],1)])],2),i.infoVisible?e("tr",{key:"sub-"+i.id},[e("td",{attrs:{colspan:t.contractColumnsFilter.length+2}},[e("table",{staticClass:"subDetails"},[e("thead",t._l(t.contractColumnsInfo,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",t._l(t.contractColumnsInfo,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)])])]):t._e()]}))],2)]):t._e(),e("div",{staticClass:"row"},[e("FormFieldLabel",{attrs:{label:t.claimCount}}),e("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:t.claimExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(e){t.claimExpand=!t.claimExpand}}})],1),t.claimExpand?e("table",[e("thead",[e("tr",[e("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),t._l(t.claimColumnsFilter,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky"})],2)]),e("tbody",[t._l(t.tableClaims,(function(i){return[e("tr",{key:i.id},[e("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[e("div",{staticClass:"row items-center justify-center"},[e("BaseButton",{attrs:{label:"Expand",icon:i.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){i.infoVisible=!i.infoVisible}}})],1)]),t._l(t.claimColumnsFilter,(function(s){return e("td",{key:s.id},["history"===s.name?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Claim History",expression:"'Claim History'",modifiers:{bottom:!0}}],attrs:{icon:"mdi-history",color:"secondary","is-flat":"","no-border":""},on:{click:function(e){return t.claimHistory(i)}}})]:s.editable?["email"===s.valueType?[e("ValidationProvider",{attrs:{name:s.name,rules:{required:s.required,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("TextField",{attrs:{"is-mandatory":"",error:a[0]},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]}}],null,!0)})]:[e("TextField",{attrs:{"is-mandatory":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)})),e("td",{staticClass:"sticky"},[e("div",{staticClass:"row justify-center q-mt-sm"},[t.claimStatus(i)?[e("div",{on:{click:function(e){return t.reopenClaim(i.id)}}},[e("q-chip",{staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-arrow-top-right",color:"pink","text-color":"white"}}),t._v(" Re-open ")],1)],1)]:t._e(),e("div",{on:{click:function(e){return t.viewClaim(i.id)}}},[e("q-chip",{staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-eye-outline",color:"orange","text-color":"white"}}),t._v(" View Claim ")],1)],1)],2)])],2),i.infoVisible?e("tr",{key:"sub-"+i.id},[e("td",{attrs:{colspan:t.claimColumnsFilter.length+2}},[e("table",{staticClass:"subDetails"},[e("thead",t._l(t.claimColumnsInfo,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",t._l(t.claimColumnsInfo,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})],2)})),0)])])]):t._e()]}))],2)]):t._e()])],1)],1),e("AddContract",{attrs:{value:t.addContractSheet,"lender-list":t.lenderList},on:{initiate:t.processInitiate,close:function(e){t.addContractSheet=!1}}}),e("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(e){t.productModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Choose Product")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"productModal"}},[e("MultiSelectField",{staticClass:"field",attrs:{label:"product","is-mandatory":"",options:t.productList},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Send Package",color:"primary"},on:{click:function(e){return t.processInitiate("")}}})]},proxy:!0}]),model:{value:t.productModal,callback:function(e){t.productModal=e},expression:"productModal"}}),e("Modal",{attrs:{width:"70vw"},on:{input:function(e){t.claimHistoryModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Claim History")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"claimHistory"}},[e("table",[e("thead",[e("tr",t._l(t.historyColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.claimHistoryData,(function(i){return e("tr",{key:i.id},t._l(t.historyColumns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name]||"-")+" ")]}),{value:i[s.name],item:i})],2)})),0)})),0)])])]},proxy:!0}],null,!0),model:{value:t.claimHistoryModal,callback:function(e){t.claimHistoryModal=e},expression:"claimHistoryModal"}}),e("Sheet",{attrs:{width:"100vw","no-padding":"","has-footer":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"footer row"},[e("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Update Claim Details",color:"secondary"},on:{click:function(e){return t.updateClaimDetails()}}})],1)]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col"},[e("CustomProcessForm",{attrs:{"form-id":t.formId,panels:t.panels,"secondary-panels":t.secondaryPanels,"selected-process":t.selectedProcess,"is-readonly":!1,"check-list":t.checkList,"form-model":t.formModel,"form-fields":t.formFields,inbox:!0},on:{"update:checkList":function(e){t.checkList=e},"update:check-list":function(e){t.checkList=e}}})],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Sheet",{attrs:{width:"30vw","sub-actions":!1,"no-padding":""},on:{input:function(e){t.attachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",[t._l(t.checkList,(function(i){return[i.name?[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])])])])]:t._e()]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])])]:t._e()]}))],2)],1)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","no-padding":""},on:{input:function(e){t.commentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 160px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row q-ma-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailTransactionSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getMailTransactions()}}})]},proxy:!0}]),model:{value:t.mailTransactionSheet,callback:function(e){t.mailTransactionSheet=e},expression:"mailTransactionSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("div",{staticClass:"q-pl-sm"},[e("Tabs",{attrs:{tabs:t.mailTabs},model:{value:t.mailTab,callback:function(e){t.mailTab=e},expression:"mailTab"}})],1),"OUTGOING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.outgoingMails,(function(i){return[e("div",{key:"outgoing"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e(),"INCOMING"===t.mailTab?[e("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[t._l(t.incomingMails,(function(i){return[e("div",{key:"incoming"+i.id,staticClass:"mailTransactionList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(i.subject)+" ")])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),e("div",{staticClass:"col-auto"},[t._v(t._s(i.email))])]),e("div",{staticClass:"row q-mb-sm"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),e("div",{staticClass:"col-auto"},[t._v(" "+t._s(t.$day.format(i.createdAt,!0))+" ")])])]),e("div",{staticClass:"col-auto q-mr-sm"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(e){return e.stopPropagation(),t.showMailAttachments(i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()])],1)])])]}))],2)]:t._e()],2)]),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),t.historyProcessId?e("ProcessHistory",{attrs:{"process-id":t.historyProcessId,"selected-process":t.selectedProcess},on:{close:function(e){t.historyProcessId=0}}}):t._e(),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col q-mr-xl text-center"},[e("div",{staticClass:"title-1"},[t._v("Request Submission")]),e("div",{staticClass:"description"},[t._v("To submit the Claim Request")])])}],o=(i("caad"),i("14d9"),i("1b0d")),r=i("7bb1"),n=i("be3f"),l=i("3445"),c=i("b3d1"),d=i("c3d2"),h=i("12b8"),u=i("53c1"),p=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"30vw",height:"70vh","has-footer":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Add Contract")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"First Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"First Name","is-mandatory":"",error:i[0]},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})]}}])}),e("ValidationProvider",{attrs:{name:"Last Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Last Name","is-mandatory":"",error:i[0]},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})]}}])}),e("ValidationProvider",{attrs:{name:"DOB",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"DOB","is-mandatory":"",error:i[0]},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})]}}])}),e("NumberField",{staticClass:"q-mb-sm",attrs:{label:"Current Age","is-mandatory":"","is-readonly":""},model:{value:t.currentAge,callback:function(e){t.currentAge=e},expression:"currentAge"}}),e("ValidationProvider",{attrs:{name:"Email",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Email","is-mandatory":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("TextField",{staticClass:"q-mb-sm",attrs:{label:"Loan Number"},model:{value:t.loanNumber,callback:function(e){t.loanNumber=e},expression:"loanNumber"}}),e("ValidationProvider",{attrs:{name:"Product",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"Product","is-mandatory":"",options:t.productList,error:i[0]},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})]}}])}),e("ValidationProvider",{attrs:{name:"Lender",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-mb-sm",attrs:{label:"Lender","is-mandatory":"",options:t.lenderList,error:i[0]},model:{value:t.lender,callback:function(e){t.lender=e},expression:"lender"}})]}}])})],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Save and Send Package",color:"primary"},on:{click:t.createContract}})]},proxy:!0}])})},m=[],f=i("381e"),g=i("ad54"),v={name:"AddContract",components:{ValidationObserver:r["a"],ValidationProvider:r["b"],Sheet:f["a"],TextField:c["a"],DateField:u["a"],NumberField:g["a"],MultiSelectField:d["a"],SelectField:h["a"]},props:{value:{type:Boolean,default:!1},lenderList:{type:Array,default:()=>[]}},data(){return{firstName:"",lastName:"",dob:"",currentAge:0,email:"",loanNumber:"",products:["Involuntary Unemployment"],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],lender:""}},watch:{dob:{deep:!0,immediate:!0,handler(){this.dob?this.currentAge=this.calculateAge(this.dob):this.currentAge=0}}},methods:{closeSheet(){this.$emit("close")},reset(){this.firstName="",this.lastName="",this.dob="",this.currentAge=0,this.email="",this.loanNumber="",this.products=["Involuntary Unemployment"],this.lender=""},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},async createContract(){const t=await this.$refs.form.validate();if(!t)return;this.$store.commit("showLoadingBar");let e={firstName:this.firstName,lastName:this.lastName,dob:this.dob,loanNumber:this.loanNumber,product:this.products};const{error:i}=await o["d"].createContract(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):(e.lender=this.lender,e.currentAge=this.currentAge,e.email=this.email,this.$emit("initiate",e),this.reset(),this.closeSheet())}}},y=v,b=i("2877"),x=Object(b["a"])(y,p,m,!1,null,null,null),w=x.exports,k=i("6a70"),C=i("b94d"),S=i("fa1f"),A=i("a7d2"),I=i("dd90"),T=i("c52a"),L=i("8505"),P=i("6df3"),_=i("695e"),M={name:"CustomForm",components:{ValidationProvider:r["b"],ExpandableSearch:n["a"],FormFieldLabel:l["a"],TextField:c["a"],MultiSelectField:d["a"],SelectField:h["a"],DateField:u["a"],AddContract:w,Modal:k["a"],Sheet:f["a"],Tabs:C["a"],FileIcon:S["a"],CustomProcessForm:T["a"],ProcessHistory:L["a"],TextAreaField:P["a"],TextBuilderField:_["a"]},props:{workflowId:{type:Number,default:0},workflow:{type:Object,default:()=>{}},formId:{type:[String,Number],default:0},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},actions:{type:Array,default:()=>[]},requestPrefix:{type:String,default:""},mlPrediction:{type:String,default:""},formFields:{type:Array,default:()=>[]},generatePDF:{type:Number,default:0}},data(){return{form:null,formWidth:"100%",lender:[],firstName:"",lastName:"",dob:"",province:"",claimNumber:"",contractNumber:"",refNumber:"",contractColumns:[{id:this.$nano.id(),name:"firstName",label:"First Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"lastName",label:"Last Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan Number",subLabel:"Loan No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"dob",label:"DOB",subLabel:"",type:"NORMAL",editable:!1,valueType:"date",main:!0,visible:!0},{id:this.$nano.id(),name:"currentAge",label:"Current Age",subLabel:"",type:"NORMAL",editable:!1,valueType:"number",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"policyNumber",label:"Policy Number",subLabel:"Group Policy",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"email",label:"Email",subLabel:"Email ID",type:"NORMAL",editable:!0,valueType:"email",required:!0,main:!0,visible:!0},{id:this.$nano.id(),name:"address1",label:"Address1",subLabel:"Address",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"address2",label:"Address2",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"city",label:"City",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"province",label:"Province",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"postalCode",label:"Postal Code",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"phone",label:"Phone",subLabel:"Phone No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"startDate",label:"Start Date",subLabel:"Loan Start Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"endDate",label:"End Date",subLabel:"Loan End Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"cancelDate",label:"Cancel Date",subLabel:"Cancellation Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"contractNumber",label:"Contract Number",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"product",label:"Product",subLabel:"Benefit Claimed",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan No.",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"paymentFrequency",label:"Payment Freq",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"term",label:"Term",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"remitDate",label:"Last Remitted Date",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"reason",label:"Reason",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1}],claimColumns:[{id:this.$nano.id(),name:"claimsStoreLoanNumber",label:"Claims Store Loan Number",store:"Loan Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimNumber",label:"Claim Number",store:"Claim Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantFirstName",label:"Claimant First Name",store:"First Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantLastName",label:"Claimant Last Name",store:"Last Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantDOB",label:"Claimant DOB",store:"DOB",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantEmail",label:"Claimant Email",store:"Email",type:"NORMAL",editable:!0,main:!0},{id:this.$nano.id(),name:"claimStatus",label:"Claim Status",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"history",label:"",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"branchNumber",label:"Branch Number",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimDate",label:"Claim Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"receiveDate",label:"Receive Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"recommendation",label:"Recommendation",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"product",label:"Product",store:"Product",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantCity",label:"Claimant City",store:"City",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantProv",label:"Claimant Prov",store:"Province",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"currentAge",label:"Current Age",store:"Current Age",type:"NORMAL",editable:!1,main:!1}],tableContracts:[],tableContractsData:[],tableClaims:[],tableClaimsData:[],contractExpand:!0,claimExpand:!0,selectedContract:{},selectedClaim:{},search:"",addContractSheet:!1,productModal:!1,products:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],fieldsModel:{},historyColumns:[{id:this.$nano.id(),name:"claimNumber",label:"Claim Number"},{id:this.$nano.id(),name:"status",label:"Status"},{id:this.$nano.id(),name:"date",label:"Date"},{id:this.$nano.id(),name:"note",label:"Note"}],claimHistoryData:[],claimHistoryModal:!1,lenderList:[],totalItems:0,itemsPerPage:500,currentPage:1,contractDataResult:!1,claimDataResult:!1,selectedProcess:{},processSheet:!1,headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",attachmentSheet:!1,commentsSheet:!1,mailTransactionSheet:!1,commentText:"",commentsList:[],attachmentList:[],mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},formModel:{},historyProcessId:0,checkList:[],advancedCommentsSheet:!1,advancedCommentText:""}},computed:{isMaximized(){return"100%"===this.formWidth},_logo(){let t=location.origin;return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?i("651a"):i("bcdf")(`./name-${this.darkTheme?"dark":"light"}.png`)},contractCount(){return`Contracts (${this.tableContracts.length})`},claimCount(){return`Claims (${this.tableClaims.length})`},contractColumnsFilter(){return this.contractColumns.filter(t=>t.main&&t.visible)},contractColumnsInfo(){return this.contractColumns.filter(t=>!t.main&&t.visible)},claimColumnsFilter(){return this.claimColumns.filter(t=>t.main)},claimColumnsInfo(){return this.claimColumns.filter(t=>!t.main)},outgoingMails(){return this.mailTransactionList.filter(t=>"Outgoing"===t.emailType)},incomingMails(){return this.mailTransactionList.filter(t=>"Incoming"===t.emailType)}},watch:{},created(){let t=location.origin;"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId||"http://localhost:8080"===t?this.getLenderMaster(3):this.getLenderMaster(3056)},methods:{toggleWidth(){this.formWidth="100%"===this.formWidth?"720px":"100%"},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},claimStatus(t){return t.claimStatus.indexOf("Declined")>-1||t.claimStatus.indexOf("Force Close")>-1},isArrayField(t){return["MULTIPLE_CHOICE","FILE_UPLOAD","MULTI_SELECT"].includes(t)},searchRow(t){t?(this.tableContracts=this.tableContractsData.filter(e=>{for(let i in e){let s=this.contractColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}),this.tableClaims=this.tableClaimsData.filter(e=>{for(let i in e){let s=this.claimColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}})):(this.tableContracts=this.tableContractsData,this.tableClaims=this.tableClaimsData)},processInitiate(t){let e="",i="",s="";t?this.selectedContract=t:this.selectedContract.product=this.products;let a=[];this.selectedContract.product.length&&this.selectedContract.product.forEach(t=>{if(this.panels.length){if(this.selectedContract.policyNumber){let t=this.selectedContract.policyNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}else this.selectedContract.lender&&(e=this.selectedContract.lender);let a=this.lenderList.filter(t=>t.value===e);a.length&&(i=a[0].email,s=a[0].label),this.fieldsModel={},this.panels.forEach(e=>{if(e.fields.length)for(let a of e.fields)if("Lender Email"===a.label)this.fieldsModel[a.id]=i;else if("Lender Name"===a.label)this.fieldsModel[a.id]=s;else if("Initials1"===a.label){let t="";this.$store.state.session.firstName&&(t+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?t+=this.$store.state.session.lastName[0].toUpperCase():t+=this.$store.state.session.firstName[1],this.fieldsModel[a.id]=t}else{let e=this.contractColumns.find(t=>t.label===a.label||t.subLabel===a.label);e&&("product"===e.name?this.fieldsModel[a.id]=t:this.fieldsModel[a.id]=this.selectedContract[e.name]||"")}})}a.push(this.fieldsModel)}),this.actions.length?this.initiateRequest(a,e,s,this.actions[0]):this.$alert.error("Process Configuration Error")},async initiateRequest(t,e,i,s){let a=[];if(t&&t.length)for(let r of t){let t={workflowId:this.workflow.id,review:"Save"===s?"":s,comments:this.commentsList,formData:{formId:this.formId,fields:r,formUpload:[]},fileIds:[],task:[],hasFormPDF:this.generatePDF,prefix:e,mlPrediction:i};this.$store.commit("showLoadingBarSave");const{error:n,payload:l}=await o["t"].processTransaction(t);if(this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.fieldsModel={},n)return void this.$alert.error(n);a.push(l.requestNo)}a.length&&("Save"!==s?this.$alert.success(a.toString()+" Request Initiated"):this.$alert.success(a.toString()+" Request Initiated and Moved to your inbox")),this.$emit("refresh")},newClaim(t){let e="",i="",s="";this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.panels.length&&this.panels.forEach(t=>{if(!t.fields.length)return;if(this.selectedClaim.claimNumber){let t=this.selectedClaim.claimNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}let a=this.lenderList.filter(t=>t.value===e);a.length&&(i=a[0].email,s=a[0].label);for(let o of t.fields)if("Lender Email"===o.label)this.fieldsModel[o.id]=i;else if("Product"===o.label)this.fieldsModel[o.id]=this.selectedClaim.product.split(",")||"";else if("Lender Name"===o.label)this.fieldsModel[o.id]=s;else if("Initials"===o.label)this.fieldsModel[o.id]=e;else{let t=this.claimColumns.find(t=>t.store===o.label);t&&(this.fieldsModel[o.id]=this.selectedClaim[t.name]||"")}}),this.$emit("update:workflowFormModel",this.fieldsModel),this.$emit("update:requestPrefix",e),this.$emit("update:mlPrediction",s),this.actions.length?this.$emit("update:saveAction",this.actions[0]):this.$alert.error("Process Configuration Error")},async viewClaim(t){this.formModel={},this.selectedProcess={},this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.$store.commit("showLoadingBarSave"),this.workflowProcessList=[];const{error:e,payload:i}=await o["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:this.selectedClaim.claimNumber}]}],itemsPerPage:10,currentPage:1,mode:""});if(this.$store.commit("hideLoadingBarSave"),e)this.$alert.error(e);else if(i.data.length){if(i.data[0].value.length){this.selectedProcess=i.data[0].value[0],this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`;let t=Object.keys(this.selectedProcess.formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.selectedProcess.formData.fields[t])}),this.formModel=e,this.tabs.find(t=>{"COMMENTS"===t.value?t.count=this.selectedProcess.commentsCount:"ATTACHMENTS"===t.value&&(t.count=this.selectedProcess.attachmentCount)});let s=JSON.parse(this.workflow.flowJson);s.blocks.forEach(t=>{t.id===this.selectedProcess.activityId&&t.settings.fileSettings&&t.settings.fileSettings.fileCheckList.length&&(this.checkList=t.settings.fileSettings.fileCheckList,this.checkList.forEach(t=>{t.uid=this.$nano.id(),t.attach=!1}))}),this.getComments(),this.getAttachments(),this.getMailTransactions(),this.processSheet=!0}}else this.$alert.info("No Details Found")},async reopenClaim(t){this.selectedClaim=this.tableClaims.find(e=>e.id===t),this.$store.commit("showLoadingBarSave");const{error:e}=await o["t"].reopenRequest(1,0,{requestNumber:this.selectedClaim.claimNumber});if(this.$store.commit("hideLoadingBarSave"),e)return console.log(e),void this.$alert.info(e);this.$alert.success(this.selectedClaim.claimNumber+" request re-initiated")},async getLenderMaster(t){this.$store.commit("showLoadingBar");const{error:e,payload:i}=await o["g"].getFormEntries(t,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);const{data:s}=i;this.lenderList=s[0].value.map(t=>({id:t.itemid,label:t["xPAsoGQlJ_xrm5f3EAeo6"],value:t["aeyluPk9Q8w6NaUs0HO8r"],email:t["XsPSz3d4dF2VSz1Svmymv"]}))},async getProduct(t){if(this.selectedContract=this.tableContracts.find(e=>e.id===t),Object.keys(this.selectedContract).length){let t="";if(this.selectedContract.policyNumber){let e=this.selectedContract.policyNumber.split("-");t=isNaN(e[1][2])?e[1].substring(0,3):e[1].substring(0,2)}else this.selectedContract.lender&&(t=this.selectedContract.lender);if(!t)return void this.$alert.warning("Policy Number Not Found");if(!this.selectedContract.email)return void this.$alert.warning("Required Claimant Email");this.products=[],this.selectedContract.product&&!this.products.includes(this.selectedContract.product)&&this.products.push(this.selectedContract.product),this.productModal=!0}},async claimHistory(t){this.claimHistoryData=[];let e="",i="";if(t.claimNumber){let i=t.claimNumber.split("-");e=isNaN(i[1][2])?i[1].substring(0,3):i[1].substring(0,2)}let s=this.lenderList.filter(t=>t.value===e);s.length&&(i=s[0].label),this.$store.commit("showLoadingBarSave");let a={claimNumber:t.claimNumber,lenderName:i};const{payload:r,error:n}=await o["d"].getClaimHistory(a);this.$store.commit("hideLoadingBarSave"),n?this.$alert.error(n):r.length?(this.claimHistoryData=r.map(t=>({id:t.ClaimStatusID,claimNumber:t.CSClaimNumber,status:t.ClaimStatus,date:this.$day.format(t.CSDate,!1),note:t.CSNote})),this.claimHistoryModal=!0):this.$alert.info("Claim history records not found")},getData(){this.tableContracts=[],this.tableContractsData=[],this.tableClaims=[],this.tableClaimsData=[],this.contractDataResult=!1,this.claimDataResult=!1,this.getContractData(),this.getClaimData()},async getContractData(){if(this.firstName||this.lastName||this.dob||this.province||this.contractNumber||this.refNumber){let t={};this.firstName&&(t["FirstName"]=this.firstName),this.lastName&&(t["LastName"]=this.lastName),this.dob&&(t["DOB"]=this.dob),this.province&&(t["Province"]=this.province),this.contractNumber&&(t["StoreLoanNumber"]=this.contractNumber),this.refNumber;let e="";if(this.lender.length){let t=this.lenderList.filter(t=>t.value===this.lender[0]);t.length&&(e=t[0].label)}this.$store.commit("showLoadingBarSave");let i={hublinkId:1,lenderName:e,payloadMapping:JSON.stringify(t),itemsPerPage:500,currentPage:1};const{payload:s,error:a}=await o["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),this.contractDataResult=!0,a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:r,meta:n}=s;n.totalItems?r.length&&r[0].value.length&&(this.tableContracts=r[0].value.map(t=>({id:this.$nano.id(),firstName:t.FirstName,lastName:t.LastName,loanNumber:t.LoanNumber,dob:t.DOB?t.DOB.split(" ")[0]:"",policyNumber:t.PolicyNumber,lender:"",email:t.Email||"",currentAge:t.DOB?this.calculateAge(t.DOB.split(" ")[0]):"",address1:t.Address1,address2:t.Address2,city:t.City,province:t.Province,postalCode:t.PostalCode,phone:t.Phone,startDate:t.StartDate?t.StartDate.split(" ")[0]:"",endDate:t.EndDate?t.EndDate.split(" ")[0]:"",cancelDate:t.CancelDate?t.CancelDate.split(" ")[0]:"",contractNumber:t.StoreLoanNumber,product:t.Product,paymentFrequency:t.PmtFrq,term:t.Term,remitDate:t.RemitDate?t.RemitDate.split(" ")[0]:"",reason:t.Comments,infoVisible:!1})),this.tableContractsData=this.tableContracts):this.claimDataResult&&0===this.tableClaimData.length&&this.$alert.info("No result found")}},async getClaimData(){if(this.firstName||this.lastName||this.dob||this.province||this.claimNumber||this.contractNumber){this.$store.commit("showLoadingBarSave");let t={};this.firstName&&(t["ClaimantFirstName"]=this.firstName),this.lastName&&(t["ClaimantLastName"]=this.lastName),this.dob&&(t["ClaimantDOB"]=this.dob),this.province&&(t["ClaimantProv"]=this.province),this.claimNumber&&(t["ClaimNumber"]=this.claimNumber),this.contractNumber&&(t["ClaimsStoreLoanNumber"]=this.contractNumber);let e="";if(this.lender.length){let t=this.lenderList.filter(t=>t.value===this.lender[0]);t.length&&(e=t[0].label)}let i={hublinkId:2,lenderName:e,payloadMapping:JSON.stringify(t),itemsPerPage:500,currentPage:1};const{payload:s,error:a}=await o["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),this.claimDataResult=!0,a)return void this.$alert.error(a);const{data:r,meta:n}=s;n.totalItems?r.length&&r[0].value.length&&(this.tableClaims=r[0].value.map(t=>({id:this.$nano.id(),claimsStoreLoanNumber:t.ClaimsStoreLoanNumber,claimNumber:t.ClaimNumber,claimantFirstName:t.ClaimantFirstName,claimantLastName:t.ClaimantLastName,claimantDOB:t.ClaimantDOB?t.ClaimantDOB.split(" ")[0]:"",claimantEmail:t.ClaimantEmail,claimStatus:t.ClaimStatus||t.ClaimDecision||"",branchNumber:t.BranchNumber,claimDate:t.ClaimDate?t.ClaimDate.split(" ")[0]:"",receiveDate:t.ReceiveDate?t.ReceiveDate.split(" ")[0]:"",recommendation:t.Recommendation,product:t.Product,claimantCity:t.ClaimantCIty,claimantProv:t.ClaimantProv,currentAge:t.ClaimantDOB?this.calculateAge(t.ClaimantDOB.split(" ")[0]):"",infoVisible:!1})),this.tableClaimsData=this.tableClaims):this.contractDataResult&&0===this.tableContractsData.length&&this.$alert.info("No result found")}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(A["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,window.open(this.fileLink()))},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(Object(I["d"])(e)){let e="";return"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${e}`}return Object(I["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},async showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===t?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflowId}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===t?this.taskEntries.length?this.taskSheet=!0:this.$emit("addTask"):"VALIDATION"===t?this.$emit("validation",this.selectedProcess.processId):"PAYMENT_TABLE"===t?this.$emit("paymentTable"):"MAIL"===t?(this.getMailTransactions(),this.mailTransactionSheet=!0):"SUB_PROCESS"===t&&(this.subProcessSheet=!0)},lastActionDuration(t){const e=t.transaction_createdAt instanceof Date?t.transaction_createdAt:new Date(t.transaction_createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(I["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await o["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(t=>{"MAIL"===t.value&&(t.count=0)});let t={filterBy:[]};const{error:e,payload:i}=await o["t"].getMailTransactions(this.workflowId,this.selectedProcess.processId,t);e?this.$alert.error(e):i.length&&(this.mailTransactionList=i,this.tabs.find(t=>{"MAIL"===t.value&&(t.count=this.mailTransactionList.length)}))},async getComments(t=0,e=0){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await o["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async getAttachments(t=0,e=0){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await o["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}},async saveComment(){if(this.commentText&&this.selectedProcess.processId){const{error:t}=await o["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:2});if(t)return void this.$alert.error(t);this.commentText="",this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.selectedProcess.processId){const{error:t}=await o["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:2});if(t)return void this.$alert.error(t)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},async updateClaimDetails(){let t={};t={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"",formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.formModel}};const{error:e}=await o["t"].processTransaction(t);e?this.$alert.error(e):(this.$alert.success("Claim details are updated"),this.processSheet=!1)}}},F=M,D=(i("ccc5"),i("2c91")),B=i("b047"),O=i("cb32"),E=i("8169"),N=i("93dc"),$=i.n(N),R=Object(b["a"])(F,s,a,!1,null,"1b34e972",null);e["default"]=R.exports;$()(R,"components",{QSpace:D["a"],QChip:B["a"],QAvatar:O["a"],QChatMessage:E["a"]})},a5be:function(t,e,i){"use strict";i("2dcd")},a7f2:function(t,e,i){},a809:function(t,e,i){"use strict";function s(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}e["a"]=s},a945:function(t,e,i){},abe1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,width:"40vw"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Metadata ")]},proxy:!0}])},[e("div",{attrs:{id:"file-details"}},[e("div",{attrs:{id:"item-overview"}},[e("table",[e("tbody",t._l(t.fileData,(function(i){return e("tr",{key:i.name,staticClass:"tableRow"},[e("td",{staticClass:"label"},[t._v(t._s(i.name))]),"TABLE"!==i.type?e("td",{staticClass:"value"},[t._t(i.name,(function(){return[t._v(" "+t._s(i.value||"-")+" ")]}),{value:i.value})],2):e("td",{staticClass:"value",staticStyle:{padding:"8px"}},[t._t(i.name,(function(){return[i.value?[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return t.showTable(i.name)}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]}))],2)])})),0)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableHeader))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],1)])},a=[],o=i("381e"),r=i("6a70"),n={name:"FileDetails",components:{Sheet:o["a"],Modal:r["a"]},props:{value:{type:Boolean,required:!0},fileData:{type:Array,required:!0}},data(){return{expandTableModal:!1,tableHeader:"",tableData:[]}},methods:{showTable(t){this.expandTableModal=!0;let e=this.fileData.filter(e=>e.name===t);console.log(e),this.tableHeader=e[0].name,this.tableData=JSON.parse(e[0].value),console.log(this.tableData)}}},l=n,c=(i("4045"),i("2877")),d=Object(c["a"])(l,s,a,!1,null,"65baddda",null);e["a"]=d.exports},acf0:function(t,e,i){},ad4f:function(t,e,i){},ae23:function(t,e,i){"use strict";i("4ddc")},afe7:function(t,e,i){},affa:function(t,e,i){},b0ba:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"50vw","no-padding":""},on:{input:t.closeFormHistorySheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Form Entry History ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getFormHistory()}}})]},proxy:!0}]),model:{value:t.formHistorySheet,callback:function(e){t.formHistorySheet=e},expression:"formHistorySheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"\n          calc(100vh - 200px)\n        "}},[e("div",{attrs:{id:"history"}},[t.history.length?t._l(t.history,(function(i){return e("div",{key:i.id,staticClass:"entry"},[e("div",{staticClass:"header"},[t._v(" "+t._s(i.changes.length)+" "+t._s(i.changes.length>1?"Changes":"Change")+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"changes-meta"},[e("div",[t._v(t._s(i.changedBy))]),e("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.changedAt))])],1),t._l(i.changes,(function(i,s){return e("div",{key:s+1,staticClass:"change"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),"isDeleted"===i.name?e("div",[Number(i.newValue)?e("span",{staticClass:"font-semibold"},[t._v(' "Deleted" ')]):e("span",{staticClass:"font-semibold"},[t._v('"Restored"')]),t._v(" the item ")]):i.oldValue?e("div",[t._v(" Modified "+t._s(i.name)+" from "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.oldValue)+'"')]),t._v(" to "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')])]):e("div",[t._v(" Assigned "),e("span",{staticClass:"font-semibold"},[t._v('"'+t._s(i.newValue)+'"')]),t._v(" as "+t._s(i.name)+" ")])],1)}))],2)])})):e("div",{staticClass:"no-history"},[t._v("No data found")])],2)])],1)])],1)},a=[],o=i("381e"),r=i("1b0d"),n={name:"FormEntryHistory",components:{Sheet:o["a"]},props:{value:{type:Boolean,default:!1},processId:{type:Number,required:!0},workflowId:{type:Number,required:!0}},data(){return{changes:[],history:[],formHistorySheet:!1}},watch:{value:{immediate:!0,handler(){this.value&&this.getFormHistory()}}},methods:{async getFormHistory(){this.formHistorySheet=!0,this.history=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["g"].formHistory(this.workflowId,this.processId);if(this.$store.commit("hideLoadingBar"),t)this.$alert.error(t);else if(e){let t=e;this.history=t.length&&t.map(t=>({id:this.$nano.id(),changedBy:t.modifiedBy,changedAt:this.$day.format(t.modifiedAt),changes:t.fields}))}},closeFormHistorySheet(){this.formHistorySheet=!1,this.$emit("update:value",!1)}}},l=n,c=(i("742a"),i("2877")),d=Object(c["a"])(l,s,a,!1,null,"231e188e",null);e["a"]=d.exports},b148:function(t,e,i){"use strict";i("7b7c")},b2a7:function(t,e,i){"use strict";i("79b4")},b2f9:function(t,e,i){"use strict";i("b3f6")},b3f6:function(t,e,i){},b4cd:function(t,e,i){},b591:function(t,e,i){"use strict";i("a7f2")},b641:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{value:t.value},on:{input:t.close}},[e("div",{style:{width:t.width},attrs:{id:"quickhelpmodal"}},[e("BaseScrollbar",{attrs:{height:t.scrollBarHeight}},[t.loadingBarSave?e("BaseSheetLoading"):t._e(),t._t("default")],2),t.hasFooter&&!t.loadingBarSave?e("div",{staticClass:"footer"},[t._t("footer")],2):t._e()],1)])},a=[],o=i("2f62"),r={name:"Modal",props:{value:{type:Boolean,required:!0},hasFooter:{type:Boolean,default:!1},width:{type:String,default:"320px"},height:{type:String,default:"80vh"},noPadding:{type:Boolean,default:!1}},computed:{...Object(o["c"])(["loadingBarSave"]),scrollBarHeight(){if("auto"===this.height)return this.height;const t=this.hasFooter?138:69;return`calc(${this.height} - ${t}px)`}},methods:{close(){this.$emit("input",!1)}}},n=r,l=(i("eed3"),i("2877")),c=i("24e8"),d=i("93dc"),h=i.n(d),u=Object(l["a"])(n,s,a,!1,null,"8ceee4de",null);e["a"]=u.exports;h()(u,"components",{QDialog:c["a"]})},b811:function(t,e,i){},b822:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-wrapper"}},[t.showMinimumFileSheet?e("div",{staticClass:"row justify-end"},[e("div",{staticClass:"col-md-6 col-lg-6"},[e("div",{staticClass:"shadow-3",attrs:{id:"file-sheet"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"title-1"},[e("div",{attrs:{id:"file"}},[e("div",{staticClass:"avatar"},[e("FileIcon",{attrs:{"mime-type":t.minimumFileSheet.type}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.minimumFileSheet.name)+" ")])])])]),e("q-space"),e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-expand-outline"},on:{click:t.handleOpenFullFileSheet}}),e("BaseCloseButton",{on:{click:t.hideFileSheet}})],1),e("BaseScrollbar",{attrs:{id:"file-content",height:"calc(100vh - 125px)"}},[e("div",{staticClass:"file-list"},[e("iframe",{attrs:{id:"file-frame",src:t.fileLink,frameborder:"0"}})])])],1)])]):t._e(),e("Header",{attrs:{title:t.title,breadcrumbs:t.breadcrumbs},scopedSlots:t._u([{key:"actions",fn:function(){return[t._t("header-actions")]},proxy:!0}],null,!0)}),t.hideActionBar?t._e():e("ActionBar",{attrs:{tab:t.tab,tabs:t.tabs,"hide-actionbar":!t.showMinimumFileSheet},scopedSlots:t._u([{key:"header-title",fn:function(){return[t._t("header-title")]},proxy:!0}],null,!0)}),t.loadingBarPage?e("LoadingBar"):t._e(),t._t("default")],2)},a=[],o=i("2f62"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-header"}},[e("div",[e("div",{staticClass:"title-1 q-mb-xs"},[t._v(" "+t._s(t.title)+" ")]),e("Breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("q-space"),e("BaseActionButton",{attrs:{icon:"eva-question-mark",color:"secondary"},on:{click:function(e){return t.$parent.$emit("quickHelp")}}}),t._t("actions")],2)},n=[],l=i("36ce"),c={name:"Header",components:{Breadcrumbs:l["a"]},props:{title:{type:String,required:!0},breadcrumbs:{type:Array,required:!0}}},d=c,h=(i("5439"),i("2877")),u=i("2c91"),p=i("93dc"),m=i.n(p),f=Object(h["a"])(d,r,n,!1,null,"9fc08392",null),g=f.exports;m()(f,"components",{QSpace:u["a"]});var v=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-action-bar"}},[t._t("header-title"),e("Tabs",{attrs:{tab:t.tab,tabs:t.tabs}}),e("q-space"),t.hideActionbar?e("PortalTarget",{attrs:{name:"action-bar",slim:""}}):t._e()],2)},y=[],b=i("2b88"),x=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"tabs"}},[t._l(t.tabs,(function(i){return e("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,"is-active":t.isActive(i.route)},on:{click:function(e){return t.handleClick(i)}}})})),e("div",{ref:"indicator",staticClass:"indicator"})],2)},w=[],k=(i("14d9"),i("8b55")),C={name:"RouteTabs",components:{Tab:k["a"]},props:{tab:{type:String,default:""},tabs:{type:Array,required:!0}},watch:{$route(){this.setTab()},tabs(){setTimeout(()=>this.setTab(),300)}},mounted(){!this.tab||this.isActive(this.tab)?setTimeout(()=>this.setTab(),300):this.$router.push({name:this.tab})},methods:{setIndicatorPosition(t){const e=this.tabs.findIndex(e=>e.id===t),i=this.$refs.tab[e],s=i.$el.offsetLeft;this.$refs.indicator.style.left=s+"px";const a=i.$el.clientWidth;this.$refs.indicator.style.width=a+"px"},isActive(t){return this.$route.name===t},setTab(){const t=this.$route.name,e=this.tabs.find(e=>e.route===t);e&&this.setIndicatorPosition(e.id)},handleClick(t){this.isActive(t.route)||this.$router.push({name:t.route})}}},S=C,A=(i("f042"),Object(h["a"])(S,x,w,!1,null,"255c1fc8",null)),I=A.exports,T={name:"ActionBar",components:{Tabs:I,PortalTarget:b["PortalTarget"]},props:{tab:{type:String,required:!0},tabs:{type:Array,required:!0},hideActionbar:{type:Boolean,default:!0}}},L=T,P=(i("5b8f"),Object(h["a"])(L,v,y,!1,null,"05ac58aa",null)),_=P.exports;m()(P,"components",{QSpace:u["a"]});var M=i("fa1f"),F=i("dd90"),D=i("048d"),B={name:"ViewWrapper",components:{Header:g,ActionBar:_,FileIcon:M["a"],LoadingBar:D["a"]},props:{title:{type:String,required:!0},breadcrumbs:{type:Array,required:!0},hideActionBar:{type:Boolean,default:!1},tab:{type:String,default:""},tabs:{type:Array,default:()=>[]},minimumFileSheet:{type:Object,default:()=>{}}},data(){return{showMinimumFileSheet:!1}},computed:{...Object(o["c"])(["loadingBarPage"]),fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.minimumFileSheet.name){let e=this.minimumFileSheet.name.split(".").pop(),i="";if(Object(F["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"!==t||Object(F["c"])(e)?"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":"https://trial.ezofis.com/docsviewer/index.html";else{if(Object(F["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.$route.query.repositoryId}/${this.minimumFileSheet.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.$route.query.repositoryId}&itemId=${this.minimumFileSheet.id}&type=2&filename=${this.minimumFileSheet.name}`}return""}},watch:{minimumFileSheet:{deep:!0,handler(){this.minimumFileSheet&&(this.showMinimumFileSheet=!0,this.$emit("hideFileSheet",!0))}},$route:{deep:!0,handler(){this.$route.query.repositoryId||this.hideFileSheet()}}},methods:{handleOpenFullFileSheet(){this.hideFileSheet(),this.$emit("handleOpenFullFileSheet",this.minimumFileSheet)},hideFileSheet(){this.$emit("hideFileSheet",!1),this.showMinimumFileSheet=!1}}},O=B,E=(i("bded"),Object(h["a"])(O,s,a,!1,null,"4e92c3e4",null));e["a"]=E.exports;m()(E,"components",{QSpace:u["a"]})},b94d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{color:t._color},attrs:{id:"tabs"}},[t._l(t.tabs,(function(i){return e("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,color:t.color,"is-full-width":t.isFullWidth,"is-active":i.value===t.value},on:{click:function(e){return t.handleClick(i)}}})})),e("div",{ref:"indicator",staticClass:"indicator"})],2)},a=[],o=i("8b55"),r={name:"Tabs",components:{Tab:o["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const t=this.tabs.findIndex(t=>t.value===this.value),e=this.$refs.tab[t],i=e.$el.offsetLeft;this.$refs.indicator.style.left=i+"px";const s=e.$el.clientWidth;this.$refs.indicator.style.width=s+"px"},handleClick(t){t.value!==this.value&&this.$emit("input",t.value)}}},n=r,l=(i("40f9"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,"48eb7e5e",null);e["a"]=c.exports},b97e:function(t,e,i){"use strict";i("21fc")},ba30:function(t,e,i){"use strict";var s;
/*!
 * ApexCharts v3.36.2
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function m(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=u(t);if(e){var a=u(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return m(this,i)}}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,a,o=[],r=!0,n=!1;try{for(i=i.call(t);!(r=(s=i.next()).done)&&(o.push(s.value),!e||o.length!==e);r=!0);}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return o}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var x=function(){function t(){n(this,t)}return c(t,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),s=t<0?0:255,a=t<0?-1*t:t,o=parseInt(i[0].slice(4),10),r=parseInt(i[1],10),n=parseInt(i[2],10);return"rgb("+(Math.round((s-o)*a)+o)+","+(Math.round((s-r)*a)+r)+","+(Math.round((s-n)*a)+n)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),s=t<0?0:255,a=t<0?-1*t:t,o=i>>16,r=i>>8&255,n=255&i;return"#"+(16777216+65536*(Math.round((s-o)*a)+o)+256*(Math.round((s-r)*a)+r)+(Math.round((s-n)*a)+n)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(e[a]=s[a])}return e});var s=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(a){i.isObject(e[a])&&a in t?s[a]=i.extend(t[a],e[a]):Object.assign(s,d({},a,e[a]))})),s}},{key:"extendArray",value:function(e,i){var s=[];return e.map((function(e){s.push(t.extend(i,e))})),s}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var i=[],s=0;s<e.length;s++)i[s]=this.clone(e[s]);return i}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if("object"===r(e)){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=this.clone(e[o]));return a}return e}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",s=t<0?"-":"",a=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(i=s+"0.";o++;)i+="0";return i+a.replace(/^-/,"")}for(o-=a.length;o--;)i+="0";return a+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,s=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[s-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(1===i[s].length?i[s]+i[s]:i[s],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],s=2*Math.PI/e,a=0;a<e;a++){var o={};o.x=t*Math.sin(a*s),o.y=-t*Math.cos(a*s),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,s){var a=(s-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=t.toString().slice();return i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var s=i-t.length+1;s--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}}]),t}(),w=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return c(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,s){t.attr(e).animate(s).attr(i)}},{key:"animateMarker",value:function(t,e,i,s,a,o){e||(e=0),t.attr({r:e,width:e,height:e}).animate(s,a).attr({r:i,width:i.width,height:i.height}).afterAll((function(){o()}))}},{key:"animateCircle",value:function(t,e,i,s,a){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(s,a).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,s,a){t.attr(e).animate(s).attr(i).afterAll((function(){return a()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,s=t.j,a=t.fill,o=t.pathFrom,r=t.pathTo,n=t.speed,l=t.delay,c=this.w,d=0;c.config.chart.animations.animateGradually.enabled&&(d=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(d=0),this.morphSVG(e,i,s,"line"!==c.config.chart.type||c.globals.comboCharts?a:"stroke",o,r,n,l*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,s,a,o,r,n){var l=this,c=this.w;a||(a=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var d=function(t){return"radar"===c.config.chart.type&&(r=1),"M 0 ".concat(c.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=d()),c.globals.shouldAnimate||(r=1),t.plot(a).animate(1,c.globals.easing,n).plot(a).animate(r,c.globals.easing,n).plot(o).afterAll((function(){x.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==s&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),k=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var s=this,a=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=a.config.chart.dropShadow;(i.enabled?s.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:s});break;case"darken":this.addDarkenFilter(t,e,{intensity:s})}}},{key:"addShadow",value:function(t,e,i){var s=i.blur,a=i.top,o=i.left,r=i.color,n=i.opacity,l=t.flood(Array.isArray(r)?r[e]:r,n).composite(t.sourceAlpha,"in").offset(o,a).gaussianBlur(s).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e.top,a=e.left,o=e.blur,r=e.color,n=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),x.isIE()&&"radialBar"===c.config.chart.type||(r=Array.isArray(r)?r[i]:r,t.filter((function(t){var e=null;e=x.isSafari()||x.isFirefox()||x.isIE()?t.flood(r,n).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o):t.flood(r,n).composite(t.sourceAlpha,"in").offset(a,s).gaussianBlur(o).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var s=this.w;if(void 0!==s.globals.selectedDataPoints[e]&&s.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var a=s.config.states.active.filter;"none"!==a&&this.applyFilter(t,e,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),C=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"roundPathCorners",value:function(t,e){function i(t,e,i){var a=e.x-t.x,o=e.y-t.y,r=Math.sqrt(a*a+o*o);return s(t,e,Math.min(1,i/r))}function s(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function a(t,e){t.length>2&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function o(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var r=t.split(/[,\s]/).reduce((function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t}),[]).reduce((function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t}),[]),n=[];if(r.length>1){var l=o(r[0]),c=null;"Z"==r[r.length-1][0]&&r[0].length>2&&(c=["L",l.x,l.y],r[r.length-1]=c),n.push(r[0]);for(var d=1;d<r.length;d++){var h=n[n.length-1],u=r[d],p=u==c?r[1]:r[d+1];if(p&&h&&h.length>2&&"L"==u[0]&&p.length>2&&"L"==p[0]){var m,f,g=o(h),v=o(u),y=o(p);m=i(v,g,e),f=i(v,y,e),a(u,m),u.origPoint=v,n.push(u);var b=s(m,v,.5),x=s(v,f,.5),w=["C",b.x,b.y,x.x,x.y,f.x,f.y];w.origPoint=v,n.push(w)}else n.push(u)}if(c){var k=o(n[n.length-1]);n.push(["Z"]),a(n[0],k)}}else n=r;return n.reduce((function(t,e){return t+e.join(" ")+" "}),"")}},{key:"drawLine",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:s,stroke:a,"stroke-dasharray":o,"stroke-width":r,"stroke-linecap":n});return c}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w,h=d.globals.dom.Paper.rect();return h.attr({x:t,y:e,width:i>0?i:0,height:s>0?s:0,rx:a,ry:a,opacity:r,"stroke-width":null!==n?n:0,stroke:null!==l?l:"none","stroke-dasharray":c}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",a=this.w,o=a.globals.dom.Paper.polygon(t).attr({fill:s,stroke:e,"stroke-width":i});return o}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;t<0&&(t=0);var s=i.globals.dom.Paper.circle(2*t);return null!==e&&s.attr(e),s}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,s=t.stroke,a=void 0===s?"#a8a8a8":s,o=t.strokeWidth,r=void 0===o?1:o,n=t.fill,l=t.fillOpacity,c=void 0===l?1:l,d=t.strokeOpacity,h=void 0===d?1:d,u=t.classes,p=t.strokeLinecap,m=void 0===p?null:p,f=t.strokeDashArray,g=void 0===f?0:f,v=this.w;return null===m&&(m=v.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(i).attr({fill:n,"fill-opacity":c,stroke:a,"stroke-opacity":h,"stroke-linecap":m,"stroke-width":r,"stroke-dasharray":g,class:u})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=e.globals.dom.Paper.group();return null!==t&&i.attr(t),i}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;return null===i?s=[" L",t,e].join(" "):"H"===i?s=[" H",t].join(" "):"V"===i&&(s=[" V",e].join(" ")),s}},{key:"curve",value:function(t,e,i,s,a,o){var r=["C",t,e,i,s,a,o].join(" ");return r}},{key:"quadraticCurve",value:function(t,e,i,s){return["Q",t,e,i,s].join(" ")}},{key:"arc",value:function(t,e,i,s,a,o,r){var n=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";n&&(l="a");var c=[l,t,e,i,s,a,o,r].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,s=t.realIndex,a=t.pathFrom,r=t.pathTo,n=t.stroke,l=t.strokeWidth,c=t.strokeLinecap,d=t.fill,h=t.animationDelay,u=t.initialSpeed,p=t.dataChangeSpeed,m=t.className,f=t.shouldClipToGrid,g=void 0===f||f,v=t.bindEventsOnPaths,y=void 0===v||v,b=t.drawShadow,x=void 0===b||b,C=this.w,S=new k(this.ctx),A=new w(this.ctx),I=this.w.config.chart.animations.enabled,T=I&&this.w.config.chart.animations.dynamicAnimation.enabled,L=!!(I&&!C.globals.resized||T&&C.globals.dataChanged&&C.globals.shouldAnimate);L?e=a:(e=r,C.globals.animationEnded=!0);var P=C.config.stroke.dashArray,_=0;_=Array.isArray(P)?P[s]:C.config.stroke.dashArray;var M=this.drawPath({d:e,stroke:n,strokeWidth:l,fill:d,fillOpacity:1,classes:m,strokeLinecap:c,strokeDashArray:_});if(M.attr("index",s),g&&M.attr({"clip-path":"url(#gridRectMask".concat(C.globals.cuid,")")}),"none"!==C.config.states.normal.filter.type)S.getDefaultFilter(M,s);else if(C.config.chart.dropShadow.enabled&&x&&(!C.config.chart.dropShadow.enabledOnSeries||C.config.chart.dropShadow.enabledOnSeries&&-1!==C.config.chart.dropShadow.enabledOnSeries.indexOf(s))){var F=C.config.chart.dropShadow;S.dropShadow(M,F,s)}y&&(M.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,M)),M.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,M)),M.node.addEventListener("mousedown",this.pathMouseDown.bind(this,M))),M.attr({pathTo:r,pathFrom:a});var D={el:M,j:i,realIndex:s,pathFrom:a,pathTo:r,fill:d,strokeWidth:l,delay:h};return!I||C.globals.resized||C.globals.dataChanged?!C.globals.resized&&C.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(o(o({},D),{},{speed:u})),C.globals.dataChanged&&T&&L&&A.animatePathsGradually(o(o({},D),{},{speed:p})),M}},{key:"drawPattern",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.w,r=o.globals.dom.Paper.pattern(e,i,(function(o){"horizontalLines"===t?o.line(0,0,i,0).stroke({color:s,width:a+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:s,width:a+1}):"slantedLines"===t?o.line(0,0,e,i).stroke({color:s,width:a}):"squares"===t?o.rect(e,i).fill("none").stroke({color:s,width:a}):"circles"===t&&o.circle(e).fill("none").stroke({color:s,width:a})}));return r}},{key:"drawGradient",value:function(t,e,i,s,a){var o,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;e.length<9&&0===e.indexOf("#")&&(e=x.hexToRgba(e,s)),i.length<9&&0===i.indexOf("#")&&(i=x.hexToRgba(i,a));var h=0,u=1,p=1,m=null;null!==n&&(h=void 0!==n[0]?n[0]/100:0,u=void 0!==n[1]?n[1]/100:1,p=void 0!==n[2]?n[2]/100:1,m=void 0!==n[3]?n[3]/100:null);var f=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(o=null===l||0===l.length?d.globals.dom.Paper.gradient(f?"radial":"linear",(function(t){t.at(h,e,s),t.at(u,i,a),t.at(p,i,a),null!==m&&t.at(m,e,s)})):d.globals.dom.Paper.gradient(f?"radial":"linear",(function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))})),f){var g=d.globals.gridWidth/2,v=d.globals.gridHeight/2;"bubble"!==d.config.chart.type?o.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:v,r:r}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,s=t.fontSize,a=t.fontFamily,o=this.getTextRects(e,s,a),r=o.width/e.length,n=Math.floor(i/r);return i<o.width?e.slice(0,n-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,s=t.y,a=t.text,r=t.textAnchor,n=t.fontSize,l=t.fontFamily,c=t.fontWeight,d=t.foreColor,h=t.opacity,u=t.maxWidth,p=t.cssClass,m=void 0===p?"":p,f=t.isPlainText,g=void 0===f||f,v=this.w;void 0===a&&(a="");var y=a;r||(r="start"),d&&d.length||(d=v.config.chart.foreColor),l=l||v.config.chart.fontFamily,c=c||"regular";var b,x={maxWidth:u,fontSize:n=n||"11px",fontFamily:l};return Array.isArray(a)?b=v.globals.dom.Paper.text((function(t){for(var i=0;i<a.length;i++)y=a[i],u&&(y=e.getTextBasedOnMaxWidth(o({text:a[i]},x))),0===i?t.tspan(y):t.tspan(y).newLine()})):(u&&(y=this.getTextBasedOnMaxWidth(o({text:a},x))),b=g?v.globals.dom.Paper.plain(a):v.globals.dom.Paper.text((function(t){return t.tspan(y)}))),b.attr({x:i,y:s,"text-anchor":r,"dominant-baseline":"auto","font-size":n,"font-family":l,"font-weight":c,fill:d,class:"apexcharts-text "+m}),b.node.style.fontFamily=l,b.node.style.opacity=h,b}},{key:"drawMarker",value:function(t,e,i){t=t||0;var s=i.pSize||0,a=null;if("square"===i.shape||"rect"===i.shape){var o=void 0===i.pRadius?s/2:i.pRadius;null!==e&&s||(s=0,o=0);var r=1.2*s+o,n=this.drawRect(r,r,r,r,o);n.attr({x:t-r/2,y:e-r/2,cx:t,cy:e,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),a=n}else"circle"!==i.shape&&i.shape||(x.isNumber(e)||(s=0,e=0),a=this.drawCircle(s,{cx:t,cy:e,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var r=i.config.states.hover.filter;s.applyFilter(t,a,r.type,r.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:a,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&s.getDefaultFilter(t,a)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,s=new k(this.ctx),a=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),r="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(o)>-1){var n=i.globals.selectedDataPoints[a].indexOf(o);i.globals.selectedDataPoints[a].splice(n,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,d=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),s.getDefaultFilter(t,a)}))};d(l),d(c)}t.node.setAttribute("selected","true"),r="true",void 0===i.globals.selectedDataPoints[a]&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(o)}if("true"===r){var h=i.config.states.active.filter;if("none"!==h)s.applyFilter(t,a,h.type,h.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var u=i.config.states.hover.filter;s.applyFilter(t,a,u.type,u.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?s.getDefaultFilter(t,a):(u=i.config.states.hover.filter,s.applyFilter(t,a,u.type,u.value)));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,r=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});s&&r.attr("transform",s),o.globals.dom.Paper.add(r);var n=r.bbox();return a||(n=r.node.getBoundingClientRect()),r.remove(),{width:n.width,height:n.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var s=e.length-3;s>0;s-=3)if(t.getSubStringLength(0,s)<=i/1.1)return void(t.textContent=e.substring(0,s)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),t}(),S=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0===e.globals.series.length)return i;for(var s=0;s<e.globals.series[e.globals.maxValsInArrayIndex].length;s++){for(var a=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][s]&&-1===t.indexOf(o)&&(a+=e.globals.series[o][s]);i.push(a)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(t,i){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach((function(t){e=Math.max(e,t.size)})),e>0&&(e+=t.config.markers.hover.sizeOffset+1),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var i=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=t[s];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(s,a){for(var o=0,r=0;r<s.length;r++)i.globals.seriesX[a][r]>t&&i.globals.seriesX[a][r]<e&&(o+=s[r]);return o}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var s=[];if(Array.isArray(e))for(var a=0;a<e.length;a++){var o=t.globals.stackedSeriesTotals[a],r=0;o&&(r=100*e[a]/o),s.push(r)}else{var n=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);s.push(n)}return s}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,s,a=this.w.globals,o=[],r=0,n=[],l=.1,c=0;if(a.yRange=[],a.isMultipleYAxis)for(var d=0;d<a.minYArr.length;d++)a.yRange.push(Math.abs(a.minYArr[d]-a.maxYArr[d])),n.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var h=0;h<a.yRange.length;h++)o.push(a.yRange[h]/a.gridHeight);if(e=a.xRange/a.gridWidth,i=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,t=a.yRange/a.gridWidth,s=a.xRange/a.gridHeight,(r=a.zRange/a.gridHeight*16)||(r=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){n=[];for(var u=0;u<o.length;u++)n.push(-a.minYArr[u]/o[u])}else n.push(-a.minY/o[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(l=-a.minY/t,c=a.minX/e);return{yRatio:o,invertedYRatio:t,zRatio:r,xRatio:e,initialXRatio:i,invertedXRatio:s,baseLineInvertedY:l,baseLineY:n,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(t,s){return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(i.config.yaxis[s].logBase,t,s)})):t})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(0===e)return 0;var s=this.w,a=0===s.globals.minYArr[i]?-1:this.getBaseLog(t,s.globals.minYArr[i]),o=(0===s.globals.maxYArr[i]?0:this.getBaseLog(t,s.globals.maxYArr[i]))-a;return e<1?e/o:(this.getBaseLog(t,e)-a)/o}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,s=this.w.globals;return s.yLogRatio=t.slice(),s.logYRange=s.yRange.map((function(t,a){if(i.config.yaxis[a]&&e.w.config.yaxis[a].logarithmic){var o,r=-Number.MAX_VALUE,n=Number.MIN_VALUE;return s.seriesLog.forEach((function(t,e){t.forEach((function(t){i.config.yaxis[e]&&i.config.yaxis[e].logarithmic&&(r=Math.max(t,r),n=Math.min(t,n))}))})),o=Math.pow(s.yRange[a],Math.abs(n-r)/s.yRange[a]),s.yLogRatio[a]=o/s.gridHeight,o}})),s.invalidLogScale?t.slice():s.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0,s=0;return t.length&&void 0!==t[0].type&&t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type&&"boxPlot"!==t.type||i++,void 0!==t.type&&s++})),s>0&&(e=!0),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),A=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===t.label.orientation){var s=null!==e?e:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(null!==a){var o=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-o.height+4),"top"===t.label.position?a.setAttribute("y",parseFloat(a.getAttribute("y"))+o.width):a.setAttribute("y",parseFloat(a.getAttribute("y"))-o.width);var r=this.annoCtx.graphics.rotateAroundCenter(a),n=r.x,l=r.y;a.setAttribute("transform","rotate(-90 ".concat(n," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||void 0===e.label.text||void 0!==e.label.text&&!String(e.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=t.getBoundingClientRect(),o=e.label.style.padding.left,r=e.label.style.padding.right,n=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(n=e.label.style.padding.left,l=e.label.style.padding.right,o=e.label.style.padding.top,r=e.label.style.padding.bottom);var c=a.left-s.left-o,d=a.top-s.top-n,h=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,d,a.width+o+r,a.height+n+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&h.node.classList.add(e.id),h}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(i,s,a){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var r=o.parentNode,n=t.addBackgroundToAnno(o,i);n&&(r.insertBefore(n.node,o),i.label.mouseEnter&&n.node.addEventListener("mouseenter",i.label.mouseEnter.bind(t,i)),i.label.mouseLeave&&n.node.addEventListener("mouseleave",i.label.mouseLeave.bind(t,i)),i.label.click&&n.node.addEventListener("click",i.label.click.bind(t,i)))}};e.config.annotations.xaxis.map((function(t,e){i(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){i(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){i(t,e,"point")}))}},{key:"getY1Y2",value:function(t,e){var i,s="y1"===t?e.y:e.y2,a=this.w;if(this.annoCtx.invertAxis){var o=a.globals.labels.indexOf(s);a.config.xaxis.convertedCatToNumeric&&(o=a.globals.categoryLabels.indexOf(s));var r=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(o+1)+")");r&&(i=parseFloat(r.getAttribute("y")))}else{var n;n=a.config.yaxis[e.yAxisIndex].logarithmic?(s=new S(this.annoCtx.ctx).getLogVal(s,e.yAxisIndex))/a.globals.yLogRatio[e.yAxisIndex]:(s-a.globals.minYArr[e.yAxisIndex])/(a.globals.yRange[e.yAxisIndex]/a.globals.gridHeight),i=a.globals.gridHeight-n,!e.marker||void 0!==e.y&&null!==e.y||(i=0),a.config.yaxis[e.yAxisIndex]&&a.config.yaxis[e.yAxisIndex].reversed&&(i=n)}return"string"==typeof s&&s.indexOf("px")>-1&&(i=parseFloat(s)),i}},{key:"getX1X2",value:function(t,e){var i=this.w,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,r=(e.x-s)/(o/i.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(r=(a-e.x)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(r=this.getStringX(e.x));var n=(e.x2-s)/(o/i.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(n=(a-e.x2)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(n=this.getStringX(e.x2)),void 0!==e.x&&null!==e.x||!e.marker||(r=i.globals.gridWidth),"x1"===t&&"string"==typeof e.x&&e.x.indexOf("px")>-1&&(r=parseFloat(e.x)),"x2"===t&&"string"==typeof e.x2&&e.x2.indexOf("px")>-1&&(n=parseFloat(e.x2)),"x1"===t?r:n}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var s=e.globals.labels.indexOf(t),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(s+1)+")");return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),t}(),I=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addXaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=this.helpers.getX1X2("x1",t),r=t.label.text,n=t.strokeDashArray;if(x.isNumber(o)){if(null===t.x2||void 0===t.x2){var l=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,a.globals.gridHeight+t.offsetY,t.borderColor,n,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getX1X2("x2",t))<o){var c=o;o=s,s=c}var d=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,s-o,a.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,n);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(d.node),t.id&&d.node.classList.add(t.id)}var h=this.annoCtx.graphics.getTextRects(r,parseFloat(t.label.style.fontSize)),u="top"===t.label.position?4:"center"===t.label.position?a.globals.gridHeight/2+("vertical"===t.label.orientation?h.width/2:0):a.globals.gridHeight,p=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:u+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?h.width/2-12:-h.width/2:0),text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});p.attr({rel:i}),e.appendChild(p.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,s){t.addXaxisAnnotation(e,i.node,s)})),i}}]),t}(),T=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addYaxisAnnotation",value:function(t,e,i){var s,a=this.w,o=t.strokeDashArray,r=this.helpers.getY1Y2("y1",t),n=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,r+t.offsetY,this._getYAxisAnnotationWidth(t),r+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((s=this.helpers.getY1Y2("y2",t))>r){var c=r;r=s,s=c}var d=this.annoCtx.graphics.drawRect(0+t.offsetX,s+t.offsetY,this._getYAxisAnnotationWidth(t),r-s,0,t.fillColor,t.opacity,1,t.borderColor,o);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(d.node),t.id&&d.node.classList.add(t.id)}var h="right"===t.label.position?a.globals.gridWidth:"center"===t.label.position?a.globals.gridWidth/2:0,u=this.annoCtx.graphics.drawText({x:h+t.label.offsetX,y:(null!=s?s:r)+t.label.offsetY-3,text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});u.attr({rel:i}),e.appendChild(u.node)}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,s){t.addYaxisAnnotation(e,i.node,s)})),i}}]),t}(),L=function(){function t(e){n(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new A(this.annoCtx)}return c(t,[{key:"addPointAnnotation",value:function(t,e,i){this.w;var s=this.helpers.getX1X2("x1",t),a=this.helpers.getY1Y2("y1",t);if(x.isNumber(s)){var o={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},r=this.annoCtx.graphics.drawMarker(s+t.marker.offsetX,a+t.marker.offsetY,o);e.appendChild(r.node);var n=t.label.text?t.label.text:"",l=this.annoCtx.graphics.drawText({x:s+t.label.offsetX,y:a+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:n,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(l.attr({rel:i}),e.appendChild(l.node),t.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});c.attr({transform:"translate(".concat(s+t.customSVG.offsetX,", ").concat(a+t.customSVG.offsetY,")")}),c.node.innerHTML=t.customSVG.SVG,e.appendChild(c.node)}if(t.image.path){var d=t.image.width?t.image.width:20,h=t.image.height?t.image.height:20;r=this.annoCtx.addImage({x:s+t.image.offsetX-d/2,y:a+t.image.offsetY-h/2,width:d,height:h,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&r.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&r.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&r.node.addEventListener("click",t.click.bind(this,t))}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,s){t.addPointAnnotation(e,i.node,s)})),i}}]),t}(),P={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},_=function(){function t(){n(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[P],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),M=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.graphics=new C(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new A(this),this.xAxisAnnotations=new I(this),this.yAxisAnnotations=new T(this),this.pointsAnnotations=new L(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=t.config.chart.animations.enabled,o=[e,i,s],r=[i.node,e.node,s.node],n=0;n<3;n++)t.globals.dom.elGraphical.add(o[n]),!a||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&r[n].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:r[n],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,s=t.y,a=t.text,o=t.textAnchor,r=t.foreColor,n=t.fontSize,l=t.fontFamily,c=t.fontWeight,d=t.cssClass,h=t.backgroundColor,u=t.borderWidth,p=t.strokeDashArray,m=t.borderRadius,f=t.borderColor,g=t.appendTo,v=void 0===g?".apexcharts-annotations":g,y=t.paddingLeft,b=void 0===y?4:y,x=t.paddingRight,w=void 0===x?4:x,k=t.paddingBottom,C=void 0===k?2:k,S=t.paddingTop,A=void 0===S?2:S,I=this.w,T=this.graphics.drawText({x:i,y:s,text:a,textAnchor:o||"start",fontSize:n||"12px",fontWeight:c||"regular",fontFamily:l||I.config.chart.fontFamily,foreColor:r||I.config.chart.foreColor,cssClass:d}),L=I.globals.dom.baseEl.querySelector(v);L&&L.appendChild(T.node);var P=T.bbox();if(a){var _=this.graphics.drawRect(P.x-b,P.y-A,P.width+b+w,P.height+C+A,m,h||"transparent",1,u,f,p);L.insertBefore(_.node,T.node)}}},{key:"addImage",value:function(t,e){var i=this.w,s=t.path,a=t.x,o=void 0===a?0:a,r=t.y,n=void 0===r?0:r,l=t.width,c=void 0===l?20:l,d=t.height,h=void 0===d?20:d,u=t.appendTo,p=void 0===u?".apexcharts-annotations":u,m=i.globals.dom.Paper.image(s);m.size(c,h).move(o,n);var f=i.globals.dom.baseEl.querySelector(p);return f&&f.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,s=t.context,a=t.type,o=t.contextMethod,r=s,n=r.w,l=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),c=l.childNodes.length+1,d=new _,h=Object.assign({},"xaxis"===a?d.xAxisAnnotation:"yaxis"===a?d.yAxisAnnotation:d.pointAnnotation),u=x.extend(h,e);switch(a){case"xaxis":this.addXaxisAnnotation(u,l,c);break;case"yaxis":this.addYaxisAnnotation(u,l,c);break;case"point":this.addPointAnnotation(u,l,c)}var p=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(c,"']")),m=this.helpers.addBackgroundToAnno(p,u);return m&&l.insertBefore(m.node,p),i&&n.globals.memory.methodsToExec.push({context:r,id:u.id?u.id:x.randomId(),method:o,label:"addAnnotation",params:e}),s}},{key:"clearAnnotations",value:function(t){var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,i){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(i,1)})),i=x.listToArray(i),Array.prototype.forEach.call(i,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(e));s&&(i.globals.memory.methodsToExec.map((function(t,s){t.id===e&&i.globals.memory.methodsToExec.splice(s,1)})),Array.prototype.forEach.call(s,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),F=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(v(i.months)),o=[""].concat(v(i.shortMonths)),r=[""].concat(v(i.days)),n=[""].concat(v(i.shortDays));function l(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var c=s?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var d=(s?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var h=s?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+n[0])).replace(/(^|[^\\])dd/g,"$1"+l(h))).replace(/(^|[^\\])d/g,"$1"+h);var u=s?t.getUTCHours():t.getHours(),p=u>12?u-12:0===u?12:u;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(u))).replace(/(^|[^\\])H/g,"$1"+u)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=s?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(m))).replace(/(^|[^\\])m/g,"$1"+m);var f=s?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(f))).replace(/(^|[^\\])s/g,"$1"+f);var g=s?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(g,3)),g=Math.round(g/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(g)),g=Math.round(g/10);var y=u<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+g)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var x=-t.getTimezoneOffset(),w=s||!x?"Z":x>0?"+":"-";if(!s){var k=(x=Math.abs(x))%60;w+=l(Math.floor(x/60))+":"+l(k)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var C=(s?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[C])).replace(new RegExp(n[0],"g"),n[C])).replace(new RegExp(a[0],"g"),a[d])).replace(new RegExp(o[0],"g"),o[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var s=this.w;void 0!==s.config.xaxis.min&&(t=s.config.xaxis.min),void 0!==s.config.xaxis.max&&(e=s.config.xaxis.max);var a=this.getDate(t),o=this.getDate(e),r=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),n=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(r[6],10),maxMillisecond:parseInt(n[6],10),minSecond:parseInt(r[5],10),maxSecond:parseInt(n[5],10),minMinute:parseInt(r[4],10),maxMinute:parseInt(n[4],10),minHour:parseInt(r[3],10),maxHour:parseInt(n[3],10),minDate:parseInt(r[2],10),maxDate:parseInt(n[2],10),minMonth:parseInt(r[1],10)-1,maxMonth:parseInt(n[1],10)-1,minYear:parseInt(r[0],10),maxYear:parseInt(n[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var s=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=x.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),t}(),D=function(t){var e,i=t.ctx,s=t.seriesIndex,a=t.dataPointIndex,o=t.y1,r=t.y2,n=t.w,l=n.globals.seriesRangeStart[s][a],c=n.globals.seriesRangeEnd[s][a],d=n.globals.labels[a],h=n.config.series[s].name?n.config.series[s].name:"",u=n.config.tooltip.y.formatter,p=n.config.tooltip.y.title.formatter,m={w:n,seriesIndex:s,dataPointIndex:a,start:l,end:c};"function"==typeof p&&(h=p(h,m)),null!==(e=n.config.series[s].data[a])&&void 0!==e&&e.x&&(d=n.config.series[s].data[a].x+":"),"function"==typeof u&&(d=u(d,m)),Number.isFinite(o)&&Number.isFinite(r)&&(l=o,c=r);var f="",g="",v=n.globals.colors[s];if(void 0===n.config.tooltip.x.formatter)if("datetime"===n.config.xaxis.type){var y=new F(i);f=y.formatDate(y.getDate(l),n.config.tooltip.x.format),g=y.formatDate(y.getDate(c),n.config.tooltip.x.format)}else f=l,g=c;else f=n.config.tooltip.x.formatter(l),g=n.config.tooltip.x.formatter(c);return{start:l,end:c,startVal:f,endVal:g,ylabel:d,color:v,seriesName:h}},B=function(t){var e=t.color,i=t.seriesName,s=t.ylabel,a=t.start,o=t.end,r=t.seriesIndex,n=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(r);a=l.yLbFormatter(a),o=l.yLbFormatter(o);var c=l.yLbFormatter(t.w.globals.series[r][n]),d='<span class="value start-value">\n  '.concat(a,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(o,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+s+" </span> "+(t.w.globals.comboCharts?"rangeArea"===t.w.config.series[r].type||"rangeBar"===t.w.config.series[r].type?d:"<span>".concat(c,"</span>"):d)+" </div></div>"},O=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,x.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,s=e.dataPointIndex,a=e.w,o=function(){var t=a.globals.seriesRangeStart[i][s];return a.globals.seriesRangeEnd[i][s]-t};return a.globals.comboCharts?"rangeBar"===a.config.series[i].type||"rangeArea"===a.config.series[i].type?o():t:o()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.startVal,n=e.endVal;return B(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t):function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.start,n=e.end;return B(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return function(t){var e=D(t),i=e.color,s=e.seriesName,a=e.ylabel,r=e.start,n=e.end;return B(o(o({},t),{},{color:i,seriesName:s,ylabel:a,start:r,end:n}))}(t)}}}}},{key:"brush",value:function(t){return x.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return x.isNumber(t)?Math.floor(t):t};var s=t.xaxis.labels.formatter,a=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(a=i.map((function(t){return Array.isArray(t)?t:String(t)}))),a&&a.length&&(t.xaxis.labels.formatter=function(t){return x.isNumber(t)?s(a[Math.floor(t)-1]):s(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(t,e,i,s,a){var o=t.globals.seriesCandleO[e][i],r=t.globals.seriesCandleH[e][i],n=t.globals.seriesCandleM[e][i],l=t.globals.seriesCandleL[e][i],c=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+r+"</span></div>"+(n?"<div>".concat(s[2],': <span class="value">')+n+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+c+"</span></div></div>"}}]),t}(),E=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,s=new _,a=new O(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=x.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=s.init(),n={};if(i&&"object"===r(i)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?a[i.chart.type]():a.line(),i.chart.brush&&i.chart.brush.enabled&&(l=a.brush(l)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=a.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,l,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=a.sparkline(l)),n=x.extend(o,l)}var c=x.extend(n,window.Apex);return o=x.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var s=new O(i),a=("bar"===t||"boxPlot"===t)&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,o="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,r="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,n=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return a||o||!r||"between"===n||(i=s.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new _;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=x.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[x.extend(i.yAxis,t.yaxis)]:t.yaxis=x.extendArray(t.yaxis,i.yAxis);var s=!1;t.yaxis.forEach((function(t){t.logarithmic&&(s=!0)}));var a=t.series;return e&&!a&&(a=e.config.series),s&&a.length!==t.yaxis.length&&a.length&&(t.yaxis=a.map((function(e,s){if(e.name||(a[s].name="series-".concat(s+1)),t.yaxis[s])return t.yaxis[s].seriesName=a[s].name,t.yaxis[s];var o=x.extend(i.yAxis,t.yaxis[0]);return o.show=!1,o}))),s&&a.length>1&&a.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new _;return t.annotations.yaxis=x.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new _;return t.annotations.xaxis=x.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new _;return t.annotations.points=x.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),t}(),N=function(){function t(){n(this,t)}return c(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasGroups=!1,t.groups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=x.extend({},t),e.initialSeries=x.clone(t.series),e.lastXAxis=x.clone(e.initialConfig.xaxis),e.lastYAxis=x.clone(e.initialConfig.yaxis),e}}]),t}(),$=function(){function t(e){n(this,t),this.opts=e}return c(t,[{key:"init",value:function(){var t=new E(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new N).init(t)}}}]),t}(),R=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return c(t,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,s=parseInt(e.globals.gridWidth,10),a=parseInt(e.globals.gridHeight,10),o=s>a?s:a,r=t.image,n=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(n=i.fill.image.width+1,l=i.fill.image.height):(n=o+1,l=o):(n=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");C.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:n+"px",height:l+"px"});var d=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",r),C.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:n+"px",height:l+"px"}),d.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,s,a,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var r=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(r=e.globals.seriesColors[this.seriesIndex]),"function"==typeof r&&(r=r({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var n=t.fillType?t.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;t.color&&(r=t.color);var c=r;if(-1===r.indexOf("rgb")?r.length<9&&(c=x.hexToRgba(r,l)):r.indexOf("rgba")>-1&&(l=x.getOpacityFromRGBA(r)),t.opacity&&(l=t.opacity),"pattern"===n&&(s=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:s,fillColor:r,fillOpacity:l,defaultColor:c})),"gradient"===n&&(a=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:r,fillOpacity:l,i:this.seriesIndex})),"image"===n){var d=o.fill.image.src,h=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(d)?t.seriesNumber<d.length?d[t.seriesNumber]:d[0]:d,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(h)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(h,")")}else i="gradient"===n?a:"pattern"===n?s:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,s=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors),void 0!==i.fillColors&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=t.patternFill,s=t.fillColor,a=t.fillOpacity,o=t.defaultColor,r=this.w.config.fill;e&&(r=e);var n=this.opts,l=new C(this.ctx),c=Array.isArray(r.pattern.strokeWidth)?r.pattern.strokeWidth[this.seriesIndex]:r.pattern.strokeWidth,d=s;return i=Array.isArray(r.pattern.style)?void 0!==r.pattern.style[n.seriesNumber]?l.drawPattern(r.pattern.style[n.seriesNumber],r.pattern.width,r.pattern.height,d,c,a):o:l.drawPattern(r.pattern.style,r.pattern.width,r.pattern.height,d,c,a),i}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,s=t.fillConfig,a=t.i,r=this.w.config.fill;s&&(r=o(o({},r),s));var n,l=this.opts,c=new C(this.ctx),d=new x,h=r.gradient.type,u=e,p=void 0===r.gradient.opacityFrom?i:Array.isArray(r.gradient.opacityFrom)?r.gradient.opacityFrom[a]:r.gradient.opacityFrom;u.indexOf("rgba")>-1&&(p=x.getOpacityFromRGBA(u));var m=void 0===r.gradient.opacityTo?i:Array.isArray(r.gradient.opacityTo)?r.gradient.opacityTo[a]:r.gradient.opacityTo;if(void 0===r.gradient.gradientToColors||0===r.gradient.gradientToColors.length)n="dark"===r.gradient.shade?d.shadeColor(-1*parseFloat(r.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e):d.shadeColor(parseFloat(r.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e);else if(r.gradient.gradientToColors[l.seriesNumber]){var f=r.gradient.gradientToColors[l.seriesNumber];n=f,f.indexOf("rgba")>-1&&(m=x.getOpacityFromRGBA(f))}else n=e;if(r.gradient.gradientFrom&&(u=r.gradient.gradientFrom),r.gradient.gradientTo&&(n=r.gradient.gradientTo),r.gradient.inverseColors){var g=u;u=n,n=g}return u.indexOf("rgb")>-1&&(u=x.rgb2hex(u)),n.indexOf("rgb")>-1&&(n=x.rgb2hex(n)),c.drawGradient(h,u,n,p,m,l.size,r.gradient.stops,r.gradient.colorStops,a)}}]),t}(),z=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,i,s){var a,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.w,n=e,l=t,c=null,d=new C(this.ctx),h=r.config.markers.discrete&&r.config.markers.discrete.length;if((r.globals.markers.size[e]>0||o||h)&&(c=d.group({class:o||h?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(l.x))for(var u=0;u<l.x.length;u++){var p=i;1===i&&0===u&&(p=0),1===i&&1===u&&(p=1);var m="apexcharts-marker";"line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(m+=" no-pointer-events");var f=Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0;if(f||o||h){x.isNumber(l.y[u])?m+=" w".concat(x.randomId()):m="apexcharts-nullpoint";var g=this.getMarkerConfig({cssClass:m,seriesIndex:e,dataPointIndex:p});r.config.series[n].data[p]&&(r.config.series[n].data[p].fillColor&&(g.pointFillColor=r.config.series[n].data[p].fillColor),r.config.series[n].data[p].strokeColor&&(g.pointStrokeColor=r.config.series[n].data[p].strokeColor)),s&&(g.pSize=s),(a=d.drawMarker(l.x[u],l.y[u],g)).attr("rel",p),a.attr("j",p),a.attr("index",e),a.node.setAttribute("default-marker-size",g.pSize);var v=new k(this.ctx);v.setSelectionFilter(a,e,p),this.addEvents(a),c&&c.add(a)}else void 0===r.globals.pointsArray[e]&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([l.x[u],l.y[u]])}return c}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,s=t.dataPointIndex,a=void 0===s?null:s,o=t.finishRadius,r=void 0===o?null:o,n=this.w,l=this.getMarkerStyle(i),c=n.globals.markers.size[i],d=n.config.markers;return null!==a&&d.discrete.length&&d.discrete.map((function(t){t.seriesIndex===i&&t.dataPointIndex===a&&(l.pointStrokeColor=t.strokeColor,l.pointFillColor=t.fillColor,c=t.size,l.pointShape=t.shape)})),{pSize:null===r?c:r,pRadius:d.radius,width:Array.isArray(d.width)?d.width[i]:d.width,height:Array.isArray(d.height)?d.height[i]:d.height,pointStrokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[i]:d.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(d.shape)?d.shape[i]:d.shape),class:e,pointStrokeOpacity:Array.isArray(d.strokeOpacity)?d.strokeOpacity[i]:d.strokeOpacity,pointStrokeDashArray:Array.isArray(d.strokeDashArray)?d.strokeDashArray[i]:d.strokeDashArray,pointFillOpacity:Array.isArray(d.fillOpacity)?d.fillOpacity[i]:d.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new C(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,s=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[t]:s,pointFillColor:Array.isArray(i)?i[t]:i}}}]),t}(),q=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(t,[{key:"draw",value:function(t,e,i){var s=this.w,a=new C(this.ctx),o=i.realIndex,r=i.pointsPos,n=i.zRatio,l=i.elParent,c=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(r.x))for(var d=0;d<r.x.length;d++){var h=e+1,u=!0;0===e&&0===d&&(h=0),0===e&&1===d&&(h=1);var p=0,m=s.globals.markers.size[o];if(n!==1/0){var f=s.config.plotOptions.bubble;m=s.globals.seriesZ[o][h],f.zScaling&&(m/=n),f.minBubbleRadius&&m<f.minBubbleRadius&&(m=f.minBubbleRadius),f.maxBubbleRadius&&m>f.maxBubbleRadius&&(m=f.maxBubbleRadius)}s.config.chart.animations.enabled||(p=m);var g=r.x[d],v=r.y[d];if(p=p||0,null!==v&&void 0!==s.globals.series[o][h]||(u=!1),u){var y=this.drawPoint(g,v,p,m,o,h,e);c.add(y)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,s,a,o,r){var n=this.w,l=a,c=new w(this.ctx),d=new k(this.ctx),h=new R(this.ctx),u=new z(this.ctx),p=new C(this.ctx),m=u.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:o,finishRadius:"bubble"===n.config.chart.type||n.globals.comboCharts&&n.config.series[a]&&"bubble"===n.config.series[a].type?s:null});s=m.pSize;var f,g=h.fillPath({seriesNumber:a,dataPointIndex:o,color:m.pointFillColor,patternUnits:"objectBoundingBox",value:n.globals.series[a][r]});if("circle"===m.shape?f=p.drawCircle(i):"square"!==m.shape&&"rect"!==m.shape||(f=p.drawRect(0,0,m.width-m.pointStrokeWidth/2,m.height-m.pointStrokeWidth/2,m.pRadius)),n.config.series[l].data[o]&&n.config.series[l].data[o].fillColor&&(g=n.config.series[l].data[o].fillColor),f.attr({x:t-m.width/2-m.pointStrokeWidth/2,y:e-m.height/2-m.pointStrokeWidth/2,cx:t,cy:e,fill:g,"fill-opacity":m.pointFillOpacity,stroke:m.pointStrokeColor,r:s,"stroke-width":m.pointStrokeWidth,"stroke-dasharray":m.pointStrokeDashArray,"stroke-opacity":m.pointStrokeOpacity}),n.config.chart.dropShadow.enabled){var v=n.config.chart.dropShadow;d.dropShadow(f,v,a)}if(!this.initialAnim||n.globals.dataChanged||n.globals.resized)n.globals.animationEnded=!0;else{var y=n.config.chart.animations.speed;c.animateMarker(f,0,"circle"===m.shape?s:{width:m.width,height:m.height},y,n.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(f)}),100)}))}if(n.globals.dataChanged&&"circle"===m.shape)if(this.dynamicAnim){var b,x,S,A,I=n.config.chart.animations.dynamicAnimation.speed;null!=(A=n.globals.previousPaths[a]&&n.globals.previousPaths[a][r])&&(b=A.x,x=A.y,S=void 0!==A.r?A.r:s);for(var T=0;T<n.globals.collapsedSeries.length;T++)n.globals.collapsedSeries[T].index===a&&(I=1,s=0);0===t&&0===e&&(s=0),c.animateCircle(f,{cx:b,cy:x,r:S},{cx:t,cy:e,r:s},I,n.globals.easing)}else f.attr({r:s});return f.attr({rel:o,j:o,index:a,"default-marker-size":s}),d.setSelectionFilter(f,a,o),u.addEvents(f),f.node.classList.add("apexcharts-marker"),f}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),t}(),V=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"dataLabelsCorrection",value:function(t,e,i,s,a,o,r){var n=this.w,l=!1,c=new C(this.ctx).getTextRects(i,r),d=c.width,h=c.height;e<0&&(e=0),e>n.globals.gridHeight+h&&(e=n.globals.gridHeight+h/2),void 0===n.globals.dataLabelsRects[s]&&(n.globals.dataLabelsRects[s]=[]),n.globals.dataLabelsRects[s].push({x:t,y:e,width:d,height:h});var u=n.globals.dataLabelsRects[s].length-2,p=void 0!==n.globals.lastDrawnDataLabelsIndexes[s]?n.globals.lastDrawnDataLabelsIndexes[s][n.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(void 0!==n.globals.dataLabelsRects[s][u]){var m=n.globals.dataLabelsRects[s][p];(t>m.x+m.width+2||e>m.y+m.height+2||t+d<m.x)&&(l=!0)}return(0===a||o)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,s=t.pos,a=t.i,o=t.j,r=t.isRangeStart,n=t.strokeWidth,l=void 0===n?2:n,c=this.w,d=new C(this.ctx),h=c.config.dataLabels,u=0,p=0,m=o,f=null;if(!h.enabled||!Array.isArray(s.x))return f;f=d.group({class:"apexcharts-data-labels"});for(var g=0;g<s.x.length;g++)if(u=s.x[g]+h.offsetX,p=s.y[g]+h.offsetY+l,!isNaN(u)){1===o&&0===g&&(m=0),1===o&&1===g&&(m=1);var v=c.globals.series[a][m];"rangeArea"===i&&(v=r?c.globals.seriesRangeStart[a][m]:c.globals.seriesRangeEnd[a][m]);var y="",b=function(t){return c.config.dataLabels.formatter(t,{ctx:e.ctx,seriesIndex:a,dataPointIndex:m,w:c})};"bubble"===c.config.chart.type?(y=b(v=c.globals.seriesZ[a][m]),p=s.y[g],p=new q(this.ctx).centerTextInBubble(p,a,m).y):void 0!==v&&(y=b(v)),this.plotDataLabelsText({x:u,y:p,text:y,i:a,j:m,parent:f,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels})}return f}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new C(this.ctx),s=t.x,a=t.y,o=t.i,r=t.j,n=t.text,l=t.textAnchor,c=t.fontSize,d=t.parent,h=t.dataLabelsConfig,u=t.color,p=t.alwaysDrawDataLabel,m=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var f={x:s,y:a,drawnextLabel:!0,textRects:null};m&&(f=this.dataLabelsCorrection(s,a,n,o,r,p,parseInt(h.style.fontSize,10))),e.globals.zoomed||(s=f.x,a=f.y),f.textRects&&(s<-10-f.textRects.width||s>e.globals.gridWidth+f.textRects.width+10)&&(n="");var g=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(g=e.globals.dataLabels.style.colors[r]),"function"==typeof g&&(g=g({series:e.globals.series,seriesIndex:o,dataPointIndex:r,w:e})),u&&(g=u);var v=h.offsetX,y=h.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(v=0,y=0),f.drawnextLabel){var b=i.drawText({width:100,height:parseInt(h.style.fontSize,10),x:s+v,y:a+y,foreColor:g,textAnchor:l||h.textAnchor,text:n,fontSize:c||h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight||"normal"});if(b.attr({class:"apexcharts-datalabel",cx:s,cy:a}),h.dropShadow.enabled){var x=h.dropShadow;new k(this.ctx).dropShadow(b,x)}d.add(b),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(r)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,s=i.config.dataLabels.background,a=s.padding,o=s.padding/2,r=e.width,n=e.height,l=new C(this.ctx).drawRect(e.x-a,e.y-o/2,r+2*a,n+o,s.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new k(this.ctx).dropShadow(l,s.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var s=e[i],a=s.getBBox(),o=null;if(a.width&&a.height&&(o=this.addBackgroundToDataLabel(s,a)),o){s.parentNode.insertBefore(o.node,s);var r=s.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:r}):o.animate().attr({fill:r}),s.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<e.length;s++)i&&i.insertBefore(e[s],i.nextSibling)}}]),t}(),j=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(x.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function s(i){for(var s=0;s<i.length;s++)i[s].index===e&&t.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w,a=x.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,t&&(e&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var a=parseInt(e.getAttribute("rel"),10)-1,o=null,r=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),r=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var n=0;n<s.length;n++)s[n].classList.add(this.legendInactiveClass);null!==o&&(i.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==r&&r.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<s.length;l++)s[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(t){for(var e=0;e<a.length;e++)a[e].classList[t](i.legendInactiveClass)};if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1;o("add"),function(t){for(var e=0;e<a.length;e++){var s=parseInt(a[e].getAttribute("val"),10);s>=t.from&&s<=t.to&&a[e].classList.remove(i.legendInactiveClass)}}(s.config.plotOptions.heatmap.colorScale.ranges[r])}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.w,s=0;if(i.config.series.length>1)for(var a=i.config.series.map((function(t,s){return t.data&&t.data.length>0&&-1===i.globals.collapsedSeriesIndices.indexOf(s)&&(!i.globals.comboCharts||0===e.length||e.length&&e.indexOf(i.config.series[s].type)>-1)?s:-1})),o="asc"===t?0:a.length-1;"asc"===t?o<a.length:o>=0;"asc"===t?o++:o--)if(-1!==a[o]){s=a[o];break}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(t,e){return"bar"===t.type||"column"===t.type?e:-1})).filter((function(t){return-1!==t})):this.w.config.series.map((function(t,e){return e}))}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,i,s){for(var a=e[i].childNodes,o={type:s,paths:[],realIndex:e[i].getAttribute("data:realIndex")},r=0;r<a.length;r++)if(a[r].hasAttribute("pathTo")){var n=a[r].getAttribute("pathTo");o.paths.push({d:n})}t.globals.previousPaths.push(o)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(i){for(var s,a=(s=i,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series"))),o=0;o<a.length;o++)e(a,o,i)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(e){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(e,"'] rect")),s=[],a=function(t){var e=function(e){return i[t].getAttribute(e)},a={x:parseFloat(e("x")),y:parseFloat(e("y")),width:parseFloat(e("width")),height:parseFloat(e("height"))};s.push({rect:a,color:i[t].getAttribute("color")})},o=0;o<i.length;o++)a(o);t.globals.previousPaths.push(s)},a=0;a<i.length;a++)s(a);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var s=0;s<i.length;s++){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(s,"'] circle")),o=[],r=0;r<a.length;r++)o.push({x:a[r].getAttribute("cx"),y:a[r].getAttribute("cy"),r:a[r].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new C(this.ctx),s=t.globals.svgWidth/2,a=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(s=10,o="start"):"right"===e.align&&(s=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?a=50:"bottom"===e.verticalAlign&&(a=t.globals.svgHeight-50),s+=e.offsetX,a=a+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var r=i.drawText({x:s,y:a,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(r)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var s=0;s<t[e.globals.maxValsInArrayIndex].length;s++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return t}}]),t}(),W=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new S(this.ctx)}return c(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new j(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new j(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,s=this.w.globals,a="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,o=0;o<t[e].data.length;o++)if(void 0!==t[e].data[o][1]&&(Array.isArray(t[e].data[o][1])&&4===t[e].data[o][1].length&&!a?this.twoDSeries.push(x.parseNumber(t[e].data[o][1][3])):t[e].data[o].length>=5?this.twoDSeries.push(x.parseNumber(t[e].data[o][4])):this.twoDSeries.push(x.parseNumber(t[e].data[o][1])),s.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var r=new Date(t[e].data[o][0]);r=new Date(r).getTime(),this.twoDSeriesX.push(r)}else this.twoDSeriesX.push(t[e].data[o][0]);for(var n=0;n<t[e].data.length;n++)void 0!==t[e].data[n][2]&&(this.threeDSeries.push(t[e].data[n][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,s=this.w.globals,a=new F(this.ctx),o=e;s.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r].y&&(Array.isArray(t[e].data[r].y)?this.twoDSeries.push(x.parseNumber(t[e].data[r].y[t[e].data[r].y.length-1])):this.twoDSeries.push(x.parseNumber(t[e].data[r].y))),void 0!==t[e].data[r].goals&&Array.isArray(t[e].data[r].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[r].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var n=0;n<t[o].data.length;n++){var l="string"==typeof t[o].data[n].x,c=Array.isArray(t[o].data[n].x),d=!c&&!!a.isValidDate(t[o].data[n].x.toString());if(l||d)if(l||i.xaxis.convertedCatToNumeric){var h=s.isBarHorizontal&&s.isRangeData;"datetime"!==i.xaxis.type||h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[n].x)):this.twoDSeriesX.push(a.parseDate(t[o].data[n].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(a.parseDate(t[o].data[n].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[n].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[n].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[n].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var u=0;u<t[e].data.length;u++)this.threeDSeries.push(t[e].data[u].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(s.start),i.seriesRangeEnd.push(s.end),i.seriesRange.push(s.rangeUniques),i.seriesRange.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,i){for(var s=0;s<t.y.length;s++)if(i!==s){var a=e.y1,o=e.y2,r=t.y[s].y1;a<=t.y[s].y2&&r<=o&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[s].rangeName)<0&&t.overlaps.push(t.y[s].rangeName))}}))}))})),s}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=s.o,i.seriesCandleH[e]=s.h,i.seriesCandleM[e]=s.m,i.seriesCandleL[e]=s.l,i.seriesCandleC[e]=s.c,s}},{key:"handleRangeDataFormat",value:function(t,e,i){var s=[],a=[],o=e[i].data.filter((function(t,e,i){return e===i.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}}));if("array"===t)for(var r=0;r<e[i].data.length;r++)Array.isArray(e[i].data[r])?(s.push(e[i].data[r][1][0]),a.push(e[i].data[r][1][1])):(s.push(e[i].data[r]),a.push(e[i].data[r]));else if("xy"===t)for(var n=function(t){var r=Array.isArray(e[i].data[t].y),n=x.randomId(),l=e[i].data[t].x,c={y1:r?e[i].data[t].y[0]:e[i].data[t].y,y2:r?e[i].data[t].y[1]:e[i].data[t].y,rangeName:n};e[i].data[t].rangeName=n;var d=o.findIndex((function(t){return t.x===l}));o[d].y.push(c),s.push(c.y1),a.push(c.y2)},l=0;l<e[i].data.length;l++)n(l);return{start:s,end:a,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var s=this.w,a="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[i].type,o=[],r=[],n=[],l=[],c=[];if("array"===t)if(a&&6===e[i].data[0].length||!a&&5===e[i].data[0].length)for(var d=0;d<e[i].data.length;d++)o.push(e[i].data[d][1]),r.push(e[i].data[d][2]),a?(n.push(e[i].data[d][3]),l.push(e[i].data[d][4]),c.push(e[i].data[d][5])):(l.push(e[i].data[d][3]),c.push(e[i].data[d][4]));else for(var h=0;h<e[i].data.length;h++)Array.isArray(e[i].data[h][1])&&(o.push(e[i].data[h][1][0]),r.push(e[i].data[h][1][1]),a?(n.push(e[i].data[h][1][2]),l.push(e[i].data[h][1][3]),c.push(e[i].data[h][1][4])):(l.push(e[i].data[h][1][2]),c.push(e[i].data[h][1][3])));else if("xy"===t)for(var u=0;u<e[i].data.length;u++)Array.isArray(e[i].data[u].y)&&(o.push(e[i].data[u].y[0]),r.push(e[i].data[u].y[1]),a?(n.push(e[i].data[u].y[2]),l.push(e[i].data[u].y[3]),c.push(e[i].data[u].y[4])):(l.push(e[i].data[u].y[2]),c.push(e[i].data[u].y[3])));return{o:o,h:r,m:n,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,o=new F(i),r=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar="rangeBar"===s.chart.type&&a.isBarHorizontal,a.hasGroups="category"===s.xaxis.type&&s.xaxis.group.groups.length>0,a.hasGroups&&(a.groups=s.xaxis.group.groups);for(var n=function(){for(var t=0;t<r.length;t++)if("string"==typeof r[t]){if(!o.isValidDate(r[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(r[t]))}else e.twoDSeriesX.push(r[t])},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(a.isRangeData=!0,a.isComboCharts?"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||this.handleRangeData(t,l):"rangeBar"!==s.chart.type&&"rangeArea"!==s.chart.type||this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==s.chart.type&&"candlestick"!==t[l].type&&"boxPlot"!==s.chart.type&&"boxPlot"!==t[l].type||this.handleCandleStickBoxData(t,l),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===s.xaxis.type?(a.isXNumeric=!0,n(),a.seriesX.push(this.twoDSeriesX)):"numeric"===s.xaxis.type&&(a.isXNumeric=!0,r.length>0&&(this.twoDSeriesX=r,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return x.parseNumber(t)}));a.series.push(c)}a.seriesZ.push(this.threeDSeries),void 0!==t[l].name?a.seriesNames.push(t[l].name):a.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==t[l].color?a.seriesColors.push(t[l].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var s=0;s<e.series.length;s++)void 0===e.seriesNames[s]&&e.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(t){t.forEach((function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)}))})),i.labels=i.labels.filter((function(t,e,i){return i.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new O(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,s=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var a=i.series.map((function(t,e){return t.data.filter((function(t,e,i){return i.findIndex((function(e){return e.x===t.x}))===e}))})),o=a.reduce((function(t,e,i,s){return s[t].length>e.length?t:i}),0),r=0;r<a[o].length;r++)s.push(r+1);else for(var n=0;n<e.series[e.maxValsInArrayIndex].length;n++)s.push(n+1);e.seriesX=[];for(var l=0;l<t.length;l++)e.seriesX.push(s);e.isXNumeric=!0}if(0===s.length){s=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var c=0;c<t.length;c++)e.seriesX.push(s)}e.labels=s,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=s.map((function(t){return i.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,s=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),"bar"===i.chart.type&&i.chart.stacked){var a=new j(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(s.labels),r=0;r<o.length;r++)if(Array.isArray(o[r])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(i,s){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return i.index}))}}]),t}(),H=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return c(t,[{key:"xLabelFormat",value:function(t,e,i,s){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var o=new F(this.ctx);return o.formatDate(o.getDate(e),a.config.tooltip.x.format)}return t(e,i,s)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,i){var s=this.w;return x.isNumber(t)&&(t=0!==s.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:s.globals.yValueDecimal):s.globals.maxYArr[i]-s.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},void 0!==e.config.xaxis.labels.formatter?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(t){if(x.isNumber(t)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(x.isNumber(e.config.xaxis.decimalsInFloat))return t.toFixed(e.config.xaxis.decimalsInFloat);var i=e.globals.maxX-e.globals.minX;return i>0&&i<100?t.toFixed(1):t.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?t.toFixed(1):t.toFixed(0)}return t},"function"==typeof e.config.tooltip.x.formatter?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,s){void 0!==i.labels.formatter?e.globals.yLabelFormatters[s]=i.labels.formatter:e.globals.yLabelFormatters[s]=function(a){return e.globals.xyCharts?Array.isArray(a)?a.map((function(e){return t.defaultYFormatter(e,i,s)})):t.defaultYFormatter(a,i,s):a}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),X=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getLabel",value:function(t,e,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],n=this.w,l=void 0===t[s]?"":t[s],c=l,d=n.globals.xLabelFormatter,h=n.config.xaxis.labels.formatter,u=!1,p=new H(this.ctx),m=l;r&&(c=p.xLabelFormat(d,l,m,{i:s,dateFormatter:new F(this.ctx).formatDate,w:n}),void 0!==h&&(c=h(l,t[s],{i:s,dateFormatter:new F(this.ctx).formatDate,w:n})));var f=function(t){var i=null;return e.forEach((function(t){"month"===t.unit?i="year":"day"===t.unit?i="month":"hour"===t.unit?i="day":"minute"===t.unit&&(i="hour")})),i===t};e.length>0?(u=f(e[s].unit),i=e[s].position,c=e[s].value):"datetime"===n.config.xaxis.type&&void 0===h&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();var g=new C(this.ctx),v={};v=n.globals.rotateXLabels&&r?g.getTextRects(c,parseInt(o,10),null,"rotate(".concat(n.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(c,parseInt(o,10));var y=!n.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||c.toLowerCase().indexOf("infinity")>=0||a.indexOf(c)>=0&&y)&&(c=""),{x:i,text:c,textRect:v,isBold:u}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var s=this.w,a=s.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(s.globals.gridWidth/120)),a>i||t%Math.round(i/(a+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,s,a){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var r=a[a.length-1];e.x<r.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+r.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new S(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,s,a,o,r){var n=this.w,l=new C(this.ctx),c=n.globals.translateY;if(s.show&&e>0){!0===n.config.yaxis[a].opposite&&(t+=s.width);for(var d=e;d>=0;d--){var h=c+e/10+n.config.yaxis[a].labels.offsetY-1;n.globals.isBarHorizontal&&(h=o*d),"heatmap"===n.config.chart.type&&(h+=o/2);var u=l.drawLine(t+i.offsetX-s.width+s.offsetX,h+s.offsetY,t+i.offsetX+s.offsetX,h+s.offsetY,s.color);r.add(u),c+=o}}}}]),t}(),Y=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),s=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",s*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"fixSvgStringForIe11",value:function(t){if(!x.isIE11())return t.replace(/&nbsp;/g,"&#160;");var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2===++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':t}));return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(t){null==t&&(t=1);var e=this.w.globals.dom.Paper.svg();if(1!==t){var i=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(i,t),e=(new XMLSerializer).serializeToString(i)}return this.fixSvgStringForIe11(e)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(t){var e=this;return new Promise((function(i){var s=e.w,a=t?t.scale||t.width/s.globals.svgWidth:1;e.cleanup();var o=document.createElement("canvas");o.width=s.globals.svgWidth*a,o.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var r="transparent"===s.config.chart.background?"#fff":s.config.chart.background,n=o.getContext("2d");n.fillStyle=r,n.fillRect(0,0,o.width*a,o.height*a);var l=e.getSvgString(a);if(window.canvg&&x.isIE11()){var c=window.canvg.Canvg.fromString(n,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var d=o.msToBlob();c.stop(),i({blob:d})}else{var h="data:image/svg+xml,"+encodeURIComponent(l),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(n.drawImage(u,0,0),o.msToBlob){var t=o.msToBlob();i({blob:t})}else{var e=o.toDataURL("image/png");i({imgURI:e})}},u.src=h}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var i=e.imgURI,s=e.blob;s?navigator.msSaveOrOpenBlob(s,t.w.globals.chartID+".png"):t.triggerDownload(i,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,s=t.fileName,a=t.columnDelimiter,o=void 0===a?",":a,r=t.lineDelimiter,n=void 0===r?"\n":r,l=this.w;i||(i=l.config.series);var c=[],d=[],h="",u=l.globals.series.map((function(t,e){return-1===l.globals.collapsedSeriesIndices.indexOf(e)?t:[]})),p=Math.max.apply(Math,v(i.map((function(t){return t.data?t.data.length:0})))),m=new W(this.ctx),f=new X(this.ctx),g=function(t){var i="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var s=l.globals.yLabelFormatters[0],a=new j(e.ctx).getActiveConfigSeriesIndex();i=s(l.globals.labels[t],{seriesIndex:a,dataPointIndex:t,w:l})}else i=f.getLabel(l.globals.labels,l.globals.timescaleLabels,0,t).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?i=l.config.xaxis.categories[t]:l.config.labels.length&&(i=l.config.labels[t]))}else i=l.config.labels[t];return Array.isArray(i)&&(i=i.join(" ")),x.isNumber(i)?i:i.split(o).join("")},y=function(t,e){if(c.length&&0===e&&d.push(c.join(o)),t.data){t.data=t.data.length&&t.data||v(Array(p)).map((function(){return""}));for(var s=0;s<t.data.length;s++){c=[];var a=g(s);if(a||(m.isFormatXY()?a=i[e].data[s].x:m.isFormat2DArray()&&(a=i[e].data[s]?i[e].data[s][0]:"")),0===e){c.push((n=a,"datetime"===l.config.xaxis.type&&String(n).length>=10?l.config.chart.toolbar.export.csv.dateFormatter(a):x.isNumber(a)?a:a.split(o).join("")));for(var r=0;r<l.globals.series.length;r++)m.isFormatXY()?c.push(i[r].data[s].y):c.push(u[r][s])}("candlestick"===l.config.chart.type||t.type&&"candlestick"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),("boxPlot"===l.config.chart.type||t.type&&"boxPlot"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][s]),c.push(l.globals.seriesCandleH[e][s]),c.push(l.globals.seriesCandleM[e][s]),c.push(l.globals.seriesCandleL[e][s]),c.push(l.globals.seriesCandleC[e][s])),"rangeBar"===l.config.chart.type&&(c.pop(),c.push(l.globals.seriesRangeStart[e][s]),c.push(l.globals.seriesRangeEnd[e][s])),c.length&&d.push(c.join(o))}}var n};c.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(c.push("minimum"),c.push("q1"),c.push("median"),c.push("q3"),c.push("maximum")):"candlestick"===l.config.chart.type?(c.push("open"),c.push("high"),c.push("low"),c.push("close")):"rangeBar"===l.config.chart.type?(c.push("minimum"),c.push("maximum")):i.map((function(t,e){var i=t.name?t.name:"series-".concat(e);l.globals.axisCharts&&c.push(i.split(o).join("")?i.split(o).join(""):"series-".concat(e))})),l.globals.axisCharts||(c.push(l.config.chart.toolbar.export.csv.headerValue),d.push(c.join(o))),i.map((function(t,e){l.globals.axisCharts?y(t,e):((c=[]).push(l.globals.labels[e].split(o).join("")),c.push(u[e]),d.push(c.join(o)))})),h+=d.join(n),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+h),s||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var s=document.createElement("a");s.href=t,s.download=(e||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),t}(),G=function(){function t(e,i){n(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.axesUtils=new X(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===s.config.xaxis.position?this.offY=0:this.offY=s.globals.gridHeight+1,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return c(t,[{key:"drawXaxis",value:function(){var t=this.w,e=new C(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),s=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(s);for(var a=[],o=0;o<this.xaxisLabels.length;o++)a.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,s,a,t.globals.isXNumeric,(function(t,e){return e})),t.globals.hasGroups){var r=t.globals.groups;a=[];for(var n=0;n<r.length;n++)a.push(r[n].title);var l={};t.config.xaxis.group.style&&(l.xaxisFontSize=t.config.xaxis.group.style.fontSize,l.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,l.xaxisForeColors=t.config.xaxis.group.style.colors,l.fontWeight=t.config.xaxis.group.style.fontWeight,l.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,s,a,!1,(function(t,e){return r[t].cols*e}),l)}if(void 0!==t.config.xaxis.title.text){var c=e.group({class:"apexcharts-xaxis-title"}),d=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.title.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});c.add(d),i.add(c)}if(t.config.xaxis.axisBorder.show){var h=t.globals.barPadForNumericAxis,u=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-h,this.offY,this.xaxisBorderWidth+h,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(u):i.add(u)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,s,a,o){var r,n=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],d=[],h=this.w,u=l.xaxisFontSize||this.xaxisFontSize,p=l.xaxisFontFamily||this.xaxisFontFamily,m=l.xaxisForeColors||this.xaxisForeColors,f=l.fontWeight||h.config.xaxis.labels.style.fontWeight,g=l.cssClass||h.config.xaxis.labels.style.cssClass,v=h.globals.padHorizontal,y=s.length,b="category"===h.config.xaxis.type?h.globals.dataPoints:y;if(0===b&&y>b&&(b=y),a){var x=b>1?b-1:b;r=h.globals.gridWidth/x,v=v+o(0,r)/2+h.config.xaxis.labels.offsetX}else r=h.globals.gridWidth/b,v=v+o(0,r)+h.config.xaxis.labels.offsetX;for(var w=function(a){var l=v-o(a,r)/2+h.config.xaxis.labels.offsetX;0===a&&1===y&&r/2===v&&1===b&&(l=h.globals.gridWidth/2);var x=n.axesUtils.getLabel(s,h.globals.timescaleLabels,l,a,c,u,t),w=28;if(h.globals.rotateXLabels&&t&&(w=22),h.config.xaxis.title.text&&"top"===h.config.xaxis.position&&(w+=parseFloat(h.config.xaxis.title.style.fontSize)+2),t||(w=w+parseFloat(u)+(h.globals.xAxisLabelsHeight-h.globals.xAxisGroupLabelsHeight)+(h.globals.rotateXLabels?10:0)),x=void 0!==h.config.xaxis.tickAmount&&"dataPoints"!==h.config.xaxis.tickAmount&&"datetime"!==h.config.xaxis.type?n.axesUtils.checkLabelBasedOnTickamount(a,x,y):n.axesUtils.checkForOverflowingLabels(a,x,y,c,d),t&&x.text&&h.globals.xaxisLabelsCount++,h.config.xaxis.labels.show){var k=e.drawText({x:x.x,y:n.offY+h.config.xaxis.labels.offsetY+w-("top"===h.config.xaxis.position?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:x.text,textAnchor:"middle",fontWeight:x.isBold?600:f,fontSize:u,fontFamily:p,foreColor:Array.isArray(m)?t&&h.config.xaxis.convertedCatToNumeric?m[h.globals.minX+a-1]:m[a]:m,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(i.add(k),k.on("click",(function(t){if("function"==typeof h.config.chart.events.xAxisLabelClick){var e=Object.assign({},h,{labelIndex:a});h.config.chart.events.xAxisLabelClick(t,n.ctx,e)}})),t){var C=document.createElementNS(h.globals.SVGNS,"title");C.textContent=Array.isArray(x.text)?x.text.join(" "):x.text,k.node.appendChild(C),""!==x.text&&(c.push(x.text),d.push(x))}}a<y-1&&(v+=o(a+1,r))},k=0;k<=y-1;k++)w(k)}},{key:"drawXaxisInversed",value:function(t){var e,i,s=this,a=this.w,o=new C(this.ctx),r=a.config.yaxis[0].opposite?a.globals.translateYAxisX[t]:0,n=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),l=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+r+", 0)"});n.add(l);var c=[];if(a.config.yaxis[t].show)for(var d=0;d<this.xaxisLabels.length;d++)c.push(this.xaxisLabels[d]);e=a.globals.gridHeight/c.length,i=-e/2.2;var h=a.globals.yLabelFormatters[0],u=a.config.yaxis[0].labels;if(u.show)for(var p=function(r){var n=void 0===c[r]?"":c[r];n=h(n,{seriesIndex:t,dataPointIndex:r,w:a});var d=s.axesUtils.getYAxisForeColor(u.style.colors,t),p=0;Array.isArray(n)&&(p=n.length/2*parseInt(u.style.fontSize,10));var m=o.drawText({x:u.offsetX-15,y:i+e+u.offsetY-p,text:n,textAnchor:s.yaxis.opposite?"start":"end",foreColor:Array.isArray(d)?d[r]:d,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.style.cssClass,maxWidth:u.maxWidth});l.add(m),m.on("click",(function(t){if("function"==typeof a.config.chart.events.xAxisLabelClick){var e=Object.assign({},a,{labelIndex:r});a.config.chart.events.xAxisLabelClick(t,s.ctx,e)}}));var f=document.createElementNS(a.globals.SVGNS,"title");if(f.textContent=Array.isArray(n)?n.join(" "):n,m.node.appendChild(f),0!==a.config.yaxis[t].labels.rotate){var g=o.rotateAroundCenter(m.node);m.node.setAttribute("transform","rotate(".concat(a.config.yaxis[t].labels.rotate," 0 ").concat(g.y,")"))}i+=e},m=0;m<=c.length-1;m++)p(m);if(void 0!==a.config.yaxis[0].title.text){var f=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+r+", 0)"}),g=o.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});f.add(g),n.add(f)}var v=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(v=a.globals.gridWidth);var y=a.config.xaxis.axisBorder;if(y.show){var b=o.drawLine(a.globals.padHorizontal+y.offsetX+v,1+y.offsetY,a.globals.padHorizontal+y.offsetX+v,a.globals.gridHeight+y.offsetY,y.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(b):n.add(b)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,e,n),n}},{key:"drawXaxisTicks",value:function(t,e,i){var s=this.w,a=t;if(!(t<0||t-2>s.globals.gridWidth)){var o=this.offY+s.config.xaxis.axisTicks.offsetY;if(e=e+o+s.config.xaxis.axisTicks.height,"top"===s.config.xaxis.position&&(e=o-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var r=new C(this.ctx).drawLine(t+s.config.xaxis.axisTicks.offsetX,o+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,e+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(r),r.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,s=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)s=this.xaxisLabels[a].position,e.push(s);else for(var o=i,r=0;r<o;r++){var n=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(n-=1),s+=t.globals.gridWidth/n,e.push(s)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new C(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var r=0;r<s.length;r++){var n=e.rotateAroundCenter(s[r]);n.y=n.y-1,n.x=n.x+1,s[r].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(n.x," ").concat(n.y,")")),s[r].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var l=s[r].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(i){e.placeTextWithEllipsis(i,i.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var i=t.globals.gridWidth/(t.globals.labels.length+1),a=0;a<s.length;a++){var o=s[a].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(o,(function(t){e.placeTextWithEllipsis(t,t.textContent,i)}))}}();if(a.length>0){var c=a[a.length-1].getBBox(),d=a[0].getBBox();c.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),d.x+d.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var h=0;h<o.length;h++)e.placeTextWithEllipsis(o[h],o[h].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),U=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new X(e),this.isRangeBar=i.globals.seriesRange.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return c(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new C(this.ctx);null===t&&(t=i.group({class:"apexcharts-grid"}));var s=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),a=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(a),t.add(s),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new C(this.ctx),s=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var a=0;t.config.stroke.width.forEach((function(t){a=Math.max(a,t)})),s=a}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elForecastMask.setAttribute("id","forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(e.cuid));var o=t.config.chart.type,r=0,n=0;("bar"===o||"rangeBar"===o||"candlestick"===o||"boxPlot"===o||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(r=t.config.grid.padding.left,n=t.config.grid.padding.right,e.barPadForNumericAxis>r&&(r=e.barPadForNumericAxis,n=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-s/2-r-2,-s/2,e.gridWidth+s+n+r+4,e.gridHeight+s,0,"#fff");var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elForecastMask),c.appendChild(e.dom.elNonForecastMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.xCount,n=t.parent,l=this.w;if(!(0===e&&l.globals.skipFirstTimelinelabel||e===r-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:s,x2:a,y2:o,xCount:r,parent:n});var c=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var h=0,u=0;h<e&&u<d.length;u++)h+=d[u].cols;h===e&&(c=.6*l.globals.xAxisLabelsHeight)}}new G(this.ctx).drawXaxisTicks(i,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.xCount,n=t.parent,l=this.w,c=!1,d=n.node.classList.contains("apexcharts-gridlines-horizontal"),h=l.config.grid.strokeDashArray,u=l.globals.barPadForNumericAxis;(0===s&&0===o||0===i&&0===a)&&(c=!0),s===l.globals.gridHeight&&o===l.globals.gridHeight&&(c=!0),!l.globals.isBarHorizontal||0!==e&&e!==r-1||(c=!0);var p=new C(this).drawLine(i-(d?u:0),s,a+(d?u:0),o,l.config.grid.borderColor,h);p.node.classList.add("apexcharts-gridline"),c?this.elGridBorders.add(p):n.add(p)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,s=t.y1,a=t.x2,o=t.y2,r=t.type,n=this.w,l=new C(this.ctx),c=n.globals.barPadForNumericAxis;if("column"!==r||"datetime"!==n.config.xaxis.type){var d=n.config.grid[r].colors[e],h=l.drawRect(i-("row"===r?c:0),s,a+("row"===r?2*c:0),o,0,d,n.config.grid[r].opacity);this.elg.add(h),h.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),h.node.classList.add("apexcharts-grid-".concat(r))}}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,s=t.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var o,r=a.globals.padHorizontal,n=a.globals.gridHeight;a.globals.timescaleLabels.length?function(t){for(var s=t.xC,a=t.x1,o=t.y1,r=t.x2,n=t.y2,l=0;l<s;l++)a=e.xaxisLabels[l].position,r=e.xaxisLabels[l].position,e._drawGridLines({i:l,x1:a,y1:o,x2:r,y2:n,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:r,y1:0,x2:o,y2:n}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),a.config.xaxis.convertedCatToNumeric&&(i=a.globals.xaxisLabelsCount),function(t){var s=t.xC,o=t.x1,r=t.y1,n=t.x2,l=t.y2;if(void 0!==a.config.xaxis.tickAmount&&"dataPoints"!==a.config.xaxis.tickAmount&&"on"===a.config.xaxis.tickPlacement)a.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(t,s){var a=t.getBBox();e._drawGridLines({i:s,x1:a.x+a.width/2,y1:r,x2:a.x+a.width/2,y2:l,xCount:i,parent:e.elgridLinesV})}));else for(var c=0;c<s+(a.globals.isXNumeric?0:1);c++)0===c&&1===s&&1===a.globals.dataPoints&&(n=o=a.globals.gridWidth/2),e._drawGridLines({i:c,x1:o,y1:r,x2:n,y2:l,xCount:i,parent:e.elgridLinesV}),n=o+=a.globals.gridWidth/(a.globals.isXNumeric?s-1:s)}({xC:i,x1:r,y1:0,x2:o,y2:n}))}if(a.config.grid.yaxis.lines.show){var l=0,c=0,d=a.globals.gridWidth,h=s+1;this.isRangeBar&&(h=a.globals.labels.length);for(var u=0;u<h+(this.isRangeBar?1:0);u++)this._drawGridLine({i:u,xCount:h+(this.isRangeBar?1:0),x1:0,y1:l,x2:d,y2:c,parent:this.elgridLinesH}),c=l+=a.globals.gridHeight/(this.isRangeBar?h:s)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,a=i.globals.padHorizontal,o=i.globals.gridHeight,r=0;r<e+1;r++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,xCount:e+1,x1:a,y1:0,x2:s,y2:o,parent:this.elgridLinesV}),new G(this.ctx).drawXaxisTicks(a,0,i.globals.dom.elGraphical),s=a=a+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var n=0,l=0,c=i.globals.gridWidth,d=0;d<i.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:i.globals.dataPoints+1,x1:0,y1:n,x2:c,y2:l,parent:this.elgridLinesH}),l=n+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new C(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=e.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i,s=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,a=0;a<t.globals.series.length&&(void 0!==t.globals.yAxisScale[a]&&(s=t.globals.yAxisScale[a].result.length-1),!(s>2));a++);return!t.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(s=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:s})):(i=s,s=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:s})),this.drawGridBands(i,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var s=0,a=i.globals.gridHeight/e,o=i.globals.gridWidth,r=0,n=0;r<e;r++,n++)n>=i.config.grid.row.colors.length&&(n=0),this._drawGridBandRect({c:n,x1:0,y1:s,x2:o,y2:a,type:"row"}),s+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,d=i.globals.padHorizontal+i.globals.gridWidth/l,h=i.globals.gridHeight,u=0,p=0;u<t;u++,p++)p>=i.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:c,y1:0,x2:d,y2:h,type:"column"}),c+=i.globals.gridWidth/l}}]),t}(),J=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"niceScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=this.w,r=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,s,r))&&(i=o.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!x.isNumber(t)&&!x.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){t=0,e=i;var n=this.linearScale(t,e,i);return n}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[];r<1&&a&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[s].type||"boxPlot"===o.config.chart.type||"boxPlot"===o.config.series[s].type||o.globals.isRangeData)&&(e*=1.01);var c=i+1;c<2?c=2:c>2&&(c-=2);var d=r/c,h=Math.floor(x.log10(d)),u=Math.pow(10,h),p=Math.round(d/u);p<1&&(p=1);var m=p*u,f=m*Math.floor(t/m),g=m*Math.ceil(e/m),v=f;if(a&&r>2){for(;l.push(v),!((v+=m)>g););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var y=t;(l=[]).push(y);for(var b=Math.abs(e-t)/i,w=0;w<=i;w++)y+=b,l.push(y);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3?arguments[3]:void 0,a=Math.abs(e-t);"dataPoints"===(i=this._adjustTicksForSmallRange(i,s,a))&&(i=this.w.globals.dataPoints-1);var o=a/i;i===Number.MAX_VALUE&&(i=10,o=1);for(var r=[],n=t;i>=0;)r.push(n),n+=o,i-=1;return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<a;o++)s.push(Math.pow(i,o));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),r=a-o,n=Math.round(r),l=r/n,c=0,d=o;c<n;c++,d+=l)s.push(Math.pow(i,d));return s.push(Math.pow(i,a)),{result:s,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var s=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var a=this.w.config.yaxis[e].labels.formatter(1);x.isNumber(Number(a))&&!x.isFloat(a)&&(s=Math.ceil(i))}return s<t?s:t}},{key:"setYScaleForIndex",value:function(t,e,i){var s=this.w.globals,a=this.w.config,o=s.isBarHorizontal?a.xaxis:a.yaxis[t];void 0===s.yAxisScale[t]&&(s.yAxisScale[t]=[]);var r=Math.abs(i-e);if(o.logarithmic&&r<=5&&(s.invalidLogScale=!0),o.logarithmic&&r>5)s.allSeriesCollapsed=!1,s.yAxisScale[t]=this.logarithmicScale(e,i,o.logBase),s.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase);else if(i!==-Number.MAX_VALUE&&x.isNumber(i))if(s.allSeriesCollapsed=!1,void 0===o.min&&void 0===o.max||o.forceNiceScale){var n=void 0===a.yaxis[t].max&&void 0===a.yaxis[t].min||a.yaxis[t].forceNiceScale;s.yAxisScale[t]=this.niceScale(e,i,o.tickAmount?o.tickAmount:r<5&&r>1?r+1:5,t,n)}else s.yAxisScale[t]=this.linearScale(e,i,o.tickAmount,t);else s.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,s=i.globals,a=i.config.xaxis,o=Math.abs(e-t);return e!==-Number.MAX_VALUE&&x.isNumber(e)?s.xAxisScale=this.linearScale(t,e,a.tickAmount?a.tickAmount:o<5&&o>1?o+1:5,0):s.xAxisScale=this.linearScale(0,5,5),s.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,i=this.w.config,s=e.minYArr.concat([]),a=e.maxYArr.concat([]),o=[];i.yaxis.forEach((function(e,r){var n=r;i.series.forEach((function(t,i){t.name===e.seriesName&&(n=i,r!==i?o.push({index:i,similarIndex:r,alreadyExists:!0}):o.push({index:i}))}));var l=s[n],c=a[n];t.setYScaleForIndex(r,l,c)})),this.sameScaleInMultipleAxes(s,a,o)}},{key:"sameScaleInMultipleAxes",value:function(t,e,i){var s=this,a=this.w.config,o=this.w.globals,r=[];i.forEach((function(t){t.alreadyExists&&(void 0===r[t.index]&&(r[t.index]=[]),r[t.index].push(t.index),r[t.index].push(t.similarIndex))})),o.yAxisSameScaleIndices=r,r.forEach((function(t,e){r.forEach((function(i,s){var a,o;e!==s&&(a=t,o=i,a.filter((function(t){return-1!==o.indexOf(t)}))).length>0&&(r[e]=r[e].concat(r[s]))}))}));var n=r.map((function(t){return t.filter((function(e,i){return t.indexOf(e)===i}))})).map((function(t){return t.sort()}));r=r.filter((function(t){return!!t}));var l=n.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var d=[],h=[];t.forEach((function(t,i){l.forEach((function(s,a){s.indexOf(i)>-1&&(void 0===d[a]&&(d[a]=[],h[a]=[]),d[a].push({key:i,value:t}),h[a].push({key:i,value:e[i]}))}))}));var u=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);d.forEach((function(t,e){t.forEach((function(t,i){u[e]=Math.min(t.value,u[e])}))})),h.forEach((function(t,e){t.forEach((function(t,i){p[e]=Math.max(t.value,p[e])}))})),t.forEach((function(t,e){h.forEach((function(t,i){var r=u[i],n=p[i];a.chart.stacked&&(n=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(n+=t.value),r!==Number.MIN_VALUE&&(r+=d[i][e].value)}))),t.forEach((function(i,l){t[l].key===e&&(void 0!==a.yaxis[e].min&&(r="function"==typeof a.yaxis[e].min?a.yaxis[e].min(o.minY):a.yaxis[e].min),void 0!==a.yaxis[e].max&&(n="function"==typeof a.yaxis[e].max?a.yaxis[e].max(o.maxY):a.yaxis[e].max),s.setYScaleForIndex(e,r,n))}))}))}))}},{key:"autoScaleY",value:function(t,e,i){t||(t=this);var s=t.w;if(s.globals.isMultipleYAxis||s.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var a=s.globals.seriesX[0],o=s.config.chart.stacked;return e.forEach((function(t,r){for(var n=0,l=0;l<a.length;l++)if(a[l]>=i.xaxis.min){n=l;break}var c,d,h=s.globals.minYArr[r],u=s.globals.maxYArr[r],p=s.globals.stackedSeriesTotals;s.globals.series.forEach((function(r,l){var m=r[n];o?(m=p[n],c=d=m,p.forEach((function(t,e){a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min&&(t>d&&null!==t&&(d=t),r[e]<c&&null!==r[e]&&(c=r[e]))}))):(c=d=m,r.forEach((function(t,e){if(a[e]<=i.xaxis.max&&a[e]>=i.xaxis.min){var o=t,r=t;s.globals.series.forEach((function(i,s){null!==t&&(o=Math.min(i[e],o),r=Math.max(i[e],r))})),r>d&&null!==r&&(d=r),o<c&&null!==o&&(c=o)}}))),void 0===c&&void 0===d&&(c=h,d=u),d*=d<0?.9:1.1,0===(c*=c<0?1.1:.9)&&0===d&&(c=-1,d=1),d<0&&d<u&&(d=u),c<0&&c>h&&(c=h),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?d:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?d:t.max)}))})),e}}]),t}(),K=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.scales=new J(e)}return c(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,o=this.w.globals,r=-Number.MAX_VALUE,n=Number.MIN_VALUE;null===s&&(s=t+1);var l=o.series,c=l,d=l;"candlestick"===a.chart.type?(c=o.seriesCandleL,d=o.seriesCandleH):"boxPlot"===a.chart.type?(c=o.seriesCandleO,d=o.seriesCandleC):o.isRangeData&&(c=o.seriesRangeStart,d=o.seriesRangeEnd);for(var h=t;h<s;h++){o.dataPoints=Math.max(o.dataPoints,l[h].length),o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(t){return void 0!==t})).length);for(var u=0;u<o.series[h].length;u++){var p=l[h][u];null!==p&&x.isNumber(p)?(void 0!==d[h][u]&&(r=Math.max(r,d[h][u]),e=Math.min(e,d[h][u])),void 0!==c[h][u]&&(e=Math.min(e,c[h][u]),i=Math.max(i,c[h][u])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==o.seriesCandleC[h][u]&&(r=Math.max(r,o.seriesCandleO[h][u]),r=Math.max(r,o.seriesCandleH[h][u]),r=Math.max(r,o.seriesCandleL[h][u]),r=Math.max(r,o.seriesCandleC[h][u]),"boxPlot"===this.w.config.chart.type&&(r=Math.max(r,o.seriesCandleM[h][u]))),!a.series[h].type||"candlestick"===a.series[h].type&&"boxPlot"===a.series[h].type&&"rangeArea"===a.series[h].type&&"rangeBar"===a.series[h].type||(r=Math.max(r,o.series[h][u]),e=Math.min(e,o.series[h][u])),i=r),o.seriesGoals[h]&&o.seriesGoals[h][u]&&Array.isArray(o.seriesGoals[h][u])&&o.seriesGoals[h][u].forEach((function(t){n!==Number.MIN_VALUE&&(n=Math.min(n,t.value),e=n),r=Math.max(r,t.value),i=r})),x.isFloat(p)&&(p=x.noExponents(p),o.yValueDecimal=Math.max(o.yValueDecimal,p.toString().split(".")[1].length)),n>c[h][u]&&c[h][u]<0&&(n=c[h][u])):o.hasNullValues=!0}}return"rangeBar"===a.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(n=e),"bar"===a.chart.type&&(n<0&&r<0&&(r=0),n===Number.MIN_VALUE&&(n=0)),{minY:n,maxY:r,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var s=0;s<t.series.length;s++){var a=this.getMinYMaxY(s,i,null,s+1);t.minYArr.push(a.minY),t.maxYArr.push(a.maxY),i=a.lowestY}var o=this.getMinYMaxY(0,i,null,t.series.length);if(t.minY=o.minY,t.maxY=o.maxY,i=o.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==t.maxY){var r=t.maxY-i;(i>=0&&i<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(r=0),t.minY=i-5*r/100,i>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*r/100}return e.yaxis.forEach((function(e,i){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[i]=e.max:"function"==typeof e.max&&(t.maxYArr[i]=e.max(t.isMultipleYAxis?t.maxYArr[i]:t.maxY)),t.maxY=t.maxYArr[i]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[i]=e.min:"function"==typeof e.min&&(t.minYArr[i]=e.min(t.isMultipleYAxis?t.minYArr[i]===Number.MIN_VALUE?0:t.minYArr[i]:t.minY)),t.minY=t.minYArr[i])})),t.isBarHorizontal&&["min","max"].forEach((function(i){void 0!==e.xaxis[i]&&"number"==typeof e.xaxis[i]&&("min"===i?t.minY=e.xaxis[i]:t.maxY=e.xaxis[i])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=i,t.yAxisScale.forEach((function(e,i){t.minYArr[i]=e.niceMin,t.maxYArr[i]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var i=0;i<t.labels[e].length;i++)null!==t.labels[e][i]&&x.isNumber(t.labels[e][i])&&(t.maxX=Math.max(t.maxX,t.labels[e][i]),t.initialMaxX=Math.max(t.maxX,t.labels[e][i]),t.minX=Math.min(t.minX,t.labels[e][i]),t.initialMinX=Math.min(t.minX,t.labels[e][i]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var s;if(void 0===e.xaxis.tickAmount?(s=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(s=t.dataPoints-1),s>t.dataPoints&&0!==t.dataPoints&&(s=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(s=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(s=t.maxX-t.minX-1)):s=e.xaxis.tickAmount,t.xTickAmount=s,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var a=[],o=t.minX-1;o<t.maxX;o++)a.push(o+1);t.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,s,s),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,s-1),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&x.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new F(this.ctx);if("datetime"===e.xaxis.type){var s=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),t.minX=new Date(s).getTime();var a=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),t.maxX=new Date(a).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var s=e.slice();s.sort((function(t,e){return t-e})),s.forEach((function(e,i){if(i>0){var a=e-s[i-1];a>0&&(t.minXDiff=Math.min(a,t.minXDiff))}})),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++)for(var a=0,o=0,r=0;r<t.series.length;r++)null!==t.series[r][s]&&x.isNumber(t.series[r][s])&&(t.series[r][s]>0?a=a+parseFloat(t.series[r][s])+1e-4:o+=parseFloat(t.series[r][s])),r===t.series.length-1&&(e.push(a),i.push(o));for(var n=0;n<e.length;n++)t.maxY=Math.max(t.maxY,e[n]),t.minY=Math.min(t.minY,i[n])}}]),t}(),Z=function(){function t(e,i){n(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===s.config.xaxis.position&&(this.xAxisoffX=s.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(e)}return c(t,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,s=new C(this.ctx),a=i.config.yaxis[t].labels.style,o=a.fontSize,r=a.fontFamily,n=a.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return l;var c=s.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var d=i.globals.yAxisScale[t].result.length-1,h=i.globals.gridHeight/d,u=i.globals.translateY,p=i.globals.yLabelFormatters[t],m=i.globals.yAxisScale[t].result.slice();m=this.axesUtils.checkForReversedLabels(t,m);var f="";if(i.config.yaxis[t].labels.show)for(var g=function(l){var g=m[l];g=p(g,l,i);var v=i.config.yaxis[t].labels.padding;i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(v*=-1);var y=e.axesUtils.getYAxisForeColor(a.colors,t),b=s.drawText({x:v,y:u+d/10+i.config.yaxis[t].labels.offsetY+1,text:g,textAnchor:i.config.yaxis[t].opposite?"start":"end",fontSize:o,fontFamily:r,fontWeight:n,maxWidth:i.config.yaxis[t].labels.maxWidth,foreColor:Array.isArray(y)?y[l]:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});l===d&&(f=b),c.add(b);var x=document.createElementNS(i.globals.SVGNS,"title");if(x.textContent=Array.isArray(g)?g.join(" "):g,b.node.appendChild(x),0!==i.config.yaxis[t].labels.rotate){var w=s.rotateAroundCenter(f.node),k=s.rotateAroundCenter(b.node);b.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(w.x," ").concat(k.y,")"))}u+=h},v=d;v>=0;v--)g(v);if(void 0!==i.config.yaxis[t].title.text){var y=s.group({class:"apexcharts-yaxis-title"}),b=0;i.config.yaxis[t].opposite&&(b=i.globals.translateYAxisX[t]);var x=s.drawText({x:b,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass});y.add(x),l.add(y)}var w=i.config.yaxis[t].axisBorder,k=31+w.offsetX;if(i.config.yaxis[t].opposite&&(k=-31-w.offsetX),w.show){var S=s.drawLine(k,i.globals.translateY+w.offsetY-2,k,i.globals.gridHeight+i.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(S)}return i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,d,w,i.config.yaxis[t].axisTicks,t,h,l),l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);var o=e.globals.yAxisScale[t].result.length-1,r=e.globals.gridWidth/o+.1,n=r+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),d=e.globals.timescaleLabels;d.length>0&&(this.xaxisLabels=d.slice(),o=(c=d.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var h=d.length;if(e.config.xaxis.labels.show)for(var u=h?0:o;h?u<h:u>=0;h?u++:u--){var p=c[u];p=l(p,u,e);var m=e.globals.gridWidth+e.globals.padHorizontal-(n-r+e.config.xaxis.labels.offsetX);if(d.length){var f=this.axesUtils.getLabel(c,d,m,u,this.drawnLabels,this.xaxisFontSize);m=f.x,p=f.text,this.drawnLabels.push(f.text),0===u&&e.globals.skipFirstTimelinelabel&&(p=""),u===c.length-1&&e.globals.skipLastTimelinelabel&&(p="")}var g=i.drawText({x:m,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});a.add(g),g.tspan(p);var v=document.createElementNS(e.globals.SVGNS,"title");v.textContent=p,g.node.appendChild(v),n+=r}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new C(this.ctx),s=e.config.xaxis.axisBorder;if(s.show){var a=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(a-=15);var o=i.drawLine(e.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(o):t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new C(this.ctx);if(void 0!==e.config.xaxis.title.text){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});s.add(a),t.add(s)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,s=new C(this.ctx),a={width:0,height:0},o={width:0,height:0},r=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==r&&(a=r.getBoundingClientRect());var n=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==n&&(o=n.getBoundingClientRect()),null!==n){var l=this.xPaddingForYAxisTitle(t,a,o,e);n.setAttribute("x",l.xPos-(e?10:0))}if(null!==n){var c=s.rotateAroundCenter(n);n.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,s){var a=this.w,o=0,r=0,n=10;return void 0===a.config.yaxis[t].title.text||t<0?{xPos:r,padd:0}:(s?(r=e.width+a.config.yaxis[t].title.offsetX+i.width/2+n/2,0===(o+=1)&&(r-=n/2)):(r=-1*e.width+a.config.yaxis[t].title.offsetX+n/2+i.width/2,a.globals.isBarHorizontal&&(n=25,r=-1*e.width-a.config.yaxis[t].title.offsetX-n)),{xPos:r,padd:n})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,s=0,a=0,o=18,r=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map((function(n,l){var c=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!n.show||n.floating||0===t[l].width,d=t[l].width+e[l].width;n.opposite?i.globals.isBarHorizontal?(a=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[l]=a-n.labels.offsetX):(a=i.globals.gridWidth+i.globals.translateX+r,c||(r=r+d+20),i.globals.translateYAxisX[l]=a-n.labels.offsetX+20):(s=i.globals.translateX-o,c||(o=o+d+20),i.globals.translateYAxisX[l]=s+n.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=x.listToArray(e)).forEach((function(e,i){var s=t.config.yaxis[i];if(s&&void 0!==s.labels.align){var a=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"));o=x.listToArray(o);var r=a.getBoundingClientRect();"left"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","start")})),s.opposite||a.setAttribute("transform","translate(-".concat(r.width,", 0)"))):"center"===s.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),a.setAttribute("transform","translate(".concat(r.width/2*(s.opposite?1:-1),", 0)"))):"right"===s.labels.align&&(o.forEach((function(t,e){t.setAttribute("text-anchor","end")})),s.opposite&&a.setAttribute("transform","translate(".concat(r.width,", 0)")))}}))}}]),t}(),Q=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.documentEvent=x.bind(this.documentEvent,this)}return c(t,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var s=i.globals.events[t].indexOf(e);-1!==s&&i.globals.events[t].splice(s,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var s=i.globals.events[t],a=s.length,o=0;o<a;o++)s[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,s=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){s.addEventListener(t,(function(t){var s=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,i,s):"mouseleave"===t.type||"touchleave"===t.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(t,i,s):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,i,s),i.ctx.events.fireEvent("click",[t,i,s]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){e.globals.dom.baseEl.addEventListener(i,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var s=e.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&s.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),tt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(e){return e.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=x.extend(P,i);this.w.globals.locale=s.options}}]),t}(),et=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawAxis",value:function(t,e){var i,s,a=this.w.globals,o=this.w.config,r=new G(this.ctx,e),n=new Z(this.ctx,e);a.axisCharts&&"radar"!==t&&(a.isBarHorizontal?(s=n.drawYaxisInversed(0),i=r.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(s)):(i=r.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map((function(t,e){-1===a.ignoreYAxisIndexes.indexOf(e)&&(s=n.drawYaxis(e),a.dom.Paper.add(s))}))))}}]),t}(),it=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new C(this.ctx),i=new k(this.ctx),s=t.config.xaxis.crosshairs.fill.gradient,a=t.config.xaxis.crosshairs.dropShadow,o=t.config.xaxis.crosshairs.fill.type,r=s.colorFrom,n=s.colorTo,l=s.opacityFrom,c=s.opacityTo,d=s.stops,h=a.enabled,u=a.left,p=a.top,m=a.blur,f=a.color,g=a.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===o&&(v=e.drawGradient("vertical",r,n,l,c,null,d,null));var y=e.drawRect();1===t.config.xaxis.crosshairs.width&&(y=e.drawLine());var b=t.globals.gridHeight;(!x.isNumber(b)||b<0)&&(b=0);var w=t.config.xaxis.crosshairs.width;(!x.isNumber(w)||w<0)&&(w=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:b,width:w,height:b,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),h&&(y=i.dropShadow(y,{left:u,top:p,blur:m,color:f,opacity:g})),t.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new C(this.ctx),i=t.config.yaxis[0].crosshairs,s=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var a=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(a)}var o=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),t}(),st=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,s=i.config;if(0!==s.responsive.length){var a=s.responsive.slice();a.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var o=new E({}),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a[0].breakpoint,r=window.innerWidth>0?window.innerWidth:screen.width;if(r>s){var n=S.extendArrayProps(o,i.globals.initialConfig,i);t=x.extend(n,t),t=x.extend(i.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<a.length;l++)r<a[l].breakpoint&&(t=S.extendArrayProps(o,a[l].options,i),t=x.extend(i.config,t),e.overrideResponsiveOptions(t))};if(t){var n=S.extendArrayProps(o,t,i);n=x.extend(i.config,n),r(n=x.extend(n,t))}else r({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new E(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),at=function(){function t(e){n(this,t),this.ctx=e,this.colors=[],this.w=e.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===i.config.chart.type&&i.config.plotOptions.treemap.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)}return c(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,i=new x;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(i,s){var a=e.config.colors[s];return a||(a=e.config.colors[0]),"function"==typeof a?(t.isColorFn=!0,a({value:e.globals.axisCharts?e.globals.series[s][0]?e.globals.series[s][0]:0:e.globals.series[s],seriesIndex:s,dataPointIndex:s,w:e})):a})))),e.globals.seriesColors.map((function(t,i){t&&(e.globals.colors[i]=t)})),e.config.theme.monochrome.enabled){var s=[],a=e.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=e.globals.series[0].length*e.globals.series.length);for(var o=e.config.theme.monochrome.color,r=1/(a/e.config.theme.monochrome.shadeIntensity),n=e.config.theme.monochrome.shadeTo,l=0,c=0;c<a;c++){var d=void 0;"dark"===n?(d=i.shadeColor(-1*l,o),l+=r):(d=i.shadeColor(l,o),l+=r),s.push(d)}e.globals.colors=s.slice()}var h=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(i){void 0===e.config[i].colors?e.globals[i].colors=t.isColorFn?e.config.colors:h:e.globals[i].colors=e.config[i].colors.slice(),t.pushExtraColors(e.globals[i].colors)})),void 0===e.config.dataLabels.style.colors?e.globals.dataLabels.style.colors=h:e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),void 0===e.config.plotOptions.radar.polygons.fill.colors?e.globals.radarPolygons.fill.colors=["dark"===e.config.theme.mode?"#424242":"none"]:e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),void 0===e.config.markers.colors?e.globals.markers.colors=h:e.globals.markers.colors=e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=e||s.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),t.length<a)for(var o=a-t.length,r=0;r<o;r++)t.push(t[r])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",s=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=s,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),t}(),ot=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,s=e.globals.svgWidth/2,a=i.offsetY,o="middle";if("left"===i.align?(s=10,o="start"):"right"===i.align&&(s=e.globals.svgWidth-10,o="end"),s+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var r=new C(this.ctx).drawText({x:s,y:a,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});r.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(r)}}}]),t}(),rt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,s=0,a="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!a){var r=o.getBoundingClientRect();i=r.width,s=e.globals.axisCharts?r.height+5:r.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},x.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var s=e.map((function(t,e){return Array.isArray(t)?t.length:1})),a=Math.max.apply(Math,v(s));i=e[s.indexOf(a)]}return i}}]),t}(),nt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();t={width:s.width,height:s.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var a=e.globals.xLabelFormatter,o=x.getLargestStringFromArr(i),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);e.globals.isBarHorizontal&&(r=o=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var n=new H(this.dCtx.ctx),l=o;o=n.xLabelFormat(a,o,l,{i:void 0,dateFormatter:new F(this.dCtx.ctx).formatDate,w:e}),r=n.xLabelFormat(a,r,l,{i:void 0,dateFormatter:new F(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(r=o="1");var c=new C(this.dCtx.ctx),d=c.getTextRects(o,e.config.xaxis.labels.style.fontSize),h=d;if(o!==r&&(h=c.getTextRects(r,e.config.xaxis.labels.style.fontSize)),(t={width:d.width>=h.width?d.width:h.width,height:d.height>=h.height?d.height:h.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var u=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};d=u(o),o!==r&&(h=u(r)),t.height=(d.height>h.height?d.height:h.height)/1.5,t.width=d.width>h.width?d.width:h.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasGroups)return{width:0,height:0};var i,s=(null===(t=e.config.xaxis.group.style)||void 0===t?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,a=e.globals.groups.map((function(t){return t.title})),o=x.getLargestStringFromArr(a),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,a),n=new C(this.dCtx.ctx),l=n.getTextRects(o,s),c=l;return o!==r&&(c=n.getTextRects(r,s)),i={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var s=new C(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=s.width,i=s.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(t){return t.value})),s=i.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new C(this.dCtx.ctx).getTextRects(s,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,s=i.globals,a=i.config,o=a.xaxis.type,r=t.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var n=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,l=function(t,n){(function(t){return-1!==s.collapsedSeriesIndices.indexOf(t)})(n)||function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var n=e.dCtx.timescaleLabels[0],l=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+r/1.75-e.dCtx.yAxisWidthRight,c=n.position-r/1.75+e.dCtx.yAxisWidthLeft,d="right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;l>s.svgWidth-s.translateX-d&&(s.skipLastTimelinelabel=!0),c<-(t.show&&!t.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:r/1.75)&&(s.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<r&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<r/2-e.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(e.dCtx.xPadRight=r/2+1)}(t)};a.yaxis.forEach((function(t,i){n?(e.dCtx.gridPad.left<r&&(e.dCtx.xPadLeft=r/2+1),e.dCtx.xPadRight=r/2+1):l(t,i)}))}}]),t}(),lt=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],s=10,a=new X(this.dCtx.ctx);return e.config.yaxis.map((function(o,r){var n=e.globals.yAxisScale[r],l=0;if(!a.isYAxisHidden(r)&&o.labels.show&&void 0!==o.labels.minWidth&&(l=o.labels.minWidth),!a.isYAxisHidden(r)&&o.labels.show&&n.result.length){var c=e.globals.yLabelFormatters[r],d=n.niceMin===Number.MIN_VALUE?0:n.niceMin,h=String(d).length>String(n.niceMax).length?d:n.niceMax,u=c(h,{seriesIndex:r,dataPointIndex:-1,w:e}),p=u;if(void 0!==u&&0!==u.length||(u=h),e.globals.isBarHorizontal){s=0;var m=e.globals.labels.slice();u=c(u=x.getLargestStringFromArr(m),{seriesIndex:r,dataPointIndex:-1,w:e}),p=t.dCtx.dimHelpers.getLargestStringFromMultiArr(u,m)}var f=new C(t.dCtx.ctx),g="rotate(".concat(o.labels.rotate," 0 0)"),v=f.getTextRects(u,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1),y=v;u!==p&&(y=f.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,g,!1)),i.push({width:(l>y.width||l>v.width?l:y.width>v.width?y.width:v.width)+s,height:y.height>v.height?y.height:v.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(e,s){if(e.show&&void 0!==e.title.text){var a=new C(t.dCtx.ctx),o="rotate(".concat(e.title.rotate," 0 0)"),r=a.getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,o,!1);i.push({width:r.width,height:r.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,s=0,a=t.globals.yAxisScale.length>1?10:0,o=new X(this.dCtx.ctx),r=function(r,n){var l=t.config.yaxis[n].floating,c=0;r.width>0&&!l?(c=r.width+a,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(n)&&(c=c-r.width-a)):c=l||o.isYAxisHidden(n)?0:5,t.config.yaxis[n].opposite?s+=c:i+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){r(t,e)})),t.globals.yTitleCoords.map((function(t,e){r(t,e)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,e}}]),t}(),ct=function(){function t(e){n(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=function(t){return"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t},s=e.config.chart.type,a=0,o=i(s)?e.config.series.length:1;if(e.globals.comboBarCount>0&&(o=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){i(t.type)&&(o-=1)})),e.config.chart.stacked&&(o=1),(i(s)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&o>0){var r,n,l=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);l<=3&&(l=e.globals.dataPoints),r=l/t,e.globals.minXDiff&&e.globals.minXDiff/r>0&&(n=e.globals.minXDiff/r),n>t/2&&(n/=2),(a=n/o*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),a=a/(o>1?1:1.5)+5,e.globals.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,s=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(i){void 0!==e.config[i].text?s+=e.config[i].margin:s+=t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||e.globals.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-a.height-o.height-s,i.translateY=i.translateY+a.height+o.height+s}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,s=new X(this.dCtx.ctx);i.config.yaxis.map((function(a,o){-1!==i.globals.ignoreYAxisIndexes.indexOf(o)||a.floating||s.isYAxisHidden(o)||(a.opposite&&(i.globals.translateX=i.globals.translateX-(e[o].width+t[o].width)-parseInt(i.config.yaxis[o].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),t}(),dt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rt(this),this.dimYAxis=new lt(this),this.dimXAxis=new nt(this),this.dimGrid=new ct(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(t,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(e){var i=g(e,2),s=i[0],a=i[1];t.gridPad[s]=Math.max(a,t.w.globals.markers.largestSize/1.5)})),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s+4:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,i){e.globals.yLabelsCoords.push({width:s[i].width,index:i}),e.globals.yTitleCoords.push({width:a[i].width,index:i})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),r=this.dimXAxis.getxAxisGroupLabelsCoords(),n=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,n,r),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-n.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var d=10;("radar"===e.config.chart.type||this.isSparkline)&&(l=0,c=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(l=0,c=0,d=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(o);var h=function(){i.translateX=l,i.gridHeight=i.svgHeight-t.lgRect.height-c-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-l};switch("top"===e.config.xaxis.position&&(d=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=d,h();break;case"top":i.translateY=this.lgRect.height+d,h();break;case"left":i.translateY=d,i.translateX=this.lgRect.width+l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l;break;case"right":i.translateY=d,i.translateX=l,i.gridHeight=i.svgHeight-c-12,i.gridWidth=i.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new Z(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,s=0;t.config.legend.show&&!t.config.legend.floating&&(s=20);var a="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",o=i.plotOptions[a].offsetY,r=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=o,void(e.translateX=r+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=o-10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+o+10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-s,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+this.lgRect.width+s;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-s-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var s=this.w,a=s.globals.hasGroups?2:1,o=i.height+t.height+e.height,r=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,n=s.globals.rotateXLabels?22:10,l=s.globals.rotateXLabels&&"bottom"===s.config.legend.position?10:0;this.xAxisHeight=o*r+a*n+l,this.xAxisWidth=t.width,this.xAxisHeight-e.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,d=0;s.config.yaxis.forEach((function(t){c+=t.labels.minWidth,d+=t.labels.maxWidth})),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),t}(),ht=function(){function t(e){n(this,t),this.w=e.w,this.lgCtx=e}return c(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,s=this.w;if(s.globals.axisCharts||"radialBar"===s.config.chart.type){s.globals.resized=!0;var a=null,o=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(a.getAttribute("rel"),10)-1),e?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){i.riseCollapsedSeries(t.cs,t.csi,o)})):this.hideSeries({seriesEl:a,realIndex:o})}else{var r=s.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),n=s.config.chart.type;if("pie"===n||"polarArea"===n||"donut"===n){var l=s.config.plotOptions.pie.donut.labels;new C(this.lgCtx.ctx).pathMouseDown(r.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(r.members[0].node,l)}r.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,s=this.w,a=x.clone(s.config.series);if(s.globals.axisCharts){var o=!1;if(s.config.yaxis[i]&&s.config.yaxis[i].show&&s.config.yaxis[i].showAlways&&(o=!0,s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(s.globals.ancillaryCollapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.ancillaryCollapsedSeriesIndices.push(i))),!o){s.globals.collapsedSeries.push({index:i,data:a[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),s.globals.collapsedSeriesIndices.push(i);var r=s.globals.risingSeries.indexOf(i);s.globals.risingSeries.splice(r,1)}}else s.globals.collapsedSeries.push({index:i,data:a[i]}),s.globals.collapsedSeriesIndices.push(i);for(var n=e.childNodes,l=0;l<n.length;l++)n[l].classList.contains("apexcharts-series-markers-wrap")&&(n[l].classList.contains("apexcharts-hide")?n[l].classList.remove("apexcharts-hide"):n[l].classList.add("apexcharts-hide"));s.globals.allSeriesCollapsed=s.globals.collapsedSeries.length===s.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var s=this.w,a=x.clone(s.config.series);if(t.length>0){for(var o=0;o<t.length;o++)t[o].index===i&&(s.globals.axisCharts?(a[i].data=t[o].data.slice(),t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)):(a[i]=t[o].data,t.splice(o,1),e.splice(o,1),s.globals.risingSeries.push(i)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w;return e.globals.axisCharts?t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s].data=[])})):t.forEach((function(i,s){e.globals.collapsedSeriesIndices.indexOf(s)>-1&&(t[s]=0)})),t}}]),t}(),ut=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ht(this)}return c(t,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),x.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,s=e.globals.seriesNames,a=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var o=e.config.plotOptions.heatmap.colorScale.ranges;s=o.map((function(t){return t.name?t.name:t.from+" - "+t.to})),a=o.map((function(t){return t.color}))}else this.isBarsDistributed&&(s=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(s=e.config.legend.customLegendItems);for(var r=e.globals.legendFormatter,n=e.config.legend.inverseOrder,l=n?s.length-1:0;n?l>=0:l<=s.length-1;n?l--:l++){var c=r(s[l],{seriesIndex:l,w:e}),d=!1,h=!1;if(e.globals.collapsedSeries.length>0)for(var u=0;u<e.globals.collapsedSeries.length;u++)e.globals.collapsedSeries[u].index===l&&(d=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<e.globals.ancillaryCollapsedSeriesIndices.length;p++)e.globals.ancillaryCollapsedSeriesIndices[p]===l&&(h=!0);var m=document.createElement("span");m.classList.add("apexcharts-legend-marker");var f=e.config.legend.markers.offsetX,g=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,y=e.config.legend.markers.width,b=e.config.legend.markers.strokeWidth,w=e.config.legend.markers.strokeColor,k=e.config.legend.markers.radius,A=m.style;A.background=a[l],A.color=a[l],A.setProperty("background",a[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(A.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(A.background=e.globals.seriesColors[l],A.color=e.globals.seriesColors[l]),A.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",A.width=Array.isArray(y)?parseFloat(y[l])+"px":parseFloat(y)+"px",A.left=(Array.isArray(f)?parseFloat(f[l]):parseFloat(f))+"px",A.top=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",A.borderWidth=Array.isArray(b)?b[l]:b,A.borderColor=Array.isArray(w)?w[l]:w,A.borderRadius=Array.isArray(k)?parseFloat(k[l])+"px":parseFloat(k)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(m.innerHTML=e.config.legend.markers.customHTML[l]()):m.innerHTML=e.config.legend.markers.customHTML()),C.setAttrs(m,{rel:l+1,"data:collapsed":d||h}),(d||h)&&m.classList.add("apexcharts-inactive-legend");var I=document.createElement("div"),T=document.createElement("span");T.classList.add("apexcharts-legend-text"),T.innerHTML=Array.isArray(c)?c.join(" "):c;var L=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;L||(L=e.config.chart.foreColor),T.style.color=L,T.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",T.style.fontWeight=e.config.legend.fontWeight,T.style.fontFamily=i||e.config.chart.fontFamily,C.setAttrs(T,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":d||h}),I.appendChild(m),I.appendChild(T);var P=new S(this.ctx);e.config.legend.showForZeroSeries||0===P.getSeriesTotalByIndex(l)&&P.seriesHaveSameValues(l)&&!P.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&I.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||P.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&I.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(I),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),I.classList.add("apexcharts-legend-series"),I.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",C.setAttrs(I,{rel:l+1,seriesName:x.escapeString(s[l]),"data:collapsed":d||h}),(d||h)&&I.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||I.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,s=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),a=s.getBoundingClientRect(),o=0,r=0;if("bottom"===i.config.legend.position)r+=i.globals.svgHeight-a.height/2;else if("top"===i.config.legend.position){var n=new dt(this.ctx),l=n.dimHelpers.getTitleSubtitleCoords("title").height,c=n.dimHelpers.getTitleSubtitleCoords("subtitle").height;r=r+(l>0?l-10:0)+(c>0?c-10:0)}s.style.position="absolute",o=o+t+i.config.legend.offsetX,r=r+e+i.config.legend.offsetY,s.style.left=o+"px",s.style.top=r+"px","bottom"===i.config.legend.position?(s.style.top="auto",s.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(t){s.style[t]&&(s.style[t]=parseInt(i.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new dt(this.ctx),s=i.dimHelpers.getTitleSubtitleCoords("title"),a=i.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===t.config.legend.position?o=-e.clwh/1.8:"top"===t.config.legend.position&&(o=s.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var s=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new j(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new j(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,s="true"===t.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&t.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),t}(),pt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return c(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=e.config.chart.toolbar.offsetY+"px",s.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var o=[],r=function(i,s,a){var r=i.toLowerCase();t.t[r]&&e.config.chart.zoom.enabled&&o.push({el:s,icon:"string"==typeof t.t[r]?t.t[r]:a,title:t.localeValues[i],class:"apexcharts-".concat(r,"-icon")})};r("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),r("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var n=function(i){t.t[i]&&e.config.chart[i].enabled&&o.push({el:"zoom"===i?t.elZoom:t.elSelection,icon:"string"==typeof t.t[i]?t.t[i]:"zoom"===i?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===i?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(i,"-icon")})};n("zoom"),n("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),r("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)o.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});o.forEach((function(t,e){t.index&&x.moveIndexInArray(o,e,t.index)}));for(var c=0;c<o.length;c++)C.setAttrs(o[c].el,{class:o[c].class,title:o[c].title}),o[c].el.innerHTML=o[c].icon,s.appendChild(o[c].el);this._createHamburgerMenu(s),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),C.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,C.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,s="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[s]=!e.w.globals[s],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,s=(this.maxX+e)/2,a=this._getNewMinXMaxX(i,s);t.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),s=this.maxX-(e-this.maxX),a=this._getNewMinXMaxX(i,s);t.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var s={min:t,max:e},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var o={xaxis:s},r=x.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(r=new J(this.ctx).autoScaleY(this.ctx,r,{xaxis:s})),i.config.chart.group||(o.yaxis=r),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,r)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new Y(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(x.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(s,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),mt=function(t){h(i,pt);var e=f(i);function i(t){var s;return n(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.dragged=!1,s.graphics=new C(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s}return c(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,s=this.w,a=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.elGraphical.add(this.zoomRect),s.globals.dom.elGraphical.add(this.selectionRect),"x"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===s.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,a.svgMouseEvents.bind(a,i),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,s=this,a=this.ctx.toolbar,o=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,r=i.config.chart.toolbar.autoSelected;if(e.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar("pan"===r?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(r),this.shiftWasPressed=!1),e.target){var n,l=e.target.classList;if(e.target.parentNode&&null!==e.target.parentNode&&(n=e.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||n&&n.contains("apexcharts-toolbar"))){if(s.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,s.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var c=s.gridRect.getBoundingClientRect();s.startX=s.clientX-c.left,s.startY=s.clientY-c.top,s.dragged=!1,s.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(s.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,s.w.globals.mousedown&&s.panDragging({context:s,zoomtype:o,xyRatios:t})):(s.w.globals.mousedown&&i.globals.zoomEnabled||s.w.globals.mousedown&&i.globals.selectionEnabled)&&(s.selection=s.selectionDrawing({context:s,zoomtype:o}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var d=s.gridRect.getBoundingClientRect();s.w.globals.mousedown&&(s.endX=s.clientX-d.left,s.endY=s.clientY-d.top,s.dragX=Math.abs(s.endX-s.startX),s.dragY=Math.abs(s.endY-s.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&s.selectionDrawn({context:s,zoomtype:o}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&s.delayedPanScrolled()),i.globals.zoomEnabled&&s.hideSelectionRect(this.selectionRect),s.dragged=!1,s.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,s={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(s),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,s=t.width,a=t.height,o=t.translateX,r=void 0===o?0:o,n=t.translateY,l=void 0===n?0:n,c=this.w,d=this.zoomRect,h=this.selectionRect;if(this.dragged||null!==c.globals.selection){var u={transform:"translate("+r+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),d.attr({x:e,y:i,width:s,height:a,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),C.setAttrs(d.node,u)),c.globals.selectionEnabled&&(h.attr({x:e,y:i,width:s>0?s:0,height:a>0?a:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),C.setAttrs(h.node,u))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.gridRect.getBoundingClientRect(),r=a.startX-1,n=a.startY,l=!1,c=!1,d=a.clientX-o.left-r,h=a.clientY-o.top-n,u={};return Math.abs(d+r)>s.globals.gridWidth?d=s.globals.gridWidth-r:a.clientX-o.left<0&&(d=r),r>a.clientX-o.left&&(l=!0,d=Math.abs(d)),n>a.clientY-o.top&&(c=!0,h=Math.abs(h)),u="x"===i?{x:l?r-d:r,y:0,width:d,height:s.globals.gridHeight}:"y"===i?{x:0,y:c?n-h:n,width:s.globals.gridWidth,height:h}:{x:l?r-d:r,y:c?n-h:n,width:d,height:h},a.drawSelectionRect(u),a.selectionDragging("resizing"),u}},{key:"selectionDragging",value:function(t,e){var i=this,s=this.w,a=this.xyRatios,o=this.selectionRect,r=0;"resizing"===t&&(r=30);var n=function(t){return parseFloat(o.node.getAttribute(t))},l={x:n("x"),y:n("y"),width:n("width"),height:n("height")};s.globals.selection=l,"function"==typeof s.config.chart.events.selection&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=i.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect(),r={xaxis:{min:s.globals.xAxisScale.niceMin+(e.left-t.left)*a.xRatio,max:s.globals.xAxisScale.niceMin+(e.right-t.left)*a.xRatio},yaxis:{min:s.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*a.yRatio[0],max:s.globals.yAxisScale[0].niceMax-(e.top-t.top)*a.yRatio[0]}};s.config.chart.events.selection(i.ctx,r),s.config.chart.brush.enabled&&void 0!==s.config.chart.events.brushScrolled&&s.config.chart.events.brushScrolled(i.ctx,r)}),r))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,s=this.w,a=e,o=this.xyRatios,r=this.ctx.toolbar;if(a.startX>a.endX){var n=a.startX;a.startX=a.endX,a.endX=n}if(a.startY>a.endY){var l=a.startY;a.startY=a.endY,a.endY=l}var c=void 0,d=void 0;s.globals.isRangeBar?(c=s.globals.yAxisScale[0].niceMin+a.startX*o.invertedYRatio,d=s.globals.yAxisScale[0].niceMin+a.endX*o.invertedYRatio):(c=s.globals.xAxisScale.niceMin+a.startX*o.xRatio,d=s.globals.xAxisScale.niceMin+a.endX*o.xRatio);var h=[],u=[];if(s.config.yaxis.forEach((function(t,e){h.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.startY),u.push(s.globals.yAxisScale[e].niceMax-o.yRatio[e]*a.endY)})),a.dragged&&(a.dragX>10||a.dragY>10)&&c!==d)if(s.globals.zoomEnabled){var p=x.clone(s.globals.initialConfig.yaxis),m=x.clone(s.globals.initialConfig.xaxis);if(s.globals.zoomed=!0,s.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),d=Math.floor(d),c<1&&(c=1,d=s.globals.dataPoints),d-c<2&&(d=c+1)),"xy"!==i&&"x"!==i||(m={min:c,max:d}),"xy"!==i&&"y"!==i||p.forEach((function(t,e){p[e].min=u[e],p[e].max=h[e]})),s.config.chart.zoom.autoScaleYaxis){var f=new J(a.ctx);p=f.autoScaleY(a.ctx,p,{xaxis:m})}if(r){var g=r.getBeforeZoomRange(m,p);g&&(m=g.xaxis?g.xaxis:m,p=g.yaxis?g.yaxis:p)}var v={xaxis:m};s.config.chart.group||(v.yaxis=p),a.ctx.updateHelpers._updateOptions(v,!1,a.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof s.config.chart.events.zoomed&&r.zoomCallback(m,p)}else if(s.globals.selectionEnabled){var y,b=null;y={min:c,max:d},"xy"!==i&&"y"!==i||(b=x.clone(s.config.yaxis)).forEach((function(t,e){b[e].min=u[e],b[e].max=h[e]})),s.globals.selection=a.selection,"function"==typeof s.config.chart.events.selection&&s.config.chart.events.selection(a.ctx,{xaxis:y,yaxis:b})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,s=e;if(void 0!==i.globals.lastClientPosition.x){var a=i.globals.lastClientPosition.x-s.clientX,o=i.globals.lastClientPosition.y-s.clientY;Math.abs(a)>Math.abs(o)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(o)&&a<0?this.moveDirection="right":Math.abs(o)>Math.abs(a)&&o>0?this.moveDirection="up":Math.abs(o)>Math.abs(a)&&o<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:s.clientX,y:s.clientY};var r=i.globals.isRangeBar?i.globals.minY:i.globals.minX,n=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||s.panScrolled(r,n)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,s=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+s,i=t.globals.maxX+s):"right"===this.moveDirection&&(e=t.globals.minX-s,i=t.globals.maxX-s),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,s=this.xyRatios,a=x.clone(i.globals.initialConfig.yaxis),o=s.xRatio,r=i.globals.minX,n=i.globals.maxX;i.globals.isRangeBar&&(o=s.invertedYRatio,r=i.globals.minY,n=i.globals.maxY),"left"===this.moveDirection?(t=r+i.globals.gridWidth/15*o,e=n+i.globals.gridWidth/15*o):"right"===this.moveDirection&&(t=r-i.globals.gridWidth/15*o,e=n-i.globals.gridWidth/15*o),i.globals.isRangeBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=r,e=n);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(a=new J(this.ctx).autoScaleY(this.ctx,a,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=a),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var s=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof s.config.chart.events.scrolled&&s.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),ft=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return c(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,s=t.clientX,a=t.clientY,o=this.w,r=i.getBoundingClientRect(),n=r.width,l=r.height,c=n/(o.globals.dataPoints-1),d=l/o.globals.dataPoints,h=this.hasBars();!o.globals.comboCharts&&!h||o.config.xaxis.convertedCatToNumeric||(c=n/o.globals.dataPoints);var u=s-r.left-o.globals.barPadForNumericAxis,p=a-r.top;u<0||p<0||u>n||p>l?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var m=Math.round(u/c),f=Math.floor(p/d);h&&!o.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(u/c),m-=1);var g=null,v=null,y=[],b=[];if(o.globals.seriesXvalues.forEach((function(t){y.push([t[0]+1e-6].concat(t))})),o.globals.seriesYvalues.forEach((function(t){b.push([t[0]+1e-6].concat(t))})),y=y.map((function(t){return t.filter((function(t){return x.isNumber(t)}))})),b=b.map((function(t){return t.filter((function(t){return x.isNumber(t)}))})),o.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),k=u*(w.width/n),C=p*(w.height/l);g=(v=this.closestInMultiArray(k,C,y,b)).index,m=v.j,null!==g&&(y=o.globals.seriesXvalues[g],m=(v=this.closestInArray(k,y)).index)}return o.globals.capturedSeriesIndex=null===g?-1:g,(!m||m<1)&&(m=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=f:o.globals.capturedDataPointIndex=m,{capturedSeries:g,j:o.globals.isBarHorizontal?f:m,hoverX:u,hoverY:p}}},{key:"closestInMultiArray",value:function(t,e,i,s){var a=this.w,o=0,r=null,n=-1;a.globals.series.length>1?o=this.getFirstActiveXArray(i):r=0;var l=i[o][0],c=Math.abs(t-l);if(i.forEach((function(e){e.forEach((function(e,i){var s=Math.abs(t-e);s<c&&(c=s,n=i)}))})),-1!==n){var d=s[o][n],h=Math.abs(e-d);r=o,s.forEach((function(t,i){var s=Math.abs(e-t[n]);s<h&&(h=s,r=i)}))}return{index:r,j:n}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,s=t.map((function(t,e){return t.length>0?e:-1})),a=0;a<s.length;a++)if(-1!==s[a]&&-1===e.globals.collapsedSeriesIndices.indexOf(a)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){i=s[a];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],s=null,a=Math.abs(t-i),o=0;o<e.length;o++){var r=Math.abs(t-e[o]);r<a&&(a=r,s=o)}return{index:s}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(i.length>0)for(var s=0;s<i.length-1;s++)void 0!==i[s][t]&&void 0!==i[s+1][t]&&i[s][t]!==i[s+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return v(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=v(t)).sort((function(t,e){var i=Number(t.getAttribute("data:realIndex")),s=Number(e.getAttribute("data:realIndex"));return s<i?1:s>i?-1:0}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,a=0;a<s.length;a++)"enable"===t?(s[a].classList.add("apexcharts-active"),s[a].style.display=e.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),t}(),gt=function(){function t(e){n(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ft(e)}return c(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,s=t.ttItems,a=t.i,o=void 0===a?0:a,r=t.j,n=void 0===r?null:r,l=t.y1,c=t.y2,d=t.e,h=this.w;void 0!==h.config.tooltip.custom?this.handleCustomTooltip({i:o,j:n,y1:l,y2:c,w:h}):this.toggleActiveInactiveSeries(i);var u=this.getValuesToPrint({i:o,j:n});this.printLabels({i:o,j:n,values:u,ttItems:s,shared:i,e:d});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,s=t.i,a=t.j,r=t.values,n=t.ttItems,l=t.shared,c=t.e,d=this.w,h=[],u=function(t){return d.globals.seriesGoals[t]&&d.globals.seriesGoals[t][a]&&Array.isArray(d.globals.seriesGoals[t][a])},p=r.xVal,m=r.zVal,f=r.xAxisTTVal,g="",v=d.globals.colors[s];null!==a&&d.config.plotOptions.bar.distributed&&(v=d.globals.colors[a]);for(var y=function(t,r){var y=i.getFormatters(s);g=i.getSeriesName({fn:y.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),"treemap"===d.config.chart.type&&(g=y.yLbTitleFormatter(String(d.config.series[s].data[a].x),{series:d.globals.series,seriesIndex:s,dataPointIndex:a,w:d}));var b=d.config.tooltip.inverseOrder?r:t;if(d.globals.axisCharts){var x=function(t){return y.yLbFormatter(d.globals.series[t][a],{series:d.globals.series,seriesIndex:t,dataPointIndex:a,w:d})};if(l)y=i.getFormatters(b),g=i.getSeriesName({fn:y.yLbTitleFormatter,index:b,seriesIndex:s,j:a}),v=d.globals.colors[b],e=x(b),u(b)&&(h=d.globals.seriesGoals[b][a].map((function(t){return{attrs:t,val:y.yLbFormatter(t.value,{seriesIndex:b,dataPointIndex:a,w:d})}})));else{var w,k=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");k&&(v=-1!==k.indexOf("url")?document.querySelector(k.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):k),e=x(s),u(s)&&Array.isArray(d.globals.seriesGoals[s][a])&&(h=d.globals.seriesGoals[s][a].map((function(t){return{attrs:t,val:y.yLbFormatter(t.value,{seriesIndex:s,dataPointIndex:a,w:d})}})))}}null===a&&(e=y.yLbFormatter(d.globals.series[s],o(o({},d),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:b,j:a,ttItems:n,values:{val:e,goalVals:h,xVal:p,xAxisTTVal:f,zVal:m},seriesName:g,shared:l,pColor:v})},b=0,x=d.globals.series.length-1;b<d.globals.series.length;b++,x--)y(b,x)}},{key:"getFormatters",value:function(t){var e,i=this.w,s=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(s=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof s&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:s,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,s=t.seriesIndex,a=t.j,o=this.w;return e(String(o.globals.seriesNames[i]),{series:o.globals.series,seriesIndex:s,dataPointIndex:a,w:o})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,s=t.ttItems,a=t.values,o=t.seriesName,r=t.shared,n=t.pColor,l=this.w,c=this.ttCtx,d=a.val,h=a.goalVals,u=a.xVal,p=a.xAxisTTVal,m=a.zVal,f=null;f=s[e].children,l.config.tooltip.fillSeriesColor&&(s[e].style.backgroundColor=n,f[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=u),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==p?p:u);var g=s[e].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=o||"");var v=s[e].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==d?d:""),f[0]&&f[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(n=l.config.tooltip.marker.fillColors[e]),f[0].style.backgroundColor=n),l.config.tooltip.marker.show||(f[0].style.display="none");var y=s[e].querySelector(".apexcharts-tooltip-text-goals-label"),b=s[e].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&l.globals.seriesGoals[e]){var x=function(){var t="<div >",e="<div>";h.forEach((function(i,s){t+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(i.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(i.attrs.name,"</div>"),e+="<div>".concat(i.val,"</div>")})),y.innerHTML=t+"</div>",b.innerHTML=e+"</div>"};r?l.globals.seriesGoals[e][i]&&Array.isArray(l.globals.seriesGoals[e][i])?x():(y.innerHTML="",b.innerHTML=""):x()}else y.innerHTML="",b.innerHTML="";null!==m&&(s[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,s[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==m?m:""),r&&f[0]&&(null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||l.globals.collapsedSeriesIndices.indexOf(e)>-1?f[0].parentNode.style.display="none":f[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,s=this.w,a=this.ctx.series.filteredSeriesX(),o="",r="",n=null,l=null,c={series:s.globals.series,seriesIndex:e,dataPointIndex:i,w:s},d=s.globals.ttZFormatter;null===i?l=s.globals.series[e]:s.globals.isXNumeric&&"treemap"!==s.config.chart.type?(o=a[e][i],0===a[e].length&&(o=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):o=void 0!==s.globals.labels[i]?s.globals.labels[i]:"";var h=o;return o=s.globals.isXNumeric&&"datetime"===s.config.xaxis.type?new H(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new F(this.ctx).formatDate,w:this.w}):s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](h,c):s.globals.xLabelFormatter(h,c),void 0!==s.config.tooltip.x.formatter&&(o=s.globals.ttKeyFormatter(h,c)),s.globals.seriesZ.length>0&&s.globals.seriesZ[e].length>0&&(n=d(s.globals.seriesZ[e][i],s)),r="function"==typeof s.config.xaxis.tooltip.formatter?s.globals.xaxisTooltipFormatter(h,c):o,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(r)?r.join(" "):r,zVal:n}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,s=t.y1,a=t.y2,o=t.w,r=this.ttCtx.getElTooltip(),n=o.config.tooltip.custom;Array.isArray(n)&&n[e]&&(n=n[e]),r.innerHTML=n({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:i,y1:s,y2:a,w:o})}}]),t}(),vt=function(){function t(e){n(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return c(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,s=this.w,a=i.getElXCrosshairs(),o=t-i.xcrosshairsWidth/2,r=s.globals.labels.slice().length;if(null!==e&&(o=s.globals.gridWidth/r*e),null===a||s.globals.isBarHorizontal||(a.setAttribute("x",o),a.setAttribute("x1",o),a.setAttribute("x2",o),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),o<0&&(o=0),o>s.globals.gridWidth&&(o=s.globals.gridWidth),i.isXAxisTooltipEnabled){var n=o;"tickWidth"!==s.config.xaxis.crosshairs.width&&"barWidth"!==s.config.xaxis.crosshairs.width||(n=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(n)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&C.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&C.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var s,a=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,s=new C(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=s.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=a+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=e.globals.translateY+s,o=i.yaxisTTEls[t].getBoundingClientRect().height,r=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(r-=26),a-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=r+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this.w,a=this.ttCtx,o=a.getElTooltip(),r=a.tooltipRect,n=null!==i?parseFloat(i):1,l=parseFloat(t)+n+5,c=parseFloat(e)+n/2;if(l>s.globals.gridWidth/2&&(l=l-r.ttWidth-n-10),l>s.globals.gridWidth-r.ttWidth-10&&(l=s.globals.gridWidth-r.ttWidth),l<-20&&(l=-20),s.config.tooltip.followCursor){var d=a.getElGrid(),h=d.getBoundingClientRect();c=a.e.clientY+s.globals.translateY-h.top-r.ttHeight/2}else s.globals.isBarHorizontal||(r.ttHeight/2+c>s.globals.gridHeight&&(c=s.globals.gridHeight-r.ttHeight+s.globals.translateY),c<0&&(c=0));isNaN(l)||(l+=s.globals.translateX,o.style.left=l+"px",o.style.top=c+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[t]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<a.length;o++)parseInt(a[o].getAttribute("rel"),10)===e&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(e,a[o]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,s,a=this.w,o=this.ttCtx,r=a.globals.pointsArray,n=o.tooltipUtil.getHoverMarkerSize(e),l=a.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){i=r[e][t][0],s=r[e][t][1]?r[e][t][1]:0;var c=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&s<a.globals.gridHeight&&s>0&&(c.setAttribute("r",n),c.setAttribute("cx",i),c.setAttribute("cy",s)),this.moveXCrosshairs(i),o.fixedTooltip||this.moveTooltip(i,s,n)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,s=i.w,a=0,o=0,r=s.globals.pointsArray;e=new j(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var n=i.tooltipUtil.getHoverMarkerSize(e);r[e]&&(a=r[e][t][0],o=r[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<s.globals.series.length;c++){var d=r[c];if(s.globals.comboCharts&&void 0===d&&l.splice(c,0,null),d&&d.length){var h=r[c][t][1],u=void 0;if(l[c].setAttribute("cx",a),"rangeArea"===s.config.chart.type&&!s.globals.comboCharts){var p=t+s.globals.series[c].length;u=r[c][p][1],h-=Math.abs(h-u)/2}null!==h&&!isNaN(h)&&h<s.globals.gridHeight+n&&h+n>0?(l[c]&&l[c].setAttribute("r",n),l[c]&&l[c].setAttribute("cy",h)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(a),!i.fixedTooltip){var m=o||s.globals.gridHeight;this.moveTooltip(a,m,n)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e=this.w,i=this.ttCtx,s=e.globals.columnSeries?e.globals.columnSeries.length:e.globals.series.length,a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;e.globals.isBarHorizontal&&(a=new j(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"']")),r=o?parseFloat(o.getAttribute("cx")):0,n=o?parseFloat(o.getAttribute("cy")):0,l=o?parseFloat(o.getAttribute("barWidth")):0,c=o?parseFloat(o.getAttribute("barHeight")):0,d=i.getElGrid().getBoundingClientRect(),h=o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area");if(e.globals.isXNumeric?(o&&!h&&(r-=s%2!=0?l/2:0),o&&h&&e.globals.comboCharts&&(r-=l/2)):e.globals.isBarHorizontal||(r=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(r)&&(r=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2)),e.globals.isBarHorizontal?(n>e.globals.gridHeight/2&&(n-=i.tooltipRect.ttHeight),(n=n+e.config.grid.padding.top+c/3)+c>e.globals.gridHeight&&(n=e.globals.gridHeight-c)):e.config.tooltip.followCursor?n=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:n+i.tooltipRect.ttHeight+15>e.globals.gridHeight&&(n=e.globals.gridHeight),n<-10&&(n=-10),e.globals.isBarHorizontal||this.moveXCrosshairs(r),!i.fixedTooltip){var u=n||e.globals.gridHeight;this.moveTooltip(r,u)}}}]),t}(),yt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new vt(e)}return c(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new C(this.ctx),i=new z(this.ctx),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=v(s),t.config.chart.stacked&&s.sort((function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))}));for(var a=0;a<s.length;a++){var o=s[a].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var r=void 0,n="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(n+=" no-pointer-events");var l=i.getMarkerConfig({cssClass:n,seriesIndex:Number(o.getAttribute("data:realIndex"))});(r=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(r.node),o.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),r=e.getAttribute("cy");if(null!==i&&null!==s&&(o=i,r=s),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===a.config.chart.type){var n=this.ttCtx.getElGrid(),l=n.getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,r,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,s=this.ttCtx,a=t,o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=e.config.markers.hover.size,n=0;n<o.length;n++){var l=o[n].getAttribute("rel"),c=o[n].getAttribute("index");if(void 0===r&&(r=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),a===parseInt(l,10)){i.newPointSize(a,o[n]);var d=o[n].getAttribute("cx"),h=o[n].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(d),s.fixedTooltip||i.tooltipPosition.moveTooltip(d,h,r)}else i.oldPointSize(o[n])}}},{key:"newPointSize",value:function(t,e){var i=this.w,s=i.config.markers.hover.size,a=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var o=parseInt(a.getAttribute("index"),10);void 0===s&&(s=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),s<0&&(s=0),a.setAttribute("r",s)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));x.isNumber(i)&&i>=0?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),t}(),bt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,s=t.x,a=t.y,o=t.type,r=this.ttCtx,n=this.w;if(e.target.classList.contains("apexcharts-".concat(o,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),d=this.getAttr(e,"cx"),h=this.getAttr(e,"cy"),u=this.getAttr(e,"width"),p=this.getAttr(e,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),n.globals.capturedSeriesIndex=l,n.globals.capturedDataPointIndex=c,s=d+r.tooltipRect.ttWidth/2+u,a=h+r.tooltipRect.ttHeight/2-p/2,r.tooltipPosition.moveXCrosshairs(d+u/2),s>n.globals.gridWidth/2&&(s=d-r.tooltipRect.ttWidth/2+u),r.w.config.tooltip.followCursor){var m=n.globals.dom.elWrap.getBoundingClientRect();s=n.globals.clientX-m.left-(s>n.globals.gridWidth/2?r.tooltipRect.ttWidth:0),a=n.globals.clientY-m.top-(a>n.globals.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=t.x,r=t.y,n=this.w,l=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var c=parseInt(a.paths.getAttribute("cx"),10),d=parseInt(a.paths.getAttribute("cy"),10),h=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),e=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var u=x.findAncestor(a.paths,"apexcharts-series");u&&(e=parseInt(u.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:e,j:i,shared:!l.showOnIntersect&&n.config.tooltip.shared,e:s}),"mouseup"===s.type&&l.markerClick(s,e,i),n.globals.capturedSeriesIndex=e,n.globals.capturedDataPointIndex=i,o=c,r=d+n.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();r=l.e.clientY+n.globals.translateY-p.top}h<0&&(r=d),l.marker.enlargeCurrentPoint(i,a.paths,o,r)}return{x:o,y:r}}},{key:"handleBarTooltip",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,r=this.ttCtx,n=r.getElTooltip(),l=0,c=0,d=0,h=this.getBarTooltipXY({e:s,opt:a});e=h.i;var u=h.barHeight,p=h.j;o.globals.capturedSeriesIndex=e,o.globals.capturedDataPointIndex=p,o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||!o.config.tooltip.shared?(c=h.x,d=h.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,l=c):o.globals.comboCharts||o.config.tooltip.shared||(l/=2),isNaN(d)?d=o.globals.svgHeight-r.tooltipRect.ttHeight:d<0&&(d=0);var m=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),f=o.globals.isMultipleYAxis?o.config.yaxis[m]&&o.config.yaxis[m].reversed:o.config.yaxis[0].reversed;if(c+r.tooltipRect.ttWidth>o.globals.gridWidth&&!f?c-=r.tooltipRect.ttWidth:c<0&&(c=0),r.w.config.tooltip.followCursor){var g=r.getElGrid().getBoundingClientRect();d=r.e.clientY-g.top}null===r.tooltip&&(r.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?r.tooltipPosition.moveXCrosshairs(l+i/2):r.tooltipPosition.moveXCrosshairs(l)),!r.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars())&&(f&&(c-=r.tooltipRect.ttWidth)<0&&(c=0),!f||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||(d=d+u-2*(o.globals.series[e][p]<0?u:0)),r.tooltipRect.ttHeight+d>o.globals.gridHeight?d=o.globals.gridHeight-r.tooltipRect.ttHeight+o.globals.translateY:(d=d+o.globals.translateY-r.tooltipRect.ttHeight/2)<0&&(d=0),n.style.left=c+o.globals.translateX+"px",n.style.top=d+"px")}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,s=this.w,a=null,o=this.ttCtx,r=0,n=0,l=0,c=0,d=0,h=e.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){var u=e.target,p=u.getBoundingClientRect(),m=i.elGrid.getBoundingClientRect(),f=p.height;d=p.height;var g=p.width,v=parseInt(u.getAttribute("cx"),10),y=parseInt(u.getAttribute("cy"),10);c=parseFloat(u.getAttribute("barWidth"));var b="touchmove"===e.type?e.touches[0].clientX:e.clientX;a=parseInt(u.getAttribute("j"),10),r=parseInt(u.parentNode.getAttribute("rel"),10)-1;var x=u.getAttribute("data-range-y1"),w=u.getAttribute("data-range-y2");s.globals.comboCharts&&(r=parseInt(u.parentNode.getAttribute("data:realIndex"),10)),o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:r,j:a,y1:x?parseInt(x,10):null,y2:w?parseInt(w,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:e}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(n=b-m.left+15,l=y-o.dataPointsDividedHeight+f/2-o.tooltipRect.ttHeight/2):(n=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=e.clientY-m.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((n=v)<o.xyRatios.baseLineInvertedY&&(n=v-o.tooltipRect.ttWidth),l=y-o.dataPointsDividedHeight+f/2-o.tooltipRect.ttHeight/2):(n=s.globals.isXNumeric?v-g/2:v-o.dataPointsDividedWidth+g/2,l=y)}return{x:n,y:l,barHeight:d,barWidth:c,i:r,j:a}}}]),t}(),xt=function(){function t(e){n(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=function(i){var s=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=s?t.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,s){e.map((function(e,s){s===i&&(a+=t.config.yaxis[s].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))},s=0;s<t.config.yaxis.length;s++)i(s)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===t.config.xaxis.crosshairs.width){var a=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=a}else if("tickWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var r=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/r}else if("barWidth"===t.config.xaxis.crosshairs.width){var n=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n){var l=parseFloat(n.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var s=this.ttCtx,a=this.w,o=a.globals.yLabelFormatters[t];if(s.yaxisTooltips[t]){var r=s.getElGrid().getBoundingClientRect(),n=(e-r.top)*i.yRatio[t],l=a.globals.maxYArr[t]-a.globals.minYArr[t],c=a.globals.minYArr[t]+(l-n);s.tooltipPosition.moveYCrosshairs(e-r.top),s.yaxisTooltipText[t].innerHTML=o(c),s.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),wt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new ft(this),this.tooltipLabels=new gt(this),this.tooltipPosition=new vt(this),this.marker=new yt(this),this.intersect=new bt(this),this.axesTooltip=new xt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,i){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new G(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,s=[],a=this.getElTooltip(),o=function(o){var r=document.createElement("div");r.classList.add("apexcharts-tooltip-series-group"),r.style.order=i.config.tooltip.inverseOrder?t-o:o+1,e.tConfig.shared&&e.tConfig.enabledOnSeries&&Array.isArray(e.tConfig.enabledOnSeries)&&e.tConfig.enabledOnSeries.indexOf(o)<0&&r.classList.add("apexcharts-tooltip-series-group-hidden");var n=document.createElement("span");n.classList.add("apexcharts-tooltip-marker"),n.style.backgroundColor=i.globals.colors[o],r.appendChild(n);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,l.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach((function(t){var e=document.createElement("div");e.classList.add("apexcharts-tooltip-".concat(t,"-group"));var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(t,"-label")),e.appendChild(i);var s=document.createElement("span");s.classList.add("apexcharts-tooltip-text-".concat(t,"-value")),e.appendChild(s),l.appendChild(e)})),r.appendChild(l),a.appendChild(r),s.push(r)},r=0;r<t;r++)o(r);return s}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),s=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),a="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,r=this.getElGrid();r&&(this.seriesBound=r.getBoundingClientRect());var n,l=[],c=[],d={hoverArea:o,elGrid:r,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(a?n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),n&&n.length))for(var h=0;h<n.length;h++)l.push(n[h].getAttribute("cy")),c.push(n[h].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],d);else if(s&&!t.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var u=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(u,d)}if(this.showOnIntersect){var p=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),s=i.width+10,a=i.height+10,o=this.tConfig.fixed.offsetX,r=this.tConfig.fixed.offsetY,n=this.tConfig.fixed.position.toLowerCase();return n.indexOf("right")>-1&&(o=o+t.globals.svgWidth-s+10),n.indexOf("bottom")>-1&&(r=r+t.globals.svgHeight-a-10),e.style.left=o+"px",e.style.top=r+"px",{x:o,y:r,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,s=function(s){var a={paths:t[s],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[s].addEventListener(e,i.onSeriesHover.bind(i,a),{capture:!1,passive:!0})}))},a=0;a<t.length;a++)s(a)}},{key:"onSeriesHover",value:function(t,e){var i=this,s=Date.now()-this.lastHoverTime;s>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(t,e)}),100-s))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(s.length?s.forEach((function(s){var a=i.getElTooltip(s),o={paths:t.paths,tooltipEl:a,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===i.w.globals.minX&&s.w.globals.maxX===i.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:o,e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,s=t.opt,a=t.e,o=e.w,r=this.getElTooltip();r&&(i.tooltipRect={x:0,y:0,ttWidth:r.getBoundingClientRect().width,ttHeight:r.getBoundingClientRect().height},i.e=a,!i.tooltipUtil.hasBars()||o.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new j(e).toggleSeriesOnHover(a,a.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),o.globals.axisCharts?i.axisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,s=t.e,a=t.opt,o=this.w,r=a.elGrid.getBoundingClientRect(),n="touchmove"===s.type?s.touches[0].clientX:s.clientX,l="touchmove"===s.type?s.touches[0].clientY:s.clientY;if(this.clientY=l,this.clientX=n,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,l<r.top||l>r.top+r.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var c=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(a)}var d=this.getElTooltip(),h=this.getElXCrosshairs(),u=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===s.type||"touchmove"===s.type||"mouseup"===s.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==h&&h.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),u&&!this.showOnIntersect)this.handleStickyTooltip(s,n,l,a);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var m=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:e,y:i,type:o.config.chart.type});e=m.x,i=m.y,d.style.left=e+"px",d.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:e,y:i});if(this.yaxisTooltips.length)for(var f=0;f<o.config.yaxis.length;f++)this.axesTooltip.drawYaxisTooltipText(f,l,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==s.type&&"touchend"!==s.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,s=t.tooltipRect,a=this.w,o=i.paths.getAttribute("rel"),r=this.getElTooltip(),n=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){r.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var l=a.globals.clientX-n.left-s.ttWidth/2,c=a.globals.clientY-n.top-s.ttHeight-10;if(r.style.left=l+"px",r.style.top=c+"px",a.config.legend.tooltipHoverFormatter){var d=o-1,h=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:a});this.legendLabels[d].innerHTML=h}}else"mouseout"!==e.type&&"touchend"!==e.type||(r.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})))}},{key:"handleStickyTooltip",value:function(t,e,i,s){var a=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:e,clientY:i}),r=o.j,n=o.capturedSeries,l=s.elGrid.getBoundingClientRect();o.hoverX<0||o.hoverX>l.width?this.handleMouseOut(s):null!==n?this.handleStickyCapturedSeries(t,n,s,r):(this.tooltipUtil.isXoverlap(r)||a.globals.isBarHorizontal)&&this.create(t,this,0,r,s.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,s){var a=this.w;this.tConfig.shared||null!==a.globals.series[e][s]?void 0!==a.globals.series[e][s]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,s,i.ttItems):this.create(t,this,e,s,i.ttItems,!1):this.tooltipUtil.isXoverlap(s)&&this.create(t,this,0,s,i.ttItems):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new C(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),s=0;s<i.length;s++)e.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,i){var s=this.w;"function"==typeof s.config.chart.events.markerClick&&s.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}])}},{key:"create",value:function(t,e,i,s,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=this.w,n=e;"mouseup"===t.type&&this.markerClick(t,i,s),null===o&&(o=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(r.config.legend.tooltipHoverFormatter){var d=r.config.legend.tooltipHoverFormatter,h=Array.from(this.legendLabels);h.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var u=0;u<h.length;u++){var p=h[u],m=parseInt(p.getAttribute("i"),10),f=decodeURIComponent(p.getAttribute("data:default-text")),g=d(f,{seriesIndex:o?m:i,dataPointIndex:s,w:r});if(o)p.innerHTML=r.globals.collapsedSeriesIndices.indexOf(m)<0?g:f;else if(p.innerHTML=m===i?g:f,i===m)break}}if(o){if(n.tooltipLabels.drawSeriesTexts({ttItems:a,i:i,j:s,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(r.globals.markers.largestSize>0?n.marker.enlargePoints(s):n.tooltipPosition.moveDynamicPointsOnHover(s)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var v=new C(this.ctx),y=r.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(s);for(var b=0;b<y.length;b++)v.pathMouseEnter(y[b])}}else n.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:a,i:i,j:s}),this.tooltipUtil.hasBars()&&n.tooltipPosition.moveStickyTooltipOverBars(s),l&&n.tooltipPosition.moveMarkers(i,s)}}]),t}(),kt=function(){function t(e){n(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return c(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,s=t.y1,a=t.y2,o=t.i,r=t.j,n=t.realIndex,l=t.series,c=t.barHeight,d=t.barWidth,h=t.barYPosition,u=t.visibleSeries,p=t.renderedPath,m=this.w,f=new C(this.barCtx.ctx),g=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth,v=e+parseFloat(d*u),y=i+parseFloat(c*u);m.globals.isXNumeric&&!m.globals.isBarHorizontal&&(v=e+parseFloat(d*(u+1)),y=i+parseFloat(c*(u+1))-g);var b,x=null,w=e,k=i,S={},A=m.config.dataLabels,I=this.barCtx.barOptions.dataLabels,T=this.barCtx.barOptions.dataLabels.total;void 0!==h&&this.barCtx.isRangeBar&&(y=h,k=h);var L=A.offsetX,P=A.offsetY,_={width:0,height:0};if(m.config.dataLabels.enabled){var M=this.barCtx.series[o][r];_=f.getTextRects(m.globals.yLabelFormatters[0](M),parseFloat(A.style.fontSize))}var F={x:e,y:i,i:o,j:r,realIndex:n,renderedPath:p,bcx:v,bcy:y,barHeight:c,barWidth:d,textRects:_,strokeWidth:g,dataLabelsX:w,dataLabelsY:k,dataLabelsConfig:A,barDataLabelsConfig:I,barTotalDataLabelsConfig:T,offX:L,offY:P};return S=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(F):this.calculateColumnsDataLabelsPosition(F),p.attr({cy:S.bcy,cx:S.bcx,j:r,val:l[o][r],barHeight:c,barWidth:d}),b=this.drawCalculatedDataLabels({x:S.dataLabelsX,y:S.dataLabelsY,val:this.barCtx.isRangeBar?[s,a]:l[o][r],i:n,j:r,barWidth:d,barHeight:c,textRects:_,dataLabelsConfig:A}),m.config.chart.stacked&&T.enabled&&(x=this.drawTotalDataLabels({x:S.totalDataLabelsX,y:S.totalDataLabelsY,realIndex:n,textAnchor:S.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:n,j:r}),dataLabelsConfig:A,barTotalDataLabelsConfig:T})),{dataLabels:b,totalDataLabels:x}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,s=this.w,a=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(a=this.totalFormatter(a,o(o({},s),{},{seriesIndex:e,dataPointIndex:i,w:s}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i,s,a=this.w,o=t.i,r=t.j,n=t.realIndex,l=t.y,c=t.bcx,d=t.barWidth,h=t.barHeight,u=t.textRects,p=t.dataLabelsY,m=t.dataLabelsConfig,f=t.barDataLabelsConfig,g=t.barTotalDataLabelsConfig,v=t.strokeWidth,y=t.offX,b=t.offY;h=Math.abs(h);var x="vertical"===a.config.plotOptions.bar.dataLabels.orientation;c-=v/2;var w=a.globals.gridWidth/a.globals.dataPoints;e=a.globals.isXNumeric?c-d/2+y:c-w+d/2+y,x&&(e=e+u.height/2-v/2-2);var k=this.barCtx.series[o][r]<0,S=l;switch(this.barCtx.isReversed&&(S=l-h+(k?2*h:0),l-=h),f.position){case"center":p=x?k?S+h/2+b:S+h/2-b:k?S-h/2+u.height/2+b:S+h/2+u.height/2-b;break;case"bottom":p=x?k?S+h+b:S+h-b:k?S-h+u.height+v+b:S+h-u.height/2+v-b;break;case"top":p=x?k?S+b:S-b:k?S-u.height/2-b:S+u.height+b}if(this.barCtx.lastActiveBarSerieIndex===n&&g.enabled){var A=new C(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:r}),m.fontSize);i=k?S-A.height/2-b-g.offsetY+18:S+A.height+b+g.offsetY-18,s=e+g.offsetX}return a.config.chart.stacked||(p<0?p=0+v:p+u.height/3>a.globals.gridHeight&&(p=a.globals.gridHeight-v)),{bcx:c,bcy:l,dataLabelsX:e,dataLabelsY:p,totalDataLabelsX:s,totalDataLabelsY:i,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,s=t.i,a=t.j,o=t.realIndex,r=t.bcy,n=t.barHeight,l=t.barWidth,c=t.textRects,d=t.dataLabelsX,h=t.strokeWidth,u=t.dataLabelsConfig,p=t.barDataLabelsConfig,m=t.barTotalDataLabelsConfig,f=t.offX,g=t.offY,v=e.globals.gridHeight/e.globals.dataPoints;l=Math.abs(l);var y,b,x=r-(this.barCtx.isRangeBar?0:v)+n/2+c.height/2+g-3,w="start",k=this.barCtx.series[s][a]<0,S=i;switch(this.barCtx.isReversed&&(S=i+l-(k?2*l:0),i=e.globals.gridWidth-l),p.position){case"center":d=k?S+l/2-f:Math.max(c.width/2,S-l/2)+f;break;case"bottom":d=k?S+l-h-Math.round(c.width/2)-f:S-l+h+Math.round(c.width/2)+f;break;case"top":d=k?S-h+Math.round(c.width/2)-f:S-h-Math.round(c.width/2)+f}if(this.barCtx.lastActiveBarSerieIndex===o&&m.enabled){var A=new C(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),u.fontSize);k?(y=S-h+Math.round(A.width/2)-f-m.offsetX-15,w="end"):y=S-h-Math.round(A.width/2)+f+m.offsetX+15,b=x+m.offsetY}return e.config.chart.stacked||(d<0?d=d+c.width+h:d+c.width/2>e.globals.gridWidth&&(d=e.globals.gridWidth-c.width-h)),{bcx:i,bcy:r,dataLabelsX:d,dataLabelsY:x,totalDataLabelsX:y,totalDataLabelsY:b,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,s=t.val,a=t.i,r=t.j,n=t.textRects,l=t.barHeight,c=t.barWidth,d=t.dataLabelsConfig,h=this.w,u="rotate(0)";"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&(u="rotate(-90, ".concat(e,", ").concat(i,")"));var p=new V(this.barCtx.ctx),m=new C(this.barCtx.ctx),f=d.formatter,g=null,v=h.globals.collapsedSeriesIndices.indexOf(a)>-1;if(d.enabled&&!v){g=m.group({class:"apexcharts-data-labels",transform:u});var y="";void 0!==s&&(y=f(s,o(o({},h),{},{seriesIndex:a,dataPointIndex:r,w:h})));var b=h.globals.series[a][r]<0,x=h.config.plotOptions.bar.dataLabels.position;"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(d.textAnchor=b?"end":"start"),"center"===x&&(d.textAnchor="middle"),"bottom"===x&&(d.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<m.getTextRects(y,parseFloat(d.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?n.width/1.6>Math.abs(c)&&(y=""):n.height/1.6>Math.abs(l)&&(y=""));var w=o({},d);this.barCtx.isHorizontal&&s<0&&("start"===d.textAnchor?w.textAnchor="end":"end"===d.textAnchor&&(w.textAnchor="start")),p.plotDataLabelsText({x:e,y:i,text:y,i:a,j:r,parent:g,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}},{key:"drawTotalDataLabels",value:function(t){var e,i=t.x,s=t.y,a=t.val,o=t.realIndex,r=t.textAnchor,n=t.barTotalDataLabelsConfig,l=new C(this.barCtx.ctx);return n.enabled&&void 0!==i&&void 0!==s&&this.barCtx.lastActiveBarSerieIndex===o&&(e=l.drawText({x:i,y:s,foreColor:n.style.color,text:a,textAnchor:r,fontFamily:n.style.fontFamily,fontSize:n.style.fontSize,fontWeight:n.style.fontWeight})),e}}]),t}(),Ct=function(){function t(e){n(this,t),this.w=e.w,this.barCtx=e}return c(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var s=0;s<t[i].length;s++)e.globals.seriesX[i][s]>e.globals.minX&&e.globals.seriesX[i][s]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=t.length-1,e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,s,a,o,r,n,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var d=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)a=(i=l.globals.gridHeight/c)/d,l.globals.isXNumeric&&(a=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,n=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-a*this.barCtx.seriesLen)/2;else{if(s=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(s=l.globals.gridWidth/l.globals.dataPoints),o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var h=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(h=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/h>0&&(s=l.globals.minXDiff/h),(o=s/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}r=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(s-o*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:s,barHeight:a,barWidth:o,zeroH:r,zeroW:n}}},{key:"getPathFillColor",value:function(t,e,i,s){var a,o,r,n,l=this.w,c=new R(this.barCtx.ctx),d=null,h=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(s){t[e][i]>=s.from&&t[e][i]<=s.to&&(d=s.color)})),l.config.series[e].data[i]&&l.config.series[e].data[i].fillColor&&(d=l.config.series[e].data[i].fillColor),c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?h:s,dataPointIndex:i,color:d,value:t[e][i],fillConfig:null===(a=l.config.series[e].data[i])||void 0===a?void 0:a.fill,fillType:null!==(o=l.config.series[e].data[i])&&void 0!==o&&null!==(r=o.fill)&&void 0!==r&&r.type?null===(n=l.config.series[e].data[i])||void 0===n?void 0:n.fill.type:l.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var s=0,a=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"shouldApplyRadius",value:function(t){var e=this.w,i=!1;return e.config.plotOptions.bar.borderRadius>0&&(e.config.chart.stacked&&"last"===e.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===t&&(i=!0):i=!0),i}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,s=t.x1,a=t.x2,o=t.y1,r=t.y2,n=t.elSeries,l=this.w,c=new C(this.barCtx.ctx),d=new j(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var h=this.barCtx.barOptions.colors.backgroundBarColors[e],u=c.drawRect(void 0!==s?s:0,void 0!==o?o:0,void 0!==a?a:l.globals.gridWidth,void 0!==r?r:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity);n.add(u),u.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,s=t.barXPosition,a=t.y1,o=t.y2,r=t.strokeWidth,n=t.realIndex,l=t.i,c=t.j,d=t.w,h=new C(this.barCtx.ctx);(r=Array.isArray(r)?r[n]:r)||(r=0);var u=i,p=s;null!==(e=d.config.series[n].data[c])&&void 0!==e&&e.columnWidthOffset&&(p=s-d.config.series[n].data[c].columnWidthOffset/2,u=i+d.config.series[n].data[c].columnWidthOffset);var m=p,f=p+u;a+=.001,o+=.001;var g=h.move(m,a),v=h.move(m,a),y=h.line(f-r,a);return d.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(n,c,!1)),g=g+h.line(m,o)+h.line(f-r,o)+h.line(f-r,a)+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+h.line(m,a)+y+y+y+y+y+h.line(m,a)+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(n)&&(g=h.roundPathCorners(g,d.config.plotOptions.bar.borderRadius)),d.config.chart.stacked&&(this.barCtx.yArrj.push(o),this.barCtx.yArrjF.push(Math.abs(a-o)),this.barCtx.yArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,s=t.barHeight,a=t.x1,o=t.x2,r=t.strokeWidth,n=t.realIndex,l=t.i,c=t.j,d=t.w,h=new C(this.barCtx.ctx);(r=Array.isArray(r)?r[n]:r)||(r=0);var u=i,p=s;null!==(e=d.config.series[n].data[c])&&void 0!==e&&e.barHeightOffset&&(u=i-d.config.series[n].data[c].barHeightOffset/2,p=s+d.config.series[n].data[c].barHeightOffset);var m=u,f=u+p;a+=.001,o+=.001;var g=h.move(a,m),v=h.move(a,m);d.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(n,c,!1));var y=h.line(a,f-r);return g=g+h.line(o,m)+h.line(o,f-r)+y+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),v=v+h.line(a,m)+y+y+y+y+y+h.line(a,m)+("around"===d.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(n)&&(g=h.roundPathCorners(g,d.config.plotOptions.bar.borderRadius)),d.config.chart.stacked&&(this.barCtx.xArrj.push(o),this.barCtx.xArrjF.push(Math.abs(a-o)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:g,pathFrom:v}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,s=0;s<e.length;s++){for(var a=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)a+=e[s][o];0===a&&this.barCtx.zeroSerieses.push(s)}for(var r=e.length-1;r>=0;r--)this.barCtx.zeroSerieses.indexOf(r)>-1&&r===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var n=e.length-1;n>=0;n--)i.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?e:null;return null!=t&&(s=e-t/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(t,e,i,s,a){var o=this,r=this.w,n=[];return r.globals.seriesGoals[s]&&r.globals.seriesGoals[s][a]&&Array.isArray(r.globals.seriesGoals[s][a])&&r.globals.seriesGoals[s][a].forEach((function(s){var a;n.push((d(a={},t,"x"===t?o.getXForValue(s.value,e,!1):o.getYForValue(s.value,i,!1)),d(a,"attrs",s),a))})),n}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,s=t.goalX,a=t.goalY,o=t.barWidth,r=t.barHeight,n=new C(this.barCtx.ctx),l=n.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach((function(t){var e=void 0!==t.attrs.strokeHeight?t.attrs.strokeHeight:r/2,s=i+e+r/2;c=n.drawLine(t.x,s-2*e,t.x,s,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeWidth?t.attrs.strokeWidth:2,t.attrs.strokeLineCap),l.add(c)})):Array.isArray(a)&&a.forEach((function(t){var i=void 0!==t.attrs.strokeWidth?t.attrs.strokeWidth:o/2,s=e+i+o/2;c=n.drawLine(s-2*i,t.y,s,t.y,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeHeight?t.attrs.strokeHeight:2,t.attrs.strokeLineCap),l.add(c)})),l}}]),t}(),St=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=i,null!==this.xyRatios&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var a=new j(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]);var o=a.getBarSeriesIndices(),r=new S(this.ctx);this.stackedSeriesTotals=r.getStackedSeriesTotals(this.w.config.series.map((function(t,e){return-1===o.indexOf(e)?e:-1})).filter((function(t){return-1!==t}))),this.barHelpers=new Ct(this)}return c(t,[{key:"draw",value:function(t,e){var i=this.w,s=new C(this.ctx),a=new S(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var r=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var n=0,l=0;n<t.length;n++,l++){var c,d,h,u,p=void 0,m=void 0,f=[],g=[],v=i.globals.comboCharts?e[n]:n,y=s.group({class:"apexcharts-series",rel:n+1,seriesName:x.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(y,v),t[n].length>0&&(this.visibleI=this.visibleI+1);var b=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();m=k.y,b=k.barHeight,d=k.yDivision,u=k.zeroW,p=k.x,w=k.barWidth,c=k.xDivision,h=k.zeroH,this.horizontal||g.push(p+w/2);for(var A=s.group({class:"apexcharts-datalabels","data:realIndex":v}),I=s.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),T=0;T<i.globals.dataPoints;T++){var L=this.barHelpers.getStrokeWidth(n,T,v),P=null,_={indexes:{i:n,j:T,realIndex:v,bc:l},x:p,y:m,strokeWidth:L,elSeries:y};this.isHorizontal?(P=this.drawBarPaths(o(o({},_),{},{barHeight:b,zeroW:u,yDivision:d})),w=this.series[n][T]/this.invertedYRatio):(P=this.drawColumnPaths(o(o({},_),{},{xDivision:c,barWidth:w,zeroH:h})),b=this.series[n][T]/this.yRatio[this.yaxisIndex]);var M=this.barHelpers.drawGoalLine({barXPosition:P.barXPosition,barYPosition:P.barYPosition,goalX:P.goalX,goalY:P.goalY,barHeight:b,barWidth:w});M&&I.add(M),m=P.y,p=P.x,T>0&&g.push(p+w/2),f.push(m);var F=this.barHelpers.getPathFillColor(t,n,T,v);this.renderSeries({realIndex:v,pathFill:F,j:T,i:n,pathFrom:P.pathFrom,pathTo:P.pathTo,strokeWidth:L,elSeries:y,x:p,y:m,series:t,barHeight:b,barWidth:w,elDataLabelsWrap:A,elGoalsMarkers:I,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[v]=g,i.globals.seriesYvalues[v]=f,r.add(y)}return r}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,s=t.lineFill,a=t.j,o=t.i,r=t.pathFrom,n=t.pathTo,l=t.strokeWidth,c=t.elSeries,d=t.x,h=t.y,u=t.y1,p=t.y2,m=t.series,f=t.barHeight,g=t.barWidth,v=t.barYPosition,y=t.elDataLabelsWrap,b=t.elGoalsMarkers,x=t.visibleSeries,w=t.type,S=this.w,A=new C(this.ctx);s||(s=this.barOptions.distributed?S.globals.stroke.colors[a]:S.globals.stroke.colors[e]),S.config.series[o].data[a]&&S.config.series[o].data[a].strokeColor&&(s=S.config.series[o].data[a].strokeColor),this.isNullValue&&(i="none");var I=a/S.config.chart.animations.animateGradually.delay*(S.config.chart.animations.speed/S.globals.dataPoints)/2.4,T=A.renderPaths({i:o,j:a,realIndex:e,pathFrom:r,pathTo:n,stroke:s,strokeWidth:l,strokeLineCap:S.config.stroke.lineCap,fill:i,animationDelay:I,initialSpeed:S.config.chart.animations.speed,dataChangeSpeed:S.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});T.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")"));var L=S.config.forecastDataPoints;L.count>0&&a>=S.globals.dataPoints-L.count&&(T.node.setAttribute("stroke-dasharray",L.dashArray),T.node.setAttribute("stroke-width",L.strokeWidth),T.node.setAttribute("fill-opacity",L.fillOpacity)),void 0!==u&&void 0!==p&&(T.attr("data-range-y1",u),T.attr("data-range-y2",p)),new k(this.ctx).setSelectionFilter(T,e,a),c.add(T);var P=new kt(this).handleBarDataLabels({x:d,y:h,y1:u,y2:p,i:o,j:a,series:m,realIndex:e,barHeight:f,barWidth:g,barYPosition:v,renderedPath:T,visibleSeries:x});return null!==P.dataLabels&&y.add(P.dataLabels),P.totalDataLabels&&y.add(P.totalDataLabels),c.add(y),b&&c.add(b),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,s=t.strokeWidth,a=t.zeroW,o=t.x,r=t.y,n=t.yDivision,l=t.elSeries,c=this.w,d=e.i,h=e.j;c.globals.isXNumeric&&(r=(c.globals.seriesX[d][h]-c.globals.minX)/this.invertedXRatio-i);var u=r+i*this.visibleI;o=this.barHelpers.getXForValue(this.series[d][h],a);var p=this.barHelpers.getBarpaths({barYPosition:u,barHeight:i,x1:a,x2:o,strokeWidth:s,series:this.series,realIndex:e.realIndex,i:d,j:h,w:c});return c.globals.isXNumeric||(r+=n),this.barHelpers.barBackground({j:h,i:d,y1:u-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:o,y:r,goalX:this.barHelpers.getGoalValues("x",a,null,d,h),barYPosition:u}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,r=t.zeroH,n=t.strokeWidth,l=t.elSeries,c=this.w,d=e.realIndex,h=e.i,u=e.j,p=e.bc;if(c.globals.isXNumeric){var m=d;c.globals.seriesX[d].length||(m=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[m][u]-c.globals.minX)/this.xRatio-o*this.seriesLen/2}var f=i+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[h][u],r);var g=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:o,y1:r,y2:s,strokeWidth:n,series:this.series,realIndex:e.realIndex,i:h,j:u,w:c});return c.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:p,j:u,i:h,x1:f-n/2-o*this.visibleI,x2:o*this.seriesLen+n/2,elSeries:l}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,r,h,u),barXPosition:f}}},{key:"getPreviousPath",value:function(t,e){for(var i,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==s.globals.previousPaths[a].paths[e]&&(i=s.globals.previousPaths[a].paths[e].d)}return i}}]),t}(),At=function(t){h(i,St);var e=f(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w;this.graphics=new C(this.ctx),this.bar=new St(this.ctx,this.xyRatios);var a=new S(this.ctx,s);t=a.getLogSeries(t),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===s.config.chart.stackType&&(t=s.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var r=0;r<t.length;r++)t[r].length>0&&(this.totalItems+=t[r].length);for(var n=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,d=function(a,r){var d=void 0,h=void 0,u=void 0,p=void 0,m=[],f=[],g=s.globals.comboCharts?e[a]:a;i.yRatio.length>1&&(i.yaxisIndex=g),i.isReversed=s.config.yaxis[i.yaxisIndex]&&s.config.yaxis[i.yaxisIndex].reversed;var v=i.graphics.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[g]),rel:a+1,"data:realIndex":g});i.ctx.series.addCollapsedClassToSeries(v,g);var y=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":g}),b=i.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),w=0,k=0,C=i.initialPositions(l,c,d,h,u,p);c=C.y,w=C.barHeight,h=C.yDivision,p=C.zeroW,l=C.x,k=C.barWidth,d=C.xDivision,u=C.zeroH,i.yArrj=[],i.yArrjF=[],i.yArrjVal=[],i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],1===i.prevY.length&&i.prevY[0].every((function(t){return isNaN(t)}))&&(i.prevY[0]=i.prevY[0].map((function(t){return u})),i.prevYF[0]=i.prevYF[0].map((function(t){return 0})));for(var S=0;S<s.globals.dataPoints;S++){var A=i.barHelpers.getStrokeWidth(a,S,g),I={indexes:{i:a,j:S,realIndex:g,bc:r},strokeWidth:A,x:l,y:c,elSeries:v},T=null;i.isHorizontal?(T=i.drawStackedBarPaths(o(o({},I),{},{zeroW:p,barHeight:w,yDivision:h})),k=i.series[a][S]/i.invertedYRatio):(T=i.drawStackedColumnPaths(o(o({},I),{},{xDivision:d,barWidth:k,zeroH:u})),w=i.series[a][S]/i.yRatio[i.yaxisIndex]);var L=i.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:T.barYPosition,goalX:T.goalX,goalY:T.goalY,barHeight:w,barWidth:k});L&&b.add(L),c=T.y,l=T.x,m.push(l),f.push(c);var P=i.barHelpers.getPathFillColor(t,a,S,g);v=i.renderSeries({realIndex:g,pathFill:P,j:S,i:a,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:A,elSeries:v,x:l,y:c,series:t,barHeight:w,barWidth:k,elDataLabelsWrap:y,elGoalsMarkers:b,type:"bar",visibleSeries:0})}s.globals.seriesXvalues[g]=m,s.globals.seriesYvalues[g]=f,i.prevY.push(i.yArrj),i.prevYF.push(i.yArrjF),i.prevYVal.push(i.yArrjVal),i.prevX.push(i.xArrj),i.prevXF.push(i.xArrjF),i.prevXVal.push(i.xArrjVal),n.add(v)},h=0,u=0;h<t.length;h++,u++)d(h,u);return n}},{key:"initialPositions",value:function(t,e,i,s,a,o){var r,n,l=this.w;return this.isHorizontal?(r=(r=s=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(s-r)/2):(n=i=l.globals.gridWidth/l.globals.dataPoints,n=l.globals.isXNumeric&&l.globals.dataPoints>1?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:n*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,a=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-n)/2),{x:t,y:e,yDivision:s,xDivision:i,barHeight:r,barWidth:n,zeroH:a,zeroW:o}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,s=t.barHeight,a=t.strokeWidth,o=t.zeroW,r=t.x,n=t.y,l=t.yDivision,c=t.elSeries,d=this.w,h=n,u=i.i,p=i.j,m=0,f=0;f<this.prevXF.length;f++)m+=this.prevXF[f][p];if(u>0){var g=o;this.prevXVal[u-1][p]<0?g=this.series[u][p]>=0?this.prevX[u-1][p]+m-2*(this.isReversed?m:0):this.prevX[u-1][p]:this.prevXVal[u-1][p]>=0&&(g=this.series[u][p]>=0?this.prevX[u-1][p]:this.prevX[u-1][p]-m+2*(this.isReversed?m:0)),e=g}else e=o;r=null===this.series[u][p]?e:e+this.series[u][p]/this.invertedYRatio-2*(this.isReversed?this.series[u][p]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:h,barHeight:s,x1:e,x2:r,strokeWidth:a,series:this.series,realIndex:i.realIndex,i:u,j:p,w:d});return this.barHelpers.barBackground({j:p,i:u,y1:h,y2:s,elSeries:c}),n+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,goalX:this.barHelpers.getGoalValues("x",o,null,u,p),barYPosition:h,x:r,y:n}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,s=t.y,a=t.xDivision,o=t.barWidth,r=t.zeroH;t.strokeWidth;var n=t.elSeries,l=this.w,c=e.i,d=e.j,h=e.bc;if(l.globals.isXNumeric){var u=l.globals.seriesX[c][d];u||(u=0),i=(u-l.globals.minX)/this.xRatio-o/2}for(var p,m=i,f=0,g=0;g<this.prevYF.length;g++)f+=isNaN(this.prevYF[g][d])?0:this.prevYF[g][d];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][d]===l.globals.seriesX[c][d]){var v,y,b=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var x=1;x<b;x++)if(!isNaN(this.prevY[c-x][d])){y=this.prevY[c-x][d];break}for(var w=1;w<b;w++){if(this.prevYVal[c-w][d]<0){v=this.series[c][d]>=0?y-f+2*(this.isReversed?f:0):y;break}if(this.prevYVal[c-w][d]>=0){v=this.series[c][d]>=0?y:y+f-2*(this.isReversed?f:0);break}}void 0===v&&(v=l.globals.gridHeight),p=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?r:v}else p=r;s=p-this.series[c][d]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][d]/this.yRatio[this.yaxisIndex]:0);var k=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:o,y1:p,y2:s,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:d,w:l});return this.barHelpers.barBackground({bc:h,j:d,i:c,x1:m,x2:o,elSeries:n}),i+=a,{pathTo:k.pathTo,pathFrom:k.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,r,c,d),barXPosition:m,x:l.globals.isXNumeric?i-a:i,y:s}}}]),i}(),It=function(t){h(i,St);var e=f(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,s=this.w,a=new C(this.ctx),r=new R(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal;var n=new S(this.ctx,s);t=n.getLogSeries(t),this.series=t,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var l=a.group({class:"apexcharts-".concat(s.config.chart.type,"-series apexcharts-plot-series")}),c=function(n){i.isBoxPlot="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[n].type;var c,d,h,u,p,m,f=void 0,g=void 0,v=[],y=[],b=s.globals.comboCharts?e[n]:n,w=a.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[b]),rel:n+1,"data:realIndex":b});i.ctx.series.addCollapsedClassToSeries(w,b),t[n].length>0&&(i.visibleI=i.visibleI+1),i.yRatio.length>1&&(i.yaxisIndex=b);var k=i.barHelpers.initialPositions();g=k.y,p=k.barHeight,d=k.yDivision,u=k.zeroW,f=k.x,m=k.barWidth,c=k.xDivision,h=k.zeroH,y.push(f+m/2);for(var C=a.group({class:"apexcharts-datalabels","data:realIndex":b}),S=function(e){var a=i.barHelpers.getStrokeWidth(n,e,b),l=null,x={indexes:{i:n,j:e,realIndex:b},x:f,y:g,strokeWidth:a,elSeries:w};l=i.isHorizontal?i.drawHorizontalBoxPaths(o(o({},x),{},{yDivision:d,barHeight:p,zeroW:u})):i.drawVerticalBoxPaths(o(o({},x),{},{xDivision:c,barWidth:m,zeroH:h})),g=l.y,f=l.x,e>0&&y.push(f+m/2),v.push(g),l.pathTo.forEach((function(o,c){var d=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?l.color[c]:s.globals.stroke.colors[n],h=r.fillPath({seriesNumber:b,dataPointIndex:e,color:l.color[c],value:t[n][e]});i.renderSeries({realIndex:b,pathFill:h,lineFill:d,j:e,i:n,pathFrom:l.pathFrom,pathTo:o,strokeWidth:a,elSeries:w,x:f,y:g,series:t,barHeight:p,barWidth:m,elDataLabelsWrap:C,visibleSeries:i.visibleI,type:s.config.chart.type})}))},A=0;A<s.globals.dataPoints;A++)S(A);s.globals.seriesXvalues[b]=y,s.globals.seriesYvalues[b]=v,l.add(w)},d=0;d<t.length;d++)c(d);return l}},{key:"drawVerticalBoxPaths",value:function(t){var e=t.indexes,i=t.x;t.y;var s=t.xDivision,a=t.barWidth,o=t.zeroH,r=t.strokeWidth,n=this.w,l=new C(this.ctx),c=e.i,d=e.j,h=!0,u=n.config.plotOptions.candlestick.colors.upward,p=n.config.plotOptions.candlestick.colors.downward,m="";this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.yRatio[this.yaxisIndex],g=e.realIndex,v=this.getOHLCValue(g,d),y=o,b=o;v.o>v.c&&(h=!1);var x=Math.min(v.o,v.c),w=Math.max(v.o,v.c),k=v.m;n.globals.isXNumeric&&(i=(n.globals.seriesX[g][d]-n.globals.minX)/this.xRatio-a/2);var S=i+a*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(x=o,w=o):(x=o-x/f,w=o-w/f,y=o-v.h/f,b=o-v.l/f,k=o-v.m/f);var A=l.move(S,o),I=l.move(S+a/2,x);return n.globals.previousPaths.length>0&&(I=this.getPreviousPath(g,d,!0)),A=this.isBoxPlot?[l.move(S,x)+l.line(S+a/2,x)+l.line(S+a/2,y)+l.line(S+a/4,y)+l.line(S+a-a/4,y)+l.line(S+a/2,y)+l.line(S+a/2,x)+l.line(S+a,x)+l.line(S+a,k)+l.line(S,k)+l.line(S,x+r/2),l.move(S,k)+l.line(S+a,k)+l.line(S+a,w)+l.line(S+a/2,w)+l.line(S+a/2,b)+l.line(S+a-a/4,b)+l.line(S+a/4,b)+l.line(S+a/2,b)+l.line(S+a/2,w)+l.line(S,w)+l.line(S,k)+"z"]:[l.move(S,w)+l.line(S+a/2,w)+l.line(S+a/2,y)+l.line(S+a/2,w)+l.line(S+a,w)+l.line(S+a,x)+l.line(S+a/2,x)+l.line(S+a/2,b)+l.line(S+a/2,x)+l.line(S,x)+l.line(S,w-r/2)],I+=l.move(S,x),n.globals.isXNumeric||(i+=s),{pathTo:A,pathFrom:I,x:i,y:w,barXPosition:S,color:this.isBoxPlot?m:h?[u]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(t){var e=t.indexes;t.x;var i=t.y,s=t.yDivision,a=t.barHeight,o=t.zeroW,r=t.strokeWidth,n=this.w,l=new C(this.ctx),c=e.i,d=e.j,h=this.boxOptions.colors.lower;this.isBoxPlot&&(h=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var u=this.invertedYRatio,p=e.realIndex,m=this.getOHLCValue(p,d),f=o,g=o,v=Math.min(m.o,m.c),y=Math.max(m.o,m.c),b=m.m;n.globals.isXNumeric&&(i=(n.globals.seriesX[p][d]-n.globals.minX)/this.invertedXRatio-a/2);var x=i+a*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(v=o,y=o):(v=o+v/u,y=o+y/u,f=o+m.h/u,g=o+m.l/u,b=o+m.m/u);var w=l.move(o,x),k=l.move(v,x+a/2);return n.globals.previousPaths.length>0&&(k=this.getPreviousPath(p,d,!0)),w=[l.move(v,x)+l.line(v,x+a/2)+l.line(f,x+a/2)+l.line(f,x+a/2-a/4)+l.line(f,x+a/2+a/4)+l.line(f,x+a/2)+l.line(v,x+a/2)+l.line(v,x+a)+l.line(b,x+a)+l.line(b,x)+l.line(v+r/2,x),l.move(b,x)+l.line(b,x+a)+l.line(y,x+a)+l.line(y,x+a/2)+l.line(g,x+a/2)+l.line(g,x+a-a/4)+l.line(g,x+a/4)+l.line(g,x+a/2)+l.line(y,x+a/2)+l.line(y,x)+l.line(b,x)+"z"],k+=l.move(v,x),n.globals.isXNumeric||(i+=s),{pathTo:w,pathFrom:k,x:y,y:i,barYPosition:x,color:h}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:this.isBoxPlot?i.globals.seriesCandleH[t][e]:i.globals.seriesCandleO[t][e],h:this.isBoxPlot?i.globals.seriesCandleO[t][e]:i.globals.seriesCandleH[t][e],m:i.globals.seriesCandleM[t][e],l:this.isBoxPlot?i.globals.seriesCandleC[t][e]:i.globals.seriesCandleL[t][e],c:this.isBoxPlot?i.globals.seriesCandleL[t][e]:i.globals.seriesCandleC[t][e]}}}]),i}(),Tt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(t,i){t.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,s){var a=this.w,o=1,r=a.config.plotOptions[t].shadeIntensity,n=this.determineColor(t,e,i);a.globals.hasNegs||s?o=a.config.plotOptions[t].reverseNegativeShade?n.percent<0?n.percent/100*(1.25*r):(1-n.percent/100)*(1.25*r):n.percent<=0?1-(1+n.percent/100)*r:(1-n.percent/100)*r:(o=1-n.percent/100,"treemap"===t&&(o=(1-n.percent/100)*(1.25*r)));var l=n.color,c=new x;return a.config.plotOptions[t].enableShades&&(l="dark"===this.w.config.theme.mode?x.hexToRgba(c.shadeColor(-1*o,n.color),a.config.fill.opacity):x.hexToRgba(c.shadeColor(o,n.color),a.config.fill.opacity)),{color:l,colorProps:n}}},{key:"determineColor",value:function(t,e,i){var s=this.w,a=s.globals.series[e][i],o=s.config.plotOptions[t],r=o.colorScale.inverse?i:e;o.distributed&&"treemap"===s.config.chart.type&&(r=i);var n=s.globals.colors[r],l=null,c=Math.min.apply(Math,v(s.globals.series[e])),d=Math.max.apply(Math,v(s.globals.series[e]));o.distributed||"heatmap"!==t||(c=s.globals.minY,d=s.globals.maxY),void 0!==o.colorScale.min&&(c=o.colorScale.min<s.globals.minY?o.colorScale.min:s.globals.minY,d=o.colorScale.max>s.globals.maxY?o.colorScale.max:s.globals.maxY);var h=Math.abs(d)+Math.abs(c),u=100*a/(0===h?h-1e-6:h);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(t,e){if(a>=t.from&&a<=t.to){n=t.color,l=t.foreColor?t.foreColor:null,c=t.from,d=t.to;var i=Math.abs(d)+Math.abs(c);u=100*a/(0===i?i-1e-6:i)}})),{color:n,foreColor:l,percent:u}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,s=t.y,a=t.i,o=t.j,r=t.colorProps,n=t.fontSize,l=this.w.config.dataLabels,c=new C(this.ctx),d=new V(this.ctx),h=null;if(l.enabled){h=c.group({class:"apexcharts-data-labels"});var u=l.offsetX,p=l.offsetY,m=i+u,f=s+parseFloat(l.style.fontSize)/3+p;d.plotDataLabelsText({x:m,y:f,text:e,i:a,j:o,color:r.foreColor,parent:h,fontSize:n,dataLabelsConfig:l})}return h}},{key:"addListeners",value:function(t){var e=new C(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),t}(),Lt=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Tt(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(t,[{key:"draw",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var a=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,r=0,n=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(n=!0,l.reverse());for(var c=n?0:l.length-1;n?c<l.length:c>=0;n?c++:c--){var d=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:x.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(d,c),e.config.chart.dropShadow.enabled){var h=e.config.chart.dropShadow;new k(this.ctx).dropShadow(d,h,c)}for(var u=0,p=e.config.plotOptions.heatmap.shadeIntensity,m=0;m<l[c].length;m++){var f=this.helpers.getShadeColor(e.config.chart.type,c,m,this.negRange),g=f.color,v=f.colorProps;"image"===e.config.fill.type&&(g=new R(this.ctx).fillPath({seriesNumber:c,dataPointIndex:m,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:x.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:a,height:e.config.fill.image.height?e.config.fill.image.height:o}));var y=this.rectRadius,b=i.drawRect(u,r,a,o,y);if(b.attr({cx:u,cy:r}),b.node.classList.add("apexcharts-heatmap-rect"),d.add(b),b.attr({fill:g,i:c,index:c,j:m,val:l[c][m],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?g:e.globals.stroke.colors[0],color:g}),this.helpers.addListeners(b),e.config.chart.animations.enabled&&!e.globals.dataChanged){var w=1;e.globals.resized||(w=e.config.chart.animations.speed),this.animateHeatMap(b,u,r,a,o,w)}if(e.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){S=this.dynamicAnim.speed;var A=e.globals.previousPaths[c]&&e.globals.previousPaths[c][m]&&e.globals.previousPaths[c][m].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(b,x.isColorHex(A)?A:x.rgb2hex(A),x.isColorHex(g)?g:x.rgb2hex(g),S)}}var I=(0,e.config.dataLabels.formatter)(e.globals.series[c][m],{value:e.globals.series[c][m],seriesIndex:c,dataPointIndex:m,w:e}),T=this.helpers.calculateDataLabels({text:I,x:u+a/2,y:r+o/2,i:c,j:m,colorProps:v,series:l});null!==T&&d.add(T),u+=a}r+=o,s.add(d)}var L=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?L.unshift(""):L.push(""),e.globals.yAxisScale[0].result=L;var P=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-P/2,s}},{key:"animateHeatMap",value:function(t,e,i,s,a,o){var r=new w(this.ctx);r.animateRect(t,{x:e+s/2,y:i+a/2,width:0,height:0},{x:e,y:i,width:s,height:a},o,(function(){r.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,s){t.attr({fill:e}).animate(s).attr({fill:i})}}]),t}(),Pt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawYAxisTexts",value:function(t,e,i,s){var a=this.w,o=a.config.yaxis[0],r=a.globals.yLabelFormatters[0];return new C(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:r(s,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),t}(),_t=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,"radialBar"===i.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new C(this.ctx);if(this.ret=s.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var a=0,o=0;o<t.length;o++)a+=x.negToZero(t[o]);var r=[],n=s.group();0===a&&(a=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var c=this.fullAngle*x.negToZero(t[l])/a;r.push(c),"polarArea"===this.chartType?(r[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var d,h=0,u=0;u<i.globals.previousPaths.length;u++)h+=x.negToZero(i.globals.previousPaths[u]);for(var p=0;p<i.globals.previousPaths.length;p++)d=this.fullAngle*x.negToZero(i.globals.previousPaths[p])/h,this.prevSectorAngleArr.push(d)}this.donutSize<0&&(this.donutSize=0);var m=i.config.plotOptions.pie.customScale,f=i.globals.gridWidth/2,g=i.globals.gridHeight/2,v=f-i.globals.gridWidth/2*m,y=g-i.globals.gridHeight/2*m;if("donut"===this.chartType){var b=s.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),n.add(b)}var w=this.drawArcs(r,t);if(this.sliceLabels.forEach((function(t){w.add(t)})),n.attr({transform:"translate(".concat(v,", ").concat(y,") scale(").concat(m,")")}),n.add(w),this.ret.add(n),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:y});this.ret.add(k)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,s=new k(this.ctx),a=new C(this.ctx),o=new R(this.ctx),r=a.group({class:"apexcharts-slices"}),n=this.initialAngle,l=this.initialAngle,c=this.initialAngle,d=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var h=0;h<t.length;h++){var u=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:x.escapeString(i.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});r.add(u),l=d,c=(n=c)+t[h],d=l+this.prevSectorAngleArr[h];var p=c<n?this.fullAngle+c-n:c-n,m=o.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:e[h]}),f=this.getChangedPath(l,d),g=a.drawPath({d:f,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)});if(g.attr({index:0,j:h}),s.setSelectionFilter(g,0,h),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;s.dropShadow(g,v,h)}this.addListeners(g,this.donutDataLabels),C.setAttrs(g.node,{"data:angle":p,"data:startAngle":n,"data:strokeWidth":this.strokeWidth,"data:value":e[h]});var y={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?y=x.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(n+p/2)%this.fullAngle):"donut"===this.chartType&&(y=x.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(n+p/2)%this.fullAngle)),u.add(g);var b=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0===(b=p/this.fullAngle*i.config.chart.animations.speed)&&(b=1),this.animDur=b+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[h],endAngle:c,startAngle:n,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[h],endAngle:c,startAngle:n,i:h,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:b}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,h)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(h)>-1&&this.pieClicked(h),i.config.dataLabels.enabled){var w=y.x,S=y.y,A=100*p/this.fullAngle+"%";if(0!==p&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[h]){var I=i.config.dataLabels.formatter;void 0!==I&&(A=I(i.globals.seriesPercent[h][0],{seriesIndex:h,w:i}));var T=i.globals.dataLabels.style.colors[h],L=a.group({class:"apexcharts-datalabels"}),P=a.drawText({x:w,y:S,text:A,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:T});if(L.add(P),i.config.dataLabels.dropShadow.enabled){var _=i.config.dataLabels.dropShadow;s.dropShadow(P,_)}P.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(P.node.classList.add("apexcharts-pie-label-delay"),P.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(L)}}}return r}},{key:"addListeners",value:function(t,e){var i=new C(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,s=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,a=s,o=e.startAngle,r=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,a=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(s+r>this.fullAngle?e.endAngle=e.endAngle-(s+r):s+r<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(s+r)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(t,o,r,s,a,e)}},{key:"animateArc",value:function(t,e,i,s,a,o){var r,n=this,l=this.w,c=new w(this.ctx),d=o.size;(isNaN(e)||isNaN(a))&&(e=i,a=s,o.dur=0);var h=s,u=i,p=e<i?this.fullAngle+e-i:e-i;l.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(r=n.getPiePath({me:n,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:d}),t.attr({d:r})),0!==o.dur?t.animate(o.dur,l.globals.easing,o.animBeginArr[o.i]).afterAll((function(){"pie"!==n.chartType&&"donut"!==n.chartType&&"polarArea"!==n.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":n.strokeWidth}),o.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){h=p+(s-p)*l,o.animateStartingPos&&(h=a+(s-a)*l,u=e-a+(i-(e-a))*l),r=n.getPiePath({me:n,startAngle:u,angle:h,size:d}),t.node.setAttribute("data:pathOrig",r),t.attr({d:r})})):(r=n.getPiePath({me:n,startAngle:u,angle:s,size:d}),o.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",r),t.attr({d:r,"stroke-width":n.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,s=this,a=s.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.select(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==o.attr("data:pieClicked")){var r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(r,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),o.attr("data:pieClicked","true");var n=parseInt(o.attr("data:startAngle"),10),l=parseInt(o.attr("data:angle"),10);e=s.getPiePath({me:s,startAngle:n,angle:l,size:a}),360!==l&&o.plot(e)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var c=o.attr("data:pathOrig");o.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,s=t.angle,a=t.size,o=i,r=Math.PI*(o-90)/180,n=s+i;Math.ceil(n)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(n=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(n)>this.fullAngle&&(n-=this.fullAngle);var l=Math.PI*(n-90)/180,c=e.centerX+a*Math.cos(r),d=e.centerY+a*Math.sin(r),h=e.centerX+a*Math.cos(l),u=e.centerY+a*Math.sin(l),p=x.polarToCartesian(e.centerX,e.centerY,e.donutSize,n),m=x.polarToCartesian(e.centerX,e.centerY,e.donutSize,o),f=s>180?1:0,g=["M",c,d,"A",a,a,0,f,1,h,u];return"donut"===e.chartType?[].concat(g,["L",p.x,p.y,"A",e.donutSize,e.donutSize,0,f,0,m.x,m.y,"L",c,d,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(g,["L",e.centerX,e.centerY,"L",c,d]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new J(this.ctx),s=new C(this.ctx),a=new Pt(this.ctx),o=s.group(),r=s.group(),n=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),l=n.result.reverse(),c=n.result.length;this.maxY=n.niceMax;for(var d=e.globals.radialSize,h=d/(c-1),u=0;u<c-1;u++){var p=s.drawCircle(d);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var m=a.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,u,l[u]);r.add(m)}o.add(p),d-=h}this.drawSpokes(t),t.add(o),t.add(r)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,s=new C(this.ctx),a=s.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),o=t.total.show;a.node.style.opacity=e.opacity;var r,n,l=e.centerX,c=e.centerY;r=void 0===t.name.color?i.globals.colors[0]:t.name.color;var d=t.name.fontSize,h=t.name.fontFamily,u=t.name.fontWeight;n=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",f="";if(o?(r=t.total.color,d=t.total.fontSize,h=t.total.fontFamily,u=t.total.fontWeight,f=t.total.label,m=t.total.formatter(i)):1===i.globals.series.length&&(m=p(i.globals.series[0],i),f=i.globals.seriesNames[0]),f&&(f=t.name.formatter(f,t.total.show,i)),t.name.show){var g=s.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:f,textAnchor:"middle",foreColor:r,fontSize:d,fontWeight:u,fontFamily:h});g.node.classList.add("apexcharts-datalabel-label"),a.add(g)}if(t.value.show){var v=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,y=s.drawText({x:l,y:c+v,text:m,textAnchor:"middle",foreColor:n,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),a.add(y)}return a}},{key:"printInnerLabels",value:function(t,e,i,s){var a,o=this.w;s?a=void 0===t.name.color?o.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(a=t.total.color);var r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),n=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,o),s||"function"!=typeof t.total.formatter||(i=t.total.formatter(o));var l=e===t.total.label;e=t.name.formatter(e,l,o),null!==r&&(r.textContent=e),null!==n&&(n.textContent=i),null!==r&&(r.style.fill=a)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,s=t.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,a,s,t);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,s=new C(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var o=[],r=360/i.globals.series.length,n=0;n<i.globals.series.length;n++)o.push(x.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+r*n));o.forEach((function(i,o){var r=s.drawLine(i.x,i.y,e.centerX,e.centerY,Array.isArray(a.connectorColors)?a.connectorColors[o]:a.connectorColors);t.add(r)}))}}},{key:"revertDataLabelsInner",value:function(t,e,i){var s=this,a=this.w,o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),r=!1,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var i=t.makeSliceOut,a=t.printLabel;Array.prototype.forEach.call(n,(function(t){"true"===t.getAttribute("data:pieClicked")&&(i&&(r=!0),a&&s.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&a.globals.series.length>1)r&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(a));else if(l({makeSliceOut:!1,printLabel:!0}),!r)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var c=a.globals.selectedDataPoints[0],d=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(d,e)}else o&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(o.style.opacity=0);else o&&a.globals.series.length>1&&(o.style.opacity=0)}}]),t}(),Mt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new C(this.ctx),this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new S(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),void 0!==i.config.plotOptions.radar.size&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new R(this.ctx),a=[],r=new V(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var n=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=n+i.config.plotOptions.radar.offsetX,d=l+i.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(d||0,")")}),u=[],p=null,m=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,n){var l=t.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:x.escapeString(i.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});e.dataRadiusOfPercent[n]=[],e.dataRadius[n]=[],e.angleArr[n]=[],t.forEach((function(t,i){var s=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.isLog&&(t=e.coreUtils.getLogVal(t,0)),e.dataRadiusOfPercent[n][i]=t/s,e.dataRadius[n][i]=e.dataRadiusOfPercent[n][i]*e.size,e.angleArr[n][i]=i*e.disAngle})),u=e.getDataPointsPos(e.dataRadius[n],e.angleArr[n]);var d=e.createPaths(u,{x:0,y:0});p=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),m=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":n}),i.globals.delayedElements.push({el:p.node,index:n});var h={i:n,realIndex:n,animationDelay:n,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[n],strokeLineCap:i.config.stroke.lineCap},f=null;i.globals.previousPaths.length>0&&(f=e.getPreviousPath(n));for(var g=0;g<d.linePathsTo.length;g++){var v=e.graphics.renderPaths(o(o({},h),{},{pathFrom:null===f?d.linePathsFrom[g]:f,pathTo:d.linePathsTo[g],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[n]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var y=s.fillPath({seriesNumber:n}),b=e.graphics.renderPaths(o(o({},h),{},{pathFrom:null===f?d.areaPathsFrom[g]:f,pathTo:d.areaPathsTo[g],strokeWidth:0,fill:y,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var w=new k(e.ctx),C=i.config.chart.dropShadow;w.dropShadow(b,Object.assign({},C,{noUserSpaceOnUse:!0}),n)}c.add(b)}t.forEach((function(t,s){var a=new z(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:n,dataPointIndex:s}),l=e.graphics.drawMarker(u[s].x,u[s].y,a);l.attr("rel",s),l.attr("j",s),l.attr("index",n),l.node.setAttribute("default-marker-size",a.pSize);var d=e.graphics.group({class:"apexcharts-series-markers"});d&&d.add(l),p.add(d),c.add(p);var h=i.config.dataLabels;if(h.enabled){var f=h.formatter(i.globals.series[n][s],{seriesIndex:n,dataPointIndex:s,w:i});r.plotDataLabelsText({x:u[s].x,y:u[s].y,text:f,textAnchor:"middle",i:n,j:n,parent:m,offsetCorrection:!1,dataLabelsConfig:o({},h)})}c.add(m)})),a.push(c)})),this.drawPolygons({parent:h}),i.config.xaxis.labels.show){var f=this.drawXAxisTexts();h.add(f)}return a.forEach((function(t){h.add(t)})),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,s=t.parent,a=new Pt(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),r=o.length,n=[],l=this.size/(r-1),c=0;c<r;c++)n[c]=l*c;n.reverse();var d=[],h=[];n.forEach((function(t,i){var s=x.getPolygonPos(t,e.dataPointsLen),a="";s.forEach((function(t,s){if(0===i){var o=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[s]:e.polygons.connectorColors);h.push(o)}0===s&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),a+=t.x+","+t.y+" "})),d.push(a)})),d.forEach((function(t,a){var o=e.polygons.strokeColors,r=e.polygons.strokeWidth,n=e.graphics.drawPolygon(t,Array.isArray(o)?o[a]:o,Array.isArray(r)?r[a]:r,i.globals.radarPolygons.fill.colors[a]);s.add(n)})),h.forEach((function(t){s.add(t)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,i){var s=a.drawYAxisTexts(t.x,t.y,i,o[i]);e.yaxisLabels.add(s)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=x.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(r,n){var l=e.config.xaxis.labels.formatter,c=new V(t.ctx);if(a[n]){var d=t.getTextPos(a[n],t.size),h=l(r,{seriesIndex:-1,dataPointIndex:n,w:e});c.plotDataLabelsText({x:d.newX,y:d.newY,text:h,textAnchor:d.textAnchor,i:n,j:n,parent:s,color:Array.isArray(i.style.colors)&&i.style.colors[n]?i.style.colors[n]:"#a8a8a8",dataLabelsConfig:o({textAnchor:d.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}})),s}},{key:"createPaths",value:function(t,e){var i=this,s=[],a=[],o=[],r=[];if(t.length){a=[this.graphics.move(e.x,e.y)],r=[this.graphics.move(e.x,e.y)];var n=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,s){n+=i.graphics.line(e.x,e.y),l+=i.graphics.line(e.x,e.y),s===t.length-1&&(n+="Z",l+="Z")})),s.push(n),o.push(l)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:r,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var i="middle",s=t.x,a=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",s+=10):t.x<0&&(i="end",s-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?a-=10:t.y>0&&(a+=10)),{textAnchor:i,newX:s,newY:a}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,s=0;s<e.globals.previousPaths.length;s++){var a=e.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[s].paths[0]&&(i=e.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var s=[],a=0;a<i;a++){var o={};o.x=t[a]*Math.sin(e[a]),o.y=-t[a]*Math.cos(e[a]),s.push(o)}return s}}]),t}(),Ft=function(t){h(i,_t);var e=f(i);function i(t){var s;n(this,i),(s=e.call(this,t)).ctx=t,s.w=t.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),360===s.endAngle&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s}return c(i,[{key:"draw",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-radialbar"});if(e.globals.noData)return s;var a=i.group(),o=this.defaultSize/2,r=e.globals.gridWidth/2,n=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(n=n-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:n,centerX:r,centerY:o,colorArr:l,series:t});a.add(c)}var d=this.drawArcs({size:n,centerX:r,centerY:o,colorArr:l,series:t}),h=360;e.config.plotOptions.radialBar.startAngle<0&&(h=this.totalAngle);var u=(360-h)/360;if(e.globals.radialSize=n-n*u,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=p*u}return a.add(d.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),s.add(a),s}},{key:"drawTracks",value:function(t){var e=this.w,i=new C(this.ctx),s=i.group({class:"apexcharts-tracks"}),a=new k(this.ctx),o=new R(this.ctx),r=this.getStrokeWidth(t);t.size=t.size-r/2;for(var n=0;n<t.series.length;n++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(l),l.attr({rel:n+1}),t.size=t.size-r-this.margin;var c=e.config.plotOptions.radialBar.track,d=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[n]:c.background,solid:!0}),h=this.trackStartAngle,u=this.trackEndAngle;Math.abs(u)+Math.abs(h)>=360&&(u=360-Math.abs(this.startAngle)-.1);var p=i.drawPath({d:"",stroke:d,strokeWidth:r*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var m=c.dropShadow;a.dropShadow(p,m)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+n),this.animatePaths(p,{centerX:t.centerX,centerY:t.centerY,endAngle:u,startAngle:h,size:t.size,i:n,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return s}},{key:"drawArcs",value:function(t){var e=this.w,i=new C(this.ctx),s=new R(this.ctx),a=new k(this.ctx),o=i.group(),r=this.getStrokeWidth(t);t.size=t.size-r/2;var n=e.config.plotOptions.radialBar.hollow.background,l=t.size-r*t.series.length-this.margin*t.series.length-r*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(n=this.drawHollowImage(t,o,l,n));var d=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:n||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var h=e.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(d,h)}var u=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(u=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:u})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(d),p&&o.add(p));var m=!1;e.config.plotOptions.radialBar.inverseOrder&&(m=!0);for(var f=m?t.series.length-1:0;m?f>=0:f<t.series.length;m?f--:f++){var g=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:x.escapeString(e.globals.seriesNames[f])});o.add(g),g.attr({rel:f+1,"data:realIndex":f}),this.ctx.series.addCollapsedClassToSeries(g,f),t.size=t.size-r-this.margin;var v=s.fillPath({seriesNumber:f,size:t.size,value:t.series[f]}),y=this.startAngle,b=void 0,w=x.negToZero(t.series[f]>100?100:t.series[f])/100,S=Math.round(this.totalAngle*w)+this.startAngle,A=void 0;e.globals.dataChanged&&(b=this.startAngle,A=Math.round(this.totalAngle*x.negToZero(e.globals.previousPaths[f])/100)+b),Math.abs(S)+Math.abs(y)>=360&&(S-=.01),Math.abs(A)+Math.abs(b)>=360&&(A-=.01);var I=S-y,T=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[f]:e.config.stroke.dashArray,L=i.drawPath({d:"",stroke:v,strokeWidth:r,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+f,strokeDashArray:T});if(C.setAttrs(L.node,{"data:angle":I,"data:value":t.series[f]}),e.config.chart.dropShadow.enabled){var P=e.config.chart.dropShadow;a.dropShadow(L,P,f)}a.setSelectionFilter(L,0,f),this.addListeners(L,this.radialDataLabels),g.add(L),L.attr({index:0,j:f});var _=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(_=e.config.chart.animations.speed),e.globals.dataChanged&&(_=e.config.chart.animations.dynamicAnimation.speed),this.animDur=_/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(L,{centerX:t.centerX,centerY:t.centerY,endAngle:S,startAngle:y,prevEndAngle:A,prevStartAngle:b,size:t.size,i:f,totalItems:2,animBeginArr:this.animBeginArr,dur:_,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:d,dataLabels:p}}},{key:"drawHollow",value:function(t){var e=new C(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,i,s){var a=this.w,o=new R(this.ctx),r=x.randomId(),n=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:i,height:i,image:n,patternID:"pattern".concat(a.globals.cuid).concat(r)}),s="url(#pattern".concat(a.globals.cuid).concat(r,")");else{var l=a.config.plotOptions.radialBar.hollow.imageWidth,c=a.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var d=a.globals.dom.Paper.image(n).loaded((function(e){this.move(t.centerX-e.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(d)}else{var h=a.globals.dom.Paper.image(n).loaded((function(e){this.move(t.centerX-l/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(h)}}return s}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),i}(),Dt=function(t){h(i,St);var e=f(i);function i(){return n(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this.w,s=new C(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var a=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),r=0;r<t.length;r++){var n,l,c,d=void 0,h=void 0,u=void 0,p=i.globals.comboCharts?e[r]:r,m=s.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[p]),rel:r+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(m,p),t[r].length>0&&(this.visibleI=this.visibleI+1);var f=0,g=0;this.yRatio.length>1&&(this.yaxisIndex=p);var v=this.barHelpers.initialPositions();h=v.y,c=v.zeroW,d=v.x,g=v.barWidth,n=v.xDivision,l=v.zeroH;for(var y=s.group({class:"apexcharts-datalabels","data:realIndex":p}),b=s.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<i.globals.dataPoints;w++){var k=this.barHelpers.getStrokeWidth(r,w,p),S=this.seriesRangeStart[r][w],A=this.seriesRangeEnd[r][w],I=null,T=null,L={x:d,y:h,strokeWidth:k,elSeries:m};if(u=v.yDivision,f=v.barHeight,this.isHorizontal){T=h+f*this.visibleI;var P=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(P=1);var _=(u-f*P)/2;if(void 0===i.config.series[r].data[w])break;if(i.config.series[r].data[w].x){var M=this.detectOverlappingBars({i:r,j:w,barYPosition:T,srty:_,barHeight:f,yDivision:u,initPositions:v});f=M.barHeight,T=M.barYPosition}g=(I=this.drawRangeBarPaths(o({indexes:{i:r,j:w,realIndex:p},barHeight:f,barYPosition:T,zeroW:c,yDivision:u,y1:S,y2:A},L))).barWidth}else f=(I=this.drawRangeColumnPaths(o({indexes:{i:r,j:w,realIndex:p},zeroH:l,barWidth:g,xDivision:n},L))).barHeight;var F=this.barHelpers.drawGoalLine({barXPosition:I.barXPosition,barYPosition:T,goalX:I.goalX,goalY:I.goalY,barHeight:f,barWidth:g});F&&b.add(F),h=I.y,d=I.x;var D=this.barHelpers.getPathFillColor(t,r,w,p),B=i.globals.stroke.colors[p];this.renderSeries({realIndex:p,pathFill:D,lineFill:B,j:w,i:r,x:d,y:h,y1:S,y2:A,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:k,elSeries:m,series:t,barHeight:f,barYPosition:T,barWidth:g,elDataLabelsWrap:y,elGoalsMarkers:b,visibleSeries:this.visibleI,type:"rangebar"})}a.add(m)}return a}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,s=t.barYPosition,a=t.srty,o=t.barHeight,r=t.yDivision,n=t.initPositions,l=this.w,c=[],d=l.config.series[e].data[i].rangeName,h=l.config.series[e].data[i].x,u=l.globals.labels.indexOf(h),p=l.globals.seriesRange[e].findIndex((function(t){return t.x===h&&t.overlaps.length>0}));return s=l.config.plotOptions.bar.rangeBarGroupRows?a+r*u:a+o*this.visibleI+r*u,p>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRange[e][p].overlaps).indexOf(d)>-1&&(s=(o=n.barHeight/c.length)*this.visibleI+r*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+c.indexOf(d))+r*u),{barYPosition:s,barHeight:o}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x;t.strokeWidth;var s=t.xDivision,a=t.barWidth,o=t.zeroH,r=this.w,n=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],d=e.realIndex,h=this.getRangeValue(d,l),u=Math.min(h.start,h.end),p=Math.max(h.start,h.end);r.globals.isXNumeric&&(i=(r.globals.seriesX[n][l]-r.globals.minX)/this.xRatio-a/2);var m=i+a*this.visibleI;void 0===this.series[n][l]||null===this.series[n][l]?u=o:(u=o-u/c,p=o-p/c);var f=Math.abs(p-u),g=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:a,y1:u,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:d,j:l,w:r});return r.globals.isXNumeric||(i+=s),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:f,x:i,y:p,goalY:this.barHelpers.getGoalValues("y",null,o,n,l),barXPosition:m}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,s=t.y1,a=t.y2,o=t.yDivision,r=t.barHeight,n=t.barYPosition,l=t.zeroW,c=this.w,d=l+s/this.invertedYRatio,h=l+a/this.invertedYRatio,u=Math.abs(h-d),p=this.barHelpers.getBarpaths({barYPosition:n,barHeight:r,x1:d,x2:h,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=o),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:u,x:h,goalX:this.barHelpers.getGoalValues("x",l,null,e.realIndex,e.j),y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}}]),i}(),Bt=function(){function t(e){n(this,t),this.w=e.w,this.lineCtx=e}return c(t,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if(("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new S(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var s=e[t].slice();s[s.length-1]=s[s.length-1]+1e-6,e[t]=s}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,s=t.x,a=t.y,o=t.i,r=t.j,n=t.prevY,l=this.w,c=[],d=[];if(0===r){var h=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(h=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(h),d.push(x.isNumber(e[o][0])?n+l.config.markers.offsetY:null),c.push(s+l.config.markers.offsetX),d.push(x.isNumber(e[o][r+1])?a+l.config.markers.offsetY:null)}else c.push(s+l.config.markers.offsetX),d.push(x.isNumber(e[o][r+1])?a+l.config.markers.offsetY:null);return{x:c,y:d}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,s=t.realIndex,a=this.w,o=0;o<a.globals.previousPaths.length;o++){var r=a.globals.previousPaths[o];("line"===r.type||"area"===r.type)&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(s,10)&&("line"===r.type?(this.lineCtx.appendPathFrom=!1,e=a.globals.previousPaths[o].paths[0].d):"area"===r.type&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[o].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[o].paths[1]&&(e=a.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i=t.i,s=t.series,a=t.prevY,o=t.lineYPosition,r=this.w;if(void 0!==(null===(e=s[i])||void 0===e?void 0:e[0]))a=(o=r.config.chart.stacked&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?s[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(r.config.chart.stacked&&i>0&&void 0===s[i][0])for(var n=i-1;n>=0;n--)if(null!==s[n][0]&&void 0!==s[n][0]){a=o=this.lineCtx.prevSeriesY[n][0];break}return{prevY:a,lineYPosition:o}}}]),t}(),Ot=function(){function t(e,i,s){n(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||s,this.scatter=new q(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Bt(this),this.markers=new z(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(t,[{key:"draw",value:function(t,e,i,s){var a=this.w,r=new C(this.ctx),n=a.globals.comboCharts?e:a.config.chart.type,l=r.group({class:"apexcharts-".concat(n,"-series apexcharts-plot-series")}),c=new S(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=c.getLogSeries(t),this.yRatio=c.getLogYRatios(this.yRatio);for(var d=[],h=0;h<t.length;h++){t=this.lineHelpers.sameValueSeriesFix(h,t);var u=a.globals.comboCharts?i[h]:h;this._initSerieVariables(t,h,u);var p=[],m=[],f=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(f=(a.globals.seriesX[u][0]-a.globals.minX)/this.xRatio),m.push(f);var g,v=f,y=void 0,b=v,x=this.zeroY,w=this.zeroY;x=this.lineHelpers.determineFirstPrevY({i:h,series:t,prevY:x,lineYPosition:0}).prevY,p.push(x),g=x,"rangeArea"===n&&(y=w=this.lineHelpers.determineFirstPrevY({i:h,series:s,prevY:w,lineYPosition:0}).prevY);var k={type:n,series:t,realIndex:u,i:h,x:f,y:1,pX:v,pY:g,pathsFrom:this._calculatePathsFrom({type:n,series:t,i:h,realIndex:u,prevX:b,prevY:x,prevY2:w}),linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:m,yArrj:p,seriesRangeEnd:s},A=this._iterateOverDataPoints(o(o({},k),{},{iterations:"rangeArea"===n?t[h].length-1:void 0,isRangeStart:!0}));if("rangeArea"===n){var I=this._calculatePathsFrom({series:s,i:h,realIndex:u,prevX:b,prevY:w}),T=this._iterateOverDataPoints(o(o({},k),{},{series:s,pY:y,pathsFrom:I,iterations:s[h].length-1,isRangeStart:!1}));A.linePaths[0]=T.linePath+A.linePath,A.pathFromLine=T.pathFromLine+A.pathFromLine}this._handlePaths({type:n,realIndex:u,i:h,paths:A}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(a.config.chart.stacked)for(var L=d.length;L>0;L--)l.add(d[L-1]);else for(var P=0;P<d.length;P++)l.add(d[P]);return l}},{key:"_initSerieVariables",value:function(t,e,i){var s=this.w,a=new C(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-("on"===s.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||"end"===s.config.plotOptions.area.fillTo)&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i});var o=t[e].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":o,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,s,a,o=t.type,r=t.series,n=t.i,l=t.realIndex,c=t.prevX,d=t.prevY,h=t.prevY2,u=this.w,p=new C(this.ctx);if(null===r[n][0]){for(var m=0;m<r[n].length;m++)if(null!==r[n][m]){c=this.xDivision*m,d=this.zeroY-r[n][m]/this.yRatio[this.yaxisIndex],e=p.move(c,d),i=p.move(c,this.areaBottomY);break}}else e=p.move(c,d),"rangeArea"===o&&(e=p.move(c,h)+p.line(c,d)),i=p.move(c,this.areaBottomY)+p.line(c,d);if(s=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),a=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),u.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:l});s=f.pathFromLine,a=f.pathFromArea}return{prevX:c,prevY:d,linePath:e,areaPath:i,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,s=t.i,a=t.paths,r=this.w,n=new C(this.ctx),l=new R(this.ctx);this.prevSeriesY.push(a.yArrj),r.globals.seriesXvalues[i]=a.xArrj,r.globals.seriesYvalues[i]=a.yArrj;var c=r.config.forecastDataPoints;if(c.count>0&&"rangeArea"!==e){var d=r.globals.seriesXvalues[i][r.globals.seriesXvalues[i].length-c.count-1],h=n.drawRect(d,0,r.globals.gridWidth,r.globals.gridHeight,0);r.globals.dom.elForecastMask.appendChild(h.node);var u=n.drawRect(0,0,d,r.globals.gridHeight,0);r.globals.dom.elNonForecastMask.appendChild(u.node)}this.pointsChart||r.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var p={i:s,realIndex:i,animationDelay:s,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var m=l.fillPath({seriesNumber:i}),f=0;f<a.areaPaths.length;f++){var g=n.renderPaths(o(o({},p),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[f],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:m}));this.elSeries.add(g)}if(r.config.stroke.show&&!this.pointsChart){var v=null;if("line"===e)v=l.fillPath({seriesNumber:i,i:s});else if("solid"===r.config.stroke.fill.type)v=r.globals.stroke.colors[i];else{var y=r.config.fill;r.config.fill=r.config.stroke.fill,v=l.fillPath({seriesNumber:i,i:s}),r.config.fill=y}for(var b=0;b<a.linePaths.length;b++){var x=v;"rangeArea"===e&&(x=l.fillPath({seriesNumber:i}));var w=o(o({},p),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:r.config.stroke.lineCap,fill:"rangeArea"===e?x:"none"}),k=n.renderPaths(w);if(this.elSeries.add(k),k.attr("fill-rule","evenodd"),c.count>0&&"rangeArea"!==e){var S=n.renderPaths(w);S.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&S.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(r.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(r.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e=t.type,i=t.series,s=t.iterations,a=t.realIndex,o=t.i,r=t.x,n=t.y,l=t.pX,c=t.pY,d=t.pathsFrom,h=t.linePaths,u=t.areaPaths,p=t.seriesIndex,m=t.lineYPosition,f=t.xArrj,g=t.yArrj,v=t.isRangeStart,y=t.seriesRangeEnd,b=this.w,w=new C(this.ctx),k=this.yRatio,S=d.prevY,A=d.linePath,I=d.areaPath,T=d.pathFromLine,L=d.pathFromArea,P=x.isNumber(b.globals.minYArr[a])?b.globals.minYArr[a]:b.globals.minY;s||(s=b.globals.dataPoints>1?b.globals.dataPoints-1:b.globals.dataPoints);for(var _=n,M=0;M<s;M++){var F=void 0===i[o][M+1]||null===i[o][M+1];if(b.globals.isXNumeric){var D=b.globals.seriesX[a][M+1];void 0===b.globals.seriesX[a][M+1]&&(D=b.globals.seriesX[a][s-1]),r=(D-b.globals.minX)/this.xRatio}else r+=this.xDivision;m=b.config.chart.stacked&&o>0&&b.globals.collapsedSeries.length<b.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<b.globals.series.length;i++)if(b.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(o-1)][M+1]:this.zeroY,F?n=m-P/k[this.yaxisIndex]+2*(this.isReversed?P/k[this.yaxisIndex]:0):(n=m-i[o][M+1]/k[this.yaxisIndex]+2*(this.isReversed?i[o][M+1]/k[this.yaxisIndex]:0),"rangeArea"===e&&(_=m-y[o][M+1]/k[this.yaxisIndex]+2*(this.isReversed?y[o][M+1]/k[this.yaxisIndex]:0))),f.push(r),g.push(n);var B=this.lineHelpers.calculatePoints({series:i,x:r,y:n,realIndex:a,i:o,j:M,prevY:S}),O=this._createPaths({type:e,series:i,i:o,realIndex:a,j:M,x:r,y:n,y2:_,pX:l,pY:c,linePath:A,areaPath:I,linePaths:h,areaPaths:u,seriesIndex:p,isRangeStart:v});u=O.areaPaths,h=O.linePaths,l=O.pX,c=O.pY,I=O.areaPath,A=O.linePath,this.appendPathFrom&&(T+=w.line(r,this.zeroY),L+=w.line(r,this.zeroY)),this.handleNullDataPoints(i,B,o,M,a),this._handleMarkersAndLabels({type:e,pointsPos:B,i:o,j:M,realIndex:a,isRangeStart:v})}return{yArrj:g,xArrj:f,pathFromArea:L,areaPaths:u,pathFromLine:T,linePaths:h,linePath:A,areaPath:I}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,s=t.isRangeStart,a=t.i,o=t.j,r=t.realIndex,n=this.w,l=new V(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:r,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{n.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(i,r,o+1);null!==c&&this.elPointsMain.add(c)}var d=l.drawDataLabel({type:e,isRangeStart:s,pos:i,i:r,j:o+1});null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(t){var e=t.type,i=t.series,s=t.i,a=t.realIndex,o=t.j,r=t.x,n=t.y,l=t.y2,c=t.pX,d=t.pY,h=t.linePath,u=t.areaPath,p=t.linePaths,m=t.areaPaths,f=t.seriesIndex,g=t.isRangeStart,v=this.w,y=new C(this.ctx),b=v.config.stroke.curve,x=this.areaBottomY;if(Array.isArray(v.config.stroke.curve)&&(b=Array.isArray(f)?v.config.stroke.curve[f[s]]:v.config.stroke.curve[s]),"smooth"===b){var w=.35*(r-c);v.globals.hasNullValues?(null!==i[s][o]&&(null!==i[s][o+1]?(h=y.move(c,d)+y.curve(c+w,d,r-w,n,r+1,n),u=y.move(c+1,d)+y.curve(c+w,d,r-w,n,r+1,n)+y.line(r,x)+y.line(c,x)+"z"):(h=y.move(c,d),u=y.move(c,d)+"z")),p.push(h),m.push(u)):(h+=y.curve(c+w,d,r-w,n,r,n),u+=y.curve(c+w,d,r-w,n,r,n)),c=r,d=n,o===i[s].length-2&&(u=u+y.curve(c,d,r,n,r,x)+y.move(r,n)+"z","rangeArea"===e&&g?h=h+y.curve(c,d,r,n,r,l)+y.move(r,l)+"z":v.globals.hasNullValues||(p.push(h),m.push(u)))}else{if(null===i[s][o+1]){h+=y.move(r,n);var k=v.globals.isXNumeric?(v.globals.seriesX[a][o]-v.globals.minX)/this.xRatio:r-this.xDivision;u=u+y.line(k,x)+y.move(r,n)+"z"}null===i[s][o]&&(h+=y.move(r,n),u+=y.move(r,x)),"stepline"===b?(h=h+y.line(r,null,"H")+y.line(null,n,"V"),u=u+y.line(r,null,"H")+y.line(null,n,"V")):"straight"===b&&(h+=y.line(r,n),u+=y.line(r,n)),o===i[s].length-2&&(u=u+y.line(r,x)+y.move(r,n)+"z","rangeArea"===e&&g?h=h+y.line(r,l)+y.move(r,l)+"z":(p.push(h),m.push(u)))}return{linePaths:p,areaPaths:m,pX:c,pY:d,linePath:h,areaPath:u}}},{key:"handleNullDataPoints",value:function(t,e,i,s,a){var o=this.w;if(null===t[i][s]&&o.config.markers.showNullDataPoints||1===t[i].length){var r=this.markers.plotChartMarkers(e,a,s+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0);null!==r&&this.elPointsMain.add(r)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(e,i,s,a){this.xoffset=e,this.yoffset=i,this.height=a,this.width=s,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],s=this.xoffset,a=this.yoffset,r=o(t)/this.height,n=o(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([s,a,s+r,a+t[e]/r]),a+=t[e]/r;else for(e=0;e<t.length;e++)i.push([s,a,s+t[e]/n,a+n]),s+=t[e]/n;return i},this.cutArea=function(e){var i;if(this.width>=this.height){var s=e/this.height,a=this.width-s;i=new t(this.xoffset+s,this.yoffset,a,this.height)}else{var o=e/this.width,r=this.height-o;i=new t(this.xoffset,this.yoffset+o,this.width,r)}return i}}function e(e,s,a,r,n){r=void 0===r?0:r,n=void 0===n?0:n;var l=i(function(t,e){var i,s=[],a=e/o(t);for(i=0;i<t.length;i++)s[i]=t[i]*a;return s}(e,s*a),[],new t(r,n,s,a),[]);return function(t){var e,i,s=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)s.push(t[e][i]);return s}(l)}function i(t,e,a,r){var n,l,c;if(0!==t.length)return n=a.shortestEdge(),function(t,e,i){var a;if(0===t.length)return!0;(a=t.slice()).push(e);var o=s(t,i),r=s(a,i);return o>=r}(e,l=t[0],n)?(e.push(l),i(t.slice(1),e,a,r)):(c=a.cutArea(o(e),r),r.push(a.getCoordinates(e)),i(t,[],c,r)),r;r.push(a.getCoordinates(e))}function s(t,e){var i=Math.min.apply(Math,t),s=Math.max.apply(Math,t),a=o(t);return Math.max(Math.pow(e,2)*s/Math.pow(a,2),Math.pow(a,2)/(Math.pow(e,2)*i))}function a(t){return t&&t.constructor===Array}function o(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function r(t){var e,i=0;if(a(t[0]))for(e=0;e<t.length;e++)i+=r(t[e]);else i=o(t);return i}return function t(i,s,o,n,l){n=void 0===n?0:n,l=void 0===l?0:l;var c,d,h=[],u=[];if(a(i[0])){for(d=0;d<i.length;d++)h[d]=r(i[d]);for(c=e(h,s,o,n,l),d=0;d<i.length;d++)u.push(t(i[d],c[d][2]-c[d][0],c[d][3]-c[d][1],c[d][0],c[d][1]))}else u=e(i,s,o,n,l);return u}}();var Et,Nt,$t=function(){function t(e,i){n(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Tt(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,s=new C(this.ctx),a=new R(this.ctx),o=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var r=[];return t.forEach((function(t){var e=t.map((function(t){return Math.abs(t)}));r.push(e)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(t,i){t.data.forEach((function(t){Array.isArray(e.labels[i])||(e.labels[i]=[]),e.labels[i].push(t.x)}))})),window.TreemapSquared.generate(r,i.globals.gridWidth,i.globals.gridHeight).forEach((function(r,n){var l=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:x.escapeString(i.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});if(i.config.chart.dropShadow.enabled){var c=i.config.chart.dropShadow;new k(e.ctx).dropShadow(o,c,n)}var d=s.group({class:"apexcharts-data-labels"});r.forEach((function(o,r){var c=o[0],d=o[1],h=o[2],u=o[3],p=s.drawRect(c,d,h-c,u-d,0,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?f:i.globals.stroke.colors[n]);p.attr({cx:c,cy:d,index:n,i:n,j:r,width:h-c,height:u-d});var m=e.helpers.getShadeColor(i.config.chart.type,n,r,e.negRange),f=m.color;void 0!==i.config.series[n].data[r]&&i.config.series[n].data[r].fillColor&&(f=i.config.series[n].data[r].fillColor);var g=a.fillPath({color:f,seriesNumber:n,dataPointIndex:r});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),e.helpers.addListeners(p);var v={x:c+(h-c)/2,y:d+(u-d)/2,width:0,height:0},y={x:c,y:d,width:h-c,height:u-d};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var b=1;i.globals.resized||(b=i.config.chart.animations.speed),e.animateTreemap(p,v,y,b)}if(i.globals.dataChanged){var x=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(x=e.dynamicAnim.speed,i.globals.previousPaths[n]&&i.globals.previousPaths[n][r]&&i.globals.previousPaths[n][r].rect&&(v=i.globals.previousPaths[n][r].rect),e.animateTreemap(p,v,y,x))}var w=e.getFontSize(o),k=i.config.dataLabels.formatter(e.labels[n][r],{value:i.globals.series[n][r],seriesIndex:n,dataPointIndex:r,w:i}),C=e.helpers.calculateDataLabels({text:k,x:(c+h)/2,y:(d+u)/2+e.strokeWidth/2+w/3,i:n,j:r,colorProps:m,fontSize:w,series:t});i.config.dataLabels.enabled&&C&&e.rotateToFitLabel(C,w,k,c,d,h,u),l.add(p),null!==C&&l.add(C)})),l.add(d),o.add(l)})),o}},{key:"getFontSize",value:function(t){var e,i,s,a,o=this.w,r=function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=e[i].length;return s}(this.labels)/function t(e){var i,s=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)s+=t(e[i]);else for(i=0;i<e.length;i++)s+=1;return s}(this.labels);return e=t[2]-t[0],i=t[3]-t[1],s=e*i,a=Math.pow(s,.5),Math.min(a/r,parseInt(o.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,s,a,o,r){var n=new C(this.ctx),l=n.getTextRects(i,e);if(l.width+this.w.config.stroke.width+5>o-s&&l.width<=r-a){var c=n.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,s){var a=new w(this.ctx);a.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},s,(function(){a.animationCompleted(t)}))}}]),t}(),Rt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new F(this.ctx),r=(e-t)/864e5;this.determineInterval(r),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,r<.00011574074074074075?s.globals.disableZoomIn=!0:r>5e4&&(s.globals.disableZoomOut=!0);var n=a.getTimeUnitsfromTimestamp(t,e,this.utc),l=s.globals.gridWidth/r,c=l/24,d=c/60,h=d/60,u=Math.floor(24*r),p=Math.floor(1440*r),m=Math.floor(86400*r),f=Math.floor(r),g=Math.floor(r/30),v=Math.floor(r/365),y={minMillisecond:n.minMillisecond,minSecond:n.minSecond,minMinute:n.minMinute,minHour:n.minHour,minDate:n.minDate,minMonth:n.minMonth,minYear:n.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:d,secondsWidthOnXAxis:h,numberOfSeconds:m,numberOfMinutes:p,numberOfHours:u,numberOfDays:f,numberOfMonths:g,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var x=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?o(o({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?o(o({},e),{},{value:t.value}):"minute"===t.unit?o(o({},e),{},{value:t.value,minute:t.value}):"second"===t.unit?o(o({},e),{},{value:t.value,minute:t.minute,second:t.second}):t}));return x.filter((function(t){var e=1,a=Math.ceil(s.globals.gridWidth/120),o=t.value;void 0!==s.config.xaxis.tickAmount&&(a=s.config.xaxis.tickAmount),x.length>a&&(e=Math.floor(x.length/a));var r=!1,n=!1;switch(i.tickInterval){case"years":"year"===t.unit&&(r=!0);break;case"half_year":e=7,"year"===t.unit&&(r=!0);break;case"months":e=1,"year"===t.unit&&(r=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(r=!0),30===o&&(n=!0);break;case"months_days":e=10,"month"===t.unit&&(r=!0),30===o&&(n=!0);break;case"week_days":e=8,"month"===t.unit&&(r=!0);break;case"days":e=1,"month"===t.unit&&(r=!0);break;case"hours":"day"===t.unit&&(r=!0);break;case"minutes_fives":case"seconds_fives":o%5!=0&&(n=!0);break;case"seconds_tens":o%10!=0&&(n=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!n)return!0}else if((o%e==0||r)&&!n)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,s=this.formatDates(t),a=this.removeOverlappingTS(s);i.globals.timescaleLabels=a.slice(),new dt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.daysWidthOnXAxis,o=t.numberOfYears,r=e.minYear,n=0,l=new F(this.ctx),c="year";if(e.minDate>1||e.minMonth>0){var d=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);n=(l.determineDaysOfYear(e.minYear)-d+1)*a,r=e.minYear+1,this.timeScaleArray.push({position:n,value:r,unit:c,year:r,month:x.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:n,value:r,unit:c,year:s,month:x.monthMod(i+1)});for(var h=r,u=n,p=0;p<o;p++)h++,u=l.determineDaysOfYear(h-1)*a+u,this.timeScaleArray.push({position:u,value:h,unit:c,year:h,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,s=t.currentMonth,a=t.currentYear,o=t.daysWidthOnXAxis,r=t.numberOfMonths,n=s,l=0,c=new F(this.ctx),d="month",h=0;if(e.minDate>1){l=(c.determineDaysOfMonths(s+1,e.minYear)-i+1)*o,n=x.monthMod(s+1);var u=a+h,p=x.monthMod(n),m=n;0===n&&(d="year",m=u,p=1,u+=h+=1),this.timeScaleArray.push({position:l,value:m,unit:d,year:u,month:p})}else this.timeScaleArray.push({position:l,value:n,unit:d,year:a,month:x.monthMod(s)});for(var f=n+1,g=l,v=0,y=1;v<r;v++,y++){0===(f=x.monthMod(f))?(d="year",h+=1):d="month";var b=this._getYear(a,f,h);g=c.determineDaysOfMonths(f,b)*o+g;var w=0===f?b:f;this.timeScaleArray.push({position:g,value:w,unit:d,year:b,month:0===f?1:f}),f++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.hoursWidthOnXAxis,o=t.numberOfDays,r=new F(this.ctx),n="day",l=e.minDate+1,c=l,d=function(t,e,i){return t>r.determineDaysOfMonths(e+1,i)?(c=1,n="month",u=e+=1,e):e},h=(24-e.minHour)*a,u=l,p=d(c,i,s);0===e.minHour&&1===e.minDate?(h=0,u=x.monthMod(e.minMonth),n="month",c=e.minDate,o++):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(h=0,l=e.minDate,u=l,p=d(c=l,i,s)),this.timeScaleArray.push({position:h,value:u,unit:n,year:this._getYear(s,p,0),month:x.monthMod(p),day:c});for(var m=h,f=0;f<o;f++){n="day",p=d(c+=1,p,this._getYear(s,p,0));var g=this._getYear(s,p,0);m=24*a+m;var v=1===c?x.monthMod(p):c;this.timeScaleArray.push({position:m,value:v,unit:n,year:g,month:x.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,s=t.currentMonth,a=t.currentYear,o=t.minutesWidthOnXAxis,r=t.numberOfHours,n=new F(this.ctx),l="hour",c=function(t,e){return t>n.determineDaysOfMonths(e+1,a)&&(f=1,e+=1),{month:e,date:f}},d=function(t,e){return t>n.determineDaysOfMonths(e+1,a)?e+=1:e},h=60-(e.minMinute+e.minSecond/60),u=h*o,p=e.minHour+1,m=p+1;60===h&&(u=0,m=(p=e.minHour)+1);var f=i,g=d(f,s);this.timeScaleArray.push({position:u,value:p,unit:l,day:f,hour:m,year:a,month:x.monthMod(g)});for(var v=u,y=0;y<r;y++){l="hour",m>=24&&(m=0,l="day",g=c(f+=1,g).month,g=d(f,g));var b=this._getYear(a,g,0);v=0===m&&0===y?h*o:60*o+v;var w=0===m?f:m;this.timeScaleArray.push({position:v,value:w,unit:l,hour:m,day:f,year:b,month:x.monthMod(g)}),m++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,r=t.currentMonth,n=t.currentYear,l=t.minutesWidthOnXAxis,c=t.secondsWidthOnXAxis,d=t.numberOfMinutes,h=s+1,u=o,p=r,m=n,f=a,g=(60-i-e/1e3)*c,v=0;v<d;v++)h>=60&&(h=0,24===(f+=1)&&(f=0)),this.timeScaleArray.push({position:g,value:h,unit:"minute",hour:f,minute:h,day:u,year:this._getYear(m,p,0),month:x.monthMod(p)}),g+=l,h++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,o=t.currentDate,r=t.currentMonth,n=t.currentYear,l=t.secondsWidthOnXAxis,c=t.numberOfSeconds,d=i+1,h=s,u=o,p=r,m=n,f=a,g=(1e3-e)/1e3*l,v=0;v<c;v++)d>=60&&(d=0,++h>=60&&(h=0,24===++f&&(f=0))),this.timeScaleArray.push({position:g,value:d,unit:"second",hour:f,minute:h,second:d,day:u,year:this._getYear(m,p,0),month:x.monthMod(p)}),g+=l,d++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),"minute"===t.unit?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),"second"===t.unit?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(t){var s=t.value.toString(),a=new F(e.ctx),o=e.createRawDateString(t,s),r=a.getDate(a.parseDate(o));if(e.utc||(r=a.getDate(a.parseDateWithTimezone(o))),void 0===i.config.xaxis.labels.format){var n="dd MMM",l=i.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(n=l.year),"month"===t.unit&&(n=l.month),"day"===t.unit&&(n=l.day),"hour"===t.unit&&(n=l.hour),"minute"===t.unit&&(n=l.minute),"second"===t.unit&&(n=l.second),s=a.formatDate(r,n)}else s=a.formatDate(r,i.config.xaxis.labels.format);return{dateString:o,position:t.position,value:s,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,s=new C(this.ctx),a=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(a=!0,e=s.getTextRects(t[0].value).width);var o=0,r=t.map((function(r,n){if(n>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var l=a?e:s.getTextRects(t[o].value).width,c=t[o].position;return r.position>c+l+10?(o=n,r):null}return r}));return r.filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),t}(),zt=function(){function t(e,i){n(this,t),this.ctx=i,this.w=i.w,this.el=e}return c(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(i)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type||"boxPlot"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),C.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,s=i.config,a=i.globals,o={series:[],i:[]},r={series:[],i:[]},n={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},d={series:[],i:[]},h={series:[],i:[]},u={series:[],i:[]},p={series:[],seriesRangeEnd:[],i:[]};a.series.map((function(e,m){var f=0;void 0!==t[m].type?("column"===t[m].type||"bar"===t[m].type?(a.series.length>1&&s.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(m),f++,i.globals.columnSeries=c.series):"area"===t[m].type?(r.series.push(e),r.i.push(m),f++):"line"===t[m].type?(o.series.push(e),o.i.push(m),f++):"scatter"===t[m].type?(n.series.push(e),n.i.push(m)):"bubble"===t[m].type?(l.series.push(e),l.i.push(m),f++):"candlestick"===t[m].type?(d.series.push(e),d.i.push(m),f++):"boxPlot"===t[m].type?(h.series.push(e),h.i.push(m),f++):"rangeBar"===t[m].type?(u.series.push(e),u.i.push(m),f++):"rangeArea"===t[m].type?(p.series.push(a.seriesRangeStart[m]),p.seriesRangeEnd.push(a.seriesRangeEnd[m]),p.i.push(m),f++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),f>1&&(a.comboCharts=!0)):(o.series.push(e),o.i.push(m))}));var m=new Ot(this.ctx,e),f=new It(this.ctx,e);this.ctx.pie=new _t(this.ctx);var g=new Ft(this.ctx);this.ctx.rangeBar=new Dt(this.ctx,e);var v=new Mt(this.ctx),y=[];if(a.comboCharts){if(r.series.length>0&&y.push(m.draw(r.series,"area",r.i)),c.series.length>0)if(i.config.chart.stacked){var b=new At(this.ctx,e);y.push(b.draw(c.series,c.i))}else this.ctx.bar=new St(this.ctx,e),y.push(this.ctx.bar.draw(c.series,c.i));if(p.series.length>0&&y.push(m.draw(p.series,"rangeArea",p.i,p.seriesRangeEnd)),o.series.length>0&&y.push(m.draw(o.series,"line",o.i)),d.series.length>0&&y.push(f.draw(d.series,d.i)),h.series.length>0&&y.push(f.draw(h.series,h.i)),u.series.length>0&&y.push(this.ctx.rangeBar.draw(u.series,u.i)),n.series.length>0){var x=new Ot(this.ctx,e,!0);y.push(x.draw(n.series,"scatter",n.i))}if(l.series.length>0){var w=new Ot(this.ctx,e,!0);y.push(w.draw(l.series,"bubble",l.i))}}else switch(s.chart.type){case"line":y=m.draw(a.series,"line");break;case"area":y=m.draw(a.series,"area");break;case"bar":s.chart.stacked?y=new At(this.ctx,e).draw(a.series):(this.ctx.bar=new St(this.ctx,e),y=this.ctx.bar.draw(a.series));break;case"candlestick":y=new It(this.ctx,e).draw(a.series);break;case"boxPlot":y=new It(this.ctx,e).draw(a.series);break;case"rangeBar":y=this.ctx.rangeBar.draw(a.series);break;case"rangeArea":y=m.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":y=new Lt(this.ctx,e).draw(a.series);break;case"treemap":y=new $t(this.ctx,e).draw(a.series);break;case"pie":case"donut":case"polarArea":y=this.ctx.pie.draw(a.series);break;case"radialBar":y=g.draw(a.series);break;case"radar":y=v.draw(a.series);break;default:y=m.draw(a.series)}return y}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=x.getDimensions(this.el),s=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===s?x.isNumber(i[0])&&(0===i[0].width&&(i=x.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==s&&""!==s||(t.svgWidth=parseInt(e.chart.width,10));var a=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===a){var o=x.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),C.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==a){var r=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+r+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};C.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,s=t.config.chart.sparkline.enabled?1:15;s+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new ut(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*t.globals.radialSize;if(a&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var r=x.getBoundingClientRect(a);o=r.bottom;var n=r.bottom-r.top;o=Math.max(2.05*t.globals.radialSize,n)}var l=o+e.translateY+i+s;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),t.config.chart.height&&String(t.config.chart.height).indexOf("%")>0||(e.dom.elWrap.style.height=l+"px",C.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new K(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},i=new N,s=this.w.globals;i.initGlobalVars(s),s.seriesXvalues=e(),s.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new it(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new it(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new Rt(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new S(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=e.config.chart.brush.targets||[e.config.chart.brush.target];i.forEach((function(e){var i=ApexCharts.getChartByID(e);i.w.globals.brushSource=t.ctx,"function"!=typeof i.w.config.chart.events.zoomed&&(i.w.config.chart.events.zoomed=function(){t.updateSourceChart(i)}),"function"!=typeof i.w.config.chart.events.scrolled&&(i.w.config.chart.events.scrolled=function(){t.updateSourceChart(i)})})),e.config.chart.events.selection=function(t,s){i.forEach((function(t){var i=ApexCharts.getChartByID(t),a=x.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===i.w.globals.series.length){var r=new J(i);a=r.autoScaleY(i,a,s)}var n=i.w.config.yaxis.reduce((function(t,e,s){return[].concat(v(t),[o(o({},i.w.config.yaxis[s]),{},{min:a[0].min,max:a[0].max})])}),[]);i.ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max},yaxis:n},!1,!1,!1,!1)}))}}}}]),t}(),qt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(n){var l=[e.ctx];a&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach((function(a,c){var d=a.w;if(d.globals.shouldAnimate=s,i||(d.globals.resized=!0,d.globals.dataChanged=!0,s&&a.series.getPreviousPaths()),t&&"object"===r(t)&&(a.config=new E(t),t=S.extendArrayProps(a.config,t,d),a.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,d.config=x.extend(d.config,t),o&&(d.globals.lastXAxis=t.xaxis?x.clone(t.xaxis):[],d.globals.lastYAxis=t.yaxis?x.clone(t.yaxis):[],d.globals.initialConfig=x.extend({},d.config),d.globals.initialSeries=x.clone(d.config.series),t.series))){for(var h=0;h<d.globals.collapsedSeriesIndices.length;h++){var u=d.config.series[d.globals.collapsedSeriesIndices[h]];d.globals.collapsedSeries[h].data=d.globals.axisCharts?u.data.slice():u}for(var p=0;p<d.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[p]];d.globals.ancillaryCollapsedSeries[p].data=d.globals.axisCharts?m.data.slice():m}a.series.emptyCollapsedSeries(d.config.series)}return a.update(t).then((function(){c===l.length-1&&n(a)}))}))}))}},{key:"_updateSeries",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a){var o,r=i.w;return r.globals.shouldAnimate=e,r.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),r.globals.axisCharts?(0===(o=t.map((function(t,e){return i._extendSeries(t,e)}))).length&&(o=[{data:[]}]),r.config.series=o):r.config.series=t.slice(),s&&(r.globals.initialConfig.series=x.clone(r.config.series),r.globals.initialSeries=x.clone(r.config.series)),i.ctx.update().then((function(){a(i.ctx)}))}))}},{key:"_extendSeries",value:function(t,e){var i=this.w,s=i.config.series[e];return o(o({},i.config.series[e]),{},{name:t.name?t.name:s&&s.name,color:t.color?t.color:s&&s.color,type:t.type?t.type:s&&s.type,data:t.data?t.data:s&&s.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"'], ").concat(a," circle[j='").concat(e,"'], ").concat(a," rect[j='").concat(e,"']")).members[0]:void 0===e&&(s=i.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),s?(new C(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(i){void 0!==t.xaxis[i]&&(e.config.xaxis[i]=t.xaxis[i],e.globals.lastXAxis[i]=t.xaxis[i])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new O(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&"100%"===t.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,s=i.globals.lastXAxis,a=i.globals.lastYAxis;t&&t.xaxis&&(s=t.xaxis),t&&t.yaxis&&(a=t.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max;var o=function(t){void 0!==a[t]&&(i.config.yaxis[t].min=a[t].min,i.config.yaxis[t].max=a[t].max)};i.config.yaxis.map((function(t,s){i.globals.zoomed||void 0!==a[s]?o(s):void 0!==e.ctx.opts.yaxis[s]&&(t.min=e.ctx.opts.yaxis[s].min,t.max=e.ctx.opts.yaxis[s].max)}))}}]),t}();Et="undefined"!=typeof window?window:void 0,Nt=function(t,e){var i=(void 0!==this?this:t).SVG=function(t){if(i.supported)return t=new i.Doc(t),i.parser.draw||i.prepare(),t};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(t){return"Svgjs"+h(t)+i.did++},i.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},i.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var s=t.length-1;s>=0;s--)if(t[s])for(var a in e)t[s].prototype[a]=e[a];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,i.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&i.extend(e,t.extend),t.construct&&i.extend(t.parent||i.Container,t.construct),e},i.adopt=function(e){return e?e.instance?e.instance:((s="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new i.Nested:new i.Doc:"linearGradient"==e.nodeName?new i.Gradient("linear"):"radialGradient"==e.nodeName?new i.Gradient("radial"):i[h(e.nodeName)]?new(i[h(e.nodeName)]):new i.Element(e)).type=e.nodeName,s.node=e,e.instance=s,s instanceof i.Doc&&s.namespace().defs(),s.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),s):null;var s},i.prepare=function(){var t=e.getElementsByTagName("body")[0],s=(t?new i.Doc(t):i.adopt(e.documentElement).nested()).size(2,0);i.parser={body:t||e.documentElement,draw:s.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:s.polyline().node,path:s.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},e.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)s.push(e(t[a]));return s},filter:function(t,e){for(var i=t.length,s=[],a=0;a<i;a++)e(t[a])&&s.push(t[a]);return s},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(t){var e,s;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?i.regex.isRgb.test(t)?(e=i.regex.rgb.exec(t.replace(i.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):i.regex.isHex.test(t)&&(e=i.regex.hex.exec(4==(s=t).length?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===r(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new i.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new i.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),i.Color.test=function(t){return t+="",i.regex.isHex.test(t)||i.regex.isRgb.test(t)},i.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},i.Color.isColor=function(t){return i.Color.isRgb(t)||i.Color.test(t)},i.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),i.PointArray=function(t,e){i.Array.call(this,t,e||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var s={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},a="mlhvqtcsaz".split(""),o=0,n=a.length;o<n;++o)s[a[o]]=function(t){return function(e,i,a){if("H"==t)e[0]=e[0]+i.x;else if("V"==t)e[0]=e[0]+i.y;else if("A"==t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var o=0,r=e.length;o<r;++o)e[o]=e[o]+(o%2?i.y:i.x);if(s&&"function"==typeof s[t])return s[t](e,i,a)}}(a[o].toUpperCase());i.PathArray=function(t,e){i.Array.call(this,t,e||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,s="";e<i;e++)s+=t[e][0],null!=t[e][1]&&(s+=t[e][1],null!=t[e][2]&&(s+=" ",s+=t[e][2],null!=t[e][3]&&(s+=" ",s+=t[e][3],s+=" ",s+=t[e][4],null!=t[e][5]&&(s+=" ",s+=t[e][5],s+=" ",s+=t[e][6],null!=t[e][7]&&(s+=" ",s+=t[e][7])))));return s+" "}(this.value)},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,s=this.destination.value,a=[],o=new i.PathArray,r=0,n=e.length;r<n;r++){a[r]=[e[r][0]];for(var l=1,c=e[r].length;l<c;l++)a[r][l]=e[r][l]+(s[r][l]-e[r][l])*t;"A"===a[r][0]&&(a[r][4]=+(0!=a[r][4]),a[r][5]=+(0!=a[r][5]))}return o.value=a,o},parse:function(t){if(t instanceof i.PathArray)return t.valueOf();var e,a={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(i.regex.numbersWithDots,c).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var o=[],r=new i.Point,n=new i.Point,l=0,d=t.length;do{i.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(s[e].call(null,t.slice(l,l+=a[e.toUpperCase()]).map(parseFloat),r,n))}while(d>l);return o},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(i.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof i.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new i.Number(t),new i.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new i.Number(t),new i.Number(this-t,this.unit||t.unit)},times:function(t){return t=new i.Number(t),new i.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new i.Number(t),new i.Number(this/t,this.unit||t.unit)},to:function(t){var e=new i.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new i.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new i.Number(this.destination).minus(this).times(t).plus(this):this}}}),i.Element=i.invent({create:function(t){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var s=p(this,t,e);return this.width(new i.Number(s.width)).height(new i.Number(s.height))},clone:function(t){this.writeDataToDom();var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(i.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return i.get(this.attr(t))},parent:function(e){var s=this;if(!s.node.parentNode)return null;if(s=i.adopt(s.node.parentNode),!e)return s;for(;s&&s.node instanceof t.SVGElement;){if("string"==typeof e?s.matches(e):s instanceof e)return s;if(!s.node.parentNode||"#document"==s.node.parentNode.nodeName)return null;s=i.adopt(s.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var s=e.createElement("svg");if(!(t&&this instanceof i.Parent))return s.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),s.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");s.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var a=0,o=s.firstChild.childNodes.length;a<o;a++)this.node.appendChild(s.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),i.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},i.morph=function(t){return function(e,s){return new i.MorphObj(e,s).at(t)}},i.Situation=i.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(t.duration).valueOf(),this.delay=new i.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,s){"object"===r(t)&&(e=t.ease,s=t.delay,t=t.duration);var a=new i.Situation({duration:t||1e3,delay:s||0,ease:i.easing[e||"-"]||e});return this.queue(a),this},target:function(t){return t&&t instanceof i.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof i.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var s in e.animations){t=this.target()[s](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[s])||(e.animations[s]=[e.animations[s]]);for(var a=t.length;a--;)e.animations[s][a]instanceof i.Number&&(t[a]=new i.Number(t[a])),e.animations[s][a]=t[a].morph(e.animations[s][a])}for(var s in e.attrs)e.attrs[s]=new i.MorphObj(this.target().attr(s),e.attrs[s]);for(var s in e.styles)e.styles[s]=new i.MorphObj(this.target().style(s),e.styles[s]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function i(s){s.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))})),this._callStart()},during:function(t){var e=this.last(),s=function(s){s.detail.situation==e&&t.call(this,s.detail.pos,i.morph(s.detail.pos),s.detail.eased,e)};return this.target().off("during.fx",s).on("during.fx",s),this.after((function(){this.off("during.fx",s)})),this._callStart()},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,s;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,s=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,s=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-s)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var a=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=a&&(this.situation.once[o].call(this.target(),this.pos,a),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:a,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=a,this):this},eachAt:function(){var t,e=this,s=this.target(),a=this.situation;for(var o in a.animations)t=[].concat(a.animations[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s[o].apply(s,t);for(var o in a.attrs)t=[o].concat(a.attrs[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.attr.apply(s,t);for(var o in a.styles)t=[o].concat(a.styles[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t})),s.style.apply(s,t);if(a.transforms.length){t=a.initialTransformation,o=0;for(var r=a.transforms.length;o<r;o++){var n=a.transforms[o];n instanceof i.Matrix?t=n.relative?t.multiply((new i.Matrix).morph(n).at(a.ease(this.pos))):t.morph(n).at(a.ease(this.pos)):(n.relative||n.undo(t.extract()),t=t.multiply(n.at(a.ease(this.pos))))}s.matrix(t)}return this},once:function(t,e,i){var s=this.last();return i||(t=s.ease(t)),s.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(t,e,s){return(this.fx||(this.fx=new i.FX(this))).animate(t,e,s)},delay:function(t){return(this.fx||(this.fx=new i.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(t,e){return i.Color.isColor(e)?new i.Color(t).morph(e):i.regex.delimiter.test(t)?i.regex.pathLetters.test(t)?new i.PathArray(t).morph(e):new i.Array(t).morph(e):i.regex.numberAndUnit.test(e)?new i.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(t,e,i){if("object"===r(t))for(var s in t)this.attr(s,t[s]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,s){return 4==arguments.length?this.plot([t,e,i,s]):this.add("plot",new(this.target().morphArray)(t))}}),i.Box=i.invent({create:function(t,e,s,a){if(!("object"!==r(t)||t instanceof i.Element))return i.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=s,this.height=a),v(this)}}),i.BBox=i.invent({create:function(t){if(i.Box.apply(this,[].slice.call(arguments)),t instanceof i.Element){var s;try{if(!e.documentElement.contains){for(var a=t.node;a.parentNode;)a=a.parentNode;if(a!=e)throw new Error("Element not in the dom")}s=t.node.getBBox()}catch(e){if(t instanceof i.Shape){i.parser.draw||i.prepare();var o=t.clone(i.parser.draw.instance).show();o&&o.node&&"function"==typeof o.node.getBBox&&(s=o.node.getBBox()),o&&"function"==typeof o.remove&&o.remove()}else s={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}i.Box.call(this,s)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(t){var e=f([1,0,0,1,0,0]);t=null===t?e:t instanceof i.Element?t.matrixify():"string"==typeof t?f(t.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(t)?f(t):t&&"object"===r(t)?t:e;for(var s=b.length-1;s>=0;--s)this[b[s]]=null!=t[b[s]]?t[b[s]]:e[b[s]]},extend:{extract:function(){var t=m(this,0,1);m(this,1,0);var e=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(t){return this.destination=new i.Matrix(t),this},multiply:function(t){return new i.Matrix(this.native().multiply(function(t){return t instanceof i.Matrix||(t=new i.Matrix(t)),t}(t).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(t,e){return new i.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=i.parser.native.createSVGMatrix(),e=b.length-1;e>=0;e--)t[b[e]]=this[b[e]];return t},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new i.Matrix(e)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===r(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(t,e){return this.destination=new i.Point(t,e),this}}}),i.extend(i.Element,{point:function(t,e){return new i.Point(t,e).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(t,e,s){if(null==t){for(t={},s=(e=this.node.attributes).length-1;s>=0;s--)t[e[s].nodeName]=i.regex.isNumber.test(e[s].nodeValue)?parseFloat(e[s].nodeValue):e[s].nodeValue;return t}if("object"===r(t))for(var a in t)this.attr(a,t[a]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?i.defaults.attrs[t]:i.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(i.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof i.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new i.Number(e):i.Color.isColor(e)?e=new i.Color(e):Array.isArray(e)&&(e=new i.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof s?this.node.setAttributeNS(s,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),i.extend(i.Element,{transform:function(t,e){var s;return"object"!==r(t)?(s=new i.Matrix(this).extract(),"string"==typeof t?s[t]:s):(s=new i.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(s=e?s.multiply(new i.Matrix(t)):new i.Matrix(t)),this.attr("transform",s))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(i.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(f(e[1])):t[e[0]].apply(t,e[1])}),new i.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[i];else if(t&&"object"===r(t))for(i=0,s=this.arguments.length;i<s;++i)this[this.arguments[i]]=t[this.arguments[i]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===r(t))for(var s in t)this.style(s,t[s]);else{if(!i.regex.isCss.test(t))return this.node.style[d(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[d(t)]=null===e||i.regex.isBlank.test(e)?"":e;return this}}),i.Parent=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(t){return i.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return i.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var s=this.children(),a=0,o=s.length;a<o;a++)s[a]instanceof i.Element&&t.apply(s[a],[a,s]),e&&s[a]instanceof i.Container&&s[a].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(t,e){return 0===e||this instanceof i.Defs||this.node==i.parser.draw||(t=t||(this instanceof i.Doc?this:this.parent(i.Parent)),e=e||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),i.Container=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){i.Element.prototype[t]=function(e){return i.on(this.node,t,e),this}})),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(t,e,s,a,o){var r=s.bind(a||t.instance||t),n=(i.handlerMap.indexOf(t)+1||i.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";i.listeners[n]=i.listeners[n]||{},i.listeners[n][l]=i.listeners[n][l]||{},i.listeners[n][l][c]=i.listeners[n][l][c]||{},s._svgjsListenerId||(s._svgjsListenerId=++i.listenerId),i.listeners[n][l][c][s._svgjsListenerId]=r,t.addEventListener(l,r,o||{passive:!0})},i.off=function(t,e,s){var a=i.handlerMap.indexOf(t),o=e&&e.split(".")[0],r=e&&e.split(".")[1],n="";if(-1!=a)if(s){if("function"==typeof s&&(s=s._svgjsListenerId),!s)return;i.listeners[a][o]&&i.listeners[a][o][r||"*"]&&(t.removeEventListener(o,i.listeners[a][o][r||"*"][s],!1),delete i.listeners[a][o][r||"*"][s])}else if(r&&o){if(i.listeners[a][o]&&i.listeners[a][o][r]){for(var l in i.listeners[a][o][r])i.off(t,[o,r].join("."),l);delete i.listeners[a][o][r]}}else if(r)for(var c in i.listeners[a])for(var n in i.listeners[a][c])r===n&&i.off(t,[c,r].join("."));else if(o){if(i.listeners[a][o]){for(var n in i.listeners[a][o])i.off(t,[o,n].join("."));delete i.listeners[a][o]}}else{for(var c in i.listeners[a])i.off(t,c);delete i.listeners[a],delete i.handlerMap[a]}},i.extend(i.Element,{on:function(t,e,s,a){return i.on(this.node,t,e,s,a),this},off:function(t,e){return i.off(this.node,t,e),this},fire:function(e,s){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new i.CustomEvent(e,{detail:s,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,i.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(t):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=g(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(t){this.constructor.call(this,i.create(t+"Gradient")),this.type=t},inherit:i.Container,extend:{at:function(t,e,s){return this.put(new i.Stop).update(t,e,s)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="gradientTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),i.extend(i.Gradient,i.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(t),fy:new i.Number(e)}):this.attr({x1:new i.Number(t),y1:new i.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(t),cy:new i.Number(e)}):this.attr({x2:new i.Number(t),y2:new i.Number(e)})}}),i.extend(i.Defs,{gradient:function(t,e){return this.put(new i.Gradient(t)).update(e)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(t){return("number"==typeof t||t instanceof i.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new i.Number(t.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,s){return"transform"==t&&(t="patternTransform"),i.Container.prototype.attr.call(this,t,e,s)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),i.extend(i.Defs,{pattern:function(t,e,s){return this.put(new i.Pattern).update(s).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,i.xlink)}},construct:{use:function(t,e){return this.put(new i.Use).element(t,e)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(t,e){return this.put(new i.Rect).size(t,e)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(t){return this.put(new i.Circle).rx(new i.Number(t).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(t,e){return this.put(new i.Ellipse).size(t,e).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),i.extend(i.Circle,i.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new i.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new i.Number(t).divide(2))},size:function(t,e){var s=p(this,t,e);return this.rx(new i.Number(s.width).divide(2)).ry(new i.Number(s.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,s,a){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:s,y2:a}:new i.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=p(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,s,a){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=t?[t,e,s,a]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(t){return this.put(new i.Polyline).plot(t||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(t){return this.put(new i.Polygon).plot(t||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new i.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=p(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new i.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new i.Path).plot(t||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(e){if(!e)return this;var s=this,a=new t.Image;return i.on(a,"load",(function(){i.off(a);var t=s.parent(i.Pattern);null!==t&&(0==s.width()&&0==s.height()&&s.size(a.width,a.height),t&&0==t.width()&&0==t.height()&&t.size(s.width(),s.height()),"function"==typeof s._loaded&&s._loaded.call(s,{width:a.width,height:a.height,ratio:a.width/a.height,url:e}))})),i.on(a,"error",(function(t){i.off(a),"function"==typeof s._error&&s._error.call(s,t)})),this.attr("href",a.src=this.src=e,i.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,s){return this.put(new i.Image).load(t).size(e||0,s||e||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,s=0,a=e.length;s<a;++s)0!=s&&3!=e[s].nodeType&&1==i.adopt(e[s]).dom.newLined&&(t+="\n"),t+=e[s].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{s=0;for(var o=(t=t.split("\n")).length;s<o;s++)this.tspan(t[s]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new i.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=i.utils.map(i.utils.filterSVGElements(t.childNodes),(function(t){return i.adopt(t)}));return new i.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,s=0,a=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?s+=a:(this.attr("dy",a+s),s=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new i.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new i.Text).text(t)},plain:function(t){return this.put(new i.Text).plain(t)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(i.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,s=new i.Tspan;return!1===this._build&&this.clear(),e.appendChild(s.node),s.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,s,a){return s+a.replace(i.regex.dots," .")}function d(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function h(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function p(t,e,i){if(null==e||null==i){var s=t.bbox();null==e?e=s.width/s.height*i:null==i&&(i=s.height/s.width*e)}return{width:e,height:i}}function m(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function f(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function g(e){for(var s=e.childNodes.length-1;s>=0;s--)e.childNodes[s]instanceof t.SVGElement&&g(e.childNodes[s]);return i.adopt(e).id(i.eid(e.nodeName))}function v(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function y(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||i.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var s=l[t].length-1;s>=0;s--)null!=e[l[t][s]]&&this.attr(l.prefix(t,l[t][s]),e[l[t][s]]);return this},i.extend(i.Element,i.FX,e)})),i.extend(i.Element,i.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new i.Number(t).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(t){return this.y(new i.Number(t).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),i.Set=i.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new i.Set(t)}}}),i.FX.Set=i.invent({create:function(t){this.set=t}}),i.Set.inherit=function(){var t=[];for(var e in i.Shape.prototype)"function"==typeof i.Shape.prototype[e]&&"function"!=typeof i.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){i.Set.prototype[t]=function(){for(var e=0,s=this.members.length;e<s;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new i.FX.Set(this)):this}})),t=[],i.FX.prototype)"function"==typeof i.FX.prototype[e]&&"function"!=typeof i.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){i.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(t,e){if("object"===r(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(t){var s=e.getElementById(function(t){var e=(t||"").toString().match(i.regex.reference);if(e)return e[1]}(t)||t);return i.adopt(s)},i.select=function(t,s){return new i.Set(i.utils.map((s||e).querySelectorAll(t),(function(t){return i.adopt(t)})))},i.extend(i.Parent,{select:function(t){return i.select(t,this.node)}});var b="abcdef".split("");if("function"!=typeof t.CustomEvent){var x=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var s=e.createEvent("CustomEvent");return s.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),s};x.prototype=t.Event.prototype,i.CustomEvent=x}else i.CustomEvent=t.CustomEvent;return i},s=function(){return Nt(Et,Et.document)}.call(e,i,e,t),void 0!==s&&(t.exports=s),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,s,a){return this.put(new SVG.DisplacementMapEffect(t,e,i,s,a))},specularLighting:function(t,e,i,s){return this.put(new SVG.SpecularLightingEffect(t,e,i,s))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,s,a){return this.put(new SVG.TurbulenceEffect(t,e,i,s,a))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,s){return this.parent()&&this.parent().displacementMap(this,t,e,i,s)},specularLighting:function(t,e,i,s){return this.parent()&&this.parent().specularLighting(t,e,i,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,s,a){return this.parent()&&this.parent().turbulence(t,e,i,s,a).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=a(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=a(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,s,a){this.attr({in:t,in2:e,scale:i,xChannelSelector:s,yChannelSelector:a})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",o(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,s,a){this.attr({numOctaves:e,seed:i,stitchTiles:s,baseFrequency:t,type:a})}},i={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach(function(e){this[e].attr(t.rgb)}.bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,s){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:s})}},s={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,s,a,o){this.attr({x:t,y:e,z:i,pointsAtX:s,pointsAtY:a,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function a(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function o(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,s=[];e<i;e++)s.push(t[e]);return s.join(" ")}function r(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}["r","g","b","a"].forEach((function(t){s["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),r(e,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),r(i,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),r(s,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function t(t,a,o,r,n,l,c){for(var d=t.slice(a,o||c),h=r.slice(n,l||c),u=0,p={pos:[0,0],start:[0,0]},m={pos:[0,0],start:[0,0]};;){if(d[u]=e.call(p,d[u]),h[u]=e.call(m,h[u]),d[u][0]!=h[u][0]||"M"==d[u][0]||"A"==d[u][0]&&(d[u][4]!=h[u][4]||d[u][5]!=h[u][5])?(Array.prototype.splice.apply(d,[u,1].concat(s.call(p,d[u]))),Array.prototype.splice.apply(h,[u,1].concat(s.call(m,h[u])))):(d[u]=i.call(p,d[u]),h[u]=i.call(m,h[u])),++u==d.length&&u==h.length)break;u==d.length&&d.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),u==h.length&&h.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]])}return{start:d,dest:h}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function i(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function s(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":e=function(t,e){var i,s,a,o,r,n,l,c,d,h,u,p,m,f,g,v,y,b,x,w,k,C,S,A,I,T,L=Math.abs(e[1]),P=Math.abs(e[2]),_=e[3]%360,M=e[4],F=e[5],D=e[6],B=e[7],O=new SVG.Point(t),E=new SVG.Point(D,B),N=[];if(0===L||0===P||O.x===E.x&&O.y===E.y)return[["C",O.x,O.y,E.x,E.y,E.x,E.y]];for(i=new SVG.Point((O.x-E.x)/2,(O.y-E.y)/2).transform((new SVG.Matrix).rotate(_)),(s=i.x*i.x/(L*L)+i.y*i.y/(P*P))>1&&(L*=s=Math.sqrt(s),P*=s),a=(new SVG.Matrix).rotate(_).scale(1/L,1/P).rotate(-_),O=O.transform(a),E=E.transform(a),o=[E.x-O.x,E.y-O.y],n=o[0]*o[0]+o[1]*o[1],r=Math.sqrt(n),o[0]/=r,o[1]/=r,l=n<4?Math.sqrt(1-n/4):0,M===F&&(l*=-1),c=new SVG.Point((E.x+O.x)/2+l*-o[1],(E.y+O.y)/2+l*o[0]),d=new SVG.Point(O.x-c.x,O.y-c.y),h=new SVG.Point(E.x-c.x,E.y-c.y),u=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(u*=-1),p=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(p*=-1),F&&u>p&&(p+=2*Math.PI),!F&&u<p&&(p-=2*Math.PI),f=Math.ceil(2*Math.abs(u-p)/Math.PI),v=[],y=u,m=(p-u)/f,g=4*Math.tan(m/4)/3,k=0;k<=f;k++)x=Math.cos(y),b=Math.sin(y),w=new SVG.Point(c.x+x,c.y+b),v[k]=[new SVG.Point(w.x+g*b,w.y-g*x),w,new SVG.Point(w.x-g*b,w.y+g*x)],y+=m;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),a=(new SVG.Matrix).rotate(_).scale(L,P).rotate(-_),k=0,C=v.length;k<C;k++)v[k][0]=v[k][0].transform(a),v[k][1]=v[k][1].transform(a),v[k][2]=v[k][2].transform(a);for(k=1,C=v.length;k<C;k++)S=(w=v[k-1][2]).x,A=w.y,I=(w=v[k][0]).x,T=w.y,D=(w=v[k][1]).x,B=w.y,N.push(["C",S,A,I,T,D,B]);return N}(this.pos,t),t=e[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function a(t,e){if(!1===e)return!1;for(var i=e,s=t.length;i<s;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var i=this.value,s=this.parse(e),o=0,r=0,n=!1,l=!1;!1!==o||!1!==r;){var c;n=a(i,!1!==o&&o+1),l=a(s,!1!==r&&r+1),!1===o&&(o=0==(c=new SVG.PathArray(d.start).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===r&&(r=0==(c=new SVG.PathArray(d.dest).bbox()).height||0==c.width?s.push(s[0])-1:s.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var d=t(i,o,n,s,r,l);i=i.slice(0,o).concat(d.start,!1===n?[]:i.slice(n)),s=s.slice(0,r).concat(d.dest,!1===l?[]:s.slice(l)),o=!1!==n&&o+d.start.length,r=!1!==l&&r+d.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=s,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){i.start(t)})),this.el.on("touchstart.drag",(function(t){i.start(t)}))},t.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,s=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:s,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),s=this.startPoints.box.x+i.x-this.startPoints.point.x,a=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,r=i.x-this.startPoints.point.x,n=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof o){var l=o.call(this.el,s,a,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(s):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(a):!1!==l.y&&this.el.y(l.y)}else"object"==typeof o&&(null!=o.minX&&s<o.minX?r=(s=o.minX)-this.startPoints.box.x:null!=o.maxX&&s>o.maxX-e.width&&(r=(s=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&a<o.minY?n=(a=o.minY)-this.startPoints.box.y:null!=o.maxY&&a>o.maxY-e.height&&(n=(a=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(s-=s%o.snapToGrid,a-=a%o.snapToGrid,r-=r%o.snapToGrid,n-=n%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:r,y:n},!0):this.el.move(s,a));return i},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,i){"function"!=typeof e&&"object"!=typeof e||(i=e,e=!0);var s=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?s.init(i||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var s="string"!=typeof t?t:e[t];return i?s/2:s},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var s=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==e[a]&&(this.options[a]=e[a]);var o=["points","pointsExclude"];for(var a in o){var r=this.options[o[a]];"string"==typeof r?r=r.length>0?r.split(/\s*,\s*/i):[]:"boolean"==typeof r&&"points"===o[a]&&(r=r?s:[]),this.options[o[a]]=r}this.options.points=[s,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,s=e.length;i<s;++i){var a=function(e){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;t.el.fire("point",{x:s,y:a,i:e,event:i})}}(i),o=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(o)}},t.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(i,s){var a=t.pointCoords(i,e);t.rectSelection.set.get(s+1).center(a.x,a.y)})),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function s(t){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.el.fire(t,{x:s,y:a,event:i})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,a){var o=e.pointCoords(t,i),r=e.drawPoint(o.x,o.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",s(t)).on("touchstart",s(t));e.rectSelection.set.add(r)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var i=t.pageX||t.touches[0].pageX,s=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:i,y:s,event:t})},o=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(o)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,i){return"object"==typeof e&&(i=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var s=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[s[t.detail.i][0],s[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,s=e+this.parameters.p.y,a=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),o=Math.atan2(s-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),r=this.parameters.rotation+180*(o-a)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(r-r%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),s=this.el.array().valueOf();s[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],s[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(s)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),s=i.x-this.parameters.p.x,a=i.y-this.parameters.p.y;this.lastUpdateCall=[s,a],this.calc(s,a),this.el.fire("resizing",{dx:s,dy:a,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,i,s){var a;return void 0!==s?a=[(i+t)%this.options.snapToGrid,(s+e)%this.options.snapToGrid]:(i=null==i?3:i,a=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(a[0]-=this.options.snapToGrid),e<0&&(a[1]-=this.options.snapToGrid),t-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,s)},t.prototype.constraintToBox=function(t,e,i,s){var a,o,r=this.options.constraint||{};return void 0!==s?(a=i,o=s):(a=this.parameters.box.x+(1&i?0:this.parameters.box.width),o=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==r.minX&&a+t<r.minX&&(t=r.minX-a),void 0!==r.maxX&&a+t>r.maxX&&(t=r.maxX-a),void 0!==r.minY&&o+e<r.minY&&(e=r.minY-o),void 0!==r.maxY&&o+e>r.maxY&&(e=r.maxY-o),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),s=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],r=a/o;return r<s?(i[1]=a/s-this.parameters.box.height,e&&(i[1]=-i[1])):r>s&&(i[0]=this.parameters.box.width-o*s,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Vt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new et(this.ctx),this.ctx.core=new zt(this.ctx.el,this.ctx),this.ctx.config=new E({}),this.ctx.data=new W(this.ctx),this.ctx.grid=new U(this.ctx),this.ctx.graphics=new C(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new it(this.ctx),this.ctx.events=new Q(this.ctx),this.ctx.exports=new Y(this.ctx),this.ctx.localization=new tt(this.ctx),this.ctx.options=new _,this.ctx.responsive=new st(this.ctx),this.ctx.series=new j(this.ctx),this.ctx.theme=new at(this.ctx),this.ctx.formatters=new H(this.ctx),this.ctx.titleSubtitle=new ot(this.ctx),this.ctx.legend=new ut(this.ctx),this.ctx.toolbar=new pt(this.ctx),this.ctx.tooltip=new wt(this.ctx),this.ctx.dimensions=new dt(this.ctx),this.ctx.updateHelpers=new qt(this.ctx),this.ctx.zoomPanSelection=new mt(this.ctx),this.ctx.w.globals.tooltip=new wt(this.ctx)}}]),t}(),jt=function(){function t(e){n(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!i&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach((function(t){a.removeEventListener(t,e.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elAnnotations=null,o.elLegendWrap=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),t}(),Wt=new WeakMap,Ht=function(){function t(e,i){n(this,t),this.opts=i,this.ctx=this,this.w=new $(i).init(),this.el=e,this.w.globals.cuid=x.randomId(),this.w.globals.chartID=this.w.config.chart.id?x.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Vt(this).initModules(),this.create=x.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var s=t.w.config.chart.events.beforeMount;if("function"==typeof s&&s(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(t,e){var i=!1;if(t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var s=t.getBoundingClientRect();"none"!==t.style.display&&0!==s.width||(i=!0)}var a=new ResizeObserver((function(s){i&&e.call(t,s),i=!0}));t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(t.children).forEach((function(t){return a.observe(t)})):a.observe(t),Wt.set(e,a)}(t.el.parentNode,t.parentResizeHandler),!t.css){var a=t.el.getRootNode&&t.el.getRootNode(),o=x.is("ShadowRoot",a),r=t.el.ownerDocument,n=r.getElementById("apexcharts-css");!o&&n||(t.css=document.createElement("style"),t.css.id="apexcharts-css",t.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',o?a.prepend(t.css):r.head.appendChild(t.css))}var l=t.create(t.w.config.series,{});if(!l)return e(t);t.mount(l).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(l)})).catch((function(t){i(t)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this.w;new Vt(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new O(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return s.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===s.svgWidth)return s.animationEnded=!0,null;var a=S.checkComboSeries(t);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var o=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||o)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new z(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new S(this).getLargestMarkerSize(),this.dimensions.plotCoords();var r=this.core.xySettings();this.grid.createGridMask();var n=this.core.plotChartType(t,r),l=new V(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:n,xyRatios:r,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,s=i.w;return new Promise((function(a,o){if(null===i.el)return o(new Error("Not enough data to display or target element not found"));(null===e||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new U(i);var r=i.grid.drawGrid();"treemap"!==s.config.chart.type&&i.axes.drawAxis(s.config.chart.type,r),i.annotations=new M(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===s.config.grid.position&&r&&s.globals.dom.elGraphical.add(r.el);var n=new G(t.ctx,r),l=new Z(t.ctx,r);if(null!==r&&(n.xAxisLabelCorrections(r.xAxisTickWidth),l.setYAxisTextAlignments(),s.config.yaxis.map((function(t,e){-1===s.globals.ignoreYAxisIndexes.indexOf(e)&&l.yAxisTitleRotate(e,t.opposite)}))),"back"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(e.elGraph))for(var c=0;c<e.elGraph.length;c++)s.globals.dom.elGraphical.add(e.elGraph[c]);else s.globals.dom.elGraphical.add(e.elGraph);if("front"===s.config.grid.position&&r&&s.globals.dom.elGraphical.add(r.el),r&&r.elGridBorders&&r.elGridBorders.node&&s.globals.dom.elGraphical.add(r.elGridBorders),"front"===s.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===s.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===s.config.annotations.position&&(s.globals.dom.Paper.add(s.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var d=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){d[t]=!1}))}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),a(i)}))}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,t=this.parentResizeHandler,(e=Wt.get(t))&&(e.disconnect(),Wt.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach((function(t,e){t.id===x.escapeString(i)&&Apex._chartInstances.splice(e,1)})),new jt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w;return r.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,i){return e.updateHelpers._extendSeries(t,i)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),r.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,s,a,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.w.config.series.slice();return s.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),a=0;a<s.length;a++)if(null!==t[a]&&void 0!==t[a])for(var o=0;o<t[a].data.length;o++)s[a].data.push(t[a].data[o]);return i.w.config.series=s,e&&(i.w.globals.initialSeries=x.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,s){new jt(e.ctx).clear({isUpdating:!0});var a=e.create(e.w.config.series,t);if(!a)return i(e);e.mount(a).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(t){s(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(t,e,s)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(t,e,s)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(t,e,s)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new K(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new K(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new Y(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Y(this.ctx);return e.exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=x.escapeString(t),i=Apex._chartInstances.filter((function(t){return t.id===e}))[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var s=null;if(-1!==i.publicMethods.indexOf(e)){for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];s=i[e].apply(i,o)}return s}}},{key:"merge",value:function(t,e){return x.extend(t,e)}}]),t}();t.exports=Ht},ba5a:function(t,e,i){"use strict";i("5042")},bb36:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"30":"0","no-padding":""},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 30 seconds ")]):t._e(),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getComments(0)}}})]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:t.commentsSheetHeight}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail||i.externalCommentsby,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:t._u([{key:"avatar",fn:function(){return[i.embedFileList&&i.embedFileList.length?e("div",{staticClass:"file-icons"},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}})],1):t._e()]},proxy:!0}],null,!0)})]}))],2)],1),"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?e("div",{staticClass:"col borderTop"},[e("div",{staticClass:"row"},[t.checkTenant()?[e("div",{staticClass:"col actions"},[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row select-action q-pa-sm action-container"},[e("CheckboxField",{staticClass:"q-pr-sm",class:t.attachComment?"col-auto":"col",attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||t.attachComment||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-auto notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.attachComment?e("SelectField",{staticClass:"col field comment-attach attach-cmd",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e()],1):t._e(),!t.selectedProcess.processId||"START"===t.selectedProcess.stageType||!t.attachComment&&t.attachmentList.length&&t.fileNames.length||t.isPortal?t._e():e("CheckboxField",{staticClass:"col-12 q-pl-sm q-pb-sm q-pt-sm",class:t.notifyInitiatorClass,attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}),t.displayInternalPublic?e("SingleChoiceField",{staticClass:"action-container",class:{"internal-public":t.attachmentList.length>0,"col q-pa-sm":!0,"internal-public-margin":t.attachComment},attrs:{options:t.commentActions,"show-options-wrapper":!1,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()],1)]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e()],2),e("div",{staticClass:"row text-area-action q-ml-sm q-mr-sm"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])]):t._e()]),e("Confirm",{attrs:{icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:function(e){t.errorModal=!1,t.errorMessage=""}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Error Message")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" "+t._s(t.errorMessage)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Close",color:"red"},on:{click:function(e){t.errorModal=!1,t.errorMessage=""}}})]},proxy:!0}]),model:{value:t.errorModal,callback:function(e){t.errorModal=e},expression:"errorModal"}}),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.saveAction="",t.workflowFormModel={},t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t.checkTenant()?[t.attachmentList.length&&t.fileNames.length?e("div",{staticClass:"row actions advance-cmd"},[e("CheckboxField",{staticClass:"col-auto q-pr-sm",staticStyle:{margin:"auto"},attrs:{label:"Add Comment to PDF"},model:{value:t.attachComment,callback:function(e){t.attachComment=e},expression:"attachComment"}}),t.attachComment?e("SelectField",{staticClass:"field comment-attach",attrs:{"is-searchable":!0,options:t.fileNames},model:{value:t.selectedFileForAttach,callback:function(e){t.selectedFileForAttach=e},expression:"selectedFileForAttach"}}):t._e(),t.selectedProcess.processId&&"START"!==t.selectedProcess.stageType&&!t.isPortal?e("CheckboxField",{staticClass:"col-auto q-pl-sm adv-notify-cmd",attrs:{label:"Notify Initiator/Requester"},model:{value:t.notifyInitiator,callback:function(e){t.notifyInitiator=e},expression:"notifyInitiator"}}):t._e()],1):t._e(),t.checkTenant()&&t.displayInternalPublic?e("SingleChoiceField",{staticClass:"actions q-mr-sm noborder",attrs:{options:t.commentActions,"options-per-line":2},model:{value:t.commentAction,callback:function(e){t.commentAction=e},expression:"commentAction"}}):t._e()]:t._e(),t.isTenantGOTOComments()?[e("SingleChoiceField",{staticClass:"col q-mb-sm actions",attrs:{options:t.jiraCommentActions,"options-per-line":2},model:{value:t.jiraCommentAction,callback:function(e){t.jiraCommentAction=e},expression:"jiraCommentAction"}})]:t._e(),e("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}})],1)},a=[],o=(i("14d9"),i("381e")),r=i("1b0d"),n=i("1c54"),l=i("6df3"),c=i("6a70"),d=i("695e"),h=i("869e"),u=i("12b8"),p=i("9234"),m=i("fa1f"),f={name:"Comments",components:{Sheet:o["a"],Confirm:n["a"],TextAreaField:l["a"],Modal:c["a"],TextBuilderField:d["a"],CheckboxField:h["a"],SelectField:u["a"],SingleChoiceField:p["a"],FileIcon:m["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formFields:{type:Array,default:()=>[]},attachmentList:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},actionComments:{type:Boolean,default:!1},fileNames:{type:Array,default:()=>[]},comments:{type:Array,default:()=>[]},displayInternalPublic:{type:Boolean,default:!1},isPortal:{type:Boolean,default:!1}},data(){return{commentsSheet:!1,commentText:"",commentsList:[],attachComment:!1,selectedFileForAttach:0,advancedCommentsSheet:!1,advancedCommentText:"",commentActions:[{id:this.$nano.id(),label:"Internal",value:2},{id:this.$nano.id(),label:"Public",value:1}],commentAction:2,jiraCommentActions:[{id:this.$nano.id(),label:"This resource",value:1},{id:this.$nano.id(),label:"All resource",value:2}],jiraCommentAction:1,errorMessage:"",errorModal:!1,successModal:!1,notifyInitiator:!1}},computed:{commentsSheetHeight(){return"inbox"===this.selectedNode||"payment"===this.selectedNode||"common"===this.selectedNode||this.initiateProcess||this.isPortal?this.checkCommentsOption()&&!this.isCustomizedWorkflow?this.attachmentList.length&&this.fileNames.length?this.attachComment&&this.displayInternalPublic?"calc(100vh - 270px)":this.attachComment&&!this.displayInternalPublic?"calc(100vh - 230px)":!this.attachComment&&this.displayInternalPublic?"calc(100vh - 225px)":"calc(100vh - 200px)":this.displayInternalPublic?"calc(100vh - 220px)":"START"===this.selectedProcess.stageType||this.isPortal?"calc(100vh - 150px)":"calc(100vh - 180px)":"calc(100vh - 150px)":""},notifyInitiatorClass(){return this.attachmentList.length&&this.fileNames.length?"":"action-container"}},watch:{value:{immediate:!0,handler(){this.commentsSheet=!0,this.commentsList=this.comments,this.commentsSheet&&this.selectedProcess.processId?this.commentsLoad=setInterval(()=>{this.getComments()},3e4):clearInterval(this.commentsLoad)}}},methods:{closeCommentsSheet(){this.commentsSheet=!1,this.$emit("update:comments",this.commentsList),this.$emit("commentsCount",this.commentsList.length),this.$emit("update:value",!1)},async getComments(t=0,e=0){this.commentsList=[],t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await r["t"].getProcessComments(t,e);this.$store.commit("hideLoadingBar"),i?this.$alert.error(i):s.length&&(this.commentsList=s,this.$emit("commentsCount",this.commentsList.length))},async saveComment(){if(this.commentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.commentText});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.commentText,this.selectedProcess.jiraIssueInfo.id,[e])}this.commentText="",this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})}),this.$emit("commentsCount",this.commentsList.length),this.commentText="",this.clearAttach()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.attachComment&&!this.selectedFileForAttach)return void this.$alert.warning("Select File To Attach");if(this.selectedProcess.processId){if(this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id&&2===this.jiraCommentAction){this.$store.commit("showLoadingBar");const{error:t,payload:e}=await r["t"].insertProcessComment_Jira(this.selectedProcess.jiraIssueInfo.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}else{const{error:t,payload:e}=await r["t"].insertProcessComment(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:this.isPortal?1:this.commentAction,hasNotifytoInitiated:this.notifyInitiator,embedJson:JSON.stringify({repositoryId:this.workflow.repositoryId,itemIds:this.attachComment?[this.selectedFileForAttach]:[]})});if(t)return void this.$alert.error(t);this.selectedProcess.jiraIssueInfo.id&&this.sendCommentsToJira(this.advancedCommentText,this.selectedProcess.jiraIssueInfo.id,e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.clearAttach(),this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1,this.$emit("commentsCount",this.commentsList.length);this.actionComments&&this.$emit("processRequest",!1,!1)}},clearAttach(){this.selectedFileForAttach=0,this.attachComment=!1,this.notifyInitiator=!1},async sendCommentsToJira(t,e,i){if(this.$store.commit("showLoadingBar"),1===this.jiraCommentAction){var s;let e=null===(s=this.formFields.find(t=>"Resource ID"===t.label))||void 0===s?void 0:s.value;t=this.selectedProcess.formData.fields[e]+","+t}t=`${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${t}`;let a={cloudIntegrationId:this.jiraAccounts[0].id,url:this.selectedProcess.jiraIssueInfo.self,data_onpremise:{body:t},issueId:e,ezCommentId:i};const{error:o,payload:n}=await r["j"].insertJiraIssueComments(a);if(this.$store.commit("hideLoadingBar"),o){this.$alert.error("error posting comments to jira");let t=JSON.parse(o);return this.errorMessage=t.errorMessages,void(this.errorModal=!0)}console.log(n),this.jiraCommentAction=1},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},checkCommentsOption(){return!this.isTenantArmgroup()&&(!this.isTenantGOTO()||!(!Object.keys(this.selectedProcess).length||!this.selectedProcess.jiraIssueInfo.id))},checkTenant(){return!this.isTenantArmgroup()||(this.commentAction=2,!1)},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:80801"===t)&&3===this.$store.state.session.tenantId},isTenantGOTOComments(){return!!(Object.keys(this.selectedProcess).length&&this.isTenantGOTO()&&this.selectedProcess.jiraIssueInfo.id)},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)}}},g=f,v=(i("c5b7"),i("2877")),y=i("8169"),b=i("93dc"),x=i.n(b),w=Object(v["a"])(g,s,a,!1,null,null,null);e["a"]=w.exports;x()(w,"components",{QChatMessage:y["a"]})},bcdf:function(t,e,i){var s={"./name-dark.png":"cd22","./name-light.png":"00c2"};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="bcdf"},bcff:function(t,e,i){},bded:function(t,e,i){"use strict";i("fabd")},bdf3:function(t,e,i){},be01:function(t,e,i){"use strict";i("eba9")},be3f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search",expression:"'search'",modifiers:{top:!0}}],staticClass:"is-expanded",attrs:{id:"expandable-search"},on:{click:t.toggle}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-search"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"expandableSearch",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{keyup:function(e){return t.$emit("search",t.searchQuery)},blur:t.handleBlur,input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})],1)},a=[],o={name:"ExpandableSearch",data(){return{isExpanded:!1,searchQuery:""}},methods:{toggle(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs.expandableSearch.focus()},handleBlur(){this.isExpanded=!1}}},r=o,n=(i("fdd5"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"29b72610",null);e["a"]=l.exports},bf55:function(t,e,i){"use strict";i("686b")},bfd6:function(t,e,i){"use strict";i("ca57")},c0f4:function(t,e,i){},c187:function(t,e,i){"use strict";i("9935")},c1cb:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"report-list"}},[e("ItemList",{attrs:{columns:t.columns,items:t.items,mode:t.mode,report:!0},on:{select:t.handleOpen,showTable:t.showTable,viewFile:t.handleViewFile,openSubWorkflow:t.openSubWorkflow},scopedSlots:t._u([{key:"title",fn:function({item:i}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto ellipsis",style:i.requestNo.length>50?"max-width: 250px":""},[e("span",{staticClass:"stat",class:i.link?"text-underline":"",on:{click:function(e){return e.stopPropagation(),t.handleOpen(i.id)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")]),i.jiraIssueInfo.id?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("a",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA Issue Link",expression:"'JIRA Issue Link'",modifiers:{top:!0}}],staticStyle:{color:"inherit"},attrs:{href:t.getJIRALink(i.jiraIssueInfo),target:"_blank"}},[t._v(" REF# ID: "+t._s(i.jiraIssueInfo.id)+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",[t._v(" KEY: "+t._s(i.jiraIssueInfo.key)+" ")]),i.jiraIssueInfo.assignee?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"text-primary text-bold"},[t._v("ASSIGNEE: "+t._s(i.jiraIssueInfo.assignee))])]:t._e(),i.jiraIssueInfo.issueStatus?[e("BaseIcon",{attrs:{name:"mdi-circle-small",color:"secondary"}}),e("span",{staticClass:"text-primary text-bold"},[t._v("STATUS: "+t._s(i.jiraIssueInfo.issueStatus))])]:t._e()]:t._e()],2)]),"inbox"===t.mode&&!i.mlPrediction&&i.mlCondition?e("div",{staticClass:"row q-pt-sm"},[i.mlCondition.indexOf("[")>-1?t._l(JSON.parse(i.mlCondition),(function(s){return e("div",{key:i.processId+""+s.fieldName,on:{click:function(e){return e.stopPropagation(),t.$emit("validation",i.processId)}}},[e("q-chip",{staticClass:"chips gray-hover",class:"Matched"===s.status?"green-hover":"Not Matched"===s.status?"red-hover":"orange-hover",attrs:{outline:"",color:"Matched"===s.status?"green":"Not Matched"===s.status?"red":"orange"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-robot",color:"Matched"===s.status?"green":"Not Matched"===s.status?"red":"orange","text-color":"white"}}),t._v(" "+t._s(s.fieldValue)+" ")],1)],1)})):[t._l(i.mlCondition.split(","),(function(i){return[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]}))]],2):t._e()]}},{key:"mlcondition",fn:function({item:i}){return["inbox"===t.mode&&i.mlCondition?e("div",[t._l(i.mlCondition.split(","),(function(i){return[i.indexOf("Extracted")>-1?[e("q-chip",{key:i,staticClass:"chips green-hover",attrs:{outline:"",color:"green"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"green","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]:i.indexOf("Processing")>-1?[e("q-chip",{key:i,staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"orange","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]:[e("q-chip",{key:i,staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[e("q-avatar",{attrs:{icon:"mdi-information-variant",color:"pink","text-color":"white"}}),t._v(" "+t._s(i)+" ")],1)]]}))],2):t._e()]}},{key:"responseTime",fn:function({item:i}){return[2==i.responseStatus?[e("span",{staticClass:"text-red"},[t._v(" "+t._s(i.responseTime))])]:1==i.resolutionStatus?[e("span",{staticClass:"text-green"},[t._v(" "+t._s(i.responseTime))])]:0==i.resolutionStatus?[e("span",{staticClass:"text-orange"},[t._v(" "+t._s(i.responseTime))])]:t._e()]}},{key:"responseStatus",fn:function({item:i}){return[2==i.responseStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Overdue",expression:"'Overdue'",modifiers:{top:!0}}],attrs:{name:"mdi-close-circle",color:"red"}})]:1==i.responseStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"WithIn SLA",expression:"'WithIn SLA'",modifiers:{top:!0}}],attrs:{name:"mdi-check-circle",color:"green"}})]:0==i.responseStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-Progress",expression:"'In-Progress'",modifiers:{top:!0}}],attrs:{name:"mdi-progress-alert",color:"orange"}})]:t._e()]}},{key:"resolutionTime",fn:function({item:i}){return[2==i.resolutionStatus?[e("span",{staticClass:"text-red"},[t._v(" "+t._s(i.resolutionTime))])]:1==i.resolutionStatus?[e("span",{staticClass:"text-green"},[t._v(" "+t._s(i.resolutionTime))])]:0==i.resolutionStatus?[e("span",{staticClass:"text-orange"},[t._v(" "+t._s(i.resolutionTime))])]:t._e()]}},{key:"resolutionStatus",fn:function({item:i}){return[2==i.resolutionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Overdue",expression:"'Overdue'",modifiers:{top:!0}}],attrs:{name:"mdi-close-circle",color:"red"}})]:1==i.resolutionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"WithIn SLA",expression:"'WithIn SLA'",modifiers:{top:!0}}],attrs:{name:"mdi-check-circle",color:"green"}})]:0==i.resolutionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-Progress",expression:"'In-Progress'",modifiers:{top:!0}}],attrs:{name:"mdi-progress-alert",color:"orange"}})]:t._e()]}},{key:"table",fn:function({value:i}){return[e("div",[e("div",{staticClass:"ellipsis"},[e("BaseActionButton",{attrs:{icon:"mdi-table-large","is-flat":"","no-border":""},on:{click:function(e){return t.showTable("Table",i)}}})],1)])]}},{key:"actions",fn:function({item:i}){return[e("div",{staticClass:"row",staticStyle:{width:"115px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openHistory(i.id)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openAttachments(i.id)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openComments(i.id)}}},[i.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsCount)+" ")]):t._e()])],1)]}},{key:"subactions",fn:function({item:i}){return[e("div",{staticClass:"row",staticStyle:{width:"51%","margin-left":"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"history",expression:"'history'",modifiers:{top:!0}}],staticClass:"icon",attrs:{icon:"mdi-history",color:"primary","is-flat":"","no-border":""},on:{click:function(e){return t.showHistory(i)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-attachment",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("subAttachments",i)}}},[i.attachmentCount?e("span",{staticClass:"badge"},[t._v(t._s(i.attachmentCount)+" ")]):t._e()]),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"comments",expression:"'comments'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-comment-text-outline",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("subComments",i)}}},[i.commentsCount?e("span",{staticClass:"badge"},[t._v(t._s(i.commentsCount)+" ")]):t._e()])],1)]}}])}),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])])]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],1)},a=[],o=(i("14d9"),i("f92f")),r=i("6a70"),n={name:"ReportList",components:{ItemList:o["a"],Modal:r["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},lists:{type:Array,required:!0},form:{type:Object,required:!0}},data(){return{expandTableModal:!1,tableTitle:"",tableData:[]}},methods:{handleOpen(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("open",e)},openHistory(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("history",e)},openAttachments(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("attachments",e)},openComments(t){let e={};e=this.lists.find(e=>e.processId===t),this.$emit("comments",e)},getLabel(t,e){let i="";return this.form.panels.forEach(s=>{if(s.fields.length)for(let a of s.fields)if("TABLE"===e){const e=a.settings.specific.tableColumns.find(e=>e.id===t);e&&(i=e.label)}else if(a.id===t)return void(i=a.label?a.label:a.type)}),i.toLocaleLowerCase()},showTable(t,e){this.tableData=[],this.tableTitle=t;let i=JSON.parse(e);for(let s of i){let t={};for(let e of Object.keys(s)){const i=this.getLabel(e,"TABLE");t[i]=s[e]}this.tableData.push(t)}this.expandTableModal=!0},getJIRALink(t){let e=new URL(t.self),i=e.origin.replace("https://jira-external-tools-integration.getgotools.net","https://jira.ops.expertcity.com");return`${i}/browse/${t.key}`},handleViewFile(t){this.$emit("viewFile",t)},openSubWorkflow(t){this.$emit("openSubWorkflow",t)},showHistory(t){this.$emit("subHistory",t)}}},l=n,c=(i("ed61"),i("2877")),d=i("b047"),h=i("cb32"),u=i("93dc"),p=i.n(u),m=Object(c["a"])(l,s,a,!1,null,"3ce9ec05",null);e["a"]=m.exports;p()(m,"components",{QChip:d["a"],QAvatar:h["a"]})},c2d0:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("ChartWrapper",{attrs:{"dashboard-view":t.dashboardView,title:t.title,options:t.pieChartOptions,series:t.yData},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header",(function(){return[t.dashboardView?t._e():[e("BaseActionButton",{attrs:{icon:"mdi-pin",color:t.dashboard?"secondary":"gray","no-border":"","is-flat":"",size:"20px",rotate:"rotate-45"},on:{click:function(e){t.dashboard?t.$emit("isDelete"):t.$emit("pin")}}})]]}))]},proxy:!0}],null,!0)})},a=[],o=i("2f62"),r=i("a1a34"),n=i("2adf"),l={name:"PieChart",components:{ChartWrapper:n["a"]},props:{title:{type:String,required:!0},xData:{type:Array,required:!0},yData:{type:Array,required:!0},options:{type:Object,default:()=>{}},dashboard:{type:Boolean,default:!1},dashboardView:{type:Boolean,default:!1}},data(){return{pieChartOptions:{chart:{type:"pie"},labels:this.xData,stroke:{colors:["#ffffff"]}}}},computed:{...Object(o["c"])(["darkTheme"])},watch:{options:{immediate:!0,deep:!0,handler(){Object(r["a"])(this.pieChartOptions,this.options)}},darkTheme(){this.pieChartOptions.stroke.colors=this.darkTheme?["#1d2129"]:["#ffffff"]}}},c=l,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,"6f859db7",null);e["a"]=h.exports},c3d7:function(t,e,i){"use strict";i("f666")},c49c:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"state-wrapper"}},[e("div",{staticClass:"slow-up-down",attrs:{id:"illustration"}},[e("div",{attrs:{id:"shape-1"}}),e("div",{attrs:{id:"shape-2"}}),e("div",{attrs:{id:"shape-3"}},[e("BaseIcon",{staticClass:"icon",attrs:{name:t.icon,size:"80px"}})],1)]),e("div",{staticClass:"title-1"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticClass:"description"},[t._v(" "+t._s(t.description)+" ")]),t.action?e("BaseButton",{staticClass:"q-mt-lg",attrs:{icon:t.actionIcon,label:t.action},on:{click:function(e){return t.$emit("action")}}}):t._e()],1)},a=[],o={name:"StateWrapper",props:{icon:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},action:{type:String,default:""},actionIcon:{type:String,default:""}}},r=o,n=(i("2948"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"ba5412d8",null);e["a"]=l.exports},c52a:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{width:t.formWidth},attrs:{id:"custom-process-form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 130px)"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"q-pr-sm row",class:t.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12",style:t.inbox?"":"height:10px;"},[e("div",{staticClass:"col-12 header",class:t.inbox?"":"q-mb-sm"},[t._v(" Customer Information ")]),e("table",{staticClass:"col-12 q-mb-sm"},[e("tbody",[e("tr",[e("td",[t._v("Claimant Info")]),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claimant Info"),options:t.claimantInfoList,"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Claimant Info")},onBlur:function(e){return t.autoSave("Claimant Info")}}})],1),e("td",[t._v("First Name")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("First Name"),highlight:t.checkHighlight("First Name"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"First Name")},onBlur:function(e){return t.autoSave("First Name")}}})],1),e("td",[t._v("Last Name")]),e("td",{attrs:{colspan:"2"}},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Last Name"),highlight:t.checkHighlight("Last Name"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Last Name")},onBlur:function(e){return t.autoSave("Last Name")}}})],1)]),e("tr",[e("td",[t._v("DOB")]),e("td",[e("DateField",{staticClass:"custom-controls",attrs:{value:t.getModel("DOB"),highlight:t.checkHighlight("DOB"),"is-readonly":t.isReadonly||!t.fieldVerification,"maximum-validation":!0},on:{input:function(e){return t.updateModel(e,"DOB")},onBlur:function(e){return t.autoSave("DOB")}}})],1),e("td",[t._v("Current Age")]),e("td",[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Current Age"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Current Age")},onBlur:function(e){return t.autoSave("Current Age")}}})],1),e("td",[t._v("Age at DOC")]),e("td",[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Age at Doc"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Age at Doc")},onBlur:function(e){return t.autoSave("Age at Doc")}}})],1)]),e("tr",[e("td",[t._v("Address")]),e("td",{attrs:{colspan:"5"}},[e("TextAreaField",{attrs:{value:t.getModel("Address"),highlight:t.checkHighlight("Address"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Address")},onBlur:function(e){return t.autoSave("Address")}}})],1)]),e("tr",[e("td",[t._v("City")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("City"),highlight:t.checkHighlight("City"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"City")},onBlur:function(e){return t.autoSave("City")}}})],1),e("td",[t._v("Province")]),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Province"),options:t.provinceList,highlight:t.checkHighlight("Province"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Province")},onBlur:function(e){return t.autoSave("Province")}}})],1),e("td",[t._v("Postal Code")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Postal Code"),highlight:t.checkHighlight("Postal Code"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Postal Code")},onBlur:function(e){return t.autoSave("Postal Code")}}})],1)]),e("tr",[e("td",[t._v("Phone No.")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Phone No."),highlight:t.checkHighlight("Phone No."),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Phone No.")},onBlur:function(e){return t.autoSave("Phone No.")}}})],1),e("td",[t._v("Email ID")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Email ID"),highlight:t.checkHighlight("Email ID"),"is-readonly":t.isReadonly||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Email ID")},onBlur:function(e){return t.autoSave("Email ID")}}})],1),e("td",[t._v("Name of Deceased")]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Name of Deceased"),"is-readonly":t.isReadonly||!t.isNameOfDeceasedEditable||!t.fieldVerification},on:{input:function(e){return t.updateModel(e,"Name of Deceased")},onBlur:function(e){return t.autoSave("Name of Deceased")}}})],1)])])]),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?e("div",{staticClass:"col-12"},[t.isReadonly?t.fieldVerification?t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}})]:[t.fieldVerification?[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmCustomerInfo}})]:[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmCustomerInfo}})]]],2):t._e(),e("div",{staticClass:"header col-12",class:t.inbox?"":"q-mb-sm"},[t._v(" Loan Information ")]),e("table",{staticClass:"col-12 q-mb-sm loan-info"},[e("tbody",[e("tr",[e("td",[t._v("Group Policy")]),e("td",[t._v(t._s(t.getModel("Group Policy")||"-"))]),e("td",[t._v("Payment Frequency")]),e("td",[t._v(t._s(t.getModel("Payment Frequency")||"-"))])]),e("tr",[e("td",[t._v("Loan No.")]),e("td",[t._v(t._s(t.getModel("Loan No.")||"-"))]),e("td",[t._v("No. of Loan Payments")]),e("td",[t._v(" "+t._s(t.getModel("No. of Loan Payments")||"-")+" ")])]),e("tr",[e("td",[t._v("Loan Start Date")]),e("td",[t._v(t._s(t.getModel("Loan Start Date")||"-"))]),e("td",[t._v("Last Remitted Date")]),e("td",[t._v(t._s(t.getModel("Last Remitted Date")||"-"))])]),e("tr",[e("td",[t._v("Term")]),e("td",[t._v(t._s(t.getModel("Term")||"-"))]),e("td",[t._v("Cancellation Date")]),e("td",[t._v(t._s(t.getModel("Cancellation Date")||"-"))])]),e("tr",[e("td",[t._v("Loan End Date")]),e("td",[t._v(t._s(t.getModel("Loan End Date")||"-"))]),e("td",[t._v("Cancel Reason")]),e("td",[t._v(t._s(t.getModel("Cancel Reason")||"-"))])])])]),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?e("div",{staticClass:"col-12"},[t.loanInfoVerify?t.loanInfoVerify?[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmLoanInfo}})]:t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmLoanInfo}})]],2):t._e()]),e("div",{staticClass:"row",class:t.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12"},[e("div",{staticClass:"col-12 header q-mb-sm"},[t._v("Claim Information")]),e("div",{staticClass:"col-12 full-border q-pa-sm"},[e("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[e("thead",[e("tr",[e("th",[t._v("Claim No.")]),e("th",[t._v("Reference No.")]),e("th",[t._v("Claim Date")]),e("th",[t._v("Claim Package Sent")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.getModel("Claim No.")||"-"))]),e("td",[t._v(t._s(t.getModel("Reference No.")||"-"))]),e("td",[e("DateField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claim Date"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Claim Date")},onBlur:function(e){return t.autoSave("Claim Date")}}})],1),e("td",[t._v(t._s(t.getModel("Claim Package Sent")||"-"))])])])]),e("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[e("thead",[e("tr",[e("th",[t._v("Claim Received Date")]),e("th",[t._v("Processing Date")]),e("th",[t._v("Initials")]),e("th",[t._v("Language")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.getModel("Claim Received Date")||"-"))]),e("td",[t._v(t._s(t.getModel("Processing Date")||"-"))]),e("td",[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Initials"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Initials")},onBlur:function(e){return t.autoSave("Initials")}}})],1),e("td",[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Language"),options:t.languageList,"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Language")},onBlur:function(e){return t.autoSave("Language")}}})],1)])])]),e("table",{staticClass:"claim-info single-border"},[e("tbody",[e("tr",[e("td",[t._v("Benefit Claimed")]),e("td",{staticClass:"medium"},[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Benefit Claimed"),options:t._productList,"is-readonly":t.isReadonly||t.claimInfoVerify||!t.isChangeBenefitClaimed},on:{input:function(e){return t.updateModel(e,"Benefit Claimed")},onBlur:function(e){return t.autoSave("Benefit Claimed")}}})],1),e("td",[t._v("Loan Payment Amount")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Loan Payment Amount"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Loan Payment Amount")},onBlur:function(e){return t.autoSave("Loan Payment Amount")}}})],1)]),e("tr",[e("td",[t._v("Reason/Cause")]),e("td",{staticClass:"medium"},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Reason/Cause"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Reason/Cause")},onBlur:function(e){return t.autoSave("Reason/Cause")}}})],1),e("td",[t._v("LPP Premium Amount")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("LPP Premium Amount"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"LPP Premium Amount")},onBlur:function(e){return t.autoSave("LPP Premium Amount")}}})],1)]),e("tr",[e("td",[t._v("Claim Decision")]),e("td",{staticClass:"medium"},[e("TextField",{staticClass:"custom-controls",attrs:{value:t.getModel("Claim Decision"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Claim Decision")},onBlur:function(e){return t.autoSave("Claim Decision")}}})],1),e("td",[t._v("Principal Balance at DOC")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("Principal Balance At Doc"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"Principal Balance At Doc")},onBlur:function(e){return t.autoSave("Principal Balance At Doc")}}})],1)]),e("tr",[e("td",[t._v("Decline Reason")]),e("td",{staticClass:"medium"},[e("SelectField",{staticClass:"custom-controls",attrs:{value:t.getModel("Decline Reason"),options:t.declineReasonList,"is-readonly":!0},on:{input:function(e){return t.updateModel(e,"Decline Reason")},onBlur:function(e){return t.autoSave("Decline Reason")}}})],1),e("td",[t._v("LumpSum Principal Balance")]),e("td",{staticClass:"medium"},[e("NumberField",{staticClass:"custom-controls",attrs:{value:t.getModel("LumpSum Principal Balance"),"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){return t.updateModel(e,"LumpSum Principal Balance")},onBlur:function(e){return t.autoSave("LumpSum Principal Balance")}}})],1)]),e("tr",[e("td",{attrs:{colspan:"3"}},[e("MultipleChoiceField",{staticClass:"custom-controls no-border",attrs:{value:t.getModel("Authorization"),options:t.authorizationTypes,"options-per-line":3,"is-readonly":t.isReadonly||t.claimInfoVerify},on:{input:function(e){t.updateModel(e,"Authorization"),t.autoSave("Authorization")}}})],1),e("td",["001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId&&!t.isReadonly&&t.inbox?[t.claimInfoVerify?t.claimInfoVerify?[e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirmed",color:"green"}}),e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto","margin-top":"10px"},attrs:{label:"Edit",color:"orange"},on:{click:t.unConfirmClaimInfo}})]:t._e():[e("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirm",color:"orange"},on:{click:t.confirmClaimInfo}})]]:t._e()],2)])])])]),e("div",{staticClass:"col-12 q-mt-sm full-border q-pa-sm"},[e("div",{staticClass:"col header"},[t._v("Required Documents")]),e("MultipleChoiceField",{staticClass:"custom-controls q-mt-sm",attrs:{value:t.getModel("Required Documents"),options:t._documentCheckList,"options-per-line":3,"is-readonly":t.isReadonly},on:{input:function(e){t.updateModel(e,"Required Documents"),t.autoSave("Required Documents")}}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-mt-sm"},[e("div",{staticClass:"q-pl-sm q-mb-sm"},[e("Tabs",{attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}})],1),"Claim Status"===t.tab?[t.claimStatusTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.claimStatusTotalItems,"current-page":t.claimStatusCurrentPage,"items-per-page":t.claimStatusItemsPerPage},on:{"update:currentPage":function(e){t.claimStatusCurrentPage=e},"update:current-page":function(e){t.claimStatusCurrentPage=e},"update:itemsPerPage":function(e){t.claimStatusItemsPerPage=e},"update:items-per-page":function(e){t.claimStatusItemsPerPage=e},loadAll:t.loadAllClaimStatus}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.claimStatusSearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table table-content q-mt-sm",class:t.claimStatusTotalItems?"":"empty"},[e("thead",[e("tr",[t.inbox?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:t.addClaimStatus}})],1):t._e(),t._l(t.claimStatusColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])}))],2)]),e("tbody",t._l(t.claimStatusValues,(function(i,s){return e("tr",{key:"claimstatusrow"+s},[t.inbox?e("td",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"edit",expression:"'edit'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"secondary",icon:"mdi-square-edit-outline",size:"16px","is-flat":"","no-border":""},on:{click:function(e){return t.editClaimStatus(i)}}})],1):t._e(),t._l(t.claimStatusColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])}))],2)})),0)])])]:"Daily Data Summary"===t.tab?[t.dailyDataStatusTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.dailyDataStatusTotalItems,"current-page":t.dailyDataStatusCurrentPage,"items-per-page":t.dailyDataStatusItemsPerPage},on:{"update:currentPage":function(e){t.dailyDataStatusCurrentPage=e},"update:current-page":function(e){t.dailyDataStatusCurrentPage=e},"update:itemsPerPage":function(e){t.dailyDataStatusItemsPerPage=e},"update:items-per-page":function(e){t.dailyDataStatusItemsPerPage=e},loadAll:t.loadAllDailyDataStatus}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.dailyDataStatusSearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table q-mt-sm",class:t.dailyDataStatusTotalItems?"":"empty"},[e("thead",[e("tr",t._l(t.dailyDataStatusColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.dailyDataStatusValues,(function(i,s){return e("tr",{key:"dailydatarow"+s},t._l(t.dailyDataStatusColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])})),0)})),0)])])]:"Benefit Payment"===t.tab?[e("div",{attrs:{id:"paymentTable"}},[t.inbox?[t.hasLifeType||t.hasCIClaimsType?t._e():e("div",{staticClass:"row controls"},[e("div",{staticClass:"col"},["psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId||"psyCrYXtKfcs-EJmrYIhv"===t.selectedProcess.activityId&&!t.isPaymentFound?[e("ValidationObserver",{ref:"form",staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Total Payment",rules:t.paymentValidationRules},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Total Payment","is-mandatory":"",error:i[0]},on:{input:t.updateLoanPaymentAmount},model:{value:t.totalPayment,callback:function(e){t.totalPayment=e},expression:"totalPayment"}})]}}],null,!1,452974274)})],1),t._e(),e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Payment Frequency",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Payment Frequency","is-mandatory":"",options:t.benefitTypes,"is-clearable":!1,error:i[0]},model:{value:t.benefitType,callback:function(e){t.benefitType=e},expression:"benefitType"}})]}}],null,!1,4170057051)})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action custom-button q-ml-sm",attrs:{label:"Calculate"},on:{click:t.paymentCalculation}})],1)])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&t.hasOtherClaimsType?e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-mr-sm custom-button",attrs:{label:"Add Lumpsum Payment",color:"primary"},on:{click:t.addLumpsumRow}})],1):t._e(),"001f5CdkTDtjCDn3logTT"!==t.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==t.selectedProcess.activityId?[e("div",{staticClass:"col-auto"},[e("FormFieldLabel",{staticClass:"payment-action",attrs:{label:"Number of payments to approve"}})],1),e("div",{staticClass:"col-auto"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Number of payments",rules:{min_value:0,max_value:t.paymentTableValues.length}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("NumberField",{staticClass:"payment-action q-ml-sm custom-controls",attrs:{"is-clearable":!1,"is-readonly":!t.paymentTableValues.length,error:i[0]},model:{value:t.numberOfApprovePayment,callback:function(e){t.numberOfApprovePayment=e},expression:"numberOfApprovePayment"}})]}}],null,!1,2997542867)})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Payment Approve",color:"secondary",disabled:!t.paymentTableValues.length},on:{click:t.paymentApprove}})],1),e("div",{staticClass:"col-auto"},[e("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Clear",color:"red",disabled:!t.paymentTableValues.length},on:{click:t.clearPaymentApprove}})],1)]:t._e()],2)])])]:t._e(),e("div",{staticClass:"col"},[e("BaseScrollbar",[e("table",{staticClass:"tab-table table-content q-mb-sm",class:0===t.paymentTableValues.length?"empty":""},[e("thead",[e("tr",[t._l(t.paymentTableColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),t.inbox&&"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&!t.hasLifeType&&!t.hasCIClaimsType?e("th",{staticClass:"actions"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:t.addPaymentRow}})],1):t._e()],2)]),e("tbody",t._l(t.paymentTableValues,(function(i,s){return e("tr",{key:"paymentrow"+s},[t.inbox?[i["edit"]?t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes,"is-readonly":t.checkApprovalEdit(i)},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"NUMBER"===a.type?[e("NumberField",{attrs:{placeholder:"0.00"},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"SHORT_TEXT"===a.type?[e("TextField",{attrs:{"is-readonly":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]],2)})):[t._l(t.paymentTableColumns,(function(a){return e("td",{key:a.id},["90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound&&""!==i[a.name]&&!i["delete"]?["approval"===a.name?["Approved"===i[a.name]?[e("span",{staticClass:"text-green",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:a.name,value:i[a.name],item:i}},[t._v(" "+t._s(i[a.name])+" ")])]]:"paymentDate"===a.name?[e("DateField",{attrs:{"minimum-validation":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]:["SINGLE_SELECT"===a.type?[e("SelectField",{attrs:{options:t.approvalTypes,"is-readonly":t.checkApprovalEdit(i)},on:{input:function(e){return t.updateApprovalDate(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"DATE"===a.type?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"baseAmount"===a.name&&i["delete"]?[e("NumberField",{attrs:{placeholder:"0.00",min:0,max:2e3},on:{input:function(e){return t.calcOtherColumns(s)}},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"SHORT_TEXT"===a.type?[e("TextField",{attrs:{"is-readonly":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===a.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":t.checkApprovalEdit(i)},model:{value:i[a.name],callback:function(e){t.$set(i,a.name,e)},expression:"item[column.name]"}})]:[t._t(a.name,(function(){return[t._v(" "+t._s(i[a.name])+" ")]}),{value:i[a.name],item:i})]]],2)})),t.inbox&&"90xxPehjko0dNYRjbX5wm"===t.selectedProcess.activityId&&t.isPaymentFound?e("td",{staticClass:"actions"},[i["delete"]?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"delete row",expression:"'delete row'"}],staticClass:"q-ml-xs small",attrs:{"is-flat":"",color:"red",icon:"eva-trash-outline","no-border":"",size:"16px"},on:{click:function(e){return t.removePaymentRow(s)}}}):t._e()],1):t._e()]]:t._l(t.paymentTableColumns,(function(s){return e("td",{key:s.id},["approval"===s.name?["Approved"===i[s.name]?[e("span",{staticClass:"text-green",attrs:{name:s.name,value:i[s.name],item:i}},[t._v(" "+t._s(i[s.name])+" ")])]:[e("span",{staticClass:"text-red",attrs:{name:s.name,value:i[s.name],item:i}},[t._v(" "+t._s(i[s.name])+" ")])]]:"paymentDate"===s.name?[e("DateField",{attrs:{"minimum-validation":!0,"is-readonly":""},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]:"CHECKBOX"===s.type?[e("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":!0},model:{value:i[s.name],callback:function(e){t.$set(i,s.name,e)},expression:"item[column.name]"}})]:[t._t(s.name,(function(){return[t._v(" "+t._s(i[s.name])+" ")]}),{value:i[s.name],item:i})]],2)}))],2)})),0)]),t.inbox&&t.paymentTableValues.length?e("BaseButton",{staticStyle:{float:"right"},attrs:{label:"Update Payments",color:"primary"},on:{click:t.updatePaymentTable}}):t._e()],1)],1)],2)]:"Payments"===t.tab?[t.paymentHistoryTotalItems?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":t.paymentHistoryTotalItems,"current-page":t.paymentHistoryCurrentPage,"items-per-page":t.paymentHistoryItemsPerPage},on:{"update:currentPage":function(e){t.paymentHistoryCurrentPage=e},"update:current-page":function(e){t.paymentHistoryCurrentPage=e},"update:itemsPerPage":function(e){t.paymentHistoryItemsPerPage=e},"update:items-per-page":function(e){t.paymentHistoryItemsPerPage=e},loadAll:t.loadAllPaymentHistory}})],1),e("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.paymentHistorySearchRow}})],1)]):t._e(),e("BaseScrollbar",{attrs:{height:"330px"}},[e("table",{staticClass:"tab-table q-mt-sm",class:t.paymentHistoryTotalItems?"":"empty"},[e("thead",[e("tr",t._l(t.paymentHistoryColumns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",t._l(t.paymentHistoryValues,(function(i,s){return e("tr",{key:"paymenthistoryrow"+s},t._l(t.paymentHistoryColumns,(function(s){return e("td",{key:s.id},[t._v(" "+t._s(i[s.name])+" ")])})),0)})),0)])])]:t._e()],2)])])]),e("Modal",{attrs:{width:"30vw",height:"40vh","has-footer":""},on:{input:function(e){t.declineReasonModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Recommend to Decline")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"declineModal"},[e("div",[e("ValidationProvider",{staticClass:"col",attrs:{name:"Decline Reason",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"field",attrs:{label:"Decline Reason","is-mandatory":"",options:t.declineReasonList,error:i[0]},model:{value:t.declineReason,callback:function(e){t.declineReason=e},expression:"declineReason"}})]}}])})],1)])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(e){t.declineReasonModal=!1}}}),e("BaseButton",{attrs:{label:"Recommend to Decline",color:"primary"},on:{click:t.updateDeclineReason}})]},proxy:!0}]),model:{value:t.declineReasonModal,callback:function(e){t.declineReasonModal=e},expression:"declineReasonModal"}}),e("Modal",{attrs:{width:"60vw",height:"70vh","has-footer":""},on:{input:function(e){t.claimStatusModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.selectedProcess.requestNo)+'" Claim Status Entry')]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"claim-status",attrs:{id:"content-wrapper"}},[e("ValidationObserver",{ref:"claimStatusModal"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("ValidationProvider",{staticClass:"col",attrs:{name:"Claim Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"field",attrs:{label:"Claim Status","is-mandatory":"",options:t.claimStatusList,error:i[0]},model:{value:t.claimStatus,callback:function(e){t.claimStatus=e},expression:"claimStatus"}})]}}])})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Note",options:t.csNoteList,"new-option":"","is-readonly":""},model:{value:t.csNote,callback:function(e){t.csNote=e},expression:"csNote"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Claim Letter Sent",options:t.claimLetterSentList,"new-option":"","is-readonly":""},model:{value:t.claimLetterSent,callback:function(e){t.claimLetterSent=e},expression:"claimLetterSent"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Mailing Type",options:t.mailingTypeList},model:{value:t.mailingType,callback:function(e){t.mailingType=e},expression:"mailingType"}})],1),e("div",{staticClass:"col-4"},[e("SelectField",{staticClass:"field",attrs:{label:"Lender Letter",options:t.lenderLetterList,"new-option":"","is-readonly":""},model:{value:t.lenderLetter,callback:function(e){t.lenderLetter=e},expression:"lenderLetter"}})],1),e("div",{staticClass:"col-4",staticStyle:{margin:"auto"}},[e("CheckboxField",{staticClass:"field",attrs:{label:"Internal Only"},model:{value:t.internalOnly,callback:function(e){t.internalOnly=e},expression:"internalOnly"}})],1),e("div",{staticClass:"col-12"},[e("TextAreaField",{staticClass:"field",attrs:{label:"Internal Notes"},model:{value:t.internalNotes,callback:function(e){t.internalNotes=e},expression:"internalNotes"}})],1)])])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(e){t.claimStatusModal=!1}}}),e("BaseButton",{attrs:{label:Object.keys(t.claimStatusRow).length?"Update":"Add",color:"primary"},on:{click:t.saveClaimStatus}})]},proxy:!0}]),model:{value:t.claimStatusModal,callback:function(e){t.claimStatusModal=e},expression:"claimStatusModal"}})],1)},a=[],o=(i("caad"),i("14d9"),i("7bb1")),r=i("3445"),n=i("12b8"),l=i("b3d1"),c=i("53c1"),d=i("ad54"),h=i("6df3"),u=i("1e48"),p=i("869e"),m=i("7286"),f=i("6a70"),g=i("42fc"),v=i("0d5e"),y=i("1b0d"),b=i("b6d2"),x=i("be3f"),w=i("5c8a"),k={name:"CustomProcessForm",components:{ValidationObserver:o["a"],ValidationProvider:o["b"],FormFieldLabel:r["a"],SelectField:n["a"],TextField:l["a"],DateField:c["a"],NumberField:d["a"],TextAreaField:h["a"],MultipleChoiceField:u["a"],CheckboxField:p["a"],Tabs:m["a"],Modal:f["a"],Pagination:b["a"],ExpandableSearch:x["a"]},props:{formId:{type:String,default:"0"},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},formModel:{type:Object,default:()=>{}},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},formFields:{type:Array,default:()=>[]},dataValidationValues:{type:Array,default:()=>[]},selectedProcess:{type:Object,required:!0},isReadonly:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},formCheckList:{type:Boolean,default:!1},saveOnly:{type:Boolean,default:!1},inbox:{type:Boolean,default:!1},autoSaveModel:{type:Object,default:()=>{}}},data(){return{formWidth:"100%",claimantInfoList:[{id:this.$nano.id(),label:"Borrower",value:"Borrower",claimType:""},{id:this.$nano.id(),label:"Co-Borrower",value:"Co-Borrower",claimType:""},{id:this.$nano.id(),label:"Next of Kin",value:"Next of Kin",claimType:"Life"}],authorizationTypes:[{id:this.$nano.id(),label:"Claimant Submitted",value:"Claimant Submitted"},{id:this.$nano.id(),label:"Special Auth",value:"Special Auth"},{id:this.$nano.id(),label:"Goodwill Claim",value:"Goodwill Claim"},{id:this.$nano.id(),label:"Advance Receipt",value:"Advance Receipt"},{id:this.$nano.id(),label:"Lump Sum Eligibility Status",value:"Lump Sum Eligibility Status"},{id:this.$nano.id(),label:"Pandemic",value:"Pandemic"},{id:this.$nano.id(),label:"Return To Work",value:"Return To Work"},{id:this.$nano.id(),label:"Prior Loan Used",value:"Prior Loan Used"}],documentCheckList:[{id:this.$nano.id(),label:"Claimant's Statement",value:"Claimant's Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Application to Enroll",value:"Application to Enroll",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Payment Schedule/History",value:"Payment Schedule or History",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Employer's Statement/ROE",value:"Employer's Statement Or ROE",for:["Critical Illness","Involuntary Unemployment","Sickness or Injury","Unpaid Family Leave","Disability"]},{id:this.$nano.id(),label:"Loan Agreement",value:"Loan Agreement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Lender Claim Statement",value:"Lender Claim Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Physician's Statement",value:"Physician's Statement",for:["Critical Illness","Life","Sickness or Injury","Disability"]},{id:this.$nano.id(),label:"Section 2B",value:"Section 2B",for:["Lifetime Milestone"]},{id:this.$nano.id(),label:"Supporting Documentation",value:"Supporting Documentation",for:["Lifetime Milestone"]}],tabs:[{id:this.$nano.id(),label:"Claim Status",value:"Claim Status"},{id:this.$nano.id(),label:"Daily Data Summary",value:"Daily Data Summary"},{id:this.$nano.id(),label:"Benefit Payment",value:"Benefit Payment"},{id:this.$nano.id(),label:"Payments",value:"Payments"}],tab:"Claim Status",totalPayment:0,lumpsumAmount:0,benefitType:"",benefitTypes:[{id:this.$nano.id(),label:"Monthly",value:"Monthly"},{id:this.$nano.id(),label:"Bi-weekly",value:"BiWeekly"},{id:this.$nano.id(),label:"Semi-monthly",value:"SemiMonthly"},{id:this.$nano.id(),label:"Weekly",value:"Weekly"}],numberOfApprovePayment:0,paymentTableColumns:[{id:this.$nano.id(),name:"paymentNumber",label:"Payment Number",type:"LABEL"},{id:this.$nano.id(),name:"baseAmount",label:"Payment Base Amount",type:"NUMBER"},{id:this.$nano.id(),name:"claimAmount",label:"Claim Amount (20% Increased)",type:"NUMBER"},{id:this.$nano.id(),name:"cumulativeTotal",label:"Cumulative Total",type:"NUMBER"},{id:this.$nano.id(),name:"approval",label:"Approval",type:"SINGLE_SELECT"},{id:this.$nano.id(),name:"approvedDate",label:"Approved Date",type:"DATE"},{id:this.$nano.id(),name:"paymentDate",label:"Payment Date",type:"DATE"},{id:this.$nano.id(),name:"approvedBy",label:"Approved By",type:"LABEL"},{id:this.$nano.id(),name:"notes",label:"Notes",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"goodWill",label:"Goodwill",type:"CHECKBOX"},{id:this.$nano.id(),name:"lppPlus",label:"LPP Plus",type:"CHECKBOX"},{id:this.$nano.id(),name:"preApprovedPmt",label:"Pre Approved Pmt",type:"CHECKBOX"},{id:this.$nano.id(),name:"psgCovered",label:"PSG Covered",type:"CHECKBOX"}],paymentTableValues:[],isPaymentFound:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],cityList:[],provinceList:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],declineReasonList:[],declineReason:"",declineReasonModal:!1,loanInfoVerify:!1,claimInfoVerify:!1,languageList:[{id:this.$nano.id(),label:"EN",value:"EN"},{id:this.$nano.id(),label:"FR",value:"FR"}],isNameOfDeceasedEditable:!1,claimStatusColumns:[{id:this.$nano.id(),name:"ClaimStatus",label:"Claim Status"},{id:this.$nano.id(),name:"CSDate",label:"Date"},{id:this.$nano.id(),name:"CSNote",label:"Note"},{id:this.$nano.id(),name:"ClaimLetterSent",label:"Claim Letter Sent"},{id:this.$nano.id(),name:"AuthorizedBy",label:"Authorized By"},{id:this.$nano.id(),name:"MailingType",label:"Mailing Type"},{id:this.$nano.id(),name:"ModifiedBy",label:"Modified By"},{id:this.$nano.id(),name:"ModifiedDt",label:"Modified Date"},{id:this.$nano.id(),name:"LenderLetter",label:"Lender Letter"},{id:this.$nano.id(),name:"CreatedBy",label:"Created By"},{id:this.$nano.id(),name:"CreatedDt",label:"Created Date"},{id:this.$nano.id(),name:"InternalOnly",label:"Internal Only"},{id:this.$nano.id(),name:"InternalNotes",label:"Internal Notes"}],claimStatusValues:[],claimStatusValuesData:[],claimStatusTotalItems:0,claimStatusItemsPerPage:10,claimStatusCurrentPage:1,claimStatusRow:{},claimStatusModal:!1,claimStatusList:[],claimStatus:"",csDate:"",csNoteList:[],csNote:0,claimLetterSentList:[],claimLetterSent:0,mailingTypeList:[{id:this.$nano.id(),label:"Word Merged Letter",value:"WordmergedLetter"},{id:this.$nano.id(),label:"Email",value:"Email"}],mailingType:"",lenderLetterList:[],lenderLetter:"",internalOnly:!1,internalNotes:"",dailyDataStatusColumns:[{id:this.$nano.id(),name:"FileDate",label:"File Date"},{id:this.$nano.id(),name:"PolicyNumber",label:"Policy Number"},{id:this.$nano.id(),name:"Province",label:"Province"},{id:this.$nano.id(),name:"FirstName",label:"First Name"},{id:this.$nano.id(),name:"LastName",label:"Last Name"},{id:this.$nano.id(),name:"LoanKey",label:"Loan Key"},{id:this.$nano.id(),name:"PriorLoan",label:"Prior Loan"},{id:this.$nano.id(),name:"EffectiveDate",label:"Effective Date"},{id:this.$nano.id(),name:"CancellationDate",label:"Cancellation Date"},{id:this.$nano.id(),name:"LoanTerm",label:"Loan Term"},{id:this.$nano.id(),name:"PrincipalLent",label:"Principal Lent"},{id:this.$nano.id(),name:"Freq",label:"Freq"},{id:this.$nano.id(),name:"TotalObligation",label:"Total Obligation"},{id:this.$nano.id(),name:"FirstPayment",label:"First Payment"},{id:this.$nano.id(),name:"MinimumPrincipal",label:"Minimum Principal"},{id:this.$nano.id(),name:"MinimumInterest",label:"Minimum Interest"},{id:this.$nano.id(),name:"MinPIDue",label:"Min PI Due"},{id:this.$nano.id(),name:"LPPCharge",label:"LPP Charge"},{id:this.$nano.id(),name:"LPPCollected",label:"LPP Collected"},{id:this.$nano.id(),name:"LastPayment",label:"Last Payment"},{id:this.$nano.id(),name:"DefaultDate",label:"Default Date"},{id:this.$nano.id(),name:"ClearedPayments",label:"Cleared Payments"},{id:this.$nano.id(),name:"MissedPayments",label:"Missed Payments"},{id:this.$nano.id(),name:"PastDueAmount",label:"Past Due Amount"},{id:this.$nano.id(),name:"PastDueInterest",label:"Past Due Interest"},{id:this.$nano.id(),name:"PastDueInsuranceFee",label:"Past Due Insurance Fee"},{id:this.$nano.id(),name:"PastDuePrincipalAmount",label:"Past Due Principal Amount"},{id:this.$nano.id(),name:"PastDueNsfFee",label:"Past Due Nsf Fee"},{id:this.$nano.id(),name:"LoanBalance",label:"Loan Balance"},{id:this.$nano.id(),name:"PrincipalBalance",label:"Principal Balance"},{id:this.$nano.id(),name:"ExpectedMinPayment",label:"Expected Min Payment"}],dailyDataStatusValues:[],dailyDataStatusValuesData:[],dailyDataStatusTotalItems:0,dailyDataStatusItemsPerPage:10,dailyDataStatusCurrentPage:1,paymentHistoryColumns:[{id:this.$nano.id(),name:"StoreLoanNumber",label:"Store Loan Number"},{id:this.$nano.id(),name:"Premium",label:"Premium"},{id:this.$nano.id(),name:"PaymentDate",label:"Payment Date"},{id:this.$nano.id(),name:"TransactionType",label:"Transaction Type"},{id:this.$nano.id(),name:"Taxes",label:"Taxes"},{id:this.$nano.id(),name:"PaymentAmount",label:"Payment Amount"},{id:this.$nano.id(),name:"RemitDate",label:"Remit Date"}],paymentHistoryValues:[],paymentHistoryValuesData:[],paymentHistoryTotalItems:0,paymentHistoryItemsPerPage:10,paymentHistoryCurrentPage:1,clearPayment:!1,hasLifeType:!1,hasCIClaimsType:!1,hasLMUFLClaimsType:!1,hasOtherClaimsType:!1,isChangeBenefitClaimed:!1,hasSicknessClaimsChanged:!1}},computed:{isMaximized(){return"100%"===this.formWidth},fieldVerification(){let t=!1;if(this.dataValidationValues.length){let e=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];e.forEach(e=>{let i=this.dataValidationValues.find(t=>t.fieldName==e);i&&"Not Matched"!==i.status&&"Not Verified"!==i.status||(t=!0)})}else t=!0;return t},userInitials(){let t="";return this.$store.state.session.firstName&&(t+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?t+=this.$store.state.session.lastName[0].toUpperCase():t+=this.$store.state.session.firstName[1],t},userNames(){let t;return this.$store.state.session.firstName&&(t=this.$store.state.session.firstName),this.$store.state.session.lastName&&(t+=" "+this.$store.state.session.lastName),t},_productList(){let t=this.formFields.find(t=>"Benefit Claimed"===t.label),e="";return t&&(e=this.formModel[t.value]),"Critical Illness"===e||"Sickness or Injury"===e?this.productList.filter(t=>"Critical Illness"===t.label||"Sickness or Injury"===t.label):this.productList},_documentCheckList(){let t=this.formFields.find(t=>"Benefit Claimed"===t.label),e="";return t&&(e=this.formModel[t.value]),this.documentCheckList.filter(t=>t.for.includes(e))},STLOCTypeFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||("ST001"!==i[0]||"MM01"===i[1])&&"LOC001"!==i[0])},ENHTypeFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"ENH001"!==i[0])},mobileFinanceFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"CPL001M"!==i[0])},paymentValidationRules(){const t={required:!0,min_value:1};return this.STLOCTypeFormula&&!this.hasLMUFLClaimsType?t.max_value=4e3:this.STLOCTypeFormula&&this.hasLMUFLClaimsType?t.max_value=2e3:this.ENHTypeFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?t.max_value=1e3:this.mobileFinanceFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?t.max_value=1250:(this.ENHTypeFormula||this.mobileFinanceFormula)&&(t.max_value=1e3),t},moneyMartFormula(){let t=this.formFields.find(t=>"Group Policy"===t.label),e="";t&&(e=this.formModel[t.value]);let i=e.split("-");return!(!i.length||"ST001"!==i[0]||"MM01"!==i[1])}},watch:{saveAction:{immediate:!0,async handler(){if(this.saveAction){if("Save"===this.saveAction||"Force Close"===this.saveAction)return void this.$emit("update:workflowFormModel",this.formModel);if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Approve"==this.saveAction){if(this.fieldVerification||!this.loanInfoVerify||!this.claimInfoVerify)return this.$alert.warning("Verification Required"),void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Approve","Claim Decision")}else if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Decline"==this.saveAction){if(!this.getModel("Decline Reason"))return this.declineReasonModal=!0,void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Decline","Claim Decision")}else if("k4-junYNP5tico7rUVJY_"===this.selectedProcess.activityId||"pyEp-anz7DIWhvoQLf6oC"===this.selectedProcess.activityId){let t=this.paymentTableValues.filter(t=>t.approval);if(console.log(t),!t.length)return this.$alert.warning("Should be approve payment"),void this.$emit("update:saveAction","")}this.$emit("update:workflowFormModel",this.formModel)}}},dataValidationValues:{deep:!0,immediate:!0,handler(){if(this.loanInfoVerify=!1,this.claimInfoVerify=!1,this.dataValidationValues.length){let t=this.dataValidationValues.find(t=>"Loan Info"===t.fieldName);t&&(this.loanInfoVerify="Verified"===t.status);let e=this.dataValidationValues.find(t=>"Claim Info"===t.fieldName);e&&(this.claimInfoVerify="Verified"===e.status)}}},selectedProcess:{immediate:!0,deep:!0,handler(){this.selectedProcess.processId&&(this.isChangeBenefitClaimed=!1,this.clearPayment=!1,this.getPaymentTable(),this.getClaimStatus(),this.getDailyDataStatus(),this.getPaymentHistory(),this.checkDocument())}},formCheckList:{immediate:!0,deep:!0,handler(){if(this.formCheckList){let t=location.origin;("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.checkList.length&&(this.documentValidation(),this.$emit("update:formCheckList",!1))}}},formModel:{immediate:!0,handler(){this.formModel&&(this.cloneFormModel=Object(w["a"])(this.formModel),this.getCalculateValidation(this.getModel("Benefit Claimed")))}},moneyMartFormula:{immediate:!0,handler(){this.moneyMartFormula?this.paymentTableColumns.forEach(t=>{"Claim Amount (20% Increased)"!==t.label||(t.label="Benefit Enhancement")}):this.paymentTableColumns.forEach(t=>{"Benefit Enhancement"!==t.label||(t.label="Claim Amount (20% Increased)")})}},hasSicknessClaimsChanged:{handler(){if(this.isPaymentFound&&this.hasSicknessClaimsChanged){if(this.paymentTableValues.length){let t=this.paymentTableValues[0];this.paymentTableValues=[],t&&this.paymentTableValues.push(t)}let t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)}else if(!this.isPaymentFound&&this.hasSicknessClaimsChanged){let t={paymentId:0,paymentNumber:1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};if(this.paymentTableValues.length){let e=this.paymentTableValues[0];this.paymentTableValues=[],this.paymentTableValues.push(e),this.paymentTableValues.push(t)}else this.paymentTableValues=[],this.paymentTableValues.push(t)}}},hasCIClaimsType:{immediate:!0,handler(){this.hasCIClaimsType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}},hasLifeType:{immediate:!0,handler(){this.hasLifeType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}}},created(){this.getProvinceList(),this.getDeclineReasonList(),this.getClaimStatusMaster(6)},mounted(){this.$watch(t=>[t.claimStatusCurrentPage,t.claimStatusItemsPerPage],()=>this.getClaimStatus(),{deep:!0,immediate:!0}),this.$watch(t=>[t.dailyDataStatusCurrentPage,t.dailyDataStatusItemsPerPage],()=>this.getDailyDataStatus(),{deep:!0,immediate:!0}),this.$watch(t=>[t.paymentHistoryCurrentPage,t.paymentHistoryItemsPerPage],()=>this.getPaymentHistory(),{deep:!0,immediate:!0})},methods:{getCalculateValidation(t){"Life"===t?(this.hasLifeType=!0,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Critical Illness"===t?(this.hasCIClaimsType=!0,this.hasLifeType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Lifetime Milestone"===t||"Unpaid Family Leave"===t?(this.hasLMUFLClaimsType=!0,this.hasCIClaimsType=!1,this.hasLifeType=!1,this.hasOtherClaimsType=!1):(this.hasOtherClaimsType=!0,this.hasLifeType=!1,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1)},getModel(t){let e=this.formFields.find(e=>e.label===t);if(e){if("Benefit Claimed"===t)"Critical Illness"===this.formModel[e.value]||"Sickness or Injury"===this.formModel[e.value]?this.isChangeBenefitClaimed=!0:this.isChangeBenefitClaimed=!1;else if("Current Age"===t){let t=this.formFields.find(t=>"DOB"===t.label);t&&this.formModel[t.value]&&(this.formModel[e.value]=this.calculateAge(this.formModel[t.value]))}return"MULTIPLE_CHOICE"===e.type?this.formModel[e.value]?this.formModel[e.value]:[]:"DATE"===e.type?this.$day.parseDate(this.formModel[e.value]):this.formModel[e.value]}},updateModel(t,e){"Sickness or Injury"===this.getModel(e)?"Critical Illness"===t&&(this.hasSicknessClaimsChanged=!0):"Critical Illness"===this.getModel(e)&&"Sickness or Injury"===t&&(this.isPaymentFound=!1,this.hasSicknessClaimsChanged=!1,this.paymentTableValues=[]);let i=this.formFields.find(t=>t.label===e);if(i&&(this.formModel[i.value]=t),"Claimant Info"===e)"Next of Kin"===t?this.isNameOfDeceasedEditable=!0:(this.isNameOfDeceasedEditable=!1,this.getContractData(t));else if("DOB"===e){let e=this.formFields.find(t=>"Current Age"===t.label);e&&(this.formModel[e.value]=this.calculateAge(t))}else if("Loan Payment Amount"===e)this.totalPayment=t,this.benefitType&&this.paymentCalculation();else if("Claim Date"===e){let e=this.formFields.find(t=>"Age at Doc"===t.label),i=this.formFields.find(t=>"Claim Date"===t.label);e&&this.formModel[i.value]&&(this.formModel[e.value]=this.calculateAgeAtDoc(t,this.$day.parseDate(this.formModel[i.value])))}else"Benefit Claimed"===e&&(this.getCalculateValidation(t),this.checkDocument())},updateLoanPaymentAmount(t){this.updateModel(t,"Loan Payment Amount")},checkHighlight(t){if(this.dataValidationValues.length){var e;let i=null===(e=this.dataValidationValues.find(e=>e.fieldName==t))||void 0===e?void 0:e.status;if("Matched"===i||"Verified"===i)return"green";if(""===i||"Not Verified"===i||"Partially Matched"===i)return"orange";if("Not Matched"===i)return"red"}return""},calculateAge(t){if(!t)return;const e=new Date;if(new Date(t)>e)return"";const i=e-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},calculateAgeAtDoc(t,e){if(!t)return;if(new Date(t)>new Date(e))return"";const i=new Date(e)-new Date(t),s=Math.floor(i/864e5);return Math.floor(s/365.25)},checkDocument(){let t=this.checkList.filter(t=>(t.conditions&&t.conditions.length?(t.required=!1,t.conditions.forEach(e=>{var i;if("ANY"===t.groupLogic&&t.required)return;let s=(null===(i=this.formFields.find(t=>t.value===e.name))||void 0===i?void 0:i.type)||"",a=e.value,o=this.formModel[e.name];switch("NUMBER"===s&&(a=Number(a),o=Number(o)),e.logic){case"IS_EQUALS_TO":t.required=o===a;break;case"IS_NOT_EQUALS_TO":t.required=o!==a;break;case"CONTAINS":o.indexOf(a)>-1?t.required=!0:t.required=!1;break;case"IS_GREATER_THAN":t.required=o>a;break;case"IS_GREATER_THAN_OR_EQUALS_TO":t.required=o>=a;break;case"IS_LESSER_THAN":t.required=o<a;break;case"IS_LESSER_THAN_OR_EQUALS_TO":t.required=o<=a;break}}),t.required||t.visible?t.show=!0:t.show=!1):t.show=!0,t));this.$emit("update:checkList",t)},documentValidation(){let t=this.formFields.find(t=>"Required Documents"===t.label);if(t){"string"===typeof this.formModel[t.value]&&(this.formModel[t.value]=[]);let e=this.checkList.filter(t=>t.attach);e.length&&e.forEach(e=>{-1===this.formModel[t.value].indexOf(e.name)&&this.formModel[t.value].push(e.name)}),this.autoSave("Required Documents")}},autoSave(t){let e=location.origin;if(("https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e||"http://localhost:80801"===e)&&!this.saveOnly){let e=this.formFields.find(e=>e.label===t);if(e){let t={[e.value]:this.formModel[e.value]};this.$emit("update:autoSaveModel",t)}console.log(t),this.formModel[e.value]!=this.cloneFormModel[e.value]&&(this.$emit("update:saveOnly",!0),this.$emit("update:saveAction","Save"),this.cloneFormModel=Object(w["a"])(this.formModel))}},async updateDeclineReason(){const t=await this.$refs.declineModal.validate();t&&(this.declineReasonModal=!1,this.updateModel(this.declineReason,"Decline Reason"),this.updateModel("Recommend to Decline","Claim Decision"),this.$emit("update:workflowFormModel",this.formModel),this.$emit("update:saveAction","Recommend to Decline"))},async getCityList(){this.cityList=[];let t=this.formFields.find(t=>"City"===t.label);if(t)try{const e=await v["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:t.value,keyword:"",rowFrom:0,rowCount:0})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length&&(this.cityList=a.map(t=>({id:this.$nano.id(),label:t,value:t})));let o=this.cityList.find(e=>e.label===this.formModel[t.value]);o||this.cityList.push({id:this.$nano.id(),label:this.formModel[t.value],value:this.formModel[t.value]})}catch(e){console.error(e),this.$alert.error("Error fetching options")}},async getProvinceList(){this.provinceList=[];let t=this.formFields.find(t=>"Province"===t.label);if(t)try{const e=await v["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:t.value,keyword:"",rowFrom:0,rowCount:0})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);a.length&&(this.provinceList=a.map(t=>({id:this.$nano.id(),label:t,value:t})));let o=this.provinceList.find(e=>e.label===this.formModel[t.value]);o||this.provinceList.push({id:this.$nano.id(),label:this.formModel[t.value],value:this.formModel[t.value]})}catch(e){console.error(e),this.$alert.error("Error fetching options")}},async getDeclineReasonList(){this.declineReasonList=[];const{error:t,payload:e}=await y["g"].getFormEntries(5,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(t)return void this.$alert.error(t);const{data:i}=e;this.declineReasonList=i[0].value.map(t=>({id:t.itemid,label:`${t["_siZd2ju1yrpaAcCiiJ8X"]} - ${t["xvC46pmC5uL77kIpjJ2p-"]}`,value:`${t["_siZd2ju1yrpaAcCiiJ8X"]} - ${t["xvC46pmC5uL77kIpjJ2p-"]}`}))},async getDataValidation(){const{error:t,payload:e}=await y["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length?this.$emit("updateDataValidationValues",e):this.$emit("updateDataValidationValues",[])},async confirmCustomerInfo(){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"],e=[],i=[];if(t.forEach(t=>{let s=this.dataValidationValues.find(e=>e.fieldName==t);s?(s.formValue=this.getModel(t),s.status="Not Matched"===s.status||"Not Verified"===s.status?"Verified":s.status,i.push(s)):e.push({processId:this.selectedProcess.processId,fieldName:t,formValue:this.getModel(t),status:"Verified"})}),i.length){const{error:t}=await y["d"].updateArmgroupMLValidation(i);if(t)return void this.$alert.error(t)}if(e.length){const{error:t}=await y["d"].insertArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}this.getDataValidation()},async unConfirmCustomerInfo(){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];if(this.dataValidationValues.length){t.forEach(t=>{let e=this.dataValidationValues.find(e=>e.fieldName==t);e&&(e.formValue=this.getModel(t),e.status="Verified"===e.status?"Not Verified":e.status)});const{error:e}=await y["d"].updateArmgroupMLValidation(this.dataValidationValues);if(e)return void this.$alert.error(e)}},async confirmLoanInfo(){this.loanInfoVerify=!0;let t=[],e=this.dataValidationValues.find(t=>"Loan Info"==t.fieldName);if(e?(e.formValue="Checked",e.status="Not Matched"===e.status||"Not Verified"===e.status?"Verified":e.status,t.push(e)):t=[{processId:this.selectedProcess.processId,fieldName:"Loan Info",formValue:"Checked",status:"Verified"}],t[0].id){const{error:e}=await y["d"].updateArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}else{const{error:e}=await y["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmLoanInfo(){this.loanInfoVerify=!1;let t=[],e=this.dataValidationValues.find(t=>"Loan Info"==t.fieldName);e&&(e.formValue="",e.status="Not Verified",t.push(e));const{error:i}=await y["d"].updateArmgroupMLValidation(t);i&&this.$alert.error(i)},async confirmClaimInfo(){this.claimInfoVerify=!0;let t=[],e=this.dataValidationValues.find(t=>"Claim Info"==t.fieldName);if(e?(e.formValue="Checked",e.status="Not Matched"===e.status||"Not Verified"===e.status?"Verified":e.status,t.push(e)):t=[{processId:this.selectedProcess.processId,fieldName:"Claim Info",formValue:"Checked",status:"Verified"}],t[0].id){const{error:e}=await y["d"].updateArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}else{const{error:e}=await y["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmClaimInfo(){this.claimInfoVerify=!1;let t=[],e=this.dataValidationValues.find(t=>"Claim Info"==t.fieldName);e&&(e.formValue="",e.status="Not Verified",t.push(e));const{error:i}=await y["d"].updateArmgroupMLValidation(t);i&&this.$alert.error(i)},export_Data(){if(this.paymentTableValues.length){let t=[];t=this.paymentTableValues.map(t=>({"Payment Number":t.paymentNumber,"Base Amount":t.baseAmount,"Claim Amount":t.claimAmount,"Cumulative Total":t.cumulativeTotal,Approval:t.approval,"Approved Date":t.approvedDate,"Payment Date":t.paymentDate,"Payment Frequency":t.benefitType})),Object(g["a"])(t)}},paymentApprove(){if(this.numberOfApprovePayment>0)if(this.numberOfApprovePayment>this.paymentTableValues.length)this.$alert.warning("Approved payment should be less than "+this.paymentTableValues.length);else if(this.isPaymentFound){let t=this.paymentTableValues.filter(t=>"Approved"!==t.approval);t.length&&t.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved";let i=0;t.approvedDate=this.$day.addDate(this.$day.newDate(),e*i),t.paymentDate=this.$day.addDate(this.$day.newDate(),e*i+1),t.approvedBy=this.userInitials}else t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""})}else this.paymentTableValues.forEach((t,e)=>{if(e<this.numberOfApprovePayment){t.approval="Approved";let i=0;t.approvedDate=this.$day.addDate(this.$day.newDate(),e*i),t.paymentDate=this.$day.addDate(this.$day.newDate(),e*i+1),t.approvedBy=this.userInitials}else t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""});else this.$alert.warning("Specify the valid number")},clearPaymentApprove(){this.numberOfApprovePayment=0,this.paymentTableValues.forEach(t=>{t.approval="",t.approvedDate="",t.paymentDate="",t.approvedBy=""})},checkApprovalEdit(t){return!!t.approvedDate&&this.$day.newDate()!==t.approvedDate},updateApprovalDate(t){if("Approved"===this.paymentTableValues[t].approval){this.paymentTableValues[t].approvedDate=this.$day.newDate();let e=new Date;e.setDate(e.getDate()+1);let i=e.getMonth()+1;i<10&&(i="0"+i);let s=e.getDate();s<10&&(s="0"+s),this.paymentTableValues[t].paymentDate=`${e.getFullYear()}-${i}-${s}`,this.paymentTableValues[t].approvedBy=this.userInitials}else this.paymentTableValues[t].approvedDate="",this.paymentTableValues[t].paymentDate="",this.paymentTableValues[t].approvedBy=""},addLumpsumRow(){if(!this.paymentTableValues[this.paymentTableValues.length-1].lumpsumRow){let t=0;4e3===Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)&&(t=4e3.toFixed(2));const e={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:t,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,lumpsumRow:!0,delete:!0};this.paymentTableValues.push(e)}},addPaymentRow(){let t=0;if(this.paymentTableValues.length&&(t=Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)),4e3!==t||this.hasCIClaimsType)if(15e3===t&&this.hasCIClaimsType)this.$alert.warning("Already maximum amount 15000 reached");else{const t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(t)}else this.$alert.warning("Already maximum amount 4000 reached")},removePaymentRow(t){this.paymentTableValues.splice(t,1)},calcOtherColumns(t){let e=0,i=this.paymentTableValues[t].baseAmount;if(this.hasOtherClaimsType){if(this.paymentTableValues[t].lumpsumRow){if(i>2e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[t].claimAmount=(0).toFixed(2),e=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===e&&this.paymentTableValues[t].baseAmount>0)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(e+=i,e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let s=i+.2*i;if(this.paymentTableValues[t].claimAmount=s.toFixed(2),e=s+Number(this.paymentTableValues[t-1].cumulativeTotal),this.STLOCTypeFormula&&e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].claimAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),e=0,void this.$alert.warning("Cumulative total shouldn't exceed $4000")}e>0&&i&&(this.paymentTableValues[t].cumulativeTotal=e.toFixed(2))}else if(this.hasLifeType){if(this.ENHTypeFormula){if(i>5e4)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $50000")}else if(i>15e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2)}else if(this.hasCIClaimsType){let e=0;if(t&&(e=Number(this.paymentTableValues[t-1].cumulativeTotal)+i),i<=15e3&&t)return void(this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2));if(i>15e3&&!t)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");if(e>15e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[t].cumulativeTotal=this.paymentTableValues[t].baseAmount.toFixed(2)}},calcOtherColumns1(t){let e=0,i=this.paymentTableValues[t].baseAmount;if(this.paymentTableValues[t].lumpsumRow){if(i>2e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[t].claimAmount=(0).toFixed(2),e=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===e&&this.paymentTableValues[t].baseAmount>0)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(e+=i,e>4e3)return this.paymentTableValues[t].baseAmount=0,this.paymentTableValues[t].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let s=i+.2*i;this.paymentTableValues[t].claimAmount=s.toFixed(2),this.paymentTableValues.forEach(t=>{e+=Number(t.claimAmount)})}this.paymentTableValues[t].cumulativeTotal=e.toFixed(2)},claimStatusSearchRow(t){this.claimStatusValues=t?this.claimStatusValuesData.filter(e=>{for(let i in e){let s=this.claimStatusColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.claimStatusValuesData},loadAllClaimStatus(){this.claimStatusItemsPerPage=this.claimStatusTotalItems,1===this.claimStatusCurrentPage?this.getClaimStatus():this.claimStatusCurrentPage=1},dailyDataStatusSearchRow(t){this.dailyDataStatusValues=t?this.dailyDataStatusValuesData.filter(e=>{for(let i in e){let s=this.dailyDataStatusColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.dailyDataStatusValuesData},loadAllDailyDataStatus(){this.dailyDataStatusItemsPerPage=this.dailyDataStatusTotalItems,1===this.dailyDataStatusCurrentPage?this.getDailyDataStatus():this.dailyDataStatusCurrentPage=1},paymentHistorySearchRow(t){this.paymentHistoryValues=t?this.paymentHistoryValuesData.filter(e=>{for(let i in e){let s=this.paymentHistoryColumns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}}):this.payymentHistoryValuesData},loadAllPaymentHistory(){this.paymentHistoryItemsPerPage=this.paymentHistoryTotalItems,1===this.paymentHistoryCurrentPage?this.getPaymentHistory():this.payemntHistoryCurrentPage=1},addClaimStatus(){this.claimStatusRow={},this.claimStatus="",this.csDate="",this.csNote=0,this.claimLetterSent=0,this.mailingType="",this.lenderLetter="",this.internalOnly=!1,this.internalNotes="",this.claimStatusModal=!0},editClaimStatus(t){this.claimStatusRow=this.claimStatusValues.find(e=>e.ClaimStatusID===t.ClaimStatusID),this.claimStatusRow&&(this.claimStatus=this.claimStatusRow.ClaimStatus,this.csNote=this.claimStatusRow.CSNote,this.claimLetterSent=this.claimStatusRow.ClaimLetterSent,this.mailingType=this.claimStatusRow.MailingType,this.lenderLetter=this.claimStatusRow.lenderLetter,this.internalOnly=Boolean(this.claimStatusRow.InternalOnly),this.internalNotes=this.claimStatusRow.InternalNotes),this.claimStatusModal=!0},async getClaimStatusMaster(t){this.claimStatusList=[],this.$store.commit("showLoadingBar");const{error:e,payload:i}=await y["g"].getFormEntries(t,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),e)return void this.$alert.error(e);const{data:s}=i;this.claimStatusList=s[0].value.map(t=>({id:t.itemid,label:t["dKY2zhKPS4-hQy1I6yVSV"],value:t["dKY2zhKPS4-hQy1I6yVSV"]}))},async paymentCalculation(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=6;break;case"BiWeekly":case"SemiMonthly":i=12;break;case"Weekly":i=24;break}for(let s=1;s<=i;s++){if(this.hasLMUFLClaimsType&&s>3)return;let t=this.totalPayment,i=0,a=0;if(this.STLOCTypeFormula?(this.hasOtherClaimsType?a=4e3:this.hasLMUFLClaimsType&&(a=2e3),i=t+.2*t):this.ENHTypeFormula?this.hasOtherClaimsType?a=6e3:this.hasLMUFLClaimsType&&(a=2e3):this.mobileFinanceFormula?this.hasOtherClaimsType?a=7500:this.hasLMUFLClaimsType&&(a=2e3):this.moneyMartFormula&&this.hasLMUFLClaimsType&&(a=2e3),!this.moneyMartFormula&&e+i>a)return void this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:(a-e).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:a.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});if(this.STLOCTypeFormula)e+=i;else if(this.ENHTypeFormula)e+=t;else if(this.mobileFinanceFormula)e+=t;else if(this.moneyMartFormula){let s=this.getModel("Principal Balance At Doc"),a=0,o=0;if(this.hasOtherClaimsType&&s)if("BiWeekly"===this.benefitType||"SemiMonthly"===this.benefitType){let t=50*s/100;a=t.toFixed(2)}else if("Weekly"===this.benefitType){let t=25*s/100;a=t.toFixed(2)}else"Monthly"===this.benefitType&&(a=s);o=a/24,i=o,e+=o+t}if(this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType}),e===a)return}},async paymentCalculation1(){this.numberOfApprovePayment=0;const t=await this.$refs.form.validate();if(!t)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let e=0,i=0;if(this.benefitType)switch(this.benefitType){case"Monthly":i=6;break;case"BiWeekly":case"SemiMonthly":i=12;break;case"Weekly":i=24;break}for(let s=1;s<=i;s++){let t=this.totalPayment,i=t+.2*t;if(e+i>4e3)return void this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:(4e3-e).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:4e3.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});e+=i,this.paymentTableValues.push({paymentId:0,paymentNumber:s,baseAmount:t.toFixed(2),claimAmount:i.toFixed(2),cumulativeTotal:e.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType})}},async getPaymentTable1(){this.isPaymentFound=!1;const{error:t,payload:e}=await y["d"].getPaymentTable({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});t?this.$alert.error(t):e.length&&(this.paymentTableValues=e,this.isPaymentFound=!0)},async getPaymentTable(){this.isPaymentFound=!1,this.paymentTableValues=[];let t=this.formFields.find(t=>"Claim No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};this.isPaymentFound||(this.hasLifeType||this.hasCIClaimsType)&&this.getLifeTypePaymentTable(),i["CPClaimNumber"]=this.formModel[t.value];let s={hublinkId:8,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:50,currentPage:1};const{payload:a,error:o}=await y["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&r.length&&r[0].value.length&&(this.paymentTableValues=[],r[0].value.forEach(t=>{this.paymentTableValues.push({paymentId:t.ClaimPaymentID,paymentNumber:t.ClaimPaymentNumber,baseAmount:Number(t.ClaimPaymentAmount).toFixed(2),claimAmount:Number(t.PrincipalPmt).toFixed(2),cumulativeTotal:Number(t.CumulativeTotal).toFixed(2),approval:t.Status,approvedDate:this.$day.parseDate(t.StatusDate),paymentDate:this.$day.parseDate(t.CPaymentDate),approvedBy:t.ApprovedBy,notes:t.CPNotes,goodWill:"True"===t.Goodwill,lppPlus:"True"===t.LPPPlus,preApprovedPmt:"True"===t.PreApprovedPmt,psgCovered:"True"===t.PSGCovered})}),this.isPaymentFound=!0)},async updatePaymentTable1(){this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let t={workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,paymentTableList:this.paymentTableValues};if(this.isPaymentFound){const{error:e}=await y["d"].updatePaymentTable(this.selectedProcess.processId,t);if(e)return void this.$alert.error(e);this.$alert.success("Payment entry updated")}else{const{error:e}=await y["d"].savePaymentTable(t);if(e)return void this.$alert.error(e);this.$alert.success("Payment entry added")}this.getPaymentTable()},async updatePaymentTable(){let t=this.formFields.find(t=>"Lender Name"===t.label),e=this.formFields.find(t=>"Claim No."===t.label);this.paymentTableValues.forEach(t=>{t.baseAmount=Number(t.baseAmount).toFixed(2)});let i=[];this.paymentTableValues.forEach(t=>{let s={};s=t.paymentId?{modifiedBy:this.userNames,modifiedDt:this.$day.newDateTime()}:{createdBy:this.userNames,createdDt:this.$day.newDateTime()},i.push({claimPaymentID:t.paymentId,cPClaimNumber:this.formModel[e.value],paymentNumber:t.paymentNumber,paymentBaseAmount:t.baseAmount,claimAmount:t.claimAmount,cumulativeTotal:t.cumulativeTotal,approval:t.approval,paymentDate:t.paymentDate,approvedBy:0,cpNotes:t.notes,goodwill:t.goodWill,lppplus:t.lppPlus,preApprovedPMT:t.preApprovedPmt,psgCovered:t.psgCovered,approvalDate:t.approvedDate,proRated:!1,...s})});let s={lenderName:this.formModel[t.value],claimNumber:this.clearPayment?this.formModel[e.value]:"",paymentList:i};const{error:a}=await y["d"].savePaymentTable(s);a?this.$alert.error(a):(this.$alert.success("Payment entry updated"),this.numberOfApprovePayment=0,this.getPaymentTable())},async getContractData(t){let e=this.formFields.find(t=>"Loan No."===t.label),i=this.formFields.find(t=>"Lender Name"===t.label),s={};if(s["StoreLoanNumber"]=this.formModel[e.value],"Borrower"===t){let t={hublinkId:4,payloadMapping:JSON.stringify(s),lenderName:this.formModel[i.value],itemsPerPage:500,currentPage:1};const{payload:e,error:a}=await y["d"].getDataSync(t);if(this.$store.commit("hideLoadingBar"),a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:o,meta:r}=e;r.totalItems&&o.length&&o[0].value.length&&o[0].value.forEach(t=>{this.updateModel(t.FirstName,"First Name"),this.updateModel(t.LastName,"Last Name"),this.updateModel(t.DOB,"DOB"),this.updateModel(t.Address1,"Address"),this.updateModel(t.City,"City"),this.updateModel(t.Province,"Province"),this.updateModel(t.PostalCode,"Postal Code"),this.updateModel(t.Phone,"Phone No.")})}else if("Co-Borrower"===t){let t={hublinkId:3,payloadMapping:JSON.stringify(s),lenderName:this.formModel[i.value],itemsPerPage:500,currentPage:1};const{payload:e,error:a}=await y["d"].getDataSync(t);if(this.$store.commit("hideLoadingBar"),a)return void("Connection Interrupted"===a?this.$alert.warning(a):this.$alert.error(a));const{data:o,meta:r}=e;r.totalItems&&o.length&&o[0].value.length&&o[0].value.forEach(t=>{this.updateModel(t.CoFirstName,"First Name"),this.updateModel(t.CoLastName,"Last Name"),this.updateModel(t.CoDOB,"DOB"),this.updateModel(t.CoAddress1,"Address"),this.updateModel(t.CoCity,"City"),this.updateModel(t.CoProvince,"Province"),this.updateModel(t.CoPostalCode,"Postal Code"),this.updateModel(t.CoPhone,"Phone No.")})}},async getClaimStatus(){this.claimStatusValues=[],this.claimStatusValuesData=[];let t=this.formFields.find(t=>"Claim No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["CSClaimNumber"]=this.formModel[t.value];let s={hublinkId:7,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.claimStatusItemsPerPage,currentPage:this.claimStatusCurrentPage};const{payload:a,error:o}=await y["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&(this.claimStatusTotalItems=n.totalItems,r.length&&r[0].value.length&&(this.claimStatusValues=r[0].value,this.claimStatusValuesData=r[0].value))},async saveClaimStatus(){const t=await this.$refs.claimStatusModal.validate();if(!t)return;let e=this.formFields.find(t=>"Claim No."===t.label),i=this.formFields.find(t=>"Lender Name"===t.label),s={};s=Object.keys(this.claimStatusRow).length?{CSClaimNumber:this.claimStatusRow.CSClaimNumber,ClaimStatus:this.claimStatus,CSDate:this.claimStatusRow.CSDate,ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.claimStatusRow.CreatedBy,CreatedDt:this.claimStatusRow.CreatedDt,ModifiedBy:this.userNames,ModifiedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0}:{CSClaimNumber:this.formModel[e.value],ClaimStatus:this.claimStatus,CSDate:this.$day.newDate(),ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.userNames,CreatedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0};let a={lenderName:this.formModel[i.value],claimStatusID:Object.keys(this.claimStatusRow).length?this.claimStatusRow.ClaimStatusID:0,fields:JSON.stringify(s)};const{error:o}=await y["d"].saveClaimStatus(a);o?this.$alert.error(o):(Object.keys(this.claimStatusRow).length?this.$alert.success("Claim status entry updated"):this.$alert.success("Claim status entry added"),this.claimStatusRow={},this.claimStatusModal=!1,this.getClaimStatus())},async getDailyDataStatus(){this.dailyDataStatusValues=[],this.dailyDataStatusValuesData=[];let t=this.formFields.find(t=>"Loan No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["loankey"]=this.formModel[t.value];let s={hublinkId:6,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.dailyDataStatusItemsPerPage,currentPage:this.dailyDataStatusCurrentPage};const{payload:a,error:o}=await y["d"].getDataSync(s);if(o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&(this.dailyDataStatusTotalItems=n.totalItems,r.length&&r[0].value.length&&(this.dailyDataStatusValues=r[0].value,this.dailyDataStatusValuesData=r[0].value))},async getPaymentHistory(){this.paymentHistoryValues=[],this.paymentHistoryValuesData=[];let t=this.formFields.find(t=>"Loan No."===t.label),e=this.formFields.find(t=>"Lender Name"===t.label),i={};i["StoreLoanNumber"]=this.formModel[t.value];let s={hublinkId:5,payloadMapping:JSON.stringify(i),lenderName:this.formModel[e.value],itemsPerPage:this.paymentHistoryItemsPerPage,currentPage:this.paymentHistoryCurrentPage};this.$store.commit("showLoadingBarSave");const{payload:a,error:o}=await y["d"].getDataSync(s);if(this.$store.commit("hideLoadingBarSave"),o)return void this.$alert.error(o);const{data:r,meta:n}=a;n.totalItems&&(this.paymentHistoryTotalItems=n.totalItems,r.length&&r[0].value.length&&(this.paymentHistoryValues=r[0].value,this.paymentHistoryValuesData=r[0].value))},getLifeTypePaymentTable(){this.paymentTableValues=[],this.paymentTableValues=[{approval:"",approvedBy:"",approvedDate:"",baseAmount:"",claimAmount:0,cumulativeTotal:"0",goodWill:!1,lppPlus:!1,notes:"",paymentDate:"",paymentId:0,paymentNumber:"1",preApprovedPmt:!1,psgCovered:!1,delete:!0}]}}},C=k,S=(i("55ff"),i("cea0"),i("2877")),A=Object(S["a"])(C,s,a,!1,null,"bdce7c08",null);e["a"]=A.exports},c53c:function(t,e,i){t.exports=i.p+"img/workspace-dark.0b8a0460.png"},c559:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"sort",expression:"'sort'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-sort","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("BaseScrollbar",{attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Criteria")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:t.criteria===i.name?"eva-radio-button-on":"eva-radio-button-off","is-selected":t.criteria===i.name,label:i.label},on:{click:function(e){return t.updateCriteria(i.name)}}})}))],2),e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Order")]),e("ListItem",{attrs:{icon:"ASC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"ASC"===t.order,label:"Ascending"},on:{click:function(e){return t.updateOrder("ASC")}}}),e("ListItem",{staticClass:"q-mb-sm",attrs:{icon:"DESC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"DESC"===t.order,label:"Descending"},on:{click:function(e){return t.updateOrder("DESC")}}})],1)],1)},a=[],o=i("cade"),r={name:"SortItems",components:{ListItem:o["a"]},props:{columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isSortable)]},scrollbarHeight(){const t=54*this._columns.length;return t>216?"224px":t+"px"}},methods:{updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)}}},n=r,l=i("2877"),c=i("4e73"),d=i("93dc"),h=i.n(d),u=Object(l["a"])(n,s,a,!1,null,"12f6a366",null);e["a"]=u.exports;h()(u,"components",{QMenu:c["a"]})},c589:function(t,e,i){},c5b7:function(t,e,i){"use strict";i("0698")},c721:function(t,e,i){},c925:function(t,e,i){"use strict";i("65c0")},ca57:function(t,e,i){},cbc3:function(t,e,i){},ccc5:function(t,e,i){"use strict";i("b811")},cccc:function(t,e,i){"use strict";i("307a")},cd22:function(t,e,i){t.exports=i.p+"img/name-dark.ebb22601.png"},cd8d:function(t,e,i){"use strict";i("00f0")},cdde:function(t,e,i){"use strict";function s(t){const e=document.createElement("textarea");e.value=t,e.contentEditable=!0,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();const i=document.execCommand("copy");return e.remove(),i}e["a"]=function(t){return void 0!==navigator.clipboard?navigator.clipboard.writeText(t):new Promise((e,i)=>{const a=s(t);a?e(!0):i(a)})}},cea0:function(t,e,i){"use strict";i("ee16")},d11f:function(t,e,i){"use strict";i("ad4f")},d2fb:function(t,e,i){"use strict";i("71f4")},d30f:function(t,e,i){},d37d:function(t,e,i){"use strict";i("4f21")},d406:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:{"is-selected":t.isSelected||t.file.id===t.fileId,"mini-mode":t.miniMode},attrs:{id:"file-list-item"},on:{click:function(e){return t.$emit("selectFile")},mouseover:function(e){t.fileId=t.file.id},mouseleave:function(e){t.fileId=0}}},[e("div",{staticClass:"avatar"},[e("FileIcon",{attrs:{"mime-type":t.type}})],1),e("div",{staticClass:"q-ml-md"},[e("div",t._g({staticClass:"title",on:{click:t.viewFile}},t.$listeners),[t._v(" "+t._s(t.file.name)+" "),t._t("info")],2),e("div",{staticClass:"meta"},[t.repository?[e("div",[t._v(t._s(t.repository))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}})]:t._e(),e("div",[t._v(t._s(t.createdAt))]),t.file.createdBy&&!t.miniMode?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.file.createdBy))])]:t._e(),t.file.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.size))])]:t._e(),t.file.ocrType?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.file.ocrType))])]:t._e(),t._t("status")],2)]),e("q-space"),t._t("default")],2)},a=[],o=i("fa1f"),r=i("a7d2"),n={name:"FileListItem",components:{FileIcon:o["a"]},props:{file:{type:Object,required:!0},isSelected:{type:Boolean,default:!1},miniMode:{type:Boolean,default:!1}},data(){return{fileId:0}},computed:{type(){return this.file.name.split(".").reverse()[0].slice(0,4)},repository(){if(this.file.repository)return this.file.repository.value},createdAt(){return this.$day.format(this.file.createdAt)},size(){return Object(r["a"])(this.file.size)}},methods:{viewFile(){this.$emit("view",this.file)}}},l=n,c=(i("8b18"),i("2877")),d=i("2c91"),h=i("93dc"),u=i.n(h),p=Object(c["a"])(l,s,a,!1,null,"0b7b1cb3",null);e["a"]=p.exports;u()(p,"components",{QSpace:d["a"]})},d9f6:function(t,e,i){},dc7a:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"repository-list"}},[e("div",{staticClass:"title"},[t._v("Folder")]),e("div",{staticClass:"wrapper"},[e("ValidationProvider",{attrs:{name:"repository",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{attrs:{value:t.value,"is-mandatory":"","is-clearable":!1,options:t.repositories,"is-readonly":"",error:i[0]},on:{input:t.handleInput}})]}}])})],1)])},a=[],o=i("1b0d"),r=i("7bb1"),n=i("12b8"),l={name:"RepositoryList",components:{ValidationProvider:r["b"],SelectField:n["a"]},props:{value:{type:Number,required:!0},workspaceId:{type:Number,required:!0}},data(){return{repositories:[]}},watch:{workspaceId:{immediate:!0,handler:"getRepositories"}},methods:{handleInput(t){this.$emit("input",t)},async getRepositories(){if(this.workspaceId){this.repositories=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await o["p"].getRepositoryList("workspaceId",this.workspaceId);if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);if(!e.length)return;this.repositories=e.map(t=>({id:this.$nano.id(),label:t.value,value:t.id}))}}}},c=l,d=(i("39cc"),i("2877")),h=Object(d["a"])(c,s,a,!1,null,"11e49f8b",null);e["a"]=h.exports},ddad:function(t,e,i){"use strict";i("acf0")},defc:function(t,e,i){"use strict";i("6216")},e09c:function(t,e,i){},e0b6:function(t,e,i){},e170:function(t,e,i){},e21c:function(t,e,i){"use strict";i("e09c")},e359:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("3980"),o=i("87e8"),r=i("e277"),n=i("d882"),l=i("d54d");e["a"]=s["default"].extend({name:"QHeader",mixins:[o["a"]],inject:{layout:{default(){console.error("QHeader needs to be child of QLayout")}}},props:{value:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},data(){return{size:parseInt(this.heightHint,10),revealed:!0}},watch:{value(t){this.__update("space",t),this.__updateLocal("revealed",!0),this.layout.__animate()},offset(t){this.__update("offset",t)},reveal(t){!1===t&&this.__updateLocal("revealed",this.value)},revealed(t){this.layout.__animate(),this.$emit("reveal",t)},"layout.scroll"(t){!0===this.reveal&&this.__updateLocal("revealed","up"===t.direction||t.position<=this.revealOffset||t.position-t.inflexionPosition<100)}},computed:{fixed(){return!0===this.reveal||this.layout.view.indexOf("H")>-1||this.$q.platform.is.ios&&!0===this.layout.container},offset(){if(!0!==this.value)return 0;if(!0===this.fixed)return!0===this.revealed?this.size:0;const t=this.size-this.layout.scroll.position;return t>0?t:0},hidden(){return!0!==this.value||!0===this.fixed&&!0!==this.revealed},revealOnFocus(){return!0===this.value&&!0===this.hidden&&!0===this.reveal},classes(){return(!0===this.fixed?"fixed":"absolute")+"-top"+(!0===this.bordered?" q-header--bordered":"")+(!0===this.hidden?" q-header--hidden":"")+(!0!==this.value?" q-layout--prevent-focus":"")},style(){const t=this.layout.rows.top,e={};return"l"===t[0]&&!0===this.layout.left.space&&(e[!0===this.$q.lang.rtl?"right":"left"]=this.layout.left.size+"px"),"r"===t[2]&&!0===this.layout.right.space&&(e[!0===this.$q.lang.rtl?"left":"right"]=this.layout.right.size+"px"),e},onEvents(){return{...this.qListeners,focusin:this.__onFocusin,input:n["k"]}}},render(t){const e=Object(r["d"])(this,"default",[]);return!0===this.elevated&&e.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(t(a["a"],{props:{debounce:0},on:Object(l["b"])(this,"resize",{resize:this.__onResize})})),t("header",{staticClass:"q-header q-layout__section--marginal",class:this.classes,style:this.style,on:this.onEvents},e)},created(){this.layout.instances.header=this,!0===this.value&&this.__update("size",this.size),this.__update("space",this.value),this.__update("offset",this.offset)},beforeDestroy(){this.layout.instances.header===this&&(this.layout.instances.header=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},methods:{__onResize({height:t}){this.__updateLocal("size",t),this.__update("size",t)},__update(t,e){this.layout.header[t]!==e&&(this.layout.header[t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)},__onFocusin(t){!0===this.revealOnFocus&&this.__updateLocal("revealed",!0),this.$emit("focusin",t)}}})},e5e9:function(t,e,i){},e603:function(t,e,i){"use strict";i("4488")},e864:function(t,e,i){"use strict";i("1137")},e887:function(t,e,i){},e8ea:function(t,e,i){"use strict";i.d(e,"a",(function(){return ut})),i.d(e,"b",(function(){return x}));var s=i("9b4a");
/*!
 * chartjs-chart-sankey v0.1.5
 * https://github.com/kurkle/chartjs-chart-sankey#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT license
 */function a(t,e){const i=new Set(e.map(t=>t.to)),s=new Set(e.map(t=>t.from)),a=new Set([...t.keys()]);let r=0;while(a.size){const s=o([...a],i);for(let e=0;e<s.length;e++)t.get(s[e]).x=r,a.delete(s[e]);a.size&&(i.clear(),e.filter(t=>a.has(t.from)).forEach(t=>i.add(t.to)),r++)}return[...t.keys()].filter(t=>!s.has(t)).forEach(e=>{t.get(e).x=r}),r}function o(t,e){const i=t.filter(t=>!e.has(t));return i.length?i:t.slice(0,1)}const r=(t,e)=>t.x!==e.x?t.x-e.x:t.y-e.y,n=(t,e)=>t.reduce((t,i)=>t+i.node[e].length+n(i.node[e],e),0),l=t=>(e,i)=>n(e.node[t],t)-n(i.node[t],t);function c(t){return t.sort((t,e)=>Math.max(e.in,e.out)-Math.max(t.in,t.out))[0]}function d(t,e){return t.from.sort(l("from")).forEach(t=>{const i=t.node;"y"in i||(i.y=e,e=Math.max(e+i.out,d(i,e)))}),e}function h(t,e){return t.to.sort(l("to")).forEach(t=>{const i=t.node;"y"in i||(i.y=e,e=Math.max(e+i.in,h(i,e)))}),e}function u(t,e){const i=t.filter(t=>0===t.x),s=t.filter(t=>t.x===e);let a=i.reduce((t,e)=>Math.max(t,e.y+e.out||0),0),o=s.reduce((t,e)=>Math.max(t,e.y+e.out||0),0);return a>=o?(i.forEach(t=>{"y"in t?a=t.y:t.y=a,a=Math.max(a+t.out,h(t,a))}),s.forEach(t=>{"y"in t?o=t.y:t.y=o,o=Math.max(o+t.in,h(t,o))})):(s.forEach(t=>{"y"in t?o=t.y:t.y=o,o=Math.max(o+t.in,h(t,o))}),i.forEach(t=>{"y"in t?a=t.y:t.y=a,a=Math.max(a+t.out,h(t,a))})),Math.max(a,o)}function p(t,e){const i=c(t);i.y=0;const s=d(i,0),a=h(i,0),o=u(t,e);return Math.max(s,a,o)}function m(t,e){let i=0;for(let s=0;s<=e;s++)i=Math.max(i,t.filter(t=>t.x===s).length);return i}function f(t,e){let i=1,s=0,a=0;const o=[];t.sort(r).forEach(t=>{if(t.y){if(0===t.x)o.push(t.y);else{for(s!==t.x&&(s=t.x,a=0),i=a+1;i<o.length;i++)if(o[i]>t.y)break;a=i}t.y+=i*e,i++}})}function g(t){t.forEach(t=>{let e=0;t.from.sort((t,e)=>t.node.y+t.node.out/2-(e.node.y+e.node.out/2)).forEach(t=>{t.addY=e,e+=t.flow}),e=0,t.to.sort((t,e)=>t.node.y+t.node.in/2-(e.node.y+e.node.in/2)).forEach(t=>{t.addY=e,e+=t.flow})})}function v(t,e){const i=[...t.values()],s=a(t,e),o=p(i,s),r=m(i,s),n=.03*o;return f(i,n),g(i),{maxX:s,maxY:o+r*n}}function y(t){const e=new Map;for(let s=0;s<t.length;s++){const i=t[s];if(e.has(i.from)){const t=e.get(i.from);t.out+=i.flow,t.to.push({key:i.to,flow:i.flow})}else e.set(i.from,{key:i.from,in:0,out:i.flow,from:[],to:[{key:i.to,flow:i.flow}]});if(e.has(i.to)){const t=e.get(i.to);t.in+=i.flow,t.from.push({key:i.from,flow:i.flow})}else e.set(i.to,{key:i.to,in:i.flow,out:0,from:[{key:i.from,flow:i.flow}],to:[]})}const i=(t,e)=>e.flow-t.flow;return[...e.values()].forEach(t=>{let s=0;t.from=t.from.sort(i),t.from.forEach(t=>{t.node=e.get(t.key),t.addY=s,s+=t.flow}),s=0,t.to=t.to.sort(i),t.to.forEach(t=>{t.node=e.get(t.key),t.addY=s,s+=t.flow})}),e}function b(t,e){for(let i=0;i<t.length;i++)if(t[i].key===e)return t[i].addY;return 0}class x extends s["b"]{parseObjectData(t,e,i,s){const a=this,{xScale:o,yScale:r}=t,n=[],l=a._nodes=y(e),{maxX:c,maxY:d}=v(l,e);o.options.max=c,r.options.max=d;for(let h=0,u=e.length;h<u;++h){const t=e[h],i=l.get(t.from),s=l.get(t.to),a=i.y+b(i.to,t.to),c=s.y+b(s.from,t.from);n.push({x:o.parse(i.x,h),y:r.parse(a,h),_custom:{from:i,to:s,x:o.parse(s.x,h),y:r.parse(c,h),height:r.parse(t.flow,h)}})}return n.slice(i,i+s)}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,t)}updateElements(t,e,i){const s=this,{xScale:a,yScale:o}=s._cachedMeta,r=s.resolveDataElementOptions(e,i),n=s.getSharedOptions(i,t[e],r);for(let l=0;l<t.length;l++){const r=e+l,n=s.getParsed(r),c=n._custom,d=o.getPixelForValue(n.y);s.updateElement(t[l],r,{x:a.getPixelForValue(n.x)+11,y:d,x2:a.getPixelForValue(c.x)-1,y2:o.getPixelForValue(c.y),from:c.from,to:c.to,progress:"reset"===i?0:1,height:Math.abs(o.getPixelForValue(n.y+c.height)-d),options:s.resolveDataElementOptions(l,i)},i)}s.updateSharedOptions(n,i)}_drawLabels(){const t=this,e=t._ctx,i=t._nodes||new Map,{xScale:s,yScale:a}=t._cachedMeta;e.save();const o=t.chart.chartArea;for(const r of i.values()){const t=s.getPixelForValue(r.x),i=a.getPixelForValue(r.y),n=Math.max(r.in,r.out),l=Math.abs(a.getPixelForValue(r.y+n)-i);e.fillStyle="black",e.textBaseline="middle",t<o.width/2?(e.textAlign="left",e.fillText(r.key,t+15,i+l/2)):(e.textAlign="right",e.fillText(r.key,t-5,i+l/2))}e.restore()}_drawNodes(){const t=this,e=t._ctx,i=t._nodes||new Map,{xScale:s,yScale:a}=t._cachedMeta;e.save(),e.strokeStyle="black";for(const o of i.values()){e.fillStyle=o.color;const t=s.getPixelForValue(o.x),i=a.getPixelForValue(o.y),r=Math.max(o.in,o.out),n=Math.abs(a.getPixelForValue(o.y+r)-i);e.strokeRect(t,i,10,n),e.fillRect(t,i,10,n)}e.restore()}draw(){const t=this,e=t._ctx,i=t.getMeta().data||[];for(let s=0,a=i.length;s<a;++s){const t=i[s];t.from.color=t.options.colorFrom,t.to.color=t.options.colorTo}t._drawLabels(),t._drawNodes();for(let s=0,a=i.length;s<a;++s)i[s].draw(e)}}x.id="sankey",x.defaults={dataElementType:"flow",dataElementOptions:["colorFrom","colorTo"],hover:{mode:"nearest",intersect:!0},datasets:{animation:t=>{let e=0,i=0;const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.dataIndex);return s&&(e=500*s.x+20*t.dataIndex,i=200*(s._custom.x-s.x)),{numbers:{type:"number",properties:["x","y","x2","y2","height"]},progress:{easing:"linear",duration:i,delay:e},colors:{type:"color",properties:["colorFrom","colorTo"]},hide:{colors:{type:"color",properties:["colorFrom","colorTo"],to:"transparent"}},show:{colors:{type:"color",properties:["colorFrom","colorTo"],from:"transparent"}}}},color:()=>"#efefef"},tooltips:{mode:"nearest",intersect:!0,callbacks:{title(){return""},label(t){const e=t.dataset.data[t.dataIndex];return e.from+" -> "+e.to+": "+e.flow}}},legend:{display:!1},scales:{x:{type:"linear",display:!1,min:0,offset:!0},y:{type:"linear",display:!1,min:0,reverse:!0,offset:!0}}};
/*!
 * Chart.js v3.0.0-alpha.2
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
const w={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k="0123456789ABCDEF",C=t=>k[15&t],S=t=>k[(240&t)>>4]+k[15&t],A=t=>(240&t)>>4===(15&t);function I(t){return A(t.r)&&A(t.g)&&A(t.b)&&A(t.a)}function T(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*w[t[1]],g:255&17*w[t[2]],b:255&17*w[t[3]],a:5===i?17*w[t[4]]:255}:7!==i&&9!==i||(e={r:w[t[1]]<<4|w[t[2]],g:w[t[3]]<<4|w[t[4]],b:w[t[5]]<<4|w[t[6]],a:9===i?w[t[7]]<<4|w[t[8]]:255})),e}function L(t){var e=I(t)?C:S;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function P(t){return t+.5|0}const _=(t,e,i)=>Math.max(Math.min(t,i),e);function M(t){return _(P(2.55*t),0,255)}function F(t){return _(P(255*t),0,255)}function D(t){return _(P(t/2.55)/100,0,1)}function B(t){return _(P(100*t),0,100)}const O=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function E(t){const e=O.exec(t);let i,s,a,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?M(t):255*t)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?M(i):i),s=255&(e[4]?M(s):s),a=255&(e[6]?M(a):a),{r:i,g:s,b:a,a:o}}}function N(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${D(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const $=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R(t,e,i){const s=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function z(t,e,i){const s=(s,a=(s+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function q(t,e,i){const s=R(t,1,.5);let a;for(e+i>1&&(a=1/(e+i),e*=a,i*=a),a=0;a<3;a++)s[a]*=1-e-i,s[a]+=e;return s}function V(t){const e=255,i=t.r/e,s=t.g/e,a=t.b/e,o=Math.max(i,s,a),r=Math.min(i,s,a),n=(o+r)/2;let l,c,d;return o!==r&&(d=o-r,c=n>.5?d/(2-o-r):d/(o+r),l=o===i?(s-a)/d+(s<a?6:0):o===s?(a-i)/d+2:(i-s)/d+4,l=60*l+.5),[0|l,c||0,n]}function j(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(F)}function W(t,e,i){return j(R,t,e,i)}function H(t,e,i){return j(q,t,e,i)}function X(t,e,i){return j(z,t,e,i)}function Y(t){return(t%360+360)%360}function G(t){const e=$.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?M(+e[5]):F(+e[5]));const a=Y(+e[2]),o=+e[3]/100,r=+e[4]/100;return i="hwb"===e[1]?H(a,o,r):"hsv"===e[1]?X(a,o,r):W(a,o,r),{r:i[0],g:i[1],b:i[2],a:s}}function U(t,e){var i=V(t);i[0]=Y(i[0]+e),i=W(i),t.r=i[0],t.g=i[1],t.b=i[2]}function J(t){if(!t)return;const e=V(t),i=e[0],s=B(e[1]),a=B(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${a}%, ${D(t.a)})`:`hsl(${i}, ${s}%, ${a}%)`}const K={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q(){const t={},e=Object.keys(Z),i=Object.keys(K);let s,a,o,r,n;for(s=0;s<e.length;s++){for(r=n=e[s],a=0;a<i.length;a++)o=i[a],n=n.replace(o,K[o]);o=parseInt(Z[r],16),t[n]=[o>>16&255,o>>8&255,255&o]}return t}let tt;function et(t){tt||(tt=Q(),tt.transparent=[0,0,0,0]);const e=tt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function it(t,e,i){if(t){let s=V(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=W(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function st(t,e){return t?Object.assign(e||{},t):t}function at(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=F(t[3]))):(e=st(t,{r:0,g:0,b:0,a:1}),e.a=F(e.a)),e}function ot(t){return"r"===t.charAt(0)?E(t):G(t)}class rt{constructor(t){if(t instanceof rt)return t;const e=typeof t;let i;"object"===e?i=at(t):"string"===e&&(i=T(t)||et(t)||ot(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=st(this._rgb);return t&&(t.a=D(t.a)),t}set rgb(t){this._rgb=at(t)}rgbString(){return this._valid?N(this._rgb):this._rgb}hexString(){return this._valid?L(this._rgb):this._rgb}hslString(){return this._valid?J(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,a=t.rgb;let o;const r=e===o?.5:e,n=2*r-1,l=s.a-a.a,c=((n*l===-1?n:(n+l)/(1+n*l))+1)/2;o=1-c,s.r=255&c*s.r+o*a.r+.5,s.g=255&c*s.g+o*a.g+.5,s.b=255&c*s.b+o*a.b+.5,s.a=r*s.a+(1-r)*a.a,i.rgb=s}return i}clone(){return new rt(this.rgb)}alpha(t){return this._rgb.a=F(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=P(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return it(this._rgb,2,t),this}darken(t){return it(this._rgb,2,-t),this}saturate(t){return it(this._rgb,1,t),this}desaturate(t){return it(this._rgb,1,-t),this}rotate(t){return U(this._rgb,t),this}}function nt(t){return new rt(t)}const lt=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function ct(t){return lt(t)?t:nt(t)}const dt=(t,e,i,s)=>t<i?{cp1:{x:t+(i-t)/3*2,y:e},cp2:{x:t+(i-t)/3,y:s}}:{cp1:{x:t-(t-i)/3,y:0},cp2:{x:i+(t-i)/3,y:0}},ht=(t,e,i)=>({x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)});class ut extends s["c"]{constructor(t){super(),this.options=void 0,this.x=void 0,this.y=void 0,this.x2=void 0,this.y2=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this,{x:i,x2:s,y:a,y2:o,height:r,progress:n}=e,{cp1:l,cp2:c}=dt(i,a,s,o),d=e.options;if(0===n)return;t.save(),n<1&&(t.beginPath(),t.rect(i,Math.min(a,o),(s-i)*n+1,Math.abs(o-a)+r+1),t.clip());const h=t.createLinearGradient(i,0,s,0);h.addColorStop(0,ct(d.colorFrom).alpha(.5).rgbString()),h.addColorStop(1,ct(d.colorTo).alpha(.5).rgbString()),t.fillStyle=h,t.strokeStyle=h,t.lineWidth=.5,t.beginPath(),t.moveTo(i,a),t.bezierCurveTo(l.x,l.y,c.x,c.y,s,o),t.lineTo(s,o+r),t.bezierCurveTo(c.x,c.y+r,l.x,l.y+r,i,a+r),t.lineTo(i,a),t.stroke(),t.closePath(),t.fill(),t.restore()}inRange(t,e,i){const{x:s,y:a,x2:o,y2:r,height:n}=this.getProps(["x","y","x2","y2","height"],i);if(t<s||t>o)return!1;const{cp1:l,cp2:c}=dt(s,a,o,r),d=(t-s)/(o-s),h={x:s,y:a},u={x:o,y:r},p=ht(h,l,d),m=ht(l,c,d),f=ht(c,u,d),g=ht(p,m,d),v=ht(m,f,d),y=ht(g,v,d).y;return e>=y&&e<=y+n}inXRange(t,e){const{x:i,x2:s}=this.getProps(["x","x2"],e);return t>=i&&t<=s}inYRange(t,e){const{y:i,y2:s,height:a}=this.getProps(["y","y2","height"],e),o=Math.min(i,s),r=Math.max(i,s)+a;return t>=o&&t<=r}getCenterPoint(t){const{x:e,y:i,x2:s,y2:a,height:o}=this.getProps(["x","y","x2","y2","height"],t);return{x:(e+s)/2,y:(i+a+o)/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}ut.id="flow",ut.defaults={colorFrom:"red",colorTo:"green"}},e953:function(t,e,i){"use strict";i("8fbb")},e98d:function(t,e,i){"use strict";i("50ff")},ea0d:function(t,e,i){"use strict";i("8749")},ea7f:function(t,e,i){"use strict";var s;(function(a,o){t.exports?(o["default"]=o,t.exports=a.document?o(a):o):(s=function(){return o(a)}.call(e,i,e,t),void 0===s||(t.exports=s))})("undefined"!==typeof window?window:this,(function(t){function e(e,i,s,a){e.hasOwnProperty(i)||(e[i]=a.apply(null,s),"function"===typeof CustomEvent&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}var i={};return e(i,"Core/Globals.js",[],(function(){var e;return function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="11.0.0",e.win="undefined"!==typeof t?t:{},e.doc=e.win.document,e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect,e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10),e.hasTouch=!!e.win.TouchEvent,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){let t=!1;if(!e.isMS){const i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,i),e.win.removeEventListener("testPassive",e.noop,i))}return t}(),e.charts=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(e||(e={})),e})),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],(function(t){function e(i,s,a,o){const r=s?"Highcharts error":"Highcharts warning";32===i&&(i=r+": Deprecated member");const n=c(i);let l=n?`${r} #${i}: www.highcharts.com/errors/${i}/`:i.toString();if("undefined"!==typeof o){let t="";n&&(l+="?"),v(o,(function(e,i){t+=`\n - ${i}: ${e}`,n&&(l+=encodeURI(i)+"="+encodeURI(e))})),l+=t}b(t,"displayError",{chart:a,code:i,message:l,params:o},(function(){if(s)throw Error(l);k.console&&-1===e.messages.indexOf(l)&&console.warn(l)})),e.messages.push(l)}function i(t,e){const s={};return v(t,(function(a,o){r(t[o],!0)&&!t.nodeType&&e[o]?(a=i(t[o],e[o]),Object.keys(a).length&&(s[o]=a)):(r(t[o])||t[o]!==e[o]||o in t&&!(o in e))&&(s[o]=t[o])})),s}function s(t,e){return parseInt(t,e||10)}function a(t){return"string"===typeof t}function o(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t}function r(t,e){return!!t&&"object"===typeof t&&(!e||!o(t))}function n(t){return r(t)&&"number"===typeof t.nodeType}function l(t){const e=t&&t.constructor;return!(!r(t,!0)||n(t)||!e||!e.name||"Object"===e.name)}function c(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function d(t){return"undefined"!==typeof t&&null!==t}function h(t,e,i){const s=a(e)&&!d(i);let o;const r=(e,i)=>{d(e)?t.setAttribute(i,e):s?(o=t.getAttribute(i))||"class"!==i||(o=t.getAttribute(i+"Name")):t.removeAttribute(i)};return a(e)?r(i,e):v(e,r),o}function u(t,e){let i;for(i in t||(t={}),e)t[i]=e[i];return t}function p(){const t=arguments,e=t.length;for(let i=0;i<e;i++){const e=t[i];if("undefined"!==typeof e&&null!==e)return e}}function m(e,i){t.isMS&&!t.svg&&i&&d(i.opacity)&&(i.filter=`alpha(opacity=${100*i.opacity})`),u(e.style,i)}function f(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function g(t,e){return 1e14<t?t:parseFloat(t.toPrecision(e||14))}function v(t,e,i){for(const s in t)Object.hasOwnProperty.call(t,s)&&e.call(i||t[s],t[s],s,t)}function y(t,e,i){function s(e,i){const s=t.removeEventListener;s&&s.call(t,e,i,!1)}function a(i){let a,o;t.nodeName&&(e?(a={},a[e]=!0):a=i,v(a,(function(t,e){if(i[e])for(o=i[e].length;o--;)s(e,i[e][o].fn)})))}var o="function"===typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(o,"hcEvents")){const t=o.hcEvents;e?(o=t[e]||[],i?(t[e]=o.filter((function(t){return i!==t.fn})),s(e,i)):(a(t),t[e]=[])):(a(t),delete o.hcEvents)}}function b(e,i,s,a){if(s=s||{},w.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){var o=w.createEvent("Events");o.initEvent(i,!0,!0),s=u(o,s),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)}else if(e.hcEvents){s.target||u(s,{preventDefault:function(){s.defaultPrevented=!0},target:e,type:i}),o=[];let t=e,a=!1;for(;t.hcEvents;)Object.hasOwnProperty.call(t,"hcEvents")&&t.hcEvents[i]&&(o.length&&(a=!0),o.unshift.apply(o,t.hcEvents[i])),t=Object.getPrototypeOf(t);a&&o.sort((t,e)=>t.order-e.order),o.forEach(t=>{!1===t.fn.call(e,s)&&s.preventDefault()})}a&&!s.defaultPrevented&&a.call(e,s)}const{charts:x,doc:w,win:k}=t;(e||(e={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var C=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let i;const s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]};let S;v({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(i,s){t[s]=function(t){return e(32,!1,void 0,{["Highcharts."+s]:"use Array."+i}),Array.prototype[i].apply(t,[].slice.call(arguments,1))}}));const A=function(){const t=Math.random().toString(36).substring(2,9)+"-";let e=0;return function(){return"highcharts-"+(S?"":t)+e++}}();return k.jQuery&&(k.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[a(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):x[h(this[0],"data-highcharts-chart")]}),C={addEvent:function(e,i,s,a={}){var o="function"===typeof e&&e.prototype||e;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={}),o=o.hcEvents,t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);const r=e.addEventListener;return r&&r.call(e,i,s,!!t.supportsPassiveEvents&&{passive:void 0===a.passive?-1!==i.indexOf("touch"):a.passive,capture:!1}),o[i]||(o[i]=[]),o[i].push({fn:s,order:"number"===typeof a.order?a.order:1/0}),o[i].sort((t,e)=>t.order-e.order),function(){y(e,i,s)}},arrayMax:function(t){let e=t.length,i=t[0];for(;e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){let e=t.length,i=t[0];for(;e--;)t[e]<i&&(i=t[e]);return i},attr:h,clamp:function(t,e,i){return t>e?t<i?t:i:e},cleanRecursively:i,clearTimeout:function(t){d(t)&&clearTimeout(t)},correctFloat:g,createElement:function(t,e,i,s,a){return t=w.createElement(t),e&&u(t,e),a&&m(t,{padding:"0",border:"none",margin:"0"}),i&&m(t,i),s&&s.appendChild(t),t},css:m,defined:d,destroyObjectProperties:function(t,e){v(t,(function(i,s){i&&i!==e&&i.destroy&&i.destroy(),delete t[s]}))},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let i=t.length;for(;i--;)if(t[i]===e){t.splice(i,1);break}},error:e,extend:u,extendClass:function(t,e){const i=function(){};return i.prototype=new t,u(i.prototype,e),i},find:C,fireEvent:b,getMagnitude:f,getNestedProperty:function(t,e){for(t=t.split(".");t.length&&d(e);){const i=t.shift();if("undefined"===typeof i||"__proto__"===i)return;if(e=e[i],!d(e)||"function"===typeof e||"number"===typeof e.nodeType||e===k)return}return e},getStyle:function(e,i,a){const o=t.getStyle;let r;return"width"===i?(i=Math.min(e.offsetWidth,e.scrollWidth),a=e.getBoundingClientRect&&e.getBoundingClientRect().width,a<i&&a>=i-1&&(i=Math.floor(a)),Math.max(0,i-(o(e,"padding-left",!0)||0)-(o(e,"padding-right",!0)||0))):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(o(e,"padding-top",!0)||0)-(o(e,"padding-bottom",!0)||0)):((e=k.getComputedStyle(e,void 0))&&(r=e.getPropertyValue(i),p(a,"opacity"!==i)&&(r=s(r))),r)},inArray:function(t,i,s){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),i.indexOf(t,s)},isArray:o,isClass:l,isDOMElement:n,isFunction:function(t){return"function"===typeof t},isNumber:c,isObject:r,isString:a,keys:function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,i={};const s=function(t,e){return"object"!==typeof t&&(t={}),v(e,(function(i,a){"__proto__"!==a&&"constructor"!==a&&(!r(i,!0)||l(i)||n(i)?t[a]=e[a]:t[a]=s(t[a]||{},i))})),t};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));const a=e.length;for(t=0;t<a;t++)i=s(i,e[t]);return i},normalizeTickInterval:function(t,e,i,s,a){let o=t;i=p(i,f(t));const r=t/i;for(e||(e=a?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===i?e=e.filter((function(t){return 0===t%1})):.1>=i&&(e=[1/i]))),s=0;s<e.length&&(o=e[s],!(a&&o*i>=t||!a&&r<=(e[s]+(e[s+1]||e[s]))/2));s++);return g(o*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:v,offset:function(t){const e=w.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:t.top+(k.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(k.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:t.width,height:t.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:p,pInt:s,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:y,splat:function(t){return o(t)?t:[t]},stableSort:function(t,e){const i=t.length;let s,a;for(a=0;a<i;a++)t[a].safeI=a;for(t.sort((function(t,i){return s=e(t,i),0===s?t.safeI-i.safeI:s})),a=0;a<i;a++)delete t[a].safeI},syncTimeout:function(t,e,i){return 0<e?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:A,useSerialIds:function(t){return S=p(t,S)},wrap:function(t,e,i){const s=t[e];t[e]=function(){const t=arguments,e=this;return i.apply(this,[function(){return s.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}},C})),e(i,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{isNumber:i,merge:s,pInt:a}=e;class o{static parse(t){return t?new o(t):o.None}constructor(e){this.rgba=[NaN,NaN,NaN,NaN],this.input=e;const i=t.Color;if(i&&i!==o)return new i(e);this.init(e)}init(t){let e,i;if("object"===typeof t&&"undefined"!==typeof t.stops)this.stops=t.stops.map(t=>new o(t[1]));else if("string"===typeof t){if(this.input=t=o.names[t.toLowerCase()]||t,"#"===t.charAt(0)){var s=t.length,a=parseInt(t.substr(1),16);7===s?e=[(16711680&a)>>16,(65280&a)>>8,255&a,1]:4===s&&(e=[(3840&a)>>4|(3840&a)>>8,(240&a)>>4|240&a,(15&a)<<4|15&a,1])}if(!e)for(a=o.parsers.length;a--&&!e;)i=o.parsers[a],(s=i.regex.exec(t))&&(e=i.parse(s))}e&&(this.rgba=e)}get(t){const e=this.input,a=this.rgba;if("object"===typeof e&&"undefined"!==typeof this.stops){const i=s(e);return i.stops=[].slice.call(i.stops),this.stops.forEach((e,s)=>{i.stops[s]=[i.stops[s][0],e.get(t)]}),i}return a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?""+a[3]:"rgba("+a.join(",")+")":e}brighten(t){const e=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(let i=0;3>i;i++)e[i]+=a(255*t),0>e[i]&&(e[i]=0),255<e[i]&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){const s=this.rgba,a=t.rgba;return i(s[0])&&i(a[0])?(t=1!==a[3]||1!==s[3],(t?"rgba(":"rgb(")+Math.round(a[0]+(s[0]-a[0])*(1-e))+","+Math.round(a[1]+(s[1]-a[1])*(1-e))+","+Math.round(a[2]+(s[2]-a[2])*(1-e))+(t?","+(a[3]+(s[3]-a[3])*(1-e)):"")+")"):t.input||"none"}}return o.names={white:"#ffffff",black:"#000000"},o.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),1]}}],o.None=new o(""),o})),e(i,"Core/Color/Palettes.js",[],(function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}})),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{win:i}=t,{defined:s,error:a,extend:o,isObject:r,merge:n,objectEach:l,pad:c,pick:d,splat:h,timeUnits:u}=e,p=t.isSafari&&i.Intl&&i.Intl.DateTimeFormat.prototype.formatRange,m=t.isSafari&&i.Intl&&!i.Intl.DateTimeFormat.prototype.formatRange;class f{constructor(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=i.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}get(t,e){if(this.variableTimezone||this.timezoneOffset){const i=e.getTime(),s=i-this.getTimezoneOffset(e);return e.setTime(s),t=e["getUTC"+t](),e.setTime(i),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()}set(t,e,i){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===this.getTimezoneOffset(e)%36e5)return e["setUTC"+t](i);var s=this.getTimezoneOffset(e);return s=e.getTime()-s,e.setTime(s),e["setUTC"+t](i),t=this.getTimezoneOffset(e),s=e.getTime()+t,e.setTime(s)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](i):e["set"+t](i)}update(t={}){const e=d(t.useUTC,!0);this.options=t=n(!0,this.options,t),this.Date=t.Date||i.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)}makeTime(t,e,i,s,a,o){let r,n,l;return this.useUTC?(r=this.Date.UTC.apply(0,arguments),n=this.getTimezoneOffset(r),r+=n,l=this.getTimezoneOffset(r),n!==l?r+=l-n:n-36e5!==this.getTimezoneOffset(r-36e5)||m||(r-=36e5)):r=new this.Date(t,e,d(i,1),d(s,0),d(a,0),d(o,0)).getTime(),r}timezoneOffsetFunction(){const t=this,e=this.options,s=e.getTimezoneOffset,o=e.moment||i.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(o)return function(t){return 6e4*-o.tz(t,e.timezone).utcOffset()};a(25)}return this.useUTC&&s?function(t){return 6e4*s(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}}dateFormat(e,i,a){if(!s(i)||isNaN(i))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=d(e,"%Y-%m-%d %H:%M:%S");const r=this;var n=new this.Date(i);const h=this.get("Hours",n),u=this.get("Day",n),p=this.get("Date",n),m=this.get("Month",n),f=this.get("FullYear",n),g=t.defaultOptions.lang,v=g&&g.weekdays,y=g&&g.shortWeekdays;return n=o({a:y?y[u]:v[u].substr(0,3),A:v[u],d:c(p),e:c(p,2," "),w:u,b:g.shortMonths[m],B:g.months[m],m:c(m+1),o:m+1,y:f.toString().substr(2,2),Y:f,H:c(h),k:h,I:c(h%12||12),l:h%12||12,M:c(this.get("Minutes",n)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:c(n.getSeconds()),L:c(Math.floor(i%1e3),3)},t.dateFormats),l(n,(function(t,s){for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"===typeof t?t.call(r,i):t)})),a?e.substr(0,1).toUpperCase()+e.substr(1):e}resolveDTLFormat(t){return r(t,!0)?t:(t=h(t),{main:t[0],from:t[1],to:t[2]})}getTimeTicks(t,e,i,a){const r=this,n=[],l={};var c=new r.Date(e);const h=t.unitRange,p=t.count||1;let m;if(a=d(a,1),s(e)){if(r.set("Milliseconds",c,h>=u.second?0:p*Math.floor(r.get("Milliseconds",c)/p)),h>=u.second&&r.set("Seconds",c,h>=u.minute?0:p*Math.floor(r.get("Seconds",c)/p)),h>=u.minute&&r.set("Minutes",c,h>=u.hour?0:p*Math.floor(r.get("Minutes",c)/p)),h>=u.hour&&r.set("Hours",c,h>=u.day?0:p*Math.floor(r.get("Hours",c)/p)),h>=u.day&&r.set("Date",c,h>=u.month?1:Math.max(1,p*Math.floor(r.get("Date",c)/p))),h>=u.month){r.set("Month",c,h>=u.year?0:p*Math.floor(r.get("Month",c)/p));var f=r.get("FullYear",c)}h>=u.year&&r.set("FullYear",c,f-f%p),h===u.week&&(f=r.get("Day",c),r.set("Date",c,r.get("Date",c)-f+a+(f<a?-7:0))),f=r.get("FullYear",c),a=r.get("Month",c);const t=r.get("Date",c),o=r.get("Hours",c);for(e=c.getTime(),!r.variableTimezone&&r.useUTC||!s(i)||(m=i-e>4*u.month||r.getTimezoneOffset(e)!==r.getTimezoneOffset(i)),e=c.getTime(),c=1;e<i;)n.push(e),e=h===u.year?r.makeTime(f+c*p,0):h===u.month?r.makeTime(f,a+c*p):!m||h!==u.day&&h!==u.week?m&&h===u.hour&&1<p?r.makeTime(f,a,t,o+c*p):e+h*p:r.makeTime(f,a,t+c*p*(h===u.day?1:7)),c++;n.push(e),h<=u.hour&&1e4>n.length&&n.forEach((function(t){0===t%18e5&&"000000000"===r.dateFormat("%H%M%S%L",t)&&(l[t]="day")}))}return n.info=o(t,{higherRanks:l,totalRange:h*p}),n}getDateFormat(t,e,i,s){const a=this.dateFormat("%m-%d %H:%M:%S.%L",e),o={millisecond:15,second:12,minute:9,hour:6,day:3};let r,n="millisecond";for(r in u){if(t===u.week&&+this.dateFormat("%w",e)===i&&"00:00:00.000"===a.substr(6)){r="week";break}if(u[r]>t){r=n;break}if(o[r]&&a.substr(o[r])!=="01-01 00:00:00.000".substr(o[r]))break;"week"!==r&&(n=r)}return this.resolveDTLFormat(s[r]).main}}return f})),e(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{isTouchDevice:r,svg:n}=i,{merge:l}=o,c={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:n,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:r?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};c.chart.styledMode=!1;const d=new a(c.time);return t={defaultOptions:c,defaultTime:d,getOptions:function(){return c},setOptions:function(t){return l(!0,c,t),(t.time||t.global)&&(i.time?i.time.update(l(c.global,c.time,t.global,t.time)):i.time=d),c}},t})),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:s}=t,{win:a}=e,{isNumber:o,objectEach:r}=i;class n{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){var t=this.paths;const e=t&&t[0];t=t&&t[1];const i=this.now||0;let s=[];if(1!==i&&e&&t)if(e.length===t.length&&1>i)for(let a=0;a<t.length;a++){const r=e[a],n=t[a],l=[];for(let t=0;t<n.length;t++){const e=r[t],s=n[t];o(e)&&o(s)&&("A"!==n[0]||4!==t&&5!==t)?l[t]=e+i*(s-e):l[t]=s}s.push(l)}else s=t;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)}update(){const t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)}run(t,e,i){const s=this,o=s.options,r=function(t){return!r.stopped&&s.step(t)},l=a.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(let t=0;t<n.timers.length;t++)n.timers[t]()||n.timers.splice(t--,1);n.timers.length&&l(c)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,r.elem=this.elem,r.prop=this.prop,r()&&1===n.timers.push(r)&&l(c)):(delete o.curAnim[this.prop],o.complete&&0===Object.keys(o.curAnim).length&&o.complete.call(this.elem))}step(t){const e=+new Date,i=this.options,s=this.elem,a=i.complete,o=i.duration,n=i.curAnim;let l;return s.attr&&!s.element?t=!1:t||e>=o+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=n[this.prop]=!0,r(n,(function(t){!0!==t&&(l=!1)})),l&&a&&a.call(s),t=!1):(this.pos=i.easing((e-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t}initPath(t,e,i){function s(t,e){for(;t.length<h;){var i=t[0];const s=e[h-t.length];s&&"M"===i[0]&&(t[0]="C"===s[0]?["C",i[1],i[2],i[1],i[2],i[1],i[2]]:["L",i[1],i[2]]),t.unshift(i),l&&(i=t.pop(),t.push(t[t.length-1],i))}}function a(t,e){for(;t.length<h;)if(e=t[Math.floor(t.length/c)-1].slice(),"C"===e[0]&&(e[1]=e[5],e[2]=e[6]),l){const i=t[Math.floor(t.length/c)].slice();t.splice(t.length/2,0,e,i)}else t.push(e)}const r=t.startX,n=t.endX;i=i.slice();const l=t.isArea,c=l?2:1;let d,h,u;if(e=e&&e.slice(),!e)return[i,i];if(r&&n&&n.length){for(t=0;t<r.length;t++){if(r[t]===n[0]){d=t;break}if(r[0]===n[n.length-r.length+t]){d=t,u=!0;break}if(r[r.length-1]===n[n.length-r.length+t]){d=r.length-t;break}}"undefined"===typeof d&&(e=[])}return e.length&&o(d)&&(h=i.length+d*c,u?(s(e,i),a(i,e)):(s(i,e),a(e,i))),[e,i]}fillSetter(){n.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return n.timers=[],n})),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],(function(t,e){function i(t){return l(t)?c({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function s(e,i){let s=t.timers.length;for(;s--;)t.timers[s].elem!==e||i&&i!==t.timers[s].prop||(t.timers[s].stopped=!0)}const{defined:a,getStyle:o,isArray:r,isNumber:n,isObject:l,merge:c,objectEach:d,pick:h}=e;return{animate:function(e,i,a){let h,u,p,m,f="";l(a)||(m=arguments,a={duration:m[2],easing:m[3],complete:m[4]}),n(a.duration)||(a.duration=400),a.easing="function"===typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=c(i),d(i,(function(n,l){s(e,l),p=new t(e,a,l),u=void 0,"d"===l&&r(i.d)?(p.paths=p.initPath(e,e.pathArray,i.d),p.toD=i.d,h=0,u=1):e.attr?h=e.attr(l):(h=parseFloat(o(e,l))||0,"opacity"!==l&&(f="px")),u||(u=n),"string"===typeof u&&u.match("px")&&(u=u.replace(/px/g,"")),p.run(h,u,f)}))},animObject:i,getDeferredAnimation:function(t,e,s){const o=i(e);let r=0,n=0;return(s?[s]:t.series).forEach(t=>{t=i(t.options.animation),r=e&&a(e.defer)?o.defer:Math.max(r,t.duration+t.defer),n=Math.min(o.duration,t.duration)}),t.renderer.forExport&&(r=0),{defer:Math.max(0,r-n),duration:Math.min(r,n)}},setAnimation:function(t,e){e.renderer.globalAnimation=h(t,e.options.chart.animation,!0)},stop:s}})),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{SVG_NS:i,win:s}=t,{attr:a,createElement:o,css:r,error:n,isFunction:l,isString:c,objectEach:d,splat:h}=e;({trustedTypes:e}=s);const u=e&&l(e.createPolicy)&&e.createPolicy("highcharts",{createHTML:t=>t});e=u?u.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(e,"text/html")}catch(g){p=!1}const m=p;class f{static filterUserAttributes(t){return d(t,(e,i)=>{let s=!0;-1===f.allowedAttributes.indexOf(i)&&(s=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(s=c(e)&&f.allowedReferences.some(t=>0===e.indexOf(t))),s||(n(33,!1,void 0,{"Invalid attribute in config":""+i}),delete t[i]),c(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((t,e)=>{e=e.split(":").map(t=>t.trim());const i=e.shift();return i&&e.length&&(t[i.replace(/-([a-z])/g,t=>t[1].toUpperCase())]=e.join(":")),t},{})}static setElementHTML(t,e){t.innerHTML=f.emptyHTML,e&&new f(e).addToDOM(t)}constructor(t){this.nodes="string"===typeof t?this.parseMarkup(t):t}addToDOM(e){function s(e,o){let l;return h(e).forEach((function(e){var c=e.tagName;const h=e.textContent?t.doc.createTextNode(e.textContent):void 0,u=f.bypassHTMLFiltering;let p;if(c)if("#text"===c)p=h;else if(-1!==f.allowedTags.indexOf(c)||u){c=t.doc.createElementNS("svg"===c?i:o.namespaceURI||i,c);const n=e.attributes||{};d(e,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(n[e]=t)})),a(c,u?n:f.filterUserAttributes(n)),e.style&&r(c,e.style),h&&c.appendChild(h),s(e.children||[],c),p=c}else n(33,!1,void 0,{"Invalid tagName in config":c});p&&o.appendChild(p),l=p})),l}return s(this.nodes,e)}parseMarkup(t){const e=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),m)t=(new DOMParser).parseFromString(u?u.createHTML(t):t,"text/html");else{const e=o("div");e.innerHTML=t,t={body:e}}const i=(t,e)=>{var s=t.nodeName.toLowerCase();const a={tagName:s};if("#text"===s&&(a.textContent=t.textContent||""),s=t.attributes){const t={};[].forEach.call(s,e=>{"data-style"===e.name?a.style=f.parseStyle(e.value):t[e.name]=e.value}),a.attributes=t}if(t.childNodes.length){const e=[];[].forEach.call(t.childNodes,t=>{i(t,e)}),e.length&&(a.children=e)}e.push(a)};return[].forEach.call(t.body.childNodes,t=>i(t,e)),e}}return f.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),f.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),f.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),f.emptyHTML=e,f.bypassHTMLFiltering=!1,f})),e(i,"Core/FormatUtilities.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e,i,a){t=+t||0,e=+e;const o=s.lang;var c=(t.toString().split(".")[1]||"").split("e")[0].length;const d=t.toString().split("e"),h=e;if(-1===e)e=Math.min(c,20);else if(r(e)){if(e&&d[1]&&0>d[1]){var u=e+ +d[1];0<=u?(d[0]=(+d[0]).toExponential(u).split("e")[0],e=u):(d[0]=d[0].split(".")[0]||0,t=20>e?(d[0]*Math.pow(10,d[1])).toFixed(e):0,d[1]=0)}}else e=2;u=(Math.abs(d[1]?d[0]:t)+Math.pow(10,-Math.max(e,c)-1)).toFixed(e),c=String(l(u));const p=3<c.length?c.length%3:0;return i=n(i,o.decimalPoint),a=n(a,o.thousandsSep),t=(0>t?"-":"")+(p?c.substr(0,p)+a:""),t=0>+d[1]&&!h?"0":t+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+a),e&&(t+=i+u.slice(-e)),d[1]&&0!==+t&&(t+="e"+d[1]),t}const{defaultOptions:s,defaultTime:a}=t,{getNestedProperty:o,isNumber:r,pick:n,pInt:l}=e;return{dateFormat:function(t,e,i){return a.dateFormat(t,e,i)},format:function(t,e,r){var n="{";let l,c=!1;const d=/f$/,h=/\.([0-9])/,u=s.lang,p=r&&r.time||a;r=r&&r.numberFormatter||i;const m=[];for(;t;){if(l=t.indexOf(n),-1===l)break;var f=t.slice(0,l);if(c){if(f=f.split(":"),n=o(f.shift()||"",e),f.length&&"number"===typeof n)if(f=f.join(":"),d.test(f)){const t=parseInt((f.match(h)||["","-1"])[1],10);null!==n&&(n=r(n,t,u.decimalPoint,-1<f.indexOf(",")?u.thousandsSep:""))}else n=p.dateFormat(f,n);m.push(n)}else m.push(f);t=t.slice(l+1),n=(c=!c)?"}":"{"}return m.push(t),m.join("")},numberFormat:i}})),e(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],(function(t){const{clamp:e,pick:i,stableSort:s}=t;var a;return function(t){function a(t,o,r){const n=t;var l=n.reducedLen||o,c=(t,e)=>(e.rank||0)-(t.rank||0);const d=(t,e)=>t.target-e.target;let h,u=!0,p=[],m=0;for(h=t.length;h--;)m+=t[h].size;if(m>l){for(s(t,c),m=h=0;m<=l;)m+=t[h].size,h++;p=t.splice(h-1,t.length)}for(s(t,d),t=t.map(t=>({size:t.size,targets:[t.target],align:i(t.align,.5)}));u;){for(h=t.length;h--;)l=t[h],c=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=e(c-l.size*l.align,0,o-l.size);for(h=t.length,u=!1;h--;)0<h&&t[h-1].pos+t[h-1].size>t[h].pos&&(t[h-1].size+=t[h].size,t[h-1].targets=t[h-1].targets.concat(t[h].targets),t[h-1].align=.5,t[h-1].pos+t[h-1].size>o&&(t[h-1].pos=o-t[h-1].size),t.splice(h,1),u=!0)}return n.push.apply(n,p),h=0,t.some(t=>{let e=0;return(t.targets||[]).some(()=>(n[h].pos=t.pos+e,"undefined"!==typeof r&&Math.abs(n[h].pos-n[h].target)>r?(n.slice(0,h+1).forEach(t=>delete t.pos),n.reducedLen=(n.reducedLen||o)-.1*o,n.reducedLen>.1*o&&a(n,o,r),!0):(e+=n[h].size,h++,!1)))}),s(n,d),n}t.distribute=a}(a||(a={})),a})),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{animate:a,animObject:o,stop:r}=t,{deg2rad:n,doc:l,svg:c,SVG_NS:d,win:h}=i,{addEvent:u,attr:p,createElement:m,css:f,defined:g,erase:v,extend:y,fireEvent:b,isArray:x,isFunction:w,isObject:k,isString:C,merge:S,objectEach:A,pick:I,pInt:T,syncTimeout:L,uniqueKey:P}=s;class _{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=d}_defaultGetter(t){return t=I(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){const e=this.renderer,i=this.element;let s;return t&&(this.parentGroup=t),"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(s=this.zIndexSetter()),s||(t?t.element:e.box).appendChild(i),this.onAdd&&this.onAdd(),this}addClass(t,e){const i=e?"":this.attr("class")||"";return t=(t||"").split(/ /g).reduce((function(t,e){return-1===i.indexOf(e)&&t.push(e),t}),i?[i]:[]).join(" "),t!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i){const s={};var a,o=this.renderer,r=o.alignedObjects;let n,l;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||C(i))&&(this.alignTo=a=i||"renderer",v(r,this),r.push(this),i=void 0)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=I(i,o[a],"scrollablePlotBox"===a?o.plotBox:void 0,o),a=t.align;const c=t.verticalAlign;return o=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"===a?n=1:"center"===a&&(n=2),n&&(o+=(i.width-(t.width||0))/n),s[e?"translateX":"x"]=Math.round(o),"bottom"===c?l=1:"middle"===c&&(l=2),l&&(r+=(i.height-(t.height||0))/l),s[e?"translateY":"y"]=Math.round(r),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this}alignSetter(t){const e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){const s=o(I(e,this.renderer.globalAnimation,!0));return e=s.defer,l.hidden&&(s.duration=0),0!==s.duration?(i&&(s.complete=i),L(()=>{this.element&&a(this,t,s)},e)):(this.attr(t,void 0,i||s.complete),A(t,(function(t,e){s.step&&s.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this}applyTextOutline(t){const e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));var s=t.split(" ");if(t=s[s.length-1],(s=s[0])&&"none"!==s&&i.svg){this.fakeTS=!0,s=s.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*Number(e)+i})),this.removeTextOutline();const i=l.createElementNS(d,"tspan");p(i,{class:"highcharts-text-outline",fill:t,stroke:t,"stroke-width":s,"stroke-linejoin":"round"}),t=e.querySelector("textPath")||e,[].forEach.call(t.childNodes,t=>{const e=t.cloneNode(!0);e.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(t=>e.removeAttribute(t)),i.appendChild(e)});let a=0;[].forEach.call(t.querySelectorAll("text tspan"),t=>{a+=Number(t.getAttribute("dy"))}),s=l.createElementNS(d,"tspan"),s.textContent="​",p(s,{x:Number(e.getAttribute("x")),dy:-a}),i.appendChild(s),t.insertBefore(i,t.firstChild)}}attr(t,e,i,s){const a=this.element,o=_.symbolCustomAttribs;let n,l,c,d,h=this;return"string"===typeof t&&"undefined"!==typeof e&&(n=t,t={},t[n]=e),"string"===typeof t?h=(this[t+"Getter"]||this._defaultGetter).call(this,t,a):(A(t,(function(e,i){c=!1,s||r(this,i),this.symbolName&&-1!==o.indexOf(i)&&(l||(this.symbolAttr(t),l=!0),c=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),c||(d=this[i+"Setter"]||this._defaultSetter,d.call(this,e,i,a))}),this),this.afterSetters()),i&&i.call(this),h}clip(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")}crisp(t,e){e=e||t.strokeWidth||0;const i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),g(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,i,s){const a=this.renderer;let o,r,n,l,c,d,h,u,p,m,f,v=[];b(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?r="radialGradient":t.linearGradient&&(r="linearGradient"),r){if(n=t[r],c=a.gradients,d=t.stops,p=s.radialReference,x(n)&&(t[r]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&p&&!g(n.gradientUnits)&&(l=n,n=S(n,a.getRadialAttr(p,l),{gradientUnits:"userSpaceOnUse"})),A(n,(function(t,e){"id"!==e&&v.push(e,t)})),A(d,(function(t){v.push(t)})),v=v.join(","),c[v])m=c[v].attr("id");else{n.id=m=P();const t=c[v]=a.createElement(r).attr(n).add(a.defs);t.radAttr=l,t.stops=[],d.forEach((function(i){0===i[1].indexOf("rgba")?(o=e.parse(i[1]),h=o.get("rgb"),u=o.get("a")):(h=i[1],u=1),i=a.createElement("stop").attr({offset:i[0],"stop-color":h,"stop-opacity":u}).add(t),t.stops.push(i)}))}f="url("+a.url+"#"+m+")",s.setAttribute(i,f),s.gradient=v,t.toString=function(){return f}}}))}css(t){const e=this.styles,i={},s=this.element;let a,o=!e;if(t.color&&(t.fill=t.color),e&&A(t,(function(t,s){e&&e[s]!==t&&(i[s]=t,o=!0)})),o){e&&(t=y(e,i)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(a=this.textWidth=T(t.width)),this.styles=t,a&&!c&&this.renderer.forExport&&delete t.width;const o=S(t);s.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(t=>o&&delete o[t]),f(s,o)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){const i=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=i.length;t--;)i[t]=""+T(i[t])*I(e,NaN);t=i.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){const t=this;var e=t.element||{};const i=t.renderer;var s=e.ownerSVGElement;let a="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,r(t),t.clipPath&&s){const e=t.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(e.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=e.destroy()}if(t.stops){for(s=0;s<t.stops.length;s++)t.stops[s].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);a&&a.div&&0===a.div.childNodes.length;)e=a.parentGroup,t.safeRemoveChild(a.div),delete a.div,a=e;t.alignTo&&v(i.alignedObjects,t),A(t,(function(e,i){t[i]&&t[i].parentGroup===t&&t[i].destroy&&t[i].destroy(),delete t[i]}))}dSetter(t,e,i){x(t)&&("string"===typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((t,e,i)=>e&&e.join?(i?t+" ":"")+e.join(" "):(e||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fadeOut(t){const e=this;e.animate({opacity:0},{duration:I(t,150),complete:function(){e.hide()}})}fillSetter(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}getBBox(t,e){const{alignValue:i,element:s,renderer:a,styles:o,textStr:r}=this,{cache:l,cacheKeys:c}=a;var d=s.namespaceURI===this.SVG_NS;e=I(e,this.rotation,0);var h=a.styledMode?s&&_.prototype.getStyle.call(s,"font-size"):o&&o.fontSize;let u,p;if(g(r)&&(p=r.toString(),-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",a.rootFontSize,h,e,this.textWidth,i,o&&o.textOverflow,o&&o.fontWeight].join()),p&&!t&&(u=l[p]),!u){if(d||a.forExport){try{var m=this.fakeTS&&function(t){const e=s.querySelector(".highcharts-text-outline");e&&f(e,{display:t})};w(m)&&m("none"),u=s.getBBox?y({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight,x:0,y:0},w(m)&&m("")}catch(C){}(!u||0>u.width)&&(u={x:0,y:0,width:0,height:0})}else u=this.htmlGetBBox();if(m=u.width,t=u.height,d&&(u.height=t={"11px,17":14,"13px,20":16}[`${h||""},${Math.round(t)}`]||t),e){d=Number(s.getAttribute("y")||0)-u.y,h={right:1,center:.5}[i||0]||0;var v=e*n,b=(e-90)*n,x=m*Math.cos(v);e=m*Math.sin(v);var k=Math.cos(b);v=Math.sin(b),m=u.x+h*(m-x)+d*k,b=m+x,k=b-t*k,x=k-x,d=u.y+d-h*e+d*v,h=d+e,t=h-t*v,e=t-e,u.x=Math.min(m,b,k,x),u.y=Math.min(d,h,t,e),u.width=Math.max(m,b,k,x)-u.x,u.height=Math.max(d,h,t,e)-u.y}}if(p&&(""===r||0<u.height)){for(;250<c.length;)delete l[c.shift()];l[p]||c.push(p),l[p]=u}return u}getStyle(t){return h.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(t,e){this.element="span"===e?m(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,b(this,"afterInit")}on(t,e){const{onEvents:i}=this;return i[t]&&i[t](),i[t]=u(this.element,t,e),this}opacitySetter(t,e,i){this.opacity=t=Number(Number(t).toFixed(3)),i.setAttribute(e,t)}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(C(t)?new RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){const t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){const e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){const e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}setTextPath(t,e){e=S(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);const i=this.renderer.url,s=this.text||this,a=s.textPath,{attributes:o,enabled:r}=e;return t=t||a&&a.path,a&&a.undo(),t&&r?(e=u(s,"afterModifyTree",e=>{if(t&&r){let r=t.attr("id");r||t.attr("id",r=P());var a={x:0,y:0};g(o.dx)&&(a.dx=o.dx,delete o.dx),g(o.dy)&&(a.dy=o.dy,delete o.dy),s.attr(a),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),a=e.nodes.slice(0),e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:y(o,{"text-anchor":o.textAnchor,href:`${i}#${r}`}),children:a}}}),s.textPath={path:t,undo:e}):(s.attr({dx:0,dy:0}),delete s.textPath),this.added&&(s.textCache="",this.renderer.buildText(s)),this}shadow(t){var e;const{renderer:i}=this,s=S(90===(null===(e=this.parentGroup)||void 0===e?void 0:e.rotation)?{offsetX:-1,offsetY:-1}:{},k(t)?t:{});return e=i.shadowDefinition(s),this.attr({filter:t?`url(${i.url}#${e})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}["stroke-widthSetter"](t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const t=this.getStyle("stroke-width");let e,i=0;return t.indexOf("px")===t.length-2?i=T(t):""!==t&&(e=l.createElementNS(d,"rect"),p(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),i=e.getBBox().width,e.parentNode.removeChild(e)),i}symbolAttr(t){const e=this;_.symbolCustomAttribs.forEach((function(i){e[i]=I(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))}titleSetter(t){const e=this.element,i=e.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=String(I(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(){const{element:t,matrix:e,rotation:i=0,scaleX:s,scaleY:a,translateX:o=0,translateY:r=0}=this,n=["translate("+o+","+r+")"];g(e)&&n.push("matrix("+e.join(",")+")"),i&&n.push("rotate("+i+" "+I(this.rotationOriginX,t.getAttribute("x"),0)+" "+I(this.rotationOriginY,t.getAttribute("y")||0)+")"),(g(s)||g(a))&&n.push("scale("+I(s,1)+" "+I(a,1)+")"),n.length&&!(this.text||this).textPath&&t.setAttribute("transform",n.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){var i=this.renderer,s=this.parentGroup;const a=(s||i).element||i.box,o=this.element;i=a===i.box;let r,n=!1;var l=this.added;let c;if(g(t)?(o.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):g(this[e])&&o.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,c=e.length-1;0<=c&&!n;c--)s=e[c],l=s.getAttribute("data-z-index"),r=!g(l),s!==o&&(0>t&&r&&!i&&!c?(a.insertBefore(o,e[c]),n=!0):(T(l)<=t||r&&(!g(t)||0<=t))&&(a.insertBefore(o,e[c+1]),n=!0));n||(a.insertBefore(o,e[i?3:0]),n=!0)}return n}}return _.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),_.prototype.strokeSetter=_.prototype.fillSetter,_.prototype.yGetter=_.prototype.xGetter,_.prototype.matrixSetter=_.prototype.rotationOriginXSetter=_.prototype.rotationOriginYSetter=_.prototype.rotationSetter=_.prototype.scaleXSetter=_.prototype.scaleYSetter=_.prototype.translateXSetter=_.prototype.translateYSetter=_.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},_})),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],(function(t){var e;return function(e){let i;e.rendererTypes={},e.getRendererType=function(t=i){return e.rendererTypes[t]||e.rendererTypes[i]},e.registerRendererType=function(s,a,o){e.rendererTypes[s]=a,i&&!o||(i=s,t.Renderer=a)}}(e||(e={})),e})),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e){const{defined:i,extend:s,isNumber:a,merge:o,pick:r,removeEvent:n}=e;class l extends t{constructor(t,e,i,s,a,o,r,n,c,d){let h;super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(t,"g"),this.textStr=e,this.x=i,this.y=s,this.anchorX=o,this.anchorY=r,this.baseline=c,this.className=d,this.addClass("button"===d?"highcharts-no-tooltip":"highcharts-label"),d&&this.addClass("highcharts-"+d),this.text=t.text(void 0,0,0,n).attr({zIndex:1}),"string"===typeof a&&((h=/^url\((.*?)\)$/.test(a))||this.renderer.symbols[a])&&(this.symbolKey=a),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||h,this.deferredAttr={},this.alignFactor=0}alignSetter(t){t={left:0,center:.5,right:1}[t],t!==this.alignFactor&&(this.alignFactor=t,this.bBox&&a(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){const t={};e=o(e),l.textProps.forEach(i=>{"undefined"!==typeof e[i]&&(t[i]=e[i],delete e[i])}),this.text.css(t),"fontSize"in t||"fontWeight"in t?this.updateTextPadding():("width"in t||"textOverflow"in t)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){n(this.element,"mouseenter"),n(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();const t=this.padding,e=r(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-e,y:this.bBox.y-t}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t}onAdd(){this.text.add(this),this.attr({text:r(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){a(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}["stroke-widthSetter"](t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}["text-alignSetter"](t){this.textAlign=t}textSetter(t){"undefined"!==typeof t&&this.text.attr({text:t}),this.updateTextPadding()}updateBoxSize(){var t=this.text;const e={},o=this.padding,r=this.bBox=a(this.widthSetting)&&a(this.heightSetting)&&!this.textAlign||!i(t.textStr)?l.emptyBBox:t.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||r.height||0)+2*o;const n=this.renderer.fontMetrics(t);this.baselineOffset=o+Math.min((this.text.firstLineMetrics||n).b,r.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-n.h)/2),this.needsBox&&!t.textPath&&(this.box||(t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),t.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)),t=this.getCrispAdjust(),e.x=t,e.y=(this.baseline?-this.baselineOffset:0)+t,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(s(e,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const t=this.text;if(!t.textPath){this.updateBoxSize();const e=this.baseline?0:this.baselineOffset;let s=r(this.paddingLeft,this.padding);i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(s+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),s===t.x&&e===t.y||(t.attr("x",s),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),"undefined"!==typeof e&&t.attr("y",e)),t.x=s,t.y=e}}widthSetter(t){this.widthSetting=a(t)?t:void 0}getPaddedWidth(){var t=this.padding;const e=r(this.paddingLeft,t);return t=r(this.paddingRight,t),(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),l})),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],(function(t){function e(t,e,i,s,o){const n=[];if(o){const l=o.start||0,c=r(o.r,i);i=r(o.r,s||i),s=(o.end||0)-.001;const d=o.innerR,h=r(o.open,.001>Math.abs((o.end||0)-l-2*Math.PI)),u=Math.cos(l),p=Math.sin(l),m=Math.cos(s),f=Math.sin(s),g=r(o.longArc,.001>s-l-Math.PI?0:1);let v=["A",c,i,0,g,r(o.clockwise,1),t+c*m,e+i*f];v.params={start:l,end:s,cx:t,cy:e},n.push(["M",t+c*u,e+i*p],v),a(d)&&(v=["A",d,d,0,g,a(o.clockwise)?1-o.clockwise:0,t+d*u,e+d*p],v.params={start:s,end:l,cx:t,cy:e},n.push(h?["M",t+d*m,e+d*f]:["L",t+d*m,e+d*f],v)),h||n.push(["Z"])}return n}function i(t,e,i,a,o){return o&&o.r?s(t,e,i,a,o):[["M",t,e],["L",t+i,e],["L",t+i,e+a],["L",t,e+a],["Z"]]}function s(t,e,i,s,a){return a=(null===a||void 0===a?void 0:a.r)||0,[["M",t+a,e],["L",t+i-a,e],["A",a,a,0,0,1,t+i,e+a],["L",t+i,e+s-a],["A",a,a,0,0,1,t+i-a,e+s],["L",t+a,e+s],["A",a,a,0,0,1,t,e+s-a],["L",t,e+a],["A",a,a,0,0,1,t+a,e],["Z"]]}const{defined:a,isNumber:o,pick:r}=t;return{arc:e,callout:function(t,e,i,a,r){const n=Math.min(r&&r.r||0,i,a),l=n+6,c=r&&r.anchorX;r=r&&r.anchorY||0;const d=s(t,e,i,a,{r:n});return o(c)?(t+c>=i?r>e+l&&r<e+a-l?d.splice(3,1,["L",t+i,r-6],["L",t+i+6,r],["L",t+i,r+6],["L",t+i,e+a-n]):d.splice(3,1,["L",t+i,a/2],["L",c,r],["L",t+i,a/2],["L",t+i,e+a-n]):0>=t+c?r>e+l&&r<e+a-l?d.splice(7,1,["L",t,r+6],["L",t-6,r],["L",t,r-6],["L",t,e+n]):d.splice(7,1,["L",t,a/2],["L",c,r],["L",t,a/2],["L",t,e+n]):r&&r>a&&c>t+l&&c<t+i-l?d.splice(5,1,["L",c+6,e+a],["L",c,e+a+6],["L",c-6,e+a],["L",t+n,e+a]):r&&0>r&&c>t+l&&c<t+i-l&&d.splice(1,1,["L",c-6,e],["L",c,e-6],["L",c+6,e],["L",i-n,e]),d):d},circle:function(t,i,s,a){return e(t+s/2,i+a/2,s/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s/2],["L",t+i/2,e+s],["L",t,e+s/2],["Z"]]},rect:i,roundedRect:s,square:i,triangle:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s],["L",t,e+s],["Z"]]},"triangle-down":function(t,e,i,s){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+s],["Z"]]}}})),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{doc:s,SVG_NS:a,win:o}=e,{attr:r,extend:n,fireEvent:l,isString:c,objectEach:d,pick:h}=i;class u{constructor(t){const e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){const e=this.svgElement,i=e.element;var a=e.renderer,o=h(e.textStr,"").toString();const r=-1!==o.indexOf("<"),n=i.childNodes;a=!e.added&&a.box;const l=/<br.*?>/g;var d=[o,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join();if(d!==e.textCache){for(e.textCache=d,delete e.actualWidth,d=n.length;d--;)i.removeChild(n[d]);r||this.ellipsis||this.width||e.textPath||-1!==o.indexOf(" ")&&(!this.noWrap||l.test(o))?""!==o&&(a&&a.appendChild(i),o=new t(o),this.modifyTree(o.nodes),o.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),a&&a.removeChild(i)):i.appendChild(s.createTextNode(this.unescapeEntities(o))),c(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){const t=this.svgElement,e=r(t.element,"x");let i;for(t.firstLineMetrics=void 0;i=t.element.firstChild;){if(!/^[\s\u200B]*$/.test(i.textContent||" "))break;t.element.removeChild(i)}[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(i,s)=>{i.nextSibling&&i.previousSibling&&(0===s&&1===i.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(i.previousSibling)),r(i,{dy:this.getLineHeight(i.nextSibling),x:e}))});const n=this.width||0;if(n){var l=(i,o)=>{var l=i.textContent||"";const c=l.replace(/([^\^])-/g,"$1- ").split(" ");var d=!this.noWrap&&(1<c.length||1<t.element.childNodes.length);const h=this.getLineHeight(o);let u=0,p=t.actualWidth;if(this.ellipsis)l&&this.truncate(i,l,void 0,0,Math.max(0,n-.8*h),(t,e)=>t.substring(0,e)+"…");else if(d){for(l=[],d=[];o.firstChild&&o.firstChild!==i;)d.push(o.firstChild),o.removeChild(o.firstChild);for(;c.length;)c.length&&!this.noWrap&&0<u&&(l.push(i.textContent||""),i.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(i,void 0,c,0===u&&p||0,n,(t,e)=>c.slice(0,e).join(" ").replace(/- /g,"-")),p=t.actualWidth,u++;d.forEach(t=>{o.insertBefore(t,i)}),l.forEach(t=>{o.insertBefore(s.createTextNode(t),i),t=s.createElementNS(a,"tspan"),t.textContent="​",r(t,{dy:h,x:e}),o.insertBefore(t,i)})}},c=e=>{[].slice.call(e.childNodes).forEach(i=>{i.nodeType===o.Node.TEXT_NODE?l(i,e):(-1!==i.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),c(i))})};c(t.element)}}getLineHeight(t){return t=t.nodeType===o.Node.TEXT_NODE?t.parentElement:t,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(t){const e=(i,s)=>{const{attributes:a={},children:o,style:r={},tagName:l}=i,c=this.renderer.styledMode;"b"===l||"strong"===l?c?a["class"]="highcharts-strong":r.fontWeight="bold":"i"!==l&&"em"!==l||(c?a["class"]="highcharts-emphasized":r.fontStyle="italic"),r&&r.color&&(r.fill=r.color),"br"===l?(a["class"]="highcharts-br",i.textContent="​",(s=t[s+1])&&s.textContent&&(s.textContent=s.textContent.replace(/^ +/gm,""))):"a"===l&&o&&o.some(t=>"#text"===t.tagName)&&(i.children=[{children:o,tagName:"tspan"}]),"#text"!==l&&"a"!==l&&(i.tagName="tspan"),n(i,{attributes:a,style:r}),o&&o.filter(t=>"#text"!==t.tagName).forEach(e)};t.forEach(e),l(this.svgElement,"afterModifyTree",{nodes:t})}truncate(t,e,i,s,a,o){const r=this.svgElement,{rotation:n}=r,l=[];let c,d,h=i?1:0,u=(e||i||"").length,p=u;const m=function(e,a){if(e=a||e,(a=t.parentNode)&&"undefined"===typeof l[e]&&a.getSubStringLength)try{l[e]=s+a.getSubStringLength(0,i?e+1:e)}catch(o){}return l[e]};if(r.rotation=0,d=m(t.textContent.length),s+d>a){for(;h<=u;)p=Math.ceil((h+u)/2),i&&(c=o(i,p)),d=m(p,c&&c.length-1),h===u?h=u+1:d>a?u=p-1:h=p;0===u?t.textContent="":e&&u===e.length-1||(t.textContent=c||o(e||i,p))}i&&i.splice(0,p),r.actualWidth=d,r.rotation=n}unescapeEntities(t,e){return d(this.renderer.escapes,(function(i,s){e&&-1!==e.indexOf(i)||(t=t.toString().replace(new RegExp(i,"g"),s))})),t}}return u})),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l){const{charts:c,deg2rad:d,doc:h,isFirefox:u,isMS:p,isWebKit:m,noop:f,SVG_NS:g,symbolSizes:v,win:y}=i,{addEvent:b,attr:x,createElement:w,css:k,defined:C,destroyObjectProperties:S,extend:A,isArray:I,isNumber:T,isObject:L,isString:P,merge:_,pick:M,pInt:F,uniqueKey:D}=l;let B;class O{constructor(t,e,i,s,a,o,r){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,i,s,a,o,r)}init(t,e,i,s,a,o,r){const n=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),l=n.element;let c;r||n.css(this.getStyle(s)),t.appendChild(l),x(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&x(l,"xmlns",this.SVG_NS),this.box=l,this.boxWrapper=n,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(h.createTextNode("Created with Highcharts 11.0.0")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=a,this.styledMode=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=n.getStyle("font-size"),this.setSize(e,i,!1),u&&t.getBoundingClientRect&&(e=function(){k(t,{left:0,top:0}),c=t.getBoundingClientRect(),k(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),this.unSubPixelFix=b(y,"resize",e))}definition(e){return new t([e]).addToDOM(this.defs.element)}getReferenceURL(){if((u||m)&&h.getElementsByTagName("base").length){if(!C(B)){var e=D();e=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(h.body),k(e,{position:"fixed",top:0,left:0,zIndex:9e5});const i=h.elementFromPoint(6,6);B="hitme"===(i&&i.id),h.body.removeChild(e)}if(B)return y.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(t){return this.style=A({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t)}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),S(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(t){const e=new this.Element;return e.init(this,t),e}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){const e=["drop-shadow",...Object.keys(t).map(e=>t[e])].join("-").replace(/[^a-z0-9\-]/g,""),i=_({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector("#"+e)||this.definition({tagName:"filter",attributes:{id:e},children:[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}),e}buildText(t){new n(t).buildSVG()}getContrast(t){return t=e.parse(t).rgba.map(t=>(t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4))),t=.2126*t[0]+.7152*t[1]+.0722*t[2],1.05/(t+.05)>(t+.05)/.05?"#FFFFFF":"#000000"}button(e,i,s,a,o={},r,n,l,c,d){const h=this.label(e,i,s,c,void 0,void 0,d,void 0,"button"),u=this.styledMode;e=o.states||{};let m=0;o=_(o),delete o.states;const f=_({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},o.style);delete o.style;let g,v,y,x=t.filterUserAttributes(o);return h.attr(_({padding:8,r:2},x)),u||(x=_({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},x),r=_(x,{fill:"#e6e6e6"},t.filterUserAttributes(r||e.hover||{})),g=r.style,delete r.style,n=_(x,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},t.filterUserAttributes(n||e.select||{})),v=n.style,delete n.style,l=_(x,{style:{color:"#cccccc"}},t.filterUserAttributes(l||e.disabled||{})),y=l.style,delete l.style),b(h.element,p?"mouseover":"mouseenter",(function(){3!==m&&h.setState(1)})),b(h.element,p?"mouseout":"mouseleave",(function(){3!==m&&h.setState(m)})),h.setState=function(t){1!==t&&(h.state=m=t),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u||(h.attr([x,r,n,l][t||0]),t=[f,g,v,y][t||0],L(t)&&h.css(t))},u||(h.attr(x).css(A({cursor:"default"},f)),d&&h.text.css({pointerEvents:"none"})),h.on("touchstart",t=>t.stopPropagation()).on("click",(function(t){3!==m&&a.call(h,t)}))}crispLine(t,e,i="round"){const s=t[0],a=t[1];return C(s[1])&&s[1]===a[1]&&(s[1]=a[1]=Math[i](s[1])-e%2/2),C(s[2])&&s[2]===a[2]&&(s[2]=a[2]=Math[i](s[2])+e%2/2),t}path(t){const e=this.styledMode?{}:{fill:"none"};return I(t)?e.d=t:L(t)&&A(e,t),this.createElement("path").attr(e)}circle(t,e,i){return t=L(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)}arc(t,e,i,s,a,o){return L(t)?(s=t,e=s.y,i=s.r,t=s.x):s={innerR:s,start:a,end:o},t=this.symbol("arc",t,e,i,i,s),t.r=i,t}rect(t,e,i,s,a,o){t=L(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:a,width:Math.max(i||0,0),height:Math.max(s||0,0)};const r=this.createElement("rect");return this.styledMode||("undefined"!==typeof o&&(t["stroke-width"]=o,A(t,r.crisp(t))),t.fill="none"),r.rSetter=function(t,e,i){r.r=t,x(i,{rx:t,ry:t})},r.rGetter=function(){return r.r||0},r.attr(t)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:M(i,!0)?void 0:0}),this.alignElements()}g(t){const e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,s,a,o){const r={preserveAspectRatio:"none"},n=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)};T(e)&&(r.x=e),T(i)&&(r.y=i),T(s)&&(r.width=s),T(a)&&(r.height=a);const l=this.createElement("image").attr(r);return e=function(e){n(l.element,t),o.call(l,e)},o?(n(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i=new y.Image,b(i,"load",e),i.src=t,i.complete&&e({})):n(l.element,t),l}symbol(t,e,i,s,a,o){const r=this,n=/^url\((.*?)\)$/,l=n.test(t),d=!l&&(this.symbols[t]?t:"circle"),u=d&&this.symbols[d];let p,m,f,g;if(u)"number"===typeof e&&(m=u.call(this.symbols,Math.round(e||0),Math.round(i||0),s||0,a||0,o)),p=this.path(m),r.styledMode||p.attr("fill","none"),A(p,{symbolName:d||void 0,x:e,y:i,width:s,height:a}),o&&A(p,o);else if(l){f=t.match(n)[1];const s=p=this.image(f);s.imgwidth=M(o&&o.width,v[f]&&v[f].width),s.imgheight=M(o&&o.height,v[f]&&v[f].height),g=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach((function(t){s[t+"Setter"]=function(t,e){this[e]=t;const{alignByTranslate:i,element:s,width:a,height:r,imgwidth:n,imgheight:l}=this;if(t=this["img"+e],C(t)){let c=1;o&&"within"===o.backgroundSize&&a&&r?(c=Math.min(a/n,r/l),x(s,{width:Math.round(n*c),height:Math.round(l*c)})):s&&s.setAttribute(e,t),i||this.translate(((a||0)-n*c)/2,((r||0)-l*c)/2)}}})),C(e)&&s.attr({x:e,y:i}),s.isImg=!0,C(s.imgwidth)&&C(s.imgheight)?g(s):(s.attr({width:0,height:0}),w("img",{onload:function(){const t=c[r.chartIndex];0===this.width&&(k(this,{position:"absolute",top:"-999em"}),h.body.appendChild(this)),v[f]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&g(s),this.parentNode&&this.parentNode.removeChild(this),r.imgCount--,r.imgCount||!t||t.hasLoaded||t.onload()},src:f}),this.imgCount++)}return p}clipRect(t,e,i,s){const a=D()+"-",o=this.createElement("clipPath").attr({id:a}).add(this.defs);return t=this.rect(t,e,i,s,0).add(o),t.id=a,t.clipPath=o,t.count=0,t}text(t,e,i,s){const a={};return!s||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),C(t)&&(a.text=t),t=this.createElement("text").attr(a),(!s||this.forExport&&!this.allowHTML)&&(t.xSetter=function(t,e,i){const s=i.getElementsByTagName("tspan"),a=i.getAttribute(e);for(let o,r=0;r<s.length;r++)o=s[r],o.getAttribute(e)===a&&o.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)}fontMetrics(t){t=F(a.prototype.getStyle.call(t,"font-size")||0);const e=24>t?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:s}}pathToSegments(t){const e=[],i=[],s={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let a=0;a<t.length;a++)P(i[0])&&T(t[a])&&i.length===s[i[0].toUpperCase()]&&t.splice(a,0,i[0].replace("M","L").replace("m","l")),"string"===typeof t[a]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[a]);return e.push(i.slice(0)),e}label(t,e,i,s,a,r,n,l,c){return new o(this,t,e,i,s,a,r,n,l,c)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}return A(O.prototype,{Element:a,SVG_NS:g,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:r,draw:f}),s.registerRendererType("svg",O,!0),O})),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i){const{isFirefox:s,isMS:a,isWebKit:o,win:r}=t,{css:n,defined:l,extend:c,pick:d,pInt:h}=i,u=[];class p extends e{static compose(t){if(i.pushUnique(u,t)){const e=p.prototype,i=t.prototype;i.getSpanCorrection=e.getSpanCorrection,i.htmlCss=e.htmlCss,i.htmlGetBBox=e.htmlGetBBox,i.htmlUpdateTransform=e.htmlUpdateTransform,i.setSpanRotation=e.setSpanRotation}return t}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}htmlCss(t){const e="SPAN"===this.element.tagName&&t&&"width"in t,i=d(e&&t.width,void 0);let s;return e&&(delete t.width,this.textWidth=i,s=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=c(this.styles,t),n(this.element,t),s&&this.htmlUpdateTransform(),this}htmlGetBBox(){const t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}htmlUpdateTransform(){if(this.added){var t=this.renderer,e=this.element,i=this.x||0,s=this.y||0,a=this.textAlign||"left",o={left:0,center:.5,right:1}[a],r=this.styles,c=r&&r.whiteSpace;if(n(e,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),"SPAN"===e.tagName){r=this.rotation;const u=this.textWidth&&h(this.textWidth),p=[r,a,e.innerHTML,this.textWidth,this.textAlign].join();let m=!1;if(u!==this.oldTextWidth){if(this.textPxLength)var d=this.textPxLength;else n(e,{width:"",whiteSpace:c||"nowrap"}),d=e.offsetWidth;(u>this.oldTextWidth||d>u)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(n(e,{width:d>u||r?u+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=u,m=!0)}this.hasBoxWidthChanged=m,p!==this.cTT&&(t=t.fontMetrics(e).b,!l(r)||r===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(r,o,t),this.getSpanCorrection(!l(r)&&this.textPxLength||e.offsetWidth,t,o,r,a)),n(e,{left:i+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=r,this.oldAlign=a}}else this.alignOnAdd=!0}setSpanRotation(t,e,i){const l={},c=a&&!/Edge/.test(r.navigator.userAgent)?"-ms-transform":o?"-webkit-transform":s?"MozTransform":r.opera?"-o-transform":void 0;c&&(l[c]=l.transform="rotate("+t+"deg)",l[c+(s?"Origin":"-origin")]=l.transformOrigin=100*e+"% "+i+"px",n(this.element,l))}}return p})),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{attr:a,createElement:o,extend:r,pick:n}=s,l=[];class c extends i{static compose(t){return s.pushUnique(l,t)&&(t.prototype.html=c.prototype.html),t}html(i,s,l){const c=this.createElement("span"),d=c.element,h=c.renderer,u=function(t,i){["opacity","visibility"].forEach((function(s){t[s+"Setter"]=function(a,o,r){const n=t.div?t.div.style:i;e.prototype[s+"Setter"].call(this,a,o,r),n&&(n[o]=a)}})),t.addedSetters=!0};return c.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,n(e,"")),this.textStr=e,c.doTransform=!0)},u(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(t,e){"align"===e?c.alignValue=c.textAlign=t:c[e]=t,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:i,x:Math.round(s),y:Math.round(l)}).css({position:"absolute"}),h.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),d.style.whiteSpace="nowrap",c.css=c.htmlCss,c.add=function(t){const e=h.box.parentNode,i=[];let s;if(this.parentGroup=t){if(s=t.div,!s){for(;t;)i.push(t),t=t.parentGroup;i.reverse().forEach((function(t){function n(e,i){t[i]=e,"translateX"===i?h.left=e+"px":h.top=e+"px",t.doTransform=!0}const l=a(t.element,"class"),d=t.styles||{};s=t.div=t.div||o("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,cursor:d.cursor,pointerEvents:d.pointerEvents,visibility:t.visibility},s||e);const h=s.style;r(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return i[0].div&&c.on.apply({element:i[0].div,onEvents:t.onEvents},arguments),t},translateXSetter:n,translateYSetter:n}),t.addedSetters||u(t)}))}}else s=e;return s.appendChild(d),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c},c}}return c})),e(i,"Core/Axis/AxisDefaults.js",[],(function(){var t;return function(t){t.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},t.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t.defaultLeftAxisOptions={title:{rotation:270}},t.defaultRightAxisOptions={title:{rotation:90}},t.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},t.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(t||(t={})),t})),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,isFunction:i,objectEach:s,removeEvent:a}=t;var o;return function(t){t.registerEventOptions=function(t,o){t.eventOptions=t.eventOptions||{},s(o.events,(function(s,o){t.eventOptions[o]!==s&&(t.eventOptions[o]&&(a(t,o,t.eventOptions[o]),delete t.eventOptions[o]),i(s)&&(t.eventOptions[o]=s,e(t,o,s,{order:0})))}))}}(o||(o={})),o})),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:s}=e,{clamp:a,correctFloat:o,defined:r,destroyObjectProperties:n,extend:l,fireEvent:c,isNumber:d,merge:h,objectEach:u,pick:p}=i;class m{constructor(t,e,i,s,a){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=i||"",this.parameters=a||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),i||s||this.addLabel()}addLabel(){const e=this,i=e.axis;var s=i.options;const a=i.chart;var n=i.categories;const h=i.logarithmic,u=i.names,m=e.pos,f=p(e.options&&e.options.labels,s.labels);var g=i.tickPositions;const v=m===g[0],y=m===g[g.length-1],b=(!f.step||1===f.step)&&1===i.tickInterval;g=g.info;let x,w,k,C=e.label;n=this.parameters.category||(n?p(n[m],u[m],m):m),h&&d(n)&&(n=o(h.lin2log(n))),i.dateTime&&(g?(w=a.time.resolveDTLFormat(s.dateTimeLabelFormats[!s.grid&&g.higherRanks[m]||g.unitName]),x=w.main):d(n)&&(x=i.dateTime.getXDateFormat(n,s.dateTimeLabelFormats||{}))),e.isFirst=v,e.isLast=y;const S={axis:i,chart:a,dateTimeLabelFormat:x,isFirst:v,isLast:y,pos:m,tick:e,tickPositionInfo:g,value:n};c(this,"labelFormat",S);const A=e=>f.formatter?f.formatter.call(e,e):f.format?(e.text=i.defaultLabelFormatter.call(e,e),t.format(f.format,e,a)):i.defaultLabelFormatter.call(e,e);s=A.call(S,S);const I=w&&w.list;e.shortenLabel=I?function(){for(k=0;k<I.length;k++)if(l(S,{dateTimeLabelFormat:I[k]}),C.attr({text:A.call(S,S)}),C.getBBox().width<i.getSlotWidth(e)-2*f.padding)return;C.attr({text:""})}:void 0,b&&i._addedPlotLB&&e.moveLabel(s,f),r(C)||e.movedLabel?C&&C.textStr!==s&&!b&&(!C.textWidth||f.style.width||C.styles.width||C.css({width:null}),C.attr({text:s}),C.textPxLength=C.getBBox().width):(e.label=C=e.createLabel({x:0,y:0},s,f),e.rotation=0)}createLabel(t,e,i){const s=this.axis,a=s.chart;return(t=r(e)&&i.enabled?a.renderer.text(e,t.x,t.y,i.useHTML).add(s.labelGroup):null)&&(a.styledMode||t.css(h(i.style)),t.textPxLength=t.getBBox().width),t}destroy(){n(this,this.axis)}getPosition(t,e,i,s){const r=this.axis,n=r.chart,l=s&&n.oldChartHeight||n.chartHeight;return t={x:t?o(r.translate(e+i,void 0,void 0,s)+r.transB):r.left+r.offset+(r.opposite?(s&&n.oldChartWidth||n.chartWidth)-r.right-r.left:0),y:t?l-r.bottom+r.offset-(r.opposite?r.height:0):o(l-r.translate(e+i,void 0,void 0,s)-r.transB)},t.y=a(t.y,-1e5,1e5),c(this,"afterGetPosition",{pos:t}),t}getLabelPosition(t,e,i,a,o,n,l,d){const h=this.axis,u=h.transA,m=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,f=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},v=a||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y=o.distance,b={};return i=0===h.side?i.rotation?-y:-i.getBBox().height:2===h.side?g.y+y:Math.cos(i.rotation*s)*(g.y-i.getBBox(!1,0).height/2),r(o.y)&&(i=0===h.side&&h.horiz?o.y+i:o.y),t=t+p(o.x,[0,1,0,-1][h.side]*y)+v+g.x-(n&&a?n*u*(m?-1:1):0),e=e+i-(n&&!a?n*u*(m?1:-1):0),f&&(a=l/(d||1)%f,h.opposite&&(a=f-a-1),e+=h.labelOffset/f*a),b.x=t,b.y=Math.round(e),c(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:n,index:l}),b}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(t,e,i,s,a,o){return o.crispLine([["M",t,e],["L",t+(a?0:-i),e+(a?i:0)]],s)}handleOverflow(t){const e=this.axis,i=e.options.labels,a=t.x;var o=e.chart.chartWidth,r=e.chart.spacing;const n=p(e.labelLeft,Math.min(e.pos,r[3]));r=p(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,o-r[1]));const l=this.label,c=this.rotation,d={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],h=l.getBBox().width,u=e.getSlotWidth(this),m={};let f,g=u,v=1;c||"justify"!==i.overflow?0>c&&a-d*h<n?f=Math.round(a/Math.cos(c*s)-n):0<c&&a+d*h>r&&(f=Math.round((o-a)/Math.cos(c*s))):(o=a+(1-d)*h,a-d*h<n?g=t.x+g*(1-d)-n:o>r&&(g=r-t.x+g*d,v=-1),g=Math.min(u,g),g<u&&"center"===e.labelAlign&&(t.x+=v*(u-g-d*(u-Math.min(h,g)))),(h>g||e.autoRotation&&(l.styles||{}).width)&&(f=g)),f&&(this.shortenLabel?this.shortenLabel():(m.width=Math.floor(f)+"px",(i.style||{}).textOverflow||(m.textOverflow="ellipsis"),l.css(m)))}moveLabel(t,e){const i=this;var s=i.label;const a=i.axis;let o=!1;s&&s.textStr===t?(i.movedLabel=s,o=!0,delete i.label):u(a.ticks,(function(e){o||e.isNew||e===i||!e.label||e.label.textStr!==t||(i.movedLabel=e.label,o=!0,e.labelPos=i.movedLabel.xy,delete e.label)})),o||!i.labelPos&&!s||(s=i.labelPos||s.xy,i.movedLabel=i.createLabel(s,t,e),i.movedLabel&&i.movedLabel.attr({opacity:0}))}render(t,e,i){var s=this.axis,a=s.horiz,o=this.pos,r=p(this.tickmarkOffset,s.tickmarkOffset);o=this.getPosition(a,o,r,e),r=o.x;const n=o.y;s=a&&r===s.pos+s.len||!a&&n===s.pos?-1:1,a=p(i,this.label&&this.label.newOpacity,1),i=p(i,1),this.isActive=!0,this.renderGridLine(e,i,s),this.renderMark(o,i,s),this.renderLabel(o,e,a,t),this.isNew=!1,c(this,"afterRender")}renderGridLine(t,e,i){const s=this.axis,a=s.options,o={},r=this.pos,n=this.type,l=p(this.tickmarkOffset,s.tickmarkOffset),c=s.chart.renderer;let d=this.gridLine,h=a.gridLineWidth,u=a.gridLineColor,m=a.gridLineDashStyle;"minor"===this.type&&(h=a.minorGridLineWidth,u=a.minorGridLineColor,m=a.minorGridLineDashStyle),d||(s.chart.styledMode||(o.stroke=u,o["stroke-width"]=h||0,o.dashstyle=m),n||(o.zIndex=1),t&&(e=0),this.gridLine=d=c.path().attr(o).addClass("highcharts-"+(n?n+"-":"")+"grid-line").add(s.gridGroup)),d&&(i=s.getPlotLinePath({value:r+l,lineWidth:d.strokeWidth()*i,force:"pass",old:t,acrossPanes:!1}))&&d[t||this.isNew?"attr":"animate"]({d:i,opacity:e})}renderMark(t,e,i){const s=this.axis;var a=s.options;const o=s.chart.renderer,r=this.type,n=s.tickSize(r?r+"Tick":"tick"),l=t.x;t=t.y;const c=p(a["minor"!==r?"tickWidth":"minorTickWidth"],!r&&s.isXAxis?1:0);a=a["minor"!==r?"tickColor":"minorTickColor"];let d=this.mark;const h=!d;n&&(s.opposite&&(n[0]=-n[0]),d||(this.mark=d=o.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(s.axisGroup),s.chart.styledMode||d.attr({stroke:a,"stroke-width":c})),d[h?"attr":"animate"]({d:this.getMarkPath(l,t,n[0],d.strokeWidth()*i,s.horiz,o),opacity:e}))}renderLabel(t,e,i,s){var a=this.axis;const o=a.horiz,r=a.options,n=this.label,l=r.labels,c=l.step;a=p(this.tickmarkOffset,a.tickmarkOffset);const h=t.x;t=t.y;let u=!0;n&&d(h)&&(n.xy=t=this.getLabelPosition(h,t,n,o,l,a,s,c),this.isFirst&&!this.isLast&&!r.showFirstLabel||this.isLast&&!this.isFirst&&!r.showLastLabel?u=!1:!o||l.step||l.rotation||e||0===i||this.handleOverflow(t),c&&s%c&&(u=!1),u&&d(t.y)?(t.opacity=i,n[this.isNewLabel?"attr":"animate"](t).show(!0),this.isNewLabel=!1):(n.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const t=this.label,e=this.axis;t&&!this.isNew&&(t.animate({opacity:0},void 0,t.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return m})),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n){const{animObject:l}=t,{defaultOptions:c}=s,{registerEventOptions:d}=a,{deg2rad:h}=o,{arrayMax:u,arrayMin:p,clamp:m,correctFloat:f,defined:g,destroyObjectProperties:v,erase:y,error:b,extend:x,fireEvent:w,isArray:k,isNumber:C,isString:S,merge:A,normalizeTickInterval:I,objectEach:T,pick:L,relativeLength:P,removeEvent:_,splat:M,syncTimeout:F}=n,D=(t,e)=>I(e,void 0,void 0,L(t.options.allowDecimals,.5>e||void 0!==t.tickAmount),!!t.tickAmount);class B{constructor(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(t,e)}init(t,e){const i=e.isX;this.chart=t,this.horiz=t.inverted&&!this.isZAxis?!i:i,this.isXAxis=i,this.coll=this.coll||(i?"xAxis":"yAxis"),w(this,"init",{userOptions:e}),this.opposite=L(e.opposite,this.opposite),this.side=L(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);const s=this.options,a=s.labels,o=s.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=L(s.reversed,this.reversed),this.visible=s.visible,this.zoomEnabled=s.zoomEnabled,this.hasNames="category"===o||!0===s.categories,this.categories=s.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=g(s.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.min=this.max=null,e=L(s.crosshair,M(t.options.tooltip.crosshairs)[i?0:1]),this.crosshair=!0===e?{}:e,-1===t.axes.indexOf(this)&&(i?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&!this.isZAxis&&i&&"undefined"===typeof this.reversed&&(this.reversed=!0),this.labelRotation=C(a.rotation)?a.rotation:void 0,d(this,s),w(this,"afterInit")}setOptions(t){this.options=A(e.defaultXAxisOptions,"yAxis"===this.coll&&e.defaultYAxisOptions,[e.defaultTopAxisOptions,e.defaultRightAxisOptions,e.defaultBottomAxisOptions,e.defaultLeftAxisOptions][this.side],A(c[this.coll],t)),w(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(t){var e=this.axis;({numberFormatter:t}=this.chart);const i=C(this.value)?this.value:NaN,s=e.chart.time,a=this.dateTimeLabelFormat;var o=c.lang;const r=o.numericSymbols;o=o.numericSymbolMagnitude||1e3;const n=e.logarithmic?Math.abs(i):e.tickInterval;let l,d=r&&r.length;if(e.categories)l=""+this.value;else if(a)l=s.dateFormat(a,i);else if(d&&1e3<=n)for(;d--&&"undefined"===typeof l;)e=Math.pow(o,d+1),n>=e&&0===10*i%e&&null!==r[d]&&0!==i&&(l=t(i/e,-1)+r[d]);return"undefined"===typeof l&&(l=1e4<=Math.abs(i)?t(i,-1):t(i,-1,void 0,"")),l}getSeriesExtremes(){const t=this,e=t.chart;let i;w(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.series.forEach((function(s){if(s.visible||!e.options.chart.ignoreHiddenSeries){var a=s.options;let e,o,r=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=r&&(r=null),t.isXAxis?(a=s.xData)&&a.length&&(a=t.logarithmic?a.filter(t=>0<t):a,i=s.getXExtremes(a),e=i.min,o=i.max,C(e)||e instanceof Date||(a=a.filter(C),i=s.getXExtremes(a),e=i.min,o=i.max),a.length&&(t.dataMin=Math.min(L(t.dataMin,e),e),t.dataMax=Math.max(L(t.dataMax,o),o))):(s=s.applyExtremes(),C(s.dataMin)&&(e=s.dataMin,t.dataMin=Math.min(L(t.dataMin,e),e)),C(s.dataMax)&&(o=s.dataMax,t.dataMax=Math.max(L(t.dataMax,o),o)),g(r)&&(t.threshold=r),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),w(this,"afterGetSeriesExtremes")}translate(t,e,i,s,a,o){const r=this.linkedParent||this,n=s&&r.old?r.old.min:r.min;if(!C(n))return NaN;const l=r.minPixelPadding;a=(r.isOrdinal||r.brokenAxis&&r.brokenAxis.hasBreaks||r.logarithmic&&a)&&r.lin2val;let c=1,d=0;return s=s&&r.old?r.old.transA:r.transA,s||(s=r.transA),i&&(c*=-1,d=r.len),r.reversed&&(c*=-1,d-=c*(r.sector||r.len)),e?(o=(t*c+d-l)/s+n,a&&(o=r.lin2val(o))):(a&&(t=r.val2lin(t)),t=c*(t-n)*s,o=(r.isRadial?t:f(t))+d+c*l+(C(o)?s*o:0)),o}toPixels(t,e){return this.translate(t,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){function e(t,e,i){return"pass"!==b&&(t<e||t>i)&&(b?t=m(t,e,i):v=!0),t}const i=this,s=i.chart,a=i.left,o=i.top,r=t.old,n=t.value,l=t.lineWidth,c=r&&s.oldChartHeight||s.chartHeight,d=r&&s.oldChartWidth||s.chartWidth,h=i.transB;let u,p,f,g,v,y=t.translatedValue,b=t.force;return t={value:n,lineWidth:l,old:r,force:b,acrossPanes:t.acrossPanes,translatedValue:y},w(this,"getPlotLinePath",t,(function(t){y=L(y,i.translate(n,void 0,void 0,r)),y=m(y,-1e5,1e5),u=f=Math.round(y+h),p=g=Math.round(c-y-h),C(y)?i.horiz?(p=o,g=c-i.bottom,u=f=e(u,a,a+i.width)):(u=a,f=d-i.right,p=g=e(p,o,o+i.height)):(v=!0,b=!1),t.path=v&&!b?null:s.renderer.crispLine([["M",u,p],["L",f,g]],l||1)})),t.path}getLinearTickPositions(t,e,i){const s=f(Math.floor(e/t)*t);i=f(Math.ceil(i/t)*t);const a=[];let o,r;if(f(s+t)===s&&(r=20),this.single)return[e];for(e=s;e<=i;){if(a.push(e),e=f(e+t,r),e===o)break;o=e}return a}getMinorTickInterval(){const t=this.options;return!0===t.minorTicks?L(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval}getMinorTickPositions(){var t=this.options;const e=this.tickPositions,i=this.minorTickInterval;var s=this.pointRangePadding||0;const a=this.min-s;s=this.max+s;const o=s-a;let r=[];if(o&&o/i<this.len/3){const o=this.logarithmic;if(o)this.paddedTicks.forEach((function(t,e,s){e&&r.push.apply(r,o.getLogTickPositions(i,s[e-1],s[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())r=r.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),a,s,t.startOfWeek));else for(t=a+(e[0]-a)%i;t<=s&&t!==r[0];t+=i)r.push(t)}return 0!==r.length&&this.trimTicks(r),r}adjustForMinRange(){const t=this.options,e=this.logarithmic;let i=this.min;var s=this.max;let a,o,r,n,l,c,d=0;if(this.isXAxis&&"undefined"===typeof this.minRange&&!e&&(g(t.min)||g(t.max)||g(t.floor)||g(t.ceiling)?this.minRange=null:(this.series.forEach((function(t){if(n=t.xData,l=t.xIncrement?1:n.length-1,1<n.length)for(o=l;0<o;o--)r=n[o]-n[o-1],(!d||r<d)&&(d=r)})),this.minRange=Math.min(5*d,this.dataMax-this.dataMin))),s-i<this.minRange){a=this.dataMax-this.dataMin>=this.minRange,c=this.minRange;var h=(c-s+i)/2;h=[i-h,L(t.min,i-h)],a&&(h[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),i=u(h),s=[i+c,L(t.max,i+c)],a&&(s[2]=e?e.log2lin(this.dataMax):this.dataMax),s=p(s),s-i<c&&(h[0]=s-c,h[1]=L(t.min,s-c),i=u(h))}this.min=i,this.max=s}getClosest(){let t;return this.categories?t=1:this.series.forEach((function(e){const i=e.closestPointRange,s=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&g(i)&&s&&(t=g(t)?Math.min(t,i):i)})),t}nameToX(t){const e=k(this.options.categories),i=e?this.categories:this.names;let s,a=t.options.x;return t.series.requireSorting=!1,g(a)||(a=this.options.uniqueNames&&i?e?i.indexOf(t.name):L(i.keys[t.name],-1):t.series.autoIncrement()),-1===a?!e&&i&&(s=i.length):s=a,"undefined"!==typeof s?(this.names[s]=t.name,this.names.keys[t.name]=s):t.x&&(s=t.x),s}updateNames(){const t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(i,s){let a;i&&i.options&&"undefined"!==typeof i.name&&(a=t.nameToX(i),"undefined"!==typeof a&&a!==i.x&&(i.x=a,e.xData[s]=a))}))})))}setAxisTranslation(){const t=this,e=t.max-t.min;var i=t.linkedParent;const s=!!t.categories,a=t.isXAxis;let o,r=t.axisPointRange||0,n=0,l=0,c=t.transA;(a||s||r)&&(o=t.getClosest(),i?(n=i.minPointOffset,l=i.pointRangePadding):t.series.forEach((function(e){const i=s?1:a?L(e.options.pointRange,o,0):t.axisPointRange||0,c=e.options.pointPlacement;r=Math.max(r,i),t.single&&!s||(e=e.is("xrange")?!a:a,n=Math.max(n,e&&S(c)?0:i/2),l=Math.max(l,e&&"on"===c?0:i))})),i=t.ordinal&&t.ordinal.slope&&o?t.ordinal.slope/o:1,t.minPointOffset=n*=i,t.pointRangePadding=l*=i,t.pointRange=Math.min(r,t.single&&s?1:e),a&&(t.closestPointRange=o)),t.translationSlope=t.transA=c=t.staticScale||t.len/(e+l||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*n,w(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(t){var e=this.chart;const i=this.logarithmic,s=this.options,a=this.isXAxis,o=this.isLinked,r=s.tickPixelInterval,n=this.categories,l=this.softThreshold;let c,d,h,u=s.maxPadding,p=s.minPadding,m=C(s.tickInterval)&&0<=s.tickInterval?s.tickInterval:void 0,v=C(this.threshold)?this.threshold:null;if(this.dateTime||n||o||this.getTickAmount(),d=L(this.userMin,s.min),h=L(this.userMax,s.max),o){this.linkedParent=e[this.coll][s.linkedTo];var y=this.linkedParent.getExtremes();this.min=L(y.min,y.dataMin),this.max=L(y.max,y.dataMax),s.type!==this.linkedParent.options.type&&b(11,1,e)}else l&&g(v)&&(this.dataMin>=v?(y=v,p=0):this.dataMax<=v&&(c=v,u=0)),this.min=L(d,y,this.dataMin),this.max=L(h,c,this.dataMax);if(i&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,L(this.dataMin,this.min))&&b(10,1,e),this.min=f(i.log2lin(this.min),16),this.max=f(i.log2lin(this.max),16)),this.range&&g(this.max)&&(this.userMin=this.min=d=Math.max(this.dataMin,this.minFromRange()),this.userMax=h=this.max,this.range=null),w(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(n||this.axisPointRange||this.stacking&&this.stacking.usePercentage||o)&&g(this.min)&&g(this.max)&&(e=this.max-this.min)&&(!g(d)&&p&&(this.min-=e*p),!g(h)&&u&&(this.max+=e*u)),C(this.userMin)||(C(s.softMin)&&s.softMin<this.min&&(this.min=d=s.softMin),C(s.floor)&&(this.min=Math.max(this.min,s.floor))),C(this.userMax)||(C(s.softMax)&&s.softMax>this.max&&(this.max=h=s.softMax),C(s.ceiling)&&(this.max=Math.min(this.max,s.ceiling))),l&&g(this.dataMin)&&(v=v||0,!g(d)&&this.min<v&&this.dataMin>=v?this.min=this.options.minRange?Math.min(v,this.max-this.minRange):v:!g(h)&&this.max>v&&this.dataMax<=v&&(this.max=this.options.minRange?Math.max(v,this.min+this.minRange):v)),C(this.min)&&C(this.max)&&!this.chart.polar&&this.min>this.max&&(g(this.options.min)?this.max=this.min:g(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||"undefined"===typeof this.min||"undefined"===typeof this.max?1:o&&this.linkedParent&&!m&&r===this.linkedParent.options.tickPixelInterval?m=this.linkedParent.tickInterval:L(m,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,n?1:(this.max-this.min)*r/Math.max(this.len,r)),a&&!t){const t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(t)})),w(this,"postProcessData",{hasExtremesChanged:t})}this.setAxisTranslation(),w(this,"initialAxisTranslation"),this.pointRange&&!m&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),t=L(s.minTickInterval,this.dateTime&&!this.series.some(t=>t.noSharedTooltip)?this.closestPointRange:0),!m&&this.tickInterval<t&&(this.tickInterval=t),this.dateTime||this.logarithmic||m||(this.tickInterval=D(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var t=this.options;const e=t.tickPositions,i=t.tickPositioner;var s=this.getMinorTickInterval(),a=this.hasVerticalPanning(),o="colorAxis"===this.coll;const r=(o||!a)&&t.startOnTick;let n;if(a=(o||!a)&&t.endOnTick,o=[],this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===s&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:s,this.single=this.min===this.max&&g(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),e)o=e.slice();else if(C(this.min)&&C(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)o=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)o=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(s=t=this.tickInterval;s<=2*t;){if(o=this.getLinearTickPositions(this.tickInterval,this.min,this.max),!(this.tickAmount&&o.length>this.tickAmount))break;this.tickInterval=D(this,s*=1.1)}else o=[this.min,this.max],b(19,!1,this.chart);o.length>this.len&&(o=[o[0],o[o.length-1]],o[0]===o[1]&&(o.length=1)),i&&(this.tickPositions=o,(n=i.apply(this,[this.min,this.max]))&&(o=n))}this.tickPositions=o,this.paddedTicks=o.slice(0),this.trimTicks(o,r,a),!this.isLinked&&C(this.min)&&C(this.max)&&(this.single&&2>o.length&&!this.categories&&!this.series.some(t=>t.is("heatmap")&&"between"===t.options.pointPlacement)&&(this.min-=.5,this.max+=.5),e||n||this.adjustTickAmount()),w(this,"afterSetTickPositions")}trimTicks(t,e,i){const s=t[0],a=t[t.length-1],o=!this.isOrdinal&&this.minPointOffset||0;if(w(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==s)this.min=s;else for(;this.min-o>t[0];)t.shift();if(i)this.max=a;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&g(s)&&!this.options.tickPositions&&t.push((a+s)/2)}}alignToOthers(){const t=this,e=[this],i=t.options,s="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,a=[];let o;if(t.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&i.alignTicks||s)&&!1!==i.startOnTick&&!1!==i.endOnTick&&!t.logarithmic){const i=t=>{const{horiz:e,options:i}=t;return[e?i.left:i.top,i.width,i.height,i.pane].join()},s=i(this);this.chart[this.coll].forEach((function(a){const{series:r}=a;r.length&&r.some(t=>t.visible)&&a!==t&&i(a)===s&&(o=!0,e.push(a))}))}if(o&&s){e.forEach(e=>{e=e.getThresholdAlignment(t),C(e)&&a.push(e)});const i=1<a.length?a.reduce((t,e)=>t+e,0)/a.length:void 0;e.forEach(t=>{t.thresholdAlignment=i})}return o}getThresholdAlignment(t){if((!C(this.dataMin)||this!==t&&this.series.some(t=>t.isDirty||t.isDirtyData))&&this.getSeriesExtremes(),C(this.threshold))return t=m((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(t=1-t),t}getTickAmount(){const t=this.options,e=t.tickPixelInterval;let i=t.tickAmount;!g(t.tickInterval)&&!i&&this.len<e&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),4>i&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){const t=this,{finalTickAmt:e,max:i,min:s,options:a,tickPositions:o,tickAmount:r,thresholdAlignment:n}=t,l=o&&o.length;var c=L(t.threshold,t.softThreshold?0:null),d=t.tickInterval;let h;if(C(n)&&(h=.5>n?Math.ceil(n*(r-1)):Math.floor(n*(r-1)),a.reversed&&(h=r-1-h)),t.hasData()&&C(s)&&C(i)){const n=()=>{t.transA*=(l-1)/(r-1),t.min=a.startOnTick?o[0]:Math.min(s,o[0]),t.max=a.endOnTick?o[o.length-1]:Math.max(i,o[o.length-1])};if(C(h)&&C(t.threshold)){for(;o[h]!==c||o.length!==r||o[0]>s||o[o.length-1]<i;){for(o.length=0,o.push(t.threshold);o.length<r;)void 0===o[h]||o[h]>t.threshold?o.unshift(f(o[0]-d)):o.push(f(o[o.length-1]+d));if(d>8*t.tickInterval)break;d*=2}n()}else if(l<r){for(;o.length<r;)o.length%2||s===c?o.push(f(o[o.length-1]+d)):o.unshift(f(o[0]-d));n()}if(g(e)){for(d=c=o.length;d--;)(3===e&&1===d%2||2>=e&&0<d&&d<c-1)&&o.splice(d,1);t.finalTickAmt=void 0}}}setScale(){let t=!1,e=!1;this.series.forEach((function(i){t=t||i.isDirtyData||i.isDirty,e=e||i.xAxis&&i.xAxis.isDirty||!1})),this.setAxisSize();const i=this.len!==(this.old&&this.old.len);i||t||e||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=i||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),w(this,"afterSetScale")}setExtremes(t,e,i,s,a){const o=this,r=o.chart;i=L(i,!0),o.series.forEach((function(t){delete t.kdTree})),a=x(a,{min:t,max:e}),w(o,"setExtremes",a,(function(){o.userMin=t,o.userMax=e,o.eventArgs=a,i&&r.redraw(s)}))}zoom(t,e){const i=this,s=this.dataMin,a=this.dataMax,o=this.options,r=Math.min(s,L(o.min,s)),n=Math.max(a,L(o.max,a));return t={newMin:t,newMax:e},w(this,"zoom",t,(function(t){let e=t.newMin,o=t.newMax;e===i.min&&o===i.max||(i.allowZoomOutside||(g(s)&&(e<r&&(e=r),e>n&&(e=n)),g(a)&&(o<r&&(o=r),o>n&&(o=n))),i.displayBtn="undefined"!==typeof e||"undefined"!==typeof o,i.setExtremes(e,o,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed}setAxisSize(){const t=this.chart;var e=this.options;const i=e.offsets||[0,0,0,0],s=this.horiz,a=this.width=Math.round(P(L(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),o=this.height=Math.round(P(L(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),r=this.top=Math.round(P(L(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(P(L(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-o-r,this.right=t.chartWidth-a-e,this.len=Math.max(s?a:o,0),this.pos=s?e:r}getExtremes(){const t=this.logarithmic;return{min:t?f(t.lin2log(this.min)):this.min,max:t?f(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){var e=this.logarithmic;const i=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)}autoLabelAlign(t){const e=(L(t,0)-90*this.side+720)%360;return t={align:"center"},w(this,"autoLabelAlign",t,(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align}tickSize(t){const e=this.options,i=L(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);let s,a=e["tick"===t?"tickLength":"minorTickLength"];return i&&a&&("inside"===e[t+"Position"]&&(a=-a),s=[a,i]),t={tickSize:s},w(this,"afterTickSize",t),t.tickSize}labelMetrics(){const t=this.chart.renderer;var e=this.ticks;return e=e[Object.keys(e)[0]]||{},this.chart.renderer.fontMetrics(e.label||e.movedLabel||t.box)}unsquish(){const t=this.options.labels;var e=this.horiz;const i=this.tickInterval,s=this.len/(((this.categories?1:0)+this.max-this.min)/i),a=t.rotation,o=.75*this.labelMetrics().h,r=Math.max(this.max-this.min,0),n=function(t){let e=t/(s||1);return e=1<e?Math.ceil(e):1,e*i>r&&1/0!==t&&1/0!==s&&r&&(e=Math.ceil(r/i)),f(e*i)};let l,c,d=i,u=Number.MAX_VALUE;if(e){if(t.staggerLines||(C(a)?c=[a]:s<t.autoRotationLimit&&(c=t.autoRotation)),c){let t;for(const i of c)(i===a||i&&-90<=i&&90>=i)&&(e=n(Math.abs(o/Math.sin(h*i))),t=e+Math.abs(i/360),t<u&&(u=t,l=i,d=e))}}else d=n(o);return this.autoRotation=c,this.labelRotation=L(l,C(a)?a:0),t.step?i:d}getSlotWidth(t){const e=this.chart,i=this.horiz,s=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];if(t&&C(t.slotWidth))return t.slotWidth;if(i&&2>s.step)return s.rotation?0:(this.staggerLines||1)*this.len/a;if(!i){if(t=s.style.width,void 0!==t)return parseInt(String(t),10);if(o)return o-e.spacing[3]}return.33*e.chartWidth}renderUnsquish(){const t=this.chart,e=t.renderer,i=this.tickPositions,s=this.ticks,a=this.options.labels,o=a.style,r=this.horiz,n=this.getSlotWidth();var l=Math.max(1,Math.round(n-2*a.padding));const c={},d=this.labelMetrics(),h=o.textOverflow;let u,p,m=0;if(S(a.rotation)||(c.rotation=a.rotation||0),i.forEach((function(t){t=s[t],t.movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)})),this.maxLabelLength=m,this.autoRotation)m>l&&m>d.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(n&&(u=l,!h))for(p="clip",l=i.length;!r&&l--;){var f=i[l];(f=s[f].label)&&(f.styles&&"ellipsis"===f.styles.textOverflow?f.css({textOverflow:"clip"}):f.textPxLength>n&&f.css({width:n+"px"}),f.getBBox().height>this.len/i.length-(d.h-d.f)&&(f.specificTextOverflow="ellipsis"))}c.rotation&&(u=m>.5*t.chartHeight?.33*t.chartHeight:m,h||(p="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),i.forEach((function(t){const e=(t=s[t])&&t.label,i=o.width,a={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():u&&!i&&"nowrap"!==o.whiteSpace&&(u<e.textPxLength||"SPAN"===e.element.tagName)?(a.width=u+"px",h||(a.textOverflow=e.specificTextOverflow||p),e.css(a)):e.styles&&e.styles.width&&!a.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(d.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&g(this.min)&&g(this.max)}addTitle(t){const e=this.chart.renderer,i=this.horiz,s=this.opposite,a=this.options.title,o=this.chart.styledMode;let r;this.axisTitle||((r=a.textAlign)||(r=(i?{low:"left",middle:"center",high:"right"}:{low:s?"right":"left",middle:"center",high:s?"left":"right"})[a.align]),this.axisTitle=e.text(a.text||"",0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation,align:r}).addClass("highcharts-axis-title"),o||this.axisTitle.css(A(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||a.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){const e=this.ticks;e[t]?e[t].addLabel():e[t]=new r(this,t)}getOffset(){const t=this,{chart:e,horiz:i,options:s,side:a,ticks:o,tickPositions:r,coll:n,axisParent:l}=t,c=e.renderer,d=e.inverted&&!t.isZAxis?[1,0,3,2][a]:a;var h=t.hasData();const u=s.title;var p=s.labels,m=e.axisOffset;const f=e.clipOffset,v=[-1,1,1,-1][a],y=s.className;let b,x,k=0;var C=0;let S=0;if(t.showAxis=b=h||s.showEmpty,t.staggerLines=t.horiz&&p.staggerLines||void 0,!t.axisGroup){const e=(t,e,i)=>c.g(t).attr({zIndex:i}).addClass(`highcharts-${n.toLowerCase()}${e} `+(this.isRadial?`highcharts-radial-axis${e} `:"")+(y||"")).add(l);t.gridGroup=e("grid","-grid",s.gridZIndex),t.axisGroup=e("axis","",s.zIndex),t.labelGroup=e("axis-labels","-labels",p.zIndex)}h||t.isLinked?(r.forEach((function(e){t.generateTick(e)})),t.renderUnsquish(),t.reserveSpaceDefault=0===a||2===a||{1:"left",3:"right"}[a]===t.labelAlign,L(p.reserveSpace,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&r.forEach((function(t){S=Math.max(o[t].getLabelSize(),S)})),t.staggerLines&&(S*=t.staggerLines),t.labelOffset=S*(t.opposite?-1:1)):T(o,(function(t,e){t.destroy(),delete o[e]})),u&&u.text&&!1!==u.enabled&&(t.addTitle(b),b&&!1!==u.reserveSpace&&(t.titleOffset=k=t.axisTitle.getBBox()[i?"height":"width"],x=u.offset,C=g(x)?0:L(u.margin,i?5:10))),t.renderLine(),t.offset=v*L(s.offset,m[a]?m[a]+(s.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},h=0===a?-t.labelMetrics().h:2===a?t.tickRotCorr.y:0,C=Math.abs(S)+C,S&&(C=C-h+v*(i?L(p.y,t.tickRotCorr.y+v*p.distance):L(p.x,v*p.distance))),t.axisTitleMargin=L(x,C),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(o,r)),"colorAxis"!==n&&(p=this.tickSize("tick"),m[a]=Math.max(m[a],(t.axisTitleMargin||0)+k+v*t.offset,C,r&&r.length&&p?p[0]+v*t.offset:0),m=!t.axisLine||s.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),f[d]=Math.max(f[d],m)),w(this,"afterGetOffset")}getLinePath(t){const e=this.chart,i=this.opposite;var s=this.offset;const a=this.horiz,o=this.left+(i?this.width:0)+s;return s=e.chartHeight-this.bottom-(i?this.height:0)+s,i&&(t*=-1),e.renderer.crispLine([["M",a?this.left:o,a?s:this.top],["L",a?e.chartWidth-this.right:o,a?s:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){var e=this.horiz,i=this.left;const s=this.top;var a=this.len;const o=this.options.title,r=e?i:s,n=this.opposite,l=this.offset,c=o.x,d=o.y,h=this.chart.renderer.fontMetrics(t);return t=t?Math.max(t.getBBox(!1,0).height-h.h-1,0):0,a={low:r+(e?0:a),middle:r+a/2,high:r+(e?a:0)}[o.align],i=(e?s+this.height:i)+(e?1:-1)*(n?-1:1)*(this.axisTitleMargin||0)+[-t,t,h.f,-t][this.side],e={x:e?a+c:i+(n?this.width:0)+l+c,y:e?i+d-(n?this.height:0)+l:a+d},w(this,"afterGetTitlePosition",{titlePosition:e}),e}renderMinorTick(t,e){const i=this.minorTicks;i[t]||(i[t]=new r(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){const s=this.ticks;(!this.isLinked||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(s[t]||(s[t]=new r(this,t)),i&&s[t].isNew&&s[t].render(e,!0,-1),s[t].render(e))}render(){const t=this,e=t.chart,i=t.logarithmic,s=t.options,a=t.isLinked,n=t.tickPositions,c=t.axisTitle,d=t.ticks,h=t.minorTicks,u=t.alternateBands,p=s.stackLabels,m=s.alternateGridColor,f=t.tickmarkOffset,g=t.axisLine,v=t.showAxis,y=l(e.renderer.globalAnimation);let b,x;if(t.labelEdge.length=0,t.overlap=!1,[d,h,u].forEach((function(t){T(t,(function(t){t.isActive=!1}))})),t.hasData()||a){const a=t.chart.hasRendered&&t.old&&C(t.old.min);t.minorTickInterval&&!t.categories&&t.getMinorTickPositions().forEach((function(e){t.renderMinorTick(e,a)})),n.length&&(n.forEach((function(e,i){t.renderTick(e,i,a)})),f&&(0===t.min||t.single)&&(d[-1]||(d[-1]=new r(t,-1,null,!0)),d[-1].render(-1))),m&&n.forEach((function(s,a){x="undefined"!==typeof n[a+1]?n[a+1]+f:t.max-f,0===a%2&&s<t.max&&x<=t.max+(e.polar?-f:f)&&(u[s]||(u[s]=new o.PlotLineOrBand(t)),b=s+f,u[s].options={from:i?i.lin2log(b):b,to:i?i.lin2log(x):x,color:m,className:"highcharts-alternate-grid"},u[s].render(),u[s].isActive=!0)})),t._addedPlotLB||(t._addedPlotLB=!0,(s.plotLines||[]).concat(s.plotBands||[]).forEach((function(e){t.addPlotBandOrLine(e)})))}[d,h,u].forEach((function(t){const i=[],s=y.duration;T(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),F((function(){let e=i.length;for(;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==u&&e.hasRendered&&s?s:0)})),g&&(g[g.isPlaced?"animate":"attr"]({d:this.getLinePath(g.strokeWidth())}),g.isPlaced=!0,g[v?"show":"hide"](v)),c&&v&&(c[c.isNew?"attr":"animate"](t.getTitlePosition(c)),c.isNew=!1),p&&p.enabled&&t.stacking&&t.stacking.renderStackTotals(),t.old={len:t.len,max:t.max,min:t.min,transA:t.transA,userMax:t.userMax,userMin:t.userMin},t.isDirty=!1,w(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))}getKeepProps(){return this.keepProps||B.keepProps}destroy(t){const e=this,i=e.plotLinesAndBands,s=this.eventOptions;if(w(this,"destroy",{keepEvents:t}),t||_(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){v(t)})),i)for(t=i.length;t--;)i[t].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){e[t]&&(e[t]=e[t].destroy())}));for(const a in e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[a]=e.plotLinesAndBandsGroups[a].destroy();T(e,(function(t,i){-1===e.getKeepProps().indexOf(i)&&delete e[i]})),this.eventOptions=s}drawCrosshair(t,e){const s=this.crosshair;var a=L(s&&s.snap,!0);const o=this.chart;let r,n=this.cross;if(w(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),s&&!1!==(g(e)||!a)){if(a?g(e)&&(r=L("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):r=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),g(r)){var l={value:e&&(this.isXAxis?e.x:L(e.stackY,e.y)),translatedValue:r};o.polar&&x(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),l=this.getPlotLinePath(l)||null}if(!g(l))return void this.hideCrosshair();a=this.categories&&!this.isRadial,n||(this.cross=n=o.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(a?"category ":"thin ")+(s.className||"")).attr({zIndex:L(s.zIndex,2)}).add(),o.styledMode||(n.attr({stroke:s.color||(a?i.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":L(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&n.attr({dashstyle:s.dashStyle}))),n.show().attr({d:l}),a&&!s.width&&n.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();w(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),w(this,"afterHideCrosshair")}hasVerticalPanning(){const t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))}update(t,e){const i=this.chart;t=A(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,L(e,!0)&&i.redraw()}remove(t){const e=this.chart,i=this.coll,s=this.series;let a=s.length;for(;a--;)s[a]&&s[a].remove(!1);y(e.axes,this),y(e[i],this),e[i].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,L(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}return B.defaultOptions=e.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B})),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,getMagnitude:i,normalizeTickInterval:s,timeUnits:a}=t;var o;return function(o){function r(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function n(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new c(this))}const l=[];o.compose=function(i){return t.pushUnique(l,i)&&(i.keepProps.push("dateTime"),i.prototype.getTimeTicks=r,e(i,"init",n)),i};class c{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){const o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];let r,n=a[e[0]],l=e[1];for(r=0;r<o.length&&(e=o[r],n=a[e[0]],l=e[1],!(o[r+1]&&t<=(n*l[l.length-1]+a[o[r+1][0]])/2));r++);return n===a.year&&t<5*n&&(l=[1,2,5]),t=s(t/n,l,"year"===e[0]?Math.max(i(t/n),1):1),{unitRange:n,count:t,unitName:e[0]}}getXDateFormat(t,e){const{axis:i}=this,s=i.chart.time;return i.closestPointRange?s.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||s.resolveDTLFormat(e.year).main:s.resolveDTLFormat(e.day).main}}o.Additions=c}(o||(o={})),o})),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,normalizeTickInterval:i,pick:s}=t;var a;return function(a){function o(t){let e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:e||(this.logarithmic=new l(this))}function r(){const t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}const n=[];a.compose=function(i){return t.pushUnique(n,i)&&(i.keepProps.push("logarithmic"),e(i,"init",o),e(i,"afterInit",r)),i};class l{constructor(t){this.axis=t}getLogTickPositions(t,e,a,o){const r=this.axis;var n=r.len,l=r.options;let c=[];if(o||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),c=r.getLinearTickPositions(t,e,a);else if(.08<=t){let i,s,r,d,h;for(l=Math.floor(e),n=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<a+1&&!h;l++)for(s=n.length,i=0;i<s&&!h;i++)r=this.log2lin(this.lin2log(l)*n[i]),r>e&&(!o||d<=a)&&"undefined"!==typeof d&&c.push(d),d>a&&(h=!0),d=r}else e=this.lin2log(e),a=this.lin2log(a),t=o?r.getMinorTickInterval():l.tickInterval,t=s("auto"===t?null:t,this.minorAutoInterval,l.tickPixelInterval/(o?5:1)*(a-e)/((o?n/r.tickPositions.length:n)||1)),t=i(t),c=r.getLinearTickPositions(t,e,a).map(this.log2lin),o||(this.minorAutoInterval=t/5);return o||(r.tickInterval=t),c}lin2log(t){return Math.pow(10,t)}log2lin(t){return Math.log(t)/Math.LN10}}a.Additions=l}(a||(a={})),a})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],(function(t){const{erase:e,extend:i,isNumber:s}=t;var a;return function(a){function o(t){return this.addPlotBandOrLine(t,"plotBands")}function r(t,e){const i=this.userOptions;let s=new p(this,t);if(this.visible&&(s=s.render()),s){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach(t=>{this.addPlotBandOrLine(t)})),e){const s=i[e]||[];s.push(t),i[e]=s}this.plotLinesAndBands.push(s)}return s}function n(t){return this.addPlotBandOrLine(t,"plotLines")}function l(t,e,i=this.options){const a=this.getPlotLinePath({value:e,force:!0,acrossPanes:i.acrossPanes}),o=[],r=this.horiz;let n;if(e=!s(this.min)||!s(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,t=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes}),i=1,t&&a)for(e&&(n=t.toString()===a.toString(),i=0),e=0;e<t.length;e+=2){const s=t[e],l=t[e+1],c=a[e],d=a[e+1];"M"!==s[0]&&"L"!==s[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==d[0]&&"L"!==d[0]||(r&&c[1]===s[1]?(c[1]+=i,d[1]+=i):r||c[2]!==s[2]||(c[2]+=i,d[2]+=i),o.push(["M",s[1],s[2]],["L",l[1],l[2]],["L",d[1],d[2]],["L",c[1],c[2]],["Z"])),o.isFlat=n}return o}function c(t){this.removePlotBandOrLine(t)}function d(t){const i=this.plotLinesAndBands,s=this.options,a=this.userOptions;if(i){let o=i.length;for(;o--;)i[o].id===t&&i[o].destroy();[s.plotLines||[],a.plotLines||[],s.plotBands||[],a.plotBands||[]].forEach((function(i){for(o=i.length;o--;)(i[o]||{}).id===t&&e(i,i[o])}))}}function h(t){this.removePlotBandOrLine(t)}const u=[];let p;a.compose=function(e,s){return p||(p=e),t.pushUnique(u,s)&&i(s.prototype,{addPlotBand:o,addPlotLine:n,addPlotBandOrLine:r,getPlotBandPath:l,removePlotBand:c,removePlotLine:h,removePlotBandOrLine:d}),s}}(a||(a={})),a})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],(function(t,e){const{arrayMax:i,arrayMin:s,defined:a,destroyObjectProperties:o,erase:r,fireEvent:n,merge:l,objectEach:c,pick:d}=e;class h{static compose(e){return t.compose(h,e)}constructor(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}render(){n(this,"render");const t=this,e=t.axis,i=e.horiz;var s=e.logarithmic;const o=t.options,r=o.color,h=d(o.zIndex,0),u=o.events,p={},m=e.chart.renderer;let f=o.label,g=t.label,v=o.to,y=o.from,b=o.value,x=t.svgElem;var w=[];const k=a(y)&&a(v);w=a(b);const C=!x,S={class:"highcharts-plot-"+(k?"band ":"line ")+(o.className||"")};let A=k?"bands":"lines";if(s&&(y=s.log2lin(y),v=s.log2lin(v),b=s.log2lin(b)),e.chart.styledMode||(w?(S.stroke=r||"#999999",S["stroke-width"]=d(o.width,1),o.dashStyle&&(S.dashstyle=o.dashStyle)):k&&(S.fill=r||"#e6e9ff",o.borderWidth&&(S.stroke=o.borderColor,S["stroke-width"]=o.borderWidth))),p.zIndex=h,A+="-"+h,(s=e.plotLinesAndBandsGroups[A])||(e.plotLinesAndBandsGroups[A]=s=m.g("plot-"+A).attr(p).add()),C&&(t.svgElem=x=m.path().attr(S).add(s)),w)w=e.getPlotLinePath({value:b,lineWidth:x.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!k)return;w=e.getPlotBandPath(y,v,o)}return!t.eventsAdded&&u&&(c(u,(function(e,i){x.on(i,(function(e){u[i].apply(t,[e])}))})),t.eventsAdded=!0),(C||!x.d)&&w&&w.length?x.attr({d:w}):x&&(w?(x.show(),x.animate({d:w})):x.d&&(x.hide(),g&&(t.label=g=g.destroy()))),f&&(a(f.text)||a(f.formatter))&&w&&w.length&&0<e.width&&0<e.height&&!w.isFlat?(f=l({align:i&&k&&"center",x:i?!k&&4:10,verticalAlign:!i&&k&&"middle",y:i?k?16:10:k?6:-4,rotation:i&&!k&&90},f),this.renderLabel(f,w,k,h)):g&&g.hide(),t}renderLabel(t,e,a,o){const r=this.axis;var n=r.chart.renderer;let c=this.label;c||(this.label=c=n.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||""),zIndex:o}).add(),r.chart.styledMode||c.css(l({fontSize:"0.8em",textOverflow:"ellipsis"},t.style))),o=e.xBounds||[e[0][1],e[1][1],a?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],a?e[2][2]:e[0][2]],a=s(o),n=s(e),c.align(t,!1,{x:a,y:n,width:i(o)-a,height:i(e)-n}),c.alignValue&&"left"!==c.alignValue||(t=t.clip?r.width:r.chart.chartWidth,c.css({width:(90===c.rotation?r.height-(c.alignAttr.y-r.top):t-(c.alignAttr.x-r.left))+"px"})),c.show(!0)}getLabelText(t){return a(t.formatter)?t.formatter.call(this):t.text}destroy(){r(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}}return h})),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{format:o}=t,{doc:r}=e,{distribute:n}=i,{addEvent:l,clamp:c,css:d,discardElement:h,extend:u,fireEvent:p,isArray:m,isNumber:f,isString:g,merge:v,pick:y,splat:b,syncTimeout:x}=a;class w{constructor(t,e){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}bodyFormatter(t){return t.map((function(t){const e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(t){this.chart.series.forEach((function(e){const i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))}defaultFormatter(t){const e=this.points||b(this);let i;return i=[t.tooltipFooterHeaderFormatter(e[0])],i=i.concat(t.bodyFormatter(e)),i.push(t.tooltipFooterHeaderFormatter(e[0],!0)),i}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),h(this.container)),a.clearTimeout(this.hideTimer),a.clearTimeout(this.tooltipTimeout)}getAnchor(t,e){var i=this.chart;const s=i.pointer,a=i.inverted,o=i.plotTop;if(i=i.plotLeft,t=b(t),t[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)"undefined"===typeof e.chartX&&(e=s.normalize(e)),t=[e.chartX-i,e.chartY-o];else if(t[0].tooltipPos)t=t[0].tooltipPos;else{let s=0,r=0;t.forEach((function(t){(t=t.pos(!0))&&(s+=t[0],r+=t[1])})),s/=t.length,r/=t.length,this.shared&&1<t.length&&e&&(a?s=e.chartX:r=e.chartY),t=[s-i,r-o]}return t.map(Math.round)}getClassName(t,e,i){const s=t.series,a=s.options;return[this.options.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+y(t.colorIndex,s.colorIndex),a&&a.className].filter(g).join(" ")}getLabel(){const t=this,i=this.chart.styledMode,a=this.options,o=this.split&&this.allowShared,r=a.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let n,l=this.chart.renderer;if(this.label){var c=!this.label.hasClass("highcharts-label");(!o&&c||o&&!c)&&this.destroy()}if(!this.label){if(this.outside){c=this.chart.options.chart.style;const t=s.getRendererType();this.container=n=e.doc.createElement("div"),n.className="highcharts-tooltip-container",d(n,{position:"absolute",top:"1px",pointerEvents:r,zIndex:Math.max(this.options.style.zIndex||0,(c&&c.zIndex||0)+3)}),e.doc.body.appendChild(n),this.renderer=l=new t(n,0,0,c,void 0,void 0,l.styledMode)}if(o?this.label=l.g("tooltip"):(this.label=l.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,"tooltip").attr({padding:a.padding,r:a.borderRadius}),i||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth||0}).css(a.style).css({pointerEvents:r})),t.outside){const e=this.label,{xSetter:i,ySetter:s}=e;e.xSetter=function(s){i.call(e,t.distance),n.style.left=s+"px"},e.ySetter=function(i){s.call(e,t.distance),n.style.top=i+"px"}}this.label.attr({zIndex:8}).shadow(a.shadow).add()}return this.label}getPlayingField(){const{body:t,documentElement:e}=r,{chart:i,distance:s,outside:a}=this;return{width:a?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*s:i.chartWidth,height:a?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){const s=this.chart,a=this.distance,o={},r=s.inverted&&i.h||0,n=this.outside;var l=this.getPlayingField();const c=l.width,d=l.height,h=s.pointer.getChartPosition();l=o=>{const r="x"===o;return[o,r?c:d,r?t:e].concat(n?[r?t*h.scaleX:e*h.scaleY,r?h.left-a+(i.plotX+s.plotLeft)*h.scaleX:h.top-a+(i.plotY+s.plotTop)*h.scaleY,0,r?c:d]:[r?t:e,r?i.plotX+s.plotLeft:i.plotY+s.plotTop,r?s.plotLeft:s.plotTop,r?s.plotLeft+s.plotWidth:s.plotTop+s.plotHeight])};let u,p=l("y"),m=l("x");l=!!i.negative,!s.polar&&s.hoverSeries&&s.hoverSeries.yAxis&&s.hoverSeries.yAxis.reversed&&(l=!l);const f=!this.followPointer&&y(i.ttBelow,!s.inverted===l),g=function(t,e,i,s,l,c,d){const u=n?"y"===t?a*h.scaleY:a*h.scaleX:a,p=(i-s)/2,m=s<l-a,g=l+a+s<e,v=l-u-i+p;if(l=l+u-p,f&&g)o[t]=l;else if(!f&&m)o[t]=v;else if(m)o[t]=Math.min(d-s,0>v-r?v:v-r);else{if(!g)return!1;o[t]=Math.max(c,l+r+i>e?l:l+r)}},v=function(t,e,i,s,r){let n;return r<a||r>e-a?n=!1:o[t]=r<i/2?1:r>e-s/2?e-s-2:r-i/2,n},b=function(t){const e=p;p=m,m=e,u=t},x=function(){!1!==g.apply(0,p)?!1!==v.apply(0,m)||u||(b(!0),x()):u?o.x=o.y=0:(b(!0),x())};return(s.inverted||1<this.len)&&b(),x(),o}hide(t){const e=this;a.clearTimeout(this.hideTimer),t=y(t,this.options.hideDelay),this.isHidden||(this.hideTimer=x((function(){e.getLabel().fadeOut(t?void 0:t),e.isHidden=!0}),t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=y(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.chart.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,s){const o=this,r=o.now,n=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-r.x)||1<Math.abs(e-r.y)),l=o.followPointer||1<o.len;u(r,{x:n?(2*r.x+t)/3:t,y:n?(r.y+e)/2:e,anchorX:l?void 0:n?(2*r.anchorX+i)/3:i,anchorY:l?void 0:n?(r.anchorY+s)/2:s}),o.getLabel().attr(r),o.drawTracker(),n&&(a.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(t,e,i,s)}),32))}refresh(t,e){const i=this.chart,s=this.options,o=i.pointer,r=b(t),n=r[0],l=[];var c=s.formatter||this.defaultFormatter,d=this.shared;const h=i.styledMode;let u={};if(s.enabled&&n.series){a.clearTimeout(this.hideTimer),this.allowShared=!(!m(t)&&t.series&&t.series.noSharedTooltip),this.followPointer=!this.split&&n.series.tooltipOptions.followPointer,t=this.getAnchor(t,e);var f=t[0],g=t[1];if(d&&this.allowShared?(o.applyInactiveState(r),r.forEach((function(t){t.setState("hover"),l.push(t.getLabelConfig())})),u={x:n.category,y:n.y},u.points=l):u=n.getLabelConfig(),this.len=l.length,c=c.call(u,this),d=n.series,this.distance=y(d.tooltipOptions.distance,16),!1===c)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(c,r);else{let a=f,l=g;if(e&&o.isDirectTouch&&(a=e.chartX-i.plotLeft,l=e.chartY-i.plotTop),!i.polar&&!1!==d.options.clip&&!r.some(t=>o.isDirectTouch||t.series.shouldShowTooltip(a,l)))return void this.hide();e=this.getLabel(),s.style.width&&!h||e.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),e.attr({text:c&&c.join?c.join(""):c}),e.addClass(this.getClassName(n),!0),h||e.attr({stroke:s.borderColor||n.color||d.color||"#666666"}),this.updatePosition({plotX:f,plotY:g,negative:n.negative,ttBelow:n.ttBelow,h:t[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}p(this,"refresh")}}renderSplit(t,e){function i(t,e,i,a,o=!0){return i?(e=L?0:D,t=c(t-a/2,A.left,A.right-a-(s.outside?P:0))):(e-=M,t=o?t-a-k:t+k,t=c(t,o?t:A.left,A.right)),{x:t,y:e}}const s=this,{chart:a,chart:{chartWidth:o,chartHeight:l,plotHeight:d,plotLeft:h,plotTop:p,pointer:m,scrollablePixelsY:f=0,scrollablePixelsX:v,scrollingContainer:{scrollLeft:b,scrollTop:x}={scrollLeft:0,scrollTop:0},styledMode:w},distance:k,options:C,options:{positioner:S}}=s,A=s.outside&&"number"!==typeof v?r.documentElement.getBoundingClientRect():{left:b,right:b+o,top:x,bottom:x+l},I=s.getLabel(),T=this.renderer||a.renderer,L=!(!a.xAxis[0]||!a.xAxis[0].opposite),{left:P,top:_}=m.getChartPosition();let M=p+x,F=0,D=d-f;g(t)&&(t=[!1,t]),t=t.slice(0,e.length+1).reduce((function(t,a,o){if(!1!==a&&""!==a){o=e[o-1]||{isHeader:!0,plotX:e[0].plotX,plotY:d,series:{}};const f=o.isHeader;var r,n=f?s:o.series;{var l=o;a=a.toString();var u=n.tt;const{isHeader:t,series:e}=l;u||(u={padding:C.padding,r:C.borderRadius},w||(u.fill=C.backgroundColor,u["stroke-width"]=null!==(r=C.borderWidth)&&void 0!==r?r:1),u=T.label("",0,0,C[t?"headerShape":"shape"],void 0,void 0,C.useHTML).addClass(s.getClassName(l,!0,t)).attr(u).add(I)),u.isActive=!0,u.attr({text:a}),w||u.css(C.style).attr({stroke:C.borderColor||l.color||e.color||"#333333"}),r=u}r=n.tt=r,l=r.getBBox(),n=l.width+r.strokeWidth(),f&&(F=l.height,D+=F,L&&(M-=F));{const{isHeader:t,plotX:e=0,plotY:i=0,series:s}=o;if(t){a=h+e;var m=p+d/2}else{const{xAxis:t,yAxis:o}=s;a=t.pos+c(e,-k,t.len+k),s.shouldShowTooltip(0,o.pos-p+i,{ignoreX:!0})&&(m=o.pos+i)}a=c(a,A.left-k,A.right+k),m={anchorX:a,anchorY:m}}const{anchorX:g,anchorY:v}=m;"number"===typeof v?(m=l.height+1,l=S?S.call(s,n,m,o):i(g,v,f,n),t.push({align:S?0:void 0,anchorX:g,anchorY:v,boxWidth:n,point:o,rank:y(l.rank,f?1:0),size:m,target:l.y,tt:r,x:l.x})):r.isActive=!1}return t}),[]),!S&&t.some(t=>{var{outside:e}=s;return e=(e?P:0)+t.anchorX,e<A.left&&e+t.boxWidth<A.right||e<P-A.left+t.boxWidth&&A.right-e>e})&&(t=t.map(t=>{const{x:e,y:s}=i(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return u(t,{target:s,x:e})})),s.cleanSplit(),n(t,D);var B=P,O=P;t.forEach((function(t){const{x:e,boxWidth:i,isHeader:a}=t;a||(s.outside&&P+e<B&&(B=P+e),!a&&s.outside&&B+i>O&&(O=P+e))})),t.forEach((function(t){const{x:e,anchorX:i,anchorY:a,pos:o,point:{isHeader:r}}=t,n={visibility:"undefined"===typeof o?"hidden":"inherit",x:e,y:(o||0)+M,anchorX:i,anchorY:a};if(s.outside&&e<i){const t=P-B;0<t&&(r||(n.x=e+t,n.anchorX=i+t),r&&(n.x=(O-B)/2,n.anchorX=i+t))}t.tt.attr(n)}));const{container:E,outside:N,renderer:$}=s;if(N&&E&&$){const{width:t,height:e,x:i,y:s}=I.getBBox();$.setSize(t+i,e+s,!1),E.style.left=B+"px",E.style.top=_+"px"}}drawTracker(){if(this.shouldStickOnContact()){var t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(e&&i){var s={x:0,y:0,width:0,height:0};i=this.getAnchor(i);var a=e.getBBox();i[0]+=t.plotLeft-e.translateX,i[1]+=t.plotTop-e.translateY,s.x=Math.min(0,i[0]),s.y=Math.min(0,i[1]),s.width=0>i[0]?Math.max(Math.abs(i[0]),a.width-i[0]):Math.max(Math.abs(i[0]),a.width),s.height=0>i[1]?Math.max(Math.abs(i[1]),a.height-Math.abs(i[1])):Math.max(Math.abs(i[1]),a.height),this.tracker?this.tracker.attr(s):(this.tracker=e.renderer.rect(s).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(t,e){const i=t.series,s=i.tooltipOptions;var a=i.xAxis;const r=a&&a.dateTime;a={isFooter:e,labelConfig:t};let n=s.xDateFormat,l=s[e?"footerFormat":"headerFormat"];return p(this,"headerFormatter",a,(function(e){r&&!n&&f(t.key)&&(n=r.getXDateFormat(t.key,s.dateTimeLabelFormats)),r&&n&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){l=l.replace("{point."+t+"}","{point."+t+":"+n+"}")})),i.chart.styledMode&&(l=this.styledModeFormat(l)),e.text=o(l,{point:t,series:i},this.chart)})),a.text}update(t){this.destroy(),v(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,v(!0,this.options,t))}updatePosition(t){const{chart:e,distance:i,options:s}=this;var a=e.pointer;const o=this.getLabel(),{left:r,top:n,scaleX:l,scaleY:c}=a.getChartPosition();a=(s.positioner||this.getPosition).call(this,o.width,o.height,t);let h,u=(t.plotX||0)+e.plotLeft;t=(t.plotY||0)+e.plotTop,this.outside&&(s.positioner&&(a.x+=r-i,a.y+=n-i),h=(s.borderWidth||0)+2*i,this.renderer.setSize(o.width+h,o.height+h,!1),1===l&&1===c||(d(this.container,{transform:`scale(${l}, ${c})`}),u*=l,t*=c),u+=r-a.x,t+=n-a.y),this.move(Math.round(a.x),Math.round(a.y||0),u,t)}}return function(t){const e=[];t.compose=function(i){a.pushUnique(e,i)&&l(i,"afterInit",(function(){const e=this.chart;e.options.tooltip&&(e.tooltip=new t(e,e.options.tooltip))}))}}(w||(w={})),w})),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{animObject:o}=e,{defaultOptions:r}=i,{format:n}=s,{addEvent:l,defined:c,erase:d,extend:h,fireEvent:u,getNestedProperty:p,isArray:m,isFunction:f,isNumber:g,isObject:v,merge:y,objectEach:b,pick:x,syncTimeout:w,removeEvent:k,uniqueKey:C}=a;class S{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach((function(i){t[i]=t[i].animate("dataLabel"===i?{x:t[i].startXPos,y:t[i].startYPos,opacity:0}:e)})),i.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(h({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))}applyOptions(t,e){const i=this.series,s=i.options.pointValKey||i.pointValKey;return t=S.prototype.optionsToObject.call(this,t),h(this,t),this.options=this.options?h(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,s&&(this.y=S.prototype.getNestedProperty.call(this,s)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),"undefined"===typeof this.x&&i?this.x="undefined"===typeof e?i.autoIncrement():e:g(t.x)&&i.options.relativeXValue&&(this.x=i.autoIncrement(t.x)),this}destroy(){if(!this.destroyed){const e=this;var t=e.series;const i=t.chart;t=t.options.dataSorting;const s=i.hoverPoints,a=o(e.series.chart.renderer.globalAnimation),r=()=>{(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(k(e),e.destroyElements());for(const t in e)delete e[t]};e.legendItem&&i.legend.destroyItem(e),s&&(e.setState(),d(s,e),s.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),t&&t.enabled?(this.animateBeforeDestroy(),w(r,a.duration)):r(),i.pointCount--}this.destroyed=!0}destroyElements(t){const e=this;t=e.getGraphicalProps(t),t.singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t&&t.element&&t.destroy()})),delete e[t]}))}firePointEvent(t,e,i){const s=this,a=this.series.options;(a.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&s.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){s.select&&s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),u(s,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){const e=this,i=[],s={singular:[],plural:[]};let a,o;for(t=t||{graphic:1,dataLabel:1},t.graphic&&i.push("graphic"),t.dataLabel&&i.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),o=i.length;o--;)a=i[o],e[a]&&s.singular.push(a);return["graphic","dataLabel","connector"].forEach((function(i){const a=i+"s";t[i]&&e[a]&&s.plural.push(a)})),s}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?p(t,this.options):this[t]}getZone(){var t=this.series;const e=t.zones;t=t.zoneAxis||"y";let i,s=0;for(i=e[s];this[t]>=i.value;)i=e[++s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=c(this.id)?this.id:C(),this.resolveColor(),t.chart.pointCount++,u(this,"afterInit"),this}isValid(){return null!==this.x&&g(this.y)}optionsToObject(t){var e=this.series;const i=e.options.keys,s=i||e.pointArrayMap||["y"],a=s.length;let o={},r=0,n=0;if(g(t)||null===t)o[s[0]]=t;else if(m(t))for(!i&&t.length>a&&(e=typeof t[0],"string"===e?o.name=t[0]:"number"===e&&(o.x=t[0]),r++);n<a;)i&&"undefined"===typeof t[r]||(0<s[n].indexOf(".")?S.prototype.setNestedProperty(o,t[r],s[n]):o[s[n]]=t[r]),r++,n++;else"object"===typeof t&&(o=t,t.dataLabels&&(e._hasPointLabels=!0),t.marker&&(e._hasPointMarkers=!0));return o}pos(t,e=this.plotY){if(!this.destroyed){const{plotX:i,series:s}=this,{chart:a,xAxis:o,yAxis:r}=s;let n=0,l=0;if(g(i)&&g(e))return t&&(n=o?o.pos:a.plotLeft,l=r?r.pos:a.plotTop),a.inverted&&o&&r?[r.len-e+l,o.len-i+n]:[i+n,e+l]}}resolveColor(){const t=this.series;var e=t.chart.styledMode;let i;var s=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(e||(s=t.options.colors||t.chart.options.colors,i=s[t.colorCounter],s=s.length),e=t.colorCounter,t.colorCounter++,t.colorCounter===s&&(t.colorCounter=0)):(e||(i=t.color),e=t.colorIndex),this.colorIndex=x(this.options.colorIndex,e),this.color=x(this.options.color,i)}setNestedProperty(t,e,i){return i.split(".").reduce((function(t,i,s,a){return t[i]=a.length-1===s?e:v(t[i],!0)?t[i]:{},t[i]}),t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){const e=this.series,i=e.tooltipOptions,s=x(i.valueDecimals,""),a=i.valuePrefix||"",o=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(a||o)&&(t=t.replace(RegExp(e+"}","g"),a+e+"}"+o)),t=t.replace(RegExp(e+"}","g"),e+":,."+s+"f}")})),n(t,{point:this,series:this.series},e.chart)}update(t,e,i,s){function a(){o.applyOptions(t);var s=n&&o.hasMockGraphic;s=null===o.y?!s:s,n&&s&&(o.graphic=n.destroy(),delete o.hasMockGraphic),v(t,!0)&&(n&&n.element&&t&&t.marker&&"undefined"!==typeof t.marker.symbol&&(o.graphic=n.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),d=o.index,r.updateParallelArrays(o,d),c.data[d]=v(c.data[d],!0)||v(t,!0)?o.options:x(t,c.data[d]),r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}const o=this,r=o.series,n=o.graphic,l=r.chart,c=r.options;let d;e=x(e,!0),!1===s?a():o.firePointEvent("update",{options:t},a)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){const i=this,s=i.series,a=s.chart;this.selectedStaging=t=x(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,s.options.data[s.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||a.getSelectedPoints().forEach((function(t){const e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(a.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(t){const e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)}onMouseOut(){const t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const t=this,e=y(t.series.options.point,t.options).events;t.events=e,b(e,(function(e,i){f(e)&&l(t,i,e)})),this.hasImportedEvents=!0}}setState(e,i){const s=this.series;var a=this.state,o=s.options.states[e||"normal"]||{},n=r.plotOptions[s.type].marker&&s.options.marker;const l=n&&!1===n.enabled,c=n&&n.states&&n.states[e||"normal"]||{},d=!1===c.enabled,p=this.marker||{},m=s.chart,f=n&&s.markerAttribs;let v=s.halo;var y;let b;var w=s.stateMarkerGraphic;if(e=e||"",!(e===this.state&&!i||this.selected&&"select"!==e||!1===o.enabled||e&&(d||l&&!1===c.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled)){if(this.state=e,f&&(y=s.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(a&&this.graphic.removeClass("highcharts-point-"+a),e&&this.graphic.addClass("highcharts-point-"+e),!m.styledMode){a=s.pointAttribs(this,e),b=x(m.options.chart.animation,o.animation);const t=a.opacity;s.options.inactiveOtherPoints&&g(t)&&((this.dataLabels||[]).forEach((function(e){e&&!e.hasClass("highcharts-data-label-hidden")&&e.animate({opacity:t},b)})),this.connector&&this.connector.animate({opacity:t},b)),this.graphic.animate(a,b)}y&&this.graphic.animate(y,x(m.options.chart.animation,c.animation,n.animation)),w&&w.hide()}else e&&c&&(n=p.symbol||s.symbol,w&&w.currentSymbol!==n&&(w=w.destroy()),y&&(w?w[i?"animate":"attr"]({x:y.x,y:y.y}):n&&(s.stateMarkerGraphic=w=m.renderer.symbol(n,y.x,y.y,y.width,y.height).add(s.markerGroup),w.currentSymbol=n)),!m.styledMode&&w&&"inactive"!==this.state&&w.attr(s.pointAttribs(this,e))),w&&(w[e&&this.isInside?"show":"hide"](),w.element.point=this,w.addClass(this.getClassName(),!0));o=o.halo,y=(w=this.graphic||w)&&w.visibility||"inherit",o&&o.size&&w&&"hidden"!==y&&!this.isCluster?(v||(s.halo=v=m.renderer.path().add(w.parentGroup)),v.show()[i?"animate":"attr"]({d:this.haloPath(o.size)}),v.attr({class:"highcharts-halo highcharts-color-"+x(this.colorIndex,s.colorIndex)+(this.className?" "+this.className:""),visibility:y,zIndex:-1}),v.point=this,m.styledMode||v.attr(h({fill:this.color||s.color,"fill-opacity":o.opacity},t.filterUserAttributes(o.attributes||{})))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),u(this,"afterSetState",{state:e})}}haloPath(t){const e=this.pos();return e?this.series.chart.renderer.symbols.circle(Math.floor(e[0])-t,e[1]-t,2*t,2*t):[]}}return S})),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:s}=t,{charts:a,noop:o}=e,{addEvent:r,attr:n,css:l,defined:c,extend:d,find:h,fireEvent:u,isNumber:p,isObject:m,objectEach:f,offset:g,pick:v,splat:y}=i;class b{constructor(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}applyInactiveState(t){let e,i=[];(t||[]).forEach((function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))}destroy(){const t=this;this.eventsToUnbind.forEach(t=>t()),this.eventsToUnbind=[],e.chartCount||(b.unbindDocumentMouseUp&&(b.unbindDocumentMouseUp=b.unbindDocumentMouseUp()),b.unbindDocumentTouchEnd&&(b.unbindDocumentTouchEnd=b.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),f(t,(function(e,i){t[i]=void 0}))}getSelectionMarkerAttrs(t,e){const i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return u(this,"getSelectionMarkerAttrs",i,i=>{const{chart:s,mouseDownX:a=0,mouseDownY:o=0,zoomHor:r,zoomVert:n}=this;let l;i=i.attrs,i.x=s.plotLeft,i.y=s.plotTop,i.width=r?1:s.plotWidth,i.height=n?1:s.plotHeight,r&&(l=t-a,i.width=Math.abs(l),i.x=(0<l?0:l)+a),n&&(l=e-o,i.height=Math.abs(l),i.y=(0<l?0:l)+o)}),i}drag(t){const e=this.chart,i=e.options.chart;var a=e.plotLeft;const o=e.plotTop,r=e.plotWidth,n=e.plotHeight,l=this.mouseDownX||0,c=this.mouseDownY||0,d=m(i.panning)?i.panning&&i.panning.enabled:i.panning,h=i.panKey&&t[i.panKey+"Key"];let u=t.chartX,p=t.chartY,f=this.selectionMarker;if((!f||!f.touch)&&(u<a?u=a:u>a+r&&(u=a+r),p<o?p=o:p>o+n&&(p=o+n),this.hasDragged=Math.sqrt(Math.pow(l-u,2)+Math.pow(c-p,2)),10<this.hasDragged)){a=e.isInsidePlot(l-a,c-o,{visiblePlotOnly:!0});const{shapeType:r,attrs:n}=this.getSelectionMarkerAttrs(u,p);!e.hasCartesianSeries&&!e.mapView||!this.zoomX&&!this.zoomY||!a||h||f||(this.selectionMarker=f=e.renderer[r](),f.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||f.attr({fill:i.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),f&&f.attr(n),a&&!f&&d&&e.pan(t,i.panning)}}dragStart(t){const e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY}getSelectionBox(t){const e={args:{marker:t},result:{}};return u(this,"getSelectionBox",e,e=>{e.result={x:t.attr?+t.attr("x"):t.x,y:t.attr?+t.attr("y"):t.y,width:t.attr?t.attr("width"):t.width,height:t.attr?t.attr("height"):t.height}}),e.result}drop(t){const e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){const{x:a,y:o,width:r,height:n}=this.getSelectionBox(this.selectionMarker),l={originalEvent:t,xAxis:[],yAxis:[],x:a,y:o,width:r,height:n};let h=!!i.mapView;(this.hasDragged||s)&&(i.axes.forEach((function(i){if(i.zoomEnabled&&c(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])&&p(a)&&p(o)&&p(r)&&p(n)){var d=i.horiz;const e="touchend"===t.type?i.minPixelPadding:0,s=i.toValue((d?a:o)+e);d=i.toValue((d?a+r:o+n)-e),l[i.coll].push({axis:i,min:Math.min(s,d),max:Math.max(s,d)}),h=!0}})),h&&u(i,"selection",l,(function(t){i.zoom(d(t,s?{animation:!1}:null))}))),p(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&p(i.index)&&(l(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(t,e,i){let s;return t.forEach((function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,a),(a=m(t,!0)&&t.series)&&!(a=!m(s,!0))){{a=s.distX-t.distX;const i=s.dist-t.dist,o=(t.series.group&&t.series.group.zIndex)-(s.series.group&&s.series.group.zIndex);a=0!==a&&e?a:0!==i?i:0!==o?o:s.series.index>t.series.index?-1:1}a=0<a}a&&(s=t)})),s}getChartCoordinatesFromPoint(t,e){var i=t.series;const s=i.xAxis;i=i.yAxis;const a=t.shapeArgs;if(s&&i){let o=v(t.clientX,t.plotX),r=t.plotY||0;return t.isNode&&a&&p(a.x)&&p(a.y)&&(o=a.x,r=a.y),e?{chartX:i.len+i.pos-r,chartY:s.len+s.pos-o}:{chartX:o+s.pos,chartY:r+i.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:t}=this.chart;const e=g(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};const i=t.offsetWidth;return t=t.offsetHeight,2<i&&2<t&&(this.chartPosition.scaleX=e.width/i,this.chartPosition.scaleY=e.height/t),this.chartPosition}getCoordinates(t){const e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e}getHoverData(t,e,i,s,a,o){const r=[];s=!(!s||!t);const n=function(t){return t.visible&&!(!a&&t.directTouch)&&v(t.options.enableMouseTracking,!0)};let l,c={chartX:o?o.chartX:void 0,chartY:o?o.chartY:void 0,shared:a};u(this,"beforeGetHoverData",c),l=e&&!e.stickyTracking?[e]:i.filter(t=>t.stickyTracking&&(c.filter||n)(t));const d=s||!o?t:this.findNearestKDPoint(l,a,o);return e=d&&d.series,d&&(a&&!e.noSharedTooltip?(l=i.filter((function(t){return c.filter?c.filter(t):n(t)&&!t.noSharedTooltip})),l.forEach((function(t){let e=h(t.points,(function(t){return t.x===d.x&&!t.isNull}));m(e)&&(t.boosted&&t.boost&&(e=t.boost.getPoint(e)),r.push(e))}))):r.push(d)),c={hoverPoint:d},u(this,"afterGetHoverData",c),{hoverPoint:c.hoverPoint,hoverSeries:e,hoverPoints:r}}getPointFromEvent(t){let e;for(t=t.target;t&&!e;)e=t.point,t=t.parentNode;return e}onTrackerMouseOut(t){t=t.relatedTarget;const e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()}inClass(t,e){let i;for(;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentElement}}init(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),u(this,"afterInit")}normalize(t,e){var i=t.touches,s=i?i.length?i.item(0):v(i.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),i=s.pageX-e.left,s=s.pageY-e.top,i/=e.scaleX,s/=e.scaleY,d(t,{chartX:Math.round(i),chartY:Math.round(s)})}onContainerClick(t){const e=this.chart,i=e.hoverPoint;t=this.normalize(t);const s=e.plotLeft,a=e.plotTop;e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(u(i.series,"click",d(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(d(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-s,t.chartY-a,{visiblePlotOnly:!0})&&u(e,"click",t)))}onContainerMouseDown(t){const i=1===(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),("undefined"===typeof t.button||i)&&(this.zoomOption(t),i&&t.preventDefault&&t.preventDefault(),this.dragStart(t))}onContainerMouseLeave(t){const e=a[v(b.hoverChartIndex,-1)];t=this.normalize(t),e&&t.relatedTarget&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.pointer.reset(),e.pointer.chartPosition=void 0)}onContainerMouseEnter(t){delete this.chartPosition}onContainerMouseMove(t){const e=this.chart,i=e.tooltip;t=this.normalize(t),this.setHoverChartIndex(),("mousedown"===e.mouseIsDown||this.touchSelect(t))&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||(this.inClass(t.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(t))}onDocumentTouchEnd(t){const e=a[v(b.hoverChartIndex,-1)];e&&e.pointer.drop(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){const e=this.chart,i=e.tooltip,s=this.chartPosition;t=this.normalize(t,s),!s||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||this.inClass(t.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){const e=a[v(b.hoverChartIndex,-1)];e&&e.pointer.drop(t)}pinch(t){const e=this,i=e.chart,s=e.pinchDown,a=t.touches||[],r=a.length,n=e.lastValidTouch,l=e.hasZoom,c={},h=1===r&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};var m=e.chart.tooltip;m=1===r&&v(m&&m.options.followTouchMove,!0);let f=e.selectionMarker;1<r?e.initiated=!0:m&&(e.initiated=!1),l&&e.initiated&&!h&&!1!==t.cancelable&&t.preventDefault(),[].map.call(a,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(a,(function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}})),n.x=[s[0].chartX,s[1]&&s[1].chartX],n.y=[s[0].chartY,s[1]&&s[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){const e=i.bounds[t.horiz?"h":"v"],s=t.minPixelPadding,a=t.toPixels(Math.min(v(t.options.min,t.dataMin),t.dataMin)),o=t.toPixels(Math.max(v(t.options.max,t.dataMax),t.dataMax)),r=Math.max(a,o);e.min=Math.min(t.pos,Math.min(a,o)-s),e.max=Math.max(t.pos+t.len,r+s)}})),e.res=!0):m?this.runPointActions(e.normalize(t)):s.length&&(u(i,"touchpan",{originalEvent:t},()=>{f||(e.selectionMarker=f=d({destroy:o,touch:!0},i.plotBox)),e.pinchTranslate(s,a,c,f,p,n),e.hasPinched=l,e.scaleGroups(c,p)}),e.res&&(e.res=!1,this.reset(!1,0)))}pinchTranslate(t,e,i,s,a,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,s,a,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,s,a,o)}pinchTranslateDirection(t,e,i,s,a,o,r,n){const l=this.chart,c=t?"x":"y",d=t?"X":"Y",h="chart"+d,u=t?"width":"height",p=l["plot"+(t?"Left":"Top")],m=l.inverted,f=l.bounds[t?"h":"v"],g=1===e.length,v=e[0][h],y=!g&&e[1][h];e=function(){"number"===typeof S&&20<Math.abs(v-y)&&(k=n||Math.abs(C-S)/Math.abs(v-y)),x=(p-C)/k+v,b=l["plot"+(t?"Width":"Height")]/k};let b,x,w,k=n||1,C=i[0][h],S=!g&&i[1][h];e(),i=x,i<f.min?(i=f.min,w=!0):i+b>f.max&&(i=f.max-b,w=!0),w?(C-=.8*(C-r[c][0]),"number"===typeof S&&(S-=.8*(S-r[c][1])),e()):r[c]=[C,S],m||(o[c]=x-p,o[u]=b),o=m?1/k:k,a[u]=b,a[c]=i,s[m?t?"scaleY":"scaleX":"scale"+d]=k,s["translate"+d]=o*p+(C-o*v)}reset(t,e){const i=this.chart,s=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,r=i.tooltip,n=r&&r.shared?o:a;t&&n&&y(n).forEach((function(e){e.series.isCartesian&&"undefined"===typeof e.plotX&&(t=!1)})),t?r&&n&&y(n).length&&(r.refresh(n),r.shared&&o?o.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):a&&(a.setState(a.state,!0),i.axes.forEach((function(t){t.crosshair&&a.series[t.coll]===t&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),o&&o.forEach((function(t){t.setState()})),s&&s.onMouseOut(),r&&r.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)}runPointActions(t,e,i){const s=this.chart,o=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,n=!!o&&o.shared;let l=e||s.hoverPoint,c=l&&l.series||s.hoverSeries;e=this.getHoverData(l,c,s.series,(!t||"touchmove"!==t.type)&&(!!e||c&&c.directTouch&&this.isDirectTouch),n,t),l=e.hoverPoint,c=e.hoverSeries;const d=e.hoverPoints;e=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split;const u=n&&c&&!c.noSharedTooltip;if(l&&(i||l!==s.hoverPoint||o&&o.isHidden)){if((s.hoverPoints||[]).forEach((function(t){-1===d.indexOf(t)&&t.setState()})),s.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(d),(d||[]).forEach((function(t){t.setState("hover")})),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!l.series)return;s.hoverPoints=d,s.hoverPoint=l,l.firePointEvent("mouseOver",void 0,()=>{o&&l&&o.refresh(u?d:l,t)})}else e&&o&&!o.isHidden&&(i=o.getAnchor([{}],t),s.isInsidePlot(i[0],i[1],{visiblePlotOnly:!0})&&o.updatePosition({plotX:i[0],plotY:i[1]}));this.unDocMouseMove||(this.unDocMouseMove=r(s.container.ownerDocument,"mousemove",(function(t){const e=a[b.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),s.axes.forEach((function(e){const i=v((e.crosshair||{}).snap,!0);let a;i&&((a=s.hoverPoint)&&a.series[e.coll]===e||(a=h(d,t=>t.series&&t.series[e.coll]===e))),a||!i?e.drawCrosshair(t,a):e.hideCrosshair()}))}scaleGroups(t,e){const i=this.chart;i.series.forEach((function(s){const a=t||s.getPlotBox();s.group&&(s.xAxis&&s.xAxis.zoomEnabled||i.mapView)&&(s.group.attr(a),s.markerGroup&&(s.markerGroup.attr(a),s.markerGroup.clip(e?i.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(a))})),i.clipRect.attr(e||i.clipBox)}setDOMEvents(){const t=this.chart.container,i=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(r(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(r(t,"mouseleave",this.onContainerMouseLeave.bind(this))),b.unbindDocumentMouseUp||(b.unbindDocumentMouseUp=r(i,"mouseup",this.onDocumentMouseUp.bind(this)));let s=this.chart.renderTo.parentElement;for(;s&&"BODY"!==s.tagName;)this.eventsToUnbind.push(r(s,"scroll",()=>{delete this.chartPosition})),s=s.parentElement;e.hasTouch&&(this.eventsToUnbind.push(r(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(r(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),b.unbindDocumentTouchEnd||(b.unbindDocumentTouchEnd=r(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const t=this.chart,i=e.charts[v(b.hoverChartIndex,-1)];i&&i!==t&&i.pointer.onContainerMouseLeave({relatedTarget:t.container}),i&&i.mouseIsDown||(b.hoverChartIndex=t.index)}touch(t,e){const i=this.chart;let s,a;this.setHoverChartIndex(),1===t.touches.length?(t=this.normalize(t),(a=i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop,{visiblePlotOnly:!0}))&&!i.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(e=this.pinchDown,s=!!e[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),v(s,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.options.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){var e=this.chart,i=e.options.chart;e=e.inverted;let s=i.zooming.type||"";/touch/.test(t.type)&&(s=v(i.zooming.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i}}return function(t){const e=[],s=[];t.compose=function(e){i.pushUnique(s,e)&&r(e,"beforeRender",(function(){this.pointer=new t(this,this.options)}))},t.dissolve=function(){for(let t=0,i=e.length;t<i;++t)e[t]();e.length=0}}(b||(b={})),b})),e(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{animObject:r,setAnimation:n}=t,{format:l}=e,{marginNames:c}=i,{distribute:d}=a,{addEvent:h,createElement:u,css:p,defined:m,discardElement:f,find:g,fireEvent:v,isNumber:y,merge:b,pick:x,relativeLength:w,stableSort:k,syncTimeout:C}=o;class S{constructor(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}init(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),h(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),h(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(t){const e=x(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=b(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=x(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){const i=this.chart;this.setOptions(b(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,x(e,!0)&&i.redraw(),v(this,"afterUpdate")}colorizeItem(t,e){const{group:i,label:s,line:a,symbol:o}=t.legendItem||{};if(i&&i[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var r=this.options;const i=this.itemHiddenStyle.color;r=e?r.itemStyle.color:i;const n=e&&t.color||i,l=t.options&&t.options.marker;let c={fill:n};s&&s.css({fill:r}),a&&a.attr({stroke:n}),o&&(l&&o.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=i)),o.attr(c))}v(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){const{group:e,x:i=0,y:s=0}=t.legendItem||{};var a=this.options,o=a.symbolPadding;const r=!a.rtl;a=t.checkbox,e&&e.element&&(o={translateX:r?i:this.legendWidth-i-2*o-4,translateY:s},e[m(e.translateY)?"animate":"attr"](o,void 0,()=>{v(this,"afterPositionItem",{item:t})})),a&&(a.x=i,a.y=s)}destroyItem(t){const e=t.checkbox,i=t.legendItem||{};for(const s of["group","label","line","symbol"])i[s]&&(i[s]=i[s].destroy());e&&f(e),t.legendItem=void 0}destroy(){for(const t of this.getAllItems())this.destroyItem(t);for(const t of"clipRect up down pager nav box title group".split(" "))this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){const t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,i=this.titleHeight;let s;t&&(s=t.translateY,this.allItems.forEach((function(a){const o=a.checkbox;let r;o&&(r=s+i+o.y+(this.scrollOffset||0)+3,p(o,{left:t.translateX+a.checkboxOffset+o.x-20+"px",top:r+"px",display:this.proximate||r>s-6&&r<s+e-6?"":"none"}))}),this))}renderTitle(){var t=this.options;const e=this.padding,i=t.title;let s=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),t=this.title.getBBox(),s=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:s})),this.titleHeight=s}setText(t){const e=this.options;t.legendItem.label.attr({text:e.labelFormat?l(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){const e=t.legendItem=t.legendItem||{};var i=this.chart,s=i.renderer;const a=this.options,o=this.symbolWidth,r=a.symbolPadding||0,n=this.itemStyle,l=this.itemHiddenStyle,c="horizontal"===a.layout?x(a.itemDistance,20):0,d=!a.rtl,h=!t.series,u=!h&&t.series.drawLegendSymbol?t.series:t;var p=u.options;const m=this.createCheckboxForItem&&p&&p.showCheckbox,f=a.useHTML,g=t.options.className;let v=e.label;p=o+r+c+(m?20:0),v||(e.group=s.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+t.colorIndex+(g?" "+g:"")+(h?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=v=s.text("",d?o+r:-r,this.baseline||0,f),i.styledMode||v.css(b(t.visible?n:l)),v.attr({align:d?"left":"right",zIndex:2}).add(e.group),this.baseline||(this.fontMetrics=s.fontMetrics(v),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,v.attr("y",this.baseline),this.symbolHeight=x(a.symbolHeight,this.fontMetrics.f),a.squareSymbol&&(this.symbolWidth=x(a.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+r+c+(m?20:0),d&&v.attr("x",this.symbolWidth+r))),u.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,f)),m&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!i.styledMode&&n.width||v.css({width:(a.itemWidth||this.widthOption||i.spacingBox.width)-p+"px"}),this.setText(t),i=v.getBBox(),s=this.fontMetrics&&this.fontMetrics.h||0,t.itemWidth=t.checkboxOffset=a.itemWidth||e.labelWidth||i.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(i.height>1.5*s?i.height:s))}layoutItem(t){var e=this.options;const i=this.padding,s="horizontal"===e.layout,a=t.itemHeight,o=this.itemMarginBottom,r=this.itemMarginTop,n=s?x(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;const c=t.legendItem||{};s&&this.itemX-i+e>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=r+this.lastLineHeight+o),this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(a,this.lastLineHeight),c.x=this.itemX,c.y=this.itemY,s?this.itemX+=e:(this.itemY+=r+a+o,this.lastLineHeight=a),this.offsetWidth=this.widthOption||Math.max((s?this.itemX-i-(t.checkbox?0:n):e)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach((function(e){const i=e&&e.options;e&&x(i.showInLegend,!m(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||("point"===i.legendType?e.data:e)))})),v(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){const t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){const i=this.chart,s=this.options,a=this.getAlignment();a&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(o,r){o.test(a)&&!m(t[r])&&(i[c[r]]=Math.max(i[c[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*s[r%2?"x":"y"]+x(s.margin,12)+e[r]+(i.titleOffset[r]||0)))}))}proximatePositions(){const t=this.chart,e=[],i="left"===this.options.align;let s;this.allItems.forEach((function(s){var a,o=i;let r;s.yAxis&&(s.xAxis.options.reversed&&(o=!o),s.points&&(a=g(o?s.points:s.points.slice(0).reverse(),(function(t){return y(t.plotY)}))),o=this.itemMarginTop+s.legendItem.label.getBBox().height+this.itemMarginBottom,r=s.yAxis.top-t.plotTop,s.visible?(a=a?a.plotY:s.yAxis.height,a+=r-.3*o):a=r+s.yAxis.height,e.push({target:a,size:o,item:s}))}),this);for(const a of d(e,t.plotHeight))s=a.item.legendItem||{},y(a.pos)&&(s.y=t.plotTop-t.spacing[0]+a.pos)}render(){const t=this.chart,e=t.renderer,i=this.options,s=this.padding;var a=this.getAllItems();let o,r=this.group,n=this.box;this.itemX=s,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=w(i.width,t.spacingBox.width-s);var l=t.spacingBox.width-2*s-i.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(l/=2),this.maxLegendWidth=this.widthOption||l,r||(this.group=r=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(r),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),k(a,(t,e)=>(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)),i.reversed&&a.reverse(),this.allItems=a,this.display=l=!!a.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,a.forEach(this.renderItem,this),a.forEach(this.layoutItem,this),a=(this.widthOption||this.offsetWidth)+s,o=this.lastItemY+this.lastLineHeight+this.titleHeight,o=this.handleOverflow(o),o+=s,n||(this.box=n=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(r)),t.styledMode||n.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),0<a&&0<o&&n[n.placed?"animate":"attr"](n.crisp.call({},{x:0,y:0,width:a,height:o},n.strokeWidth())),r[l?"show":"hide"](),t.styledMode&&"none"===r.getStyle("display")&&(a=o=0),this.legendWidth=a,this.legendHeight=o,l&&this.align(),this.proximate||this.positionItems(),v(this,"afterRender")}align(t=this.chart.spacingBox){const e=this.chart,i=this.options;let s=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?s+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(s-=e.titleOffset[2]),s!==t.y&&(t=b(t,{y:s})),e.hasRendered||(this.group.placed=!1),this.group.align(b(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){const e=this,i=this.chart,s=i.renderer,a=this.options;var o=a.y;const r="top"===a.verticalAlign,n=this.padding,l=a.maxHeight,c=a.navigation,d=x(c.animation,!0),h=c.arrowSize||12,u=this.pages,p=this.allItems,m=function(t){"number"===typeof t?w.attr({height:t}):w&&(e.clipRect=w.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+n+"px,9999px,"+(n+t)+"px,0)":"auto")},f=function(t){return e[t]=s.circle(0,0,1.3*h).translate(h/2,h/2).add(b),i.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};let g,v,y;o=i.spacingBox.height+(r?-o:o)-n;let b=this.nav,w=this.clipRect;return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(o/=2),l&&(o=Math.min(o,l)),u.length=0,t&&0<o&&t>o&&!1!==c.enabled?(this.clipHeight=g=Math.max(o-20-this.titleHeight-n,0),this.currentPage=x(this.currentPage,1),this.fullHeight=t,p.forEach((t,e)=>{y=t.legendItem||{},t=y.y||0;const i=Math.round(y.label.getBBox().height);let s=u.length;(!s||t-u[s-1]>g&&(v||t)!==u[s-1])&&(u.push(v||t),s++),y.pageIx=s-1,v&&((p[e-1].legendItem||{}).pageIx=s-1),e===p.length-1&&t+i-u[s-1]>g&&t>u[s-1]&&(u.push(t),y.pageIx=s),t!==v&&(v=t)}),w||(w=e.clipRect=s.clipRect(0,n-2,9999,0),e.contentGroup.clip(w)),m(g),b||(this.nav=b=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,h,h).add(b),f("upTracker").on("click",(function(){e.scroll(-1,d)})),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&c.style&&this.pager.css(c.style),this.pager.add(b),this.down=s.symbol("triangle-down",0,0,h,h).add(b),f("downTracker").on("click",(function(){e.scroll(1,d)}))),e.scroll(0),t=o):b&&(m(),this.nav=b.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){const i=this.chart,s=this.pages,a=s.length,o=this.clipHeight,l=this.options.navigation,c=this.pager,d=this.padding;let h=this.currentPage+t;h>a&&(h=a),0<h&&("undefined"!==typeof e&&n(e,i),this.nav.attr({translateX:d,translateY:o+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===h?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:h+"/"+a}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:h===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),i.styledMode||(this.up.attr({fill:1===h?l.inactiveColor:l.activeColor}),this.upTracker.css({cursor:1===h?"default":"pointer"}),this.down.attr({fill:h===a?l.inactiveColor:l.activeColor}),this.downTracker.css({cursor:h===a?"default":"pointer"})),this.scrollOffset=-s[h-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=h,this.positionCheckboxes(),t=r(x(e,i.renderer.globalAnimation,!0)),C(()=>{v(this,"afterScroll",{currentPage:h})},t.duration))}setItemEvents(t,e,i){const a=this,o=t.legendItem||{},r=a.chart.renderer.boxWrapper,n=t instanceof s,l="highcharts-legend-"+(n?"point":"series")+"-active",c=a.chart.styledMode;i=i?[e,o.symbol]:[o.group];const d=e=>{a.allItems.forEach(i=>{t!==i&&[i].concat(i.linkedSeries||[]).forEach(t=>{t.setState(e,!n)})})};for(const s of i)s&&s.on("mouseover",(function(){t.visible&&d("inactive"),t.setState("hover"),t.visible&&r.addClass(l),c||e.css(a.options.itemHoverStyle)})).on("mouseout",(function(){a.chart.styledMode||e.css(b(t.visible?a.itemStyle:a.itemHiddenStyle)),d(""),r.removeClass(l),t.setState()})).on("click",(function(e){const i=function(){t.setVisible&&t.setVisible(),d(t.visible?"inactive":"")};r.removeClass(l),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):v(t,"legendItemClick",e,i)}))}createCheckboxForItem(t){t.checkbox=u("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),h(t.checkbox,"click",(function(e){v(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}return function(t){const e=[];t.compose=function(i){o.pushUnique(e,i)&&h(i,"beforeMargins",(function(){this.legend=new t(this,this.options.legend)}))}}(S||(S={})),S})),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{defaultOptions:a}=e,{extendClass:o,merge:r}=s;var n;return function(e){function s(t,s){const o=a.plotOptions||{},r=s.defaultOptions,n=s.prototype;n.type=t,n.pointClass||(n.pointClass=i),r&&(o[t]=r),e.seriesTypes[t]=s}e.seriesTypes=t.seriesTypes,e.registerSeriesType=s,e.seriesType=function(t,n,l,c,d){const h=a.plotOptions||{};return n=n||"",h[t]=r(h[n],l),s(t,o(e.seriesTypes[n]||function(){},c)),e.seriesTypes[t].prototype.type=t,d&&(e.seriesTypes[t].prototype.pointClass=o(i,d)),e.seriesTypes[t]}}(n||(n={})),n})),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],(function(t,e,i,s,a,o,r,n,l,c,d,h){const{animate:u,animObject:p,setAnimation:m}=t,{defaultOptions:f,defaultTime:g}=i,{numberFormat:v}=s,{registerEventOptions:y}=a,{charts:b,doc:x,marginNames:w,svg:k,win:C}=o,{seriesTypes:S}=n,{addEvent:A,attr:I,cleanRecursively:T,createElement:L,css:P,defined:_,discardElement:M,erase:F,error:D,extend:B,find:O,fireEvent:E,getStyle:N,isArray:$,isNumber:R,isObject:z,isString:q,merge:V,objectEach:j,pick:W,pInt:H,relativeLength:X,removeEvent:Y,splat:G,syncTimeout:U,uniqueKey:J}=d;class K{static chart(t,e,i){return new K(t,e,i)}constructor(t,e,i){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(t,e,i)}getArgs(t,e,i){q(t)||t.nodeName?(this.renderTo=t,this.init(e,i)):this.init(t,e)}init(t,e){const i=t.plotOptions||{};E(this,"init",{args:arguments},(function(){const s=V(f,t),a=s.chart;j(s.plotOptions,(function(t,e){z(t)&&(t.tooltip=i[e]&&V(i[e].tooltip)||void 0)})),s.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,this.userOptions=t,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0;const r=a.zooming=a.zooming||{};t.chart&&!t.chart.zooming&&(r.resetButton=a.resetZoomButton),r.key=W(r.key,a.zoomKey),r.pinchType=W(r.pinchType,a.pinchType),r.singleTouch=W(r.singleTouch,a.zoomBySingleTouch),r.type=W(r.type,a.zoomType),this.options=s,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new c(t.time):o.time,this.numberFormatter=a.numberFormatter||v,this.styledMode=a.styledMode,this.hasCartesianSeries=a.showAxes,this.index=b.length,b.push(this),o.chartCount++,y(this,a),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,E(this,"afterInit"),this.firstRender()}))}initSeries(t){var e=this.options.chart;e=t.type||e.type;const i=S[e];return i||D(17,!0,this,{missingModuleFor:e}),e=new i,"function"===typeof e.init&&e.init(this,t),e}setSeriesData(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))}orderSeries(t){const e=this.series;for(let i=t||0,s=e.length;i<s;++i)e[i]&&(e[i].index=i,e[i].name=e[i].getName())}isInsidePlot(t,e,i={}){const{inverted:s,plotBox:a,plotLeft:o,plotTop:r,scrollablePlotBox:n}=this;var l=0;let c=0;i.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:l,scrollTop:c}=this.scrollingContainer);const d=i.series,h=i.visiblePlotOnly&&n||a;var u=i.inverted?e:t;if(e=i.inverted?t:e,t={x:u,y:e,isInsidePlot:!0,options:i},!i.ignoreX){const e=d&&(s&&!this.polar?d.yAxis:d.xAxis)||{pos:o,len:1/0};u=i.paneCoordinates?e.pos+u:o+u,u>=Math.max(l+o,e.pos)&&u<=Math.min(l+o+h.width,e.pos+e.len)||(t.isInsidePlot=!1)}return!i.ignoreY&&t.isInsidePlot&&(l=!s&&i.axis&&!i.axis.isXAxis&&i.axis||d&&(s?d.xAxis:d.yAxis)||{pos:r,len:1/0},i=i.paneCoordinates?l.pos+e:r+e,i>=Math.max(c+r,l.pos)&&i<=Math.min(c+r+h.height,l.pos+l.len)||(t.isInsidePlot=!1)),E(this,"afterIsInsidePlot",t),t.isInsidePlot}redraw(t){E(this,"beforeRedraw");const e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,s=this.pointer,a=this.legend,o=this.userOptions.legend,r=this.renderer,n=r.isHidden(),l=[];let c,d,h,u=this.isDirtyBox,p=this.isDirtyLegend;for(r.rootFontSize=r.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),m(!!this.hasRendered&&t,this),n&&this.temporaryDisplay(),this.layOutTitles(),t=i.length;t--;)if(h=i[t],(h.options.stacking||h.options.centerInCategory)&&(d=!0,h.isDirty)){c=!0;break}if(c)for(t=i.length;t--;)h=i[t],h.options.stacking&&(h.isDirty=!0);i.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"===typeof t.updateTotals&&t.updateTotals(),p=!0):o&&(o.labelFormatter||o.labelFormat)&&(p=!0)),t.isDirtyData&&E(t,"updatedData")})),p&&a&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),d&&this.getStacks(),e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),e.forEach((function(t){t.isDirty&&(u=!0)})),e.forEach((function(t){const e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,l.push((function(){E(t,"afterSetExtremes",B(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(u||d)&&t.redraw()})),u&&this.drawChartBox(),E(this,"predraw"),i.forEach((function(t){(u||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),s&&s.reset(!0),r.draw(),E(this,"redraw"),E(this,"render"),n&&this.temporaryDisplay(!0),l.forEach((function(t){t.call()}))}get(t){function e(e){return e.id===t||e.options&&e.options.id===t}const i=this.series;let s=O(this.axes,e)||O(this.series,e);for(let a=0;!s&&a<i.length;a++)s=O(i[a].points||[],e);return s}getAxes(){const t=this;var i=this.options;const s=i.xAxis=G(i.xAxis||{});i=i.yAxis=G(i.yAxis||{}),E(this,"getAxes"),s.forEach((function(t,e){t.index=e,t.isX=!0})),i.forEach((function(t,e){t.index=e})),s.concat(i).forEach((function(i){new e(t,i)})),E(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(e=>{W(e.selectedStaging,e.selected)&&t.push(e)}),t),[])}getSelectedSeries(){return this.series.filter((function(t){return t.selected}))}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){const i=this;var s="title"===t?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};s=this.options[t]=V(!this.styledMode&&{style:s},this.options[t],e);let a=this[t];a&&e&&(this[t]=a=a.destroy()),s&&!a&&(a=this.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+t,zIndex:s.zIndex||4}).add(),a.update=function(e){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||a.css(s.style),this[t]=a)}layOutTitles(t){const e=[0,0,0],i=this.renderer,s=this.spacingBox;["title","subtitle","caption"].forEach((function(t){const a=this[t],o=this.options[t],r=o.verticalAlign||"top";if(t="title"===t?"top"===r?-3:0:"top"===r?e[0]+2:0,a){a.css({width:(o.width||s.width+(o.widthAdjust||0))+"px"});const n=i.fontMetrics(a).b,l=Math.round(a.getBBox(o.useHTML).height);a.align(B({y:"bottom"===r?n:t+n,height:l},o),!1,"spacingBox"),o.floating||("top"===r?e[0]=Math.ceil(e[0]+l):"bottom"===r&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);const a=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,E(this,"afterLayOutTitles"),!this.isDirtyBox&&a&&(this.isDirtyBox=this.isDirtyLegend=a,this.hasRendered&&W(t,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:N(this.renderTo,"width",!0)||0,height:N(this.renderTo,"height",!0)||0}}getChartSize(){var t=this.options.chart;const e=t.width;t=t.height;const i=this.getContainerBox();this.chartWidth=Math.max(0,e||i.width||600),this.chartHeight=Math.max(0,X(t,this.chartWidth)||(1<i.height?i.height:400)),this.containerBox=i}temporaryDisplay(t){let e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(P(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(x.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style;)if(x.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,x.body.appendChild(e)),("none"===N(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),P(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),e=e.parentNode,e===x.body)break}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){const t=this.options,e=t.chart;var i=J();let s,a=this.renderTo;a||(this.renderTo=a=e.renderTo),q(a)&&(this.renderTo=a=x.getElementById(a)),a||D(13,!0,this);var o=H(I(a,"data-highcharts-chart"));R(o)&&b[o]&&b[o].hasRendered&&b[o].destroy(),I(a,"data-highcharts-chart",this.index),a.innerHTML=h.emptyHTML,e.skipClone||a.offsetWidth||this.temporaryDisplay(),this.getChartSize(),o=this.chartWidth;const n=this.chartHeight;if(P(a,{overflow:"hidden"}),this.styledMode||(s=B({position:"relative",overflow:"hidden",width:o+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},e.style||{})),this.container=i=L("div",{id:i},s,a),this._cursor=i.style.cursor,this.renderer=new(e.renderer||!k?r.getRendererType(e.renderer):l)(i,o,n,void 0,e.forExport,t.exporting&&t.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),m(void 0,this),this.setClassName(e.className),this.styledMode)for(const r in t.defs)this.renderer.definition(t.defs[r]);else this.renderer.setStyle(e.style);this.renderer.chartIndex=this.index,E(this,"afterGetContainer")}getMargins(t){const{spacing:e,margin:i,titleOffset:s}=this;this.resetMargins(),s[0]&&!_(i[0])&&(this.plotTop=Math.max(this.plotTop,s[0]+e[0])),s[2]&&!_(i[2])&&(this.marginBottom=Math.max(this.marginBottom,s[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),E(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){const t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,s=t.margin,a=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?a(t.axes):i&&i.length&&a(i),w.forEach((function(i,a){_(s[a])||(t[i]+=e[a])})),t.setChartSize()}reflow(t){const e=this;var i=e.options.chart;i=_(i.width)&&_(i.height);const s=e.containerBox,a=e.getContainerBox();delete e.pointer.chartPosition,!i&&!e.isPrinting&&s&&a.width&&(a.width===s.width&&a.height===s.height||(d.clearTimeout(e.reflowTimeout),e.reflowTimeout=U((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerBox=a)}setReflow(){const t=this;var e=e=>{var i;null!==(i=t.options)&&void 0!==i&&i.chart.reflow&&t.hasLoaded&&t.reflow(e)};"function"===typeof ResizeObserver?new ResizeObserver(e).observe(t.renderTo):(e=A(C,"resize",e),A(this,"destroy",e))}setSize(t,e,i){const s=this,a=s.renderer;s.isResizing+=1,m(i,s),i=a.globalAnimation,s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,"undefined"!==typeof t&&(s.options.chart.width=t),"undefined"!==typeof e&&(s.options.chart.height=e),s.getChartSize(),s.styledMode||(i?u:P)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},i),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,i),s.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,E(s,"resize"),U((function(){s&&E(s,"endResize",null,(function(){--s.isResizing}))}),p(i).duration)}setChartSize(t){var e=this.inverted;const i=this.renderer;var s=this.chartWidth,a=this.chartHeight;const o=this.options.chart,r=this.spacing,n=this.clipOffset;let l,c,d,h;this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(s-l-this.marginRight)),this.plotHeight=h=Math.max(0,Math.round(a-c-this.marginBottom)),this.plotSizeX=e?h:d,this.plotSizeY=e?d:h,this.plotBorderWidth=o.plotBorderWidth||0,this.spacingBox=i.spacingBox={x:r[3],y:r[0],width:s-r[3]-r[1],height:a-r[0]-r[2]},this.plotBox=i.plotBox={x:l,y:c,width:d,height:h},e=2*Math.floor(this.plotBorderWidth/2),s=Math.ceil(Math.max(e,n[3])/2),a=Math.ceil(Math.max(e,n[0])/2),this.clipBox={x:s,y:a,width:Math.floor(this.plotSizeX-Math.max(e,n[1])/2-s),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,n[2])/2-a))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),i.alignElements()),E(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){E(this,"resetMargins");const t=this,e=t.options.chart;["margin","spacing"].forEach((function(i){const s=e[i],a=z(s)?s:[s,s,s,s];["Top","Right","Bottom","Left"].forEach((function(s,o){t[i][o]=W(e[i+s],a[o])}))})),w.forEach((function(e,i){t[e]=W(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]}drawChartBox(){const t=this.options.chart,e=this.renderer,i=this.chartWidth,s=this.chartHeight,a=this.styledMode,o=this.plotBGImage;var r=t.backgroundColor;const n=t.plotBackgroundColor,l=t.plotBackgroundImage,c=this.plotLeft,d=this.plotTop,h=this.plotWidth,u=this.plotHeight,p=this.plotBox,m=this.clipRect,f=this.clipBox;let g,v,y=this.chartBackground,b=this.plotBackground,x=this.plotBorder,w="animate";y||(this.chartBackground=y=e.rect().addClass("highcharts-background").add(),w="attr"),a?g=v=y.strokeWidth():(g=t.borderWidth||0,v=g+(t.shadow?8:0),r={fill:r||"none"},(g||y["stroke-width"])&&(r.stroke=t.borderColor,r["stroke-width"]=g),y.attr(r).shadow(t.shadow)),y[w]({x:v/2,y:v/2,width:i-v-g%2,height:s-v-g%2,r:t.borderRadius}),w="animate",b||(w="attr",this.plotBackground=b=e.rect().addClass("highcharts-plot-background").add()),b[w](p),a||(b.attr({fill:n||"none"}).shadow(t.plotShadow),l&&(o?(l!==o.attr("href")&&o.attr("href",l),o.animate(p)):this.plotBGImage=e.image(l,c,d,h,u).add())),m?m.animate({width:f.width,height:f.height}):this.clipRect=e.clipRect(f),w="animate",x||(w="attr",this.plotBorder=x=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),a||x.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),x[w](x.crisp({x:c,y:d,width:h,height:u},-x.strokeWidth())),this.isDirtyBox=!1,E(this,"afterDrawChartBox")}propFromSeries(){const t=this,e=t.options.chart,i=t.options.series;let s,a,o;["inverted","angular","polar"].forEach((function(r){for(a=S[e.type],o=e[r]||a&&a.prototype[r],s=i&&i.length;!o&&s--;)(a=S[i[s].type])&&a.prototype[r]&&(o=!0);t[r]=o}))}linkSeries(t){const e=this,i=e.series;i.forEach((function(t){t.linkedSeries.length=0})),i.forEach((function(t){let i=t.options.linkedTo;q(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,i.enabledDataSorting&&t.setDataSortingOptions(),t.visible=W(t.options.visible,i.options.visible,t.visible))})),E(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach((function(t){t.translate(),t.render()}))}render(){const t=this.axes,e=this.colorAxis,i=this.renderer,s=function(t){t.forEach((function(t){t.visible&&t.render()}))};let a=0;this.setTitle(),E(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const o=this.plotWidth;t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return a=21,!0}));const r=this.plotHeight=Math.max(this.plotHeight-a,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();const n=1.1<o/this.plotWidth,l=1.05<r/this.plotHeight;(n||l)&&(t.forEach((function(t){(t.horiz&&n||!t.horiz&&l)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?s(t):e&&e.length&&s(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){const e=this,i=V(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){i.href&&(C.location.href=i.href)})).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})}destroy(){const t=this,e=t.axes,i=t.series,s=t.container,a=s&&s.parentNode;let r;for(E(t,"destroy"),t.renderer.forExport?F(b,t):b[t.index]=void 0,o.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),Y(t),r=e.length;r--;)e[r]=e[r].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),r=i.length;r--;)i[r]=i[r].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){const i=t[e];i&&i.destroy&&(t[e]=i.destroy())})),s&&(s.innerHTML=h.emptyHTML,Y(s),a&&M(s)),j(t,(function(e,i){delete t[i]}))}firstRender(){const t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),($(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),E(t,"beforeRender"),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(t){t&&"undefined"!==typeof this.index&&t.apply(this,[this])}),this),E(this,"load"),E(this,"render"),_(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||D('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){const s=this;let a;return t&&(e=W(e,!0),E(s,"addSeries",{options:t},(function(){a=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),a.enabledDataSorting&&a.setData(t.data,!1),E(s,"afterAddSeries",{series:a}),e&&s.redraw(i)}))),a}addAxis(t,e,i,s){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:s})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,i){return t=new e(this,V(i.axis,{index:this[t].length,isX:"xAxis"===t})),W(i.redraw,!0)&&this.redraw(i.animation),t}showLoading(t){const e=this,i=e.options,s=i.loading,a=function(){o&&P(o,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};let o=e.loadingDiv,r=e.loadingSpan;o||(e.loadingDiv=o=L("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),r||(e.loadingSpan=r=L("span",{className:"highcharts-loading-inner"},null,o),A(e,"redraw",a)),o.className="highcharts-loading",h.setElementHTML(r,W(t,i.lang.loading,"")),e.styledMode||(P(o,B(s.style,{zIndex:10})),P(r,s.labelStyle),e.loadingShown||(P(o,{opacity:0,display:""}),u(o,{opacity:s.style.opacity||.5},{duration:s.showDuration||0}))),e.loadingShown=!0,a()}hideLoading(){const t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||u(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){P(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,s){const a=this,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},r=t.isResponsiveOptions,n=[];let l,d;E(a,"update",{options:t}),r||a.setResponsive(!1,!0),t=T(t,a.options),a.userOptions=V(a.userOptions,t);var h=t.chart;if(h){if(V(!0,a.options.chart,h),"className"in h&&a.setClassName(h.className),"inverted"in h||"polar"in h||"type"in h){a.propFromSeries();var u=!0}"alignTicks"in h&&(u=!0),"events"in h&&y(this,h),j(h,(function(t,e){-1!==a.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==a.propsRequireDirtyBox.indexOf(e)&&(a.isDirtyBox=!0),-1!==a.propsRequireReflow.indexOf(e)&&(r?a.isDirtyBox=!0:d=!0)})),!a.styledMode&&h.style&&a.renderer.setStyle(a.options.chart.style||{})}!a.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===g&&(this.time=new c(t.time)),V(!0,a.options.time,t.time)),j(t,(function(e,i){a[i]&&"function"===typeof a[i].update?a[i].update(e,!1):"function"===typeof a[o[i]]?a[o[i]](e):"colors"!==i&&-1===a.collectionsWithUpdate.indexOf(i)&&V(!0,a.options[i],t[i]),"chart"!==i&&-1!==a.propsRequireUpdateSeries.indexOf(i)&&(l=!0)})),this.collectionsWithUpdate.forEach((function(e){let s;t[e]&&(s=[],a[e].forEach((function(t,e){t.options.isInternal||s.push(W(t.options.index,e))})),G(t[e]).forEach((function(t,o){const r=_(t.id);let n;r&&(n=a.get(t.id)),!n&&a[e]&&(n=a[e][s?s[o]:o])&&r&&_(n.options.id)&&(n=void 0),n&&n.coll===e&&(n.update(t,!1),i&&(n.touched=!0)),!n&&i&&a.collectionsWithInit[e]&&(a.collectionsWithInit[e][0].apply(a,[t].concat(a.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),i&&a[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:n.push(t)})))})),n.forEach((function(t){t.chart&&t.remove&&t.remove(!1)})),u&&a.axes.forEach((function(t){t.update({},!1)})),l&&a.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),u=h&&h.width,h=h&&(q(h.height)?X(h.height,u||a.chartWidth):h.height),d||R(u)&&u!==a.chartWidth||R(h)&&h!==a.chartHeight?a.setSize(u,h,s):W(e,!0)&&a.redraw(s),E(a,"afterUpdate",{options:t,redraw:e,animation:s})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){function t(){e.zoomOut()}const e=this,i=f.lang,s=e.options.chart.zooming.resetButton,a=s.theme,o="chart"===s.relativeTo||"spacingBox"===s.relativeTo?null:"scrollablePlotBox";E(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,a).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,o)})),E(this,"afterShowResetZoom")}zoomOut(){E(this,"selection",{resetSelection:!0},this.zoom)}zoom(t){const e=this,i=e.pointer;let s,a=!1;!t||t.resetSelection?(e.axes.forEach((function(t){s=t.zoom()})),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){const o=t.axis;(i[o.isXAxis?"zoomX":"zoomY"]&&_(i.mouseDownX)&&_(i.mouseDownY)&&e.isInsidePlot(i.mouseDownX-e.plotLeft,i.mouseDownY-e.plotTop,{axis:o})||!_(e.inverted?i.mouseDownX:i.mouseDownY))&&(s=o.zoom(t.min,t.max),o.displayBtn&&(a=!0))}));const o=e.resetZoomButton;a&&!o?e.showResetZoom():!a&&z(o)&&(e.resetZoomButton=o.destroy()),s&&e.redraw(W(e.options.chart.animation,t&&t.animation,100>e.pointCount))}pan(t,e){const i=this,s=i.hoverPoints;e="object"===typeof e?e:{enabled:e,type:"x"};const a=i.options.chart;a&&a.panning&&(a.panning=e);const o=e.type;let r;E(this,"pan",{originalEvent:t},(function(){s&&s.forEach((function(t){t.setState()}));let e=i.xAxis;"xy"===o?e=e.concat(i.yAxis):"y"===o&&(e=i.yAxis);const a={};e.forEach((function(e){if(e.options.panningEnabled&&!e.options.isInternal){var s=e.horiz,n=t[s?"chartX":"chartY"];s=s?"mouseDownX":"mouseDownY";var l=i[s],c=e.minPointOffset||0,d=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,h=e.getExtremes(),u=e.toValue(l-n,!0)+c*d,p=e.toValue(l+e.len-n,!0)-(c*d||e.isXAxis&&e.pointRangePadding||0),m=p<u;d=e.hasVerticalPanning(),l=m?p:u,u=m?u:p;var f=e.panningState;!d||e.isXAxis||f&&!f.isDirty||e.series.forEach((function(t){var e=t.getProcessedData(!0);e=t.getExtremes(e.yData,!0),f||(f={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),R(e.dataMin)&&R(e.dataMax)&&(f.startMin=Math.min(W(t.options.threshold,1/0),e.dataMin,f.startMin),f.startMax=Math.max(W(t.options.threshold,-1/0),e.dataMax,f.startMax))})),d=Math.min(W(f&&f.startMin,h.dataMin),c?h.min:e.toValue(e.toPixels(h.min)-e.minPixelPadding)),p=Math.max(W(f&&f.startMax,h.dataMax),c?h.max:e.toValue(e.toPixels(h.max)+e.minPixelPadding)),e.panningState=f,e.isOrdinal||(c=d-l,0<c&&(u+=c,l=d),c=u-p,0<c&&(u=p,l-=c),e.series.length&&l!==h.min&&u!==h.max&&l>=d&&u<=p&&(e.setExtremes(l,u,!1,!1,{trigger:"pan"}),!i.resetZoomButton&&l!==d&&u!==p&&o.match("y")&&(i.showResetZoom(),e.displayBtn=!1),r=!0),a[s]=n)}})),j(a,(t,e)=>{i[e]=t}),r&&i.redraw(!1),P(i.container,{cursor:"move"})}))}}return B(K.prototype,{callbacks:[],collectionsWithInit:{xAxis:[K.prototype.addAxis,[!0]],yAxis:[K.prototype.addAxis,[!1]],series:[K.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),K})),e(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,merge:i,pick:s}=t;var a;return function(t){t.drawLineMarker=function(t){var a=this.legendItem=this.legendItem||{},o=this.options;const r=t.symbolWidth,n=t.symbolHeight,l=n/2,c=this.chart.renderer,d=a.group;t=t.baseline-Math.round(.3*t.fontMetrics.b);let h={},u=o.marker,p=0;this.chart.styledMode||(h={"stroke-width":Math.min(o.lineWidth||0,24)},o.dashStyle?h.dashstyle=o.dashStyle:"square"!==o.linecap&&(h["stroke-linecap"]="round")),a.line=c.path().addClass("highcharts-graph").attr(h).add(d),h["stroke-linecap"]&&(p=Math.min(a.line.strokeWidth(),r)/2),r&&a.line.attr({d:[["M",p,t],["L",r-p,t]]}),u&&!1!==u.enabled&&r&&(o=Math.min(s(u.radius,l),l),0===this.symbol.indexOf("url")&&(u=i(u,{width:n,height:n}),o=0),a.symbol=a=c.symbol(this.symbol,r/2-o,t-o,2*o,2*o,e({context:"legend"},u)).addClass("highcharts-point").add(d),a.isMarker=!0)},t.drawRectangle=function(t,e){e=e.legendItem||{};const i=t.symbolHeight,a=t.options.squareSymbol;e.symbol=this.chart.renderer.rect(a?(t.symbolWidth-i)/2:0,t.baseline-i+1,a?i:t.symbolWidth,i,s(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.group)}}(a||(a={})),a})),e(i,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:t}=this.series.chart;return"number"!==typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l,c){const{animObject:d,setAnimation:h}=t,{defaultOptions:u}=e,{registerEventOptions:p}=i,{hasTouch:m,svg:f,win:g}=s,{seriesTypes:v}=n,{arrayMax:y,arrayMin:b,clamp:x,cleanRecursively:w,correctFloat:k,defined:C,erase:S,error:A,extend:I,find:T,fireEvent:L,getNestedProperty:P,isArray:_,isNumber:M,isString:F,merge:D,objectEach:B,pick:O,removeEvent:E,splat:N,syncTimeout:$}=c;class R{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(t,e){L(this,"init",{options:e});const i=this,s=t.series;this.eventsToUnbind=[],i.chart=t,i.options=i.setOptions(e),e=i.options,i.linkedSeries=[],i.bindAxes(),I(i,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),p(this,e);const a=e.events;let o;(a&&a.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(o=s[s.length-1]),i._i=O(o&&o._i,-1)+1,i.opacity=i.options.opacity,t.orderSeries(this.insert(s)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),L(this,"afterInit")}is(t){return v[t]&&this instanceof v[t]}insert(t){const e=this.options.index;let i;if(M(e)){for(i=t.length;i--;)if(e>=O(t[i].options.index,t[i]._i)){t.splice(i+1,0,this);break}-1===i&&t.unshift(this),i+=1}else t.push(this);return O(i,t.length-1)}bindAxes(){const t=this,e=t.options,i=t.chart;let s;L(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(a){let o=0;i[a].forEach((function(i){s=i.options,(e[a]===o&&!s.isInternal||"undefined"!==typeof e[a]&&e[a]===s.id||"undefined"===typeof e[a]&&0===s.index)&&(t.insert(i.series),t[a]=i,i.isDirty=!0),s.isInternal||o++})),t[a]||t.optionalAxis===a||A(18,!0,i)}))})),L(this,"afterBindAxes")}updateParallelArrays(t,e,i){const s=t.series,a=M(e)?function(i){const a="y"===i&&s.toYData?s.toYData(t):t[i];s[i+"Data"][e]=a}:function(t){Array.prototype[e].apply(s[t+"Data"],i)};s.parallelArrays.forEach(a)}hasData(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length}autoIncrement(t){var e=this.options;const i=e.pointIntervalUnit,s=e.relativeXValue,a=this.chart.time;let o,r=this.xIncrement;return r=O(r,e.pointStart,0),this.pointInterval=o=O(this.pointInterval,e.pointInterval,1),s&&M(t)&&(o*=t),i&&(e=new a.Date(r),"day"===i?a.set("Date",e,a.get("Date",e)+o):"month"===i?a.set("Month",e,a.get("Month",e)+o):"year"===i&&a.set("FullYear",e,a.get("FullYear",e)+o),o=e.getTime()-r),s&&M(t)?r+o:(this.xIncrement=r+o,r)}setDataSortingOptions(){const t=this.options;I(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),C(t.pointRange)||(t.pointRange=1)}setOptions(t){var e=this.chart,i=e.options,s=i.plotOptions,a=e.userOptions||{};t=D(t),e=e.styledMode;const o={plotOptions:s,userOptions:t};L(this,"setOptions",o);const r=o.plotOptions[this.type],n=a.plotOptions||{};return this.userOptions=o.userOptions,a=D(r,s.series,a.plotOptions&&a.plotOptions[this.type],t),this.tooltipOptions=D(u.tooltip,u.plotOptions.series&&u.plotOptions.series.tooltip,u.plotOptions[this.type].tooltip,i.tooltip.userOptions,s.series&&s.series.tooltip,s[this.type].tooltip,t.tooltip),this.stickyTracking=O(t.stickyTracking,n[this.type]&&n[this.type].stickyTracking,n.series&&n.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||a.stickyTracking),null===r.marker&&delete a.marker,this.zoneAxis=a.zoneAxis,s=this.zones=(a.zones||[]).slice(),!a.negativeColor&&!a.negativeFillColor||a.zones||(i={value:a[this.zoneAxis+"Threshold"]||a.threshold||0,className:"highcharts-negative"},e||(i.color=a.negativeColor,i.fillColor=a.negativeFillColor),s.push(i)),s.length&&C(s[s.length-1].value)&&s.push(e?{}:{color:this.color,fillColor:this.fillColor}),L(this,"afterSetOptions",{options:a}),a}getName(){return O(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){const s=this.chart,a=this.userOptions,o=t+"Index",r=t+"Counter",n=i?i.length:O(s.options.chart[t+"Count"],s[t+"Count"]);if(!e){var l=O(a[o],a["_"+o]);C(l)||(s.series.length||(s[r]=0),a["_"+o]=l=s[r]%n,s[r]+=1),i&&(e=i[l])}"undefined"!==typeof l&&(this[o]=l),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||u.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(t,e){const i=t.id,s=t.x,a=this.points;var r,n=this.options.dataSorting;let l,c;if(i)n=this.chart.get(i),n instanceof o&&(r=n);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(r=e=>!e.touched&&e.index===t.index,n&&n.matchByName?r=e=>!e.touched&&e.name===t.name:this.options.relativeXValue&&(r=e=>!e.touched&&e.options.x===t.x),r=T(a,r),!r))return;return r&&(c=r&&r.index,"undefined"!==typeof c&&(l=!0)),"undefined"===typeof c&&M(s)&&(c=this.xData.indexOf(s,e)),-1!==c&&"undefined"!==typeof c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!l&&M(c)&&a[c]&&a[c].touched&&(c=void 0),c}updateData(t,e){const i=this.options,s=i.dataSorting,a=this.points,o=[],r=this.requireSorting,n=t.length===a.length;let l,c,d,h=!0;if(this.xIncrement=null,t.forEach((function(t,e){var c=C(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{};const h=c.x;c.id||M(h)?(c=this.findPointIndex(c,d),-1===c||"undefined"===typeof c?o.push(t):a[c]&&t!==i.data[c]?(a[c].update(t,!1,null,!1),a[c].touched=!0,r&&(d=c+1)):a[c]&&(a[c].touched=!0),(!n||e!==c||s&&s.enabled||this.hasDerivedData)&&(l=!0)):o.push(t)}),this),l)for(t=a.length;t--;)(c=a[t])&&!c.touched&&c.remove&&c.remove(!1,e);else!n||s&&s.enabled?h=!1:(t.forEach((function(t,e){t===a[e].y||a[e].destroyed||a[e].update(t,!1,null,!1)})),o.length=0);return a.forEach((function(t){t&&(t.touched=!1)})),!!h&&(o.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=y(this.xData),this.autoIncrement()),!0)}setData(t,e=!0,i,s){var a;const o=this,r=o.points,n=r&&r.length||0,l=o.options,c=o.chart,d=l.dataSorting,h=o.xAxis,u=l.turboThreshold,p=this.xData,m=this.yData;var f=o.pointArrayMap;f=f&&f.length;const g=l.keys;let v,y=0,b=1,x=null;if(!c.options.chart.allowMutatingData){l.data&&delete o.options.data,o.userOptions.data&&delete o.userOptions.data;var w=D(!0,t)}if(t=w||t||[],w=t.length,d&&d.enabled&&(t=this.sortData(t)),c.options.chart.allowMutatingData&&!1!==s&&w&&n&&!o.cropped&&!o.hasGroupedData&&o.visible&&!o.boosted&&(v=this.updateData(t,i)),!v){if(o.xIncrement=null,o.colorCounter=0,this.parallelArrays.forEach((function(t){o[t+"Data"].length=0})),u&&w>u)if(x=o.getFirstValidPoint(t),M(x))for(i=0;i<w;i++)p[i]=this.autoIncrement(),m[i]=t[i];else if(_(x))if(f)if(x.length===f)for(i=0;i<w;i++)p[i]=this.autoIncrement(),m[i]=t[i];else for(i=0;i<w;i++)s=t[i],p[i]=s[0],m[i]=s.slice(1,f+1);else if(g&&(y=g.indexOf("x"),b=g.indexOf("y"),y=0<=y?y:0,b=0<=b?b:1),1===x.length&&(b=0),y===b)for(i=0;i<w;i++)p[i]=this.autoIncrement(),m[i]=t[i][b];else for(i=0;i<w;i++)s=t[i],p[i]=s[y],m[i]=s[b];else A(12,!1,c);else for(i=0;i<w;i++)s={series:o},o.pointClass.prototype.applyOptions.apply(s,[t[i]]),o.updateParallelArrays(s,i);for(m&&F(m[0])&&A(14,!0,c),o.data=[],o.options.data=o.userOptions.data=t,i=n;i--;)null===(a=r[i])||void 0===a||a.destroy();h&&(h.minRange=h.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!r,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)}sortData(t){const e=this,i=e.options.dataSorting.sortKey||"y",s=function(t,e){return C(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(i,a){t[a]=s(e,i),t[a].index=a}),this),t.concat().sort((t,e)=>(t=P(i,t),e=P(i,e),e<t?-1:e>t?1:0)).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){const i=e.options,a=i.data;i.dataSorting&&i.dataSorting.enabled||!a||(a.forEach((function(i,o){a[o]=s(e,i),t[o]&&(a[o].x=t[o].x,a[o].index=o)})),e.setData(a,!1))})),t}getProcessedData(t){var e=this.xAxis,i=this.options,s=i.cropThreshold;const a=t||this.getExtremesFromAll||i.getExtremesFromAll,o=this.isCartesian;t=e&&e.val2lin,i=!(!e||!e.logarithmic);let r,n,l,c=0,d=this.xData,h=this.yData,u=this.requireSorting;var p=!1;const m=d.length;if(e&&(p=e.getExtremes(),n=p.min,l=p.max,p=!(!e.categories||e.names.length)),o&&this.sorted&&!a&&(!s||m>s||this.forceCrop))if(d[m-1]<n||d[0]>l)d=[],h=[];else if(this.yData&&(d[0]<n||d[m-1]>l)){var f=this.cropData(this.xData,this.yData,n,l);d=f.xData,h=f.yData,c=f.start,f=!0}for(s=d.length||1;--s;)e=i?t(d[s])-t(d[s-1]):d[s]-d[s-1],0<e&&("undefined"===typeof r||e<r)?r=e:0>e&&u&&!p&&(A(15,!1,this.chart),u=!1);return{xData:d,yData:h,cropped:f,cropStart:c,closestPointRange:r}}processData(t){const e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange,L(this,"afterProcessData")}cropData(t,e,i,s,a){const o=t.length;let r,n=0,l=o;for(a=O(a,this.cropShoulder),r=0;r<o;r++)if(t[r]>=i){n=Math.max(0,r-a);break}for(i=r;i<o;i++)if(t[i]>s){l=i+a;break}return{xData:t.slice(n,l),yData:e.slice(n,l),start:n,end:l}}generatePoints(){var t=this.options;const e=this.processedData||t.data,i=this.processedXData,s=this.processedYData,a=this.pointClass,o=i.length,r=this.cropStart||0,n=this.hasGroupedData,l=t.keys,c=[];let d;t=t.dataGrouping&&t.dataGrouping.groupAll?r:0;let h,u,p=this.data;if(!p&&!n){var m=[];m.length=e.length,p=this.data=m}for(l&&n&&(this.options.keys=!1),u=0;u<o;u++)m=r+u,n?(h=(new a).init(this,[i[u]].concat(N(s[u]))),h.dataGroup=this.groupMap[t+u],h.dataGroup.options&&(h.options=h.dataGroup.options,I(h,h.dataGroup.options),delete h.dataLabels)):(h=p[m])||"undefined"===typeof e[m]||(p[m]=h=(new a).init(this,e[m],i[u])),h&&(h.index=n?t+u:m,c[u]=h);if(this.options.keys=l,p&&(o!==(d=p.length)||n))for(u=0;u<d;u++)u!==r||n||(u+=o),p[u]&&(p[u].destroyElements(),p[u].plotX=void 0);this.data=p,this.points=c,L(this,"afterGeneratePoints")}getXExtremes(t){return{min:b(t),max:y(t)}}getExtremes(t,e){const i=this.xAxis;var s=this.yAxis;const a=this.processedXData||this.xData,o=[],r=this.requireSorting?this.cropShoulder:0;s=!!s&&s.positiveValuesOnly;let n,l=0,c=0,d=0;t=t||this.stackedYData||this.processedYData||[];const h=t.length;if(i){var u=i.getExtremes();l=u.min,c=u.max}for(n=0;n<h;n++){var p=a[n];u=t[n];var m=(M(u)||_(u))&&(u.length||0<u||!s);if(p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(a[n+r]||p)>=l&&(a[n-r]||p)<=c,m&&p)if(m=u.length)for(;m--;)M(u[m])&&(o[d++]=u[m]);else o[d++]=u}return t={activeYData:o,dataMin:b(o),dataMax:y(o)},L(this,"afterGetExtremes",{dataExtremes:t}),t}applyExtremes(){const t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t){const e=t.length;let i=0,s=null;for(;null===s&&i<e;)s=t[i],i++;return s}translate(){var t;this.processedXData||this.processData(),this.generatePoints();const e=this.options,i=e.stacking,s=this.xAxis,a=s.categories,o=this.enabledDataSorting,r=this.yAxis,n=this.points,l=n.length,c=this.pointPlacementToXValue(),d=!!c,h=e.threshold,u=e.startFromThreshold?h:0,p=this.zoneAxis||"y";let m,f,g,v,y=Number.MAX_VALUE;for(m=0;m<l;m++){const l=n[m],b=l.x;let w,S,A=l.y,I=l.low;const T=i&&(null===(t=r.stacking)||void 0===t?void 0:t.stacks[(this.negStacks&&A<(u?0:h)?"-":"")+this.stackKey]);let L;f=s.translate(b,!1,!1,!1,!0,c),l.plotX=M(f)?k(x(f,-1e5,1e5)):void 0,i&&this.visible&&T&&T[b]&&(v=this.getStackIndicator(v,b,this.index),!l.isNull&&v.key&&(w=T[b],S=w.points[v.key]),w&&_(S)&&(I=S[0],A=S[1],I===u&&v.key===T[b].base&&(I=O(M(h)?h:r.min)),r.positiveValuesOnly&&C(I)&&0>=I&&(I=void 0),l.total=l.stackTotal=O(w.total),l.percentage=C(l.y)&&w.total?l.y/w.total*100:void 0,l.stackY=A,this.irregularWidths||w.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),l.yBottom=C(I)?x(r.translate(I,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(A=this.dataModify.modifyValue(A,m)),M(A)&&void 0!==l.plotX&&(L=r.translate(A,!1,!0,!1,!0),L=M(L)?x(L,-1e5,1e5):void 0),l.plotY=L,l.isInside=this.isPointInside(l),l.clientX=d?k(s.translate(b,!1,!1,!1,!0,c)):f,l.negative=l[p]<(e[p+"Threshold"]||h||0),l.category=O(a&&a[l.x],l.x),l.isNull||!1===l.visible||("undefined"!==typeof g&&(y=Math.min(y,Math.abs(f-g))),g=f),l.zone=this.zones.length?l.getZone():void 0,!l.graphic&&this.group&&o&&(l.isNew=!0)}this.closestPointRangePx=y,L(this,"afterTranslate")}getValidPoints(t,e,i){const s=this.chart;return(t||this.points||[]).filter((function(t){const{plotX:a,plotY:o}=t;return!(!(i||!t.isNull&&M(o))||e&&!s.isInsidePlot(a,o,{inverted:s.inverted}))&&!1!==t.visible}))}getClipBox(){const{chart:t,xAxis:e,yAxis:i}=this,s=D(t.clipBox);return e&&e.len!==t.plotSizeX&&(s.width=e.len),i&&i.len!==t.plotSizeY&&(s.height=i.len),s}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,a=t.renderer,o=this.getClipBox(),r=this.getSharedClipKey();let n=s[r];n?n.animate(o):s[r]=n=a.clipRect(o),e&&e.clip(!1===this.options.clip?void 0:n),i&&i.clip()}animate(t){const{chart:e,group:i,markerGroup:s}=this,a=e.inverted;var o=d(this.options.animation),r=[this.getSharedClipKey(),o.duration,o.easing,o.defer].join();let n=e.sharedClips[r],l=e.sharedClips[r+"m"];if(t&&i)o=this.getClipBox(),n?n.attr("height",o.height):(o.width=0,a&&(o.x=e.plotHeight),n=e.renderer.clipRect(o),e.sharedClips[r]=n,l=e.renderer.clipRect({x:-99,y:-99,width:a?e.plotWidth+199:99,height:a?99:e.plotHeight+199}),e.sharedClips[r+"m"]=l),i.clip(n),s&&s.clip(l);else if(n&&!n.hasClass("highcharts-animating")){r=this.getClipBox();const t=o.step;s&&s.element.childNodes.length&&(o.step=function(e,i){t&&t.apply(i,arguments),"width"===i.prop&&l&&l.element&&l.attr(a?"height":"width",e+99)}),n.addClass("highcharts-animating").animate(r,o)}}afterAnimate(){this.setClip(),B(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,L(this,"afterAnimate")}drawPoints(t=this.points){const e=this.chart,i=e.styledMode,{colorAxis:s,options:a}=this,o=a.marker,r=this[this.specialGroup||"markerGroup"],n=this.xAxis,l=O(o.enabled,!(n&&!n.isRadial)||null,this.closestPointRangePx>=o.enabledThreshold*o.radius);let c,d,h,u,p,m;if(!1!==o.enabled||this._hasPointMarkers)for(c=0;c<t.length;c++){d=t[c],u=(h=d.graphic)?"animate":"attr";var f=d.marker||{};if(p=!!d.marker,(l&&"undefined"===typeof f.enabled||f.enabled)&&!d.isNull&&!1!==d.visible){const t=O(f.symbol,this.symbol,"rect");m=this.markerAttribs(d,d.selected&&"select"),this.enabledDataSorting&&(d.startXPos=n.reversed?-(m.width||0):n.width);const a=!1!==d.isInside;!h&&a&&(0<(m.width||0)||d.hasImage)&&(d.graphic=h=e.renderer.symbol(t,m.x,m.y,m.width,m.height,p?f:o).add(r),this.enabledDataSorting&&e.hasRendered&&(h.attr({x:d.startXPos}),u="animate")),h&&"animate"===u&&h[a?"show":"hide"](a).animate(m),h&&(f=this.pointAttribs(d,i||!d.selected?void 0:"select"),i?s&&h.css({fill:f.fill}):h[u](f)),h&&h.addClass(d.getClassName(),!0)}else h&&(d.graphic=h.destroy())}}markerAttribs(t,e){const i=this.options;var s=i.marker;const a=t.marker||{},o=a.symbol||s.symbol,r={};let n=O(a.radius,s&&s.radius);return e&&(s=s.states[e],e=a.states&&a.states[e],n=O(e&&e.radius,s&&s.radius,n&&n+(s&&s.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(n=0),t=t.pos(),M(n)&&t&&(r.x=t[0]-n,r.y=t[1]-n,i.crisp&&(r.x=Math.floor(r.x))),n&&(r.width=r.height=2*n),r}pointAttribs(t,e){var i=this.options.marker,s=t&&t.options;const a=s&&s.marker||{};var o=s&&s.color,r=t&&t.color;const n=t&&t.zone&&t.zone.color;let l=this.color;return t=O(a.lineWidth,i.lineWidth),s=1,l=o||n||r||l,o=a.fillColor||i.fillColor||l,r=a.lineColor||i.lineColor||l,e=e||"normal",i=i.states[e]||{},e=a.states&&a.states[e]||{},t=O(e.lineWidth,i.lineWidth,t+O(e.lineWidthPlus,i.lineWidthPlus,0)),o=e.fillColor||i.fillColor||o,r=e.lineColor||i.lineColor||r,s=O(e.opacity,i.opacity,s),{stroke:r,"stroke-width":t,fill:o,opacity:s}}destroy(t){const e=this,i=e.chart,s=/AppleWebKit\/533/.test(g.navigator.userAgent),a=e.data||[];let o,r,n,d;for(L(e,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(e.axisTypes||[]).forEach((function(t){(d=e[t])&&d.series&&(S(d.series,e),d.isDirty=d.forceRedraw=!0)})),e.legendItem&&e.chart.legend.destroyItem(e),r=a.length;r--;)(n=a[r])&&n.destroy&&n.destroy();e.clips&&e.clips.forEach(t=>t.destroy()),c.clearTimeout(e.animationTimeout),B(e,(function(t,e){t instanceof l&&!t.survive&&(o=s&&"group"===e?"hide":"destroy",t[o]())})),i.hoverSeries===e&&(i.hoverSeries=void 0),S(i.series,e),i.orderSeries(),B(e,(function(i,s){t&&"hcEvents"===s||delete e[s]}))}applyZones(){const t=this,e=this.chart,i=e.renderer,s=this.zones,a=this.clips||[],o=this.graph,r=this.area,n=Math.max(e.plotWidth,e.plotHeight),l=this[(this.zoneAxis||"y")+"Axis"],c=e.inverted;let d,h,u,p,m,f,g,v,y,b,w,k=!1;s.length&&(o||r)&&l&&"undefined"!==typeof l.min?(m=l.reversed,f=l.horiz,o&&!this.showLine&&o.hide(),r&&r.hide(),p=l.getExtremes(),s.forEach((function(s,C){d=m?f?e.plotWidth:0:f?0:l.toPixels(p.min)||0,d=x(O(h,d),0,n),h=x(Math.round(l.toPixels(O(s.value,p.max),!0)||0),0,n),k&&(d=h=l.toPixels(p.max)),g=Math.abs(d-h),v=Math.min(d,h),y=Math.max(d,h),l.isXAxis?(u={x:c?y:v,y:0,width:g,height:n},f||(u.x=e.plotHeight-u.x)):(u={x:0,y:c?y:v,width:n,height:g},f&&(u.y=e.plotWidth-u.y)),a[C]?a[C].animate(u):a[C]=i.clipRect(u),b=t["zone-area-"+C],w=t["zone-graph-"+C],o&&w&&w.clip(a[C]),r&&b&&b.clip(a[C]),k=s.value>p.max,t.resetZones&&0===h&&(h=void 0)})),this.clips=a):t.visible&&(o&&o.show(),r&&r.show())}plotGroup(t,e,i,s,a){let o=this[t];const r=!o;return i={visibility:i,zIndex:s||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(i.opacity=this.opacity),r&&(this[t]=o=this.chart.renderer.g().add(a)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(C(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(i)[r?"attr":"animate"](this.getPlotBox(e)),o}getPlotBox(t){let e=this.xAxis,i=this.yAxis;const s=this.chart;return t=s.inverted&&!s.polar&&e&&!1!==this.invertible&&"series"===t,s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:t?90:0,rotationOriginX:t?(e.len-i.len)/2:0,rotationOriginY:t?(e.len+i.len)/2:0,scaleX:t?-1:1,scaleY:1}}removeEvents(t){t||E(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)}render(){const t=this;var e=t.chart;const i=t.options,s=d(i.animation),a=t.visible?"inherit":"hidden",o=i.zIndex,r=t.hasRendered;e=e.seriesGroup;let n=t.finishedAnimating?0:s.duration;L(this,"render"),t.plotGroup("group","series",a,o,e),t.markerGroup=t.plotGroup("markerGroup","markers",a,o,e),!1!==i.clip&&t.setClip(),t.animate&&n&&t.animate(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.animate&&n&&t.animate(),r||(n&&s.defer&&(n+=s.defer),t.animationTimeout=$((function(){t.afterAnimate()}),n||0)),t.isDirty=!1,t.hasRendered=!0,L(t,"afterRender")}redraw(){const t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}searchPoint(t,e){const i=this.xAxis,s=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){function e(t,s,a){var o=t&&t.length;let r;if(o)return r=i.kdAxisArray[s%a],t.sort((function(t,e){return t[r]-e[r]})),o=Math.floor(o/2),{point:t[o],left:e(t.slice(0,o),s+1,a),right:e(t.slice(o+1),s+1,a)}}this.buildingKdTree=!0;const i=this,s=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,$((function(){i.kdTree=e(i.getValidPoints(null,!i.directTouch),s,s),i.buildingKdTree=!1}),i.options.kdNow||t&&"touchstart"===t.type?0:1)}searchKDTree(t,e,i){function s(t,e,i,l){const c=e.point;var d=a.kdAxisArray[i%l];let h=c;var u=C(t[o])&&C(c[o])?Math.pow(t[o]-c[o],2):null,p=C(t[r])&&C(c[r])?Math.pow(t[r]-c[r],2):null;return p=(u||0)+(p||0),c.dist=C(p)?Math.sqrt(p):Number.MAX_VALUE,c.distX=C(u)?Math.sqrt(u):Number.MAX_VALUE,d=t[d]-c[d],p=0>d?"left":"right",u=0>d?"right":"left",e[p]&&(p=s(t,e[p],i+1,l),h=p[n]<h[n]?p:c),e[u]&&Math.sqrt(d*d)<h[n]&&(t=s(t,e[u],i+1,l),h=t[n]<h[n]?t:h),h}const a=this,o=this.kdAxisArray[0],r=this.kdAxisArray[1],n=e?"distX":"dist";if(e=-1<a.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return s(t,this.kdTree,e,e)}pointPlacementToXValue(){const{options:{pointPlacement:t,pointRange:e},xAxis:i}=this;let s=t;return"between"===s&&(s=i.reversed?-.5:.5),M(s)?s*(e||i.pointRange):0}isPointInside(t){const{chart:e,xAxis:i,yAxis:s}=this;return"undefined"!==typeof t.plotY&&"undefined"!==typeof t.plotX&&0<=t.plotY&&t.plotY<=(s?s.len:e.plotHeight)&&0<=t.plotX&&t.plotX<=(i?i.len:e.plotWidth)}drawTracker(){const t=this,e=t.options,i=e.trackByArea,s=[].concat(i?t.areaPath:t.graphPath),a=t.chart,o=a.pointer,r=a.renderer,n=a.options.tooltip.snap,l=t.tracker,c=function(e){a.hoverSeries!==t&&t.onMouseOver()},d="rgba(192,192,192,"+(f?1e-4:.002)+")";l?l.attr({d:s}):t.graph&&(t.tracker=r.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),a.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:d,fill:i?d:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*n)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){o.onTrackerMouseOut(t)})),e.cursor&&!a.styledMode&&t.css({cursor:e.cursor}),m)&&t.on("touchstart",c)}))),L(this,"afterDrawTracker")}addPoint(t,e,i,s,a){const o=this.options,r=this.data,n=this.chart;var l=this.xAxis;l=l&&l.hasNames&&l.names;const c=o.data,d=this.xData;let h,u;e=O(e,!0);const p={series:this};this.pointClass.prototype.applyOptions.apply(p,[t]);const m=p.x;if(u=d.length,this.requireSorting&&m<d[u-1])for(h=!0;u&&d[u-1]>m;)u--;this.updateParallelArrays(p,"splice",[u,0,0]),this.updateParallelArrays(p,u),l&&p.name&&(l[m]=p.name),c.splice(u,0,t),(h||this.processedData)&&(this.data.splice(u,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),this.updateParallelArrays(p,"shift"),c.shift())),!1!==a&&L(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,e&&n.redraw(s)}removePoint(t,e,i){const s=this,a=s.data,o=a[t],r=s.points,n=s.chart,l=function(){r&&r.length===a.length&&r.splice(t,1),a.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(o||{series:s},"splice",[t,1]),o&&o.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&n.redraw()};h(i,n),e=O(e,!0),o?o.firePointEvent("remove",null,l):l()}remove(t,e,i,s){function a(){o.destroy(s),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(s),O(t,!0)&&r.redraw(e)}const o=this,r=o.chart;!1!==i?L(o,"remove",null,a):a()}update(t,e){t=w(t,this.userOptions),L(this,"update",{options:t});const i=this,s=i.chart;var a=i.userOptions;const o=i.initialType||i.type;var r=s.options.plotOptions;const n=v[o].prototype;var l=i.finishedAnimating&&{animation:!1};const c={};let d,h=["eventOptions","navigatorSeries","baseSeries"],u=t.type||a.type||s.options.chart.type;const p=!(this.hasDerivedData||u&&u!==this.type||"undefined"!==typeof t.pointStart||"undefined"!==typeof t.pointInterval||"undefined"!==typeof t.relativeXValue||t.joinBy||t.mapData||i.hasOptionChanged("dataGrouping")||i.hasOptionChanged("pointStart")||i.hasOptionChanged("pointInterval")||i.hasOptionChanged("pointIntervalUnit")||i.hasOptionChanged("keys"));if(u=u||o,p&&(h.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&h.push("area","graph"),i.parallelArrays.forEach((function(t){h.push(t+"Data")})),t.data&&(t.dataSorting&&I(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=D(a,l,{index:"undefined"===typeof a.index?i.index:a.index,pointStart:O(r&&r.series&&r.series.pointStart,a.pointStart,i.xData[0])},!p&&{data:i.options.data},t),p&&t.data&&(t.data=i.options.data),h=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(h),h.forEach((function(t){h[t]=i[t],delete i[t]})),r=!1,v[u]){if(r=u!==i.type,i.remove(!1,!1,!1,!0),r)if(Object.setPrototypeOf)Object.setPrototypeOf(i,v[u].prototype);else{for(d in l=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents,n)i[d]=void 0;I(i,v[u].prototype),l?i.hcEvents=l:delete i.hcEvents}}else A(17,!0,s,{missingModuleFor:u});if(h.forEach((function(t){i[t]=h[t]})),i.init(s,t),p&&this.points){if(t=i.options,!1===t.visible)c.graphic=1,c.dataLabel=1;else if(!i._hasPointLabels){const{marker:e,dataLabels:i}=t;a=a.marker||{},!e||!1!==e.enabled&&a.symbol===e.symbol&&a.height===e.height&&a.width===e.width||(c.graphic=1),i&&!1===i.enabled&&(c.dataLabel=1)}for(const e of this.points)e&&e.series&&(e.resolveColor(),Object.keys(c).length&&e.destroyElements(c),!1===t.showInLegend&&e.legendItem&&s.legend.destroyItem(e))}i.initialType=o,s.linkSeries(),r&&i.linkedSeries.length&&(i.isDirtyData=!0),L(this,"afterUpdate"),O(e,!0)&&s.redraw(!!p&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){const e=this.options[t],i=this.chart.options.plotOptions,s=this.userOptions[t];return s?e!==s:e!==O(i&&i[this.type]&&i[this.type][t],i&&i.series&&i.series[t],e)}onMouseOver(){const t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&L(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){const t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&L(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach((function(t){t.setState("",!0)}))}setState(t,e){const i=this;var s=i.options;const a=i.graph,o=s.inactiveOtherPoints,r=s.states,n=O(r[t||"normal"]&&r[t||"normal"].animation,i.chart.options.chart.animation);let l=s.lineWidth,c=0,d=s.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach((function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))})),i.state=t,!i.chart.styledMode)){if(r[t]&&!1===r[t].enabled)return;if(t&&(l=r[t].lineWidth||l+(r[t].lineWidthPlus||0),d=O(r[t].opacity,d)),a&&!a.dashstyle&&M(l))for(s={"stroke-width":l},a.animate(s,n);i["zone-graph-"+c];)i["zone-graph-"+c].animate(s,n),c+=1;o||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach((function(t){t&&t.animate({opacity:d},n)}))}e&&o&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))}setVisible(t,e){const i=this,s=i.chart,a=s.options.chart.ignoreHiddenSeries,o=i.visible,r=(i.visible=t=i.options.visible=i.userOptions.visible="undefined"===typeof t?!o:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){i[t]&&i[t][r]()})),s.hoverSeries!==i&&(s.hoverPoint&&s.hoverPoint.series)!==i||i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&s.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),i.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),a&&(s.isDirtyBox=!0),L(i,r),!1!==e&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected="undefined"===typeof t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),L(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}}return R.defaultOptions=r,R.types=n.seriesTypes,R.registerType=n.registerSeriesType,I(R.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:a.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:o,requireSorting:!0,sorted:!0}),n.series=R,R})),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{stop:r}=t,{addEvent:n,createElement:l,defined:c,merge:d,pick:h}=o;n(i,"afterSetChartSize",(function(t){var i=this.options.chart.scrollablePlotArea,s=i&&i.minWidth;let a;i=i&&i.minHeight,this.renderer.forExport||(s?(this.scrollablePixelsX=s=Math.max(0,s-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=d(this.plotBox),this.plotBox.width=this.plotWidth+=s,this.inverted?this.clipBox.height+=s:this.clipBox.width+=s,a={1:{name:"right",value:s}}):i&&(this.scrollablePixelsY=s=Math.max(0,i-this.chartHeight),c(s)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=d(this.plotBox),this.plotBox.height=this.plotHeight+=s,this.inverted?this.clipBox.width+=s:this.clipBox.height+=s,a={2:{name:"bottom",value:s}})),a&&!t.skipAxes&&this.axes.forEach((function(t){a[t.side]?t.getPlotLinePath=function(){let i,s=a[t.side].name,o=this[s];return this[s]=o-a[t.side].value,i=e.prototype.getPlotLinePath.apply(this,arguments),this[s]=o,i}:(t.setAxisSize(),t.setAxisTranslation())})))})),n(i,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){const t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};let e;this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},t,this.scrollingParent),n(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(e=this.hoverPoint),this.pointer.runPointActions(void 0,e,!0))}),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.moveFixedElements=function(){let t,e=this.container,i=this.fixedRenderer,s=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&s.push(t+":not(.highcharts-radial-axis)",t+"-labels:not(.highcharts-radial-axis-labels)"),s.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},i.prototype.applyFixed=function(){var t=!this.fixedDiv,e=this.options.chart,i=e.scrollablePlotArea,s=a.getRendererType();t?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(e.style&&e.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new s(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":h(i.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),n(this,"afterShowResetZoom",this.moveFixedElements),n(this,"afterApplyDrilldown",this.moveFixedElements),n(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||t)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),s=this.chartHeight+(this.scrollablePixelsY||0),r(this.container),this.container.style.width=e+"px",this.container.style.height=s+"px",this.renderer.boxWrapper.attr({width:e,height:s,viewBox:[0,0,e,s].join(" ")}),this.chartBackground.attr({width:e,height:s}),this.scrollingContainer.style.height=this.chartHeight+"px",t&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY)),s=this.axisOffset,t=this.plotTop-s[0]-1,i=this.plotLeft-s[3]-1,e=this.plotTop+this.plotHeight+s[2]+1,s=this.plotLeft+this.plotWidth+s[1]+1;let o=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);t=this.scrollablePixelsX?[["M",0,t],["L",this.plotLeft-1,t],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",o,t],["L",this.chartWidth,t],["L",this.chartWidth,e],["L",o,e],["Z"]]:this.scrollablePixelsY?[["M",i,0],["L",i,this.plotTop-1],["L",s,this.plotTop-1],["L",s,0],["Z"],["M",i,c],["L",i,this.chartHeight],["L",s,this.chartHeight],["L",s,c],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:t})},n(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),n(s,"show",(function(){this.chart.scrollableDirty=!0}))})),e(i,"Core/Axis/Stacking/StackItem.js",[i["Core/FormatUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{format:s}=t,{series:a}=e,{destroyObjectProperties:o,fireEvent:r,isNumber:n,pick:l}=i;class c{constructor(t,e,i,s,a){const o=t.chart.inverted,r=t.reversed;this.axis=t,t=this.isNegative=!!i!==!!r,this.options=e=e||{},this.x=s,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?t?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":t?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(o?t?"right":"left":"center")}destroy(){o(this,this.axis)}render(t){const e=this.axis.chart,i=this.options;var a=i.format;a=a?s(a,this,e):i.formatter.call(this),this.label?this.label.attr({text:a,visibility:"hidden"}):(this.label=e.renderer.label(a,null,void 0,i.shape,void 0,void 0,i.useHTML,!1,"stack-labels"),a={r:i.borderRadius||0,text:a,padding:l(i.padding,5),visibility:"hidden"},e.styledMode||(a.fill=i.backgroundColor,a.stroke=i.borderColor,a["stroke-width"]=i.borderWidth,this.label.css(i.style||{})),this.label.attr(a),this.label.added||this.label.add(t)),this.label.labelrank=e.plotSizeY,r(this,"afterRender")}setOffset(t,e,i,s,o,c){const{alignOptions:d,axis:h,label:u,options:p,textAlign:m}=this,f=h.chart;i=this.getStackBox({xOffset:t,width:e,boxBottom:i,boxTop:s,defaultX:o,xAxis:c});var{verticalAlign:g}=d;if(u&&i){s=u.getBBox(),o=u.padding,c="justify"===l(p.overflow,"justify"),d.x=p.x||0,d.y=p.y||0;const{x:t,y:e}=this.adjustStackPosition({labelBox:s,verticalAlign:g,textAlign:m});i.x-=t,i.y-=e,u.align(d,!1,i),(g=f.isInsidePlot(u.alignAttr.x+d.x+t,u.alignAttr.y+d.y+e))||(c=!1),c&&a.prototype.justifyDataLabel.call(h,u,d,u.alignAttr,s,i),u.attr({x:u.alignAttr.x,y:u.alignAttr.y,rotation:p.rotation,rotationOriginX:s.width/2,rotationOriginY:s.height/2}),l(!c&&p.crop,!0)&&(g=n(u.x)&&n(u.y)&&f.isInsidePlot(u.x-o+u.width,u.y)&&f.isInsidePlot(u.x+o,u.y)),u[g?"show":"hide"]()}r(this,"afterSetOffset",{xOffset:t,width:e})}adjustStackPosition({labelBox:t,verticalAlign:e,textAlign:i}){const s={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:t.width/2+t.width/2*s[i],y:t.height/2*s[e]}}getStackBox(t){var e=this.axis;const i=e.chart,{boxTop:s,defaultX:a,xOffset:o,width:r,boxBottom:c}=t;var d=e.stacking.usePercentage?100:l(s,this.total,0);d=e.toPixels(d),t=t.xAxis||i.xAxis[0];const h=l(a,t.translate(this.x))+o;e=e.toPixels(c||n(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0),e=Math.abs(d-e);const u=this.isNegative;return i.inverted?{x:(u?d:d-e)-i.plotLeft,y:t.height-h-r,width:e,height:r}:{x:h+t.transB-i.plotLeft,y:(u?d-e:d)-i.plotTop,width:r,height:e}}}return c})),e(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){function o(){const t=this,e=t.inverted;t.yAxis.forEach(t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),t.series.forEach(i=>{const s=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==t.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,C(i.options.stack,""),e?s.top:s.left,e?s.height:s.width].join())})}function r(){const t=this.stacking;if(t){var e=t.stacks;k(e,(function(t,i){y(t),e[i]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}}function n(){"yAxis"!==this.coll||this.stacking||(this.stacking=new S(this))}function l(t,e,i,s){return!v(t)||t.x!==e||s&&t.stackKey!==s?t={x:e,index:0,key:s,stackKey:s}:t.index++,t.key=[i,e,t.index].join(),t}function c(){const t=this,e=t.stackKey,i=t.yAxis.stacking.stacks,s=t.processedXData,a=t[t.options.stacking+"Stacker"];let o;a&&[e,"-"+e].forEach(e=>{let r,n=s.length;for(;n--;){var l=s[n];o=t.getStackIndicator(o,l,t.index,e),(r=(l=i[e]&&i[e][l])&&l.points[o.key])&&a.call(t,r,l,n)}})}function d(t,e,i){e=e.total?100/e.total:0,t[0]=g(t[0]*e),t[1]=g(t[1]*e),this.stackedYData[i]=t[1]}function h(){const t=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?m.setStackedPoints.call(this,"group"):t&&k(t.stacks,(e,i)=>{"group"===i.slice(-5)&&(k(e,t=>t.destroy()),delete t.stacks[i])})}function u(t){var e=this.chart;const i=t||this.options.stacking;if(i&&(!0===this.visible||!1===e.options.chart.ignoreHiddenSeries)){var a=this.processedXData,o=this.processedYData,r=[],n=o.length,l=this.options,c=l.threshold,d=C(l.startFromThreshold&&c,0);l=l.stack,t=t?`${this.type},${i}`:this.stackKey;var h="-"+t,u=this.negStacks;e="group"===i?e.yAxis[0]:this.yAxis;var p,m,f=e.stacking.stacks,y=e.stacking.oldStacks;for(e.stacking.stacksTouched+=1,m=0;m<n;m++){var b=a[m],w=o[m],k=this.getStackIndicator(k,b,this.index),S=k.key,A=(p=u&&w<(d?0:c))?h:t;f[A]||(f[A]={}),f[A][b]||(y[A]&&y[A][b]?(f[A][b]=y[A][b],f[A][b].total=null):f[A][b]=new s(e,e.options.stackLabels,!!p,b,l)),A=f[A][b],null!==w?(A.points[S]=A.points[this.index]=[C(A.cumulative,d)],v(A.cumulative)||(A.base=S),A.touched=e.stacking.stacksTouched,0<k.index&&!1===this.singleStacks&&(A.points[S][0]=A.points[this.index+","+b+",0"][0])):A.points[S]=A.points[this.index]=null,"percent"===i?(p=p?t:h,u&&f[p]&&f[p][b]?(p=f[p][b],A.total=p.total=Math.max(p.total,A.total)+Math.abs(w)||0):A.total=g(A.total+(Math.abs(w)||0))):"group"===i?(x(w)&&(w=w[0]),null!==w&&(A.total=(A.total||0)+1)):A.total=g(A.total+(w||0)),A.cumulative="group"===i?(A.total||1)-1:g(C(A.cumulative,d)+(w||0)),null!==w&&(A.points[S].push(A.cumulative),r[m]=A.cumulative,A.hasValidPoints=!0)}"percent"===i&&(e.stacking.usePercentage=!0),"group"!==i&&(this.stackedYData=r),e.stacking.oldStacks={}}}const{getDeferredAnimation:p}=t,{series:{prototype:m}}=i,{addEvent:f,correctFloat:g,defined:v,destroyObjectProperties:y,fireEvent:b,isArray:x,isNumber:w,objectEach:k,pick:C}=a;class S{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){const t=this.axis,e=t.series,i=t.options.reversedStacks,s=e.length;let a,o;for(this.usePercentage=!1,o=s;o--;)a=e[i?o:s-o-1],a.setStackedPoints(),a.setGroupedPoints();for(o=0;o<s;o++)e[o].modifyStacks();b(t,"afterBuildStacks")}cleanStacks(){let t;this.oldStacks&&(t=this.stacks=this.oldStacks),k(t,(function(t){k(t,(function(t){t.cumulative=t.total}))}))}resetStacks(){k(this.stacks,t=>{k(t,(e,i)=>{w(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){var t=this.axis;const e=t.chart,i=e.renderer,s=this.stacks;t=p(e,t.options.stackLabels&&t.options.stackLabels.animation||!1);const a=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();a.translate(e.plotLeft,e.plotTop),k(s,(function(t){k(t,(function(t){t.render(a)}))})),a.animate({opacity:1},t)}}var A;return function(t){const e=[];t.compose=function(t,i,s){a.pushUnique(e,t)&&(f(t,"init",n),f(t,"destroy",r)),a.pushUnique(e,i)&&(i.prototype.getStacks=o),a.pushUnique(e,s)&&(t=s.prototype,t.getStackIndicator=l,t.modifyStacks=c,t.percentStacker=d,t.setGroupedPoints=h,t.setStackedPoints=u)}}(A||(A={})),A})),e(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{defined:s,merge:a}=i;class o extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode;let a=[["graph","highcharts-graph"]];s||a[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),a=t.getZonesGraphs(a),a.forEach((function(a,o){var r=a[0];let n=t[r];const l=n?"animate":"attr";n?(n.endX=t.preventGraphAnimation?null:i.xMap,n.animate({d:i})):i.length&&(t[r]=n=t.chart.renderer.path(i).addClass(a[1]).attr({zIndex:1}).add(t.group)),n&&!s&&(r={stroke:a[2],"stroke-width":e.lineWidth||0,fill:t.fillGraph&&t.color||"none"},a[3]?r.dashstyle=a[3]:"square"!==e.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),n[l](r).shadow(2>o&&e.shadow)),n&&(n.startX=i.xMap,n.isArea=i.isArea)}))}getGraphPath(t,e,i){const a=this,o=a.options,r=[],n=[];let l,c=o.step;t=t||a.points;const d=t.reversed;return d&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&d&&(c=4-c),t=this.getValidPoints(t,!1,!(o.connectNulls&&!e&&!i)),t.forEach((function(d,h){const u=d.plotX,p=d.plotY,m=t[h-1],f=d.isNull||"number"!==typeof p;(d.leftCliff||m&&m.rightCliff)&&!i&&(l=!0),f&&!s(e)&&0<h?l=!o.connectNulls:f&&!e?l=!0:(0===h||l?h=[["M",d.plotX,d.plotY]]:a.getPointSpline?h=[a.getPointSpline(t,d,h)]:c?(h=1===c?[["L",m.plotX,p]]:2===c?[["L",(m.plotX+u)/2,m.plotY],["L",(m.plotX+u)/2,p]]:[["L",u,m.plotY]],h.push(["L",u,p])):h=[["L",u,p]],n.push(d.x),c&&(n.push(d.x),2===c&&n.push(d.x)),r.push.apply(r,h),l=!1)})),r.xMap=n,a.graphPath=r}getZonesGraphs(t){return this.zones.forEach((function(e,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")],this.chart.styledMode||i.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(i)}),this),t}}return o.defaultOptions=a(t.defaultOptions,{}),e.registerSeriesType("line",o),o})),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{parse:a}=t,{seriesTypes:{line:o}}=i,{extend:r,merge:n,objectEach:l,pick:c}=s;class d extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const t=this,e=this.areaPath,i=this.options,s=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach((function(e,a){s.push(["zone-area-"+a,"highcharts-area highcharts-zone-area-"+a+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])})),s.forEach((function(s){const o=s[0],r={};let n=t[o];const l=n?"animate":"attr";n?(n.endX=t.preventGraphAnimation?null:e.xMap,n.animate({d:e})):(r.zIndex=0,n=t[o]=t.chart.renderer.path(e).addClass(s[1]).add(t.group),n.isArea=!0),t.chart.styledMode||(r.fill=c(s[3],a(s[2]).setOpacity(c(i.fillOpacity,.75)).get())),n[l](r),n.startX=e.xMap,n.shiftUnit=i.step?2:1}))}getGraphPath(t){var e=o.prototype.getGraphPath,i=this.options;const s=i.stacking,a=this.yAxis,r=[],n=[],l=this.index,d=a.stacking.stacks[this.stackKey],h=i.threshold,u=Math.round(a.getThreshold(i.threshold));i=c(i.connectNulls,"percent"===s);var p=function(e,i,o){var c=t[e];e=s&&d[c.x].points[l];const p=c[o+"Null"]||0;let f,g;o=c[o+"Cliff"]||0,c=!0,o||p?(f=(p?e[0]:e[1])+o,g=e[0]+o,c=!!p):!s&&t[i]&&t[i].isNull&&(f=g=h),"undefined"!==typeof f&&(n.push({plotX:m,plotY:null===f?u:a.getThreshold(f),isNull:c,isCliff:!0}),r.push({plotX:m,plotY:null===g?u:a.getThreshold(g),doCurve:!1}))};let m;t=t||this.points,s&&(t=this.getStackPoints(t));for(let o=0,v=t.length;o<v;++o){s||(t[o].leftCliff=t[o].rightCliff=t[o].leftNull=t[o].rightNull=void 0);var f=t[o].isNull;m=c(t[o].rectPlotX,t[o].plotX);var g=s?c(t[o].yBottom,u):u;f&&!i||(i||p(o,o-1,"left"),f&&!s&&i||(n.push(t[o]),r.push({x:o,plotX:m,plotY:g})),i||p(o,o+1,"right"))}return p=e.call(this,n,!0,!0),r.reversed=!0,f=e.call(this,r,!0,!0),(g=f[0])&&"M"===g[0]&&(f[0]=["L",g[1],g[2]]),f=p.concat(f),f.length&&f.push(["Z"]),e=e.call(this,n,!1,i),f.xMap=p.xMap,this.areaPath=f,e}getStackPoints(t){const e=this,i=[],s=[],a=this.xAxis,o=this.yAxis,r=o.stacking.stacks[this.stackKey],n={},d=o.series,h=d.length,u=o.options.reversedStacks?1:-1,p=d.indexOf(e);if(t=t||this.points,this.options.stacking){for(let e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,n[t[e].x]=t[e];l(r,(function(t,e){null!==t.total&&s.push(e)})),s.sort((function(t,e){return t-e}));const m=d.map(t=>t.visible);s.forEach((function(t,l){let f,g,v=0;if(n[t]&&!n[t].isNull)i.push(n[t]),[-1,1].forEach((function(i){const a=1===i?"rightNull":"leftNull",o=r[s[l+i]];let c=0;if(o){let i=p;for(;0<=i&&i<h;){const s=d[i].index;f=o.points[s],f||(s===e.index?n[t][a]=!0:m[i]&&(g=r[t].points[s])&&(c-=g[1]-g[0])),i+=u}}n[t][1===i?"rightCliff":"leftCliff"]=c}));else{let e=p;for(;0<=e&&e<h;){if(f=r[t].points[d[e].index]){v=f[1];break}e+=u}v=c(v,0),v=o.translate(v,0,1,0,1),i.push({isNull:!0,plotX:a.translate(t,0,0,0,1),x:t,plotY:v,yBottom:v})}}))}return i}}return d.defaultOptions=n(o.defaultOptions,{threshold:0}),r(d.prototype,{singleStacks:!1,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("area",d),d})),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e){const{line:i}=t.seriesTypes,{merge:s,pick:a}=e;class o extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(t,e,i){const s=e.plotX||0,o=e.plotY||0,r=t[i-1];let n,l,c;if(i=t[i+1],r&&!r.isNull&&!1!==r.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=r.plotY||0;var d=i.plotX||0;i=i.plotY||0;let a=0;n=(1.5*s+(r.plotX||0))/2.5,l=(1.5*o+t)/2.5,d=(1.5*s+d)/2.5,c=(1.5*o+i)/2.5,d!==n&&(a=(c-l)*(d-s)/(d-n)+o-c),l+=a,c+=a,l>t&&l>o?(l=Math.max(t,o),c=2*o-l):l<t&&l<o&&(l=Math.min(t,o),c=2*o-l),c>i&&c>o?(c=Math.max(i,o),l=2*o-c):c<i&&c<o&&(c=Math.min(i,o),l=2*o-c),e.rightContX=d,e.rightContY=c}return e=["C",a(r.rightContX,r.plotX,0),a(r.rightContY,r.plotY,0),a(n,s,0),a(l,o,0),s,o],r.rightContX=r.rightContY=void 0,e}}return o.defaultOptions=s(i.defaultOptions),t.registerSeriesType("spline",o),o})),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s){const{area:a,area:{prototype:o}}=i.seriesTypes,{extend:r,merge:n}=s;class l extends t{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return l.defaultOptions=n(t.defaultOptions,a.defaultOptions),r(l.prototype,{getGraphPath:o.getGraphPath,getStackPoints:o.getStackPoints,drawGraph:o.drawGraph,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("areaspline",l),l})),e(i,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n){const{animObject:l}=t,{parse:c}=e,{hasTouch:d,noop:h}=s,{clamp:u,defined:p,extend:m,fireEvent:f,isArray:g,isNumber:v,merge:y,pick:b,objectEach:x}=n;class w extends o{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(t){const e=this,i=this.yAxis,s=i.pos,a=e.options,o=this.chart.inverted,r={},n=o?"translateX":"translateY";let c;t?(r.scaleY=.001,t=u(i.toPixels(a.threshold),s,s+i.len),o?r.translateX=t-i.len:r.translateY=t,e.clipBox&&e.setClip(),e.group.attr(r)):(c=Number(e.group.attr(n)),e.group.animate({scaleY:1},m(l(e.options.animation),{step:function(t,i){e.group&&(r[n]=c+i.pos*(s-c),e.group.attr(r))}})))}init(t,e){super.init.apply(this,arguments);const i=this;t=i.chart,t.hasRendered&&t.series.forEach((function(t){t.type===i.type&&(t.isDirty=!0)}))}getColumnMetrics(){const t=this;var e=t.options;const i=t.xAxis,s=t.yAxis;var a=i.options.reversedStacks;a=i.reversed&&!a||!i.reversed&&a;const o={};let r,n=0;!1===e.grouping?n=1:t.chart.series.forEach((function(e){const i=e.yAxis,a=e.options;let l;e.type!==t.type||!e.visible&&t.chart.options.chart.ignoreHiddenSeries||s.len!==i.len||s.pos!==i.pos||(a.stacking&&"group"!==a.stacking?(r=e.stackKey,"undefined"===typeof o[r]&&(o[r]=n++),l=o[r]):!1!==a.grouping&&(l=n++),e.columnIndex=l)}));const l=Math.min(Math.abs(i.transA)*(i.ordinal&&i.ordinal.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*e.groupPadding,d=(l-2*c)/(n||1);return e=Math.min(e.maxPointWidth||i.len,b(e.pointWidth,d*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(d-e)/2+(c+((t.columnIndex||0)+(a?1:0))*d-l/2)*(a?-1:1),paddedWidth:d,columnCount:n},t.columnMetrics}crispCol(t,e,i,s){var a=this.borderWidth,o=-(a%2?.5:0);return a=a%2?.5:1,this.options.crisp&&(i=Math.round(t+i)+o,t=Math.round(t)+o,i-=t),s=Math.round(e+s)+a,o=.5>=Math.abs(e)&&.5<s,e=Math.round(e)+a,s-=e,o&&s&&(--e,s+=1),{x:t,y:e,width:i,height:s}}adjustForMissingColumns(t,e,i,s){const a=this.options.stacking;if(!i.isNull&&1<s.columnCount){const o=this.yAxis.options.reversedStacks;let r=0,n=o?0:-s.columnCount;x(this.yAxis.stacking&&this.yAxis.stacking.stacks,t=>{if("number"===typeof i.x){const e=t[i.x.toString()];e&&(t=e.points[this.index],a?(t&&(r=n),e.hasValidPoints&&(o?n++:n--)):g(t)&&(t=Object.keys(e.points).filter(t=>!t.match(",")&&e.points[t]&&1<e.points[t].length).map(parseFloat).sort((t,e)=>e-t),r=t.indexOf(this.index),n=t.length))}}),t=(i.plotX||0)+((n-1)*s.paddedWidth+e)/2-e-r*s.paddedWidth}return t}translate(){const t=this,e=t.chart,i=t.options;var s=t.dense=2>t.closestPointRange*t.xAxis.transA;s=t.borderWidth=b(i.borderWidth,s?0:1);const a=t.xAxis,r=t.yAxis,n=i.threshold,l=b(i.minPointLength,5),c=t.getColumnMetrics(),d=c.width,h=t.pointXOffset=c.offset,m=t.dataMin,g=t.dataMax;let y=t.barW=Math.max(d,1+2*s),x=t.translatedThreshold=r.getThreshold(n);e.inverted&&(x-=.5),i.pointPadding&&(y=Math.ceil(y)),o.prototype.translate.apply(t),t.points.forEach((function(s){const o=b(s.yBottom,x);var f=999+Math.abs(o),w=s.plotX||0;f=u(s.plotY,-f,r.len+f);let k=Math.min(f,o),C=Math.max(f,o)-k,S=d,A=w+h,I=y;l&&Math.abs(C)<l&&(C=l,w=!r.reversed&&!s.negative||r.reversed&&s.negative,v(n)&&v(g)&&s.y===n&&g<=n&&(r.min||0)<n&&(m!==g||(r.max||0)<=n)&&(w=!w),k=Math.abs(k-x)>l?o-l:x-(w?l:0)),p(s.options.pointWidth)&&(S=I=Math.ceil(s.options.pointWidth),A-=Math.round((S-d)/2)),i.centerInCategory&&(A=t.adjustForMissingColumns(A,S,s,c)),s.barX=A,s.pointWidth=S,s.tooltipPos=e.inverted?[u(r.len+r.pos-e.plotLeft-f,r.pos-e.plotLeft,r.len+r.pos-e.plotLeft),a.len+a.pos-e.plotTop-A-I/2,C]:[a.left-e.plotLeft+A+I/2,u(f+r.pos-e.plotTop,r.pos-e.plotTop,r.len+r.pos-e.plotTop),C],s.shapeType=t.pointClass.prototype.shapeType||"roundedRect",s.shapeArgs=t.crispCol(A,s.isNull?x:k,I,s.isNull?0:C)})),f(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){const i=this.options;var s=this.pointAttrToOptions||{},a=s.stroke||"borderColor";const o=s["stroke-width"]||"borderWidth";let r,n=t&&t.color||this.color,l=t&&t[a]||i[a]||n;s=t&&t.options.dashStyle||i.dashStyle;let d=t&&t[o]||i[o]||this[o]||0,h=b(t&&t.opacity,i.opacity,1);return t&&this.zones.length&&(r=t.getZone(),n=t.options.color||r&&(r.color||t.nonZonedColor)||this.color,r&&(l=r.borderColor||l,s=r.dashStyle||s,d=r.borderWidth||d)),e&&t&&(t=y(i.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,n=t.color||"undefined"!==typeof e&&c(n).brighten(t.brightness).get()||n,l=t[a]||l,d=t[o]||d,s=t.dashStyle||s,h=b(t.opacity,h)),a={fill:n,stroke:l,"stroke-width":d,opacity:h},s&&(a.dashstyle=s),a}drawPoints(t=this.points){const e=this,i=this.chart,s=e.options,a=i.renderer,o=s.animationLimit||250;let r;t.forEach((function(t){let n=t.graphic,l=!!n,c=n&&i.pointCount<o?"animate":"attr";v(t.plotY)&&null!==t.y?(r=t.shapeArgs,n&&t.hasNewShapeType()&&(n=n.destroy()),e.enabledDataSorting&&(t.startXPos=e.xAxis.reversed?-(r&&r.width||0):e.xAxis.width),n||(t.graphic=n=a[t.shapeType](r).add(t.group||e.group))&&e.enabledDataSorting&&i.hasRendered&&i.pointCount<o&&(n.attr({x:t.startXPos}),l=!0,c="animate"),n&&l&&n[c](y(r)),i.styledMode||n[c](e.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&s.shadow),n&&(n.addClass(t.getClassName(),!0),n.attr({visibility:t.visible?"inherit":"hidden"}))):n&&(t.graphic=n.destroy())}))}drawTracker(t=this.points){const e=this,i=e.chart,s=i.pointer,a=function(t){const e=s.getPointFromEvent(t);"undefined"!==typeof e&&(s.isDirectTouch=!0,e.onMouseOver(t))};let o;t.forEach((function(t){o=g(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),o.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",(function(t){s.onTrackerMouseOut(t)})),d&&e[t].on("touchstart",a),!i.styledMode&&e.options.cursor&&e[t].css({cursor:e.options.cursor}))})),e._hasTracking=!0),f(this,"afterDrawTracker")}remove(){const t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),o.prototype.remove.apply(t,arguments)}}return w.defaultOptions=y(o.defaultOptions,i),m(w.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:a.drawRectangle,getSymbol:h,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),r.registerSeriesType("column",w),w})),e(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i){const{getDeferredAnimation:s}=t,{format:a}=e,{defined:o,extend:r,fireEvent:n,isArray:l,isString:c,merge:d,objectEach:h,pick:u,splat:p}=i;var m;return function(t){function e(t,e,i,s,a){const n=this.chart;var l=this.isCartesian&&n.inverted;const c=this.enabledDataSorting;var d=t.plotX,h=t.plotY;const p=i.rotation;var m=i.align;h=o(d)&&o(h)&&n.isInsidePlot(d,Math.round(h),{inverted:l,paneCoordinates:!0,series:this});let f="justify"===u(i.overflow,c?"none":"justify");if(l=this.visible&&!1!==t.visible&&o(d)&&(t.series.forceDL||c&&!f||h||u(i.inside,!!this.options.stacking)&&s&&n.isInsidePlot(d,l?s.x+1:s.y+s.height-1,{inverted:l,paneCoordinates:!0,series:this})),d=t.pos(),l&&d){p&&e.attr({align:m}),m=e.getBBox(!0);var g=[0,0],v=n.renderer.fontMetrics(e).b;if(s=r({x:d[0],y:Math.round(d[1]),width:0,height:0},s),r(i,{width:m.width,height:m.height}),p?(f=!1,g=n.renderer.rotCorr(v,p),v={x:s.x+(i.x||0)+s.width/2+g.x,y:s.y+(i.y||0)+{top:0,middle:.5,bottom:1}[i.verticalAlign]*s.height},g=[m.x-Number(e.attr("x")),m.y-Number(e.attr("y"))],c&&this.xAxis&&!f&&this.setDataLabelStartPos(t,e,a,h,v),e[a?"attr":"animate"](v)):(c&&this.xAxis&&!f&&this.setDataLabelStartPos(t,e,a,h,s),e.align(i,void 0,s),v=e.alignAttr),f&&0<=s.height)this.justifyDataLabel(e,i,v,m,s,a);else if(u(i.crop,!0)){let{x:t,y:e}=v;t+=g[0],e+=g[1],l=n.isInsidePlot(t,e,{paneCoordinates:!0,series:this})&&n.isInsidePlot(t+m.width,e+m.height,{paneCoordinates:!0,series:this})}i.shape&&!p&&e[a?"attr":"animate"]({anchorX:d[0],anchorY:d[1]})}a&&c&&(e.placed=!1),l||c&&!f?e.show():(e.hide(),e.placed=!1)}function m(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}function f(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function g(t){const e=this.hasRendered||0,i=this.initDataLabelsGroup().attr({opacity:+e});return!e&&i&&(this.visible&&i.show(),this.options.animation?i.animate({opacity:1},t):i.attr({opacity:1})),i}function v(t=this.points){const e=this,i=e.chart,r=e.options,d=i.renderer,{backgroundColor:f,plotBackgroundColor:g}=i.options.chart,v=d.getContrast(c(g)&&g||c(f)&&f||"#000000");let y,x,w=r.dataLabels;var k=p(w)[0];const C=k.animation;k=k.defer?s(i,C,e):{defer:0,duration:0},w=b(b(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[e.type]&&i.options.plotOptions[e.type].dataLabels),w),n(this,"drawDataLabels"),(l(w)||w.enabled||e._hasPointLabels)&&(x=this.initDataLabels(k),t.forEach(t=>{y=p(b(w,t.dlOptions||t.options&&t.options.dataLabels)),y.forEach((s,n)=>{const l=s.enabled&&(!t.isNull||t.dataLabelOnNull)&&m(t,s),c=t.connectors?t.connectors[n]:t.connector;let p,f,g=t.dataLabels?t.dataLabels[n]:t.dataLabel,y=!g;const b=u(s.distance,t.labelDistance);if(l){var w=t.getLabelConfig(),k=u(s[t.formatPrefix+"Format"],s.format);if(w=o(k)?a(k,w,i):(s[t.formatPrefix+"Formatter"]||s.formatter).call(w,s),k=s.style,p=s.rotation,i.styledMode||(k.color=u(s.color,k.color,e.color,"#000000"),"contrast"===k.color?(t.contrastColor=d.getContrast(t.color||e.color),k.color=!o(b)&&s.inside||0>b||r.stacking?t.contrastColor:v):delete t.contrastColor,r.cursor&&(k.cursor=r.cursor)),f={r:s.borderRadius||0,rotation:p,padding:s.padding,zIndex:1},!i.styledMode){const{backgroundColor:e,borderColor:i}=s;f.fill="auto"===e?t.color:e,f.stroke="auto"===i?t.color:i,f["stroke-width"]=s.borderWidth}h(f,(function(t,e){"undefined"===typeof t&&delete f[e]}))}!g||l&&o(w)&&!!g.div===!!s.useHTML&&(g.rotation&&s.rotation||g.rotation===s.rotation)||(y=!0,t.dataLabel=g=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[n]),n||delete t.dataLabel,c&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[n]))),l&&o(w)?(g?f.text=w:(t.dataLabels=t.dataLabels||[],g=t.dataLabels[n]=p?d.text(w,0,0,s.useHTML).addClass("highcharts-data-label"):d.label(w,0,0,s.shape,null,null,s.useHTML,null,"data-label"),n||(t.dataLabel=g),g.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(s.className||"")+(s.useHTML?" highcharts-tracker":""))),g.options=s,g.attr(f),i.styledMode||g.css(k).shadow(s.shadow),(n=s[t.formatPrefix+"TextPath"]||s.textPath)&&!s.useHTML&&(g.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(g)||t.graphic,n),t.dataLabelPath&&!n.enabled&&(t.dataLabelPath=t.dataLabelPath.destroy())),g.added||g.add(x),e.alignDataLabel(t,g,s,null,y)):g&&g.hide()})})),n(this,"afterDrawDataLabels")}function y(t,e,i,s,a,o){const r=this.chart,n=e.align,l=e.verticalAlign,c=t.box?0:t.padding||0;let d,h,{x:u=0,y:p=0}=e;return d=(i.x||0)+c,0>d&&("right"===n&&0<=u?(e.align="left",e.inside=!0):u-=d,h=!0),d=(i.x||0)+s.width-c,d>r.plotWidth&&("left"===n&&0>=u?(e.align="right",e.inside=!0):u+=r.plotWidth-d,h=!0),d=i.y+c,0>d&&("bottom"===l&&0<=p?(e.verticalAlign="top",e.inside=!0):p-=d,h=!0),d=(i.y||0)+s.height-c,d>r.plotHeight&&("top"===l&&0>=p?(e.verticalAlign="bottom",e.inside=!0):p+=r.plotHeight-d,h=!0),h&&(e.x=u,e.y=p,t.placed=!o,t.align(e,void 0,a)),h}function b(t,e){let i,s=[];if(l(t)&&!l(e))s=t.map((function(t){return d(t,e)}));else if(l(e)&&!l(t))s=e.map((function(e){return d(t,e)}));else if(l(t)||l(e))for(i=Math.max(t.length,e.length);i--;)s[i]=d(t[i],e[i]);else s=d(t,e);return s}function x(t,e,i,s,a){const o=this.chart,r=o.inverted,n=this.xAxis,l=n.reversed,c=r?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,e.startXPos=r?a.x:l?-c-t:n.width-c+t,e.startYPos=r?l?this.yAxis.height-c+t:-c-t:a.y,s?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),o.hasRendered&&(i&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)}const w=[];t.compose=function(t){i.pushUnique(w,t)&&(t=t.prototype,t.initDataLabelsGroup=f,t.initDataLabels=g,t.alignDataLabel=e,t.drawDataLabels=v,t.justifyDataLabel=y,t.setDataLabelStartPos=x)}}(m||(m={})),m})),e(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{series:s}=e,{merge:a,pick:o}=i;var r;return function(e){function r(t,e,i,r,n){let l=this.chart.inverted;var c=t.series;let d=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0;c=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0;var h=t.dlBox||t.shapeArgs;let u=o(t.below,t.plotY>o(this.translatedThreshold,c)),p=o(i.inside,!!this.options.stacking);h&&(r=a(h),0>r.y&&(r.height+=r.y,r.y=0),h=r.y+r.height-c,0<h&&h<r.height&&(r.height-=h),l&&(r={x:c-r.y-r.height,y:d-r.x-r.width,width:r.height,height:r.width}),p||(l?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),i.align=o(i.align,!l||p?"center":u?"right":"left"),i.verticalAlign=o(i.verticalAlign,l||p?"middle":u?"top":"bottom"),s.prototype.alignDataLabel.call(this,t,e,i,r,n),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}const n=[];e.compose=function(e){t.compose(s),i.pushUnique(n,e)&&(e.prototype.alignDataLabel=r)}}(r||(r={})),r})),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{extend:s,merge:a}=i;class o extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return o.defaultOptions=a(t.defaultOptions,{}),s(o.prototype,{inverted:!0}),e.registerSeriesType("bar",o),o})),e(i,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{column:s,line:a}=e.seriesTypes,{addEvent:o,extend:r,merge:n}=i;class l extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach((function(s,a){["x","y"].forEach((function(o,r){let n,l,c="plot"+o.toUpperCase();if(e[o]&&!s.isNull){var d=t[o+"Axis"];l=e[o]*d.transA,d&&!d.isLog&&(n=Math.max(0,s[c]-l),d=Math.min(d.len,s[c]+l),r=1e4*Math.sin(a+r*i),r-=Math.floor(r),s[c]=n+(d-n)*r,"x"===o&&(s.clientX=s.plotX))}}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=n(a.defaultOptions,t),r(l.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),o(l,"afterTranslate",(function(){this.applyJitter()})),e.registerSeriesType("scatter",l),l})),e(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:s}=t,{fireEvent:a,isNumber:o,pick:r,relativeLength:n}=i;var l;return function(t){t.getCenter=function(){var t=this.options,i=this.chart;const s=2*(t.slicedOffset||0),l=i.plotWidth-2*s,c=i.plotHeight-2*s;var d=t.center;const h=Math.min(l,c),u=t.thickness;var p=t.size;let m=t.innerSize||0;for("string"===typeof p&&(p=parseFloat(p)),"string"===typeof m&&(m=parseFloat(m)),t=[r(d[0],"50%"),r(d[1],"50%"),r(p&&0>p?void 0:t.size,"100%"),r(m&&0>m?void 0:t.innerSize||0,"0%")],!i.angular||this instanceof e||(t[3]=0),d=0;4>d;++d)p=t[d],i=2>d||2===d&&/%$/.test(p),t[d]=n(p,[l,c,h,t[2]][d])+(i?s:0);return t[3]>t[2]&&(t[3]=t[2]),o(u)&&2*u<t[2]&&0<u&&(t[3]=t[2]-2*u),a(this,"afterGetCenter",{positions:t}),t},t.getStartAndEndRadians=function(t,e){return t=o(t)?t:0,e=o(e)&&e>t&&360>e-t?e:t+360,{start:s*(t+-90),end:s*(e+-90)}}}(l||(l={})),l})),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i){const{setAnimation:s}=t,{addEvent:a,defined:o,extend:r,isNumber:n,pick:l,relativeLength:c}=i;class d extends e{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const t=this.labelPosition,e=this.series.options.dataLabels,i=this.connectorShapes;let s=e.connectorShape;return i[s]&&(s=i[s]),s.call(this,{x:t.computed.x,y:t.computed.y,alignment:t.alignment},t.connectorPosition,e)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(t){const e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}init(){super.init.apply(this,arguments),this.name=l(this.name,"Slice");const t=t=>{this.slice("select"===t.type)};return a(this,"select",t),a(this,"unselect",t),this}isValid(){return n(this.y)&&0<=this.y}setVisible(t,e){const i=this.series,s=i.chart,a=i.options.ignoreHiddenPoint;e=l(e,a),t!==this.visible&&(this.visible=this.options.visible=t="undefined"===typeof t?!this.visible:t,i.options.data[i.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(e=>{this[e]&&this[e][t?"show":"hide"](t)}),this.legendItem&&s.legend.colorizeItem(this,t),t||"hover"!==this.state||this.setState(""),a&&(i.isDirty=!0),e&&s.redraw())}slice(t,e,i){const a=this.series;s(i,a.chart),l(e,!0),this.sliced=this.options.sliced=o(t)?t:!this.sliced,a.options.data[a.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return r(d.prototype,{connectorShapes:{fixedOffset:function(t,e,i){const s=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*s.x-e.x,2*s.y-e.y,s.x,s.y]:["L",s.x,s.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,i){const{breakAt:s,touchingSliceAt:a}=e;({series:e}=this);const[o,r,n]=e.center,l=n/2,d=e.chart.plotWidth,h=e.chart.plotLeft;e="left"===t.alignment;const{x:u,y:p}=t;return i.crookDistance?(t=c(i.crookDistance,1),t=e?o+l+(d+h-o-l)*(1-t):h+(o-l)*t):t=o+(r-p)*Math.tan((this.angle||0)-Math.PI/2),i=[["M",u,p]],(e?t<=u&&t>=s.x:t>=u&&t<=s.x)&&i.push(["L",t,p]),i.push(["L",s.x,s.y],["L",a.x,a.y]),i}}}),d})),e(i,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),e(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o,r,n,l,c){const{getStartAndEndRadians:d}=t;({noop:i}=i);const{clamp:h,extend:u,fireEvent:p,merge:m,pick:f,relativeLength:g}=c;class v extends r{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(t){const e=this,i=e.points,s=e.startAngleRad;t||i.forEach((function(t){const i=t.graphic,a=t.shapeArgs;i&&a&&(i.attr({r:f(t.startR,e.center&&e.center[3]/2),start:s,end:s}),i.animate({r:a.r,start:a.start,end:a.end},e.options.animation))}))}drawEmpty(){const t=this.startAngleRad,e=this.endAngleRad,i=this.options;let s,a;0===this.total&&this.center?(s=this.center[0],a=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(s,a,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:l.arc(s,a,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":i.borderWidth,fill:i.fillColor||"none",stroke:i.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i){const s=this.center,a=this.radii?this.radii[i.index]||0:s[2]/2;return t=Math.asin(h((t-s[1])/(a+i.labelDistance),-1,1)),s[0]+(e?-1:1)*Math.cos(t)*(a+i.labelDistance)+(0<i.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const t=this,e=t.chart;let i,s,a,o;this.drawEmpty(),t.group&&!e.styledMode&&t.group.shadow(t.options.shadow),t.points.forEach((function(r){const n={};s=r.graphic,!r.isNull&&s?(o=r.shapeArgs,i=r.getTranslate(),e.styledMode||(a=t.pointAttribs(r,r.selected&&"select")),r.delayedRendering?(s.setRadialReference(t.center).attr(o).attr(i),e.styledMode||s.attr(a).attr({"stroke-linejoin":"round"}),r.delayedRendering=!1):(s.setRadialReference(t.center),e.styledMode||m(!0,n,a),m(!0,n,o,i),s.animate(n)),s.attr({visibility:r.visible?"inherit":"hidden"}),s.addClass(r.getClassName(),!0)):s&&(r.graphic=s.destroy())}))}sortByAngle(t,e){t.sort((function(t,i){return"undefined"!==typeof t.angle&&(i.angle-t.angle)*e}))}translate(t){p(this,"translate"),this.generatePoints();var e=this.options;const i=e.slicedOffset,s=i+(e.borderWidth||0);var a=d(e.startAngle,e.endAngle);const o=this.startAngleRad=a.start;a=(this.endAngleRad=a.end)-o;const r=this.points,n=e.dataLabels.distance;e=e.ignoreHiddenPoint;const l=r.length;let c,h,u,m=0;for(t||(this.center=t=this.getCenter()),h=0;h<l;h++){u=r[h];var v=o+m*a;!u.isValid()||e&&!u.visible||(m+=u.percentage/100);var y=o+m*a,b={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*v)/1e3,end:Math.round(1e3*y)/1e3};u.shapeType="arc",u.shapeArgs=b,u.labelDistance=f(u.options.dataLabels&&u.options.dataLabels.distance,n),u.labelDistance=g(u.labelDistance,b.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,u.labelDistance),y=(y+v)/2,y>1.5*Math.PI?y-=2*Math.PI:y<-Math.PI/2&&(y+=2*Math.PI),u.slicedTranslation={translateX:Math.round(Math.cos(y)*i),translateY:Math.round(Math.sin(y)*i)},b=Math.cos(y)*t[2]/2,c=Math.sin(y)*t[2]/2,u.tooltipPos=[t[0]+.7*b,t[1]+.7*c],u.half=y<-Math.PI/2||y>Math.PI/2?1:0,u.angle=y,v=Math.min(s,u.labelDistance/5),u.labelPosition={natural:{x:t[0]+b+Math.cos(y)*u.labelDistance,y:t[1]+c+Math.sin(y)*u.labelDistance},computed:{},alignment:0>u.labelDistance?"center":u.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+b+Math.cos(y)*v,y:t[1]+c+Math.sin(y)*v},touchingSliceAt:{x:t[0]+b,y:t[1]+c}}}}p(this,"afterTranslate")}updateTotals(){const t=this.points,e=t.length,i=this.options.ignoreHiddenPoint;let s,a,o=0;for(s=0;s<e;s++)a=t[s],!a.isValid()||i&&!a.visible||(o+=a.y);for(this.total=o,s=0;s<e;s++)a=t[s],a.percentage=0<o&&(a.visible||!i)?a.y/o*100:0,a.total=o}}return v.defaultOptions=m(r.defaultOptions,o),u(v.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:s.drawRectangle,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:i,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:a,requireSorting:!1,searchPoint:i,trackerGroups:["group","dataLabelsGroup"]}),n.registerSeriesType("pie",v),v})),e(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a){const{noop:o}=e,{distribute:r}=i,{series:n}=s,{arrayMax:l,clamp:c,defined:d,merge:h,pick:u,relativeLength:p}=a;var m;return function(e){function i(){const t=this,e=t.data,i=t.chart,s=t.options.dataLabels||{},a=s.connectorPadding,o=i.plotWidth,c=i.plotHeight,p=i.plotLeft,m=Math.round(i.chartWidth/3),f=t.center,g=f[2]/2,v=f[1],y=[[],[]],b=[0,0,0,0],x=t.dataLabelPositioners;let w,k,C,S,A,I,T,L,P,_,M,F;t.visible&&(s.enabled||t._hasPointLabels)&&(e.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),n.prototype.drawDataLabels.apply(t),e.forEach((function(t){t.dataLabel&&(t.visible?(y[t.half].push(t),t.dataLabel._pos=null,!d(s.style.width)&&!d(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>m&&(t.dataLabel.css({width:Math.round(.7*m)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),y.forEach((e,n)=>{const l=e.length,h=[];let m,y=0;if(l){if(t.sortByAngle(e,n-.5),0<t.maxLabelDistance){var k=Math.max(0,v-g-t.maxLabelDistance);m=Math.min(v+g+t.maxLabelDistance,i.plotHeight),e.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,v-g-t.labelDistance),t.bottom=Math.min(v+g+t.labelDistance,i.plotHeight),y=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+y/2,size:y,rank:t.y},h.push(t.distributeBox))})),k=m+y-k,r(h,k,k/5)}for(M=0;M<l;M++){if(w=e[M],I=w.labelPosition,S=w.dataLabel,_=!1===w.visible?"hidden":"inherit",P=k=I.natural.y,h&&d(w.distributeBox)&&("undefined"===typeof w.distributeBox.pos?_="hidden":(T=w.distributeBox.size,P=x.radialDistributionY(w))),delete w.positionIndex,s.justify)L=x.justify(w,g,f);else switch(s.alignTo){case"connectors":L=x.alignToConnectors(e,n,o,p);break;case"plotEdges":L=x.alignToPlotEdges(S,n,o,p);break;default:L=x.radialDistributionX(t,w,P,k)}S._attr={visibility:_,align:I.alignment},F=w.options.dataLabels||{},S._pos={x:L+u(F.x,s.x)+({left:a,right:-a}[I.alignment]||0),y:P+u(F.y,s.y)-S.getBBox().height/2},I&&(I.computed.x=L,I.computed.y=P),u(s.crop,!0)&&(A=S.getBBox().width,k=null,L-A<a&&1===n?(k=Math.round(A-L+a),b[3]=Math.max(k,b[3])):L+A>o-a&&0===n&&(k=Math.round(L+A-o+a),b[1]=Math.max(k,b[1])),0>P-T/2?b[0]=Math.max(Math.round(T/2-P),b[0]):P+T/2>c&&(b[2]=Math.max(Math.round(P+T/2-c),b[2])),S.sideOverflow=k)}}}),0===l(b)||this.verifyDataLabelOverflow(b))&&(this.placeDataLabels(),this.points.forEach((function(e){if(F=h(s,e.options.dataLabels),k=u(F.connectorWidth,1)){let s;C=e.connector,(S=e.dataLabel)&&S._pos&&e.visible&&0<e.labelDistance?(_=S._attr.visibility,(s=!C)&&(e.connector=C=i.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(t.dataLabelsGroup),i.styledMode||C.attr({"stroke-width":k,stroke:F.connectorColor||e.color||"#666666"})),C[s?"attr":"animate"]({d:e.getConnectorPath()}),C.attr("visibility",_)):C&&(e.connector=C.destroy())}})))}function s(){this.points.forEach((function(t){let e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999})),delete t.distributeBox}),this)}function m(t){let e,i=this.center,s=this.options,a=s.center,o=s.minSize||80,r=null!==s.size;return r||(null!==a[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==a[1]?e=c(e,o,i[2]-Math.max(t[0],t[2])):(e=c(e,o,i[2]-t[0]-t[2]),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(s.thickness?Math.max(0,e-2*s.thickness):Math.max(0,p(s.innerSize||0,e)),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):r=!0),r}const f=[],g={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,i,s){return t.getX(i<e.top+2||i>e.bottom-2?s:i,e.half,e)},justify:function(t,e,i){return i[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,i,s){return t=t.getBBox().width,e?t+s:i-t-s},alignToConnectors:function(t,e,i,s){let a,o=0;return t.forEach((function(t){a=t.dataLabel.getBBox().width,a>o&&(o=a)})),e?o+s:i-o-s}};e.compose=function(e){t.compose(n),a.pushUnique(f,e)&&(e=e.prototype,e.dataLabelPositioners=g,e.alignDataLabel=o,e.drawDataLabels=i,e.placeDataLabels=s,e.verifyDataLabelOverflow=m)}}(m||(m={})),m})),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e){let i,s=!1;return t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(t[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:i?"auto":"none"})})),a(e,"afterHideOverlappingLabel")):t.attr({opacity:i})),t.isOld=!0),s}const{addEvent:s,fireEvent:a,isArray:o,isNumber:r,objectEach:n,pick:l}=e;s(t,"render",(function(){let t=this,e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&n(t.stacking.stacks,(function(t){n(t,(function(t){t.label&&e.push(t.label)}))}))})),(this.series||[]).forEach((function(s){var a=s.options.dataLabels;s.visible&&(!1!==a.enabled||s._hasPointLabels)&&(a=s=>s.forEach(s=>{s.visible&&(o(s.dataLabels)?s.dataLabels:s.dataLabel?[s.dataLabel]:[]).forEach((function(a){const o=a.options;a.labelrank=l(o.labelrank,s.labelrank,s.shapeArgs&&s.shapeArgs.height),o.allowOverlap?(a.oldOpacity=a.opacity,a.newOpacity=1,i(a,t)):e.push(a)}))}),a(s.nodes||[]),a(s.points))})),this.hideOverlappingLabels(e)})),t.prototype.hideOverlappingLabels=function(t){let e=this,s=t.length,o=e.renderer;var n;let l,c,d,h,u=!1;var p=function(t){let e,i;var s;let a,n,l=t.box?0:t.padding||0,c=s=0;if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(s=t.getBBox(),t.width=s.width,t.height=s.height,s=o.fontMetrics(t.element).h),a=t.width-2*l,(n={left:"0",center:"0.5",right:"1"}[t.alignValue])?c=+n*a:r(t.x)&&Math.round(t.x)!==t.translateX&&(c=t.x-t.translateX),{x:e.x+(i.translateX||0)+l-(c||0),y:e.y+(i.translateY||0)+l-s,width:t.width-2*l,height:t.height-2*l}};for(l=0;l<s;l++)(n=t[l])&&(n.oldOpacity=n.opacity,n.newOpacity=1,n.absoluteBox=p(n));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),l=0;l<s;l++)for(d=(p=t[l])&&p.absoluteBox,n=l+1;n<s;++n)h=(c=t[n])&&c.absoluteBox,!d||!h||p===c||0===p.newOpacity||0===c.newOpacity||"hidden"===p.visibility||"hidden"===c.visibility||h.x>=d.x+d.width||h.x+h.width<=d.x||h.y>=d.y+d.height||h.y+h.height<=d.y||((p.labelrank<c.labelrank?p:c).newOpacity=0);t.forEach((function(t){i(t,e)&&(u=!0)})),u&&a(e,"afterHideAllOverlappingLabels")}})),e(i,"Extensions/BorderRadius.js",[i["Core/Defaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,s,a,o){const{defaultOptions:r}=t;({seriesTypes:t}=i);const{addEvent:n,extend:l,isObject:c,merge:d,relativeLength:h}=o,u={radius:0,scope:"stack",where:void 0},p=(t,e)=>(c(t)||(t={radius:t||0}),d(u,e,t));if(-1===s.symbolCustomAttribs.indexOf("borderRadius")){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const i=a.prototype.symbols.arc;a.prototype.symbols.arc=function(t,e,s,a,o={}){t=i(t,e,s,a,o);const{innerR:r=0,r:n=s,start:l=0,end:c=0}=o;if(o.open||!o.borderRadius)return t;for(s=c-l,e=Math.sin(s/2),o=Math.max(Math.min(h(o.borderRadius||0,n-r),(n-r)/2,n*e/(1+e)),0),s=Math.min(o,s/Math.PI*2*r),e=t.length-1;e--;){let i=void 0,r=void 0,n=void 0;a=t;var d=e,u=1<e?s:o,p=a[d],m=a[d+1];if("Z"===m[0]&&(m=a[0]),"M"!==p[0]&&"L"!==p[0]||"A"!==m[0]?"A"!==p[0]||"M"!==m[0]&&"L"!==m[0]||(n=m,r=p):(n=p,r=m,i=!0),n&&r&&r.params){p=r[1];var f=r[5];m=r.params;const{start:t,end:e,cx:s,cy:o}=m;var g=f?p-u:p+u;const l=g?Math.asin(u/g):0;f=f?l:-l,g*=Math.cos(l),i?(m.start=t+f,n[1]=s+g*Math.cos(t),n[2]=o+g*Math.sin(t),a.splice(d+1,0,["A",u,u,0,0,1,s+p*Math.cos(m.start),o+p*Math.sin(m.start)])):(m.end=e-f,r[6]=s+p*Math.cos(m.end),r[7]=o+p*Math.sin(m.end),a.splice(d+1,0,["A",u,u,0,0,1,s+g*Math.cos(e),o+g*Math.sin(e)])),r[4]=Math.abs(m.end-m.start)<Math.PI?0:1}}return t};const o=a.prototype.symbols.roundedRect;a.prototype.symbols.roundedRect=function(t,e,i,s,a={}){const r=o(t,e,i,s,a),{r:n=0,brBoxHeight:l=s,brBoxY:c=e}=a;var d=e-c,h=c+l-(e+s);a=-.1<d-n?0:n;const u=-.1<h-n?0:n;var p=Math.max(a&&d,0);const m=Math.max(u&&h,0);h=[t+a,e],d=[t+i-a,e];const f=[t+i,e+a],g=[t+i,e+s-u],v=[t+i-u,e+s],y=[t+u,e+s],b=[t,e+s-u],x=[t,e+a];if(p){const t=Math.sqrt(Math.pow(a,2)-Math.pow(a-p,2));h[0]-=t,d[0]+=t,f[1]=x[1]=e+a-p}return s<a-p&&(p=Math.sqrt(Math.pow(a,2)-Math.pow(a-p-s,2)),f[0]=g[0]=t+i-a+p,v[0]=Math.min(f[0],v[0]),y[0]=Math.max(g[0],y[0]),b[0]=x[0]=t+a-p,f[1]=x[1]=e+s),m&&(p=Math.sqrt(Math.pow(u,2)-Math.pow(u-m,2)),v[0]+=p,y[0]-=p,g[1]=b[1]=e+s-u+m),s<u-m&&(s=Math.sqrt(Math.pow(u,2)-Math.pow(u-m-s,2)),f[0]=g[0]=t+i-u+s,d[0]=Math.min(f[0],d[0]),h[0]=Math.max(g[0],h[0]),b[0]=x[0]=t+u-s,g[1]=b[1]=e),r.length=0,r.push(["M",...h],["L",...d],["A",a,a,0,0,1,...f],["L",...g],["A",u,u,0,0,1,...v],["L",...y],["A",u,u,0,0,1,...b],["L",...x],["A",a,a,0,0,1,...h],["Z"]),r},n(t.pie,"afterTranslate",(function(){const t=p(this.options.borderRadius);for(const e of this.points){const i=e.shapeArgs;i&&(i.borderRadius=h(t.radius,(i.r||0)-(i.innerR||0)))}})),n(e,"afterColumnTranslate",(function(){var t,e;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:o,yAxis:n}=this,d="percent"===o.stacking;var i=null===(e=null===(t=r.plotOptions)||void 0===t?void 0:t[this.type])||void 0===e?void 0:e.borderRadius;t=p(o.borderRadius,c(i)?i:{}),e=n.options.reversed;for(const r of this.points)if(({shapeArgs:i}=r),"roundedRect"===r.shapeType&&i){const{width:c=0,height:u=0,y:p=0}=i;var s=p,a=u;"stack"===t.scope&&r.stackTotal&&(s=n.translate(d?100:r.stackTotal,!1,!0,!1,!0),a=n.translate(o.threshold||0,!1,!0,!1,!0),a=this.crispCol(0,Math.min(s,a),0,Math.abs(s-a)),s=a.y,a=a.height);const m=-1===(r.negative?-1:1)*(e?-1:1);let f=t.where;!f&&this.is("waterfall")&&Math.abs((r.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(f="all"),f||(f="end");const g=Math.min(h(t.radius,c),c/2,"all"===f?u/2:1/0)||0;"end"===f&&(m&&(s-=g),a+=g),l(i,{brBoxHeight:a,brBoxY:s,r:g})}}}),{order:9})}return e={optionsToObject:p},e})),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,find:i,isArray:s,isObject:a,merge:o,objectEach:r,pick:n,splat:l,uniqueKey:c}=t;var d;return function(d){function h(t){function e(t,o,n,c){let d;r(t,(function(t,r){if(!c&&-1<i.collectionsWithUpdate.indexOf(r)&&o[r])for(t=l(t),n[r]=[],d=0;d<Math.max(t.length,o[r].length);d++)o[r][d]&&(void 0===t[d]?n[r][d]=o[r][d]:(n[r][d]={},e(t[d],o[r][d],n[r][d],c+1)));else a(t)?(n[r]=s(t)?[]:{},e(t,o[r]||{},n[r],c+1)):n[r]="undefined"===typeof o[r]?null:o[r]}))}const i=this,o={};return e(t,this.options,o,0),o}function u(t,e){const i=t.condition;(i.callback||function(){return this.chartWidth<=n(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=n(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=n(i.minWidth,0)&&this.chartHeight>=n(i.minHeight,0)}).call(this)&&e.push(t._id)}function p(t,e){const s=this.options.responsive;var a=this.currentResponsive;let r=[];!e&&s&&s.rules&&s.rules.forEach(t=>{"undefined"===typeof t._id&&(t._id=c()),this.matchResponsiveRule(t,r)},this),e=o(...r.map(t=>i((s||{}).rules||[],e=>e._id===t)).map(t=>t&&t.chartOptions)),e.isResponsiveOptions=!0,r=r.toString()||void 0,r!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,t,!0),r?(a=this.currentOptions(e),a.isResponsiveOptions=!0,this.currentResponsive={ruleIds:r,mergedOptions:e,undoOptions:a},this.update(e,t,!0)):this.currentResponsive=void 0)}const m=[];d.compose=function(i){return t.pushUnique(m,i)&&e(i.prototype,{currentOptions:h,matchResponsiveRule:u,setResponsive:p}),i}}(d||(d={})),d})),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],(function(t,e,i,s,a,o,r,n,l,c,d,h,u,p,m,f,g,v,y,b,x,w,k,C,S,A,I,T,L,P,_,M,F,D){return t.animate=a.animate,t.animObject=a.animObject,t.getDeferredAnimation=a.getDeferredAnimation,t.setAnimation=a.setAnimation,t.stop=a.stop,t.timers=s.timers,t.AST=o,t.Axis=u,t.Chart=w,t.chart=w.chart,t.Fx=s,t.Legend=x,t.PlotLineOrBand=f,t.Point=y,t.Pointer=b,t.Series=S,t.StackItem=C,t.SVGElement=l,t.SVGRenderer=c,t.Tick=g,t.Time=D,t.Tooltip=v,t.Color=F,t.color=F.parse,h.compose(c),d.compose(l),b.compose(w),x.compose(w),t.defaultOptions=i.defaultOptions,t.getOptions=i.getOptions,t.time=i.defaultTime,t.setOptions=i.setOptions,t.dateFormat=r.dateFormat,t.format=r.format,t.numberFormat=r.numberFormat,t.addEvent=e.addEvent,t.arrayMax=e.arrayMax,t.arrayMin=e.arrayMin,t.attr=e.attr,t.clearTimeout=e.clearTimeout,t.correctFloat=e.correctFloat,t.createElement=e.createElement,t.css=e.css,t.defined=e.defined,t.destroyObjectProperties=e.destroyObjectProperties,t.discardElement=e.discardElement,t.distribute=n.distribute,t.erase=e.erase,t.error=e.error,t.extend=e.extend,t.extendClass=e.extendClass,t.find=e.find,t.fireEvent=e.fireEvent,t.getMagnitude=e.getMagnitude,t.getStyle=e.getStyle,t.inArray=e.inArray,t.isArray=e.isArray,t.isClass=e.isClass,t.isDOMElement=e.isDOMElement,t.isFunction=e.isFunction,t.isNumber=e.isNumber,t.isObject=e.isObject,t.isString=e.isString,t.keys=e.keys,t.merge=e.merge,t.normalizeTickInterval=e.normalizeTickInterval,t.objectEach=e.objectEach,t.offset=e.offset,t.pad=e.pad,t.pick=e.pick,t.pInt=e.pInt,t.relativeLength=e.relativeLength,t.removeEvent=e.removeEvent,t.seriesType=A.seriesType,t.splat=e.splat,t.stableSort=e.stableSort,t.syncTimeout=e.syncTimeout,t.timeUnits=e.timeUnits,t.uniqueKey=e.uniqueKey,t.useSerialIds=e.useSerialIds,t.wrap=e.wrap,T.compose(I),_.compose(S),p.compose(u),m.compose(u),P.compose(L),f.compose(u),M.compose(w),k.compose(u,w,S),v.compose(b),t})),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]}))},ea98:function(t,e,i){"use strict";i("1bfa")},eb85:function(t,e,i){"use strict";var s=i("a026"),a=i("b7fa"),o=i("87e8");const r={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},n={xs:2,sm:4,md:8,lg:16,xl:24};e["a"]=s["default"].extend({name:"QSeparator",mixins:[a["a"],o["a"]],props:{spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},computed:{orientation(){return!0===this.vertical?"vertical":"horizontal"},classPrefix(){return" q-separator--"+this.orientation},insetClass(){return!1!==this.inset?`${this.classPrefix}-${r[this.inset]}`:""},classes(){return`q-separator${this.classPrefix}${this.insetClass}`+(void 0!==this.color?" bg-"+this.color:"")+(!0===this.isDark?" q-separator--dark":"")},style(){const t={};if(void 0!==this.size&&(t[!0===this.vertical?"width":"height"]=this.size),!1!==this.spaced){const e=!0===this.spaced?n.md+"px":this.spaced in n?n[this.spaced]+"px":this.spaced,i=!0===this.vertical?["Left","Right"]:["Top","Bottom"];t["margin"+i[0]]=t["margin"+i[1]]=e}return t},attrs(){return{"aria-orientation":this.orientation}}},render(t){return t("hr",{staticClass:"q-separator",class:this.classes,style:this.style,attrs:this.attrs,on:{...this.qListeners}})}})},eba9:function(t,e,i){},ec15:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Sheet",{attrs:{width:"30vw","sub-actions":!(!t.selectedProcess.processId||!t.attachmentList.length),upload:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal,"no-padding":""},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[t.selectedProcess.processId?e("div",{staticClass:"q-ml-sm text-gray q-mr-sm ellipsis",staticStyle:{"font-size":"10px"}},[t._v(" auto-refresh every 15 seconds ")]):t._e(),t.selectedProcess.processId?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getAttachments()}}}):t._e()]},proxy:!0},"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){t.rowIndex=null,t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0}:null,t.selectedProcess.processId&&t.attachmentList.length?{key:"subActions",fn:function(){return[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All "),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"merge documents (only PDF)",expression:"'merge documents (only PDF)'",modifiers:{top:!0}}],attrs:{"is-disabled":!(t.selectedFileCount>1&&t.isSelectedPDF),icon:"mdi-file-document-multiple-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentMerge}})]},proxy:!0}:null],null,!0),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode||t.initiateProcess||t.isPortal?"calc(100vh - 200px)":""}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadWflowAttachments}}),t._l(t.checkList,(function(i){return[!i.name||i.hasOwnProperty("visible")&&!i.show?t._e():[i.attach?e("div",{key:i.uid},[t._l(t.attachmentFilterCheckList(i.name),(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})]],2):e("div",[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e()],2),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),[("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?[e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Re-Upload",expression:"'Re-Upload'",modifiers:{top:!0}}],attrs:{icon:"mdi-file-upload",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){e.stopPropagation(),t.reuploadFile=i,t.reupload(i.name)}}})],1)]:t._e()]],2)])]}))],2):e("div",{key:i.uid,staticClass:"checkList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),e("div",{staticClass:"col q-ml-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v(" "+t._s(i.name)+" ")]),i.required?e("div",{staticClass:"col-12 q-mt-sm"},[e("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[t._v(" Required ")])],1):t._e()])]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"col-12",on:{click:function(e){return t.attachTemplate(i.uid)}}},[e("q-chip",{staticClass:"chips primary-hover medium",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-upload-outline",color:"primary","text-color":"white"}}),t._v(" Upload ")],1)],1),i.template?e("div",{staticClass:"col-12",on:{click:function(e){return t.download(i.id)}}},[e("q-chip",{staticClass:"chips secondary-hover medium",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-download-outline",color:"secondary","text-color":"white"}}),t._v(" Download ")],1)],1):t._e()])])])]]})),t._l(t.attachmentList,(function(i){return[t.isCheckList(i.name)?[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[i.loading?[e("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:t._e(),t.selectedProcess.processId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1):t._e(),i.formJsonId?e("div",{staticClass:"col-auto"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:t.getLabel(i.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):t._e(),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Download")}}})],1),i.loading?t._e():e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.fileMenuAction(i,"Print")}}})],1)],2),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col row"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Metadata",expression:"'Metadata'",modifiers:{top:!0}}],attrs:{icon:"eva-file-text-outline",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.getFileData(i)}}})],1),("inbox"===t.selectedNode||"common"===t.selectedNode||"payment"===t.selectedNode)&&i.createdBy===t.$store.state.session.id||t.initiateProcess?e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1):t._e()])])]:t._e()]}))],2)],1)]),e("EmailSharing",{attrs:{"repository-id":t.workflow.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}}),e("FileDetails",{attrs:{"file-data":t.fileData},model:{value:t.fileDetailsSheet,callback:function(e){t.fileDetailsSheet=e},expression:"fileDetailsSheet"}}),e("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(e){t.mailAttachmentSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Mail Attachments ")]},proxy:!0}]),model:{value:t.mailAttachmentSheet,callback:function(e){t.mailAttachmentSheet=e},expression:"mailAttachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[t._l(t.mailAttachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openAttachmentFile(i)}}},[t._v(" "+t._s(i.name)+" ")])]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)],1)]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[t.selectedFile.formJsonId?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:t.getLabel(t.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:t._e(),e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])],2)]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Actions",expression:"'Actions'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-menu"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.documentActionList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.documentAction(i.id)}}})})),1)],1)],1)]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("MetaDataEdit",{attrs:{value:t.showMetaDataEditModal,file:t.workflow,"repository-field":t.repositoryField,"file-data":t.fileData,title:t.metaDataTitle||"Index",columns:t.columns,"modal-value":t.workflowModel,"upload-filename":t.uploadFilename,"meta-data-fields":t.metaDataModal},on:{close:t.closeMetaDataEditModal,save:t.saveMetaData}})],1)},a=[],o=(i("14d9"),i("13d5"),i("381e")),r=i("5e23"),n=i("1b0d"),l=i("fa1f"),c=i("a7d2"),d=i("dd90"),h=i("abe1"),u=i("bc3a"),p=i.n(u),m=i("ee54"),f=i("9996"),g=i("869e"),v=i("cade"),y={name:"Attachments",components:{Sheet:o["a"],EmailSharing:r["a"],FileIcon:l["a"],FileDetails:h["a"],MetaDataEdit:m["a"],CheckboxField:g["a"],ListItem:v["a"]},props:{value:{type:Boolean,default:!1},selectedProcess:{type:Object,default:()=>{}},workflow:{type:Object,default:()=>{}},selectedNode:{type:String,required:!0},initiateProcess:{type:Boolean,default:!1},formCheckList:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},wform:{type:Object,default:()=>{}},repositoryDetails:{type:Object,default:()=>{}},workflowModel:{type:Object,default:()=>{}},formUploadFiles:{type:Array,default:()=>[]},formFields:{type:Array,default:()=>[]},repositoryField:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},attachments:{type:Array,default:()=>[]},workflowId:{type:Number,required:!0},isPortal:{type:Boolean,default:!1}},data(){return{attachmentSheet:!1,attachmentList:[],selectAll:!1,emailSharingSheet:!1,selectedFileList:[],fileDetailsSheet:!1,fileData:[],checkListRowIndex:0,selectedFile:{},mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,watchViewerClose:null,reuploadFile:{},documentActionList:[{id:"Download",key:"download",label:"Download",icon:"mdi-download-outline"},{id:"Print",key:"print",label:"Print",icon:"eva-printer-outline"}],uploadFilename:"",showMetaDataEditModal:!1,selectedUploadFile:{},documentLoad:null,documentLoadList:[],metaDataModal:{},metaDataTitle:"",selectedCheckListName:""}},computed:{selectedFileCount(){this.clearAttach();let t=this.attachmentList.filter(t=>t.checked).length;return t},isSelectedPDF(){let t=!0;return this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"!==i.toLowerCase()&&(t=!1)}),t}},watch:{value:{immediate:!0,handler(){if(this.value)if(this.attachmentSheet=!0,this.attachmentList=this.attachments,this.attachmentSheet&&this.selectedProcess.processId){if(this.getAttachments(),this.attachmentList.length){let t=this.attachmentList.length-1;this.getFileData(this.attachmentList[t],"file")}this.attachmentLoad=setInterval(()=>{this.getAttachments()},15e3)}else clearInterval(this.attachmentLoad)}}},methods:{async getAttachments(t=0,e=0){let i=this.attachmentList.length;t||e||(t=this.workflowId,e=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:s,payload:a}=await n["t"].getAttachments(t,e);if(this.$store.commit("hideLoadingBar"),s)this.$alert.error(s);else if(a.length?(i!==a.length&&(this.attachmentList=a.map(t=>({...t,checked:!1}))),this.$emit("attachmentCount",this.attachmentList.length)):this.attachmentList=[],this.checkList.length){this.checkList.forEach(t=>{let e=this.attachmentList.filter(e=>{let i=e.name.substr(0,e.name.lastIndexOf("."));if(t.name===i||t.name===i.split("_")[0])return e});e.length?t.attach=!0:t.attach=!1});let t=location.origin;(this.isTenantArmgroup()||"https://trial.ezofis.com"===t&&12===this.$store.state.session.tenantId)&&this.selectedProcess.attachmentCount!==this.attachmentList.length&&this.$emit("update:formCheckList",!0)}},isTenantArmgroup(){let t=location.origin;return("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:8080"===t)&&3===this.$store.state.session.tenantId},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},async documentMerge(){let t=[];this.attachmentList.forEach(e=>{let i=e.name.split(".").pop();e.checked&&"pdf"===i.toLowerCase()&&t.push(e.id)});let e={ids:t};const{error:i}=await n["t"].documentMerge(this.workflowId,this.selectedProcess.processId,this.selectedProcess.transactionId,this.workflow.repositoryId,e);i?this.$alert.error(i):this.$alert.success("Document merge process initiated")},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},clearAttach(){console.log("clear")},attachTemplate(t){this.checkListRowIndex=t,this.$refs.attachments.click(),this.selectedCheckListName=this.checkList.find(e=>t==e.uid).name},reupload(t){var e;t=t.substr(0,t.lastIndexOf(".")).split("_")[0],this.checkListRowIndex=null===(e=this.checkList.find(e=>e.name===t))||void 0===e?void 0:e.uid,this.$refs.attachments.click()},attachmentFilterCheckList(t){return this.attachmentList.filter(e=>e.name.substring(0,e.name.lastIndexOf("."))===t||e.name.substring(0,e.name.lastIndexOf(".")).split("_")[0]===t)},isCheckList(t){let e=this.checkList.filter(e=>e.name===t.substring(0,t.lastIndexOf("."))||e.name===t.substring(0,t.lastIndexOf(".")).split("_")[0]);return!e.length},showMailAttachments(t){this.mailAttachmentList=[];let e=t.attachmentJson.split(",");e.forEach(e=>{let i=e.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:t.id,name:i,createdAt:t.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(t){let e=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${t.mailId}/${t.name}`;window.open(e,"_blank")},getLabel(t){let e="",i=this.wform.formJson?JSON.parse(this.wform.formJson):this.wform;const s=[...i.panels,...i.secondaryPanels];if(!s.length)return;let a=[];for(const o of s)a.push(...o.fields);return a.forEach(i=>{const s=i.settings.specific.tableColumns.find(e=>e.id===t);if(s)e=s.label;else if(i.id===t)return void(e=i.label)}),e},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(c["a"])(t)},openFile(t){t.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=t,this.isTenantArmgroup()?window.open(this.fileLink()):this.fileSheet=!0)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2);let s="";if(Object(d["d"])(e))s=this.isTenantArmgroup()?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`;s="http://52.172.32.88/DocsViewer/index.html"}return`${s}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`}{let i="",s="";if("inbox"!==this.selectedNode&&"common"!==this.selectedNode&&"payment"!==this.selectedNode||(s="&action=all"),Object(d["d"])(e))this.isTenantArmgroup()?(s="",i="https://ag-appsvc04.azurewebsites.net/web/viewer.html"):"https://trial.ezofis.com"!==t||Object(d["c"])(e)?i=this.isTenantGOTO()?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html":(localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="https://trial.ezofis.com/docsviewer/index.html");else{if(Object(d["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;localStorage.setItem("viewerClose",!1),this.watchViewerClose=setInterval(()=>this.checkViewerClose(),1e3),i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${s}`}}},fileMenuAction(t,e){this.selectedFile=t,this.documentAction(e,!0)},documentAction(t,e){if("Email_Sharing"===t);else if("Print"===t){if(this.selectedFile.name)if(e){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/1`}else t=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}else{let t=this.selectedFile.name.split(".").pop();Object(d["d"])(t)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===t){let t="";if(this.selectedFile.initiate){let e=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(e=2),t=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${e}/2`}else t=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(t,"_blank")}},async filePrintSession(){const{error:t}=await n["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});t&&this.$alert.error(t)},async getFileData(t,e){const{error:i,payload:s}=await n["p"].getFileData({repositoryId:t.repositoryId,itemId:t.id});i?this.$alert.error(i):s&&(t.fileData?this.fileData=t.fileData:this.fileData=s,"file"!==e&&(this.fileDetailsSheet=!0))},async attachmentDelete(t){if(t.fileControl){let e=this.workflowModel[t.fieldId];if(e.length){let i=e.findIndex(e=>e.fileId===t.id);console.log(i),i>=0&&this.workflowModel[t.fieldId].splice(i,1);let s=this.formUploadFiles.findIndex(e=>e.fileId===t.id&&e.fileId===t.fileId);console.log(s),s>=0&&this.formUploadFiles.splice(i,1),t.control.length&&t.control.forEach(t=>{this.workflowModel[t]=""})}let i=this.attachmentList.findIndex(t=>t.fileControl);console.log(i),i>=0&&(this.$emit("attachmentCount",this.attachmentList.length-1),this.attachmentList.splice(i,1))}else if(t.initiate){const{error:e}=await n["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id),this.checkList.forEach(e=>{e.uid===t.uid&&(e.attach=!1)})}else{const{error:e}=await n["p"].fileDelete(this.workflow.repositoryId,t.id);if(e)return void this.$alert.error(e);this.getAttachments()}},checkViewerClose(){localStorage.getItem("viewerClose")&&"true"===localStorage.getItem("viewerClose")&&(this.fileSheet=!1,localStorage.removeItem("viewerClose"),clearInterval(this.watchViewerClose),this.workflow.initiatedBy)},isTenantGOTO(){let t=location.origin;return("https://app.ezofis.com"===t||"https://appuat.ezofis.com"===t)&&2===this.$store.state.session.tenantId},customCheckUpload(){let t=location.origin;return"https://edmsuat.sobhaapps.com"===t&&(55===this.workflowId||2092===this.workflowId)&&0===this.attachmentList.length},async uploadWflowAttachments(t){if("STATIC"===this.repositoryDetails.fieldsType){if(this.selectedUploadFile=t,this.customCheckUpload()){let e=this.formFields.find(t=>"Document No"===t.label);this.uploadFilename=e?this.workflowModel[e.value]+".pdf":t.target.files[0].name}else this.uploadFilename=t.target.files[0].name;const e=this.repositoryField.reduce((t,e)=>e.level>t.level?e:t,this.repositoryField[0]),i=e.id,s=this.fileData.find(t=>i==t.id);if(!this.selectedCheckListName){const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length?s&&(s.value=""):(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName")),this.showMetaDataEditModal=!0}if(this.selectedCheckListName){s&&(s.value=this.selectedCheckListName);const t={id:e.id,name:e.name,value:this.selectedCheckListName,type:e.dataType};this.fileData.length||(this.fileData.push(t),console.log(this.fileData,"selectedCheckListName"));const i=this.repositoryField.filter(t=>!0===t.isMandatory).map(t=>t.id),a=i.every(t=>{const e=this.fileData.find(e=>e.id===t);return e&&""!==e.value});if(this.showMetaDataEditModal=!a,a){const t={};this.fileData.forEach(e=>{t[e.name]=""!==e.value?e.value:""}),console.log(t,"New Object"),this.saveMetaData(t)}else this.showMetaDataEditModal=!0;this.selectedCheckListName=""}}else this.uploadAttachments(t)},async uploadAttachments(t,e){if(this.selectedProcess.processId){const s=t.target.files[0],a=new FormData;a.append("workflowId",this.workflowId),a.append("repositoryId",this.workflow.repositoryId),a.append("processId",this.selectedProcess.processId),a.append("transactionId",this.selectedProcess.transactionId),e?a.append("fields",e):a.append("fields",""),a.append("file",s);let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}if(!Object(d["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const t=await p()({url:"https://appuat.ezofis.com/ezofisapi/api/workflow/attachmentWithProcessId",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:e,data:i}=t;if(200!==e||!i)throw t;this.$alert.success("Document attached"),this.documentLoad=setInterval(()=>{this.getAttachments(),clearInterval(this.documentLoad)},15e3)}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.$store.commit("hideLoadingBar"),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value="",Object.keys(this.reuploadFile).length&&(await this.attachmentDelete(this.reuploadFile),this.reuploadFile={})}else{const s=t.target.files[0],a=new FormData;a.append("file",s),a.append("repositoryId",this.workflow.repositoryId),e&&(this.fileData=JSON.parse(e),a.append("fields",e));let o=t.target.files[0].name;const r=o.split(".").pop();if(this.checkListRowIndex){let t=this.checkList.filter(t=>t.uid===this.checkListRowIndex);a.append("filename",t[0].name+"."+r),o=t[0].name+"."+r}else a.append("filename",o);if(!Object(d["a"])(r))return void this.$alert.info("This file format is not supported");this.$store.commit("showLoadingBar");try{const i=await p()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:a,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBar");const{status:n,data:l}=i;if(200!==n)throw"Invalid response";let c=JSON.parse(l);this.$alert.success("Document attached");let d=this.repositoryField.reduce((t,e)=>t.level>e.level?t:e),h=this.fileData.find(t=>t.name===d.name),u=!1;"pdf"!==r.toLowerCase()&&(u=!0,this.documentLoadList.push(Number(c.fileId)),this.documentLoad=setInterval(()=>{let t=this.attachmentList.find(t=>this.documentLoadList.indexOf(t.id)>-1);t&&(this.documentLoadList.splice(this.documentLoadList.indexOf(t.id),1),t.loading=!1),0===this.documentLoadList.length&&clearInterval(this.documentLoad)},1e4)),this.attachmentList.push({id:Number(c.fileId),name:e?h.value+"."+r:o,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:s.size,initiate:!0,uid:this.checkListRowIndex,createdBy:this.$store.state.session.id,fileData:this.fileData,repositoryId:this.workflow.repositoryId,loading:u}),this.$emit("attachmentCount",this.attachmentList.length),this.checkList.length&&this.checkList.forEach(t=>{t.uid!==this.checkListRowIndex||(t.attach=!0)}),t.target.value=""}catch(i){console.error(i),this.$alert.error("error attaching file")}}},closeMetaDataEditModal(){this.showMetaDataEditModal=!1,this.$refs.attachments&&(this.$refs.attachments.value=null)},saveMetaData(t){let e=[];this.repositoryField.forEach(i=>{e.push({name:i.name,value:t[i.name],type:i.dataType})}),e.forEach(t=>{let e=this.formFields.find(e=>Object(f["a"])(e.label)===Object(f["a"])(t.name));e&&t.value&&(this.workflowModel[e.value]=t.value)}),this.uploadAttachments(this.selectedUploadFile,JSON.stringify(e))},closeAttachmentsSheet(){this.attachmentSheet=!1,this.$emit("update:attachments",this.attachmentList),this.$emit("attachmentCount",this.attachmentList.length),this.$emit("update:value",!1)}}},b=y,x=(i("11f5"),i("2877")),w=i("b047"),k=i("cb32"),C=i("4e73"),S=i("93dc"),A=i.n(S),I=Object(x["a"])(b,s,a,!1,null,"dc5d287e",null);e["a"]=I.exports;A()(I,"components",{QChip:w["a"],QAvatar:k["a"],QMenu:C["a"]})},ed61:function(t,e,i){"use strict";i("c0f4")},ee16:function(t,e,i){},ee26:function(t,e,i){"use strict";i("cbc3")},ee54:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{value:t.value,"has-footer":"",width:"540px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[t.editFromFileSheet?t._e():t._l(t._repositoryField,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:i,"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:t.fieldsModel[i.name],callback:function(e){t.$set(t.fieldsModel,i.name,e)},expression:"fieldsModel[field.name]"}})]]],2)})),t.editFromFileSheet?t._l(t.fieldsModalData,(function(i){return e("div",{key:i.id,staticClass:"field-wrapper"},[[[e("RepositoryField",{staticClass:"col",attrs:{field:t.getField(i.fieldId),"repository-id":t.file.repositoryId,"read-only":t.readOnly},model:{value:i.newValue,callback:function(e){t.$set(i,"newValue",e)},expression:"field.newValue"}})]]],2)})):t._e()],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"save"},on:{click:t.save}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("6a70"),n=i("7794"),l=i("9996"),c=i("7ee8"),d={name:"MetaDataEdit",components:{Modal:r["a"],ValidationObserver:o["a"],RepositoryField:n["a"]},props:{value:{type:Boolean,default:!1},file:{type:Object,required:!0},repositoryField:{type:Array,required:!0},fileData:{type:Array,required:!0},title:{type:String,default:"Metadata Edit"},columns:{type:Array,default:()=>[]},modalValue:{type:Object,default:()=>{}},readOnly:{type:Boolean,default:!1},uploadFilename:{type:String,default:""},editFromFileSheet:{type:Boolean,default:!1},metaDataFields:{type:Object,default:()=>{}}},data(){return{fieldsModel:{},fieldsModalData:[]}},computed:{_repositoryField(){return this.repositoryField.map(t=>({...t,options:t.options?JSON.parse(t.options):[]}))}},watch:{fileData:{immediate:!0,deep:!0,async handler(){this.editFromFileSheet?(this.fieldsModalData=[],this.fileData.length&&this.fileData.forEach(t=>{this.fieldsModalData.push({fieldId:t.id,oldValue:t.value,newValue:t.value})})):this.processFieldsModel()}},value(){this.value&&this.processFieldsModel()}},methods:{processFieldsModel(){if(this.fieldsModel={},this.fileData.length?this.fileData.forEach(t=>{this.$set(this.fieldsModel,t.name,t.value)}):this._repositoryField.forEach(t=>{let e=this.columns.find(e=>Object(l["a"])(e.label)===Object(l["a"])(t.name));e?this.modalValue.formData?this.$set(this.fieldsModel,t.name,this.modalValue.formData.fields[e.id]):this.modalValue[e.name]?this.$set(this.fieldsModel,t.name,this.modalValue[e.name]):this.modalValue[e.id]&&this.$set(this.fieldsModel,t.name,this.modalValue[e.id]):Object(c["a"])(this.metaDataFields)?this.$set(this.fieldsModel,t.name,""):this.$set(this.fieldsModel,t.name,this.metaDataFields[t.name])}),this.uploadFilename){let t=this.uploadFilename.substring(0,this.uploadFilename.lastIndexOf(".")),e=this._repositoryField.find(t=>"filename"==t.name.toLowerCase());e&&this.$set(this.fieldsModel,e.name,t)}},closeModal(){this.$emit("close",!1)},async save(){const t=await this.$refs.form.validate();t&&(this.$emit("save",this.editFromFileSheet?this.fieldsModalData:this.fieldsModel),this.$emit("close",!1))},getField(t){let e=this._repositoryField.find(e=>t===e.id);if(e)return e}}},h=d,u=(i("4697"),i("2877")),p=Object(u["a"])(h,s,a,!1,null,"059cbd7c",null);e["a"]=p.exports},ee74:function(t,e,i){},ee7b:function(t,e,i){},eeb6:function(t,e,i){"use strict";i("829d")},eed3:function(t,e,i){"use strict";i("e170")},ef04:function(t,e,i){},f042:function(t,e,i){"use strict";i("c721")},f108:function(t,e,i){},f458:function(t,e,i){},f47c:function(t,e,i){"use strict";i("bcff")},f666:function(t,e,i){},f6de:function(t,e,i){},f92f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item-list"}},[t.selectedDummyData?t._t("default"):t._e(),e("BaseScrollbar",{attrs:{height:t.breadcrumbs||t.report?"calc(100vh - 310px)":"calc(100vh - 260px)"}},[e("table",[t.tableHeader?e("thead",[e("tr",{staticStyle:{"background-color":"var(--body-bg-color)"}},[e("th",{staticClass:"sticky icon",staticStyle:{left:"0"}},[t.checkbox?e("div",{staticClass:"row items-center justify-center"},[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.handleSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}})],1):t._e()]),t.repository&&t.checkbox?[e("th",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"80px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e()]:[t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e()],t._l(t._columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),t.noActions?t._e():e("th",{staticClass:"sticky action",staticStyle:{right:"0"}})],2)]):t._e(),e("tbody",[t._l(t.items,(function({key:i,value:s,data:a}){return[i?e("tr",{key:s},[e("td",{staticClass:"group-by",attrs:{colspan:"2"}},[e("span",{staticClass:"key"},[t._v(t._s(i)+": ")]),e("span",[t._v(t._s(s)+" ")]),e("span",[t._v("("+t._s(a.length)+")")])])]):t._e(),t._l(a,(function(i,s){return[e("tr",{key:i.id,class:{"no-border":0===s,background:!t.noBackground,checkout:2===i.checkinStatus},on:{click:function(e){return t.toggleLink(i,a)}}},[t.repository&&t.checkbox?[e("td",{staticClass:"sticky icon",staticStyle:{left:"0"}},[t.checkbox?e("div",{staticClass:"row items-center justify-center"},[e("CheckboxField",{on:{input:function(e){return t.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}})],1):t._e()]),e("td",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}},[e("div",{staticClass:"row items-center justify-center",staticStyle:{width:"20px"}},[t._t("avatar",null,{item:i})],2)])]:[e("td",{staticClass:"sticky icon",staticStyle:{left:"0",width:"36px"}},[t.checkbox?e("div",{staticClass:"col items-center justify-center"},[e("CheckboxField",{on:{input:function(e){return t.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}}),i.subWorkflow?[i.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2):e("div",{staticClass:"col items-center justify-center"},[t._t("avatar",(function(){return[i.buttonAction?["Closed"!==i.status?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Mark Completed",expression:"'Mark Completed'",modifiers:{top:!0}}],attrs:{name:t.selectedRowIndex===s?"mdi-check":i.icon,color:t.selectedRowIndex===s?"primary":i.color},on:{mouseover:function(e){t.selectedRowIndex=s},mouseout:function(e){t.selectedRowIndex=-1},click:function(e){return t.$emit("complete",i.id)}}})]:[e("BaseIcon",{attrs:{name:i.icon,color:i.color}})]]:[i.iconTooltip?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"item.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color||"secondary"}})]:[e("BaseIcon",{attrs:{name:i.icon,color:i.color||"secondary"}})]]]}),{item:i}),i.subWorkflow?[i.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2)])],t.title?e("td",{staticClass:"sticky",style:"left:"+t.leftcount,on:{click:function(e){i.link&&t.$emit("select",i.id,a)}}},[t._t("title",(function(){return[e("div",{staticClass:"font-medium ellipsis",class:i.link?"text-underline":"",staticStyle:{"max-width":"250px"}},[e("span",{on:{mouseover:function(e){return t.$emit("showThumbnail",i,e)},mouseleave:function(e){return t.$emit("hideThumbnail",i)}}},[t._v(t._s(i[t.title.name])+" ")])])]}),{item:i,title:i[t.title.name]}),t._t("thumbnail",null,{item:i})],2):t._e(),t._l(t._columns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["TABLE"===s.dataType?[i[s.name]?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Table Data",expression:"'Table Data'",modifiers:{top:!0}}],attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.showTable(s.name,i[s.name])}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]:"ICON"===s.type?[i[s.name]?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip[s.name],expression:"item.iconTooltip[column.name]",modifiers:{top:!0}}],attrs:{name:i[s.name],color:i.iconColor[s.name]}})]:[t._v(" "+t._s("-")+" ")]]:"FILE_UPLOAD"===s.dataType?[i[s.name]?["string"===typeof i[s.name]?e("div",{staticClass:"ellipsis medium"},t._l(JSON.parse(i[s.name]),(function(s,a){return e("div",{key:a,staticClass:"row"},[e("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"text-secondary file-underline col",on:{click:function(e){return t.viewFile(s,i)}}},[t._v(t._s(s.fileName))])],1)})),0):e("div",{staticClass:"ellipsis medium"},t._l(i[s.name],(function(s,a){return e("div",{key:a,staticClass:"row"},[e("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"text-secondary file-underline col",on:{click:function(e){return t.viewFile(s,i)}}},[t._v(t._s(s.fileName))])],1)})),0)]:t._e()]:[e("div",{class:{"data-change":t.hasMetaDataEdit},on:{click:function(e){return t.handleOpenInput(i,s)}}},[t._v(" "+t._s(i[s.name]||"-")+" ")])]]}),{value:i[s.name],item:i})],2)})),t.noActions?t._e():e("td",{staticClass:"sticky action",staticStyle:{right:"0",width:"50px"}},[t._t("actions",(function(){return["BROWSE"===t.mode?[i.actionAccess?t._e():[e("div",{staticClass:"row justify-end no-wrap"},[t.security||t.visibility(i)?[i.actionButton?[i.infoIcon?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-check-all",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-bell-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-shield-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("secure",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(e){return e.stopPropagation(),t.$emit("more",i.id)}}},[t._t("extraMenu")],2)]:[i.infoIcon?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",i.id)}}}):t._e(),1===i.emailStatus?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-check-outline",color:"green"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):0===i.emailStatus?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-sync-outline",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):t.resend?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",i.id)}}}),t.showExport?e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-download-outline",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.$emit("export",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(e){return e.stopPropagation(),t.$emit("more",i.id)}}},[t._t("extraMenu")],2)]]:t._e()],2)]]:t._e(),"TRASH"===t.mode?[e("div",{staticClass:"row justify-end"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"mdi-history","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("restore",i.id)}}})],1)]:t._e()]}),{item:i})],2)],2),i.subWorkflow?[i.subWorkflow.length?[i.expandSubworkflow?e("tr",{key:i.id,staticClass:"sub-background"},[e("td",{attrs:{colspan:t._columns.length+3}},[e("table",{key:"subtable"+i.id,staticStyle:{"margin-left":"20px",border:"1px solid var(--divider-color)","table-layout":"fixed","max-width":"70%","min-width":"calc(70% - 1px)","border-collapse":"collapse","white-space":"nowrap"}},[e("thead",[e("tr",[e("th",{staticClass:"sticky icon",staticStyle:{left:"0","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"icon"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"title"}},[e("div",{staticClass:"font-medium ellipsis",staticStyle:{"max-width":"250px"}},[t._v(" "+t._s(t.title.label)+" ")])]):t._e(),t._l(t._subWorkflowColumns,(function(i){return e("th",{key:i.id,staticStyle:{"background-color":"rgb(222 217 247)",width:"2%"}},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky",staticStyle:{"background-color":"rgb(222 217 247)"}})],2)]),e("tbody",[t._l(i.subWorkflow,(function(i){return[e("tr",{key:i.requestNo},[e("td",{staticClass:"sticky icon sub-background",staticStyle:{left:"0"},attrs:{name:"avatar"}},[e("div",{staticClass:"row items-center sticky justify-center"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"subItem.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color}})],1)]),e("td",{staticClass:"sticky sub-background",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"},attrs:{name:"title"}},[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.requestNo,expression:"subItem.requestNo",modifiers:{top:!0}}],staticClass:"row items-center text-underline",staticStyle:{overflow:"hidden !important","white-space":"unset !important",width:"220px"},on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")])]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.stage)+" ")]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.raisedBy)+" ")]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.raisedAt)+" ")]),e("td",{staticClass:"sticky sub-background",staticStyle:{right:"0px",width:"20%"}},[t._t("subactions",null,{item:i})],2)])]}))],2)])])]):t._e()]:t._e()]:t._e()]}))]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],2)},a=[],o=(i("caad"),i("869e")),r=i("6a70"),n=i("fa1f"),l={name:"ItemList",components:{CheckboxField:o["a"],Modal:r["a"],FileIcon:n["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},noBackground:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},tableHeader:{type:Boolean,default:!0},security:{type:Boolean,default:!0},checkbox:{type:Boolean,default:!1},hasMetaDataEdit:{type:Boolean,required:!1},breadcrumbs:{type:Boolean,default:!1},report:{type:Boolean,default:!1},resend:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},repository:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{selectedRowIndex:-1,userId:this.$store.state.session.id,email:this.$store.state.session.email,selectedDummyData:!1,expandTableModal:!1,tableTitle:"",tableData:[]}},computed:{_columns(){return this.columns.filter(t=>"TITLE"!==t.type&&t.isVisible)},title(){return this.columns.find(t=>"TITLE"===t.type)},leftcount(){return this.repository&&this.checkbox?"80px":"36px"},_subWorkflowColumns(){let t=[{id:this.$nano.id(),name:"stage",label:"Stage",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",type:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}];return t}},created(){this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!1)})})},methods:{visibility(t){const e=Number(this.userId),i=this.email;let s=!1;const a=t.owner?t.owner.map(t=>t.id):[0],o=t.coordinator?t.coordinator.map(t=>t.id):[0];return(t.createdBy===i||a.includes(e)||o.includes(e)||1===e)&&(s=!0),s},handleCheckboxChange(t){this.selectAll=!1,this.selectedDummyData=!this.selectedDummyData;const e=this.items.flatMap(t=>t.data).find(e=>e.id===t);e&&this.$set(e,"selected",e.selected),this.$emit("update-selected-all",this.selectAll)},handleSelectAll(){!0===this.selectAll&&this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!0)})}),!1===this.selectAll&&this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!1)})}),this.$emit("update-selected-all",this.selectAll)},showTable(t,e){e&&(this.report?this.$emit("showTable",t,e):(this.tableTitle=t,this.tableData=JSON.parse(e),this.expandTableModal=!0))},handleOpenInput(t,e){this.$emit("openMetaDataEdit",t,e)},viewFile(t,e){t.createdBy=e.createdBy,t.createdAt=e.createdAt,t.name||(t.name=t.fileName),t.id||(t.id=t.itemId),this.$emit("viewFile",t)},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},toggleLink(t,e){t.expandSubworkflow=!t.expandSubworkflow,!t.link&&this.$emit("select",t.id,e),this.selectedDummyData=!this.selectedDummyData},openSubProcess(t){this.$emit("openSubWorkflow",t)}}},c=l,d=(i("d37d"),i("2877")),h=Object(d["a"])(c,s,a,!1,null,"00be4c3f",null);e["a"]=h.exports},f98d:function(t,e,i){},f9d3:function(t,e,i){},fa79:function(t,e,i){"use strict";i("3002")},fabd:function(t,e,i){},fad0:function(t,e,i){},fb47:function(t,e,i){"use strict";i("1483")},fd26:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{attrs:{"is-flat":"","no-border":t.noBorder,icon:t.darkTheme?"eva-moon-outline":"eva-sun-outline"},on:{click:t.toggleDarkTheme}})},a=[],o=i("2f62"),r={name:"ThemeSwitcher",props:{noBorder:{type:Boolean,default:!0}},computed:{...Object(o["c"])(["darkTheme"])},methods:{...Object(o["b"])(["toggleDarkTheme"])}},n=r,l=i("2877"),c=Object(l["a"])(n,s,a,!1,null,"b3ced1f0",null);e["a"]=c.exports},fdd5:function(t,e,i){"use strict";i("4d38")},ff71:function(t,e,i){"use strict";i("d9f6")}}]);
//# sourceMappingURL=dashboard.259c242e.js.map