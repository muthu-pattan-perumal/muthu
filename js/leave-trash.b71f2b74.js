(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["leave-trash","integration-browse~repositories-reports-overview"],{"00f0":function(e,t,i){},"0412":function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"item-grid"}},[t("BaseScrollbar",{attrs:{height:e.breadcrumbs?"calc(100vh - 295px)":"calc(100vh - 260px)"}},e._l(e.items,(function({key:i,value:s,data:a}){return t("div",{key:s},[i?t("div",{staticClass:"group-by"},[t("span",{staticClass:"key"},[e._v(e._s(i)+": ")]),t("span",[e._v(e._s(s)+" ")]),t("span",[e._v("("+e._s(a.length)+")")])]):e._e(),e._t("items",(function(){return[t("div",{staticClass:"row q-col-gutter-md"},e._l(a,(function(i){return t("div",{key:i.id,staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-3",on:{click:function(t){return e.$emit("select",i.id)}}},[t("div",{staticClass:"card"},[e._t("header",(function(){return[t("div",{staticClass:"row items-center q-pa-md"},[e._t("avatar",(function(){return[t("BaseIcon",{attrs:{name:i.icon,color:"secondary"}})]}),{item:i}),t("div",{staticClass:"col q-mx-md"},[e._t("title",(function(){return[t("div",{staticClass:"title ellipsis"},[e._v(" "+e._s(i[e.title.name])+" ")])]}),{item:i,title:i[e.title.name]}),e._t("subtitle",(function(){return[t("div",{staticClass:"subtitle ellipsis"},[e._v(" "+e._s(i[e.subtitle.name]||"-")+" ")])]}),{subtitle:e.subtitle&&i[e.subtitle.name]})],2),i.infoIcon?e._t("infoIcon",(function(){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon?i.infoIcon:"",color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(t){return e.$emit("info",i.id)}}})]}),{item:i}):e._e()],2)]}),{item:i}),e._t("content",(function(){return[e._columns.length?[t("BaseSeparator",{attrs:{"has-inset":""}}),t("div",{staticClass:"q-py-sm"},e._l(e._columns,(function(s){return t("div",{key:s.id},[e._t(s.name,(function(){return[t("div",{staticClass:"row q-px-md q-py-sm"},[t("div",{staticClass:"label ellipsis medium"},[e._v(" "+e._s(s.label)+" ")]),t("q-space"),"FILE_UPLOAD"===s.dataType?[t("div",{staticClass:"ellipsis medium text-right"},e._l(i[s.name],(function(s,a){return t("div",{key:a,staticClass:"row"},[t("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":e.fileType(s.fileName)}}),t("span",{staticClass:"text-secondary file-underline col",on:{click:function(t){return e.viewFile(s,i)}}},[e._v(e._s(s.fileName))])],1)})),0)]:[t("div",{staticClass:"ellipsis medium text-right"},[e._v(" "+e._s(i[s.name]||"-")+" ")])]],2)]}),{column:s.label,value:i[s.name],item:i})],2)})),0)]:e._e()]}),{item:i}),e.noActions?e._e():t("BaseSeparator",{attrs:{"has-inset":""}}),e.noActions?e._e():e._t("footer",(function(){return["BROWSE"===e.mode?[i.actionAccess?[t("Action",{staticClass:"col",attrs:{icon:"eva-eye-outline",label:"View"},on:{click:function(t){return t.stopPropagation(),e.$emit("select",i.id)}}})]:[t("div",{staticClass:"row items-center"},[e.security||e.visibility(i)?[i.actionButton?[t("Action",{staticClass:"col",attrs:{icon:"eva-edit-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-shield-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("secure",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("BaseActionButton",{staticClass:"q-mx-md",attrs:{"is-flat":"",icon:"eva-more-vertical","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}})]:[t("Action",{staticClass:"col",attrs:{icon:"eva-edit-outline",label:"Edit"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),e.showExport?[t("BaseActionButton",{staticClass:"q-mx-sm",attrs:{"is-flat":"",icon:"eva-download-outline","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("export",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}})]:e._e(),t("BaseActionButton",{staticClass:"q-mx-md",attrs:{"is-flat":"",icon:"eva-more-vertical","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}})]]:e._e()],2)]]:e._e(),e.visibility(i)||e.security?e._e():[[t("Action",{attrs:{icon:"mdi-eye-outline",label:"View"},on:{click:function(t){return t.stopPropagation(),e.$emit("select",i.id)}}})]],"TRASH"===e.mode?[e.security||e.visibility(i)?[t("Action",{attrs:{icon:"mdi-history",label:"Restore"},on:{click:function(t){return t.stopPropagation(),e.$emit("restore",i.id)}}})]:e._e()]:e._e()]}),{item:i})],2)])})),0)]}),{items:a})],2)})),0)],1)},a=[],o=(i("caad"),i("94f5")),r=i("fa1f"),n={name:"ItemGrid",components:{Action:o["a"],FileIcon:r["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},security:{type:Boolean,default:!0},noActions:{type:Boolean,default:!1},breadcrumbs:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{userId:this.$store.state.session.id,email:this.$store.state.session.email}},computed:{title(){return this.columns.find(e=>"TITLE"===e.type)},subtitle(){return this.columns.find(e=>"SUBTITLE"===e.type)},_columns(){return this.columns.filter(e=>"NORMAL"===e.type&&e.isVisible)}},methods:{visibility(e){const t=Number(this.userId),i=this.email;let s=!1;const a=e.owner?e.owner.map(e=>e.id):[0],o=e.coordinator?e.coordinator.map(e=>e.id):[0];return(e.createdBy===i||a.includes(t)||o.includes(t)||1===t)&&(s=!0),s},viewFile(e,t){e.createdBy=t.createdBy,e.createdAt=t.createdAt,this.$emit("viewFile",e)},fileType(e){if(e)return e.split(".").reverse()[0].slice(0,4)}}},l=n,c=(i("0f1c"),i("2877")),d=i("2c91"),u=i("93dc"),m=i.n(u),p=Object(c["a"])(l,s,a,!1,null,null,null);t["a"]=p.exports;m()(p,"components",{QSpace:d["a"]})},"064c":function(e,t,i){"use strict";i("caad");var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row items-center",attrs:{id:"item-actions"}},[(e.customProcessForm,e._e()),e.sendInvite?[t("div",{attrs:{classs:"cursor-pointer"},on:{click:function(t){return e.$emit("invite")}}},[t("q-chip",{staticClass:"cursor-pointer primary-hover q-mr-sm",attrs:{outline:"",color:"primary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-account-plus",color:"primary","text-color":"white"}}),e._v(" Send Invite ")],1)],1)]:e._e(),e.processForward?[t("div",{attrs:{classs:"cursor-pointer"},on:{click:function(t){return e.$emit("forward")}}},[t("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-arrow-right",color:"orange","text-color":"white"}}),e._v(" Assign ")],1)],1)]:e._e(),e.workflowInitiate?[e.initiateAccess?[t("div",{attrs:{classs:"cursor-pointer "},on:{click:function(t){return e.$emit("initiate")}}},[t("q-chip",{staticClass:"cursor-pointer secondary-hover q-mr-sm",attrs:{outline:"",color:"secondary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),e._v(" Initiate ")],1)],1)]:[t("q-chip",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Choose document to initiate",expression:"'Choose document to initiate'",modifiers:{top:!0}}],staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",disable:"",color:"secondary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),e._v(" Initiate ")],1)]]:e._e(),e.gotoInbox?t("div",{staticClass:"cursor-pointer q-mr-xs",on:{click:function(t){return e.$emit("inbox")}}},[t("q-chip",{staticClass:"cursor-pointer primary-hover",attrs:{outline:"",color:"primary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-email",color:"primary","text-color":"white"}}),e._v(" My Inbox ")],1)],1):e._e(),e.workflowImport?t("ImportPopup",{attrs:{"chip-button":!0,"data-imported":e.dataImported,"form-id":e.formId},on:{upload:e.upload,close:e.closeImport}}):e._e(),e.downloadAll?t("div",{staticClass:"row q-pr-xs",class:{download:e.checkIconCount}},[e.visibleDownload?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"download",expression:"'download'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{icon:"mdi-download-outline","is-flat":"","no-border":""},on:{click:function(t){return e.$emit("downloadAll",e.item.id)}}}):e._e(),e.visiblePrint?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"print",expression:"'print'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"eva-printer-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("printAll",e.item.id)}}}):e._e(),e.visibleEmail?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Email Sharing",expression:"'Email Sharing'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("emailAll",e.item)}}}):e._e(),e.visibleDelete?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(t){return e.$emit("deleteFileAction",e.item.id)}}}):e._e()],1):e._e(),e._t("filterSearchIcon"),e.simpleSearchFilter?t("div",[e.hideActions.includes("search")?e._e():t("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:e.searchTable}})],1):t("div",{staticClass:"q-mr-xs"},[t("SimpleSearchWithFilter",{attrs:{columns:e.columns,"filter-by":e.filterBy},on:{keyup:e.searchTable,update:e.updateSimpletSearchFilterBy}})],1),e.id?t("SelectField",{staticClass:"fieldList q-mr-sm",attrs:{"is-mandatory":"",placeholder:"Select day","is-searchable":!0,options:e.dateFilter},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}):e._e(),e.refresh||e.id?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(t){return e.$emit("refresh")}}}):e._e(),e.jiraConnect?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira","no-border":"","is-flat":""},on:{click:function(t){return e.$emit("jira")}}}):e._e(),"TRASH"===e.mode?t("div",{staticClass:"row justify-end"},[e.deleteBtn?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Restore Selected Items",expression:"'Restore Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history"},on:{click:function(t){return t.stopPropagation(),e.$emit("restore")}}}):e._e()],1):e._e(),e.deleteBtn?t("div",[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete Selected Items",expression:"'Delete Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete")}}})],1):e._e(),e.hideActions.includes("toggle")?e._e():t("ToggleColumns",{attrs:{columns:e.repositoryFields?"LIST"===e.activeView?e.columns:[]:e.columns,"repository-fields":e.repositoryFields,"toggle-id":e.toggleId},on:{"update:columns":e.updateColumns,viewColumns:e.viewColumns}}),e.hideActions.includes("sort")?e._e():t("SortItems",{attrs:{columns:e.columns,order:e.order,criteria:e.criteria},on:{"update:order":e.updateOrder,"update:criteria":e.updateCriteria}}),e.hideActions.includes("group")?e._e():t("GroupItems",{attrs:{columns:e.columns,"group-by":e.groupBy},on:{"update:groupBy":e.updateGroupBy}}),e.hideActions.includes("filter")?e._e():t("FilterItems",{attrs:{item:e.item,columns:e._columns,"filter-by":e.filterBy,"selected-filter":e.selectedFilter,"search-content":e.searchContent,"content-search":e.contentSearch,module:e.module,"module-id":e.moduleId},on:{update:e.updateFilterBy,updateContentSearch:e.updateContentSearch}}),e.importData?t("ImportPopup",{attrs:{"data-imported":e.dataImported,"form-id":e.formId},on:{upload:e.upload,close:e.closeImport,downloadTemplate:e.downloadTemplate}}):e._e(),e.importJson?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"import",expression:"'import'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-import"},on:{click:function(t){return e.$emit("import")}}}):e._e(),!e.hideActions.includes("export")&&e.exportData?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(t){return e.$emit("export")}}}):e._e(),e.hideActions.includes("activeView")?e._e():t("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),e.hideActions.includes("activeView")?e._e():t("ViewToggle",{attrs:{"active-view":e.activeView,"thumbnail-view":e.thumbnailView,"grid-view":e.gridView,module:e.module},on:{"update:activeView":e.updateActiveView}}),t("KanbanView",{attrs:{"kanban-view":e.kanbanView,"active-view":e.activeKanbanView,"kanban-list":e.kanbanList},on:{"update:activeKanbanView":e.updateActiveKanbanView,clickKanban:function(t){return e.$emit("clickKanban")}}}),e.dashboardView?t("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}):e._e(),e.dashboardView?t("DashboardView",{attrs:{"dashboard-view":e.dashboardView,"chart-view":e.chartView,"table-view":e.tableView,page:e.page},on:{"update:activeDashboardView":e.updateActiveDashboardView}}):e._e(),e._t("extraIcon")],2)},a=[],o=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"columns",expression:"'columns'",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-column-plus-after"}},[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[t("div",{staticClass:"row border"},[t("div",{staticClass:"title-3 q-pa-xs col-auto"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Show/Hide Columns",autofocus:""},domProps:{value:e.searchColumns},on:{keyup:function(t){return e.searchColumnList(e.searchColumns)},input:function(t){t.target.composing||(e.searchColumns=t.target.value)}}})]),e.repositoryFields&&e.columns.length?t("div",{staticClass:"col-auto q-pa-xs"},[t("BaseButton",{attrs:{label:"Apply",color:"primary"},on:{click:e.apply}})],1):e._e()]),t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight}},e._l(e._columns,(function(i){return t("ListItem",{key:i.id,class:i.display,attrs:{icon:i.isVisible?"mdi-checkbox-marked":"mdi-checkbox-blank-outline","is-selected":i.isVisible,label:i.label},on:{click:function(t){return e.updateColumns(i)}}})})),1)],1)],1)},r=[],n=(i("14d9"),i("cade")),l=i("1b0d"),c={name:"ToggleColumns",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},repositoryFields:{type:Boolean,default:!1},toggleId:{type:Number,default:0}},data(){return{filterColumns:[],columnList:"",searchColumns:""}},computed:{_columns(){return this.columns.filter(e=>"NORMAL"===e.type)},scrollbarHeight(){const e=36*this._columns.length;return e>216?"276px":e+58+"px"}},methods:{updateColumns1(e){const t=this.columns,i=t.findIndex(t=>t.id===e);t[i].isVisible=!t[i].isVisible,this.$emit("update:columns",t)},apply(){this.filterColumns=[],console.log(this.columns),this.columns.forEach(e=>{!1===e.isVisible&&this.filterColumns.push({Fieldid:e.fieldId,value:e.isVisible})}),console.log(this.filterColumns),this.$emit("viewColumns",this.filterColumns),this.filterColumns=[]},searchColumnList(e){this.columns.forEach(t=>{t.display="",e&&(t.label.toLowerCase().includes(e.toLowerCase())||(t.display="hide"))})},async updateColumns(e){if(this.toggleId){const t=this.columns.findIndex(t=>t.id===e.id);this.columns[t].isVisible=!this.columns[t].isVisible;let i={id:e.hideId||0,columnName:e.id};const{error:s,payload:a}=await l["k"].updateHideColumns(this.toggleId,i);if(s)return void this.$alert.error(s);let o=[];e.hideId?o=this.columns.filter(t=>t.id!=e.hideId):(o=this.columns,o.push({id:a,columnName:e.id})),this.columns[t].hideId=e.hideId?0:a,this.$emit("update:columns",o)}else{const t=this.columns,i=t.findIndex(t=>t.id===e.id);t[i].isVisible=!t[i].isVisible,this.$emit("update:columns",t)}}}},d=c,u=(i("ee26"),i("2877")),m=i("4e73"),p=i("93dc"),h=i.n(p),f=Object(u["a"])(d,o,r,!1,null,"251c6f56",null),v=f.exports;h()(f,"components",{QMenu:m["a"]});var y=i("c559"),b=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"group",expression:"'group'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"eva-copy-outline","no-border":""}},[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight,width:"240px"}},[t("div",{staticClass:"title-3 q-pa-md"},[e._v("Group By")]),e._l(e._columns,(function(i){return t("ListItem",{key:i.id,attrs:{icon:i.name===e.groupBy?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===e.groupBy,label:i.label},on:{click:function(t){return e.updateGroupBy(i.name)}}})}))],2)],1)],1)},g=[],w={name:"GroupItems",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},groupBy:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(e=>e.isGroupable)]},scrollbarHeight(){const e=36*this._columns.length;return e>216?"276px":e+58+"px"}},methods:{updateGroupBy(e){this.$emit("update:groupBy",e)}}},C=w,S=Object(u["a"])(C,b,g,!1,null,"72f07afc",null),_=S.exports;h()(S,"components",{QMenu:m["a"]});var B=i("27bd"),k=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"view-toggle"}},[e._l(e._views,(function(i){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:e.activeView===i.value?i.activeIcon:i.icon,color:e.activeView===i.value?"secondary":"gray"},on:{click:function(t){return e.updateActiveView(i.value)}}})]})),t("DefaultView",{attrs:{value:e.showDefaultView,view:e.defaultView},on:{handleYes:e.handleYes,handleNo:e.handleNo,hideSheet:function(t){e.showDefaultView=!1}}})],2)},I=[],$=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-info-outline","icon-color":"orange"},on:{input:e.hideSheet},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Default view?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Do you want to make this "),t("b",[e._v('"('+e._s(e.view)+')"')]),e._v(" view is default? . ")]),t("p",[e._v("You can always change this view.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:e.handleYes}})]},proxy:!0}])})},A=[],x=i("1c54"),V={name:"DefaultView",components:{Confirm:x["a"]},props:{value:{type:Boolean,required:!0},view:{type:String,required:!0}},methods:{handleNo(){this.$emit("handleNo",!1)},hideSheet(){this.$emit("hideSheet",!1)},handleYes(){this.$emit("handleYes",!1)}}},D=V,T=Object(u["a"])(D,$,A,!1,null,"38f8db3d",null),E=T.exports,L=i("4360"),q={name:"ViewToggle",components:{DefaultView:E},props:{activeView:{type:String,default:"GRID",validator(e){return["GRID","LIST","THUMBNAIL"].includes(e)}},thumbnailView:{type:Boolean,default:!1},gridView:{type:Boolean,default:!0},module:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Grid View",value:"GRID",icon:"mdi-view-grid-outline",activeIcon:"mdi-view-grid"},{id:this.$nano.id(),label:"List View",value:"LIST",icon:"mdi-format-list-checkbox",activeIcon:"mdi-view-list"},{id:this.$nano.id(),label:"Thumbnail View",value:"THUMBNAIL",icon:"eva-image-outline",activeIcon:"eva-image"}],showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{}}},computed:{_views(){return this.thumbnailView?this.views:this.gridView?this.views.slice(0,2):this.views.slice(1,2)}},created(){this.getDefaultView()},methods:{updateActiveView(e){this.defaultView=e,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeView",this.defaultView),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t={},i=this.$route.query.repositoryId,s="";i&&(s="files"),t=s?{preference:{[this.$route.meta.subMenu]:[{menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}}:{preference:{[e]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}};const{error:a,payload:o}=await l["n"].addProfilePreference(t);this.$store.commit("hideLoadingBar"),a?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",t.preference),L["a"].commit("setPreferenceId",o),this.viewAlreadyAdded=!0,this.options=t,this.$emit("update:activeView",this.defaultView))},async updateDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t=this.$route.meta.breadcrumb,i=this.$route.query.repositoryId,s="";i&&(s="files");let a={};if(s)if(this.options[s])if(this.options[s].length){let e=this.options[s].findIndex(e=>e.subMenu===t);console.log(e),e>=0?this.options[s][e].view=this.defaultView:this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else if(this.options[e])if(this.options[e].length){let i=this.options[e].findIndex(e=>e.subMenu===t);i>=0?this.options[e][i].view=this.defaultView:this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});let o=JSON.stringify(this.options);a={preference:JSON.parse(o)};const{error:r}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,a);this.$store.commit("hideLoadingBar"),r?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",a.preference),this.$emit("update:activeView",this.defaultView))},async getDefaultView(){const{error:e,payload:t}=await l["n"].getProfilePreference(this.userId);e?this.$alert.error("Error fetching get default view"):t?(this.options=JSON.parse(t.options),L["a"].commit("setDefaultView",this.options),L["a"].commit("setPreferenceId",t.id)):this.viewAlreadyAdded=!1}}},N=q,F=(i("cd8d"),Object(u["a"])(N,k,I,!1,null,"75627166",null)),P=F.exports,R=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"kanban-view"}},[e.kanbanView?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Kanban View",expression:"'Kanban View'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:(e.activeKanban,"mdi-grid"),color:e.activeKanban?"secondary":"gray","no-border":""},on:{click:function(t){return e.$emit("clickKanban")}}},[e.kanbanList.length?t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight,width:"240px"}},e._l(e.kanbanList,(function(i){return t("ListItem",{key:i.id,attrs:{icon:i.name===e.activeView?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===e.activeView,label:i.label},on:{click:function(t){return e.selectKanban(i.name)}}})})),1)],1):e._e()],1):e._e(),t("DefaultView",{attrs:{value:e.showDefaultView,view:e.defaultView},on:{handleYes:e.handleYes,handleNo:e.handleNo,hideSheet:function(t){e.showDefaultView=!1}}})],1)},O=[],M={name:"KanbanView",components:{ListItem:n["a"],DefaultView:E},props:{activeView:{type:String,default:""},kanbanView:{type:Boolean,default:!1},kanbanList:{type:Array,default:()=>[]}},data(){return{showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{},defaultViewId:""}},computed:{scrollbarHeight(){const e=36*this.kanbanList.length;return e>216?"276px":e+58+"px"},activeKanban(){return"LIST"!==this.activeView&&"GRID"!==this.activeView&&"CHART"!==this.activeView&&"TABLE"!==this.activeView}},created(){this.getDefaultView()},methods:{selectKanban(e){let t=this.kanbanList.find(t=>t.name===e);console.log(t),t&&(this.defaultView=t.label),this.defaultViewId=e,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeKanbanView",this.defaultViewId),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t={preference:{[e]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId}]}};const{error:i,payload:s}=await l["n"].addProfilePreference(t);this.$store.commit("hideLoadingBar"),i?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",t.preference),L["a"].commit("setPreferenceId",s),this.viewAlreadyAdded=!0,this.options=t,this.$emit("update:activeKanbanView",this.defaultViewId))},async updateDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t=this.$route.meta.breadcrumb,i={};if(this.options[e])if(this.options[e].length){let i=this.options[e].findIndex(e=>e.subMenu===t);i>=0?this.options[e][i].view=this.defaultViewId:this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId})}else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});i={preference:this.options};const{error:s}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,i);this.$store.commit("hideLoadingBar"),s?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",i.preference),this.$emit("update:activeKanbanView",this.defaultViewId))},async getDefaultView(){const{error:e,payload:t}=await l["n"].getProfilePreference(this.userId);e?this.$alert.error("Error fetching get default view"):t?(this.options=JSON.parse(t.options),L["a"].commit("setDefaultView",this.options),L["a"].commit("setPreferenceId",t.id)):this.viewAlreadyAdded=!1}}},j=M,G=(i("6c88"),Object(u["a"])(j,R,O,!1,null,"6f4b2704",null)),W=G.exports;h()(G,"components",{QMenu:m["a"]});var Y=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"dashboard-view"}},e._l(e._views,(function(i){return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:e.dashboardView===i.value?i.activeIcon:i.icon,color:e.dashboardView===i.value?"secondary":"gray"},on:{click:function(t){return e.updateDashboardView(i.value)}}})})),1)},H=[],U={name:"DashboardView",props:{dashboardView:{type:String,default:"CHART",validator(e){return["CHART","TABLE","SANKEY","KANBAN"].includes(e)}},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!0},page:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"},{id:this.$nano.id(),label:"Chart View",value:"CHART",icon:"eva-image",activeIcon:"eva-image"},{id:this.$nano.id(),label:"Sankey View",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"}]}},computed:{_views(){if("REPORT"===this.page)return this.views.slice(0,2);let e=location.origin;return"https://edmsuat.sobhaapps.com"===e||"https://edms.sobhaapps.com"===e?this.views.slice(1,2):this.views.slice(1,3)}},methods:{updateDashboardView(e){this.$emit("update:activeDashboardView",e)}}},K=U,J=(i("8180"),Object(u["a"])(K,Y,H,!1,null,"1da74fbd",null)),z=J.exports,Q=i("be3f"),X=i("0cdc"),Z=i("12b8"),ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col",attrs:{id:"search-items"}},[t("div",{attrs:{id:"Simple-search"}},[t("div",{staticClass:"label",staticStyle:{"margin-left":"0px"}},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search By",expression:"'Search By'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:e.activeFilter?"secondary":"gray","no-border":""}},[e.filter?t("div"):e._e(),t("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[t("div",{staticClass:"title-3 q-pa-xs border"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Type here to search"},domProps:{value:e.searchColumns},on:{click:function(e){e.stopPropagation()},keyup:function(t){return e.searchColumnList(e.searchColumns)},input:function(t){t.target.composing||(e.searchColumns=t.target.value)}}})]),t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight,width:"240px"}},[e._l(e.columnList,(function(i){return[i.display&&!1!==i.isFilter?t("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(t){return e.updateFilterBy(i.id)}}}):e._e()]}))],2)],1)],1),e.activeFilter?t("div",{staticClass:"selectedLabel"},[t("span",{staticClass:"text-bold"},[e._v(e._s(e.selectedLabel)+" :")])]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],ref:"searchQuery",staticClass:"q-px-xs",class:{"text-input-small":e.activeFilter,"text-input-big":!e.activeFilter},attrs:{type:"text",placeholder:e.isdataTypeIsDate?"YYYY-MM-DD":"Search"},domProps:{value:e.searchInput},on:{keyup:e.emitKeyUp,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateSimpleSearch.apply(null,arguments)},input:function(t){t.target.composing||(e.searchInput=t.target.value)}}}),t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search",expression:"'Search'",modifiers:{top:!0}}],attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:e.updateSimpleSearch}}),e.activeFilter?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear",expression:"'clear'",modifiers:{top:!0}}],attrs:{icon:"mdi-close-circle","no-border":"","is-flat":""},on:{click:e.clearSimpleSearch}}):e._e()],1)])])},te=[],ie={name:"SimpleSearchWithFilter",components:{ListItem:n["a"]},props:{columns:{type:Array,default:()=>[]},filterBy:{type:Array,required:!0}},data(){return{filter:!1,activeFilter:!1,searchColumns:"",columnList:[],filterArray:[],searchInput:"",selectedLabel:"",FilterValue:"",isdataTypeIsDate:!1,isSingleSelect:!1}},computed:{scrollbarHeight(){const e=36*this.columns.length;return e>216?"276px":e+58+"px"}},watch:{$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.activeFilter=!1,this.filterArray=[],this.searchInput="",this.FilterValue="")}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&(this.activeFilter=!1)}},columns:{deep:!0,immediate:!0,handler(){this.columnList=[],this.columns.forEach(e=>{this.columnList.push({...e,selected:!1,display:"show"})})}}},methods:{emitKeyUp(){this.FilterValue=this.searchInput,this.$emit("keyup",this.searchInput)},updateSimpleSearch(){if(this.activeFilter)if(0===this.filterArray.length){let e=[];this.$emit("update",e)}else if(this.isSingleSelect){let e=[];e[0]=this.FilterValue,this.filterArray[0].filters[0].value=JSON.stringify(e),this.filterArray[0].filters[0].arrayValue=e,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)}else this.filterArray[0].filters[0].value=this.FilterValue,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)},searchColumnList(e){this.columnList.forEach(t=>{t.display="show",t.label.toLowerCase().includes(e.toLowerCase())||(t.display="")})},updateFilterBy(e){this.filter=!this.filter,this.columnList.forEach(e=>{e.selected=!1});let t=this.columnList.find(t=>t.id===e);if(t){t.selected=!0,this.activeFilter=!0,this.selectedLabel=t.label;let e=[];if("None"==t.value)this.activeFilter=!1;else{let i="CONTAINS";"DATE"===t.dataType&&(i="IS_EQUALS_TO",this.isdataTypeIsDate=!0,this.isSingleSelect=!1),"SINGLE_SELECT"===t.dataType?(this.isSingleSelect=!0,e=[{filters:[{criteria:t.name,criteriaArray:[t.name],condition:i,value:"",arrayValue:"",dataType:"SINGLE_SELECT"}],groupCondition:""}],this.filterArray=e):(this.isSingleSelect=!1,e=[{filters:[{criteria:t.name,condition:i,value:"",dataType:t.dataType}],groupCondition:""}]),this.filterArray=e}}},clearSimpleSearch(){this.columnList.forEach(e=>{e.selected=!1}),this.isdataTypeIsDate=!1,this.filterArray=[],this.searchInput="",this.FilterValue="",this.activeFilter=!1,this.filter=!this.filter,this.$emit("update",this.filterArray)}}},se=ie,ae=(i("ba5a"),Object(u["a"])(se,ee,te,!1,null,"a32bb6e0",null)),oe=ae.exports;h()(ae,"components",{QMenu:m["a"]});var re={name:"ItemActions",components:{ToggleColumns:v,ViewToggle:P,SortItems:y["a"],GroupItems:_,FilterItems:B["a"],ExpandableSearch:Q["a"],KanbanView:W,DashboardView:z,ImportPopup:X["a"],SelectField:Z["a"],SimpleSearchWithFilter:oe},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},activeView:{type:String,required:!0},thumbnailView:{type:Boolean,default:!1},filterColumns:{type:Array,default:()=>[]},selectedFilter:{type:Array,default:()=>[]},gridView:{type:Boolean,default:!0},kanbanView:{type:Boolean,default:!1},activeKanbanView:{type:String,default:""},kanbanList:{type:Array,default:()=>[]},jiraConnect:{type:Boolean,default:!1},importData:{type:Boolean,default:!1},dataImported:{type:Boolean,default:!1},hideActions:{type:Array,default:()=>[]},workflowInitiate:{type:Boolean,default:!1},initiateAccess:{type:Boolean,default:!1},gotoInbox:{type:Boolean,default:!1},workflowImport:{type:Boolean,default:!1},formId:{type:String,default:"0"},dashboardView:{type:String,default:""},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!1},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},repositoryFields:{type:Boolean,default:!1},id:{type:Number,default:0},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},deleteBtn:{type:Boolean,default:!1},mode:{type:String,default:""},page:{type:String,default:""},toggleId:{type:Number,default:0},simpleSearchFilter:{type:Boolean,default:!1},simpleSearchApplyed:{type:Boolean,default:!1},customProcessForm:{type:Boolean,default:!1},refresh:{type:Boolean,default:!0},exportData:{type:Boolean,default:!0},sendInvite:{type:Boolean,default:!1},downloadAll:{type:Boolean,default:!1},visibleDownload:{type:Boolean,default:!1},visiblePrint:{type:Boolean,default:!1},visibleEmail:{type:Boolean,default:!1},visibleDelete:{type:Boolean,default:!1},processForward:{type:Boolean,default:!1},importJson:{type:Boolean,default:!1}},data(){return{dateFilter:[{id:this.$nano.id(),label:"Today",value:"today"},{id:this.$nano.id(),label:"Yesterday",value:"yesterday"},{id:this.$nano.id(),label:"This Week",value:"7days"},{id:this.$nano.id(),label:"Last week",value:"week"},{id:this.$nano.id(),label:"This Month ",value:"Currentmonth"},{id:this.$nano.id(),label:"Last Month",value:"month"},{id:this.$nano.id(),label:"Last Quarter",value:"quarter"},{id:this.$nano.id(),label:"This Year",value:"currentyear"},{id:this.$nano.id(),label:"Last Year",value:"year"}],dateValue:""}},computed:{_columns(){return this.filterColumns.length?this.filterColumns:this.columns},checkIconCount(){let e,t=0;return this.visibleDownload&&(t+=1),this.visibleEmail&&(t+=1),this.visiblePrint&&(t+=1),this.visibleDelete&&(t+=1),2===t&&(e=!0),3===t&&(e=!0),4===t&&(e=!0),e}},watch:{dateValue:{deep:!0,immediate:!0,handler(){if(this.dateValue)if("today"===this.dateValue){let e=this.dateValue;const t=new Date;t.setDate(t.getDate());const i=t.toISOString().split("T")[0];this.$emit("filter",i,i,e)}else if("yesterday"===this.dateValue){let e=this.dateValue;const t=new Date;t.setDate(t.getDate()-1);const i=t.toISOString().split("T")[0];this.$emit("filter",i,i,e)}else if("week"===this.dateValue){let e=this.dateValue,t=new Date,i=t.getDay(),s=new Date(t);s.setDate(t.getDate()-i);let a=new Date(s);a.setDate(s.getDate()-7);let o=new Date(a);o.setDate(a.getDate()+6);let r=a.toISOString().split("T")[0],n=o.toISOString().split("T")[0];this.$emit("filter",r,n,e)}else if("7days"===this.dateValue){let e=this.dateValue,t=new Date,i=t.getDay(),s=new Date(t);s.setDate(t.getDate()-i);let a=new Date(s);a.setDate(s.getDate()+6);let o=s.toISOString().split("T")[0],r=a.toISOString().split("T")[0];this.$emit("filter",o,r,e)}else if("month"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear(),t.getMonth()-1,2),s=new Date(t.getFullYear(),t.getMonth()),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,e)}else if("quarter"===this.dateValue){let e=this.dateValue,t=new Date,i=t.getMonth(),s=(i-3+12)%12,a=new Date(t.getFullYear(),s,2),o=i-1,r=new Date(t.getFullYear(),o+1,1),n=a.toISOString().slice(0,10),l=r.toISOString().slice(0,10);this.$emit("filter",n,l,e)}else if("year"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear()-1,0,2),s=new Date(t.getFullYear()-1,11,32),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,e)}else if("Currentmonth"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear(),t.getMonth(),1),s=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`,a=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`;this.$emit("filter",s,a,e)}else if("currentyear"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear(),0,2),s=i.toISOString().split("T")[0],a=t.toISOString().split("T")[0];this.$emit("filter",s,a,e)}}}},methods:{updateColumns(e){this.$emit("update:columns",e)},updateCriteria(e){this.$emit("update:criteria",e)},updateOrder(e){this.$emit("update:order",e)},updateGroupBy(e){this.$emit("update:groupBy",e)},updateFilterBy(e,t){this.$emit("update:simpleSearchApplyed",!1),this.$emit("update:filterBy",e),this.$emit("update",e,t)},updateContentSearch(e){this.$emit("update:contentSearch",e)},updateActiveView(e){this.$emit("update:activeView",e)},searchTable(e){this.$emit("search",e)},updateActiveKanbanView(e){this.$emit("update:activeKanbanView",e)},updateActiveDashboardView(e){this.$emit("update:dashboardView",e)},upload(){this.$emit("upload")},closeImport(){this.$emit("close")},viewColumns(e){this.$emit("viewColumns",e)},updateSimpletSearchFilterBy(e){this.$emit("update:simpleSearchApplyed",!0),this.$emit("update:filterBy",e),this.$emit("update",e)},downloadTemplate(){this.$emit("downloadTemplate")}}},ne=re,le=(i("c925"),i("7225"),i("b047")),ce=i("cb32"),de=Object(u["a"])(ne,s,a,!1,null,"53ff3a83",null);t["a"]=de.exports;h()(de,"components",{QChip:le["a"],QAvatar:ce["a"]})},"0ad7":function(e,t,i){},"0f1c":function(e,t,i){"use strict";i("431c")},2948:function(e,t,i){"use strict";i("f108")},"2b88":function(e,t,i){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function s(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var a=s(i("a026"));function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){return n(e)||l(e)||c()}function n(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var d="undefined"!==typeof window;function u(e){return Array.isArray(e)||"object"===o(e)?Object.freeze(e):e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,i){var s=i.passengers[0],a="function"===typeof s?s(t):i.passengers;return e.concat(a)}),[])}function p(e,t){return e.map((function(e,t){return[t,e]})).sort((function(e,i){return t(e[1],i[1])||e[0]-i[0]})).map((function(e){return e[1]}))}function h(e,t){return t.reduce((function(t,i){return e.hasOwnProperty(i)&&(t[i]=e[i]),t}),{})}var f={},v={},y={},b=a.extend({data:function(){return{transports:f,targets:v,sources:y,trackInstances:d}},methods:{open:function(e){if(d){var t=e.to,i=e.from,s=e.passengers,o=e.order,r=void 0===o?1/0:o;if(t&&i&&s){var n={to:t,from:i,passengers:u(s),order:r},l=Object.keys(this.transports);-1===l.indexOf(t)&&a.set(this.transports,t,[]);var c=this.$_getTransportIndex(n),m=this.transports[t].slice(0);-1===c?m.push(n):m[c]=n,this.transports[t]=p(m,(function(e,t){return e.order-t.order}))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.to,s=e.from;if(i&&(s||!1!==t)&&this.transports[i])if(t)this.transports[i]=[];else{var a=this.$_getTransportIndex(e);if(a>=0){var o=this.transports[i].slice(0);o.splice(a,1),this.transports[i]=o}}},registerTarget:function(e,t,i){d&&(this.trackInstances&&!i&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(e,t,i){d&&(this.trackInstances&&!i&&this.sources[e]&&console.warn("[portal-vue]: source ".concat(e," already exists")),this.$set(this.sources,e,Object.freeze([t])))},unregisterSource:function(e){this.$delete(this.sources,e)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,i=e.from;for(var s in this.transports[t])if(this.transports[t][s].from===i)return+s;return-1}}}),g=new b(f),w=1,C=a.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(w++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){g.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){g.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};g.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"===typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:r(e),order:this.order};g.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(i,[this.normalizeOwnChildren(t)]):this.slim?e():e(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),S=a.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:g.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){g.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){g.unregisterTarget(t),g.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){g.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return m(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),i=this.children(),s=this.transition||this.tag;return t?i[0]:this.slim&&!s?e():e(s,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),_=0,B=["disabled","name","order","slim","slotProps","tag","to"],k=["multiple","transition"],I=a.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(_++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(g.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=g.targets[t.name];else{var i=t.append;if(i){var s="string"===typeof i?i:"DIV",a=document.createElement(s);e.appendChild(a),e=a}var o=h(this.$props,k);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new S({el:e,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=h(this.$props,B);return e(C,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||e()}});function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",C),e.component(t.portalTargetName||"PortalTarget",S),e.component(t.MountingPortalName||"MountingPortal",I)}var A={install:$};t.default=A,t.Portal=C,t.PortalTarget=S,t.MountingPortal=I,t.Wormhole=g},3613:function(e,t,i){"use strict";i("7023")},"431c":function(e,t,i){},4904:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return e.showChips?t("div",{attrs:{id:"item-action-chips"}},[e.sortBy.criteria?t("div",{staticClass:"chip sort-by"},[t("div",{staticClass:"label"},[e._v("Sort by: "+e._s(e.getColumnLabel(e.sortBy.criteria)))]),t("BaseIcon",{staticClass:"q-mr-md",attrs:{name:"ASC"===e.sortBy.order?"mdi-sort-ascending":"mdi-sort-descending","inherit-color":""}}),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:e.clearSortBy}})],1):e._e(),e.groupBy?t("div",{staticClass:"chip group-by"},[t("div",{staticClass:"label"},[e._v("Group by: "+e._s(e.getColumnLabel(e.groupBy)))]),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:e.clearGroupBy}})],1):e._e(),e.contentSearch.contentSearchValue?t("div",{staticClass:"chip filter-by"},[t("div",{staticClass:"label"},[t("BaseIcon",{staticClass:"q-mr-xs",attrs:{name:"eva-funnel-outline","inherit-color":""}}),e._v(" SearchBy: "+e._s(e.contentSearch.contentSearchValue)+" ")],1),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:function(t){return e.$emit("clearContentSearch")}}})],1):e._e(),t("BaseScrollbar",[e.filterBy.length?t("div",{staticClass:"q-mb-md",staticStyle:{display:"flex"}},e._l(e.filterBy,(function(i,s){return t("div",{key:s,staticClass:"col-auto"},[i.filters.length?t("div",{class:{"filterBy-length":e.filterBy.length>1}},e._l(i.filters,(function(i,a){return t("div",{key:a,staticClass:"chip filter-by"},[t("div",{staticClass:"label"},[t("BaseIcon",{staticClass:"q-mr-xs",attrs:{name:"eva-funnel-outline","inherit-color":""}}),e._v(" "+e._s(e.getColumnLabel(i.criteria))+" "+e._s(i.condition)+" "+e._s(i.value)+" ")],1),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:function(t){return e.clearFilterBy(s,a)}}})],1)})),0):e._e()])})),0):e._e()])],1):e._e()},a=[],o={name:"ItemActionChips",props:{columns:{type:Array,required:!0},sortBy:{type:Object,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},simpleSearchApplyed:{type:Boolean,required:!1,default:!1}},computed:{showChips(){return!!this.sortBy.criteria||(!!this.groupBy||!this.simpleSearchApplyed&&(!!this.filterBy.length||!!this.contentSearch.contentSearchValue))}},methods:{getColumnLabel(e){var t;return null===(t=this.columns.find(t=>t.name===e))||void 0===t?void 0:t.label},clearSortBy(){this.$emit("clearSortBy")},clearGroupBy(){this.$emit("clearGroupBy")},clearFilterBy(e,t){this.$emit("clearFilterBy",e,t)}}},r=o,n=(i("c3ca"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"1d4f94d9",null);t["a"]=l.exports},"4f21":function(e,t,i){},5042:function(e,t,i){},"5d0b":function(e,t,i){},"65c0":function(e,t,i){},"6c88":function(e,t,i){"use strict";i("5d0b")},7023:function(e,t,i){},7225:function(e,t,i){"use strict";i("afe7")},"760a":function(e,t,i){"use strict";i.r(t);var s=function(){var e,t,i=this,s=i._self._c;return s("div",{attrs:{id:"leave-browse"}},[s("Portal",{attrs:{to:"primary-action"}},[s("BaseButton",{staticClass:"q-ml-md",attrs:{icon:"eva-plus",label:"Add Entry"},on:{click:i.addLeaveEntry}})],1),s("Portal",{attrs:{to:"action-bar"}},[s("ItemActions",{attrs:{item:"leave entry",columns:i.columns,"group-by":i.groupBy,mode:i.mode,order:i.sortBy.order,"filter-by":i.filterBy,"active-view":i.activeView,criteria:i.sortBy.criteria},on:{"update:columns":function(e){i.columns=e},"update:groupBy":function(e){i.groupBy=e},"update:group-by":function(e){i.groupBy=e},"update:order":function(e){return i.$set(i.sortBy,"order",e)},"update:filterBy":function(e){i.filterBy=e},"update:filter-by":function(e){i.filterBy=e},"update:activeView":function(e){i.activeView=e},"update:active-view":function(e){i.activeView=e},"update:criteria":function(e){return i.$set(i.sortBy,"criteria",e)},refresh:i.getLeaveEntries,search:i.searchRow,update:i.getLeaveEntries}})],1),s("div",{staticClass:"content"},[i.totalItems?[s("ItemActionChips",{attrs:{"sort-by":i.sortBy,columns:i.columns,"group-by":i.groupBy,"filter-by":i.filterBy},on:{clearSortBy:i.clearSortBy,clearGroupBy:i.clearGroupBy,clearFilterBy:i.clearFilterBy}}),"GRID"===i.activeView?s("LeaveEntryGrid",{attrs:{mode:i.mode,items:i.items,columns:i.columns},on:{edit:i.editFormEntry,more:i.viewFormEntry,delete:i.showDeleteConfirmation,restore:i.showRestoreConfirmation}}):i._e(),"LIST"===i.activeView?s("LeaveEntryList",{attrs:{mode:i.mode,items:i.items,columns:i.columns,"select-all":i.overallSelectAll},on:{"update:items":function(e){i.items=e},edit:i.editFormEntry,more:i.viewFormEntry,delete:i.showDeleteConfirmation,restore:i.showRestoreConfirmation}}):i._e()]:[s("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"mdi-text-box-outline",title:"NO DATA",description:"No data available at the moment"}})]],2),s("Pagination",{attrs:{"total-items":i.totalItems,"current-page":i.currentPage,"items-per-page":i.itemsPerPage},on:{"update:currentPage":function(e){i.currentPage=e},"update:current-page":function(e){i.currentPage=e},"update:itemsPerPage":function(e){i.itemsPerPage=e},"update:items-per-page":function(e){i.itemsPerPage=e},loadAll:i.loadAllFormEntries}}),s("ConfirmDeleteLeaveEntry",{attrs:{"form-entry-id":null===(e=i.selectedLeaveFormEntry)||void 0===e?void 0:e.id,"total-items":i.totalItems,mode:i.mode},on:{delete:i.updateFormEntry},model:{value:i.isDeleteConfirmationVisible,callback:function(e){i.isDeleteConfirmationVisible=e},expression:"isDeleteConfirmationVisible"}}),s("ConfirmRestoreLeaveEntry",{attrs:{"form-entry-id":null===(t=i.selectedLeaveFormEntry)||void 0===t?void 0:t.id},on:{restore:i.updateFormEntry},model:{value:i.isRestoreConfirmationVisible,callback:function(e){i.isRestoreConfirmationVisible=e},expression:"isRestoreConfirmationVisible"}}),s("LeaveBuilder",{attrs:{"form-model":i.selectedLeaveFormEntry,mode:i.entryMode},on:{refresh:i.getLeaveEntries,input:function(e){i.entryMode="",i.isLeaveFormEntrySheetVisible=!1}},model:{value:i.isLeaveFormEntrySheetVisible,callback:function(e){i.isLeaveFormEntrySheetVisible=e},expression:"isLeaveFormEntrySheetVisible"}})],1)},a=[],o=(i("14d9"),i("caad"),i("381b")),r=i("1b0d"),n=i("2b88"),l=i("c49c"),c=i("b6d2"),d=i("064c"),u=i("4904"),m=function(){var e=this,t=e._self._c;return t("ItemGrid",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore,info:e.handleInfo}})},p=[],h=i("0412"),f={name:"FormEntryGrid",components:{ItemGrid:h["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)},handleRestore(e){this.$emit("restore",e)},handleMore(e){this.$emit("more",e)},handleInfo(e){this.$emit("info",e)}}},v=f,y=i("2877"),b=Object(y["a"])(v,m,p,!1,null,"a1468adc",null),g=b.exports,w=function(){var e=this,t=e._self._c;return t("ItemList",{attrs:{columns:e.columns,items:e.items,mode:e.mode,checkbox:!0,"select-all":e.selectAll},on:{"update:items":function(t){e.items=t},select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore,info:e.handleInfo,"update-selected-all":e.updateSelectAll},scopedSlots:e._u([{key:"entries",fn:function({value:i,item:s}){return[t("div",{staticClass:"stat",on:{click:function(t){return t.stopPropagation(),e.$emit("entries",s.id)}}},[t("div",{staticClass:"ellipsis"},[e._v(" "+e._s(i||"-")+" ")])])]}}])})},C=[],S=i("f92f"),_={name:"FormEntryList",components:{ItemList:S["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},selectAll:{type:Boolean,required:!1}},methods:{handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)},handleRestore(e){this.$emit("restore",e)},handleMore(e){this.$emit("more",e)},handleInfo(e){this.$emit("info",e)},updateSelectAll(e){this.$emit("update-selected-all",e)}}},B=_,k=Object(y["a"])(B,w,C,!1,null,"83634fc8",null),I=k.exports,$=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"red"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete Leave Entry?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to delete the "),t("b",[e._v(' "Entry #'+e._s(e.formEntryId)+'" ')]),e._v("?. You can always restore the deleted leave entry from the trash page. ")])])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"displayflex"},[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:e.handleYes}})],1)]},proxy:!0}])})},A=[],x=i("1c54"),V={name:"ConfirmDeleteLeaveEntry",components:{Confirm:x["a"]},props:{value:{type:Boolean,required:!0},formEntryId:{type:Number,default:0},totalItems:{type:Number,default:0},mode:{type:String,default:""}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("delete",{isDeleted:!0})}}},D=V,T=(i("3613"),Object(y["a"])(D,$,A,!1,null,"d9df6c4e",null)),E=T.exports,L=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"mdi-history","icon-color":"orange"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Restore Leave Entry?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to restore the "),t("b",[e._v(' "Entry #'+e._s(e.formEntryId)+'" ')]),e._v("?. You can always delete the restored leave entry from the browse page. ")])])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"displayflex"},[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:e.handleYes}})],1)]},proxy:!0}])})},q=[],N={name:"ConfirmRestoreFormEntry",components:{Confirm:x["a"]},props:{value:{type:Boolean,required:!0},formEntryId:{type:Number,default:0}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("restore",{isDeleted:!1})}}},F=N,P=(i("e669"),Object(y["a"])(F,L,q,!1,null,"292e9fc4",null)),R=P.exports,O=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"formEntry"}},[t("Sheet",{attrs:{value:e.value,width:"100vw","has-footer":"","no-padding":""},on:{input:e.closeSheet},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title",(function(){return[e._v(e._s(e.title))]}))]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t("div",{staticClass:"col"},[t("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 120px)"}},[t("ValidationObserver",{ref:"form"},[t("div",{staticClass:"field-wrapper"},[t("div",{staticClass:"row q-col-gutter-md q-mb-md containers",on:{click:function(t){return e.currentAssignees()}}},[t("div",{staticClass:"col-0.5"},[t("div",{class:{"is-active":e.currentAssignee},attrs:{id:"avatar"}},[t("BaseIcon",{attrs:{name:e.shareIcon,"inherit-color":""}})],1)]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"q-mb-md title-2"},[e._v("Current Assignee")]),t("div",{staticClass:"descriptions"},[e._v(" To Delegate Workflow Request seamlessly when away:"),t("br"),e._v(" Choose backup users for your assignments on specific dates and workflow ")])]),"VIEW"!==e.mode?t("div",{staticClass:"col-6"},[t("div",{staticClass:"q-mb-md"},[t("ValidationProvider",{attrs:{name:"Current Assignee",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("SelectField",{staticClass:"select-Field",attrs:{label:"Current Assignee","is-mandatory":"",options:e.users,error:i[0],"is-readonly":"NEW"!==e.mode},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})]}}],null,!1,2033160360)})],1),t("BaseButton",{attrs:{label:"Search Active User Workflows",color:"secondary"},on:{click:e.getTicketListByUserId}})],1):e._e()]),t("BaseSeparator",{staticClass:"q-mb-md"}),t("div",{staticClass:"row q-mb-md"},[t("div",{staticClass:"col-6"},[t("div",{staticClass:"q-ml-md"},[t("div",{staticClass:"title-2"},[e._v("Active Workflow List")]),t("div",{staticClass:"description descriptions"},[e._v(" Displays workflows where the selected users and designated as active praticipants, defining roels eith the listed workflows ")])])]),t("div",{staticClass:"col-6"},[t("ExpandableSearch",{staticClass:"q-mr-sm expandables",on:{search:e.searchRow}})],1)]),t("BaseScrollbar",{staticClass:"q-pa-xs",staticStyle:{"max-height":"calc(100vh - 285px)"}},[t("table",[t("thead",{staticClass:"table-header"},[t("tr",[t("th",{staticClass:"medium"},[e._v("Involved Workflows")]),t("th",{staticClass:"medium"},[e._v("Workflow Stage")]),t("th",{staticClass:"small"},[e._v("Tickets in Inbox")]),t("th",{staticClass:"medium"},[e._v("Alternative Assignee")]),t("th",{staticClass:"large"},[e._v("Reason for Selection")])])]),t("tbody",e._l(e.ticketList,(function(i,s){return t("tr",{key:s},[t("td",{staticClass:"medium"},[e._v(e._s(i.name))]),t("td",{staticClass:"medium"},[e._v(e._s(i.stage))]),t("td",{staticClass:"small"},[e._v(e._s(i.inboxCount))]),t("td",{staticClass:"medium"},[t("ValidationProvider",{attrs:{name:"Alternative Assignee",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("SelectField",{attrs:{"is-mandatory":"",options:e.users,error:s[0],"is-readonly":"VIEW"===e.mode},model:{value:i.assignee,callback:function(t){e.$set(i,"assignee",t)},expression:"ticket.assignee"}})]}}],null,!0)})],1),t("td",{staticClass:"large"},[t("TextField",{attrs:{"is-readonly":"VIEW"===e.mode},model:{value:i.reason,callback:function(t){e.$set(i,"reason",t)},expression:"ticket.reason"}})],1)])})),0)])]),t("BaseSeparator",{staticClass:"q-mb-md"}),t("div",{staticClass:"row q-col-gutter-md q-mb-md containers",on:{click:function(t){return e.delegateAbsences()}}},[t("div",{staticClass:"col-0.5"},[t("div",{class:{"is-active":e.delegateAbsence},attrs:{id:"avatar"}},[t("BaseIcon",{attrs:{name:e.fileCopy,"inherit-color":""}})],1)]),t("div",{staticClass:"q-mb-sm col-4"},[t("div",{staticClass:"q-mb-md title-2"},[e._v("Delegate Absence Dates")]),t("div",{staticClass:"descriptions"},[e._v(" Specify start and end dates for leave to delegate workflows from the current assignee to selected users ")])]),t("div",{staticClass:"col-6"},[t("ValidationProvider",{attrs:{name:"From Date",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("DateField",{staticClass:"date-Field q-mb-md",attrs:{label:"From Date","is-mandatory":"",error:i[0],"emit-immediately":!1,validation:!0,"is-readonly":"VIEW"===e.mode},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})]}}])}),t("ValidationProvider",{attrs:{name:"To Date",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("DateField",{staticClass:"date-Field",attrs:{label:"To Date","is-mandatory":"",error:i[0],"emit-immediately":!1,validation:!0,"is-readonly":"VIEW"===e.mode},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})]}}])})],1)])],1)]),t("BaseSeparator",{staticClass:"q-mb-md"}),t("div",{staticClass:"row containers",on:{click:function(t){return e.workflowAndRequests()}}},[t("div",{staticClass:"col-0.5"},[t("div",{class:{"is-active":e.workflowAndRequest},attrs:{id:"avatar"}},[t("BaseIcon",{attrs:{name:e.workFlowIcon,"inherit-color":""}})],1)]),t("div",{staticClass:"col-4 workflowAndRequests"},[t("div",{staticClass:"q-mb-md title-2"},[e._v(" Workflow and Request Delegation Action ")]),t("div",{staticClass:"descriptions"},[e._v(" Define the actions to be taken upon the delegation of selectcted workflows and requests, ensuring seamless transition and efficient workflow management. ")])]),t("div",{staticClass:"col-6"},[t("CheckboxField",{staticClass:"q-mb-md",attrs:{label:"Redirect all new requests to the Alternateed Assignee during their leave period","is-disabled":!0},model:{value:e.isRedirectAllNewRequest,callback:function(t){e.isRedirectAllNewRequest=t},expression:"isRedirectAllNewRequest"}}),t("CheckboxField",{staticClass:"q-mb-md",attrs:{label:"Transfer all current requests to the designated Reassign User","is-disabled":"VIEW"===e.mode},model:{value:e.isTransferCurrentRequest,callback:function(t){e.isTransferCurrentRequest=t},expression:"isTransferCurrentRequest"}}),t("CheckboxField",{staticClass:"q-mb-md",attrs:{label:"Notification sent to Reassign User","is-disabled":"VIEW"===e.mode},model:{value:e.isNotification,callback:function(t){e.isNotification=t},expression:"isNotification"}})],1)])],1)],1)])]},proxy:!0},"VIEW"!==e.mode?{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:e.closeSheet}}),t("BaseButton",{attrs:{label:"NEW"===e.mode?"submit":"Save"},on:{click:function(t){return e.addLeaveEntries()}}})]},proxy:!0}:null],null,!0)}),t("ConfirmLeave",{attrs:{workspace:e.LeaveData},on:{submit:e.submitClick},model:{value:e.isConfirmLeaveVisible,callback:function(t){e.isConfirmLeaveVisible=t},expression:"isConfirmLeaveVisible"}})],1)},M=[],j=i("381e"),G=i("b3d1"),W=i("53c1"),Y=i("12b8"),H=i("869e"),U=i("be3f"),K=i("7bb1"),J=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"confirmLeave"}},[t("Confirm",{attrs:{value:e.value,icon:"eva-alert-circle-outline","icon-color":"red"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Reassignment Confirmation")]},proxy:!0},{key:"default",fn:function(){return[e.isWorkspaceAvailable?t("div",{staticClass:"q-py-md"},[t("p",[e._v("Please review the reassignment details below and confirm:")]),t("div",{staticClass:"popupData"},[t("div",{staticClass:"q-ml-md"},[t("p",{staticClass:"q-mt-md"},[t("span",[e._v("Current Assignee: ")]),e._v(e._s(e.name))]),t("p",[t("span",[e._v("Total No. of Workflows: ")]),e._v(e._s(e.totalRequest))]),t("p",[t("span",[e._v("Total No. of Existing Requests: ")]),e._v(e._s(e.totalTickets)+" ")]),t("p",[t("span",[e._v("Upcoming Requests: ")]),e._v("Enabled")])]),t("div",{staticClass:"row q-ml-md"},[t("p",{staticClass:"col-6"},[t("span",[e._v("From : ")]),e._v(e._s(e.fromDate))]),t("p",{staticClass:"col-6"},[t("span",[e._v("To : ")]),e._v(e._s(e.toDate))])])])]):e._e()]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"Confirm"},on:{click:e.handleYes}})]},proxy:!0}])})],1)},z=[],Q={name:"ConfirmLeave",components:{Confirm:x["a"]},props:{value:{type:Boolean,required:!0},workspace:{type:Object,required:!0}},data(){return{name:"",fromDate:"",toDate:"",totalRequest:"",totalTickets:""}},computed:{isWorkspaceAvailable(){return console.log(this.workspace),null!==this.workspace&&"object"===typeof this.workspace}},watch:{workspace:{immediate:!0,handler(e){e&&(this.name=e.userName,this.fromDate=e.fromDate,this.toDate=e.toDate,this.totalRequest=e.totalRequest,this.totalTickets=e.totalTickets)}}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1),console.log(this.workspace)},handleYes(){this.$emit("input",!1),this.$emit("submit")}}},X=Q,Z=(i("965e"),Object(y["a"])(X,J,z,!1,null,"7ebe1094",null)),ee=Z.exports,te={name:"LeaveFormEntrySheet",components:{Sheet:j["a"],ValidationObserver:K["a"],ValidationProvider:K["b"],TextField:G["a"],DateField:W["a"],CheckboxField:H["a"],SelectField:Y["a"],ConfirmLeave:ee,ExpandableSearch:U["a"]},props:{value:{type:Boolean,default:!1},mode:{type:String,default:"NEW"},formModel:{type:Object,default:()=>{}}},data(){return{user:"",workFlowIcon:"mdi-robot",userName:"",users:[],LeaveData:{},isConfirmLeaveVisible:!1,fileCopy:"mdi-file-replace",currentAssignee:!0,delegateAbsence:!1,workflowAndRequest:!1,shareIcon:"mdi-share-variant",fromDate:"",toDate:"",isRedirectAllNewRequest:!0,isTransferCurrentRequest:!1,reason:"",totalRequest:"",totalTickets:"",ticketList:[{assignee:0,inboxCount:0,name:"",reason:null,stage:"",workflowId:0}],securityData:[{assignee:0,inboxCount:0,name:"",reason:null,stage:"",workflowId:0}],isNotification:!1}},computed:{title(){return"VIEW"===this.mode?"View Entry":"EDIT"===this.mode?"Edit Entry":"Add Entry"}},watch:{mode:{deep:!0,immediate:!0,handler(){"EDIT"!==this.mode&&"VIEW"!==this.mode||this.formModel&&(this.user=this.formModel.userId,this.ticketList=JSON.parse(this.formModel.settings),this.fromDate=this.formModel.fromDate,this.toDate=this.formModel.toDate,this.isTransferCurrentRequest="Yes"===this.formModel.isAllInbox,this.isNotification="Yes"===this.formModel.isNotification)}}},created(){this.getUsers()},methods:{searchRow(e){console.log(this.securityData,"securityData");let t=this.securityData.map(e=>({name:e.name,stage:e.stage}));this.ticketList=e?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.stage.toLowerCase().includes(e.toLowerCase())):this.securityData,console.log(this.ticketList,"this,ticketlist")},workflowAndRequests(){this.workflowAndRequest=!0,this.currentAssignee=!1,this.delegateAbsence=!1},currentAssignees(){this.workflowAndRequest=!1,this.currentAssignee=!0,this.delegateAbsence=!1},delegateAbsences(){this.workflowAndRequest=!1,this.currentAssignee=!1,this.delegateAbsence=!0},closeSheet(){this.reset(),this.$emit("input",!1)},async getUsers(){const{error:e,payload:t}=await r["s"].getUserList();e?this.$alert.error("Error fetching users"):this.users=t&&t.map(e=>({id:this.$nano.id(),label:e.value,value:Number(e.id)}))},async getTicketListByUserId(){this.$store.commit("showLoadingBar");const{error:e,payload:t}=await r["q"].getTicketListByUserId(this.user);e?this.$alert.error(e):(this.$store.commit("hideLoadingBar"),console.log(t),this.ticketList=t,this.securityData=t)},addLeaveEntries(){this.userName=this.users.find(e=>e.value===this.user).label;const e=this.ticketList.filter(e=>null!==e.assignee);this.totalRequest=e.length;let t=0;e.forEach(e=>{t+=e.inboxCount}),this.totalTickets=t;let i={userName:this.userName,fromDate:this.fromDate,toDate:this.toDate,totalRequest:this.totalRequest,totalTickets:this.totalTickets};this.LeaveData=i,this.isConfirmLeaveVisible=!0},async submitClick(){this.$store.commit("showLoadingBar");let e={userId:this.user,fromDate:this.fromDate,toDate:this.toDate,isAllInbox:this.isTransferCurrentRequest,isNotification:this.isNotification,settingsJson:JSON.stringify(this.ticketList)};if("NEW"===this.mode){const{error:t}=await r["q"].addLeaveEntries(e);if(t)return void this.$alert.error(t);this.$alert.success("Leave entry added successfully")}else{const{error:t}=await r["q"].updateLeaveEntries(this.formModel.id,e);if(t)return void this.$alert.error(t);this.$alert.success("Leave entry edited successfully")}this.$store.commit("hideLoadingBar"),this.reset(),this.$emit("refresh")},reset(){this.user=0,this.fromDate="",this.toDate="",this.ticketList=[{assignee:0,inboxCount:0,name:"",reason:null,stage:"",workflowId:0}],this.isNotification=!1,this.isTransferCurrentRequest=!1}}},ie=te,se=(i("d08d"),Object(y["a"])(ie,O,M,!1,null,"48c3629b",null)),ae=se.exports,oe={name:"LeaveBrowseAndTrash",components:{Portal:n["Portal"],StateWrapper:l["a"],ItemActionChips:u["a"],ItemActions:d["a"],Pagination:c["a"],LeaveEntryGrid:g,LeaveEntryList:I,ConfirmDeleteLeaveEntry:E,ConfirmRestoreLeaveEntry:R,LeaveBuilder:ae},props:{mode:{type:String,required:!0}},data(){return{columns:[{id:this.$nano.id(),name:"itemid",label:"Entry #",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:o["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdBy",label:"Created By",type:"SUBTITLE",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:o["a"].SINGLE_SELECT,default:"USERS"},{id:this.$nano.id(),name:"createdAt",label:"Created At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:o["a"].DATE_TIME},{id:this.$nano.id(),name:"modifiedBy",label:"Modified By",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!0,dataType:o["a"].SINGLE_SELECT,default:"USERS"},{id:this.$nano.id(),name:"modifiedAt",label:"Modified At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:o["a"].DATE_TIME},{id:this.$nano.id(),name:"user",label:"User",type:"NORMAL",isVisible:!0,isSortable:!1,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"fromDate",label:"From Date",type:"NORMAL",isVisible:!0,isSortable:!1,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"toDate",label:"To Date",type:"NORMAL",isVisible:!0,isSortable:!1,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"isAllInbox",label:"Current Inbox Request Transfer",type:"NORMAL",isVisible:!0,isSortable:!1,isGroupable:!1,dataType:"SHORT_TEXT"},{id:this.$nano.id(),name:"isNotification",label:"Notification",type:"NORMAL",isVisible:!0,isSortable:!1,isGroupable:!1,dataType:"SHORT_TEXT"}],activeView:"GRID",isDeleteConfirmationVisible:!1,isRestoreConfirmationVisible:!1,sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],totalItems:0,itemsPerPage:50,currentPage:1,entryMode:"NEW",leaveEntries:[],leaveEntriesData:[],isLeaveFormEntrySheetVisible:!1,selectedLeaveFormEntry:{},userList:[]}},computed:{items(){return this.leaveEntries.map(({key:e,value:t})=>({key:this.groupBy,value:e,data:t.map(e=>({id:e.id,itemid:"Entry #"+e.id,createdBy:e.createdBy,createdAt:this.$day.format(e.createdAt),modifiedBy:e.modifiedBy,modifiedAt:this.$day.format(e.modifiedAt),icon:"mdi-text-box",user:this.getUserEmail(e.userId),userId:e.userId,fromDate:e.fromDate,toDate:e.toDate,settings:e.settings,isAllInbox:e.isAllInbox,isNotification:e.isNotification}))}))}},watch:{},mounted(){this.$watch(e=>[e.mode,e.sortBy,e.groupBy,e.currentPage,e.itemsPerPage],()=>this.getLeaveEntries(),{deep:!0,immediate:!0})},methods:{clearSortBy(){this.sortBy={criteria:"",order:"DESC"}},clearGroupBy(){this.groupBy=""},findFormEntry(e){const t=[];return this.items.forEach(e=>t.push(...e.data)),t.find(t=>t.id===e)},addLeaveEntry(){this.entryMode="NEW",this.selectedLeaveFormEntry={},this.isLeaveFormEntrySheetVisible=!0},editFormEntry(e){this.entryMode="EDIT",this.selectedLeaveFormEntry=this.findFormEntry(e),this.isLeaveFormEntrySheetVisible=!0},viewFormEntry(e){this.entryMode="VIEW",this.selectedLeaveFormEntry=this.findFormEntry(e),this.isLeaveFormEntrySheetVisible=!0},showDeleteConfirmation(e){this.selectedLeaveFormEntry=this.findFormEntry(e),this.isDeleteConfirmationVisible=!0},showRestoreConfirmation(e){this.selectedLeaveFormEntry=this.findFormEntry(e),this.isRestoreConfirmationVisible=!0},loadAllFormEntries(){this.itemsPerPage=this.totalItems,this.currentPage=1},async updateFormEntry(e){this.$store.commit("showLoadingBarPage");const{error:t}=await r["q"].updateLeaveEntries(this.selectedLeaveFormEntry.id,e);if(t)return void this.$alert.error(t);this.$store.commit("hideLoadingBarPage");const i=e.isDeleted?"deleted":"restored",s=this.selectedLeaveFormEntry.itemid;this.$alert.success(`Leave entry "${s}" ${i} successfully`),this.getLeaveEntries()},searchRow(e){this.leaveEntries=e?this.leaveEntriesData.map(({key:t,value:i})=>({key:t,value:i.filter(t=>{for(let i in t){console.log(i);let s=this.columns.findIndex(e=>e.name===i);if(console.log(s,t[i]),s>=0&&t[i]&&String(t[i]).toLowerCase().includes(e.toLowerCase()))return t}})})):this.leaveEntriesData},clearFilterBy(e,t){this.filterBy[e].filters.splice(t,1),0==this.filterBy[e].filters.length&&(this.filterBy[e].filters=[],this.filterBy.splice(e,1)),0==this.filterBy.length&&(this.filterBy=[]),this.getLeaveEntries()},async getLeaveEntries(){this.$store.commit("showLoadingBarPage");const{error:e,payload:t}=await r["q"].getLeaveEntries({mode:this.mode,filterBy:[]});if(this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);console.log(t),await this.getUsers();let i=[{key:"",value:t.map(e=>({id:e.id,itemid:"Entry #"+e.id,createdBy:e.createdByEmail,createdAt:this.$day.format(e.createdAt),modifiedBy:e.modifiedByEmail,modifiedAt:this.$day.format(e.modifiedAt),icon:"mdi-text-box",user:this.getUserEmail(e.userId),userId:e.userId,fromDate:e.fromDate,toDate:e.toDate,settings:e.settingsJson,isAllInbox:e.isAllInbox?"Yes":"No",isNotification:e.isNotification?"Yes":"No"}))}];this.leaveEntries=i||[],this.leaveEntriesData=i,this.totalItems=i[0].value.length||0,this.isLeaveFormEntrySheetVisible=!1},async getUsers(){const{error:e,payload:t}=await r["s"].getUserList();e?this.$alert.error("Error fetching users"):this.userList=t&&t.map(e=>({id:this.$nano.id(),label:e.value,value:Number(e.id)}))},getUserEmail(e){let t=this.userList.find(t=>t.value===e);if(t)return t.label}}},re=oe,ne=(i("c608"),Object(y["a"])(re,s,a,!1,null,"564b8dae",null));t["default"]=ne.exports},8180:function(e,t,i){"use strict";i("e0b6")},8625:function(e,t,i){},"965e":function(e,t,i){"use strict";i("f303f")},afe7:function(e,t,i){},b7c6:function(e,t,i){},ba5a:function(e,t,i){"use strict";i("5042")},c3ca:function(e,t,i){"use strict";i("0ad7")},c49c:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"state-wrapper"}},[t("div",{staticClass:"slow-up-down",attrs:{id:"illustration"}},[t("div",{attrs:{id:"shape-1"}}),t("div",{attrs:{id:"shape-2"}}),t("div",{attrs:{id:"shape-3"}},[t("BaseIcon",{staticClass:"icon",attrs:{name:e.icon,size:"80px"}})],1)]),t("div",{staticClass:"title-1"},[e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"description"},[e._v(" "+e._s(e.description)+" ")]),e.action?t("BaseButton",{staticClass:"q-mt-lg",attrs:{icon:e.actionIcon,label:e.action},on:{click:function(t){return e.$emit("action")}}}):e._e()],1)},a=[],o={name:"StateWrapper",props:{icon:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},action:{type:String,default:""},actionIcon:{type:String,default:""}}},r=o,n=(i("2948"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"ba5412d8",null);t["a"]=l.exports},c559:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"sort",expression:"'sort'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-sort","no-border":""}},[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("BaseScrollbar",{attrs:{height:e.scrollbarHeight,width:"240px"}},[t("div",{staticClass:"title-3 q-pa-md"},[e._v("Sort Criteria")]),e._l(e._columns,(function(i){return t("ListItem",{key:i.id,attrs:{icon:e.criteria===i.name?"eva-radio-button-on":"eva-radio-button-off","is-selected":e.criteria===i.name,label:i.label},on:{click:function(t){return e.updateCriteria(i.name)}}})}))],2),t("div",{staticClass:"title-3 q-pa-md"},[e._v("Sort Order")]),t("ListItem",{attrs:{icon:"ASC"===e.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"ASC"===e.order,label:"Ascending"},on:{click:function(t){return e.updateOrder("ASC")}}}),t("ListItem",{staticClass:"q-mb-sm",attrs:{icon:"DESC"===e.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"DESC"===e.order,label:"Descending"},on:{click:function(t){return e.updateOrder("DESC")}}})],1)],1)},a=[],o=i("cade"),r={name:"SortItems",components:{ListItem:o["a"]},props:{columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(e=>e.isSortable)]},scrollbarHeight(){const e=54*this._columns.length;return e>216?"224px":e+"px"}},methods:{updateCriteria(e){this.$emit("update:criteria",e)},updateOrder(e){this.$emit("update:order",e)}}},n=r,l=i("2877"),c=i("4e73"),d=i("93dc"),u=i.n(d),m=Object(l["a"])(n,s,a,!1,null,"12f6a366",null);t["a"]=m.exports;u()(m,"components",{QMenu:c["a"]})},c608:function(e,t,i){"use strict";i("8625")},c925:function(e,t,i){"use strict";i("65c0")},cbc3:function(e,t,i){},cd8d:function(e,t,i){"use strict";i("00f0")},d08d:function(e,t,i){"use strict";i("fa8d")},d37d:function(e,t,i){"use strict";i("4f21")},e0b6:function(e,t,i){},e669:function(e,t,i){"use strict";i("b7c6")},ee26:function(e,t,i){"use strict";i("cbc3")},f108:function(e,t,i){},f303f:function(e,t,i){},f92f:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"item-list"}},[e.selectedDummyData?e._t("default"):e._e(),t("BaseScrollbar",{attrs:{height:e.breadcrumbs||e.report?"calc(100vh - 310px)":"calc(100vh - 260px)"}},[t("table",[e.tableHeader?t("thead",[t("tr",{staticStyle:{"background-color":"var(--body-bg-color)"}},[t("th",{staticClass:"sticky icon",staticStyle:{left:"0"}},[e.checkbox?t("div",{staticClass:"row items-center justify-center"},[t("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:e.handleSelectAll},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}})],1):e._e()]),e.repository&&e.checkbox?[t("th",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}}),e.title?t("th",{staticClass:"sticky",staticStyle:{left:"80px"}},[e._t("titleHead",(function(){return[e._v(" "+e._s(e.title.label)+" ")]}),{title:e.title.label})],2):e._e()]:[e.title?t("th",{staticClass:"sticky",staticStyle:{left:"36px"}},[e._t("titleHead",(function(){return[e._v(" "+e._s(e.title.label)+" ")]}),{title:e.title.label})],2):e._e()],e._l(e._columns,(function(i){return t("th",{key:i.id},[e._v(" "+e._s(i.label)+" ")])})),e.noActions?e._e():t("th",{staticClass:"sticky action",staticStyle:{right:"0"}})],2)]):e._e(),t("tbody",[e._l(e.items,(function({key:i,value:s,data:a}){return[i?t("tr",{key:s},[t("td",{staticClass:"group-by",attrs:{colspan:"2"}},[t("span",{staticClass:"key"},[e._v(e._s(i)+": ")]),t("span",[e._v(e._s(s)+" ")]),t("span",[e._v("("+e._s(a.length)+")")])])]):e._e(),e._l(a,(function(i,s){return[t("tr",{key:i.id,class:{"no-border":0===s,background:!e.noBackground,checkout:2===i.checkinStatus},on:{click:function(t){return e.toggleLink(i,a)}}},[e.repository&&e.checkbox?[t("td",{staticClass:"sticky icon",staticStyle:{left:"0"}},[e.checkbox?t("div",{staticClass:"row items-center justify-center"},[t("CheckboxField",{on:{input:function(t){return e.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(t){e.$set(i,"selected",t)},expression:"item.selected"}})],1):e._e()]),t("td",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}},[t("div",{staticClass:"row items-center justify-center",staticStyle:{width:"20px"}},[e._t("avatar",null,{item:i})],2)])]:[t("td",{staticClass:"sticky icon",staticStyle:{left:"0",width:"36px"}},[e.checkbox?t("div",{staticClass:"col items-center justify-center"},[t("CheckboxField",{on:{input:function(t){return e.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(t){e.$set(i,"selected",t)},expression:"item.selected"}}),i.subWorkflow?[i.subWorkflow.length?t("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):e._e()]:e._e()],2):t("div",{staticClass:"col items-center justify-center"},[e._t("avatar",(function(){return[i.buttonAction?["Closed"!==i.status?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Mark Completed",expression:"'Mark Completed'",modifiers:{top:!0}}],attrs:{name:e.selectedRowIndex===s?"mdi-check":i.icon,color:e.selectedRowIndex===s?"primary":i.color},on:{mouseover:function(t){e.selectedRowIndex=s},mouseout:function(t){e.selectedRowIndex=-1},click:function(t){return e.$emit("complete",i.id)}}})]:[t("BaseIcon",{attrs:{name:i.icon,color:i.color}})]]:[i.iconTooltip?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"item.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color||"secondary"}})]:[t("BaseIcon",{attrs:{name:i.icon,color:i.color||"secondary"}})]]]}),{item:i}),i.subWorkflow?[i.subWorkflow.length?t("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):e._e()]:e._e()],2)])],e.title?t("td",{staticClass:"sticky",style:"left:"+e.leftcount,on:{click:function(t){i.link&&e.$emit("select",i.id,a)}}},[e._t("title",(function(){return[t("div",{staticClass:"font-medium ellipsis",class:i.link?"text-underline":"",staticStyle:{"max-width":"250px"}},[t("span",{on:{mouseover:function(t){return e.$emit("showThumbnail",i,t)},mouseleave:function(t){return e.$emit("hideThumbnail",i)}}},[e._v(e._s(i[e.title.name])+" ")])])]}),{item:i,title:i[e.title.name]}),e._t("thumbnail",null,{item:i})],2):e._e(),e._l(e._columns,(function(s){return t("td",{key:s.id},[e._t(s.name,(function(){return["TABLE"===s.dataType?[i[s.name]?[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Table Data",expression:"'Table Data'",modifiers:{top:!0}}],attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(t){return t.stopPropagation(),e.showTable(s.name,i[s.name])}}})]:[t("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]:"ICON"===s.type?[i[s.name]?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip[s.name],expression:"item.iconTooltip[column.name]",modifiers:{top:!0}}],attrs:{name:i[s.name],color:i.iconColor[s.name]}})]:[e._v(" "+e._s("-")+" ")]]:"FILE_UPLOAD"===s.dataType?[i[s.name]?["string"===typeof i[s.name]?t("div",{staticClass:"ellipsis medium"},e._l(JSON.parse(i[s.name]),(function(s,a){return t("div",{key:a,staticClass:"row"},[t("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":e.fileType(s.fileName)}}),t("span",{staticClass:"text-secondary file-underline col",on:{click:function(t){return e.viewFile(s,i)}}},[e._v(e._s(s.fileName))])],1)})),0):t("div",{staticClass:"ellipsis medium"},e._l(i[s.name],(function(s,a){return t("div",{key:a,staticClass:"row"},[t("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":e.fileType(s.fileName)}}),t("span",{staticClass:"text-secondary file-underline col",on:{click:function(t){return e.viewFile(s,i)}}},[e._v(e._s(s.fileName))])],1)})),0)]:e._e()]:[t("div",{class:{"data-change":e.hasMetaDataEdit},on:{click:function(t){return e.handleOpenInput(i,s)}}},[e._v(" "+e._s(i[s.name]||"-")+" ")])]]}),{value:i[s.name],item:i})],2)})),e.noActions?e._e():t("td",{staticClass:"sticky action",staticStyle:{right:"0",width:"50px"}},[e._t("actions",(function(){return["BROWSE"===e.mode?[i.actionAccess?e._e():[t("div",{staticClass:"row justify-end no-wrap"},[e.security||e.visibility(i)?[i.actionButton?[i.infoIcon?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("info",i.id)}}}):e._e(),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-check-all",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-bell-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-shield-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("secure",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}},[e._t("extraMenu")],2)]:[i.infoIcon?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("info",i.id)}}}):e._e(),1===i.emailStatus?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-check-outline",color:"green"},on:{click:function(t){return t.stopPropagation(),e.$emit("resend",i.id)}}}):0===i.emailStatus?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-sync-outline",color:"orange"},on:{click:function(t){return t.stopPropagation(),e.$emit("resend",i.id)}}}):e.resend?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("resend",i.id)}}}):e._e(),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),e.showExport?t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-download-outline",color:"orange"},on:{click:function(t){return t.stopPropagation(),e.$emit("export",i.id)}}}):e._e(),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}},[e._t("extraMenu")],2)]]:e._e()],2)]]:e._e(),"TRASH"===e.mode?[t("div",{staticClass:"row justify-end"},[t("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"mdi-history","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("restore",i.id)}}})],1)]:e._e()]}),{item:i})],2)],2),i.subWorkflow?[i.subWorkflow.length?[i.expandSubworkflow?t("tr",{key:i.id,staticClass:"sub-background"},[t("td",{attrs:{colspan:e._columns.length+3}},[t("table",{key:"subtable"+i.id,staticStyle:{"margin-left":"20px",border:"1px solid var(--divider-color)","table-layout":"fixed","max-width":"70%","min-width":"calc(70% - 1px)","border-collapse":"collapse","white-space":"nowrap"}},[t("thead",[t("tr",[t("th",{staticClass:"sticky icon",staticStyle:{left:"0","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"icon"}}),e.title?t("th",{staticClass:"sticky",staticStyle:{left:"36px","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"title"}},[t("div",{staticClass:"font-medium ellipsis",staticStyle:{"max-width":"250px"}},[e._v(" "+e._s(e.title.label)+" ")])]):e._e(),e._l(e._subWorkflowColumns,(function(i){return t("th",{key:i.id,staticStyle:{"background-color":"rgb(222 217 247)",width:"2%"}},[e._v(" "+e._s(i.label)+" ")])})),t("th",{staticClass:"sticky",staticStyle:{"background-color":"rgb(222 217 247)"}})],2)]),t("tbody",[e._l(i.subWorkflow,(function(i){return[t("tr",{key:i.requestNo},[t("td",{staticClass:"sticky icon sub-background",staticStyle:{left:"0"},attrs:{name:"avatar"}},[t("div",{staticClass:"row items-center sticky justify-center"},[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"subItem.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color}})],1)]),t("td",{staticClass:"sticky sub-background",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"},attrs:{name:"title"}},[t("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.requestNo,expression:"subItem.requestNo",modifiers:{top:!0}}],staticClass:"row items-center text-underline",staticStyle:{overflow:"hidden !important","white-space":"unset !important",width:"220px"},on:{click:function(t){return e.openSubProcess(i)}}},[e._v(" "+e._s(i.requestNo||"-")+" ")])]),t("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.stage)+" ")]),t("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.raisedBy)+" ")]),t("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.raisedAt)+" ")]),t("td",{staticClass:"sticky sub-background",staticStyle:{right:"0px",width:"20%"}},[e._t("subactions",null,{item:i})],2)])]}))],2)])])]):e._e()]:e._e()]:e._e()]}))]}))],2)])]),t("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(t){e.expandTableModal=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[t("div",{attrs:{id:"tableData"}},[e.tableData.cellvalues?[t("table",e._l(e.tableData.cellvalues,(function(i,s){return t("tr",{key:s},e._l(i,(function(i){return t("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[e._v(" "+e._s(i.cellvalue)+" ")])})),1)})),0)]:[t("table",[t("thead",[t("tr",e._l(e.tableData[0],(function(i,s){return t("th",{key:s},[e._v(" "+e._s(s)+" ")])})),0)]),t("tbody",e._l(e.tableData,(function(i,s){return t("tr",{key:s},e._l(i,(function(i,s){return t("td",{key:s},[e._v(" "+e._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:e.expandTableModal,callback:function(t){e.expandTableModal=t},expression:"expandTableModal"}})],2)},a=[],o=(i("caad"),i("869e")),r=i("6a70"),n=i("fa1f"),l={name:"ItemList",components:{CheckboxField:o["a"],Modal:r["a"],FileIcon:n["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},noBackground:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},tableHeader:{type:Boolean,default:!0},security:{type:Boolean,default:!0},checkbox:{type:Boolean,default:!1},hasMetaDataEdit:{type:Boolean,required:!1},breadcrumbs:{type:Boolean,default:!1},report:{type:Boolean,default:!1},resend:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},repository:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{selectedRowIndex:-1,userId:this.$store.state.session.id,email:this.$store.state.session.email,selectedDummyData:!1,expandTableModal:!1,tableTitle:"",tableData:[]}},computed:{_columns(){return this.columns.filter(e=>"TITLE"!==e.type&&e.isVisible)},title(){return this.columns.find(e=>"TITLE"===e.type)},leftcount(){return this.repository&&this.checkbox?"80px":"36px"},_subWorkflowColumns(){let e=[{id:this.$nano.id(),name:"stage",label:"Stage",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",type:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}];return e}},created(){this.items.forEach(e=>{e.data.forEach(e=>{this.$set(e,"selected",!1)})})},methods:{visibility(e){const t=Number(this.userId),i=this.email;let s=!1;const a=e.owner?e.owner.map(e=>e.id):[0],o=e.coordinator?e.coordinator.map(e=>e.id):[0];return(e.createdBy===i||a.includes(t)||o.includes(t)||1===t)&&(s=!0),s},handleCheckboxChange(e){this.selectAll=!1,this.selectedDummyData=!this.selectedDummyData;const t=this.items.flatMap(e=>e.data).find(t=>t.id===e);t&&this.$set(t,"selected",t.selected),this.$emit("update-selected-all",this.selectAll)},handleSelectAll(){!0===this.selectAll&&this.items.forEach(e=>{e.data.forEach(e=>{this.$set(e,"selected",!0)})}),!1===this.selectAll&&this.items.forEach(e=>{e.data.forEach(e=>{this.$set(e,"selected",!1)})}),this.$emit("update-selected-all",this.selectAll)},showTable(e,t){t&&(this.report?this.$emit("showTable",e,t):(this.tableTitle=e,this.tableData=JSON.parse(t),this.expandTableModal=!0))},handleOpenInput(e,t){this.$emit("openMetaDataEdit",e,t)},viewFile(e,t){e.createdBy=t.createdBy,e.createdAt=t.createdAt,e.name||(e.name=e.fileName),e.id||(e.id=e.itemId),this.$emit("viewFile",e)},fileType(e){if(e)return e.split(".").reverse()[0].slice(0,4)},toggleLink(e,t){e.expandSubworkflow=!e.expandSubworkflow,!e.link&&this.$emit("select",e.id,t),this.selectedDummyData=!this.selectedDummyData},openSubProcess(e){this.$emit("openSubWorkflow",e)}}},c=l,d=(i("d37d"),i("2877")),u=Object(d["a"])(c,s,a,!1,null,"00be4c3f",null);t["a"]=u.exports},fa8d:function(e,t,i){}}]);
//# sourceMappingURL=leave-trash.b71f2b74.js.map