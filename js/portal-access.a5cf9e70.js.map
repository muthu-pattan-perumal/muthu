{"version":3,"sources":["webpack:///./src/assets/logo/name-light.png","webpack:///./src/views/tasks/views/tasks-browse-and-trash/components/AddTask.vue","webpack:///src/views/tasks/views/tasks-browse-and-trash/components/AddTask.vue","webpack:///./src/views/tasks/views/tasks-browse-and-trash/components/AddTask.vue?191e","webpack:///./src/views/tasks/views/tasks-browse-and-trash/components/AddTask.vue?44d6","webpack:///./src/views/portals/views/PortalsAccess.vue","webpack:///./src/views/portals/views/components/PortalFilterItems.vue","webpack:///src/views/portals/views/components/PortalFilterItems.vue","webpack:///./src/views/portals/views/components/PortalFilterItems.vue?111c","webpack:///./src/views/portals/views/components/PortalFilterItems.vue?dacd","webpack:///./src/views/portals/views/components/PortalList.vue","webpack:///./src/views/portals/views/components/List/List.vue","webpack:///src/views/portals/views/components/List/List.vue","webpack:///./src/views/portals/views/components/List/List.vue?203b","webpack:///./src/views/portals/views/components/List/List.vue?72c6","webpack:///src/views/portals/views/components/PortalList.vue","webpack:///./src/views/portals/views/components/PortalList.vue?b059","webpack:///./src/views/portals/views/components/PortalList.vue?7e40","webpack:///src/views/portals/views/PortalsAccess.vue","webpack:///./src/views/portals/views/PortalsAccess.vue?e410","webpack:///./src/views/portals/views/PortalsAccess.vue?31fa","webpack:///./src/components/common/workflow/Attachments.vue?61ba","webpack:///./node_modules/lodash-es/_parent.js","webpack:///./node_modules/lodash-es/_baseUnset.js","webpack:///./src/views/portals/views/components/PortalList.vue?9ee5","webpack:///./src/components/common/tabs/Tab.vue?130d","webpack:///./src/views/portals/views/components/PortalFilterItems.vue?6334","webpack:///./src/constants/data-type.js","webpack:///./src/assets/logo/bell-logo.png","webpack:///./src/views/workflows/views/workflows-inbox/components/FileDetails.vue?0b21","webpack:///./src/components/common/tabs/Tabs.vue?668c","webpack:///./node_modules/export-from-json/dist/esm/utils.js","webpack:///./node_modules/export-from-json/dist/esm/processors.js","webpack:///./node_modules/export-from-json/dist/esm/converters.js","webpack:///./node_modules/export-from-json/dist/esm/types.js","webpack:///./node_modules/export-from-json/dist/esm/exportFromJSON.js","webpack:///./node_modules/export-from-json/dist/esm/index.js","webpack:///./src/helpers/export-data.js","webpack:///./src/helpers/export-excel-data.js","webpack:///./src/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit.vue?0185","webpack:///./src/views/workflows/views/workflows-inbox/components/components/SubWorkflow.vue","webpack:///src/views/workflows/views/workflows-inbox/components/components/SubWorkflow.vue","webpack:///./src/views/workflows/views/workflows-inbox/components/components/SubWorkflow.vue?ec6a","webpack:///./src/views/workflows/views/workflows-inbox/components/components/SubWorkflow.vue?9cfe","webpack:///./node_modules/lodash-es/_baseGet.js","webpack:///./src/views/workflows/views/workflows-inbox/components/components/SubWorkflow.vue?d31a","webpack:///./src/components/common/EmailSharing.vue","webpack:///src/components/common/EmailSharing.vue","webpack:///./src/components/common/EmailSharing.vue?d14a","webpack:///./src/components/common/EmailSharing.vue?cce2","webpack:///./src/components/common/EmailSharing.vue?1c07","webpack:///./src/assets/logo/psg-logo.png","webpack:///./src/components/common/Toggle.vue","webpack:///src/components/common/Toggle.vue","webpack:///./src/components/common/Toggle.vue?219a","webpack:///./src/components/common/Toggle.vue?2b50","webpack:///./src/components/common/workflow/FormEntryHistory.vue?8322","webpack:///./src/views/upload-and-index/views/indexer/components/repository-fields/components/RepositoryField.vue","webpack:///src/views/upload-and-index/views/indexer/components/repository-fields/components/RepositoryField.vue","webpack:///./src/views/upload-and-index/views/indexer/components/repository-fields/components/RepositoryField.vue?7360","webpack:///./src/views/upload-and-index/views/indexer/components/repository-fields/components/RepositoryField.vue?98ea","webpack:///./node_modules/quasar/src/components/chat/QChatMessage.js","webpack:///./src/components/common/workflow/ProcessHistory.vue","webpack:///src/components/common/workflow/ProcessHistory.vue","webpack:///./src/components/common/workflow/ProcessHistory.vue?c306","webpack:///./src/components/common/workflow/ProcessHistory.vue?c11a","webpack:///./node_modules/lodash-es/startCase.js","webpack:///./src/views/upload-and-index/views/indexer/components/repository-fields/components/RepositoryField.vue?b299","webpack:///./src/components/common/tabs/Tab.vue","webpack:///src/components/common/tabs/Tab.vue","webpack:///./src/components/common/tabs/Tab.vue?5cff","webpack:///./src/components/common/tabs/Tab.vue?0ae4","webpack:///./src/components/common/Action.vue","webpack:///src/components/common/Action.vue","webpack:///./src/components/common/Action.vue?68c8","webpack:///./src/components/common/Action.vue?5b61","webpack:///./src/constants/condition.js","webpack:///./src/helpers/conditions.js","webpack:///./src/assets/logo/hovr.png","webpack:///./node_modules/lodash-es/_customOmitClone.js","webpack:///./node_modules/lodash-es/_isFlattenable.js","webpack:///./node_modules/lodash-es/_baseFlatten.js","webpack:///./node_modules/lodash-es/flatten.js","webpack:///./node_modules/lodash-es/_flatRest.js","webpack:///./node_modules/lodash-es/omit.js","webpack:///./src/views/portals/views/components/List/List.vue?c715","webpack:///./src/components/common/Action.vue?53f1","webpack:///./src/views/tasks/views/tasks-browse-and-trash/components/AddTask.vue?7407","webpack:///./node_modules/lodash-es/last.js","webpack:///./src/views/workflows/views/workflows-inbox/components/FileDetails.vue","webpack:///src/views/workflows/views/workflows-inbox/components/FileDetails.vue","webpack:///./src/views/workflows/views/workflows-inbox/components/FileDetails.vue?ad4e","webpack:///./src/views/workflows/views/workflows-inbox/components/FileDetails.vue?ac48","webpack:///./src/assets/logo/sobha-logo.png","webpack:///./src/components/common/workflow/FormEntryHistory.vue","webpack:///src/components/common/workflow/FormEntryHistory.vue","webpack:///./src/components/common/workflow/FormEntryHistory.vue?c5f8","webpack:///./src/components/common/workflow/FormEntryHistory.vue?c515","webpack:///./src/components/common/tabs/Tabs.vue","webpack:///src/components/common/tabs/Tabs.vue","webpack:///./src/components/common/tabs/Tabs.vue?4f21","webpack:///./src/components/common/tabs/Tabs.vue?5e6e","webpack:///./src/components/common/workflow/Comments.vue","webpack:///src/components/common/workflow/Comments.vue","webpack:///./src/components/common/workflow/Comments.vue?4471","webpack:///./src/components/common/workflow/Comments.vue?5ad7","webpack:///./src/assets/logo sync ^\\.\\/name\\-.*\\.png$","webpack:///./src/components/common/workflow/ProcessHistory.vue?f099","webpack:///./src/components/common/workflow/Comments.vue?bd5d","webpack:///./src/views/portals/views/PortalsAccess.vue?ad2b","webpack:///./src/assets/logo/name-dark.png","webpack:///./src/views/workflows/views/workflows-inbox/components/components/SubWorkflow.vue?0913","webpack:///./src/components/common/workflow/Attachments.vue","webpack:///src/components/common/workflow/Attachments.vue","webpack:///./src/components/common/workflow/Attachments.vue?e23d","webpack:///./src/components/common/workflow/Attachments.vue?398b","webpack:///./src/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit.vue","webpack:///src/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit.vue","webpack:///./src/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit.vue?30f4","webpack:///./src/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit.vue?3ab4","webpack:///./src/components/common/Toggle.vue?7949","webpack:///./src/layouts/app/components/toolbar/components/ThemeSwitcher.vue","webpack:///src/layouts/app/components/toolbar/components/ThemeSwitcher.vue","webpack:///./src/layouts/app/components/toolbar/components/ThemeSwitcher.vue?7805","webpack:///./src/layouts/app/components/toolbar/components/ThemeSwitcher.vue?5df8"],"names":["module","exports","render","_vm","this","_c","_self","attrs","value","taskWidth","on","closeSheet","scopedSlots","_u","key","fn","_t","_v","_s","title","proxy","staticClass","isMaximized","toggleWidth","panels","secondaryPanels","formSettings","taskModel","mode","saveTask","_l","tabs","tab","directives","name","rawName","label","expression","modifiers","id","icon","$event","showLinks","count","_e","taskWorkflowList","workflow","getForm","closeAddTaskSheet","headerTitle","workflowFormId","addWorkflowForm","settings","workflowFormModel","saveAction","actions","action","validateRequest","model","addTaskSheet","callback","$$v","attachmentList","length","closeAttachmentsSheet","getAttachments","$refs","attachments","click","fileSelectAll","selectAll","selectedFileCount","documentShare","attachmentSheet","ref","uploadAttachments","file","checked","fileType","openFile","stopPropagation","attachmentDelete","$day","format","createdAt","createdBy","createdByEmail","size","fileSize","closeCommentsSheet","commentsSheet","commentsList","row","idx","$store","state","session","comments","lastCommentDuration","commentText","staticStyle","saveComment","advancedCommentsSheet","fileSheet","selectedFile","fileLink","closeTaskSheet","getworkflowForm","taskSheet","processInfo","task","getWorkflowAudit","requestNo","actionUser","getColor","flowStatus","raisedBy","raisedAt","processSheet","formIdName","formModel","advancedCommentText","saveAdvancedComment","repositoryId","selectedFileList","emailSharingSheet","staticRenderFns","components","Sheet","RenderForm","FileIcon","CheckboxField","TextAreaField","ListItem","TextBuilderField","Modal","EmailSharing","props","type","default","required","formId","taskName","workflowTask","selectedTask","documentTask","repositoryFile","data","attachmentLoad","workflowsSheet","workflowList","workflowId","workflowPanels","form","workflowName","workflowDescription","processId","transactionId","workflowDetails","countWorkflow","workflowFormTaskList","formList","formStage","formDetails","computed","formName","formDescription","scrollbarHeight","watch","immediate","handler","deep","clearInterval","methods","window","comment","years","months","weeks","days","hours","minutes","seconds","showHistory","domainURL","origin","entryId","input","fields","uploadedIdList","fileIds","error","console","wFormId","formEntryId","fileInfo","itemId","payload","formData","url","method","headers","Token","Accept","status","e","initiate","inputData","review","wId","fId","filterBy","groupCondition","filters","criteria","condition","currentPage","itemsPerPage","meta","keys","newValues","validateTypeValue","remarks","category","lastActionBy","userEmail","userIds","component","QMenu","QChatMessage","QAvatar","QChip","style","width","portalWidth","isLogoRequired","_logo","logoHeight","logOut","initiatedBy","mandatory","filledValue","nonFilledValue","mandatoryFilling","checkFormValidation","mandatoryDocument","formView","Object","selectedProcess","btnAction","workflowModel","formEditAccess","formEditControls","readonlyControls","formVisibilityAccess","formSecureControls","_enableControls","formUploadFiles","hasCheckFormValidate","ocrResult","checkList","getOCRResult","mandatoryControlsList","deletedFiles","trackRequest","class","inbox","darkTheme","getlist","inboxCount","processCount","openNewRequest","search","domProps","searchList","target","composing","_columns","selectedFilter","getWorkflowData","getRequestList","export_Data","loadingBarContent","_items","workflowRequestList","processLevel","handleFormViewUpdate","showSubLinks","openProcess","openSubProcess","checkListTemplate","uploadAccess","rowIndex","downloadAll","uploadWflowAttachments","hasOwnProperty","show","attach","uid","attachTemplate","template","download","checkTenant","formJsonId","getLabel","arg","documentActionList","documentAction","successModalClaim","refNo","successModal","closeDocumentAlertModal","initiateRequest","documentAlertModal","closeAlertModal","alertModal","showMetaDataEditModal","repositoryField","fileData","uploadFilename","closeMetaDataEditModal","saveMetaData","historyProcessId","subWorkflowId","subProcessData","openSubProcessSheet","closeSubProcess","showAttachmentSheet","selectedNode","repositoryDetails","columns","attachmentCount","showCommentsSheet","commentsCount","activeFilter","item","searchContent","searchText","filterGroups","group","groupIdx","addFilter","filter","filterIdx","refInFor","errors","applyDataType","$set","conditions","dataType","includes","options","arrayValue","removeFilter","addFilterGroup","removeFilterGroup","groupConditions","clearFilter","apply","ValidationObserver","ValidationProvider","TextField","SelectField","Action","Toggle","NumberField","DateField","TimeField","isBordered","searchValue","ids","apiPath","$route","column","invalidFields","items","list","handleActions","handleSubActions","handleProcess","handleSubProcess","handleViewFile","tableHeader","dummyData","actionColor","lastAction","expandSubWorkflow","iconTooltip","color","openSheet","JSON","parse","showTable","index","fileName","viewFile","removeTags","$emit","displaySubTable","subWorkflow","_subWorkflowColumns","subItem","background","openSubSheet","subWorkflowName","request","openTable","openForm","stageLevel","level","currentStep","createdByName","transaction_createdByEmail","transaction_createdAt","requestFormData","panel","panelsExpandView","isVisible","validateType","validateValue","tableColumns","tableValue","expandTableModal","tableTitle","tableData","FormFieldLabel","noBackground","isSortable","isGroupable","computedBackgroundColor","transformFormDataToPanelsArray","wflowJson","block","secureControls","panelFields","panelData","transformedFormData","fieldType","controlLabel","field","tblColumns","_tblColumns","stage","QStepper","QStep","List","ThemeSwitcher","Confirm","PortalFilterItems","PortalList","Pagination","MetaDataEdit","ProcessHistory","SubWorkflowProcess","Attachments","Comments","tenantId","portalId","breadcrumbs","activeItem","tabList","description","children","link","drilledList","docWarning","processActionsAddOn","generatePDF","hasSelectedProcess","workflowRequestListData","userList","totalItems","selectedUploadFile","fileControlDeleteFile","formFields","subWorkflowFormList","fileUploadForControl","fileUploadInput","metaDataModal","metaDataTitle","portalMasterFormId","portalSettingJson","masterFormFields","fileUploadRequired","commentAction","controls","childControls","tblrow","listControls","enableControls","parentControls","attachmentsCount","activityId","userId","raisedByUser","stageName","stageType","subWorkFlowId","String","getFieldIndicatorList","formControls","control","created","location","checkDocument","resetList","checkStatusIcon","checkStatusColor","process","toLowerCase","lastActionDuration","proceed","updateFilterBy","getMandatory","getFormData","Stage","exportData","workflowJson","subWorkflowIds","showTo","filename","checkRequiredDocuments","docRequired","formUpload","jsonId","fileChecklistStatus","hasFormPDF","reqInbox","stepCount","check","step","visible","expand","rule","passwordAccess","confirm","requestColumn","localStorage","files","valueTo","aiSettings","onUploadProgress","progressEvent","uploadedPercentage","bind","formAttach","fileControl","fieldId","fileId","fileDataValidate","formInfo","sortBy","order","groupBy","hasSecurity","subWorkflowFormIds","formJson","fileDataItem","map","newObject","hasFile","ocrFile","filterCondition","master","getColumns","isFilter","apiLoad","acc","QCircularProgress","QSpace","object","path","baseUnset","last","DataType","SHORT_TEXT","NUMBER","BOOLEAN","DATE","TIME","DATE_TIME","SINGLE_SELECT","TABLE","BARCODE","OMR","AUTO_GENERATED","freeze","isArray","prototype","toString","call","assert","msg","Error","getKeys","getEntries","normalizeFileName","extension","fileNameFormatter","suffix","extensionPattern","RegExp","concat","replace","normalizeXMLName","trim","indent","spaces","Array","join","stripHTML","text","_","$1","generateDataURI","content","byBlob","blobType","URL","createObjectURL","Blob","encodeURIComponent","downloadFile","dataURI","anchor","document","createElement","href","setAttribute","body","appendChild","dispatchEvent","MouseEvent","bubbles","cancelable","view","removeChild","__assign","assign","t","s","i","n","arguments","p","__read","o","m","Symbol","iterator","r","ar","next","done","push","_createFieldsMapper","mapper","reduce","_a","create","_b","_prepareData","MESSAGE_VALID_JSON_FAIL","_createJSONData","replacer","space","stringify","_createTableMap","tMap","rowKVs","columnValues","from","_createTableEntries","tableMap","beforeTableEncode","fieldName","fieldValues","encloser","enclosingCharacter","test","escaped","defaultCreateCSVDataOption","delimiter","createCSVData","tableEntries","head","rows","mergedColumn","_renderTableHTMLText","defaultCreateXLSDataOptions","createXLSData","createXMLData","_renderXML","tagName","arrayElementTag","tag","indentSpaces","undefined","contentWithWrapper","exportTypes","txt","css","html","json","csv","xls","xml","exportFromJSON","_d","exportType","_f","_g","processor","_h","withBOM","_j","_k","MESSAGE_IS_ARRAY_FAIL","MESSAGE_UNKNOWN_EXPORT_TYPE","MESSAGE_FIELD_INVALID","fieldsMapper","safeData","JSONData","BOM","CSVData","types","processors","excelParser","exportDataFromJSON","newFileName","fileExportType","$alert","info","dt","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","formWidth","isCustomizedWorkflow","initiateProcess","closeProcessSheet","itemModel","processDocumentAction","indexOf","dataValidationValues","formCheckList","signList","sign","signLink","userSignature","signImg","field_item","field_key","row_value","row_key","itemLink","checkTabAccess","isSelectedPDF","documentMerge","attachmentFilterCheckList","loading","fileMenuAction","getFileData","reuploadFile","reupload","isCheckList","getComments","commentsSheetHeight","externalCommentsby","embedFileList","portal","fileNames","attachComment","selectedFileForAttach","displayInternalPublic","commentActions","isTenantGOTOComments","jiraCommentActions","jiraCommentAction","mailTransactionSheet","getMailTransactions","mailTabs","mailTab","outgoingMails","subject","email","showMailAttachments","resendMail","ezMailId","incomingMails","mailAttachmentSheet","mailAttachmentList","openAttachmentFile","handleAttachComment","processForwardModal","processForwardGroupAction","forwardUsers","groupList","forwardGroups","isTenantGOTO","groupProcessRequest","processRequest","closeJiraIssueSheet","issueName","issueDescription","createJiraIssue","jiraIssueSheet","addTask","taskEntries","viewTask","priority","assigned","startDate","endDate","taskFormId","addTaskForm","taskRepositoryId","taskMode","addTaskEntry","importExcel","dataImported","masterFormId","uploadFile","proceedSubmission","fileDetailsSheet","showFormEntryHistoryModal","wform","MultiSelectField","SignatureField","SingleChoiceField","Tabs","AddTask","ImportPopup","FileDetails","FormEntryHistory","initiateSubWorkflowProcess","mainWorkflowId","mainProcessId","subProcessLink","mainFormFields","mainFormModel","subProcessId","checkListRowIndex","requestPrefix","mlPrediction","actionRemarks","actionPassword","actionPasswordConfirm","actionUserPassword","actionComments","actionConfirm","actionConfirmAlert","customVerify","scrollPosition","commentsLoad","mailTransactionLoad","documentLoad","documentLoadList","filterSearchColumn","selectedFilterColumn","watchViewerClose","saveOnly","jiraConnect","jiraAccounts","projectKey","issueType","issueEpicValue","issueAssignee","issueAssigneeUsers","issueDescriptionTable","issueDescriptionFields","jiraConfirmModal","issueRef","errorMessage","errorModal","addTaskEnabled","mailTransactionList","refreshTree","loadInitial","customReply","userReply","toRequester","customCloseProcessSheet","approvalTypes","activeViewLoad","hideColumns","documentRequired","hasSelectedWorkflow","taskEntryId","taskEntryList","sameFormFields","metaDataUpdate","filePDF","isTenantArmgroup","reset","startBlock","documentCheckList","actionBlock","commentsText","cloudIntegrationId","data_onpremise","issueId","ezCommentId","max","checkCommentsOption","customCheckUpload","clearAttach","embedJson","itemIds","loadProcessLinks","signBinary","descriptionTable","Number","totalSavings","fields_cloud","summary","project","issuetype","version","fields_onpremise","customfield_14635","customfield_15136","assignee","remarksFieldId","referenceIdFieldId","data_cloud","groupIds","checkRequiredDocument","getJiraIssueInfo","Key","Link","Assignee","prefix","mailId","taskAssign","subProcessStatus","getModel","baseGet","fromDate","toDate","fileList","remove","minimumFromDate","clearFields","toAdd","toAddress","expiryFromDate","expiryTodate","itemIdArray","option","showFreeze","freezed","handleFreeze","isMandatory","readOnly","handleInput","integer","allowDecimals","optionsType","allowToAddNewOptions","predefinedSelectOptions","booleanOptions","omrOptions","visiableSyncBtn","DateTimeField","AsyncSelectField","syncField","parentControl","freezedData","freezeData","updateOrAddField","keyword","rowFrom","rowCount","Vue","extend","mixins","ListenersMixin","sent","Boolean","bgColor","textColor","avatar","stamp","labelSanitize","nameSanitize","textSanitize","stampSanitize","textClass","op","messageClass","containerClass","sizeClass","__wrapStamp","h","node","$scopedSlots","domPropStamp","__getText","contentList","withSlots","domPropText","some","entry","container","src","child","qListeners","externalAccess","closeModal","historyTitle","processHistoryData","subWorkflowHistory","showComments","openFileByCmd","preventDefault","showAttachments","showSubWorkflowHistory","actionStatus","processHistoryModal","selectedFiles","Stepper","itemid","flat","export_Data1","Status","startCase","result","word","active","isActive","isFullWidth","_color","$listeners","Condition","CONTAINS","IS_EQUALS_TO","IS_NOT_EQUALS_TO","IS_GREATER_THAN","IS_GREATER_THAN_OR_EQUALS_TO","IS_LESSER_THAN","IS_LESSER_THAN_OR_EQUALS_TO","IS_EMPTY","IS_NOT_EMPTY","IS_ANY_OF","IS_NOT_ANY_OF","NOT_CONTAINS","STARTS_WITH","NOT_STARTS_WITH","ENDS_WITH","NOT_ENDS_WITH","COUNTER","CALCULATED","LONG_TEXT","MULTI_SELECT","MULTIPLE_CHOICE","customOmitClone","isPlainObject","spreadableSymbol","isConcatSpreadable","isFlattenable","isArguments","baseFlatten","array","depth","predicate","isStrict","flatten","flatRest","func","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","omit","paths","isDeep","cellvalues","cell","kind","columnindex","cellvalue","rowValue","closeFormHistorySheet","getFormHistory","formHistorySheet","history","changes","changedBy","changedAt","change","newValue","oldValue","handleClick","Tab","mounted","setIndicatorPosition","isPortal","notifyInitiator","notifyInitiatorClass","hasNotifytoInitiated","webpackContext","req","webpackContextResolve","__webpack_require__","code","resolve","selectedCheckListName","checkViewerClose","editFromFileSheet","_repositoryField","fieldsModel","fieldsModalData","getField","save","RepositoryField","modalValue","metaDataFields","processFieldsModel","noBorder","toggleDarkTheme"],"mappings":"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aACAC,kBACAC,gBACAC,qBACAC,qBACAC,gBACAC,wBACAC,aACAC,qBAGAC,OACAjI,OACAkI,aACAC,YAGAjH,cACAgH,YACAE,aAGApH,QACAkH,WACAE,aAGAnH,iBACAiH,WACAC,gBAGAE,QACAH,YACAC,WAGAhH,WACA+G,YACAC,gBAGA/G,MACA8G,YACAC,YAGAG,UACAJ,YACAC,YAGAhB,cACAe,YACAC,WAGAI,cACAL,aACAC,YAGA9F,kBACA6F,WACAC,gBAGAK,cACAN,YACAC,gBAGAM,cACAP,aACAC,YAGAO,gBACAR,YACAC,iBAIAQ,OACA,OACA1I,kBACAsB,MACA,CACAQ,mBACAH,oBACA5B,oBACAgC,sBACAG,SAEA,CACAJ,mBACAH,iBACA5B,iBACAgC,gCACAG,SAEA,CACAJ,mBACAH,gBACA5B,gBACAgC,mBACAG,SAEA,CACAJ,mBACAH,cACA5B,cACAgC,mBACAG,UAGA8B,mBACAd,gBACAiD,aACAlB,iBACAS,eACAR,gBACArB,aACA8E,oBACAtF,kBACAyC,aACAC,gBACAjD,WACA8F,kBACAC,gBACAhG,cACAiG,aACApG,mBACAqG,kBACAC,QACAC,gBACAC,uBACAzG,iBACAG,qBACAuG,YACAC,gBACAC,mBACAC,gBACAlD,eACAmD,wBACAC,YACAC,aACA5C,gBACA6C,eACA5C,cACAC,aACAvE,eACAqD,yBACAmB,uBACAI,qBACAD,sBAIAwC,aACA,mCAEA9I,cACA,gCAGAH,QACA,qCACA,+BACA,qCACA,+BAEA,YAGAkJ,WACA,uCAGAC,kBACA,8CAGA/F,oBACA,sDACA,UAGAgG,kBACA,+BACA,iCAIAC,OACA7I,WACA8I,aACAC,UACA,oBACA,uBACA,mBACA,yBAKArH,mBACAsH,QACAF,aACAC,UACA,yCACA,yBAKAjG,iBACAgG,aACAC,UACA,yCAGAE,sCAMAC,SACAtJ,cACA,yDAGAZ,aACA,wBAGAqD,wBACA,yBAGAhB,oBACA,sBAGA0D,iBACA,mBAGAjB,qBACA,4BAGAyB,YACA,cACA,SACA,sBACA,QAEA,WAIAxE,aACA,kBACA,wBACA,eACA,sBACA,cAEA,WACA,UACA,oCACA,4BACA,qCAEA,aACAoI,gBAIA5E,uBACA,QACA6E,4BACAA,YACA,sBACA,oCACA,GACAC,cACAC,cACAC,aACAC,WACAC,WACAC,WACAC,WAEA,+BACA,eACA,qBACA,eACA,mCAKAjH,gBACA,gDACA,IACA,EACAQ,2BAKA0G,gBAIAzG,YACA,kDAIAU,YACA,0BAGAiB,WACA,8BACA,wBACA,uBAEA,2BACA,8CACA,+BACA,SACA,qBAKA+E,EAHAC,6CACAA,4CAGA,wDACA,+BACAD,iDACA,6BAEA,yDAEAA,mCAEA,8BAGA,oIAFAA,8CAIA,+FACA,CACA,SACA,qBAKAA,EAHAC,6CACAA,4CAGA,wDACA,+BACAD,iDACA,6BAEA,yDAEAA,mCAEA,iDAGA,4LAFAA,8CAIA,6MAKAzG,YACA,oBACA,mBAGA,sBACA,yBACA,gCACA,WACA,4BACAxC,QACAL,gBAIA,2BAGA,kBACA,SACA,SACA,YACA,YACA,aACA,aACA,OACA,eACA,SACA,SACA,QACA,OACA,WACA,YACA,iBACA,kBACA,cACA,qBAGA,sBAGA,IACA,yCAEA,SAAAK,KAAA,KAEA,QAGAmJ,EADA,mBACAA,EAEAA,KAEA,SACA,KACAC,GACAC,cAEA,CACA,SACA,4BACA,gCACAC,eAGAF,GACAC,SACA9E,MACAb,2BACA6F,YAKA,WAAA3C,QAAA4C,SAAA,qBACA,YACAL,EACAC,GAOA,GAJA,6BACA,uCAGA,EAEA,YADA,qBAGA,EACA,2DAEA,mBACA,gCAEA,oDAEA,wBACA,kBACA,qCACA,4CAEA,sCAEA,SACAK,eA/DC,QAiED,2CAIA,0BACA,OACAC,oBACAC,cACAC,UACAxE,8CACAyE,gCAGA,YAAAL,SAAA,2BACA,GACA,sBAKA,oBACA,mBACA,uBACA/J,aAGA,qBACA,qCACA,YAAA+J,UAAAM,SAAA,uBACA,YACA,mBAGA,qCAEA,EACA,qBAGA,WACA,oBACA,mBACA,uBACArK,sCAMA,oBACA,oBACA,sBACA,qCACA,YAAA+J,SAAA,yBACA,YACA,kBACA,CACA9F,4BAMA,GAFA,qCAEA,EAEA,YADA,qBAGA,oBACA,wBAEA,wBACAA,0BACAb,mCACAC,yCAEA,qBAKA,4BACA,4BACA,sBACA,qCACA,YAAA0G,SAAA,yBACA,YACA,kBACA,CACA9F,oCAMA,GAFA,qCAEA,EAEA,YADA,qBAGA,4BACA,8BACA,wBAEA,wBACAA,kCACAb,mCACAC,yCAEA,4BACA,+BAKA,2BACA,sBACA,0BACA,qCACA,qBACAiH,+BACAA,2CACAA,sCACAA,mBACA,6BACA,2BACA,sBAEA,YADA,sDAGA,IACA,mBACAC,6EACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,yCAGA,OAAAC,OAAAzD,GAAA,EAGA,GAFA,qCACA0D,kBACA,YACA,QADA,yCAEA,SACA,qCACA,0CACAb,iBAEA,mEACA,CACA,qCACA,0BACA,eACAM,mBACAA,+BACAA,2CACA,6BACA,2BACA,sBAEA,YADA,sDAGA,IACA,mBACAC,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,yCAIA,OAAAC,OAAAzD,GAAA,EAGA,GAFA,qCACA0D,kBACA,QACA,wBAEA,oBACA,0BACAtK,oBACAL,YACAkD,mCACAE,+CACAC,YACAuH,YACAjI,aAEA,SACA,qCACAmH,iBACA,6CAKA,uBACA,mBACA,0BACAhK,aAGA,iCACA,qCACA,YAAA+J,UAAAM,SAAA,0BACA,YACA,mBAGA,qCAEA,EACA,qBAGA,UACA,eACA,8BACA,IACA,EACAxH,cAGA+F,oCAEA,mBACA,0BACA5I,uCAIA,wBAIA,0BAEA,GADA,qCACA,YACA,YAAA+J,SAAA,mCACA,KAEA,YADA,qBAGA,qCACA,+CACAnG,oBAEA,CACA,YAAAmG,SAAA,kBACAnH,eACAA,MAEA,KAEA,YADA,qBAGA,qCACA,wBAIAnB,mBACA,mBAEA,wBACA,SACAsJ,GACAxD,2BACAM,gBACAmD,uBACAV,UACAzD,2BACAqD,iCACAN,gCAIA,yCACA,YAAAG,UAAAM,SAAA,6BACA,yCACA,mBAEA,EACA,sBAGA,sDACA,2BACA9C,2BACAK,sBACAC,gCAGA,sBACA,mDAEA,yBACA,wCAGA,iBAQA,GAPA,qBACA,yBACA,uBACA,sDAEA,sCAEA,SAEA,GADA,6BACA,wBACA,2CACA,sBACA,CACA,YAAAkC,UAAAM,SAAA,oCACA,KAEA,YADA,qBAGA,IACA,YACA,iCACA,+CACA,4CACA,gDACA,wBAMA,yBACA,sBACA,YAAAN,UAAAM,SAAA,kBACA,sBACA,EACA,qBAGA,IACA,YACA,iCACA,+CACA,4CACA,gDACA,uBAIA,gCACA,YAAAN,UAAAM,SAAA,kBACA,EACA,qBAGA,IACA,YACA,iCACA,+CACA,4CACA,gDACA,qBACA,2CAIA,iCACA,SACAU,GACAd,oBACAC,cACApJ,+BAEA,YAAAiJ,SAAA,kCAEA,GACA,sBAKA,yBACA,SACAgB,GACAE,MACAC,6BACAxB,8BAEA,YAAAK,UAAAM,SAAA,2BACA9C,EACA,yBACA,qBACAwD,GAEA,4BACA,gBACA,gCAEA,GACA,sBAKA,0BACA,yCACA,YAAAhB,UAAAM,SAAA,wCACAc,UACA,CACAC,kBACAC,SACA,CACAC,qBACAC,yBACA/M,YAKAgN,cACAC,gBACA7L,WAEA,KAAAuH,OAAAuE,GAAA,EAGA,GAFA,oBACA,iBACA,oCACA,6DACA,KACAC,cACAC,4BACA,gDAGA,iBAEA,mDACA,kEACA,6CAEA,GACA,sBAIAC,qBACA,KACA,IACA,oBACA,uBACA,SAEA,SACA,SAGA,UAGA,kBACA,YAAA9B,UAAAM,SAAA,qBACA,KAEA,YADA,0CAGA,OACA9J,KACApB,iCACAyL,kCACAkB,mCACAC,gBACA1I,qCACA2I,8CAEA,oBACA,cACAC,qBAEA,iBACAC,cACA,cAAA7I,aACA,6BAEA2G,0BAGA,4BACA,YAAAD,SAAA,6BACA,GACA,wBCxlD8jB,I,6FCQ1jBoC,EAAY,eACd,EACAjO,EACA4H,GACA,EACA,KACA,WACA,MAIa,OAAAqG,EAAiB,QAMhC,IAASA,EAAW,aAAc,CAACC,QAAA,KAAMC,eAAA,KAAaC,UAAA,KAAQC,QAAA,Q,oECzB9D,IAAIrO,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAA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OACAuI,qBACApK,gBACA+R,WACAG,cACAE,cACA3X,MACA,CACAQ,mBACAH,oBACA5B,oBACAgC,sBACAG,SAEA,CACAJ,mBACAH,iBACA5B,iBACAgC,gCACAG,UAGA2X,oBACAC,cACAC,aACAzC,aACA+B,qBAIA1P,aACA,8BAEAiH,WACA,2BACAgG,mCAIAlW,QACA,+CAGA6X,sBACA,OACA,CACAzW,mBACAL,aACAE,cACAsG,qBACAuR,aACAU,cACAC,gBAEA,CACArY,mBACAL,gBACAE,kBACAsG,qBACAuR,aACAU,cACAC,gBAEA,CACArY,mBACAL,gBACAE,kBACAsG,YACAuR,aACAU,cACAC,iBAGA,WAIApQ,OACA8E,aACA,MACA,kBACA,QACA,qBACA,mBAKAzE,SACAgQ,0BACA,aACA,oBACA,eACA,UAEA,UACA,UAGA3C,qBACAnD,qCACA,gCAGAoE,gBACA,gCAGAI,WACA,iCACA,iCAGAvB,eACA,sBACA,GAGA,qCACA,oBACA,uCACA,oBACA,uCACA,mBACA,sCACA,gBAEA,GAXA,IA+BA,kBACA,iCACA,gCACA,4BACA,yBACA,sBACA,qBACA,2BAGA8C,oCACA,SACAjS,gBACAqD,0BACA1K,WAGA,yCACA,KAqCA,OApCAuZ,qBAEA,4CAGAC,+BACAA,sCAEAC,2CAMAzZ,kBAEA,yBACA,yBACA,WAEA,GACAU,OACA8X,uBACApO,WAGAsP,cACA,aACA,kBACAC,gBAGAC,oBAIA,GAGA,mBACA,gDACA,oBACA,iCACA,kCAEA,iCACA,gCACA,4BACA,yBACA,sBACA,qBACA,2BAEA,+DACA,sBACA,mBAIAlB,gBACA,SAUA,OATA,6BACA,oBACA,OAEA,iCACA,IACAmB,YAGA,GAGArI,cACA,SAqBA,OApBA,6BACA,mBAGA,sBACA,gBACA,8CACAqE,aAEA,IACAiE,gBAGA,+CAEA,YADAA,aAMA,GAGAnB,iBACA,MACA,+aACA,kBAGAvB,cACA,SACA,8BADA,IAIAyB,cACA,SACA,cAEA,IAGAD,kBAGA,SACA,gCACAxO,oBAGA,0BACA,KAEA2P,6CACA,2CACAC,YAGA,SACA,KAEA,mCACA9G,UAUA,OAPA8G,cAEA,oBACAC,YAIA,GAGA9C,cACA/T,wBACAA,wBACA,SACAA,mBAEA,OACAA,eAEA,0BAGAE,YACA,kDAIA0T,eACA,kBACA,kBACA,oBACA,gBACA,SACA,6BACA,iCACA5S,UAEA,uBAEA,0BAGA,uBACA,mBACA,0BACA5D,aAGA,qCACA,YAAA+J,UAAAM,SAAA,sBACA,gBACA,wBAGA,qCAEA,EACA,qBAGA,UACA,mBACA,0BACArK,qBAMA,oBACA,mBACA,uBACAA,aAGA,qCACA,YAAA+J,UAAAM,SAAA,0BACA,gBACA,wBAGA,qCAEA,EACA,qBAGA,UACA,mBACA,uBACArK,qBAMA,uBACA,qCACA,YAAA+J,UAAAM,SAAA,sBACA,gBACA,wBAGA,qCAEA,EACA,qBAGA,WACA,mBACA,mBACAA,cACA,sBACA,GAEA,IADA,+CACAtI,OAEA,sBACAxB,gBACAH,cACAwK,oBAGA,qCACAhH,UACAA,sBACAA,8CAEA,0BAEA,YAEA,uBACA8V,GACAA,0CACA3X,OAEA,oBAEA,wBAEA,CACA,gCACA2X,wBAEA,OACA,mDACA,sBACAnZ,gBACAH,cACAwK,kBAGAhH,8CACAA,oBAEA,qBAEA,yBASAqU,aACA,sBACA,6BAEA,aACA,kBC9wC2jB,I,yDCQvjB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAIhC,IAAS,EAAW,aAAc,CAAC0B,WAAA,KAASC,QAAA,OCC7B,OACf1Z,kBAEA6F,YAAA8T,QAEApT,OACAiM,SACAhM,WACAC,gBAGA4O,OACA7O,WACAC,gBAGAc,MACAf,YACAC,gBAGA6O,MACA9O,WACAC,gBAGAkJ,cACAnJ,WACAC,gBAGA2G,UACA5G,aACAC,YAGA7F,UACA4F,YACAC,iBAIAkC,SACA4M,mBACA,2BAGAC,wBACA,gCAGAC,iBACA,sBAGAC,oBACA,gCAGAC,kBACA,0BAGA/F,wBACA,mCCxF4iB,ICQxiB,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,gLCm+BA,IACf5P,qBACA6F,YACA+T,qBACA7T,kBACAD,aACAE,gBACAE,qBACAG,aACAwT,eACAC,oBACAC,aACA3T,wBACA4T,mBACA7T,iBACA8T,qBACAC,uBACAC,2BACAC,oBACAC,kBAGA9T,OACA+T,UACA9T,YACAE,aAGA6T,UACA/T,YACAE,cAIAO,OACA,OACAuH,SACAgB,qBACAhD,mBACAgO,eACAC,cACAC,SACA,CACAra,mBACAH,uBACAmD,UACAsX,YACA,mGACAC,UACA,CACAva,mBACAH,uCACAmD,SACAgE,cACAsT,aACA,CACAta,mBACApB,6BACAsP,eACArO,MACA,sFACAoV,MACA,CACAjV,mBACAH,qCACAmL,gBAEA,CACAhL,mBACAH,sDACA2a,MACA3a,MACA,gEACA5B,MACA,0EAKA,CACA+B,mBACApB,gCACAiB,MACA,+EAEA,CACAG,mBACApB,kBACAiB,MACA,0PAIA,CACAG,mBACAH,0BACAmD,SACAgE,cACAsT,aACA,CACAta,mBACApB,6BACAsP,eACArO,MACA,2EACAoV,MACA,CACAjV,mBACAH,gCAEA,CACAG,mBACAH,mCAIA,CACAG,mBACApB,gCACAiB,MACA,+EAEA,CACAG,mBACApB,kBACAiB,MACA,0PAIA,CACAG,mBACAH,4BACAmD,UACAgE,gBACAsT,aACA,CACAta,mBACApB,SACAoE,cACAnD,MACA,2GAEA,CACAG,mBACApB,SACAoE,aACAnD,MACA,0IAMA,CACAG,mBACAH,yBACAmD,UACAsX,YACA,4FACAtT,gBAGAyT,eACAzT,cACAzG,YACA+F,UACAY,UACAjC,aACAzF,MACA,CACAQ,mBACAH,oBACAF,wBACA1B,oBACAgC,sBACAG,SAEA,CACAJ,mBACAH,iBACAF,qBACA1B,iBACAgC,gCACAG,UAGA8B,mBACA2E,oBACA1D,iBACAS,eACAR,gBACA7B,kBACAyC,aACAC,gBACAgJ,mBACAY,aACA6M,cACA7K,cACA7O,WACA2Z,uBACA7Z,qBACAC,cACA6Z,cACAvL,uBACAZ,UACAoM,qBACAvL,gBACAyB,gBACAF,qBACAC,SACAM,cACAF,sBACA9D,kBACAC,oBACAC,oBACAC,wBACAC,sBACAS,gBACA1D,YACAxF,gBACApF,0BACAE,SACA+K,YACAoK,SACAjG,kBACAnQ,qBACAkc,2BACA/W,yBACAmB,uBACA6V,YACAC,aACA9P,iBACAD,cACAvK,eACAiQ,oBAOA,CACA3Q,cACAzB,eACAsB,iBACAI,6BAEA,CACAD,WACAzB,YACAsB,cACAI,6BAGAiS,qBACAZ,mBACAD,yBACA4J,sBACAzJ,kBACAD,YACApE,iBACAwE,mBACAC,gBACAC,kBACAC,uBACApE,mBACAjB,aACAyO,yBACAvN,wBACAwN,cACAC,uBACAC,wBACAC,mBACAC,iBACAC,iBACAzO,YACA0O,qBACAC,qBACAC,oBACAC,sBACA9O,qBACAc,aACAV,aACA0C,gBACAoC,uBACAK,qBACAF,WACAF,gBACA3D,aACAC,eACAsN,kBAIAhU,aACA,8BAEAuE,iBACA,sBACA,MACAlD,gCACA,qBACA,qBAOAmD,QACA,sBACA,MACAnD,qCACAA,iCAEA,UAEAA,6CACAA,4CAEA,UAEAA,gCACA,qBACA,qBAEA,UAEAA,gCACA,sBACA,oBAEA,UAEA,oBACA,sCAKAoD,aACA,sBACA,MACApD,qCACAA,iCAEA,OAEAA,6CACAA,4CAEA,OAEAA,gCACA,qBACA,qBAEA,OAEAA,gCACA,sBACA,oBAEA,OAEA,QAIAqH,cACA,MACArH,kDACAA,kDAOAnK,cACA,iCAGA+I,WACA,mBAIA,gCAHA,IAMAC,kBACA,mBAIA,uCAHA,IAMA9I,SACA,mBAIA,iBAHA,IAMAC,kBACA,mBAIA,0BAHA,IAMAC,eACA,mBAGA,mBAFA,IAKAwQ,oBACA,+BACA,+CAKAlC,kBACA,SACA,KAwCA,OAvCA,wBACA,oBACA,sBACAuL,GACAA,0BACAA,0BACAA,4BACAA,yBAEA,UACAL,cACA,yCACA,6CACA,SACAtV,iDACA,oBACAyY,QACA7d,cACA8d,2BAEAC,uBACA,gBACAC,eAKA,UACAC,QACAlc,QACAmc,yBASA,CACAF,eACAH,aAIA1M,SACA,yCACApP,eACAC,6BACA4V,+BACAD,sDACAnR,sBACAI,oBACAC,sCACAqU,cACA3Z,eACA2O,cACAiO,mCACA9J,8BACAoD,2BACA,oBACAc,8CACAhX,eACA6c,wBACAC,wBACAzG,uCACAD,sDACA3V,KACAyW,gBACA,2BACA,qBACArP,sBACAvC,sCACAD,oBACA0X,8BACA9X,sBACAgG,gBACA+R,sBACAxc,mBACAyc,sBACAtD,kBACAuD,8BACA7F,kCACAvP,8BACA6G,MACAwO,2BACAA,qCACAP,mCACA9J,8BACAiE,mBACA7R,+BACAgR,+BAOA5G,WACA,SACA,iCACA+I,QACA7X,mBACAL,iBACAE,mBACAsG,aACAuR,aACAU,cACAC,iBAGA,wBACA,mBAGA,sBAEAW,oBACAA,kBACAA,uBACAA,2BACAA,2CAEAnB,QACA7X,mBACAL,UACAE,cACAsG,YACAuR,aACAU,cACAC,mBAKA,OACA,CACArY,mBACAH,gBACA5B,iBAEA,CACA+B,mBACAH,kBACA5B,oBAGA,KAqEA,OApEA,8BACAkb,QACAnZ,mBACAH,cACA5B,gCAIA4Z,OACA,CACA7X,mBACAL,cACAE,eACAsG,qBACAqN,UACAkE,aACAU,cACAC,gBAEA,CACArY,mBACAL,aACAE,cACAsG,qBACAqN,UACAkE,aACAU,cACAC,gBAEA,CACArY,mBACAL,kBACAE,oBACAsG,qBACAqN,sBACAkE,aACAU,cACAC,gBAEA,CACArY,mBACAL,gBACAE,kBACAsG,qBACAqN,sBACAkE,aACAU,cACAC,gBAEA,CACArY,mBACAL,gBACAE,kBACAsG,YACAuR,aACAU,cACAC,gBAEA,CACArY,mBACAL,UACAE,mBACAsG,kBACAuR,aACAU,cACAC,iBAGA,GAGAzL,mBACA,iEACA,WACA,4BACA,0DACA,KAEA,2BACA,IAEA,GAGAgQ,yBACA,SACA,gCACA1V,6BAEA,yBACAjI,qBACA4d,sBAEA,QACA,IAEA,oBA+BA,OA7BAA,cACA,sBAEAC,8CACAA,0CAEA,gDACA,4BACA,uBACA,eACApQ,KAEAC,KAEA,oBACA,yBACAD,KAEAC,KAEA,QACAD,KAEAC,QAMA,CACAD,cACAC,oBAKA1E,OACAnH,mBACAsH,QACAF,aACAC,UACA,0CACA,yCACA,sBAEA,iCAMA+C,cACA9C,QACAF,aACAC,UACA,+DAKA8C,aACA7C,QACAF,aACAC,UACA,8DAMA0F,WACAzF,QACAF,aACAC,UACA,0BACA,SACA,2BAEA,uBACA8M,YAGA,4BAMA2G,oBACA1T,aACAC,UACA,0BACA,SACA,2BAEA,uBACA8M,YAIA,4BAmBA/S,iBACAgG,aACAC,UACA,sDACA,sBACA,qCACA,uBACA,OAEAE,qCAKAnB,MACAkB,QACAF,aACAC,UACA,WACA,oBACA,qBAOA4U,WAEAC,6CACAA,0CAEA,iBACA,+BAMA,gBACA,kBAEA,iBAGA1U,SACA+F,YAIA,gBACA,aACA,wBAIAkB,wBACA,gBACA,IACA,uBAIA0N,gBACA,mBACA,uBACA,2BACA,wBACA,uBAMAC,YACA,mBACA,oBACA,+BAGAC,mBACA,uBACA,gDACA,2BAEA,iCAGA,sBAIAC,oBACA,uBACA,gDACA,MAEA,WAGA,UAIA,qBACA,mBACA,IACA,mDACAC,oBAEA,6BACA,sBACA,2BACA,0BAEA,+BAIA,6BACA,gBACA,IACA,mDACAA,oBAEA,2BACA,mBACA,2BACA,0BAEA,+BAIA,2BACA,gDACA,uDAIA,0BACA,mBACA,cACA,wCACAA,8BAEA,6BACA,2BAEA,yBACA,iBACA,cACA,wCACAA,8BAEA,2BACA,wBAEA,wBAIA5b,wBACA,yBAGAyB,qBACA,4BAGAS,uBACA,QACA6E,4BACAA,YACA,sBACA,oCACA,GACAC,cACAC,cACAC,aACAC,WACAC,WACAC,WACAC,WAEA,+BACA,eACA,qBACA,eACA,mCAKAxG,YACA,kDAIAU,YACA,0BAGAiB,WACA,8BACA,wBACA,uBAEA,2BACA,8CACA,kCACA,kBAEAgF,6CACAA,4CAEA,0IACA,+BACA,mIACA,6BACA,2IAEA,mHAEA,0BACA,8HAEA,8HAGA,kBAEAA,6CACAA,4CAEA,qPAEAA,gCACA,kBAGA,6BACA,0UAEA,kTAJA,kUAMA,6CAGA,sLAFA,2OAQA1G,YACA,oBACA,sBAEA0G,6CACAA,8CAIA,oBAIAoH,YACA/H,YACA,kGAIAuH,cACA,2BACA,kBACAvH,YACA,uGAMA6H,kBACA,gBACA,gCAGAzB,aACA,YACA,6DACAtL,IACA,gBACA,iCACA,YAEA,eAEAsZ,aACAW,cACA/J,SAAA,2BAEA,YAOA,uDAIAgK,sBACA,QACAzG,wCACAA,wBACA,kCACA,oCACA,GACArO,cACAC,cACAC,aACAC,WACAC,WACAC,WACAC,WAEA,+BACA,eACA,qBACA,eACA,mCAKA0H,cACA,SAqBA,OApBA,6BACA,mBAGA,sBACA,gBACA,8CACAqE,aAEA,IACAiE,gBAGA,YAEA,YADAA,aAMA,GAGApB,gBACA,SAcA,OAbA,6BACA,mBAGA,sBACA,aACA,iBAEA,YADA6F,QAMA,GAGAC,mBAEAC,gBACA,yBAEA,yBACA,sBACA,eACA,mDAIA,UAGAC,iBACA,WACA,eACA,kBACA,4CACA,MACA,yBACA/W,gDAEAA,2CAKA,UAGAyP,cACA,SACA,8BADA,IAIA9J,SACAhE,4BACA,mBAAA5I,yBAGAuP,cAaA,SACA+I,oCACA,6BACA,uBACA,yCACA2F,iBACA,0BASA,UACAC,oBAMA,kBACA,qCAEA,YAAArU,UAAAM,SAAA,gCAIA,GAFA,qCAEA,EACA,0BAGA,MACA,mBACA,iCAEAjJ,kBACAA,8CAEA,gDACA,wCACA,sBAGA,kBACA,eACA,eACA,mBACA,kBACA,mBACA,0BACA,gBACA,qBACA,mBACA,uBACA,qBACA,6BACA,qBACA,4BACA,qBAIA,oBACA,qCAEA,YAAA2I,UAAAM,SAAA,oCAIA,GAFA,qCAEA,EAEA,YADA,qBAGA,gBACA,yCACA,gBACA2O,qBAGA,GACA,6CACA,kBAIA,SACAqF,qBAEArF,kBACAA,2BACAA,eAEA,wBACAzY,QACAH,yBAEA,gCAEA4J,eACAsU,oCAGA,SAGA,yCACA,sDAEA,sBAGA,iBACA,qCAEA,YAAAvU,UAAAM,SAAA,kBAIA,GAFA,qCAEA,EAEA,YADA,qBAGA,yBACA,iCAEA,2DAEA,aACA,OAEA,SACA,iBACAT,oBAGAA,cAEA2P,oBACAA,kBACAA,uBACAA,2BACAA,2CAEA,sBACAhZ,mBACAH,sBACA5B,WACAkI,YACAtF,wBAIA,mBACA,yBAIA,qBACA,mBACA,uBACApB,aAGA,qBACA,qCACA,YAAA+J,UAAAM,SAAA,0BACA8H,oBACA,gCAGA,qCAEA,EACA,qBAGA,WACA,oBACA,mBACA,uBACAnS,sCAMA,oBACA,oBACA,mCACA,qCACA,YAAA+J,SAAA,4BACA,iBACA,+BACA,mCACA,CACA9F,0BACAsa,4BAMA,GAFA,qCAEA,EAEA,YADA,qBAGA,oBACA,wBAEA,wBACAta,0BACAb,mCACAC,yCAEA,mBACA,uBACArD,oCAGA,qBAKA,4BACA,4BACA,mCACA,qCACA,YAAA+J,SAAA,4BACA,iBACA,+BACA,mCACA,CACA9F,kCACAsa,4BAMA,GAFA,qCAEA,EAEA,YADA,qBAGA,4BACA,8BACA,wBAEA,wBACAta,kCACAb,mCACAC,yCAEA,mBACA,uBACArD,oCAGA,4BACA,+BAKA,sBACA,YAAA+J,UAAAM,SAAA,qBACA,4BAGA,EACA,sBAGA,yBACA,gCAGA4H,gBACA,SAkBA,GAjBA,iCACA9K,QACAjH,YACA1B,gBACAkI,oBAIAS,cACA,2BACA4L,qDAEA,aACA,uCAIA,2BACA,qBACA,2BACA,yBACApJ,QACAA,UACAA,UACA2M,kBACA3M,mBAGA,mEAIAqI,yBACA,8BACA,yBACA,oCAIA,gCACA,6BACA,8CACA,0BACA,2CACA,+BAEA,2BAIA,6BACA,mCACA,0BACA,eACA1H,wCACAA,oDACAA,qDACAA,6DACAA,sBACAA,mBACA,6BACA,2BACA,kBACA,4BACA1G,0BAEA0G,qCACAkU,kBAEA,sBAEA,YADA,sDAGA,qCAEA,IACA,mBACAjU,+EACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,yCAGA,OAAAC,OAAAzD,GAAA,EAEA,GADA0D,kBACA,YACA,QADA,yCAEA,SACA,0CACAb,iBAEA,qCACA,uBACA,2BACA,yBAGA,OAFApG,iBACA,oDAMAiH,sBACA,CACA,0BACA,eACAP,mBACAA,oDACA,IACA,4BACAA,sBAEA,6BACA,2BACA,kBACA,4BACA1G,0BAEA0G,qCACAkU,kBAEA,sBAEA,YADA,sDAGA,qCACA,IACA,mBACAjU,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,wCAGA,qCACA,aAAAC,OAAAzD,GAAA,EAEA,GADA0D,kBACA,QACA,wBAEA,oBACA,0BACAtK,oBACAL,OACAkD,mCACAE,+CACAC,YACAuH,YACA4F,oBAEA,yCACA,mBACA,0BACA1Q,sCAGA,uBACA,2BACA,yBAGA,OAFA4D,iBACA,oDAMA,SACAoG,iBACA,6CAKA,0BAMA,GALA,mBACA,0BACAhK,aAGA,gCACA,kBACA,yCACA,gBACAgZ,2CAEA,GACA,yBACA,+CACA,qDACA,2BACApV,sBACAA,YACA,oDAMA,iCACA,qCACA,YAAAmG,UAAAM,SAAA,sBACA8H,oBACA,gCAKA,GAFA,qCAEA,EAEA,YADA,qBAGA,UACA,mBACA,0BACAnS,oBAGA,eACA,8BACA,IACA,EACA6C,gBAKA,uBAEA,wBACA,2BACA,qCACA,+CACA,cACA,WAGA,SACAe,YAEAA,YAEA,mDAEA,mBACA,0BACA5D,yCAOA,0BACA,iBAmCA,CACA,oCACA,aACA,qBACA,iBAGA,MACA,0CAGA,wCACA,sCAGA,MACA,iCAEA,kBACA4C,sBACA,2BAIA,uCACA,eAGA,OACA,mBACA,0BACA5C,wCAGA,sCAnEA,GADA,qCACA,YACA,YAAA+J,SAAA,mCACA,KAEA,YADA,qBAGA,qCACA,+CACAnG,gBAEA,2BACA,gBACAA,YACA,oDAGA,mBACA,0BACA5D,0CAGA,CACA,YAAA+J,SAAA,kBACA,2BACAnH,MAEA,KAEA,YADA,qBAGA,qCACA,wBAyCA6b,yBACA,SAEA,GADAC,kDACA,UACA,sBAEAjV,+BACAA,0BAEA,iBACA,2BAEA,mBAGA,gBACA,oBAEA,oDACA,mBACA,gCAIA,wBAIAiI,kBACA,mBACA,0BACA,oBAGAH,0BACA,mBACA,0BACA,4BAGA,wBACA,SACA,4BACA,gCACA,cACA1H,eAKA,SACA,kBACA6U,wBACA9a,2BAWA,SAEA,4BACA,wDACA,SACA,wCACA,UACAsR,mBAGA,UACAyJ,QACAC,eACA9U,mBAGA,mCAIA,OACAvC,4BACAyD,mDACA/G,2BACAqG,UACAzD,mBACA+C,8BACA+U,cAEA7U,UACA+U,wCACA1U,WACAsQ,uBACAqE,6BAEA,mBACA,0BAEA,yCACA,YAAA/U,UAAAM,SAAA,6BAGA,GAFA,yCAEA,EAEA,YADA,qBAGA,mBACA,sDACA,uBACA,0BACA,uBAEAZ,+BACAA,4BAEA,iBACA,0BAKA,qBAEA,kBAGA,uBACA,SAEA,4BACA,wDACA,SACA,wCACA,UACAyL,mBAGA,UACAyJ,QACAC,eACA9U,mBAGA,mCAGA,SACA,cACAiB,GACAxD,4BACAM,iDACAmD,mDACAV,UACAzD,mBACAqD,sDACAN,8BACA+U,gBAIA,mBACA,0BAEA,yCACA,YAAA5U,SAAA,6BACA,yCAEA,EACA,sBAGA,cACA,iBACA,8EAEA,4CACA,mBACA,iEAGA,oBACA,qDAIA,oCACA,uCACA,iCAGA,+BAEA,qBACA,wBAGA,wBACA,mBACA,0BACA,4BACA,kBACA,0BACA,+BACA,UACA,0BACA,kCAGA,yBACA,yBAEA,kEACA,KACA,uBAEA,4BAIA,qBACA,YAAAA,UAAAM,SAAA,qCACAc,YACAM,iBACAD,gBAGA,EACA,qBAIAnB,mBACAzG,oBACA,sCACAA,8BAEA,iBACA,SACA,0BACA,iCACAga,qCACA,kDACAmB,QAMA,IACA,4BAOA,0BACA,YAAAhV,UAAAM,SAAA,wBACA,iBACA,CACAc,YACAM,iBACAD,gBAIA,EACA,qBAIAnB,mBACAzG,oBACA,sCACAA,8BAEA,eACA,2BAMA,0BACA,YAAAmG,UAAAM,SAAA,qCACAc,YACAM,iBACAD,gBAGA,EACA,sBAGA,uFAGAnB,mBACAzG,oBACA,sCACAA,8BAEA,iBACA,SAWA,GAVA,0BACA,iCACAga,qCACA,kDACAmB,QAMA,GACA,QACA,qCACA,KACAV,qBACA,uBACAW,MAEA,kBACAA,MAEAC,QAGA,kCACA,EACAC,OACAC,WACAC,UACA1Q,WAEA,8BACA,OACA,kCACA,yCAMA,oDAGA,+BACA,YAAA3E,UAAAM,SAAA,wBACA,iBACA,CACAc,YACAM,iBACAD,gBAIA,EACA,sBAGA,uFAEAnB,mBACAzG,oBACA,sCACAA,8BAEA,iBACA,QACA,qCACA,KACAya,qBACA,uBACAW,MAEA,kBACAA,MAEAC,QAGA,kCACA,EACAC,OACAC,WACAC,UACA1Q,WAEA,8BACA,OACA,kCACA,mCAEA,8BACA,iDAKA,oDAGA,2BACA,YAAA3E,UAAAM,SAAA,sCACAc,YACAM,iBACAD,gBAGA,EACA,sBAGA,uEAIAnB,mBACAzG,oBACA,sCACAA,8BAEA,iBACA,QACA,qCACA,KACAya,qBACA,uBACAW,MAEA,kBACAA,MAEAC,QAGA,kCACA,EACAC,OACAC,WACAC,UACA1Q,WAEA,8BACA,OACA,kCACA,wCAKA,kDAGA,sCACA,YAAA3E,UAAAM,SAAA,qCACAc,YACAM,iBACAD,gBAGA,EACA,sBAGA,uFACAnB,mBACAzG,oBACA,sCACAA,8BAEA,iBACA,SAWA,GAVA,0BACA,iCACAga,qCACA,kDACAmB,QAMA,GACA,QACA,qCACA,KACAV,qBACA,uBACAW,MAEA,kBACAA,MAEAC,QAGA,kCACA,EACAC,OACAC,WACAC,UACA1Q,WAEA,8BACA,OACA,kCACA,yCAMA,kDAGA,iBACA,qCACA,YAAA3E,UAAAM,SAAA,qCACAc,YACAM,iBACAD,gBAGA,GADA,qCACA,EACA,0BAGA,kBACA,kCACAuH,oBAEA,UACA,gBAEA,iCAGA,iBAIAhE,iBACA,kBACA,wBACA,kBACA,qBACA,uBACA,gBACA,kBACA,qBACA,mBACA/O,YAEA,yCACA,gBACAgZ,qBAGA,MACA,+CACA,kCACA,yBACA,+CACA,qDACA,2BACApV,sBACAA,YACA,mDAEA,iDAGA,mBACAyb,yBAEA,GACA,mCAGA,4BACA,gCACA,uBACA,0BACA,oCACA,uBACA,0BACA,wCACA,uBACA,oDAGA,iCACA,6BACA,6BAEA,6BACA,uDAEA,4CAEA,0BACA,qBACA,yBACA,iDAIA,qBAYA,GAXA,kBACA,gBACA,uBACA,kBACA,kBACA,uBACA,uBACA,qBACA,kBACA,iBACA,qBACA,+BACA,wDACA,KACA1T,cACAC,4BACA,2CAGA,iBAGA,GADA,gDACA,4BACA,qBACA,iBACA,yCACA,gBACAoN,2CAGA,MA6CA,GA5CA,yBACA,+CACA,qDACA,2BACApV,sBACAA,YACA,mDAGA,iDAGAya,oBACA,iDACA,0CACA,mCACA,+BACA7c,uBACAsK,sBACAwT,oCACAC,2BAKA,4BACA,gCACA,uBACA,0BACA,oCACA,uBACA,0BACA,wCACA,uBACA,oDAGA,iCACA,6BACA,6BAEA,6BACA,uDAGAlB,uDACA,CACA,iBACAA,wCAEA,yBACA,eACAza,yBAEA,UACA4b,cACA,oCACA,6BACA,uCACA,KAKA,6CAIA,oBACA,0BAEA,yBAGA,mBACA,sBACA,sBAGA3T,qBACA,KACA,IACA,oBACA,uBACA,SAEA,SACA,SAGA,UAGA,+BACA,qCACA,4BACA,YAAA9B,UAAAM,SAAA,uBACA,iBACA,CACAc,WACAM,iBACAD,cACA5L,UAGA,qCACA,EACA,sBAGA,uEACAyK,mBACAzG,oBACA,QACA,qCACA,KACAya,qBACA,uBACAW,MAEA,kBACAA,MAEAC,QAGA,kCACA,EACAC,OACAC,WACAC,UACA1Q,WAEA,8BACA,OACA,kCACA,yCAMA,iBACA,iBACA,YAAA3E,UAAAM,SAAA,qBACA,EACA,0CAGA,GACAA,UACA,oBACA9J,mBACAH,cACA5B,wBAMA2S,kBACA,gCAEA,mBACA,2BACA,8CACA,mBACAsO,qCACAA,0DAEA,yCAGA,6BACA,sBACA,SACA1E,iMACAjS,0BAKAwJ,kBACA,4BACA,uBACA,uBAGAhE,yBACA,kBAGAC,kBAGA,GAFA,mCAEA,GACA,YACA,mBACAmR,uBACA,2BAKA,kBAEA,uCAEA9c,sBACAA,sBACAA,eAIA,OACA,mBACA,0BACA5C,wCAGA,mCAKAoN,sBACA,8BAGA,yBACA,YAAArD,SAAA,yBACApE,4CACAyE,4BACAwS,eAGA,GACA,sBAKA,wBACA,wBACA,0BACA,cAAAvS,SAAA,2CACAc,UACA,CACAE,SACA,CACAC,qBACAC,yBACA/M,kBACAmhB,WACA3L,cACAH,wBAGAzI,oBAGAK,gBACAD,cACA5L,UAEA,0BACA,WAAAuH,GAAA,EACA,UACA,oBACA,kCACA,kCACA,8BAKA,qCACA,wBACA,qBACA,aAEA,gBACA,qBACAmD,oDACAA,mBACAA,4BACA,EACAA,qBAEAA,sBAGA,oBACA,wBACA,+CACAA,SACA,eACAsV,oCAGAtV,SACA,mBACAsV,yCAIA,2BACAtV,SACA,iBACAsV,6CAMA,IACA,mBACArV,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,sCAEAkV,6BACA,iBACAC,sBAGA,kCACA/M,GACA,iBAIA,OACA,UACA,yBACA,qBACA,GAGA,4CADA,cAEAgN,EAIA,KAGAC,KAAA,SAGA,OAAApV,OAAAzD,GAAA,EACA,WACA,wBAEAvE,oCACAA,4CACA,oBACAA,kBACAA,YACAA,kCACA,0BACArC,oBACAL,YACAkD,mCACAE,+CACAC,YACAuH,YACAmV,cACAC,eACAC,UACA9C,YAEA,mBACA,0BACArd,sCAGA,SACAgK,iBACA,2CAGA,yCACA,iBAKA,OACA,iDAIA,oBAEA,wBACA,eAEA,WACA,iCAEA,2BACA9J,YACAqD,YACAX,OACAwd,gBACA/c,sBACAD,sBACAmE,mCACAK,yCACAuY,kBACAE,sCAKA,GACA,UACAhD,cACA,yCACA,OAIA,MACA,oCAMA,2CAIA,gCACA,qCACA,SACAza,cACA,qBAEA,OACAsS,MACAoL,UACAzZ,mBACAqD,sDACA0U,qBAGA,YAAA7U,SAAA,6BACA,2BACAJ,GAGA,qCAEA,GACA,sBAKA,yBACA,YAAAI,UAAAM,SAAA,qBACAzK,cACA2gB,QAAAjV,YAAAkV,cACAC,WACAtV,UACA,CACAE,SACA,CACAC,cACAC,yBACA/M,2BACAqV,2BAGAzI,oBAGAK,eACAD,cACAkV,iBAGA,KACA,mDAIA,MACA,eACA,SACArW,4BACAsW,oBAEA,gBACA,8BAMA,6BACA,YAAA5W,UAAAM,SAAA,iBACAzK,cACA2gB,QAAAjV,YAAAkV,cACAC,WACAtV,UACA,CACAE,SACA,CACAC,cACAC,yBACA/M,2BACAqV,2BAGAzI,oBAGAK,eACAD,cACAkV,iBAGA,EACA,0CAIA,GACA,eACArW,4BACA,+BACA9J,QACAL,YACA0gB,yBAOA,oCAOA,GANA,sBACAlB,QACArC,UACA8C,UACAP,cAEA,8CACA,uBACA,sBAGA,oCACA,2BACA,yBAGA,OAEA,+BACA,yCACA,gDAGA,2BACA7M,YAEA,GACAxS,QACAL,YACA1B,QACAkI,iBAEA,qBAGAma,UAFA,sBASA,6BACAvN,OAAAP,uBACA+N,IAAA/N,SAEA,cACA,2BACAA,aAEA,yBAKA,GAFA,8BAEA,GACA,WAEA,0BACAgO,oCAGA,6BACA,0BAEA,6BACA,mCAGA,sCAIA,uBAEA,YAAAhX,UAAAM,SAAA,oBACA1E,4BACAyE,cAGA,EACA,qBAIA,IAGA,WACA,yBAEA,gBAEA,yCAGA,4BACA,qBACA,SACA,gBAUA,GATAiT,cACA,gCAEAA,cACA,2CACA,GACA3B,kCAGA,UAEA,gBACA,qBACApR,oDACAA,mBACA,UACAA,yCAGA,IACA,mBACAC,qFACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,sCAEAkV,6BACA,iBACAC,sBAIA,kCACA/M,GACA,iBAIA,OACA,UACA,yBACA,qBACA,GAGA,sBACAiO,GACAjB,mBAHA,KAGAA,EAIA,KAGAC,KAAA,SAGA,OAAApV,OAAAzD,GAAA,EACA,WACA,wBAGA,sBACAA,EACA,+BACA,+BAGA,gBACA,gBACA,gBAEA,mBACA8Z,cACA,2BACAlO,qBAEA,GACA,UACA,uCAIA,kBAEA,SACA/I,iBACA,8CAGA,mCACA,iBAUA,yCACA,yCAGA,oCAIA,sBACA,qCAEA,YAAAD,UAAAM,SAAA,wCAEA,qCAEA,EACA,qBAGA,uBACA,sCAIA,2BACA,qCACA,SACA,uDACA6W,QACA7V,SACA,CACAC,8CACAC,yBACA/M,sCACAqV,wBAGAzI,oBAGA,iDACA8V,QACA7V,SACA,CACAC,WACAC,yBACA/M,sCACAqV,wBAGAzI,sCAKA,YAAArB,UAAAM,SAAA,yBACAzK,cACA2gB,QAAAjV,YAAAkV,cACAC,WACAtV,WACAM,gBACAD,cACAiP,yBAKA,GAFA,qCAEA,EAEA,YADA,qBAIA,WAAAtT,GAAA,EAEA,gCACA,oBACA,4BACA,iCACAga,qDAEA,IACA,6CAMAxO,mBACA,mBACA,0BACA3S,cAKA6S,iBACA,mBACA,uBACA7S,cAKAohB,aACA,mBACA,sBACA,cACA,CACA7gB,eACAL,iBACAE,mBACAsG,aACAuR,aACAU,cACA9E,8BAGA,qBACA,mBACAtT,iBACAL,mBACAE,SACAsG,mBACAuR,aACApE,4BACAwN,eAIA,yBACA5X,gCACA,0CAEA,mBACAlJ,iBACAL,mBACAE,SACAsG,mBACAuR,aACApE,4BACAwN,cAGA,OACA,CACA9gB,WACAL,aACAE,cACAsG,cACAuR,aACApE,6BAEA,CACAtT,gBACAL,kBACAE,oBACAsG,cACAqN,sBACAkE,aACApE,gCAEA,CACAtT,cACAL,gBACAE,kBACAsG,cACAqN,sBACAkE,aACApE,gCAEA,CACAtT,cACAL,gBACAE,kBACAsG,cACAuR,aACAU,cACA9E,uBAEA,CACAtT,gBACAL,kBACAE,oBACAsG,cACAuR,aACApE,6BAEA,CACAtT,kBACAL,oBACAE,uBACAsG,cACAqN,sBACAkE,aACApE,gCAEA,CACAtT,kBACAL,oBACAE,uBACAsG,cACAuR,aACApE,uBAEA,CACAtT,cACAL,gBACAE,iBACAsG,cACAuR,aACApE,8BAGA,GACA,yBACApK,6BACAA,gCACA,wCACA,CACA,+CACA,sCACA,2CAEA,aACA,OAEA,SACA,iBACAG,oBAEA,sCACA,GACA,mBACArJ,QACAL,UACAE,cACAsG,cACAuR,aACApE,gBACAyN,WACAD,cAGA,aACAzd,gCAEA,GACA,mBACArD,QACAL,UACAE,cACAsG,cACAuR,aACApE,gBACAyN,WACAD,cAIA,kBACA,CACA9gB,WACAL,aACAE,cACAsG,cACAuR,aACApE,6BAEA,CACAtT,gBACAL,kBACAE,oBACAsG,cACAqN,sBACAkE,aACApE,gCAGA,CACAtT,gBACAL,kBACAE,oBACAsG,cACAuR,aACApE,6BAEA,CACAtT,kBACAL,oBACAE,uBACAsG,cACAqN,sBACAkE,aACApE,gCAEA,CACAtT,kBACAL,oBACAE,uBACAsG,cACAuR,aACApE,uBAEA,CACAtT,cACAL,gBACAE,iBACAsG,cACAuR,aACApE,6BAEA,CACAtT,cACAL,gBACAE,kBACAsG,cACAqN,sBACAkE,aACApE,gCAEA,CACAtT,cACAL,gBACAE,kBACAsG,cACAuR,aACApE,6BAIA,wBAEA,+CACA,sCACA,2CAEA,aACA,OAEA,SACA,iBACAjK,oBAGA,yCACA,KACA,gCAEAyT,+BACAA,uCAEA,mDACAA,6BACAkE,QAAA,sCAGAlE,0CACA,qBACAkE,QAAA,6BAKA,GACA,IACAlF,cACA,iCACApD,6CAIArP,cACA,GACA2P,oBACAA,kBACAA,uBACAA,4BACAA,0CAEA,YACA,2BACA,kBACAxG,4CAEA,SACA,sBACA,4BACA,QACA,cACA,mBACAxS,QACAL,UACAE,cACAsG,cACAuR,aACApE,gBACAyN,WACAD,cAIA,sBACA9gB,mBACAH,sBACA5B,WACAkI,YACAtF,4BAIA,CACA,kBACA2R,cAEA,QACA,cACA,mBACAxS,QACAL,UACAE,cACAsG,cACAuR,aACApE,gBACAyN,WACAD,cAIA,sBACA9gB,mBACAH,sBACA5B,WACAkI,YACAtF,2BAIA,CACA,kBACA,6BACA2R,iBAEA,OACA,mBACAxS,QACAL,UACAE,cACAsG,cACAuR,aACApE,gBACAyN,WACAD,cAKA,sBACA9gB,mBACAH,sBACA5B,WACAkI,YACAtF,8BAKA,oDACA,mCACA,+BACA,cACA,mBACAb,QACAL,YACAE,aACAsG,cACAuR,aACApE,4BChoJ0hB,M,0FCQthB,GAAY,eACd,GACA3V,EACA4H,GACA,EACA,KACA,WACA,MAIa,gBAAiB,QAQhC,IAAS,GAAW,aAAc,CAAC0b,qBAAA,KAAkBC,UAAA,KAAOlV,SAAA,KAAMD,WAAA,KAAQD,gBAAA,KAAaD,SAAA,Q,oCC3BvF,W,sFCWA,SAA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,QACA5nB,aACAC,YAGAksB,cACAnsB,YACAC,YAIAQ,OACA,OACArG,YACAwG,gBACAwD,YACAxF,gBACArE,eACAuE,aACAiC,QACAZ,UACAyD,YACA/I,WACA2Z,uBACA7Z,qBACAC,cACAqC,gBACA7B,kBACAyqB,mBACAO,YACAnf,kBACAC,oBACAC,oBACAC,wBACAC,sBACA0E,qBACAZ,mBACAwa,kBACAje,aACAoJ,cACAE,cACAiX,gBACA,CACApuB,mBACAH,iBACA5B,SAEA,CACA+B,mBACAH,eACA5B,UAGA4d,gBACAyS,oBACA,CACAtuB,mBACAH,sBACA5B,SAEA,CACA+B,mBACAH,qBACA5B,UAGAswB,oBACApT,cACAoX,uBACAC,iBACAC,gBACA1uB,yBACAmB,uBACAwV,cACAtJ,cACAshB,iBACAC,kBACAC,yBACAC,sBACAC,kBACAC,iBACAC,sBACA3hB,yBACA4J,sBACA9N,iBACA8lB,gBACA3G,iBACAkB,gBACA7c,oBAOA,CACA3Q,cACAzB,eACAsB,iBACAI,6BAEA,CACAD,WACAzB,YACAsB,cACAI,6BAGAizB,iBACAC,kBACAC,yBACAC,kBACAC,oBACA9hB,kBACA+hB,sBACAC,wBACAC,sBACAC,YACAnC,SACA7E,iBACAL,wBACAkD,uBACAE,gBACAE,iBACAH,6BACAzgB,kBACAnE,YACA/D,oBACA8lB,WACA5qB,aACAuD,qBACAD,oBACAgsB,oBACA9f,YACAoiB,eACAC,gBACAzD,kBACAH,aACA6D,cACAC,aACA7D,oBACA8D,kBACAC,iBACAC,sBACAC,yBACAC,0BACAC,oBACAC,YACAhwB,aACA6nB,aACAoI,gBACAC,cACAxjB,gBACAkB,gBACA/P,mBACAiB,iBAEAkE,YACA7H,MACA,CACAQ,mBACAH,oBACA5B,oBACAgC,sBACAG,SAEA,CACAJ,mBACAH,iBACA5B,iBACAgC,gCACAG,SAEA,CACAJ,mBACAH,yBACA5B,aACAgC,yBACAG,SAEA,CACAJ,mBACAH,gBACA5B,gBACAgC,mBACAG,SAEA,CACAJ,mBACAH,cACA5B,cACAgC,mBACAG,SAEA,CACAJ,mBACAH,aACA5B,aACAgC,wBACAG,SAEA,CACAJ,mBACAH,2BACA5B,2BACAgC,yBACAG,UAGAiwB,eACAmE,kBACA7F,mBACAH,wBACA5qB,eACA6wB,uBACAtF,uBACAC,sBACAprB,aACAC,gBACAyqB,UACA,CACA1uB,mBACAH,iBACA5B,iBACAmC,SAEA,CACAJ,mBACAH,iBACA5B,iBACAmC,UAGA2a,YACA2U,aACAgF,eACAC,eACAC,eACAC,aACAC,eACAC,2BACAC,eACA,CACAh1B,mBACAH,gBACA5B,kBAEA,CACA+B,mBACAH,eACA5B,oBAGAg3B,oBACAC,eACA/iB,WACAyI,cACAua,oBACAta,qBACAua,sBACAzE,aACAE,mBACAD,eACAxvB,gBACAi0B,eACAC,iBACAxE,YACArqB,gBACAuqB,eACAE,eACAD,gBACAsE,kBACA5jB,mBACAsc,iBACAD,aACAE,wBACAC,yBACAzgB,mBACAjB,aACAyO,yBACAvN,wBACA0N,wBACAC,mBACAka,kBACAja,iBACAC,iBACAjE,mBACAxK,YACAukB,6BACAtf,uBACAK,uBAIAxK,UACAC,WACA,mBAIA,gCAHA,IAMAC,kBACA,mBAIA,uCAHA,IAMA9I,SACA,mBAIA,iBAHA,IAMAC,kBACA,mBAIA,0BAHA,IAMAC,eACA,mBAGA,mBAFA,IAKA6C,oBACA,sDACA,UAGAkrB,gBACA,SAOA,OANA,gCACA,8BACA,qCACAuI,QAGA,GAGA12B,cACA,gCAGA0O,kBACA,SACA,KA2CA,OA1CA,aACA,wBACA,oBACA,sBACAuL,GACAA,0BACAA,0BACAA,4BACAA,yBAEA,UACAL,cACA,yCACA,6CACA,SACAtV,iDACA,oBACAyY,QACA7d,cACA8d,2BAEAC,uBACA,gBACAC,eAKA,UACAC,QACAlc,QACAmc,yBAWA,CACAF,eACAH,aAIAiQ,uBACA,sBACA,GACA7iB,+BACAA,2BAEA,2BACA,cAEA,IACAA,6CACAA,6CACAA,gCACA,0CAEA,qBACA,SAGA,UAGA0lB,gBACA,uCACAvrB,8BAIA6rB,gBACA,uCACA7rB,8BAIAuqB,sBACA,MACA,6BACA,+BACA,6BAEA,2BACA,kDACA,+CACA,sBACA,gDACA,uBACA,+CACA,sBAEA,sBAEA,2BACA,sBAEA,sBAGA,sBAGA,IAGA9gB,oBACA,wDAGAF,mBACA,iEACA,WACA,4BACA,0DACA,KAEA,2BACA,IAEA,GAGAkK,UACA,8BAIA7O,OACAnH,mBACAsH,QACAF,aACAC,UACA,0CACA,qBACA,gCASAjG,iBACAgG,aACAC,UACA,yDACA,+BACA,mCACA,gDAEA,qCACA,uBACA,WAEAE,qCAKAlF,eACA+E,aACAC,UACA,mDACA,mCACA,kEACA,KAEAE,mCAKAmmB,sBACAtmB,aACAC,UACA,0DACA,0CACA,4BACA,KAEAE,0CAKAgoB,aACAnoB,aACAC,UACA,mBACA,mBACA1I,qCAMAuH,YACAkB,aACAC,aAKA6pB,4BACA9pB,aACAC,UACA,iCACA,qBAKApD,eACA,iBACA,uBAMAsnB,sBACAnkB,aACAE,QACAD,UAEA,GADA,qBACA,kCACA,uCACA9E,gDAEA,WACA,yBAMA0xB,yBACA3sB,QACAF,aACAC,aAKAgqB,iBACA,sBACA,yBACA,sCAIAziB,gBACAxH,aACAC,UACA,sBACA,eACA,iBACA,4BACA,iBACA,oBAEA,+BAMA8E,iBACA7E,QACAD,UACA,iCACA,oEACA,oEAKAgF,eAEA/E,QACAD,UACA,gCAGA,UACA,yCAOA4U,UACA,oBAGAzU,SACAotB,mBACA,sBACA,MACAxsB,6CACAA,8CAEA,sBACA,IAKA+jB,kBACA,mBACA,kCAKA,WACA,oBACA,mBACA,wBAKA,4BACA,aAUA0I,QACA,oBACA,kBACA,gBACA,4BACA,aACA,eACA,mBACA,mBACAl2B,YAEA,oBACA,qBACA,uBACA,wBACA,kBACA,iBACA,uBACA,yBACA,yBACA,6BACA,2BACA,qBAGA,qBACA,aACA,qBACA,yCACA,YAAA+J,UAAAM,SAAA,oCAEA,EACA,sBAGA,gBAEA,kBADA,EACA,OAEA,QAEA,iCACA,2BAEA,qBAEA,2CAGAmiB,oBACA,qBACA,mBACA,0BACA,wBACA,iBACA,iCAIAxb,YACA,SAaA,OAZA,+BACA,6BACA,oBACA,OAEA,iCACA,IACAsI,4BAKA,GAGA,wBAGA,GAFA,qBAEA,GAGA,yCACA,gBACAN,qBAaA,GAXAhP,qCAEA,yBACA,+CACA,qDACA,2BACApG,sBACAA,eAIA,GACA,uCACA,qCACA,mBACAyb,yBAEA,GACA,uCAEA,+CAEA8W,wDACA,GACAA,mCAEA,kDACA,oBAKA,2CA0BA,GAtBA,4CACA,sDACA,4BACA,gCACA,uBACA,0BACA,oCACA,uBACA,0BACA,wCACA,uBACA,oDAGA,iCACA,6BACA,6BAEA,6BACA,uDAGA,yBACA,iDACA,MACAA,sCACAC,cACAxyB,sBACAA,cAEA,gDASA,uBAGA,uBAGA,CAMA,GADA,sBAEA,6BACA,8BACA,8BACA,CACA,uBACA,yCAEA,gBACAoV,2CAEA,MAmBA,GAlBA,gCACA,uBACA,0BACA,oCACA,uBACA,0BACA,wCACA,uBACA,mDAEA,iCACA,6BACA,6BAEA,6BACA,uDAIAD,uDACA,CACA,iBACAA,wCAEA,yBACA,eACAnV,yBAEA,UACA4b,cACA,oCACA,2CACA,6BACA,uCACA,KAOA,4BACA,iDACA,MACA6W,sCACAD,cACAxyB,sBACAA,cAEA,gDAQA,iBAEAmV,oBACA,iDACA,0CACA,mCACA,+BACAvX,uBACAsK,sBACAwT,oCACAC,gCAMA,wBAIA,uBAEA,wBACA,8CACA,uBAEA9V,6CACAA,6CACAA,gCACA,0CAEA,uDAIAA,qCACA,wBAEA,wBAEA,wBAEA,wBACA,gDACA,wCAUA,uBACA,yCACA,qCACA,YAAAM,UAAAM,SAAA,uBACA,wBACA,CACAc,UACA,CACAC,kBACAC,SACA,CACAC,qBACAC,yBACA/M,YAKAgN,cACAC,gBACA7L,WAGA,KAAAuH,GAAA,EACA,yCACA,YACA,2BACA,iDACA,KACAwE,cACAC,4BACA3D,oCAGA,uBACA,6CAEA,GACA,sBAKA,sBACA,YAAA8B,UAAAM,SAAA,qBACA,4BAGA,EACA,sBAGA,yBACA,gCAGA,8BACA,mBACA,0BACArK,aAGA,iCAEA,OACAuH,mBACAK,kCAEA,qCACA,YAAAmC,UAAAM,SAAA,sBACA9C,EACAK,GAGA,GADA,qCACA,EACA,yBADA,CAsBA,GAlBA,UACA,eACA,8BACA,IACA,EACA/E,eAKA,mBACA,0BACA7C,uCAIA,uBAEA,uBACA,2BACA,qCACA,+CACA,wCACA,WAGA,SACA4D,YAEAA,cAGA,uBAEA6F,6CACAA,6CACAA,gCACA,2CAEA,uBAIA,4DAGA,iBAEA,YAAAM,UAAAM,SAAA,4BAEA,KACA,0BAGA,MACA,aAEA,0CACA,GACA,6CACA,yCAKA,sCACA,2CAEA,aACA,OAEA,SACA,iBACAT,oBAGAA,cAEA2P,oBACAA,kBACAA,uBACAA,2BACAA,2CAEA,sBACAhZ,mBACAH,sBACA5B,WACAkI,YACAtF,wBAIA,uBAEA,gCACA,mCACA,mBAEA,MACA,0BACAb,mBACAkW,QACArW,cACAF,8BACA1B,wCAQAwuB,YACA,kIAGAO,WACA,8BACA,wBACA,uBAEA,MACA,6BACA,8BACA,8BAGA9jB,6CACAA,4CAEA,gPACA,+BACA,oPAEA,kSAIAA,6CACAA,4CAEA,gPACA,+BACA,+PAEA,gPAKA1G,YACA,aAYA,8DAZA,CACA,oBACA,sBAEA0G,6CACAA,4CAEAX,6BAEA,oBAOA9G,wBACA,yBAGAyB,qBACA,4BAGAuO,yBACA,8BACA,mCAGA,mBACA,qBAEA,iCACA,mBAEA,GADA,+BACA,aACA,yCACA,gBACAgH,qBAEA,GACA,6CACA,+BAGA,kBACA,mCACA1F,OAAAP,IACA,4CAEA,gCAEA+N,IAAA/N,IACA,CACAxS,mBACAH,aACA5B,cAKA,8BACA,8CACA,qDACA,YACA,8BACAsK,YACA,2NAEA,+BACAA,YACA,mNAIA,WACA,wBACA,kBAEA,eAEA,YACA,2BACA,8BACA,2BACA,oCAIAgV,sBACA,QACAzG,wCACAA,wBACA,kCACA,oCACA,GACArO,cACAC,cACAC,aACAC,WACAC,WACAC,WACAC,WAEA,+BACA,eACA,qBACA,eACA,mCAKAuC,qBACA,KACA,IACA,oBACA,uBACA,SAEA,SACA,SAGA,UAGAqM,gBACA,SAcA,OAbA,aACA,oBACA,wBACA,oBACA,OAEA,iCACA,IACAmB,YAKA,GAGAlB,iBACA,MACA,+aACA,kBAGA,uBAEA,YAAApO,UAAAM,SAAA,oBACA1E,4BACAyE,cAGA,EACA,qBAIA,IAGA,WACA,yBAEA,gBAEA,yCAGA,gCAEA,GADA,qCACA,kCACA,qCACAmP,mCADA,eAEA/a,MACA83B,EACA,wCACA,IACAA,EAEAA,uFACA,OACAC,2CACAhsB,4CACAisB,gBACAnR,QAEAoR,UACAC,eAGA,YAAA3sB,UAAAM,SAAA,+BACAV,GAGA,GADA,qCACA,GACA,oDACA,oBAGA,OAFA,uCACA,oBAGAK,eACA,0BAGA,6BACA,mCACA,0BACA,eACAM,wCACAA,oDACAA,qDACAA,6DACA,gBACA,GACAA,qBACA,iBAEAA,sBAEAA,mBACA,6BACA,2BACA,2BACA,4BACA1G,mCAEA0G,qCACAkU,kBAEA,sBAEA,YADA,sDAGA,qCACA,IACA,mBACAjU,+EACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,yCAGA,OAAAC,OAAAzD,GAAA,EACA,eACA,QADA,yCAEA,mCACA,sBACAyB,kCACA,MACA,SACA,0CACAoB,iBAEA,qCACA,uBACA,2BACA,iCACApG,eAKAiH,kBACA,8CACA,yCACA,0BAGA,CACA,0BACA,eACAP,mBACAA,oDACA,IACA,4BACAA,sBAEA,6BACA,2BACA,2BACA,4BACA1G,mCAEA0G,qCACAkU,uBAEAlU,uBAEA,sBAEA,YADA,sDAGA,IACA,mBACAC,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,yCAIA,OAAAC,OAAAzD,GAAA,EACA,WACA,wBAEA,oBACA,yCACA,yCACAwvB,qBAEA,yCAEA,KACA,0BACA/I,KACA,6CACA,mCACA,+BACAhqB,2CAEA,IACA,6BACA,oCACA,GAEAhB,cAEA,kCACAgG,kCAEA,MAGA,0BACArI,oBACAL,uBACAkD,mCACAE,+CACAC,YACAuH,YACA4F,2BACArN,uCACAyO,uBACAnM,wCACAioB,YAEA,uBACA,2BACA,iCACAhqB,eAKAiH,kBACA,SACAb,iBACA,6CAKA,4BACA,4BACA,mBACA,mBACAhK,aAGA,OAAAmL,aACA,YAAApB,UAAAM,SAAA,2BACA,iBACA,+BACAiJ,GAEA,EACA,qBAGA,WACA,2BACA,mBACA,mBACAtT,6CAMA42B,sBACA,sBACA,MACAntB,6CACAA,8CAIA,8BACAA,iCACA,2CAEA,2CACA,yCASA,gCAEA,GADA,6BACA,8CAEA,GADA,0BACA,0BACA,2BACA8P,4BAGA,oBADA,EAEA,mCAEA,4BAGA,2CAEA,mCAEA,2BAIAsd,oBACA,sBACA,MACAptB,sCACA,iDAEA,gCASAqH,cACA,sBACA,MACArH,6CACAA,8CAEA,sBACA,IAKA0mB,eACA,sBACA,OACA,8BACA1mB,kCACA,wCAOAmlB,uBACA,6CACA,sBACA,IACA,8BACAnlB,kCACA,wCACA,sCAEA,SAIA,UAGAlK,cACA,wDAGAu3B,cACA,6BACA,uBAGA,2BACA,mBACA,uBACA92B,aAGA,qBACA,OACAuH,mBACAK,kCAEA,qCACA,YAAAmC,UAAAM,SAAA,0BACA9C,EACAK,GAEA,qCACA,EACA,sBAGA,WACA,oBACA,mBACA,uBACA5H,qCAKA,wDAGA,oBACA,oBACA,mCACA,GACA,mCACAyJ,sCACA,yCACA,uCACA,2BAoBA,CACA,YAAAM,UAAAM,SAAA,4BACA,iBACA,+BACA,mCACA,CACApG,0BACAsa,wCACAwY,0BACApxB,wCACAqxB,2BACA,6BACA,OAKA,KAEA,YADA,qBAGA,uCACA,wBACA,iBACA,sCACA,SA5CA,CACA,YAAAjtB,UAAAM,SAAA,iCACA,sCACA,CACApG,4BAIA,KAEA,YADA,qBAGA,uCACA,wBACA,iBACA,sCACAoG,GAgCA,oBACA,wBAEA,wBACApG,0BACAb,mCACAC,yCAEA,qBAKA,4BACA,6BACA,wBACA,2BAEA,YADA,6CAIA,mCACA,GACA,mCACAoG,sCACA,yCACA,uCACA,2BAuBA,CACA,YAAAM,UAAAM,SAAA,4BACA,iBACA,+BACA,mCACA,CACApG,kCACAsa,wCACAwY,0BACApxB,wCACAqxB,2BACA,6BACA,OAKA,KAEA,YADA,qBAGA,uCACA,wBACA,yBACA,sCACA3sB,OA/CA,CACA,qCACA,YAAAN,UAAAM,SAAA,iCACA,sCACA,CACApG,oCAMA,GAFA,qCAEA,EAEA,YADA,qBAGA,uCACA,wBACA,yBACA,sCACAoG,GAgCA,4BACA,8BACA,mBACA,wBAEA,wBACApG,kCACAb,mCACAC,yCAEA,4BACA,8BACA,mBACA,uBACArD,oCAIA,qBACA,6BAKA8C,YACA,kDAIAU,YACA,0BAGAiB,WACA,8BACA,wBACA,uBAEA,2BACA,8CACA,+BACA,QAEA,8CACA,qCAEAiC,KAEA,SACA,qBAKA8C,EAHAC,6CACAA,4CAGA,wDACA,+BACAD,iDAEAA,mCAEA,8BAGA,uIAFAA,8CAIA,kGACA,CACA,SAEA,6BACA,8BACA,gCAEAhI,iBAEA,SACA,qBAEAiI,6CACAA,6CAEAjI,KACAgI,EACA,yDAOAA,EALAC,gCACA,kBAIAD,+BAFAA,qDAIA,iDAGA,4LAFAA,8CAIA,+QAKA9E,iBACA,mBAGA4rB,sBACA,kBACA,mBACA,kBACA,yBACA,uBACA,sBACA,8BACA,+BACA,wBAGA2G,mBACA,mBACA,sBACA,2BACA,4BAGA,4BACA,iBACA,YAAAltB,UAAAM,SAAA,2BACA,iBACA,gCAEA,EACA,qBAGA,iBAGA,0BACA,iBA0BA,CACA,oCACA,aACA,qBACA,iBAEAL,eACA,MACA,0CAGA,wCACA,sCAEAA,eACA,MACA,iCAEA,kBACApH,sBACA,2BAIA,uCACA,eAEAoH,eACA,OACA,mBACA,0BACAhK,wCAGA,sCA3DA,eACA,YAAA+J,SAAA,mCACA,KAEA,YADA,qBAGA,+CACAnG,gBAEA,2BACA,gBACAA,mBAGA,CACA,YAAAmG,SAAA,kBACA,2BACAnH,MAEA,KAEA,YADA,qBAGA,wBAyCA,8BACA,OACAs0B,sCACAp0B,gBAEA,YAAAiH,SAAA,4BACA,iBACAsN,YACAA,gBACA1N,GAEA,EACA,qBAGA,iBAGA,yBACA,oBACA,YAAAI,UAAAM,SAAA,0BACAc,cAGA,EACA,qBAGAd,cACA,uBACA,oBACA,8BAMA,wBACA,iBACA,yCAEA,MACA,OAGA,SACA,KACA,KACA,IAEA,0BACA,aAGA,OAFAxC,UACAmrB,YAIA,SACA,qCACA,WACAnrB,0BAIA,6BACAsvB,+BACA,wCACAA,YAEAA,UACA,qCACA,YACAA,SACA,8CACA,qCACAvzB,uBADA,eAEApF,MACA,cACA,sBACA24B,GACA,KACAC,wCACAC,iCAEAF,SAGA,qBACAA,6BAEAA,WAIAA,aAGAA,GACA,0CAIA,SAEAxtB,EADA,2BACAA,CACA2tB,cACA1tB,QACA2tB,uBACAC,SACA14B,qBAEA24B,WACAv3B,qBAEA2a,aACA0J,SACA,CACAA,SACA,CACAJ,6BACAzd,cAGAA,mBAGAA,WACAgxB,aAIAnB,4CAGA5sB,CACAguB,kBACA/tB,QACA2tB,uBACAC,SACA14B,qBAEA24B,WACAv3B,qBAEA2a,oCACA+c,mBACAp5B,YAEAq5B,mBACAr5B,uBAIA+3B,2CACAhvB,4BACAM,gBACAmrB,eACA8E,6BAAA53B,yBAAA,GACAiL,wBAIA,qCACA,YAAApB,UAAAM,SAAA,0BAEA,GADA,qCACA,GACA,oDACA,oBAMA,OALAL,eACA,uCAGA,oBAGA,KACA,yBACA,CACA,MAOA,YADA,oDALA,4BACA,mDACA,6CACA,yBAMA,4BAGA,uCACA,SACA+tB,KAOA,GANAC,EAAA,QAAAA,uBACAze,oCADA,eAEA/a,MACAu5B,EAAA,QAAAA,uBACAxe,+BADA,eAEA/a,MAEA,2BACA,0BACA,CACA,qCACA,SAEAmL,EADA,2BACAA,CACA4sB,2CACAhsB,8BACA0tB,YACA5S,iCAIA1b,CACA4sB,2CACAhsB,8BACAisB,gBACAnR,iCAKA,YAAAtb,UAAAM,SAAA,+BACAV,GAGA,GADA,qCACA,EAEA,YADA,qBAGAK,iBAIA,qBACA,2BACA,YAAAD,UAAAM,SAAA,qBACAksB,6CAEA,EACA,qBAGA,UACAlsB,cACA,8BACA9J,SACAH,oBACA5B,kBAMAiD,mBACA,kBACA,uBACA,uBAIA,gCACA,MACA,sBACA,IACA,8BACAgI,kCACA,wCAEA,yDAGA,OAFA,uCACA,6BAIA,6DAGA,OAFA,uCACA,6BAKA,MACA,oCACA7F,+BAEA,MACA,uBAIA,GAHA,6BACA,qCACA,6BACA,oBAEA,YADA,+BAGA,sBAGA,OAFA,4BACA,+BAGA,sBAEA,YADA,6BAOA,SACA,kBAEA,oDACA,4BACA,qDACA,+BAEA,wDACA,wBACA,oEAGA,SACA,4BACA,wDACA,SACA,wCACA,UACAsR,mBAGA,UACAyJ,QACAC,eACA9U,mBAIA,mCAIA,aAEA,8BACAL,iCACA,wCACA,6BAMAA,8BACAA,2BAEA,sBACA,mEARA,sBACA,mEAUAsB,GACAxD,4BACAM,iDACAmD,OACA,2DACA,GACA,gBACAV,UACAzD,mBACAqD,sDACAN,8BACA+U,cAEAzS,0BACAgsB,8BAEA,iBACAntB,GACAxD,4BACAM,iDACAmD,mDACAV,YACA4B,0BACAgsB,8BAGA,mBACA,0BAEA,eACA,yCAEA,YAAAnuB,SAAA,6BACA,eACA,yCAGA,EACA,sBAGA,oBACA,gDAEA,cACA,kBAIA,cACA,iBACA,8EAEA,4CACA,mBACA,iEAGA,oBACA,qDAGA,qBACA,sBACA,oBACA,kBACA,oBAGA,0BAEA,oCACA,uCACA,iCAGA,iCAIAouB,wBACA,6DACA,6BACA,CACA,yDAMA,OALA,oBACA,wDAEA,wBACA,2BAGA,4BACAv0B,0BAGA,SACA,gBACA,oBAEA,oDACA,mBACA,2BAGA,2BAKA+tB,oBACA,mBACA,qBACA,uBAEA,uBAIAjgB,kBACA,mBACA,mBACA,2BAGA0mB,oBACA,sBACA,OACA,6BACAC,wBACAC,0BACA,kCACA,GACAC,kCACA,6CAKA,4BACA,SACA,KACA,qCACA,wCACA1wB,0BAGA,0BACA,aAGA,OAFAA,UACAmrB,YAIA,OACAzrB,4BACAM,gBACAmD,mDACApB,8BACAopB,eACA/uB,0BACAiI,0BACAgsB,4BACA/sB,wBAIA,YAAApB,SAAA,6BAEA,qCAEA,EACA,4BAGA,8BACA,mBACA,0BACA,qBACA,sBACA,+CACA,+BACA,yCAGA,wBACA,SACA,4BACA,gCACAF,eAIA,SAEA,4BACA,wDACA,SACA,wCACA,UACAqL,mBAGA,UACAyJ,QACAC,eACA9U,mBAIA,mCAIA,OACAvC,4BACAyD,mDACA/G,2BACAqG,UACAzD,mBACA+C,8BACA+U,cAEA7U,UACAhF,sBACAga,4BACA0Z,0BACAxF,gCAGA,yCACA,YAAAjpB,UAAAM,SAAA,6BACA,yCACA,mBACA,0BACA,mBACA,EACA,sBAGA,oBACA,6BAEA,sDACA,mBACA,wCAEA,8CAEA,2BAGA4H,gBACA,SAoBA,GAnBA,iCACA9K,QACAjH,YACA1B,gBACAkI,oBAIAS,cAEA,2BACA4L,qDAGA,aACA,uCAIA,2BACA,qBACA,2BACA,yBACApJ,QACAA,UACAA,UACA2M,wBAGA,mEAIA3F,kBACA,yBACA,gCAGAgd,6BACA,kCACA/pB,GACAA,iDACAA,4DACA1D,IAIA+tB,eACA,4BACArqB,GACAA,4CACAA,0DAEA,iBAMA0rB,uBACA,2BACA,kCACA5P,cACA,0BACA,8BACAnf,mBACAk4B,YACAv4B,OACAkD,0BAGA,6BAGAwsB,sBACA,kIACA9mB,yBAGA5E,uBACA,QACA6E,4BACAA,YACA,sBACA,oCACA,GACAC,cACAC,cACAC,aACAC,WACAC,WACAC,WACAC,WAEA,+BACA,eACA,qBACA,eACA,mCAKA,oBACA,qBACA,uBACA,YAAAS,UAAAM,SAAA,iBACAzK,cACA2gB,QAAAjV,YAAAkV,cACAC,WACAtV,UACA,CACAE,SACA,CACAC,gBACAC,yBACA/M,aACAqV,cAGAzI,oBAGAK,gBACAD,gBAGA,KAEA,YADA,qBAIA,WAAArE,GAAA,EACA,UACA,oBACA,uBACAA,uBACA,wBACA5G,QACAH,aACA5B,WACAmH,4BACAib,wBAGA,0BACA,+BACA,wCACA,wDACA,8DASA,4BAEA,YAAA7W,UAAAM,SAAA,yBAGA,KACA,0BAGA,aACA,YACA,2BACA,kCAGA,SACA,iBACAqR,oBAEA,SACAgd,KACA1H,KACAC,KACAH,KACAlmB,KACA8Q,cACA,gBACA,gBACA5U,aACA,MACA,kBACA4xB,aACA,MACA,iBACA1H,aACA,MACA,eACAC,aACA,MACA,eACAH,aACA,MACA,kBACAlmB,aACA,SAGA,uBACArK,eACAL,OACA6wB,WACAC,YACAC,UACAH,WACAlmB,aAKA,oBACA,oBAEA,YAAAb,UAAAM,SAAA,sBACA,yBACA,+BACA,CACAc,UACA,CACAE,SACA,CACAC,qBACAC,yBACA/M,yCASA,KACA,0BAGA,aACA,YACA,2BACA,kCAGA,SACA,iBACAkd,oBAEA,gBACArR,cACA,SACAquB,KACA1H,KACAC,KACAH,KACAlmB,KACA8Q,cACA,gBACA,gBACA5U,uBACA,MACA,kBACA4xB,uBACA,MACA,iBACA1H,uBACA,MACA,eACAC,uBACA,MACA,eACAH,uBACA,MACA,kBACAlmB,uBACA,SAGA,uBACArK,yBACAL,OACA6wB,WACAC,YACAC,UACAH,WACAlmB,eAMA,2BAEA,YAAAb,SAAA,wBACAxC,oCACAK,yCACAC,iDACAoC,UACAC,gBAIA,EACA,qBAGA,oBAGAonB,kBACA,+BACA,2BAEA,uBACAzqB,SACAqD,gBAEA,6BAIAymB,UACA,qBACA,oBACA,sBAGAE,YACA,iDACA,WACA,oCACA,mBACAtwB,uBACA,oBAGA,qBACA,sBAGAqW,cACA,SACA,8BADA,IAIAyB,cACA,SACA,cAEA,IAGA,oBACA,0BACA,GACAzV,qBAEA,sEADAA,QAEAA,oCACA,CACA,qBACA0H,qCACAA,mBACA,IACA,yCACA,mBACAC,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,wCAGA,yCACA,aAAAC,OAAAzD,GAAA,EACA,eAEA,QADA,kDAEA,SACA,0CACA6C,iBAGA,qBACAa,uBAEA,qDAIA,+BACA,OACA2nB,mCACArgB,8BACAsgB,iCACAI,eACA8F,mBACA3tB,WAEA,YAAAjB,SAAA,yBAEA,EACA,qBAGA,iCAGA6uB,YAUA,GATA,kBACA,kBAEA5uB,YACA,+BACApC,EACA,wBACA,kBAGA,mCACA,0CAGA,GADA,yFACA,+BACA,wDACA,KACA+D,cACAC,4BACA,2CAIA,sBACA,gCACA,+CAKA,6BAEA,YAAA7B,UAAAM,SAAA,6BACAc,UACA,CACAE,SACA,CACAC,qBACAC,yBACA/M,UAGA4M,oBAGAxL,gBAIA,EACA,qBAGA,UACA,4BACA,IACA,+BAGA,6BACA,GACA,qCAKA,sBACA,SACA,gCACA,8BACA,oCACAkK,eAGA,OACAoL,OAEA,YAAAnL,SAAA,qBACA,iBACA,+BACA,mCACA,2BACAJ,GAGA,EACA,qBAGA,yDAGA,sBACA,yBACA,gCACA,WACA,4BACApJ,QACAL,gBAIA,2BAGA2tB,oBACA,oBACA,2BAGAxrB,gBACA,gDACA,IACA,EACAQ,2BAKAsO,oBACA,6BAEA,gBACA,0BACA,MACA,SACA,+BACA,QAEA,8CACA,qCAEAzK,KAEAqU,0IAEAA,wLAEAjS,4BACA,CACA,8CACA,mBACA2W,qCACAA,0DAEA,mDAIA,6BACA,mBACA,SAEA,+BACA,QAEA,8CACA,qCAEA/Y,KAEAqU,0IAEAA,iMAEAjS,0BAKA,yBACA,YAAAiB,SAAA,yBACApE,4CACAyE,4BACAwS,eAGA,GACA,sBAKA,iCACA,YAAA7S,UAAAM,SAAA,gCACA,oBACA,mCACA,iBAGA,EACA,qBAGAL,gBAGA,mCACA,wBACA,qBACA,SASA,GARA,aACAqT,cACA,2CACA,GACA3B,kCAIA,UAEA,eACA,qBACApR,oDACAA,mBACAA,4BACA,UACAA,yCAEA,EACAA,qBAEAA,sBAGA,IACA,mBACAC,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,sCAEAkV,6BACA,iBACAC,sBAGA,kCACA/M,GACA,iBAIA,OACA,UACA,yBACA,qBACA,GAEA,4CACAgN,IAEAC,KAAA,SAGA,OAAApV,OAAAzD,GAAA,EACA,WACA,wBAEAvE,oCACAA,4CACA,oBACAA,kBACAA,YAgBA,SACAoH,iBACA,2CAKA,oBAEA,wBACA,eAEA,WACA,gCAEA,2BACA9J,YACAqD,YACAX,OACAwd,gBACA/c,sBACAD,sBACAmE,mCACAK,yCACAuY,oBAIA9C,cACA,yCACA,OAGA,MACA,oCAGA,2CAIA/O,yBACA,kBAGAC,gBAEA,oCAGA,gCACA,qCACA,SACA3L,cACA,qBAEA,OACAsS,MACAoL,UACAzZ,mBACAqD,sDACA0U,qBAGA,YAAA7U,SAAA,6BACA,2BACAJ,GAGA,qCAEA,GACA,sBAMA,4BACA,8BAGA,0BACA,qBACA,SACA,gBAUA,GATA0T,cACA,gCAEAA,cACA,2CACA,GACA3B,kCAGA,UAEA,gBACA,qBACApR,oDACAA,mBACA,UACAA,yCAGA,IACA,mBACAC,qFACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,sCAEAkV,6BACA,iBACAC,sBAIA,kCACA/M,GACA,iBAIA,OACA,UACA,yBACA,qBACA,GAEA,UACA,sBACAiO,GACAjB,wBAGAC,KAAA,SAGA,OAAApV,OAAAzD,GAAA,EACA,WACA,wBAKA,qBACAA,EACA,+BACA,+BAIA,gBACA,gBACA,gBAGA,kBACA8Z,cACA,2BACAlO,qBAGA,GACA,UACA,uCAKA,SACA/I,iBACA,8CAGA,mCACA,iBAUA,yCACA,uCAGA,kCAIA,kCAMA,GALA,sBACA0V,QACArC,UACA8C,WAEA,8CAGA,GAFA,6BAEA,0BACA,2BACA5G,4BAEA,IACA,oBACA,oCAOA,6BACA,mCAEA,iCAIA,8BACAvP,sBAEA,YAAAD,UAAAM,SAAA,2BAGA,EACA,qBAIA,WACA,mBACA,mBAEAA,cACA,sBACA,GAEA,IADA,+CACAtI,OAEA,sBACAxB,gBACAH,cACAwK,oBAGA,qCACAhH,UACAA,sBACAA,8CAEA,0BAEA,YAEA,uBACA8V,GACAA,0CACA3X,OAEA,oBAEA,wBAEA,CACA,gCACA2X,wBAEA,OACA,mDACA,sBACAnZ,gBACAH,cACAwK,kBAGAhH,8CACAA,oBAEA,qBAEA,yBASA+O,mBACA,mBACA,0BACA3S,cAKA6S,iBACA,mBACA,uBACA7S,gBC/wLulB,I,mHCSnlBmM,EAAY,eACd,EACAjO,EACA4H,GACA,EACA,KACA,WACA,MAIa,OAAAqG,EAAiB,QAOhC,IAASA,EAAW,aAAc,CAACqV,oBAAA,KAAkBpV,QAAA,KAAMG,QAAA,KAAMD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UACAA,sBACAA,8CAEA,0BAEA,YAEA,uBACA8V,GACAA,0CACA3X,OAEA,oBAEA,wBAEA,CACA,gCACA2X,wBAEA,OACA,mDACA,sBACAnZ,gBACAH,cACAwK,kBAGAhH,8CACAA,oBAEA,qBAEA,yBAQA85B,iBACA,WACAhnB,WAAAwnB,YAAA,KACA,mBAAAh+B,OAAAK,QAAA,GACA,gCACAugB,IAAA/N,kBACAorB,OACA,4BACAprB,GACAA,4DAGA,kCAEAvP,YACA,0BAGAiB,WACA,8BACA,wBACA,uBAEA,2BACA,8CACA,+BACA,QAOA,MALA,8CACA,qCAEAiC,KAEA,kBAEA+C,6CACAA,4CAEA,6IACA,+BACA,sIACA,6BACA,8IAEA,sHAEA,0BACA,iIAEA,iIAGA,yBAEAA,6CACAA,4CAEA,0TAEAA,gCACA,kBAGA,6BACA,2TAEA,mSAJA,mTAMA,6CAGA,sLAFA,gTAQA1G,YACA,aAYA,8DAZA,CACA,oBACA,sBAEA0G,6CACAA,4CAEAX,6BAEA,oBAOAhG,YACA,kDAIAu6B,aACA,4BACA,qBAGAzmB,cACA,SACA,8BADA,IAIAwnB,eACA,SACA,oCACA5lB,QACA2F,cACA,2BACA,6CACA,+CACA,6BACAkgB,oBAGAjgB,0DAGA3O,cACA,SACA,oCAUA,GATA+I,QACA2F,cACA,+BACA,iDACA,mDACA,iCACAkgB,sBAGA,YACA,mBACA,MACA7lB,QACA2F,gGAGA3F,QACA2F,iCACA,6CACA,6CACA,+CAGApL,uBACA,iBACA,wBACAA,4BACAwb,eAIA/V,QACA2F,uCACApL,wBAEA,+CACAA,8BAEA,+CACA,2CAEA,gDACAwb,mBAOA,eACA,uBACA/V,QACA2F,qGAGA3F,QACA2F,kCACA,8CACA,8CAGApL,0BACAyF,QACA2F,kEACApL,oBAEA,+CACAA,8BAEA,+CACA,gDAOA,sBACA,8BACAyF,QACA2F,gHAEA3F,QACA2F,+BACA,6CACA,6CACA,+CACA,+CACAkgB,mCAEAtrB,iCACAyF,QACA2F,wDACA,qEACApL,0BAEA,+CACA,4CAEA,gDACA,6CAEA,gDACAA,2BAEAsrB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,qBAKAt6B,OACAhK,OACAiK,aACAC,UACA,sBACA,gCACA,mDACA,mCACA,oBACA,KAEAE,oCAMAC,SACApF,qBACA,sBAEA,gDACA,qDACA,+BAGA,2BAMA,qBACA,OACA8D,kBACAK,kCAEA,qCACA,YAAAmC,UAAAM,SAAA,0BACA9C,EACAK,GAEA,qCACA,EACA,qBAGA,WACA,oBAOA,uDAIA,oBACA,qBACA,wBACA,2BAEA,YADA,6CAIA,mCACA,GACA,qBACA,uCACA,2BACA,CACA,YAAAmC,UAAAM,SAAA,iCACA,sCACA,CACApG,4BAIA,KAEA,YADA,qBAGA,uCACA,wBACA,iBACA,sCACAoG,OAGA,CACA,YAAAN,UAAAM,SAAA,4BACA,gBACA,+BACA,mCACA,CACApG,0BACAsa,0CACAwkB,0CACAhM,0BACApxB,wCACAqxB,2BACA,6BACA,OAKA,KAEA,YADA,qBAGA,uCACA,wBACA,iBACA,sCACA,KAIA,oBACA,mBACA,wBAEA,wBACA/yB,0BACAb,mCACAC,uCACA0/B,0CACAhM,0BACApxB,wCACAqxB,+DAQA,qDACA,oBACA,qBAKA,4BACA,6BACA,wBACA,2BAEA,YADA,6CAIA,mCACA,GACA,qBACA,uCACA,2BACA,CACA,qCACA,YAAAjtB,UAAAM,SAAA,iCACA,sCACA,CACApG,oCAMA,GAFA,qCAEA,EAEA,YADA,qBAGA,uCACA,wBACA,yBACA,sCACAoG,OAGA,CACA,YAAAN,UAAAM,SAAA,4BACA,gBACA,+BACA,mCACA,CACApG,kCACAsa,0CACAwkB,0CACAhM,0BACApxB,wCACAqxB,2BACA,6BACA,OAKA,KAEA,YADA,qBAGA,uCACA,wBACA,yBACA,sCACA3sB,GAIA,4BACA,8BACA,mBACA,wBAEA,wBACApG,kCACAb,mCACAC,yCAEA,4BACA,8BAMA,qDAEA,qBAEA,qCAKAyzB,cACA,6BACA,sBACA,yBAGA,gCAEA,GADA,qCACA,kCACA,qCACAvd,mCADA,eAEA/a,MACA83B,EACA,wCACA,IACAA,EAEAA,uFACA,OACAC,2CACAhsB,4CACAisB,gBACAnR,QAEAoR,UACAC,eAGA,YAAA3sB,UAAAM,SAAA,+BACAV,GAGA,GADA,qCACA,GACA,oDACA,oBAGA,OAFA,uCACA,oBAGAK,eACA,0BAGAmmB,eACA,sBACA,OACA,8BACA1mB,kCACA,wCAOAmtB,sBACA,kCAEA,wBACA,2CACA,yCASA9lB,cACA,iCACA,sBACA,IAKAmlB,mBACA,sBACA,OACA,6CACAxsB,6CACAA,+BACA,wCAUAmlB,uBACA,mDACA,6DAQA1qB,uBACA,QACA6E,4BACAA,YACA,sBACA,oCACA,GACAC,cACAC,cACAC,aACAC,WACAC,WACAC,WACAC,WAEA,+BACA,eACA,qBACA,eACA,mCAKAxG,YACA,oDCn2BqhB,I,yDCQjhBqJ,EAAY,eACd,EACAjO,EACA4H,GACA,EACA,KACA,KACA,MAIa,OAAAqG,EAAiB,QAGhC,IAASA,EAAW,aAAc,CAACE,eAAA,Q,qBCtBnC,IAAIyU,EAAM,CACT,kBAAmB,OACnB,mBAAoB,QAIrB,SAASkiB,EAAeC,GACvB,IAAI1iC,EAAK2iC,EAAsBD,GAC/B,OAAOE,EAAoB5iC,GAE5B,SAAS2iC,EAAsBD,GAC9B,IAAIE,EAAoB7c,EAAExF,EAAKmiB,GAAM,CACpC,IAAIp4B,EAAI,IAAIoY,MAAM,uBAAyBggB,EAAM,KAEjD,MADAp4B,EAAEu4B,KAAO,mBACHv4B,EAEP,OAAOiW,EAAImiB,GAEZD,EAAer3B,KAAO,WACrB,OAAO4B,OAAO5B,KAAKmV,IAEpBkiB,EAAeK,QAAUH,EACzBllC,EAAOC,QAAU+kC,EACjBA,EAAeziC,GAAK,Q,kCCvBpB,W,yDCAA,W,kCCAA,W,qBCAAvC,EAAOC,QAAU,IAA0B,8B,yDCA3C,W,kCCAA,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,OAAO,iBAAcJ,EAAIqP,gBAAgB5F,YAAazJ,EAAI2D,eAAeC,QAAsB,OAA8B,UAArB5D,EAAIqU,cACzL,WAArBrU,EAAIqU,cACiB,YAArBrU,EAAIqU,cACJrU,EAAIouB,iBACJpuB,EAAIykC,SAAS,aAAa,IAAIlkC,GAAG,CAAC,MAAQP,EAAI6D,uBAAuBpD,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACZ,EAAIc,GAAG,mBAAmBG,OAAM,GAAM,CAACN,IAAI,UAAUC,GAAG,WAAW,MAAO,CAAEZ,EAAIqP,gBAAgB5F,UAAWvJ,EAAG,MAAM,CAACgB,YAAY,qCAAqC+E,YAAY,CAAC,YAAY,SAAS,CAACjG,EAAIc,GAAG,qCAAqCd,EAAIyC,KAAMzC,EAAIqP,gBAAgB5F,UAAWvJ,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,UAAW6B,WAAW,YAAYC,UAAU,CAAC,KAAM,KAAQjB,YAAY,UAAUd,MAAM,CAAC,KAAO,cAAc,MAAQ,YAAY,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAI8D,qBAAqB9D,EAAIyC,OAAOxB,OAAM,GAC/sB,UAArBjB,EAAIqU,cACiB,WAArBrU,EAAIqU,cACiB,YAArBrU,EAAIqU,cACJrU,EAAIouB,iBACJpuB,EAAIykC,SACJ,CAAC9jC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACV,EAAG,MAAM,CAACgB,YAAY,OAAOX,GAAG,CAAC,MAAQ,SAAS+B,GAClFtC,EAAIiS,SAAW,KACfjS,EAAI+D,MAAMC,YAAYC,WACnB,CAAC/D,EAAG,WAAW,CAACgB,YAAY,OAAOd,MAAM,CAAC,KAAO,2BAA2B,KAAO,OAAO,MAAQ,UAAUF,EAAG,MAAM,CAACgB,YAAY,mBAAmB,CAAClB,EAAIc,GAAG,kBAAkBZ,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAClB,EAAIc,GAAG,4CAA4C,KAAKG,OAAM,GAAM,KAAMjB,EAAIqP,gBAAgB5F,WAAazJ,EAAI2D,eAAeC,OAAQ,CAACjD,IAAI,aAAaC,GAAG,WAAW,MAAO,CAACV,EAAG,gBAAgB,CAACgB,YAAY,2BAA2BX,GAAG,CAAC,MAAQP,EAAIkE,eAAeX,MAAM,CAAClD,MAAOL,EAAImE,UAAWV,SAAS,SAAUC,GAAM1D,EAAImE,UAAUT,GAAKxB,WAAW,eAAelC,EAAIc,GAAG,gBAAgBZ,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,aAAc6B,WAAW,eAAeC,UAAU,CAAC,KAAM,KAAQjB,YAAY,UAAUd,MAAM,CAAC,eAAeJ,EAAIoE,kBAAkB,KAAO,yBAAyB,MAAQ,YAAY,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQ7D,GAAG,CAAC,MAAQP,EAAIqE,iBAAiBnE,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,6BAA8B6B,WAAW,+BAA+BC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,gBAAcJ,EAAIoE,kBAAoB,GAAKpE,EAAIsvB,eAA6B,KAAO,qCAAqC,MAAQ,YAAY,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQ/uB,GAAG,CAAC,MAAQP,EAAIuvB,mBAAmBtuB,OAAM,GAAM,MAAM,MAAK,GAAMsC,MAAM,CAAClD,MAAOL,EAAIsE,gBAAiBb,SAAS,SAAUC,GAAM1D,EAAIsE,gBAAgBZ,GAAKxB,WAAW,oBAAoB,CAAChC,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,OAA8B,UAArBJ,EAAIqU,cACrhD,WAArBrU,EAAIqU,cACiB,YAArBrU,EAAIqU,cACJrU,EAAIouB,iBACJpuB,EAAIykC,SACA,sBACA,KAAK,CAACvkC,EAAG,QAAQ,CAACqE,IAAI,cAAcrD,YAAY,SAASd,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,OAASP,EAAImS,0BAA0BnS,EAAI2B,GAAI3B,EAAIiQ,WAAW,SAASxK,GAAK,MAAO,EAAEA,EAAI1D,MAAU0D,EAAI2M,eAAe,aAAc3M,EAAI4M,KAmBxKrS,EAAIyC,KAnB2K,CAAGgD,EAAI6M,OAA8tCpS,EAAG,MAAM,CAACS,IAAI8E,EAAI8M,KAAK,CAACvS,EAAI2B,GAAI3B,EAAIwvB,0BAA0B/pB,EAAI1D,OAAO,SAAS0C,GAAM,MAAO,CAACvE,EAAG,MAAM,CAACS,IAAI8D,EAAKrC,GAAGlB,YAAY,kBAAkB,CAAChB,EAAG,MAAM,CAACgB,YAAY,aAAa,CAAElB,EAAIqP,gBAAgB5F,UAAWvJ,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAEuD,EAAKgrB,QAAS,CAACvvB,EAAG,WAAW,CAACgB,YAAY,kBAAkBd,MAAM,CAAC,KAAO,cAAc,MAAQ,gBAAgB,CAACF,EAAG,WAAW,CAACgB,YAAY,UAAUd,MAAM,CAAC,KAAOqE,EAAKC,QAC31D,yBACA,+BAA+B,MAAQ,aAAanE,GAAG,CAAC,MAAQ,SAAS+B,GAAQmC,EAAKC,SAAWD,EAAKC,cAAc,GAAGxE,EAAG,MAAM,CAAEuE,EAAKgrB,QAAS,CAACvvB,EAAG,WAAW,CAACgB,YAAY,kBAAkBd,MAAM,CAAC,KAAO,cAAc,MAAQ,gBAAgBJ,EAAIyC,MAAM,GAAIgC,EAAKmO,WAAY1S,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,sBAAsB3B,MAAOL,EAAI6S,SAASpO,EAAKmO,YAAa1Q,WAAW,4BAA4B4Q,IAAI,QAAQ3Q,UAAU,CAAC,KAAM,KAAQjB,YAAY,UAAUd,MAAM,CAAC,KAAO,kBAAkB,MAAQ,cAAc,GAAGJ,EAAIyC,KAAKvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAACgB,YAAY,sBAAsBd,MAAM,CAAC,YAAYJ,EAAI2E,SAASF,EAAK1C,UAAU,GAAG7B,EAAG,MAAM,CAACgB,YAAY,eAAeX,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAI4E,SAASH,MAAS,CAACzE,EAAIc,GAAG,IAAId,EAAIe,GAAG0D,EAAK1C,MAAM,OAAS0C,EAAKgrB,QAAuYzvB,EAAIyC,KAAlYvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,WAAY6B,WAAW,aAAaC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,uBAAuB,MAAQ,UAAU,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI0vB,eAAejrB,EAAM,iBAAiB,GAAcA,EAAKgrB,QAA6XzvB,EAAIyC,KAAxXvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,QAAS6B,WAAW,UAAUC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,sBAAsB,MAAQ,UAAU,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI0vB,eAAejrB,EAAM,cAAc,KAAcvE,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAGf,EAAI+E,KAAKC,OAAOP,EAAKQ,eAAgBR,EAAKS,UAAW,CAAChF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBF,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAG0D,EAAKU,oBAAoBnF,EAAIyC,KAAMgC,EAAKW,KAAM,CAAClF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBF,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAGf,EAAIqF,SAASZ,EAAKW,WAAWpF,EAAIyC,MAAM,GAAGvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,WAAY6B,WAAW,aAAaC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,wBAAwB,MAAQ,YAAY,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI2vB,YAAYlrB,QAAW,GAQr1E,EACF,UAArBzE,EAAIqU,cACiB,WAArBrU,EAAIqU,cACiB,YAArBrU,EAAIqU,eACJ5P,EAAKS,YAAclF,EAAI2F,OAAOC,MAAMC,QAAQzD,IAC9CpC,EAAIouB,gBACJ,CAACluB,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,SAAU6B,WAAW,WAAWC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,sBAAsB,MAAQ,MAAM,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI8E,iBAAiBL,QAAW,GAAGvE,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,YAAa6B,WAAW,cAAcC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,kBAAkB,MAAQ,UAAU,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAQA,EAAOuC,kBAC3pB7E,EAAI4vB,aAAenrB,EACnBzE,EAAI6vB,SAASprB,EAAK1C,WACb,IAAI/B,EAAIyC,OAAO,UAAS,GAnBkMvC,EAAG,MAAM,CAACS,IAAI8E,EAAI8M,IAAIrR,YAAY,aAAa,CAAChB,EAAG,MAAM,CAACgB,YAAY,OAAO,CAAChB,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,yBAAyB,MAAQ,cAAc,GAAGF,EAAG,MAAM,CAACgB,YAAY,eAAe,CAAChB,EAAG,MAAM,CAACgB,YAAY,OAAO,CAAChB,EAAG,MAAM,CAACgB,YAAY,UAAU,CAAClB,EAAIc,GAAG,IAAId,EAAIe,GAAG0E,EAAI1D,MAAM,OAAQ0D,EAAIgD,SAAUvI,EAAG,MAAM,CAACgB,YAAY,kBAAkB,CAAChB,EAAG,SAAS,CAACgB,YAAY,cAAcd,MAAM,CAAC,QAAU,GAAG,MAAQ,QAAQ,CAACJ,EAAIc,GAAG,iBAAiB,GAAGd,EAAIyC,SAASvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,MAAM,CAACgB,YAAY,SAASX,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAIwS,eAAe/M,EAAI8M,QAAQ,CAACrS,EAAG,SAAS,CAACgB,YAAY,6BAA6Bd,MAAM,CAAC,QAAU,GAAG,MAAQ,YAAY,CAACF,EAAG,WAAW,CAACgB,YAAY,UAAUd,MAAM,CAAC,KAAO,qBAAqB,MAAQ,UAAU,aAAa,WAAWJ,EAAIc,GAAG,aAAa,IAAI,GAAI2E,EAAIgN,SAAUvS,EAAG,MAAM,CAACgB,YAAY,SAASX,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAI0S,SAASjN,EAAIrD,OAAO,CAAClC,EAAG,SAAS,CAACgB,YAAY,+BAA+Bd,MAAM,CAAC,QAAU,GAAG,MAAQ,cAAc,CAACF,EAAG,WAAW,CAACgB,YAAY,UAAUd,MAAM,CAAC,KAAO,uBAAuB,MAAQ,YAAY,aAAa,WAAWJ,EAAIc,GAAG,eAAe,IAAI,GAAGd,EAAIyC,gBAmB73CzC,EAAI2B,GAAI3B,EAAI2D,gBAAgB,SAASc,GAAM,MAAO,CAAEzE,EAAI8vB,YAAYrrB,EAAK1C,MAAO,CAAC7B,EAAG,MAAM,CAACS,IAAI8D,EAAKrC,GAAGlB,YAAY,kBAAkB,CAAChB,EAAG,MAAM,CAACgB,YAAY,aAAa,CAAEuD,EAAKgrB,QAAS,CAACvvB,EAAG,WAAW,CAACgB,YAAY,kBAAkBd,MAAM,CAAC,KAAO,cAAc,MAAQ,gBAAgBJ,EAAIyC,KAAMzC,EAAIqP,gBAAgB5F,UAAWvJ,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAACgB,YAAY,UAAUd,MAAM,CAAC,KAAOqE,EAAKC,QACld,yBACA,+BAA+B,MAAQ,aAAanE,GAAG,CAAC,MAAQ,SAAS+B,GAAQmC,EAAKC,SAAWD,EAAKC,aAAa,GAAG1E,EAAIyC,KAAMgC,EAAKmO,WAAY1S,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,sBAAsB3B,MAAOL,EAAI6S,SAASpO,EAAKmO,YAAa1Q,WAAW,4BAA4B4Q,IAAI,QAAQ3Q,UAAU,CAAC,KAAM,KAAQjB,YAAY,UAAUd,MAAM,CAAC,KAAO,kBAAkB,MAAQ,cAAc,GAAGJ,EAAIyC,KAAKvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAACgB,YAAY,sBAAsBd,MAAM,CAAC,YAAYJ,EAAI2E,SAASF,EAAK1C,UAAU,GAAG7B,EAAG,MAAM,CAACgB,YAAY,eAAeX,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAI4E,SAASH,MAAS,CAACzE,EAAIc,GAAG,IAAId,EAAIe,GAAG0D,EAAK1C,MAAM,OAAS0C,EAAKgrB,QAAuYzvB,EAAIyC,KAAlYvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,WAAY6B,WAAW,aAAaC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,uBAAuB,MAAQ,UAAU,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI0vB,eAAejrB,EAAM,iBAAiB,GAAcA,EAAKgrB,QAA6XzvB,EAAIyC,KAAxXvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,QAAS6B,WAAW,UAAUC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,sBAAsB,MAAQ,UAAU,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI0vB,eAAejrB,EAAM,cAAc,IAAa,GAAGvE,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAGf,EAAI+E,KAAKC,OAAOP,EAAKQ,eAAgBR,EAAKS,UAAW,CAAChF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBF,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAG0D,EAAKU,oBAAoBnF,EAAIyC,KAAMgC,EAAKW,KAAM,CAAClF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBF,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAGf,EAAIqF,SAASZ,EAAKW,WAAWpF,EAAIyC,MAAM,GAAGvC,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,WAAY6B,WAAW,aAAaC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,wBAAwB,MAAQ,YAAY,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI2vB,YAAYlrB,QAAW,IACztE,UAArBzE,EAAIqU,cACiB,WAArBrU,EAAIqU,cACiB,YAArBrU,EAAIqU,eACJ5P,EAAKS,YAAclF,EAAI2F,OAAOC,MAAMC,QAAQzD,IAC9CpC,EAAIouB,gBACJluB,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,SAAU6B,WAAW,WAAWC,UAAU,CAAC,KAAM,KAAQ/B,MAAM,CAAC,KAAO,sBAAsB,MAAQ,MAAM,YAAY,GAAG,UAAU,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAAS+B,GAAiC,OAAzBA,EAAOuC,kBAAyB7E,EAAI8E,iBAAiBL,QAAW,GAAGzE,EAAIyC,UAAUzC,EAAIyC,UAAS,IAAI,KAAKvC,EAAG,eAAe,CAACE,MAAM,CAAC,gBAAgBJ,EAAI2C,SAAS6E,aAAa,YAAYxH,EAAIyH,kBAAkBlH,GAAG,CAAC,kBAAkB,SAAS+B,GAAQtC,EAAIyH,iBAAiBnF,GAAQ,mBAAmB,SAASA,GAAQtC,EAAIyH,iBAAiBnF,IAASiB,MAAM,CAAClD,MAAOL,EAAI0H,kBAAmBjE,SAAS,SAAUC,GAAM1D,EAAI0H,kBAAkBhE,GAAKxB,WAAW,uBAAuBhC,EAAG,cAAc,CAACE,MAAM,CAAC,YAAYJ,EAAI2T,UAAUpQ,MAAM,CAAClD,MAAOL,EAAIyzB,iBAAkBhwB,SAAS,SAAUC,GAAM1D,EAAIyzB,iBAAiB/vB,GAAKxB,WAAW,sBAAsBhC,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,OAAO,aAAa,IAAIG,GAAG,CAAC,MAAQ,SAAS+B,GAAQtC,EAAIuxB,qBAAsB,IAAQ9wB,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACZ,EAAIc,GAAG,wBAAwBG,OAAM,KAAQsC,MAAM,CAAClD,MAAOL,EAAIuxB,oBAAqB9tB,SAAS,SAAUC,GAAM1D,EAAIuxB,oBAAoB7tB,GAAKxB,WAAW,wBAAwB,CAAChC,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,OAAS,wBAAwB,CAACJ,EAAI2B,GAAI3B,EAAIwxB,oBAAoB,SAAS/sB,GAAM,MAAO,CAACvE,EAAG,MAAM,CAACS,IAAI8D,EAAKrC,GAAGlB,YAAY,kBAAkB,CAAChB,EAAG,MAAM,CAACgB,YAAY,aAAa,CAAChB,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAChB,EAAG,WAAW,CAACgB,YAAY,sBAAsBd,MAAM,CAAC,YAAYJ,EAAI2E,SAASF,EAAK1C,UAAU,GAAG7B,EAAG,MAAM,CAACgB,YAAY,eAAeX,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAIyxB,mBAAmBhtB,MAAS,CAACzE,EAAIc,GAAG,IAAId,EAAIe,GAAG0D,EAAK1C,MAAM,SAAS7B,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAGf,EAAI+E,KAAKC,OAAOP,EAAKQ,eAAgBR,EAAKW,KAAM,CAAClF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBF,EAAG,MAAM,CAACF,EAAIc,GAAGd,EAAIe,GAAGf,EAAIqF,SAASZ,EAAKW,WAAWpF,EAAIyC,MAAM,UAAS,IAAI,KAAKvC,EAAG,QAAQ,CAACE,MAAM,CAAC,aAAa,GAAG,MAAQ,SAASG,GAAG,CAAC,MAAQ,SAAS+B,GAAQtC,EAAIoG,WAAY,IAAQ3F,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACV,EAAG,MAAM,CAACgB,YAAY,wBAAwB,CAAElB,EAAIqG,aAAauM,WAAY,CAAC1S,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,yBAAyB3B,MAAOL,EAAI6S,SAAS7S,EAAIqG,aAAauM,YAAa1Q,WAAW,oCAAoC4Q,IAAI,QAAQ3Q,UAAU,CAAC,QAAS,KAAQjB,YAAY,UAAUd,MAAM,CAAC,UAAU,GAAG,KAAO,kBAAkB,MAAQ,cAAcJ,EAAIyC,KAAKvC,EAAG,MAAM,CAACgB,YAAY,kBAAkB,CAAChB,EAAG,WAAW,CAACE,MAAM,CAAC,YAAYJ,EAAI2E,SAAS3E,EAAIqG,aAAatE,UAAU,GAAG7B,EAAG,MAAM,CAACgB,YAAY,WAAW,CAAChB,EAAG,MAAM,CAACgB,YAAY,YAAY,CAAClB,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAIqG,aAAatE,MAAM,OAAO7B,EAAG,MAAM,CAACgB,YAAY,QAAQ,CAAChB,EAAG,MAAM,CAACF,EAAIc,GAAG,gBAAgBd,EAAIe,GAAGf,EAAI+E,KAAKC,OAAOhF,EAAIqG,aAAapB,eAAe/E,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBF,EAAG,MAAM,CAACF,EAAIc,GAAG,gBAAgBd,EAAIe,GAAGf,EAAIqG,aAAalB,mBAAoBnF,EAAIqG,aAAajB,KAAMlF,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,sBAAsBJ,EAAIc,GAAG,eAAed,EAAIe,GAAGf,EAAIqF,SAASrF,EAAIqG,aAAajB,OAAO,MAAM,GAAGpF,EAAIyC,MAAM,MAAM,KAAKxB,OAAM,GAAM,CAACN,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACV,EAAG,mBAAmB,CAAC4B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,gBAAgB3B,MAAO,UAAW6B,WAAW,YAAYC,UAAU,CAAC,KAAM,KAAQjB,YAAY,UAAUd,MAAM,CAAC,UAAU,GAAG,KAAO,aAAa,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,kBAAkB,QAAQ,kBAAkB,QAAQ,OAAS,aAAa,KAAO,cAAc,CAACF,EAAG,gBAAgB,CAACgB,YAAY,UAAUd,MAAM,CAAC,MAAQ,UAAUJ,EAAI2B,GAAI3B,EAAI+S,oBAAoB,SAAS1P,GAAQ,OAAOnD,EAAG,WAAW,CAACS,IAAI0C,EAAOjB,GAAGhC,MAAM,CAAC,KAAOiD,EAAOhB,KAAK,MAAQgB,EAAOpB,OAAO1B,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAIgT,eAAe3P,EAAOjB,WAAU,IAAI,IAAI,KAAKnB,OAAM,KAAQsC,MAAM,CAAClD,MAAOL,EAAIoG,UAAW3C,SAAS,SAAUC,GAAM1D,EAAIoG,UAAU1C,GAAKxB,WAAW,cAAc,CAAChC,EAAG,MAAM,CAACgB,YAAY,uBAAuB,CAAChB,EAAG,MAAM,CAACgB,YAAY,aAAa,CAAChB,EAAG,SAAS,CAACqE,IAAI,oBAAoBnE,MAAM,CAAC,GAAK,aAAa,IAAMJ,EAAIsG,WAAW,YAAc,aAAapG,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQJ,EAAIyT,sBAAsB,KAAOzT,EAAI2C,SAAS,mBAAmB3C,EAAI0T,gBAAgB,YAAY1T,EAAI2T,SAAS,MAAQ3T,EAAI4d,eAAiB,QAAQ,QAAU5d,EAAIuU,QAAQ,cAAcvU,EAAIuP,cAAc,kBAAkBvP,EAAI4T,eAAe,mBAAmB5T,EAAI2d,eAAepd,GAAG,CAAC,MAAQP,EAAI6T,uBAAuB,KAAO7T,EAAI8T,iBAAiB,IAE7/InM,EAAkB,G,+KCooBP,GACf5F,mBAEA6F,YACAC,aACAQ,oBACAN,gBACAmsB,mBACAlY,oBACAhU,qBACAE,iBAGAI,OACAjI,OACAkI,aACAC,YAGA6G,iBACA9G,YACAC,gBAGA7F,UACA4F,YACAC,gBAGA6L,cACA9L,YACAE,aAGA2lB,iBACA7lB,aACAC,YAGAkmB,eACAnmB,aACAC,YAGAyH,WACA1H,WACAC,gBAGAmrB,OACAprB,YACAC,gBAGA8L,mBACA/L,YACAC,gBAGA+G,eACAhH,YACAC,gBAGAsH,iBACAvH,WACAC,gBAGA+U,YACAhV,WACAC,gBAGAkL,iBACAnL,WACAC,gBAGA+L,SACAhM,WACAC,gBAGAxE,aACAuE,WACAC,gBAGAY,YACAb,YACAE,aAGAg8B,UACAl8B,aACAC,aAIAQ,OACA,OACA1E,mBACAX,kBACAQ,aACAuD,qBACAD,oBACAgsB,oBACA9f,YACAghB,oBACAtuB,gBACAwwB,uBACAtF,uBACAC,sBACAprB,aACAyvB,sBACAjG,gBACA7c,oBAOA,CACA3Q,cACAzB,eACAsB,iBACAI,6BAEA,CACAD,WACAzB,YACAsB,cACAI,6BAGAuR,kBACAH,yBACA4J,sBACAoY,kBACAC,oBACA/X,iBACAC,iBACAunB,2BAMAl7B,UACA7F,oBACA,mBACA,sDACA,UAGAkrB,gBACA,SAOA,OANA,gCACA,8BACA,qCACAuI,QAGA,IAIAxtB,OACAhK,OACAiK,aACAC,UACA,cAIA,GAFA,wBACA,qCACA,sDAEA,GADA,sBACA,4BACA,mCACA,gDAEA,qCACA,uBACA,WAGAE,sCAOAC,SACA,8BAMA,iCAEA,OACAtB,kBACAK,kCAEA,qCACA,YAAAmC,UAAAM,SAAA,sBACA9C,EACAK,GAGA,GADA,qCACA,EACA,0BAsBA,GAnBA,UACA,eACA,8BACA,IACA,EACA/E,eAUA,0DAEA,uBAEA,uBACA,2BACA,qCACA,+CACA,wCACA,WAGA,SACAe,YAEAA,cAGA,uBAEA,yBACA6F,gCACA,0CAGA,mEAGA,wCAMAwsB,mBACA,sBACA,OACA,6CACAxsB,6CACAA,8BACA,wCAOApH,gBACA,gDACA,IACA,EACAQ,2BAKA,sBACA,SACA,gCACA,8BACA,oCACAiH,eAGA,OACAoL,OAEA,YAAAnL,SAAA,qBACA,gBACA,+BACA,mCACA,2BACAJ,GAGA,EACA,qBAGA,yDAGA,sBACA,yBACA,gCACA,WACA,4BACApJ,QACAL,gBAIA,2BAGA42B,cAIA9sB,sBAGA2G,kBACA,yBACA,+BACA,+CACAoC,aACA7S,MAGA8tB,YAAA,MACAxP,+CACA,qDACA5a,sBADA,eAEA8M,IACA,gCAGAid,6BACA,kCACA/pB,GACAA,iDACAA,4DACA1D,IAIA+tB,eACA,4BACArqB,GACAA,4CACAA,0DAEA,iBAMA0rB,uBACA,2BACA,kCACA5P,cACA,0BACA,8BACAnf,mBACAk4B,YACAv4B,OACAkD,0BAGA,6BAGAwsB,sBACA,kIACA9mB,yBAGAkI,YACA,SACA,sBACAsF,gCACA,WACA,2CAEA,aACA,OAEA,SACA,iBACA1M,oBAeA,OAbAA,cACA,8CACAyL,aAEA,KACAiE,eAEA,YAEA,YADAA,aAKA,GAGAxW,YACA,kDAIAU,YACA,0BAGAT,YACA,UAQA,2DAPA,oBACA,wBACA+F,6BAEA,oBAOArE,WACA,8BACA,wBACA,uBAEA,2BACA,8CACA,+BACA,QAEA,8CACA,qCAEAiC,KAEA,SACA,qBAEA8C,EADA,wBAEA,wDACA,+BACAA,iDACA,oBAEA,yDAEAA,mCAEA,8BAGA,uIAFAA,8CAKA,kGACA,CACA,SACA,KAQA,GANA,6BACA,8BACA,gCAEAhI,iBAEA,kBACA,yBACAA,KACAgI,EACA,yDAEAC,gCACA,kBASAD,EADA,oBAEA,yDAEAA,gCAVAiW,uCACA,kCACA,4BACA,KAEAjW,wDAOA,iDAQA,4LAPAiW,uCACA,kCACA,4BACA,KAEAjW,8CAIA,8QAKAqkB,oBACA,oBACA,2BAGA1c,oBACA,6BAEA,gBACA,0BACA,MACA,SACA,+BACA,QAEA,8CACA,qCAEAzK,KAEAqU,0IAEAA,wLAEAjS,4BACA,CACA,8CACA,mBACA2W,qCACAA,0DAEA,mDAIA,6BACA,mBACA,SAEA,+BACA,QAEA,8CACA,qCAEA/Y,KAEAqU,0IAEAA,iMAEAjS,0BAKA,yBACA,YAAAiB,SAAA,yBACApE,4CACAyE,4BACAwS,eAGA,GACA,sBAKA,uBAEA,YAAA7S,UAAAM,SAAA,oBACA1E,4BACAyE,cAGA,EACA,qBAIA,IAGA,WACA,yBAEA,gBAEA,yCAGA,0BACA,iBA0BA,CACA,oCACA,aACA,qBACA,iBAEAJ,eACA,MACA,0CAGA,wCACA,sCAEAA,eACA,MACA,iCAEA,kBACApH,sBACA,2BAIA,uCACA,eAEAoH,eACA,OAMA,2DACA,sCA5DA,eACA,YAAAD,SAAA,mCACA,KAEA,YADA,qBAGA,+CACAnG,gBAEA,2BACA,gBACAA,mBAGA,CACA,YAAAmG,SAAA,kBACA,2BACAnH,MAEA,KAEA,YADA,qBAGA,wBA0CA2gC,mBACA,qCACA,+CACA,kBACA9jB,uCACA7W,qCACA,4BAeAunB,eACA,sBACA,OACA,8BACA1mB,kCACA,wCAOAotB,oBACA,sBACA,MACAptB,sCACA,+CAEA,gCASA,gCACA,iDAEA,GADA,0BACA,0BACA,2BACA8P,4BAGA,oBADA,EAEA,mCAEA,4BAGA,2CAEA,oCACA,2BACA,yBAGA,OAEA,qBACAxG,YAEA,gCACA,SACAxS,QACAL,YACA1B,iCACAkI,iBAEA,qBAGA,IACAma,aAHA,sBACA7W,oDAIA,8BAGA,+BACA,IACA6W,oCAGA,SACAtgB,QACAL,YACA1B,iCACAkI,iBAEA,uBACA,sBACAsD,oDAGA,6BACAsJ,OAAAP,uBACA+N,IAAA/N,SAEA,cACA,2BACAA,aAEA,yBAKA,GAFA,8BAEA,GACA,WAEA,0BACAgO,oCAGA/W,4BACA,0BAEA,8BAEA,oCAGA,2BAIA,6BACA,mCACA,0BACA,eACAM,uCACAA,oDACAA,qDACAA,6DACA,EACAA,qBAEAA,sBAEAA,mBACA,6BACA,2BACA,2BACA,4BACA1G,mCAEA0G,qCACAkU,kBAEA,sBAEA,YADA,sDAGA,qCACA,IACA,mBACAjU,+EACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,yCAGA,OAAAC,OAAAzD,GAAA,EACA,eACA,QADA,yCAEA,mCACA,sBACAyB,kCACA,MACA,SACA,0CACAoB,iBAEA,qCACA,uBACA,2BACA,iCACApG,eAKAiH,kBACA,8CACA,yCACA,0BAGA,CACA,0BACA,eACAP,mBACAA,oDACA,IACA,4BACAA,sBAEA,6BACA,2BACA,2BACA,4BACA1G,mCAEA0G,qCACAkU,uBAEAlU,uBAEA,sBAEA,YADA,sDAGA,qCACA,IACA,mBACAC,oEACAC,cACArD,OACAsD,SACAC,uCACAC,0BACA,wCAGA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","file":"js/portal-access.a5cf9e70.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/name-light.137e40b6.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"addTask\"}},[_c('Sheet',{attrs:{\"value\":_vm.value,\"width\":_vm.taskWidth,\"no-padding\":\"\"},on:{\"input\":_vm.closeSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._t(\"title\",function(){return [_vm._v(_vm._s(_vm.title))]})]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":_vm.isMaximized ? 'eva-collapse' : 'eva-expand'},on:{\"click\":_vm.toggleWidth}})]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"row\",attrs:{\"id\":\"content-wrapper\"}},[_c('div',{staticClass:\"col\",attrs:{\"id\":\"task-form-view\"}},[_c('BaseScrollbar',{staticClass:\"q-pa-md\",attrs:{\"height\":\"calc(100vh - 60px)\"}},[_c('RenderForm',{attrs:{\"no-padding\":\"\",\"panels\":_vm.panels,\"secondary-panels\":_vm.secondaryPanels,\"form-settings\":_vm.formSettings,\"form-model\":_vm.taskModel,\"is-readonly\":_vm.mode === 'VIEW'},on:{\"save\":_vm.saveTask}})],1)],1),_c('div',{staticClass:\"col-auto q-mr-sm leftBorder\"},[_vm._l((_vm.tabs),function(tab){return _c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showLinks(tab.value)}}},[(tab.count)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(tab.count)+\" \")]):_vm._e()])}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('workflows'),expression:\"'workflows'\",modifiers:{\"left\":true}}],staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":\"o_account_tree\",\"color\":\"primary\"}},[_c('q-menu',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"anchor\":\"bottom end\",\"self\":\"top right\"}},[_c('BaseScrollbar',{staticClass:\"q-pb-sm\",attrs:{\"width\":\"240px\"}},_vm._l((_vm.taskWorkflowList),function(workflow){return _c('ListItem',{key:workflow.id,attrs:{\"icon\":\"mdi-sitemap\",\"label\":workflow.label},on:{\"click\":function($event){return _vm.getForm(workflow)}}})}),1)],1)],1)],2)])]},proxy:true}],null,true)}),_c('Sheet',{attrs:{\"width\":_vm.taskWidth,\"has-footer\":\"\"},on:{\"input\":_vm.closeAddTaskSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._t(\"title\",function(){return [_vm._v(_vm._s(_vm.headerTitle))]})]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":_vm.isMaximized ? 'eva-collapse' : 'eva-expand'},on:{\"click\":_vm.toggleWidth}})]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"row\",attrs:{\"id\":\"content-wrapper\"}},[_c('div',{staticClass:\"col\",attrs:{\"id\":\"form-view\"}},[_c('BaseScrollbar',{staticClass:\"q-pa-md\",attrs:{\"height\":\"calc(100vh - 145px)\"}},[_c('RenderForm',{attrs:{\"no-padding\":\"\",\"workflow-id\":_vm.workflowFormId,\"panels\":_vm.addWorkflowForm.panels,\"secondary-panels\":_vm.addWorkflowForm.secondaryPanels,\"form-settings\":_vm.addWorkflowForm.settings,\"workflow-form-model\":_vm.workflowFormModel,\"save-action\":_vm.saveAction},on:{\"update:workflowFormModel\":function($event){_vm.workflowFormModel=$event},\"update:workflow-form-model\":function($event){_vm.workflowFormModel=$event},\"update:saveAction\":function($event){_vm.saveAction=$event},\"update:save-action\":function($event){_vm.saveAction=$event}}})],1)],1),_c('div',{staticClass:\"col-auto q-mr-sm leftBorder\"},_vm._l((_vm.tabs),function(tab){return _c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showLinks(tab.value)}}},[(tab.count)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(tab.count)+\" \")]):_vm._e()])}),1)])]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.actions)?_c('div',{staticClass:\"footer row\"},[_vm._l((_vm.actions),function(action){return [(\n              action === 'Approve' ||\n              action === 'Complete' ||\n              action === 'Rightsize'\n            )?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"positive\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):(\n              action === 'Reject' ||\n              action === 'Terminate' ||\n              action === 'Force Close'\n            )?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"red\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):(action === 'Forward' || action === 'Reply')?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"orange\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action},on:{\"click\":function($event){return _vm.validateRequest(action)}}})]})],2):_vm._e()]},proxy:true}],null,true),model:{value:(_vm.addTaskSheet),callback:function ($$v) {_vm.addTaskSheet=$$v},expression:\"addTaskSheet\"}}),_c('Sheet',{attrs:{\"width\":\"30vw\",\"sub-actions\":_vm.attachmentList.length ? true : false,\"upload\":true},on:{\"input\":_vm.closeAttachmentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Attachments \")]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":_vm.getAttachments}})]},proxy:true},{key:\"upload\",fn:function(){return [_c('div',{staticClass:\"hint\",on:{\"click\":function($event){return _vm.$refs.attachments.click()}}},[_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-cloud-upload-outline\",\"size\":\"32px\",\"color\":\"blue\"}}),_c('div',{staticClass:\"title text-blue\"},[_vm._v(\"UPLOAD FILES\")]),_c('div',{staticClass:\"description\"},[_vm._v(\"Click here to choose files and upload\")])],1)]},proxy:true},{key:\"subActions\",fn:function(){return [[_c('CheckboxField',{staticClass:\"col-auto q-pt-sm q-pb-sm\",on:{\"input\":_vm.fileSelectAll},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}}),_vm._v(\" Select All \")],_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('mail share'),expression:\"'mail share'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-sm\",attrs:{\"is-disabled\":!_vm.selectedFileCount,\"icon\":\"mdi-email-send-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"18px\"},on:{\"click\":_vm.documentShare}}),(_vm.selectedFileCount > 1 && false)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('merge documents'),expression:\"'merge documents'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-file-document-multiple-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"18px\"}}):_vm._e()]},proxy:true}]),model:{value:(_vm.attachmentSheet),callback:function ($$v) {_vm.attachmentSheet=$$v},expression:\"attachmentSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('input',{ref:\"attachments\",staticClass:\"hidden\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.uploadAttachments}}),_vm._l((_vm.attachmentList),function(file){return [_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":file.checked\n                    ? 'eva-checkmark-circle-2'\n                    : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":function($event){file.checked = !file.checked}}})],1),_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1)]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.createdBy)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(file.createdByEmail))])]:_vm._e(),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2)])]})],2)]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"height\":\"80vh\",\"custom-height\":\"30\"},on:{\"input\":_vm.closeCommentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments \")]},proxy:true}]),model:{value:(_vm.commentsSheet),callback:function ($$v) {_vm.commentsSheet=$$v},expression:\"commentsSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 155px)\"}},[_vm._l((_vm.commentsList),function(row,idx){return [_c('q-chat-message',{key:idx,staticClass:\"q-ma-sm\",attrs:{\"name\":row.createdBy === _vm.$store.state.session.id\n                ? 'me'\n                : row.createdByEmail,\"text\":[row.comments],\"text-html\":\"\",\"sent\":row.createdBy === _vm.$store.state.session.id,\"stamp\":_vm.lastCommentDuration(row),\"bg-color\":row.createdBy === _vm.$store.state.session.id\n                ? 'primary-1'\n                : 'secondary-1'}})]})],2)],1),_c('div',{staticClass:\"col q-pa-sm borderTop\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TextAreaField',{attrs:{\"auto-focus\":\"\",\"placeholder\":\"Type a new comment...\"},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}})],1),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin\":\"auto\"}},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Post Comments'),expression:\"'Post Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm commentAction\",attrs:{\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary-11\",\"size\":\"16px\",\"rotate-class\":\"rotate-45\"},on:{\"click\":_vm.saveComment}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Advanced Comments'),expression:\"'Advanced Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm q-mt-sm commentAction\",attrs:{\"icon\":\"mdi-comment-text-multiple\",\"color\":\"primary-11\",\"size\":\"16px\"},on:{\"click\":function($event){_vm.advancedCommentsSheet = true}}})],1)])])]),_c('Sheet',{attrs:{\"no-padding\":\"\",\"width\":\"100vw\"},on:{\"input\":function($event){_vm.fileSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"attachmentFileHeader\"},[_c('div',{staticClass:\"avatar q-ml-sm\"},[_c('FileIcon',{attrs:{\"mime-type\":_vm.fileType(_vm.selectedFile.name)}})],1),_c('div',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"filename\"},[_vm._v(\" \"+_vm._s(_vm.selectedFile.name)+\" \")]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(\"Archived At: \"+_vm._s(_vm.$day.format(_vm.selectedFile.createdAt)))]),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(\"Archived By: \"+_vm._s(_vm.selectedFile.createdByEmail))]),(_vm.selectedFile.size)?_c('div',[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" File Size: \"+_vm._s(_vm.fileSize(_vm.selectedFile.size))+\" \")],1):_vm._e()],1)])])]},proxy:true}]),model:{value:(_vm.fileSheet),callback:function ($$v) {_vm.fileSheet=$$v},expression:\"fileSheet\"}},[_c('div',{staticClass:\"attachmentFileFrame\"},[_c('div',{staticClass:\"file-list\"},[_c('iframe',{ref:\"myFiles\",attrs:{\"id\":\"file-frame\",\"src\":_vm.fileLink(),\"frameborder\":\"0\"}})])])]),_c('Sheet',{attrs:{\"width\":\"30vw\"},on:{\"input\":_vm.closeTaskSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Workflows \")]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Add Workflows'),expression:\"'Add Workflows'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-plus\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getworkflowForm(_vm.workflowFormId)}}})]},proxy:true}]),model:{value:(_vm.taskSheet),callback:function ($$v) {_vm.taskSheet=$$v},expression:\"taskSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_vm._l((_vm.processInfo),function(task){return [_c('div',{key:task.id,staticClass:\"taskEntries\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto q-mr-md\",staticStyle:{\"margin-top\":\"3px\"},on:{\"click\":function($event){return _vm.getWorkflowAudit(task.requestNo)}}},[_vm._v(\" Request No: \"+_vm._s(task.requestNo)+\" \")]),(task.actionUser)?[_c('q-chip',{attrs:{\"size\":\"10px\",\"color\":\"yellow\",\"text-color\":\"white\"}},[_vm._v(\" \"+_vm._s(task.actionUser)+\" \")])]:_vm._e(),_c('q-chip',{attrs:{\"size\":\"10px\",\"color\":_vm.getColor(task.flowStatus),\"text-color\":\"white\"}},[_vm._v(\" \"+_vm._s(task.flowStatus === \"0\" ? \"Open\" : \"Completed\")+\" \")])],2)]),_c('div',{staticClass:\"meta row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\" Raised By: \"+_vm._s(task.raisedBy)+\" \"),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" Raised At: \"+_vm._s(_vm.$day.format(task.raisedAt))+\" \")],1)])])]})],2)]),_c('Sheet',{attrs:{\"width\":\"100vw\",\"has-footer\":\"\",\"no-padding\":\"\"},on:{\"input\":function($event){_vm.processSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.headerTitle)+\" \")]},proxy:true}]),model:{value:(_vm.processSheet),callback:function ($$v) {_vm.processSheet=$$v},expression:\"processSheet\"}},[_c('div',{staticClass:\"row\",attrs:{\"id\":\"content-wrapper\"}},[_c('div',{staticClass:\"col\",attrs:{\"id\":\"form-view\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 145px)\"}},[_c('RenderForm',{attrs:{\"form-id\":_vm.formIdName,\"panels\":_vm.addWorkflowForm.panels,\"secondary-panels\":_vm.addWorkflowForm.secondaryPanels,\"form-settings\":_vm.addWorkflowForm.settings,\"form-model\":_vm.formModel,\"save-action\":_vm.saveAction,\"workflow-form-model\":_vm.workflowFormModel},on:{\"update:saveAction\":function($event){_vm.saveAction=$event},\"update:save-action\":function($event){_vm.saveAction=$event},\"update:workflowFormModel\":function($event){_vm.workflowFormModel=$event},\"update:workflow-form-model\":function($event){_vm.workflowFormModel=$event}}})],1)],1),_c('div',{staticClass:\"col-auto q-mr-sm leftBorder\"},[_vm._l((_vm.tabs),function(tab){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showLinks(tab.value)}}},[(tab.count)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(tab.count)+\" \")]):_vm._e()])]})],2)])]),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\",\"has-footer\":\"\"},on:{\"input\":function($event){_vm.advancedCommentsSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments\")]},proxy:true},{key:\"default\",fn:function(){return [_c('TextBuilderField',{model:{value:(_vm.advancedCommentText),callback:function ($$v) {_vm.advancedCommentText=$$v},expression:\"advancedCommentText\"}})]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Post\",\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary\"},on:{\"click\":_vm.saveAdvancedComment}})]},proxy:true}]),model:{value:(_vm.advancedCommentsSheet),callback:function ($$v) {_vm.advancedCommentsSheet=$$v},expression:\"advancedCommentsSheet\"}}),_c('EmailSharing',{attrs:{\"repository-id\":_vm.repositoryId,\"file-list\":_vm.selectedFileList},on:{\"update:fileList\":function($event){_vm.selectedFileList=$event},\"update:file-list\":function($event){_vm.selectedFileList=$event}},model:{value:(_vm.emailSharingSheet),callback:function ($$v) {_vm.emailSharingSheet=$$v},expression:\"emailSharingSheet\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"addTask\">\n    <Sheet :value=\"value\" :width=\"taskWidth\" no-padding @input=\"closeSheet\">\n      <template #title>\n        <slot name=\"title\">{{ title }}</slot>\n      </template>\n\n      <template #actions>\n        <BaseActionButton\n          is-flat\n          :icon=\"isMaximized ? 'eva-collapse' : 'eva-expand'\"\n          class=\"q-mr-sm\"\n          @click=\"toggleWidth\"\n        />\n      </template>\n\n      <!-- form -->\n      <template #default>\n        <div id=\"content-wrapper\" class=\"row\">\n          <div id=\"task-form-view\" class=\"col\">\n            <BaseScrollbar height=\"calc(100vh - 60px)\" class=\"q-pa-md\">\n              <RenderForm\n                no-padding\n                :panels=\"panels\"\n                :secondary-panels=\"secondaryPanels\"\n                :form-settings=\"formSettings\"\n                :form-model=\"taskModel\"\n                :is-readonly=\"mode === 'VIEW'\"\n                @save=\"saveTask\"\n              />\n            </BaseScrollbar>\n          </div>\n          <div class=\"col-auto q-mr-sm leftBorder\">\n            <BaseActionButton\n              v-for=\"tab in tabs\"\n              :key=\"tab.id\"\n              v-tooltip.left=\"tab.label\"\n              is-flat\n              no-border\n              :icon=\"tab.icon\"\n              color=\"primary\"\n              class=\"tabButtons\"\n              @click=\"showLinks(tab.value)\"\n            >\n              <span v-if=\"tab.count\" class=\"badge\">{{ tab.count }} </span>\n            </BaseActionButton>\n\n            <BaseActionButton\n              v-tooltip.left=\"'workflows'\"\n              is-flat\n              no-border\n              icon=\"o_account_tree\"\n              color=\"primary\"\n              class=\"tabButtons\"\n            >\n              <q-menu\n                transition-show=\"scale\"\n                transition-hide=\"scale\"\n                anchor=\"bottom end\"\n                self=\"top right\"\n              >\n                <BaseScrollbar width=\"240px\" class=\"q-pb-sm\">\n                  <!-- columns -->\n\n                  <ListItem\n                    v-for=\"workflow in taskWorkflowList\"\n                    :key=\"workflow.id\"\n                    icon=\"mdi-sitemap\"\n                    :label=\"workflow.label\"\n                    @click=\"getForm(workflow)\"\n                  >\n                  </ListItem>\n                </BaseScrollbar>\n\n                <!-- ... -->\n              </q-menu>\n            </BaseActionButton>\n          </div>\n        </div>\n      </template>\n\n      <!-- ... -->\n    </Sheet>\n    <Sheet\n      v-model=\"addTaskSheet\"\n      :width=\"taskWidth\"\n      has-footer\n      @input=\"closeAddTaskSheet\"\n    >\n      <template #title>\n        <slot name=\"title\">{{ headerTitle }}</slot>\n      </template>\n\n      <template #actions>\n        <BaseActionButton\n          is-flat\n          :icon=\"isMaximized ? 'eva-collapse' : 'eva-expand'\"\n          class=\"q-mr-sm\"\n          @click=\"toggleWidth\"\n        />\n      </template>\n\n      <!-- form -->\n      <template #default>\n        <div id=\"content-wrapper\" class=\"row\">\n          <div id=\"form-view\" class=\"col\">\n            <BaseScrollbar height=\"calc(100vh - 145px)\" class=\"q-pa-md\">\n              <RenderForm\n                no-padding\n                :workflow-id=\"workflowFormId\"\n                :panels=\"addWorkflowForm.panels\"\n                :secondary-panels=\"addWorkflowForm.secondaryPanels\"\n                :form-settings=\"addWorkflowForm.settings\"\n                :workflow-form-model.sync=\"workflowFormModel\"\n                :save-action.sync=\"saveAction\"\n              />\n            </BaseScrollbar>\n          </div>\n\n          <div class=\"col-auto q-mr-sm leftBorder\">\n            <BaseActionButton\n              v-for=\"tab in tabs\"\n              :key=\"tab.id\"\n              v-tooltip.left=\"tab.label\"\n              is-flat\n              no-border\n              :icon=\"tab.icon\"\n              color=\"primary\"\n              class=\"tabButtons\"\n              @click=\"showLinks(tab.value)\"\n            >\n              <span v-if=\"tab.count\" class=\"badge\">{{ tab.count }} </span>\n            </BaseActionButton>\n          </div>\n        </div>\n      </template>\n\n      <!-- footer -->\n      <template #footer>\n        <div v-if=\"actions\" class=\"footer row\">\n          <template v-for=\"action in actions\">\n            <BaseButton\n              v-if=\"\n                action === 'Approve' ||\n                action === 'Complete' ||\n                action === 'Rightsize'\n              \"\n              :key=\"action\"\n              :label=\"action\"\n              color=\"positive\"\n              class=\"q-ml-md\"\n              @click=\"validateRequest(action)\"\n            />\n            <BaseButton\n              v-else-if=\"\n                action === 'Reject' ||\n                action === 'Terminate' ||\n                action === 'Force Close'\n              \"\n              :key=\"action\"\n              :label=\"action\"\n              color=\"red\"\n              class=\"q-ml-md\"\n              @click=\"validateRequest(action)\"\n            />\n            <BaseButton\n              v-else-if=\"action === 'Forward' || action === 'Reply'\"\n              :key=\"action\"\n              :label=\"action\"\n              color=\"orange\"\n              class=\"q-ml-md\"\n              @click=\"validateRequest(action)\"\n            />\n            <BaseButton\n              v-else\n              :key=\"action\"\n              :label=\"action\"\n              class=\"q-ml-md\"\n              @click=\"validateRequest(action)\"\n            />\n          </template>\n        </div>\n      </template>\n\n      <!-- ... -->\n    </Sheet>\n    <Sheet\n      v-model=\"attachmentSheet\"\n      width=\"30vw\"\n      :sub-actions=\"attachmentList.length ? true : false\"\n      :upload=\"true\"\n      @input=\"closeAttachmentsSheet\"\n    >\n      <!-- title -->\n\n      <template #title> Attachments </template>\n\n      <template #actions>\n        <BaseActionButton\n          v-tooltip.top=\"'refresh'\"\n          icon=\"mdi-refresh\"\n          color=\"secondary\"\n          no-border\n          is-flat\n          size=\"20px\"\n          class=\"q-mr-sm\"\n          @click=\"getAttachments\"\n        />\n      </template>\n\n      <template #upload>\n        <div class=\"hint\" @click=\"$refs.attachments.click()\">\n          <BaseIcon\n            name=\"eva-cloud-upload-outline\"\n            size=\"32px\"\n            color=\"blue\"\n            class=\"icon\"\n          />\n\n          <div class=\"title text-blue\">UPLOAD FILES</div>\n          <div class=\"description\">Click here to choose files and upload</div>\n        </div>\n      </template>\n\n      <template #subActions>\n        <template>\n          <CheckboxField\n            v-model=\"selectAll\"\n            class=\"col-auto q-pt-sm q-pb-sm\"\n            @input=\"fileSelectAll\"\n          />\n          Select All\n        </template>\n\n        <BaseActionButton\n          v-tooltip.top=\"'mail share'\"\n          :is-disabled=\"!selectedFileCount\"\n          icon=\"mdi-email-send-outline\"\n          color=\"secondary\"\n          no-border\n          is-flat\n          size=\"18px\"\n          class=\"q-ml-sm\"\n          @click=\"documentShare\"\n        />\n\n        <BaseActionButton\n          v-if=\"selectedFileCount > 1 && false\"\n          v-tooltip.top=\"'merge documents'\"\n          icon=\"mdi-file-document-multiple-outline\"\n          color=\"secondary\"\n          no-border\n          is-flat\n          size=\"18px\"\n        />\n      </template>\n\n      <!-- ... -->\n\n      <!-- content -->\n      <div id=\"content-wrapper\">\n        <input\n          ref=\"attachments\"\n          type=\"file\"\n          class=\"hidden\"\n          @change=\"uploadAttachments\"\n        />\n        <template v-for=\"file in attachmentList\">\n          <div :key=\"file.id\" class=\"attachmentList\">\n            <div class=\"title row\">\n              <div class=\"col-auto\">\n                <!-- <CheckboxField v-model=\"file.checked\" class=\"col-auto\" /> -->\n                <BaseIcon\n                  :name=\"\n                    file.checked\n                      ? 'eva-checkmark-circle-2'\n                      : 'eva-radio-button-off-outline'\n                  \"\n                  color=\"secondary\"\n                  class=\"q-mr-sm\"\n                  @click=\"file.checked = !file.checked\"\n                />\n              </div>\n              <div class=\"col-auto\">\n                <FileIcon\n                  :mime-type=\"fileType(file.name)\"\n                  class=\"mini-avatar q-mr-sm\"\n                />\n              </div>\n              <div class=\"col ellipsis\" @click=\"openFile(file)\">\n                {{ file.name }}\n              </div>\n              <div class=\"col-auto\">\n                <BaseActionButton\n                  v-tooltip.top=\"'delete'\"\n                  icon=\"eva-trash-2-outline\"\n                  color=\"red\"\n                  no-border\n                  is-flat\n                  size=\"20px\"\n                  @click.stop=\"attachmentDelete(file)\"\n                />\n              </div>\n            </div>\n\n            <div class=\"meta\">\n              <!-- created at -->\n\n              <div>{{ $day.format(file.createdAt) }}</div>\n\n              <!-- ... -->\n\n              <!-- created by -->\n\n              <template v-if=\"file.createdBy\">\n                <BaseIcon name=\"mdi-circle-small\" />\n                <div>{{ file.createdByEmail }}</div>\n              </template>\n\n              <!-- ... -->\n\n              <!-- size -->\n\n              <template v-if=\"file.size\">\n                <BaseIcon name=\"mdi-circle-small\" />\n                <div>{{ fileSize(file.size) }}</div>\n              </template>\n\n              <!-- ... -->\n            </div>\n          </div>\n        </template>\n      </div>\n    </Sheet>\n    <Sheet\n      v-model=\"commentsSheet\"\n      width=\"30vw\"\n      height=\"80vh\"\n      custom-height=\"30\"\n      @input=\"closeCommentsSheet\"\n    >\n      <!-- title -->\n\n      <template #title> Comments </template>\n\n      <!-- ... -->\n\n      <!-- content -->\n      <div id=\"content-wrapper\">\n        <BaseScrollbar height=\"calc(100vh - 155px)\">\n          <!-- comments -->\n          <template v-for=\"(row, idx) in commentsList\">\n            <q-chat-message\n              :key=\"idx\"\n              :name=\"\n                row.createdBy === $store.state.session.id\n                  ? 'me'\n                  : row.createdByEmail\n              \"\n              :text=\"[row.comments]\"\n              text-html\n              :sent=\"row.createdBy === $store.state.session.id\"\n              :stamp=\"lastCommentDuration(row)\"\n              :bg-color=\"\n                row.createdBy === $store.state.session.id\n                  ? 'primary-1'\n                  : 'secondary-1'\n              \"\n              class=\"q-ma-sm\"\n            />\n          </template>\n          <!-- ... -->\n        </BaseScrollbar>\n      </div>\n\n      <!-- ... -->\n\n      <div class=\"col q-pa-sm borderTop\">\n        <div class=\"row\">\n          <!-- <div class=\"col-auto\" style=\"margin: auto\">\n            <q-avatar\n              color=\"primary-11 q-mr-sm\"\n              text-color=\"white\"\n              icon=\"mdi-comment-account-outline\"\n              size=\"32px\"\n            />\n          </div> -->\n          <div class=\"col\">\n            <TextAreaField\n              v-model=\"commentText\"\n              auto-focus\n              placeholder=\"Type a new comment...\"\n            />\n          </div>\n          <div class=\"col-auto\" style=\"margin: auto\">\n            <BaseActionButton\n              v-tooltip.left=\"'Post Comments'\"\n              icon=\"eva-paper-plane-outline\"\n              color=\"primary-11\"\n              class=\"q-ml-sm commentAction\"\n              size=\"16px\"\n              rotate-class=\"rotate-45\"\n              @click=\"saveComment\"\n            />\n            <BaseActionButton\n              v-tooltip.left=\"'Advanced Comments'\"\n              icon=\"mdi-comment-text-multiple\"\n              color=\"primary-11\"\n              class=\"q-ml-sm q-mt-sm commentAction\"\n              size=\"16px\"\n              @click=\"advancedCommentsSheet = true\"\n            />\n          </div>\n        </div>\n      </div>\n    </Sheet>\n    <Sheet\n      v-model=\"fileSheet\"\n      no-padding\n      width=\"100vw\"\n      @input=\"fileSheet = false\"\n    >\n      <!-- title -->\n\n      <template #title>\n        <div class=\"attachmentFileHeader\">\n          <div class=\"avatar q-ml-sm\">\n            <FileIcon :mime-type=\"fileType(selectedFile.name)\" />\n          </div>\n\n          <div class=\"q-ml-md\">\n            <div class=\"filename\">\n              {{ selectedFile.name }}\n            </div>\n\n            <div class=\"meta\">\n              <div>Archived At: {{ $day.format(selectedFile.createdAt) }}</div>\n              <BaseIcon name=\"mdi-circle-small\" />\n              <div>Archived By: {{ selectedFile.createdByEmail }}</div>\n              <div v-if=\"selectedFile.size\">\n                <BaseIcon name=\"mdi-circle-small\" />\n                File Size: {{ fileSize(selectedFile.size) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <div class=\"attachmentFileFrame\">\n        <div class=\"file-list\">\n          <iframe\n            id=\"file-frame\"\n            ref=\"myFiles\"\n            :src=\"fileLink()\"\n            frameborder=\"0\"\n          ></iframe>\n        </div>\n      </div>\n    </Sheet>\n    <Sheet v-model=\"taskSheet\" width=\"30vw\" @input=\"closeTaskSheet\">\n      <!-- title -->\n\n      <template #title> Workflows </template>\n\n      <!-- ... -->\n\n      <template #actions>\n        <BaseActionButton\n          v-tooltip.top=\"'refresh'\"\n          icon=\"mdi-refresh\"\n          color=\"secondary\"\n          no-border\n          is-flat\n          size=\"20px\"\n        />\n\n        <BaseActionButton\n          v-tooltip.top=\"'Add Workflows'\"\n          icon=\"mdi-plus\"\n          color=\"secondary\"\n          no-border\n          is-flat\n          size=\"20px\"\n          class=\"q-mr-sm\"\n          @click=\"getworkflowForm(workflowFormId)\"\n        />\n      </template>\n\n      <!-- content -->\n      <div id=\"content-wrapper\">\n        <template v-for=\"task in processInfo\">\n          <div :key=\"task.id\" class=\"taskEntries\">\n            <div class=\"col-12\">\n              <div class=\"row\">\n                <div\n                  class=\"col-auto q-mr-md\"\n                  style=\"margin-top: 3px\"\n                  @click=\"getWorkflowAudit(task.requestNo)\"\n                >\n                  Request No: {{ task.requestNo }}\n                </div>\n\n                <template v-if=\"task.actionUser\">\n                  <q-chip size=\"10px\" color=\"yellow\" text-color=\"white\">\n                    {{ task.actionUser }}\n                  </q-chip>\n                </template>\n                <q-chip\n                  size=\"10px\"\n                  :color=\"getColor(task.flowStatus)\"\n                  text-color=\"white\"\n                >\n                  {{ task.flowStatus === \"0\" ? \"Open\" : \"Completed\" }}\n                </q-chip>\n              </div>\n            </div>\n\n            <div class=\"meta row\">\n              <div class=\"col-12\">\n                Raised By: {{ task.raisedBy }}\n                <BaseIcon name=\"mdi-circle-small\" />\n                Raised At: {{ $day.format(task.raisedAt) }}\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n    </Sheet>\n    <Sheet\n      v-model=\"processSheet\"\n      width=\"100vw\"\n      has-footer\n      no-padding\n      @input=\"processSheet = false\"\n    >\n      <!-- title -->\n\n      <template #title> {{ headerTitle }} </template>\n\n      <!-- ... -->\n\n      <!-- content -->\n\n      <div id=\"content-wrapper\" class=\"row\">\n        <div id=\"form-view\" class=\"col\">\n          <BaseScrollbar height=\"calc(100vh - 145px)\">\n            <RenderForm\n              :form-id=\"formIdName\"\n              :panels=\"addWorkflowForm.panels\"\n              :secondary-panels=\"addWorkflowForm.secondaryPanels\"\n              :form-settings=\"addWorkflowForm.settings\"\n              :form-model=\"formModel\"\n              :save-action.sync=\"saveAction\"\n              :workflow-form-model.sync=\"workflowFormModel\"\n            />\n          </BaseScrollbar>\n        </div>\n        <div class=\"col-auto q-mr-sm leftBorder\">\n          <template v-for=\"tab in tabs\">\n            <BaseActionButton\n              :key=\"tab.id\"\n              v-tooltip.left=\"tab.label\"\n              is-flat\n              no-border\n              :icon=\"tab.icon\"\n              color=\"primary\"\n              class=\"tabButtons\"\n              @click=\"showLinks(tab.value)\"\n            >\n              <span v-if=\"tab.count\" class=\"badge\">{{ tab.count }} </span>\n            </BaseActionButton>\n          </template>\n        </div>\n      </div>\n\n      <!-- ... -->\n    </Sheet>\n    <Modal\n      v-model=\"advancedCommentsSheet\"\n      width=\"60vw\"\n      height=\"80vh\"\n      has-footer\n      @input=\"advancedCommentsSheet = false\"\n    >\n      <!-- title -->\n\n      <template #title> Comments</template>\n\n      <!-- ... -->\n\n      <template #default>\n        <TextBuilderField v-model=\"advancedCommentText\" />\n      </template>\n\n      <template #footer>\n        <BaseButton\n          label=\"Post\"\n          icon=\"eva-paper-plane-outline\"\n          color=\"primary\"\n          @click=\"saveAdvancedComment\"\n        />\n      </template>\n    </Modal>\n\n    <EmailSharing\n      v-model=\"emailSharingSheet\"\n      :repository-id=\"repositoryId\"\n      :file-list.sync=\"selectedFileList\"\n    ></EmailSharing>\n  </div>\n</template>\n\n<script>\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\nimport RenderForm from \"@/components/common/render-form/RenderForm.vue\";\nimport CheckboxField from \"@/components/common/form/checkbox-field/CheckboxField.vue\";\nimport TextAreaField from \"@/components/common/form/text-area-field/TextAreaField.vue\";\nimport {\n  form,\n  uploadAndIndex,\n  repository,\n  user,\n  common,\n  workflow,\n  report,\n} from \"@/api/factory.js\";\nimport { omit } from \"lodash-es\";\nimport FileIcon from \"@/components/common/FileIcon.vue\";\nimport formatBytes from \"@/helpers/format-bytes.js\";\nimport { pdfSupport, htmlSupport, fileSupport } from \"@/helpers/file-format.js\";\nimport axios from \"axios\";\nimport ListItem from \"@/components/common/ListItem.vue\";\nimport TextBuilderField from \"@/components/common/form/text-builder-field/TextBuilderField.vue\";\nimport Modal from \"@/components/common/popup/Modal.vue\";\nimport { mapState } from \"vuex\";\nimport EmailSharing from \"@/components/common/EmailSharing.vue\";\n\nexport default {\n  name: \"AddTask\",\n\n  components: {\n    Sheet,\n    RenderForm,\n    FileIcon,\n    CheckboxField,\n    TextAreaField,\n    ListItem,\n    TextBuilderField,\n    Modal,\n    EmailSharing,\n  },\n\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n\n    formSettings: {\n      type: Object,\n      required: true,\n    },\n\n    panels: {\n      type: Array,\n      required: true,\n    },\n\n    secondaryPanels: {\n      type: Array,\n      default: () => [],\n    },\n\n    formId: {\n      type: Number,\n      default: 0,\n    },\n\n    taskModel: {\n      type: Object,\n      default: () => {},\n    },\n\n    mode: {\n      type: String,\n      default: \"\",\n    },\n\n    taskName: {\n      type: String,\n      default: \"\",\n    },\n\n    repositoryId: {\n      type: Number,\n      default: 0,\n    },\n\n    workflowTask: {\n      type: Boolean,\n      default: false,\n    },\n\n    taskWorkflowList: {\n      type: Array,\n      default: () => [],\n    },\n\n    selectedTask: {\n      type: Object,\n      default: () => {},\n    },\n\n    documentTask: {\n      type: Boolean,\n      default: false,\n    },\n\n    repositoryFile: {\n      type: Object,\n      default: () => {},\n    },\n  },\n\n  data() {\n    return {\n      taskWidth: \"720px\",\n      tabs: [\n        {\n          id: this.$nano.id(),\n          label: \"attachments\",\n          value: \"ATTACHMENTS\",\n          icon: \"mdi-attachment\",\n          count: 0,\n        },\n        {\n          id: this.$nano.id(),\n          label: \"comments\",\n          value: \"COMMENTS\",\n          icon: \"mdi-comment-text-outline\",\n          count: 0,\n        },\n        {\n          id: this.$nano.id(),\n          label: \"history\",\n          value: \"HISTORY\",\n          icon: \"mdi-history\",\n          count: 0,\n        },\n        {\n          id: this.$nano.id(),\n          label: \"print\",\n          value: \"PRINT\",\n          icon: \"mdi-printer\",\n          count: 0,\n        },\n      ],\n      attachmentSheet: false,\n      addTaskSheet: false,\n      taskSheet: false,\n      commentsSheet: false,\n      commentText: \"\",\n      commentsList: [],\n      selectAll: false,\n      attachmentLoad: null,\n      attachmentList: [],\n      fileSheet: false,\n      selectedFile: {},\n      actions: [],\n      workflowsSheet: true,\n      workflowList: [],\n      saveAction: \"\",\n      workflowId: 0,\n      addWorkflowForm: [],\n      workflowPanels: [],\n      form: [],\n      workflowName: \"\",\n      workflowDescription: \"\",\n      workflowFormId: 0,\n      workflowFormModel: {},\n      processId: 0,\n      transactionId: 0,\n      workflowDetails: [],\n      countWorkflow: 0,\n      processInfo: [],\n      workflowFormTaskList: {},\n      formList: {},\n      formStage: {},\n      processSheet: false,\n      formDetails: {},\n      formIdName: \"\",\n      formModel: {},\n      headerTitle: \"\",\n      advancedCommentsSheet: false,\n      advancedCommentText: \"\",\n      emailSharingSheet: false,\n      selectedFileList: [],\n    };\n  },\n\n  computed: {\n    ...mapState([\"LoadingBarPage\"]),\n\n    isMaximized() {\n      return this.taskWidth === \"100vw\";\n    },\n\n    title() {\n      if (this.mode === \"VIEW\") return \"View Task\";\n      if (this.mode === \"EDIT\") return \"Edit Task\";\n      if (this.mode === \"FORWARD\") return \"Forward Task\";\n      if (this.mode === \"COPY\") return \"Copy Task\";\n\n      return \"Add Task\";\n    },\n\n    formName() {\n      return this.formSettings.general.name;\n    },\n\n    formDescription() {\n      return this.formSettings.general.description;\n    },\n\n    selectedFileCount() {\n      let count = this.attachmentList.filter((item) => item.checked).length;\n      return count;\n    },\n\n    scrollbarHeight() {\n      const height = this.columns.length * 36;\n      return height > 216 ? \"276px\" : `${height + 58}px`;\n    },\n  },\n\n  watch: {\n    taskModel: {\n      immediate: true,\n      handler() {\n        if (this.taskModel.id) {\n          this.attachmentList = [];\n          this.getComments();\n          this.getAttachments();\n        }\n      },\n    },\n\n    workflowFormModel: {\n      deep: true,\n      immediate: true,\n      handler() {\n        if (this.workflowFormModel && this.saveAction) {\n          this.initiateRequest();\n        }\n      },\n    },\n\n    attachmentSheet: {\n      immediate: true,\n      handler() {\n        if (this.attachmentSheet && this.taskModel.id) {\n          //this.attachmentLoad = setInterval(() => this.getAttachments(), 5000);\n        } else {\n          clearInterval(this.attachmentLoad);\n        }\n      },\n    },\n  },\n\n  methods: {\n    toggleWidth() {\n      this.taskWidth = this.taskWidth === \"100vw\" ? \"720px\" : \"100vw\";\n    },\n\n    closeSheet() {\n      this.$emit(\"close\", false);\n    },\n\n    closeAttachmentsSheet() {\n      this.attachmentSheet = false;\n    },\n\n    closeAddTaskSheet() {\n      this.addTaskSheet = false;\n    },\n\n    closeTaskSheet() {\n      this.taskSheet = false;\n    },\n\n    closeCommentsSheet() {\n      this.closeCommnetsSheet = false;\n    },\n\n    getColor(label) {\n      if (label === \"0\") {\n        return \"orange\";\n      } else if (label === \"1\" || label === \"Medium\") {\n        return \"green\";\n      } else {\n        return \"primary\";\n      }\n    },\n\n    showLinks(tab) {\n      if (tab === \"ATTACHMENTS\") {\n        this.attachmentSheet = true;\n      } else if (tab === \"COMMENTS\") {\n        this.commentsSheet = true;\n      } else if (tab === \"HISTORY\") {\n        //this.$emit(\"history\", taskId);\n        this.$emit(\n          \"history\",\n          this.formList[0].value[0].processId,\n          this.formList[0].workflowId,\n          this.formList[0].value[0].requestNo\n        );\n      } else if (tab === \"PRINT\") {\n        window.print();\n      }\n    },\n\n    lastCommentDuration(comment) {\n      const date =\n        comment.createdAt instanceof Date\n          ? comment.createdAt\n          : new Date(comment.createdAt);\n      const formatter = new Intl.RelativeTimeFormat(\"en\");\n      const ranges = {\n        years: 3600 * 24 * 365,\n        months: 3600 * 24 * 30,\n        weeks: 3600 * 24 * 7,\n        days: 3600 * 24,\n        hours: 3600,\n        minutes: 60,\n        seconds: 1,\n      };\n      const secondsElapsed = (date.getTime() - Date.now()) / 1000;\n      for (let key in ranges) {\n        if (ranges[key] < Math.abs(secondsElapsed)) {\n          const delta = secondsElapsed / ranges[key];\n          return formatter.format(Math.round(delta), key);\n        }\n      }\n    },\n\n    fileSelectAll() {\n      this.attachmentList = this.attachmentList.map((item) => {\n        return {\n          ...item,\n          checked: this.selectAll,\n        };\n      });\n    },\n\n    showHistory() {\n      //this.$emit(\"history\", processId);\n    },\n\n    fileType(fileName) {\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\n      else \"\";\n    },\n\n    fileSize(size) {\n      return formatBytes(size);\n    },\n\n    fileLink() {\n      let origin = location.origin.replace(\n        \"http://localhost:8080\",\n        \"http://52.172.32.88\"\n      );\n      if (this.selectedFile.name) {\n        let ext = this.selectedFile.name.split(\".\").pop();\n        if (this.selectedFile.initiate) {\n          let domainURL = \"\";\n          if (pdfSupport(ext)) {\n            if (\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\n            ) {\n              domainURL =\n                \"https://ag-appsvc04.azurewebsites.net/web/viewer.html\";\n            } else if (origin === \"https://trial.ezofis.com\") {\n              domainURL = \"https://trial.ezofis.com/docsviewer/index.html\";\n            } else if (origin === \"https://app.ezofis.com\") {\n              domainURL =\n                \"https://ezdocsviewer.azurewebsites.net/web/viewer.html\";\n            } else {\n              domainURL = `${origin}/PDFViewer/web/viewer.html`;\n            }\n          } else if (origin === \"http://52.172.32.88\") {\n            domainURL = \"http://52.172.32.88/DocsViewer/index.html\";\n          } else {\n            return `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;\n          }\n          return `${domainURL}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`;\n        } else {\n          let domainURL = \"\";\n          if (pdfSupport(ext)) {\n            if (\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\n            ) {\n              domainURL =\n                \"https://ag-appsvc04.azurewebsites.net/web/viewer.html\";\n            } else if (origin === \"https://trial.ezofis.com\") {\n              domainURL = \"https://trial.ezofis.com/docsviewer/index.html\";\n            } else if (origin === \"https://app.ezofis.com\") {\n              domainURL =\n                \"https://ezdocsviewer.azurewebsites.net/web/viewer.html\";\n            } else {\n              domainURL = `${origin}/PDFViewer/web/viewer.html`;\n            }\n          } else if (!htmlSupport(ext) && origin === \"http://52.172.32.88\") {\n            domainURL = \"http://52.172.32.88/DocsViewer/index.html\";\n          } else {\n            return `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\n          }\n          return `${domainURL}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`;\n        }\n      }\n    },\n\n    openFile(fileObj) {\n      this.selectedFile = fileObj;\n      this.fileSheet = true;\n    },\n\n    async documentShare() {\n      this.selectedFileList = [];\n      this.attachmentList.forEach((item) => {\n        if (item.checked) {\n          this.selectedFileList.push({\n            id: item.id,\n            name: item.name,\n          });\n        }\n      });\n      this.emailSharingSheet = true;\n    },\n\n    async saveTask(fieldsModel) {\n      const unNecessaryKeys = [\n        \"itemid\",\n        \"createdBy\",\n        \"createdAt\",\n        \"modifiedBy\",\n        \"modifiedAt\",\n        \"icon\",\n        \"buttonAction\",\n        \"formId\",\n        \"status\",\n        \"color\",\n        \"link\",\n        \"selected\",\n        \"isDeleted\",\n        \"createdByEmail\",\n        \"modifiedByEmail\",\n        \"emailStatus\",\n        \"expandSubworkflow\",\n      ];\n\n      const _fieldsModel = omit(fieldsModel, unNecessaryKeys);\n      // console.log(_fieldsModel);\n\n      try {\n        this.$store.commit(\"showLoadingBarPage\");\n\n        const { id, ...payload } = _fieldsModel;\n        // console.log(id, payload);\n        let entryId = 0;\n\n        if (this.mode === \"COPY\") {\n          entryId = 0;\n        } else {\n          entryId = id || 0;\n        }\n        let input = {};\n        if (entryId) {\n          input = {\n            fields: payload,\n          };\n        } else {\n          let uploadedIdList = [];\n          if (this.attachmentList.length) {\n            this.attachmentList.forEach((file) => {\n              uploadedIdList.push(file.id);\n            });\n          }\n          input = {\n            fields: payload,\n            task: {\n              comments: this.commentsList,\n              fileIds: uploadedIdList,\n            },\n          };\n        }\n\n        const { data, error } = await form.saveFormEntry(\n          this.formId,\n          entryId,\n          input\n        );\n\n        if (this.workflowDetails.length) {\n          this.linkTaskWorkflowProcess(data.output);\n        }\n\n        if (error) {\n          this.$alert.error(error);\n          return;\n        }\n        if (id) {\n          this.$alert.success(`${this.taskName} edited successfully`);\n        } else {\n          if (this.documentTask) {\n            this.linkTaskDocument(data.output);\n          }\n          this.$alert.success(`New task added successfully`);\n        }\n        this.getUsers(input.fields);\n        this.closeSheet();\n        if (this.workflowTask || this.documentTask) {\n          this.$emit(\"addEntry\", this.formId, data.output);\n        } else {\n          this.$emit(\"refresh\", this.workflowId);\n        }\n      } catch (e) {\n        console.log(e);\n      } finally {\n        this.$store.commit(\"hideLoadingBarPage\");\n      }\n    },\n\n    async linkTaskDocument(entryId) {\n      let input = {\n        wFormId: this.formId,\n        formEntryId: entryId,\n        fileInfo: {\n          repositoryId: this.repositoryFile.repositoryId,\n          itemId: this.repositoryFile.id,\n        },\n      };\n      const { error } = await form.linkTaskDocument(input);\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n    },\n\n    async getComments() {\n      this.tabs.find((tab) => {\n        if (tab.value === \"COMMENTS\") {\n          tab.count = 0;\n        }\n      });\n      this.commentsList = [];\n      this.$store.commit(\"showLoadingBar\");\n      const { error, payload } = await form.getFormComments(\n        this.formId,\n        this.taskModel.id\n      );\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload.length) {\n        this.commentsList = payload;\n        this.tabs.find((tab) => {\n          if (tab.value === \"COMMENTS\") {\n            tab.count = this.commentsList.length;\n          }\n        });\n      }\n    },\n\n    async saveComment() {\n      if (this.commentText) {\n        if (this.taskModel.id) {\n          this.$store.commit(\"showLoadingBar\");\n          const { error } = await form.insertFormComment(\n            this.formId,\n            this.taskModel.id,\n            {\n              comments: this.commentText,\n            }\n          );\n\n          this.$store.commit(\"hideLoadingBar\");\n\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          this.commentText = \"\";\n          this.getComments();\n        } else {\n          this.commentsList.push({\n            comments: this.commentText,\n            createdAt: new Date().toISOString(),\n            createdBy: this.$store.state.session.id,\n          });\n          this.commentText = \"\";\n        }\n      }\n    },\n\n    async saveAdvancedComment() {\n      if (this.advancedCommentText) {\n        if (this.taskModel.id) {\n          this.$store.commit(\"showLoadingBar\");\n          const { error } = await form.insertFormComment(\n            this.formId,\n            this.taskModel.id,\n            {\n              comments: this.advancedCommentText,\n            }\n          );\n\n          this.$store.commit(\"hideLoadingBar\");\n\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          this.advancedCommentText = \"\";\n          this.advancedCommentsSheet = false;\n          this.getComments();\n        } else {\n          this.commentsList.push({\n            comments: this.advancedCommentText,\n            createdAt: new Date().toISOString(),\n            createdBy: this.$store.state.session.id,\n          });\n          this.advancedCommentText = \"\";\n          this.advancedCommentsSheet = false;\n        }\n      }\n    },\n\n    async uploadAttachments(e) {\n      if (this.taskModel.id) {\n        const file = e.target.files[0];\n        this.$store.commit(\"showLoadingBar\");\n        const formData = new FormData();\n        formData.append(\"formId\", this.formId);\n        formData.append(\"repositoryId\", this.repositoryId);\n        formData.append(\"entryId\", this.taskModel.id);\n        formData.append(\"file\", file);\n        let filename = e.target.files[0].name;\n        const ext = filename.split(\".\").pop();\n        if (!fileSupport(ext)) {\n          this.$alert.info(\"This file format is not supported\");\n          return;\n        }\n        try {\n          const response = await axios({\n            url: `${process.env.VUE_APP_API_URL}/form/taskAttachmentWithEntryId`,\n            method: \"POST\",\n            data: formData,\n            headers: {\n              Token: this.$store.state.identity.token,\n              Accept: \"application/json\",\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          });\n          const { status, data } = response;\n          this.$store.commit(\"hideLoadingBar\");\n          e.target.value = \"\";\n          if (status === 200 && data) this.$alert.success(`Document attached`);\n          else throw response;\n        } catch (error) {\n          this.$store.commit(\"hideLoadingBar\");\n          this.$alert.error(\"Error uploading file\");\n          console.error(error);\n        }\n        this.attachmentLoad = setInterval(() => this.getAttachments(), 5000);\n      } else {\n        this.$store.commit(\"showLoadingBar\");\n        const file = e.target.files[0];\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        formData.append(\"formId\", this.formId);\n        formData.append(\"repositoryId\", this.repositoryId);\n        let filename = e.target.files[0].name;\n        const ext = filename.split(\".\").pop();\n        if (!fileSupport(ext)) {\n          this.$alert.info(\"This file format is not supported\");\n          return;\n        }\n        try {\n          const response = await axios({\n            url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/upload`,\n            method: \"POST\",\n            data: formData,\n            headers: {\n              Token: this.$store.state.identity.token,\n              Accept: \"application/json\",\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          });\n\n          const { status, data } = response;\n          this.$store.commit(\"hideLoadingBar\");\n          e.target.value = \"\";\n          if (status !== 200) {\n            throw \"Invalid response\";\n          }\n          let filesList = JSON.parse(data);\n          this.attachmentList.push({\n            id: Number(filesList.fileId),\n            name: file.name,\n            createdAt: new Date().toISOString(),\n            createdByEmail: this.$store.state.session.email,\n            size: file.size,\n            initiate: true,\n            checked: false,\n          });\n        } catch (error) {\n          this.$store.commit(\"hideLoadingBar\");\n          console.error(error);\n          this.$alert.error(`error attaching file`);\n        }\n      }\n    },\n\n    async getAttachments() {\n      this.tabs.find((tab) => {\n        if (tab.value === \"ATTACHMENTS\") {\n          tab.count = 0;\n        }\n      });\n      let count = this.attachmentList.length;\n      this.$store.commit(\"showLoadingBar\");\n      const { error, payload } = await form.getFormAttachments(\n        this.formId,\n        this.taskModel.id\n      );\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload.length) {\n        if (count !== payload.length) {\n          this.attachmentList = payload.map((item) => {\n            return {\n              ...item,\n              checked: false,\n            };\n          });\n          clearInterval(this.attachmentLoad);\n        }\n        this.tabs.find((tab) => {\n          if (tab.value === \"ATTACHMENTS\") {\n            tab.count = this.attachmentList.length;\n          }\n        });\n      } else {\n        this.attachmentList = [];\n      }\n    },\n\n    async attachmentDelete(file) {\n      this.$store.commit(\"showLoadingBar\");\n      if (file.initiate) {\n        const { error } = await uploadAndIndex.deleteUploadedFiles([file.id]);\n        if (error) {\n          this.$alert.error(error);\n          return;\n        }\n        this.$store.commit(\"hideLoadingBar\");\n        this.attachmentList = this.attachmentList.filter(\n          (row) => row.id !== file.id\n        );\n      } else {\n        const { error } = await repository.fileDelete(\n          file.repositoryId,\n          file.id\n        );\n        if (error) {\n          this.$alert.error(error);\n          return;\n        }\n        this.$store.commit(\"hideLoadingBar\");\n        this.getAttachments();\n      }\n    },\n\n    validateRequest(action) {\n      this.saveAction = action;\n    },\n    async initiateRequest() {\n      let inputData = {};\n      inputData = {\n        workflowId: this.workflowId,\n        transactionId: 0,\n        review: this.saveAction,\n        formData: {\n          formId: this.workflowFormId,\n          formEntryId: this.form.entryCount,\n          fields: this.workflowFormModel,\n        },\n      };\n\n      this.$store.commit(\"showLoadingBarSave\");\n      const { error, payload } = await workflow.processTransaction(inputData);\n      this.$store.commit(\"hideLoadingBarSave\");\n      this.saveAction = \"\";\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.$alert.success(`${payload.requestNo} Request Initiated`);\n      this.workflowDetails.push({\n        workflowId: this.workflowId,\n        processId: payload.processId,\n        transactionId: payload.transactionId,\n      });\n\n      if (this.selectedTask.id) {\n        this.linkTaskWorkflowProcess(this.selectedTask.id);\n      }\n      this.closeAddTaskSheet();\n      this.$emit(\"refresh\", this.workflowId);\n    },\n\n    async getForm(workflow) {\n      this.workflowId = workflow.id;\n      this.headerTitle = workflow.stage;\n      this.actions = workflow.actions;\n      if (this.selectedTask.formId && this.selectedTask.id) {\n        // await this.$emit(\"WorkflowList\", this.workflowId);\n        await this.getWorkflowList(this.workflowId);\n      }\n      if (workflow.formId) {\n        this.workflowFormId = workflow.formId;\n        if (this.processInfo.length) {\n          this.countWorkflow = this.processInfo.length;\n          this.taskSheet = true;\n        } else {\n          const { error, payload } = await form.getForm(this.workflowFormId);\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          if (payload) {\n            this.form = payload;\n            this.workflowName = this.form.name;\n            this.workflowDescription = this.form.description;\n            this.addWorkflowForm = JSON.parse(payload.formJson);\n            this.workflowPanels = this.addWorkflowForm.panels;\n            this.addTaskSheet = true;\n          }\n        }\n      }\n    },\n\n    async getworkflowForm(action) {\n      this.closeTaskSheet();\n      const { error, payload } = await form.getForm(action);\n      this.workflowFormId = action;\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload) {\n        this.form = payload;\n        this.workflowName = this.form.name;\n        this.workflowDescription = this.form.description;\n        this.addWorkflowForm = JSON.parse(payload.formJson);\n        this.workflowPanels = this.addWorkflowForm.panels;\n        this.addTaskSheet = true;\n      }\n    },\n\n    async getworkflowDetailsForm(action) {\n      const { error, payload } = await form.getForm(action);\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload) {\n        this.form = payload;\n        this.workflowName = this.form.name;\n        this.workflowDescription = this.form.description;\n        this.addWorkflowForm = JSON.parse(payload.formJson);\n        this.workflowPanels = this.addWorkflowForm.panels;\n        this.processSheet = true;\n        this.$store.commit(\"hideLoadingBarPage\");\n      }\n    },\n\n    async linkTaskWorkflowProcess(taskFormEntryId) {\n      let inputData = {};\n      inputData = {\n        wFormId: this.formId,\n        formEntryId: taskFormEntryId,\n        workflow: this.workflowDetails,\n      };\n      const { error } = await form.linkTaskWorkflowProcess(inputData);\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n    },\n\n    async getWorkflowList(workflowId) {\n      let inputData = {};\n      inputData = {\n        wId: workflowId,\n        fId: this.selectedTask.formId,\n        entryId: this.selectedTask.id,\n      };\n      const { error, payload } = await form.getWorkflowTaskList(\n        workflowId,\n        this.selectedTask.formId,\n        this.selectedTask.id,\n        inputData\n      );\n      this.workflowFormTaskList = payload;\n      if (payload.processInfo) {\n        this.processInfo = payload.processInfo;\n      }\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n    },\n\n    async getWorkflowAudit(id) {\n      this.$store.commit(\"showLoadingBarPage\");\n      const { error, payload } = await report.getWorkflowData(this.workflowId, {\n        filterBy: [\n          {\n            groupCondition: \"\",\n            filters: [\n              {\n                criteria: \"requestNo\",\n                condition: \"IS_EQUALS_TO\",\n                value: id,\n              },\n            ],\n          },\n        ],\n        currentPage: 1,\n        itemsPerPage: 10,\n        mode: \"\",\n      });\n      const { data, meta } = payload;\n      this.formList = data || {};\n      this.formStage = meta;\n      if (this.formList[0].value[0].formData) {\n        let keys = Object.keys(this.formList[0].value[0].formData.fields);\n        let newValues = {};\n        keys.forEach((key) => {\n          newValues[key] = this.validateTypeValue(\n            this.formList[0].value[0].formData.fields[key]\n          );\n        });\n        this.formModel = newValues;\n      }\n      this.headerTitle = `${this.formList[0].value[0].name}`;\n      this.formIdName = String(this.formList[0].value[0].formData.formId);\n      this.getworkflowDetailsForm(this.formIdName);\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n    },\n    validateTypeValue(value) {\n      if (value) {\n        try {\n          var jsonConvert = JSON.parse(value);\n          if (typeof jsonConvert === \"object\") {\n            return jsonConvert;\n          }\n        } catch (e) {\n          return value;\n        }\n      }\n      return value;\n    },\n\n    async getUsers(input) {\n      const { error, payload } = await user.getUserList();\n      if (error) {\n        this.$alert.error(\"Error fetching users\");\n        return;\n      }\n      let data = {\n        id: 0,\n        title: input[\"e_NFnW0JxrLpZxqPeJS7K\"],\n        status: input[\"11m7YRT-7kdLx-g6iGojc\"],\n        remarks: input[\"2XOJMCR_DVb-5TwVPVdEX\"],\n        category: \"TASK\",\n        createdBy: input[\"pM6Vly-JRlfroRrziE1jr\"],\n        lastActionBy: this.$store.state.session.email,\n      };\n      const userEmail = data.createdBy;\n      const matchedUser = payload.filter((user) =>\n        userEmail.includes(user.value)\n      );\n      const userIds = matchedUser.map((user) => user.id);\n      userIds.forEach((userId) => {\n        const newData = { ...data, createdBy: userId }; // Create a new object with a different ID\n        this.insertNotification(newData);\n      });\n      console.log(\"email\", matchedUser, userIds);\n    },\n\n    async insertNotification(input) {\n      const { error } = await common.insertNotification(input);\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      //this.$alert.success(\"Notification inserted succesfully\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#sheet {\n  .badge {\n    -webkit-border-radius: 9px;\n    -moz-border-radius: 9px;\n    border-radius: 9px;\n    font-size: 12px;\n    background: $primary;\n    color: #fff;\n    padding: 0 5px;\n    vertical-align: top;\n    margin-top: -30px;\n    margin-right: -20px;\n    position: absolute;\n    z-index: 1;\n  }\n\n  .leftBorder {\n    border-left: 1px solid var(--divider-color);\n  }\n\n  #action-btn.tabButtons {\n    height: 52px;\n    width: 52px;\n  }\n}\n\n#sheet .attachmentList {\n  padding: 12px;\n  border-bottom: 1px solid var(--divider-color);\n  &:hover {\n    cursor: pointer;\n    background: #e0f7fa;\n  }\n\n  // &:not(:last-child) {\n  //   border-bottom: 1px solid var(--divider-color);\n  // }\n\n  &.is-selected.mini-mode::after {\n    content: \"\";\n    position: absolute;\n    right: 0;\n    top: 10px;\n    width: 4px;\n    height: 75%;\n    background-color: var(--secondary);\n    border-radius: 4px 0px 0px 4px;\n  }\n\n  .thumbnail {\n    height: 80px;\n    width: 80px;\n    border: 1px solid var(--divider-color);\n    border-radius: 4px 0px 0px 4px;\n  }\n\n  .avatar {\n    width: 48px;\n    height: 48px;\n  }\n\n  .mini-avatar {\n    width: 18px;\n    height: 18px;\n  }\n\n  .title {\n    font-weight: 600;\n    margin-bottom: 6px;\n    display: flex;\n    align-items: center;\n  }\n\n  .meta {\n    @extend .text-sm;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    color: var(--icon-color-inverted);\n  }\n}\n\n#sheet .attachmentFileHeader {\n  display: flex;\n  align-items: center;\n  text-transform: none !important;\n  .avatar {\n    width: 36px;\n    height: 36px;\n  }\n\n  .filename {\n    font-size: 16px !important;\n  }\n\n  .meta {\n    @extend .text-sm;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    color: var(--icon-color-inverted);\n    font-weight: normal !important;\n  }\n}\n\n#sheet .attachmentFileFrame {\n  min-height: calc(100vh - 61px);\n  background-color: var(--body-bg-color);\n  display: flex;\n\n  .file-list {\n    flex: 1;\n  }\n\n  .aside {\n    width: 380px;\n    background-color: var(--component-bg-color);\n  }\n\n  #file-frame {\n    width: 100%;\n    height: 100%;\n  }\n\n  .footer {\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    left: 0;\n    bottom: 16px;\n    width: 100%;\n\n    .label {\n      @extend .text-sm;\n      color: var(--icon-color-inverted);\n      margin-right: 4px;\n    }\n\n    img {\n      height: 16px;\n      width: auto;\n    }\n  }\n}\n\n#sheet {\n  #task-form-view {\n    .footer {\n      margin-top: 24px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: fixed;\n      left: 0;\n      bottom: 16px;\n      width: 100%;\n\n      .label {\n        @extend .text-sm;\n        color: var(--icon-color-inverted);\n        margin-right: 4px;\n      }\n\n      img {\n        height: 16px;\n        width: auto;\n      }\n    }\n  }\n}\n\n#sheet .attachmentList,\n#sheet .taskEntries,\n#sheet .checkList {\n  padding: 12px;\n  border-bottom: 1px solid var(--divider-color);\n  &:hover {\n    cursor: pointer;\n    background: #e0f7fa;\n  }\n\n  // &:not(:last-child) {\n  //   border-bottom: 1px solid var(--divider-color);\n  // }\n\n  &.is-selected.mini-mode::after {\n    content: \"\";\n    position: absolute;\n    right: 0;\n    top: 10px;\n    width: 4px;\n    height: 75%;\n    background-color: var(--secondary);\n    border-radius: 4px 0px 0px 4px;\n  }\n\n  .thumbnail {\n    height: 80px;\n    width: 80px;\n    border: 1px solid var(--divider-color);\n    border-radius: 4px 0px 0px 4px;\n  }\n\n  .avatar {\n    width: 48px;\n    height: 48px;\n  }\n\n  .mini-avatar {\n    width: 18px;\n    height: 18px;\n  }\n\n  .title {\n    font-weight: 600;\n    margin-bottom: 6px;\n    display: flex;\n    align-items: center;\n  }\n\n  .meta {\n    @extend .text-sm;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    color: var(--icon-color-inverted);\n  }\n\n  #avatar {\n    height: 18px;\n    width: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: $secondary;\n    border-radius: 100%;\n    border: 1px solid;\n  }\n\n  .chips {\n    cursor: pointer;\n    background-color: #fff !important;\n    font-size: 12px !important;\n\n    &.small {\n      width: 75px;\n    }\n\n    &.medium {\n      width: 95px;\n    }\n  }\n\n  .primary-hover:hover {\n    background: $primary-2 !important;\n  }\n\n  .secondary-hover:hover {\n    background: $secondary-2 !important;\n  }\n\n  .green-hover:hover {\n    background: $green-2 !important;\n  }\n\n  .orange-hover:hover {\n    background: $orange-2 !important;\n  }\n\n  .red-hover:hover {\n    background: $red-2 !important;\n  }\n\n  .grey-hover:hover {\n    background: $grey-2 !important;\n  }\n}\n\n#sheet {\n  #action-btn.commentAction {\n    height: 32px !important;\n    width: 32px !important;\n  }\n}\n\n#sheet .hint {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 5px;\n  cursor: pointer;\n  border: 2px dotted;\n  border-radius: 10px;\n  background-color: #e0ebfa26;\n  padding: 5px;\n\n  .icon {\n    color: var(--body-text-color-inverted);\n  }\n\n  .title {\n    @extend .title-2;\n    font-weight: bold;\n    margin-bottom: 2px;\n  }\n\n  .description {\n    color: var(--icon-color);\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddTask.vue?vue&type=template&id=0b56d901&scoped=true&\"\nimport script from \"./AddTask.vue?vue&type=script&lang=js&\"\nexport * from \"./AddTask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddTask.vue?vue&type=style&index=0&id=0b56d901&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b56d901\",\n  null\n  \n)\n\nexport default component.exports\nimport QMenu from 'quasar/src/components/menu/QMenu.js';\nimport QChatMessage from 'quasar/src/components/chat/QChatMessage.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport qInstall from \"../../../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QMenu,QChatMessage,QAvatar,QChip});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({ width: _vm.portalWidth }),attrs:{\"id\":\"portals-access\"}},[_c('div',{staticClass:\"row portal-header\"},[(_vm.isLogoRequired)?_c('div',{staticClass:\"col-auto logo q-pa-md\"},[_c('img',{attrs:{\"src\":_vm._logo,\"height\":_vm.logoHeight}})]):_vm._e(),_c('div',{staticClass:\"header col\"},[_c('div',{staticClass:\"col text-center\"},[_c('div',{staticClass:\"title-1\"},[_vm._v(_vm._s(_vm.title))])]),_c('ThemeSwitcher',{staticClass:\"q-ml-sm\",attrs:{\"no-border\":false}}),_c('BaseActionButton',{staticClass:\"q-ml-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"eva-power-outline\",\"no-border\":\"\"},on:{\"click\":_vm.logOut}})],1)]),_c('Sheet',{attrs:{\"width\":\"100vw\",\"has-footer\":\"\",\"no-padding\":\"\"},on:{\"input\":function($event){_vm.processSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.headerTitle)+\" \")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.workflow.initiatedBy !== 'DOCUMENT')?[(_vm.mandatory.filledValue || _vm.mandatory.nonFilledValue)?[_c('q-circular-progress',{staticClass:\"q-mr-sm\",attrs:{\"show-value\":\"\",\"font-size\":\"12px\",\"value\":_vm.mandatoryFilling,\"size\":\"lg\",\"thickness\":0.22,\"color\":\"primary\",\"track-color\":\"grey-3\"}},[_vm._v(\" \"+_vm._s(_vm.mandatoryFilling)+\"% \")])]:_vm._e(),(_vm.mandatory.filledValue)?_c('div',{staticClass:\"chip-success q-mr-sm\"},[_c('div',{},[_vm._v(_vm._s(_vm.mandatory.filledValue)+\" ready\")])]):_vm._e(),(_vm.mandatory.nonFilledValue)?_c('div',{staticClass:\"chip-warning\",on:{\"click\":_vm.checkFormValidation}},[_c('div',{},[_vm._v(_vm._s(_vm.mandatory.nonFilledValue)+\" need to work\")])]):_vm._e()]:_vm._e(),(_vm.mandatoryDocument.length)?[_c('div',{staticClass:\"chip-warning cursor-pointer\",on:{\"click\":function($event){_vm.attachmentSheet = true}}},[_c('div',{},[_vm._v(_vm._s(_vm.mandatoryDocument.length)+\" document required\")])])]:_vm._e(),(\n          !_vm.formView &&\n          Object.keys(_vm.selectedProcess).length &&\n          _vm.actions.length === 0\n        )?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Form View'),expression:\"'Form View'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":'mdi-form-select'},on:{\"click\":function($event){_vm.formView = true}}}):(\n          Object.keys(_vm.selectedProcess).length && _vm.actions.length === 0\n        )?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Details View'),expression:\"'Details View'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":'mdi-table-column'},on:{\"click\":function($event){_vm.formView = false}}}):_vm._e()]},proxy:true},(_vm.actions.length)?{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-ml-md\",attrs:{\"label\":\"Save\",\"color\":\"secondary\"},on:{\"click\":function($event){{\n            _vm.btnAction = true;\n            _vm.saveAction = 'Save';\n          }}}}),_vm._l((_vm.actions),function(action){return [_c('BaseButton',{key:action,staticClass:\"q-ml-md col-auto\",attrs:{\"label\":action},on:{\"click\":function($event){{\n              _vm.btnAction = true;\n              _vm.saveAction = action;\n            }}}})]})]},proxy:true}:null],null,true),model:{value:(_vm.processSheet),callback:function ($$v) {_vm.processSheet=$$v},expression:\"processSheet\"}},[_c('div',{staticClass:\"row\",attrs:{\"id\":\"content-wrapper\"}},[(_vm.formId)?_c('div',{staticClass:\"col\",attrs:{\"id\":\"form-view\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 145px)\"}},[_c('RenderForm',{attrs:{\"form-id\":_vm.formId,\"panels\":_vm.panels,\"secondary-panels\":_vm.secondaryPanels,\"form-settings\":_vm.formSettings,\"form-model\":_vm.formModel,\"workflow-actions\":[],\"save-action\":_vm.saveAction,\"workflow-form-model\":_vm.workflowFormModel,\"workflow-model\":_vm.workflowModel,\"is-readonly\":_vm.formEditAccess,\"form-edit-controls\":_vm.formEditControls,\"readonly-controls\":_vm.readonlyControls,\"form-visibility-access\":_vm.formVisibilityAccess,\"form-secure-controls\":_vm.formSecureControls,\"enable-controls\":_vm._enableControls,\"form-upload-files\":_vm.formUploadFiles,\"has-check-form-validate\":_vm.hasCheckFormValidate,\"ocr-result\":_vm.ocrResult,\"check-list\":_vm.checkList},on:{\"update:saveAction\":function($event){_vm.saveAction=$event},\"update:save-action\":function($event){_vm.saveAction=$event},\"update:workflowFormModel\":function($event){_vm.workflowFormModel=$event},\"update:workflow-form-model\":function($event){_vm.workflowFormModel=$event},\"update:workflowModel\":function($event){_vm.workflowModel=$event},\"update:workflow-model\":function($event){_vm.workflowModel=$event},\"update:hasCheckFormValidate\":function($event){_vm.hasCheckFormValidate=$event},\"update:has-check-form-validate\":function($event){_vm.hasCheckFormValidate=$event},\"update:checkList\":function($event){_vm.checkList=$event},\"update:check-list\":function($event){_vm.checkList=$event},\"uploadFiles\":_vm.getOCRResult,\"mandatoryControlsList\":_vm.mandatoryControlsList,\"deletedFiles\":_vm.deletedFiles}})],1)],1):_vm._e(),_c('div',{staticClass:\"col-auto q-mr-sm leftBorder\"},[_vm._l((_vm.tabs),function(tab){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showLinks(tab.value)}}},[(tab.count)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(tab.count)+\" \")]):_vm._e()])]})],2)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"q-pa-sm\"},[(_vm.workflowId && _vm.trackRequest)?_c('div',[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 160px)'\"}},[_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"toggle-btn justify-center row items-center q-pr-md\"},[_c('div',{staticClass:\"col-auto q-mr-sm q-ml-sm q-pl-sm q-pr-sm\",class:[\n                  _vm.inbox ? 'active-btn' : '',\n                  _vm.darkTheme ? 'custom-tab' : '',\n                ],on:{\"click\":function($event){return _vm.getlist(true)}}},[_vm._v(\" Application Received \"),(_vm.inboxCount)?_c('span',{staticClass:\"data-count\"},[_vm._v(_vm._s(_vm.inboxCount))]):_vm._e()]),_c('div',{staticClass:\"col q-mr-sm q-ml-md q-pl-sm q-pr-sm\",class:[\n                  !_vm.inbox ? 'active-btn' : '',\n                  _vm.darkTheme ? 'custom-tab' : '',\n                ],on:{\"click\":function($event){return _vm.getlist(false)}}},[_vm._v(\" All Applications \"),(_vm.processCount)?_c('span',{staticClass:\"data-count\"},[_vm._v(\" \"+_vm._s(_vm.processCount)+\" \")]):_vm._e()])]),_c('q-space'),_c('div',{staticClass:\"col-auto q-mr-sm\"},[(_vm.initiate)?_c('BaseButton',{attrs:{\"label\":\"Submit your request\"},on:{\"click\":_vm.openNewRequest}}):_vm._e()],1),_c('div',{staticClass:\"col-auto q-mt-xs\"},[_c('div',{attrs:{\"id\":\"global-search\"}},[_c('BaseIcon',{attrs:{\"name\":\"eva-search\"}}),_c('div',{staticClass:\"label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"searchQuery\",staticClass:\"q-px-xs\",attrs:{\"type\":\"text\",\"placeholder\":\"Search request...\"},domProps:{\"value\":(_vm.search)},on:{\"keyup\":function($event){return _vm.searchList()},\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})])],1)]),_c('div',{staticClass:\"col-auto q-ml-xs\"},[_c('PortalFilterItems',{attrs:{\"item\":\"proces\",\"columns\":_vm._columns,\"filter-by\":_vm.filterBy,\"selected-filter\":_vm.selectedFilter},on:{\"update:filterBy\":function($event){_vm.filterBy=$event},\"update:filter-by\":function($event){_vm.filterBy=$event},\"update\":_vm.getWorkflowData,\"refresh\":_vm.getRequestList}})],1),_c('div',{staticClass:\"col-auto q-ml-xs\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Refresh'),expression:\"'Refresh'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-refresh\",\"color\":\"gray\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":_vm.getRequestList}})],1),_c('div',{staticClass:\"col-auto q-ml-xs q-mr-md\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Export'),expression:\"'Export'\",modifiers:{\"top\":true}}],attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":\"mdi-table-arrow-right\"},on:{\"click\":_vm.export_Data}})],1)],1),_c('div',{staticClass:\"subdetcontent\"},[(_vm.loadingBarContent)?_c('BaseLoadingBarSheet',{staticClass:\"loading-content\"}):_vm._e(),_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 180px)\"}},[_c('PortalList',{attrs:{\"items\":_vm._items,\"columns\":_vm._columns,\"form\":_vm.form,\"list\":_vm.workflowRequestList,\"process-level\":_vm.processLevel,\"form-view\":_vm.formView,\"workflow\":_vm.workflow},on:{\"update:formView\":[function($event){_vm.formView=$event},_vm.handleFormViewUpdate],\"update:form-view\":function($event){_vm.formView=$event},\"actions\":_vm.showLinks,\"subactions\":_vm.showSubLinks,\"open\":_vm.openProcess,\"opensubprocess\":_vm.openSubProcess,\"viewFile\":_vm.openFile}})],1)],1),(false)?_c('Pagination',{staticClass:\"portal\",attrs:{\"total-items\":_vm.totalItems,\"current-page\":_vm.currentPage,\"items-per-page\":_vm.itemsPerPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}}}):_vm._e()],1)],1):_vm._e()])]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"sub-actions\":_vm.checkListTemplate,\"sub-actions-height\":105,\"upload\":_vm.uploadAccess},on:{\"input\":_vm.closeAttachmentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Attachments \")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.selectedProcess.processId)?_c('div',{staticClass:\"q-ml-sm text-gray q-mr-sm ellipsis\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\" auto-refresh every 15 seconds \")]):_vm._e(),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-xs\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getAttachments(0)}}})]},proxy:true},(_vm.uploadAccess)?{key:\"upload\",fn:function(){return [_c('div',{staticClass:\"hint\",on:{\"click\":function($event){{\n            _vm.rowIndex = null;\n            _vm.$refs.attachments.click();\n          }}}},[_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-cloud-upload-outline\",\"size\":\"32px\",\"color\":\"blue\"}}),_c('div',{staticClass:\"title text-blue\"},[_vm._v(\"UPLOAD FILES\")]),_c('div',{staticClass:\"description\"},[_vm._v(\"Click here to choose files and upload\")])],1)]},proxy:true}:null,{key:\"subActions\",fn:function(){return [_c('div',{staticClass:\"q-mt-sm\"},[_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"q-mt-xs\"},[_vm._v(\"Checklist Documents\")]),_c('q-space'),_c('div',{on:{\"click\":_vm.downloadAll}},[_c('q-chip',{staticClass:\"chips grey-hover large\",attrs:{\"outline\":\"\",\"color\":\"grey\"}},[_vm._v(\" Download All \")])],1)],1),_c('div',{staticClass:\"row q-mb-md description text-sm text-grey\"},[_vm._v(\" It can be useful to ensure that all necessary information and supporting documents are included when submitting a claim \")])])]},proxy:true}],null,true),model:{value:(_vm.attachmentSheet),callback:function ($$v) {_vm.attachmentSheet=$$v},expression:\"attachmentSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 210px)\"}},[_c('input',{ref:\"attachments\",staticClass:\"hidden\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.uploadWflowAttachments}}),_vm._l((_vm.checkList),function(row){return [(row.name && (!row.hasOwnProperty('visible') || row.show))?[(!row.attach)?_c('div',{key:row.uid,staticClass:\"checkList\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{attrs:{\"name\":\"mdi-file-check-outline\",\"color\":\"primary\"}})],1),_c('div',{staticClass:\"col q-ml-sm\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\" \"+_vm._s(row.name)+\" \")]),(row.required)?_c('div',{staticClass:\"col-12 q-mt-sm\"},[_c('q-chip',{staticClass:\"chips small\",attrs:{\"outline\":\"\",\"color\":\"red\"}},[_vm._v(\" Required \")])],1):_vm._e()])]),_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"col-12\",on:{\"click\":function($event){return _vm.attachTemplate(row.uid)}}},[_c('q-chip',{staticClass:\"chips primary-hover medium\",attrs:{\"outline\":\"\",\"color\":\"primary\"}},[_c('q-avatar',{staticClass:\"q-mr-sm\",attrs:{\"icon\":\"eva-upload-outline\",\"color\":\"primary\",\"text-color\":\"white\"}}),_vm._v(\" Upload \")],1)],1),(row.template)?_c('div',{staticClass:\"col-12\",on:{\"click\":function($event){return _vm.download(row.id)}}},[_c('q-chip',{staticClass:\"chips secondary-hover medium\",attrs:{\"outline\":\"\",\"color\":\"secondary\"}},[_c('q-avatar',{staticClass:\"q-mr-sm\",attrs:{\"icon\":\"eva-download-outline\",\"color\":\"secondary\",\"text-color\":\"white\"}}),_vm._v(\" Download \")],1)],1):_vm._e()])])]):_vm._e()]:_vm._e()]}),_vm._l((_vm.attachmentList),function(file){return [_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\",class:_vm.checkTenant ? 'cursor-pointer' : ''},[(_vm.selectedProcess.processId)?_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":file.checked\n                      ? 'eva-checkmark-circle-2'\n                      : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":function($event){file.checked = !file.checked}}})],1):_vm._e(),_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),(_vm.checkTenant)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1):_vm._e()]),(file.formJsonId)?_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto ellipsis attachment-label\"},[_vm._v(\" \"+_vm._s(_vm.getLabel(file.formJsonId))+\" \")])]):_vm._e(),_c('div',{staticClass:\"meta row\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.createdBy)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(file.createdByEmail))])]:_vm._e()],2)])]})],2),_c('div',{staticClass:\"q-mt-xs defaultBottom\"},[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-medium\",\"color\":\"red\"}}),_vm._v(\" Required Documents \")],1)],1)]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"height\":\"80vh\",\"custom-height\":\"30\"},on:{\"input\":_vm.closeCommentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments \")]},proxy:true}]),model:{value:(_vm.commentsSheet),callback:function ($$v) {_vm.commentsSheet=$$v},expression:\"commentsSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 155px)\"}},[_vm._l((_vm.commentsList),function(row,idx){return [_c('q-chat-message',{key:idx,staticClass:\"q-ma-sm\",attrs:{\"name\":row.createdBy === _vm.$store.state.session.id\n                ? 'me'\n                : row.createdByEmail,\"text\":[row.comments],\"text-html\":\"\",\"sent\":row.createdBy === _vm.$store.state.session.id,\"stamp\":_vm.lastCommentDuration(row),\"bg-color\":row.createdBy === _vm.$store.state.session.id\n                ? 'primary-1'\n                : 'secondary-2'}})]})],2)],1),_c('div',{staticClass:\"col q-pa-sm borderTop\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TextAreaField',{attrs:{\"auto-focus\":\"\",\"placeholder\":\"Type a new comment...\"},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}})],1),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin\":\"auto\"}},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Post Comments'),expression:\"'Post Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm commentAction\",attrs:{\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary-11\",\"size\":\"16px\",\"rotate-class\":\"rotate-45\"},on:{\"click\":_vm.saveComment}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Advanced Comments'),expression:\"'Advanced Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm q-mt-sm commentAction\",attrs:{\"icon\":\"mdi-comment-text-multiple\",\"color\":\"primary-11\",\"size\":\"16px\"},on:{\"click\":function($event){_vm.advancedCommentsSheet = true}}})],1)])])]),_c('Sheet',{attrs:{\"no-padding\":\"\",\"width\":\"100vw\"},on:{\"input\":function($event){_vm.fileSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"attachmentFileHeader\"},[(_vm.selectedFile.formJsonId)?[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip:green.bottom\",value:(_vm.getLabel(_vm.selectedFile.formJsonId)),expression:\"getLabel(selectedFile.formJsonId)\",arg:\"green\",modifiers:{\"bottom\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"mdi-form-select\",\"color\":\"primary\"}})]:_vm._e(),_c('div',{staticClass:\"avatar q-ml-sm\"},[_c('FileIcon',{attrs:{\"mime-type\":_vm.fileType(_vm.selectedFile.name)}})],1),_c('div',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"filename\"},[_vm._v(\" \"+_vm._s(_vm.selectedFile.name)+\" \")]),_c('div',{staticClass:\"meta\"},[(_vm.selectedFile.createdAt)?[_c('div',[_vm._v(\" Archived At: \"+_vm._s(_vm.$day.format(_vm.selectedFile.createdAt))+\" \")]),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}})]:_vm._e(),(_vm.selectedFile.createdByEmail)?[_c('div',[_vm._v(\"Archived By: \"+_vm._s(_vm.selectedFile.createdByEmail))])]:_vm._e(),(_vm.selectedFile.size)?_c('div',[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" File Size: \"+_vm._s(_vm.fileSize(_vm.selectedFile.size))+\" \")],1):_vm._e()],2)])],2)]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Actions'),expression:\"'Actions'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"eva-menu\"}},[_c('q-menu',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"anchor\":\"bottom end\",\"self\":\"top right\"}},[_c('BaseScrollbar',{staticClass:\"q-pb-sm\",attrs:{\"width\":\"240px\"}},_vm._l((_vm.documentActionList),function(action){return _c('ListItem',{key:action.id,attrs:{\"icon\":action.icon,\"label\":action.label},on:{\"click\":function($event){return _vm.documentAction(action)}}})}),1)],1)],1)]},proxy:true}]),model:{value:(_vm.fileSheet),callback:function ($$v) {_vm.fileSheet=$$v},expression:\"fileSheet\"}},[_c('div',{staticClass:\"attachmentFileFrame\"},[_c('div',{staticClass:\"file-list\"},[_c('iframe',{ref:\"myFiles\",attrs:{\"id\":\"file-frame\",\"src\":_vm.fileLink(),\"frameborder\":\"0\"}})])])]),_c('Confirm',{attrs:{\"icon\":\"eva-checkmark-circle-2\",\"icon-color\":\"green\",\"size\":\"24px\"},on:{\"input\":function($event){{\n        _vm.successModalClaim = false;\n        _vm.refNo = '';\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Claim Registered!\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md text-lg\"},[_c('p',[_vm._v(\" Thank for submitting your Involuntary Unemployment claim to PSG. \")]),_c('p',[_vm._v(\" Your reference number is\"),_c('span',{staticClass:\"text-primary\"},[_vm._v(\" \\\"\"),_c('b',[_vm._v(_vm._s(_vm.refNo)+\"\\\"\")]),_vm._v(\". \")])]),_c('p',{staticClass:\"text-secondary\"},[_vm._v(\" We have sent a link to the email address you provided which allows you to track your claim. \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Close\",\"color\":\"primary\"},on:{\"click\":function($event){{\n            _vm.successModalClaim = false;\n            _vm.refNo = '';\n            _vm.processSheet = false;\n          }}}})]},proxy:true}]),model:{value:(_vm.successModalClaim),callback:function ($$v) {_vm.successModalClaim=$$v},expression:\"successModalClaim\"}}),_c('Confirm',{attrs:{\"icon\":\"eva-checkmark-circle-2\",\"icon-color\":\"green\",\"size\":\"24px\"},on:{\"input\":function($event){{\n        _vm.successModal = false;\n        _vm.refNo = '';\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Request Registered!\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md text-lg\"},[_c('p',[_vm._v(\"Thank for submitting your Request.\")]),_c('p',[_vm._v(\" Your reference number is\"),_c('span',{staticClass:\"text-primary\"},[_vm._v(\" \\\"\"),_c('b',[_vm._v(_vm._s(_vm.refNo)+\"\\\"\")]),_vm._v(\". \")])]),_c('p',{staticClass:\"text-secondary\"},[_vm._v(\" We have sent a link to the email address you provided which allows you to track your request. \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Close\",\"color\":\"primary\"},on:{\"click\":function($event){{\n            _vm.successModal = false;\n            _vm.refNo = '';\n            _vm.processSheet = false;\n          }}}})]},proxy:true}]),model:{value:(_vm.successModal),callback:function ($$v) {_vm.successModal=$$v},expression:\"successModal\"}}),_c('Confirm',{attrs:{\"icon\":\"mdi-file-alert\",\"icon-color\":\"red\"},on:{\"input\":_vm.closeDocumentAlertModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Documents Required!\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md text-md\"},[_c('p',[_vm._v(\" Are you sure you want to submit the claim registration without attaching the required documents. \")]),_c('p',{staticClass:\"text-secondary\"},[_vm._v(\" After registration, you will get the link to track your claim.\"),_c('br'),_vm._v(\"From there, you can upload the required documents once you have them. \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"no\"},on:{\"click\":_vm.closeDocumentAlertModal}}),_c('BaseButton',{attrs:{\"label\":\"yes\",\"color\":\"primary\"},on:{\"click\":_vm.initiateRequest}})]},proxy:true}]),model:{value:(_vm.documentAlertModal),callback:function ($$v) {_vm.documentAlertModal=$$v},expression:\"documentAlertModal\"}}),_c('Confirm',{attrs:{\"icon\":\"mdi-file-alert\",\"icon-color\":\"red\"},on:{\"input\":_vm.closeAlertModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Documents Required!\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md text-md\"},[_c('p',[_vm._v(\" Are you sure you want to submit the request without attaching the required documents. \")]),_c('p',{staticClass:\"text-secondary\"},[_vm._v(\" After registration, you will get the link to track your request.\"),_c('br'),_vm._v(\"From there, you can upload the required documents once you have them. \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"no\"},on:{\"click\":_vm.closeAlertModal}}),_c('BaseButton',{attrs:{\"label\":\"yes\",\"color\":\"primary\"},on:{\"click\":_vm.initiateRequest}})]},proxy:true}]),model:{value:(_vm.alertModal),callback:function ($$v) {_vm.alertModal=$$v},expression:\"alertModal\"}}),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\",\"has-footer\":\"\"},on:{\"input\":function($event){_vm.advancedCommentsSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments\")]},proxy:true},{key:\"default\",fn:function(){return [_c('TextBuilderField',{model:{value:(_vm.advancedCommentText),callback:function ($$v) {_vm.advancedCommentText=$$v},expression:\"advancedCommentText\"}})]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Post\",\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary\"},on:{\"click\":_vm.saveAdvancedComment}})]},proxy:true}]),model:{value:(_vm.advancedCommentsSheet),callback:function ($$v) {_vm.advancedCommentsSheet=$$v},expression:\"advancedCommentsSheet\"}}),_c('MetaDataEdit',{attrs:{\"value\":_vm.showMetaDataEditModal,\"file\":_vm.workflow,\"repository-field\":_vm.repositoryField,\"file-data\":_vm.fileData,\"title\":\"Index\",\"columns\":_vm._columns,\"modal-value\":_vm.workflowModel,\"upload-filename\":_vm.uploadFilename},on:{\"close\":_vm.closeMetaDataEditModal,\"save\":_vm.saveMetaData}}),(_vm.historyProcessId)?_c('ProcessHistory',{attrs:{\"process-id\":_vm.historyProcessId,\"selected-process\":_vm.selectedProcess},on:{\"close\":function($event){_vm.historyProcessId = 0}}}):_vm._e(),_c('SubWorkflowProcess',{attrs:{\"workflow-id\":_vm.subWorkflowId || _vm.subProcessData.id,\"main-workflow-id\":_vm.workflow.id,\"main-process-id\":_vm.selectedProcess.processId,\"selected-process\":_vm.subProcessData,\"open-sub-process\":_vm.openSubProcessSheet,\"portal\":true},on:{\"closeProcessSheet\":_vm.closeSubProcess}}),(_vm.showAttachmentSheet)?_c('Attachments',{attrs:{\"value\":_vm.showAttachmentSheet,\"selected-process\":_vm.selectedProcess,\"workflow\":_vm.workflow,\"selected-node\":_vm.selectedNode,\"initiate-process\":_vm.initiate,\"form-check-list\":false,\"check-list\":_vm.checkList,\"wform\":_vm.form,\"repository-details\":_vm.repositoryDetails,\"workflow-model\":_vm.workflowModel,\"form-upload-files\":_vm.formUploadFiles,\"repository-field\":_vm.repositoryField,\"columns\":_vm.columns,\"attachments\":_vm.attachmentList,\"workflow-id\":_vm.workflow.id,\"is-portal\":true},on:{\"update:value\":function($event){_vm.showAttachmentSheet=$event},\"update:attachments\":function($event){_vm.attachmentList=$event},\"attachmentCount\":_vm.attachmentCount}}):_vm._e(),(_vm.showCommentsSheet)?_c('Comments',{attrs:{\"value\":_vm.showCommentsSheet,\"selected-process\":_vm.selectedProcess,\"workflow\":_vm.workflow,\"selected-node\":_vm.selectedNode,\"initiate-process\":_vm.initiate,\"attachment-list\":_vm.attachmentList,\"workflow-id\":_vm.workflow.id,\"file-names\":[],\"comments\":_vm.commentsList,\"display-internal-public\":false,\"is-portal\":true},on:{\"update:value\":function($event){_vm.showCommentsSheet=$event},\"update:comments\":function($event){_vm.commentsList=$event},\"commentsCount\":_vm.commentsCount}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('filter'),expression:\"'filter'\",modifiers:{\"top\":true}}],attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":\"eva-funnel-outline\",\"color\":_vm.activeFilter ? 'secondary' : 'gray'},on:{\"click\":function($event){_vm.model = true}}},[_c('Sheet',{attrs:{\"width\":\"720px\",\"has-footer\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Filter \"+_vm._s(_vm.item)+\"s \")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-pa-md\",attrs:{\"id\":\"filters\"}},[_c('div',{staticClass:\"description\"},[_vm._v(\" Define filters to find exactly what you are looking for. Filters can be included or excluded. You can also add multiple filter groups. \")]),(_vm.searchContent)?[_c('TextField',{staticClass:\"q-mb-md\",attrs:{\"placeholder\":'Search the document by content'},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}})]:_vm._e(),(_vm.filterGroups.length)?[_vm._l((_vm.filterGroups),function(group,groupIdx){return [_c('div',{key:group.id,staticClass:\"filter-group\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"label q-mr-md\"},[_vm._v(\"Criteria\")]),_c('div',{staticClass:\"label q-mr-md\"},[_vm._v(\"Condition\")]),_c('div',{staticClass:\"label q-mr-sm\"},[_vm._v(\"Value\")]),_c('BaseActionButton',{attrs:{\"is-flat\":\"\",\"color\":\"secondary\",\"icon\":\"eva-plus\",\"no-border\":\"\"},on:{\"click\":function($event){return _vm.addFilter(groupIdx)}}})],1),_c('BaseSeparator',{staticClass:\"q-mb-md\",attrs:{\"has-inset\":\"\"}}),_vm._l((group.filters),function(filter,filterIdx){return _c('ValidationObserver',{key:filter.id,ref:\"form\",refInFor:true,staticClass:\"filter\"},[_c('ValidationProvider',{key:filter.id,staticClass:\"col q-mr-md\",attrs:{\"name\":\"criteria\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SelectField',{attrs:{\"is-mandatory\":\"\",\"is-searchable\":true,\"options\":_vm._columns,\"error\":errors[0]},on:{\"input\":function($event){return _vm.applyDataType(groupIdx, filterIdx, filter.criteria)}},model:{value:(filter.criteria),callback:function ($$v) {_vm.$set(filter, \"criteria\", $$v)},expression:\"filter.criteria\"}})]}}],null,true)}),_c('ValidationProvider',{staticClass:\"col q-mr-md\",attrs:{\"name\":\"condition\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SelectField',{attrs:{\"is-mandatory\":\"\",\"is-searchable\":true,\"options\":_vm.conditions(filter.criteria),\"error\":errors[0]},model:{value:(filter.condition),callback:function ($$v) {_vm.$set(filter, \"condition\", $$v)},expression:\"filter.condition\"}})]}}],null,true)}),(\n                    filter.dataType === 'SHORT_TEXT' ||\n                    filter.dataType === 'BARCODE'\n                  )?_c('ValidationProvider',{staticClass:\"col q-mr-sm\",attrs:{\"name\":\"value\",\"rules\":{\n                    required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\n                      filter.condition\n                    ),\n                  }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{attrs:{\"is-mandatory\":\"\",\"is-disabled\":['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition),\"error\":errors[0]},model:{value:(filter.value),callback:function ($$v) {_vm.$set(filter, \"value\", $$v)},expression:\"filter.value\"}})]}}],null,true)}):(filter.dataType === 'NUMBER')?_c('ValidationProvider',{staticClass:\"col q-mr-sm\",attrs:{\"name\":\"value\",\"rules\":{\n                    required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\n                      filter.condition\n                    ),\n                  }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('NumberField',{attrs:{\"is-mandatory\":\"\",\"is-disabled\":['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition),\"error\":errors[0]},model:{value:(filter.value),callback:function ($$v) {_vm.$set(filter, \"value\", $$v)},expression:\"filter.value\"}})]}}],null,true)}):(filter.dataType === 'DATE')?_c('ValidationProvider',{staticClass:\"col q-mr-sm\",attrs:{\"name\":\"value\",\"rules\":{\n                    required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\n                      filter.condition\n                    ),\n                  }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('DateField',{attrs:{\"is-mandatory\":\"\",\"is-disabled\":['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition),\"error\":errors[0]},model:{value:(filter.value),callback:function ($$v) {_vm.$set(filter, \"value\", $$v)},expression:\"filter.value\"}})]}}],null,true)}):(filter.dataType === 'TIME')?_c('ValidationProvider',{staticClass:\"col q-mr-sm\",attrs:{\"name\":\"value\",\"rules\":{\n                    required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\n                      filter.condition\n                    ),\n                  }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TimeField',{attrs:{\"is-mandatory\":\"\",\"is-disabled\":['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition),\"error\":errors[0]},model:{value:(filter.value),callback:function ($$v) {_vm.$set(filter, \"value\", $$v)},expression:\"filter.value\"}})]}}],null,true)}):(filter.dataType === 'SINGLE_SELECT')?_c('ValidationProvider',{staticClass:\"col q-mr-sm\",attrs:{\"name\":\"value\",\"rules\":{\n                    required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\n                      filter.condition\n                    ),\n                  }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SelectField',{attrs:{\"is-mandatory\":\"\",\"is-disabled\":['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition),\"options\":_vm.options(filter.criteria),\"error\":errors[0]},model:{value:(filter.arrayValue),callback:function ($$v) {_vm.$set(filter, \"arrayValue\", $$v)},expression:\"filter.arrayValue\"}})]}}],null,true)}):_c('ValidationProvider',{staticClass:\"col q-mr-sm\",attrs:{\"name\":\"value\",\"rules\":{\n                    required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\n                      filter.condition\n                    ),\n                  }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{attrs:{\"is-mandatory\":\"\",\"is-disabled\":['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition),\"error\":errors[0]},model:{value:(filter.value),callback:function ($$v) {_vm.$set(filter, \"value\", $$v)},expression:\"filter.value\"}})]}}],null,true)}),_c('div',{staticClass:\"remove-filter\"},[_c('BaseActionButton',{attrs:{\"is-flat\":\"\",\"color\":\"red\",\"no-border\":\"\",\"icon\":\"eva-close-outline\"},on:{\"click\":function($event){return _vm.removeFilter(groupIdx, filterIdx)}}})],1)],1)}),_c('BaseSeparator',{attrs:{\"has-inset\":\"\"}}),_c('div',{staticClass:\"row\"},[_c('Action',{staticClass:\"col\",attrs:{\"icon\":\"eva-plus-outline\",\"label\":\"Add Filter Group\"},on:{\"click\":function($event){return _vm.addFilterGroup(groupIdx + 1)}}}),_c('BaseSeparator',{attrs:{\"is-vertical\":\"\",\"has-inset\":\"\"}}),_c('Action',{staticClass:\"col\",attrs:{\"icon\":\"eva-trash-2-outline\",\"label\":\"Delete Group\"},on:{\"click\":function($event){return _vm.removeFilterGroup(groupIdx)}}})],1)],2),(groupIdx !== _vm.filterGroups.length - 1)?_c('div',{key:groupIdx,staticClass:\"row justify-center\"},[_c('Toggle',{staticClass:\"q-my-md\",attrs:{\"options\":_vm.groupConditions},on:{\"input\":_vm.groupCondition},model:{value:(group.groupCondition),callback:function ($$v) {_vm.$set(group, \"groupCondition\", $$v)},expression:\"group.groupCondition\"}})],1):_vm._e()]})]:[_c('div',{staticClass:\"add-filter\",on:{\"click\":_vm.addFilterGroup}},[_c('BaseIcon',{attrs:{\"name\":\"eva-plus\",\"inherit-color\":\"\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Add Filter\")])],1)]],2)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"clear\"},on:{\"click\":_vm.clearFilter}}),_c('BaseButton',{attrs:{\"label\":\"apply\"},on:{\"click\":_vm.apply}})]},proxy:true}]),model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <BaseActionButton\r\n    v-tooltip.top=\"'filter'\"\r\n    is-flat\r\n    no-border\r\n    icon=\"eva-funnel-outline\"\r\n    :color=\"activeFilter ? 'secondary' : 'gray'\"\r\n    @click=\"model = true\"\r\n  >\r\n    <Sheet v-model=\"model\" width=\"720px\" has-footer>\r\n      <template #title> Filter {{ item }}s </template>\r\n\r\n      <template #default>\r\n        <div id=\"filters\" class=\"q-pa-md\">\r\n          <div class=\"description\">\r\n            Define filters to find exactly what you are looking for. Filters can\r\n            be included or excluded. You can also add multiple filter groups.\r\n          </div>\r\n\r\n          <template v-if=\"searchContent\">\r\n            <TextField\r\n              v-model=\"searchText\"\r\n              class=\"q-mb-md\"\r\n              :placeholder=\"'Search the document by content'\"\r\n            />\r\n          </template>\r\n\r\n          <template v-if=\"filterGroups.length\">\r\n            <template v-for=\"(group, groupIdx) in filterGroups\">\r\n              <div :key=\"group.id\" class=\"filter-group\">\r\n                <!-- header -->\r\n\r\n                <div class=\"header\">\r\n                  <div class=\"label q-mr-md\">Criteria</div>\r\n                  <div class=\"label q-mr-md\">Condition</div>\r\n                  <div class=\"label q-mr-sm\">Value</div>\r\n\r\n                  <BaseActionButton\r\n                    is-flat\r\n                    color=\"secondary\"\r\n                    icon=\"eva-plus\"\r\n                    no-border\r\n                    @click=\"addFilter(groupIdx)\"\r\n                  />\r\n                </div>\r\n\r\n                <!-- ... -->\r\n\r\n                <BaseSeparator has-inset class=\"q-mb-md\" />\r\n\r\n                <!-- filters -->\r\n\r\n                <ValidationObserver\r\n                  v-for=\"(filter, filterIdx) in group.filters\"\r\n                  ref=\"form\"\r\n                  :key=\"filter.id\"\r\n                  class=\"filter\"\r\n                >\r\n                  <!-- criteria -->\r\n\r\n                  <ValidationProvider\r\n                    :key=\"filter.id\"\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"criteria\"\r\n                    :rules=\"{ required: true }\"\r\n                    class=\"col q-mr-md\"\r\n                  >\r\n                    <SelectField\r\n                      v-model=\"filter.criteria\"\r\n                      is-mandatory\r\n                      :is-searchable=\"true\"\r\n                      :options=\"_columns\"\r\n                      :error=\"errors[0]\"\r\n                      @input=\"\r\n                        applyDataType(groupIdx, filterIdx, filter.criteria)\r\n                      \"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <!-- ... -->\r\n\r\n                  <!-- condition -->\r\n\r\n                  <ValidationProvider\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"condition\"\r\n                    :rules=\"{ required: true }\"\r\n                    class=\"col q-mr-md\"\r\n                  >\r\n                    <SelectField\r\n                      v-model=\"filter.condition\"\r\n                      is-mandatory\r\n                      :is-searchable=\"true\"\r\n                      :options=\"conditions(filter.criteria)\"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <!-- ... -->\r\n\r\n                  <!-- value -->\r\n\r\n                  <ValidationProvider\r\n                    v-if=\"\r\n                      filter.dataType === 'SHORT_TEXT' ||\r\n                      filter.dataType === 'BARCODE'\r\n                    \"\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"value\"\r\n                    :rules=\"{\r\n                      required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\r\n                        filter.condition\r\n                      ),\r\n                    }\"\r\n                    class=\"col q-mr-sm\"\r\n                  >\r\n                    <TextField\r\n                      v-model=\"filter.value\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <ValidationProvider\r\n                    v-else-if=\"filter.dataType === 'NUMBER'\"\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"value\"\r\n                    :rules=\"{\r\n                      required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\r\n                        filter.condition\r\n                      ),\r\n                    }\"\r\n                    class=\"col q-mr-sm\"\r\n                  >\r\n                    <NumberField\r\n                      v-model=\"filter.value\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <ValidationProvider\r\n                    v-else-if=\"filter.dataType === 'DATE'\"\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"value\"\r\n                    :rules=\"{\r\n                      required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\r\n                        filter.condition\r\n                      ),\r\n                    }\"\r\n                    class=\"col q-mr-sm\"\r\n                  >\r\n                    <DateField\r\n                      v-model=\"filter.value\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <ValidationProvider\r\n                    v-else-if=\"filter.dataType === 'TIME'\"\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"value\"\r\n                    :rules=\"{\r\n                      required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\r\n                        filter.condition\r\n                      ),\r\n                    }\"\r\n                    class=\"col q-mr-sm\"\r\n                  >\r\n                    <TimeField\r\n                      v-model=\"filter.value\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <ValidationProvider\r\n                    v-else-if=\"filter.dataType === 'SINGLE_SELECT'\"\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"value\"\r\n                    :rules=\"{\r\n                      required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\r\n                        filter.condition\r\n                      ),\r\n                    }\"\r\n                    class=\"col q-mr-sm\"\r\n                  >\r\n                    <SelectField\r\n                      v-model=\"filter.arrayValue\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :options=\"options(filter.criteria)\"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n\r\n                    <!-- <AsyncSelectField\r\n                      v-model=\"filter.value\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :error=\"errors[0]\"\r\n                      :api-path=\"apiPath\"\r\n                      :column-name=\"filter.criteria\"\r\n                    /> -->\r\n                  </ValidationProvider>\r\n\r\n                  <ValidationProvider\r\n                    v-else\r\n                    v-slot=\"{ errors }\"\r\n                    name=\"value\"\r\n                    :rules=\"{\r\n                      required: !['IS_EMPTY', 'IS_NOT_EMPTY'].includes(\r\n                        filter.condition\r\n                      ),\r\n                    }\"\r\n                    class=\"col q-mr-sm\"\r\n                  >\r\n                    <TextField\r\n                      v-model=\"filter.value\"\r\n                      is-mandatory\r\n                      :is-disabled=\"\r\n                        ['IS_EMPTY', 'IS_NOT_EMPTY'].includes(filter.condition)\r\n                      \"\r\n                      :error=\"errors[0]\"\r\n                    />\r\n                  </ValidationProvider>\r\n\r\n                  <!-- ... -->\r\n\r\n                  <!-- remove -->\r\n\r\n                  <div class=\"remove-filter\">\r\n                    <BaseActionButton\r\n                      is-flat\r\n                      color=\"red\"\r\n                      no-border\r\n                      icon=\"eva-close-outline\"\r\n                      @click=\"removeFilter(groupIdx, filterIdx)\"\r\n                    />\r\n                  </div>\r\n\r\n                  <!-- ... -->\r\n                </ValidationObserver>\r\n\r\n                <!-- ... -->\r\n\r\n                <BaseSeparator has-inset />\r\n\r\n                <div class=\"row\">\r\n                  <Action\r\n                    icon=\"eva-plus-outline\"\r\n                    label=\"Add Filter Group\"\r\n                    class=\"col\"\r\n                    @click=\"addFilterGroup(groupIdx + 1)\"\r\n                  />\r\n\r\n                  <BaseSeparator is-vertical has-inset />\r\n\r\n                  <Action\r\n                    icon=\"eva-trash-2-outline\"\r\n                    label=\"Delete Group\"\r\n                    class=\"col\"\r\n                    @click=\"removeFilterGroup(groupIdx)\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                v-if=\"groupIdx !== filterGroups.length - 1\"\r\n                :key=\"groupIdx\"\r\n                class=\"row justify-center\"\r\n              >\r\n                <Toggle\r\n                  v-model=\"group.groupCondition\"\r\n                  :options=\"groupConditions\"\r\n                  class=\"q-my-md\"\r\n                  @input=\"groupCondition\"\r\n                />\r\n              </div>\r\n            </template>\r\n          </template>\r\n\r\n          <template v-else>\r\n            <div class=\"add-filter\" @click=\"addFilterGroup\">\r\n              <BaseIcon name=\"eva-plus\" inherit-color />\r\n\r\n              <div class=\"q-ml-sm\">Add Filter</div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          is-flat\r\n          label=\"clear\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"clearFilter\"\r\n        />\r\n\r\n        <BaseButton label=\"apply\" @click=\"apply\" />\r\n      </template>\r\n    </Sheet>\r\n  </BaseActionButton>\r\n</template>\r\n\r\n<script>\r\nimport { lowerCase, startCase } from \"lodash-es\";\r\nimport { ValidationObserver, ValidationProvider } from \"vee-validate\";\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport TextField from \"@/components/common/form/text-field/TextField.vue\";\r\nimport SelectField from \"@/components/common/form/select-field/SelectField.vue\";\r\nimport Action from \"@/components/common/Action.vue\";\r\nimport Toggle from \"@/components/common/Toggle.vue\";\r\nimport Conditions from \"@/helpers/conditions.js\";\r\nimport NumberField from \"@/components/common/form/number-field/NumberField.vue\";\r\nimport DateField from \"@/components/common/form/date-field/DateField.vue\";\r\nimport TimeField from \"@/components/common/form/time-field/TimeField.vue\";\r\n// import AsyncSelectField from \"@/components/common/form/async-select-field/AsyncSelectField.vue\";\r\n\r\nexport default {\r\n  name: \"PortalFilterItems\",\r\n\r\n  components: {\r\n    ValidationObserver,\r\n    ValidationProvider,\r\n    Sheet,\r\n    TextField,\r\n    SelectField,\r\n    Action,\r\n    Toggle,\r\n    NumberField,\r\n    DateField,\r\n    TimeField,\r\n    // AsyncSelectField,\r\n  },\r\n\r\n  props: {\r\n    item: {\r\n      type: String,\r\n      default: \"item\",\r\n    },\r\n\r\n    columns: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n\r\n    filterBy: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n\r\n    isBordered: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    selectedFilter: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    searchContent: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    searchValue: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      model: false,\r\n      groupConditions: [\"AND\", \"OR\"],\r\n      filterGroups: [],\r\n      activeFilter: false,\r\n      searchText: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    _columns() {\r\n      var data = this.columns.reduce((ids, column) => {\r\n        if (\"isFilter\" in column) {\r\n          if (column.isFilter) {\r\n            ids.push({\r\n              id: column.id,\r\n              label: column.label,\r\n              value: column.name,\r\n              dataType: column.type !== \"TITLE\" ? column.type : \"SHORT_TEXT\",\r\n            });\r\n          }\r\n        } else {\r\n          ids.push({\r\n            id: column.id,\r\n            label: column.label,\r\n            value: column.name,\r\n            dataType: column.type !== \"TITLE\" ? column.type : \"SHORT_TEXT\",\r\n          });\r\n        }\r\n        return ids;\r\n      }, []);\r\n\r\n      data = data.filter((item) => item.label !== \"Process Id\");\r\n      return data;\r\n    },\r\n\r\n    apiPath() {\r\n      return `/repository/${this.$route.query.repositoryId}/uniqueColumnValues`;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    model: {\r\n      deep: true,\r\n      handler() {\r\n        if (this.model) {\r\n          // this.addFilterGroup(0);\r\n        }\r\n      },\r\n    },\r\n\r\n    $route: {\r\n      deep: true,\r\n      handler() {\r\n        if (!this.$route.query.repositoryId) {\r\n          this.filterGroups = [];\r\n          this.activeFilter = false;\r\n        }\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    conditions(columnName) {\r\n      if (!columnName) {\r\n        return [];\r\n      }\r\n\r\n      // console.log(columnName);\r\n      // console.log(this.columns);\r\n\r\n      const dataType = this.columns.find(\r\n        (column) => column.name === columnName\r\n      );\r\n      if (dataType) {\r\n        return Conditions(dataType.dataType).map((condition) => ({\r\n          id: this.$nano.id(),\r\n          label: `${startCase(lowerCase(condition.split(\" \")[0]))} ${\r\n            condition.split(\" \")[1] ? condition.split(\" \")[1] : \"\"\r\n          }`,\r\n          value: condition.split(\" \")[0],\r\n        }));\r\n      }\r\n    },\r\n\r\n    addFilterGroup(groupIdx = 0) {\r\n      this.filterGroups.splice(groupIdx, 0, {\r\n        id: this.$nano.id(),\r\n        filters: [\r\n          {\r\n            id: this.$nano.id(),\r\n            criteria: \"\",\r\n            condition: \"\",\r\n            value: \"\",\r\n          },\r\n        ],\r\n        groupCondition: this.filterGroups.length ? \"\" : \"\",\r\n      });\r\n\r\n      if (this.filterGroups.length) {\r\n        if (this.selectedFilter.length) {\r\n          if (this.selectedFilter[1] && this.selectedFilter[1].level === 1) {\r\n            // this.filterGroups[0].filters[0].criteria =\r\n            //   this.selectedFilter[1].fieldName;\r\n            // this.filterGroups[0].filters[0].value =\r\n            //   this.selectedFilter[1].label;\r\n            // this.filterGroups[0].filters[0].condition = \"IS_EQUALS_TO\";\r\n            // this.applyDataType(0, 0, this.selectedFilter[1].fieldName);\r\n            this.filterGroups[0].filters = [];\r\n            this.selectedFilter.forEach((item, index) => {\r\n              if (index != 0) {\r\n                this.filterGroups[0].filters.push({\r\n                  id: this.$nano.id(),\r\n                  criteria: item.fieldName,\r\n                  condition: \"IS_EQUALS_TO\",\r\n                  value: item.label,\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    removeFilterGroup(groupIdx) {\r\n      this.filterGroups.splice(groupIdx, 1);\r\n    },\r\n\r\n    addFilter(groupIdx) {\r\n      this.filterGroups[groupIdx].filters.push({\r\n        id: this.$nano.id(),\r\n        criteria: \"\",\r\n        condition: \"\",\r\n        value: \"\",\r\n      });\r\n    },\r\n\r\n    removeFilter(groupIdx, filterIdx) {\r\n      this.filterGroups[groupIdx].filters.splice(filterIdx, 1);\r\n    },\r\n\r\n    async apply() {\r\n      let invalidFields = 0;\r\n\r\n      if (this.searchContent) {\r\n        this.$emit(\"updateSearchValue\", this.searchText);\r\n      }\r\n\r\n      if (!this.$refs.form) {\r\n        if (this.searchContent) {\r\n          // this.$emit(\"filterBy\", this.filterGroups);\r\n          this.$emit(\"update\", this.filterGroups);\r\n          this.model = false;\r\n          this.activeFilter = true;\r\n        }\r\n        return;\r\n      }\r\n\r\n      for (const form of this.$refs.form) {\r\n        const isValid = await form.validate();\r\n        if (!isValid) {\r\n          invalidFields++;\r\n        }\r\n      }\r\n\r\n      if (invalidFields) {\r\n        return;\r\n      }\r\n      this.filterGroups[0].groupCondition = \"\";\r\n      if (this.filterGroups.length) {\r\n        if (!this.filterGroups[0].filters.length) {\r\n          this.filterGroups = [];\r\n        }\r\n        this.filterGroups.forEach((group) => {\r\n          if (group.filters.length) {\r\n            group.filters.forEach((row) => {\r\n              if (row.dataType === \"SINGLE_SELECT\") {\r\n                row.value = JSON.stringify(row.arrayValue);\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n      this.$emit(\"update\", this.filterGroups);\r\n      this.model = false;\r\n      this.activeFilter = true;\r\n    },\r\n\r\n    applyDataType(groupIdx, filterIdx, name) {\r\n      // console.log(groupIdx, filterIdx, name);\r\n      this.filterGroups[groupIdx].filters[filterIdx].value = \"\";\r\n      this.filterGroups[groupIdx].filters[filterIdx].condition = \"\";\r\n      this.filterGroups[groupIdx].filters[filterIdx].condition = \"IS_EQUALS_TO\";\r\n\r\n      this.filterGroups[groupIdx].filters[filterIdx].dataType = \"\";\r\n      let type = this._columns.find((item) => item.value === name);\r\n      if (type) {\r\n        this.filterGroups[groupIdx].filters[filterIdx].dataType = type.dataType;\r\n      }\r\n    },\r\n\r\n    clearFilter() {\r\n      this.filterGroups = [];\r\n      this.activeFilter = false;\r\n      // this.model = false;\r\n      this.searchText = \"\";\r\n      // this.$emit(\"updateSearchValue\", \"\");\r\n      this.$emit(\"refresh\");\r\n    },\r\n\r\n    groupCondition(condition) {\r\n      // console.log(condition);\r\n      this.filterGroups[this.filterGroups.length - 1].groupCondition =\r\n        condition;\r\n    },\r\n\r\n    options(criteria) {\r\n      let data = this.columns.filter((item) => item.name === criteria);\r\n      let value = data[0].options;\r\n      return value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#filters {\r\n  padding: 16px;\r\n\r\n  .description {\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  .add-filter {\r\n    display: flex;\r\n    align-items: center;\r\n    color: var(--secondary);\r\n    cursor: pointer;\r\n  }\r\n\r\n  .filter-group {\r\n    border: 1px solid var(--divider-color);\r\n    border-radius: 4px;\r\n\r\n    .header {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px 8px 8px 16px;\r\n\r\n      .label {\r\n        @extend .text-sm;\r\n        color: var(--icon-color);\r\n        flex: 1;\r\n      }\r\n    }\r\n\r\n    .filter {\r\n      display: flex;\r\n      padding: 0px 8px 16px 16px;\r\n\r\n      :deep #field div {\r\n        width: 137px;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        padding-right: 0px;\r\n      }\r\n    }\r\n\r\n    .remove-filter {\r\n      height: 46px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n\r\n  .add-filter-group {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 16px;\r\n\r\n    .label {\r\n      color: var(--secondary);\r\n      margin-left: 8px;\r\n    }\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalFilterItems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalFilterItems.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PortalFilterItems.vue?vue&type=template&id=c59e199c&scoped=true&\"\nimport script from \"./PortalFilterItems.vue?vue&type=script&lang=js&\"\nexport * from \"./PortalFilterItems.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PortalFilterItems.vue?vue&type=style&index=0&id=c59e199c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c59e199c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"portalList\"}},[_c('List',{attrs:{\"columns\":_vm.columns,\"items\":_vm.items,\"form\":_vm.form,\"list\":_vm.list,\"process-level\":_vm.processLevel,\"form-view\":_vm.formView,\"workflow\":_vm.workflow},on:{\"update:formView\":[function($event){_vm.formView=$event},_vm.handleFormViewUpdate],\"update:form-view\":function($event){_vm.formView=$event},\"actions\":_vm.handleActions,\"subactions\":_vm.handleSubActions,\"open\":_vm.handleProcess,\"opensubprocess\":_vm.handleSubProcess,\"viewFile\":_vm.handleViewFile}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"list\"}},[(_vm.loadingBarContent)?_c('BaseLoadingBarSheet',{staticClass:\"loading-content\"}):_vm._e(),_c('table',[(_vm.tableHeader)?_c('thead',[_c('tr',[_c('th',{staticClass:\"sticky icon\",staticStyle:{\"left\":\"0\"}}),(_vm.dummyData)?_vm._t(\"default\"):_vm._e(),(_vm.title)?_c('th',{staticClass:\"sticky\",staticStyle:{\"left\":\"36px\"}},[_vm._t(\"titleHead\",function(){return [_vm._v(\" \"+_vm._s(_vm.title.label)+\" \")]},{\"title\":_vm.title.label})],2):_vm._e(),_vm._l((_vm._columns),function(column){return _c('th',{key:column.id},[_vm._v(\" \"+_vm._s(column.label)+\" \")])}),_c('th',{staticClass:\"sticky\",staticStyle:{\"right\":\"0\"}})],2)]):_vm._e(),_c('tbody',[_vm._l((_vm.items),function(item){return [_c('tr',{key:item.id,style:({\n            'border-left': _vm.actionColor(item.lastAction),\n          }),on:{\"click\":function($event){return _vm.expandSubWorkflow(item)}}},[_c('td',{staticClass:\"sticky icon\",staticStyle:{\"left\":\"0\",\"width\":\"36px\"}},[_c('div',{staticClass:\"row items-center justify-center\"},[_vm._t(\"avatar\",function(){return [(item)?[(item.iconTooltip)?[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(item.iconTooltip),expression:\"item.iconTooltip\",modifiers:{\"top\":true}}],attrs:{\"name\":item.icon,\"color\":item.color || 'secondary'}})]:[_c('BaseIcon',{attrs:{\"name\":item.icon,\"color\":item.color || 'secondary'}})]]:_vm._e()]},{\"item\":item})],2)]),(_vm.title)?_c('td',{staticClass:\"sticky\",staticStyle:{\"left\":\"36px\"}},[_vm._t(\"title\",function(){return [_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(item[_vm.title.name]),expression:\"item[title.name]\",modifiers:{\"top\":true}}],staticClass:\"font-medium q-mr-xl link-text col\",on:{\"click\":function($event){return _vm.openSheet(item.id)}}},[_vm._v(\" \"+_vm._s(item[_vm.title.name])+\" \")])])]},{\"item\":item,\"title\":item[_vm.title.name]})],2):_vm._e(),_vm._l((_vm._columns),function(column){return _c('td',{key:column.id},[(column.type === 'TABLE')?[(JSON.parse(item[column.name]).length)?[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Table Data'),expression:\"'Table Data'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-table\",\"is-flat\":\"\",\"no-border\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showTable(column.label, item[column.name])}}})]:[_c('BaseActionButton',{attrs:{\"icon\":\"mdi-table\",\"is-flat\":\"\",\"no-border\":\"\",\"is-disabled\":\"\"}})]]:(column.type === 'FILE_UPLOAD')?[(item[column.name])?_c('div',{staticClass:\"ellipsis medium\"},_vm._l((JSON.parse(item[column.name])),function(file,index){return _c('div',{key:index,staticClass:\"row\"},[_c('FileIcon',{staticClass:\"mini-avatar col-auto q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.fileName)}}),_c('span',{staticClass:\"text-secondary text-underline col\",on:{\"click\":function($event){return _vm.viewFile(file, item)}}},[_vm._v(_vm._s(file.fileName))])],1)}),0):_vm._e()]:[_vm._t(column.name,function(){return [_vm._v(\" \"+_vm._s(_vm.removeTags(item[column.name]) || \"-\")+\" \")]},{\"value\":item[column.name],\"item\":item})]],2)}),_c('td',{staticClass:\"sticky icon\",staticStyle:{\"right\":\"0\"}},[_vm._t(\"actions\",function(){return [(item)?[_c('div',{staticClass:\"row justify-end no-wrap\"},[(item)?_vm._l((item.tabs),function(tab){return _c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons q-mr-xs\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\",\"size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('actions', tab.value, item.id)}}},[(item[tab.name])?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(item[tab.name])+\" \")]):_vm._e()])}):_vm._e(),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Expand'),expression:\"'Expand'\",modifiers:{\"left\":true}}],staticClass:\"tabButtons q-mr-xs\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":\"mdi-open-in-new\",\"color\":\"primary\",\"size\":\"16px\"},on:{\"click\":function($event){return _vm.openSheet(item.id)}}})],2)]:_vm._e()]},{\"item\":item})],2)],2),(item && item.displaySubTable && item.subWorkflow)?[(item.subWorkflow.length)?[_c('tr',{key:'subrow' + item.id},[_c('td',{attrs:{\"colspan\":_vm._columns.length + 3}},[_c('table',{key:`subtable${item.id}`,staticClass:\"subWorkflowTable\",staticStyle:{\"border\":\"1px solid var(--divider-color)\"}},[(_vm.tableHeader)?_c('thead',[_c('tr',[_c('th',{staticClass:\"sticky icon\",staticStyle:{\"left\":\"0\"}}),(_vm.dummyData)?_vm._t(\"default\"):_vm._e(),(_vm.title)?_c('th',{staticClass:\"sticky\",staticStyle:{\"left\":\"36px\"}},[_vm._t(\"titleHead\",function(){return [_vm._v(\" \"+_vm._s(_vm.title.label)+\" \")]},{\"title\":_vm.title.label})],2):_vm._e(),_vm._l((_vm._subWorkflowColumns),function(column){return _c('th',{key:column.id},[_vm._v(\" \"+_vm._s(column.label)+\" \")])}),_c('th',{staticClass:\"sticky\",staticStyle:{\"right\":\"0\"}})],2)]):_vm._e(),_c('tbody',[_vm._l((item.subWorkflow),function(subItem){return [_c('tr',{key:`subbody${subItem.id}`,style:({\n                          background: subItem.inbox\n                            ? _vm.darkTheme\n                              ? 'rgb(60, 50, 31)'\n                              : 'rgb(255 228 178)'\n                            : '',\n                          'border-left': _vm.actionColor(item.lastAction),\n                        })},[_c('td',{staticClass:\"sticky icon\",staticStyle:{\"left\":\"0\",\"width\":\"36px\"},style:({\n                            background: subItem.inbox\n                              ? _vm.darkTheme\n                                ? 'rgb(60, 50, 31)'\n                                : 'rgb(255 228 178)'\n                              : '',\n                          })},[_c('div',{staticClass:\"row items-center justify-center\"},[_vm._t(\"avatar\",function(){return [(subItem.iconTooltip)?[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(subItem.iconTooltip),expression:\"subItem.iconTooltip\",modifiers:{\"top\":true}}],attrs:{\"name\":subItem.icon,\"color\":subItem.color || 'secondary'}})]:[_c('BaseIcon',{attrs:{\"name\":subItem.icon,\"color\":subItem.color || 'secondary'}})]]},{\"item\":subItem})],2)]),(_vm.title)?_c('td',{staticClass:\"sticky\",staticStyle:{\"left\":\"36px\"},style:({\n                            background: subItem.inbox\n                              ? _vm.darkTheme\n                                ? 'rgb(60, 50, 31)'\n                                : 'rgb(255 228 178)'\n                              : '',\n                          })},[_vm._t(\"title\",function(){return [_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(subItem.requestNo),expression:\"subItem.requestNo\",modifiers:{\"top\":true}}],staticClass:\"font-medium q-mr-xl link-text\",on:{\"click\":function($event){return _vm.openSubSheet(subItem)}}},[_vm._v(\" \"+_vm._s(subItem.requestNo)+\" \")])]},{\"subItem\":subItem,\"title\":subItem.subWorkflowName})],2):_vm._e(),_vm._l((_vm._subWorkflowColumns),function(column){return _c('td',{key:column.id},[_vm._t(column.name,function(){return [_vm._v(\" \"+_vm._s(subItem[column.name])+\" \")]},{\"value\":subItem[column.name],\"item\":subItem})],2)}),_c('td',{staticClass:\"sticky icon\",staticStyle:{\"right\":\"0\"},style:({\n                            background: subItem.inbox\n                              ? _vm.darkTheme\n                                ? 'rgb(60, 50, 31)'\n                                : 'rgb(255 228 178)'\n                              : '',\n                          })},[_vm._t(\"actions\",function(){return [(subItem)?[_c('div',{staticClass:\"row justify-end no-wrap\"},[(subItem)?_vm._l((subItem.tabs),function(tab){return _c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons q-mr-xs\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\",\"size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit(\n                                        'subactions',\n                                        tab.value,\n                                        item,\n                                        subItem\n                                      )}}},[(subItem[tab.name])?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(subItem[tab.name])+\" \")]):_vm._e()])}):_vm._e(),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Expand'),expression:\"'Expand'\",modifiers:{\"left\":true}}],staticClass:\"tabButtons q-mr-xs\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":\"mdi-open-in-new\",\"color\":\"primary\",\"size\":\"16px\"},on:{\"click\":function($event){return _vm.openSubSheet(subItem)}}})],2)]:_vm._e()]},{\"subItem\":subItem})],2)],2)]})],2)])])])]:_vm._e()]:_vm._e()]})],2)]),_c('Sheet',{attrs:{\"width\":\"100vw\",\"has-footer\":false,\"no-padding\":true},on:{\"input\":function($event){_vm.processSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"\\\"\"+_vm._s(_vm.request.requestNo)+\"\\\" process details\")]},proxy:true},{key:\"actions\",fn:function(){return [(!_vm.formView)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Form View'),expression:\"'Form View'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-sm q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":'mdi-form-select'},on:{\"click\":_vm.openForm}}):_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Details View'),expression:\"'Details View'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-sm q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":'mdi-table-column'},on:{\"click\":_vm.openTable}})]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{key:_vm.request.processId + 'det',staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"col-12 q-ma-md\",class:{ 'q-dark': _vm.darkTheme, 'q-light': !_vm.darkTheme }},[_c('q-stepper',{ref:\"stepper\",attrs:{\"alternative-labels\":\"\",\"color\":\"primary\",\"animated\":\"\"}},_vm._l((_vm.stageLevel),function(level,index){return _c('q-step',{key:level.id,attrs:{\"name\":index,\"title\":level.label,\"prefix\":index + 1,\"done\":_vm.currentStep >= index + 1}})}),1)],1),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"requestDetails\"}},[_c('div',{staticClass:\"row justify-center\"},[_c('div',{staticClass:\"col q-pa-md\"},[_c('div',{staticClass:\"row items-center\"},[_c('table',{staticClass:\"submittedData q-mb-sm\"},[_c('tbody',[(_vm.request.createdByName)?_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_vm._v(\" Requested By: \"+_vm._s(_vm.request.createdByName)+\" \")])]):_vm._e(),_c('tr',[(_vm.request.raisedBy)?_c('th',[_vm._v(\"Requested User Email\")]):_vm._e(),_c('th',[_vm._v(\"Requested Date\")]),_c('th',[_vm._v(\"Last Acted By\")]),_c('th',[_vm._v(\"Last Acted On\")])]),_c('tr',[(_vm.request.raisedBy)?_c('td',[_vm._v(\" \"+_vm._s(_vm.request.raisedBy)+\" \")]):_vm._e(),_c('td',[_vm._v(\" \"+_vm._s(_vm.$day.format(_vm.request.raisedAt))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.request.transaction_createdByEmail))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$day.format(_vm.request.transaction_createdAt))+\" \")])])])]),_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 320px)\"}},[(_vm.requestFormData.panels)?[_c('table',{staticClass:\"mainData col-12\"},[_vm._l((_vm.requestFormData.panels),function(panel){return [_c('tr',{key:panel.name,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){panel.panelsExpandView = !panel.panelsExpandView}}},[_c('td',{staticStyle:{\"color\":\"#643094\"},attrs:{\"colspan\":\"2\"}},[(!panel.panelsExpandView)?_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-arrow-forward-outline\",\"size\":\"20px\",\"color\":\"primary\"}}):_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-arrow-downward-outline\",\"size\":\"20px\",\"color\":\"primary\"}}),_vm._v(\" \"+_vm._s(panel.name || \"No Title\")+\" \")],1)]),(panel.panelsExpandView)?[_vm._l((panel.fields),function(value,key){return [(value && value != '[]')?[(_vm.isVisible(key))?[(_vm.validateType(key) !== 'TABLE')?[_c('tr',{key:key},[_c('td',{staticClass:\"tblHeader ellipsis small\"},[_vm._v(\" \"+_vm._s(_vm.getLabel(key))+\" \")]),_c('td',{staticClass:\"ellipsis\"},[(\n                                            _vm.validateType(key) ===\n                                            'FILE_UPLOAD'\n                                          )?[(JSON.parse(value).length)?_c('div',_vm._l((JSON.parse(\n                                                value\n                                              )),function(file){return _c('div',{key:file.fileName,staticClass:\"q-mb-xs\"},[_c('div',{staticClass:\"row items-center\"},[_c('div',{staticClass:\"col row items-center\",on:{\"click\":function($event){return _vm.viewFile(file, value)}}},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.fileName)}}),_c('span',{staticClass:\"cursor-pointer text-underline text-secondary\"},[_vm._v(_vm._s(file.fileName))])],1)])])}),0):_vm._e()]:(\n                                            _vm.validateType(key) === 'DATE'\n                                          )?[_vm._v(\" \"+_vm._s(_vm.$day.format(value, false))+\" \")]:(_vm.validateValue(value))?[_vm._v(\" \"+_vm._s(_vm.removeTags(value) || \"-\")+\" \")]:[_c('a',{attrs:{\"href\":value,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(value || \"-\")+\" \")])]],2)])]:(JSON.parse(value).length)?[(_vm.getLabel(key))?_c('tr',{key:'trlabel' + key},[_c('td',{staticClass:\"tblHeader ellipsis small\",attrs:{\"colspan\":\"2\"}},[_c('FormFieldLabel',{key:'label' + key,staticClass:\"q-mt-sm\",attrs:{\"label\":_vm.getLabel(key)}})],1)]):_vm._e(),_c('tr',{key:'trtable' + key},[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('BaseScrollbar',{key:'scroll' + key,staticStyle:{\"max-height\":\"200px\"}},[_c('table',{key:'table-' + key,staticClass:\"sub-table q-mt-sm q-mb-sm\"},[_c('thead',[_c('tr',_vm._l((_vm.tableColumns(\n                                                    value,\n                                                    key\n                                                  )),function(column){return _c('th',{key:column.id},[_vm._v(\" \"+_vm._s(column.label)+\" \")])}),0)]),_c('tbody',_vm._l((_vm.tableValue(value)),function(row,index){return _c('tr',{key:index},_vm._l((_vm.tableColumns(\n                                                    value,\n                                                    key\n                                                  )),function(column){return _c('td',{key:column.id},[_vm._v(\" \"+_vm._s(row[column.id])+\" \")])}),0)}),0)])])],1)])]:_vm._e()]:_vm._e()]:_vm._e()]})]:_vm._e()]})],2)]:_vm._e()],2)],1)])])])]),_c('div',{staticClass:\"col-auto q-mr-sm leftBorder\"},[_vm._l((_vm.tabs),function(tab){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('actions', tab.value, _vm.request.processId)}}},[(tab.count)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(tab.count)+\" \")]):_vm._e()])]})],2)])]},proxy:true}]),model:{value:(_vm.processSheet),callback:function ($$v) {_vm.processSheet=$$v},expression:\"processSheet\"}}),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\"},on:{\"input\":function($event){_vm.expandTableModal = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.tableTitle))]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{attrs:{\"id\":\"tableData\"}},[_c('table',[_c('thead',[_c('tr',_vm._l((_vm.tableData[0]),function(value,key){return _c('th',{key:key},[_vm._v(\" \"+_vm._s(key)+\" \")])}),0)]),_c('tbody',_vm._l((_vm.tableData),function(row,index){return _c('tr',{key:index},_vm._l((row),function(value,key){return _c('td',{key:key},[_vm._v(\" \"+_vm._s(value)+\" \")])}),0)}),0)])])]},proxy:true}]),model:{value:(_vm.expandTableModal),callback:function ($$v) {_vm.expandTableModal=$$v},expression:\"expandTableModal\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"list\">\r\n    <BaseLoadingBarSheet v-if=\"loadingBarContent\" class=\"loading-content\" />\r\n    <table>\r\n      <thead v-if=\"tableHeader\">\r\n        <tr>\r\n          <!-- avatar -->\r\n\r\n          <th class=\"sticky icon\" style=\"left: 0\"></th>\r\n          <slot v-if=\"dummyData\"></slot>\r\n          <!-- ... -->\r\n\r\n          <!-- title -->\r\n\r\n          <th v-if=\"title\" class=\"sticky\" style=\"left: 36px\">\r\n            <slot name=\"titleHead\" :title=\"title.label\">\r\n              {{ title.label }}\r\n            </slot>\r\n          </th>\r\n\r\n          <!-- ... -->\r\n\r\n          <!-- columns -->\r\n\r\n          <th v-for=\"column in _columns\" :key=\"column.id\">\r\n            {{ column.label }}\r\n          </th>\r\n\r\n          <!-- ... -->\r\n\r\n          <!-- actions -->\r\n\r\n          <th class=\"sticky\" style=\"right: 0\"></th>\r\n\r\n          <!-- ... -->\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        <template v-for=\"item in items\">\r\n          <tr\r\n            :key=\"item.id\"\r\n            :style=\"{\r\n              'border-left': actionColor(item.lastAction),\r\n            }\"\r\n            @click=\"expandSubWorkflow(item)\"\r\n          >\r\n            <!-- avatar -->\r\n\r\n            <td class=\"sticky icon\" style=\"left: 0; width: 36px\">\r\n              <div class=\"row items-center justify-center\">\r\n                <slot name=\"avatar\" :item=\"item\">\r\n                  <template v-if=\"item\">\r\n                    <template v-if=\"item.iconTooltip\">\r\n                      <BaseIcon\r\n                        v-tooltip.top=\"item.iconTooltip\"\r\n                        :name=\"item.icon\"\r\n                        :color=\"item.color || 'secondary'\"\r\n                      />\r\n                    </template>\r\n                    <template v-else>\r\n                      <BaseIcon\r\n                        :name=\"item.icon\"\r\n                        :color=\"item.color || 'secondary'\"\r\n                      />\r\n                    </template>\r\n                  </template>\r\n                </slot>\r\n              </div>\r\n            </td>\r\n\r\n            <!-- ... -->\r\n\r\n            <!-- title -->\r\n\r\n            <td v-if=\"title\" class=\"sticky\" style=\"left: 36px\">\r\n              <slot name=\"title\" :item=\"item\" :title=\"item[title.name]\">\r\n                <div class=\"row\">\r\n                  <!-- <BaseIcon\r\n                    v-if=\"item.subWorkflow.length\"\r\n                    v-tooltip.top=\"'Expand'\"\r\n                    :name=\"\r\n                      item.displaySubTable\r\n                        ? 'eva-arrow-downward'\r\n                        : 'eva-arrow-forward'\r\n                    \"\r\n                    color=\"primary\"\r\n                    class=\"col-auto q-mr-sm\"\r\n                  /> -->\r\n                  <div\r\n                    v-tooltip.top=\"item[title.name]\"\r\n                    class=\"font-medium q-mr-xl link-text col\"\r\n                    @click=\"openSheet(item.id)\"\r\n                  >\r\n                    {{ item[title.name] }}\r\n                  </div>\r\n                </div>\r\n              </slot>\r\n            </td>\r\n\r\n            <!-- ... -->\r\n\r\n            <!-- columns -->\r\n\r\n            <td v-for=\"column in _columns\" :key=\"column.id\">\r\n              <template v-if=\"column.type === 'TABLE'\">\r\n                <template v-if=\"JSON.parse(item[column.name]).length\">\r\n                  <BaseActionButton\r\n                    v-tooltip.top=\"'Table Data'\"\r\n                    icon=\"mdi-table\"\r\n                    is-flat\r\n                    no-border\r\n                    @click.stop=\"showTable(column.label, item[column.name])\"\r\n                  />\r\n                </template>\r\n                <template v-else>\r\n                  <BaseActionButton\r\n                    icon=\"mdi-table\"\r\n                    is-flat\r\n                    no-border\r\n                    is-disabled\r\n                  />\r\n                </template>\r\n              </template>\r\n              <template v-else-if=\"column.type === 'FILE_UPLOAD'\">\r\n                <div v-if=\"item[column.name]\" class=\"ellipsis medium\">\r\n                  <div\r\n                    v-for=\"(file, index) in JSON.parse(item[column.name])\"\r\n                    :key=\"index\"\r\n                    class=\"row\"\r\n                  >\r\n                    <FileIcon\r\n                      :mime-type=\"fileType(file.fileName)\"\r\n                      class=\"mini-avatar col-auto q-mr-sm\"\r\n                    />\r\n                    <span\r\n                      class=\"text-secondary text-underline col\"\r\n                      @click=\"viewFile(file, item)\"\r\n                      >{{ file.fileName }}</span\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <template v-else>\r\n                <slot\r\n                  :name=\"column.name\"\r\n                  :value=\"item[column.name]\"\r\n                  :item=\"item\"\r\n                >\r\n                  {{ removeTags(item[column.name]) || \"-\" }}\r\n                </slot>\r\n              </template>\r\n            </td>\r\n\r\n            <!-- ... -->\r\n\r\n            <!-- actions -->\r\n\r\n            <td class=\"sticky icon\" style=\"right: 0\">\r\n              <slot name=\"actions\" :item=\"item\">\r\n                <template v-if=\"item\">\r\n                  <div class=\"row justify-end no-wrap\">\r\n                    <template v-if=\"item\">\r\n                      <BaseActionButton\r\n                        v-for=\"tab in item.tabs\"\r\n                        :key=\"tab.id\"\r\n                        v-tooltip.left=\"tab.label\"\r\n                        is-flat\r\n                        no-border\r\n                        :icon=\"tab.icon\"\r\n                        color=\"primary\"\r\n                        class=\"tabButtons q-mr-xs\"\r\n                        size=\"16px\"\r\n                        @click.stop=\"$emit('actions', tab.value, item.id)\"\r\n                      >\r\n                        <span v-if=\"item[tab.name]\" class=\"badge\"\r\n                          >{{ item[tab.name] }}\r\n                        </span>\r\n                      </BaseActionButton>\r\n                    </template>\r\n                    <BaseActionButton\r\n                      v-tooltip.left=\"'Expand'\"\r\n                      is-flat\r\n                      no-border\r\n                      icon=\"mdi-open-in-new\"\r\n                      color=\"primary\"\r\n                      class=\"tabButtons q-mr-xs\"\r\n                      size=\"16px\"\r\n                      @click=\"openSheet(item.id)\"\r\n                    />\r\n                  </div>\r\n                </template>\r\n              </slot>\r\n            </td>\r\n\r\n            <!-- ... -->\r\n          </tr>\r\n          <template v-if=\"item && item.displaySubTable && item.subWorkflow\">\r\n            <template v-if=\"item.subWorkflow.length\">\r\n              <tr :key=\"'subrow' + item.id\">\r\n                <td :colspan=\"_columns.length + 3\">\r\n                  <table\r\n                    :key=\"`subtable${item.id}`\"\r\n                    class=\"subWorkflowTable\"\r\n                    style=\"border: 1px solid var(--divider-color)\"\r\n                  >\r\n                    <thead v-if=\"tableHeader\">\r\n                      <tr>\r\n                        <!-- avatar -->\r\n\r\n                        <th class=\"sticky icon\" style=\"left: 0\"></th>\r\n                        <slot v-if=\"dummyData\"></slot>\r\n                        <!-- ... -->\r\n\r\n                        <!-- title -->\r\n\r\n                        <th v-if=\"title\" class=\"sticky\" style=\"left: 36px\">\r\n                          <slot name=\"titleHead\" :title=\"title.label\">\r\n                            {{ title.label }}\r\n                          </slot>\r\n                        </th>\r\n\r\n                        <!-- ... -->\r\n\r\n                        <!-- columns -->\r\n\r\n                        <th\r\n                          v-for=\"column in _subWorkflowColumns\"\r\n                          :key=\"column.id\"\r\n                        >\r\n                          {{ column.label }}\r\n                        </th>\r\n\r\n                        <!-- ... -->\r\n\r\n                        <!-- actions -->\r\n\r\n                        <th class=\"sticky\" style=\"right: 0\"></th>\r\n\r\n                        <!-- ... -->\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <template v-for=\"subItem in item.subWorkflow\">\r\n                        <tr\r\n                          :key=\"`subbody${subItem.id}`\"\r\n                          :style=\"{\r\n                            background: subItem.inbox\r\n                              ? darkTheme\r\n                                ? 'rgb(60, 50, 31)'\r\n                                : 'rgb(255 228 178)'\r\n                              : '',\r\n                            'border-left': actionColor(item.lastAction),\r\n                          }\"\r\n                        >\r\n                          <td\r\n                            class=\"sticky icon\"\r\n                            style=\"left: 0; width: 36px\"\r\n                            :style=\"{\r\n                              background: subItem.inbox\r\n                                ? darkTheme\r\n                                  ? 'rgb(60, 50, 31)'\r\n                                  : 'rgb(255 228 178)'\r\n                                : '',\r\n                            }\"\r\n                          >\r\n                            <div class=\"row items-center justify-center\">\r\n                              <slot name=\"avatar\" :item=\"subItem\">\r\n                                <template v-if=\"subItem.iconTooltip\">\r\n                                  <BaseIcon\r\n                                    v-tooltip.top=\"subItem.iconTooltip\"\r\n                                    :name=\"subItem.icon\"\r\n                                    :color=\"subItem.color || 'secondary'\"\r\n                                  />\r\n                                </template>\r\n                                <template v-else>\r\n                                  <BaseIcon\r\n                                    :name=\"subItem.icon\"\r\n                                    :color=\"subItem.color || 'secondary'\"\r\n                                  />\r\n                                </template>\r\n                              </slot>\r\n                            </div>\r\n                          </td>\r\n\r\n                          <td\r\n                            v-if=\"title\"\r\n                            class=\"sticky\"\r\n                            style=\"left: 36px\"\r\n                            :style=\"{\r\n                              background: subItem.inbox\r\n                                ? darkTheme\r\n                                  ? 'rgb(60, 50, 31)'\r\n                                  : 'rgb(255 228 178)'\r\n                                : '',\r\n                            }\"\r\n                          >\r\n                            <slot\r\n                              name=\"title\"\r\n                              :subItem=\"subItem\"\r\n                              :title=\"subItem.subWorkflowName\"\r\n                            >\r\n                              <div\r\n                                v-tooltip.top=\"subItem.requestNo\"\r\n                                class=\"font-medium q-mr-xl link-text\"\r\n                                @click=\"openSubSheet(subItem)\"\r\n                              >\r\n                                {{ subItem.requestNo }}\r\n                              </div>\r\n                            </slot>\r\n                          </td>\r\n\r\n                          <td\r\n                            v-for=\"column in _subWorkflowColumns\"\r\n                            :key=\"column.id\"\r\n                          >\r\n                            <slot\r\n                              :name=\"column.name\"\r\n                              :value=\"subItem[column.name]\"\r\n                              :item=\"subItem\"\r\n                            >\r\n                              {{ subItem[column.name] }}\r\n                            </slot>\r\n                          </td>\r\n\r\n                          <td\r\n                            class=\"sticky icon\"\r\n                            style=\"right: 0\"\r\n                            :style=\"{\r\n                              background: subItem.inbox\r\n                                ? darkTheme\r\n                                  ? 'rgb(60, 50, 31)'\r\n                                  : 'rgb(255 228 178)'\r\n                                : '',\r\n                            }\"\r\n                          >\r\n                            <slot name=\"actions\" :subItem=\"subItem\">\r\n                              <template v-if=\"subItem\">\r\n                                <div class=\"row justify-end no-wrap\">\r\n                                  <template v-if=\"subItem\">\r\n                                    <BaseActionButton\r\n                                      v-for=\"tab in subItem.tabs\"\r\n                                      :key=\"tab.id\"\r\n                                      v-tooltip.left=\"tab.label\"\r\n                                      is-flat\r\n                                      no-border\r\n                                      :icon=\"tab.icon\"\r\n                                      color=\"primary\"\r\n                                      class=\"tabButtons q-mr-xs\"\r\n                                      size=\"16px\"\r\n                                      @click.stop=\"\r\n                                        $emit(\r\n                                          'subactions',\r\n                                          tab.value,\r\n                                          item,\r\n                                          subItem\r\n                                        )\r\n                                      \"\r\n                                    >\r\n                                      <span\r\n                                        v-if=\"subItem[tab.name]\"\r\n                                        class=\"badge\"\r\n                                        >{{ subItem[tab.name] }}\r\n                                      </span>\r\n                                    </BaseActionButton>\r\n                                  </template>\r\n                                  <BaseActionButton\r\n                                    v-tooltip.left=\"'Expand'\"\r\n                                    is-flat\r\n                                    no-border\r\n                                    icon=\"mdi-open-in-new\"\r\n                                    color=\"primary\"\r\n                                    class=\"tabButtons q-mr-xs\"\r\n                                    size=\"16px\"\r\n                                    @click=\"openSubSheet(subItem)\"\r\n                                  />\r\n                                </div>\r\n                              </template>\r\n                            </slot>\r\n                          </td>\r\n                        </tr>\r\n                      </template>\r\n                    </tbody>\r\n                  </table>\r\n                </td>\r\n              </tr>\r\n            </template>\r\n          </template>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n\r\n    <Sheet\r\n      v-model=\"processSheet\"\r\n      width=\"100vw\"\r\n      :has-footer=\"false\"\r\n      :no-padding=\"true\"\r\n      @input=\"processSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title>\"{{ request.requestNo }}\" process details</template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #actions>\r\n        <BaseActionButton\r\n          v-if=\"!formView\"\r\n          v-tooltip.top=\"'Form View'\"\r\n          is-flat\r\n          :icon=\"'mdi-form-select'\"\r\n          class=\"q-ml-sm q-mr-sm\"\r\n          @click=\"openForm\"\r\n        />\r\n\r\n        <BaseActionButton\r\n          v-else\r\n          v-tooltip.top=\"'Details View'\"\r\n          is-flat\r\n          :icon=\"'mdi-table-column'\"\r\n          class=\"q-ml-sm q-mr-sm\"\r\n          @click=\"openTable\"\r\n        />\r\n      </template>\r\n\r\n      <template #default>\r\n        <div :key=\"request.processId + 'det'\" class=\"row\">\r\n          <div class=\"col\">\r\n            <div\r\n              class=\"col-12 q-ma-md\"\r\n              :class=\"{ 'q-dark': darkTheme, 'q-light': !darkTheme }\"\r\n            >\r\n              <q-stepper\r\n                ref=\"stepper\"\r\n                alternative-labels\r\n                color=\"primary\"\r\n                animated\r\n              >\r\n                <q-step\r\n                  v-for=\"(level, index) in stageLevel\"\r\n                  :key=\"level.id\"\r\n                  :name=\"index\"\r\n                  :title=\"level.label\"\r\n                  :prefix=\"index + 1\"\r\n                  :done=\"currentStep >= index + 1\"\r\n                >\r\n                </q-step>\r\n              </q-stepper>\r\n            </div>\r\n            <div id=\"requestDetails\" class=\"col-12\">\r\n              <div class=\"row justify-center\">\r\n                <div class=\"col q-pa-md\">\r\n                  <div class=\"row items-center\">\r\n                    <table class=\"submittedData q-mb-sm\">\r\n                      <tbody>\r\n                        <tr v-if=\"request.createdByName\">\r\n                          <td colspan=\"4\">\r\n                            Requested By: {{ request.createdByName }}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th v-if=\"request.raisedBy\">Requested User Email</th>\r\n                          <th>Requested Date</th>\r\n                          <th>Last Acted By</th>\r\n                          <th>Last Acted On</th>\r\n                        </tr>\r\n                        <tr>\r\n                          <td v-if=\"request.raisedBy\">\r\n                            {{ request.raisedBy }}\r\n                          </td>\r\n                          <td>\r\n                            {{ $day.format(request.raisedAt) }}\r\n                          </td>\r\n                          <td>{{ request.transaction_createdByEmail }}</td>\r\n                          <td>\r\n                            {{ $day.format(request.transaction_createdAt) }}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <BaseScrollbar height=\"calc(100vh - 320px)\">\r\n                      <template v-if=\"requestFormData.panels\">\r\n                        <table class=\"mainData col-12\">\r\n                          <template v-for=\"panel in requestFormData.panels\">\r\n                            <tr\r\n                              :key=\"panel.name\"\r\n                              style=\"cursor: pointer\"\r\n                              @click=\"\r\n                                panel.panelsExpandView = !panel.panelsExpandView\r\n                              \"\r\n                            >\r\n                              <td style=\"color: #643094\" colspan=\"2\">\r\n                                <BaseIcon\r\n                                  v-if=\"!panel.panelsExpandView\"\r\n                                  name=\"eva-arrow-forward-outline\"\r\n                                  size=\"20px\"\r\n                                  color=\"primary\"\r\n                                  class=\"icon\"\r\n                                />\r\n\r\n                                <BaseIcon\r\n                                  v-else\r\n                                  name=\"eva-arrow-downward-outline\"\r\n                                  size=\"20px\"\r\n                                  color=\"primary\"\r\n                                  class=\"icon\"\r\n                                />\r\n                                {{ panel.name || \"No Title\" }}\r\n                              </td>\r\n                            </tr>\r\n                            <template v-if=\"panel.panelsExpandView\">\r\n                              <template v-for=\"(value, key) in panel.fields\">\r\n                                <template v-if=\"value && value != '[]'\">\r\n                                  <template v-if=\"isVisible(key)\">\r\n                                    <template\r\n                                      v-if=\"validateType(key) !== 'TABLE'\"\r\n                                    >\r\n                                      <tr :key=\"key\">\r\n                                        <td class=\"tblHeader ellipsis small\">\r\n                                          {{ getLabel(key) }}\r\n                                        </td>\r\n                                        <td class=\"ellipsis\">\r\n                                          <template\r\n                                            v-if=\"\r\n                                              validateType(key) ===\r\n                                              'FILE_UPLOAD'\r\n                                            \"\r\n                                          >\r\n                                            <div\r\n                                              v-if=\"JSON.parse(value).length\"\r\n                                            >\r\n                                              <div\r\n                                                v-for=\"file in JSON.parse(\r\n                                                  value\r\n                                                )\"\r\n                                                :key=\"file.fileName\"\r\n                                                class=\"q-mb-xs\"\r\n                                              >\r\n                                                <div class=\"row items-center\">\r\n                                                  <div\r\n                                                    class=\"col row items-center\"\r\n                                                    @click=\"\r\n                                                      viewFile(file, value)\r\n                                                    \"\r\n                                                  >\r\n                                                    <FileIcon\r\n                                                      :mime-type=\"\r\n                                                        fileType(file.fileName)\r\n                                                      \"\r\n                                                      class=\"mini-avatar q-mr-sm\"\r\n                                                    />\r\n                                                    <span\r\n                                                      class=\"cursor-pointer text-underline text-secondary\"\r\n                                                      >{{ file.fileName }}</span\r\n                                                    >\r\n                                                  </div>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          </template>\r\n                                          <template\r\n                                            v-else-if=\"\r\n                                              validateType(key) === 'DATE'\r\n                                            \"\r\n                                          >\r\n                                            {{ $day.format(value, false) }}\r\n                                          </template>\r\n                                          <template\r\n                                            v-else-if=\"validateValue(value)\"\r\n                                          >\r\n                                            {{ removeTags(value) || \"-\" }}\r\n                                          </template>\r\n                                          <template v-else>\r\n                                            <a :href=\"value\" target=\"_blank\">\r\n                                              {{ value || \"-\" }}\r\n                                            </a>\r\n                                          </template>\r\n                                        </td>\r\n                                      </tr>\r\n                                    </template>\r\n                                    <template\r\n                                      v-else-if=\"JSON.parse(value).length\"\r\n                                    >\r\n                                      <tr\r\n                                        v-if=\"getLabel(key)\"\r\n                                        :key=\"'trlabel' + key\"\r\n                                      >\r\n                                        <td\r\n                                          colspan=\"2\"\r\n                                          class=\"tblHeader ellipsis small\"\r\n                                        >\r\n                                          <FormFieldLabel\r\n                                            :key=\"'label' + key\"\r\n                                            :label=\"getLabel(key)\"\r\n                                            class=\"q-mt-sm\"\r\n                                          />\r\n                                        </td>\r\n                                      </tr>\r\n                                      <tr :key=\"'trtable' + key\">\r\n                                        <td colspan=\"2\">\r\n                                          <BaseScrollbar\r\n                                            :key=\"'scroll' + key\"\r\n                                            style=\"max-height: 200px\"\r\n                                          >\r\n                                            <table\r\n                                              :key=\"'table-' + key\"\r\n                                              class=\"sub-table q-mt-sm q-mb-sm\"\r\n                                            >\r\n                                              <thead>\r\n                                                <tr>\r\n                                                  <th\r\n                                                    v-for=\"column in tableColumns(\r\n                                                      value,\r\n                                                      key\r\n                                                    )\"\r\n                                                    :key=\"column.id\"\r\n                                                  >\r\n                                                    {{ column.label }}\r\n                                                  </th>\r\n                                                </tr>\r\n                                              </thead>\r\n                                              <tbody>\r\n                                                <tr\r\n                                                  v-for=\"(\r\n                                                    row, index\r\n                                                  ) in tableValue(value)\"\r\n                                                  :key=\"index\"\r\n                                                >\r\n                                                  <td\r\n                                                    v-for=\"column in tableColumns(\r\n                                                      value,\r\n                                                      key\r\n                                                    )\"\r\n                                                    :key=\"column.id\"\r\n                                                  >\r\n                                                    {{ row[column.id] }}\r\n                                                  </td>\r\n                                                </tr>\r\n                                              </tbody>\r\n                                            </table>\r\n                                            <!-- <table\r\n                                            :key=\"'table' + key\"\r\n                                            class=\"sub-table q-mt-sm q-mb-sm\"\r\n                                          >\r\n                                            <thead>\r\n                                              <tr>\r\n                                                <th\r\n                                                  v-for=\"(\r\n                                                    field_item, field_key\r\n                                                  ) in tableValue(value)[0]\"\r\n                                                  :key=\"field_key\"\r\n                                                >\r\n                                                  {{\r\n                                                    getLabel(field_key, \"table\")\r\n                                                  }}\r\n                                                </th>\r\n                                              </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                              <tr\r\n                                                v-for=\"(\r\n                                                  field_item, field_key\r\n                                                ) in tableValue(value)\"\r\n                                                :key=\"field_key\"\r\n                                              >\r\n                                                <td\r\n                                                  v-for=\"(\r\n                                                    row_value, row_key\r\n                                                  ) in field_item\"\r\n                                                  :key=\"row_key\"\r\n                                                >\r\n                                                  {{ row_value }}\r\n                                                </td>\r\n                                              </tr>\r\n                                            </tbody>\r\n                                          </table> -->\r\n                                          </BaseScrollbar>\r\n                                        </td>\r\n                                      </tr>\r\n                                    </template>\r\n                                  </template>\r\n                                </template>\r\n                              </template>\r\n                            </template>\r\n                          </template>\r\n                        </table>\r\n                      </template>\r\n                    </BaseScrollbar>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-auto q-mr-sm leftBorder\">\r\n            <template v-for=\"tab in tabs\">\r\n              <BaseActionButton\r\n                :key=\"tab.id\"\r\n                v-tooltip.left=\"tab.label\"\r\n                is-flat\r\n                no-border\r\n                :icon=\"tab.icon\"\r\n                color=\"primary\"\r\n                class=\"tabButtons\"\r\n                @click=\"$emit('actions', tab.value, request.processId)\"\r\n              >\r\n                <span v-if=\"tab.count\" class=\"badge\">{{ tab.count }} </span>\r\n              </BaseActionButton>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </Sheet>\r\n\r\n    <Modal\r\n      v-model=\"expandTableModal\"\r\n      width=\"60vw\"\r\n      height=\"80vh\"\r\n      @input=\"expandTableModal = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title>{{ tableTitle }}</template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <div id=\"tableData\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th v-for=\"(value, key) in tableData[0]\" :key=\"key\">\r\n                  {{ key }}\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(row, index) in tableData\" :key=\"index\">\r\n                <td v-for=\"(value, key) in row\" :key=\"key\">\r\n                  {{ value }}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </template>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport Modal from \"@/components/common/popup/Modal.vue\";\r\nimport FormFieldLabel from \"@/components/common/form/FormFieldLabel.vue\";\r\nimport { workflow } from \"@/api/factory.js\";\r\nimport FileIcon from \"@/components/common/FileIcon.vue\";\r\n\r\nexport default {\r\n  name: \"List\",\r\n\r\n  components: {\r\n    Sheet,\r\n    Modal,\r\n    FormFieldLabel,\r\n    FileIcon,\r\n  },\r\n\r\n  props: {\r\n    columns: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    items: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    form: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    list: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    processLevel: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    noBackground: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    tableHeader: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n\r\n    formView: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    workflow: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loadingBarContent: false,\r\n      processSheet: false,\r\n      request: {},\r\n      stageLevel: [],\r\n      currentStep: 0,\r\n      tabs: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"attachments\",\r\n          value: \"ATTACHMENTS\",\r\n          icon: \"mdi-attachment\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"comments\",\r\n          value: \"COMMENTS\",\r\n          icon: \"mdi-comment-text-outline\",\r\n          count: 0,\r\n        },\r\n      ],\r\n      expandTableModal: false,\r\n      tableTitle: \"\",\r\n      tableData: [],\r\n      dummyData: true,\r\n      requestFormData: {},\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"darkTheme\"]),\r\n\r\n    _columns() {\r\n      return this.columns.filter(\r\n        (column) => column.type !== \"TITLE\" && column.isVisible\r\n      );\r\n    },\r\n\r\n    title() {\r\n      return this.columns.find((column) => column.type === \"TITLE\");\r\n    },\r\n\r\n    _subWorkflowColumns() {\r\n      let tableColumns = [\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"stage\",\r\n          label: \"Stage\",\r\n          type: \"SINGLE_SELECT\",\r\n          isVisible: true,\r\n          isSortable: true,\r\n          isGroupable: false,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"raisedBy\",\r\n          label: \"Raised By\",\r\n          type: \"SINGLE_SELECT\",\r\n          isVisible: true,\r\n          isSortable: true,\r\n          isGroupable: false,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"raisedAt\",\r\n          label: \"Raised On\",\r\n          type: \"DATE\",\r\n          isVisible: true,\r\n          isSortable: true,\r\n          isGroupable: false,\r\n        },\r\n      ];\r\n      return tableColumns;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    formView(newVal) {\r\n      if (newVal === false) {\r\n        this.openTable();\r\n      } else if (newVal === true) {\r\n        this.processSheet = false;\r\n        this.openForm();\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    computedBackgroundColor() {\r\n      const color =\r\n        this.darkTheme !== undefined\r\n          ? this.darkTheme\r\n            ? \"#1c313a\"\r\n            : \"#e0f5fa\"\r\n          : \"#e0f5fa\";\r\n      return color;\r\n    },\r\n\r\n    expandSubWorkflow(item) {\r\n      item.displaySubTable = !item.displaySubTable;\r\n      this.dummyData = !this.dummyData;\r\n    },\r\n\r\n    openSubSheet(item) {\r\n      this.$emit(\"opensubprocess\", item);\r\n    },\r\n\r\n    openForm() {\r\n      this.$emit(\"update:formView\", true);\r\n      this.$emit(\"open\", this.request);\r\n    },\r\n\r\n    actionColor(action) {\r\n      if (this.darkTheme) {\r\n        if (!action) {\r\n          return \"\";\r\n        }\r\n        if (action.toLowerCase().indexOf(\"reply\") !== -1) {\r\n          return \"5px solid yellow\";\r\n        } else if (action.toLowerCase().indexOf(\"forward\") !== -1) {\r\n          return \"5px solid orange\";\r\n        } else if (action.toLowerCase().indexOf(\"approve\") !== -1) {\r\n          return \"5px solid green\";\r\n        } else if (action.toLowerCase().indexOf(\"reject\") !== -1) {\r\n          return \"5px solid red\";\r\n        } else {\r\n          return \"\";\r\n        }\r\n      } else {\r\n        if (!action) {\r\n          return \"\";\r\n        }\r\n        if (action.toLowerCase().indexOf(\"reply\") !== -1) {\r\n          return \"5px solid yellow\";\r\n        } else if (action.toLowerCase().indexOf(\"forward\") !== -1) {\r\n          return \"5px solid orange\";\r\n        } else if (action.toLowerCase().indexOf(\"approve\") !== -1) {\r\n          return \"5px solid green\";\r\n        } else if (action.toLowerCase().indexOf(\"reject\") !== -1) {\r\n          return \"5px solid red\";\r\n        } else {\r\n          return \"\";\r\n        }\r\n      }\r\n    },\r\n\r\n    async openTable() {\r\n      this.$emit(\"update:formView\", false);\r\n      this.loadingBarContent = true;\r\n      await this.getAttachments();\r\n      await this.getComments();\r\n      await this.processHistory();\r\n      this.processSheet = true;\r\n      this.loadingBarContent = false;\r\n    },\r\n\r\n    transformFormDataToPanelsArray(formData, panels) {\r\n      const transformedFormData = {\r\n        formId: formData.formId,\r\n        formEntryId: formData.formEntryId,\r\n        panels: [],\r\n      };\r\n\r\n      let wflowJson = JSON.parse(this.workflow.flowJson);\r\n      let secureControls = [];\r\n      wflowJson.blocks.forEach((block) => {\r\n        // console.log(block.settings.initiateBy);\r\n        if (block.settings.initiateBy.indexOf(\"PORTAL\") > -1) {\r\n          // console.log(block.settings.formSecureControls);\r\n          if (\r\n            block.settings.formSecureControls &&\r\n            block.settings.formSecureControls.length\r\n          ) {\r\n            secureControls.push(...block.settings.formSecureControls);\r\n          }\r\n        }\r\n      });\r\n      // console.log(secureControls);\r\n\r\n      panels.forEach((panel, index) => {\r\n        // console.log(secureControls.indexOf(panel.id));\r\n        if (secureControls.indexOf(panel.id) === -1) {\r\n          const panelTitle = panel.settings.title;\r\n          const panelFields = panel.fields;\r\n\r\n          const panelData = {\r\n            name: panelTitle,\r\n            panelsExpandView: index === 0,\r\n            fields: {},\r\n          };\r\n\r\n          panelFields.forEach((field) => {\r\n            const fieldId = field.id;\r\n            const fieldValue = formData.fields[fieldId] || \"\";\r\n            panelData.fields[fieldId] = fieldValue;\r\n          });\r\n\r\n          transformedFormData.panels.push(panelData);\r\n        }\r\n      });\r\n\r\n      return transformedFormData;\r\n    },\r\n\r\n    async openSheet(id) {\r\n      this.request = this.list.find((item) => item.processId === id);\r\n      if (this.request.inbox) {\r\n        this.$emit(\"update:formView\", true);\r\n        this.$emit(\"open\", this.request);\r\n      } else {\r\n        this.$emit(\"update:formView\", false);\r\n        this.loadingBarContent = true;\r\n        await this.getAttachments();\r\n        await this.getComments();\r\n        await this.processHistory();\r\n        this.processSheet = true;\r\n        this.loadingBarContent = false;\r\n      }\r\n      this.requestFormData = await this.transformFormDataToPanelsArray(\r\n        this.request.formData,\r\n        this.form.panels\r\n      );\r\n    },\r\n\r\n    validateType(key) {\r\n      let fieldType = \"\";\r\n      this.form.panels.forEach((panel) => {\r\n        if (!panel.fields.length) {\r\n          return;\r\n        }\r\n        let formField = panel.fields.find((field) => field.id === key);\r\n        if (formField) {\r\n          fieldType = formField.type;\r\n        }\r\n      });\r\n      return fieldType;\r\n    },\r\n\r\n    getLabel(id, type) {\r\n      let controlLabel = \"\";\r\n      this.form.panels.forEach((panel) => {\r\n        if (!panel.fields.length) {\r\n          return;\r\n        }\r\n        for (let field of panel.fields) {\r\n          if (type === \"table\") {\r\n            const column = field.settings.specific.tableColumns.find(\r\n              (column) => column.id === id\r\n            );\r\n            if (column) {\r\n              controlLabel = column.label;\r\n            }\r\n          } else {\r\n            if (field.id === id && field.settings.general.hideLabel === false) {\r\n              controlLabel = field.label;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return controlLabel;\r\n    },\r\n\r\n    validateValue(value) {\r\n      let urlPattern =\r\n        /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\r\n      return !urlPattern.test(value);\r\n    },\r\n\r\n    removeTags(value) {\r\n      if (!value) return \"\";\r\n      return value.replace(/(<([^>]+)>)/gi, \"\");\r\n    },\r\n\r\n    tableValue(value) {\r\n      if (value) {\r\n        return JSON.parse(value);\r\n      }\r\n      return [];\r\n    },\r\n\r\n    tableColumns(value, key) {\r\n      // console.log(key);\r\n\r\n      let fields = [];\r\n      for (const panel of this.form.panels) {\r\n        fields.push(...panel.fields);\r\n      }\r\n\r\n      let field = fields.find((column) => column.id === key);\r\n      let tblColumns = [];\r\n      // console.log(fields, field);\r\n      field.settings.specific.tableColumns.forEach((col) => {\r\n        if (col.settings.general.visibility !== \"DISABLE\") {\r\n          tblColumns.push(col);\r\n        }\r\n      });\r\n      let columns = [];\r\n      let _tblColumns = [];\r\n\r\n      for (let key1 in this.tableValue(value)[0]) {\r\n        columns.push(key1);\r\n      }\r\n\r\n      tblColumns.forEach((col) => {\r\n        // console.log(columns.indexOf(col.id));\r\n        if (columns.indexOf(col.id) > -1) {\r\n          _tblColumns.push(col);\r\n        }\r\n      });\r\n\r\n      return _tblColumns;\r\n    },\r\n\r\n    viewFile(file, item) {\r\n      file.createdBy = item.createdBy;\r\n      file.createdAt = item.createdAt;\r\n      if (!file.name) {\r\n        file.name = file.fileName;\r\n      }\r\n      if (!file.id) {\r\n        file.id = file.itemId;\r\n      }\r\n      this.$emit(\"viewFile\", file);\r\n    },\r\n\r\n    fileType(fileName) {\r\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\r\n      else \"\";\r\n    },\r\n\r\n    showTable(name, value) {\r\n      this.tableData = [];\r\n      this.tableTitle = name;\r\n      let data = JSON.parse(value);\r\n      for (let item of data) {\r\n        let row = {};\r\n        for (let key of Object.keys(item)) {\r\n          const label = this.getLabel(key, \"table\");\r\n          row[label] = item[key];\r\n        }\r\n        this.tableData.push(row);\r\n      }\r\n      this.expandTableModal = true;\r\n    },\r\n\r\n    async getAttachments() {\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"ATTACHMENTS\") {\r\n          tab.count = 0;\r\n        }\r\n      });\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getAttachments(\r\n        this.request.id,\r\n        this.request.processId\r\n      );\r\n\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.tabs.find((tab) => {\r\n          if (tab.value === \"ATTACHMENTS\") {\r\n            tab.count = payload.length;\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    async getComments() {\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"COMMENTS\") {\r\n          tab.count = 0;\r\n        }\r\n      });\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getProcessComments(\r\n        this.request.id,\r\n        this.request.processId\r\n      );\r\n\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.tabs.find((tab) => {\r\n          if (tab.value === \"COMMENTS\") {\r\n            tab.count = payload.length;\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    async processHistory() {\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.processHistory(\r\n        this.request.id,\r\n        this.request.processId\r\n      );\r\n\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.stageLevel = [];\r\n        this.currentStep = 0;\r\n        payload.forEach((row) => {\r\n          if (row.actionStatus !== 2) {\r\n            if (\r\n              this.stageLevel.filter((stage) => stage.id === row.activityId)\r\n                .length === 0\r\n            ) {\r\n              this.stageLevel.push({\r\n                id: row.activityId,\r\n                label: row.stage,\r\n                status: row.status,\r\n              });\r\n              if (\r\n                ((row.actionUser || row.subWorkflowHistory) &&\r\n                  row.status &&\r\n                  row.status !== \"Forward\") ||\r\n                (row.actionUser === null && !row.subWorkflowHistory)\r\n              ) {\r\n                this.currentStep += 1;\r\n              }\r\n            } else if (row.status) {\r\n              if (\r\n                this.stageLevel.filter(\r\n                  (stage) =>\r\n                    stage.id === row.activityId && stage.status !== row.status\r\n                ).length\r\n              ) {\r\n                this.currentStep += 1;\r\n              } else {\r\n                this.currentStep -= 1;\r\n              }\r\n            } else {\r\n              let index = this.stageLevel.findIndex(\r\n                (stage) => stage.id === row.activityId\r\n              );\r\n              if (index > -1) {\r\n                this.stageLevel.splice(index, this.stageLevel.length - index);\r\n                this.stageLevel.push({\r\n                  id: row.activityId,\r\n                  label: row.stage,\r\n                  status: row.status,\r\n                });\r\n                if (\r\n                  (row.actionUser && row.status && row.status !== \"Forward\") ||\r\n                  row.actionUser === null\r\n                ) {\r\n                  this.currentStep = index + 1;\r\n                } else {\r\n                  this.currentStep = index;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    isVisible(key) {\r\n      const columns = this._columns;\r\n      const columnIdx = columns.findIndex((column) => column.name === key);\r\n\r\n      if (columnIdx > -1) {\r\n        return columns[columnIdx].isVisible;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#list {\r\n  .icon-button {\r\n    border: none;\r\n    background: none;\r\n    cursor: pointer;\r\n    font-size: 1.5rem;\r\n    outline: none;\r\n  }\r\n\r\n  .badge {\r\n    -webkit-border-radius: 9px;\r\n    -moz-border-radius: 9px;\r\n    border-radius: 9px;\r\n    font-size: 12px;\r\n    background: $primary;\r\n    color: #fff;\r\n    padding: 0 5px;\r\n    vertical-align: top;\r\n    margin-top: -20px;\r\n    margin-right: -20px;\r\n    position: absolute;\r\n    z-index: 1;\r\n  }\r\n\r\n  table {\r\n    table-layout: fixed;\r\n    max-width: 100%;\r\n    min-width: calc(100% - 1px);\r\n    border-collapse: collapse;\r\n    white-space: nowrap;\r\n\r\n    thead {\r\n      tr {\r\n        height: 36px;\r\n\r\n        th {\r\n          @extend .text-xs;\r\n          padding: 8px 8px 16px;\r\n          color: var(--icon-color-inverted);\r\n          text-align: left;\r\n          font-weight: normal;\r\n          background-color: var(--body-bg-color);\r\n\r\n          &.sticky {\r\n            background-color: var(--body-bg-color);\r\n            position: sticky;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    tbody {\r\n      tr {\r\n        border-top: 1px solid var(--divider-color);\r\n\r\n        &:hover {\r\n          cursor: pointer;\r\n        }\r\n\r\n        &:first-child {\r\n          border-top: none;\r\n        }\r\n\r\n        td {\r\n          padding: 8px;\r\n          height: 52px;\r\n\r\n          &.sticky {\r\n            background-color: var(--component-bg-color);\r\n            position: sticky;\r\n            z-index: 1;\r\n          }\r\n\r\n          :deep .stat {\r\n            text-decoration: underline;\r\n\r\n            &:hover {\r\n              color: var(--secondary);\r\n            }\r\n          }\r\n\r\n          .link-text {\r\n            color: #007bff; /* Set the text color to a standard link color (blue in this case) */\r\n            text-decoration: underline; /* Underline the text to indicate it's a link */\r\n            cursor: pointer; /* Change the cursor to a hand icon on hover, indicating it's clickable */\r\n          }\r\n\r\n          .link-text:hover {\r\n            color: #0056b3; /* Change the text color on hover for better user feedback */\r\n          }\r\n        }\r\n      }\r\n\r\n      .ellipsis:hover {\r\n        width: 200px;\r\n        overflow: visible;\r\n        white-space: normal;\r\n        word-break: break-all;\r\n      }\r\n    }\r\n  }\r\n\r\n  .mini-avatar {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n\r\n  .text-underline {\r\n    text-decoration: underline;\r\n  }\r\n}\r\n#sheet {\r\n  #requestDetails {\r\n    table {\r\n      &.submittedData {\r\n        background: $primary-1;\r\n      }\r\n      &.mainData {\r\n        table-layout: fixed;\r\n      }\r\n      width: 100%;\r\n      border-radius: 10px;\r\n      border: 1px solid var(--divider-color);\r\n\r\n      tr {\r\n        height: 36px;\r\n\r\n        th {\r\n          color: $primary-11;\r\n          text-align: left;\r\n        }\r\n      }\r\n\r\n      th,\r\n      td {\r\n        padding: 8px;\r\n        font-weight: 500;\r\n      }\r\n\r\n      th:not(:last-child),\r\n      td:not(:last-child) {\r\n        border-right: 1px solid var(--divider-color);\r\n      }\r\n\r\n      tr:not(:last-child) {\r\n        td,\r\n        th {\r\n          border-bottom: 1px solid var(--divider-color);\r\n        }\r\n      }\r\n\r\n      .tblHeader {\r\n        color: $primary-11;\r\n        font-weight: 500;\r\n        &.small {\r\n          width: 200px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .ellipsis:hover {\r\n      overflow: visible;\r\n      white-space: normal;\r\n      word-break: break-all;\r\n    }\r\n\r\n    .mini-avatar {\r\n      width: 18px;\r\n      height: 18px;\r\n    }\r\n\r\n    .text-underline {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n\r\n  .badge {\r\n    -webkit-border-radius: 9px;\r\n    -moz-border-radius: 9px;\r\n    border-radius: 9px;\r\n    font-size: 12px;\r\n    background: $primary;\r\n    color: #fff;\r\n    padding: 0 5px;\r\n    vertical-align: top;\r\n    margin-top: -30px;\r\n    margin-right: -20px;\r\n    position: absolute;\r\n    z-index: 1;\r\n  }\r\n\r\n  .leftBorder {\r\n    border-left: 1px solid var(--divider-color);\r\n  }\r\n\r\n  #action-btn.tabButtons {\r\n    height: 52px;\r\n    width: 52px;\r\n  }\r\n\r\n  .row .q-dark .q-stepper__title {\r\n    color: white;\r\n  }\r\n  .row .q-light {\r\n    .q-stepper--horizontal .q-stepper__line:before,\r\n    .q-stepper--horizontal .q-stepper__line:after {\r\n      background: rgb(0 0 0 / 12%);\r\n    }\r\n  }\r\n\r\n  .row .q-dark {\r\n    .q-stepper--horizontal .q-stepper__line:before,\r\n    .q-stepper--horizontal .q-stepper__line:after {\r\n      background: #0074ff;\r\n    }\r\n  }\r\n\r\n  .row .q-stepper.q-stepper--horizontal {\r\n    background: var(--component-bg-color) !important;\r\n  }\r\n}\r\n\r\n#modal #tableData {\r\n  table {\r\n    width: 100%;\r\n    margin-bottom: 15px;\r\n    border: 1px solid var(--divider-color);\r\n    border-radius: 10px;\r\n\r\n    tr {\r\n      height: 36px;\r\n\r\n      th {\r\n        color: var(--secondary);\r\n        text-align: left;\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      padding: 8px;\r\n      font-weight: 500;\r\n    }\r\n\r\n    th {\r\n      border-bottom: 1px solid var(--divider-color);\r\n    }\r\n\r\n    tr:not(:first-child) td {\r\n      border-top: 1px solid var(--divider-color); /* Add top border to the first row */\r\n    }\r\n\r\n    th:not(:last-child),\r\n    td:not(:last-child) {\r\n      border-right: 1px solid var(--divider-color); /* Add top border to the first row */\r\n    }\r\n  }\r\n}\r\n\r\n// #portalList {\r\n//   #list {\r\n//     table {\r\n//       th:hover,\r\n//       tr {\r\n//         td:nth-child(2) {\r\n//           overflow: hidden !important;\r\n//           white-space: unset !important;\r\n//         }\r\n//       }\r\n//     }\r\n//   }\r\n// }\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=012bd1e0&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=012bd1e0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QStepper from 'quasar/src/components/stepper/QStepper.js';\nimport QStep from 'quasar/src/components/stepper/QStep.js';\nimport qInstall from \"../../../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QStepper,QStep});\n","<template>\r\n  <div id=\"portalList\">\r\n    <List\r\n      :columns=\"columns\"\r\n      :items=\"items\"\r\n      :form=\"form\"\r\n      :list=\"list\"\r\n      :process-level=\"processLevel\"\r\n      :form-view.sync=\"formView\"\r\n      :workflow=\"workflow\"\r\n      @actions=\"handleActions\"\r\n      @subactions=\"handleSubActions\"\r\n      @open=\"handleProcess\"\r\n      @opensubprocess=\"handleSubProcess\"\r\n      @viewFile=\"handleViewFile\"\r\n      @update:formView=\"handleFormViewUpdate\"\r\n    >\r\n    </List>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport List from \"./List/List.vue\";\r\n\r\nexport default {\r\n  name: \"PortalList\",\r\n\r\n  components: { List },\r\n\r\n  props: {\r\n    columns: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    items: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    form: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    list: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    processLevel: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    formView: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    workflow: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    handleActions(tab, id) {\r\n      this.$emit(\"actions\", tab, id);\r\n    },\r\n\r\n    handleSubActions(tab, mainProcess, id) {\r\n      this.$emit(\"subactions\", tab, mainProcess, id);\r\n    },\r\n\r\n    handleProcess(request) {\r\n      this.$emit(\"open\", request);\r\n    },\r\n\r\n    handleSubProcess(request) {\r\n      this.$emit(\"opensubprocess\", request);\r\n    },\r\n\r\n    handleViewFile(file) {\r\n      this.$emit(\"viewFile\", file);\r\n    },\r\n\r\n    handleFormViewUpdate(value) {\r\n      this.$emit(\"update:formView\", value);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#portalList {\r\n  #list {\r\n    table {\r\n      width: 100%;\r\n      th:not(.icon),\r\n      td:not(.icon) {\r\n        width: 150px;\r\n        .subWorkflowTable {\r\n          th:not(.icon),\r\n          td:not(.icon) {\r\n            width: auto;\r\n          }\r\n        }\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n      th.icon,\r\n      td.icon {\r\n        width: 36px;\r\n        white-space: nowrap;\r\n      }\r\n\r\n      th:hover,\r\n      td:hover {\r\n        overflow: visible;\r\n        white-space: normal;\r\n        word-break: break-all;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PortalList.vue?vue&type=template&id=cc0086f8&\"\nimport script from \"./PortalList.vue?vue&type=script&lang=js&\"\nexport * from \"./PortalList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PortalList.vue?vue&type=style&index=0&id=cc0086f8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"portals-access\" :style=\"{ width: portalWidth }\">\n    <!-- header -->\n\n    <div class=\"row portal-header\">\n      <div v-if=\"isLogoRequired\" class=\"col-auto logo q-pa-md\">\n        <img :src=\"_logo\" :height=\"logoHeight\" />\n      </div>\n      <div class=\"header col\">\n        <div class=\"col text-center\">\n          <div class=\"title-1\">{{ title }}</div>\n          <!-- <div class=\"description\">{{ description }}</div> -->\n        </div>\n\n        <ThemeSwitcher class=\"q-ml-sm\" :no-border=\"false\" />\n\n        <BaseActionButton\n          is-flat\n          icon=\"eva-power-outline\"\n          no-border\n          class=\"q-ml-sm\"\n          @click=\"logOut\"\n        />\n      </div>\n    </div>\n\n    <!-- ... -->\n\n    <Sheet\n      v-model=\"processSheet\"\n      width=\"100vw\"\n      has-footer\n      no-padding\n      @input=\"processSheet = false\"\n    >\n      <!-- title -->\n\n      <template #title>{{ headerTitle }} </template>\n\n      <!-- ... -->\n\n      <template #actions>\n        <template v-if=\"workflow.initiatedBy !== 'DOCUMENT'\">\n          <template v-if=\"mandatory.filledValue || mandatory.nonFilledValue\">\n            <q-circular-progress\n              show-value\n              font-size=\"12px\"\n              :value=\"mandatoryFilling\"\n              size=\"lg\"\n              :thickness=\"0.22\"\n              color=\"primary\"\n              track-color=\"grey-3\"\n              class=\"q-mr-sm\"\n            >\n              {{ mandatoryFilling }}%\n            </q-circular-progress>\n          </template>\n          <div v-if=\"mandatory.filledValue\" class=\"chip-success q-mr-sm\">\n            <div class=\"\">{{ mandatory.filledValue }} ready</div>\n          </div>\n          <div\n            v-if=\"mandatory.nonFilledValue\"\n            class=\"chip-warning\"\n            @click=\"checkFormValidation\"\n          >\n            <div class=\"\">{{ mandatory.nonFilledValue }} need to work</div>\n          </div>\n        </template>\n        <template v-if=\"mandatoryDocument.length\">\n          <div\n            class=\"chip-warning cursor-pointer\"\n            @click=\"attachmentSheet = true\"\n          >\n            <div class=\"\">{{ mandatoryDocument.length }} document required</div>\n          </div>\n        </template>\n        <BaseActionButton\n          v-if=\"\n            !formView &&\n            Object.keys(selectedProcess).length &&\n            actions.length === 0\n          \"\n          v-tooltip.top=\"'Form View'\"\n          is-flat\n          :icon=\"'mdi-form-select'\"\n          class=\"q-mr-sm\"\n          @click=\"formView = true\"\n        />\n\n        <BaseActionButton\n          v-else-if=\"\n            Object.keys(selectedProcess).length && actions.length === 0\n          \"\n          v-tooltip.top=\"'Details View'\"\n          is-flat\n          :icon=\"'mdi-table-column'\"\n          class=\"q-mr-sm\"\n          @click=\"formView = false\"\n        />\n      </template>\n\n      <!-- content -->\n\n      <div id=\"content-wrapper\" class=\"row\">\n        <div v-if=\"formId\" id=\"form-view\" class=\"col\">\n          <BaseScrollbar height=\"calc(100vh - 145px)\">\n            <RenderForm\n              :form-id=\"formId\"\n              :panels=\"panels\"\n              :secondary-panels=\"secondaryPanels\"\n              :form-settings=\"formSettings\"\n              :form-model=\"formModel\"\n              :workflow-actions=\"[]\"\n              :save-action.sync=\"saveAction\"\n              :workflow-form-model.sync=\"workflowFormModel\"\n              :workflow-model.sync=\"workflowModel\"\n              :is-readonly=\"formEditAccess\"\n              :form-edit-controls=\"formEditControls\"\n              :readonly-controls=\"readonlyControls\"\n              :form-visibility-access=\"formVisibilityAccess\"\n              :form-secure-controls=\"formSecureControls\"\n              :enable-controls=\"_enableControls\"\n              :form-upload-files=\"formUploadFiles\"\n              :has-check-form-validate.sync=\"hasCheckFormValidate\"\n              :ocr-result=\"ocrResult\"\n              :check-list.sync=\"checkList\"\n              @uploadFiles=\"getOCRResult\"\n              @mandatoryControlsList=\"mandatoryControlsList\"\n              @deletedFiles=\"deletedFiles\"\n            />\n          </BaseScrollbar>\n        </div>\n        <div class=\"col-auto q-mr-sm leftBorder\">\n          <template v-for=\"tab in tabs\">\n            <BaseActionButton\n              :key=\"tab.id\"\n              v-tooltip.left=\"tab.label\"\n              is-flat\n              no-border\n              :icon=\"tab.icon\"\n              color=\"primary\"\n              class=\"tabButtons\"\n              @click=\"showLinks(tab.value)\"\n            >\n              <span v-if=\"tab.count\" class=\"badge\">{{ tab.count }} </span>\n            </BaseActionButton>\n          </template>\n        </div>\n      </div>\n\n      <!-- ... -->\n\n      <!-- footer -->\n      <template v-if=\"actions.length\" #footer>\n        <!-- <q-space /> -->\n        <BaseButton\n          label=\"Save\"\n          class=\"q-ml-md\"\n          color=\"secondary\"\n          @click=\"\n            {\n              btnAction = true;\n              saveAction = 'Save';\n            }\n          \"\n        />\n        <template v-for=\"action in actions\">\n          <BaseButton\n            :key=\"action\"\n            :label=\"action\"\n            class=\"q-ml-md col-auto\"\n            @click=\"\n              {\n                btnAction = true;\n                saveAction = action;\n              }\n            \"\n          />\n        </template>\n      </template>\n      <!-- ... -->\n    </Sheet>\n\n    <!-- content -->\n    <div class=\"content\">\n      <div class=\"q-pa-sm\">\n        <div v-if=\"workflowId && trackRequest\">\n          <BaseScrollbar height=\"calc(100vh - 160px)'\">\n            <div class=\"row q-mb-sm\">\n              <div class=\"toggle-btn justify-center row items-center q-pr-md\">\n                <div\n                  class=\"col-auto q-mr-sm q-ml-sm q-pl-sm q-pr-sm\"\n                  :class=\"[\n                    inbox ? 'active-btn' : '',\n                    darkTheme ? 'custom-tab' : '',\n                  ]\"\n                  @click=\"getlist(true)\"\n                >\n                  Application Received\n                  <span v-if=\"inboxCount\" class=\"data-count\">{{\n                    inboxCount\n                  }}</span>\n                </div>\n                <div\n                  class=\"col q-mr-sm q-ml-md q-pl-sm q-pr-sm\"\n                  :class=\"[\n                    !inbox ? 'active-btn' : '',\n                    darkTheme ? 'custom-tab' : '',\n                  ]\"\n                  @click=\"getlist(false)\"\n                >\n                  All Applications\n                  <span v-if=\"processCount\" class=\"data-count\">\n                    {{ processCount }}\n                  </span>\n                </div>\n              </div>\n\n              <q-space />\n              <div class=\"col-auto q-mr-sm\">\n                <BaseButton\n                  v-if=\"initiate\"\n                  label=\"Submit your request\"\n                  @click=\"openNewRequest\"\n                />\n              </div>\n              <div class=\"col-auto q-mt-xs\">\n                <div id=\"global-search\">\n                  <BaseIcon name=\"eva-search\" />\n\n                  <div class=\"label\">\n                    <input\n                      ref=\"searchQuery\"\n                      v-model=\"search\"\n                      type=\"text\"\n                      class=\"q-px-xs\"\n                      placeholder=\"Search request...\"\n                      @keyup=\"searchList()\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-auto q-ml-xs\">\n                <PortalFilterItems\n                  item=\"proces\"\n                  :columns=\"_columns\"\n                  :filter-by.sync=\"filterBy\"\n                  :selected-filter=\"selectedFilter\"\n                  @update=\"getWorkflowData\"\n                  @refresh=\"getRequestList\"\n                />\n              </div>\n              <div class=\"col-auto q-ml-xs\">\n                <BaseActionButton\n                  v-tooltip.top=\"'Refresh'\"\n                  icon=\"eva-refresh\"\n                  color=\"gray\"\n                  no-border\n                  is-flat\n                  size=\"20px\"\n                  @click=\"getRequestList\"\n                />\n              </div>\n              <div class=\"col-auto q-ml-xs q-mr-md\">\n                <BaseActionButton\n                  v-tooltip.top=\"'Export'\"\n                  is-flat\n                  no-border\n                  icon=\"mdi-table-arrow-right\"\n                  @click=\"export_Data\"\n                />\n              </div>\n            </div>\n            <div class=\"subdetcontent\">\n              <BaseLoadingBarSheet\n                v-if=\"loadingBarContent\"\n                class=\"loading-content\"\n              />\n              <BaseScrollbar height=\"calc(100vh - 180px)\">\n                <PortalList\n                  :items=\"_items\"\n                  :columns=\"_columns\"\n                  :form=\"form\"\n                  :list=\"workflowRequestList\"\n                  :process-level=\"processLevel\"\n                  :form-view.sync=\"formView\"\n                  :workflow=\"workflow\"\n                  @actions=\"showLinks\"\n                  @subactions=\"showSubLinks\"\n                  @open=\"openProcess\"\n                  @opensubprocess=\"openSubProcess\"\n                  @viewFile=\"openFile\"\n                  @update:formView=\"handleFormViewUpdate\"\n                />\n              </BaseScrollbar>\n            </div>\n            <Pagination\n              v-if=\"false\"\n              class=\"portal\"\n              :total-items=\"totalItems\"\n              :current-page.sync=\"currentPage\"\n              :items-per-page.sync=\"itemsPerPage\"\n            />\n          </BaseScrollbar>\n        </div>\n      </div>\n    </div>\n\n    <!-- ... -->\n\n    <!-- attachments -->\n\n    <Sheet\n      v-model=\"attachmentSheet\"\n      width=\"30vw\"\n      :sub-actions=\"checkListTemplate\"\n      :sub-actions-height=\"105\"\n      :upload=\"uploadAccess\"\n      @input=\"closeAttachmentsSheet\"\n    >\n      <!-- title -->\n\n      <template #title> Attachments </template>\n\n      <template #actions>\n        <div\n          v-if=\"selectedProcess.processId\"\n          class=\"q-ml-sm text-gray q-mr-sm ellipsis\"\n          style=\"font-size: 10px\"\n        >\n          auto-refresh every 15 seconds\n        </div>\n        <BaseActionButton\n          v-tooltip.top=\"'refresh'\"\n          icon=\"mdi-refresh\"\n          color=\"secondary\"\n          class=\"q-mr-xs\"\n          no-border\n          is-flat\n          size=\"20px\"\n          @click=\"getAttachments(0)\"\n        />\n      </template>\n\n      <template v-if=\"uploadAccess\" #upload>\n        <div\n          class=\"hint\"\n          @click=\"\n            {\n              rowIndex = null;\n              $refs.attachments.click();\n            }\n          \"\n        >\n          <BaseIcon\n            name=\"eva-cloud-upload-outline\"\n            size=\"32px\"\n            color=\"blue\"\n            class=\"icon\"\n          />\n\n          <div class=\"title text-blue\">UPLOAD FILES</div>\n          <div class=\"description\">Click here to choose files and upload</div>\n        </div>\n      </template>\n\n      <template #subActions>\n        <div class=\"q-mt-sm\">\n          <div class=\"row q-mb-sm\">\n            <div class=\"q-mt-xs\">Checklist Documents</div>\n            <q-space />\n            <div @click=\"downloadAll\">\n              <q-chip outline color=\"grey\" class=\"chips grey-hover large\">\n                Download All\n              </q-chip>\n            </div>\n          </div>\n          <div class=\"row q-mb-md description text-sm text-grey\">\n            It can be useful to ensure that all necessary information and\n            supporting documents are included when submitting a claim\n          </div>\n        </div>\n      </template>\n\n      <!-- content -->\n      <div id=\"content-wrapper\">\n        <BaseScrollbar height=\"calc(100vh - 210px)\">\n          <input\n            ref=\"attachments\"\n            type=\"file\"\n            class=\"hidden\"\n            @change=\"uploadWflowAttachments\"\n          />\n          <template v-for=\"row in checkList\">\n            <template\n              v-if=\"row.name && (!row.hasOwnProperty('visible') || row.show)\"\n            >\n              <div v-if=\"!row.attach\" :key=\"row.uid\" class=\"checkList\">\n                <div class=\"row\">\n                  <div class=\"col-auto\">\n                    <BaseIcon name=\"mdi-file-check-outline\" color=\"primary\" />\n                  </div>\n                  <div class=\"col q-ml-sm\">\n                    <div class=\"row\">\n                      <div class=\"col-12\">\n                        {{ row.name }}\n                      </div>\n                      <div v-if=\"row.required\" class=\"col-12 q-mt-sm\">\n                        <q-chip outline color=\"red\" class=\"chips small\">\n                          Required\n                        </q-chip>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"col-auto\">\n                    <div class=\"col-12\" @click=\"attachTemplate(row.uid)\">\n                      <q-chip\n                        outline\n                        color=\"primary\"\n                        class=\"chips primary-hover medium\"\n                      >\n                        <q-avatar\n                          icon=\"eva-upload-outline\"\n                          class=\"q-mr-sm\"\n                          color=\"primary\"\n                          text-color=\"white\"\n                        />\n                        Upload\n                      </q-chip>\n                    </div>\n                    <div\n                      v-if=\"row.template\"\n                      class=\"col-12\"\n                      @click=\"download(row.id)\"\n                    >\n                      <q-chip\n                        outline\n                        color=\"secondary\"\n                        class=\"chips secondary-hover medium\"\n                      >\n                        <q-avatar\n                          icon=\"eva-download-outline\"\n                          class=\"q-mr-sm\"\n                          color=\"secondary\"\n                          text-color=\"white\"\n                        />\n                        Download\n                      </q-chip>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </template>\n          <template v-for=\"file in attachmentList\">\n            <div :key=\"file.id\" class=\"attachmentList\">\n              <div\n                class=\"title row\"\n                :class=\"checkTenant ? 'cursor-pointer' : ''\"\n              >\n                <div v-if=\"selectedProcess.processId\" class=\"col-auto\">\n                  <!-- <CheckboxField v-model=\"file.checked\" class=\"col-auto\" /> -->\n                  <BaseIcon\n                    :name=\"\n                      file.checked\n                        ? 'eva-checkmark-circle-2'\n                        : 'eva-radio-button-off-outline'\n                    \"\n                    color=\"secondary\"\n                    class=\"q-mr-sm\"\n                    @click=\"file.checked = !file.checked\"\n                  />\n                </div>\n                <!-- <div v-if=\"file.formJsonId\" class=\"col-auto\">\n                  <BaseIcon\n                    v-tooltip:green.top=\"getLabel(file.formJsonId)\"\n                    name=\"mdi-form-select\"\n                    color=\"primary\"\n                    class=\"q-mr-sm\"\n                  />\n                </div> -->\n                <div class=\"col-auto\">\n                  <FileIcon\n                    :mime-type=\"fileType(file.name)\"\n                    class=\"mini-avatar q-mr-sm\"\n                  />\n                </div>\n                <div class=\"col ellipsis\" @click=\"openFile(file)\">\n                  {{ file.name }}\n                </div>\n\n                <div v-if=\"checkTenant\" class=\"col-auto\">\n                  <BaseActionButton\n                    v-tooltip.top=\"'delete'\"\n                    icon=\"eva-trash-2-outline\"\n                    color=\"red\"\n                    no-border\n                    is-flat\n                    size=\"20px\"\n                    @click.stop=\"attachmentDelete(file)\"\n                  />\n                </div>\n              </div>\n\n              <div v-if=\"file.formJsonId\" class=\"row q-mb-sm\">\n                <div class=\"col-auto ellipsis attachment-label\">\n                  {{ getLabel(file.formJsonId) }}\n                </div>\n              </div>\n\n              <div class=\"meta row\">\n                <!-- created at -->\n\n                <div>{{ $day.format(file.createdAt) }}</div>\n\n                <!-- ... -->\n\n                <!-- created by -->\n\n                <template v-if=\"file.createdBy\">\n                  <BaseIcon name=\"mdi-circle-small\" />\n                  <div>{{ file.createdByEmail }}</div>\n                </template>\n\n                <!-- ... -->\n\n                <!-- size -->\n\n                <!-- <template v-if=\"file.size\">\n                <BaseIcon name=\"mdi-circle-small\" />\n                <div>{{ fileSize(file.size) }}</div>\n              </template> -->\n\n                <!-- ... -->\n              </div>\n            </div>\n          </template>\n        </BaseScrollbar>\n\n        <div class=\"q-mt-xs defaultBottom\">\n          <BaseIcon name=\"mdi-circle-medium\" color=\"red\" /> Required Documents\n        </div>\n      </div>\n    </Sheet>\n\n    <!-- ... -->\n\n    <!-- comments -->\n    <Sheet\n      v-model=\"commentsSheet\"\n      width=\"30vw\"\n      height=\"80vh\"\n      custom-height=\"30\"\n      @input=\"closeCommentsSheet\"\n    >\n      <!-- title -->\n\n      <template #title> Comments </template>\n\n      <!-- ... -->\n\n      <!-- content -->\n      <div id=\"content-wrapper\">\n        <BaseScrollbar height=\"calc(100vh - 155px)\">\n          <!-- comments -->\n          <template v-for=\"(row, idx) in commentsList\">\n            <q-chat-message\n              :key=\"idx\"\n              :name=\"\n                row.createdBy === $store.state.session.id\n                  ? 'me'\n                  : row.createdByEmail\n              \"\n              :text=\"[row.comments]\"\n              text-html\n              :sent=\"row.createdBy === $store.state.session.id\"\n              :stamp=\"lastCommentDuration(row)\"\n              :bg-color=\"\n                row.createdBy === $store.state.session.id\n                  ? 'primary-1'\n                  : 'secondary-2'\n              \"\n              class=\"q-ma-sm\"\n            />\n          </template>\n          <!-- ... -->\n        </BaseScrollbar>\n      </div>\n\n      <!-- ... -->\n\n      <div class=\"col q-pa-sm borderTop\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <TextAreaField\n              v-model=\"commentText\"\n              auto-focus\n              placeholder=\"Type a new comment...\"\n            />\n          </div>\n          <div class=\"col-auto\" style=\"margin: auto\">\n            <BaseActionButton\n              v-tooltip.left=\"'Post Comments'\"\n              icon=\"eva-paper-plane-outline\"\n              color=\"primary-11\"\n              class=\"q-ml-sm commentAction\"\n              size=\"16px\"\n              rotate-class=\"rotate-45\"\n              @click=\"saveComment\"\n            />\n            <BaseActionButton\n              v-tooltip.left=\"'Advanced Comments'\"\n              icon=\"mdi-comment-text-multiple\"\n              color=\"primary-11\"\n              class=\"q-ml-sm q-mt-sm commentAction\"\n              size=\"16px\"\n              @click=\"advancedCommentsSheet = true\"\n            />\n          </div>\n        </div>\n      </div>\n    </Sheet>\n\n    <!-- ... -->\n\n    <!-- file -->\n\n    <Sheet\n      v-model=\"fileSheet\"\n      no-padding\n      width=\"100vw\"\n      @input=\"fileSheet = false\"\n    >\n      <!-- title -->\n\n      <template #title>\n        <div class=\"attachmentFileHeader\">\n          <template v-if=\"selectedFile.formJsonId\">\n            <BaseActionButton\n              v-tooltip:green.bottom=\"getLabel(selectedFile.formJsonId)\"\n              is-flat\n              icon=\"mdi-form-select\"\n              color=\"primary\"\n              class=\"q-mr-sm\"\n            />\n          </template>\n          <div class=\"avatar q-ml-sm\">\n            <FileIcon :mime-type=\"fileType(selectedFile.name)\" />\n          </div>\n\n          <div class=\"q-ml-md\">\n            <div class=\"filename\">\n              {{ selectedFile.name }}\n            </div>\n\n            <div class=\"meta\">\n              <template v-if=\"selectedFile.createdAt\">\n                <div>\n                  Archived At: {{ $day.format(selectedFile.createdAt) }}\n                </div>\n                <BaseIcon name=\"mdi-circle-small\" />\n              </template>\n              <template v-if=\"selectedFile.createdByEmail\">\n                <div>Archived By: {{ selectedFile.createdByEmail }}</div>\n              </template>\n              <div v-if=\"selectedFile.size\">\n                <BaseIcon name=\"mdi-circle-small\" />\n                File Size: {{ fileSize(selectedFile.size) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <template #actions>\n        <BaseActionButton\n          v-tooltip.top=\"'Actions'\"\n          is-flat\n          icon=\"eva-menu\"\n          class=\"q-mr-sm\"\n        >\n          <q-menu\n            transition-show=\"scale\"\n            transition-hide=\"scale\"\n            anchor=\"bottom end\"\n            self=\"top right\"\n          >\n            <BaseScrollbar width=\"240px\" class=\"q-pb-sm\">\n              <!-- columns -->\n\n              <ListItem\n                v-for=\"action in documentActionList\"\n                :key=\"action.id\"\n                :icon=\"action.icon\"\n                :label=\"action.label\"\n                @click=\"documentAction(action)\"\n              >\n              </ListItem>\n            </BaseScrollbar>\n\n            <!-- ... -->\n          </q-menu>\n        </BaseActionButton>\n      </template>\n\n      <div class=\"attachmentFileFrame\">\n        <div class=\"file-list\">\n          <iframe\n            id=\"file-frame\"\n            ref=\"myFiles\"\n            :src=\"fileLink()\"\n            frameborder=\"0\"\n          ></iframe>\n        </div>\n      </div>\n    </Sheet>\n\n    <!-- ... -->\n\n    <Confirm\n      v-model=\"successModalClaim\"\n      icon=\"eva-checkmark-circle-2\"\n      icon-color=\"green\"\n      size=\"24px\"\n      @input=\"\n        {\n          successModalClaim = false;\n          refNo = '';\n        }\n      \"\n    >\n      <template #title>Claim Registered!</template>\n\n      <template #default>\n        <div class=\"q-py-md text-lg\">\n          <p>\n            Thank for submitting your Involuntary Unemployment claim to PSG.\n          </p>\n          <p>\n            Your reference number is<span class=\"text-primary\">\n              \"<b>{{ refNo }}\"</b>.\n            </span>\n          </p>\n          <p class=\"text-secondary\">\n            We have sent a link to the email address you provided which allows\n            you to track your claim.\n          </p>\n        </div>\n      </template>\n\n      <template #footer>\n        <BaseButton\n          label=\"Close\"\n          color=\"primary\"\n          @click=\"\n            {\n              successModalClaim = false;\n              refNo = '';\n              processSheet = false;\n            }\n          \"\n        />\n      </template>\n    </Confirm>\n\n    <Confirm\n      v-model=\"successModal\"\n      icon=\"eva-checkmark-circle-2\"\n      icon-color=\"green\"\n      size=\"24px\"\n      @input=\"\n        {\n          successModal = false;\n          refNo = '';\n        }\n      \"\n    >\n      <template #title>Request Registered!</template>\n\n      <template #default>\n        <div class=\"q-py-md text-lg\">\n          <p>Thank for submitting your Request.</p>\n          <p>\n            Your reference number is<span class=\"text-primary\">\n              \"<b>{{ refNo }}\"</b>.\n            </span>\n          </p>\n          <p class=\"text-secondary\">\n            We have sent a link to the email address you provided which allows\n            you to track your request.\n          </p>\n        </div>\n      </template>\n\n      <template #footer>\n        <BaseButton\n          label=\"Close\"\n          color=\"primary\"\n          @click=\"\n            {\n              successModal = false;\n              refNo = '';\n              processSheet = false;\n            }\n          \"\n        />\n      </template>\n    </Confirm>\n\n    <Confirm\n      v-model=\"documentAlertModal\"\n      icon=\"mdi-file-alert\"\n      icon-color=\"red\"\n      @input=\"closeDocumentAlertModal\"\n    >\n      <template #title>Documents Required!</template>\n\n      <template #default>\n        <div class=\"q-py-md text-md\">\n          <p>\n            Are you sure you want to submit the claim registration without\n            attaching the required documents.\n          </p>\n\n          <p class=\"text-secondary\">\n            After registration, you will get the link to track your claim.<br />From\n            there, you can upload the required documents once you have them.\n          </p>\n        </div>\n      </template>\n\n      <template #footer>\n        <BaseButton\n          is-flat\n          label=\"no\"\n          class=\"q-mr-sm\"\n          @click=\"closeDocumentAlertModal\"\n        />\n        <BaseButton label=\"yes\" color=\"primary\" @click=\"initiateRequest\" />\n      </template>\n    </Confirm>\n\n    <Confirm\n      v-model=\"alertModal\"\n      icon=\"mdi-file-alert\"\n      icon-color=\"red\"\n      @input=\"closeAlertModal\"\n    >\n      <template #title>Documents Required!</template>\n\n      <template #default>\n        <div class=\"q-py-md text-md\">\n          <p>\n            Are you sure you want to submit the request without attaching the\n            required documents.\n          </p>\n\n          <p class=\"text-secondary\">\n            After registration, you will get the link to track your request.<br />From\n            there, you can upload the required documents once you have them.\n          </p>\n        </div>\n      </template>\n\n      <template #footer>\n        <BaseButton\n          is-flat\n          label=\"no\"\n          class=\"q-mr-sm\"\n          @click=\"closeAlertModal\"\n        />\n        <BaseButton label=\"yes\" color=\"primary\" @click=\"initiateRequest\" />\n      </template>\n    </Confirm>\n\n    <Modal\n      v-model=\"advancedCommentsSheet\"\n      width=\"60vw\"\n      height=\"80vh\"\n      has-footer\n      @input=\"advancedCommentsSheet = false\"\n    >\n      <!-- title -->\n\n      <template #title> Comments</template>\n\n      <!-- ... -->\n\n      <template #default>\n        <TextBuilderField v-model=\"advancedCommentText\" />\n      </template>\n\n      <template #footer>\n        <BaseButton\n          label=\"Post\"\n          icon=\"eva-paper-plane-outline\"\n          color=\"primary\"\n          @click=\"saveAdvancedComment\"\n        />\n      </template>\n    </Modal>\n\n    <MetaDataEdit\n      :value=\"showMetaDataEditModal\"\n      :file=\"workflow\"\n      :repository-field=\"repositoryField\"\n      :file-data=\"fileData\"\n      title=\"Index\"\n      :columns=\"_columns\"\n      :modal-value=\"workflowModel\"\n      :upload-filename=\"uploadFilename\"\n      @close=\"closeMetaDataEditModal\"\n      @save=\"saveMetaData\"\n    />\n\n    <ProcessHistory\n      v-if=\"historyProcessId\"\n      :process-id=\"historyProcessId\"\n      :selected-process=\"selectedProcess\"\n      @close=\"historyProcessId = 0\"\n    />\n\n    <SubWorkflowProcess\n      :workflow-id=\"subWorkflowId || subProcessData.id\"\n      :main-workflow-id=\"workflow.id\"\n      :main-process-id=\"selectedProcess.processId\"\n      :selected-process=\"subProcessData\"\n      :open-sub-process=\"openSubProcessSheet\"\n      :portal=\"true\"\n      @closeProcessSheet=\"closeSubProcess\"\n    />\n\n    <Attachments\n      v-if=\"showAttachmentSheet\"\n      :value.sync=\"showAttachmentSheet\"\n      :selected-process=\"selectedProcess\"\n      :workflow=\"workflow\"\n      :selected-node=\"selectedNode\"\n      :initiate-process=\"initiate\"\n      :form-check-list=\"false\"\n      :check-list=\"checkList\"\n      :wform=\"form\"\n      :repository-details=\"repositoryDetails\"\n      :workflow-model=\"workflowModel\"\n      :form-upload-files=\"formUploadFiles\"\n      :repository-field=\"repositoryField\"\n      :columns=\"columns\"\n      :attachments.sync=\"attachmentList\"\n      :workflow-id=\"workflow.id\"\n      :is-portal=\"true\"\n      @attachmentCount=\"attachmentCount\"\n    />\n\n    <Comments\n      v-if=\"showCommentsSheet\"\n      :value.sync=\"showCommentsSheet\"\n      :selected-process=\"selectedProcess\"\n      :workflow=\"workflow\"\n      :selected-node=\"selectedNode\"\n      :initiate-process=\"initiate\"\n      :attachment-list=\"attachmentList\"\n      :workflow-id=\"workflow.id\"\n      :file-names=\"[]\"\n      :comments.sync=\"commentsList\"\n      :display-internal-public=\"false\"\n      :is-portal=\"true\"\n      @commentsCount=\"commentsCount\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport ThemeSwitcher from \"@/layouts/app/components/toolbar/components/ThemeSwitcher.vue\";\nimport RenderForm from \"@/components/common/render-form/RenderForm.vue\";\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\nimport formatBytes from \"@/helpers/format-bytes.js\";\nimport {\n  pdfSupport,\n  htmlSupport,\n  otherFilePDFSupport,\n  fileSupport,\n} from \"@/helpers/file-format.js\";\nimport axios from \"axios\";\nimport FileIcon from \"@/components/common/FileIcon.vue\";\nimport TextAreaField from \"@/components/common/form/text-area-field/TextAreaField.vue\";\nimport Modal from \"@/components/common/popup/Modal.vue\";\nimport {\n  portal,\n  workflow,\n  form,\n  repository,\n  uploadAndIndex,\n  report,\n  user,\n  menu,\n} from \"@/api/factory.js\";\nimport Confirm from \"@/components/common/popup/Confirm.vue\";\nimport PortalFilterItems from \"./components/PortalFilterItems.vue\";\nimport PortalList from \"./components/PortalList.vue\";\nimport TextBuilderField from \"@/components/common/form/text-builder-field/TextBuilderField.vue\";\nimport Pagination from \"@/components/common/display/Pagination.vue\";\nimport { exportData } from \"@/helpers/export-excel-data\";\nimport ListItem from \"@/components/common/ListItem.vue\";\nimport MetaDataEdit from \"@/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit\";\nimport ProcessHistory from \"@/components/common/workflow/ProcessHistory.vue\";\nimport SubWorkflowProcess from \"@/views/workflows/views/workflows-inbox/components/components/SubWorkflow\";\nimport { fileToBase64 } from \"@/helpers/file-to-base64.js\";\nimport { decrypt } from \"@/helpers/crypto\";\nimport { lowerCase, isEmpty } from \"lodash-es\";\nimport Attachments from \"@/components/common/workflow/Attachments.vue\";\nimport Comments from \"@/components/common/workflow/Comments.vue\";\nimport DataType from \"@/constants/data-type.js\";\n\nexport default {\n  name: \"PortalsAccess\",\n  components: {\n    ThemeSwitcher,\n    RenderForm,\n    Sheet,\n    FileIcon,\n    TextAreaField,\n    Modal,\n    Confirm,\n    PortalFilterItems,\n    PortalList,\n    TextBuilderField,\n    Pagination,\n    ListItem,\n    MetaDataEdit,\n    ProcessHistory,\n    SubWorkflowProcess,\n    Attachments,\n    Comments,\n  },\n\n  props: {\n    tenantId: {\n      type: String,\n      required: true,\n    },\n\n    portalId: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      inbox: true,\n      loadingBarContent: false,\n      portalWidth: \"100%\",\n      breadcrumbs: [],\n      activeItem: \"\",\n      tabList: [\n        {\n          id: this.$nano.id(),\n          label: \"Submit a claim\",\n          size: \"12\",\n          description:\n            \"If you wish to initiate a new claim, kindly begin by clicking the 'Submit a claim' button below.\",\n          children: [\n            {\n              id: this.$nano.id(),\n              label: \"IUI (Involuntary Unemployment)\",\n              size: \"6\",\n              workflowId: 13,\n              description: [\n                {\n                  id: this.$nano.id(),\n                  title: \"Required Information\",\n                  class: \"medium\",\n                  label:\n                    \"Please have the below documents ready to initiate an Involuntary Unemployment claim\",\n                  list: [\n                    {\n                      id: this.$nano.id(),\n                      label: \"- Record or Employment (ROE)\",\n                      condition: \"OR\",\n                    },\n                    {\n                      id: this.$nano.id(),\n                      label: \"- Employer’s Statement (If ROE not available)\",\n                      link: {\n                        label:\n                          \"Click here to download a pdf to be completed by your employer\",\n                        value:\n                          \"http://52.172.32.88/ezenterpriseAPI/template/Employer Statement.pdf\",\n                      },\n                    },\n                  ],\n                },\n                {\n                  id: this.$nano.id(),\n                  title: \"Complete the Claim Form\",\n                  label:\n                    \"Fill out the claim form thoroughly, providing all the required information.\",\n                },\n                {\n                  id: this.$nano.id(),\n                  title: \"Follow Up\",\n                  label:\n                    \"Once you have submitted the claim form and the supporting documents, a PSG representative will contact you to follow up on the status of your claim. You will also receive a link by email which will allow you to track the progress of your claim.\",\n                },\n              ],\n            },\n            {\n              id: this.$nano.id(),\n              label: \"Sickness / Injury\",\n              size: \"6\",\n              workflowId: 13,\n              description: [\n                {\n                  id: this.$nano.id(),\n                  title: \"Required Information\",\n                  class: \"medium\",\n                  label:\n                    \"All the below documents are required to initiate a Sickness/Injury Claim\",\n                  list: [\n                    {\n                      id: this.$nano.id(),\n                      label: \"- Employer’s Statement\",\n                    },\n                    {\n                      id: this.$nano.id(),\n                      label: \"- Physician’s Statement\",\n                    },\n                  ],\n                },\n                {\n                  id: this.$nano.id(),\n                  title: \"Complete the Claim Form\",\n                  label:\n                    \"Fill out the claim form thoroughly, providing all the required information.\",\n                },\n                {\n                  id: this.$nano.id(),\n                  title: \"Follow Up\",\n                  label:\n                    \"Once you have submitted the claim form and the supporting documents, a PSG representative will contact you to follow up on the status of your claim. You will also receive a link by email which will allow you to track the progress of your claim.\",\n                },\n              ],\n            },\n            {\n              id: this.$nano.id(),\n              label: \"Document Submission\",\n              size: \"12\",\n              workflowId: 1013,\n              description: [\n                {\n                  id: this.$nano.id(),\n                  title: \"\",\n                  size: \"medium\",\n                  label:\n                    \"You can also download the claim documents by clicking on the link below and upload them to this portal.\",\n                },\n                {\n                  id: this.$nano.id(),\n                  title: \"\",\n                  size: \"small\",\n                  label:\n                    \"Please note submitting forms through the below link might delay the process compared to submitting online forms on the link above.\",\n                },\n              ],\n            },\n          ],\n        },\n        {\n          id: this.$nano.id(),\n          label: \"Track your claim\",\n          size: \"12\",\n          description:\n            \"To track the progress of your claim, simply click on the 'Track your claim' button below.\",\n          workflowId: 13,\n        },\n      ],\n      drilledList: [],\n      workflowId: \"\",\n      workflow: {},\n      formId: \"\",\n      form: null,\n      formModel: {},\n      tabs: [\n        {\n          id: this.$nano.id(),\n          label: \"attachments\",\n          name: \"attachmentsCount\",\n          value: \"ATTACHMENTS\",\n          icon: \"mdi-attachment\",\n          count: 0,\n        },\n        {\n          id: this.$nano.id(),\n          label: \"comments\",\n          name: \"commentsCount\",\n          value: \"COMMENTS\",\n          icon: \"mdi-comment-text-outline\",\n          count: 0,\n        },\n      ],\n      attachmentSheet: false,\n      attachmentLoad: null,\n      commentsSheet: false,\n      commentText: \"\",\n      commentsList: [],\n      attachmentList: [],\n      fileSheet: false,\n      selectedFile: {},\n      selectedProcess: {},\n      checkList: [],\n      docWarning: false,\n      rowIndex: null,\n      actions: [],\n      processActionsAddOn: [],\n      workflowFormModel: {},\n      saveAction: \"\",\n      generatePDF: 0,\n      workflowRequestList: [],\n      search: \"\",\n      hasSelectedProcess: 0,\n      processLevel: [],\n      successModal: false,\n      successModalClaim: false,\n      refNo: \"\",\n      alertModal: false,\n      documentAlertModal: false,\n      formEditAccess: false,\n      formEditControls: [],\n      readonlyControls: [],\n      formVisibilityAccess: true,\n      formSecureControls: [],\n      trackRequest: false,\n      initiate: false,\n      processSheet: false,\n      name: \"Track your request\",\n      label: \"\",\n      filterBy: [],\n      items: \"\",\n      selectedFilter: [],\n      title: \"Track Portal\",\n      workflowRequestListData: [],\n      advancedCommentsSheet: false,\n      advancedCommentText: \"\",\n      userList: [],\n      totalItems: 0,\n      itemsPerPage: 100,\n      currentPage: 1,\n      headerTitle: \"\",\n      documentActionList: [\n        // {\n        //   id: \"Email_Sharing\",\n        //   key: \"emailSharing\",\n        //   label: \"Email Sharing\",\n        //   icon: \"mdi-email-outline\",\n        // },\n        {\n          id: \"Download\",\n          key: \"download\",\n          label: \"Download\",\n          icon: \"mdi-download-outline\",\n        },\n        {\n          id: \"Print\",\n          key: \"print\",\n          label: \"Print\",\n          icon: \"eva-printer-outline\",\n        },\n      ],\n      repositoryDetails: [],\n      repositoryField: [],\n      showMetaDataEditModal: false,\n      selectedUploadFile: {},\n      uploadFilename: \"\",\n      fileData: [],\n      workflowModel: {},\n      historyProcessId: 0,\n      subWorkflowId: 0,\n      subProcessData: {},\n      openSubProcessSheet: false,\n      formUploadFiles: [],\n      mandatory: {},\n      fileControlDeleteFile: [],\n      hasCheckFormValidate: false,\n      formFields: [],\n      subWorkflowFormList: [],\n      fileUploadForControl: false,\n      fileUploadInput: {},\n      metaDataModal: {},\n      metaDataTitle: \"\",\n      formView: false,\n      portalMasterFormId: 0,\n      portalSettingJson: {},\n      masterFormFields: [],\n      fileUploadRequired: false,\n      mandatoryDocument: [],\n      ocrResult: [],\n      btnAction: false,\n      uploadAccess: false,\n      showAttachmentSheet: false,\n      showCommentsSheet: false,\n      columns: [],\n      selectedNode: \"\",\n      inboxCount: 0,\n      processCount: 0,\n      commentAction: 1,\n    };\n  },\n\n  computed: {\n    ...mapState([\"darkTheme\"]),\n\n    isLogoRequired() {\n      let origin = location.origin;\n      if (\n        origin === \"https://trial.ezofis.com\" &&\n        this.tenantId === \"2\" &&\n        this.portalId === \"4\"\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    _logo() {\n      let origin = location.origin;\n      if (\n        origin === \"https://edmsuat.sobhaapps.com\" ||\n        origin === \"https://edms.sobhaapps.com\"\n      ) {\n        return require(`@/assets/logo/sobha-logo.png`);\n      } else if (\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\n      ) {\n        return require(`@/assets/logo/psg-logo.png`);\n      } else if (\n        origin === \"https://trial.ezofis.com\" &&\n        this.tenantId === \"2\" &&\n        this.portalId === \"46\"\n      ) {\n        return require(`@/assets/logo/hovr.png`);\n      } else if (\n        origin === \"https://trial.ezofis.com\" &&\n        this.tenantId === \"23\" &&\n        this.portalId === \"1\"\n      ) {\n        return require(`@/assets/logo/bell-logo.png`);\n      } else {\n        return require(`@/assets/logo/name-${\n          this.darkTheme ? \"dark\" : \"light\"\n        }.png`);\n      }\n    },\n\n    logoHeight() {\n      let origin = location.origin;\n      if (\n        origin === \"https://edmsuat.sobhaapps.com\" ||\n        origin === \"https://edms.sobhaapps.com\"\n      ) {\n        return \"32px\";\n      } else if (\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\n      ) {\n        return \"36px\";\n      } else if (\n        origin === \"https://trial.ezofis.com\" &&\n        this.tenantId === \"2\" &&\n        this.portalId === \"46\"\n      ) {\n        return \"32px\";\n      } else if (\n        origin === \"https://trial.ezofis.com\" &&\n        this.tenantId === \"23\" &&\n        this.portalId === \"1\"\n      ) {\n        return \"36px\";\n      } else {\n        return \"24px\";\n      }\n    },\n\n    checkTenant() {\n      if (\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    isMaximized() {\n      return this.portalWidth === \"100%\";\n    },\n\n    formName() {\n      if (!this.formId) {\n        return \"\";\n      }\n\n      return this.form.settings.general.name;\n    },\n\n    formDescription() {\n      if (!this.formId) {\n        return \"\";\n      }\n\n      return this.form.settings.general.description;\n    },\n\n    panels() {\n      if (!this.formId) {\n        return [];\n      }\n\n      return this.form.panels;\n    },\n\n    secondaryPanels() {\n      if (!this.formId) {\n        return [];\n      }\n\n      return this.form.secondaryPanels;\n    },\n\n    formSettings() {\n      if (!this.formId) {\n        return {};\n      }\n      return this.form.settings;\n    },\n\n    checkListTemplate() {\n      if (this.checkList.length) {\n        return this.checkList.filter((row) => row.template).length > 0;\n      }\n      return false;\n    },\n\n    _enableControls() {\n      let enableControls = [];\n      let listControls = [];\n      this.panels.forEach((panel) => {\n        if (panel.fields.length) {\n          let panelFields = panel.fields.filter(\n            (field) =>\n              field.type === \"SINGLE_SELECT\" ||\n              field.type === \"SINGLE_CHOICE\" ||\n              field.type === \"MULTIPLE_CHOICE\" ||\n              field.type === \"MULTI_SELECT\"\n          );\n          if (panelFields.length) {\n            panelFields.forEach((row) => {\n              if (row.settings.validation.enableSettings) {\n                if (row.settings.validation.enableSettings.length) {\n                  let controls = [];\n                  row.settings.validation.enableSettings.forEach((tblrow) => {\n                    if (tblrow.controls.length) {\n                      controls.push({\n                        value: tblrow.value,\n                        childControls: tblrow.controls,\n                      });\n                      tblrow.controls.forEach((control) => {\n                        if (controls.indexOf(control) < 0) {\n                          listControls.push(control);\n                        }\n                      });\n                    }\n                  });\n                  if (controls.length) {\n                    enableControls.push({\n                      id: row.id,\n                      parentControls: controls,\n                    });\n                  }\n                }\n              }\n            });\n          }\n        }\n      });\n      return {\n        listControls: listControls,\n        controls: enableControls,\n      };\n    },\n\n    _items() {\n      return this.workflowRequestList.map((item) => ({\n        id: item.processId,\n        icon: this.checkStatusIcon(item),\n        color: this.checkStatusColor(item),\n        iconTooltip: item.flowStatus == 1 ? \"Completed\" : \"In-progress\",\n        requestNo: item.requestNo,\n        raisedBy: item.raisedBy,\n        raisedAt: this.$day.format(item.raisedAt),\n        stage: item.stage,\n        tabs: this.tabs,\n        inbox: item.inbox,\n        attachmentsCount: item.attachmentCount,\n        commentsCount: item.commentsCount,\n        lastAction: item.lastAction,\n        ...this.getFormData(item),\n        subWorkflow: item.subworkflowTransaction.map((subItem) => ({\n          tabs: this.tabs,\n          activityId: subItem.activityId,\n          userId: subItem.activityUserId,\n          color: subItem.flowStatus == 1 ? \"green\" : \"orange\",\n          iconTooltip: subItem.flowStatus == 1 ? \"Completed\" : \"In-progress\",\n          icon:\n            subItem.flowStatus == 1\n              ? \"mdi-check-circle-outline\"\n              : \"mdi-progress-clock\",\n          processId: subItem.processId,\n          raisedAt: this.$day.format(subItem.raisedAt),\n          raisedBy: subItem.raisedBy,\n          raisedByUser: subItem.raisedByUserId,\n          requestNo: subItem.requestNo,\n          review: subItem.review,\n          stageName: subItem.stageName,\n          id: subItem.subWorkFlowId,\n          stageType: subItem.stageType,\n          stage: subItem.stageName,\n          subWorkFlowId: subItem.subWorkFlowId,\n          subWorkflowName: subItem.subWorkflowName,\n          transactionId: subItem.transactionId,\n          inbox:\n            String(subItem.activityUserId) ===\n            String(this.$store.state.session.id),\n          attachmentsCount: subItem.attachmentCount,\n          commentsCount: subItem.commentsCount,\n          displaySubTable: false,\n          actionUser: subItem.activityUserEmail,\n          lastAction: subItem.lastAction,\n          // fieldIndicatorList: this.getFieldIndicatorList(subItem),\n          //formData:this.getsubFormData(subItem.subWorkFlowId, subItem.requestNo),\n        })),\n      }));\n    },\n\n    _columns() {\n      let tableColumns = [];\n      if (this.workflowRequestList.length) {\n        tableColumns.push({\n          id: this.$nano.id(),\n          name: \"requestNo\",\n          label: \"Request No\",\n          type: \"TITLE\",\n          isVisible: true,\n          isSortable: true,\n          isGroupable: false,\n        });\n      }\n      this.panels.forEach((panel) => {\n        if (!panel.fields.length) {\n          return;\n        }\n        for (let field of panel.fields) {\n          if (\n            field.type !== \"DIVIDER\" &&\n            field.type !== \"LABEL\" &&\n            field.type !== \"PARAGRAPH\" &&\n            (field.label || field.type === \"TABLE\") &&\n            field.settings.general.visibility !== \"DISABLE\"\n          ) {\n            tableColumns.push({\n              id: this.$nano.id(),\n              name: field.id,\n              label: field.label,\n              type: field.type,\n              isVisible: true,\n              isSortable: true,\n              isGroupable: false,\n            });\n          }\n        }\n      });\n      let status = [\n        {\n          id: this.$nano.id(),\n          label: \"Running\",\n          value: \"running\",\n        },\n        {\n          id: this.$nano.id(),\n          label: \"Completed\",\n          value: \"completed\",\n        },\n      ];\n      let stage = [];\n      this.processLevel.forEach((level) => {\n        stage.push({\n          id: this.$nano.id(),\n          label: level.label,\n          value: level.label.toLowerCase(),\n        });\n      });\n\n      tableColumns.push(\n        {\n          id: this.$nano.id(),\n          name: \"status\",\n          label: \"Status\",\n          type: \"SINGLE_SELECT\",\n          options: status,\n          isVisible: false,\n          isSortable: true,\n          isGroupable: false,\n        },\n        {\n          id: this.$nano.id(),\n          name: \"stage\",\n          label: \"Stage\",\n          type: \"SINGLE_SELECT\",\n          options: stage,\n          isVisible: true,\n          isSortable: true,\n          isGroupable: false,\n        },\n        {\n          id: this.$nano.id(),\n          name: \"actionUser\",\n          label: \"Action User\",\n          type: \"SINGLE_SELECT\",\n          options: this.userList,\n          isVisible: false,\n          isSortable: true,\n          isGroupable: false,\n        },\n        {\n          id: this.$nano.id(),\n          name: \"raisedBy\",\n          label: \"Raised By\",\n          type: \"SINGLE_SELECT\",\n          options: this.userList,\n          isVisible: true,\n          isSortable: true,\n          isGroupable: false,\n        },\n        {\n          id: this.$nano.id(),\n          name: \"raisedAt\",\n          label: \"Raised On\",\n          type: \"DATE\",\n          isVisible: true,\n          isSortable: true,\n          isGroupable: false,\n        },\n        {\n          id: this.$nano.id(),\n          name: \"id\",\n          label: \"Process Id\",\n          type: \"SHORT_TEXT\",\n          isVisible: false,\n          isSortable: true,\n          isGroupable: false,\n        }\n      );\n      return tableColumns;\n    },\n\n    mandatoryFilling() {\n      if (this.mandatory.filledValue && this.mandatory.nonFilledValue) {\n        return Math.floor(\n          (this.mandatory.filledValue /\n            (this.mandatory.filledValue + this.mandatory.nonFilledValue)) *\n            100\n        );\n      } else if (this.mandatory.filledValue) {\n        return 100;\n      }\n      return 0;\n    },\n\n    getFieldIndicatorList(process) {\n      let formControls = [];\n      let subForm = this.subWorkflowFormList.find(\n        (form) => form.id === process.formData.formId\n      );\n      let panels = JSON.parse(subForm.formJson);\n      panels.panels.forEach((panel) => {\n        formControls.push(...panel.fields);\n      });\n      let filledValue = 0;\n      let nonFilledValue = 0;\n\n      let fieldsModel = process.formData.fields;\n\n      formControls.forEach((control) => {\n        if (this.isVisible(control.id)) {\n          if (\n            control.settings.validation.fieldRule === \"REQUIRED\" &&\n            control.settings.general.visibility === \"NORMAL\"\n          ) {\n            if (control.settings.validation.answerIndicator === \"YES\") {\n              this.showAnswerIndicator = true;\n              if (Array.isArray(fieldsModel[control.id])) {\n                if (fieldsModel[control.id].length) {\n                  filledValue += 1;\n                } else {\n                  nonFilledValue += 1;\n                }\n              } else if (fieldsModel[control.id] === \"<p></p>\") {\n                if (this.removeTags(fieldsModel[control.id])) {\n                  filledValue += 1;\n                } else {\n                  nonFilledValue += 1;\n                }\n              } else if (fieldsModel[control.id]) {\n                filledValue += 1;\n              } else {\n                nonFilledValue += 1;\n              }\n            }\n          }\n        }\n      });\n      return {\n        filledValue: filledValue,\n        nonFilledValue: nonFilledValue,\n      };\n    },\n  },\n\n  watch: {\n    workflowFormModel: {\n      deep: true,\n      immediate: true,\n      handler() {\n        if (this.workflowFormModel && this.saveAction) {\n          if (Object.keys(this.selectedProcess).length) {\n            this.processRequest();\n          } else {\n            this.checkRequiredDocuments();\n          }\n        }\n      },\n    },\n\n    itemsPerPage: {\n      deep: true,\n      immediate: true,\n      handler() {\n        if (this.workflowId && this.workflowRequestList && this.itemsPerPage) {\n          //this.getRequestList();\n        }\n      },\n    },\n    currentPage: {\n      deep: true,\n      immediate: true,\n      handler() {\n        if (this.workflowId && this.workflowRequestList && this.currentPage) {\n          //this.getRequestList();\n        }\n      },\n    },\n\n    checkList: {\n      deep: true,\n      immediate: true,\n      handler() {\n        if (this.checkList.length) {\n          let list = [];\n          this.checkList.forEach((row) => {\n            // console.log(row);\n            if (row.required && !row.attach) {\n              list.push(row);\n            }\n          });\n          this.mandatoryDocument = list;\n          // console.log(list);\n        }\n      },\n    },\n\n    fileUploadRequired: {\n      immediate: true,\n      handler() {\n        if (this.checkList.length) {\n          let list = [];\n          this.checkList.forEach((row) => {\n            // console.log(row);\n            if (row.required && !row.attach) {\n              list.push(row);\n            }\n          });\n          // console.log(list);\n          this.mandatoryDocument = list;\n        }\n      },\n\n      // saveAction: {\n      //   deep: true,\n      //   immediate: true,\n      //   handler() {\n      //     if (this.btnAction) {\n      //       if (this.saveAction) {\n      //         this.$store.commit(\"showLoadingBarSave\");\n      //       } else {\n      //         this.$store.commit(\"hideLoadingBarSave\");\n      //       }\n      //     }\n      //   },\n      // },\n    },\n\n    attachmentSheet: {\n      immediate: true,\n      handler() {\n        if (this.attachmentSheet && this.selectedProcess.processId) {\n          this.getAttachments();\n          this.attachmentLoad = setInterval(() => {\n            this.getAttachments();\n          }, 15000);\n        } else {\n          clearInterval(this.attachmentLoad);\n        }\n      },\n    },\n\n    form: {\n      deep: true,\n      immediate: true,\n      handler() {\n        if (this.form) {\n          if (this.form.formJson) {\n            this.getColumns();\n          }\n        }\n      },\n    },\n  },\n\n  created() {\n    if (\n      location.origin === \"https://demo.ezofis.com\" ||\n      location.origin === \"http://52.172.32.88\"\n    ) {\n      if (this.portalId == 1) {\n        this.drilledList = this.tabList;\n      } else {\n        this.tabList = [];\n        this.getPortal();\n      }\n    } else {\n      this.tabList = [];\n      this.getPortal();\n    }\n    this.getUsers();\n  },\n\n  methods: {\n    getlist(type) {\n      // console.log(this.darkTheme,\"darkTheme\")\n      // this.processCount = 0;\n      // this.InboxCount = 0;\n      if (!type == this.inbox) {\n        this.inbox = type;\n        this.getRequestList();\n      }\n    },\n\n    handleFormViewUpdate(value) {\n      this.formView = value;\n      if (!value) {\n        this.processSheet = false;\n      }\n    },\n\n    checkDocument() {\n      this.docWarning = false;\n      if (this.checkList.length) {\n        this.checkList.forEach((row) => {\n          if (row.required && !row.attach) {\n            this.docWarning = true;\n          }\n        });\n      }\n    },\n\n    resetList() {\n      this.activeItem = {};\n      this.breadcrumbs = [];\n      this.drilledList = this.tabList;\n    },\n\n    checkStatusIcon(process) {\n      if (process.flowStatus == 1) {\n        if (process.lastAction.toLowerCase().indexOf(\"reject\") > -1) {\n          return \"eva-close-circle-outline\";\n        } else {\n          return \"eva-checkmark-circle-2-outline\";\n        }\n      } else {\n        return \"mdi-progress-clock\";\n      }\n    },\n\n    checkStatusColor(process) {\n      if (process.flowStatus == 1) {\n        if (process.lastAction.toLowerCase().indexOf(\"reject\") > -1) {\n          return \"red\";\n        } else {\n          return \"positive\";\n        }\n      } else {\n        return \"orange\";\n      }\n    },\n\n    async showLinks(tab, processId) {\n      if (tab === \"ATTACHMENTS\") {\n        if (processId) {\n          this.selectedProcess = this.workflowRequestList.find(\n            (process) => process.processId === processId\n          );\n          this.attachmentList = [];\n          await this.getAttachments();\n          if (this.selectedProcess.inbox) {\n            this.selectedNode = \"inbox\";\n          } else {\n            this.selectedNode = \"completed\";\n          }\n        }\n        // this.attachmentSheet = true;\n        this.showAttachmentSheet = true;\n      } else if (tab === \"COMMENTS\") {\n        if (processId) {\n          this.selectedProcess = this.workflowRequestList.find(\n            (process) => process.processId === processId\n          );\n          this.commentsList = [];\n          await this.getComments();\n          if (this.selectedProcess.inbox) {\n            this.selectedNode = \"inbox\";\n          } else {\n            this.selectedNode = \"completed\";\n          }\n        }\n        // this.commentsSheet = true;\n        this.showCommentsSheet = true;\n      } else if (tab === \"HISTORY\" && this.selectedProcess.processId) {\n        this.historyProcessId = this.selectedProcess.processId;\n      }\n    },\n\n    async showSubLinks(tab, mainProcess, subItem) {\n      if (tab === \"ATTACHMENTS\") {\n        if (subItem.processId) {\n          this.selectedProcess = mainProcess.subWorkflow.find(\n            (process) => process.processId === subItem.processId\n          );\n          this.attachmentList = [];\n          await this.getAttachments(subItem.id);\n        }\n        this.attachmentSheet = true;\n      } else if (tab === \"COMMENTS\") {\n        if (subItem.processId) {\n          this.selectedProcess = mainProcess.subWorkflow.find(\n            (process) => process.processId === subItem.processId\n          );\n          this.commentsList = [];\n          await this.getComments(subItem.id);\n        }\n        this.commentsSheet = true;\n      }\n    },\n\n    closeAttachmentsSheet() {\n      this.attachmentSheet = false;\n    },\n\n    closeCommentsSheet() {\n      this.closeCommnetsSheet = false;\n    },\n\n    lastCommentDuration(comment) {\n      const date =\n        comment.createdAt instanceof Date\n          ? comment.createdAt\n          : new Date(comment.createdAt);\n      const formatter = new Intl.RelativeTimeFormat(\"en\");\n      const ranges = {\n        years: 3600 * 24 * 365,\n        months: 3600 * 24 * 30,\n        weeks: 3600 * 24 * 7,\n        days: 3600 * 24,\n        hours: 3600,\n        minutes: 60,\n        seconds: 1,\n      };\n      const secondsElapsed = (date.getTime() - Date.now()) / 1000;\n      for (let key in ranges) {\n        if (ranges[key] < Math.abs(secondsElapsed)) {\n          const delta = secondsElapsed / ranges[key];\n          return formatter.format(Math.round(delta), key);\n        }\n      }\n    },\n\n    fileType(fileName) {\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\n      else \"\";\n    },\n\n    fileSize(size) {\n      return formatBytes(size);\n    },\n\n    fileLink() {\n      let origin = location.origin.replace(\n        \"http://localhost:8080\",\n        \"http://52.172.32.88\"\n      );\n      if (this.selectedFile.name) {\n        let ext = this.selectedFile.name.split(\".\").pop();\n        if (this.selectedFile.initiate) {\n          if (pdfSupport(ext)) {\n            if (\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\n            ) {\n              return `https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`;\n            } else if (origin === \"https://trial.ezofis.com\") {\n              return `https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`;\n            } else if (origin === \"https://app.ezofis.com\") {\n              return `https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`;\n            } else {\n              return `${origin}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`;\n            }\n          } else if (origin === \"http://52.172.32.88\") {\n            return `http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`;\n          } else {\n            return `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;\n          }\n        } else {\n          if (pdfSupport(ext)) {\n            if (\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\n            ) {\n              return `https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`;\n            } else if (\n              origin === \"https://trial.ezofis.com\" &&\n              !otherFilePDFSupport(ext)\n            ) {\n              return `https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}&action=download,print`;\n            } else if (origin === \"https://app.ezofis.com\") {\n              return `https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}&action=download,print`;\n            } else {\n              return `${origin}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}&action=download,print`;\n            }\n          } else if (!htmlSupport(ext) && origin === \"http://52.172.32.88\") {\n            return `http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`;\n          } else {\n            return `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\n          }\n        }\n      }\n    },\n\n    openFile(fileObj) {\n      this.selectedFile = fileObj;\n      let origin = location.origin;\n      if (\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\n      ) {\n        //window.open(this.fileLink());\n      } else {\n        this.fileSheet = true;\n      }\n    },\n\n    download(id) {\n      window.open(\n        `${process.env.VUE_APP_API_URL}/workflow/viewChecklist?wId=${this.workflowId}&id=${id}`\n      );\n    },\n\n    downloadAll() {\n      this.checkList.forEach((row) => {\n        if (row.id && row.template) {\n          window.open(\n            `${process.env.VUE_APP_API_URL}/workflow/viewChecklist?wId=${this.workflowId}&id=${row.id}`\n          );\n        }\n      });\n    },\n\n    attachTemplate(uid) {\n      this.rowIndex = uid;\n      this.$refs.attachments.click();\n    },\n\n    searchList() {\n      if (this.search) {\n        this.workflowRequestList = this.workflowRequestListData.filter(\n          (row) => {\n            for (let cell in row) {\n              let index = this._columns.findIndex((column) => {\n                return column.name === cell;\n              });\n              if (index >= 0 && row[cell]) {\n                if (\n                  String(row[cell])\n                    .toLowerCase()\n                    .includes(this.search.toLowerCase())\n                ) {\n                  return row;\n                }\n              }\n            }\n          }\n        );\n      } else {\n        this.workflowRequestList = this.workflowRequestListData;\n      }\n    },\n\n    lastActionDuration(request) {\n      const date =\n        request.transaction_createdAt instanceof Date\n          ? request.transaction_createdAt\n          : new Date(request.transaction_createdAt);\n      const formatter = new Intl.RelativeTimeFormat(\"en\");\n      const ranges = {\n        years: 3600 * 24 * 365,\n        months: 3600 * 24 * 30,\n        weeks: 3600 * 24 * 7,\n        days: 3600 * 24,\n        hours: 3600,\n        minutes: 60,\n        seconds: 1,\n      };\n      const secondsElapsed = (date.getTime() - Date.now()) / 1000;\n      for (let key in ranges) {\n        if (ranges[key] < Math.abs(secondsElapsed)) {\n          const delta = secondsElapsed / ranges[key];\n          return formatter.format(Math.round(delta), key);\n        }\n      }\n    },\n\n    getLabel(id, type) {\n      let controlLabel = \"\";\n      this.form.panels.forEach((panel) => {\n        if (!panel.fields.length) {\n          return;\n        }\n        for (let field of panel.fields) {\n          if (type === \"table\") {\n            const column = field.settings.specific.tableColumns.find(\n              (column) => column.id === id\n            );\n            if (column) {\n              controlLabel = column.label;\n            }\n          } else {\n            if (field.id === id) {\n              controlLabel = field.label;\n              return;\n            }\n          }\n        }\n      });\n      return controlLabel;\n    },\n\n    validateType(key) {\n      let proceed = true;\n      this.form.panels.forEach((panel) => {\n        if (!panel.fields.length) {\n          return;\n        }\n        for (let field of panel.fields) {\n          if (field.id === key) {\n            if (field.type === \"TABLE\") {\n              proceed = false;\n              return;\n            }\n          }\n        }\n      });\n      return proceed;\n    },\n\n    updateFilterBy() {},\n\n    getMandatory(key) {\n      const value = this.getLabel(key);\n\n      for (let panel of this.panels) {\n        for (let field of panel.fields) {\n          if (field.label === value) {\n            return field.settings.validation.fieldRule === \"REQUIRED\";\n          }\n        }\n      }\n      return false;\n    },\n\n    getFormData(item, exportData) {\n      const data = {};\n      if (item.formData) {\n        if (item.formData.fields) {\n          for (let key of Object.keys(item.formData.fields)) {\n            if (exportData) {\n              const label = this.getLabel(key);\n              data[label] = this.removeTags(item.formData.fields[key]);\n            } else {\n              data[key] = this.removeTags(item.formData.fields[key]);\n            }\n          }\n        }\n      }\n      return data;\n    },\n\n    removeTags(value) {\n      if (!value) return \"\";\n      return value.replace(/(<([^>]+)>)/gi, \"\");\n    },\n\n    logOut() {\n      window.localStorage.clear();\n      this.$router.push({ name: \"portals-signin\" });\n    },\n\n    export_Data() {\n      // this.$store.commit(\"showLoadingBar\");\n      // const { error, payload } = await report.getWorkflowData(this.workflowId, {\n      //   filterBy: this.filterBy,\n      //   itemsPerPage: 10,\n      //   currentPage: 1,\n      //   mode: \"\",\n      // });\n      // this.$store.commit(\"hideLoadingBar\");\n      // if (error) {\n      //   this.$alert.error(error);\n      //   return;\n      // }\n      let tableData = [];\n      tableData = this.workflowRequestList.map((item) => ({\n        \"Request Number\": item.requestNo,\n        \"Raised By\": item.raisedBy,\n        \"Raised At\": this.$day.format(item.raisedAt),\n        Stage: item.stage,\n        ...this.getFormData(item, true),\n      }));\n      // payload.data.forEach((row) => {\n      //   row.value.forEach((process) => {\n      //     tableData.push({\n      //       ...process,\n      //     });\n      //   });\n      // });\n      if (tableData.length) {\n        exportData(tableData);\n      }\n    },\n\n    // API Functions\n\n    async getPortal() {\n      this.$store.commit(\"showLoadingBar\");\n\n      const { error, payload } = await portal.getPortal(this.portalId);\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload) {\n        if (payload.settingsJson) {\n          let settings = JSON.parse(payload.settingsJson);\n          if (\n            settings.authentication &&\n            settings.authentication.loginType === \"MASTER_LOGIN\"\n          ) {\n            this.portalMasterFormId = settings.authentication.formId;\n            this.portalSettingJson = settings.authentication;\n            this.getMasterForm();\n          }\n        }\n        this.title = payload.name;\n        this.formId = \"\";\n        this.form = null;\n        this.workflowId = \"\";\n        this.checkList = [];\n        this.saveAction = \"\";\n        this.workflowFormModel = {};\n        this.actions = [];\n        this.processLevel = [];\n        this.docWarning = false;\n        this.attachmentList = [];\n        this.commentsList = [];\n        this.workflowId = payload.workflowId;\n        this.trackRequest = true;\n        this.subWorkflowFormList = [];\n        this.getWorkflow();\n      }\n    },\n\n    async getWorkflow() {\n      this.$store.commit(\"showLoadingBar\");\n\n      const { error, payload } = await workflow.getWorkflow(this.workflowId);\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.workflow = payload;\n      let workflowJson = JSON.parse(this.workflow.flowJson);\n      let startBlock = workflowJson.blocks.find(\n        (block) => block.type === \"START\"\n      );\n\n      if (startBlock) {\n        if (startBlock.settings.initiateBy.indexOf(\"PORTAL\") > -1) {\n          this.initiate = true;\n        }\n      }\n\n      let subWorkflowIds = [];\n      workflowJson.blocks.forEach((block) => {\n        if (\n          block.type === \"START\" ||\n          block.type === \"INTERNAL_ACTOR\" ||\n          block.type === \"END\"\n        ) {\n          this.processLevel.push({\n            id: block.id,\n            label: block.settings.label,\n          });\n        } else if (block.type === \"WORKFLOW_CONNECTOR\") {\n          //\n          console.log(block);\n          subWorkflowIds.push(block.settings.subWorkflowId);\n        }\n      });\n      if (subWorkflowIds.length) {\n        //await this.getSubWorkflows(subWorkflowIds);\n      }\n      if (workflowJson.settings.general.initiateUsing.formId) {\n        this.getForm(workflowJson.settings.general.initiateUsing.formId);\n      }\n      this.getRepository();\n    },\n\n    async getForm(fId) {\n      this.$store.commit(\"showLoadingBar\");\n\n      const { error, payload } = await form.getForm(fId);\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.formId = fId.toString();\n      this.form = JSON.parse(payload.formJson);\n\n      const panels = [...this.form.panels, ...this.form.secondaryPanels];\n\n      if (!panels.length) {\n        return;\n      }\n      let fields = [];\n      for (const panel of panels) {\n        fields.push(...panel.fields);\n      }\n\n      fields.forEach((field) => {\n        if (\n          field.type !== \"DIVIDER\" &&\n          field.type !== \"LABEL\" &&\n          field.type !== \"PARAGRAPH\" &&\n          (field.label || field.type === \"TABLE\") &&\n          field.settings.general.visibility !== \"DISABLE\"\n        ) {\n          this.formFields.push({\n            id: this.$nano.id(),\n            label: field.label || field.type,\n            value: field.id,\n            type: field.type,\n            settings: field.settings,\n          });\n        }\n      });\n      if (this.trackRequest) {\n        this.getRequestList(true);\n      }\n    },\n\n    async getComments(subWorkflowId) {\n      this.tabs.find((tab) => {\n        if (tab.value === \"COMMENTS\") {\n          tab.count = 0;\n        }\n      });\n      this.commentsList = [];\n      this.$store.commit(\"showLoadingBar\");\n      const { error, payload } = await workflow.getProcessComments(\n        subWorkflowId || this.workflow.id,\n        this.selectedProcess.processId\n      );\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload.length) {\n        this.commentsList = payload;\n        this.tabs.find((tab) => {\n          if (tab.value === \"COMMENTS\") {\n            tab.count = this.commentsList.length;\n          }\n        });\n      }\n    },\n\n    async saveComment() {\n      if (this.commentText) {\n        if (this.selectedProcess.processId) {\n          this.$store.commit(\"showLoadingBar\");\n          const { error } = await workflow.insertProcessComment(\n            this.workflow.id,\n            this.selectedProcess.processId,\n            this.selectedProcess.transactionId,\n            {\n              comments: this.commentText,\n              showTo: this.commentAction,\n            }\n          );\n\n          this.$store.commit(\"hideLoadingBar\");\n\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          this.commentText = \"\";\n          this.getComments();\n        } else {\n          this.commentsList.push({\n            comments: this.commentText,\n            createdAt: new Date().toISOString(),\n            createdBy: this.$store.state.session.id,\n          });\n          this.tabs.find((tab) => {\n            if (tab.value === \"COMMENTS\") {\n              tab.count = this.commentsList.length;\n            }\n          });\n          this.commentText = \"\";\n        }\n      }\n    },\n\n    async saveAdvancedComment() {\n      if (this.advancedCommentText) {\n        if (this.selectedProcess.processId) {\n          this.$store.commit(\"showLoadingBar\");\n          const { error } = await workflow.insertProcessComment(\n            this.workflow.id,\n            this.selectedProcess.processId,\n            this.selectedProcess.transactionId,\n            {\n              comments: this.advancedCommentText,\n              showTo: this.commentAction,\n            }\n          );\n\n          this.$store.commit(\"hideLoadingBar\");\n\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          this.advancedCommentText = \"\";\n          this.advancedCommentsSheet = false;\n          this.getComments();\n        } else {\n          this.commentsList.push({\n            comments: this.advancedCommentText,\n            createdAt: new Date().toISOString(),\n            createdBy: this.$store.state.session.id,\n          });\n          this.tabs.find((tab) => {\n            if (tab.value === \"COMMENTS\") {\n              tab.count = this.commentsList.length;\n            }\n          });\n          this.advancedCommentText = \"\";\n          this.advancedCommentsSheet = false;\n        }\n      }\n    },\n\n    async getRepository() {\n      const { error, payload } = await repository.getRepository(\n        this.workflow.repositoryId\n      );\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.repositoryDetails = payload;\n      this.repositoryField = payload.fields;\n    },\n\n    saveMetaData(modal) {\n      let data = [];\n      this.repositoryField.forEach((field) => {\n        data.push({\n          name: field.name,\n          value: modal[field.name],\n          type: field.dataType,\n        });\n      });\n\n      data.forEach((key) => {\n        let hasName = this.formFields.find(\n          (item) => lowerCase(item.label) === lowerCase(key.name)\n        );\n        if (hasName && key.value) {\n          this.workflowModel[hasName.value] = key.value;\n        }\n      });\n\n      if (this.fileUploadForControl) {\n        this.metaDataModal = modal;\n        let input = this.fileUploadInput;\n        this.uploadFilesFromForm(\n          input.files,\n          input.control,\n          input.fieldId,\n          JSON.stringify(data),\n          input.aiSettings\n        );\n      } else {\n        this.uploadAttachments(this.selectedUploadFile, JSON.stringify(data));\n      }\n    },\n\n    closeMetaDataEditModal() {\n      this.showMetaDataEditModal = false;\n      if (this.$refs.attachments) {\n        this.$refs.attachments.value = null;\n      }\n    },\n\n    async uploadWflowAttachments(e) {\n      this.fileUploadForControl = false;\n      if (this.repositoryDetails.fieldsType === \"STATIC\") {\n        this.selectedUploadFile = e;\n        this.uploadFilename = e.target.files[0].name;\n        this.showMetaDataEditModal = true;\n      } else {\n        this.uploadAttachments(e);\n      }\n    },\n\n    async uploadAttachments(e, fields) {\n      if (this.selectedProcess.processId) {\n        const file = e.target.files[0];\n        const formData = new FormData();\n        formData.append(\"workflowId\", this.workflow.id);\n        formData.append(\"repositoryId\", this.workflow.repositoryId);\n        formData.append(\"processId\", this.selectedProcess.processId);\n        formData.append(\"transactionId\", this.selectedProcess.transactionId);\n        formData.append(\"fields\", \"\");\n        formData.append(\"file\", file);\n        let filename = e.target.files[0].name;\n        const ext = filename.split(\".\").pop();\n        if (this.rowIndex) {\n          let currentDoc = this.checkList.filter(\n            (row) => row.uid === this.rowIndex\n          );\n          formData.append(\"filename\", currentDoc[0].name + \".\" + ext);\n          filename = currentDoc[0].name + \".\" + ext;\n        }\n        if (!fileSupport(ext)) {\n          this.$alert.info(\"This file format is not supported\");\n          return;\n        }\n        this.$store.commit(\"showLoadingBar\");\n\n        try {\n          const response = await axios({\n            url: `${process.env.VUE_APP_API_URL}/workflow/attachmentWithProcessId`,\n            method: \"POST\",\n            data: formData,\n            headers: {\n              Token: this.$store.state.identity.token,\n              Accept: \"application/json\",\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          });\n          const { status, data } = response;\n          e.target.value = \"\";\n          if (status === 200 && data) this.$alert.success(`Document attached`);\n          else throw response;\n        } catch (error) {\n          this.$alert.error(\"Error uploading file\");\n          console.error(error);\n        }\n        this.$store.commit(\"hideLoadingBar\");\n        if (this.checkList.length) {\n          this.checkList.forEach((row) => {\n            if (row.uid === this.rowIndex) {\n              row.attach = true;\n              this.fileUploadRequired = !this.fileUploadRequired;\n              return;\n            }\n          });\n          //this.checkDocument();\n        }\n        e.target.value = \"\";\n      } else {\n        const file = e.target.files[0];\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        formData.append(\"repositoryId\", this.workflow.repositoryId);\n        if (fields) {\n          this.fileData = JSON.parse(fields);\n          formData.append(\"fields\", fields);\n        }\n        let filename = e.target.files[0].name;\n        const ext = filename.split(\".\").pop();\n        if (this.rowIndex) {\n          let currentDoc = this.checkList.filter(\n            (row) => row.uid === this.rowIndex\n          );\n          formData.append(\"filename\", currentDoc[0].name + \".\" + ext);\n          filename = currentDoc[0].name + \".\" + ext;\n        }\n        if (!fileSupport(ext)) {\n          this.$alert.info(\"This file format is not supported\");\n          return;\n        }\n        this.$store.commit(\"showLoadingBar\");\n        try {\n          const response = await axios({\n            url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/upload`,\n            method: \"POST\",\n            data: formData,\n            headers: {\n              Token: this.$store.state.identity.token,\n              Accept: \"application/json\",\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          });\n          this.$store.commit(\"hideLoadingBar\");\n          const { status, data } = response;\n          e.target.value = \"\";\n          if (status !== 200) {\n            throw \"Invalid response\";\n          }\n          let filesList = JSON.parse(data);\n          this.attachmentList.push({\n            id: Number(filesList.fileId),\n            name: filename,\n            createdAt: new Date().toISOString(),\n            createdByEmail: this.$store.state.session.email,\n            size: file.size,\n            initiate: true,\n            uid: this.rowIndex,\n          });\n          this.$alert.success(`Document attached`);\n          this.tabs.find((tab) => {\n            if (tab.value === \"ATTACHMENTS\") {\n              tab.count = this.attachmentList.length;\n            }\n          });\n          if (this.checkList.length) {\n            this.checkList.forEach((row) => {\n              if (row.uid === this.rowIndex) {\n                row.attach = true;\n                this.fileUploadRequired = !this.fileUploadRequired;\n                return;\n              }\n            });\n            //this.checkDocument();\n          }\n        } catch (error) {\n          console.error(error);\n          this.$alert.error(`error attaching file`);\n        }\n      }\n    },\n\n    async getAttachments(subWorkflowId = 0) {\n      this.tabs.find((tab) => {\n        if (tab.value === \"ATTACHMENTS\") {\n          tab.count = 0;\n        }\n      });\n      if (this.selectedProcess.processId) {\n        this.checkList = [];\n        let workflowJson = JSON.parse(this.workflow.flowJson);\n        let block = workflowJson.blocks.find(\n          (block) => block.id === this.selectedProcess.activityId\n        );\n        if (block) {\n          if (block.settings.fileSettings) {\n            if (block.settings.fileSettings.fileCheckList.length) {\n              this.checkList = block.settings.fileSettings.fileCheckList;\n              this.checkList.forEach((row) => {\n                row.uid = this.$nano.id();\n                row.attach = false;\n                this.fileUploadRequired = !this.fileUploadRequired;\n              });\n              //this.checkDocument();\n            }\n          }\n        }\n        let count = this.attachmentList.length;\n        this.$store.commit(\"showLoadingBar\");\n        const { error, payload } = await workflow.getAttachments(\n          subWorkflowId || this.workflow.id,\n          this.selectedProcess.processId\n        );\n\n        this.$store.commit(\"hideLoadingBar\");\n\n        if (error) {\n          this.$alert.error(error);\n          return;\n        }\n        if (payload.length) {\n          this.tabs.find((tab) => {\n            if (tab.value === \"ATTACHMENTS\") {\n              tab.count = payload.length;\n            }\n          });\n          if (count !== payload.length) {\n            this.attachmentList = payload.map((item) => {\n              return {\n                ...item,\n                checked: false,\n              };\n            });\n          }\n        } else {\n          this.attachmentList = [];\n        }\n        if (this.checkList.length) {\n          this.checkList.forEach((row) => {\n            let filterAttach = this.attachmentList.filter((file) => {\n              let filename = file.name.substr(0, file.name.lastIndexOf(\".\"));\n              if (row.name === filename) {\n                return file;\n              }\n            });\n            if (filterAttach.length) {\n              row.attach = true;\n            } else {\n              row.attach = false;\n            }\n            this.fileUploadRequired = !this.fileUploadRequired;\n          });\n          this.tabs.find((tab) => {\n            if (tab.value === \"ATTACHMENTS\") {\n              tab.count = this.attachmentList.length;\n            }\n          });\n        }\n      }\n    },\n\n    async attachmentDelete(file) {\n      if (!file.fileControl) {\n        this.$store.commit(\"showLoadingBar\");\n        if (file.initiate) {\n          const { error } = await uploadAndIndex.deleteUploadedFiles([file.id]);\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          this.$store.commit(\"hideLoadingBar\");\n          this.attachmentList = this.attachmentList.filter(\n            (row) => row.id !== file.id\n          );\n          this.checkList.forEach((row) => {\n            if (row.uid === file.uid) {\n              row.attach = false;\n              this.fileUploadRequired = !this.fileUploadRequired;\n            }\n          });\n          this.tabs.find((tab) => {\n            if (tab.value === \"ATTACHMENTS\") {\n              tab.count = this.attachmentList.length;\n            }\n          });\n        } else {\n          const { error } = await repository.fileDelete(\n            this.workflow.repositoryId,\n            file.id\n          );\n          if (error) {\n            this.$alert.error(error);\n            return;\n          }\n          this.$store.commit(\"hideLoadingBar\");\n          this.getAttachments();\n        }\n      } else {\n        let field = this.workflowModel[file.fieldId];\n        if (field.length) {\n          let hasField = field.findIndex((item) => {\n            return item.fileId === file.id;\n          });\n          // console.log(hasField);\n          if (hasField >= 0) {\n            this.workflowModel[file.fieldId].splice(hasField, 1);\n          }\n\n          let hasValue = this.formUploadFiles.findIndex((item) => {\n            return item.fileId === file.id && item.fileId === file.fileId;\n          });\n          // console.log(hasValue);\n          if (hasValue >= 0) {\n            this.formUploadFiles.splice(hasField, 1);\n          }\n          if (file.control.length) {\n            file.control.forEach((item) => {\n              this.workflowModel[item] = \"\";\n            });\n          }\n        }\n        let hasFile = this.attachmentList.findIndex((file) => {\n          return file.fileControl;\n        });\n        // console.log(hasFile);\n        if (hasFile >= 0) {\n          this.tabs.find((tab) => {\n            if (tab.value === \"ATTACHMENTS\") {\n              tab.count = this.attachmentList.length - 1;\n            }\n          });\n          this.attachmentList.splice(hasFile, 1);\n        }\n      }\n    },\n\n    checkRequiredDocuments() {\n      let docRequired = [];\n      docRequired = this.checkList.filter((row) => row.required && !row.attach);\n      if (docRequired.length) {\n        let origin = location.origin;\n        if (\n          origin === \"https://demo.ezofis.com\" ||\n          origin === \"http://52.172.32.88\"\n        ) {\n          if (this.portalId == 1) {\n            this.documentAlertModal = true;\n          } else {\n            this.alertModal = true;\n          }\n        } else {\n          if (this.docWarning) {\n            this.alertModal = true;\n          } else {\n            this.$alert.warning(\"Mandatory documents required\");\n            this.saveAction = \"\";\n            this.workflowFormModel = {};\n          }\n        }\n      } else {\n        this.initiateRequest();\n      }\n    },\n\n    closeAlertModal() {\n      this.saveAction = \"\";\n      this.workflowFormModel = {};\n      this.alertModal = false;\n    },\n\n    closeDocumentAlertModal() {\n      this.saveAction = \"\";\n      this.workflowFormModel = {};\n      this.documentAlertModal = false;\n    },\n\n    async initiateRequest() {\n      let uploadedIdList = [];\n      if (this.attachmentList.length) {\n        this.attachmentList.forEach((file) => {\n          if (!file.formAttach) {\n            uploadedIdList.push(file.id);\n          }\n        });\n      }\n\n      let docRequired = [];\n      if (this.docWarning) {\n        docRequired = this.checkList.filter(\n          (row) => row.required && !row.attach\n        );\n      }\n      // let defaultCommentText =\n      //   \"Request submitted portal \" + window.location.href;\n      // this.commentsList.push({\n      //   comments: defaultCommentText,\n      //   createdAt: new Date().toISOString(),\n      //   createdBy: this.$store.state.session.id,\n      // });\n\n      let formUpload = [];\n\n      this.formFields.forEach((field) => {\n        if (field.type === \"FILE_UPLOAD\" && this.workflowModel[field.value]) {\n          let ids = [];\n          this.workflowModel[field.value].forEach((item) => {\n            if (item.fileId) {\n              ids.push(item.fileId);\n            }\n          });\n          if (ids.length) {\n            formUpload.push({\n              jsonId: field.value,\n              fileIds: ids,\n            });\n          }\n          delete this.workflowFormModel[field.value];\n        }\n      });\n\n      let inputData = {\n        workflowId: this.workflow.id,\n        review: this.saveAction === \"Save\" ? \"\" : this.saveAction,\n        comments: this.commentsList,\n        formData: {\n          formId: this.formId,\n          fields: this.workflowFormModel,\n          formUpload: formUpload,\n        },\n        fileIds: uploadedIdList,\n        fileChecklistStatus: this.docWarning ? 1 : 0,\n        fileInfo: docRequired,\n        portalId: this.portalId,\n        hasFormPDF: this.generatePDF,\n      };\n      this.saveAction = \"\";\n      this.workflowFormModel = {};\n      //console.log(inputData);\n      this.$store.commit(\"showLoadingBarSave\");\n      const { error, payload } = await workflow.processTransaction(inputData);\n      this.$store.commit(\"hideLoadingBarSave\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.alertModal = false;\n      this.$alert.success(`${payload.requestNo} Request Initiated`);\n      this.refNo = payload.requestNo;\n      this.refresh(payload.requestNo);\n      let origin = location.origin;\n      if (\n        origin === \"https://demo.ezofis.com\" ||\n        origin === \"http://52.172.32.88\"\n      ) {\n        if (this.portalId == 1) {\n          this.successModalClaim = true;\n        } else {\n          this.successModal = true;\n        }\n      } else {\n        this.successModal = true;\n      }\n      this.resetList();\n    },\n\n    async processRequest() {\n      let formUpload = [];\n\n      this.formFields.forEach((field) => {\n        if (field.type === \"FILE_UPLOAD\" && this.workflowModel[field.value]) {\n          let ids = [];\n          this.workflowModel[field.value].forEach((item) => {\n            if (item.fileId) {\n              ids.push(item.fileId);\n            }\n          });\n          if (ids.length) {\n            formUpload.push({\n              jsonId: field.value,\n              fileIds: ids,\n            });\n          }\n          delete this.workflowFormModel[field.value];\n        }\n      });\n      let inputData = {};\n      if (this.formId) {\n        inputData = {\n          workflowId: this.workflow.id,\n          transactionId: this.selectedProcess.transactionId,\n          review: this.saveAction === \"Save\" ? \"\" : this.saveAction,\n          formData: {\n            formId: this.formId,\n            formEntryId: this.selectedProcess.formData.formEntryId,\n            fields: this.workflowFormModel,\n            formUpload: formUpload,\n          },\n        };\n      }\n      this.saveAction = \"\";\n      this.workflowFormModel = {};\n\n      this.$store.commit(\"showLoadingBarSave\");\n      const { error } = await workflow.processTransaction(inputData);\n      this.$store.commit(\"hideLoadingBarSave\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (inputData.review === \"\") {\n        this.$alert.info(\n          `${this.selectedProcess.requestNo} data saved, awaiting your action to submit`\n        );\n      } else if (inputData.review.toLowerCase().indexOf(\"reject\") > -1) {\n        this.$alert.danger(\n          `${this.selectedProcess.requestNo} Request Rejected Successfully`\n        );\n      } else {\n        this.$alert.success(\n          `${this.selectedProcess.requestNo} Request Processed`\n        );\n      }\n\n      if (this.fileControlDeleteFile.length) {\n        this.fileControlDeleteFile.forEach((file) => {\n          this.fileControlDeletedFile(file);\n        });\n\n        this.fileControlDeleteFile = [];\n      }\n      this.processSheet = false;\n      this.getRequestList();\n    },\n\n    async getRequestList(loadAll) {\n      if (this.workflow.id) {\n        this.loadingBarContent = true;\n        this.workflowRequestList = [];\n        if (this.inbox) {\n          await this.getInboxList();\n          await this.getSubWorkflowInboxList();\n          if (loadAll) {\n            await this.getSentCount();\n            await this.getCompletedCount();\n          }\n        } else {\n          await this.getSentList();\n          await this.getCompletedList();\n        }\n        this.workflowRequestListData = this.workflowRequestList.map((item) => ({\n          ...item,\n          ...this.getFormData(item),\n        }));\n        this.loadingBarContent = false;\n      }\n    },\n\n    async getSentCount() {\n      const { error, payload } = await workflow.getSentList(this.workflow.id, {\n        filterBy: [],\n        itemsPerPage: 100,\n        currentPage: 1,\n      });\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let isFound = this.workflowRequestList.filter(\n            (row) => row.processId === process.processId\n          );\n          if (isFound.length === 0) {\n            let reqInbox = true;\n            if (process.subworkflowTransaction) {\n              if (process.subworkflowTransaction.length) {\n                process.subworkflowTransaction.forEach((req) => {\n                  if (req.activityUserId === this.$store.state.session.id) {\n                    reqInbox = false;\n                    return;\n                  }\n                });\n              }\n            }\n            if (reqInbox) {\n              this.processCount += 1;\n            }\n          }\n        });\n      });\n    },\n\n    async getCompletedCount() {\n      const { error, payload } = await workflow.getCompletedList(\n        this.workflow.id,\n        {\n          filterBy: [],\n          itemsPerPage: 100,\n          currentPage: 1,\n        }\n      );\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let isFound = this.workflowRequestList.filter(\n            (row) => row.processId === process.processId\n          );\n          if (isFound.length === 0) {\n            this.processCount += 1;\n          }\n        });\n      });\n    },\n\n    async getSentList() {\n      const { error, payload } = await workflow.getSentList(this.workflow.id, {\n        filterBy: [],\n        itemsPerPage: 100,\n        currentPage: 1,\n      });\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.totalItems = this.totalItems + payload.meta?.totalItems || 0;\n      // this.processCount = 0;\n      // this.processCount = payload.meta?.totalItems || 0;\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let isFound = this.workflowRequestList.filter(\n            (row) => row.processId === process.processId\n          );\n          if (isFound.length === 0) {\n            let reqInbox = true;\n            if (process.subworkflowTransaction) {\n              if (process.subworkflowTransaction.length) {\n                process.subworkflowTransaction.forEach((req) => {\n                  if (req.activityUserId === this.$store.state.session.id) {\n                    reqInbox = false;\n                    return;\n                  }\n                });\n              }\n            }\n            if (reqInbox) {\n              let stepCount = 0;\n              let workflowJson = JSON.parse(this.workflow.flowJson);\n              let check = true;\n              workflowJson.blocks.forEach((block) => {\n                if (block.id !== process.activityId && check) {\n                  stepCount += 1;\n                } else {\n                  if (process.flowStatus == 1) {\n                    stepCount += 1;\n                  }\n                  check = false;\n                }\n              });\n              this.workflowRequestList.push({\n                ...process,\n                step: stepCount,\n                visible: true,\n                expand: false,\n                inbox: false,\n              });\n              this.workflowRequestList.sort(\n                (a, b) =>\n                  new Date(b.transaction_createdAt) -\n                  new Date(a.transaction_createdAt)\n              );\n            }\n          }\n        });\n      });\n      this.processCount = this.workflowRequestList.length;\n    },\n\n    async getCompletedList() {\n      const { error, payload } = await workflow.getCompletedList(\n        this.workflow.id,\n        {\n          filterBy: [],\n          itemsPerPage: 100,\n          currentPage: 1,\n        }\n      );\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.totalItems = this.totalItems + payload.meta?.totalItems || 0;\n      //this.processCount = this.processCount + payload.meta?.totalItems || 0;\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let isFound = this.workflowRequestList.filter(\n            (row) => row.processId === process.processId\n          );\n          if (isFound.length === 0) {\n            let stepCount = 0;\n            let workflowJson = JSON.parse(this.workflow.flowJson);\n            let check = true;\n            workflowJson.blocks.forEach((block) => {\n              if (block.id !== process.activityId && check) {\n                stepCount += 1;\n              } else {\n                if (process.flowStatus == 1) {\n                  stepCount += 1;\n                }\n                check = false;\n              }\n            });\n            this.workflowRequestList.push({\n              ...process,\n              step: stepCount,\n              visible: true,\n              expand: false,\n              inbox: false,\n            });\n            this.workflowRequestList.sort(\n              (a, b) =>\n                new Date(b.transaction_createdAt) -\n                new Date(a.transaction_createdAt)\n            );\n            this.workflowRequestList.sort(\n              (a, b) => new Date(b.inbox) - new Date(a.inbox)\n            );\n          }\n        });\n      });\n      this.processCount = this.workflowRequestList.length;\n    },\n\n    async getInboxList() {\n      const { error, payload } = await workflow.getInboxList(this.workflow.id, {\n        filterBy: [],\n        itemsPerPage: 100,\n        currentPage: 1,\n      });\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.totalItems = payload.meta?.totalItems || 0;\n\n      //this.inboxCount = payload.meta?.totalItems || 0;\n\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let isFound = this.workflowRequestList.filter(\n            (row) => row.processId === process.processId\n          );\n          if (isFound.length === 0) {\n            let stepCount = 0;\n            let workflowJson = JSON.parse(this.workflow.flowJson);\n            let check = true;\n            workflowJson.blocks.forEach((block) => {\n              if (block.id !== process.activityId && check) {\n                stepCount += 1;\n              } else {\n                if (process.flowStatus == 1) {\n                  stepCount += 1;\n                }\n                check = false;\n              }\n            });\n            this.workflowRequestList.push({\n              ...process,\n              step: stepCount,\n              visible: true,\n              expand: false,\n              inbox: true,\n            });\n            this.workflowRequestList.sort(\n              (a, b) =>\n                new Date(b.transaction_createdAt) -\n                new Date(a.transaction_createdAt)\n            );\n          }\n        });\n      });\n      this.inboxCount = this.workflowRequestList.length;\n    },\n\n    async getSubWorkflowInboxList() {\n      const { error, payload } = await workflow.getSentList(this.workflow.id, {\n        filterBy: [],\n        itemsPerPage: 100,\n        currentPage: 1,\n      });\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.totalItems = this.totalItems + payload.meta?.totalItems || 0;\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let isFound = this.workflowRequestList.filter(\n            (row) => row.processId === process.processId\n          );\n          if (isFound.length === 0) {\n            let reqInbox = false;\n            if (process.subworkflowTransaction) {\n              if (process.subworkflowTransaction.length) {\n                process.subworkflowTransaction.forEach((req) => {\n                  if (req.activityUserId === this.$store.state.session.id) {\n                    reqInbox = true;\n                    return;\n                  }\n                });\n              }\n            }\n            if (reqInbox) {\n              let stepCount = 0;\n              let workflowJson = JSON.parse(this.workflow.flowJson);\n              let check = true;\n              workflowJson.blocks.forEach((block) => {\n                if (block.id !== process.activityId && check) {\n                  stepCount += 1;\n                } else {\n                  if (process.flowStatus == 1) {\n                    stepCount += 1;\n                  }\n                  check = false;\n                }\n              });\n              this.workflowRequestList.push({\n                ...process,\n                step: stepCount,\n                visible: true,\n                expand: false,\n                inbox: false,\n              });\n              this.workflowRequestList.sort(\n                (a, b) =>\n                  new Date(b.transaction_createdAt) -\n                  new Date(a.transaction_createdAt)\n              );\n            }\n          }\n        });\n      });\n      this.inboxCount = this.workflowRequestList.length;\n    },\n\n    async refresh(id) {\n      this.$store.commit(\"showLoadingBar\");\n      const { error, payload } = await workflow.getSentList(this.workflow.id, {\n        filterBy: [],\n        itemsPerPage: 100,\n        currentPage: 1,\n      });\n      this.$store.commit(\"hideLoadingBar\");\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload.data.length) {\n        const isMatchFound = payload.data[0].value.findIndex(\n          (item) => item.requestNo === id\n        );\n        if (isMatchFound < 0) {\n          await this.refresh(id);\n        } else {\n          this.getRequestList();\n        }\n      } else {\n        await this.refresh(id);\n      }\n    },\n\n    openNewRequest() {\n      this.btnAction = false;\n      this.selectedProcess = {};\n      this.formModel = {};\n      this.commentsList = [];\n      this.attachmentList = [];\n      this.actions = [];\n      this.ocrResult = [];\n      this.uploadAccess = true;\n      this.tabs.find((tab) => {\n        tab.count = 0;\n      });\n      let workflowJson = JSON.parse(this.workflow.flowJson);\n      let startBlock = workflowJson.blocks.find(\n        (block) => block.type === \"START\"\n      );\n\n      if (startBlock) {\n        if (startBlock.settings.initiateBy.indexOf(\"PORTAL\") > -1) {\n          this.headerTitle = startBlock.settings.label;\n          if (startBlock.settings.fileSettings) {\n            if (startBlock.settings.fileSettings.fileCheckList.length) {\n              this.checkList = startBlock.settings.fileSettings.fileCheckList;\n              this.checkList.forEach((row) => {\n                row.uid = this.$nano.id();\n                row.attach = false;\n                this.fileUploadRequired = !this.fileUploadRequired;\n              });\n              this.docWarning = startBlock.settings.fileSettings.partial;\n            }\n          }\n          let rules = workflowJson.rules.find(\n            (rule) => rule.fromBlockId === startBlock.id\n          );\n          if (rules) {\n            this.actions.push(rules.proceedAction);\n          }\n        }\n        if (startBlock.settings.formEditAccess) {\n          if (startBlock.settings.formEditAccess === \"\") {\n            this.formEditAccess = true;\n            this.formEditControls = [];\n          } else if (startBlock.settings.formEditAccess === \"FULL\") {\n            this.formEditAccess = false;\n            this.formEditControls = [];\n          } else if (startBlock.settings.formEditAccess === \"PARTIAL\") {\n            this.formEditAccess = false;\n            this.formEditControls = startBlock.settings.formEditControls;\n          }\n        }\n        if (startBlock.settings.formVisibilityAccess) {\n          this.formVisibilityAccess = true;\n          this.formSecureControls = [];\n        } else {\n          this.formVisibilityAccess = false;\n          this.formSecureControls = startBlock.settings.formSecureControls;\n        }\n        this.generatePDF = startBlock.settings.generatePDF ? 1 : 0;\n      }\n      this.selectedNode = \"inbox\";\n      this.processSheet = true;\n      if (this.portalMasterFormId) {\n        this.getMasterFormData(this.portalMasterFormId);\n      }\n    },\n\n    async openProcess(request) {\n      this.btnAction = false;\n      this.actions = [];\n      this.selectedProcess = request;\n      this.formModel = {};\n      this.itemModel = {};\n      this.formEditAccess = true;\n      this.attachmentList = [];\n      this.commentsList = [];\n      this.ocrResult = [];\n      this.formView = false;\n      this.uploadAccess = false;\n      if (this.selectedProcess.formData) {\n        let keys = Object.keys(this.selectedProcess.formData.fields);\n        let newValues = {};\n        keys.forEach((key) => {\n          newValues[key] = this.validateTypeValue(\n            this.selectedProcess.formData.fields[key]\n          );\n        });\n        this.formModel = newValues;\n      }\n      this.headerTitle = this.selectedProcess.requestNo;\n      if (this.selectedProcess.inbox) {\n        this.uploadAccess = true;\n        this.formView = true;\n        let workflowJson = JSON.parse(this.workflow.flowJson);\n        let block = workflowJson.blocks.find(\n          (block) => block.id === this.selectedProcess.activityId\n        );\n\n        if (block) {\n          if (block.settings.fileSettings) {\n            if (block.settings.fileSettings.fileCheckList.length) {\n              this.checkList = block.settings.fileSettings.fileCheckList;\n              this.checkList.forEach((row) => {\n                row.uid = this.$nano.id();\n                row.attach = false;\n                this.fileUploadRequired = !this.fileUploadRequired;\n              });\n              //this.checkDocument();\n              this.docWarning = block.settings.fileSettings.partial;\n            }\n          }\n          workflowJson.rules.forEach((rule) => {\n            if (rule.fromBlockId === this.selectedProcess.activityId) {\n              if (this.actions.indexOf(rule.proceedAction) < 0) {\n                this.actions.push(rule.proceedAction);\n                this.processActionsAddOn.push({\n                  action: rule.proceedAction,\n                  remarks: rule.remarks || false,\n                  passwordAccess: rule.passwordAccess || false,\n                  confirm: rule.confirm || false,\n                });\n              }\n            }\n          });\n          if (block.settings.formEditAccess) {\n            if (block.settings.formEditAccess === \"\") {\n              this.formEditAccess = true;\n              this.formEditControls = [];\n            } else if (block.settings.formEditAccess === \"FULL\") {\n              this.formEditAccess = false;\n              this.formEditControls = [];\n            } else if (block.settings.formEditAccess === \"PARTIAL\") {\n              this.formEditAccess = false;\n              this.formEditControls = block.settings.formEditControls;\n            }\n          }\n          if (block.settings.formVisibilityAccess) {\n            this.formVisibilityAccess = true;\n            this.formSecureControls = [];\n          } else {\n            this.formVisibilityAccess = false;\n            this.formSecureControls = block.settings.formSecureControls;\n          }\n          if (\n            workflowJson.settings.general.processNumberPrefix.indexOf(\"[\") > -1\n          ) {\n            let requestNumberFormat = JSON.parse(\n              workflowJson.settings.general.processNumberPrefix\n            );\n            this.readonlyControls = [];\n            let requestColumn = requestNumberFormat.filter(\n              (row) => row.key === \"formColumn\"\n            );\n            if (requestColumn.length) {\n              requestColumn.forEach((row) => {\n                this.readonlyControls.push(row.value);\n                this.formEditControls.splice(\n                  this.formEditControls.indexOf(row.value),\n                  1\n                );\n              });\n            }\n          }\n          this.generatePDF = block.settings.generatePDF ? 1 : 0;\n        }\n      }\n\n      if (this.actions.length) {\n        this.selectedNode = \"inbox\";\n      } else {\n        this.selectedNode = \"sent\";\n      }\n\n      this.getComments();\n      this.getAttachments();\n      this.processSheet = true;\n    },\n\n    validateTypeValue(value) {\n      if (value) {\n        try {\n          var jsonConvert = JSON.parse(value);\n          if (typeof jsonConvert === \"object\") {\n            return jsonConvert;\n          }\n        } catch (e) {\n          return value;\n        }\n      }\n      return value;\n    },\n\n    async getWorkflowData(filters) {\n      this.$store.commit(\"showLoadingBar\");\n      this.workflowRequestList = [];\n      const { error, payload } = await report.getWorkflowData(\n        this.workflow.id,\n        {\n          filterBy: filters,\n          itemsPerPage: 100,\n          currentPage: 1,\n          mode: \"\",\n        }\n      );\n      this.$store.commit(\"hideLoadingBar\");\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      this.totalItems = payload.meta?.totalItems || 0;\n      payload.data.forEach((row) => {\n        row.value.forEach((process) => {\n          let stepCount = 0;\n          let workflowJson = JSON.parse(this.workflow.flowJson);\n          let check = true;\n          workflowJson.blocks.forEach((block) => {\n            if (block.id !== process.activityId && check) {\n              stepCount += 1;\n            } else {\n              if (process.flowStatus == 1) {\n                stepCount += 1;\n              }\n              check = false;\n            }\n          });\n          this.workflowRequestList.push({\n            ...process,\n            step: stepCount,\n            visible: true,\n            expand: false,\n            inbox: false,\n          });\n          this.workflowRequestList.sort(\n            (a, b) =>\n              new Date(b.transaction_createdAt) -\n              new Date(a.transaction_createdAt)\n          );\n        });\n      });\n    },\n\n    async getUsers() {\n      this.userList = [];\n      const { error, payload } = await user.getUserList();\n      if (error) {\n        this.$alert.error(\"Error fetching users\");\n        return;\n      }\n      if (payload) {\n        payload.map((user) => {\n          this.userList.push({\n            id: this.$nano.id(),\n            label: user.value,\n            value: String(user.id),\n          });\n        });\n      }\n    },\n\n    documentAction(action) {\n      if (action.id === \"Email_Sharing\") {\n        //\n      } else if (action.id === \"Print\") {\n        if (this.selectedFile.name) {\n          let ext = this.selectedFile.name.split(\".\").pop();\n          if (pdfSupport(ext)) {\n            localStorage.setItem(\"filePrint\", true);\n            localStorage.setItem(\"filePrintId\", this.selectedFile.id);\n          } else {\n            this.$refs.myFiles.contentWindow.print();\n          }\n        }\n        this.filePrintSession();\n      } else if (action.id === \"Download\") {\n        let link = \"\";\n        link = `${process.env.VUE_APP_API_URL}/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\n        window.open(link, \"_blank\");\n        //this.$alert.success(`file downloaded successfully`);\n      }\n    },\n\n    closeSubProcess() {\n      this.openSubProcessSheet = false;\n      this.subProcessData = {};\n      this.getRequestList();\n    },\n\n    mandatoryControlsList(value) {\n      this.mandatory = value;\n    },\n\n    deletedFiles(ids, files) {\n      this.fileControlDeleteFile.push(ids);\n\n      if (files) {\n        if (files.controls) {\n          if (files.controls.length) {\n            files.controls.forEach((field) => {\n              this.workflowModel[field] = \"\";\n            });\n          }\n        }\n\n        this.ocrResult = [];\n\n        let hasFile = this.attachmentList.findIndex((file) => {\n          return (\n            file.name === files.file.name &&\n            file.id === files.file.fileId &&\n            file.fileControl\n          );\n        });\n        // console.log(hasFile);\n        if (hasFile >= 0) {\n          this.tabs.find((tab) => {\n            if (tab.value === \"ATTACHMENTS\") {\n              tab.count = this.attachmentList.length - 1;\n            }\n          });\n          this.attachmentList.splice(hasFile, 1);\n        }\n      }\n    },\n\n    checkFormValidation() {\n      this.hasCheckFormValidate = true;\n    },\n\n    async filePrintSession() {\n      const { error } = await menu.filePrintSession({\n        repositoryId: this.selectedFile.repositoryId,\n        itemId: this.selectedFile.id,\n        activityId: 4,\n      });\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n    },\n\n    async openSubProcess(request) {\n      this.subWorkflowId = request.id;\n      this.loadingBarContent = true;\n      const { payload } = await report.getWorkflowData(this.subWorkflowId, {\n        filterBy: [\n          {\n            filters: [\n              {\n                criteria: \"requestNo\",\n                condition: \"IS_EQUALS_TO\",\n                value: request.requestNo,\n                valueTo: \"\",\n                arrayValue: \"\",\n                dataType: \"SHORT_TEXT\",\n              },\n            ],\n            groupCondition: \"\",\n          },\n        ],\n        itemsPerPage: 10,\n        currentPage: 1,\n        mode: \"\",\n      });\n      this.loadingBarContent = false;\n      const { data } = payload;\n      if (data.length) {\n        if (data[0].value.length) {\n          this.subProcessData = data[0].value[0];\n          this.subProcessData.inbox = request.inbox;\n          this.openSubProcessSheet = true;\n        }\n      }\n    },\n\n    async uploadFilesFromForm(files, control, fieldId, fields, aiSettings) {\n      this.formUploadFiles = [];\n      const formData = new FormData();\n      if (files.length) {\n        //this.$store.commit(\"showLoadingBarSave\");\n        for (let file of files) {\n          if (file.name && !file.error) {\n            formData.append(\"repositoryId\", this.workflow.repositoryId);\n            formData.append(\"file\", file);\n            formData.append(\"filename\", file.name);\n            if (fields) {\n              formData.append(\"fields\", fields);\n            } else {\n              formData.append(\"fields\", \"\");\n            }\n\n            if (!isEmpty(aiSettings)) {\n              if (aiSettings.formControlValidate) {\n                if (aiSettings.formControlValidate.optionsType === \"MASTER\") {\n                  formData.append(\n                    \"masterFormId\",\n                    aiSettings.formControlValidate.masterFormId\n                  );\n\n                  formData.append(\n                    \"masterFormColumn\",\n                    aiSettings.formControlValidate.masterFormColumn\n                  );\n                }\n\n                if (aiSettings.fileDataValidate.length) {\n                  formData.append(\n                    \"isValidateFile\",\n                    aiSettings.fileDataValidate.includes(\"EXPIRY_DATE\")\n                  );\n                }\n              }\n            }\n\n            try {\n              const response = await axios({\n                url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/upload`,\n                method: \"POST\",\n                data: formData,\n                headers: {\n                  Token: this.$store.state.identity.token,\n                  Accept: \"application/json\",\n                  \"Content-Type\": \"multipart/form-data\",\n                },\n                onUploadProgress: function (progressEvent) {\n                  let uploadedPercentage = Math.round(\n                    (progressEvent.loaded * 100) / progressEvent.total\n                  );\n                  // console.log(this.workflowModel, fieldId);\n                  let hasFile = this.workflowModel[fieldId].findIndex(\n                    (item) => {\n                      return item.name === file.name;\n                    }\n                  );\n                  // console.log(hasFile);\n                  if (hasFile >= 0) {\n                    this.$set(\n                      this.workflowModel[fieldId][hasFile],\n                      \"uploadedPercentage\",\n                      0\n                    );\n                    if (uploadedPercentage > 50 && uploadedPercentage !== 100) {\n                      this.workflowModel[fieldId][hasFile].uploadedPercentage =\n                        uploadedPercentage;\n                    } else {\n                      this.workflowModel[fieldId][\n                        hasFile\n                      ].uploadedPercentage = 98;\n                    }\n                  }\n                }.bind(this),\n              });\n\n              const { status, data } = response;\n              if (status !== 200) {\n                throw \"Invalid response\";\n              }\n              file.createdAt = this.$day.newDateTime();\n              file.createdBy = this.$store.state.session.email;\n              let filesList = JSON.parse(data);\n              file.fileId = filesList.fileId;\n              file.fieldId = fieldId;\n              file.fileDataValidate = filesList.OCRfieldlist;\n              this.attachmentList.push({\n                id: Number(filesList.fileId),\n                name: file.name,\n                createdAt: new Date().toISOString(),\n                createdByEmail: this.$store.state.session.email,\n                size: file.size,\n                initiate: true,\n                formAttach: true,\n                fileControl: true,\n                fieldId: fieldId,\n                control: control,\n              });\n              this.tabs.find((tab) => {\n                if (tab.value === \"ATTACHMENTS\") {\n                  tab.count = this.attachmentList.length;\n                }\n              });\n            } catch (error) {\n              console.error(error);\n              this.$alert.error(`error attaching file`);\n            }\n          }\n          let hasFile = this.workflowModel[fieldId].findIndex((item) => {\n            return item.name === file.name;\n          });\n\n          // console.log(hasFile);\n\n          if (hasFile >= 0) {\n            this.workflowModel[fieldId][hasFile].uploadedPercentage = 100;\n          }\n        }\n\n        let _files = Array.from(files);\n        // console.log(_files);\n        this.formUploadFiles = [];\n        for (let file of _files) {\n          // console.log(file.name);\n          if (file.name) {\n            const base64String = await fileToBase64(file);\n\n            this.formUploadFiles.push({\n              name: file.name,\n              size: file.size,\n              file: base64String,\n              fileId: file.fileId,\n              createdBy: file.createdBy,\n              createdAt: file.createdAt,\n              workflowId: this.selectedProcess.id,\n              processId: this.selectedProcess.processId,\n              fieldId: file.fieldId,\n              fileDataValidate: file.fileDataValidate,\n            });\n          }\n        }\n\n        if (control) {\n          if (control.length) {\n            control.forEach((con) => {\n              let index = this.readonlyControls.findIndex((item) => {\n                return item === con;\n              });\n\n              // console.log(index);\n              if (index >= 0) {\n                this.readonlyControls.splice(index, 1);\n              }\n            });\n          }\n        }\n\n        this.$store.commit(\"hideLoadingBarSave\");\n      }\n    },\n\n    async fileControlDeletedFile(file) {\n      this.$store.commit(\"showLoadingBar\");\n      let fileIds = [];\n      file.forEach((item) => {\n        if (item.id) fileIds.push(item.id);\n      });\n      let input = {\n        ids: fileIds,\n        formInfo: {\n          formId: this.formId,\n          formEntryId: this.selectedProcess.formData.formEntryId,\n          jsonId: file[0].jsonId,\n        },\n      };\n      const { error } = await repository.fileControlDeleteFile(\n        this.workflow.repositoryId,\n        input\n      );\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n    },\n\n    async getSubWorkflows(subWorkflowIds) {\n      const { error, payload } = await workflow.getWorkflows({\n        mode: \"BROWSE\",\n        sortBy: { criteria: \"\", order: \"DESC\" },\n        groupBy: \"\",\n        filterBy: [\n          {\n            filters: [\n              {\n                criteria: \"id\",\n                condition: \"IS_EQUALS_TO\",\n                value: \"[\" + subWorkflowIds.toString() + \"]\",\n                dataType: \"SINGLE_SELECT\",\n              },\n            ],\n            groupCondition: \"\",\n          },\n        ],\n        itemsPerPage: 0,\n        currentPage: 0,\n        hasSecurity: false,\n      });\n\n      if (error) {\n        this.$alert.error(\"Error fetching workflows\");\n        return;\n      }\n\n      if (payload) {\n        if (payload.data.length) {\n          let subWorkflowFormIds = [];\n          payload.data[0].value.forEach((workflow) => {\n            subWorkflowFormIds.push(workflow.wFormId);\n          });\n          if (subWorkflowFormIds.length) {\n            await this.getSubWorkflowForms(subWorkflowFormIds);\n          }\n        }\n      }\n    },\n\n    async getSubWorkflowForms(subWorkflowFormIds) {\n      const { error, payload } = await form.getForms({\n        mode: \"BROWSE\",\n        sortBy: { criteria: \"\", order: \"DESC\" },\n        groupBy: \"\",\n        filterBy: [\n          {\n            filters: [\n              {\n                criteria: \"id\",\n                condition: \"IS_EQUALS_TO\",\n                value: \"[\" + subWorkflowFormIds.toString() + \"]\",\n                dataType: \"SINGLE_SELECT\",\n              },\n            ],\n            groupCondition: \"\",\n          },\n        ],\n        itemsPerPage: 0,\n        currentPage: 0,\n        hasSecurity: false,\n      });\n\n      if (error) {\n        this.$alert.error(\"Error fetching forms\");\n        return;\n      }\n\n      if (payload) {\n        if (payload.data.length) {\n          payload.data[0].value.forEach((form) => {\n            this.subWorkflowFormList.push({\n              id: form.id,\n              name: form.name,\n              formJson: form.formJson,\n            });\n          });\n        }\n      }\n    },\n\n    async uploadFileForControl(files, control, fieldId, aiSettings) {\n      this.fileUploadInput = {\n        files: files,\n        control: control,\n        fieldId: fieldId,\n        aiSettings: aiSettings,\n      };\n      if (this.repositoryDetails.fieldsType === \"STATIC\") {\n        let label = this.getLabel(fieldId);\n        this.uploadFilename = label;\n\n        //rename higher level name\n        const highestLevelObject = this.repositoryField.reduce(\n          (prev, curr) => (curr.level > prev.level ? curr : prev),\n          this.repositoryField[0]\n        );\n\n        const highestLevelId = highestLevelObject.id;\n\n        if (this.attachmentList.length) {\n          let index = this.attachmentList.length - 1;\n          await this.getFileData(this.attachmentList[index], \"file\");\n        }\n\n        const fileDataItem = this.fileData.find(\n          (item) => highestLevelId == item.id\n        );\n        const newObjectToPush = {\n          id: highestLevelObject.id,\n          name: highestLevelObject.name,\n          value: label,\n          type: highestLevelObject.dataType,\n        };\n        if (!this.fileData.length) {\n          this.fileData.push(newObjectToPush);\n        } else {\n          fileDataItem.value = label;\n        }\n        // console.log(this.attachmentList,\"files, control, fieldId, aiSettings hasfiel\")\n        // console.log(label,\"files, control, fieldId, aiSettings hasfiel\")\n        // console.log(this.fileData,\"files, control, fieldId, aiSettings hasfiel\")\n\n        // check all mandatory filled\n        const mandatoryItems = this.repositoryField\n          .filter((item) => item.isMandatory === true)\n          .map((item) => item.id);\n\n        const allMandatoryFilled = mandatoryItems.every((mandatoryId) => {\n          const fileItem = this.fileData.find(\n            (item) => item.id === mandatoryId\n          );\n          return fileItem && fileItem.value !== \"\";\n        });\n\n        this.showMetaDataEditModal = !allMandatoryFilled;\n\n        if (allMandatoryFilled) {\n          const newObject = {};\n\n          this.fileData.forEach((item) => {\n            newObject[item.name] = item.value !== \"\" ? item.value : \"\";\n          });\n\n          this.fileUploadForControl = true;\n          this.saveMetaData(newObject);\n        } else {\n          this.fileUploadForControl = true;\n          this.showMetaDataEditModal = true;\n        }\n      } else {\n        this.uploadFilesFromForm(files, control, fieldId, \"\", aiSettings);\n      }\n    },\n\n    async getFileData(file, data) {\n      //this.$store.commit(\"showLoadingBar\");\n      const { error, payload } = await repository.getFileData({\n        repositoryId: file.repositoryId,\n        itemId: file.id,\n      });\n      //this.$store.commit(\"hideLoadingBar\");\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n\n      if (!payload) {\n        return;\n      }\n      if (file.fileData) {\n        this.fileData = file.fileData;\n      } else {\n        this.fileData = payload;\n      }\n      if (data !== \"file\") this.fileDetailsSheet = true;\n    },\n\n    async getOCRResult(files, control, fieldId, aiSettings) {\n      const formData = new FormData();\n      let formFields = [];\n      if (control && control.length) {\n        control.forEach((con) => {\n          this.readonlyControls.push(con);\n        });\n        control.forEach((field) => {\n          let name = this.formFields.find((item) => item.value === field);\n          if (name) {\n            formFields.push(`${name.label}, ${name.type}`);\n          }\n        });\n        if (files.length) {\n          //this.$store.commit(\"showLoadingBarSave\");\n          for (let file of files) {\n            if (file.name && !file.error) {\n              formData.append(\"repositoryId\", this.workflow.repositoryId);\n              formData.append(\"file\", file);\n              if (formFields.length) {\n                formData.append(\"formFields\", JSON.stringify(formFields));\n              }\n\n              try {\n                const response = await axios({\n                  url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/uploadforStaticMetadata`,\n                  method: \"POST\",\n                  data: formData,\n                  headers: {\n                    Token: this.$store.state.identity.token,\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"multipart/form-data\",\n                  },\n                  onUploadProgress: function (progressEvent) {\n                    let uploadedPercentage = Math.round(\n                      (progressEvent.loaded * 100) / progressEvent.total\n                    );\n                    // console.log(this.workflowModel, fieldId);\n\n                    let hasFile = this.workflowModel[fieldId].findIndex(\n                      (item) => {\n                        return item.name === file.name;\n                      }\n                    );\n                    // console.log(hasFile);\n                    if (hasFile >= 0) {\n                      this.$set(\n                        this.workflowModel[fieldId][hasFile],\n                        \"uploadedPercentage\",\n                        0\n                      );\n                      if (uploadedPercentage < 50) {\n                        this.workflowModel[fieldId][\n                          hasFile\n                        ].uploadedPercentage = uploadedPercentage;\n                      } else {\n                        this.workflowModel[fieldId][\n                          hasFile\n                        ].uploadedPercentage = 49;\n                      }\n                    }\n                  }.bind(this),\n                });\n\n                const { status, data } = response;\n                if (status !== 200) {\n                  throw \"Invalid response\";\n                }\n\n                let list = decrypt(\n                  data,\n                  this.$store.state.identity.key,\n                  this.$store.state.identity.iv\n                );\n\n                let ocrList = JSON.parse(list);\n                let ocr = JSON.parse(ocrList);\n                let ocrFile = JSON.parse(ocr);\n\n                if (Array.isArray(ocrFile)) {\n                  ocrFile.forEach((hasFile) => {\n                    let fieldId = this.formFields.find(\n                      (item) => item.label === hasFile.name\n                    );\n                    if (fieldId) {\n                      if (hasFile.value) {\n                        this.workflowModel[fieldId.value] = hasFile.value;\n                      }\n                    }\n                  });\n                  this.ocrResult = ocrFile;\n                }\n              } catch (error) {\n                console.error(error);\n                this.$alert.error(`error on get ocr result`);\n              }\n            }\n            let hasFile = this.workflowModel[fieldId].findIndex((item) => {\n              return item.name === file.name;\n            });\n\n            // console.log(hasFile);\n\n            if (hasFile >= 0) {\n              //this.workflowModel[fieldId][hasFile].uploadedPercentage = 100;\n            }\n          }\n\n          this.$store.commit(\"hideLoadingBarSave\");\n          this.uploadFileForControl(files, control, fieldId, aiSettings);\n        }\n      } else {\n        this.uploadFileForControl(files, control, fieldId, aiSettings);\n      }\n    },\n\n    async getMasterForm() {\n      this.$store.commit(\"showLoadingBar\");\n\n      const { error, payload } = await form.getForm(this.portalMasterFormId);\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n      if (payload.controllist.length) {\n        this.masterFormFields = payload.controllist;\n      }\n    },\n\n    async getMasterFormData(formId) {\n      this.$store.commit(\"showLoadingBar\");\n      let filterCondition = [];\n      if (typeof this.portalSettingJson.usernameField === \"string\") {\n        filterCondition.push({\n          filters: [\n            {\n              criteria: this.portalSettingJson.usernameField,\n              condition: \"IS_EQUALS_TO\",\n              value: this.$store.state.session.email,\n              dataType: \"SHORT_TEXT\",\n            },\n          ],\n          groupCondition: \"\",\n        });\n      } else {\n        this.portalSettingJson.usernameField.forEach((field) => {\n          filterCondition.push({\n            filters: [\n              {\n                criteria: field,\n                condition: \"IS_EQUALS_TO\",\n                value: this.$store.state.session.email,\n                dataType: \"SHORT_TEXT\",\n              },\n            ],\n            groupCondition: filterCondition.length > 0 ? \"OR\" : \"\",\n          });\n        });\n      }\n\n      const { error, payload } = await form.getFormEntries(formId, {\n        mode: \"BROWSE\",\n        sortBy: { criteria: \"\", order: \"DESC\" },\n        groupBy: \"\",\n        filterBy: filterCondition,\n        itemsPerPage: 10,\n        currentPage: 1,\n        portalId: this.portalId,\n      });\n\n      this.$store.commit(\"hideLoadingBar\");\n\n      if (error) {\n        this.$alert.error(error);\n        return;\n      }\n\n      const { data } = payload;\n\n      if (data.length && data[0].value.length) {\n        let values = data[0].value[0];\n        this.formFields.forEach((field) => {\n          let hasFields = this.masterFormFields.find(\n            (master) => lowerCase(master.name) === lowerCase(field.label)\n          );\n          if (hasFields) {\n            this.workflowModel[field.value] = values[hasFields.jsonId];\n          }\n        });\n      }\n    },\n\n    attachmentCount(count) {\n      this.tabs.find((tab) => {\n        if (tab.value === \"ATTACHMENTS\") {\n          tab.count = count;\n        }\n      });\n    },\n\n    commentsCount(count) {\n      this.tabs.find((tab) => {\n        if (tab.value === \"COMMENTS\") {\n          tab.count = count;\n        }\n      });\n    },\n\n    getColumns() {\n      this.formFields = [];\n      let origin = location.origin;\n      this.columns = [\n        {\n          id: \"requestNo\",\n          name: \"requestNo\",\n          label: \"Request No\",\n          type: \"TITLE\",\n          isVisible: true,\n          isSortable: true,\n          dataType: DataType.SHORT_TEXT,\n        },\n      ];\n      if (this.isTenantGOTO()) {\n        this.columns.push({\n          id: \"mlCondition\",\n          name: \"mlCondition\",\n          label: \"\",\n          type: \"MLCONDITION\",\n          isVisible: true,\n          dataType: DataType.SHORT_TEXT,\n          isFilter: false,\n        });\n      }\n      if (\n        this.isTenantArmgroup() ||\n        (origin === \"https://trial.ezofis.com\" &&\n          this.$store.state.session.tenantId === 12)\n      ) {\n        this.columns.push({\n          id: \"mlCondition\",\n          name: \"mlCondition\",\n          label: \"\",\n          type: \"MLCONDITION\",\n          isVisible: true,\n          dataType: DataType.SHORT_TEXT,\n          isFilter: false,\n        });\n      }\n      let defaultColumns = [\n        {\n          id: \"stage\",\n          name: \"stage\",\n          label: \"Stage\",\n          type: \"NORMAL\",\n          isVisible: true,\n          dataType: DataType.SHORT_TEXT,\n        },\n        {\n          id: \"actionUser\",\n          name: \"actionUser\",\n          label: \"Action User\",\n          type: \"NORMAL\",\n          options: this.userList,\n          isVisible: true,\n          dataType: DataType.SINGLE_SELECT,\n        },\n        {\n          id: \"raisedBy\",\n          name: \"raisedBy\",\n          label: \"Raised By\",\n          type: \"NORMAL\",\n          options: this.userList,\n          isVisible: true,\n          dataType: DataType.SINGLE_SELECT,\n        },\n        {\n          id: \"raisedAt\",\n          name: \"raisedAt\",\n          label: \"Raised On\",\n          type: \"NORMAL\",\n          isVisible: true,\n          isSortable: true,\n          dataType: DataType.DATE,\n        },\n        {\n          id: \"lastAction\",\n          name: \"lastAction\",\n          label: \"Last Action\",\n          type: \"NORMAL\",\n          isVisible: true,\n          dataType: DataType.SHORT_TEXT,\n        },\n        {\n          id: \"lastActionBy\",\n          name: \"lastActionBy\",\n          label: \"Last Action By\",\n          type: \"NORMAL\",\n          options: this.userList,\n          isVisible: true,\n          dataType: DataType.SINGLE_SELECT,\n        },\n        {\n          id: \"lastActionOn\",\n          name: \"lastActionOn\",\n          label: \"Last Action On\",\n          type: \"NORMAL\",\n          isVisible: true,\n          dataType: DataType.DATE,\n        },\n        {\n          id: \"duration\",\n          name: \"duration\",\n          label: \"Duration\",\n          type: \"NORMAL\",\n          isVisible: true,\n          dataType: DataType.SHORT_TEXT,\n        },\n      ];\n      if (\n        this.isTenantArmgroup() ||\n        origin === \"http://localhost:8080\" ||\n        (origin === \"https://trial.ezofis.com\" &&\n          this.$store.state.session.tenantId === 12)\n      ) {\n        if (this.workflow.wFormId && this.wform.formJson) {\n          let formJson = JSON.parse(this.wform.formJson);\n          const panels = [...formJson.panels, ...formJson.secondaryPanels];\n\n          if (!panels.length) {\n            return;\n          }\n          let fields = [];\n          for (const panel of panels) {\n            fields.push(...panel.fields);\n          }\n          let initialsField = fields.find((row) => row.label === \"Initials\");\n          if (initialsField) {\n            this.columns.push({\n              id: initialsField.id,\n              name: initialsField.id,\n              label: initialsField.label,\n              type: \"NORMAL\",\n              isVisible: true,\n              dataType: initialsField.type,\n              apiLoad: true,\n              isFilter: true,\n            });\n          }\n          let benefitClaimField = fields.find(\n            (row) => row.label === \"Benefit Claimed\"\n          );\n          if (benefitClaimField) {\n            this.columns.push({\n              id: benefitClaimField.id,\n              name: benefitClaimField.id,\n              label: benefitClaimField.label,\n              type: \"NORMAL\",\n              isVisible: true,\n              dataType: benefitClaimField.type,\n              apiLoad: true,\n              isFilter: true,\n            });\n          }\n        }\n        this.columns.push(\n          {\n            id: \"stage\",\n            name: \"stage\",\n            label: \"Stage\",\n            type: \"NORMAL\",\n            isVisible: true,\n            dataType: DataType.SHORT_TEXT,\n          },\n          {\n            id: \"actionUser\",\n            name: \"actionUser\",\n            label: \"Action User\",\n            type: \"NORMAL\",\n            options: this.userList,\n            isVisible: true,\n            dataType: DataType.SINGLE_SELECT,\n          },\n\n          {\n            id: \"lastAction\",\n            name: \"lastAction\",\n            label: \"Last Action\",\n            type: \"NORMAL\",\n            isVisible: true,\n            dataType: DataType.SHORT_TEXT,\n          },\n          {\n            id: \"lastActionBy\",\n            name: \"lastActionBy\",\n            label: \"Last Action By\",\n            type: \"NORMAL\",\n            options: this.userList,\n            isVisible: true,\n            dataType: DataType.SINGLE_SELECT,\n          },\n          {\n            id: \"lastActionOn\",\n            name: \"lastActionOn\",\n            label: \"Last Action On\",\n            type: \"NORMAL\",\n            isVisible: true,\n            dataType: DataType.DATE,\n          },\n          {\n            id: \"duration\",\n            name: \"duration\",\n            label: \"Duration\",\n            type: \"NORMAL\",\n            isVisible: true,\n            dataType: DataType.SHORT_TEXT,\n          },\n          {\n            id: \"raisedBy\",\n            name: \"raisedBy\",\n            label: \"Raised By\",\n            type: \"NORMAL\",\n            options: this.userList,\n            isVisible: true,\n            dataType: DataType.SINGLE_SELECT,\n          },\n          {\n            id: \"raisedAt\",\n            name: \"raisedAt\",\n            label: \"Raised On\",\n            type: \"NORMAL\",\n            isVisible: true,\n            dataType: DataType.DATE,\n          }\n        );\n      } else {\n        this.columns.push(...defaultColumns);\n      }\n      if (this.workflow.wFormId && this.wform.formJson) {\n        let formJson = JSON.parse(this.wform.formJson);\n        const panels = [...formJson.panels, ...formJson.secondaryPanels];\n\n        if (!panels.length) {\n          return;\n        }\n        let fields = [];\n        for (const panel of panels) {\n          fields.push(...panel.fields);\n        }\n\n        let wflowJson = JSON.parse(this.workflow.flowJson);\n        let secureControls = [];\n        const controls = wflowJson.blocks.reduce((acc, control) => {\n          if (\n            control.settings.formSecureControls &&\n            control.settings.formSecureControls.length\n          ) {\n            if (typeof control.settings.formSecureControls[0] === \"string\") {\n              control.settings.users.forEach((user) => {\n                acc.push({ [user]: control.settings.formSecureControls });\n              });\n            } else {\n              control.settings.formSecureControls.forEach((user) => {\n                if (user.formFields.length) {\n                  acc.push({ [user.userId]: user.formFields });\n                }\n              });\n            }\n          }\n          return acc;\n        }, []);\n        controls.forEach((user) => {\n          if (user[this.$store.state.session.id]) {\n            secureControls.push(...user[this.$store.state.session.id]);\n          }\n        });\n\n        fields.forEach((field) => {\n          if (\n            field.type !== \"DIVIDER\" &&\n            field.type !== \"LABEL\" &&\n            field.type !== \"PARAGRAPH\" &&\n            (field.label || field.type === \"TABLE\") &&\n            field.settings.general.visibility !== \"DISABLE\"\n          ) {\n            if (secureControls.length) {\n              if (typeof secureControls[0] === \"object\") {\n                let user = secureControls.findIndex(\n                  (item) => item.userId === this.$store.state.session.id\n                );\n                if (user >= 0) {\n                  let controls = secureControls[user].formFields;\n                  let index = controls.findIndex((item) => item === field.id);\n                  if (index === -1) {\n                    if (!this.myInbox) {\n                      this.columns.push({\n                        id: field.id,\n                        name: field.id,\n                        label: field.label,\n                        type: \"NORMAL\",\n                        isVisible: true,\n                        dataType: field.type,\n                        apiLoad: true,\n                        isFilter: true,\n                      });\n                    }\n\n                    this.formFields.push({\n                      id: this.$nano.id(),\n                      label: field.label || field.type,\n                      value: field.id,\n                      type: field.type,\n                      settings: field.settings,\n                    });\n                  }\n                }\n              } else {\n                let index = secureControls.findIndex(\n                  (item) => item === field.id\n                );\n                if (index === -1) {\n                  if (!this.myInbox) {\n                    this.columns.push({\n                      id: field.id,\n                      name: field.id,\n                      label: field.label,\n                      type: \"NORMAL\",\n                      isVisible: true,\n                      dataType: field.type,\n                      apiLoad: true,\n                      isFilter: true,\n                    });\n                  }\n\n                  this.formFields.push({\n                    id: this.$nano.id(),\n                    label: field.label || field.type,\n                    value: field.id,\n                    type: field.type,\n                    settings: field.settings,\n                  });\n                }\n              }\n            } else {\n              if (!this.myInbox) {\n                let index = this.columns.findIndex(\n                  (item) => item.id === field.id\n                );\n                if (index === -1) {\n                  this.columns.push({\n                    id: field.id,\n                    name: field.id,\n                    label: field.label,\n                    type: \"NORMAL\",\n                    isVisible: true,\n                    dataType: field.type,\n                    apiLoad: true,\n                    isFilter: true,\n                  });\n                }\n              }\n\n              this.formFields.push({\n                id: this.$nano.id(),\n                label: field.label || field.type,\n                value: field.id,\n                type: field.type,\n                settings: field.settings,\n              });\n            }\n          }\n        });\n      } else if (this.workflow.repositoryId && this.repository.fields) {\n        this.repository.fields.forEach((field) => {\n          if (field.name && field.dataType !== \"TABLE\") {\n            if (!this.myInbox) {\n              this.columns.push({\n                id: field.id,\n                name: field.name,\n                label: field.name,\n                type: \"NORMAL\",\n                isVisible: true,\n                dataType: field.dataType,\n              });\n            }\n          }\n        });\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.theme-light {\n  .list-item {\n    background-color: rgba(0, 188, 212, 0.15);\n  }\n\n  #portals-access .list {\n    background-color: #e1f5f9;\n    &:hover {\n      background-color: $secondary-2 !important;\n    }\n  }\n}\n\n.theme-dark {\n  .list-item {\n    background-color: rgba(38, 197, 218, 0.15);\n  }\n\n  #portals-access .list {\n    &:hover {\n      background-color: var(--secondary) !important;\n    }\n  }\n\n  .menuDescription .text-caption {\n    color: white !important;\n  }\n\n  #requestDetails {\n    table {\n      &.submittedData {\n        background: #510763 !important;\n      }\n    }\n  }\n}\n#portals-access {\n  margin: auto;\n  padding: 16px;\n\n  .logo img {\n    // height: 24px;\n    width: auto;\n  }\n\n  .welcomeHeader {\n    padding: 16px;\n    border-radius: 4px;\n    background-color: #8c52ff;\n    margin-bottom: 16px;\n    align-items: center;\n    color: #fff;\n\n    .welcomeTextHigh {\n      font-size: 36px;\n      font-weight: bold;\n      margin-bottom: 24px !important;\n    }\n\n    .welcomeTextSmall {\n      font-size: 20px;\n      margin-bottom: 10px !important;\n    }\n  }\n\n  .portal-header {\n    border-radius: 4px;\n    border-top: 4px solid var(--primary);\n  }\n\n  .logo {\n    background-color: var(--component-bg-color);\n    margin-bottom: 16px;\n    // img {\n    //   height: 65px;\n    // }\n  }\n\n  .header {\n    padding: 16px;\n    // border-radius: 4px;\n    background-color: var(--component-bg-color);\n    // border-top: 4px solid var(--primary);\n    margin-bottom: 16px;\n    display: flex;\n    align-items: center;\n\n    .description {\n      @extend .text-sm;\n      color: var(--icon-color-inverted);\n    }\n  }\n\n  .footer {\n    margin-top: 24px;\n    display: flex;\n    align-items: right;\n    justify-content: right;\n    position: fixed;\n    right: 15px;\n    bottom: 12px;\n    width: 100%;\n\n    .label {\n      @extend .text-sm;\n      color: var(--icon-color-inverted);\n      margin-right: 4px;\n    }\n\n    img {\n      height: 16px;\n      width: auto;\n    }\n  }\n\n  .content {\n    border-radius: 4px;\n    background-color: var(--component-bg-color);\n    height: calc(100vh - 125px);\n\n    .mainMenu {\n      padding: 15px;\n      border: 1px solid var(--secondary);\n      border-radius: 4px;\n\n      .title {\n        font-size: 16px;\n      }\n\n      .list-item {\n        height: 36px;\n      }\n\n      .medium {\n        font-size: 14px;\n      }\n\n      .small {\n        font-size: 12px;\n      }\n\n      &:hover {\n        background-color: $secondary-1;\n      }\n    }\n\n    .subMenu:hover {\n      background-color: $secondary-1;\n    }\n\n    .list-item {\n      height: 48px;\n      border-radius: 4px;\n      padding: 16px;\n      font-weight: 500;\n      display: flex;\n      text-align: center;\n      align-items: center;\n      justify-content: center;\n      user-select: none;\n      background-color: rgba(0, 188, 212, 0.15);\n\n      &:hover {\n        cursor: pointer;\n        color: white;\n        background-color: var(--secondary);\n      }\n    }\n\n    .menuDescription {\n      border: 1px solid var(--divider-color);\n\n      .medium {\n        height: 160px;\n        .justify-center {\n          justify-content: normal;\n        }\n      }\n    }\n\n    .menuAction .action {\n      margin: auto;\n    }\n\n    .subcontent,\n    .subdetcontent {\n      border-radius: 10px;\n      border: 1px solid var(--divider-color);\n\n      .alert {\n        -webkit-border-radius: 9px;\n        -moz-border-radius: 9px;\n        border-radius: 9px;\n        font-size: 12px;\n        padding: 0 5px;\n        vertical-align: top;\n        height: 18px;\n        margin-top: -20px;\n        margin-right: -20px;\n        position: absolute;\n        z-index: 1;\n      }\n    }\n\n    .subdetcontent {\n      #action-btn.tabButtons {\n        height: 52px;\n        width: 52px;\n      }\n\n      .badge {\n        -webkit-border-radius: 9px;\n        -moz-border-radius: 9px;\n        border-radius: 9px;\n        font-size: 12px;\n        background: $primary;\n        color: #fff;\n        padding: 0 5px;\n        vertical-align: top;\n        height: 18px;\n        margin-top: -20px;\n        margin-right: -20px;\n        position: absolute;\n        z-index: 1;\n      }\n\n      .list {\n        border-radius: 6px;\n        height: 100%;\n        border: 1px solid #e1f5f9;\n        cursor: pointer;\n        font-size: 12px;\n\n        &.active-list {\n          background-color: $secondary-2 !important;\n        }\n      }\n\n      .forms {\n        border-radius: 6px;\n        height: 100%;\n        border: 1px solid #eee;\n        padding: 5px;\n        text-align: center;\n      }\n\n      .lblheader {\n        text-align: center;\n        color: $primary-11;\n        font-weight: 500;\n      }\n\n      table {\n        table-layout: fixed;\n        // width: 100%;\n        border-collapse: collapse;\n        white-space: nowrap;\n\n        tr {\n          height: 36px;\n\n          th {\n            color: $primary-11;\n            text-align: left;\n          }\n        }\n\n        th,\n        td {\n          border: 1px solid var(--divider-color);\n          padding: 8px;\n          font-weight: 500;\n        }\n\n        .tblHeader {\n          color: $primary-11;\n          font-weight: 500;\n          &.small {\n            width: 200px;\n          }\n        }\n      }\n\n      .ellipsis:hover {\n        overflow: visible;\n        white-space: normal;\n        word-break: break-all;\n      }\n    }\n  }\n\n  #global-search {\n    width: 100%;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    border-radius: 20px;\n    padding: 0px 12px;\n    color: var(--icon-color);\n    border: 1px solid $secondary;\n    // background-color: var(--body-bg-color);\n\n    .label {\n      @extend .text-sm;\n      flex: 1;\n      display: flex;\n      align-items: center;\n      margin-left: 8px;\n    }\n  }\n}\n\n#sheet .defaultBottom {\n  position: absolute;\n  bottom: 0;\n}\n\n#sheet .attachmentList,\n#sheet .checkList {\n  padding: 12px;\n  border-bottom: 1px solid var(--divider-color);\n  &:hover {\n    background: #e0f7fa;\n  }\n\n  // &:not(:last-child) {\n  //   border-bottom: 1px solid var(--divider-color);\n  // }\n\n  &.is-selected.mini-mode::after {\n    content: \"\";\n    position: absolute;\n    right: 0;\n    top: 10px;\n    width: 4px;\n    height: 75%;\n    background-color: var(--secondary);\n    border-radius: 4px 0px 0px 4px;\n  }\n\n  .thumbnail {\n    height: 80px;\n    width: 80px;\n    border: 1px solid var(--divider-color);\n    border-radius: 4px 0px 0px 4px;\n  }\n\n  .avatar {\n    width: 48px;\n    height: 48px;\n  }\n\n  .mini-avatar {\n    width: 18px;\n    height: 18px;\n  }\n\n  .title {\n    font-weight: 600;\n    margin-bottom: 6px;\n    display: flex;\n    align-items: center;\n  }\n\n  .meta {\n    @extend .text-sm;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    color: var(--icon-color-inverted);\n  }\n\n  #avatar {\n    height: 18px;\n    width: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: $secondary;\n    border-radius: 100%;\n    border: 1px solid;\n  }\n}\n\n#sheet .attachmentFileHeader {\n  display: flex;\n  align-items: center;\n  text-transform: none !important;\n  .avatar {\n    width: 36px;\n    height: 36px;\n  }\n\n  .filename {\n    font-size: 16px !important;\n  }\n\n  .meta {\n    @extend .text-sm;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    color: var(--icon-color-inverted);\n    font-weight: normal !important;\n  }\n}\n\n#sheet .attachmentFileFrame {\n  min-height: calc(100vh - 61px);\n  background-color: var(--body-bg-color);\n  display: flex;\n\n  .file-list {\n    flex: 1;\n  }\n\n  .aside {\n    width: 380px;\n    background-color: var(--component-bg-color);\n  }\n\n  #file-frame {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n#sheet {\n  .chips {\n    cursor: pointer;\n    background-color: #fff !important;\n    font-size: 12px !important;\n\n    &.small {\n      width: 75px;\n    }\n\n    &.medium {\n      width: 95px;\n    }\n  }\n\n  .primary-hover:hover {\n    background: $primary-2 !important;\n  }\n\n  .secondary-hover:hover {\n    background: $secondary-2 !important;\n  }\n\n  .green-hover:hover {\n    background: $green-2 !important;\n  }\n\n  .orange-hover:hover {\n    background: $orange-2 !important;\n  }\n\n  .red-hover:hover {\n    background: $red-2 !important;\n  }\n\n  .grey-hover:hover {\n    background: $grey-2 !important;\n  }\n\n  .badge {\n    -webkit-border-radius: 9px;\n    -moz-border-radius: 9px;\n    border-radius: 9px;\n    font-size: 12px;\n    background: $primary;\n    color: #fff;\n    padding: 0 5px;\n    vertical-align: top;\n    margin-top: -30px;\n    margin-right: -20px;\n    position: absolute;\n    z-index: 1;\n  }\n}\n\n#modal #processHistory {\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    white-space: nowrap;\n    margin-bottom: 15px;\n\n    tr {\n      height: 36px;\n\n      th {\n        color: var(--secondary);\n        text-align: left;\n      }\n    }\n\n    th,\n    td {\n      border: 1px solid var(--divider-color);\n      padding: 8px;\n      font-weight: 500;\n    }\n\n    td.ellipsis:hover {\n      overflow: visible;\n      white-space: normal;\n      word-break: break-all;\n    }\n  }\n}\n\n#sheet .hint {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 5px;\n  cursor: pointer;\n  border: 2px dotted;\n  border-radius: 10px;\n  background-color: #e0ebfa26;\n  padding: 5px;\n\n  .icon {\n    color: var(--body-text-color-inverted);\n  }\n\n  .title {\n    @extend .title-2;\n    font-weight: bold;\n    margin-bottom: 2px;\n  }\n\n  .description {\n    color: var(--icon-color);\n    text-align: center;\n  }\n}\n\n#sheet {\n  #form-view {\n    background-color: var(--body-bg-color);\n    margin: auto;\n    padding: 16px;\n  }\n}\n\n#sheet .leftBorder {\n  border-left: 1px solid var(--divider-color);\n}\n\n#sheet #action-btn.tabButtons {\n  height: 52px;\n  width: 52px;\n}\n\n#sheet {\n  #action-btn.commentAction {\n    height: 32px !important;\n    width: 32px !important;\n  }\n}\n\n#pagination.portal {\n  padding-top: 5px !important;\n  border-top: none;\n}\n\n.chip-warning {\n  font-weight: 500;\n  background-color: var(--component-bg-color-inferior);\n  padding: 4px 8px;\n  border-radius: 4px;\n  margin-right: 8px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.chip-success {\n  font-weight: 500;\n  background-color: #9bf3b0;\n  padding: 4px 8px;\n  border-radius: 4px;\n  margin-right: 8px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.attachment-label {\n  border: 1px solid;\n  border-radius: 20px;\n  padding: 5px 10px;\n  color: $secondary;\n  background: $secondary-1;\n  font-size: 12px;\n  &.ellipsis:hover {\n    white-space: normal;\n  }\n}\n\n.toggle-btn {\n  border: 1px solid var(--body-bg-color);\n  border-radius: 10px;\n  cursor: pointer;\n  color: var(--body-text-color);\n  background-color: var(--body-bg-color);\n  font-weight: 500;\n}\n\n.active-btn {\n  border: 1px solid var(--component-bg-color);\n  background-color: var(--component-bg-color);\n  border-radius: 10px;\n}\n\n.data-count {\n  min-width: 18px;\n  padding: 2px;\n  position: absolute;\n  text-align: center;\n  border-radius: 22px;\n  font-size: 10px;\n  background: $secondary;\n  color: #fff;\n  padding: 0 4px;\n  vertical-align: top;\n  margin-top: -8px;\n  /* margin-right: -12px; */\n  position: absolute;\n  z-index: 1;\n}\n/* .custom-tab-container{\n  height:100%;\n} */\n/* Dark Mode Styles */\n.custom-tab.active-btn {\n  background-color: #333; /* Active tab background */\n  color: #fff; /* Active tab text */\n}\n\n/* Light Mode Styles */\n.custom-tab.active.light-mode {\n  background-color: #e0e0e0; /* Light Mode Active background */\n  color: #000; /* Light Mode Active text */\n  outline: 2px solid #007bff; /* Active tab outline */\n}\n\n.custom-tab.light-mode:not(.active) {\n  background-color: #f5f5f5; /* Light Mode Inactive background */\n  color: #555; /* Light Mode Inactive text */\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalsAccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalsAccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PortalsAccess.vue?vue&type=template&id=3e4fef9a&scoped=true&\"\nimport script from \"./PortalsAccess.vue?vue&type=script&lang=js&\"\nexport * from \"./PortalsAccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PortalsAccess.vue?vue&type=style&index=0&id=3e4fef9a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e4fef9a\",\n  null\n  \n)\n\nexport default component.exports\nimport QCircularProgress from 'quasar/src/components/circular-progress/QCircularProgress.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QChatMessage from 'quasar/src/components/chat/QChatMessage.js';\nimport QMenu from 'quasar/src/components/menu/QMenu.js';\nimport qInstall from \"../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCircularProgress,QSpace,QChip,QAvatar,QChatMessage,QMenu});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=style&index=0&id=dc5d287e&prod&lang=scss&scoped=true&\"","import baseGet from './_baseGet.js';\nimport baseSlice from './_baseSlice.js';\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nexport default parent;\n","import castPath from './_castPath.js';\nimport last from './last.js';\nimport parent from './_parent.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nexport default baseUnset;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalList.vue?vue&type=style&index=0&id=cc0086f8&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&id=f3c4783e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalFilterItems.vue?vue&type=style&index=0&id=c59e199c&prod&lang=scss&scoped=true&\"","const DataType = {\n  SHORT_TEXT: \"SHORT_TEXT\",\n  // LONG_TEXT: \"LONG_TEXT\",\n  NUMBER: \"NUMBER\",\n  BOOLEAN: \"BOOLEAN\",\n  DATE: \"DATE\",\n  TIME: \"TIME\",\n  DATE_TIME: \"DATE_TIME\",\n  SINGLE_SELECT: \"SINGLE_SELECT\",\n  // MULTI_SELECT: \"MULTI_SELECT\",\n  TABLE: \"TABLE\",\n  BARCODE: \"BARCODE\",\n  OMR: \"OMR\",\n  // CALCULATED: \"CALCULATED\",\n  AUTO_GENERATED: \"AUTO_GENERATED\",\n};\n\nObject.freeze(DataType);\n\nexport default DataType;\n","module.exports = __webpack_public_path__ + \"img/bell-logo.96393834.png\";","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDetails.vue?vue&type=style&index=0&id=65baddda&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&id=48eb7e5e&prod&lang=scss&scoped=true&\"","export function isArray(data) {\n    return Object.prototype.toString.call(data) === '[object Array]';\n}\nexport function assert(condition, msg) {\n    if (!condition)\n        throw new Error(msg);\n}\nexport function getValues(data) {\n    return Object.keys(data).map(function (key) { return data[key]; });\n}\nexport function getKeys(data) {\n    return Object.keys(data);\n}\nexport function getEntries(data) {\n    return Object.keys(data).map(function (key) { return [key, data[key]]; });\n}\nexport function normalizeFileName(fileName, extension, fileNameFormatter) {\n    var suffix = '.' + extension;\n    var extensionPattern = new RegExp(\"(\\\\\".concat(extension, \")?$\"));\n    return fileNameFormatter(fileName).replace(extensionPattern, suffix);\n}\nexport function normalizeXMLName(name) {\n    '555xmlHello .  world!'.trim().replace(/^([0-9,;]|(xml))+/, '');\n    return name.replace(/[^_a-zA-Z 0-9:\\-\\.]/g, '').replace(/^([ 0-9-:\\-\\.]|(xml))+/i, '').replace(/ +/g, '-');\n}\nexport function indent(spaces) {\n    return Array(spaces + 1).join(' ');\n}\nexport function stripHTML(text) {\n    return text.replace(/([<>&])/g, function (_, $1) {\n        switch ($1) {\n            case '<': return '&lt;';\n            case '>': return '&gt;';\n            case '&': return '&amp;';\n            default: return '';\n        }\n    });\n}\n","export function generateDataURI(content, type, byBlob) {\n    switch (type) {\n        case 'txt': {\n            var blobType = 'text/plain;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        case 'css': {\n            var blobType = 'text/css;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        case 'html': {\n            var blobType = 'text/html;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        case 'json': {\n            var blobType = 'text/json;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        case 'csv': {\n            var blobType = 'text/csv;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        case 'xls': {\n            var blobType = 'text/application/vnd.ms-excel;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        case 'xml': {\n            var blobType = 'text/application/xml;charset=utf-8';\n            if (byBlob)\n                return URL.createObjectURL(new Blob([content], { type: blobType }));\n            return \"data:,\".concat(blobType) + encodeURIComponent(content);\n        }\n        default: {\n            return '';\n        }\n    }\n}\nexport function downloadFile(content, type, fileName, byBlob) {\n    if (fileName === void 0) { fileName = 'download'; }\n    if (byBlob === void 0) { byBlob = true; }\n    var dataURI = generateDataURI(content, type, byBlob);\n    var anchor = document.createElement('a');\n    anchor.href = dataURI;\n    anchor.download = fileName;\n    anchor.setAttribute('style', 'visibility:hidden');\n    document.body.appendChild(anchor);\n    anchor.dispatchEvent(new MouseEvent('click', {\n        bubbles: false,\n        cancelable: false,\n        view: window,\n    }));\n    document.body.removeChild(anchor);\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isArray, getEntries, normalizeXMLName, indent, stripHTML, assert, getKeys } from './utils.js';\nexport function _createFieldsMapper(fields) {\n    if (!fields\n        || isArray(fields) && !fields.length\n        || !isArray(fields) && !getKeys(fields).length)\n        return function (item) { return item; };\n    var mapper = isArray(fields)\n        ? fields.reduce(function (map, key) {\n            var _a;\n            return (__assign(__assign({}, map), (_a = {}, _a[key] = key, _a)));\n        }, Object.create(null))\n        : fields;\n    return function (item) {\n        if (isArray(item)) {\n            return item\n                .map(function (i) { return getEntries(i).reduce(function (map, _a) {\n                var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                if (key in mapper) {\n                    map[mapper[key]] = value;\n                }\n                return map;\n            }, Object.create(null)); })\n                .filter(function (i) { return getKeys(i).length; });\n        }\n        return getEntries(item).reduce(function (map, _a) {\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\n            if (key in mapper) {\n                map[mapper[key]] = value;\n            }\n            return map;\n        }, Object.create(null));\n    };\n}\nexport function _prepareData(data) {\n    var MESSAGE_VALID_JSON_FAIL = 'Invalid export data. Please provide a valid JSON';\n    try {\n        return (typeof data === 'string' ? JSON.parse(data) : data);\n    }\n    catch (_a) {\n        throw new Error(MESSAGE_VALID_JSON_FAIL);\n    }\n}\nexport function _createJSONData(data, replacer, space) {\n    if (replacer === void 0) { replacer = null; }\n    var MESSAGE_VALID_JSON_FAIL = 'Invalid export data. Please provide valid JSON object';\n    try {\n        return JSON.stringify(data, replacer, space);\n    }\n    catch (_a) {\n        throw new Error(MESSAGE_VALID_JSON_FAIL);\n    }\n}\nexport function _createTableMap(data) {\n    return data.map(getEntries).reduce(function (tMap, rowKVs, rowIndex) {\n        return rowKVs.reduce(function (map, _a) {\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\n            var columnValues = map[key] || Array.from({ length: data.length }).map(function (_) { return ''; });\n            columnValues[rowIndex] =\n                (typeof value !== 'string' ? JSON.stringify(value) : value) || '';\n            map[key] = columnValues;\n            return map;\n        }, tMap);\n    }, Object.create(null));\n}\nexport function _createTableEntries(tableMap, beforeTableEncode) {\n    if (beforeTableEncode === void 0) { beforeTableEncode = function (i) { return i; }; }\n    return beforeTableEncode(getEntries(tableMap).map(function (_a) {\n        var _b = __read(_a, 2), fieldName = _b[0], fieldValues = _b[1];\n        return ({\n            fieldName: fieldName,\n            fieldValues: fieldValues,\n        });\n    }));\n}\nfunction encloser(value) {\n    var enclosingCharacter = /,|\"|\\n/.test(value) ? '\"' : '';\n    var escaped = value.replace(/\"/g, '\"\"');\n    return \"\".concat(enclosingCharacter).concat(escaped).concat(enclosingCharacter);\n}\nvar defaultCreateCSVDataOption = { beforeTableEncode: function (i) { return i; }, delimiter: ',' };\nexport function createCSVData(data, options) {\n    if (options === void 0) { options = {}; }\n    var _a = __assign(__assign({}, defaultCreateCSVDataOption), options), beforeTableEncode = _a.beforeTableEncode, delimiter = _a.delimiter;\n    if (!data.length)\n        return '';\n    var tableMap = _createTableMap(data);\n    var tableEntries = _createTableEntries(tableMap, beforeTableEncode);\n    var head = tableEntries.map(function (_a) {\n        var fieldName = _a.fieldName;\n        return fieldName;\n    }).join(delimiter) + '\\r\\n';\n    var columns = tableEntries.map(function (_a) {\n        var fieldValues = _a.fieldValues;\n        return fieldValues;\n    })\n        .map(function (column) { return column.map(encloser); });\n    var rows = columns.reduce(function (mergedColumn, column) { return mergedColumn.map(function (value, rowIndex) { return \"\".concat(value).concat(delimiter).concat(column[rowIndex]); }); });\n    return head + rows.join('\\r\\n');\n}\nexport function _renderTableHTMLText(data, beforeTableEncode) {\n    assert(data.length > 0);\n    var tableMap = _createTableMap(data);\n    var tableEntries = _createTableEntries(tableMap, beforeTableEncode);\n    var head = tableEntries.map(function (_a) {\n        var fieldName = _a.fieldName;\n        return fieldName;\n    })\n        .join('</b></th><th><b>');\n    var columns = tableEntries.map(function (_a) {\n        var fieldValues = _a.fieldValues;\n        return fieldValues;\n    })\n        .map(function (column) { return column.map(function (value) { return \"<td>\".concat(value, \"</td>\"); }); });\n    var rows = columns.reduce(function (mergedColumn, column) { return mergedColumn\n        .map(function (value, rowIndex) { return \"\".concat(value).concat(column[rowIndex]); }); });\n    return \"\\n    <table>\\n      <thead>\\n        <tr><th><b>\".concat(head, \"</b></th></tr>\\n      </thead>\\n      <tbody>\\n        <tr>\").concat(rows.join(\"</tr>\\n        <tr>\"), \"</tr>\\n      </tbody>\\n    </table>\\n  \");\n}\nvar defaultCreateXLSDataOptions = { beforeTableEncode: function (i) { return i; } };\nexport function createXLSData(data, options) {\n    var beforeTableEncode = __assign(__assign({}, defaultCreateXLSDataOptions), options).beforeTableEncode;\n    if (!data.length)\n        return '';\n    var content = \"<html>\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n  </head >\\n  <body>\\n    \".concat(_renderTableHTMLText(data, beforeTableEncode), \"\\n  </body>\\n</html >\\n\");\n    return content;\n}\nexport function createXMLData(data) {\n    var content = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><!DOCTYPE base>\\n\".concat(_renderXML(data, 'base'), \"\\n\");\n    return content;\n}\nfunction _renderXML(data, tagName, arrayElementTag, spaces) {\n    if (arrayElementTag === void 0) { arrayElementTag = 'element'; }\n    if (spaces === void 0) { spaces = 0; }\n    var tag = normalizeXMLName(tagName);\n    var indentSpaces = indent(spaces);\n    if (data === null || data === undefined) {\n        return \"\".concat(indentSpaces, \"<\").concat(tag, \" />\");\n    }\n    var content = isArray(data)\n        ? data.map(function (item) { return _renderXML(item, arrayElementTag, arrayElementTag, spaces + 2); }).join('\\n')\n        : typeof data === 'object'\n            ? getEntries(data)\n                .map(function (_a) {\n                var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                return _renderXML(value, key, arrayElementTag, spaces + 2);\n            }).join('\\n')\n            : indentSpaces + '  ' + stripHTML(String(data));\n    var contentWithWrapper = \"\".concat(indentSpaces, \"<\").concat(tag, \">\\n\").concat(content, \"\\n\").concat(indentSpaces, \"</\").concat(tag, \">\");\n    return contentWithWrapper;\n}\n","export var exportTypes = {\n    txt: 'txt',\n    css: 'css',\n    html: 'html',\n    json: 'json',\n    csv: 'csv',\n    xls: 'xls',\n    xml: 'xml',\n};\n","import { assert, isArray, normalizeFileName } from './utils.js';\nimport { downloadFile } from './processors.js';\nimport { _prepareData, _createJSONData, createCSVData, createXLSData, createXMLData, _createFieldsMapper } from './converters.js';\nimport { exportTypes } from './types.js';\nfunction exportFromJSON(_a) {\n    var data = _a.data, _b = _a.fileName, fileName = _b === void 0 ? 'download' : _b, extension = _a.extension, _c = _a.fileNameFormatter, fileNameFormatter = _c === void 0 ? function (name) { return name.replace(/\\s+/, '_'); } : _c, fields = _a.fields, _d = _a.exportType, exportType = _d === void 0 ? 'txt' : _d, _e = _a.replacer, replacer = _e === void 0 ? null : _e, _f = _a.space, space = _f === void 0 ? 4 : _f, _g = _a.processor, processor = _g === void 0 ? downloadFile : _g, _h = _a.withBOM, withBOM = _h === void 0 ? false : _h, _j = _a.beforeTableEncode, beforeTableEncode = _j === void 0 ? function (i) { return i; } : _j, _k = _a.delimiter, delimiter = _k === void 0 ? ',' : _k;\n    var MESSAGE_IS_ARRAY_FAIL = 'Invalid export data. Please provide an array of objects';\n    var MESSAGE_UNKNOWN_EXPORT_TYPE = \"Can't export unknown data type \".concat(exportType, \".\");\n    var MESSAGE_FIELD_INVALID = \"Can't export string data to \".concat(exportType, \".\");\n    if (typeof data === 'string') {\n        switch (exportType) {\n            case 'txt':\n            case 'css':\n            case 'html': {\n                return processor(data, exportType, normalizeFileName(fileName, extension !== null && extension !== void 0 ? extension : exportType, fileNameFormatter));\n            }\n            default:\n                throw new Error(MESSAGE_FIELD_INVALID);\n        }\n    }\n    var fieldsMapper = _createFieldsMapper(fields);\n    var safeData = fieldsMapper(_prepareData(data));\n    var JSONData = _createJSONData(safeData, replacer, space);\n    switch (exportType) {\n        case 'txt':\n        case 'css':\n        case 'html': {\n            return processor(JSONData, exportType, normalizeFileName(fileName, extension !== null && extension !== void 0 ? extension : exportType, fileNameFormatter));\n        }\n        case 'json': {\n            return processor(JSONData, exportType, normalizeFileName(fileName, extension !== null && extension !== void 0 ? extension : 'json', fileNameFormatter));\n        }\n        case 'csv': {\n            assert(isArray(safeData), MESSAGE_IS_ARRAY_FAIL);\n            var BOM = '\\ufeff';\n            var CSVData = createCSVData(safeData, { beforeTableEncode: beforeTableEncode, delimiter: delimiter });\n            var content = withBOM ? BOM + CSVData : CSVData;\n            return processor(content, exportType, normalizeFileName(fileName, extension !== null && extension !== void 0 ? extension : 'csv', fileNameFormatter));\n        }\n        case 'xls': {\n            assert(isArray(safeData), MESSAGE_IS_ARRAY_FAIL);\n            var content = createXLSData(safeData, { beforeTableEncode: beforeTableEncode });\n            return processor(content, exportType, normalizeFileName(fileName, extension !== null && extension !== void 0 ? extension : 'xls', fileNameFormatter));\n        }\n        case 'xml': {\n            var content = createXMLData(safeData);\n            return processor(content, exportType, normalizeFileName(fileName, extension !== null && extension !== void 0 ? extension : 'xml', fileNameFormatter));\n        }\n        default:\n            throw new Error(MESSAGE_UNKNOWN_EXPORT_TYPE);\n    }\n}\nexportFromJSON.types = exportTypes;\nexportFromJSON.processors = { downloadFile: downloadFile };\nexport default exportFromJSON;\n","import exportFromJSON from './exportFromJSON.js';\nexport default exportFromJSON;\n","import exportFromJSON from \"export-from-json\";\r\n\r\nexport const excelParser = () => {\r\n  function exportDataFromJSON(data, newFileName, fileExportType) {\r\n    if (!data) return;\r\n    try {\r\n      const fileName = newFileName || \"exported-data\";\r\n      const exportType = exportFromJSON.types[fileExportType || \"xls\"];\r\n      exportFromJSON({ data, fileName, exportType });\r\n    } catch (e) {\r\n      throw new Error(\"Parsing failed!\");\r\n    }\r\n  }\r\n\r\n  return {\r\n    exportDataFromJSON,\r\n  };\r\n};\r\n","import { excelParser } from \"@/helpers/export-data.js\";\r\n\r\nexport function exportData(data, fileName) {\r\n  if (!data) {\r\n    return this.$alert.info(\"Data not found\");\r\n  }\r\n\r\n  let dt = new Date();\r\n  if (!fileName) {\r\n    fileName = `${dt.getFullYear()}${\r\n      dt.getMonth() + 1\r\n    }${dt.getDate()}${dt.getHours()}${dt.getMinutes()}${dt.getSeconds()}`;\r\n  }\r\n  return excelParser().exportDataFromJSON(data, fileName, null);\r\n}\r\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaDataEdit.vue?vue&type=style&index=0&id=059cbd7c&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"process-sheet\"}},[_c('Sheet',{attrs:{\"width\":_vm.formWidth,\"has-footer\":!_vm.isCustomizedWorkflow || !_vm.initiateProcess,\"no-padding\":\"\"},on:{\"input\":_vm.closeProcessSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.headerTitle)+\" \")]},proxy:true},{key:\"actions\",fn:function(){return [(!_vm.isCustomizedWorkflow && _vm.workflow.initiatedBy !== 'DOCUMENT')?[(_vm.mandatory.filledValue || _vm.mandatory.nonFilledValue)?[_c('q-circular-progress',{staticClass:\"q-mr-sm\",attrs:{\"show-value\":\"\",\"font-size\":\"12px\",\"value\":_vm.mandatoryFilling,\"size\":\"lg\",\"thickness\":0.22,\"color\":\"primary\",\"track-color\":\"grey-3\"}},[_vm._v(\" \"+_vm._s(_vm.mandatoryFilling)+\"% \")])]:_vm._e(),(_vm.mandatory.filledValue)?_c('div',{staticClass:\"chip-success q-mr-sm\"},[_c('div',{},[_vm._v(_vm._s(_vm.mandatory.filledValue)+\" ready\")])]):_vm._e(),(_vm.mandatory.nonFilledValue)?_c('div',{staticClass:\"chip-warning\",on:{\"click\":_vm.checkFormValidation}},[_c('div',{},[_vm._v(_vm._s(_vm.mandatory.nonFilledValue)+\" need to work\")])]):_vm._e()]:_vm._e(),(_vm.mandatoryDocument.length)?[_c('div',{staticClass:\"chip-warning cursor-pointer\",on:{\"click\":function($event){_vm.attachmentSheet = true}}},[_c('div',{},[_vm._v(_vm._s(_vm.mandatoryDocument.length)+\" document required\")])])]:_vm._e(),(_vm.itemModel.itemId)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Actions'),expression:\"'Actions'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"eva-menu\"}},[_c('q-menu',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"anchor\":\"bottom end\",\"self\":\"top right\"}},[_c('BaseScrollbar',{staticClass:\"q-pb-sm\",attrs:{\"width\":\"240px\"}},_vm._l((_vm.documentActionList),function(action){return _c('ListItem',{key:action.id,attrs:{\"icon\":action.icon,\"label\":action.label},on:{\"click\":function($event){return _vm.processDocumentAction(action.id)}}})}),1)],1)],1):_vm._e(),(!_vm.formView && !_vm.initiateProcess && _vm.actions.length === 0)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Form View'),expression:\"'Form View'\",modifiers:{\"top\":true}}],staticClass:\"q q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":'mdi-form-select'},on:{\"click\":function($event){_vm.formView = true}}}):(!_vm.initiateProcess && _vm.actions.length === 0)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Details View'),expression:\"'Details View'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":'mdi-table-column'},on:{\"click\":function($event){_vm.formView = false}}}):_vm._e(),(!_vm.isCustomizedWorkflow)?_c('BaseActionButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":_vm.isMaximized ? 'eva-collapse' : 'eva-expand'},on:{\"click\":_vm.toggleWidth}}):_vm._e()]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.actions.length)?_c('div',{staticClass:\"footer row\"},[(\n            _vm.selectedNode === 'inbox' ||\n            _vm.selectedNode === 'common' ||\n            _vm.selectedNode === 'payment' ||\n            _vm.initiateProcess\n          )?_c('BaseButton',{staticClass:\"q-ml-md\",attrs:{\"label\":\"Save\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.validateRequest('Save')}}}):_vm._e(),_vm._l((_vm.actions),function(action){return [(\n              action === 'Approve' ||\n              action === 'Complete' ||\n              action === 'Rightsize'\n            )?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"positive\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):(\n              action === 'Reject' ||\n              action === 'Terminate' ||\n              action === 'Force Close' ||\n              action === 'Decline'\n            )?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"red\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):(\n              action === 'Forward' ||\n              action.indexOf('Reply') > -1 ||\n              action === 'Rollback' ||\n              action === 'Assign'\n            )?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"orange\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):(action === 'To Requester')?_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action,\"color\":\"pink\"},on:{\"click\":function($event){return _vm.validateRequest(action)}}}):_c('BaseButton',{key:action,staticClass:\"q-ml-md\",attrs:{\"label\":action},on:{\"click\":function($event){return _vm.validateRequest(action)}}})]})],2):_vm._e()]},proxy:true}]),model:{value:(_vm.processSheet),callback:function ($$v) {_vm.processSheet=$$v},expression:\"processSheet\"}},[_c('div',{staticClass:\"row\",attrs:{\"id\":\"content-wrapper\"}},[(_vm.formId)?_c('div',{staticClass:\"col\"},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 115px)\"}},[(_vm.formView)?_c('div',{attrs:{\"id\":\"form-view\"}},[(_vm.formId && Object.keys(_vm.form).length)?_c('RenderForm',{attrs:{\"form-id\":_vm.formId,\"panels\":_vm.panels,\"secondary-panels\":_vm.secondaryPanels,\"form-settings\":_vm.formSettings,\"form-model\":_vm.formModel,\"save-action\":_vm.saveAction,\"workflow-form-model\":_vm.workflowFormModel,\"workflow-model\":_vm.workflowModel,\"is-readonly\":_vm.formEditAccess,\"form-edit-controls\":_vm.formEditControls,\"readonly-controls\":_vm.readonlyControls,\"form-visibility-access\":_vm.formVisibilityAccess,\"form-secure-controls\":_vm.formSecureControls,\"enable-controls\":_vm._enableControls,\"check-list\":_vm.checkList,\"form-fields\":_vm.formFields,\"data-validation-values\":_vm.dataValidationValues,\"form-check-list\":_vm.formCheckList,\"form-upload-files\":_vm.formUploadFiles,\"has-check-form-validate\":_vm.hasCheckFormValidate},on:{\"update:saveAction\":function($event){_vm.saveAction=$event},\"update:save-action\":function($event){_vm.saveAction=$event},\"update:workflowFormModel\":function($event){_vm.workflowFormModel=$event},\"update:workflow-form-model\":function($event){_vm.workflowFormModel=$event},\"update:workflowModel\":function($event){_vm.workflowModel=$event},\"update:workflow-model\":function($event){_vm.workflowModel=$event},\"update:checkList\":function($event){_vm.checkList=$event},\"update:check-list\":function($event){_vm.checkList=$event},\"update:formCheckList\":function($event){_vm.formCheckList=$event},\"update:form-check-list\":function($event){_vm.formCheckList=$event},\"update:hasCheckFormValidate\":function($event){_vm.hasCheckFormValidate=$event},\"update:has-check-form-validate\":function($event){_vm.hasCheckFormValidate=$event},\"uploadFiles\":_vm.getOCRResult,\"mandatoryControlsList\":_vm.mandatoryControlsList,\"deletedFiles\":_vm.deletedFiles}}):_vm._e(),(_vm.signList.length)?_c('div',{staticClass:\"q-pa-md\",attrs:{\"id\":\"approvalSignature\"}},[_c('div',{staticClass:\"title q-mb-sm\"},[_vm._v(\"Approval Signature\")]),_c('BaseSeparator',{staticClass:\"q-my-sm\"}),_c('div',{staticClass:\"row\"},[_vm._l((_vm.signList),function(sign){return [_c('div',{key:sign.id,staticClass:\"col-3 q-mb-sm\"},[_c('img',{staticClass:\"imgCenter col\",attrs:{\"src\":_vm.signLink(sign.id)}}),_c('div',{staticClass:\"text row\"},[_c('span',{staticClass:\"col-12 text-bold\"},[_vm._v(_vm._s(sign.stage))]),_c('span',{staticClass:\"col-12\"},[_vm._v(_vm._s(sign.createdByEmail))]),_c('span',{staticClass:\"col-12\"},[_vm._v(_vm._s(_vm.$day.format(sign.createdAt)))])])])]})],2)],1):_vm._e(),(_vm.userSignature)?_c('SignatureField',{staticClass:\"q-pa-md\",attrs:{\"label\":\"Signature\"},model:{value:(_vm.signImg),callback:function ($$v) {_vm.signImg=$$v},expression:\"signImg\"}}):_vm._e()],1):_c('div',{staticClass:\"q-pa-md\"},[(_vm.requestFormData.length)?_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"requestDetails\"}},[_c('div',{staticClass:\"row justify-center\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row items-center\"},[_c('table',{staticClass:\"submittedData q-mb-sm\"},[_c('tbody',[(_vm.requestFormData[0].value[0].createdByName)?_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_vm._v(\" Requested By: \"+_vm._s(_vm.requestFormData[0].value[0].createdByName)+\" \")])]):_vm._e(),_c('tr',[(_vm.requestFormData[0].value[0].raisedBy)?_c('th',[_vm._v(\" Requested User Email \")]):_vm._e(),_c('th',[_vm._v(\"Requested Date\")]),_c('th',[_vm._v(\"Last Acted By\")]),_c('th',[_vm._v(\"Last Acted On\")])]),_c('tr',[(_vm.requestFormData[0].value[0].raisedBy)?_c('td',[_vm._v(\" \"+_vm._s(_vm.requestFormData[0].value[0].raisedBy)+\" \")]):_vm._e(),_c('td',[_vm._v(\" \"+_vm._s(_vm.$day.format( _vm.requestFormData[0].value[0].raisedAt ))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.requestFormData[0].value[0] .transaction_createdByEmail)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$day.format( _vm.requestFormData[0].value[0] .transaction_createdAt ))+\" \")])])])]),_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 275px)\"}},[[_c('table',{staticClass:\"mainData col-12\"},[_vm._l((_vm.requestFormData[0].value[0]\n                              .formData.fields),function(value,key){return [(value && value != '[]')?[(_vm.validateType(key) !== 'TABLE')?[_c('tr',{key:`${key}-${value}`},[_c('td',{staticClass:\"tblHeader ellipsis small\"},[_vm._v(\" \"+_vm._s(_vm.getLabel(key))+\" \")]),_c('td',{staticClass:\"ellipsis\"},[(\n                                        _vm.validateType(key) === 'FILE_UPLOAD'\n                                      )?[(JSON.parse(value).length)?_c('div',_vm._l((JSON.parse(value)),function(file){return _c('div',{key:file.fileName,staticClass:\"q-mb-xs\"},[_c('div',{staticClass:\"row items-center\"},[_c('div',{staticClass:\"col row items-center\",on:{\"click\":function($event){return _vm.viewFile(file, value)}}},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.fileName)}}),_c('span',{staticClass:\"cursor-pointer text-underline text-secondary\"},[_vm._v(_vm._s(file.fileName))])],1)])])}),0):_vm._e()]:(_vm.validateType(key) === 'DATE')?[_vm._v(\" \"+_vm._s(_vm.$day.format(value, false))+\" \")]:(_vm.validateValue(value))?[_vm._v(\" \"+_vm._s(_vm.removeTags(value) || \"-\")+\" \")]:[_c('a',{attrs:{\"href\":value,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(value || \"-\")+\" \")])]],2)])]:(JSON.parse(value).length)?[(_vm.getLabel(key))?_c('tr',{key:'trlabel-' + key},[_c('td',{staticClass:\"tblHeader ellipsis small\",attrs:{\"colspan\":\"2\"}},[_c('FormFieldLabel',{key:'label-' + key,staticClass:\"q-mt-sm\",attrs:{\"label\":_vm.getLabel(key)}})],1)]):_vm._e(),_c('tr',{key:'trtable1-' + key},[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('BaseScrollbar',{key:'scroll-' + key,staticStyle:{\"max-height\":\"200px\"}},[_c('table',{key:'table-' + key,staticClass:\"sub-table q-mt-sm q-mb-sm\"},[_c('thead',[_c('tr',_vm._l((_vm.tableValue(value)[0]),function(field_item,field_key){return _c('th',{key:field_key},[_vm._v(\" \"+_vm._s(_vm.getLabel(field_key, \"table\"))+\" \")])}),0)]),_c('tbody',_vm._l((_vm.tableValue(value)),function(field_item,field_key){return _c('tr',{key:field_key},_vm._l((field_item),function(row_value,row_key){return _c('td',{key:row_key},[_vm._v(\" \"+_vm._s(row_value)+\" \")])}),0)}),0)])])],1)])]:_vm._e()]:_vm._e()]})],2)]],2)],1)])])]):_vm._e()])])],1):_vm._e(),(_vm.itemModel.itemId)?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"fileFrame\"},[_c('div',{staticClass:\"file-list\"},[_c('iframe',{ref:\"myProcessFiles\",attrs:{\"id\":\"file-frame\",\"src\":_vm.itemLink(),\"frameborder\":\"0\"}})])])]):_vm._e(),(_vm.formId || _vm.itemModel.itemId)?_c('div',{staticClass:\"col-auto q-mr-sm leftBorder\"},[_vm._l((_vm.tabs),function(tab){return [(_vm.checkTabAccess)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(tab.label),expression:\"tab.label\",modifiers:{\"left\":true}}],key:tab.id,staticClass:\"tabButtons\",attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":tab.icon,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showLinks(tab.value)}}},[(tab.count)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(tab.count)+\" \")]):_vm._e()]):_vm._e()]})],2):_vm._e()])]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"sub-actions\":_vm.selectedProcess.processId && _vm.attachmentList.length ? true : false,\"upload\":_vm.selectedNode === 'inbox' ||\n      _vm.selectedNode === 'common' ||\n      _vm.selectedNode === 'payment' ||\n      _vm.initiateProcess,\"no-padding\":\"\"},on:{\"input\":_vm.closeAttachmentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Attachments \")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.selectedProcess.processId)?_c('div',{staticClass:\"q-ml-sm text-gray q-mr-sm ellipsis\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\" auto-refresh every 15 seconds \")]):_vm._e(),(_vm.selectedProcess.processId)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getAttachments()}}}):_vm._e()]},proxy:true},(\n        _vm.selectedNode === 'inbox' ||\n        _vm.selectedNode === 'common' ||\n        _vm.selectedNode === 'payment' ||\n        _vm.initiateProcess\n      )?{key:\"upload\",fn:function(){return [_c('div',{staticClass:\"hint\",on:{\"click\":function($event){{\n            _vm.rowIndex = null;\n            _vm.$refs.attachments.click();\n          }}}},[_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-cloud-upload-outline\",\"size\":\"32px\",\"color\":\"blue\"}}),_c('div',{staticClass:\"title text-blue\"},[_vm._v(\"UPLOAD FILES\")]),_c('div',{staticClass:\"description\"},[_vm._v(\"Click here to choose files and upload\")])],1)]},proxy:true}:null,(_vm.selectedProcess.processId && _vm.attachmentList.length)?{key:\"subActions\",fn:function(){return [_c('CheckboxField',{staticClass:\"col-auto q-pt-sm q-pb-sm\",on:{\"input\":_vm.fileSelectAll},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}}),_vm._v(\" Select All \"),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('mail share'),expression:\"'mail share'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-sm\",attrs:{\"is-disabled\":!_vm.selectedFileCount,\"icon\":\"mdi-email-send-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"18px\"},on:{\"click\":_vm.documentShare}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('merge documents (only PDF)'),expression:\"'merge documents (only PDF)'\",modifiers:{\"top\":true}}],attrs:{\"is-disabled\":_vm.selectedFileCount > 1 && _vm.isSelectedPDF ? false : true,\"icon\":\"mdi-file-document-multiple-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"18px\"},on:{\"click\":_vm.documentMerge}})]},proxy:true}:null],null,true),model:{value:(_vm.attachmentSheet),callback:function ($$v) {_vm.attachmentSheet=$$v},expression:\"attachmentSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":_vm.selectedNode === 'inbox' ||\n          _vm.selectedNode === 'common' ||\n          _vm.selectedNode === 'payment'\n            ? 'calc(100vh - 200px)'\n            : ''}},[_c('input',{ref:\"attachments\",staticClass:\"hidden\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.uploadWflowAttachments}}),_vm._l((_vm.checkList),function(row){return [(row.name)?[(!row.attach)?_c('div',{key:row.uid,staticClass:\"checkList\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{attrs:{\"name\":\"mdi-file-check-outline\",\"color\":\"primary\"}})],1),_c('div',{staticClass:\"col q-ml-sm\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\" \"+_vm._s(row.name)+\" \")]),(row.required)?_c('div',{staticClass:\"col-12 q-mt-sm\"},[_c('q-chip',{staticClass:\"chips small\",attrs:{\"outline\":\"\",\"color\":\"red\"}},[_vm._v(\" Required \")])],1):_vm._e()])]),_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"col-12\",on:{\"click\":function($event){return _vm.attachTemplate(row.uid)}}},[_c('q-chip',{staticClass:\"chips primary-hover medium\",attrs:{\"outline\":\"\",\"color\":\"primary\"}},[_c('q-avatar',{staticClass:\"q-mr-sm\",attrs:{\"icon\":\"eva-upload-outline\",\"color\":\"primary\",\"text-color\":\"white\"}}),_vm._v(\" Upload \")],1)],1),(row.template)?_c('div',{staticClass:\"col-12\",on:{\"click\":function($event){return _vm.download(row.id)}}},[_c('q-chip',{staticClass:\"chips secondary-hover medium\",attrs:{\"outline\":\"\",\"color\":\"secondary\"}},[_c('q-avatar',{staticClass:\"q-mr-sm\",attrs:{\"icon\":\"eva-download-outline\",\"color\":\"secondary\",\"text-color\":\"white\"}}),_vm._v(\" Download \")],1)],1):_vm._e()])])]):_c('div',{key:row.uid},[_vm._l((_vm.attachmentFilterCheckList(row.name)),function(file){return [_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[(_vm.selectedProcess.processId)?_c('div',{staticClass:\"col-auto\"},[(file.loading)?[_c('BaseIcon',{staticClass:\"q-mr-sm loading\",attrs:{\"name\":\"mdi-loading\",\"color\":\"secondary\"}})]:[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":file.checked\n                              ? 'eva-checkmark-circle-2'\n                              : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":function($event){file.checked = !file.checked}}})]],2):_c('div',[(file.loading)?[_c('BaseIcon',{staticClass:\"q-mr-sm loading\",attrs:{\"name\":\"mdi-loading\",\"color\":\"secondary\"}})]:_vm._e()],2),_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),(file.formJsonId)?_c('div',{staticClass:\"col-auto\"},[_c('q-chip',{staticClass:\"cursor-pointer green-hover\",attrs:{\"outline\":\"\",\"color\":\"green\"}},[_vm._v(\" \"+_vm._s(_vm.getLabel(file.formJsonId))+\" \")])],1):_vm._e(),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Download'),expression:\"'Download'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-download-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Download')}}})],1):_vm._e(),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Print'),expression:\"'Print'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-printer-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Print')}}})],1):_vm._e()]),_c('div',{staticClass:\"meta row\"},[_c('div',{staticClass:\"col row\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.createdBy)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(file.createdByEmail))])]:_vm._e(),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Metadata'),expression:\"'Metadata'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-file-text-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getFileData(file)}}})],1),(false)?[(\n                          _vm.selectedNode === 'inbox' ||\n                          _vm.selectedNode === 'common' ||\n                          _vm.selectedNode === 'payment' ||\n                          _vm.initiateProcess\n                        )?[_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Re-Upload'),expression:\"'Re-Upload'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-file-upload\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();{\n                                _vm.reuploadFile = file;\n                                _vm.reupload(file.name);\n                              }}}})],1)]:_vm._e()]:[(\n                          ((_vm.selectedNode === 'inbox' ||\n                            _vm.selectedNode === 'common' ||\n                            _vm.selectedNode === 'payment') &&\n                            file.createdBy === _vm.$store.state.session.id) ||\n                          _vm.initiateProcess\n                        )?[_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Re-Upload'),expression:\"'Re-Upload'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-file-upload\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();{\n                                _vm.reuploadFile = file;\n                                _vm.reupload(file.name);\n                              }}}})],1)]:_vm._e()]],2)])]})],2)]:_vm._e()]}),_vm._l((_vm.attachmentList),function(file){return [(_vm.isCheckList(file.name))?[_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[(file.loading)?[_c('BaseIcon',{staticClass:\"q-mr-sm loading\",attrs:{\"name\":\"mdi-loading\",\"color\":\"secondary\"}})]:_vm._e(),(_vm.selectedProcess.processId)?_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":file.checked\n                        ? 'eva-checkmark-circle-2'\n                        : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":function($event){file.checked = !file.checked}}})],1):_vm._e(),_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Download'),expression:\"'Download'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-download-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Download')}}})],1):_vm._e(),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Print'),expression:\"'Print'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-printer-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Print')}}})],1):_vm._e()],2),(file.formJsonId)?_c('div',{staticClass:\"row q-mb-xs\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto ellipsis attachment-label\"},[_vm._v(\" \"+_vm._s(_vm.getLabel(file.formJsonId))+\" \")])])]),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Metadata'),expression:\"'Metadata'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-file-text-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getFileData(file)}}})],1),(\n                    ((_vm.selectedNode === 'inbox' ||\n                      _vm.selectedNode === 'common' ||\n                      _vm.selectedNode === 'payment') &&\n                      file.createdBy === _vm.$store.state.session.id) ||\n                    _vm.initiateProcess\n                  )?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1):_vm._e()]):_vm._e(),_c('div',{staticClass:\"meta row\"},[_c('div',{staticClass:\"col row\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.createdBy)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(file.createdByEmail))])]:_vm._e(),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2),(!file.formJsonId)?[_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Metadata'),expression:\"'Metadata'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-file-text-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getFileData(file)}}})],1),(\n                      ((_vm.selectedNode === 'inbox' ||\n                        _vm.selectedNode === 'common' ||\n                        _vm.selectedNode === 'payment') &&\n                        file.createdBy === _vm.$store.state.session.id) ||\n                      _vm.initiateProcess\n                    )?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1):_vm._e()]:_vm._e()],2)])]:_vm._e()]})],2)],1)]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"height\":\"80vh\",\"custom-height\":_vm.selectedNode === 'inbox' ||\n      _vm.selectedNode === 'common' ||\n      _vm.selectedNode === 'payment'\n        ? '30'\n        : '0',\"no-padding\":\"\"},on:{\"input\":_vm.closeCommentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments \")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.selectedProcess.processId)?_c('div',{staticClass:\"q-ml-sm text-gray q-mr-sm ellipsis\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\" auto-refresh every 30 seconds \")]):_vm._e(),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getComments(0)}}})]},proxy:true}]),model:{value:(_vm.commentsSheet),callback:function ($$v) {_vm.commentsSheet=$$v},expression:\"commentsSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":_vm.commentsSheetHeight}},[_vm._l((_vm.commentsList),function(row,idx){return [_c('q-chat-message',{key:idx,staticClass:\"q-ma-sm\",attrs:{\"name\":row.createdBy === _vm.$store.state.session.id\n                ? 'me'\n                : row.createdByEmail || row.externalCommentsby,\"text\":[row.comments],\"text-html\":\"\",\"sent\":row.createdBy === _vm.$store.state.session.id,\"stamp\":_vm.lastCommentDuration(row),\"bg-color\":row.createdBy === _vm.$store.state.session.id\n                ? 'primary-1'\n                : 'secondary-1'},scopedSlots:_vm._u([{key:\"avatar\",fn:function(){return [(row.embedFileList && row.embedFileList.length)?_c('div',{staticClass:\"file-icons\"},[_c('FileIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(row.embedFileList[0].fileName),expression:\"row.embedFileList[0].fileName\",modifiers:{\"top\":true}}],key:`Icon-${idx}`,staticClass:\"file-icon q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(row.embedFileList[0].fileName)}})],1):_vm._e()]},proxy:true}],null,true)})]})],2)],1),(\n        _vm.selectedNode === 'inbox' ||\n        _vm.selectedNode === 'common' ||\n        _vm.selectedNode === 'payment'\n      )?_c('div',{staticClass:\"col borderTop\"},[_c('div',{staticClass:\"row\"},[(_vm.checkTenant() && !_vm.portal)?[_c('div',{staticClass:\"col actions\"},[(_vm.attachmentList.length && _vm.fileNames.length)?_c('div',{staticClass:\"row select-action q-pa-sm action-container\"},[_c('CheckboxField',{staticClass:\"col-auto q-pr-sm\",attrs:{\"label\":\"Add Comment to PDF\"},model:{value:(_vm.attachComment),callback:function ($$v) {_vm.attachComment=$$v},expression:\"attachComment\"}}),(_vm.attachComment)?_c('SelectField',{staticClass:\"col field comment-attach attach-cmd\",attrs:{\"is-searchable\":true,\"options\":_vm.fileNames},model:{value:(_vm.selectedFileForAttach),callback:function ($$v) {_vm.selectedFileForAttach=$$v},expression:\"selectedFileForAttach\"}}):_vm._e()],1):_vm._e(),(_vm.displayInternalPublic)?_c('SingleChoiceField',{staticClass:\"action-container\",class:{\n                'internal-public': _vm.attachmentList.length > 0,\n                'col q-pa-sm': true,\n                'internal-public-margin': _vm.attachComment,\n              },attrs:{\"options\":_vm.commentActions,\"show-options-wrapper\":false,\"options-per-line\":2},model:{value:(_vm.commentAction),callback:function ($$v) {_vm.commentAction=$$v},expression:\"commentAction\"}}):_vm._e()],1)]:_vm._e(),(_vm.isTenantGOTOComments())?[_c('SingleChoiceField',{staticClass:\"col q-mb-sm actions\",attrs:{\"options\":_vm.jiraCommentActions,\"options-per-line\":2},model:{value:(_vm.jiraCommentAction),callback:function ($$v) {_vm.jiraCommentAction=$$v},expression:\"jiraCommentAction\"}})]:_vm._e()],2),_c('div',{staticClass:\"row text-area-action q-ml-sm q-mr-sm\"},[_c('div',{staticClass:\"col\"},[_c('TextAreaField',{attrs:{\"auto-focus\":\"\",\"placeholder\":\"Type a new comment...\"},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}})],1),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin\":\"auto\",\"margin-right\":\"8px\"}},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Post Comments'),expression:\"'Post Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm comment-actions\",attrs:{\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary-11\",\"size\":\"16px\",\"rotate-class\":\"rotate-45\"},on:{\"click\":_vm.saveComment}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Advanced Comments'),expression:\"'Advanced Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm q-mt-sm comment-actions\",attrs:{\"icon\":\"mdi-comment-text-multiple\",\"color\":\"primary-11\",\"size\":\"16px\"},on:{\"click\":function($event){_vm.advancedCommentsSheet = true}}})],1)])]):_vm._e()]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"no-padding\":\"\"},on:{\"input\":function($event){_vm.mailTransactionSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Mail Transactions \")]},proxy:true},{key:\"actions\",fn:function(){return [_c('div',{staticClass:\"q-ml-sm text-gray q-mr-sm ellipsis\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\" auto-refresh every 30 seconds \")]),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getMailTransactions()}}})]},proxy:true}]),model:{value:(_vm.mailTransactionSheet),callback:function ($$v) {_vm.mailTransactionSheet=$$v},expression:\"mailTransactionSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('div',{staticClass:\"q-pl-sm\"},[_c('Tabs',{attrs:{\"tabs\":_vm.mailTabs},model:{value:(_vm.mailTab),callback:function ($$v) {_vm.mailTab=$$v},expression:\"mailTab\"}})],1),(_vm.mailTab === 'OUTGOING')?[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 120px)\"}},[_vm._l((_vm.outgoingMails),function(row){return [_c('div',{key:'outgoing' + row.id,staticClass:\"mailTransactionList\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"eva-email-outline\",\"color\":\"primary\"}})],1),_c('div',{staticClass:\"col-auto\"},[_vm._v(\" \"+_vm._s(row.subject)+\" \")])]),_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"eva-person-outline\",\"color\":\"secondary\"}})],1),_c('div',{staticClass:\"col-auto\"},[_vm._v(_vm._s(row.email))])]),_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"eva-clock-outline\",\"color\":\"orange\"}})],1),_c('div',{staticClass:\"col-auto\"},[_vm._v(\" \"+_vm._s(_vm.$day.format(row.createdAt, true))+\" \")])])]),_c('div',{staticClass:\"col-auto q-mr-sm\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('attachments'),expression:\"'attachments'\",modifiers:{\"top\":true}}],staticClass:\"q-mb-sm\",attrs:{\"icon\":\"eva-attach-2-outline\",\"color\":\"primary\",\"is-flat\":\"\",\"size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showMailAttachments(row)}}},[(row.attachmentCount)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(row.attachmentCount)+\" \")]):_vm._e()]),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('resend'),expression:\"'resend'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-send\",\"color\":\"secondary\",\"is-flat\":\"\",\"size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.resendMail(row.ezMailId)}}})],1)])])]})],2)]:_vm._e(),(_vm.mailTab === 'INCOMING')?[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 120px)\"}},[_vm._l((_vm.incomingMails),function(row){return [_c('div',{key:'incoming' + row.id,staticClass:\"mailTransactionList\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"eva-email-outline\",\"color\":\"primary\"}})],1),_c('div',{staticClass:\"col-auto\"},[_vm._v(\" \"+_vm._s(row.subject)+\" \")])]),_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"eva-person-outline\",\"color\":\"secondary\"}})],1),_c('div',{staticClass:\"col-auto\"},[_vm._v(_vm._s(row.email))])]),_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"eva-clock-outline\",\"color\":\"orange\"}})],1),_c('div',{staticClass:\"col-auto\"},[_vm._v(\" \"+_vm._s(_vm.$day.format(row.createdAt, true))+\" \")])])]),_c('div',{staticClass:\"col-auto q-mr-sm\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('attachments'),expression:\"'attachments'\",modifiers:{\"top\":true}}],staticClass:\"q-mb-sm\",attrs:{\"icon\":\"eva-attach-2-outline\",\"color\":\"primary\",\"is-flat\":\"\",\"size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showMailAttachments(row)}}},[(row.attachmentCount)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(row.attachmentCount)+\" \")]):_vm._e()])],1)])])]})],2)]:_vm._e()],2)]),_c('Sheet',{attrs:{\"width\":\"30vw\",\"no-padding\":\"\"},on:{\"input\":function($event){_vm.mailAttachmentSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Mail Attachments \")]},proxy:true}]),model:{value:(_vm.mailAttachmentSheet),callback:function ($$v) {_vm.mailAttachmentSheet=$$v},expression:\"mailAttachmentSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 200px)\"}},[_vm._l((_vm.mailAttachmentList),function(file){return [_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openAttachmentFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")])]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2)])]})],2)],1)]),_c('Sheet',{attrs:{\"no-padding\":\"\",\"width\":\"100vw\"},on:{\"input\":function($event){_vm.fileSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"attachmentFileHeader\"},[(_vm.selectedFile.formJsonId)?[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip:green.bottom\",value:(_vm.getLabel(_vm.selectedFile.formJsonId)),expression:\"getLabel(selectedFile.formJsonId)\",arg:\"green\",modifiers:{\"bottom\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"mdi-form-select\",\"color\":\"primary\"}})]:_vm._e(),_c('div',{staticClass:\"avatar q-ml-sm\"},[_c('FileIcon',{attrs:{\"mime-type\":_vm.fileType(_vm.selectedFile.name)}})],1),_c('div',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"filename\"},[_vm._v(\" \"+_vm._s(_vm.selectedFile.name)+\" \")]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(\"Archived At: \"+_vm._s(_vm.$day.format(_vm.selectedFile.createdAt)))]),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(\"Archived By: \"+_vm._s(_vm.selectedFile.createdByEmail))]),(_vm.selectedFile.size)?_c('div',[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" File Size: \"+_vm._s(_vm.fileSize(_vm.selectedFile.size))+\" \")],1):_vm._e()],1)])],2)]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Actions'),expression:\"'Actions'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"eva-menu\"}},[_c('q-menu',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"anchor\":\"bottom end\",\"self\":\"top right\"}},[_c('BaseScrollbar',{staticClass:\"q-pb-sm\",attrs:{\"width\":\"240px\"}},_vm._l((_vm.documentActionList),function(action){return _c('ListItem',{key:action.id,attrs:{\"icon\":action.icon,\"label\":action.label},on:{\"click\":function($event){return _vm.documentAction(action.id)}}})}),1)],1)],1)]},proxy:true}]),model:{value:(_vm.fileSheet),callback:function ($$v) {_vm.fileSheet=$$v},expression:\"fileSheet\"}},[_c('div',{staticClass:\"attachmentFileFrame\"},[_c('div',{staticClass:\"file-list\"},[_c('iframe',{ref:\"myAttachmentFiles\",attrs:{\"id\":\"file-frame\",\"src\":_vm.fileLink(),\"frameborder\":\"0\"}})])])]),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\",\"has-footer\":\"\"},on:{\"input\":function($event){{\n        _vm.saveAction = '';\n        _vm.workflowFormModel = {};\n        _vm.advancedCommentsSheet = false;\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments\")]},proxy:true},{key:\"default\",fn:function(){return [_c('TextBuilderField',{model:{value:(_vm.advancedCommentText),callback:function ($$v) {_vm.advancedCommentText=$$v},expression:\"advancedCommentText\"}})]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.checkTenant() && !_vm.portal)?[_c('div',{staticClass:\"row actions advance-cmd\"},[(_vm.attachmentList.length && _vm.fileNames.length)?[_c('CheckboxField',{staticClass:\"col-auto q-pr-sm\",staticStyle:{\"margin\":\"auto\"},attrs:{\"label\":\"Add Comment to PDF\"},model:{value:(_vm.attachComment),callback:function ($$v) {_vm.attachComment=$$v},expression:\"attachComment\"}}),(_vm.attachComment)?_c('SelectField',{staticClass:\"field comment-attach\",attrs:{\"is-searchable\":true,\"options\":_vm.fileNames},on:{\"input\":_vm.handleAttachComment},model:{value:(_vm.selectedFileForAttach),callback:function ($$v) {_vm.selectedFileForAttach=$$v},expression:\"selectedFileForAttach\"}}):_vm._e()]:_vm._e()],2),(_vm.checkTenant() && _vm.displayInternalPublic)?_c('SingleChoiceField',{staticClass:\"actions q-mr-sm noborder\",attrs:{\"options\":_vm.commentActions,\"options-per-line\":2},model:{value:(_vm.commentAction),callback:function ($$v) {_vm.commentAction=$$v},expression:\"commentAction\"}}):_vm._e()]:_vm._e(),(_vm.isTenantGOTOComments())?[_c('SingleChoiceField',{staticClass:\"col q-mb-sm actions\",attrs:{\"options\":_vm.jiraCommentActions,\"options-per-line\":2},model:{value:(_vm.jiraCommentAction),callback:function ($$v) {_vm.jiraCommentAction=$$v},expression:\"jiraCommentAction\"}})]:_vm._e(),_c('BaseButton',{attrs:{\"label\":\"Post Comments\",\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary\"},on:{\"click\":_vm.saveAdvancedComment}})]},proxy:true}]),model:{value:(_vm.advancedCommentsSheet),callback:function ($$v) {_vm.advancedCommentsSheet=$$v},expression:\"advancedCommentsSheet\"}}),_c('Modal',{attrs:{\"width\":\"40vw\",\"height\":\"60vh\",\"has-footer\":\"\"},on:{\"input\":function($event){{\n        _vm.saveAction = '';\n        _vm.workflowFormModel = {};\n        _vm.processForwardModal = false;\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [(!_vm.processForwardGroupAction)?_c('span',[_vm._v(\"\\\"\"+_vm._s(_vm.selectedProcess.requestNo)+\"\\\"\")]):_vm._e(),_vm._v(\" Process Forward\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{attrs:{\"id\":\"processForward\"}},[_c('MultiSelectField',{staticClass:\"field\",attrs:{\"label\":\"users\",\"options\":_vm.userList},model:{value:(_vm.forwardUsers),callback:function ($$v) {_vm.forwardUsers=$$v},expression:\"forwardUsers\"}}),_c('MultiSelectField',{staticClass:\"field\",attrs:{\"label\":\"group\",\"options\":_vm.groupList},model:{value:(_vm.forwardGroups),callback:function ($$v) {_vm.forwardGroups=$$v},expression:\"forwardGroups\"}}),(_vm.processForwardGroupAction)?_c('TextAreaField',{staticClass:\"field q-mt-md\",attrs:{\"placeholder\":\"Type a comment...\"},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}}):_vm._e()],1)]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.isTenantGOTO())?[_c('BaseButton',{attrs:{\"label\":\"Assign\",\"color\":\"orange\"},on:{\"click\":function($event){{\n              _vm.processForwardModal = false;\n              _vm.processForwardGroupAction\n                ? _vm.groupProcessRequest()\n                : _vm.processRequest(false, false);\n            }}}})]:[_c('BaseButton',{attrs:{\"label\":\"Forward\",\"color\":\"orange\"},on:{\"click\":function($event){{\n              _vm.processForwardModal = false;\n              _vm.processForwardGroupAction\n                ? _vm.groupProcessRequest()\n                : _vm.processRequest(false, false);\n            }}}})]]},proxy:true}]),model:{value:(_vm.processForwardModal),callback:function ($$v) {_vm.processForwardModal=$$v},expression:\"processForwardModal\"}}),_c('Sheet',{attrs:{\"width\":\"40vw\",\"has-footer\":\"\"},on:{\"input\":_vm.closeJiraIssueSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" JIRA - Create Issue \")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"jiraIssue\",attrs:{\"id\":\"content-wrapper\"}},[_c('ValidationObserver',{ref:\"form\"},[_c('div',{staticClass:\"field-wrapper\"},[_c('ValidationProvider',{attrs:{\"name\":\"Issue Name\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{staticClass:\"field\",attrs:{\"label\":\"Issue Name\",\"is-mandatory\":\"\",\"error\":errors[0]},model:{value:(_vm.issueName),callback:function ($$v) {_vm.issueName=$$v},expression:\"issueName\"}})]}}])}),(false)?_c('ValidationProvider',{attrs:{\"name\":\"Project Key\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{staticClass:\"field\",attrs:{\"label\":\"Project Key\",\"is-mandatory\":\"\",\"error\":errors[0],\"tooltip\":\"Unique identifier key of your Project\"},model:{value:(_vm.projectKey),callback:function ($$v) {_vm.projectKey=$$v},expression:\"projectKey\"}})]}}],null,false,1181033109)}):_vm._e(),(false)?_c('ValidationProvider',{attrs:{\"name\":\"Issue Type\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{staticClass:\"field\",attrs:{\"label\":\"Issue Type\",\"is-mandatory\":\"\",\"error\":errors[0]},model:{value:(_vm.issueType),callback:function ($$v) {_vm.issueType=$$v},expression:\"issueType\"}})]}}],null,false,3976933660)}):_vm._e(),_c('ValidationProvider',{attrs:{\"name\":\"Description\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextAreaField',{staticClass:\"field\",attrs:{\"label\":\"Description\",\"is-mandatory\":\"\",\"error\":errors[0]},model:{value:(_vm.issueDescription),callback:function ($$v) {_vm.issueDescription=$$v},expression:\"issueDescription\"}})]}}])}),(false)?_c('CheckboxField',{staticClass:\"field\",attrs:{\"label\":\"Include inbox request information as a table of issue description\"},model:{value:(_vm.issueDescriptionTable),callback:function ($$v) {_vm.issueDescriptionTable=$$v},expression:\"issueDescriptionTable\"}}):_vm._e(),(false)?_c('MultiSelectField',{staticClass:\"field\",attrs:{\"label\":\"Request Fields\",\"is-searchable\":true,\"options\":_vm.formFields},model:{value:(_vm.issueDescriptionFields),callback:function ($$v) {_vm.issueDescriptionFields=$$v},expression:\"issueDescriptionFields\"}}):_vm._e(),(false)?_c('SelectField',{staticClass:\"field\",attrs:{\"label\":\"Assignee\",\"is-searchable\":true,\"options\":_vm.issueAssigneeUsers},model:{value:(_vm.issueAssignee),callback:function ($$v) {_vm.issueAssignee=$$v},expression:\"issueAssignee\"}}):_vm._e()],1)])],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Create Issue\",\"color\":\"primary\"},on:{\"click\":_vm.createJiraIssue}})]},proxy:true}]),model:{value:(_vm.jiraIssueSheet),callback:function ($$v) {_vm.jiraIssueSheet=$$v},expression:\"jiraIssueSheet\"}}),_c('MetaDataEdit',{attrs:{\"value\":_vm.showMetaDataEditModal,\"file\":_vm.workflow,\"repository-field\":_vm.repositoryField,\"file-data\":_vm.fileData,\"title\":_vm.metaDataTitle || 'Index',\"columns\":_vm.columns,\"modal-value\":_vm.workflowModel,\"read-only\":true,\"upload-filename\":_vm.uploadFilename,\"meta-data-fields\":_vm.metaDataModal},on:{\"close\":_vm.closeMetaDataEditModal,\"save\":_vm.saveMetaData}}),_c('Sheet',{attrs:{\"width\":\"30vw\"},on:{\"input\":_vm.closeTaskSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Tasks \")]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Add Task'),expression:\"'Add Task'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-plus\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.addTask()}}})]},proxy:true}]),model:{value:(_vm.taskSheet),callback:function ($$v) {_vm.taskSheet=$$v},expression:\"taskSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_vm._l((_vm.taskEntries),function(task){return [_c('div',{key:task.id,staticClass:\"taskEntries\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto q-mr-md\",staticStyle:{\"margin-top\":\"3px\"},on:{\"click\":function($event){return _vm.viewTask(task.id)}}},[_vm._v(\" \"+_vm._s(task.name)+\" \")]),_c('q-chip',{attrs:{\"size\":\"10px\",\"color\":_vm.getColor(task.priority),\"text-color\":\"white\"}},[_vm._v(\" \"+_vm._s(task.priority)+\" \")]),_c('q-chip',{attrs:{\"size\":\"10px\",\"color\":_vm.getColor(task.status),\"text-color\":\"white\"}},[_vm._v(\" \"+_vm._s(task.status)+\" \")])],1)]),_c('div',{staticClass:\"meta row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\"Assigned To: \"+_vm._s(task.assigned))]),_c('div',{staticClass:\"col-12\"},[_vm._v(\" Start Date: \"+_vm._s(_vm.$day.format(task.startDate, false))+\" \"),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" End Date: \"+_vm._s(_vm.$day.format(task.endDate, false))+\" \")],1)])])]})],2)]),(_vm.taskFormId)?_c('AddTask',{attrs:{\"value\":_vm.addTaskSheet,\"form-settings\":_vm.addTaskForm.settings,\"panels\":_vm.addTaskForm.panels,\"secondary-panels\":_vm.addTaskForm.secondaryPanels,\"form-id\":_vm.taskFormId,\"repository-id\":_vm.taskRepositoryId,\"task-model\":_vm.selectedTask,\"workflow-task\":true,\"mode\":_vm.taskMode},on:{\"close\":function($event){_vm.addTaskSheet = false},\"addEntry\":_vm.addTaskEntry}}):_vm._e(),(_vm.importExcel)?_c('ImportPopup',{staticClass:\"row items-center q-mr-xs\",attrs:{\"chip-button\":true,\"data-imported\":_vm.dataImported,\"form-id\":String(_vm.masterFormId)},on:{\"upload\":function($event){return _vm.$refs.input.click()},\"close\":function($event){_vm.dataImported = false}}}):_vm._e(),_c('input',{ref:\"input\",staticClass:\"hidden\",attrs:{\"type\":\"file\",\"accept\":\".csv,.xls,.xlsx\"},on:{\"change\":_vm.uploadFile}}),_c('Confirm',{attrs:{\"icon\":\"mdi-file-alert\",\"icon-color\":\"red\"},on:{\"input\":_vm.closeAlertModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Documents Required!\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md text-md\"},[_c('p',[_vm._v(\" Are you sure you want to submit the request without attaching the required documents. \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"no\"},on:{\"click\":_vm.closeAlertModal}}),_c('BaseButton',{attrs:{\"label\":\"yes\",\"color\":\"primary\"},on:{\"click\":_vm.proceedSubmission}})]},proxy:true}]),model:{value:(_vm.alertModal),callback:function ($$v) {_vm.alertModal=$$v},expression:\"alertModal\"}}),_c('EmailSharing',{attrs:{\"repository-id\":_vm.workflow.repositoryId,\"file-list\":_vm.selectedFileList},on:{\"update:fileList\":function($event){_vm.selectedFileList=$event},\"update:file-list\":function($event){_vm.selectedFileList=$event}},model:{value:(_vm.emailSharingSheet),callback:function ($$v) {_vm.emailSharingSheet=$$v},expression:\"emailSharingSheet\"}}),_c('FileDetails',{attrs:{\"file-data\":_vm.fileData},model:{value:(_vm.fileDetailsSheet),callback:function ($$v) {_vm.fileDetailsSheet=$$v},expression:\"fileDetailsSheet\"}}),(_vm.historyProcessId)?_c('ProcessHistory',{attrs:{\"process-id\":_vm.historyProcessId,\"selected-process\":_vm.selectedProcess},on:{\"close\":function($event){_vm.historyProcessId = 0}}}):_vm._e(),(_vm.showFormEntryHistoryModal)?_c('FormEntryHistory',{attrs:{\"value\":_vm.showFormEntryHistoryModal,\"workflow-id\":_vm.workflow.id,\"process-id\":_vm.selectedProcess.processId},on:{\"update:value\":function($event){_vm.showFormEntryHistoryModal=$event}}}):_vm._e(),(_vm.showAttachmentSheet)?_c('Attachments',{attrs:{\"value\":_vm.showAttachmentSheet,\"selected-process\":_vm.selectedProcess,\"workflow\":_vm.workflow,\"selected-node\":_vm.selectedNode,\"initiate-process\":_vm.initiateProcess,\"form-check-list\":_vm.formCheckList,\"check-list\":_vm.checkList,\"wform\":_vm.wform,\"repository-details\":_vm.repositoryDetails,\"workflow-model\":_vm.workflowModel,\"form-upload-files\":_vm.formUploadFiles,\"repository-field\":_vm.repositoryField,\"columns\":_vm.columns,\"attachments\":_vm.attachmentList,\"workflow-id\":_vm.workflow.id},on:{\"update:value\":function($event){_vm.showAttachmentSheet=$event},\"update:attachments\":function($event){_vm.attachmentList=$event},\"attachmentCount\":_vm.attachmentCount}}):_vm._e(),(_vm.showCommentsSheet)?_c('Comments',{attrs:{\"value\":_vm.showCommentsSheet,\"selected-process\":_vm.selectedProcess,\"workflow\":_vm.workflow,\"selected-node\":_vm.selectedNode,\"initiate-process\":_vm.initiateProcess,\"attachment-list\":_vm.attachmentList,\"workflow-id\":_vm.workflow.id,\"file-names\":_vm.fileNames,\"comments\":_vm.commentsList,\"display-internal-public\":_vm.displayInternalPublic},on:{\"update:value\":function($event){_vm.showCommentsSheet=$event},\"update:comments\":function($event){_vm.commentsList=$event},\"commentsCount\":_vm.commentsCount}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"process-sheet\">\r\n    <Sheet\r\n      v-model=\"processSheet\"\r\n      :width=\"formWidth\"\r\n      :has-footer=\"!isCustomizedWorkflow || !initiateProcess\"\r\n      no-padding\r\n      @input=\"closeProcessSheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> {{ headerTitle }} </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- actions -->\r\n\r\n      <template #actions>\r\n        <template\r\n          v-if=\"!isCustomizedWorkflow && workflow.initiatedBy !== 'DOCUMENT'\"\r\n        >\r\n          <template v-if=\"mandatory.filledValue || mandatory.nonFilledValue\">\r\n            <q-circular-progress\r\n              show-value\r\n              font-size=\"12px\"\r\n              :value=\"mandatoryFilling\"\r\n              size=\"lg\"\r\n              :thickness=\"0.22\"\r\n              color=\"primary\"\r\n              track-color=\"grey-3\"\r\n              class=\"q-mr-sm\"\r\n            >\r\n              {{ mandatoryFilling }}%\r\n            </q-circular-progress>\r\n          </template>\r\n          <div v-if=\"mandatory.filledValue\" class=\"chip-success q-mr-sm\">\r\n            <div class=\"\">{{ mandatory.filledValue }} ready</div>\r\n          </div>\r\n          <div\r\n            v-if=\"mandatory.nonFilledValue\"\r\n            class=\"chip-warning\"\r\n            @click=\"checkFormValidation\"\r\n          >\r\n            <div class=\"\">{{ mandatory.nonFilledValue }} need to work</div>\r\n          </div>\r\n        </template>\r\n        <template v-if=\"mandatoryDocument.length\">\r\n          <div\r\n            class=\"chip-warning cursor-pointer\"\r\n            @click=\"attachmentSheet = true\"\r\n          >\r\n            <div class=\"\">{{ mandatoryDocument.length }} document required</div>\r\n          </div>\r\n        </template>\r\n        <BaseActionButton\r\n          v-if=\"itemModel.itemId\"\r\n          v-tooltip.top=\"'Actions'\"\r\n          is-flat\r\n          icon=\"eva-menu\"\r\n          class=\"q-mr-sm\"\r\n        >\r\n          <q-menu\r\n            transition-show=\"scale\"\r\n            transition-hide=\"scale\"\r\n            anchor=\"bottom end\"\r\n            self=\"top right\"\r\n          >\r\n            <BaseScrollbar width=\"240px\" class=\"q-pb-sm\">\r\n              <!-- columns -->\r\n\r\n              <ListItem\r\n                v-for=\"action in documentActionList\"\r\n                :key=\"action.id\"\r\n                :icon=\"action.icon\"\r\n                :label=\"action.label\"\r\n                @click=\"processDocumentAction(action.id)\"\r\n              >\r\n              </ListItem>\r\n            </BaseScrollbar>\r\n\r\n            <!-- ... -->\r\n          </q-menu>\r\n        </BaseActionButton>\r\n        <BaseActionButton\r\n          v-if=\"!formView && !initiateProcess && actions.length === 0\"\r\n          v-tooltip.top=\"'Form View'\"\r\n          is-flat\r\n          :icon=\"'mdi-form-select'\"\r\n          class=\"q q-mr-sm\"\r\n          @click=\"formView = true\"\r\n        />\r\n\r\n        <BaseActionButton\r\n          v-else-if=\"!initiateProcess && actions.length === 0\"\r\n          v-tooltip.top=\"'Details View'\"\r\n          is-flat\r\n          :icon=\"'mdi-table-column'\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"formView = false\"\r\n        />\r\n        <BaseActionButton\r\n          v-if=\"!isCustomizedWorkflow\"\r\n          is-flat\r\n          :icon=\"isMaximized ? 'eva-collapse' : 'eva-expand'\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"toggleWidth\"\r\n        />\r\n      </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- content -->\r\n\r\n      <div id=\"content-wrapper\" class=\"row\">\r\n        <div v-if=\"formId\" class=\"col\">\r\n          <!-- form -->\r\n          <BaseScrollbar height=\"calc(100vh - 115px)\">\r\n            <div v-if=\"formView\" id=\"form-view\">\r\n              <RenderForm\r\n                v-if=\"formId && Object.keys(form).length\"\r\n                :form-id=\"formId\"\r\n                :panels=\"panels\"\r\n                :secondary-panels=\"secondaryPanels\"\r\n                :form-settings=\"formSettings\"\r\n                :form-model=\"formModel\"\r\n                :save-action.sync=\"saveAction\"\r\n                :workflow-form-model.sync=\"workflowFormModel\"\r\n                :workflow-model.sync=\"workflowModel\"\r\n                :is-readonly=\"formEditAccess\"\r\n                :form-edit-controls=\"formEditControls\"\r\n                :readonly-controls=\"readonlyControls\"\r\n                :form-visibility-access=\"formVisibilityAccess\"\r\n                :form-secure-controls=\"formSecureControls\"\r\n                :enable-controls=\"_enableControls\"\r\n                :check-list.sync=\"checkList\"\r\n                :form-fields=\"formFields\"\r\n                :data-validation-values=\"dataValidationValues\"\r\n                :form-check-list.sync=\"formCheckList\"\r\n                :form-upload-files=\"formUploadFiles\"\r\n                :has-check-form-validate.sync=\"hasCheckFormValidate\"\r\n                @uploadFiles=\"getOCRResult\"\r\n                @mandatoryControlsList=\"mandatoryControlsList\"\r\n                @deletedFiles=\"deletedFiles\"\r\n              />\r\n\r\n              <div\r\n                v-if=\"signList.length\"\r\n                id=\"approvalSignature\"\r\n                class=\"q-pa-md\"\r\n              >\r\n                <div class=\"title q-mb-sm\">Approval Signature</div>\r\n\r\n                <BaseSeparator class=\"q-my-sm\" />\r\n\r\n                <div class=\"row\">\r\n                  <template v-for=\"sign in signList\">\r\n                    <div :key=\"sign.id\" class=\"col-3 q-mb-sm\">\r\n                      <img class=\"imgCenter col\" :src=\"signLink(sign.id)\" />\r\n                      <div class=\"text row\">\r\n                        <span class=\"col-12 text-bold\">{{ sign.stage }}</span>\r\n                        <span class=\"col-12\">{{ sign.createdByEmail }}</span>\r\n                        <span class=\"col-12\">{{\r\n                          $day.format(sign.createdAt)\r\n                        }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n\r\n              <SignatureField\r\n                v-if=\"userSignature\"\r\n                v-model=\"signImg\"\r\n                label=\"Signature\"\r\n                class=\"q-pa-md\"\r\n              />\r\n            </div>\r\n            <div v-else class=\"q-pa-md\">\r\n              <!-- <div v-else class=\"col-12 q-mb-sm q-pt-md stepper\">\r\n                <Stepper\r\n                  :stage-level=\"stageLevel\"\r\n                  :current-step=\"currentStep\"\r\n                />\r\n              </div> -->\r\n\r\n              <div\r\n                v-if=\"requestFormData.length\"\r\n                id=\"requestDetails\"\r\n                class=\"col-12\"\r\n              >\r\n                <div class=\"row justify-center\">\r\n                  <div class=\"col\">\r\n                    <div class=\"row items-center\">\r\n                      <table class=\"submittedData q-mb-sm\">\r\n                        <tbody>\r\n                          <tr v-if=\"requestFormData[0].value[0].createdByName\">\r\n                            <td colspan=\"4\">\r\n                              Requested By:\r\n                              {{ requestFormData[0].value[0].createdByName }}\r\n                            </td>\r\n                          </tr>\r\n                          <tr>\r\n                            <th v-if=\"requestFormData[0].value[0].raisedBy\">\r\n                              Requested User Email\r\n                            </th>\r\n                            <th>Requested Date</th>\r\n                            <th>Last Acted By</th>\r\n                            <th>Last Acted On</th>\r\n                          </tr>\r\n                          <tr>\r\n                            <td v-if=\"requestFormData[0].value[0].raisedBy\">\r\n                              {{ requestFormData[0].value[0].raisedBy }}\r\n                            </td>\r\n                            <td>\r\n                              {{\r\n                                $day.format(\r\n                                  requestFormData[0].value[0].raisedAt\r\n                                )\r\n                              }}\r\n                            </td>\r\n                            <td>\r\n                              {{\r\n                                requestFormData[0].value[0]\r\n                                  .transaction_createdByEmail\r\n                              }}\r\n                            </td>\r\n                            <td>\r\n                              {{\r\n                                $day.format(\r\n                                  requestFormData[0].value[0]\r\n                                    .transaction_createdAt\r\n                                )\r\n                              }}\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n\r\n                      <BaseScrollbar height=\"calc(100vh - 275px)\">\r\n                        <template>\r\n                          <table class=\"mainData col-12\">\r\n                            <template\r\n                              v-for=\"(value, key) in requestFormData[0].value[0]\r\n                                .formData.fields\"\r\n                            >\r\n                              <template v-if=\"value && value != '[]'\">\r\n                                <template v-if=\"validateType(key) !== 'TABLE'\">\r\n                                  <tr :key=\"`${key}-${value}`\">\r\n                                    <td class=\"tblHeader ellipsis small\">\r\n                                      {{ getLabel(key) }}\r\n                                    </td>\r\n                                    <td class=\"ellipsis\">\r\n                                      <template\r\n                                        v-if=\"\r\n                                          validateType(key) === 'FILE_UPLOAD'\r\n                                        \"\r\n                                      >\r\n                                        <div v-if=\"JSON.parse(value).length\">\r\n                                          <div\r\n                                            v-for=\"file in JSON.parse(value)\"\r\n                                            :key=\"file.fileName\"\r\n                                            class=\"q-mb-xs\"\r\n                                          >\r\n                                            <div class=\"row items-center\">\r\n                                              <div\r\n                                                class=\"col row items-center\"\r\n                                                @click=\"viewFile(file, value)\"\r\n                                              >\r\n                                                <FileIcon\r\n                                                  :mime-type=\"\r\n                                                    fileType(file.fileName)\r\n                                                  \"\r\n                                                  class=\"mini-avatar q-mr-sm\"\r\n                                                />\r\n                                                <span\r\n                                                  class=\"cursor-pointer text-underline text-secondary\"\r\n                                                  >{{ file.fileName }}</span\r\n                                                >\r\n                                              </div>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </template>\r\n                                      <template\r\n                                        v-else-if=\"validateType(key) === 'DATE'\"\r\n                                      >\r\n                                        {{ $day.format(value, false) }}\r\n                                      </template>\r\n                                      <template\r\n                                        v-else-if=\"validateValue(value)\"\r\n                                      >\r\n                                        {{ removeTags(value) || \"-\" }}\r\n                                      </template>\r\n                                      <template v-else>\r\n                                        <a :href=\"value\" target=\"_blank\">\r\n                                          {{ value || \"-\" }}\r\n                                        </a>\r\n                                      </template>\r\n                                    </td>\r\n                                  </tr>\r\n                                </template>\r\n                                <template v-else-if=\"JSON.parse(value).length\">\r\n                                  <tr\r\n                                    v-if=\"getLabel(key)\"\r\n                                    :key=\"'trlabel-' + key\"\r\n                                  >\r\n                                    <td\r\n                                      colspan=\"2\"\r\n                                      class=\"tblHeader ellipsis small\"\r\n                                    >\r\n                                      <FormFieldLabel\r\n                                        :key=\"'label-' + key\"\r\n                                        :label=\"getLabel(key)\"\r\n                                        class=\"q-mt-sm\"\r\n                                      />\r\n                                    </td>\r\n                                  </tr>\r\n                                  <tr :key=\"'trtable1-' + key\">\r\n                                    <td colspan=\"2\">\r\n                                      <BaseScrollbar\r\n                                        :key=\"'scroll-' + key\"\r\n                                        style=\"max-height: 200px\"\r\n                                      >\r\n                                        <table\r\n                                          :key=\"'table-' + key\"\r\n                                          class=\"sub-table q-mt-sm q-mb-sm\"\r\n                                        >\r\n                                          <thead>\r\n                                            <tr>\r\n                                              <th\r\n                                                v-for=\"(\r\n                                                  field_item, field_key\r\n                                                ) in tableValue(value)[0]\"\r\n                                                :key=\"field_key\"\r\n                                              >\r\n                                                {{\r\n                                                  getLabel(field_key, \"table\")\r\n                                                }}\r\n                                              </th>\r\n                                            </tr>\r\n                                          </thead>\r\n                                          <tbody>\r\n                                            <tr\r\n                                              v-for=\"(\r\n                                                field_item, field_key\r\n                                              ) in tableValue(value)\"\r\n                                              :key=\"field_key\"\r\n                                            >\r\n                                              <td\r\n                                                v-for=\"(\r\n                                                  row_value, row_key\r\n                                                ) in field_item\"\r\n                                                :key=\"row_key\"\r\n                                              >\r\n                                                {{ row_value }}\r\n                                              </td>\r\n                                            </tr>\r\n                                          </tbody>\r\n                                        </table>\r\n                                      </BaseScrollbar>\r\n                                    </td>\r\n                                  </tr>\r\n                                </template>\r\n                              </template>\r\n                            </template>\r\n                          </table>\r\n                        </template>\r\n                      </BaseScrollbar>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </BaseScrollbar>\r\n        </div>\r\n\r\n        <div v-if=\"itemModel.itemId\" class=\"col\">\r\n          <div class=\"fileFrame\">\r\n            <div class=\"file-list\">\r\n              <iframe\r\n                id=\"file-frame\"\r\n                ref=\"myProcessFiles\"\r\n                :src=\"itemLink()\"\r\n                frameborder=\"0\"\r\n              ></iframe>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-if=\"formId || itemModel.itemId\"\r\n          class=\"col-auto q-mr-sm leftBorder\"\r\n        >\r\n          <template v-for=\"tab in tabs\">\r\n            <BaseActionButton\r\n              v-if=\"checkTabAccess\"\r\n              :key=\"tab.id\"\r\n              v-tooltip.left=\"tab.label\"\r\n              is-flat\r\n              no-border\r\n              :icon=\"tab.icon\"\r\n              color=\"primary\"\r\n              class=\"tabButtons\"\r\n              @click=\"showLinks(tab.value)\"\r\n            >\r\n              <span v-if=\"tab.count\" class=\"badge\">{{ tab.count }} </span>\r\n            </BaseActionButton>\r\n          </template>\r\n        </div>\r\n        <!-- ... -->\r\n      </div>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- footer -->\r\n      <template #footer>\r\n        <div v-if=\"actions.length\" class=\"footer row\">\r\n          <BaseButton\r\n            v-if=\"\r\n              selectedNode === 'inbox' ||\r\n              selectedNode === 'common' ||\r\n              selectedNode === 'payment' ||\r\n              initiateProcess\r\n            \"\r\n            label=\"Save\"\r\n            class=\"q-ml-md\"\r\n            color=\"secondary\"\r\n            @click=\"validateRequest('Save')\"\r\n          />\r\n          <template v-for=\"action in actions\">\r\n            <BaseButton\r\n              v-if=\"\r\n                action === 'Approve' ||\r\n                action === 'Complete' ||\r\n                action === 'Rightsize'\r\n              \"\r\n              :key=\"action\"\r\n              :label=\"action\"\r\n              color=\"positive\"\r\n              class=\"q-ml-md\"\r\n              @click=\"validateRequest(action)\"\r\n            />\r\n            <BaseButton\r\n              v-else-if=\"\r\n                action === 'Reject' ||\r\n                action === 'Terminate' ||\r\n                action === 'Force Close' ||\r\n                action === 'Decline'\r\n              \"\r\n              :key=\"action\"\r\n              :label=\"action\"\r\n              color=\"red\"\r\n              class=\"q-ml-md\"\r\n              @click=\"validateRequest(action)\"\r\n            />\r\n            <BaseButton\r\n              v-else-if=\"\r\n                action === 'Forward' ||\r\n                action.indexOf('Reply') > -1 ||\r\n                action === 'Rollback' ||\r\n                action === 'Assign'\r\n              \"\r\n              :key=\"action\"\r\n              :label=\"action\"\r\n              color=\"orange\"\r\n              class=\"q-ml-md\"\r\n              @click=\"validateRequest(action)\"\r\n            />\r\n            <BaseButton\r\n              v-else-if=\"action === 'To Requester'\"\r\n              :key=\"action\"\r\n              :label=\"action\"\r\n              color=\"pink\"\r\n              class=\"q-ml-md\"\r\n              @click=\"validateRequest(action)\"\r\n            />\r\n            <BaseButton\r\n              v-else\r\n              :key=\"action\"\r\n              :label=\"action\"\r\n              class=\"q-ml-md\"\r\n              @click=\"validateRequest(action)\"\r\n            />\r\n          </template>\r\n        </div>\r\n      </template>\r\n      <!-- ... -->\r\n    </Sheet>\r\n    <Sheet\r\n      v-model=\"attachmentSheet\"\r\n      width=\"30vw\"\r\n      :sub-actions=\"\r\n        selectedProcess.processId && attachmentList.length ? true : false\r\n      \"\r\n      :upload=\"\r\n        selectedNode === 'inbox' ||\r\n        selectedNode === 'common' ||\r\n        selectedNode === 'payment' ||\r\n        initiateProcess\r\n      \"\r\n      no-padding\r\n      @input=\"closeAttachmentsSheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Attachments </template>\r\n\r\n      <template #actions>\r\n        <div\r\n          v-if=\"selectedProcess.processId\"\r\n          class=\"q-ml-sm text-gray q-mr-sm ellipsis\"\r\n          style=\"font-size: 10px\"\r\n        >\r\n          auto-refresh every 15 seconds\r\n        </div>\r\n        <BaseActionButton\r\n          v-if=\"selectedProcess.processId\"\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"getAttachments()\"\r\n        />\r\n      </template>\r\n\r\n      <template\r\n        v-if=\"\r\n          selectedNode === 'inbox' ||\r\n          selectedNode === 'common' ||\r\n          selectedNode === 'payment' ||\r\n          initiateProcess\r\n        \"\r\n        #upload\r\n      >\r\n        <div\r\n          class=\"hint\"\r\n          @click=\"\r\n            {\r\n              rowIndex = null;\r\n              $refs.attachments.click();\r\n            }\r\n          \"\r\n        >\r\n          <BaseIcon\r\n            name=\"eva-cloud-upload-outline\"\r\n            size=\"32px\"\r\n            color=\"blue\"\r\n            class=\"icon\"\r\n          />\r\n\r\n          <div class=\"title text-blue\">UPLOAD FILES</div>\r\n          <div class=\"description\">Click here to choose files and upload</div>\r\n        </div>\r\n      </template>\r\n\r\n      <template\r\n        v-if=\"selectedProcess.processId && attachmentList.length\"\r\n        #subActions\r\n      >\r\n        <CheckboxField\r\n          v-model=\"selectAll\"\r\n          class=\"col-auto q-pt-sm q-pb-sm\"\r\n          @input=\"fileSelectAll\"\r\n        />\r\n        Select All\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'mail share'\"\r\n          :is-disabled=\"!selectedFileCount\"\r\n          icon=\"mdi-email-send-outline\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"18px\"\r\n          class=\"q-ml-sm\"\r\n          @click=\"documentShare\"\r\n        />\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'merge documents (only PDF)'\"\r\n          :is-disabled=\"selectedFileCount > 1 && isSelectedPDF ? false : true\"\r\n          icon=\"mdi-file-document-multiple-outline\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"18px\"\r\n          @click=\"documentMerge\"\r\n        />\r\n      </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar\r\n          :height=\"\r\n            selectedNode === 'inbox' ||\r\n            selectedNode === 'common' ||\r\n            selectedNode === 'payment'\r\n              ? 'calc(100vh - 200px)'\r\n              : ''\r\n          \"\r\n        >\r\n          <input\r\n            ref=\"attachments\"\r\n            type=\"file\"\r\n            class=\"hidden\"\r\n            @change=\"uploadWflowAttachments\"\r\n          />\r\n          <template v-for=\"row in checkList\">\r\n            <template v-if=\"row.name\">\r\n              <div v-if=\"!row.attach\" :key=\"row.uid\" class=\"checkList\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-auto\">\r\n                    <BaseIcon name=\"mdi-file-check-outline\" color=\"primary\" />\r\n                  </div>\r\n                  <div class=\"col q-ml-sm\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        {{ row.name }}\r\n                      </div>\r\n                      <div v-if=\"row.required\" class=\"col-12 q-mt-sm\">\r\n                        <q-chip outline color=\"red\" class=\"chips small\">\r\n                          Required\r\n                        </q-chip>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <div class=\"col-12\" @click=\"attachTemplate(row.uid)\">\r\n                      <q-chip\r\n                        outline\r\n                        color=\"primary\"\r\n                        class=\"chips primary-hover medium\"\r\n                      >\r\n                        <q-avatar\r\n                          icon=\"eva-upload-outline\"\r\n                          class=\"q-mr-sm\"\r\n                          color=\"primary\"\r\n                          text-color=\"white\"\r\n                        />\r\n                        Upload\r\n                      </q-chip>\r\n                    </div>\r\n                    <div\r\n                      v-if=\"row.template\"\r\n                      class=\"col-12\"\r\n                      @click=\"download(row.id)\"\r\n                    >\r\n                      <q-chip\r\n                        outline\r\n                        color=\"secondary\"\r\n                        class=\"chips secondary-hover medium\"\r\n                      >\r\n                        <q-avatar\r\n                          icon=\"eva-download-outline\"\r\n                          class=\"q-mr-sm\"\r\n                          color=\"secondary\"\r\n                          text-color=\"white\"\r\n                        />\r\n                        Download\r\n                      </q-chip>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div v-else :key=\"row.uid\">\r\n                <template v-for=\"file in attachmentFilterCheckList(row.name)\">\r\n                  <div :key=\"file.id\" class=\"attachmentList\">\r\n                    <div class=\"title row\">\r\n                      <div v-if=\"selectedProcess.processId\" class=\"col-auto\">\r\n                        <!-- <CheckboxField v-model=\"file.checked\" class=\"col-auto\" /> -->\r\n                        <template v-if=\"file.loading\">\r\n                          <BaseIcon\r\n                            name=\"mdi-loading\"\r\n                            color=\"secondary\"\r\n                            class=\"q-mr-sm loading\"\r\n                          />\r\n                        </template>\r\n                        <template v-else>\r\n                          <BaseIcon\r\n                            :name=\"\r\n                              file.checked\r\n                                ? 'eva-checkmark-circle-2'\r\n                                : 'eva-radio-button-off-outline'\r\n                            \"\r\n                            color=\"secondary\"\r\n                            class=\"q-mr-sm\"\r\n                            @click=\"file.checked = !file.checked\"\r\n                          />\r\n                        </template>\r\n                      </div>\r\n                      <div v-else>\r\n                        <template v-if=\"file.loading\">\r\n                          <BaseIcon\r\n                            name=\"mdi-loading\"\r\n                            color=\"secondary\"\r\n                            class=\"q-mr-sm loading\"\r\n                          />\r\n                        </template>\r\n                      </div>\r\n\r\n                      <!-- <div v-if=\"file.formJsonId\" class=\"col-auto\">\r\n                        <BaseIcon\r\n                          v-tooltip:green.top=\"getLabel(file.formJsonId)\"\r\n                          name=\"mdi-form-select\"\r\n                          color=\"primary\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div> -->\r\n\r\n                      <div class=\"col-auto\">\r\n                        <FileIcon\r\n                          :mime-type=\"fileType(file.name)\"\r\n                          class=\"mini-avatar q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col ellipsis\" @click=\"openFile(file)\">\r\n                        {{ file.name }}\r\n                      </div>\r\n                      <div v-if=\"file.formJsonId\" class=\"col-auto\">\r\n                        <q-chip\r\n                          outline\r\n                          color=\"green\"\r\n                          class=\"cursor-pointer green-hover\"\r\n                        >\r\n                          {{ getLabel(file.formJsonId) }}\r\n                        </q-chip>\r\n                      </div>\r\n                      <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                        <BaseActionButton\r\n                          v-tooltip.top=\"'Download'\"\r\n                          icon=\"eva-download-outline\"\r\n                          color=\"primary\"\r\n                          no-border\r\n                          is-flat\r\n                          size=\"20px\"\r\n                          @click.stop=\"fileMenuAction(file, 'Download')\"\r\n                        />\r\n                      </div>\r\n                      <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                        <BaseActionButton\r\n                          v-tooltip.top=\"'Print'\"\r\n                          icon=\"eva-printer-outline\"\r\n                          color=\"primary\"\r\n                          no-border\r\n                          is-flat\r\n                          size=\"20px\"\r\n                          @click.stop=\"fileMenuAction(file, 'Print')\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"meta row\">\r\n                      <div class=\"col row\">\r\n                        <!-- created at -->\r\n\r\n                        <div>{{ $day.format(file.createdAt) }}</div>\r\n\r\n                        <!-- ... -->\r\n\r\n                        <!-- created by -->\r\n\r\n                        <template v-if=\"file.createdBy\">\r\n                          <BaseIcon name=\"mdi-circle-small\" />\r\n                          <div>{{ file.createdByEmail }}</div>\r\n                        </template>\r\n\r\n                        <!-- ... -->\r\n\r\n                        <!-- size -->\r\n\r\n                        <template v-if=\"file.size\">\r\n                          <BaseIcon name=\"mdi-circle-small\" />\r\n                          <div>{{ fileSize(file.size) }}</div>\r\n                        </template>\r\n\r\n                        <!-- ... -->\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        <BaseActionButton\r\n                          v-tooltip.top=\"'Metadata'\"\r\n                          icon=\"eva-file-text-outline\"\r\n                          color=\"secondary\"\r\n                          no-border\r\n                          is-flat\r\n                          size=\"20px\"\r\n                          @click.stop=\"getFileData(file)\"\r\n                        />\r\n                      </div>\r\n                      <template v-if=\"false\">\r\n                        <template\r\n                          v-if=\"\r\n                            selectedNode === 'inbox' ||\r\n                            selectedNode === 'common' ||\r\n                            selectedNode === 'payment' ||\r\n                            initiateProcess\r\n                          \"\r\n                        >\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'delete'\"\r\n                              icon=\"eva-trash-2-outline\"\r\n                              color=\"red\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"attachmentDelete(file)\"\r\n                            />\r\n                          </div>\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'Re-Upload'\"\r\n                              icon=\"mdi-file-upload\"\r\n                              color=\"primary\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"\r\n                                {\r\n                                  reuploadFile = file;\r\n                                  reupload(file.name);\r\n                                }\r\n                              \"\r\n                            />\r\n                          </div>\r\n                        </template>\r\n                      </template>\r\n                      <template v-else>\r\n                        <template\r\n                          v-if=\"\r\n                            ((selectedNode === 'inbox' ||\r\n                              selectedNode === 'common' ||\r\n                              selectedNode === 'payment') &&\r\n                              file.createdBy === $store.state.session.id) ||\r\n                            initiateProcess\r\n                          \"\r\n                        >\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'delete'\"\r\n                              icon=\"eva-trash-2-outline\"\r\n                              color=\"red\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"attachmentDelete(file)\"\r\n                            />\r\n                          </div>\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'Re-Upload'\"\r\n                              icon=\"mdi-file-upload\"\r\n                              color=\"primary\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"\r\n                                {\r\n                                  reuploadFile = file;\r\n                                  reupload(file.name);\r\n                                }\r\n                              \"\r\n                            />\r\n                          </div>\r\n                        </template>\r\n                      </template>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n            </template>\r\n          </template>\r\n          <template v-for=\"file in attachmentList\">\r\n            <template v-if=\"isCheckList(file.name)\">\r\n              <div :key=\"file.id\" class=\"attachmentList\">\r\n                <div class=\"title row\">\r\n                  <template v-if=\"file.loading\">\r\n                    <BaseIcon\r\n                      name=\"mdi-loading\"\r\n                      color=\"secondary\"\r\n                      class=\"q-mr-sm loading\"\r\n                    />\r\n                  </template>\r\n                  <div v-if=\"selectedProcess.processId\" class=\"col-auto\">\r\n                    <!-- <CheckboxField v-model=\"file.checked\" class=\"col-auto\" /> -->\r\n\r\n                    <BaseIcon\r\n                      :name=\"\r\n                        file.checked\r\n                          ? 'eva-checkmark-circle-2'\r\n                          : 'eva-radio-button-off-outline'\r\n                      \"\r\n                      color=\"secondary\"\r\n                      class=\"q-mr-sm\"\r\n                      @click=\"file.checked = !file.checked\"\r\n                    />\r\n                  </div>\r\n                  <!-- <div v-if=\"file.formJsonId\" class=\"col-auto\">\r\n                    <BaseIcon\r\n                      v-tooltip:green.top=\"getLabel(file.formJsonId)\"\r\n                      name=\"mdi-form-select\"\r\n                      color=\"primary\"\r\n                      class=\"q-mr-sm\"\r\n                    />\r\n                  </div> -->\r\n                  <div class=\"col-auto\">\r\n                    <FileIcon\r\n                      :mime-type=\"fileType(file.name)\"\r\n                      class=\"mini-avatar q-mr-sm\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col ellipsis\" @click=\"openFile(file)\">\r\n                    {{ file.name }}\r\n                  </div>\r\n\r\n                  <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'Download'\"\r\n                      icon=\"eva-download-outline\"\r\n                      color=\"primary\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"fileMenuAction(file, 'Download')\"\r\n                    />\r\n                  </div>\r\n                  <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'Print'\"\r\n                      icon=\"eva-printer-outline\"\r\n                      color=\"primary\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"fileMenuAction(file, 'Print')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div v-if=\"file.formJsonId\" class=\"row q-mb-xs\">\r\n                  <div class=\"col\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-auto ellipsis attachment-label\">\r\n                        {{ getLabel(file.formJsonId) }}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'Metadata'\"\r\n                      icon=\"eva-file-text-outline\"\r\n                      color=\"secondary\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"getFileData(file)\"\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    v-if=\"\r\n                      ((selectedNode === 'inbox' ||\r\n                        selectedNode === 'common' ||\r\n                        selectedNode === 'payment') &&\r\n                        file.createdBy === $store.state.session.id) ||\r\n                      initiateProcess\r\n                    \"\r\n                    class=\"col-auto\"\r\n                  >\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'delete'\"\r\n                      icon=\"eva-trash-2-outline\"\r\n                      color=\"red\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"attachmentDelete(file)\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"meta row\">\r\n                  <div class=\"col row\">\r\n                    <!-- created at -->\r\n\r\n                    <div>{{ $day.format(file.createdAt) }}</div>\r\n\r\n                    <!-- ... -->\r\n\r\n                    <!-- created by -->\r\n\r\n                    <template v-if=\"file.createdBy\">\r\n                      <BaseIcon name=\"mdi-circle-small\" />\r\n                      <div>{{ file.createdByEmail }}</div>\r\n                    </template>\r\n\r\n                    <!-- ... -->\r\n\r\n                    <!-- size -->\r\n\r\n                    <template v-if=\"file.size\">\r\n                      <BaseIcon name=\"mdi-circle-small\" />\r\n                      <div>{{ fileSize(file.size) }}</div>\r\n                    </template>\r\n\r\n                    <!-- ... -->\r\n                  </div>\r\n                  <template v-if=\"!file.formJsonId\">\r\n                    <div class=\"col-auto\">\r\n                      <BaseActionButton\r\n                        v-tooltip.top=\"'Metadata'\"\r\n                        icon=\"eva-file-text-outline\"\r\n                        color=\"secondary\"\r\n                        no-border\r\n                        is-flat\r\n                        size=\"20px\"\r\n                        @click.stop=\"getFileData(file)\"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      v-if=\"\r\n                        ((selectedNode === 'inbox' ||\r\n                          selectedNode === 'common' ||\r\n                          selectedNode === 'payment') &&\r\n                          file.createdBy === $store.state.session.id) ||\r\n                        initiateProcess\r\n                      \"\r\n                      class=\"col-auto\"\r\n                    >\r\n                      <BaseActionButton\r\n                        v-tooltip.top=\"'delete'\"\r\n                        icon=\"eva-trash-2-outline\"\r\n                        color=\"red\"\r\n                        no-border\r\n                        is-flat\r\n                        size=\"20px\"\r\n                        @click.stop=\"attachmentDelete(file)\"\r\n                      />\r\n                    </div>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </template>\r\n        </BaseScrollbar>\r\n      </div>\r\n    </Sheet>\r\n    <Sheet\r\n      v-model=\"commentsSheet\"\r\n      width=\"30vw\"\r\n      height=\"80vh\"\r\n      :custom-height=\"\r\n        selectedNode === 'inbox' ||\r\n        selectedNode === 'common' ||\r\n        selectedNode === 'payment'\r\n          ? '30'\r\n          : '0'\r\n      \"\r\n      no-padding\r\n      @input=\"closeCommentsSheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Comments </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #actions>\r\n        <div\r\n          v-if=\"selectedProcess.processId\"\r\n          class=\"q-ml-sm text-gray q-mr-sm ellipsis\"\r\n          style=\"font-size: 10px\"\r\n        >\r\n          auto-refresh every 30 seconds\r\n        </div>\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"getComments(0)\"\r\n        />\r\n      </template>\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar :height=\"commentsSheetHeight\">\r\n          <!-- comments -->\r\n          <template v-for=\"(row, idx) in commentsList\">\r\n            <q-chat-message\r\n              :key=\"idx\"\r\n              :name=\"\r\n                row.createdBy === $store.state.session.id\r\n                  ? 'me'\r\n                  : row.createdByEmail || row.externalCommentsby\r\n              \"\r\n              :text=\"[row.comments]\"\r\n              text-html\r\n              :sent=\"row.createdBy === $store.state.session.id\"\r\n              :stamp=\"lastCommentDuration(row)\"\r\n              :bg-color=\"\r\n                row.createdBy === $store.state.session.id\r\n                  ? 'primary-1'\r\n                  : 'secondary-1'\r\n              \"\r\n              class=\"q-ma-sm\"\r\n            >\r\n              <template v-slot:avatar>\r\n                <div\r\n                  v-if=\"row.embedFileList && row.embedFileList.length\"\r\n                  class=\"file-icons\"\r\n                >\r\n                  <FileIcon\r\n                    :key=\"`Icon-${idx}`\"\r\n                    v-tooltip.top=\"row.embedFileList[0].fileName\"\r\n                    :mime-type=\"fileType(row.embedFileList[0].fileName)\"\r\n                    class=\"file-icon q-mr-sm\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </q-chat-message>\r\n          </template>\r\n          <!-- ... -->\r\n        </BaseScrollbar>\r\n      </div>\r\n\r\n      <!-- ... -->\r\n\r\n      <div\r\n        v-if=\"\r\n          selectedNode === 'inbox' ||\r\n          selectedNode === 'common' ||\r\n          selectedNode === 'payment'\r\n        \"\r\n        class=\"col borderTop\"\r\n      >\r\n        <div class=\"row\">\r\n          <template v-if=\"checkTenant() && !portal\">\r\n            <div class=\"col actions\">\r\n              <div\r\n                v-if=\"attachmentList.length && fileNames.length\"\r\n                class=\"row select-action q-pa-sm action-container\"\r\n              >\r\n                <CheckboxField\r\n                  v-model=\"attachComment\"\r\n                  label=\"Add Comment to PDF\"\r\n                  class=\"col-auto q-pr-sm\"\r\n                />\r\n\r\n                <SelectField\r\n                  v-if=\"attachComment\"\r\n                  v-model=\"selectedFileForAttach\"\r\n                  :is-searchable=\"true\"\r\n                  :options=\"fileNames\"\r\n                  class=\"col field comment-attach attach-cmd\"\r\n                />\r\n              </div>\r\n              <SingleChoiceField\r\n                v-if=\"displayInternalPublic\"\r\n                v-model=\"commentAction\"\r\n                :options=\"commentActions\"\r\n                :show-options-wrapper=\"false\"\r\n                :options-per-line=\"2\"\r\n                class=\"action-container\"\r\n                :class=\"{\r\n                  'internal-public': attachmentList.length > 0,\r\n                  'col q-pa-sm': true,\r\n                  'internal-public-margin': attachComment,\r\n                }\"\r\n              />\r\n            </div>\r\n          </template>\r\n          <template v-if=\"isTenantGOTOComments()\">\r\n            <SingleChoiceField\r\n              v-model=\"jiraCommentAction\"\r\n              :options=\"jiraCommentActions\"\r\n              :options-per-line=\"2\"\r\n              class=\"col q-mb-sm actions\"\r\n            />\r\n          </template>\r\n        </div>\r\n        <div class=\"row text-area-action q-ml-sm q-mr-sm\">\r\n          <div class=\"col\">\r\n            <TextAreaField\r\n              v-model=\"commentText\"\r\n              auto-focus\r\n              placeholder=\"Type a new comment...\"\r\n            />\r\n          </div>\r\n          <div class=\"col-auto\" style=\"margin: auto; margin-right: 8px\">\r\n            <BaseActionButton\r\n              v-tooltip.left=\"'Post Comments'\"\r\n              icon=\"eva-paper-plane-outline\"\r\n              color=\"primary-11\"\r\n              class=\"q-ml-sm comment-actions\"\r\n              size=\"16px\"\r\n              rotate-class=\"rotate-45\"\r\n              @click=\"saveComment\"\r\n            />\r\n            <BaseActionButton\r\n              v-tooltip.left=\"'Advanced Comments'\"\r\n              icon=\"mdi-comment-text-multiple\"\r\n              color=\"primary-11\"\r\n              class=\"q-ml-sm q-mt-sm comment-actions\"\r\n              size=\"16px\"\r\n              @click=\"advancedCommentsSheet = true\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Sheet>\r\n\r\n    <Sheet\r\n      v-model=\"mailTransactionSheet\"\r\n      width=\"30vw\"\r\n      no-padding\r\n      @input=\"mailTransactionSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Mail Transactions </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #actions>\r\n        <div class=\"q-ml-sm text-gray q-mr-sm ellipsis\" style=\"font-size: 10px\">\r\n          auto-refresh every 30 seconds\r\n        </div>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"getMailTransactions()\"\r\n        />\r\n      </template>\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <div class=\"q-pl-sm\">\r\n          <Tabs v-model=\"mailTab\" :tabs=\"mailTabs\" />\r\n        </div>\r\n        <template v-if=\"mailTab === 'OUTGOING'\">\r\n          <BaseScrollbar height=\"calc(100vh - 120px)\">\r\n            <template v-for=\"row in outgoingMails\">\r\n              <div :key=\"'outgoing' + row.id\" class=\"mailTransactionList\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"row q-mb-sm\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"eva-email-outline\"\r\n                          color=\"primary\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        {{ row.subject }}\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row q-mb-sm\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"eva-person-outline\"\r\n                          color=\"secondary\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">{{ row.email }}</div>\r\n                    </div>\r\n                    <div class=\"row q-mb-sm\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"eva-clock-outline\"\r\n                          color=\"orange\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        {{ $day.format(row.createdAt, true) }}\r\n                      </div>\r\n                    </div>\r\n                    <!-- <div class=\"row\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"mdi-file-link-outline\"\r\n                          color=\"red\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto text-underline\">123456987.msg</div>\r\n                    </div> -->\r\n                  </div>\r\n                  <div class=\"col-auto q-mr-sm\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'attachments'\"\r\n                      icon=\"eva-attach-2-outline\"\r\n                      color=\"primary\"\r\n                      is-flat\r\n                      size=\"16px\"\r\n                      class=\"q-mb-sm\"\r\n                      @click.stop=\"showMailAttachments(row)\"\r\n                    >\r\n                      <span v-if=\"row.attachmentCount\" class=\"badge\"\r\n                        >{{ row.attachmentCount }}\r\n                      </span>\r\n                    </BaseActionButton>\r\n\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'resend'\"\r\n                      icon=\"mdi-send\"\r\n                      color=\"secondary\"\r\n                      is-flat\r\n                      size=\"16px\"\r\n                      @click.stop=\"resendMail(row.ezMailId)\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </BaseScrollbar>\r\n        </template>\r\n        <template v-if=\"mailTab === 'INCOMING'\">\r\n          <BaseScrollbar height=\"calc(100vh - 120px)\">\r\n            <template v-for=\"row in incomingMails\">\r\n              <div :key=\"'incoming' + row.id\" class=\"mailTransactionList\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"row q-mb-sm\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"eva-email-outline\"\r\n                          color=\"primary\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        {{ row.subject }}\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row q-mb-sm\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"eva-person-outline\"\r\n                          color=\"secondary\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">{{ row.email }}</div>\r\n                    </div>\r\n                    <div class=\"row q-mb-sm\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"eva-clock-outline\"\r\n                          color=\"orange\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        {{ $day.format(row.createdAt, true) }}\r\n                      </div>\r\n                    </div>\r\n                    <!-- <div class=\"row\">\r\n                      <div class=\"col-auto\">\r\n                        <BaseIcon\r\n                          name=\"mdi-file-link-outline\"\r\n                          color=\"red\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto text-underline\">123456987.msg</div>\r\n                    </div> -->\r\n                  </div>\r\n                  <div class=\"col-auto q-mr-sm\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'attachments'\"\r\n                      icon=\"eva-attach-2-outline\"\r\n                      color=\"primary\"\r\n                      is-flat\r\n                      size=\"16px\"\r\n                      class=\"q-mb-sm\"\r\n                      @click.stop=\"showMailAttachments(row)\"\r\n                    >\r\n                      <span v-if=\"row.attachmentCount\" class=\"badge\"\r\n                        >{{ row.attachmentCount }}\r\n                      </span>\r\n                    </BaseActionButton>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </BaseScrollbar>\r\n        </template>\r\n      </div>\r\n\r\n      <!-- ... -->\r\n    </Sheet>\r\n    <Sheet\r\n      v-model=\"mailAttachmentSheet\"\r\n      width=\"30vw\"\r\n      no-padding\r\n      @input=\"mailAttachmentSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Mail Attachments </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar height=\"calc(100vh - 200px)\">\r\n          <template v-for=\"file in mailAttachmentList\">\r\n            <div :key=\"file.id\" class=\"attachmentList\">\r\n              <div class=\"title row\">\r\n                <div class=\"col-auto\">\r\n                  <FileIcon\r\n                    :mime-type=\"fileType(file.name)\"\r\n                    class=\"mini-avatar q-mr-sm\"\r\n                  />\r\n                </div>\r\n                <div class=\"col ellipsis\" @click=\"openAttachmentFile(file)\">\r\n                  {{ file.name }}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"meta\">\r\n                <!-- created at -->\r\n\r\n                <div>{{ $day.format(file.createdAt) }}</div>\r\n\r\n                <!-- ... -->\r\n\r\n                <!-- size -->\r\n\r\n                <template v-if=\"file.size\">\r\n                  <BaseIcon name=\"mdi-circle-small\" />\r\n                  <div>{{ fileSize(file.size) }}</div>\r\n                </template>\r\n\r\n                <!-- ... -->\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </BaseScrollbar>\r\n      </div>\r\n    </Sheet>\r\n    <Sheet\r\n      v-model=\"fileSheet\"\r\n      no-padding\r\n      width=\"100vw\"\r\n      @input=\"fileSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title>\r\n        <div class=\"attachmentFileHeader\">\r\n          <template v-if=\"selectedFile.formJsonId\">\r\n            <BaseActionButton\r\n              v-tooltip:green.bottom=\"getLabel(selectedFile.formJsonId)\"\r\n              is-flat\r\n              icon=\"mdi-form-select\"\r\n              color=\"primary\"\r\n              class=\"q-mr-sm\"\r\n            />\r\n          </template>\r\n          <div class=\"avatar q-ml-sm\">\r\n            <FileIcon :mime-type=\"fileType(selectedFile.name)\" />\r\n          </div>\r\n\r\n          <div class=\"q-ml-md\">\r\n            <div class=\"filename\">\r\n              {{ selectedFile.name }}\r\n            </div>\r\n\r\n            <div class=\"meta\">\r\n              <div>Archived At: {{ $day.format(selectedFile.createdAt) }}</div>\r\n              <BaseIcon name=\"mdi-circle-small\" />\r\n              <div>Archived By: {{ selectedFile.createdByEmail }}</div>\r\n              <div v-if=\"selectedFile.size\">\r\n                <BaseIcon name=\"mdi-circle-small\" />\r\n                File Size: {{ fileSize(selectedFile.size) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <template #actions>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'Actions'\"\r\n          is-flat\r\n          icon=\"eva-menu\"\r\n          class=\"q-mr-sm\"\r\n        >\r\n          <q-menu\r\n            transition-show=\"scale\"\r\n            transition-hide=\"scale\"\r\n            anchor=\"bottom end\"\r\n            self=\"top right\"\r\n          >\r\n            <BaseScrollbar width=\"240px\" class=\"q-pb-sm\">\r\n              <!-- columns -->\r\n\r\n              <ListItem\r\n                v-for=\"action in documentActionList\"\r\n                :key=\"action.id\"\r\n                :icon=\"action.icon\"\r\n                :label=\"action.label\"\r\n                @click=\"documentAction(action.id)\"\r\n              >\r\n              </ListItem>\r\n            </BaseScrollbar>\r\n\r\n            <!-- ... -->\r\n          </q-menu>\r\n        </BaseActionButton>\r\n      </template>\r\n\r\n      <div class=\"attachmentFileFrame\">\r\n        <div class=\"file-list\">\r\n          <iframe\r\n            id=\"file-frame\"\r\n            ref=\"myAttachmentFiles\"\r\n            :src=\"fileLink()\"\r\n            frameborder=\"0\"\r\n          ></iframe>\r\n        </div>\r\n      </div>\r\n    </Sheet>\r\n\r\n    <Modal\r\n      v-model=\"advancedCommentsSheet\"\r\n      width=\"60vw\"\r\n      height=\"80vh\"\r\n      has-footer\r\n      @input=\"\r\n        {\r\n          saveAction = '';\r\n          workflowFormModel = {};\r\n          advancedCommentsSheet = false;\r\n        }\r\n      \"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Comments</template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <TextBuilderField v-model=\"advancedCommentText\" />\r\n      </template>\r\n\r\n      <template #footer>\r\n        <template v-if=\"checkTenant() && !portal\">\r\n          <div class=\"row actions advance-cmd\">\r\n            <template v-if=\"attachmentList.length && fileNames.length\">\r\n              <CheckboxField\r\n                v-model=\"attachComment\"\r\n                label=\"Add Comment to PDF\"\r\n                class=\"col-auto q-pr-sm\"\r\n                style=\"margin: auto\"\r\n              />\r\n\r\n              <SelectField\r\n                v-if=\"attachComment\"\r\n                v-model=\"selectedFileForAttach\"\r\n                :is-searchable=\"true\"\r\n                :options=\"fileNames\"\r\n                class=\"field comment-attach\"\r\n                @input=\"handleAttachComment\"\r\n              />\r\n            </template>\r\n          </div>\r\n          <SingleChoiceField\r\n            v-if=\"checkTenant() && displayInternalPublic\"\r\n            v-model=\"commentAction\"\r\n            :options=\"commentActions\"\r\n            :options-per-line=\"2\"\r\n            class=\"actions q-mr-sm noborder\"\r\n          />\r\n        </template>\r\n        <template v-if=\"isTenantGOTOComments()\">\r\n          <SingleChoiceField\r\n            v-model=\"jiraCommentAction\"\r\n            :options=\"jiraCommentActions\"\r\n            :options-per-line=\"2\"\r\n            class=\"col q-mb-sm actions\"\r\n          />\r\n        </template>\r\n        <BaseButton\r\n          label=\"Post Comments\"\r\n          icon=\"eva-paper-plane-outline\"\r\n          color=\"primary\"\r\n          @click=\"saveAdvancedComment\"\r\n        />\r\n      </template>\r\n    </Modal>\r\n\r\n    <Modal\r\n      v-model=\"processForwardModal\"\r\n      width=\"40vw\"\r\n      height=\"60vh\"\r\n      has-footer\r\n      @input=\"\r\n        {\r\n          saveAction = '';\r\n          workflowFormModel = {};\r\n          processForwardModal = false;\r\n        }\r\n      \"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title\r\n        ><span v-if=\"!processForwardGroupAction\"\r\n          >\"{{ selectedProcess.requestNo }}\"</span\r\n        >\r\n        Process Forward</template\r\n      >\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <div id=\"processForward\">\r\n          <!-- user -->\r\n\r\n          <MultiSelectField\r\n            v-model=\"forwardUsers\"\r\n            label=\"users\"\r\n            :options=\"userList\"\r\n            class=\"field\"\r\n          />\r\n\r\n          <!-- ... -->\r\n\r\n          <!-- group -->\r\n\r\n          <MultiSelectField\r\n            v-model=\"forwardGroups\"\r\n            label=\"group\"\r\n            :options=\"groupList\"\r\n            class=\"field\"\r\n          />\r\n\r\n          <!-- ... -->\r\n\r\n          <TextAreaField\r\n            v-if=\"processForwardGroupAction\"\r\n            v-model=\"commentText\"\r\n            placeholder=\"Type a comment...\"\r\n            class=\"field q-mt-md\"\r\n          />\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <template v-if=\"isTenantGOTO()\">\r\n          <BaseButton\r\n            label=\"Assign\"\r\n            color=\"orange\"\r\n            @click=\"\r\n              {\r\n                processForwardModal = false;\r\n                processForwardGroupAction\r\n                  ? groupProcessRequest()\r\n                  : processRequest(false, false);\r\n              }\r\n            \"\r\n          />\r\n        </template>\r\n        <template v-else>\r\n          <BaseButton\r\n            label=\"Forward\"\r\n            color=\"orange\"\r\n            @click=\"\r\n              {\r\n                processForwardModal = false;\r\n                processForwardGroupAction\r\n                  ? groupProcessRequest()\r\n                  : processRequest(false, false);\r\n              }\r\n            \"\r\n          />\r\n        </template>\r\n      </template>\r\n    </Modal>\r\n\r\n    <Sheet\r\n      v-model=\"jiraIssueSheet\"\r\n      width=\"40vw\"\r\n      has-footer\r\n      @input=\"closeJiraIssueSheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> JIRA - Create Issue </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <div id=\"content-wrapper\" class=\"jiraIssue\">\r\n          <ValidationObserver ref=\"form\">\r\n            <div class=\"field-wrapper\">\r\n              <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Issue Name\"\r\n                :rules=\"{ required: true }\"\r\n              >\r\n                <TextField\r\n                  v-model=\"issueName\"\r\n                  label=\"Issue Name\"\r\n                  is-mandatory\r\n                  :error=\"errors[0]\"\r\n                  class=\"field\"\r\n                />\r\n              </ValidationProvider>\r\n\r\n              <ValidationProvider\r\n                v-if=\"false\"\r\n                v-slot=\"{ errors }\"\r\n                name=\"Project Key\"\r\n                :rules=\"{ required: true }\"\r\n              >\r\n                <TextField\r\n                  v-model=\"projectKey\"\r\n                  label=\"Project Key\"\r\n                  is-mandatory\r\n                  :error=\"errors[0]\"\r\n                  tooltip=\"Unique identifier key of your Project\"\r\n                  class=\"field\"\r\n                />\r\n              </ValidationProvider>\r\n\r\n              <ValidationProvider\r\n                v-if=\"false\"\r\n                v-slot=\"{ errors }\"\r\n                name=\"Issue Type\"\r\n                :rules=\"{ required: true }\"\r\n              >\r\n                <TextField\r\n                  v-model=\"issueType\"\r\n                  label=\"Issue Type\"\r\n                  is-mandatory\r\n                  :error=\"errors[0]\"\r\n                  class=\"field\"\r\n                />\r\n              </ValidationProvider>\r\n\r\n              <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Description\"\r\n                :rules=\"{ required: true }\"\r\n              >\r\n                <TextAreaField\r\n                  v-model=\"issueDescription\"\r\n                  label=\"Description\"\r\n                  is-mandatory\r\n                  :error=\"errors[0]\"\r\n                  class=\"field\"\r\n                />\r\n              </ValidationProvider>\r\n\r\n              <!-- <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Epic Value\"\r\n                :rules=\"{ required: true }\"\r\n              >\r\n                <TextField\r\n                  v-model=\"issueEpicValue\"\r\n                  label=\"Epic Value\"\r\n                  is-mandatory\r\n                  :error=\"errors[0]\"\r\n                  class=\"field\"\r\n                />\r\n              </ValidationProvider> -->\r\n\r\n              <CheckboxField\r\n                v-if=\"false\"\r\n                v-model=\"issueDescriptionTable\"\r\n                label=\"Include inbox request information as a table of issue description\"\r\n                class=\"field\"\r\n              />\r\n              <!-- v-if=\"issueDescriptionTable\" -->\r\n              <MultiSelectField\r\n                v-if=\"false\"\r\n                v-model=\"issueDescriptionFields\"\r\n                label=\"Request Fields\"\r\n                :is-searchable=\"true\"\r\n                :options=\"formFields\"\r\n                class=\"field\"\r\n              />\r\n\r\n              <SelectField\r\n                v-if=\"false\"\r\n                v-model=\"issueAssignee\"\r\n                label=\"Assignee\"\r\n                :is-searchable=\"true\"\r\n                :options=\"issueAssigneeUsers\"\r\n                class=\"field\"\r\n              />\r\n            </div>\r\n          </ValidationObserver>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          label=\"Create Issue\"\r\n          color=\"primary\"\r\n          @click=\"createJiraIssue\"\r\n        />\r\n      </template>\r\n    </Sheet>\r\n\r\n    <MetaDataEdit\r\n      :value=\"showMetaDataEditModal\"\r\n      :file=\"workflow\"\r\n      :repository-field=\"repositoryField\"\r\n      :file-data=\"fileData\"\r\n      :title=\"metaDataTitle || 'Index'\"\r\n      :columns=\"columns\"\r\n      :modal-value=\"workflowModel\"\r\n      :read-only=\"true\"\r\n      :upload-filename=\"uploadFilename\"\r\n      :meta-data-fields=\"metaDataModal\"\r\n      @close=\"closeMetaDataEditModal\"\r\n      @save=\"saveMetaData\"\r\n    />\r\n\r\n    <Sheet v-model=\"taskSheet\" width=\"30vw\" @input=\"closeTaskSheet\">\r\n      <!-- title -->\r\n\r\n      <template #title> Tasks </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #actions>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n        />\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'Add Task'\"\r\n          icon=\"mdi-plus\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"addTask()\"\r\n        />\r\n      </template>\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <template v-for=\"task in taskEntries\">\r\n          <div :key=\"task.id\" class=\"taskEntries\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div\r\n                  class=\"col-auto q-mr-md\"\r\n                  style=\"margin-top: 3px\"\r\n                  @click=\"viewTask(task.id)\"\r\n                >\r\n                  {{ task.name }}\r\n                </div>\r\n                <q-chip\r\n                  size=\"10px\"\r\n                  :color=\"getColor(task.priority)\"\r\n                  text-color=\"white\"\r\n                >\r\n                  {{ task.priority }}\r\n                </q-chip>\r\n                <q-chip\r\n                  size=\"10px\"\r\n                  :color=\"getColor(task.status)\"\r\n                  text-color=\"white\"\r\n                >\r\n                  {{ task.status }}\r\n                </q-chip>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"meta row\">\r\n              <div class=\"col-12\">Assigned To: {{ task.assigned }}</div>\r\n              <div class=\"col-12\">\r\n                Start Date: {{ $day.format(task.startDate, false) }}\r\n                <BaseIcon name=\"mdi-circle-small\" />\r\n                End Date: {{ $day.format(task.endDate, false) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </Sheet>\r\n\r\n    <AddTask\r\n      v-if=\"taskFormId\"\r\n      :value=\"addTaskSheet\"\r\n      :form-settings=\"addTaskForm.settings\"\r\n      :panels=\"addTaskForm.panels\"\r\n      :secondary-panels=\"addTaskForm.secondaryPanels\"\r\n      :form-id=\"taskFormId\"\r\n      :repository-id=\"taskRepositoryId\"\r\n      :task-model=\"selectedTask\"\r\n      :workflow-task=\"true\"\r\n      :mode=\"taskMode\"\r\n      @close=\"addTaskSheet = false\"\r\n      @addEntry=\"addTaskEntry\"\r\n    ></AddTask>\r\n\r\n    <ImportPopup\r\n      v-if=\"importExcel\"\r\n      :chip-button=\"true\"\r\n      :data-imported=\"dataImported\"\r\n      :form-id=\"String(masterFormId)\"\r\n      class=\"row items-center q-mr-xs\"\r\n      @upload=\"$refs.input.click()\"\r\n      @close=\"dataImported = false\"\r\n    />\r\n\r\n    <input\r\n      ref=\"input\"\r\n      type=\"file\"\r\n      accept=\".csv,.xls,.xlsx\"\r\n      class=\"hidden\"\r\n      @change=\"uploadFile\"\r\n    />\r\n\r\n    <Confirm\r\n      v-model=\"alertModal\"\r\n      icon=\"mdi-file-alert\"\r\n      icon-color=\"red\"\r\n      @input=\"closeAlertModal\"\r\n    >\r\n      <template #title>Documents Required!</template>\r\n\r\n      <template #default>\r\n        <div class=\"q-py-md text-md\">\r\n          <p>\r\n            Are you sure you want to submit the request without attaching the\r\n            required documents.\r\n          </p>\r\n\r\n          <!-- <p class=\"text-secondary\">\r\n            After submitting, you can upload the required documents from sent\r\n            list once you have them.\r\n          </p> -->\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          is-flat\r\n          label=\"no\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"closeAlertModal\"\r\n        />\r\n        <BaseButton label=\"yes\" color=\"primary\" @click=\"proceedSubmission\" />\r\n      </template>\r\n    </Confirm>\r\n\r\n    <EmailSharing\r\n      v-model=\"emailSharingSheet\"\r\n      :repository-id=\"workflow.repositoryId\"\r\n      :file-list.sync=\"selectedFileList\"\r\n    ></EmailSharing>\r\n\r\n    <FileDetails v-model=\"fileDetailsSheet\" :file-data=\"fileData\"></FileDetails>\r\n\r\n    <ProcessHistory\r\n      v-if=\"historyProcessId\"\r\n      :process-id=\"historyProcessId\"\r\n      :selected-process=\"selectedProcess\"\r\n      @close=\"historyProcessId = 0\"\r\n    />\r\n\r\n    <FormEntryHistory\r\n      v-if=\"showFormEntryHistoryModal\"\r\n      :value.sync=\"showFormEntryHistoryModal\"\r\n      :workflow-id=\"workflow.id\"\r\n      :process-id=\"selectedProcess.processId\"\r\n    />\r\n\r\n    <Attachments\r\n      v-if=\"showAttachmentSheet\"\r\n      :value.sync=\"showAttachmentSheet\"\r\n      :selected-process=\"selectedProcess\"\r\n      :workflow=\"workflow\"\r\n      :selected-node=\"selectedNode\"\r\n      :initiate-process=\"initiateProcess\"\r\n      :form-check-list=\"formCheckList\"\r\n      :check-list=\"checkList\"\r\n      :wform=\"wform\"\r\n      :repository-details=\"repositoryDetails\"\r\n      :workflow-model=\"workflowModel\"\r\n      :form-upload-files=\"formUploadFiles\"\r\n      :repository-field=\"repositoryField\"\r\n      :columns=\"columns\"\r\n      :attachments.sync=\"attachmentList\"\r\n      :workflow-id=\"workflow.id\"\r\n      @attachmentCount=\"attachmentCount\"\r\n    />\r\n\r\n    <Comments\r\n      v-if=\"showCommentsSheet\"\r\n      :value.sync=\"showCommentsSheet\"\r\n      :selected-process=\"selectedProcess\"\r\n      :workflow=\"workflow\"\r\n      :selected-node=\"selectedNode\"\r\n      :initiate-process=\"initiateProcess\"\r\n      :attachment-list=\"attachmentList\"\r\n      :workflow-id=\"workflow.id\"\r\n      :file-names=\"fileNames\"\r\n      :comments.sync=\"commentsList\"\r\n      :display-internal-public=\"displayInternalPublic\"\r\n      @commentsCount=\"commentsCount\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ValidationObserver, ValidationProvider } from \"vee-validate\";\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport RenderForm from \"@/components/common/render-form/RenderForm.vue\";\r\nimport {\r\n  workflow,\r\n  repository,\r\n  form,\r\n  integration,\r\n  custom,\r\n  menu,\r\n  transaction,\r\n  report,\r\n  uploadAndIndex,\r\n} from \"@/api/factory.js\";\r\nimport ImportPopup from \"@/components/common/display/item-actions/components/ImportPopup.vue\";\r\n\r\n//   repository,\r\n//   uploadAndIndex,\r\n//   integration,\r\n//   auth,\r\n//   menu,\r\nimport SignatureField from \"@/components/common/form/signature-field/SignatureField.vue\";\r\nimport axios from \"axios\";\r\nimport {\r\n  pdfSupport,\r\n  htmlSupport,\r\n  otherFilePDFSupport,\r\n  fileSupport,\r\n} from \"@/helpers/file-format.js\";\r\nimport formatBytes from \"@/helpers/format-bytes.js\";\r\nimport Modal from \"@/components/common/popup/Modal.vue\";\r\nimport ListItem from \"@/components/common/ListItem.vue\";\r\nimport MultiSelectField from \"@/components/common/form/select-field/MultiSelectField.vue\";\r\nimport FileIcon from \"@/components/common/FileIcon.vue\";\r\nimport MetaDataEdit from \"@/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit\";\r\nimport CheckboxField from \"@/components/common/form/checkbox-field/CheckboxField.vue\";\r\nimport TextAreaField from \"@/components/common/form/text-area-field/TextAreaField.vue\";\r\nimport TextField from \"@/components/common/form/text-field/TextField.vue\";\r\nimport SingleChoiceField from \"@/components/common/form/single-choice-field/SingleChoiceField.vue\";\r\nimport TextBuilderField from \"@/components/common/form/text-builder-field/TextBuilderField.vue\";\r\nimport Tabs from \"@/components/common/tabs/Tabs.vue\";\r\nimport AddTask from \"@/views/tasks/views/tasks-browse-and-trash/components/AddTask\";\r\nimport Confirm from \"@/components/common/popup/Confirm.vue\";\r\nimport EmailSharing from \"@/components/common/EmailSharing.vue\";\r\nimport FileDetails from \"../FileDetails\";\r\nimport ProcessHistory from \"@/components/common/workflow/ProcessHistory.vue\";\r\nimport { fileToBase64 } from \"@/helpers/file-to-base64.js\";\r\nimport { decrypt } from \"@/helpers/crypto\";\r\nimport { lowerCase } from \"lodash-es\";\r\n// import Stepper from \"@/components/common/workflow/Stepper.vue\";\r\nimport FormFieldLabel from \"@/components/common/form/FormFieldLabel.vue\";\r\nimport FormEntryHistory from \"@/components/common/workflow/FormEntryHistory.vue\";\r\nimport Attachments from \"@/components/common/workflow/Attachments.vue\";\r\nimport Comments from \"@/components/common/workflow/Comments.vue\";\r\n\r\nexport default {\r\n  name: \"SubWorkflowProcess\",\r\n\r\n  components: {\r\n    ValidationObserver,\r\n    ValidationProvider,\r\n    MultiSelectField,\r\n    FileIcon,\r\n    ListItem,\r\n    Sheet,\r\n    RenderForm,\r\n    Confirm,\r\n    SignatureField,\r\n    Modal,\r\n    MetaDataEdit,\r\n    CheckboxField,\r\n    TextAreaField,\r\n    TextField,\r\n    SingleChoiceField,\r\n    TextBuilderField,\r\n    Tabs,\r\n    AddTask,\r\n    ImportPopup,\r\n    EmailSharing,\r\n    FileDetails,\r\n    ProcessHistory,\r\n    // Stepper,\r\n    FormFieldLabel,\r\n    FormEntryHistory,\r\n    Attachments,\r\n    Comments,\r\n  },\r\n\r\n  props: {\r\n    workflowId: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n\r\n    initiateSubWorkflowProcess: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    mainWorkflowId: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n\r\n    mainProcessId: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n\r\n    subProcessLink: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n\r\n    selectedProcess: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    openSubProcess: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    mainFormFields: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    mainFormModel: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    portal: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    subProcessId: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      workflow: {},\r\n      workflowList: [],\r\n      initiate: false,\r\n      processSheet: false,\r\n      headerTitle: \"\",\r\n      formModel: {},\r\n      form: {},\r\n      formId: \"\",\r\n      formData: \"\",\r\n      actions: [],\r\n      processActionsAddOn: [],\r\n      workflowFormModel: {},\r\n      saveAction: \"\",\r\n      commentsList: [],\r\n      attachmentList: [],\r\n      initiateProcess: false,\r\n      signList: [],\r\n      formEditAccess: false,\r\n      formEditControls: [],\r\n      readonlyControls: [],\r\n      formVisibilityAccess: true,\r\n      formSecureControls: [],\r\n      repositoryDetails: {},\r\n      repositoryField: [],\r\n      formWidth: \"100vw\",\r\n      checkList: [],\r\n      stageLevel: [],\r\n      currentStep: 0,\r\n      commentActions: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Internal\",\r\n          value: 2,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Public\",\r\n          value: 1,\r\n        },\r\n      ],\r\n      commentAction: 2,\r\n      jiraCommentActions: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"This resource\",\r\n          value: 1,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"All resource\",\r\n          value: 2,\r\n        },\r\n      ],\r\n      jiraCommentAction: 1,\r\n      formFields: [],\r\n      checkListRowIndex: null,\r\n      requestPrefix: \"\",\r\n      mlPrediction: \"\",\r\n      advancedCommentsSheet: false,\r\n      advancedCommentText: \"\",\r\n      docWarning: false,\r\n      alertModal: false,\r\n      actionRemarks: false,\r\n      actionPassword: false,\r\n      actionPasswordConfirm: false,\r\n      actionUserPassword: \"\",\r\n      actionComments: false,\r\n      actionConfirm: false,\r\n      actionConfirmAlert: false,\r\n      showMetaDataEditModal: false,\r\n      selectedUploadFile: {},\r\n      workflowModel: {},\r\n      customVerify: false,\r\n      formCheckList: false,\r\n      reuploadFile: {},\r\n      documentActionList: [\r\n        // {\r\n        //   id: \"Email_Sharing\",\r\n        //   key: \"emailSharing\",\r\n        //   label: \"Email Sharing\",\r\n        //   icon: \"mdi-email-outline\",\r\n        // },\r\n        {\r\n          id: \"Download\",\r\n          key: \"download\",\r\n          label: \"Download\",\r\n          icon: \"mdi-download-outline\",\r\n        },\r\n        {\r\n          id: \"Print\",\r\n          key: \"print\",\r\n          label: \"Print\",\r\n          icon: \"eva-printer-outline\",\r\n        },\r\n      ],\r\n      scrollPosition: 0,\r\n      commentsLoad: null,\r\n      mailTransactionLoad: null,\r\n      documentLoad: null,\r\n      documentLoadList: [],\r\n      uploadFilename: \"\",\r\n      filterSearchColumn: {},\r\n      selectedFilterColumn: \"\",\r\n      watchViewerClose: null,\r\n      saveOnly: false,\r\n      wform: [],\r\n      userSignature: false,\r\n      dataValidationValues: [],\r\n      processForwardModal: false,\r\n      forwardUsers: [],\r\n      forwardGroups: [],\r\n      processForwardGroupAction: false,\r\n      selectedFilter: [],\r\n      filterBy: [],\r\n      attachmentLoad: null,\r\n      signImg: \"\",\r\n      selectAll: false,\r\n      emailSharingSheet: false,\r\n      selectedFileList: [],\r\n      fileDetailsSheet: false,\r\n      fileData: [],\r\n      jiraConnect: false,\r\n      jiraAccounts: [],\r\n      jiraIssueSheet: false,\r\n      issueName: \"\",\r\n      projectKey: \"\",\r\n      issueType: \"\",\r\n      issueDescription: \"\",\r\n      issueEpicValue: \"\",\r\n      issueAssignee: \"\",\r\n      issueAssigneeUsers: [],\r\n      issueDescriptionTable: false,\r\n      issueDescriptionFields: [],\r\n      jiraConfirmModal: false,\r\n      issueRef: {},\r\n      taskSheet: false,\r\n      itemModel: {},\r\n      errorMessage: \"\",\r\n      errorModal: false,\r\n      successModal: false,\r\n      selectedNode: \"\",\r\n      attachmentSheet: false,\r\n      commentsSheet: false,\r\n      // selectedProcess: {},\r\n      processId: 0,\r\n      tabs: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"attachments\",\r\n          value: \"ATTACHMENTS\",\r\n          icon: \"mdi-attachment\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"comments\",\r\n          value: \"COMMENTS\",\r\n          icon: \"mdi-comment-text-outline\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"mail transaction\",\r\n          value: \"MAIL\",\r\n          icon: \"mdi-email-outline\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"history\",\r\n          value: \"HISTORY\",\r\n          icon: \"mdi-history\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"print\",\r\n          value: \"PRINT\",\r\n          icon: \"mdi-printer\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"task\",\r\n          value: \"TASK\",\r\n          icon: \"eva-cube-outline\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Form Entry History\",\r\n          value: \"FORM_ENTRY_HISTORY\",\r\n          icon: \"mdi-file-document\",\r\n          count: 0,\r\n        },\r\n      ],\r\n      taskEntries: [],\r\n      addTaskEnabled: false,\r\n      mailTab: \"OUTGOING\",\r\n      mailTransactionSheet: false,\r\n      commentText: \"\",\r\n      mailTransactionList: [],\r\n      mailAttachmentSheet: false,\r\n      mailAttachmentList: [],\r\n      fileSheet: false,\r\n      selectedFile: {},\r\n      mailTabs: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"outgoing\",\r\n          value: \"OUTGOING\",\r\n          count: 0,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"incoming\",\r\n          value: \"INCOMING\",\r\n          count: 0,\r\n        },\r\n      ],\r\n      userList: [],\r\n      groupList: [],\r\n      refreshTree: true,\r\n      loadInitial: true,\r\n      customReply: false,\r\n      userReply: false,\r\n      toRequester: false,\r\n      customCloseProcessSheet: false,\r\n      approvalTypes: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Approve\",\r\n          value: \"Approved\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Cancel\",\r\n          value: \"Cancelled\",\r\n        },\r\n      ],\r\n      activeViewLoad: null,\r\n      hideColumns: [],\r\n      columns: [],\r\n      generatePDF: 0,\r\n      documentRequired: false,\r\n      hasSelectedProcess: 0,\r\n      hasSelectedWorkflow: 0,\r\n      taskFormId: 0,\r\n      taskRepositoryId: 0,\r\n      addTaskForm: {},\r\n      addTaskSheet: false,\r\n      taskEntryId: [],\r\n      taskEntryList: [],\r\n      taskMode: \"\",\r\n      selectedTask: {},\r\n      importExcel: false,\r\n      masterFormId: 0,\r\n      dataImported: false,\r\n      sameFormFields: [],\r\n      historyProcessId: 0,\r\n      attachComment: false,\r\n      fileNames: [],\r\n      selectedFileForAttach: 0,\r\n      displayInternalPublic: false,\r\n      formUploadFiles: [],\r\n      mandatory: {},\r\n      fileControlDeleteFile: [],\r\n      hasCheckFormValidate: false,\r\n      fileUploadForControl: false,\r\n      fileUploadInput: {},\r\n      metaDataUpdate: false,\r\n      metaDataModal: {},\r\n      metaDataTitle: \"\",\r\n      requestFormData: [],\r\n      formView: true,\r\n      showFormEntryHistoryModal: false,\r\n      showAttachmentSheet: false,\r\n      showCommentsSheet: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    formName() {\r\n      if (!this.formId) {\r\n        return \"\";\r\n      }\r\n\r\n      return this.form.settings.general.name;\r\n    },\r\n\r\n    formDescription() {\r\n      if (!this.formId) {\r\n        return \"\";\r\n      }\r\n\r\n      return this.form.settings.general.description;\r\n    },\r\n\r\n    panels() {\r\n      if (!this.formId) {\r\n        return [];\r\n      }\r\n\r\n      return this.form.panels;\r\n    },\r\n\r\n    secondaryPanels() {\r\n      if (!this.formId) {\r\n        return [];\r\n      }\r\n\r\n      return this.form.secondaryPanels;\r\n    },\r\n\r\n    formSettings() {\r\n      if (!this.formId) {\r\n        return {};\r\n      }\r\n      return this.form.settings;\r\n    },\r\n\r\n    selectedFileCount() {\r\n      let count = this.attachmentList.filter((item) => item.checked).length;\r\n      return count;\r\n    },\r\n\r\n    isSelectedPDF() {\r\n      let filePDF = true;\r\n      this.attachmentList.forEach((item) => {\r\n        let ext = item.name.split(\".\").pop();\r\n        if (item.checked && ext.toLowerCase() !== \"pdf\") {\r\n          filePDF = false;\r\n        }\r\n      });\r\n      return filePDF;\r\n    },\r\n\r\n    isMaximized() {\r\n      return this.formWidth === \"100vw\";\r\n    },\r\n\r\n    _enableControls() {\r\n      let enableControls = [];\r\n      let listControls = [];\r\n      if (this.panels) {\r\n        this.panels.forEach((panel) => {\r\n          if (panel.fields.length) {\r\n            let panelFields = panel.fields.filter(\r\n              (field) =>\r\n                field.type === \"SINGLE_SELECT\" ||\r\n                field.type === \"SINGLE_CHOICE\" ||\r\n                field.type === \"MULTIPLE_CHOICE\" ||\r\n                field.type === \"MULTI_SELECT\"\r\n            );\r\n            if (panelFields.length) {\r\n              panelFields.forEach((row) => {\r\n                if (row.settings.validation.enableSettings) {\r\n                  if (row.settings.validation.enableSettings.length) {\r\n                    let controls = [];\r\n                    row.settings.validation.enableSettings.forEach((tblrow) => {\r\n                      if (tblrow.controls.length) {\r\n                        controls.push({\r\n                          value: tblrow.value,\r\n                          childControls: tblrow.controls,\r\n                        });\r\n                        tblrow.controls.forEach((control) => {\r\n                          if (controls.indexOf(control) < 0) {\r\n                            listControls.push(control);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                    if (controls.length) {\r\n                      enableControls.push({\r\n                        id: row.id,\r\n                        parentControls: controls,\r\n                      });\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      return {\r\n        listControls: listControls,\r\n        controls: enableControls,\r\n      };\r\n    },\r\n\r\n    isCustomizedWorkflow() {\r\n      let origin = location.origin;\r\n      if (\r\n        origin === \"https://demo.ezofis.com\" ||\r\n        origin === \"http://52.172.32.88\"\r\n      ) {\r\n        if (this.workflow.id === 1014) {\r\n          return true;\r\n        }\r\n      } else if (\r\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n        origin === \"https://ag-appsvc05.azurewebsites.net\" ||\r\n        (origin === \"https://trial.ezofis.com\" &&\r\n          this.$store.state.session.tenantId === 12)\r\n      ) {\r\n        if (this.workflow.id === 1) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    outgoingMails() {\r\n      return this.mailTransactionList.filter(\r\n        (row) => row.emailType === \"Outgoing\"\r\n      );\r\n    },\r\n\r\n    incomingMails() {\r\n      return this.mailTransactionList.filter(\r\n        (row) => row.emailType === \"Incoming\"\r\n      );\r\n    },\r\n\r\n    commentsSheetHeight() {\r\n      if (\r\n        this.selectedNode === \"inbox\" ||\r\n        this.selectedNode === \"payment\" ||\r\n        this.selectedNode === \"common\"\r\n      ) {\r\n        if (this.checkCommentsOption()) {\r\n          if (this.attachmentList.length && this.fileNames.length) {\r\n            if (this.attachComment && this.displayInternalPublic) {\r\n              return \"calc(100vh - 240px)\";\r\n            } else if (this.attachComment && !this.displayInternalPublic) {\r\n              return \"calc(100vh - 200px)\";\r\n            } else if (!this.attachComment && this.displayInternalPublic) {\r\n              return \"calc(100vh - 225px)\";\r\n            } else {\r\n              return \"calc(100vh - 190px)\";\r\n            }\r\n          } else if (this.displayInternalPublic) {\r\n            return \"calc(100vh - 190px)\";\r\n          } else {\r\n            return \"calc(100vh - 150px)\";\r\n          }\r\n        } else {\r\n          return \"calc(100vh - 150px)\";\r\n        }\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    mandatoryDocument() {\r\n      return this.checkList.filter((row) => row.required && !row.attach);\r\n    },\r\n\r\n    mandatoryFilling() {\r\n      if (this.mandatory.filledValue && this.mandatory.nonFilledValue) {\r\n        return Math.floor(\r\n          (this.mandatory.filledValue /\r\n            (this.mandatory.filledValue + this.mandatory.nonFilledValue)) *\r\n            100\r\n        );\r\n      } else if (this.mandatory.filledValue) {\r\n        return 100;\r\n      }\r\n      return 0;\r\n    },\r\n\r\n    request() {\r\n      return this.selectedProcess;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    workflowFormModel: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler() {\r\n        if (this.workflowFormModel && this.saveAction) {\r\n          if (this.initiateProcess) {\r\n            this.checkRequiredDocument();\r\n            //this.initiateRequest();\r\n          } else {\r\n            this.checkRequiredDocument();\r\n          }\r\n        }\r\n      },\r\n    },\r\n\r\n    attachmentSheet: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.attachmentSheet && this.selectedProcess.processId) {\r\n          if (this.attachmentList.length) {\r\n            let index = this.attachmentList.length - 1;\r\n            this.getFileData(this.attachmentList[index], \"file\");\r\n          }\r\n          this.attachmentLoad = setInterval(() => {\r\n            this.getAttachments();\r\n          }, 15000);\r\n        } else {\r\n          clearInterval(this.attachmentLoad);\r\n        }\r\n      },\r\n    },\r\n\r\n    commentsSheet: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.commentsSheet && this.selectedProcess.processId) {\r\n          this.commentsLoad = setInterval(() => {\r\n            this.getComments(this.workflowId, this.selectedProcess.processId);\r\n          }, 30000);\r\n        } else {\r\n          clearInterval(this.commentsLoad);\r\n        }\r\n      },\r\n    },\r\n\r\n    mailTransactionSheet: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.mailTransactionSheet && this.selectedProcess.processId) {\r\n          this.mailTransactionLoad = setInterval(() => {\r\n            this.getMailTransactions();\r\n          }, 30000);\r\n        } else {\r\n          clearInterval(this.mailTransactionLoad);\r\n        }\r\n      },\r\n    },\r\n\r\n    taskEntries: {\r\n      immediate: true,\r\n      handler() {\r\n        this.tabs.find((tab) => {\r\n          if (tab.value === \"TASK\") {\r\n            tab.count = this.taskEntries.length;\r\n          }\r\n        });\r\n      },\r\n    },\r\n\r\n    workflowId: {\r\n      immediate: true,\r\n      handler() {\r\n        // this.getWorkflow();\r\n      },\r\n    },\r\n\r\n    initiateSubWorkflowProcess: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.initiateSubWorkflowProcess) {\r\n          this.getWorkflow();\r\n        }\r\n      },\r\n    },\r\n\r\n    processSheet() {\r\n      this.fileData = [];\r\n      this.workflowModel = {};\r\n      // if (this.selectedProcess.processId) {\r\n      //   this.getAttachments();\r\n      // }\r\n    },\r\n\r\n    dataValidationValues: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler() {\r\n        this.customVerify = false;\r\n        if (this.dataValidationValues.length) {\r\n          let dataVerify = this.dataValidationValues.filter(\r\n            (row) => row.status !== \"Matched\" && row.status !== \"Verified\"\r\n          );\r\n          if (dataVerify.length) {\r\n            this.customVerify = true;\r\n          }\r\n        }\r\n      },\r\n    },\r\n\r\n    customCloseProcessSheet: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler() {\r\n        // this.closeProcessSheet();\r\n      },\r\n    },\r\n\r\n    subProcessLink() {\r\n      if (this.subProcessLink) {\r\n        this.selectedNode = \"sent\";\r\n        this.showLinks(this.subProcessLink);\r\n      }\r\n    },\r\n\r\n    openSubProcess: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.openSubProcess) {\r\n          this.formId = \"\";\r\n          this.formView = false;\r\n          if (this.selectedProcess.inbox) {\r\n            this.formView = true;\r\n            this.getWorkflow();\r\n          } else {\r\n            this.getWorkflow(\"process\");\r\n          }\r\n        }\r\n      },\r\n    },\r\n\r\n    selectedProcess: {\r\n      deep: true,\r\n      handler() {\r\n        if (this.selectedProcess.processId) {\r\n          this.getAttachments(this.workflowId, this.selectedProcess.processId);\r\n          this.getComments(this.workflowId, this.selectedProcess.processId);\r\n        }\r\n      },\r\n    },\r\n\r\n    workflowModel: {\r\n      // immediate: true,\r\n      deep: true,\r\n      handler() {\r\n        this.sameFormFields.forEach((item) => {\r\n          // console.log(item.name, item.value);\r\n\r\n          if (item.value) {\r\n            this.workflowModel[item.name] = item.value;\r\n          }\r\n        });\r\n      },\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getTaskForm();\r\n  },\r\n\r\n  methods: {\r\n    isTenantArmgroup() {\r\n      let origin = location.origin;\r\n      if (\r\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n      ) {\r\n        this.commentAction = 2;\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    checkTabAccess(value) {\r\n      if (this.portal) {\r\n        if (value === \"ATTACHMENTS\" || value === \"COMMENTS\") {\r\n          return true;\r\n        }\r\n        return false;\r\n      } else {\r\n        if (value === \"TASK\") {\r\n          return this.addTaskEnabled;\r\n        } else if (value === \"VALIDATION\") {\r\n          if (this.isTenantArmgroup()) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else if (value === \"FORM_ENTRY_HISTORY\") {\r\n          if (this.formId) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n\r\n    reset() {\r\n      this.headerTitle = \"\";\r\n      this.mandatory = {};\r\n      this.actions = [];\r\n      this.processActionsAddOn = [];\r\n      this.form = {};\r\n      this.formId = \"\";\r\n      this.formFields = [];\r\n      this.tabs.find((tab) => {\r\n        tab.count = 0;\r\n      });\r\n      this.taskEntries = [];\r\n      this.commentsList = [];\r\n      this.attachmentList = [];\r\n      this.initiateProcess = true;\r\n      this.formModel = {};\r\n      this.signList = [];\r\n      this.formEditAccess = false;\r\n      this.formEditControls = [];\r\n      this.readonlyControls = [];\r\n      this.formVisibilityAccess = true;\r\n      this.formSecureControls = [];\r\n      this.importExcel = false;\r\n    },\r\n\r\n    async getWorkflow(process) {\r\n      this.reset();\r\n      this.processSheet = true;\r\n      this.$store.commit(\"showLoadingBarSave\");\r\n      const { error, payload } = await workflow.getWorkflow(this.workflowId);\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.workflow = payload;\r\n      if (process) {\r\n        this.selectedNode = \"sent\";\r\n      } else {\r\n        this.selectedNode = \"inbox\";\r\n      }\r\n      if (this.selectedProcess.inbox) {\r\n        await this.openProcess(false);\r\n      } else {\r\n        await this.openProcess(process ? false : true);\r\n      }\r\n      this.$store.commit(\"hideLoadingBarSave\");\r\n    },\r\n\r\n    closeProcessSheet() {\r\n      this.processSheet = false;\r\n      this.saveAction = \"\";\r\n      this.workflowFormModel = {};\r\n      this.requestFormData = [];\r\n      this.formView = true;\r\n      this.$emit(\"closeProcessSheet\");\r\n      //   this.$emit(\"update:fullView\", false);\r\n    },\r\n\r\n    getLabel(fieldId) {\r\n      let controlLabel = \"\";\r\n      if (Object.keys(this.form).length) {\r\n        this.form.panels.forEach((panel) => {\r\n          if (!panel.fields.length) {\r\n            return;\r\n          }\r\n          let field = panel.fields.find((field) => field.id === fieldId);\r\n          if (field) {\r\n            controlLabel = field.label ? field.label : field.type;\r\n            return;\r\n          }\r\n        });\r\n      }\r\n      return controlLabel;\r\n    },\r\n\r\n    async openProcess(initiate = false) {\r\n      this.getRepository();\r\n\r\n      if (initiate) {\r\n        // this.selectedProcess = {};\r\n\r\n        let wflowJson = JSON.parse(this.workflow.flowJson);\r\n        let startBlock = wflowJson.blocks.find(\r\n          (block) => block.type === \"START\"\r\n        );\r\n        console.log(startBlock.settings.fileSettings);\r\n\r\n        if (startBlock.settings.fileSettings) {\r\n          if (startBlock.settings.fileSettings.fileCheckList.length) {\r\n            this.checkList = startBlock.settings.fileSettings.fileCheckList;\r\n            this.checkList.forEach((row) => {\r\n              row.uid = this.$nano.id();\r\n              row.attach = false;\r\n            });\r\n          }\r\n        }\r\n        if (startBlock) {\r\n          if (startBlock.settings.initiateMode === \"MANUAL\") {\r\n            this.headerTitle = `${startBlock.settings.label}`;\r\n            let rules = wflowJson.rules.find(\r\n              (rule) => rule.fromBlockId === startBlock.id\r\n            );\r\n            if (rules) {\r\n              this.actions.push(rules.proceedAction);\r\n            }\r\n          } else if (startBlock.settings.initiateMode === \"MANUAL_AUTOMATIC\") {\r\n            if (\r\n              startBlock.settings.users.indexOf(this.$store.state.session.id) >\r\n                -1 ||\r\n              startBlock.settings.users.indexOf(\"0\") > -1\r\n            ) {\r\n              if (startBlock.settings.initiateBy.indexOf(\"MASTER_FORM\") > -1) {\r\n                this.importExcel = true;\r\n                //   this.$emit(\r\n                //     \"update:masterFormId\",\r\n                //     startBlock.settings.masterFormId\r\n                //   );\r\n                this.masterFormId = startBlock.settings.masterFormId;\r\n              }\r\n            }\r\n          }\r\n          this.generatePDF = startBlock.settings.generatePDF ? 1 : 0;\r\n          this.documentRequired = startBlock.settings.documentRequired || false;\r\n          if (startBlock.settings.formEditAccess) {\r\n            if (startBlock.settings.formEditAccess === \"\") {\r\n              this.formEditAccess = true;\r\n              this.formEditControls = [];\r\n            } else if (startBlock.settings.formEditAccess === \"FULL\") {\r\n              this.formEditAccess = false;\r\n              this.formEditControls = [];\r\n            } else if (startBlock.settings.formEditAccess === \"PARTIAL\") {\r\n              this.formEditAccess = false;\r\n              this.formEditControls = startBlock.settings.formEditControls;\r\n            }\r\n          }\r\n          if (startBlock.settings.formVisibilityAccess) {\r\n            this.formVisibilityAccess = true;\r\n            this.formSecureControls = [];\r\n          } else {\r\n            this.formVisibilityAccess = false;\r\n            this.formSecureControls = startBlock.settings.formSecureControls;\r\n          }\r\n\r\n          if (startBlock.settings.fileSettings) {\r\n            if (startBlock.settings.fileSettings.fileCheckList.length) {\r\n              let documentCheckList =\r\n                startBlock.settings.fileSettings.fileCheckList;\r\n              documentCheckList.forEach((row) => {\r\n                row.uid = this.$nano.id();\r\n                row.attach = false;\r\n              });\r\n              this.docWarning = startBlock.settings.fileSettings.partial;\r\n              // if (documentCheckList.length) {\r\n              //   documentCheckList.forEach((row) => {\r\n              //     if (row.required && !row.attach) {\r\n              //       this.docWarning = true;\r\n              //     }\r\n              //   });\r\n              // }\r\n\r\n              this.checkList = documentCheckList;\r\n            }\r\n          } else {\r\n            this.checkList = [];\r\n          }\r\n        }\r\n      } else {\r\n        // this.showHistoryStepper(\r\n        //   this.selectedProcess.processId,\r\n        //   this.selectedProcess.id\r\n        // );\r\n        this.getFormDetails();\r\n        if (\r\n          this.selectedNode === \"inbox\" ||\r\n          this.selectedNode === \"common\" ||\r\n          this.selectedNode === \"payment\"\r\n        ) {\r\n          this.formEditAccess = false;\r\n          let wflowJson = JSON.parse(this.workflow.flowJson);\r\n\r\n          let actionBlock = wflowJson.blocks.find(\r\n            (block) => block.id === this.selectedProcess.activityId\r\n          );\r\n          if (actionBlock) {\r\n            if (actionBlock.settings.formEditAccess === \"\") {\r\n              this.formEditAccess = true;\r\n              this.formEditControls = [];\r\n            } else if (actionBlock.settings.formEditAccess === \"FULL\") {\r\n              this.formEditAccess = false;\r\n              this.formEditControls = [];\r\n            } else if (actionBlock.settings.formEditAccess === \"PARTIAL\") {\r\n              this.formEditAccess = false;\r\n              this.formEditControls = actionBlock.settings.formEditControls;\r\n            }\r\n            if (actionBlock.settings.formVisibilityAccess) {\r\n              this.formVisibilityAccess = true;\r\n              this.formSecureControls = [];\r\n            } else {\r\n              this.formVisibilityAccess = false;\r\n              this.formSecureControls = actionBlock.settings.formSecureControls;\r\n            }\r\n\r\n            if (\r\n              wflowJson.settings.general.processNumberPrefix.indexOf(\"[\") > -1\r\n            ) {\r\n              let requestNumberFormat = JSON.parse(\r\n                wflowJson.settings.general.processNumberPrefix\r\n              );\r\n              this.readonlyControls = [];\r\n              let requestColumn = requestNumberFormat.filter(\r\n                (row) => row.key === \"formColumn\"\r\n              );\r\n              if (requestColumn.length) {\r\n                requestColumn.forEach((row) => {\r\n                  this.readonlyControls.push(row.value);\r\n                  if (this.formEditControls.indexOf(row.value) > -1) {\r\n                    this.formEditControls.splice(\r\n                      this.formEditControls.indexOf(row.value),\r\n                      1\r\n                    );\r\n                  }\r\n                });\r\n              }\r\n            }\r\n\r\n            if (actionBlock.settings.fileSettings) {\r\n              if (actionBlock.settings.fileSettings.fileCheckList.length) {\r\n                let documentCheckList =\r\n                  actionBlock.settings.fileSettings.fileCheckList;\r\n                documentCheckList.forEach((row) => {\r\n                  row.uid = this.$nano.id();\r\n                  row.attach = false;\r\n                });\r\n                this.docWarning = actionBlock.settings.fileSettings.partial;\r\n                // if (documentCheckList.length) {\r\n                //   documentCheckList.forEach((row) => {\r\n                //     if (row.required && !row.attach) {\r\n                //       this.docWarning = true;\r\n                //     }\r\n                //   });\r\n                // }\r\n                this.checkList = documentCheckList;\r\n              }\r\n              wflowJson.rules.forEach((rule) => {\r\n                if (rule.fromBlockId === this.selectedProcess.activityId) {\r\n                  if (this.actions.indexOf(rule.proceedAction) < 0) {\r\n                    this.actions.push(rule.proceedAction);\r\n                    this.processActionsAddOn.push({\r\n                      action: rule.proceedAction,\r\n                      remarks: rule.remarks || false,\r\n                      passwordAccess: rule.passwordAccess || false,\r\n                      confirm: rule.confirm || false,\r\n                    });\r\n                  }\r\n                }\r\n              });\r\n            } else {\r\n              this.checkList = [];\r\n            }\r\n          }\r\n        } else {\r\n          this.formEditAccess = true;\r\n        }\r\n        this.initiateProcess = false;\r\n        this.getModel(this.selectedProcess.processId);\r\n        let origin = location.origin;\r\n        if (\r\n          origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\" ||\r\n          (origin === \"https://trial.ezofis.com\" &&\r\n            this.$store.state.session.tenantId === 12)\r\n        ) {\r\n          this.dataValidation(this.selectedProcess.processId, false);\r\n        }\r\n\r\n        if (\r\n          origin === \"https://edmsuat.sobhaapps.com\" &&\r\n          this.workflow.id === 55\r\n        ) {\r\n          this.formEditAccess = true;\r\n        }\r\n        this.loadProcessLinks();\r\n      }\r\n      if (this.workflow.wFormId) {\r\n        this.formId = String(this.workflow.wFormId);\r\n        await this.getForm(initiate, this.workflow.wFormId);\r\n        // this.form = JSON.parse(this.wform.formJson);\r\n        // if (!initiate) {\r\n        //   if (this.form.settings.general.layout === \"CARD\") {\r\n        //     this.form.settings.general.layout = \"TAB\";\r\n        //   }\r\n        // }\r\n      }\r\n    },\r\n\r\n    async getFormDetails() {\r\n      this.$store.commit(\"showLoadingBarPage\");\r\n      let id = this.selectedProcess.requestNo;\r\n      const { error, payload } = await report.getWorkflowData(\r\n        this.selectedProcess.id,\r\n        {\r\n          filterBy: [\r\n            {\r\n              groupCondition: \"\",\r\n              filters: [\r\n                {\r\n                  criteria: \"requestNo\",\r\n                  condition: \"IS_EQUALS_TO\",\r\n                  value: id,\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n          currentPage: 1,\r\n          itemsPerPage: 10,\r\n          mode: \"\",\r\n        }\r\n      );\r\n      const { data } = payload;\r\n      this.$store.commit(\"hideLoadingBarPage\");\r\n      let formList = data || [];\r\n      if (formList[0].value[0].formData) {\r\n        let keys = Object.keys(formList[0].value[0].formData.fields);\r\n        let newValues = {};\r\n        keys.forEach((key) => {\r\n          newValues[key] = this.validateTypeValue(\r\n            formList[0].value[0].formData.fields[key]\r\n          );\r\n        });\r\n        this.requestFormData = formList;\r\n        this.formModel = formList[0].value[0].formData.fields;\r\n      }\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n    },\r\n\r\n    async getRepository() {\r\n      const { error, payload } = await repository.getRepository(\r\n        this.workflow.repositoryId\r\n      );\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.repositoryDetails = payload;\r\n      this.repositoryField = payload.fields;\r\n    },\r\n\r\n    async getAttachments(workflowId = 0, processId = 0) {\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"ATTACHMENTS\") {\r\n          tab.count = 0;\r\n        }\r\n      });\r\n      let count = this.attachmentList.length;\r\n\r\n      if (!workflowId && !processId) {\r\n        workflowId = this.workflow.id;\r\n        processId = this.selectedProcess.processId;\r\n      }\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getAttachments(\r\n        workflowId,\r\n        processId\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        if (count !== payload.length) {\r\n          this.attachmentList = payload.map((item) => {\r\n            return {\r\n              ...item,\r\n              checked: false,\r\n            };\r\n          });\r\n          //clearInterval(this.attachmentLoad);\r\n        }\r\n        this.tabs.find((tab) => {\r\n          if (tab.value === \"ATTACHMENTS\") {\r\n            tab.count = this.attachmentList.length;\r\n          }\r\n        });\r\n      } else {\r\n        this.attachmentList = [];\r\n      }\r\n      if (this.checkList.length) {\r\n        this.checkList.forEach((row) => {\r\n          let filterAttach = this.attachmentList.filter((file) => {\r\n            let filename = file.name.substr(0, file.name.lastIndexOf(\".\"));\r\n            if (row.name === filename || row.name === filename.split(\"_\")[0]) {\r\n              return file;\r\n            }\r\n          });\r\n          if (filterAttach.length) {\r\n            row.attach = true;\r\n          } else {\r\n            row.attach = false;\r\n          }\r\n        });\r\n        let origin = location.origin;\r\n        if (\r\n          origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\" ||\r\n          (origin === \"https://trial.ezofis.com\" &&\r\n            this.$store.state.session.tenantId === 12)\r\n        ) {\r\n          this.formCheckList = true;\r\n        }\r\n      }\r\n\r\n      this.$emit(\"attachmentLength\", this.attachmentList.length);\r\n    },\r\n\r\n    async getForm(initiate) {\r\n      //this.$store.commit(\"showLoadingBarPage\");\r\n      const { error, payload } = await form.getForm(this.formId);\r\n      //this.$store.commit(\"hideLoadingBarPage\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload) {\r\n        this.wform = payload;\r\n\r\n        this.form = JSON.parse(this.wform.formJson);\r\n        if (!initiate) {\r\n          if (this.form.settings.general.layout === \"CARD\") {\r\n            this.form.settings.general.layout = \"TAB\";\r\n          }\r\n        }\r\n\r\n        //if (initiate) {\r\n        let formJson = JSON.parse(this.wform.formJson);\r\n        const panels = [...formJson.panels, ...formJson.secondaryPanels];\r\n\r\n        if (!panels.length) {\r\n          return;\r\n        }\r\n        let fields = [];\r\n        for (const panel of panels) {\r\n          fields.push(...panel.fields);\r\n        }\r\n\r\n        fields.forEach((field) => {\r\n          if (\r\n            field.type !== \"DIVIDER\" &&\r\n            field.type !== \"LABEL\" &&\r\n            field.type !== \"PARAGRAPH\" &&\r\n            (field.label || field.type === \"TABLE\") &&\r\n            field.settings.general.visibility !== \"DISABLE\"\r\n          ) {\r\n            this.formFields.push({\r\n              id: this.$nano.id(),\r\n              label: field.label || field.type,\r\n              value: field.id,\r\n              type: field.type,\r\n              settings: field.settings,\r\n            });\r\n          }\r\n        });\r\n        this.sameFormFields = [];\r\n\r\n        this.mainFormFields.forEach((main) => {\r\n          let index = this.formFields.findIndex((sub) => {\r\n            return main.label === sub.label;\r\n          });\r\n          if (index > -1) {\r\n            this.sameFormFields.push({\r\n              id: this.$nano.id(),\r\n              index: index,\r\n              label: main.label,\r\n              name: this.formFields[index].value,\r\n              value: this.mainFormModel[main.value],\r\n            });\r\n          }\r\n        });\r\n        //}\r\n      }\r\n    },\r\n\r\n    signLink(id) {\r\n      return `${process.env.VUE_APP_API_URL}/workflow/signView/${this.$store.state.session.tenantId}/${this.workflow.id}/${id}`;\r\n    },\r\n\r\n    itemLink() {\r\n      let origin = location.origin.replace(\r\n        \"http://localhost:8080\",\r\n        \"http://52.172.32.88\"\r\n      );\r\n      if (\r\n        this.selectedNode === \"inbox\" ||\r\n        this.selectedNode === \"common\" ||\r\n        this.selectedNode === \"payment\"\r\n      ) {\r\n        if (\r\n          origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n        ) {\r\n          return `https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`;\r\n        } else if (origin === \"https://trial.ezofis.com\") {\r\n          return `https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=all`;\r\n        } else {\r\n          return `${origin}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.itemModel.name}&action=all`;\r\n        }\r\n      } else {\r\n        if (\r\n          origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n        ) {\r\n          return `https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}`;\r\n        } else if (origin === \"https://trial.ezofis.com\") {\r\n          return `https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`;\r\n        } else {\r\n          return `${origin}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.itemModel.repositoryId}&itemId=${this.itemModel.itemId}&type=2&filename=${this.itemModel.name}&action=download,print`;\r\n        }\r\n      }\r\n    },\r\n\r\n    openFile(fileObj) {\r\n      if (!fileObj.loading) {\r\n        this.selectedFile = fileObj;\r\n        let origin = location.origin;\r\n        if (\r\n          origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n        ) {\r\n          window.open(this.fileLink());\r\n        } else {\r\n          this.fileSheet = true;\r\n        }\r\n      } else {\r\n        this.$alert.info(\"Please wait to complete the uploading\");\r\n      }\r\n    },\r\n\r\n    closeAttachmentsSheet() {\r\n      this.attachmentSheet = false;\r\n    },\r\n\r\n    closeCommentsSheet() {\r\n      this.closeCommnetsSheet = false;\r\n    },\r\n\r\n    closeMetaDataEditModal() {\r\n      this.showMetaDataEditModal = false;\r\n      this.$refs.attachments.value = null;\r\n    },\r\n\r\n    async showLinks(tab) {\r\n      if (tab === \"ATTACHMENTS\") {\r\n        // this.attachmentSheet = true;\r\n        this.showAttachmentSheet = true;\r\n      } else if (tab === \"COMMENTS\") {\r\n        this.displayInternalPublic = false;\r\n        if (!this.portal) {\r\n          let wflowJson = JSON.parse(this.workflow.flowJson);\r\n          let startBlock = wflowJson.blocks.find(\r\n            (block) => block.type === \"START\"\r\n          );\r\n          if (startBlock) {\r\n            if (startBlock.settings.initiateBy.indexOf(\"PORTAL\") > -1) {\r\n              this.displayInternalPublic = true;\r\n            }\r\n          }\r\n          this.fileNames = [];\r\n          this.fileNames = this.attachmentList\r\n            .filter((item) => {\r\n              let extension = item.name.split(\".\").pop().toUpperCase();\r\n\r\n              return extension.toLowerCase() === \"pdf\";\r\n            })\r\n            .map((item) => {\r\n              return {\r\n                id: this.$nano.id(),\r\n                label: item.name,\r\n                value: item.id,\r\n              };\r\n            });\r\n        }\r\n        // this.commentsSheet = true;\r\n        this.showCommentsSheet = true;\r\n      } else if (tab === \"HISTORY\" && this.selectedProcess.processId) {\r\n        this.historyProcessId = this.selectedProcess.processId;\r\n      } else if (tab === \"PRINT\") {\r\n        if (this.selectedProcess.formData) {\r\n          window.open(\r\n            `${process.env.VUE_APP_API_URL}/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflow.id}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`\r\n          );\r\n        } else if (this.selectedProcess.itemData) {\r\n          window.open(\r\n            `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`\r\n          );\r\n        }\r\n        //window.print();\r\n      } else if (tab === \"TASK\") {\r\n        if (this.taskEntries.length) {\r\n          this.taskSheet = true;\r\n        } else {\r\n          this.addTask();\r\n        }\r\n      } else if (tab === \"MAIL\") {\r\n        this.getMailTransactions();\r\n        this.mailTransactionSheet = true;\r\n      } else if (tab === \"FORM_ENTRY_HISTORY\") {\r\n        this.showFormEntryHistoryModal = true;\r\n      }\r\n    },\r\n\r\n    lastActionDuration(request) {\r\n      const date =\r\n        request.transaction_createdAt instanceof Date\r\n          ? request.transaction_createdAt\r\n          : new Date(request.transaction_createdAt);\r\n      const formatter = new Intl.RelativeTimeFormat(\"en\");\r\n      const ranges = {\r\n        years: 3600 * 24 * 365,\r\n        months: 3600 * 24 * 30,\r\n        weeks: 3600 * 24 * 7,\r\n        days: 3600 * 24,\r\n        hours: 3600,\r\n        minutes: 60,\r\n        seconds: 1,\r\n      };\r\n      const secondsElapsed = (date.getTime() - Date.now()) / 1000;\r\n      for (let key in ranges) {\r\n        if (ranges[key] < Math.abs(secondsElapsed)) {\r\n          const delta = secondsElapsed / ranges[key];\r\n          return formatter.format(Math.round(delta), key);\r\n        }\r\n      }\r\n    },\r\n\r\n    validateTypeValue(value) {\r\n      if (value) {\r\n        try {\r\n          var jsonConvert = JSON.parse(value);\r\n          if (typeof jsonConvert === \"object\") {\r\n            return jsonConvert;\r\n          }\r\n        } catch (e) {\r\n          return value;\r\n        }\r\n      }\r\n      return value;\r\n    },\r\n\r\n    validateType(key) {\r\n      let fieldType = \"\";\r\n      if (this.panels) {\r\n        if (this.panels.length) {\r\n          this.panels.forEach((panel) => {\r\n            if (!panel.fields.length) {\r\n              return;\r\n            }\r\n            let formField = panel.fields.find((field) => field.id === key);\r\n            if (formField) {\r\n              fieldType = formField.type;\r\n            }\r\n          });\r\n        }\r\n      }\r\n      return fieldType;\r\n    },\r\n\r\n    validateValue(value) {\r\n      let urlPattern =\r\n        /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\r\n      return !urlPattern.test(value);\r\n    },\r\n\r\n    async getFileData(file, data) {\r\n      //this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await repository.getFileData({\r\n        repositoryId: file.repositoryId,\r\n        itemId: file.id,\r\n      });\r\n      //this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n\r\n      if (!payload) {\r\n        return;\r\n      }\r\n      if (file.fileData) {\r\n        this.fileData = file.fileData;\r\n      } else {\r\n        this.fileData = payload;\r\n      }\r\n      if (data !== \"file\") this.fileDetailsSheet = true;\r\n    },\r\n\r\n    async sendCommentsToJira(commentsText, issueId, commentId) {\r\n      this.$store.commit(\"showLoadingBar\");\r\n      if (this.jiraCommentAction === 1) {\r\n        let resourceIDFieldId = this.formFields.find(\r\n          (field) => field.label === \"Resource ID\"\r\n        )?.value;\r\n        commentsText =\r\n          this.selectedProcess.formData.fields[resourceIDFieldId] +\r\n          \",\" +\r\n          commentsText;\r\n      }\r\n      commentsText = `${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${commentsText}`;\r\n      let input = {\r\n        cloudIntegrationId: this.jiraAccounts[0].id,\r\n        url: this.selectedProcess.jiraIssueInfo.self,\r\n        data_onpremise: {\r\n          body: commentsText,\r\n        },\r\n        issueId: issueId,\r\n        ezCommentId: commentId,\r\n      };\r\n\r\n      const { error, payload } = await integration.insertJiraIssueComments(\r\n        input\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(\"error posting comments to jira\");\r\n        let msg = JSON.parse(error);\r\n        this.errorMessage = msg.errorMessages;\r\n        this.errorModal = true;\r\n        return;\r\n      }\r\n      console.log(payload);\r\n      this.jiraCommentAction = 1;\r\n    },\r\n\r\n    async uploadAttachments(e, fields) {\r\n      if (this.selectedProcess.processId) {\r\n        const file = e.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append(\"workflowId\", this.workflow.id);\r\n        formData.append(\"repositoryId\", this.workflow.repositoryId);\r\n        formData.append(\"processId\", this.selectedProcess.processId);\r\n        formData.append(\"transactionId\", this.selectedProcess.transactionId);\r\n        this.formData = formData;\r\n        if (fields) {\r\n          formData.append(\"fields\", fields);\r\n          this.formData = fields;\r\n        } else {\r\n          formData.append(\"fields\", \"\");\r\n        }\r\n        formData.append(\"file\", file);\r\n        let filename = e.target.files[0].name;\r\n        const ext = filename.split(\".\").pop();\r\n        if (this.checkListRowIndex) {\r\n          let currentDoc = this.checkList.filter(\r\n            (row) => row.uid === this.checkListRowIndex\r\n          );\r\n          formData.append(\"filename\", currentDoc[0].name + \".\" + ext);\r\n          filename = currentDoc[0].name + \".\" + ext;\r\n        }\r\n        if (!fileSupport(ext)) {\r\n          this.$alert.info(\"This file format is not supported\");\r\n          return;\r\n        }\r\n        this.$store.commit(\"showLoadingBar\");\r\n        try {\r\n          const response = await axios({\r\n            url: `${process.env.VUE_APP_API_URL}/workflow/attachmentWithProcessId`,\r\n            method: \"POST\",\r\n            data: formData,\r\n            headers: {\r\n              Token: this.$store.state.identity.token,\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          });\r\n          const { status, data } = response;\r\n          if (status === 200 && data) this.$alert.success(`Document attached`);\r\n          else throw response;\r\n          this.documentLoad = setInterval(() => {\r\n            this.getAttachments();\r\n            clearInterval(this.documentLoad);\r\n          }, 15000);\r\n        } catch (error) {\r\n          this.$alert.error(\"Error uploading file\");\r\n          console.error(error);\r\n        }\r\n        this.$store.commit(\"hideLoadingBar\");\r\n        if (this.checkList.length) {\r\n          this.checkList.forEach((row) => {\r\n            if (row.uid === this.checkListRowIndex) {\r\n              row.attach = true;\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        e.target.value = \"\";\r\n        if (Object.keys(this.reuploadFile).length) {\r\n          await this.attachmentDelete(this.reuploadFile);\r\n          this.reuploadFile = {};\r\n        }\r\n        //this.attachmentLoad = setInterval(() => this.getAttachments(), 5000);\r\n      } else {\r\n        const file = e.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\"repositoryId\", this.workflow.repositoryId);\r\n        if (fields) {\r\n          this.fileData = JSON.parse(fields);\r\n          formData.append(\"fields\", fields);\r\n        }\r\n        let filename = e.target.files[0].name;\r\n        const ext = filename.split(\".\").pop();\r\n        if (this.checkListRowIndex) {\r\n          let currentDoc = this.checkList.filter(\r\n            (row) => row.uid === this.checkListRowIndex\r\n          );\r\n          formData.append(\"filename\", currentDoc[0].name + \".\" + ext);\r\n          filename = currentDoc[0].name + \".\" + ext;\r\n        } else {\r\n          formData.append(\"filename\", filename);\r\n        }\r\n        if (!fileSupport(ext)) {\r\n          this.$alert.info(\"This file format is not supported\");\r\n          return;\r\n        }\r\n        try {\r\n          const response = await axios({\r\n            url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/upload`,\r\n            method: \"POST\",\r\n            data: formData,\r\n            headers: {\r\n              Token: this.$store.state.identity.token,\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          });\r\n\r\n          const { status, data } = response;\r\n          if (status !== 200) {\r\n            throw \"Invalid response\";\r\n          }\r\n          let filesList = JSON.parse(data);\r\n          this.$alert.success(`Document attached`);\r\n          let fileName = this.repositoryField.reduce((max, curren) =>\r\n            max.level > curren.level ? max : curren\r\n          );\r\n          let name = this.fileData.find((item) => item.name === fileName.name);\r\n\r\n          let loading = false;\r\n          if (ext.toLowerCase() !== \"pdf\") {\r\n            loading = true;\r\n            this.documentLoadList.push(Number(filesList.fileId));\r\n            this.documentLoad = setInterval(() => {\r\n              let file = this.attachmentList.find(\r\n                (row) => this.documentLoadList.indexOf(row.id) > -1\r\n              );\r\n              if (file) {\r\n                this.documentLoadList.splice(\r\n                  this.documentLoadList.indexOf(file.id),\r\n                  1\r\n                );\r\n                file.loading = false;\r\n              }\r\n              if (this.documentLoadList.length === 0) {\r\n                clearInterval(this.documentLoad);\r\n              }\r\n            }, 10000);\r\n          }\r\n\r\n          this.attachmentList.push({\r\n            id: Number(filesList.fileId),\r\n            name: fields ? name.value + \".\" + ext : filename,\r\n            createdAt: new Date().toISOString(),\r\n            createdByEmail: this.$store.state.session.email,\r\n            size: file.size,\r\n            initiate: true,\r\n            uid: this.checkListRowIndex,\r\n            createdBy: this.$store.state.session.id,\r\n            fileData: this.fileData,\r\n            repositoryId: this.workflow.repositoryId,\r\n            loading: loading,\r\n          });\r\n          if (this.checkList.length) {\r\n            this.checkList.forEach((row) => {\r\n              if (row.uid === this.checkListRowIndex) {\r\n                row.attach = true;\r\n                return;\r\n              }\r\n            });\r\n          }\r\n          e.target.value = \"\";\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.$alert.error(`error attaching file`);\r\n        }\r\n      }\r\n    },\r\n\r\n    async getMailTransactions() {\r\n      this.mailTransactionList = [];\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"MAIL\") {\r\n          tab.count = 0;\r\n        }\r\n      });\r\n      let filter = { filterBy: [] };\r\n      const { error, payload } = await workflow.getMailTransactions(\r\n        this.workflow.id,\r\n        this.selectedProcess.processId,\r\n        filter\r\n      );\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.mailTransactionList = payload;\r\n        this.tabs.find((tab) => {\r\n          if (tab.value === \"MAIL\") {\r\n            tab.count = this.mailTransactionList.length;\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    checkCommentsOption() {\r\n      let origin = location.origin;\r\n      if (\r\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n      ) {\r\n        return false;\r\n      } else if (\r\n        (origin === \"https://app.ezofis.com\" ||\r\n          origin === \"https://appuat.ezofis.com\") &&\r\n        this.$store.state.session.tenantId === 2\r\n      ) {\r\n        if (Object.keys(this.selectedProcess).length) {\r\n          if (this.selectedProcess.jiraIssueInfo.id) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    async uploadWflowAttachments(e) {\r\n      this.fileUploadForControl = false;\r\n      if (this.repositoryDetails.fieldsType === \"STATIC\") {\r\n        this.selectedUploadFile = e;\r\n        if (this.customCheckUpload()) {\r\n          let documentNoField = this.formFields.find(\r\n            (field) => field.label === \"Document No\"\r\n          );\r\n          if (documentNoField) {\r\n            this.uploadFilename =\r\n              this.workflowModel[documentNoField.value] + \".pdf\";\r\n          } else {\r\n            this.uploadFilename = e.target.files[0].name;\r\n          }\r\n        } else {\r\n          this.uploadFilename = e.target.files[0].name;\r\n        }\r\n        this.showMetaDataEditModal = true;\r\n      } else {\r\n        this.uploadAttachments(e);\r\n      }\r\n    },\r\n\r\n    customCheckUpload() {\r\n      let origin = location.origin;\r\n      if (\r\n        origin === \"https://edmsuat.sobhaapps.com\" &&\r\n        (this.workflow.id === 55 || this.workflow.id === 2092)\r\n      ) {\r\n        if (this.attachmentList.length === 0) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    checkTenant() {\r\n      let origin = location.origin;\r\n      if (\r\n        origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n        origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n      ) {\r\n        this.commentAction = 2;\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    isTenantGOTO() {\r\n      let origin = location.origin;\r\n      if (\r\n        (origin === \"https://app.ezofis.com\" ||\r\n          origin === \"https://appuat.ezofis.com\") &&\r\n        this.$store.state.session.tenantId === 2\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    isTenantGOTOComments() {\r\n      if (Object.keys(this.selectedProcess).length) {\r\n        let origin = location.origin;\r\n        if (\r\n          (origin === \"https://app.ezofis.com\" ||\r\n            origin === \"https://appuat.ezofis.com\") &&\r\n          this.$store.state.session.tenantId === 2 &&\r\n          this.selectedProcess.jiraIssueInfo.id\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    toggleWidth() {\r\n      this.formWidth = this.formWidth === \"100vw\" ? \"50vw\" : \"100vw\";\r\n    },\r\n\r\n    clearAttach() {\r\n      this.selectedFileForAttach = 0;\r\n      this.attachComment = false;\r\n    },\r\n\r\n    async getComments(workflowId = 0, processId = 0) {\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"COMMENTS\") {\r\n          tab.count = 0;\r\n        }\r\n      });\r\n      this.commentsList = [];\r\n      if (!workflowId && !processId) {\r\n        workflowId = this.workflow.id;\r\n        processId = this.selectedProcess.processId;\r\n      }\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getProcessComments(\r\n        workflowId,\r\n        processId\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.commentsList = payload;\r\n        this.tabs.find((tab) => {\r\n          if (tab.value === \"COMMENTS\") {\r\n            tab.count = this.commentsList.length;\r\n          }\r\n        });\r\n      }\r\n\r\n      this.$emit(\"commentsLength\", this.commentsList.length);\r\n    },\r\n\r\n    async saveComment() {\r\n      if (this.commentText) {\r\n        if (this.selectedProcess.processId) {\r\n          if (\r\n            (origin === \"https://app.ezofis.com\" ||\r\n              origin === \"https://appuat.ezofis.com\") &&\r\n            this.$store.state.session.tenantId === 2 &&\r\n            this.selectedProcess.jiraIssueInfo.id &&\r\n            this.jiraCommentAction === 2\r\n          ) {\r\n            const { error, payload } = await workflow.insertProcessComment_Jira(\r\n              this.selectedProcess.jiraIssueInfo.id,\r\n              {\r\n                comments: this.commentText,\r\n              }\r\n            );\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.commentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                payload\r\n              );\r\n            }\r\n          } else {\r\n            const { error, payload } = await workflow.insertProcessComment(\r\n              this.workflow.id,\r\n              this.selectedProcess.processId,\r\n              this.selectedProcess.transactionId,\r\n              {\r\n                comments: this.commentText,\r\n                showTo: this.portal ? 1 : this.commentAction,\r\n                embedJson: JSON.stringify({\r\n                  repositoryId: this.workflow.repositoryId,\r\n                  itemIds: this.attachComment\r\n                    ? [this.selectedFileForAttach]\r\n                    : [],\r\n                }),\r\n              }\r\n            );\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.commentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                [payload]\r\n              );\r\n            }\r\n          }\r\n          this.commentText = \"\";\r\n          this.getComments();\r\n        } else {\r\n          this.commentsList.push({\r\n            comments: this.commentText,\r\n            createdAt: new Date().toISOString(),\r\n            createdBy: this.$store.state.session.id,\r\n          });\r\n          this.commentText = \"\";\r\n        }\r\n      }\r\n    },\r\n\r\n    async saveAdvancedComment() {\r\n      if (this.advancedCommentText) {\r\n        if (this.attachComment) {\r\n          if (!this.selectedFileForAttach) {\r\n            this.$alert.warning(\"Select File To Attach\");\r\n            return;\r\n          }\r\n        }\r\n        if (this.selectedProcess.processId) {\r\n          if (\r\n            (origin === \"https://app.ezofis.com\" ||\r\n              origin === \"https://appuat.ezofis.com\") &&\r\n            this.$store.state.session.tenantId === 2 &&\r\n            this.selectedProcess.jiraIssueInfo.id &&\r\n            this.jiraCommentAction === 2\r\n          ) {\r\n            this.$store.commit(\"showLoadingBar\");\r\n            const { error, payload } = await workflow.insertProcessComment_Jira(\r\n              this.selectedProcess.jiraIssueInfo.id,\r\n              {\r\n                comments: this.advancedCommentText,\r\n              }\r\n            );\r\n\r\n            this.$store.commit(\"hideLoadingBar\");\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.advancedCommentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                payload\r\n              );\r\n            }\r\n          } else {\r\n            const { error, payload } = await workflow.insertProcessComment(\r\n              this.workflow.id,\r\n              this.selectedProcess.processId,\r\n              this.selectedProcess.transactionId,\r\n              {\r\n                comments: this.advancedCommentText,\r\n                showTo: this.portal ? 1 : this.commentAction,\r\n                embedJson: JSON.stringify({\r\n                  repositoryId: this.workflow.repositoryId,\r\n                  itemIds: this.attachComment\r\n                    ? [this.selectedFileForAttach]\r\n                    : [],\r\n                }),\r\n              }\r\n            );\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.advancedCommentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                payload\r\n              );\r\n            }\r\n          }\r\n          this.advancedCommentText = \"\";\r\n          this.advancedCommentsSheet = false;\r\n          this.clearAttach();\r\n          this.getComments();\r\n        } else {\r\n          this.commentsList.push({\r\n            comments: this.advancedCommentText,\r\n            createdAt: new Date().toISOString(),\r\n            createdBy: this.$store.state.session.id,\r\n          });\r\n          this.advancedCommentText = \"\";\r\n          this.advancedCommentsSheet = false;\r\n          this.tabs.find((tab) => {\r\n            if (tab.value === \"COMMENTS\") {\r\n              tab.count = this.commentsList.length;\r\n            }\r\n          });\r\n        }\r\n        if (this.actionComments) {\r\n          this.processRequest(false, false);\r\n        }\r\n      }\r\n    },\r\n\r\n    fileType(fileName) {\r\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\r\n      else \"\";\r\n    },\r\n\r\n    fileSize(size) {\r\n      return formatBytes(size);\r\n    },\r\n\r\n    fileLink() {\r\n      let origin = location.origin.replace(\r\n        \"http://localhost:8080\",\r\n        \"http://52.172.32.88\"\r\n      );\r\n      if (this.selectedFile.name) {\r\n        let ext = this.selectedFile.name.split(\".\").pop();\r\n        if (this.selectedFile.initiate) {\r\n          let type = 1;\r\n          if (\r\n            this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n            this.workflow.initiatedBy === \"FORM\"\r\n          ) {\r\n            type = 2;\r\n          }\r\n          let domainURL = \"\";\r\n          if (pdfSupport(ext)) {\r\n            if (\r\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n            ) {\r\n              domainURL =\r\n                \"https://ag-appsvc04.azurewebsites.net/web/viewer.html\";\r\n            } else if (origin === \"https://trial.ezofis.com\") {\r\n              domainURL = \"https://trial.ezofis.com/docsviewer/index.html\";\r\n            } else {\r\n              domainURL = `${origin}/PDFViewer/web/viewer.html`;\r\n            }\r\n          } else if (origin === \"http://52.172.32.88\") {\r\n            domainURL = \"http://52.172.32.88/DocsViewer/index.html\";\r\n          } else {\r\n            return `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}`;\r\n          }\r\n          return `${domainURL}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n        } else {\r\n          let action = \"\";\r\n          if (\r\n            this.selectedNode === \"inbox\" ||\r\n            this.selectedNode === \"common\" ||\r\n            this.selectedNode === \"payment\"\r\n          ) {\r\n            action = \"&action=all\";\r\n          }\r\n          let domainURL = \"\";\r\n          if (pdfSupport(ext)) {\r\n            if (\r\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n            ) {\r\n              action = \"\";\r\n              domainURL =\r\n                \"https://ag-appsvc04.azurewebsites.net/web/viewer.html\";\r\n            } else if (\r\n              origin === \"https://trial.ezofis.com\" &&\r\n              !otherFilePDFSupport(ext)\r\n            ) {\r\n              domainURL = \"https://trial.ezofis.com/docsviewer/index.html\";\r\n            } else {\r\n              domainURL = `${origin}/PDFViewer/web/viewer.html`;\r\n            }\r\n          } else if (!htmlSupport(ext) && origin === \"http://52.172.32.88\") {\r\n            domainURL = \"http://52.172.32.88/DocsViewer/index.html\";\r\n          } else {\r\n            return `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n          }\r\n          return `${domainURL}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflow.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${action}`;\r\n        }\r\n      }\r\n    },\r\n\r\n    closeTaskSheet() {\r\n      this.taskSheet = false;\r\n    },\r\n\r\n    closeJiraIssueSheet() {\r\n      this.issueName = \"\";\r\n      this.projectKey = \"\";\r\n      this.issueType = \"\";\r\n      this.issueDescription = \"\";\r\n      this.issueEpicValue = \"\";\r\n      this.issueAssignee = \"\";\r\n      this.issueDescriptionTable = false;\r\n      this.issueDescriptionFields = [];\r\n      this.jiraIssueSheet = false;\r\n    },\r\n\r\n    loadProcessLinks() {\r\n      this.getComments();\r\n      this.getAttachments();\r\n      this.getProcessSignature();\r\n      this.getMailTransactions();\r\n    },\r\n\r\n    async getProcessSignature() {\r\n      this.signList = [];\r\n      const { error, payload } = await workflow.getProcessSignature(\r\n        this.workflow.id,\r\n        this.selectedProcess.processId\r\n      );\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.signList = payload;\r\n    },\r\n\r\n    async attachmentDelete(file) {\r\n      if (!file.fileControl) {\r\n        if (file.initiate) {\r\n          const { error } = await uploadAndIndex.deleteUploadedFiles([file.id]);\r\n          if (error) {\r\n            this.$alert.error(error);\r\n            return;\r\n          }\r\n          this.attachmentList = this.attachmentList.filter(\r\n            (row) => row.id !== file.id\r\n          );\r\n          this.checkList.forEach((row) => {\r\n            if (row.uid === file.uid) {\r\n              row.attach = false;\r\n            }\r\n          });\r\n        } else {\r\n          const { error } = await repository.fileDelete(\r\n            this.workflow.repositoryId,\r\n            file.id\r\n          );\r\n          if (error) {\r\n            this.$alert.error(error);\r\n            return;\r\n          }\r\n          this.getAttachments();\r\n        }\r\n      } else {\r\n        let field = this.workflowModel[file.fieldId];\r\n        if (field.length) {\r\n          let hasField = field.findIndex((item) => {\r\n            return item.fileId === file.id;\r\n          });\r\n          console.log(hasField);\r\n          if (hasField >= 0) {\r\n            this.workflowModel[file.fieldId].splice(hasField, 1);\r\n          }\r\n\r\n          let hasValue = this.formUploadFiles.findIndex((item) => {\r\n            return item.fileId === file.id && item.fileId === file.fileId;\r\n          });\r\n          console.log(hasValue);\r\n          if (hasValue >= 0) {\r\n            this.formUploadFiles.splice(hasField, 1);\r\n          }\r\n          if (file.control.length) {\r\n            file.control.forEach((item) => {\r\n              this.workflowModel[item] = \"\";\r\n            });\r\n          }\r\n        }\r\n        let hasFile = this.attachmentList.findIndex((file) => {\r\n          return file.fileControl;\r\n        });\r\n        console.log(hasFile);\r\n        if (hasFile >= 0) {\r\n          this.tabs.find((tab) => {\r\n            if (tab.value === \"ATTACHMENTS\") {\r\n              tab.count = this.attachmentList.length - 1;\r\n            }\r\n          });\r\n          this.attachmentList.splice(hasFile, 1);\r\n        }\r\n      }\r\n    },\r\n\r\n    async saveProcessSignature(request) {\r\n      let input = {\r\n        signBinary: this.signImg.split(\",\")[1],\r\n        fileType: \"png\",\r\n      };\r\n      const { error } = await workflow.saveProcessSignature(\r\n        this.workflow.id,\r\n        request.processId,\r\n        request.transactionId,\r\n        input\r\n      );\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.signImg = \"\";\r\n    },\r\n\r\n    async getAppConnection() {\r\n      this.jiraConnect = false;\r\n      const { error, payload } = await integration.getJiraConnection({\r\n        filterBy: [],\r\n      });\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      payload.forEach((row) => {\r\n        if (row.cloudName === \"jira\") {\r\n          this.jiraConnect = true;\r\n          this.jiraAccounts.push(row);\r\n          //this.getJiraUsers();\r\n        }\r\n      });\r\n    },\r\n\r\n    async createJiraIssue() {\r\n      this.issueRef = {};\r\n      const areAllFieldsValid = await this.$refs.form.validate();\r\n\r\n      if (!areAllFieldsValid) {\r\n        return;\r\n      }\r\n\r\n      let transactionId = [];\r\n      let mlPrediction = \"\";\r\n      let descriptionTable = \"\";\r\n      let totalSavings = 0;\r\n\r\n      this.groupKey.forEach((group) => {\r\n        if (group.checked) {\r\n          transactionId = [];\r\n          mlPrediction = group.name;\r\n          return;\r\n        }\r\n      });\r\n      if (mlPrediction === \"\") {\r\n        this.workflowRequestList.forEach((process) => {\r\n          if (process.checked) {\r\n            transactionId.push(process.transactionId);\r\n          }\r\n        });\r\n\r\n        if (this.issueDescriptionTable) {\r\n          descriptionTable = \"||Action Taken (Mandatory)\";\r\n          this.issueDescriptionFields.forEach((field) => {\r\n            descriptionTable += \"||\" + field;\r\n          });\r\n          descriptionTable += \"||\\n\";\r\n          this.workflowRequestList.forEach((process) => {\r\n            if (process.checked) {\r\n              descriptionTable += \"|| \";\r\n              this.issueDescriptionFields.forEach((field) => {\r\n                let fieldId = this.formFields.find(\r\n                  (row) => row.label === field\r\n                )?.value;\r\n                if (field === \"Savings\") {\r\n                  if (process.formData.fields[fieldId]) {\r\n                    descriptionTable +=\r\n                      \"||\" +\r\n                      Number(process.formData.fields[fieldId]).toFixed(2);\r\n                    totalSavings += Number(process.formData.fields[fieldId]);\r\n                  } else {\r\n                    descriptionTable += \"|| \";\r\n                  }\r\n                } else {\r\n                  if (process.formData.fields[fieldId]) {\r\n                    descriptionTable += \"||\" + process.formData.fields[fieldId];\r\n                  } else {\r\n                    descriptionTable += \"|| \";\r\n                  }\r\n                }\r\n              });\r\n              descriptionTable += \"||\\n\";\r\n            }\r\n          });\r\n          descriptionTable +=\r\n            \"Potential Savings: \" + totalSavings.toFixed(2) + \"\\n\";\r\n        }\r\n      }\r\n      //customfield_12130: this.issueEpicValue,\r\n      let input = {};\r\n      if (this.jiraAccounts[0].email) {\r\n        input = {\r\n          fields_cloud: {\r\n            fields: {\r\n              summary: this.issueName,\r\n              project: {\r\n                key: this.projectKey,\r\n              },\r\n              issuetype: {\r\n                name: this.issueType,\r\n              },\r\n              description: {\r\n                content: [\r\n                  {\r\n                    content: [\r\n                      {\r\n                        text: this.issueDescription + descriptionTable,\r\n                        type: \"text\",\r\n                      },\r\n                    ],\r\n                    type: \"paragraph\",\r\n                  },\r\n                ],\r\n                type: \"doc\",\r\n                version: 1,\r\n              },\r\n            },\r\n          },\r\n          cloudIntegrationId: this.jiraAccounts[0].id,\r\n        };\r\n      } else {\r\n        input = {\r\n          fields_onpremise: {\r\n            fields: {\r\n              summary: this.issueName,\r\n              project: {\r\n                key: this.projectKey,\r\n              },\r\n              issuetype: {\r\n                name: this.issueType,\r\n              },\r\n              description: this.issueDescription + descriptionTable,\r\n              customfield_14635: {\r\n                value: \"No\",\r\n              },\r\n              customfield_15136: {\r\n                value: \"Maintenance\",\r\n              },\r\n            },\r\n          },\r\n          cloudIntegrationId: this.jiraAccounts[0].id,\r\n          workflowId: this.workflow.id,\r\n          transactionId: transactionId,\r\n          mlPrediction: mlPrediction,\r\n          assignee: this.issueAssignee ? { name: this.issueAssignee } : {},\r\n          filterBy: this.filterBy,\r\n        };\r\n      }\r\n      //console.log(input);\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await integration.createJiraIssue(input);\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.warning(\"error creating issue in jira\");\r\n        let msg = JSON.parse(error);\r\n        console.log(msg);\r\n        this.errorMessage = msg.errorMessages;\r\n        // let msgContent = JSON.parse(msg.Message);\r\n        // this.errorMessage = msgContent.errors;\r\n        this.errorModal = true;\r\n        return;\r\n      }\r\n      if (mlPrediction) {\r\n        this.successModal = true;\r\n      } else {\r\n        if (payload) {\r\n          this.issueRef = JSON.parse(payload);\r\n          this.issueRef.self = this.getJIRALink(this.issueRef);\r\n          this.$alert.success(`Issue Created in JIRA`);\r\n          this.jiraConfirmModal = true;\r\n        } else {\r\n          this.$alert.warning(\"error creating issue in jira\");\r\n          return;\r\n        }\r\n      }\r\n      this.closeJiraIssueSheet();\r\n    },\r\n\r\n    async insertJiraIssueComment() {\r\n      let referenceIdFieldId = \"\",\r\n        remarksFieldId = \"\";\r\n      referenceIdFieldId = this.formFields.find(\r\n        (field) => field.label === \"Reference ID\"\r\n      )?.value;\r\n      remarksFieldId = this.formFields.find(\r\n        (field) => field.label === \"Remarks\"\r\n      )?.value;\r\n      if (\r\n        this.workflowFormModel[referenceIdFieldId] &&\r\n        this.workflowFormModel[remarksFieldId]\r\n      ) {\r\n        this.$store.commit(\"showLoadingBar\");\r\n        let input = {};\r\n        if (this.jiraAccounts[0].email) {\r\n          input = {\r\n            cloudIntegrationId: this.jiraAccounts[0].id,\r\n            url: this.workflowFormModel[referenceIdFieldId],\r\n            data_cloud: {\r\n              body: this.workflowFormModel[remarksFieldId],\r\n            },\r\n          };\r\n        } else {\r\n          input = {\r\n            cloudIntegrationId: this.jiraAccounts[0].id,\r\n            url: this.workflowFormModel[referenceIdFieldId],\r\n            data_onpremise: {\r\n              body: this.workflowFormModel[remarksFieldId],\r\n            },\r\n          };\r\n        }\r\n\r\n        const { error, payload } = await integration.insertJiraIssueComments(\r\n          input\r\n        );\r\n        this.$store.commit(\"hideLoadingBar\");\r\n        if (error) {\r\n          this.$alert.error(error);\r\n          return;\r\n        }\r\n        console.log(payload);\r\n      }\r\n    },\r\n\r\n    async getJiraUsers() {\r\n      this.issueAssigneeUsers = [];\r\n      const { error, payload } = await integration.getJiraUsers({\r\n        cloudIntegrationId: this.jiraAccounts[0].id,\r\n      });\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        payload.forEach((user) => {\r\n          this.issueAssigneeUsers.push({\r\n            id: user.key,\r\n            label: user.displayName,\r\n            value: user.name,\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    validateRequest(action) {\r\n      this.saveAction = action;\r\n      if (this.itemModel.itemId) {\r\n        this.processRequest();\r\n      }\r\n    },\r\n\r\n    async processRequest(forwardCheck = true, addOnCheck = true) {\r\n      if (forwardCheck) {\r\n        let origin = location.origin;\r\n        if (\r\n          (origin === \"https://app.ezofis.com\" ||\r\n            origin === \"https://appuat.ezofis.com\") &&\r\n          this.$store.state.session.tenantId === 2\r\n        ) {\r\n          if (this.saveAction === \"Assign\" && this.internalForward.proceed) {\r\n            this.processForwardGroupAction = false;\r\n            this.processForwardModal = true;\r\n            return;\r\n          }\r\n        }\r\n        if (this.saveAction === \"Forward\" && this.internalForward.proceed) {\r\n          this.processForwardGroupAction = false;\r\n          this.processForwardModal = true;\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (addOnCheck) {\r\n        let actionAddOn = this.processActionsAddOn.find(\r\n          (row) => row.action === this.saveAction\r\n        );\r\n        if (actionAddOn) {\r\n          if (Object.keys(actionAddOn).length) {\r\n            this.actionRemarks = actionAddOn.remarks;\r\n            this.actionPassword = actionAddOn.passwordAccess;\r\n            this.actionConfirm = actionAddOn.confirm;\r\n            if (this.actionPassword) {\r\n              this.actionPasswordConfirm = true;\r\n              return;\r\n            }\r\n            if (this.actionRemarks) {\r\n              this.actionComments = true;\r\n              this.advancedCommentsSheet = true;\r\n              return;\r\n            }\r\n            if (this.actionConfirm) {\r\n              this.actionConfirmAlert = true;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      let inputData = {};\r\n      let origin = location.origin;\r\n\r\n      if (this.userReply && this.saveAction.indexOf(\"Reply\") > -1) {\r\n        this.saveAction = \"UserReply\";\r\n      } else if (this.toRequester && this.saveAction === \"To Requester\") {\r\n        this.saveAction = \"ToInitiator\";\r\n      }\r\n      if (this.customReply && this.saveAction.indexOf(\"Reply\") > -1) {\r\n        this.saveAction = \"Reply\";\r\n        this.forwardUsers.push(this.selectedProcess.transaction_createdBy);\r\n      }\r\n\r\n      let formUpload = [];\r\n      this.formFields.forEach((field) => {\r\n        if (field.type === \"FILE_UPLOAD\" && this.workflowModel[field.value]) {\r\n          let ids = [];\r\n          this.workflowModel[field.value].forEach((item) => {\r\n            if (item.fileId) {\r\n              ids.push(item.fileId);\r\n            }\r\n          });\r\n          if (ids.length) {\r\n            formUpload.push({\r\n              jsonId: field.value,\r\n              fileIds: ids,\r\n            });\r\n          }\r\n\r\n          delete this.workflowFormModel[field.value];\r\n        }\r\n      });\r\n\r\n      if (this.formId) {\r\n        if (\r\n          (origin === \"https://app.ezofis.com\" ||\r\n            origin === \"https://appuat.ezofis.com\") &&\r\n          this.$store.state.session.tenantId === 2 &&\r\n          this.saveAction === \"Rollback\"\r\n        ) {\r\n          if (this.workflow.id === 1) {\r\n            this.forwardUsers.push(this.selectedProcess.transaction_createdBy);\r\n          }\r\n        } else if (\r\n          origin === \"http://demo.ezofis.com\" ||\r\n          origin === \"http://52.172.32.88\"\r\n        ) {\r\n          if (this.workflow.id === 6) {\r\n            this.forwardUsers.push(this.selectedProcess.transaction_createdBy);\r\n          }\r\n        }\r\n        inputData = {\r\n          workflowId: this.workflow.id,\r\n          transactionId: this.selectedProcess.transactionId,\r\n          review:\r\n            this.saveAction === \"Save\" || this.saveAction === \"CustomVerify\"\r\n              ? \"\"\r\n              : this.saveAction,\r\n          formData: {\r\n            formId: this.formId,\r\n            formEntryId: this.selectedProcess.formData.formEntryId,\r\n            fields: this.workflowFormModel,\r\n            formUpload: formUpload,\r\n          },\r\n          userIds: this.forwardUsers,\r\n          groupIds: this.forwardGroups,\r\n        };\r\n      } else if (this.itemModel) {\r\n        inputData = {\r\n          workflowId: this.workflow.id,\r\n          transactionId: this.selectedProcess.transactionId,\r\n          review: this.saveAction === \"Save\" ? \"\" : this.saveAction,\r\n          formData: {},\r\n          userIds: this.forwardUsers,\r\n          groupIds: this.forwardGroups,\r\n        };\r\n      }\r\n      this.saveAction = \"\";\r\n      this.workflowFormModel = {};\r\n      // console.log(inputData);\r\n      if (!this.saveOnly) {\r\n        this.$store.commit(\"showLoadingBarSave\");\r\n      }\r\n      const { error } = await workflow.processTransaction(inputData);\r\n      if (!this.saveOnly) {\r\n        this.$store.commit(\"hideLoadingBarSave\");\r\n      }\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (this.signImg) {\r\n        await this.saveProcessSignature(this.selectedProcess);\r\n      }\r\n      if (this.saveOnly) {\r\n        this.saveOnly = false;\r\n        //this.$alert.info(`${this.selectedProcess.requestNo} data saved, awaiting your action to submit`);\r\n        //this.$emit(\"paymentTable\");\r\n      } else {\r\n        if (inputData.review === \"\") {\r\n          this.$alert.info(\r\n            `${this.selectedProcess.requestNo} data saved, awaiting your action to submit`\r\n          );\r\n        } else if (inputData.review.toLowerCase().indexOf(\"reject\") > -1) {\r\n          this.$alert.danger(\r\n            `${this.selectedProcess.requestNo} Request Rejected Successfully`\r\n          );\r\n        } else {\r\n          this.$alert.success(\r\n            `${this.selectedProcess.requestNo} Request Processed`\r\n          );\r\n        }\r\n        this.forwardUsers = [];\r\n        this.forwardGroups = [];\r\n        this.customReply = false;\r\n        this.userReply = false;\r\n        this.toRequester = false;\r\n        //this.selectedProcess = {};\r\n\r\n        this.closeProcessSheet();\r\n      }\r\n      if (this.fileControlDeleteFile.length) {\r\n        this.fileControlDeleteFile.forEach((file) => {\r\n          this.fileControlDeletedFile(file);\r\n        });\r\n\r\n        this.fileControlDeleteFile = [];\r\n      }\r\n    },\r\n\r\n    checkRequiredDocument() {\r\n      if (this.saveAction === \"Save\" || this.saveAction === \"Force Close\") {\r\n        this.proceedSubmission();\r\n      } else {\r\n        if (this.documentRequired && this.attachmentList.length === 0) {\r\n          this.$alert.warning(\r\n            \"A minimum of one document is required for submission\"\r\n          );\r\n          this.saveAction = \"\";\r\n          this.workflowFormModel = {};\r\n          return;\r\n        }\r\n        let docRequired = this.checkList.filter(\r\n          (row) => row.required && !row.attach\r\n        );\r\n\r\n        if (docRequired.length) {\r\n          if (this.docWarning) {\r\n            this.alertModal = true;\r\n          } else {\r\n            this.$alert.warning(\"Mandatory documents required\");\r\n            this.saveAction = \"\";\r\n            this.workflowFormModel = {};\r\n          }\r\n        } else {\r\n          this.proceedSubmission();\r\n        }\r\n      }\r\n    },\r\n\r\n    proceedSubmission() {\r\n      this.alertModal = false;\r\n      if (this.initiateProcess) {\r\n        this.initiateRequest();\r\n      } else {\r\n        this.processRequest();\r\n      }\r\n    },\r\n\r\n    closeAlertModal() {\r\n      this.alertModal = false;\r\n      this.saveAction = \"\";\r\n      this.workflowFormModel = {};\r\n    },\r\n\r\n    getJiraIssueInfo(data) {\r\n      if (data.jiraIssueInfo.id) {\r\n        return {\r\n          \"Ref# Id\": data.jiraIssueInfo.id,\r\n          Key: data.jiraIssueInfo.key,\r\n          Link: data.jiraIssueInfo.self\r\n            ? this.getJIRALink(data.jiraIssueInfo)\r\n            : \"\",\r\n          Assignee: data.jiraIssueInfo.assignee,\r\n          \"Issue Status\": data.jiraIssueInfo.issueStatus,\r\n        };\r\n      }\r\n    },\r\n\r\n    async groupProcessRequest() {\r\n      let transactionId = [];\r\n      let mlPrediction = \"\";\r\n      this.workflowRequestList.forEach((process) => {\r\n        if (process.key === this.groupActionKey && process.checked) {\r\n          transactionId.push(process.transactionId);\r\n        }\r\n      });\r\n      this.groupKey.forEach((group) => {\r\n        if (group.checked) {\r\n          transactionId = [];\r\n          mlPrediction = group.name;\r\n          return;\r\n        }\r\n      });\r\n      let input = {\r\n        workflowId: this.workflow.id,\r\n        transactionId: transactionId,\r\n        review: this.saveAction === \"Save\" ? \"\" : this.saveAction,\r\n        fields: this.workflowFormModel,\r\n        mlPrediction: mlPrediction,\r\n        comments: this.commentText,\r\n        userIds: this.forwardUsers,\r\n        groupIds: this.forwardGroups,\r\n        filterBy: this.filterBy,\r\n      };\r\n      //console.log(input);\r\n      //this.$store.commit(\"showLoadingBar\");\r\n      const { error } = await workflow.groupRequestAction(input);\r\n\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      await this.insertJiraIssueComment();\r\n      this.saveAction = \"\";\r\n      this.workflowFormModel = {};\r\n      this.forwardUsers = [];\r\n      this.forwardGroups = [];\r\n      this.$alert.success(`Group Request Processed`);\r\n      this.closeRequestActionModal();\r\n      this.$emit(\"refresh\", this.workflow.id);\r\n    },\r\n\r\n    async initiateRequest() {\r\n      let uploadedIdList = [];\r\n      if (this.attachmentList.length) {\r\n        this.attachmentList.forEach((file) => {\r\n          uploadedIdList.push(file.id);\r\n        });\r\n      }\r\n\r\n      let formUpload = [];\r\n\r\n      this.formFields.forEach((field) => {\r\n        if (field.type === \"FILE_UPLOAD\" && this.workflowModel[field.value]) {\r\n          let ids = [];\r\n          this.workflowModel[field.value].forEach((item) => {\r\n            if (item.fileId) {\r\n              ids.push(item.fileId);\r\n            }\r\n          });\r\n          if (ids.length) {\r\n            formUpload.push({\r\n              jsonId: field.value,\r\n              fileIds: ids,\r\n            });\r\n          }\r\n\r\n          delete this.workflowFormModel[field.value];\r\n        }\r\n      });\r\n\r\n      let inputData = {\r\n        workflowId: this.workflow.id,\r\n        review: this.saveAction === \"Save\" ? \"\" : this.saveAction,\r\n        comments: this.commentsList,\r\n        formData: {\r\n          formId: this.formId,\r\n          fields: this.workflowFormModel,\r\n          formUpload: formUpload,\r\n        },\r\n        fileIds: uploadedIdList,\r\n        task: this.taskEntryId,\r\n        hasFormPDF: this.generatePDF,\r\n        prefix: this.requestPrefix,\r\n        mlPrediction: this.mlPrediction,\r\n      };\r\n\r\n      this.$store.commit(\"showLoadingBarSave\");\r\n      const { error, payload } = await workflow.processTransaction(inputData);\r\n      this.$store.commit(\"hideLoadingBarSave\");\r\n      this.saveAction = \"\";\r\n      this.workflowFormModel = {};\r\n      this.alertModal = false;\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (this.signImg) {\r\n        await this.saveProcessSignature(payload);\r\n      }\r\n      this.$alert.success(`${payload.requestNo} Request Initiated`);\r\n      if (this.mainProcessId) {\r\n        this.addSubWorkflowProcess(payload.processId);\r\n      } else {\r\n        this.$emit(\"update:subProcessId\", payload.processId);\r\n      }\r\n      this.closeProcessSheet();\r\n    },\r\n\r\n    saveMetaData(modal) {\r\n      let data = [];\r\n      this.repositoryField.forEach((field) => {\r\n        data.push({\r\n          name: field.name,\r\n          value: modal[field.name],\r\n          type: field.dataType,\r\n        });\r\n      });\r\n\r\n      data.forEach((key) => {\r\n        // console.log(key);\r\n        let hasName = this.formFields.find(\r\n          (item) => lowerCase(item.label) === lowerCase(key.name)\r\n        );\r\n        // console.log(hasName);\r\n        if (hasName && key.value) {\r\n          this.workflowModel[hasName.value] = key.value;\r\n        }\r\n      });\r\n\r\n      if (this.fileUploadForControl) {\r\n        this.metaDataModal = modal;\r\n        let input = this.fileUploadInput;\r\n        this.uploadFilesFromForm(\r\n          input.files,\r\n          input.control,\r\n          input.fieldId,\r\n          JSON.stringify(data)\r\n        );\r\n      } else {\r\n        this.uploadAttachments(this.selectedUploadFile, JSON.stringify(data));\r\n      }\r\n    },\r\n\r\n    attachTemplate(uid) {\r\n      this.checkListRowIndex = uid;\r\n      this.$refs.attachments.click();\r\n    },\r\n\r\n    attachmentFilterCheckList(name) {\r\n      return this.attachmentList.filter(\r\n        (row) =>\r\n          row.name.substring(0, row.name.lastIndexOf(\".\")) === name ||\r\n          row.name.substring(0, row.name.lastIndexOf(\".\")).split(\"_\")[0] ===\r\n            name\r\n      );\r\n    },\r\n\r\n    isCheckList(name) {\r\n      let list = this.checkList.filter(\r\n        (row) =>\r\n          row.name === name.substring(0, name.lastIndexOf(\".\")) ||\r\n          row.name === name.substring(0, name.lastIndexOf(\".\")).split(\"_\")[0]\r\n      );\r\n      if (list.length) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    showMailAttachments(mail) {\r\n      this.mailAttachmentList = [];\r\n      let files = mail.attachmentJson.split(\",\");\r\n      files.forEach((file) => {\r\n        let filename = file.split(\"\\\\\").pop();\r\n        this.mailAttachmentList.push({\r\n          id: this.$nano.id(),\r\n          mailId: mail.id,\r\n          name: filename,\r\n          createdAt: mail.createdAt,\r\n        });\r\n      });\r\n      this.mailAttachmentSheet = true;\r\n    },\r\n\r\n    openAttachmentFile(file) {\r\n      let link = `${process.env.VUE_APP_API_URL}/client/viewAttachment/${this.$store.state.session.tenantId}/${file.mailId}/${file.name}`;\r\n      window.open(link, \"_blank\");\r\n    },\r\n\r\n    lastCommentDuration(comment) {\r\n      const date =\r\n        comment.createdAt instanceof Date\r\n          ? comment.createdAt\r\n          : new Date(comment.createdAt);\r\n      const formatter = new Intl.RelativeTimeFormat(\"en\");\r\n      const ranges = {\r\n        years: 3600 * 24 * 365,\r\n        months: 3600 * 24 * 30,\r\n        weeks: 3600 * 24 * 7,\r\n        days: 3600 * 24,\r\n        hours: 3600,\r\n        minutes: 60,\r\n        seconds: 1,\r\n      };\r\n      const secondsElapsed = (date.getTime() - Date.now()) / 1000;\r\n      for (let key in ranges) {\r\n        if (ranges[key] < Math.abs(secondsElapsed)) {\r\n          const delta = secondsElapsed / ranges[key];\r\n          return formatter.format(Math.round(delta), key);\r\n        }\r\n      }\r\n    },\r\n\r\n    async getTaskForm() {\r\n      this.taskFormList = [];\r\n      this.addTaskEnabled = false;\r\n      const { error, payload } = await form.getForms({\r\n        mode: \"BROWSE\",\r\n        sortBy: { criteria: \"\", order: \"DESC\" },\r\n        groupBy: \"\",\r\n        filterBy: [\r\n          {\r\n            filters: [\r\n              {\r\n                criteria: \"type\",\r\n                condition: \"IS_EQUALS_TO\",\r\n                value: \"Task\",\r\n                dataType: \"\",\r\n              },\r\n            ],\r\n            groupCondition: \"\",\r\n          },\r\n        ],\r\n        itemsPerPage: 50,\r\n        currentPage: 1,\r\n      });\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n\r\n      const { data } = payload;\r\n      if (data.length) {\r\n        if (data[0].value.length) {\r\n          this.addTaskEnabled = true;\r\n          data[0].value.forEach((task) => {\r\n            this.taskFormList.push({\r\n              id: task.id,\r\n              label: task.name,\r\n              value: task.id,\r\n              repositoryId: task.repositoryId,\r\n              formJson: task.formJson,\r\n            });\r\n          });\r\n          if (this.taskFormList.length) {\r\n            if (this.taskFormList.length === 1) {\r\n              this.taskFormId = this.taskFormList[0].id;\r\n              this.taskRepositoryId = this.taskFormList[0].repositoryId;\r\n              this.addTaskForm = JSON.parse(this.taskFormList[0].formJson);\r\n            }\r\n          } else {\r\n            //this.$alert.info(\"Task form not found\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    async getTaskFormEntry(formId, entryId) {\r\n      // this.$store.commit(\"showLoadingBarPage\");\r\n      const { error, payload } = await form.getFormEntry(formId, entryId);\r\n      // this.$store.commit(\"hideLoadingBarPage\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        const panels = [\r\n          ...this.addTaskForm.panels,\r\n          ...this.addTaskForm.secondaryPanels,\r\n        ];\r\n\r\n        let formFields = [];\r\n        for (const panel of panels) {\r\n          formFields.push(...panel.fields);\r\n        }\r\n        let taskName = \"\",\r\n          taskAssign = \"\",\r\n          startDate = \"\",\r\n          endDate = \"\",\r\n          priority = \"\",\r\n          status = \"\";\r\n        formFields.forEach((field) => {\r\n          switch (field.label) {\r\n            case \"Task Name\":\r\n              taskName = payload[0][field.id];\r\n              break;\r\n            case \"Task Assign\":\r\n              taskAssign = payload[0][field.id];\r\n              break;\r\n            case \"Start Date\":\r\n              startDate = payload[0][field.id];\r\n              break;\r\n            case \"End Date\":\r\n              endDate = payload[0][field.id];\r\n              break;\r\n            case \"Priority\":\r\n              priority = payload[0][field.id];\r\n              break;\r\n            case \"Task Status\":\r\n              status = payload[0][field.id];\r\n              break;\r\n          }\r\n        });\r\n        this.taskEntries.push({\r\n          id: payload[0].itemid,\r\n          name: taskName,\r\n          assigned: taskAssign,\r\n          startDate: startDate,\r\n          endDate: endDate,\r\n          priority: priority,\r\n          status: status,\r\n        });\r\n      }\r\n    },\r\n\r\n    async getTaskList() {\r\n      this.taskEntries = [];\r\n      //this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getTaskEntries(\r\n        this.selectedWorkflow.id,\r\n        this.selectedProcess.processId,\r\n        {\r\n          filterBy: [\r\n            {\r\n              filters: [\r\n                {\r\n                  criteria: \"createdBy\",\r\n                  condition: \"IS_EQUALS_TO\",\r\n                  value: this.$store.state.session.id,\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        }\r\n      );\r\n      //this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        const panels = [\r\n          ...this.addTaskForm.panels,\r\n          ...this.addTaskForm.secondaryPanels,\r\n        ];\r\n\r\n        let formFields = [];\r\n        for (const panel of panels) {\r\n          formFields.push(...panel.fields);\r\n        }\r\n        this.taskList = payload;\r\n        payload.forEach((row) => {\r\n          let taskName = \"\",\r\n            taskAssign = \"\",\r\n            startDate = \"\",\r\n            endDate = \"\",\r\n            priority = \"\",\r\n            status = \"\";\r\n          formFields.forEach((field) => {\r\n            switch (field.label) {\r\n              case \"Task Name\":\r\n                taskName = row.entryInfo[0][field.id];\r\n                break;\r\n              case \"Task Assign\":\r\n                taskAssign = row.entryInfo[0][field.id];\r\n                break;\r\n              case \"Start Date\":\r\n                startDate = row.entryInfo[0][field.id];\r\n                break;\r\n              case \"End Date\":\r\n                endDate = row.entryInfo[0][field.id];\r\n                break;\r\n              case \"Priority\":\r\n                priority = row.entryInfo[0][field.id];\r\n                break;\r\n              case \"Task Status\":\r\n                status = row.entryInfo[0][field.id];\r\n                break;\r\n            }\r\n          });\r\n          this.taskEntries.push({\r\n            id: row.entryInfo[0].itemid,\r\n            name: taskName,\r\n            assigned: taskAssign,\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            priority: priority,\r\n            status: status,\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    async insertTaskEntry(formId, entryId) {\r\n      // this.$store.commit(\"showLoadingBarPage\");\r\n      const { error } = await workflow.insertTaskEntry({\r\n        workflowId: this.selectedWorkflow.id,\r\n        processId: this.selectedProcess.processId,\r\n        transactionId: this.selectedProcess.transactionId,\r\n        wFormId: formId,\r\n        formEntryId: entryId,\r\n      });\r\n      // this.$store.commit(\"hideLoadingBarPage\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.getTaskList();\r\n    },\r\n\r\n    addTaskEntry(formId, entryId) {\r\n      if (this.selectedProcess.processId) {\r\n        this.insertTaskEntry(formId, entryId);\r\n      } else {\r\n        this.taskEntryId.push({\r\n          formId: formId,\r\n          formEntryId: entryId,\r\n        });\r\n        this.getTaskFormEntry(formId, entryId);\r\n      }\r\n    },\r\n\r\n    addTask() {\r\n      this.selectedTask = {};\r\n      this.taskMode = \"NEW\";\r\n      this.addTaskSheet = true;\r\n    },\r\n\r\n    viewTask(id) {\r\n      let filterTask = this.taskList.filter((row) => row.formEntryId === id);\r\n      if (filterTask.length) {\r\n        this.selectedTask = filterTask[0].entryInfo[0];\r\n        this.selectedTask = {\r\n          id: filterTask[0].formEntryId,\r\n          ...filterTask[0].entryInfo[0],\r\n        };\r\n      }\r\n      this.taskMode = \"EDIT\";\r\n      this.addTaskSheet = true;\r\n    },\r\n\r\n    removeTags(value) {\r\n      if (!value) return \"\";\r\n      return value.replace(/(<([^>]+)>)/gi, \"\");\r\n    },\r\n\r\n    tableValue(value) {\r\n      if (value) {\r\n        return JSON.parse(value);\r\n      }\r\n      return [];\r\n    },\r\n\r\n    async uploadFile(e) {\r\n      const file = e.target.files[0];\r\n      if (\r\n        file.type === \"text/csv\" ||\r\n        file.type ===\r\n          \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" ||\r\n        file.type === \"application/vnd.ms-excel\"\r\n      ) {\r\n        const formData = new FormData();\r\n        formData.append(\"formId\", this.masterFormId);\r\n        formData.append(\"file\", file);\r\n        try {\r\n          this.$store.commit(\"showLoadingBarSave\");\r\n          const response = await axios({\r\n            url: `${process.env.VUE_APP_API_URL}/form/uploadMasterFile`,\r\n            method: \"POST\",\r\n            data: formData,\r\n            headers: {\r\n              Token: this.$store.state.identity.token,\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          });\r\n          this.$store.commit(\"hideLoadingBarSave\");\r\n          const { status, data } = response;\r\n          if (status === 200 && data)\r\n            this.$alert.success(`Data imported successfully`);\r\n          else throw response;\r\n        } catch (error) {\r\n          this.$alert.error(\"Error uploading file\");\r\n          console.error(error);\r\n        }\r\n\r\n        this.dataImported = true;\r\n        e.target.value = \"\";\r\n      } else {\r\n        this.$alert.error(\"Please upload a csv/excel file\");\r\n      }\r\n    },\r\n\r\n    async addSubWorkflowProcess(subProcessId) {\r\n      let input = {\r\n        mainWorkflowId: this.mainWorkflowId,\r\n        subWorkflowId: this.workflowId,\r\n        mainProcessId: this.mainProcessId,\r\n        subProcessId: subProcessId,\r\n        subProcessStatus: 0,\r\n        review: \"\",\r\n      };\r\n      const { error } = await workflow.addSubWorkflow(input);\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.updateSubWorkflowProcess();\r\n    },\r\n\r\n    getModel(processId) {\r\n      this.formModel = {};\r\n      this.itemModel = {};\r\n\r\n      console.log(\r\n        this.selectedProcess.processId,\r\n        processId,\r\n        this.selectedProcess.id,\r\n        this.workflow.id\r\n      );\r\n      if (\r\n        this.selectedProcess.processId == processId &&\r\n        this.selectedProcess.id == this.workflow.id\r\n      ) {\r\n        this.headerTitle = `${this.selectedProcess.requestNo} - ${this.selectedProcess.stageName}`;\r\n        if (this.selectedProcess.formData) {\r\n          let keys = Object.keys(this.selectedProcess.formData.fields);\r\n          let newValues = {};\r\n          keys.forEach((key) => {\r\n            newValues[key] = this.validateTypeValue(\r\n              this.selectedProcess.formData.fields[key]\r\n            );\r\n          });\r\n          // console.log(\"newValues\", newValues);\r\n          this.formModel = newValues;\r\n        } else if (this.selectedProcess.itemData) {\r\n          this.itemModel = this.selectedProcess.itemData;\r\n        }\r\n      }\r\n    },\r\n\r\n    async dataValidation(processId, modal = true) {\r\n      //this.$store.commit(\"showLoadingBarPage\");\r\n      const { error, payload } = await custom.armgroupMLValidation({\r\n        filterBy: [\r\n          {\r\n            filters: [\r\n              {\r\n                criteria: \"processId\",\r\n                condition: \"IS_EQUALS_TO\",\r\n                value: processId,\r\n              },\r\n            ],\r\n            groupCondition: \"\",\r\n          },\r\n        ],\r\n        mode: \"BROWSE\",\r\n      });\r\n      //this.$store.commit(\"hideLoadingBarPage\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.dataValidationValues = payload;\r\n        if (modal) {\r\n          this.dataValidationModal = true;\r\n        }\r\n      } else {\r\n        this.dataValidationValues = [];\r\n        if (modal) {\r\n          this.$alert.info(\"Data not found\");\r\n        }\r\n      }\r\n    },\r\n\r\n    async documentMerge() {\r\n      let fileIds = [];\r\n      this.attachmentList.forEach((item) => {\r\n        let ext = item.name.split(\".\").pop();\r\n        if (item.checked && ext.toLowerCase() === \"pdf\") {\r\n          fileIds.push(item.id);\r\n        }\r\n      });\r\n      let input = {\r\n        ids: fileIds,\r\n      };\r\n      const { error } = await workflow.documentMerge(\r\n        this.workflow.id,\r\n        this.selectedProcess.processId,\r\n        this.selectedProcess.transactionId,\r\n        this.workflow.repositoryId,\r\n        input\r\n      );\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.$alert.success(\"Document merge process initiated\");\r\n    },\r\n\r\n    async documentShare() {\r\n      this.selectedFileList = [];\r\n      this.attachmentList.forEach((item) => {\r\n        if (item.checked) {\r\n          this.selectedFileList.push({\r\n            id: item.id,\r\n            name: item.name,\r\n          });\r\n        }\r\n      });\r\n      this.emailSharingSheet = true;\r\n    },\r\n\r\n    fileMenuAction(fileObj, action) {\r\n      this.selectedFile = fileObj;\r\n      this.documentAction(action, true);\r\n    },\r\n\r\n    fileSelectAll() {\r\n      this.attachmentList = this.attachmentList.map((item) => {\r\n        return {\r\n          ...item,\r\n          checked: this.selectAll,\r\n        };\r\n      });\r\n    },\r\n\r\n    documentAction(action, viewPrint) {\r\n      if (action === \"Email_Sharing\") {\r\n        //\r\n      } else if (action === \"Print\") {\r\n        if (this.selectedFile.name) {\r\n          if (viewPrint) {\r\n            let link = \"\";\r\n            if (this.selectedFile.initiate) {\r\n              let type = 1;\r\n              if (\r\n                this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n                this.workflow.initiatedBy === \"FORM\"\r\n              ) {\r\n                type = 2;\r\n              }\r\n              link = `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}/1`;\r\n            } else {\r\n              link = `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n            }\r\n            window.open(link, \"_blank\");\r\n          } else {\r\n            let ext = this.selectedFile.name.split(\".\").pop();\r\n            if (pdfSupport(ext)) {\r\n              localStorage.setItem(\"filePrint\", true);\r\n              localStorage.setItem(\"filePrintId\", this.selectedFile.id);\r\n            } else {\r\n              this.$refs.myAttachmentFiles.contentWindow.print();\r\n            }\r\n          }\r\n        }\r\n        this.filePrintSession();\r\n      } else if (action === \"Download\") {\r\n        let link = \"\";\r\n\r\n        if (this.selectedFile.initiate) {\r\n          let type = 1;\r\n          if (\r\n            this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n            this.workflow.initiatedBy === \"FORM\"\r\n          ) {\r\n            type = 2;\r\n          }\r\n          link = `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}/2`;\r\n        } else {\r\n          link = `${process.env.VUE_APP_API_URL}/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n        }\r\n        window.open(link, \"_blank\");\r\n        //this.$alert.success(`file downloaded successfully`);\r\n      }\r\n    },\r\n\r\n    async filePrintSession() {\r\n      const { error } = await menu.filePrintSession({\r\n        repositoryId: this.selectedFile.repositoryId,\r\n        itemId: this.selectedFile.id,\r\n        activityId: 4,\r\n      });\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n    },\r\n\r\n    async updateSubWorkflowProcess() {\r\n      const { error, payload } = await transaction.updateSubWorkflowProcess(\r\n        this.mainWorkflowId,\r\n        this.$store.state.session.tenantId,\r\n        this.workflowId\r\n      );\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      console.log(payload);\r\n    },\r\n\r\n    async uploadFilesFromForm(files, control, fieldId, fields) {\r\n      this.formUploadFiles = [];\r\n      const formData = new FormData();\r\n      let formFields = [];\r\n      if (control && control.length) {\r\n        control.forEach((field) => {\r\n          let name = this.formFields.find((item) => item.value === field);\r\n          if (name) {\r\n            formFields.push(`${name.label}, ${name.type}`);\r\n          }\r\n        });\r\n      }\r\n      if (files.length) {\r\n        // this.$store.commit(\"showLoadingBarSave\");\r\n        for (let file of files) {\r\n          if (file.name && !file.error) {\r\n            formData.append(\"repositoryId\", this.workflow.repositoryId);\r\n            formData.append(\"file\", file);\r\n            formData.append(\"filename\", file.name);\r\n            if (formFields.length) {\r\n              formData.append(\"formFields\", JSON.stringify(formFields));\r\n            }\r\n            if (fields) {\r\n              formData.append(\"fields\", fields);\r\n            } else {\r\n              formData.append(\"fields\", \"\");\r\n            }\r\n\r\n            try {\r\n              const response = await axios({\r\n                url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/upload`,\r\n                method: \"POST\",\r\n                data: formData,\r\n                headers: {\r\n                  Token: this.$store.state.identity.token,\r\n                  Accept: \"application/json\",\r\n                  \"Content-Type\": \"multipart/form-data\",\r\n                },\r\n                onUploadProgress: function (progressEvent) {\r\n                  let uploadedPercentage = Math.round(\r\n                    (progressEvent.loaded * 100) / progressEvent.total\r\n                  );\r\n                  // console.log(this.workflowModel, fieldId);\r\n                  let hasFile = this.workflowModel[fieldId].findIndex(\r\n                    (item) => {\r\n                      return item.name === file.name;\r\n                    }\r\n                  );\r\n                  // console.log(hasFile);\r\n                  if (hasFile >= 0) {\r\n                    this.$set(\r\n                      this.workflowModel[fieldId][hasFile],\r\n                      \"uploadedPercentage\",\r\n                      0\r\n                    );\r\n                    this.workflowModel[fieldId][hasFile].uploadedPercentage =\r\n                      uploadedPercentage;\r\n                  }\r\n                }.bind(this),\r\n              });\r\n\r\n              const { status, data } = response;\r\n              if (status !== 200) {\r\n                throw \"Invalid response\";\r\n              }\r\n              file.createdAt = this.$day.newDateTime();\r\n              file.createdBy = this.$store.state.session.email;\r\n              let filesList = JSON.parse(data);\r\n              file.fileId = filesList.fileId;\r\n              file.fieldId = fieldId;\r\n              // if (formFields.length) {\r\n              //   let ocrList = JSON.parse(filesList.OCRfieldlist);\r\n              //   if (Array.isArray(ocrList)) {\r\n              //     ocrList.forEach((hasFile) => {\r\n              //       let fieldId = this.formFields.find(\r\n              //         (item) => item.label === hasFile.name\r\n              //       );\r\n              //       if (fieldId) {\r\n              //         if (hasFile.value) {\r\n              //           this.workflowModel[fieldId.value] = hasFile.value;\r\n              //         }\r\n              //       }\r\n              //     });\r\n              //   }\r\n              // }\r\n            } catch (error) {\r\n              console.error(error);\r\n              this.$alert.error(`error attaching file`);\r\n            }\r\n          }\r\n        }\r\n\r\n        let _files = Array.from(files);\r\n        // console.log(_files);\r\n        this.formUploadFiles = [];\r\n        for (let file of _files) {\r\n          // console.log(file.name);\r\n          if (file.name) {\r\n            const base64String = await fileToBase64(file);\r\n\r\n            this.formUploadFiles.push({\r\n              name: file.name,\r\n              size: file.size,\r\n              file: base64String,\r\n              fileId: file.fileId,\r\n              createdBy: file.createdBy,\r\n              createdAt: file.createdAt,\r\n              workflowId: this.selectedProcess.id,\r\n              processId: this.selectedProcess.processId,\r\n              fieldId: file.fieldId,\r\n            });\r\n          }\r\n        }\r\n        control.forEach((con) => {\r\n          let index = this.readonlyControls.findIndex((item) => {\r\n            return item === con;\r\n          });\r\n          // console.log(index);\r\n          if (index >= 0) {\r\n            this.readonlyControls.splice(index, 1);\r\n          }\r\n        });\r\n        this.$store.commit(\"hideLoadingBarSave\");\r\n      }\r\n    },\r\n\r\n    mandatoryControlsList(value) {\r\n      this.mandatory = value;\r\n    },\r\n\r\n    deletedFiles(ids) {\r\n      //this.fileControlDeleteFile = [];\r\n      this.fileControlDeleteFile.push(ids);\r\n    },\r\n\r\n    async fileControlDeletedFile(file) {\r\n      this.$store.commit(\"showLoadingBar\");\r\n      let fileIds = [];\r\n      file.forEach((item) => {\r\n        if (item.id) fileIds.push(item.id);\r\n      });\r\n      let input = {\r\n        ids: fileIds,\r\n        formInfo: {\r\n          formId: this.formId,\r\n          formEntryId: this.selectedProcess.formData.formEntryId,\r\n          jsonId: file[0].jsonId,\r\n        },\r\n      };\r\n      const { error } = await repository.fileControlDeleteFile(\r\n        this.workflow.repositoryId,\r\n        input\r\n      );\r\n\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      // this.fileControlDeleteFile = [];\r\n    },\r\n\r\n    async checkFormValidation() {\r\n      this.hasCheckFormValidate = true;\r\n    },\r\n\r\n    async getOCRResult(files, control, fieldId) {\r\n      const formData = new FormData();\r\n      let formFields = [];\r\n      if (control && control.length) {\r\n        control.forEach((con) => {\r\n          this.readonlyControls.push(con);\r\n        });\r\n        control.forEach((field) => {\r\n          let name = this.formFields.find((item) => item.value === field);\r\n          if (name) {\r\n            formFields.push(`${name.label}, ${name.type}`);\r\n          }\r\n        });\r\n        if (files.length) {\r\n          // this.$store.commit(\"showLoadingBarSave\");\r\n          for (let file of files) {\r\n            if (file.name && !file.error) {\r\n              formData.append(\"repositoryId\", this.workflow.repositoryId);\r\n              formData.append(\"file\", file);\r\n              if (formFields.length) {\r\n                formData.append(\"formFields\", JSON.stringify(formFields));\r\n              }\r\n\r\n              try {\r\n                const response = await axios({\r\n                  url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/uploadforStaticMetadata`,\r\n                  method: \"POST\",\r\n                  data: formData,\r\n                  headers: {\r\n                    Token: this.$store.state.identity.token,\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                  },\r\n                  onUploadProgress: function (progressEvent) {\r\n                    let uploadedPercentage = Math.round(\r\n                      (progressEvent.loaded * 100) / progressEvent.total\r\n                    );\r\n                    // console.log(this.workflowModel, fieldId);\r\n\r\n                    let hasFile = this.workflowModel[fieldId].findIndex(\r\n                      (item) => {\r\n                        return item.name === file.name;\r\n                      }\r\n                    );\r\n                    // console.log(hasFile);\r\n                    if (hasFile >= 0) {\r\n                      this.$set(\r\n                        this.workflowModel[fieldId][hasFile],\r\n                        \"uploadedPercentage\",\r\n                        0\r\n                      );\r\n                      if (uploadedPercentage !== 100) {\r\n                        this.workflowModel[fieldId][\r\n                          hasFile\r\n                        ].uploadedPercentage = uploadedPercentage;\r\n                      }\r\n                    }\r\n                  }.bind(this),\r\n                });\r\n\r\n                const { status, data } = response;\r\n                if (status !== 200) {\r\n                  throw \"Invalid response\";\r\n                }\r\n\r\n                // console.log(data);\r\n\r\n                let list = decrypt(\r\n                  data,\r\n                  this.$store.state.identity.key,\r\n                  this.$store.state.identity.iv\r\n                );\r\n                // console.log(list);\r\n\r\n                let ocrList = JSON.parse(list);\r\n                let ocr = JSON.parse(ocrList);\r\n                let ocrFile = JSON.parse(ocr);\r\n                // console.log(ocrFile);\r\n\r\n                if (Array.isArray(ocrFile)) {\r\n                  ocrFile.forEach((hasFile) => {\r\n                    let fieldId = this.formFields.find(\r\n                      (item) => item.label === hasFile.name\r\n                    );\r\n                    // console.log(fieldId);\r\n                    if (fieldId) {\r\n                      if (hasFile.value) {\r\n                        this.workflowModel[fieldId.value] = hasFile.value;\r\n                      }\r\n                    }\r\n                  });\r\n                }\r\n              } catch (error) {\r\n                console.error(error);\r\n                this.$alert.error(`error on get ocr result`);\r\n              }\r\n            }\r\n            let hasFile = this.workflowModel[fieldId].findIndex((item) => {\r\n              return item.name === file.name;\r\n            });\r\n\r\n            // console.log(hasFile);\r\n\r\n            if (hasFile >= 0) {\r\n              //this.workflowModel[fieldId][hasFile].uploadedPercentage = 100;\r\n            }\r\n          }\r\n\r\n          this.$store.commit(\"hideLoadingBarSave\");\r\n          this.uploadFileForControl(files, control, fieldId);\r\n        }\r\n      } else {\r\n        this.uploadFileForControl(files, control, fieldId);\r\n      }\r\n    },\r\n\r\n    async uploadFileForControl(files, control, fieldId) {\r\n      this.fileUploadInput = {\r\n        files: files,\r\n        control: control,\r\n        fieldId: fieldId,\r\n      };\r\n      if (this.repositoryDetails.fieldsType === \"STATIC\") {\r\n        this.fileUploadForControl = false;\r\n\r\n        if (this.customCheckUpload()) {\r\n          let documentNoField = this.formFields.find(\r\n            (field) => field.label === \"Document No\"\r\n          );\r\n          if (documentNoField) {\r\n            this.uploadFilename =\r\n              this.workflowModel[documentNoField.value] + \".pdf\";\r\n          } else {\r\n            // this.uploadFilename = files.target.files[0].name;\r\n          }\r\n        } else {\r\n          // this.uploadFilename = files.target.files[0].name;\r\n        }\r\n        this.fileUploadForControl = true;\r\n        this.showMetaDataEditModal = true;\r\n      } else {\r\n        this.uploadFilesFromForm(files, control, fieldId);\r\n      }\r\n    },\r\n\r\n    async showHistoryStepper(processId, wId) {\r\n      console.log(\"called\");\r\n      //this.$store.commit(\"showLoadingBarPage\");\r\n      const { error, payload } = await workflow.processHistory(wId, processId);\r\n      //this.$store.commit(\"hideLoadingBarPage\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n\r\n      if (payload.length) {\r\n        this.stageLevel = [];\r\n        this.currentStep = 0;\r\n        // console.log(payload);\r\n        payload.forEach((row) => {\r\n          if (row.actionStatus !== 2) {\r\n            if (\r\n              this.stageLevel.filter((stage) => stage.id === row.activityId)\r\n                .length === 0\r\n            ) {\r\n              this.stageLevel.push({\r\n                id: row.activityId,\r\n                label: row.stage,\r\n                status: row.status,\r\n              });\r\n              if (\r\n                ((row.actionUser || row.subWorkflowHistory) &&\r\n                  row.status &&\r\n                  row.status !== \"Forward\") ||\r\n                (row.actionUser === null && !row.subWorkflowHistory)\r\n              ) {\r\n                this.currentStep += 1;\r\n              }\r\n            } else if (row.status) {\r\n              if (\r\n                this.stageLevel.filter(\r\n                  (stage) =>\r\n                    stage.id === row.activityId && stage.status !== row.status\r\n                ).length\r\n              ) {\r\n                this.currentStep += 1;\r\n              } else {\r\n                this.currentStep -= 1;\r\n              }\r\n            } else {\r\n              let index = this.stageLevel.findIndex(\r\n                (stage) => stage.id === row.activityId\r\n              );\r\n              if (index > -1) {\r\n                this.stageLevel.splice(index, this.stageLevel.length - index);\r\n                this.stageLevel.push({\r\n                  id: row.activityId,\r\n                  label: row.stage,\r\n                  status: row.status,\r\n                });\r\n                if (\r\n                  (row.actionUser && row.status && row.status !== \"Forward\") ||\r\n                  row.actionUser === null\r\n                ) {\r\n                  this.currentStep = index + 1;\r\n                } else {\r\n                  this.currentStep = index;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    attachmentCount(count) {\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"ATTACHMENTS\") {\r\n          tab.count = count;\r\n        }\r\n      });\r\n    },\r\n\r\n    commentsCount(count) {\r\n      this.tabs.find((tab) => {\r\n        if (tab.value === \"COMMENTS\") {\r\n          tab.count = count;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#process-sheet {\r\n  .list {\r\n    height: 100%;\r\n    border: 1px solid transparent;\r\n    padding: 5px;\r\n    border-radius: 10px;\r\n    background: #dfe6e9;\r\n    // width: 100%;\r\n  }\r\n\r\n  .cards {\r\n    height: 100%;\r\n    // border: 1px solid #fff;\r\n    padding: 5px;\r\n    border-radius: 4px;\r\n    background: white;\r\n    border: 1px solid #fff;\r\n\r\n    // width: 100%;\r\n  }\r\n\r\n  #action-btn.linkActions {\r\n    width: 28px !important;\r\n    height: 28px !important;\r\n  }\r\n\r\n  .badge {\r\n    -webkit-border-radius: 9px;\r\n    -moz-border-radius: 9px;\r\n    border-radius: 9px;\r\n    font-size: 10px;\r\n    background: $secondary;\r\n    color: #fff;\r\n    padding: 0 5px;\r\n    vertical-align: top;\r\n    margin-top: -30px;\r\n    margin-right: -20px;\r\n    position: absolute;\r\n    z-index: 1;\r\n  }\r\n\r\n  .workflow-name {\r\n    width: 150px;\r\n    overflow: hidden;\r\n    display: inline-block;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    color: #000 !important;\r\n    font-weight: 500;\r\n    text-align: justify;\r\n  }\r\n\r\n  .workflow-name:hover {\r\n    overflow: visible;\r\n    white-space: normal;\r\n    height: auto;\r\n  }\r\n\r\n  #global-search {\r\n    width: 90%;\r\n    height: 26px;\r\n    display: flex;\r\n    align-items: center;\r\n    border-radius: 20px;\r\n    padding: 0px 12px;\r\n    color: var(--icon-color);\r\n    border: 1px solid var(--divider-color);\r\n    float: right;\r\n    // background-color: var(--body-bg-color);\r\n\r\n    .label {\r\n      @extend .text-sm;\r\n      flex: 1;\r\n      display: flex;\r\n      align-items: center;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n}\r\n\r\n#sheet {\r\n  .badge {\r\n    -webkit-border-radius: 9px;\r\n    -moz-border-radius: 9px;\r\n    border-radius: 9px;\r\n    font-size: 12px;\r\n    background: $primary;\r\n    color: #fff;\r\n    padding: 0 5px;\r\n    vertical-align: top;\r\n    margin-top: -30px;\r\n    margin-right: -20px;\r\n    position: absolute;\r\n    z-index: 1;\r\n  }\r\n\r\n  .leftBorder {\r\n    border-left: 1px solid var(--divider-color);\r\n  }\r\n\r\n  #action-btn.tabButtons {\r\n    height: 52px;\r\n    width: 52px;\r\n  }\r\n\r\n  .taskKanbanRow {\r\n    // display: flex;\r\n    flex-wrap: nowrap;\r\n    overflow: hidden;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n#sheet .attachmentList,\r\n#sheet .checkList {\r\n  padding: 12px;\r\n  border-bottom: 1px solid var(--divider-color);\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: #e0f7fa;\r\n  }\r\n\r\n  // &:not(:last-child) {\r\n  //   border-bottom: 1px solid var(--divider-color);\r\n  // }\r\n\r\n  &.is-selected.mini-mode::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    right: 0;\r\n    top: 10px;\r\n    width: 4px;\r\n    height: 75%;\r\n    background-color: var(--secondary);\r\n    border-radius: 4px 0px 0px 4px;\r\n  }\r\n\r\n  .thumbnail {\r\n    height: 80px;\r\n    width: 80px;\r\n    border: 1px solid var(--divider-color);\r\n    border-radius: 4px 0px 0px 4px;\r\n  }\r\n\r\n  .avatar {\r\n    width: 48px;\r\n    height: 48px;\r\n  }\r\n\r\n  .mini-avatar {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n\r\n  .title {\r\n    font-weight: 600;\r\n    margin-bottom: 6px;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .meta {\r\n    @extend .text-sm;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    color: var(--icon-color-inverted);\r\n  }\r\n\r\n  .chips {\r\n    cursor: pointer;\r\n    background-color: #fff !important;\r\n    font-size: 12px !important;\r\n\r\n    &.small {\r\n      width: 75px;\r\n    }\r\n\r\n    &.medium {\r\n      width: 95px;\r\n    }\r\n  }\r\n\r\n  .primary-hover:hover {\r\n    background: $primary-2 !important;\r\n  }\r\n\r\n  .secondary-hover:hover {\r\n    background: $secondary-2 !important;\r\n  }\r\n\r\n  .green-hover:hover {\r\n    background: $green-2 !important;\r\n  }\r\n\r\n  .orange-hover:hover {\r\n    background: $orange-2 !important;\r\n  }\r\n\r\n  .red-hover:hover {\r\n    background: $red-2 !important;\r\n  }\r\n\r\n  .grey-hover:hover {\r\n    background: $grey-2 !important;\r\n  }\r\n}\r\n\r\n#sheet .hint {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 5px;\r\n  cursor: pointer;\r\n  border: 2px dotted;\r\n  border-radius: 10px;\r\n  background-color: #e0ebfa26;\r\n  padding: 5px;\r\n\r\n  .icon {\r\n    color: var(--body-text-color-inverted);\r\n  }\r\n\r\n  .title {\r\n    @extend .title-2;\r\n    font-weight: bold;\r\n    margin-bottom: 2px;\r\n  }\r\n\r\n  .description {\r\n    color: var(--icon-color);\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n#sheet .attachmentFileHeader {\r\n  display: flex;\r\n  align-items: center;\r\n  text-transform: none !important;\r\n  .avatar {\r\n    width: 36px;\r\n    height: 36px;\r\n  }\r\n\r\n  .filename {\r\n    font-size: 16px !important;\r\n  }\r\n\r\n  .meta {\r\n    @extend .text-sm;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    color: var(--icon-color-inverted);\r\n    font-weight: normal !important;\r\n  }\r\n}\r\n\r\n#sheet .attachmentFileFrame {\r\n  min-height: calc(100vh - 61px);\r\n  background-color: var(--body-bg-color);\r\n  display: flex;\r\n\r\n  .file-list {\r\n    flex: 1;\r\n  }\r\n\r\n  .aside {\r\n    width: 380px;\r\n    background-color: var(--component-bg-color);\r\n  }\r\n\r\n  #file-frame {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n#sheet {\r\n  #action-btn.commentAction {\r\n    height: 32px !important;\r\n    width: 32px !important;\r\n  }\r\n\r\n  #action-btn.comment-actions {\r\n    height: 28px !important;\r\n    width: 28px !important;\r\n  }\r\n}\r\n\r\n#modal #processHistory {\r\n  #history {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    white-space: nowrap;\r\n    margin-bottom: 15px;\r\n\r\n    tr {\r\n      height: 36px;\r\n\r\n      th {\r\n        color: var(--secondary);\r\n        text-align: left;\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      border: 1px solid var(--divider-color);\r\n      padding: 8px;\r\n      font-weight: 500;\r\n    }\r\n\r\n    td.ellipsis:hover {\r\n      overflow: visible;\r\n      white-space: normal;\r\n      word-break: break-all;\r\n    }\r\n\r\n    .comments {\r\n      color: var(--primary);\r\n      text-align: left;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .attachments {\r\n      color: var(--primary);\r\n      text-align: left;\r\n      cursor: pointer;\r\n    }\r\n\r\n    #comments1 {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n      white-space: nowrap;\r\n      // margin-bottom: 15px;\r\n      background: #fcfafa;\r\n      table-layout: fixed;\r\n\r\n      tr {\r\n        height: 36px;\r\n\r\n        th {\r\n          color: var(--primary);\r\n          text-align: left;\r\n\r\n          &.small {\r\n            width: 70px;\r\n          }\r\n\r\n          &.medium {\r\n            width: 90px;\r\n          }\r\n\r\n          &.large {\r\n            width: 210px;\r\n          }\r\n        }\r\n      }\r\n\r\n      th {\r\n        border: 1px solid var(--divider-color);\r\n        padding: 8px;\r\n        font-weight: 500;\r\n      }\r\n\r\n      td {\r\n        border: 1px solid var(--divider-color);\r\n        padding: 8px;\r\n        font-weight: 500;\r\n\r\n        &.commentsText {\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        &.commentsText:hover {\r\n          overflow: visible;\r\n          white-space: normal;\r\n          word-break: break-all;\r\n        }\r\n      }\r\n    }\r\n\r\n    #attachments {\r\n      width: 98%;\r\n      border-collapse: collapse;\r\n      white-space: nowrap;\r\n      margin-bottom: 5px;\r\n      background: #fcfafa;\r\n\r\n      tr {\r\n        height: 36px;\r\n\r\n        th {\r\n          color: var(--primary);\r\n          text-align: left;\r\n        }\r\n      }\r\n\r\n      th,\r\n      td {\r\n        border: 1px solid var(--divider-color);\r\n        padding: 8px;\r\n        font-weight: 500;\r\n      }\r\n\r\n      .comments {\r\n        color: var(--secondary);\r\n        text-align: left;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.chip-warning {\r\n  font-weight: 500;\r\n  background-color: var(--component-bg-color-inferior);\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  margin-right: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.chip-success {\r\n  font-weight: 500;\r\n  background-color: #9bf3b0;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  margin-right: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.attachment-label {\r\n  border: 1px solid;\r\n  border-radius: 20px;\r\n  padding: 5px 10px;\r\n  color: $secondary;\r\n  background: $secondary-1;\r\n  font-size: 12px;\r\n  &.ellipsis:hover {\r\n    white-space: normal;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n#single-choice-field.actions .options-wrapper {\r\n  padding-top: 8px !important;\r\n}\r\n#single-choice-field.actions.noborder .options-wrapper {\r\n  border-top: 0px !important;\r\n  padding-top: 0px !important;\r\n}\r\n\r\n.advance-cmd {\r\n  margin-right: auto;\r\n}\r\n\r\n.file-icon {\r\n  width: 18px !important;\r\n  height: 18px !important;\r\n}\r\n\r\n.text-area-action {\r\n  border: 1px solid var(--border-color);\r\n  #field-wrapper {\r\n    border: none !important;\r\n    .is-focused {\r\n      border: none;\r\n    }\r\n  }\r\n}\r\n\r\n.attach-cmd {\r\n  margin-left: 15px;\r\n  #field-wrapper {\r\n    height: 30px !important;\r\n    .select {\r\n      .value {\r\n        width: 130px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n\r\n      .value:hover {\r\n        max-width: none !important;\r\n        overflow: visible;\r\n        white-space: pre;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.select-action {\r\n  padding-top: 10px;\r\n\r\n  align-items: center;\r\n}\r\n\r\n.action-container {\r\n  border-top: 1px solid #cfd5dc;\r\n}\r\n\r\n.internal-public {\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  border-top: 1px solid #cfd5dc;\r\n  padding-top: 10px;\r\n}\r\n\r\n.internal-public-margin {\r\n  margin-top: 5px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.loading {\r\n  animation: spin 2s linear infinite;\r\n}\r\n\r\n#sheet {\r\n  #form-view {\r\n    background-color: var(--body-bg-color);\r\n    margin: auto;\r\n    padding: 16px;\r\n  }\r\n}\r\n\r\n#requestDetails {\r\n  table {\r\n    &.submittedData {\r\n      background: $primary-1;\r\n    }\r\n    &.mainData {\r\n      table-layout: fixed;\r\n    }\r\n    width: 100%;\r\n    border-radius: 10px;\r\n    border: 1px solid var(--divider-color);\r\n\r\n    tr {\r\n      height: 36px;\r\n\r\n      th {\r\n        color: $primary-11;\r\n        text-align: left;\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      padding: 8px;\r\n      font-weight: 500;\r\n    }\r\n\r\n    th:not(:last-child),\r\n    td:not(:last-child) {\r\n      border-right: 1px solid var(--divider-color);\r\n    }\r\n\r\n    tr:not(:last-child) {\r\n      td,\r\n      th {\r\n        border-bottom: 1px solid var(--divider-color);\r\n      }\r\n    }\r\n\r\n    .tblHeader {\r\n      color: $primary-11;\r\n      font-weight: 500;\r\n      &.small {\r\n        width: 200px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .ellipsis:hover {\r\n    overflow: visible;\r\n    white-space: normal;\r\n    word-break: break-all;\r\n  }\r\n\r\n  .mini-avatar {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n\r\n  .text-underline {\r\n    text-decoration: underline;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubWorkflow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubWorkflow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubWorkflow.vue?vue&type=template&id=5b96b9ec&scoped=true&\"\nimport script from \"./SubWorkflow.vue?vue&type=script&lang=js&\"\nexport * from \"./SubWorkflow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubWorkflow.vue?vue&type=style&index=0&id=5b96b9ec&prod&lang=scss&scoped=true&\"\nimport style1 from \"./SubWorkflow.vue?vue&type=style&index=1&id=5b96b9ec&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b96b9ec\",\n  null\n  \n)\n\nexport default component.exports\nimport QCircularProgress from 'quasar/src/components/circular-progress/QCircularProgress.js';\nimport QMenu from 'quasar/src/components/menu/QMenu.js';\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QChatMessage from 'quasar/src/components/chat/QChatMessage.js';\nimport qInstall from \"../../../../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCircularProgress,QMenu,QChip,QAvatar,QChatMessage});\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubWorkflow.vue?vue&type=style&index=1&id=5b96b9ec&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Sheet',{attrs:{\"value\":_vm.value,\"no-padding\":true,\"has-footer\":\"\",\"width\":\"650px\"},on:{\"input\":function($event){return _vm.$emit('input', false)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Document Sharing By Email\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{attrs:{\"id\":\"document-sharing-details\"}},[_c('Tabs',{staticClass:\"tabs\",attrs:{\"tabs\":_vm.tabs},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}}),_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 170px)\"}},[_c('div',{staticClass:\"q-pa-md\"},[_c('ValidationObserver',{ref:\"form\"},[_c('div',{staticClass:\"field-wrapper\"},[_c('ValidationProvider',{attrs:{\"name\":\"to\",\"rules\":{ required: true, email: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('MultiSelectField',{staticClass:\"q-mb-sm\",attrs:{\"label\":\"to\",\"is-mandatory\":\"\",\"new-option\":\"\",\"error\":errors[0]},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})]}}])}),_c('ValidationProvider',{attrs:{\"name\":\"subject\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{staticClass:\"q-mb-sm\",attrs:{\"label\":\"subject\",\"is-mandatory\":\"\",\"error\":errors[0]},model:{value:(_vm.subject),callback:function ($$v) {_vm.subject=$$v},expression:\"subject\"}})]}}])}),(_vm.tab === 'attach link')?[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6 q-pr-sm\"},[_c('ValidationProvider',{attrs:{\"name\":\"Expiry from Date\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('DateField',{staticClass:\"q-mb-sm\",attrs:{\"label\":\"Expiry from Date\",\"is-mandatory\":\"\",\"error\":errors[0],\"minimum-validation\":true},model:{value:(_vm.fromDate),callback:function ($$v) {_vm.fromDate=$$v},expression:\"fromDate\"}})]}}],null,false,714078504)})],1),_c('div',{staticClass:\"col-6 q-pl-sm\"},[_c('ValidationProvider',{attrs:{\"name\":\"Expiry to Date\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('DateField',{staticClass:\"q-mb-sm\",attrs:{\"label\":\"Expiry to Date\",\"is-mandatory\":\"\",\"error\":errors[0],\"minimum-validation\":true},model:{value:(_vm.toDate),callback:function ($$v) {_vm.toDate=$$v},expression:\"toDate\"}})]}}],null,false,738413864)})],1)])]:_vm._e(),_vm._l((_vm.fileList),function(file){return [_c('q-chip',{key:file.id,staticClass:\"chips secondary-hover cursor-pointer\",attrs:{\"outline\":\"\",\"color\":\"secondary\"}},[_c('q-avatar',{attrs:{\"icon\":\"mdi-file\",\"color\":\"secondary\",\"text-color\":\"white\"},on:{\"click\":function($event){return _vm.remove(file.id)}}}),_vm._v(\" \"+_vm._s(file.name)+\" \"),_c('q-avatar',{staticClass:\"close-icon\",attrs:{\"icon\":\"mdi-close\",\"text-color\":\"red\"},on:{\"click\":function($event){return _vm.remove(file.id)}}})],1)]}),_c('TextBuilderField',{model:{value:(_vm.body),callback:function ($$v) {_vm.body=$$v},expression:\"body\"}})],2)])],1)])],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"cancel\"},on:{\"click\":function($event){return _vm.$emit('input', false)}}}),_c('BaseButton',{attrs:{\"label\":\"send\"},on:{\"click\":_vm.documentShare}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Sheet\r\n    :value=\"value\"\r\n    :no-padding=\"true\"\r\n    has-footer\r\n    width=\"650px\"\r\n    @input=\"$emit('input', false)\"\r\n  >\r\n    <!-- title -->\r\n\r\n    <template #title>Document Sharing By Email</template>\r\n\r\n    <!-- ... -->\r\n\r\n    <template #default>\r\n      <div id=\"document-sharing-details\">\r\n        <Tabs v-model=\"tab\" :tabs=\"tabs\" class=\"tabs\" />\r\n        <BaseScrollbar height=\"calc(100vh - 170px)\">\r\n          <div class=\"q-pa-md\">\r\n            <ValidationObserver ref=\"form\">\r\n              <div class=\"field-wrapper\">\r\n                <ValidationProvider\r\n                  v-slot=\"{ errors }\"\r\n                  name=\"to\"\r\n                  :rules=\"{ required: true, email: true }\"\r\n                >\r\n                  <MultiSelectField\r\n                    v-model=\"email\"\r\n                    label=\"to\"\r\n                    is-mandatory\r\n                    new-option\r\n                    :error=\"errors[0]\"\r\n                    class=\"q-mb-sm\"\r\n                  />\r\n                </ValidationProvider>\r\n\r\n                <ValidationProvider\r\n                  v-slot=\"{ errors }\"\r\n                  name=\"subject\"\r\n                  :rules=\"{ required: true }\"\r\n                >\r\n                  <TextField\r\n                    v-model=\"subject\"\r\n                    label=\"subject\"\r\n                    is-mandatory\r\n                    :error=\"errors[0]\"\r\n                    class=\"q-mb-sm\"\r\n                  />\r\n                </ValidationProvider>\r\n\r\n                <template v-if=\"tab === 'attach link'\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6 q-pr-sm\">\r\n                      <ValidationProvider\r\n                        v-slot=\"{ errors }\"\r\n                        name=\"Expiry from Date\"\r\n                        :rules=\"{ required: true }\"\r\n                      >\r\n                        <DateField\r\n                          v-model=\"fromDate\"\r\n                          label=\"Expiry from Date\"\r\n                          is-mandatory\r\n                          :error=\"errors[0]\"\r\n                          class=\"q-mb-sm\"\r\n                          :minimum-validation=\"true\"\r\n                        />\r\n                      </ValidationProvider>\r\n                    </div>\r\n                    <div class=\"col-6 q-pl-sm\">\r\n                      <ValidationProvider\r\n                        v-slot=\"{ errors }\"\r\n                        name=\"Expiry to Date\"\r\n                        :rules=\"{ required: true }\"\r\n                      >\r\n                        <DateField\r\n                          v-model=\"toDate\"\r\n                          label=\"Expiry to Date\"\r\n                          is-mandatory\r\n                          :error=\"errors[0]\"\r\n                          class=\"q-mb-sm\"\r\n                          :minimum-validation=\"true\"\r\n                        />\r\n                      </ValidationProvider>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n\r\n                <template v-for=\"file in fileList\">\r\n                  <q-chip\r\n                    :key=\"file.id\"\r\n                    outline\r\n                    color=\"secondary\"\r\n                    class=\"chips secondary-hover cursor-pointer\"\r\n                  >\r\n                    <q-avatar\r\n                      icon=\"mdi-file\"\r\n                      color=\"secondary\"\r\n                      text-color=\"white\"\r\n                      @click=\"remove(file.id)\"\r\n                    />\r\n                    {{ file.name }}\r\n\r\n                    <q-avatar\r\n                      icon=\"mdi-close\"\r\n                      class=\"close-icon\"\r\n                      text-color=\"red\"\r\n                      @click=\"remove(file.id)\"\r\n                    />\r\n                  </q-chip>\r\n                </template>\r\n\r\n                <TextBuilderField v-model=\"body\" />\r\n              </div>\r\n            </ValidationObserver>\r\n          </div>\r\n        </BaseScrollbar>\r\n      </div>\r\n    </template>\r\n\r\n    <!-- footer -->\r\n\r\n    <template #footer>\r\n      <BaseButton\r\n        is-flat\r\n        label=\"cancel\"\r\n        class=\"q-mr-sm\"\r\n        @click=\"$emit('input', false)\"\r\n      />\r\n\r\n      <BaseButton label=\"send\" @click=\"documentShare\" />\r\n    </template>\r\n\r\n    <!-- ... -->\r\n  </Sheet>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationObserver, ValidationProvider } from \"vee-validate\";\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport Tabs from \"@/components/common/tabs/Tabs.vue\";\r\nimport TextField from \"@/components/common/form/text-field/TextField\";\r\nimport DateField from \"@/components/common/form/date-field/DateField\";\r\nimport MultiSelectField from \"@/components/common/form/select-field/MultiSelectField.vue\";\r\nimport TextBuilderField from \"@/components/common/form/text-builder-field/TextBuilderField.vue\";\r\nimport { menu } from \"@/api/factory.js\";\r\n\r\nexport default {\r\n  name: \"EmailSharing\",\r\n\r\n  components: {\r\n    Sheet,\r\n    ValidationObserver,\r\n    ValidationProvider,\r\n    TextField,\r\n    Tabs,\r\n    DateField,\r\n    MultiSelectField,\r\n    TextBuilderField,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    repositoryId: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n\r\n    fileList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      tab: \"attach file\",\r\n      tabs: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"attach file\",\r\n          value: \"attach file\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"attach link\",\r\n          value: \"attach link\",\r\n        },\r\n      ],\r\n      email: [],\r\n      subject: \"\",\r\n      body: \"\",\r\n      fromDate: \"\",\r\n      toDate: \"\",\r\n      minimumFromDate: \"\",\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // Example: Set minimumFromDate to today's date\r\n    const today = new Date();\r\n    const formattedDate = today.toISOString().split(\"T\")[0]; // Format YYYY-MM-DD\r\n    this.minimumFromDate = formattedDate;\r\n  },\r\n\r\n  methods: {\r\n    clearFields() {\r\n      this.tab = \"attach file\";\r\n      this.email = [];\r\n      this.subject = \"\";\r\n      this.body = \"\";\r\n      this.fromDate = \"\";\r\n      this.toDate = \"\";\r\n    },\r\n\r\n    remove(fileId) {\r\n      if (this.fileList.length > 1) {\r\n        let list = this.fileList.filter((file) => file.id != fileId);\r\n        this.$emit(\"update:fileList\", list);\r\n      } else {\r\n        this.$alert.warning(\"Minimum one document is required\");\r\n      }\r\n    },\r\n\r\n    async documentShare() {\r\n      const isValid = await this.$refs.form.validate();\r\n\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n      let fileIds = [];\r\n      this.fileList.forEach((item) => {\r\n        fileIds.push(item.id);\r\n      });\r\n      if (this.tab === \"attach file\") {\r\n        let input = {\r\n          repositoryId: this.repositoryId,\r\n          itemIds: fileIds,\r\n          toAdd: this.email.toString(),\r\n          subject: this.subject,\r\n          body: this.body,\r\n        };\r\n        const { error } = await menu.documentShare(input);\r\n\r\n        if (error) {\r\n          this.$alert.error(error);\r\n          return;\r\n        }\r\n      } else if (this.tab === \"attach link\") {\r\n        if (this.toDate < this.fromDate) {\r\n          this.$alert.warning(\r\n            \"ToDate Is Must Be Greater Than Or Equal To FromDate\"\r\n          );\r\n          return;\r\n        }\r\n        let input = {\r\n          toAddress: this.email.toString(),\r\n          subject: this.subject,\r\n          body: this.body,\r\n          expiryFromDate: this.fromDate,\r\n          expiryTodate: this.toDate,\r\n          repositoryId: this.repositoryId,\r\n          itemIdArray: fileIds,\r\n        };\r\n        const { error } = await menu.documentShareLink(input);\r\n        if (error) {\r\n          this.$alert.error(error);\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.$alert.success(\"Initiated Document Sharing by Email\");\r\n      this.clearFields();\r\n      this.$emit(\"input\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#document-sharing-details {\r\n  .tabs {\r\n    padding: 0px 16px;\r\n    border-bottom: 1px solid var(--divider-color);\r\n  }\r\n\r\n  .secondary-hover:hover {\r\n    background: $secondary-2 !important;\r\n  }\r\n\r\n  .close-icon {\r\n    margin-left: 5px !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailSharing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailSharing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailSharing.vue?vue&type=template&id=2c37c0ea&scoped=true&\"\nimport script from \"./EmailSharing.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailSharing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmailSharing.vue?vue&type=style&index=0&id=2c37c0ea&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c37c0ea\",\n  null\n  \n)\n\nexport default component.exports\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QChip,QAvatar});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailSharing.vue?vue&type=style&index=0&id=2c37c0ea&prod&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/psg-logo.20670f47.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"toggle\"}},_vm._l((_vm.options),function(option){return _c('div',{key:option,staticClass:\"option\",class:{ 'is-selected': _vm.value === option },on:{\"click\":function($event){return _vm.$emit('input', option)}}},[_vm._v(\" \"+_vm._s(option)+\" \")])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"toggle\">\n    <div\n      v-for=\"option in options\"\n      :key=\"option\"\n      class=\"option\"\n      :class=\"{ 'is-selected': value === option }\"\n      @click=\"$emit('input', option)\"\n    >\n      {{ option }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Toggle\",\n\n  props: {\n    value: {\n      type: String,\n      required: true,\n    },\n\n    options: {\n      type: Array,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#toggle {\n  display: flex;\n  align-items: center;\n  background-color: var(--body-bg-color);\n  padding: 4px;\n  border-radius: 36px;\n  transition: background-color 0.25s ease;\n\n  .option {\n    @extend .text-sm;\n    padding: 8px 16px;\n\n    &:hover {\n      cursor: pointer;\n      color: var(--secondary);\n    }\n\n    &.is-selected {\n      background-color: var(--component-bg-color);\n      color: var(--secondary);\n      font-weight: 600;\n      border-radius: 36px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toggle.vue?vue&type=template&id=0e83c5c2&scoped=true&\"\nimport script from \"./Toggle.vue?vue&type=script&lang=js&\"\nexport * from \"./Toggle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toggle.vue?vue&type=style&index=0&id=0e83c5c2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e83c5c2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormEntryHistory.vue?vue&type=style&index=0&id=231e188e&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{attrs:{\"id\":\"repository-field\"}},[(_vm.showFreeze)?_c('div',{attrs:{\"id\":\"checkbox-field\"}},[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Freeze'),expression:\"'Freeze'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"name\":_vm.freezed ? 'eva-checkmark-circle-2' : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":_vm.handleFreeze},model:{value:(_vm.freezed),callback:function ($$v) {_vm.freezed=$$v},expression:\"freezed\"}})],1):_vm._e(),(_vm.field.dataType === 'SHORT_TEXT' || _vm.field.dataType === 'BARCODE')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TextField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,2138129544)}):_vm._e(),(_vm.field.dataType === 'NUMBER')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{\n        required: _vm.field.isMandatory,\n        integer: !_vm.field.options.allowDecimals,\n      }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('NumberField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,3272965974)}):_vm._e(),(_vm.field.dataType === 'DATE')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('DateField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,2736912833)}):_vm._e(),(_vm.field.dataType === 'TIME')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('TimeField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,2195704480)}):_vm._e(),(_vm.field.dataType === 'DATE_TIME')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('DateTimeField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,1802324180)}):_vm._e(),(\n        _vm.field.dataType === 'SINGLE_SELECT' &&\n        ['EXISTING'].includes(_vm.field.options.optionsType)\n      )?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('AsyncSelectField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"api-path\":_vm.apiPath,\"error\":errors[0],\"new-option\":_vm.field.options.allowToAddNewOptions,\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,364407705)}):_vm._e(),(\n        _vm.field.dataType === 'SINGLE_SELECT' &&\n        _vm.field.options.optionsType === 'PREDEFINED'\n      )?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SelectField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"new-option\":_vm.field.options.allowToAddNewOptions,\"options\":_vm.predefinedSelectOptions,\"is-readonly\":_vm.readOnly,\"page\":\"repository\"},on:{\"input\":_vm.handleInput}})]}}],null,false,3382750843)}):_vm._e(),(\n        _vm.field.dataType === 'SINGLE_SELECT' &&\n        ['MASTER'].includes(_vm.field.options.optionsType)\n      )?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SelectField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"error\":errors[0],\"new-option\":_vm.field.options.allowToAddNewOptions,\"options\":_vm.options,\"is-readonly\":_vm.readOnly,\"page\":\"repository\"},on:{\"input\":_vm.handleInput}})]}}],null,false,768311157)}):_vm._e(),(_vm.field.dataType === 'BOOLEAN')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SingleChoiceField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"options\":_vm.booleanOptions,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,61245750)}):_vm._e(),(_vm.field.dataType === 'OMR')?_c('ValidationProvider',{staticClass:\"full-width\",attrs:{\"name\":_vm.field.name,\"rules\":{ required: _vm.field.isMandatory }},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('SingleChoiceField',{attrs:{\"value\":_vm.value,\"is-mandatory\":_vm.field.isMandatory,\"label\":_vm.label || _vm.field.name,\"options\":_vm.omrOptions,\"error\":errors[0],\"is-readonly\":_vm.readOnly},on:{\"input\":_vm.handleInput}})]}}],null,false,1875132930)}):_vm._e()],1),_c('div',{staticClass:\"row items-center justify-center q-mt-sm\"},[(_vm.visiableSyncBtn)?_c('BaseButton',{attrs:{\"label\":\"Sync\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.$emit('saveSync', _vm.field)}}}):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"repository-field\">\n      <!-- text -->\n\n      <div v-if=\"showFreeze\" id=\"checkbox-field\">\n        <BaseIcon\n          v-model=\"freezed\"\n          v-tooltip.top=\"'Freeze'\"\n          :name=\"\n            freezed ? 'eva-checkmark-circle-2' : 'eva-radio-button-off-outline'\n          \"\n          color=\"secondary\"\n          class=\"q-mr-sm\"\n          @click=\"handleFreeze\"\n        />\n      </div>\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'SHORT_TEXT' || field.dataType === 'BARCODE'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <TextField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- number -->\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'NUMBER'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{\n          required: field.isMandatory,\n          integer: !field.options.allowDecimals,\n        }\"\n        class=\"full-width\"\n      >\n        <NumberField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- date -->\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'DATE'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <DateField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- time -->\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'TIME'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <TimeField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- date time -->\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'DATE_TIME'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <DateTimeField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- select (EXISTING) && select (MASTER) -->\n\n      <ValidationProvider\n        v-if=\"\n          field.dataType === 'SINGLE_SELECT' &&\n          ['EXISTING'].includes(field.options.optionsType)\n        \"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <AsyncSelectField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :api-path=\"apiPath\"\n          :error=\"errors[0]\"\n          :new-option=\"field.options.allowToAddNewOptions\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- select (PREDEFINED) -->\n\n      <ValidationProvider\n        v-if=\"\n          field.dataType === 'SINGLE_SELECT' &&\n          field.options.optionsType === 'PREDEFINED'\n        \"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <SelectField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :new-option=\"field.options.allowToAddNewOptions\"\n          :options=\"predefinedSelectOptions\"\n          :is-readonly=\"readOnly\"\n          page=\"repository\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- select (MASTER) -->\n\n      <ValidationProvider\n        v-if=\"\n          field.dataType === 'SINGLE_SELECT' &&\n          ['MASTER'].includes(field.options.optionsType)\n        \"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <SelectField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :error=\"errors[0]\"\n          :new-option=\"field.options.allowToAddNewOptions\"\n          :options=\"options\"\n          :is-readonly=\"readOnly\"\n          page=\"repository\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- boolean -->\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'BOOLEAN'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <SingleChoiceField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :options=\"booleanOptions\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n\n      <!-- omr -->\n\n      <ValidationProvider\n        v-if=\"field.dataType === 'OMR'\"\n        v-slot=\"{ errors }\"\n        :name=\"field.name\"\n        :rules=\"{ required: field.isMandatory }\"\n        class=\"full-width\"\n      >\n        <SingleChoiceField\n          :value=\"value\"\n          :is-mandatory=\"field.isMandatory\"\n          :label=\"label || field.name\"\n          :options=\"omrOptions\"\n          :error=\"errors[0]\"\n          :is-readonly=\"readOnly\"\n          @input=\"handleInput\"\n        />\n      </ValidationProvider>\n\n      <!-- ... -->\n    </div>\n\n    <!-- sync -->\n    <!-- {{ field.isSync }} -->\n    <div class=\"row items-center justify-center q-mt-sm\">\n      <BaseButton\n        v-if=\"visiableSyncBtn\"\n        label=\"Sync\"\n        color=\"secondary\"\n        @click=\"$emit('saveSync', field)\"\n      />\n    </div>\n    <!-- ... -->\n  </div>\n</template>\n\n<script>\nimport { ValidationProvider } from \"vee-validate\";\nimport TextField from \"@/components/common/form/text-field/TextField.vue\";\nimport NumberField from \"@/components/common/form/number-field/NumberField.vue\";\nimport DateField from \"@/components/common/form/date-field/DateField.vue\";\nimport TimeField from \"@/components/common/form/time-field/TimeField.vue\";\nimport DateTimeField from \"@/components/common/form/date-time-field/DateTimeField.vue\";\nimport SelectField from \"@/components/common/form/select-field/SelectField.vue\";\nimport AsyncSelectField from \"@/components/common/form/async-select-field/AsyncSelectField.vue\";\nimport SingleChoiceField from \"@/components/common/form/single-choice-field/SingleChoiceField.vue\";\nimport { axiosCrypto } from \"@/api/axios.js\";\n\nexport default {\n  name: \"RepositoryField\",\n\n  components: {\n    ValidationProvider,\n    TextField,\n    NumberField,\n    DateField,\n    TimeField,\n    DateTimeField,\n    SelectField,\n    AsyncSelectField,\n    SingleChoiceField,\n  },\n\n  props: {\n    field: {\n      type: Object,\n      required: true,\n    },\n\n    repositoryId: {\n      type: [String, Number],\n      required: true,\n    },\n\n    value: {\n      type: [String, Number],\n      required: true,\n    },\n\n    readOnly: {\n      type: Boolean,\n      default: false,\n    },\n\n    label: {\n      type: String,\n      default: \"\",\n    },\n\n    syncField: {\n      type: Object,\n      default: () => {},\n    },\n\n    parentControl: {\n      type: Boolean,\n      default: false,\n    },\n\n    rowIndex: {\n      type: Number,\n      required: true,\n    },\n\n    filter: {\n      type: Boolean,\n      default: false,\n    },\n\n    freezedData: {\n      type: Object,\n      default: () => {},\n    },\n\n    showFreeze: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      booleanOptions: [\n        {\n          id: this.$nano.id(),\n          label: this.field.options.truthyValue,\n          value: this.field.options.truthyValue,\n        },\n        {\n          id: this.$nano.id(),\n          label: this.field.options.falsyValue,\n          value: this.field.options.falsyValue,\n        },\n      ],\n      omrOptions: [\n        {\n          id: this.$nano.id(),\n          label: \"Yes\",\n          value: \"true\",\n        },\n        {\n          id: this.$nano.id(),\n          label: \"No\",\n          value: \"false\",\n        },\n      ],\n      visiableSyncBtn: false,\n      options: [],\n      freeze: false,\n      freezeData: this.freezedData,\n      freezed: false,\n    };\n  },\n\n  computed: {\n    predefinedSelectOptions() {\n      return this.field.options.predefinedOptions.map((option) => ({\n        id: this.$nano.id(),\n        label: option,\n        value: option,\n      }));\n    },\n\n    apiPath() {\n      return `/repository/${this.repositoryId}/uniqueColumnValues`;\n    },\n  },\n\n  watch: {\n    field: {\n      immediate: true,\n      async handler() {\n        for (let key in this.syncField) {\n          if (this.syncField[key] === this.field.name) {\n            this.visiableSyncBtn = true;\n          }\n        }\n      },\n    },\n\n    filter: {\n      immediate: true,\n      deep: true,\n      handler() {\n        if (this.field.filterBy) {\n          if (this.field.options.masterFormId) {\n            this.getMasterEntriesFilter(this.field);\n          }\n        }\n      },\n    },\n  },\n\n  created() {\n    if (this.freezedData) {\n      this.freezed = this.field.name in this.freezedData;\n    }\n    if (this.field.options.masterFormId) {\n      this.getMasterEntries(\n        this.field.options.masterFormId,\n        this.field.options.masterTableColumn\n      );\n    }\n  },\n\n  methods: {\n    handleInput(value) {\n      this.$emit(\"input\", value);\n\n      if (this.parentControl) {\n        this.$emit(\"filterBy\", this.field, this.rowIndex);\n      }\n\n      if (this.freezed) {\n        this.updateOrAddField(this.field.name, value);\n      }\n    },\n\n    handleFreeze() {\n      this.freezed = !this.freezed;\n      if (this.freezed) {\n        this.updateOrAddField(this.field.name, this.value);\n        // this.$emit('update:freezedData',this.freezeData)\n        this.$emit(\"update:freezed\", this.freeze);\n      } else {\n        this.$emit(\"update:removeFreezed\", this.field.name);\n      }\n    },\n\n    updateOrAddField(field, value) {\n      if (field in this.freezeData) {\n        this.freezeData[field] = value;\n      } else {\n        this.freezeData = {\n          ...this.freezeData,\n\n          [field]: value,\n        };\n      }\n      this.$emit(\"update:freezedData\", this.freezeData);\n    },\n\n    async getMasterEntries(formId, column) {\n      try {\n        const response = await axiosCrypto.post(\n          `/form/${formId}/uniqueColumnValues`,\n          JSON.stringify({\n            column: column,\n            keyword: \"\",\n            rowFrom: 0,\n            rowCount: 0, // + 10,\n          })\n        );\n        const { status, data } = response;\n        if (status !== 200) {\n          throw response;\n        }\n\n        // this.options = data;\n        const options = JSON.parse(data);\n        if (options.length) {\n          this.options = options.map((option) => ({\n            id: this.$nano.id(),\n            label: option,\n            value: option,\n          }));\n        }\n        // let optVal = this.options.find((row) => row.label === this.value);\n        // if (!optVal) {\n        //   if (this.value) {\n        //     this.options.push({\n        //       id: this.$nano.id(),\n        //       label: this.value,\n        //       value: this.value,\n        //     });\n        //   }\n        // }\n      } catch (e) {\n        console.error(e);\n        this.$alert.error(\"Error fetching options\");\n      }\n    },\n\n    async getMasterEntriesFilter(field) {\n      try {\n        const response = await axiosCrypto.post(\n          `/form/${field.options.masterFormId}/uniqueColumnValues`,\n          JSON.stringify({\n            column: field.options.masterTableColumn,\n            keyword: \"\",\n            rowFrom: 0,\n            rowCount: 0, // + 10,\n            filters: field.filterBy,\n          })\n        );\n        const { status, data } = response;\n        if (status !== 200) {\n          throw response;\n        }\n        const options = JSON.parse(data);\n        if (options.length) {\n          this.options = options.map((option) => ({\n            id: this.$nano.id(),\n            label: option,\n            value: option,\n          }));\n          if (this.options.length === 1) {\n            //this.$emit(\"input\", this.options[0].value);\n            this.handleInput(this.options[0].value);\n          }\n          // this.$emit(\"clearFilter\");\n        } else {\n          // if (this.value) {\n          //   this.options = [\n          //     {\n          //       id: this.$nano.id(),\n          //       label: this.value,\n          //       value: this.value,\n          //     },\n          //   ];\n          // }\n          if (this.field.options.masterFormId) {\n            this.getMasterEntries(\n              this.field.options.masterFormId,\n              this.field.options.masterTableColumn\n            );\n          }\n          this.handleInput(\"\");\n          // this.$emit(\"clearFilter\");\n        }\n      } catch (e) {\n        console.error(e);\n        this.$alert.error(\"Error fetching options\");\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#repository-field {\n  display: flex;\n\n  #checkbox-field {\n    margin-top: 42px;\n    cursor: pointer;\n  }\n\n  .full-width {\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepositoryField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepositoryField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RepositoryField.vue?vue&type=template&id=174d3602&scoped=true&\"\nimport script from \"./RepositoryField.vue?vue&type=script&lang=js&\"\nexport * from \"./RepositoryField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RepositoryField.vue?vue&type=style&index=0&id=174d3602&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"174d3602\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nexport default Vue.extend({\n  name: 'QChatMessage',\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    sent: Boolean,\n    label: String,\n    bgColor: String,\n    textColor: String,\n    name: String,\n    avatar: String,\n    text: Array,\n    stamp: String,\n    size: String,\n    labelSanitize: Boolean,\n    nameSanitize: Boolean,\n    textSanitize: Boolean,\n    stampSanitize: Boolean\n  },\n\n  computed: {\n    textClass () {\n      return `q-message-text-content q-message-text-content--${this.op}` +\n        (this.textColor !== void 0 ? ` text-${this.textColor}` : '')\n    },\n\n    messageClass () {\n      return `q-message-text q-message-text--${this.op}` +\n        (this.bgColor !== void 0 ? ` text-${this.bgColor}` : '')\n    },\n\n    containerClass () {\n      return 'q-message-container row items-end no-wrap' +\n        (this.sent === true ? ' reverse' : '')\n    },\n\n    sizeClass () {\n      if (this.size !== void 0) {\n        return `col-${this.size}`\n      }\n    },\n\n    op () {\n      return this.sent === true ? 'sent' : 'received'\n    }\n  },\n\n  methods: {\n    __wrapStamp (h, node) {\n      if (this.$scopedSlots.stamp !== void 0) {\n        return [ node, h('div', { staticClass: 'q-message-stamp' }, this.$scopedSlots.stamp()) ]\n      }\n\n      if (this.stamp) {\n        const domPropStamp = this.stampSanitize === true ? 'textContent' : 'innerHTML'\n\n        return [\n          node,\n          h('div', {\n            staticClass: 'q-message-stamp',\n            domProps: { [domPropStamp]: this.stamp }\n          })\n        ]\n      }\n\n      return [ node ]\n    },\n\n    __getText (h, contentList, withSlots) {\n      const domPropText = this.textSanitize === true ? 'textContent' : 'innerHTML'\n\n      if (\n        withSlots === true &&\n        contentList.some(entry => entry.tag === void 0 && entry.text !== void 0) === true\n      ) {\n        return [\n          h('div', { class: this.messageClass }, [\n            h('div', { class: this.textClass }, this.__wrapStamp(h, h('div', contentList)))\n          ])\n        ]\n      }\n\n      const content = withSlots !== true\n        ? text => h('div', { domProps: { [domPropText]: text } })\n        : (contentList.length > 1 ? text => text : text => h('div', [text]))\n\n      return contentList.map((msg, index) => h('div', {\n        key: index,\n        class: this.messageClass\n      }, [\n        h('div', { class: this.textClass }, this.__wrapStamp(h, content(msg)))\n      ]))\n    }\n  },\n\n  render (h) {\n    const container = []\n\n    if (this.$scopedSlots.avatar !== void 0) {\n      container.push(this.$scopedSlots.avatar())\n    }\n    else if (this.avatar !== void 0) {\n      container.push(\n        h('img', {\n          class: `q-message-avatar q-message-avatar--${this.op}`,\n          attrs: { src: this.avatar, 'aria-hidden': 'true' }\n        })\n      )\n    }\n\n    const msg = []\n\n    if (this.$scopedSlots.name !== void 0) {\n      msg.push(\n        h('div', {\n          class: `q-message-name q-message-name--${this.op}`\n        }, this.$scopedSlots.name())\n      )\n    }\n    else if (this.name !== void 0) {\n      msg.push(\n        h('div', {\n          class: `q-message-name q-message-name--${this.op}`,\n          domProps: { [this.nameSanitize === true ? 'textContent' : 'innerHTML']: this.name }\n        })\n      )\n    }\n\n    this.text !== void 0 && msg.push(\n      this.__getText(h, this.text)\n    )\n\n    this.$scopedSlots.default !== void 0 && msg.push(\n      this.__getText(h, this.$scopedSlots.default(), true)\n    )\n\n    container.push(\n      h('div', { class: this.sizeClass }, msg)\n    )\n\n    const child = []\n\n    if (this.$scopedSlots.label !== void 0) {\n      child.push(\n        h('div', { staticClass: 'q-message-label' }, this.$scopedSlots.label())\n      )\n    }\n    else if (this.label !== void 0) {\n      child.push(\n        h('div', {\n          staticClass: 'q-message-label',\n          domProps: { [this.labelSanitize === true ? 'textContent' : 'innerHTML']: this.label }\n        })\n      )\n    }\n\n    child.push(\n      h('div', { class: this.containerClass }, container)\n    )\n\n    return h('div', {\n      class: `q-message q-message-${this.op}`,\n      on: { ...this.qListeners }\n    }, child)\n  }\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Modal',{attrs:{\"width\":_vm.externalAccess ? '100vw' : '70vw',\"external-access\":_vm.externalAccess},on:{\"input\":_vm.closeModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"\\\"\"+_vm._s(_vm.historyTitle)+\"\\\" Process History\")]},proxy:true},{key:\"action\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Export'),expression:\"'Export'\",modifiers:{\"top\":true}}],attrs:{\"is-flat\":\"\",\"no-border\":\"\",\"icon\":\"mdi-table-arrow-right\"},on:{\"click\":_vm.export_Data}})]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{attrs:{\"id\":\"processHistory\"}},[_c('div',{staticClass:\"col-12 q-mb-md q-pt-sm\"},[_c('Stepper',{attrs:{\"stage-level\":_vm.stageLevel,\"current-step\":_vm.currentStep}})],1),_c('table',{attrs:{\"id\":\"history\"}},[_c('thead',[_c('tr',_vm._l((_vm.columns),function(column){return _c('th',{key:column.id},[_vm._v(\" \"+_vm._s(column.label)+\" \")])}),0)]),_c('tbody',[_vm._l((_vm.processHistoryData),function(item){return [_c('tr',{key:item.id},_vm._l((_vm.columns),function(column){return _c('td',{key:column.id,staticClass:\"ellipsis\"},[_vm._t(column.name,function(){return [(column.type === 'DATE')?[_vm._v(\" \"+_vm._s(_vm.$day.format(item[column.name]) || \"-\")+\" \")]:(column.name === 'stage')?[_vm._v(\" \"+_vm._s(item[column.name] || \"-\")+\" \"),(item.subWorkflowHistory)?[(item.subWorkflowHistory.length)?[_c('span',{staticClass:\"text-secondary\"},[_vm._v(\" [CONNECTOR] \")])]:_vm._e()]:_vm._e()]:[_vm._v(\" \"+_vm._s(item[column.name] || \"-\")+\" \")]]},{\"value\":item[column.name],\"item\":item})],2)}),0),(item.comments.length)?_c('tr',{key:item.id,on:{\"click\":function($event){item.showComments = !item.showComments}}},[_c('td',{staticClass:\"comments\",attrs:{\"colspan\":\"6\"}},[_c('BaseIcon',{attrs:{\"name\":item.showComments\n                        ? 'eva-arrow-downward-outline'\n                        : 'eva-arrow-forward-outline',\"color\":\"primary\"}}),_vm._v(\" Comments (\"+_vm._s(item.comments.length)+\") \")],1)]):_vm._e(),(item.comments.length && item.showComments)?_c('tr',{key:item.id},[_c('td',{attrs:{\"colspan\":\"6\"}},[_c('table',{attrs:{\"id\":\"comments1\"}},[_c('thead',[_c('tr',[_c('th',{staticClass:\"large\"},[_vm._v(\"Comments\")]),_c('th',{staticClass:\"medium\"},[_vm._v(\"Commented By\")]),_c('th',{staticClass:\"medium\"},[_vm._v(\"Commented On\")]),_c('th',{staticClass:\"medium\"},[_vm._v(\"Attached In\")])])]),_c('tbody',[_vm._l((item.comments),function(comment,index){return [_c('tr',{key:index},[_c('td',{staticClass:\"commentsText ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.removeTags(comment.comments) || \"-\")+\" \")]),_c('td',{staticClass:\"ellipsis\"},[_vm._v(\" \"+_vm._s(comment.createdByEmail || \"-\")+\" \")]),_c('td',{staticClass:\"ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.$day.format(comment.createdAt) || \"-\")+\" \")]),_c('td',[(\n                                comment.embedFileList &&\n                                comment.embedFileList.length\n                              )?[_c('div',{staticClass:\"file-icons\",on:{\"click\":function($event){return _vm.openFileByCmd(comment.embedFileList[0])}}},[_c('FileIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(\n                                    comment.embedFileList[0].fileName\n                                  ),expression:\"\\n                                    comment.embedFileList[0].fileName\\n                                  \",modifiers:{\"top\":true}}],key:`Icon-${index}`,staticClass:\"file-icon q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(\n                                      comment.embedFileList[0].fileName\n                                    )}}),_c('a',{staticClass:\"file-link\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(_vm._s(comment.embedFileList[0].fileName || \"-\"))])],1)]:[_vm._v(\" \"+_vm._s(\"-\")+\" \")]],2)])]})],2)])])]):_vm._e(),(item.attachments.length)?_c('tr',{key:item.id},[_c('td',{staticClass:\"attachments\",attrs:{\"colspan\":\"6\"},on:{\"click\":function($event){item.showAttachments = !item.showAttachments}}},[_c('BaseIcon',{attrs:{\"name\":item.showAttachments\n                        ? 'eva-arrow-downward-outline'\n                        : 'eva-arrow-forward-outline',\"color\":\"primary\"}}),_vm._v(\" Attachments (\"+_vm._s(item.attachments.length)+\") \")],1)]):_vm._e(),(item.attachments.length && item.showAttachments)?_c('tr',{key:item.id},[_c('td',{attrs:{\"colspan\":\"6\"}},[_c('table',{attrs:{\"id\":\"attachments\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"File Name\")]),_c('th',[_vm._v(\"Attached By\")]),_c('th',[_vm._v(\"Attached On\")])])]),_c('tbody',[_vm._l((item.attachments),function(file,index){return [_c('tr',{key:index},[_c('td',[_vm._v(_vm._s(file.name || \"-\"))]),_c('td',[_vm._v(_vm._s(file.createdByEmail || \"-\"))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$day.format(file.createdAt) || \"-\")+\" \")])])]})],2)])])]):_vm._e(),(item.subWorkflowHistory)?[(item.subWorkflowHistory.length)?_c('tr',{key:item.id},[_c('td',{staticClass:\"attachments\",attrs:{\"colspan\":\"6\"},on:{\"click\":function($event){item.showSubWorkflowHistory =\n                        !item.showSubWorkflowHistory}}},[_c('BaseIcon',{attrs:{\"name\":item.showSubWorkflowHistory\n                          ? 'eva-arrow-downward-outline'\n                          : 'eva-arrow-forward-outline',\"color\":\"primary\"}}),(item.actionStatus === 1)?[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Completed'),expression:\"'Completed'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-xs q-mr-xs\",attrs:{\"name\":\"mdi-progress-check\",\"color\":\"green\"}})]:(item.actionStatus === 0)?[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('In-progress'),expression:\"'In-progress'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-xs q-mr-xs\",attrs:{\"name\":\"mdi-progress-clock\",\"color\":\"orange\"}})]:_vm._e(),_vm._v(\" \"+_vm._s(item.subWorkflowHistory[0].requestNo)+\" \")],2)]):_vm._e(),(item.showSubWorkflowHistory)?_c('tr',{key:item.id},[_c('td',{attrs:{\"colspan\":\"6\"}},[_c('table',{attrs:{\"id\":\"attachments\"}},[_c('thead',_vm._l((_vm.columns),function(column){return _c('th',{key:column.id},[_vm._v(\" \"+_vm._s(column.label)+\" \")])}),0),_c('tbody',[_vm._l((item.subWorkflowHistory),function(items){return [_c('tr',{key:items.id},_vm._l((_vm.columns),function(column){return _c('td',{key:column.id,staticClass:\"ellipsis\"},[_vm._t(column.name,function(){return [(column.type === 'DATE')?[_vm._v(\" \"+_vm._s(_vm.$day.format(items[column.name]) || \"-\")+\" \")]:[_vm._v(\" \"+_vm._s(items[column.name] || \"-\")+\" \")]]},{\"value\":items[column.name],\"item\":items})],2)}),0)]})],2)])])]):_vm._e()]:_vm._e()]})],2)])])]},proxy:true}],null,true),model:{value:(_vm.processHistoryModal),callback:function ($$v) {_vm.processHistoryModal=$$v},expression:\"processHistoryModal\"}}),_c('Sheet',{attrs:{\"no-padding\":\"\",\"width\":\"100vw\"},on:{\"input\":function($event){_vm.fileSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"attachmentFileHeader\"},[_c('div',{staticClass:\"avatar q-ml-sm\"},[_c('FileIcon',{attrs:{\"mime-type\":_vm.fileType(_vm.selectedFile.name)}})],1),_c('div',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"filename\"},[_vm._v(\" \"+_vm._s(_vm.selectedFile.name)+\" \")]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(\" Archived At: \"+_vm._s(_vm.$day.format(_vm.selectedFiles[0].createdAt))+\" \")]),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(\"Archived By: \"+_vm._s(_vm.selectedFiles[0].createdByEmail))]),(_vm.selectedFiles[0].size)?_c('div',[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" File Size: \"+_vm._s(_vm.fileSize(_vm.selectedFiles[0].size))+\" \")],1):_vm._e()],1)])])]},proxy:true}]),model:{value:(_vm.fileSheet),callback:function ($$v) {_vm.fileSheet=$$v},expression:\"fileSheet\"}},[_c('div',{staticClass:\"attachmentFileFrame\"},[_c('div',{staticClass:\"file-list\"},[_c('iframe',{ref:\"myAttachmentFiles\",attrs:{\"id\":\"file-frame\",\"src\":_vm.fileLink(),\"frameborder\":\"0\"}})])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Modal\r\n      v-model=\"processHistoryModal\"\r\n      :width=\"externalAccess ? '100vw' : '70vw'\"\r\n      :external-access=\"externalAccess\"\r\n      @input=\"closeModal\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title>\"{{ historyTitle }}\" Process History</template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- action -->\r\n\r\n      <template #action>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'Export'\"\r\n          is-flat\r\n          no-border\r\n          icon=\"mdi-table-arrow-right\"\r\n          @click=\"export_Data\"\r\n        />\r\n      </template>\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <div id=\"processHistory\">\r\n          <div class=\"col-12 q-mb-md q-pt-sm\">\r\n            <Stepper :stage-level=\"stageLevel\" :current-step=\"currentStep\" />\r\n          </div>\r\n\r\n          <table id=\"history\">\r\n            <thead>\r\n              <tr>\r\n                <!-- columns -->\r\n\r\n                <th v-for=\"column in columns\" :key=\"column.id\">\r\n                  {{ column.label }}\r\n                </th>\r\n\r\n                <!-- ... -->\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <template v-for=\"item in processHistoryData\">\r\n                <tr :key=\"item.id\">\r\n                  <!-- columns -->\r\n\r\n                  <td\r\n                    v-for=\"column in columns\"\r\n                    :key=\"column.id\"\r\n                    class=\"ellipsis\"\r\n                  >\r\n                    <slot\r\n                      :name=\"column.name\"\r\n                      :value=\"item[column.name]\"\r\n                      :item=\"item\"\r\n                    >\r\n                      <template v-if=\"column.type === 'DATE'\">\r\n                        {{ $day.format(item[column.name]) || \"-\" }}\r\n                      </template>\r\n                      <template v-else-if=\"column.name === 'stage'\">\r\n                        {{ item[column.name] || \"-\" }}\r\n                        <template v-if=\"item.subWorkflowHistory\">\r\n                          <template v-if=\"item.subWorkflowHistory.length\">\r\n                            <span class=\"text-secondary\"> [CONNECTOR] </span>\r\n                          </template>\r\n                        </template>\r\n                      </template>\r\n                      <template v-else>\r\n                        {{ item[column.name] || \"-\" }}\r\n                      </template>\r\n                    </slot>\r\n                  </td>\r\n\r\n                  <!-- ... -->\r\n                </tr>\r\n                <tr\r\n                  v-if=\"item.comments.length\"\r\n                  :key=\"item.id\"\r\n                  @click=\"item.showComments = !item.showComments\"\r\n                >\r\n                  <td class=\"comments\" colspan=\"6\">\r\n                    <BaseIcon\r\n                      :name=\"\r\n                        item.showComments\r\n                          ? 'eva-arrow-downward-outline'\r\n                          : 'eva-arrow-forward-outline'\r\n                      \"\r\n                      color=\"primary\"\r\n                    ></BaseIcon>\r\n                    Comments ({{ item.comments.length }})\r\n                  </td>\r\n                </tr>\r\n                <tr\r\n                  v-if=\"item.comments.length && item.showComments\"\r\n                  :key=\"item.id\"\r\n                >\r\n                  <td colspan=\"6\">\r\n                    <table id=\"comments1\">\r\n                      <thead>\r\n                        <tr>\r\n                          <!-- columns -->\r\n\r\n                          <th class=\"large\">Comments</th>\r\n                          <th class=\"medium\">Commented By</th>\r\n                          <th class=\"medium\">Commented On</th>\r\n                          <th class=\"medium\">Attached In</th>\r\n\r\n                          <!-- ... -->\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        <template v-for=\"(comment, index) in item.comments\">\r\n                          <tr :key=\"index\">\r\n                            <!-- columns -->\r\n\r\n                            <td class=\"commentsText ellipsis\">\r\n                              {{ removeTags(comment.comments) || \"-\" }}\r\n                            </td>\r\n                            <td class=\"ellipsis\">\r\n                              {{ comment.createdByEmail || \"-\" }}\r\n                            </td>\r\n                            <td class=\"ellipsis\">\r\n                              {{ $day.format(comment.createdAt) || \"-\" }}\r\n                            </td>\r\n                            <td>\r\n                              <template\r\n                                v-if=\"\r\n                                  comment.embedFileList &&\r\n                                  comment.embedFileList.length\r\n                                \"\r\n                              >\r\n                                <div\r\n                                  class=\"file-icons\"\r\n                                  @click=\"\r\n                                    openFileByCmd(comment.embedFileList[0])\r\n                                  \"\r\n                                >\r\n                                  <FileIcon\r\n                                    :key=\"`Icon-${index}`\"\r\n                                    v-tooltip.top=\"\r\n                                      comment.embedFileList[0].fileName\r\n                                    \"\r\n                                    :mime-type=\"\r\n                                      fileType(\r\n                                        comment.embedFileList[0].fileName\r\n                                      )\r\n                                    \"\r\n                                    class=\"file-icon q-mr-sm\"\r\n                                  />\r\n                                  <a\r\n                                    href=\"javascript:void(0)\"\r\n                                    class=\"file-link\"\r\n                                    @click.prevent\r\n                                    >{{\r\n                                      comment.embedFileList[0].fileName || \"-\"\r\n                                    }}</a\r\n                                  >\r\n                                </div>\r\n                              </template>\r\n                              <template v-else>\r\n                                {{ \"-\" }}\r\n                              </template>\r\n                            </td>\r\n\r\n                            <!-- ... -->\r\n                          </tr>\r\n                        </template>\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                </tr>\r\n                <tr v-if=\"item.attachments.length\" :key=\"item.id\">\r\n                  <td\r\n                    class=\"attachments\"\r\n                    colspan=\"6\"\r\n                    @click=\"item.showAttachments = !item.showAttachments\"\r\n                  >\r\n                    <BaseIcon\r\n                      :name=\"\r\n                        item.showAttachments\r\n                          ? 'eva-arrow-downward-outline'\r\n                          : 'eva-arrow-forward-outline'\r\n                      \"\r\n                      color=\"primary\"\r\n                    ></BaseIcon>\r\n                    Attachments ({{ item.attachments.length }})\r\n                  </td>\r\n                </tr>\r\n                <tr\r\n                  v-if=\"item.attachments.length && item.showAttachments\"\r\n                  :key=\"item.id\"\r\n                >\r\n                  <td colspan=\"6\">\r\n                    <table id=\"attachments\">\r\n                      <thead>\r\n                        <tr>\r\n                          <!-- columns -->\r\n\r\n                          <th>File Name</th>\r\n                          <th>Attached By</th>\r\n                          <th>Attached On</th>\r\n\r\n                          <!-- ... -->\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        <template v-for=\"(file, index) in item.attachments\">\r\n                          <tr :key=\"index\">\r\n                            <!-- columns -->\r\n\r\n                            <td>{{ file.name || \"-\" }}</td>\r\n                            <td>{{ file.createdByEmail || \"-\" }}</td>\r\n                            <td>\r\n                              {{ $day.format(file.createdAt) || \"-\" }}\r\n                            </td>\r\n\r\n                            <!-- ... -->\r\n                          </tr>\r\n                        </template>\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                </tr>\r\n                <template v-if=\"item.subWorkflowHistory\">\r\n                  <tr v-if=\"item.subWorkflowHistory.length\" :key=\"item.id\">\r\n                    <td\r\n                      class=\"attachments\"\r\n                      colspan=\"6\"\r\n                      @click=\"\r\n                        item.showSubWorkflowHistory =\r\n                          !item.showSubWorkflowHistory\r\n                      \"\r\n                    >\r\n                      <BaseIcon\r\n                        :name=\"\r\n                          item.showSubWorkflowHistory\r\n                            ? 'eva-arrow-downward-outline'\r\n                            : 'eva-arrow-forward-outline'\r\n                        \"\r\n                        color=\"primary\"\r\n                      ></BaseIcon>\r\n\r\n                      <template v-if=\"item.actionStatus === 1\">\r\n                        <BaseIcon\r\n                          v-tooltip.top=\"'Completed'\"\r\n                          name=\"mdi-progress-check\"\r\n                          color=\"green\"\r\n                          class=\"q-ml-xs q-mr-xs\"\r\n                        />\r\n                      </template>\r\n                      <template v-else-if=\"item.actionStatus === 0\">\r\n                        <BaseIcon\r\n                          v-tooltip.top=\"'In-progress'\"\r\n                          name=\"mdi-progress-clock\"\r\n                          color=\"orange\"\r\n                          class=\"q-ml-xs q-mr-xs\"\r\n                        />\r\n                      </template>\r\n\r\n                      {{ item.subWorkflowHistory[0].requestNo }}\r\n                    </td>\r\n                  </tr>\r\n                  <tr v-if=\"item.showSubWorkflowHistory\" :key=\"item.id\">\r\n                    <td colspan=\"6\">\r\n                      <table id=\"attachments\">\r\n                        <thead>\r\n                          <th v-for=\"column in columns\" :key=\"column.id\">\r\n                            {{ column.label }}\r\n                          </th>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                          <template v-for=\"items in item.subWorkflowHistory\">\r\n                            <tr :key=\"items.id\">\r\n                              <!-- columns -->\r\n\r\n                              <td\r\n                                v-for=\"column in columns\"\r\n                                :key=\"column.id\"\r\n                                class=\"ellipsis\"\r\n                              >\r\n                                <slot\r\n                                  :name=\"column.name\"\r\n                                  :value=\"items[column.name]\"\r\n                                  :item=\"items\"\r\n                                >\r\n                                  <template v-if=\"column.type === 'DATE'\">\r\n                                    {{ $day.format(items[column.name]) || \"-\" }}\r\n                                  </template>\r\n\r\n                                  <template v-else>\r\n                                    {{ items[column.name] || \"-\" }}\r\n                                  </template>\r\n                                </slot>\r\n                              </td>\r\n\r\n                              <!-- ... -->\r\n                            </tr>\r\n                          </template>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </template>\r\n              </template>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </template>\r\n    </Modal>\r\n    <Sheet\r\n      v-model=\"fileSheet\"\r\n      no-padding\r\n      width=\"100vw\"\r\n      @input=\"fileSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title>\r\n        <div class=\"attachmentFileHeader\">\r\n          <div class=\"avatar q-ml-sm\">\r\n            <FileIcon :mime-type=\"fileType(selectedFile.name)\" />\r\n          </div>\r\n\r\n          <div class=\"q-ml-md\">\r\n            <div class=\"filename\">\r\n              {{ selectedFile.name }}\r\n            </div>\r\n\r\n            <div class=\"meta\">\r\n              <div>\r\n                Archived At: {{ $day.format(selectedFiles[0].createdAt) }}\r\n              </div>\r\n              <BaseIcon name=\"mdi-circle-small\" />\r\n              <div>Archived By: {{ selectedFiles[0].createdByEmail }}</div>\r\n              <div v-if=\"selectedFiles[0].size\">\r\n                <BaseIcon name=\"mdi-circle-small\" />\r\n                File Size: {{ fileSize(selectedFiles[0].size) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- <template #actions>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'Actions'\"\r\n          is-flat\r\n          icon=\"eva-menu\"\r\n          class=\"q-mr-sm\"\r\n        >\r\n          <q-menu\r\n            transition-show=\"scale\"\r\n            transition-hide=\"scale\"\r\n            anchor=\"bottom end\"\r\n            self=\"top right\"\r\n          >\r\n            <BaseScrollbar width=\"240px\" class=\"q-pb-sm\">\r\n     \r\n\r\n              <ListItem\r\n                v-for=\"action in documentActionList\"\r\n                :key=\"action.id\"\r\n                :icon=\"action.icon\"\r\n                :label=\"action.label\"\r\n             \r\n              >\r\n              </ListItem>\r\n            </BaseScrollbar>\r\n\r\n           \r\n          </q-menu>\r\n        </BaseActionButton>\r\n      </template> -->\r\n\r\n      <div class=\"attachmentFileFrame\">\r\n        <div class=\"file-list\">\r\n          <iframe\r\n            id=\"file-frame\"\r\n            ref=\"myAttachmentFiles\"\r\n            :src=\"fileLink()\"\r\n            frameborder=\"0\"\r\n          ></iframe>\r\n        </div>\r\n      </div>\r\n    </Sheet>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { workflow } from \"@/api/factory.js\";\r\nimport Modal from \"@/components/common/popup/Modal.vue\";\r\nimport Stepper from \"./Stepper.vue\";\r\nimport FileIcon from \"@/components/common/FileIcon.vue\";\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport {\r\n  pdfSupport,\r\n  htmlSupport,\r\n  otherFilePDFSupport,\r\n} from \"@/helpers/file-format.js\";\r\nimport formatBytes from \"@/helpers/format-bytes.js\";\r\nimport { exportData } from \"@/helpers/export-excel-data\";\r\n\r\nexport default {\r\n  name: \"ProcessHistory\",\r\n\r\n  components: {\r\n    Modal,\r\n    Stepper,\r\n    Sheet,\r\n    FileIcon,\r\n  },\r\n\r\n  props: {\r\n    processId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n\r\n    selectedProcess: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    externalAccess: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      historyTitle: \"\",\r\n      processHistoryData: [],\r\n      processHistoryModal: false,\r\n      columns: [\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"stage\",\r\n          label: \"STAGE\",\r\n          type: \"SHORT_TEXT\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"actionUser\",\r\n          label: \"ACTION USER\",\r\n          type: \"SHORT_TEXT\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"receivedOn\",\r\n          label: \"RECEIVED ON\",\r\n          type: \"DATE\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"processedBy\",\r\n          label: \"PROCESSED BY\",\r\n          type: \"SHORT_TEXT\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"processedOn\",\r\n          label: \"PROCESSED ON\",\r\n          type: \"DATE\",\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          name: \"status\",\r\n          label: \"STATUS\",\r\n          type: \"SHORT_TEXT\",\r\n        },\r\n      ],\r\n      stageLevel: [],\r\n      currentStep: 0,\r\n      selectedFile: {},\r\n      fileSheet: false,\r\n      selectedFiles: [],\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    processId: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.processId) {\r\n          this.showHistory(this.processId);\r\n        }\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async showHistory(processId) {\r\n      this.processHistoryModal = true;\r\n      this.processHistoryData = [];\r\n      this.historyTitle = this.selectedProcess.requestNo;\r\n\r\n      this.$store.commit(\"showLoadingBarSave\");\r\n      const { error, payload } = await workflow.processHistory(\r\n        this.selectedProcess.id,\r\n        processId\r\n      );\r\n      this.$store.commit(\"hideLoadingBarSave\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        payload.forEach((item) => {\r\n          this.processHistoryData.push({\r\n            ...item,\r\n            showComments: false,\r\n            showAttachments: false,\r\n            showSubWorkflowHistory: false,\r\n          });\r\n        });\r\n\r\n        this.stageLevel = [];\r\n        this.currentStep = 0;\r\n        payload.forEach((row) => {\r\n          if (row.actionStatus !== 2) {\r\n            if (\r\n              this.stageLevel.filter((stage) => stage.id === row.activityId)\r\n                .length === 0\r\n            ) {\r\n              this.stageLevel.push({\r\n                id: row.activityId,\r\n                label: row.stage,\r\n                status: row.status,\r\n              });\r\n              if (\r\n                ((row.actionUser || row.subWorkflowHistory) &&\r\n                  row.status &&\r\n                  row.status !== \"Forward\") ||\r\n                (row.actionUser === null && !row.subWorkflowHistory)\r\n              ) {\r\n                this.currentStep += 1;\r\n              }\r\n            } else if (row.status) {\r\n              if (\r\n                this.stageLevel.filter(\r\n                  (stage) =>\r\n                    stage.id === row.activityId && stage.status !== row.status\r\n                ).length\r\n              ) {\r\n                this.currentStep += 1;\r\n              } else {\r\n                this.currentStep -= 1;\r\n              }\r\n            } else {\r\n              let index = this.stageLevel.findIndex(\r\n                (stage) => stage.id === row.activityId\r\n              );\r\n              if (index > -1) {\r\n                this.stageLevel.splice(index, this.stageLevel.length - index);\r\n                this.stageLevel.push({\r\n                  id: row.activityId,\r\n                  label: row.stage,\r\n                  status: row.status,\r\n                });\r\n                if (\r\n                  (row.actionUser && row.status && row.status !== \"Forward\") ||\r\n                  row.actionUser === null\r\n                ) {\r\n                  this.currentStep = index + 1;\r\n                } else {\r\n                  this.currentStep = index;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    openFileByCmd(file) {\r\n      const originalFile = file;\r\n      const { fileName: name, itemid: id, ...rest } = originalFile;\r\n      this.selectedFile = { name, id, ...rest };\r\n      const allAttachments = this.processHistoryData\r\n        .map((item) => item.attachments)\r\n        .flat();\r\n      this.selectedFiles = allAttachments.filter(\r\n        (item) =>\r\n          item.id == this.selectedFile.id && item.name == this.selectedFile.name\r\n      );\r\n\r\n      this.openFile(this.selectedFile);\r\n    },\r\n    fileSize(size) {\r\n      return formatBytes(size);\r\n    },\r\n\r\n    fileLink() {\r\n      let origin = location.origin.replace(\r\n        \"http://localhost:8080\",\r\n        \"http://52.172.32.88\"\r\n      );\r\n      if (this.selectedFile.name) {\r\n        let ext = this.selectedFile.name.split(\".\").pop();\r\n        if (this.selectedFile.initiate) {\r\n          let type = 1;\r\n          if (\r\n            this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n            this.workflow.initiatedBy === \"FORM\"\r\n          ) {\r\n            type = 2;\r\n          }\r\n          if (pdfSupport(ext)) {\r\n            if (\r\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n            ) {\r\n              return `https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n            } else if (origin === \"https://trial.ezofis.com\") {\r\n              return `https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n            } else if (origin === \"https://app.ezofis.com\") {\r\n              return `https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n            } else {\r\n              return `${origin}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n            }\r\n          } else if (origin === \"http://52.172.32.88\") {\r\n            return `http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n          } else {\r\n            return `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}`;\r\n          }\r\n        } else {\r\n          if (pdfSupport(ext)) {\r\n            if (\r\n              origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n              origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n            ) {\r\n              return `https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`;\r\n            } else if (\r\n              origin === \"https://trial.ezofis.com\" &&\r\n              !otherFilePDFSupport(ext)\r\n            ) {\r\n              return `https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`;\r\n            } else if (origin === \"https://app.ezofis.com\") {\r\n              return `https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`;\r\n            } else {\r\n              return `${origin}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`;\r\n            }\r\n          } else if (!htmlSupport(ext) && origin === \"http://52.172.32.88\") {\r\n            return `http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`;\r\n          } else {\r\n            return `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    openFile(fileObj) {\r\n      if (!fileObj.loading) {\r\n        this.selectedFile = fileObj;\r\n        let origin = location.origin;\r\n        if (\r\n          origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\"\r\n        ) {\r\n          window.open(this.fileLink());\r\n        } else {\r\n          this.fileSheet = true;\r\n        }\r\n      } else {\r\n        this.$alert.info(\"Please wait to complete the uploading\");\r\n      }\r\n    },\r\n\r\n    fileType(fileName) {\r\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\r\n      else \"\";\r\n    },\r\n\r\n    closeModal() {\r\n      this.processHistoryModal = false;\r\n      this.$emit(\"close\");\r\n    },\r\n\r\n    removeTags(value) {\r\n      if (!value) return \"\";\r\n      return value.replace(/(<([^>]+)>)/gi, \"\");\r\n    },\r\n\r\n    export_Data1() {\r\n      let tableData = [];\r\n      this.processHistoryData.forEach((item) => {\r\n        tableData.push({\r\n          Stage: item.stage,\r\n          \"Action User\": item.actionUser,\r\n          \"Received On\": this.$day.format(item.receivedOn),\r\n          \"Processed On\": this.$day.format(item.processedOn),\r\n          \"Processed By\": item.processedBy,\r\n          Status: item.status,\r\n        });\r\n      });\r\n      exportData(tableData, `${this.historyTitle} - Process History`);\r\n    },\r\n\r\n    export_Data() {\r\n      let tableData = [];\r\n      this.processHistoryData.forEach((item) => {\r\n        tableData.push({\r\n          Stage: item.stage,\r\n          \"Action User\": item.actionUser || \"\",\r\n          \"Received On\": this.$day.format(item.receivedOn) || \"\",\r\n          \"Processed On\": this.$day.format(item.processedOn) || \"\",\r\n          \"Processed By\": item.processedBy || \"\",\r\n          Status: item.status || \"\",\r\n        });\r\n\r\n        if (item.comments) {\r\n          if (item.comments.length) {\r\n            let fileNames;\r\n            tableData.push({\r\n              Stage: `<span style=\"color: #00BCD4;font-weight: bold;\">Comments(${item.comments.length})</span>`,\r\n            });\r\n\r\n            tableData.push({\r\n              Stage: `<strong>Comments<strong>`,\r\n              \"Action User\": `<strong>Commented By<strong>`,\r\n              \"Received On\": `<strong>Commented On<strong>`,\r\n              \"Processed On\": `<strong>Attached In<strong>`,\r\n            });\r\n\r\n            item.comments.forEach((item) => {\r\n              if (item.embedFileList) {\r\n                if (item.embedFileList.length) {\r\n                  item.embedFileList.forEach((item) => {\r\n                    fileNames = item.fileName;\r\n                  });\r\n                }\r\n              }\r\n              tableData.push({\r\n                Stage: `<span style=\"color: #00BCD4;\">${\r\n                  item.comments || \"\"\r\n                }</span>`,\r\n                \"Action User\": `<span style=\"color: #00BCD4;\">${\r\n                  item.createdByEmail || \"\"\r\n                }</span>`,\r\n                \"Received On\": `<span style=\"color: #00BCD4;\">${\r\n                  this.$day.format(item.createdAt) || \"\"\r\n                }</span>`,\r\n                \"Processed On\": `<span style=\"color: #00BCD4;\">${\r\n                  fileNames || \"\"\r\n                }</span>`,\r\n              });\r\n            });\r\n          }\r\n        }\r\n\r\n        if (item.attachments) {\r\n          if (item.attachments.length) {\r\n            tableData.push({\r\n              Stage: `<span style=\"color: #643094;font-weight: bold;\">Attachment(${item.attachments.length})</span>`,\r\n            });\r\n\r\n            tableData.push({\r\n              Stage: `<strong>File Name<strong>`,\r\n              \"Action User\": `<strong>\tAttached By<strong>`,\r\n              \"Received On\": `<strong>Attached On<strong>`,\r\n            });\r\n\r\n            item.attachments.forEach((item) => {\r\n              tableData.push({\r\n                Stage: `<span style=\"color: #643094; border: 12px solid#50067e;\">${\r\n                  item.name || \"\"\r\n                }</span>`,\r\n                \"Action User\": `<span style=\"color: #643094;\">${\r\n                  item.createdByEmail || \"\"\r\n                }</span>`,\r\n                \"Received On\": `<span style=\"color: #643094;\">${\r\n                  this.$day.format(item.createdAt) || \"\"\r\n                }</span>`,\r\n              });\r\n            });\r\n          }\r\n        }\r\n\r\n        if (item.subWorkflowHistory) {\r\n          if (item.subWorkflowHistory.length) {\r\n            tableData.push({\r\n              Stage: `<span style=\"color: #e97f06;font-weight: bold;\">${item.subWorkflowHistory[0].requestNo}[Connector]<span>`,\r\n            });\r\n            tableData.push({\r\n              Stage: `<strong>Stage</strong>`,\r\n              \"Action User\": `<strong>Action User</strong>`,\r\n              \"Received On\": `<strong>Received On</strong>`,\r\n              \"Processed On\": `<strong>Processed On</strong>`,\r\n              \"Processed By\": `<strong>Processed By</strong>`,\r\n              Status: `<strong>status</strong>`,\r\n            });\r\n            item.subWorkflowHistory.forEach((item) => {\r\n              tableData.push({\r\n                Stage: `<span style=\"color: #e97f06;\">${item.stage}</span>`,\r\n                \"Action User\": `<span style=\"color: #e97f06;border:2px solid black\">${\r\n                  item.actionUser || \"\"\r\n                }</span>`,\r\n                \"Received On\": `<span style=\"color: #e97f06;\">${\r\n                  this.$day.format(item.receivedOn) || \"\"\r\n                }</span>`,\r\n                \"Processed On\": `<span style=\"color: #e97f06;\">${\r\n                  this.$day.format(item.processedOn) || \"\"\r\n                }</span>`,\r\n                \"Processed By\": `<span style=\"color: #e97f06;\">${\r\n                  item.processedBy || \"\"\r\n                }</span>`,\r\n                Status: `<span style=\"color: #e97f06;\">${\r\n                  item.status || \"\"\r\n                }</span>`,\r\n              });\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      exportData(tableData, this.historyTitle + \" Report\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#modal #processHistory {\r\n  #history {\r\n    width: 100%;\r\n    white-space: nowrap;\r\n    margin-bottom: 15px;\r\n    border: 1px solid var(--divider-color);\r\n    border-radius: 10px;\r\n\r\n    tr {\r\n      height: 36px;\r\n\r\n      th {\r\n        color: var(--secondary);\r\n        text-align: left;\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      padding: 8px;\r\n      font-weight: 500;\r\n    }\r\n\r\n    th {\r\n      border-bottom: 1px solid var(--divider-color);\r\n    }\r\n\r\n    tr:not(:first-child) td {\r\n      border-top: 1px solid var(--divider-color); /* Add top border to the first row */\r\n    }\r\n\r\n    th:not(:last-child),\r\n    td:not(:last-child) {\r\n      border-right: 1px solid var(--divider-color); /* Add top border to the first row */\r\n    }\r\n\r\n    td.ellipsis:hover {\r\n      overflow: visible;\r\n      white-space: normal;\r\n      word-break: break-all;\r\n    }\r\n\r\n    .comments {\r\n      color: var(--primary);\r\n      text-align: left;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .attachments {\r\n      color: var(--primary);\r\n      text-align: left;\r\n      cursor: pointer;\r\n    }\r\n\r\n    #comments1 {\r\n      width: 100%;\r\n      white-space: nowrap;\r\n      // margin-bottom: 15px;\r\n      background: #fcfafa;\r\n      table-layout: fixed;\r\n      border: 1px solid var(--divider-color);\r\n      border-radius: 10px;\r\n\r\n      tr {\r\n        height: 36px;\r\n\r\n        th {\r\n          color: var(--primary);\r\n          text-align: left;\r\n\r\n          &.small {\r\n            width: 70px;\r\n          }\r\n\r\n          &.medium {\r\n            width: 90px;\r\n          }\r\n\r\n          &.large {\r\n            width: 210px;\r\n          }\r\n        }\r\n      }\r\n\r\n      th {\r\n        padding: 8px;\r\n        font-weight: 500;\r\n      }\r\n\r\n      td {\r\n        padding: 8px;\r\n        font-weight: 500;\r\n\r\n        &.commentsText {\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        &.commentsText:hover {\r\n          overflow: visible;\r\n          white-space: normal;\r\n          word-break: break-all;\r\n        }\r\n      }\r\n\r\n      tr:not(:first-child) td {\r\n        border-top: 1px solid var(--divider-color); /* Add top border to the first row */\r\n      }\r\n\r\n      th:not(:last-child),\r\n      td:not(:last-child) {\r\n        border-right: 1px solid var(--divider-color); /* Add top border to the first row */\r\n      }\r\n    }\r\n\r\n    #attachments {\r\n      width: 100%;\r\n      white-space: nowrap;\r\n      margin-bottom: 5px;\r\n      background: #fcfafa;\r\n      border: 1px solid var(--divider-color);\r\n      border-radius: 10px;\r\n\r\n      tr {\r\n        height: 36px;\r\n\r\n        th {\r\n          color: var(--primary);\r\n          text-align: left;\r\n        }\r\n      }\r\n\r\n      th,\r\n      td {\r\n        padding: 8px;\r\n        font-weight: 500;\r\n      }\r\n\r\n      tr:not(:first-child) td {\r\n        border-top: 1px solid var(--divider-color); /* Add top border to the first row */\r\n      }\r\n\r\n      th:not(:last-child),\r\n      td:not(:last-child) {\r\n        border-right: 1px solid var(--divider-color); /* Add top border to the first row */\r\n      }\r\n\r\n      .comments {\r\n        color: var(--secondary);\r\n        text-align: left;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n  .file-icons {\r\n    display: flex;\r\n  }\r\n}\r\n\r\n#sheet .attachmentFileFrame {\r\n  min-height: calc(100vh - 61px);\r\n  background-color: var(--body-bg-color);\r\n  display: flex;\r\n\r\n  .file-list {\r\n    flex: 1;\r\n  }\r\n\r\n  .aside {\r\n    width: 380px;\r\n    background-color: var(--component-bg-color);\r\n  }\r\n\r\n  #file-frame {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n#sheet .fileFrame {\r\n  min-height: calc(100vh - 120px);\r\n  background-color: var(--body-bg-color);\r\n  display: flex;\r\n\r\n  .file-list {\r\n    flex: 1;\r\n  }\r\n\r\n  .aside {\r\n    width: 380px;\r\n    background-color: var(--component-bg-color);\r\n  }\r\n\r\n  #file-frame {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n#sheet .mailTransactionList {\r\n  #action-btn {\r\n    width: 28px !important;\r\n    height: 28px !important;\r\n  }\r\n}\r\n\r\n#sheet .attachmentFileHeader {\r\n  display: flex;\r\n  align-items: center;\r\n  text-transform: none !important;\r\n  .avatar {\r\n    width: 36px;\r\n    height: 36px;\r\n  }\r\n\r\n  .filename {\r\n    font-size: 16px !important;\r\n  }\r\n\r\n  .meta {\r\n    @extend .text-sm;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    color: var(--icon-color-inverted);\r\n    font-weight: normal !important;\r\n  }\r\n}\r\n#sheet {\r\n  #approvalSignature {\r\n    background-color: var(--component-bg-color);\r\n    border-radius: 4px;\r\n\r\n    .title {\r\n      @extend .text-md;\r\n      font-weight: 600;\r\n      text-transform: capitalize;\r\n    }\r\n\r\n    .description {\r\n      @extend .text-sm;\r\n      color: var(--icon-color-inverted);\r\n    }\r\n    .text {\r\n      text-align: center;\r\n    }\r\n\r\n    .imgCenter {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n      height: 100px;\r\n    }\r\n  }\r\n}\r\n.file-link {\r\n  color: blue;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n<style lang=\"scss\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProcessHistory.vue?vue&type=template&id=2443da3d&scoped=true&\"\nimport script from \"./ProcessHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./ProcessHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProcessHistory.vue?vue&type=style&index=0&id=2443da3d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2443da3d\",\n  null\n  \n)\n\nexport default component.exports\nimport QMenu from 'quasar/src/components/menu/QMenu.js';\nimport qInstall from \"../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QMenu});\n","import createCompounder from './_createCompounder.js';\nimport upperFirst from './upperFirst.js';\n\n/**\n * Converts `string` to\n * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n *\n * @static\n * @memberOf _\n * @since 3.1.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the start cased string.\n * @example\n *\n * _.startCase('--foo-bar--');\n * // => 'Foo Bar'\n *\n * _.startCase('fooBar');\n * // => 'Foo Bar'\n *\n * _.startCase('__FOO_BAR__');\n * // => 'FOO BAR'\n */\nvar startCase = createCompounder(function(result, word, index) {\n  return result + (index ? ' ' : '') + upperFirst(word);\n});\n\nexport default startCase;\n","export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepositoryField.vue?vue&type=style&index=0&id=174d3602&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._g({class:{ active: _vm.isActive, 'is-full-width': _vm.isFullWidth },style:({ color: _vm.isActive ? _vm._color : '' }),attrs:{\"id\":\"tab\"}},_vm.$listeners),[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    id=\"tab\"\n    :class=\"{ active: isActive, 'is-full-width': isFullWidth }\"\n    :style=\"{ color: isActive ? _color : '' }\"\n    v-on=\"$listeners\"\n  >\n    {{ label }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Tab\",\n\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n\n    isActive: {\n      type: Boolean,\n      default: false,\n    },\n\n    isFullWidth: {\n      type: Boolean,\n      default: false,\n    },\n\n    color: {\n      type: String,\n      default: \"primary\",\n    },\n  },\n\n  computed: {\n    _color() {\n      return `var(--${this.color})`;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#tab {\n  font-weight: 500;\n  text-transform: capitalize;\n  margin-right: 24px;\n  height: 56px;\n  display: flex;\n  align-items: center;\n  transition: all 0.25s ease;\n  color: var(--title-3-color);\n\n  &:hover {\n    cursor: pointer;\n    color: currentColor;\n  }\n\n  &.active,\n  &.active:hover {\n    cursor: default;\n    color: currentColor;\n  }\n\n  &.is-full-width {\n    flex: 1;\n    margin: 0px;\n    justify-content: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=f3c4783e&scoped=true&\"\nimport script from \"./Tab.vue?vue&type=script&lang=js&\"\nexport * from \"./Tab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tab.vue?vue&type=style&index=0&id=f3c4783e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3c4783e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._g({attrs:{\"id\":\"action\"}},_vm.$listeners),[_c('BaseIcon',{attrs:{\"name\":_vm.icon,\"inherit-color\":\"\"}}),_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"action\" v-on=\"$listeners\">\n    <BaseIcon :name=\"icon\" inherit-color />\n\n    <div class=\"label\">{{ label }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Action\",\n\n  props: {\n    icon: {\n      type: String,\n      required: true,\n    },\n\n    label: {\n      type: String,\n      default: \"\",\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#action {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--icon-color-inverted);\n  padding: 16px;\n  transition: all 0.25s ease;\n\n  &:hover {\n    cursor: pointer;\n    color: var(--secondary);\n    background-color: var(--hover-bg-color);\n  }\n\n  .label {\n    @extend .text-sm;\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Action.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Action.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Action.vue?vue&type=template&id=1619714d&scoped=true&\"\nimport script from \"./Action.vue?vue&type=script&lang=js&\"\nexport * from \"./Action.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Action.vue?vue&type=style&index=0&id=1619714d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1619714d\",\n  null\n  \n)\n\nexport default component.exports","const Condition = {\n  CONTAINS: \"CONTAINS\",\n  IS_EQUALS_TO: \"IS_EQUALS_TO (=)\",\n  IS_NOT_EQUALS_TO: \"IS_NOT_EQUALS_TO (!=)\",\n  IS_GREATER_THAN: \"IS_GREATER_THAN (>)\",\n  IS_GREATER_THAN_OR_EQUALS_TO: \"IS_GREATER_THAN_OR_EQUALS_TO (>=)\",\n  IS_LESSER_THAN: \"IS_LESSER_THAN (<)\",\n  IS_LESSER_THAN_OR_EQUALS_TO: \"IS_LESSER_THAN_OR_EQUALS_TO (<=)\",\n  IS_EMPTY: \"IS_EMPTY ({})\",\n  IS_NOT_EMPTY: \"IS_NOT_EMPTY (!{})\",\n  IS_ANY_OF: \"IS_ANY_OF\",\n  IS_NOT_ANY_OF: \"IS_NOT_ANY_OF\",\n  NOT_CONTAINS: \"NOT_CONTAINS\",\n  STARTS_WITH: \"STARTS_WITH\",\n  NOT_STARTS_WITH: \"NOT_STARTS_WITH\",\n  ENDS_WITH: \"ENDS_WITH\",\n  NOT_ENDS_WITH: \"NOT_ENDS_WITH\",\n};\n\nObject.freeze(Condition);\n\nexport default Condition;\n","import Condition from \"../constants/condition.js\";\nimport DataType from \"../constants/data-type.js\";\n\nexport default function conditions(dataType) {\n  switch (dataType) {\n    case DataType.NUMBER:\n    case DataType.DATE:\n    case DataType.TIME:\n    case DataType.DATE_TIME:\n    case DataType.COUNTER:\n    case DataType.CALCULATED:\n      return [\n        Condition.IS_EQUALS_TO,\n        Condition.IS_NOT_EQUALS_TO,\n        Condition.IS_GREATER_THAN,\n        Condition.IS_GREATER_THAN_OR_EQUALS_TO,\n        Condition.IS_LESSER_THAN,\n        Condition.IS_LESSER_THAN_OR_EQUALS_TO,\n        Condition.IS_EMPTY,\n        Condition.IS_NOT_EMPTY,\n        Condition.IS_ANY_OF,\n        Condition.IS_NOT_ANY_OF,\n        Condition.STARTS_WITH,\n        Condition.NOT_STARTS_WITH,\n        Condition.ENDS_WITH,\n        Condition.NOT_ENDS_WITH,\n      ];\n    case DataType.SHORT_TEXT:\n    case DataType.LONG_TEXT:\n    case DataType.TABLE:\n      return [\n        Condition.CONTAINS,\n        Condition.IS_EQUALS_TO,\n        Condition.IS_NOT_EQUALS_TO,\n        Condition.IS_EMPTY,\n        Condition.IS_NOT_EMPTY,\n        Condition.IS_ANY_OF,\n        Condition.IS_NOT_ANY_OF,\n        Condition.NOT_CONTAINS,\n        Condition.STARTS_WITH,\n        Condition.NOT_STARTS_WITH,\n        Condition.ENDS_WITH,\n        Condition.NOT_ENDS_WITH,\n      ];\n    case DataType.SINGLE_SELECT:\n    case DataType.MULTI_SELECT:\n    case DataType.MULTIPLE_CHOICE:\n      return [\n        Condition.CONTAINS,\n        Condition.IS_EMPTY,\n        Condition.IS_NOT_EMPTY,\n        Condition.IS_EQUALS_TO,\n        Condition.IS_NOT_EQUALS_TO,\n        Condition.IS_ANY_OF,\n        Condition.IS_NOT_ANY_OF,\n      ];\n    default:\n      return [\n        Condition.IS_EMPTY,\n        Condition.IS_NOT_EMPTY,\n        Condition.IS_EQUALS_TO,\n        Condition.IS_NOT_EQUALS_TO,\n      ];\n  }\n}\n","module.exports = __webpack_public_path__ + \"img/hovr.ee5c0608.png\";","import isPlainObject from './isPlainObject.js';\n\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\nfunction customOmitClone(value) {\n  return isPlainObject(value) ? undefined : value;\n}\n\nexport default customOmitClone;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nexport default flatRest;\n","import arrayMap from './_arrayMap.js';\nimport baseClone from './_baseClone.js';\nimport baseUnset from './_baseUnset.js';\nimport castPath from './_castPath.js';\nimport copyObject from './_copyObject.js';\nimport customOmitClone from './_customOmitClone.js';\nimport flatRest from './_flatRest.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = flatRest(function(object, paths) {\n  var result = {};\n  if (object == null) {\n    return result;\n  }\n  var isDeep = false;\n  paths = arrayMap(paths, function(path) {\n    path = castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n  copyObject(object, getAllKeysIn(object), result);\n  if (isDeep) {\n    result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n  }\n  var length = paths.length;\n  while (length--) {\n    baseUnset(result, paths[length]);\n  }\n  return result;\n});\n\nexport default omit;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=012bd1e0&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Action.vue?vue&type=style&index=0&id=1619714d&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTask.vue?vue&type=style&index=0&id=0b56d901&prod&lang=scss&scoped=true&\"","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nexport default last;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Sheet',{attrs:{\"value\":_vm.value,\"width\":\"40vw\"},on:{\"input\":function($event){return _vm.$emit('input', false)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Metadata \")]},proxy:true}])},[_c('div',{attrs:{\"id\":\"file-details\"}},[_c('div',{attrs:{\"id\":\"item-overview\"}},[_c('table',[_c('tbody',_vm._l((_vm.fileData),function(data){return _c('tr',{key:data.name,staticClass:\"tableRow\"},[_c('td',{staticClass:\"label\"},[_vm._v(_vm._s(data.name))]),(data.type !== 'TABLE')?_c('td',{staticClass:\"value\"},[_vm._t(data.name,function(){return [_vm._v(\" \"+_vm._s(data.value || \"-\")+\" \")]},{\"value\":data.value})],2):_c('td',{staticClass:\"value\",staticStyle:{\"padding\":\"8px\"}},[_vm._t(data.name,function(){return [(data.value)?[_c('BaseActionButton',{attrs:{\"icon\":\"mdi-table\",\"is-flat\":\"\",\"no-border\":\"\"},on:{\"click\":function($event){return _vm.showTable(data.name)}}})]:[_c('BaseActionButton',{attrs:{\"icon\":\"mdi-table\",\"is-flat\":\"\",\"no-border\":\"\",\"is-disabled\":\"\"}})]]})],2)])}),0)])]),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\"},on:{\"input\":function($event){_vm.expandTableModal = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.tableHeader))]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{attrs:{\"id\":\"tableData\"}},[(_vm.tableData.cellvalues)?[_c('table',_vm._l((_vm.tableData.cellvalues),function(row,idx){return _c('tr',{key:idx},_vm._l((row),function(cell){return _c(cell.kind === 'NoHeader' ? 'td' : 'th',{key:`r${idx}_c${cell.columnindex}`,tag:\"th\"},[_vm._v(\" \"+_vm._s(cell.cellvalue)+\" \")])}),1)}),0)]:[_c('table',[_c('thead',[_c('tr',_vm._l((_vm.tableData[0]),function(rowValue,key){return _c('th',{key:key},[_vm._v(\" \"+_vm._s(key)+\" \")])}),0)]),_c('tbody',_vm._l((_vm.tableData),function(row,index){return _c('tr',{key:index},_vm._l((row),function(rowValue,key){return _c('td',{key:key},[_vm._v(\" \"+_vm._s(rowValue)+\" \")])}),0)}),0)])]],2)]},proxy:true}]),model:{value:(_vm.expandTableModal),callback:function ($$v) {_vm.expandTableModal=$$v},expression:\"expandTableModal\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Sheet :value=\"value\" width=\"40vw\" @input=\"$emit('input', false)\">\n    <!-- title -->\n\n    <template #title> Metadata </template>\n    <div id=\"file-details\">\n      <div id=\"item-overview\">\n        <table>\n          <tbody>\n            <tr v-for=\"data in fileData\" :key=\"data.name\" class=\"tableRow\">\n              <td class=\"label\">{{ data.name }}</td>\n\n              <td v-if=\"data.type !== 'TABLE'\" class=\"value\">\n                <slot :name=\"data.name\" :value=\"data.value\">\n                  {{ data.value || \"-\" }}\n                </slot>\n              </td>\n              <td v-else class=\"value\" style=\"padding: 8px\">\n                <slot :name=\"data.name\">\n                  <template v-if=\"data.value\">\n                    <BaseActionButton\n                      icon=\"mdi-table\"\n                      is-flat\n                      no-border\n                      @click=\"showTable(data.name)\"\n                    />\n                  </template>\n                  <template v-else>\n                    <BaseActionButton\n                      icon=\"mdi-table\"\n                      is-flat\n                      no-border\n                      is-disabled\n                    />\n                  </template>\n                </slot>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <Modal\n        v-model=\"expandTableModal\"\n        width=\"60vw\"\n        height=\"80vh\"\n        @input=\"expandTableModal = false\"\n      >\n        <!-- title -->\n\n        <template #title>{{ tableHeader }}</template>\n\n        <!-- ... -->\n\n        <template #default>\n          <div id=\"tableData\">\n            <template v-if=\"tableData.cellvalues\">\n              <table>\n                <tr v-for=\"(row, idx) in tableData.cellvalues\" :key=\"idx\">\n                  <th\n                    :is=\"cell.kind === 'NoHeader' ? 'td' : 'th'\"\n                    v-for=\"cell in row\"\n                    :key=\"`r${idx}_c${cell.columnindex}`\"\n                  >\n                    {{ cell.cellvalue }}\n                  </th>\n                </tr>\n              </table>\n            </template>\n            <template v-else>\n              <table>\n                <thead>\n                  <tr>\n                    <th v-for=\"(rowValue, key) in tableData[0]\" :key=\"key\">\n                      {{ key }}\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"(row, index) in tableData\" :key=\"index\">\n                    <td v-for=\"(rowValue, key) in row\" :key=\"key\">\n                      {{ rowValue }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </template>\n          </div>\n        </template>\n      </Modal>\n    </div>\n  </Sheet>\n</template>\n\n<script>\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\nimport Modal from \"@/components/common/popup/Modal.vue\";\nexport default {\n  name: \"FileDetails\",\n\n  components: { Sheet, Modal },\n\n  props: {\n    value: {\n      type: Boolean,\n      required: true,\n    },\n\n    fileData: {\n      type: Array,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      expandTableModal: false,\n      tableHeader: \"\",\n      tableData: [],\n    };\n  },\n\n  methods: {\n    showTable(name) {\n      this.expandTableModal = true;\n      let data = this.fileData.filter((item) => item.name === name);\n      console.log(data);\n      this.tableHeader = data[0].name;\n      this.tableData = JSON.parse(data[0].value);\n      console.log(this.tableData);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#file-details {\n  .field-wrapper {\n    display: flex;\n    align-items: flex-start;\n    margin-bottom: 16px;\n\n    .bot-recommendations {\n      margin: 30px 0px 0px 8px;\n    }\n  }\n}\n\n.footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 16px;\n}\n\n#item-overview {\n  padding-left: 16px;\n\n  table {\n    width: 100%;\n    table-layout: fixed;\n    border-collapse: collapse;\n\n    td {\n      vertical-align: top;\n      padding: 16px 8px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n\n  .label {\n    color: var(--icon-color);\n    width: 200px;\n  }\n\n  .value {\n    font-weight: 500;\n  }\n\n  .tableRow:hover {\n    background: $secondary-1;\n    cursor: pointer;\n  }\n\n  .label:hover,\n  .value:hover {\n    white-space: normal !important;\n  }\n}\n\n#modal #tableData {\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    white-space: nowrap;\n    margin-bottom: 15px;\n\n    tr {\n      height: 36px;\n\n      th {\n        color: var(--secondary);\n        text-align: left;\n      }\n    }\n\n    th,\n    td {\n      border: 1px solid var(--divider-color);\n      padding: 8px;\n      font-weight: 500;\n    }\n  }\n}\n\n// .theme-light {\n//   #item-overview {\n//     tr:nth-child(even) {\n//       background-color: rgba($color: $gray-6, $alpha: 0.06);\n//     }\n//   }\n// }\n\n// .theme-dark {\n//   #item-overview {\n//     tr:nth-child(even) {\n//       background-color: rgba($color: $gray-5, $alpha: 0.06);\n//     }\n//   }\n// }\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileDetails.vue?vue&type=template&id=65baddda&scoped=true&\"\nimport script from \"./FileDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./FileDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileDetails.vue?vue&type=style&index=0&id=65baddda&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65baddda\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/sobha-logo.5f37df97.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Sheet',{attrs:{\"width\":\"50vw\",\"no-padding\":\"\"},on:{\"input\":_vm.closeFormHistorySheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Form Entry History \")]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getFormHistory()}}})]},proxy:true}]),model:{value:(_vm.formHistorySheet),callback:function ($$v) {_vm.formHistorySheet=$$v},expression:\"formHistorySheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"\\n          calc(100vh - 200px)\\n        \"}},[_c('div',{attrs:{\"id\":\"history\"}},[(_vm.history.length)?_vm._l((_vm.history),function(item){return _c('div',{key:item.id,staticClass:\"entry\"},[_c('div',{staticClass:\"header\"},[_vm._v(\" \"+_vm._s(item.changes.length)+\" \"+_vm._s(item.changes.length > 1 ? \"Changes\" : \"Change\")+\" \")]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"changes-meta\"},[_c('div',[_vm._v(_vm._s(item.changedBy))]),_c('BaseIcon',{staticClass:\"q-mx-xs\",attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(item.changedAt))])],1),_vm._l((item.changes),function(change,idx){return _c('div',{key:idx + 1,staticClass:\"change\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":\"mdi-circle-small\"}}),(change.name === 'isDeleted')?_c('div',[(Number(change.newValue))?_c('span',{staticClass:\"font-semibold\"},[_vm._v(\" \\\"Deleted\\\" \")]):_c('span',{staticClass:\"font-semibold\"},[_vm._v(\"\\\"Restored\\\"\")]),_vm._v(\" the item \")]):(change.oldValue)?_c('div',[_vm._v(\" Modified \"+_vm._s(change.name)+\" from \"),_c('span',{staticClass:\"font-semibold\"},[_vm._v(\"\\\"\"+_vm._s(change.oldValue)+\"\\\"\")]),_vm._v(\" to \"),_c('span',{staticClass:\"font-semibold\"},[_vm._v(\"\\\"\"+_vm._s(change.newValue)+\"\\\"\")])]):_c('div',[_vm._v(\" Assigned \"),_c('span',{staticClass:\"font-semibold\"},[_vm._v(\"\\\"\"+_vm._s(change.newValue)+\"\\\"\")]),_vm._v(\" as \"+_vm._s(change.name)+\" \")])],1)})],2)])}):_c('div',{staticClass:\"no-history\"},[_vm._v(\"No data found\")])],2)])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Sheet\r\n      v-model=\"formHistorySheet\"\r\n      width=\"50vw\"\r\n      no-padding\r\n      @input=\"closeFormHistorySheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Form Entry History </template>\r\n\r\n      <template #actions>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"getFormHistory()\"\r\n        />\r\n      </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar\r\n          height=\"\r\n            calc(100vh - 200px)\r\n          \"\r\n        >\r\n          <div id=\"history\">\r\n            <template v-if=\"history.length\">\r\n              <div v-for=\"item in history\" :key=\"item.id\" class=\"entry\">\r\n                <div class=\"header\">\r\n                  {{ item.changes.length }}\r\n                  {{ item.changes.length > 1 ? \"Changes\" : \"Change\" }}\r\n                </div>\r\n\r\n                <div class=\"content\">\r\n                  <div class=\"changes-meta\">\r\n                    <div>{{ item.changedBy }}</div>\r\n                    <BaseIcon name=\"mdi-circle-small\" class=\"q-mx-xs\" />\r\n                    <div>{{ item.changedAt }}</div>\r\n                  </div>\r\n\r\n                  <div\r\n                    v-for=\"(change, idx) in item.changes\"\r\n                    :key=\"idx + 1\"\r\n                    class=\"change\"\r\n                  >\r\n                    <BaseIcon name=\"mdi-circle-small\" class=\"q-mr-sm\" />\r\n\r\n                    <div v-if=\"change.name === 'isDeleted'\">\r\n                      <span\r\n                        v-if=\"Number(change.newValue)\"\r\n                        class=\"font-semibold\"\r\n                      >\r\n                        \"Deleted\"\r\n                      </span>\r\n                      <span v-else class=\"font-semibold\">\"Restored\"</span>\r\n                      the item\r\n                    </div>\r\n\r\n                    <div v-else-if=\"change.oldValue\">\r\n                      Modified {{ change.name }} from\r\n                      <span class=\"font-semibold\">\"{{ change.oldValue }}\"</span>\r\n                      to\r\n                      <span class=\"font-semibold\">\"{{ change.newValue }}\"</span>\r\n                    </div>\r\n\r\n                    <div v-else>\r\n                      Assigned\r\n                      <span class=\"font-semibold\">\"{{ change.newValue }}\"</span>\r\n                      as\r\n                      {{ change.name }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n\r\n            <div v-else class=\"no-history\">No data found</div>\r\n          </div>\r\n        </BaseScrollbar>\r\n      </div>\r\n    </Sheet>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport { form } from \"@/api/factory.js\";\r\n\r\nexport default {\r\n  name: \"FormEntryHistory\",\r\n\r\n  components: {\r\n    Sheet,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    processId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n\r\n    workflowId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      changes: [],\r\n      history: [],\r\n      formHistorySheet: false,\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.value) {\r\n          this.getFormHistory();\r\n        }\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async getFormHistory() {\r\n      this.formHistorySheet = true;\r\n      this.history = [];\r\n\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await form.formHistory(\r\n        this.workflowId,\r\n        this.processId\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n\r\n      // console.log(payload);\r\n      if (payload) {\r\n        let data = payload;\r\n        this.history =\r\n          data.length &&\r\n          data.map((item) => ({\r\n            id: this.$nano.id(),\r\n            changedBy: item.modifiedBy,\r\n            changedAt: this.$day.format(item.modifiedAt),\r\n            changes: item.fields,\r\n          }));\r\n      }\r\n    },\r\n\r\n    closeFormHistorySheet() {\r\n      this.formHistorySheet = false;\r\n\r\n      this.$emit(\"update:value\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#history {\r\n  padding: 16px;\r\n\r\n  .no-history {\r\n    font-weight: 500;\r\n    padding: 16px 0px;\r\n    text-align: center;\r\n  }\r\n\r\n  .entry {\r\n    padding-left: 24px;\r\n    padding-bottom: 24px;\r\n    position: relative;\r\n\r\n    &:before {\r\n      content: \"\";\r\n      width: 8px;\r\n      height: 8px;\r\n      position: absolute;\r\n      left: 0px;\r\n      top: 6px;\r\n      background-color: var(--secondary);\r\n      border-radius: 100%;\r\n    }\r\n\r\n    &:not(:last-child):after {\r\n      content: \"\";\r\n      width: 2px;\r\n      height: calc(100% - 6px);\r\n      position: absolute;\r\n      left: 3px;\r\n      top: 14px;\r\n      background-color: var(--hover-bg-color);\r\n    }\r\n\r\n    .header {\r\n      color: var(--title-1-color);\r\n      font-weight: 600;\r\n      margin-bottom: 4px;\r\n    }\r\n\r\n    .content {\r\n      .changes-meta {\r\n        display: flex;\r\n        align-items: center;\r\n        @extend .text-sm;\r\n        color: var(--icon-color);\r\n        margin-bottom: 16px;\r\n      }\r\n\r\n      .change {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 8px;\r\n        margin-left: -6px;\r\n\r\n        &:last-child {\r\n          margin-bottom: 0px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormEntryHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormEntryHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormEntryHistory.vue?vue&type=template&id=231e188e&scoped=true&\"\nimport script from \"./FormEntryHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./FormEntryHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormEntryHistory.vue?vue&type=style&index=0&id=231e188e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"231e188e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({ color: _vm._color }),attrs:{\"id\":\"tabs\"}},[_vm._l((_vm.tabs),function(tab){return _c('Tab',{key:tab.id,ref:\"tab\",refInFor:true,attrs:{\"label\":tab.label,\"color\":_vm.color,\"is-full-width\":_vm.isFullWidth,\"is-active\":tab.value === _vm.value},on:{\"click\":function($event){return _vm.handleClick(tab)}}})}),_c('div',{ref:\"indicator\",staticClass:\"indicator\"})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"tabs\" :style=\"{ color: _color }\">\n    <!-- ... -->\n\n    <Tab\n      v-for=\"tab in tabs\"\n      :key=\"tab.id\"\n      ref=\"tab\"\n      :label=\"tab.label\"\n      :color=\"color\"\n      :is-full-width=\"isFullWidth\"\n      :is-active=\"tab.value === value\"\n      @click=\"handleClick(tab)\"\n    />\n\n    <!-- ... -->\n\n    <!-- indicator -->\n\n    <div ref=\"indicator\" class=\"indicator\"></div>\n\n    <!-- ... -->\n  </div>\n</template>\n\n<script>\nimport Tab from \"./Tab.vue\";\n\nexport default {\n  name: \"Tabs\",\n\n  components: { Tab },\n\n  props: {\n    tabs: {\n      type: Array,\n      required: true,\n    },\n\n    value: {\n      type: [String, Number],\n      required: true,\n    },\n\n    color: {\n      type: String,\n      default: \"primary\",\n    },\n\n    isFullWidth: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    _color() {\n      return `var(--${this.color})`;\n    },\n  },\n\n  watch: {\n    value() {\n      this.setIndicatorPosition();\n    },\n  },\n\n  mounted() {\n    this.setIndicatorPosition();\n  },\n\n  methods: {\n    setIndicatorPosition() {\n      const tabIdx = this.tabs.findIndex((tab) => tab.value === this.value);\n      const target = this.$refs.tab[tabIdx];\n\n      const left = target.$el.offsetLeft;\n      this.$refs.indicator.style.left = `${left}px`;\n\n      const width = target.$el.clientWidth;\n      this.$refs.indicator.style.width = `${width}px`;\n    },\n\n    handleClick(tab) {\n      if (tab.value === this.value) {\n        return;\n      }\n\n      this.$emit(\"input\", tab.value);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#tabs {\n  display: flex;\n  align-items: center;\n  position: relative;\n\n  .indicator {\n    position: absolute;\n    bottom: -0.5px;\n    height: 3px;\n    background-color: currentColor;\n    border-radius: 2px 2px 0px 0px;\n    transition: all 0.25s ease;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=48eb7e5e&scoped=true&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=48eb7e5e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48eb7e5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Sheet',{attrs:{\"width\":\"30vw\",\"height\":\"80vh\",\"custom-height\":_vm.selectedNode === 'inbox' ||\n      _vm.selectedNode === 'common' ||\n      _vm.selectedNode === 'payment' ||\n      _vm.initiateProcess ||\n      _vm.isPortal\n        ? '30'\n        : '0',\"no-padding\":\"\"},on:{\"input\":_vm.closeCommentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments \")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.selectedProcess.processId)?_c('div',{staticClass:\"q-ml-sm text-gray q-mr-sm ellipsis\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\" auto-refresh every 30 seconds \")]):_vm._e(),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getComments(0)}}})]},proxy:true}]),model:{value:(_vm.commentsSheet),callback:function ($$v) {_vm.commentsSheet=$$v},expression:\"commentsSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":_vm.commentsSheetHeight}},[_vm._l((_vm.commentsList),function(row,idx){return [_c('q-chat-message',{key:idx,staticClass:\"q-ma-sm\",attrs:{\"name\":row.createdBy === _vm.$store.state.session.id\n                ? 'me'\n                : row.createdByEmail || row.externalCommentsby,\"text\":[row.comments],\"text-html\":\"\",\"sent\":row.createdBy === _vm.$store.state.session.id,\"stamp\":_vm.lastCommentDuration(row),\"bg-color\":row.createdBy === _vm.$store.state.session.id\n                ? 'primary-1'\n                : 'secondary-1'},scopedSlots:_vm._u([{key:\"avatar\",fn:function(){return [(row.embedFileList && row.embedFileList.length)?_c('div',{staticClass:\"file-icons\"},[_c('FileIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(row.embedFileList[0].fileName),expression:\"row.embedFileList[0].fileName\",modifiers:{\"top\":true}}],key:`Icon-${idx}`,staticClass:\"file-icon q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(row.embedFileList[0].fileName)}})],1):_vm._e()]},proxy:true}],null,true)})]})],2)],1),(\n        _vm.selectedNode === 'inbox' ||\n        _vm.selectedNode === 'common' ||\n        _vm.selectedNode === 'payment' ||\n        _vm.initiateProcess ||\n        _vm.isPortal\n      )?_c('div',{staticClass:\"col borderTop\"},[_c('div',{staticClass:\"row\"},[(_vm.checkTenant())?[_c('div',{staticClass:\"col actions\"},[(_vm.attachmentList.length && _vm.fileNames.length)?_c('div',{staticClass:\"row select-action q-pa-sm action-container\"},[_c('CheckboxField',{staticClass:\"q-pr-sm\",class:_vm.attachComment ? 'col-auto' : 'col',attrs:{\"label\":\"Add Comment to PDF\"},model:{value:(_vm.attachComment),callback:function ($$v) {_vm.attachComment=$$v},expression:\"attachComment\"}}),(\n                  _vm.selectedProcess.processId &&\n                  _vm.selectedProcess.stageType !== 'START' &&\n                  !_vm.attachComment &&\n                  !_vm.isPortal\n                )?_c('CheckboxField',{staticClass:\"col-auto notify-cmd\",attrs:{\"label\":\"Notify Initiator/Requester\"},model:{value:(_vm.notifyInitiator),callback:function ($$v) {_vm.notifyInitiator=$$v},expression:\"notifyInitiator\"}}):_vm._e(),(_vm.attachComment)?_c('SelectField',{staticClass:\"col field comment-attach attach-cmd\",attrs:{\"is-searchable\":true,\"options\":_vm.fileNames},model:{value:(_vm.selectedFileForAttach),callback:function ($$v) {_vm.selectedFileForAttach=$$v},expression:\"selectedFileForAttach\"}}):_vm._e()],1):_vm._e(),(\n                _vm.selectedProcess.processId &&\n                _vm.selectedProcess.stageType !== 'START' &&\n                (_vm.attachComment ||\n                  !(_vm.attachmentList.length && _vm.fileNames.length)) &&\n                !_vm.isPortal\n              )?_c('CheckboxField',{staticClass:\"col-12 q-pl-sm q-pb-sm q-pt-sm\",class:_vm.notifyInitiatorClass,attrs:{\"label\":\"Notify Initiator/Requester\"},model:{value:(_vm.notifyInitiator),callback:function ($$v) {_vm.notifyInitiator=$$v},expression:\"notifyInitiator\"}}):_vm._e(),(_vm.displayInternalPublic)?_c('SingleChoiceField',{staticClass:\"action-container\",class:{\n                'internal-public': _vm.attachmentList.length > 0,\n                'col q-pa-sm': true,\n                'internal-public-margin': _vm.attachComment,\n              },attrs:{\"options\":_vm.commentActions,\"show-options-wrapper\":false,\"options-per-line\":2},model:{value:(_vm.commentAction),callback:function ($$v) {_vm.commentAction=$$v},expression:\"commentAction\"}}):_vm._e()],1)]:_vm._e(),(_vm.isTenantGOTOComments())?[_c('SingleChoiceField',{staticClass:\"col q-mb-sm actions\",attrs:{\"options\":_vm.jiraCommentActions,\"options-per-line\":2},model:{value:(_vm.jiraCommentAction),callback:function ($$v) {_vm.jiraCommentAction=$$v},expression:\"jiraCommentAction\"}})]:_vm._e()],2),_c('div',{staticClass:\"row text-area-action q-ml-sm q-mr-sm\"},[_c('div',{staticClass:\"col\"},[_c('TextAreaField',{attrs:{\"auto-focus\":\"\",\"placeholder\":\"Type a new comment...\"},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}})],1),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin\":\"auto\",\"margin-right\":\"8px\"}},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Post Comments'),expression:\"'Post Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm comment-actions\",attrs:{\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary-11\",\"size\":\"16px\",\"rotate-class\":\"rotate-45\"},on:{\"click\":_vm.saveComment}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:('Advanced Comments'),expression:\"'Advanced Comments'\",modifiers:{\"left\":true}}],staticClass:\"q-ml-sm q-mt-sm comment-actions\",attrs:{\"icon\":\"mdi-comment-text-multiple\",\"color\":\"primary-11\",\"size\":\"16px\"},on:{\"click\":function($event){_vm.advancedCommentsSheet = true}}})],1)])]):_vm._e()]),_c('Confirm',{attrs:{\"icon\":\"eva-alert-circle-outline\",\"icon-color\":\"red\"},on:{\"input\":function($event){{\n        _vm.errorModal = false;\n        _vm.errorMessage = '';\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Error Message\")]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"q-py-md\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{attrs:{\"label\":\"Close\",\"color\":\"red\"},on:{\"click\":function($event){{\n            _vm.errorModal = false;\n            _vm.errorMessage = '';\n          }}}})]},proxy:true}]),model:{value:(_vm.errorModal),callback:function ($$v) {_vm.errorModal=$$v},expression:\"errorModal\"}}),_c('Modal',{attrs:{\"width\":\"60vw\",\"height\":\"80vh\",\"has-footer\":\"\"},on:{\"input\":function($event){{\n        _vm.saveAction = '';\n        _vm.workflowFormModel = {};\n        _vm.advancedCommentsSheet = false;\n      }}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Comments\")]},proxy:true},{key:\"default\",fn:function(){return [_c('TextBuilderField',{model:{value:(_vm.advancedCommentText),callback:function ($$v) {_vm.advancedCommentText=$$v},expression:\"advancedCommentText\"}})]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.checkTenant())?[(_vm.attachmentList.length && _vm.fileNames.length)?_c('div',{staticClass:\"row actions advance-cmd\"},[_c('CheckboxField',{staticClass:\"col-auto q-pr-sm\",staticStyle:{\"margin\":\"auto\"},attrs:{\"label\":\"Add Comment to PDF\"},model:{value:(_vm.attachComment),callback:function ($$v) {_vm.attachComment=$$v},expression:\"attachComment\"}}),(_vm.attachComment)?_c('SelectField',{staticClass:\"field comment-attach\",attrs:{\"is-searchable\":true,\"options\":_vm.fileNames},model:{value:(_vm.selectedFileForAttach),callback:function ($$v) {_vm.selectedFileForAttach=$$v},expression:\"selectedFileForAttach\"}}):_vm._e(),(\n              _vm.selectedProcess.processId &&\n              _vm.selectedProcess.stageType !== 'START' &&\n              !_vm.isPortal\n            )?_c('CheckboxField',{staticClass:\"col-auto q-pl-sm adv-notify-cmd\",attrs:{\"label\":\"Notify Initiator/Requester\"},model:{value:(_vm.notifyInitiator),callback:function ($$v) {_vm.notifyInitiator=$$v},expression:\"notifyInitiator\"}}):_vm._e()],1):_vm._e(),(_vm.checkTenant() && _vm.displayInternalPublic)?_c('SingleChoiceField',{staticClass:\"actions q-mr-sm noborder\",attrs:{\"options\":_vm.commentActions,\"options-per-line\":2},model:{value:(_vm.commentAction),callback:function ($$v) {_vm.commentAction=$$v},expression:\"commentAction\"}}):_vm._e()]:_vm._e(),(_vm.isTenantGOTOComments())?[_c('SingleChoiceField',{staticClass:\"col q-mb-sm actions\",attrs:{\"options\":_vm.jiraCommentActions,\"options-per-line\":2},model:{value:(_vm.jiraCommentAction),callback:function ($$v) {_vm.jiraCommentAction=$$v},expression:\"jiraCommentAction\"}})]:_vm._e(),_c('BaseButton',{attrs:{\"label\":\"Post Comments\",\"icon\":\"eva-paper-plane-outline\",\"color\":\"primary\"},on:{\"click\":_vm.saveAdvancedComment}})]},proxy:true}]),model:{value:(_vm.advancedCommentsSheet),callback:function ($$v) {_vm.advancedCommentsSheet=$$v},expression:\"advancedCommentsSheet\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Sheet\r\n      v-model=\"commentsSheet\"\r\n      width=\"30vw\"\r\n      height=\"80vh\"\r\n      :custom-height=\"\r\n        selectedNode === 'inbox' ||\r\n        selectedNode === 'common' ||\r\n        selectedNode === 'payment' ||\r\n        initiateProcess ||\r\n        isPortal\r\n          ? '30'\r\n          : '0'\r\n      \"\r\n      no-padding\r\n      @input=\"closeCommentsSheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Comments </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #actions>\r\n        <div\r\n          v-if=\"selectedProcess.processId\"\r\n          class=\"q-ml-sm text-gray q-mr-sm ellipsis\"\r\n          style=\"font-size: 10px\"\r\n        >\r\n          auto-refresh every 30 seconds\r\n        </div>\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"getComments(0)\"\r\n        />\r\n      </template>\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar :height=\"commentsSheetHeight\">\r\n          <!-- comments -->\r\n          <template v-for=\"(row, idx) in commentsList\">\r\n            <q-chat-message\r\n              :key=\"idx\"\r\n              :name=\"\r\n                row.createdBy === $store.state.session.id\r\n                  ? 'me'\r\n                  : row.createdByEmail || row.externalCommentsby\r\n              \"\r\n              :text=\"[row.comments]\"\r\n              text-html\r\n              :sent=\"row.createdBy === $store.state.session.id\"\r\n              :stamp=\"lastCommentDuration(row)\"\r\n              :bg-color=\"\r\n                row.createdBy === $store.state.session.id\r\n                  ? 'primary-1'\r\n                  : 'secondary-1'\r\n              \"\r\n              class=\"q-ma-sm\"\r\n            >\r\n              <template v-slot:avatar>\r\n                <div\r\n                  v-if=\"row.embedFileList && row.embedFileList.length\"\r\n                  class=\"file-icons\"\r\n                >\r\n                  <FileIcon\r\n                    :key=\"`Icon-${idx}`\"\r\n                    v-tooltip.top=\"row.embedFileList[0].fileName\"\r\n                    :mime-type=\"fileType(row.embedFileList[0].fileName)\"\r\n                    class=\"file-icon q-mr-sm\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </q-chat-message>\r\n          </template>\r\n          <!-- ... -->\r\n        </BaseScrollbar>\r\n      </div>\r\n\r\n      <!-- ... -->\r\n\r\n      <div\r\n        v-if=\"\r\n          selectedNode === 'inbox' ||\r\n          selectedNode === 'common' ||\r\n          selectedNode === 'payment' ||\r\n          initiateProcess ||\r\n          isPortal\r\n        \"\r\n        class=\"col borderTop\"\r\n      >\r\n        <div class=\"row\">\r\n          <template v-if=\"checkTenant()\">\r\n            <div class=\"col actions\">\r\n              <div\r\n                v-if=\"attachmentList.length && fileNames.length\"\r\n                class=\"row select-action q-pa-sm action-container\"\r\n              >\r\n                <CheckboxField\r\n                  v-model=\"attachComment\"\r\n                  label=\"Add Comment to PDF\"\r\n                  class=\"q-pr-sm\"\r\n                  :class=\"attachComment ? 'col-auto' : 'col'\"\r\n                />\r\n\r\n                <CheckboxField\r\n                  v-if=\"\r\n                    selectedProcess.processId &&\r\n                    selectedProcess.stageType !== 'START' &&\r\n                    !attachComment &&\r\n                    !isPortal\r\n                  \"\r\n                  v-model=\"notifyInitiator\"\r\n                  label=\"Notify Initiator/Requester\"\r\n                  class=\"col-auto notify-cmd\"\r\n                />\r\n\r\n                <SelectField\r\n                  v-if=\"attachComment\"\r\n                  v-model=\"selectedFileForAttach\"\r\n                  :is-searchable=\"true\"\r\n                  :options=\"fileNames\"\r\n                  class=\"col field comment-attach attach-cmd\"\r\n                />\r\n              </div>\r\n\r\n              <CheckboxField\r\n                v-if=\"\r\n                  selectedProcess.processId &&\r\n                  selectedProcess.stageType !== 'START' &&\r\n                  (attachComment ||\r\n                    !(attachmentList.length && fileNames.length)) &&\r\n                  !isPortal\r\n                \"\r\n                v-model=\"notifyInitiator\"\r\n                label=\"Notify Initiator/Requester\"\r\n                :class=\"notifyInitiatorClass\"\r\n                class=\"col-12 q-pl-sm q-pb-sm q-pt-sm\"\r\n              />\r\n              <SingleChoiceField\r\n                v-if=\"displayInternalPublic\"\r\n                v-model=\"commentAction\"\r\n                :options=\"commentActions\"\r\n                :show-options-wrapper=\"false\"\r\n                :options-per-line=\"2\"\r\n                class=\"action-container\"\r\n                :class=\"{\r\n                  'internal-public': attachmentList.length > 0,\r\n                  'col q-pa-sm': true,\r\n                  'internal-public-margin': attachComment,\r\n                }\"\r\n              />\r\n            </div>\r\n          </template>\r\n          <template v-if=\"isTenantGOTOComments()\">\r\n            <SingleChoiceField\r\n              v-model=\"jiraCommentAction\"\r\n              :options=\"jiraCommentActions\"\r\n              :options-per-line=\"2\"\r\n              class=\"col q-mb-sm actions\"\r\n            />\r\n          </template>\r\n        </div>\r\n        <div class=\"row text-area-action q-ml-sm q-mr-sm\">\r\n          <div class=\"col\">\r\n            <TextAreaField\r\n              v-model=\"commentText\"\r\n              auto-focus\r\n              placeholder=\"Type a new comment...\"\r\n            />\r\n          </div>\r\n          <div class=\"col-auto\" style=\"margin: auto; margin-right: 8px\">\r\n            <BaseActionButton\r\n              v-tooltip.left=\"'Post Comments'\"\r\n              icon=\"eva-paper-plane-outline\"\r\n              color=\"primary-11\"\r\n              class=\"q-ml-sm comment-actions\"\r\n              size=\"16px\"\r\n              rotate-class=\"rotate-45\"\r\n              @click=\"saveComment\"\r\n            />\r\n            <BaseActionButton\r\n              v-tooltip.left=\"'Advanced Comments'\"\r\n              icon=\"mdi-comment-text-multiple\"\r\n              color=\"primary-11\"\r\n              class=\"q-ml-sm q-mt-sm comment-actions\"\r\n              size=\"16px\"\r\n              @click=\"advancedCommentsSheet = true\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Sheet>\r\n\r\n    <Confirm\r\n      v-model=\"errorModal\"\r\n      icon=\"eva-alert-circle-outline\"\r\n      icon-color=\"red\"\r\n      @input=\"\r\n        {\r\n          errorModal = false;\r\n          errorMessage = '';\r\n        }\r\n      \"\r\n    >\r\n      <template #title>Error Message</template>\r\n\r\n      <template #default>\r\n        <div class=\"q-py-md\">\r\n          <p>\r\n            {{ errorMessage }}\r\n          </p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <BaseButton\r\n          label=\"Close\"\r\n          color=\"red\"\r\n          @click=\"\r\n            {\r\n              errorModal = false;\r\n              errorMessage = '';\r\n            }\r\n          \"\r\n        />\r\n      </template>\r\n    </Confirm>\r\n\r\n    <Modal\r\n      v-model=\"advancedCommentsSheet\"\r\n      width=\"60vw\"\r\n      height=\"80vh\"\r\n      has-footer\r\n      @input=\"\r\n        {\r\n          saveAction = '';\r\n          workflowFormModel = {};\r\n          advancedCommentsSheet = false;\r\n        }\r\n      \"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Comments</template>\r\n\r\n      <!-- ... -->\r\n\r\n      <template #default>\r\n        <TextBuilderField v-model=\"advancedCommentText\" />\r\n      </template>\r\n\r\n      <template #footer>\r\n        <template v-if=\"checkTenant()\">\r\n          <div\r\n            v-if=\"attachmentList.length && fileNames.length\"\r\n            class=\"row actions advance-cmd\"\r\n          >\r\n            <CheckboxField\r\n              v-model=\"attachComment\"\r\n              label=\"Add Comment to PDF\"\r\n              class=\"col-auto q-pr-sm\"\r\n              style=\"margin: auto\"\r\n            />\r\n\r\n            <SelectField\r\n              v-if=\"attachComment\"\r\n              v-model=\"selectedFileForAttach\"\r\n              :is-searchable=\"true\"\r\n              :options=\"fileNames\"\r\n              class=\"field comment-attach\"\r\n            />\r\n            <CheckboxField\r\n              v-if=\"\r\n                selectedProcess.processId &&\r\n                selectedProcess.stageType !== 'START' &&\r\n                !isPortal\r\n              \"\r\n              v-model=\"notifyInitiator\"\r\n              label=\"Notify Initiator/Requester\"\r\n              class=\"col-auto q-pl-sm adv-notify-cmd\"\r\n            />\r\n          </div>\r\n          <SingleChoiceField\r\n            v-if=\"checkTenant() && displayInternalPublic\"\r\n            v-model=\"commentAction\"\r\n            :options=\"commentActions\"\r\n            :options-per-line=\"2\"\r\n            class=\"actions q-mr-sm noborder\"\r\n          />\r\n        </template>\r\n        <template v-if=\"isTenantGOTOComments()\">\r\n          <SingleChoiceField\r\n            v-model=\"jiraCommentAction\"\r\n            :options=\"jiraCommentActions\"\r\n            :options-per-line=\"2\"\r\n            class=\"col q-mb-sm actions\"\r\n          />\r\n        </template>\r\n        <BaseButton\r\n          label=\"Post Comments\"\r\n          icon=\"eva-paper-plane-outline\"\r\n          color=\"primary\"\r\n          @click=\"saveAdvancedComment\"\r\n        />\r\n      </template>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport { workflow, integration } from \"@/api/factory.js\";\r\nimport Confirm from \"@/components/common/popup/Confirm.vue\";\r\nimport TextAreaField from \"@/components/common/form/text-area-field/TextAreaField.vue\";\r\nimport Modal from \"@/components/common/popup/Modal.vue\";\r\nimport TextBuilderField from \"@/components/common/form/text-builder-field/TextBuilderField.vue\";\r\nimport CheckboxField from \"@/components/common/form/checkbox-field/CheckboxField.vue\";\r\nimport SelectField from \"@/components/common/form/select-field/SelectField.vue\";\r\nimport SingleChoiceField from \"@/components/common/form/single-choice-field/SingleChoiceField.vue\";\r\nimport FileIcon from \"@/components/common/FileIcon.vue\";\r\n\r\nexport default {\r\n  name: \"Comments\",\r\n\r\n  components: {\r\n    Sheet,\r\n    Confirm,\r\n    TextAreaField,\r\n    Modal,\r\n    TextBuilderField,\r\n    CheckboxField,\r\n    SelectField,\r\n    SingleChoiceField,\r\n    FileIcon,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    selectedProcess: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    workflow: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    selectedNode: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n    initiateProcess: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    formFields: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    attachmentList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    workflowId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n\r\n    actionComments: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    fileNames: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    comments: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    displayInternalPublic: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    isPortal: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      commentsSheet: false,\r\n      commentText: \"\",\r\n      commentsList: [],\r\n      attachComment: false,\r\n      //   fileNames: [],\r\n      selectedFileForAttach: 0,\r\n      advancedCommentsSheet: false,\r\n      advancedCommentText: \"\",\r\n      commentActions: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Internal\",\r\n          value: 2,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"Public\",\r\n          value: 1,\r\n        },\r\n      ],\r\n      commentAction: 2,\r\n      jiraCommentActions: [\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"This resource\",\r\n          value: 1,\r\n        },\r\n        {\r\n          id: this.$nano.id(),\r\n          label: \"All resource\",\r\n          value: 2,\r\n        },\r\n      ],\r\n      jiraCommentAction: 1,\r\n      errorMessage: \"\",\r\n      errorModal: false,\r\n      successModal: false,\r\n      //   displayInternalPublic: false,\r\n      notifyInitiator: false,\r\n      //   actionComments: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    commentsSheetHeight() {\r\n      if (\r\n        this.selectedNode === \"inbox\" ||\r\n        this.selectedNode === \"payment\" ||\r\n        this.selectedNode === \"common\" ||\r\n        this.initiateProcess ||\r\n        this.isPortal\r\n      ) {\r\n        if (this.checkCommentsOption() && !this.isCustomizedWorkflow) {\r\n          if (this.attachmentList.length && this.fileNames.length) {\r\n            if (this.attachComment && this.displayInternalPublic) {\r\n              return \"calc(100vh - 270px)\";\r\n            } else if (this.attachComment && !this.displayInternalPublic) {\r\n              return \"calc(100vh - 230px)\";\r\n            } else if (!this.attachComment && this.displayInternalPublic) {\r\n              return \"calc(100vh - 225px)\";\r\n            } else {\r\n              return \"calc(100vh - 200px)\";\r\n            }\r\n          } else if (this.displayInternalPublic) {\r\n            return \"calc(100vh - 220px)\";\r\n          } else if (\r\n            this.selectedProcess.stageType !== \"START\" &&\r\n            !this.isPortal\r\n          ) {\r\n            return \"calc(100vh - 180px)\";\r\n          } else {\r\n            return \"calc(100vh - 150px)\";\r\n          }\r\n        } else {\r\n          return \"calc(100vh - 150px)\";\r\n        }\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    notifyInitiatorClass() {\r\n      return !(this.attachmentList.length && this.fileNames.length)\r\n        ? \"action-container\"\r\n        : \"\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler() {\r\n        this.commentsSheet = true;\r\n        this.commentsList = this.comments;\r\n        if (this.commentsSheet && this.selectedProcess.processId) {\r\n          this.commentsLoad = setInterval(() => {\r\n            this.getComments();\r\n          }, 30000);\r\n        } else {\r\n          clearInterval(this.commentsLoad);\r\n        }\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    closeCommentsSheet() {\r\n      this.commentsSheet = false;\r\n\r\n      this.$emit(\"update:comments\", this.commentsList);\r\n      this.$emit(\"commentsCount\", this.commentsList.length);\r\n      this.$emit(\"update:value\", false);\r\n    },\r\n\r\n    async getComments(workflowId = 0, processId = 0) {\r\n      //   this.tabs.find((tab) => {\r\n      //     if (tab.value === \"COMMENTS\") {\r\n      //       tab.count = 0;\r\n      //     }\r\n      //   });\r\n      this.commentsList = [];\r\n      if (!workflowId && !processId) {\r\n        workflowId = this.workflowId;\r\n        processId = this.selectedProcess.processId;\r\n      }\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getProcessComments(\r\n        workflowId,\r\n        processId\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        this.commentsList = payload;\r\n        // this.tabs.find((tab) => {\r\n        //   if (tab.value === \"COMMENTS\") {\r\n        //     tab.count = this.commentsList.length;\r\n        //   }\r\n        // });\r\n\r\n        this.$emit(\"commentsCount\", this.commentsList.length);\r\n      }\r\n    },\r\n\r\n    async saveComment() {\r\n      if (this.commentText) {\r\n        if (this.attachComment) {\r\n          if (!this.selectedFileForAttach) {\r\n            this.$alert.warning(\"Select File To Attach\");\r\n            return;\r\n          }\r\n        }\r\n        if (this.selectedProcess.processId) {\r\n          if (\r\n            this.isTenantGOTO() &&\r\n            this.selectedProcess.jiraIssueInfo.id &&\r\n            this.jiraCommentAction === 2\r\n          ) {\r\n            const { error, payload } = await workflow.insertProcessComment_Jira(\r\n              this.selectedProcess.jiraIssueInfo.id,\r\n              {\r\n                comments: this.commentText,\r\n              }\r\n            );\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.commentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                payload\r\n              );\r\n            }\r\n          } else {\r\n            const { error, payload } = await workflow.insertProcessComment(\r\n              this.workflowId,\r\n              this.selectedProcess.processId,\r\n              this.selectedProcess.transactionId,\r\n              {\r\n                comments: this.commentText,\r\n                showTo: this.isPortal ? 1 : this.commentAction,\r\n                hasNotifytoInitiated: this.notifyInitiator,\r\n                embedJson: JSON.stringify({\r\n                  repositoryId: this.workflow.repositoryId,\r\n                  itemIds: this.attachComment\r\n                    ? [this.selectedFileForAttach]\r\n                    : [],\r\n                }),\r\n              }\r\n            );\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.commentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                [payload]\r\n              );\r\n            }\r\n          }\r\n          this.commentText = \"\";\r\n          this.clearAttach();\r\n          this.getComments();\r\n        } else {\r\n          this.commentsList.push({\r\n            comments: this.commentText,\r\n            createdAt: new Date().toISOString(),\r\n            createdBy: this.$store.state.session.id,\r\n            hasNotifytoInitiated: this.notifyInitiator,\r\n            embedJson: JSON.stringify({\r\n              repositoryId: this.workflow.repositoryId,\r\n              itemIds: this.attachComment ? [this.selectedFileForAttach] : [],\r\n            }),\r\n          });\r\n          //   this.tabs.find((tab) => {\r\n          //     if (tab.value === \"COMMENTS\") {\r\n          //       tab.count = this.commentsList.length;\r\n          //     }\r\n          //   });\r\n          this.$emit(\"commentsCount\", this.commentsList.length);\r\n          this.commentText = \"\";\r\n          this.clearAttach();\r\n        }\r\n      }\r\n    },\r\n\r\n    async saveAdvancedComment() {\r\n      if (this.advancedCommentText) {\r\n        if (this.attachComment) {\r\n          if (!this.selectedFileForAttach) {\r\n            this.$alert.warning(\"Select File To Attach\");\r\n            return;\r\n          }\r\n        }\r\n        if (this.selectedProcess.processId) {\r\n          if (\r\n            this.isTenantGOTO() &&\r\n            this.selectedProcess.jiraIssueInfo.id &&\r\n            this.jiraCommentAction === 2\r\n          ) {\r\n            this.$store.commit(\"showLoadingBar\");\r\n            const { error, payload } = await workflow.insertProcessComment_Jira(\r\n              this.selectedProcess.jiraIssueInfo.id,\r\n              {\r\n                comments: this.advancedCommentText,\r\n              }\r\n            );\r\n\r\n            this.$store.commit(\"hideLoadingBar\");\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.advancedCommentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                payload\r\n              );\r\n            }\r\n          } else {\r\n            const { error, payload } = await workflow.insertProcessComment(\r\n              this.workflowId,\r\n              this.selectedProcess.processId,\r\n              this.selectedProcess.transactionId,\r\n              {\r\n                comments: this.advancedCommentText,\r\n                showTo: this.isPortal ? 1 : this.commentAction,\r\n                hasNotifytoInitiated: this.notifyInitiator,\r\n                embedJson: JSON.stringify({\r\n                  repositoryId: this.workflow.repositoryId,\r\n                  itemIds: this.attachComment\r\n                    ? [this.selectedFileForAttach]\r\n                    : [],\r\n                }),\r\n              }\r\n            );\r\n\r\n            if (error) {\r\n              this.$alert.error(error);\r\n              return;\r\n            }\r\n            if (this.selectedProcess.jiraIssueInfo.id) {\r\n              this.sendCommentsToJira(\r\n                this.advancedCommentText,\r\n                this.selectedProcess.jiraIssueInfo.id,\r\n                payload\r\n              );\r\n            }\r\n          }\r\n          this.advancedCommentText = \"\";\r\n          this.advancedCommentsSheet = false;\r\n          this.clearAttach();\r\n          this.getComments();\r\n        } else {\r\n          this.commentsList.push({\r\n            comments: this.advancedCommentText,\r\n            createdAt: new Date().toISOString(),\r\n            createdBy: this.$store.state.session.id,\r\n          });\r\n          this.advancedCommentText = \"\";\r\n          this.advancedCommentsSheet = false;\r\n          //   this.tabs.find((tab) => {\r\n          //     if (tab.value === \"COMMENTS\") {\r\n          //       tab.count = this.commentsList.length;\r\n          //     }\r\n          //   });\r\n          this.$emit(\"commentsCount\", this.commentsList.length);\r\n        }\r\n        if (this.actionComments) {\r\n          //   this.processRequest(false, false);\r\n          this.$emit(\"processRequest\", false, false);\r\n        }\r\n      }\r\n    },\r\n\r\n    clearAttach() {\r\n      this.selectedFileForAttach = 0;\r\n      this.attachComment = false;\r\n      this.notifyInitiator = false;\r\n    },\r\n\r\n    async sendCommentsToJira(commentsText, issueId, commentId) {\r\n      this.$store.commit(\"showLoadingBar\");\r\n      if (this.jiraCommentAction === 1) {\r\n        let resourceIDFieldId = this.formFields.find(\r\n          (field) => field.label === \"Resource ID\"\r\n        )?.value;\r\n        commentsText =\r\n          this.selectedProcess.formData.fields[resourceIDFieldId] +\r\n          \",\" +\r\n          commentsText;\r\n      }\r\n      commentsText = `${this.$store.state.session.firstName} ${this.$store.state.session.lastName}: ${commentsText}`;\r\n      let input = {\r\n        cloudIntegrationId: this.jiraAccounts[0].id,\r\n        url: this.selectedProcess.jiraIssueInfo.self,\r\n        data_onpremise: {\r\n          body: commentsText,\r\n        },\r\n        issueId: issueId,\r\n        ezCommentId: commentId,\r\n      };\r\n\r\n      const { error, payload } = await integration.insertJiraIssueComments(\r\n        input\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(\"error posting comments to jira\");\r\n        let msg = JSON.parse(error);\r\n        this.errorMessage = msg.errorMessages;\r\n        this.errorModal = true;\r\n        return;\r\n      }\r\n      console.log(payload);\r\n      this.jiraCommentAction = 1;\r\n    },\r\n\r\n    isTenantGOTO() {\r\n      let origin = location.origin;\r\n      if (\r\n        (origin === \"https://app.ezofis.com\" ||\r\n          origin === \"https://appuat.ezofis.com\") &&\r\n        this.$store.state.session.tenantId === 2\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    checkCommentsOption() {\r\n      if (this.isTenantArmgroup()) {\r\n        return false;\r\n      } else if (this.isTenantGOTO()) {\r\n        if (Object.keys(this.selectedProcess).length) {\r\n          if (this.selectedProcess.jiraIssueInfo.id) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    checkTenant() {\r\n      if (this.isTenantArmgroup()) {\r\n        this.commentAction = 2;\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    isTenantArmgroup() {\r\n      let origin = location.origin;\r\n      if (\r\n        (origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\" ||\r\n          origin === \"http://localhost:80801\") &&\r\n        this.$store.state.session.tenantId === 3\r\n      ) {\r\n        return true;\r\n      }\r\n      //   else if (origin === \"http://localhost:8080\") {\r\n      //     return true;\r\n      //   }\r\n      return false;\r\n    },\r\n\r\n    isTenantGOTOComments() {\r\n      if (Object.keys(this.selectedProcess).length) {\r\n        if (this.isTenantGOTO() && this.selectedProcess.jiraIssueInfo.id) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    lastCommentDuration(comment) {\r\n      const date =\r\n        comment.createdAt instanceof Date\r\n          ? comment.createdAt\r\n          : new Date(comment.createdAt);\r\n      const formatter = new Intl.RelativeTimeFormat(\"en\");\r\n      const ranges = {\r\n        years: 3600 * 24 * 365,\r\n        months: 3600 * 24 * 30,\r\n        weeks: 3600 * 24 * 7,\r\n        days: 3600 * 24,\r\n        hours: 3600,\r\n        minutes: 60,\r\n        seconds: 1,\r\n      };\r\n      const secondsElapsed = (date.getTime() - Date.now()) / 1000;\r\n      for (let key in ranges) {\r\n        if (ranges[key] < Math.abs(secondsElapsed)) {\r\n          const delta = secondsElapsed / ranges[key];\r\n          return formatter.format(Math.round(delta), key);\r\n        }\r\n      }\r\n    },\r\n\r\n    fileType(fileName) {\r\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\r\n      else \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.select-action {\r\n  padding-top: 10px;\r\n\r\n  align-items: center;\r\n}\r\n\r\n.action-container {\r\n  border-top: 1px solid #cfd5dc;\r\n}\r\n\r\n.internal-public {\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  border-top: 1px solid #cfd5dc;\r\n  padding-top: 10px;\r\n}\r\n\r\n.internal-public-margin {\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=0e008a6c&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=0e008a6c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QChatMessage from 'quasar/src/components/chat/QChatMessage.js';\nimport qInstall from \"../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QChatMessage});\n","var map = {\n\t\"./name-dark.png\": \"cd22\",\n\t\"./name-light.png\": \"00c2\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"bcdf\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessHistory.vue?vue&type=style&index=0&id=2443da3d&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=0e008a6c&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortalsAccess.vue?vue&type=style&index=0&id=3e4fef9a&prod&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/name-dark.ebb22601.png\";","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubWorkflow.vue?vue&type=style&index=0&id=5b96b9ec&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Sheet',{attrs:{\"width\":\"30vw\",\"sub-actions\":_vm.selectedProcess.processId && _vm.attachmentList.length ? true : false,\"upload\":_vm.selectedNode === 'inbox' ||\n      _vm.selectedNode === 'common' ||\n      _vm.selectedNode === 'payment' ||\n      _vm.initiateProcess ||\n      _vm.isPortal,\"no-padding\":\"\"},on:{\"input\":_vm.closeAttachmentsSheet},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Attachments \")]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.selectedProcess.processId)?_c('div',{staticClass:\"q-ml-sm text-gray q-mr-sm ellipsis\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\" auto-refresh every 15 seconds \")]):_vm._e(),(_vm.selectedProcess.processId)?_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('refresh'),expression:\"'refresh'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"icon\":\"mdi-refresh\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){return _vm.getAttachments()}}}):_vm._e()]},proxy:true},(\n        _vm.selectedNode === 'inbox' ||\n        _vm.selectedNode === 'common' ||\n        _vm.selectedNode === 'payment' ||\n        _vm.initiateProcess ||\n        _vm.isPortal\n      )?{key:\"upload\",fn:function(){return [_c('div',{staticClass:\"hint\",on:{\"click\":function($event){{\n            _vm.rowIndex = null;\n            _vm.$refs.attachments.click();\n          }}}},[_c('BaseIcon',{staticClass:\"icon\",attrs:{\"name\":\"eva-cloud-upload-outline\",\"size\":\"32px\",\"color\":\"blue\"}}),_c('div',{staticClass:\"title text-blue\"},[_vm._v(\"UPLOAD FILES\")]),_c('div',{staticClass:\"description\"},[_vm._v(\"Click here to choose files and upload\")])],1)]},proxy:true}:null,(_vm.selectedProcess.processId && _vm.attachmentList.length)?{key:\"subActions\",fn:function(){return [_c('CheckboxField',{staticClass:\"col-auto q-pt-sm q-pb-sm\",on:{\"input\":_vm.fileSelectAll},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}}),_vm._v(\" Select All \"),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('mail share'),expression:\"'mail share'\",modifiers:{\"top\":true}}],staticClass:\"q-ml-sm\",attrs:{\"is-disabled\":!_vm.selectedFileCount,\"icon\":\"mdi-email-send-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"18px\"},on:{\"click\":_vm.documentShare}}),_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('merge documents (only PDF)'),expression:\"'merge documents (only PDF)'\",modifiers:{\"top\":true}}],attrs:{\"is-disabled\":_vm.selectedFileCount > 1 && _vm.isSelectedPDF ? false : true,\"icon\":\"mdi-file-document-multiple-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"18px\"},on:{\"click\":_vm.documentMerge}})]},proxy:true}:null],null,true),model:{value:(_vm.attachmentSheet),callback:function ($$v) {_vm.attachmentSheet=$$v},expression:\"attachmentSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":_vm.selectedNode === 'inbox' ||\n          _vm.selectedNode === 'common' ||\n          _vm.selectedNode === 'payment' ||\n          _vm.initiateProcess ||\n          _vm.isPortal\n            ? 'calc(100vh - 200px)'\n            : ''}},[_c('input',{ref:\"attachments\",staticClass:\"hidden\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.uploadWflowAttachments}}),_vm._l((_vm.checkList),function(row){return [(row.name && (!row.hasOwnProperty('visible') || row.show))?[(!row.attach)?_c('div',{key:row.uid,staticClass:\"checkList\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{attrs:{\"name\":\"mdi-file-check-outline\",\"color\":\"primary\"}})],1),_c('div',{staticClass:\"col q-ml-sm\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\" \"+_vm._s(row.name)+\" \")]),(row.required)?_c('div',{staticClass:\"col-12 q-mt-sm\"},[_c('q-chip',{staticClass:\"chips small\",attrs:{\"outline\":\"\",\"color\":\"red\"}},[_vm._v(\" Required \")])],1):_vm._e()])]),_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"col-12\",on:{\"click\":function($event){return _vm.attachTemplate(row.uid)}}},[_c('q-chip',{staticClass:\"chips primary-hover medium\",attrs:{\"outline\":\"\",\"color\":\"primary\"}},[_c('q-avatar',{staticClass:\"q-mr-sm\",attrs:{\"icon\":\"eva-upload-outline\",\"color\":\"primary\",\"text-color\":\"white\"}}),_vm._v(\" Upload \")],1)],1),(row.template)?_c('div',{staticClass:\"col-12\",on:{\"click\":function($event){return _vm.download(row.id)}}},[_c('q-chip',{staticClass:\"chips secondary-hover medium\",attrs:{\"outline\":\"\",\"color\":\"secondary\"}},[_c('q-avatar',{staticClass:\"q-mr-sm\",attrs:{\"icon\":\"eva-download-outline\",\"color\":\"secondary\",\"text-color\":\"white\"}}),_vm._v(\" Download \")],1)],1):_vm._e()])])]):_c('div',{key:row.uid},[_vm._l((_vm.attachmentFilterCheckList(row.name)),function(file){return [_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[(_vm.selectedProcess.processId)?_c('div',{staticClass:\"col-auto\"},[(file.loading)?[_c('BaseIcon',{staticClass:\"q-mr-sm loading\",attrs:{\"name\":\"mdi-loading\",\"color\":\"secondary\"}})]:[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":file.checked\n                              ? 'eva-checkmark-circle-2'\n                              : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":function($event){file.checked = !file.checked}}})]],2):_c('div',[(file.loading)?[_c('BaseIcon',{staticClass:\"q-mr-sm loading\",attrs:{\"name\":\"mdi-loading\",\"color\":\"secondary\"}})]:_vm._e()],2),(file.formJsonId)?_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip:green.top\",value:(_vm.getLabel(file.formJsonId)),expression:\"getLabel(file.formJsonId)\",arg:\"green\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"name\":\"mdi-form-select\",\"color\":\"primary\"}})],1):_vm._e(),_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Download'),expression:\"'Download'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-download-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Download')}}})],1):_vm._e(),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Print'),expression:\"'Print'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-printer-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Print')}}})],1):_vm._e()]),_c('div',{staticClass:\"meta row\"},[_c('div',{staticClass:\"col row\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.createdBy)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(file.createdByEmail))])]:_vm._e(),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Metadata'),expression:\"'Metadata'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-file-text-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getFileData(file)}}})],1),(false)?[(\n                          _vm.selectedNode === 'inbox' ||\n                          _vm.selectedNode === 'common' ||\n                          _vm.selectedNode === 'payment' ||\n                          _vm.initiateProcess\n                        )?[_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Re-Upload'),expression:\"'Re-Upload'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-file-upload\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();{\n                                _vm.reuploadFile = file;\n                                _vm.reupload(file.name);\n                              }}}})],1)]:_vm._e()]:[(\n                          ((_vm.selectedNode === 'inbox' ||\n                            _vm.selectedNode === 'common' ||\n                            _vm.selectedNode === 'payment') &&\n                            file.createdBy === _vm.$store.state.session.id) ||\n                          _vm.initiateProcess\n                        )?[_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Re-Upload'),expression:\"'Re-Upload'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"mdi-file-upload\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();{\n                                _vm.reuploadFile = file;\n                                _vm.reupload(file.name);\n                              }}}})],1)]:_vm._e()]],2)])]})],2)]:_vm._e()]}),_vm._l((_vm.attachmentList),function(file){return [(_vm.isCheckList(file.name))?[_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[(file.loading)?[_c('BaseIcon',{staticClass:\"q-mr-sm loading\",attrs:{\"name\":\"mdi-loading\",\"color\":\"secondary\"}})]:_vm._e(),(_vm.selectedProcess.processId)?_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{staticClass:\"q-mr-sm\",attrs:{\"name\":file.checked\n                        ? 'eva-checkmark-circle-2'\n                        : 'eva-radio-button-off-outline',\"color\":\"secondary\"},on:{\"click\":function($event){file.checked = !file.checked}}})],1):_vm._e(),(file.formJsonId)?_c('div',{staticClass:\"col-auto\"},[_c('BaseIcon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip:green.top\",value:(_vm.getLabel(file.formJsonId)),expression:\"getLabel(file.formJsonId)\",arg:\"green\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"name\":\"mdi-form-select\",\"color\":\"primary\"}})],1):_vm._e(),_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Download'),expression:\"'Download'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-download-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Download')}}})],1):_vm._e(),(!file.loading)?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Print'),expression:\"'Print'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-printer-outline\",\"color\":\"primary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.fileMenuAction(file, 'Print')}}})],1):_vm._e()],2),_c('div',{staticClass:\"meta row\"},[_c('div',{staticClass:\"col row\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.createdBy)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(file.createdByEmail))])]:_vm._e(),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2),_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Metadata'),expression:\"'Metadata'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-file-text-outline\",\"color\":\"secondary\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getFileData(file)}}})],1),(\n                    ((_vm.selectedNode === 'inbox' ||\n                      _vm.selectedNode === 'common' ||\n                      _vm.selectedNode === 'payment') &&\n                      file.createdBy === _vm.$store.state.session.id) ||\n                    _vm.initiateProcess\n                  )?_c('div',{staticClass:\"col-auto\"},[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('delete'),expression:\"'delete'\",modifiers:{\"top\":true}}],attrs:{\"icon\":\"eva-trash-2-outline\",\"color\":\"red\",\"no-border\":\"\",\"is-flat\":\"\",\"size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.attachmentDelete(file)}}})],1):_vm._e()])])]:_vm._e()]})],2)],1)]),_c('EmailSharing',{attrs:{\"repository-id\":_vm.workflow.repositoryId,\"file-list\":_vm.selectedFileList},on:{\"update:fileList\":function($event){_vm.selectedFileList=$event},\"update:file-list\":function($event){_vm.selectedFileList=$event}},model:{value:(_vm.emailSharingSheet),callback:function ($$v) {_vm.emailSharingSheet=$$v},expression:\"emailSharingSheet\"}}),_c('FileDetails',{attrs:{\"file-data\":_vm.fileData},model:{value:(_vm.fileDetailsSheet),callback:function ($$v) {_vm.fileDetailsSheet=$$v},expression:\"fileDetailsSheet\"}}),_c('Sheet',{attrs:{\"width\":\"30vw\",\"no-padding\":\"\"},on:{\"input\":function($event){_vm.mailAttachmentSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Mail Attachments \")]},proxy:true}]),model:{value:(_vm.mailAttachmentSheet),callback:function ($$v) {_vm.mailAttachmentSheet=$$v},expression:\"mailAttachmentSheet\"}},[_c('div',{attrs:{\"id\":\"content-wrapper\"}},[_c('BaseScrollbar',{attrs:{\"height\":\"calc(100vh - 200px)\"}},[_vm._l((_vm.mailAttachmentList),function(file){return [_c('div',{key:file.id,staticClass:\"attachmentList\"},[_c('div',{staticClass:\"title row\"},[_c('div',{staticClass:\"col-auto\"},[_c('FileIcon',{staticClass:\"mini-avatar q-mr-sm\",attrs:{\"mime-type\":_vm.fileType(file.name)}})],1),_c('div',{staticClass:\"col ellipsis\",on:{\"click\":function($event){return _vm.openAttachmentFile(file)}}},[_vm._v(\" \"+_vm._s(file.name)+\" \")])]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(_vm._s(_vm.$day.format(file.createdAt)))]),(file.size)?[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(_vm._s(_vm.fileSize(file.size)))])]:_vm._e()],2)])]})],2)],1)]),_c('Sheet',{attrs:{\"no-padding\":\"\",\"width\":\"100vw\"},on:{\"input\":function($event){_vm.fileSheet = false}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"attachmentFileHeader\"},[(_vm.selectedFile.formJsonId)?[_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip:green.bottom\",value:(_vm.getLabel(_vm.selectedFile.formJsonId)),expression:\"getLabel(selectedFile.formJsonId)\",arg:\"green\",modifiers:{\"bottom\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"mdi-form-select\",\"color\":\"primary\"}})]:_vm._e(),_c('div',{staticClass:\"avatar q-ml-sm\"},[_c('FileIcon',{attrs:{\"mime-type\":_vm.fileType(_vm.selectedFile.name)}})],1),_c('div',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"filename\"},[_vm._v(\" \"+_vm._s(_vm.selectedFile.name)+\" \")]),_c('div',{staticClass:\"meta\"},[_c('div',[_vm._v(\"Archived At: \"+_vm._s(_vm.$day.format(_vm.selectedFile.createdAt)))]),_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_c('div',[_vm._v(\"Archived By: \"+_vm._s(_vm.selectedFile.createdByEmail))]),(_vm.selectedFile.size)?_c('div',[_c('BaseIcon',{attrs:{\"name\":\"mdi-circle-small\"}}),_vm._v(\" File Size: \"+_vm._s(_vm.fileSize(_vm.selectedFile.size))+\" \")],1):_vm._e()],1)])],2)]},proxy:true},{key:\"actions\",fn:function(){return [_c('BaseActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:('Actions'),expression:\"'Actions'\",modifiers:{\"top\":true}}],staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"icon\":\"eva-menu\"}},[_c('q-menu',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"anchor\":\"bottom end\",\"self\":\"top right\"}},[_c('BaseScrollbar',{staticClass:\"q-pb-sm\",attrs:{\"width\":\"240px\"}},_vm._l((_vm.documentActionList),function(action){return _c('ListItem',{key:action.id,attrs:{\"icon\":action.icon,\"label\":action.label},on:{\"click\":function($event){return _vm.documentAction(action.id)}}})}),1)],1)],1)]},proxy:true}]),model:{value:(_vm.fileSheet),callback:function ($$v) {_vm.fileSheet=$$v},expression:\"fileSheet\"}},[_c('div',{staticClass:\"attachmentFileFrame\"},[_c('div',{staticClass:\"file-list\"},[_c('iframe',{ref:\"myAttachmentFiles\",attrs:{\"id\":\"file-frame\",\"src\":_vm.fileLink(),\"frameborder\":\"0\"}})])])]),_c('MetaDataEdit',{attrs:{\"value\":_vm.showMetaDataEditModal,\"file\":_vm.workflow,\"repository-field\":_vm.repositoryField,\"file-data\":_vm.fileData,\"title\":_vm.metaDataTitle || 'Index',\"columns\":_vm.columns,\"modal-value\":_vm.workflowModel,\"upload-filename\":_vm.uploadFilename,\"meta-data-fields\":_vm.metaDataModal},on:{\"close\":_vm.closeMetaDataEditModal,\"save\":_vm.saveMetaData}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Sheet\r\n      v-model=\"attachmentSheet\"\r\n      width=\"30vw\"\r\n      :sub-actions=\"\r\n        selectedProcess.processId && attachmentList.length ? true : false\r\n      \"\r\n      :upload=\"\r\n        selectedNode === 'inbox' ||\r\n        selectedNode === 'common' ||\r\n        selectedNode === 'payment' ||\r\n        initiateProcess ||\r\n        isPortal\r\n      \"\r\n      no-padding\r\n      @input=\"closeAttachmentsSheet\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Attachments </template>\r\n\r\n      <template #actions>\r\n        <div\r\n          v-if=\"selectedProcess.processId\"\r\n          class=\"q-ml-sm text-gray q-mr-sm ellipsis\"\r\n          style=\"font-size: 10px\"\r\n        >\r\n          auto-refresh every 15 seconds\r\n        </div>\r\n        <BaseActionButton\r\n          v-if=\"selectedProcess.processId\"\r\n          v-tooltip.top=\"'refresh'\"\r\n          icon=\"mdi-refresh\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"20px\"\r\n          class=\"q-mr-sm\"\r\n          @click=\"getAttachments()\"\r\n        />\r\n      </template>\r\n\r\n      <template\r\n        v-if=\"\r\n          selectedNode === 'inbox' ||\r\n          selectedNode === 'common' ||\r\n          selectedNode === 'payment' ||\r\n          initiateProcess ||\r\n          isPortal\r\n        \"\r\n        #upload\r\n      >\r\n        <div\r\n          class=\"hint\"\r\n          @click=\"\r\n            {\r\n              rowIndex = null;\r\n              $refs.attachments.click();\r\n            }\r\n          \"\r\n        >\r\n          <BaseIcon\r\n            name=\"eva-cloud-upload-outline\"\r\n            size=\"32px\"\r\n            color=\"blue\"\r\n            class=\"icon\"\r\n          />\r\n\r\n          <div class=\"title text-blue\">UPLOAD FILES</div>\r\n          <div class=\"description\">Click here to choose files and upload</div>\r\n        </div>\r\n      </template>\r\n\r\n      <template\r\n        v-if=\"selectedProcess.processId && attachmentList.length\"\r\n        #subActions\r\n      >\r\n        <CheckboxField\r\n          v-model=\"selectAll\"\r\n          class=\"col-auto q-pt-sm q-pb-sm\"\r\n          @input=\"fileSelectAll\"\r\n        />\r\n        Select All\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'mail share'\"\r\n          :is-disabled=\"!selectedFileCount\"\r\n          icon=\"mdi-email-send-outline\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"18px\"\r\n          class=\"q-ml-sm\"\r\n          @click=\"documentShare\"\r\n        />\r\n\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'merge documents (only PDF)'\"\r\n          :is-disabled=\"selectedFileCount > 1 && isSelectedPDF ? false : true\"\r\n          icon=\"mdi-file-document-multiple-outline\"\r\n          color=\"secondary\"\r\n          no-border\r\n          is-flat\r\n          size=\"18px\"\r\n          @click=\"documentMerge\"\r\n        />\r\n      </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar\r\n          :height=\"\r\n            selectedNode === 'inbox' ||\r\n            selectedNode === 'common' ||\r\n            selectedNode === 'payment' ||\r\n            initiateProcess ||\r\n            isPortal\r\n              ? 'calc(100vh - 200px)'\r\n              : ''\r\n          \"\r\n        >\r\n          <input\r\n            ref=\"attachments\"\r\n            type=\"file\"\r\n            class=\"hidden\"\r\n            @change=\"uploadWflowAttachments\"\r\n          />\r\n          <template v-for=\"row in checkList\">\r\n            <template\r\n              v-if=\"row.name && (!row.hasOwnProperty('visible') || row.show)\"\r\n            >\r\n              <div v-if=\"!row.attach\" :key=\"row.uid\" class=\"checkList\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-auto\">\r\n                    <BaseIcon name=\"mdi-file-check-outline\" color=\"primary\" />\r\n                  </div>\r\n                  <div class=\"col q-ml-sm\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        {{ row.name }}\r\n                      </div>\r\n                      <div v-if=\"row.required\" class=\"col-12 q-mt-sm\">\r\n                        <q-chip outline color=\"red\" class=\"chips small\">\r\n                          Required\r\n                        </q-chip>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <div class=\"col-12\" @click=\"attachTemplate(row.uid)\">\r\n                      <q-chip\r\n                        outline\r\n                        color=\"primary\"\r\n                        class=\"chips primary-hover medium\"\r\n                      >\r\n                        <q-avatar\r\n                          icon=\"eva-upload-outline\"\r\n                          class=\"q-mr-sm\"\r\n                          color=\"primary\"\r\n                          text-color=\"white\"\r\n                        />\r\n                        Upload\r\n                      </q-chip>\r\n                    </div>\r\n                    <div\r\n                      v-if=\"row.template\"\r\n                      class=\"col-12\"\r\n                      @click=\"download(row.id)\"\r\n                    >\r\n                      <q-chip\r\n                        outline\r\n                        color=\"secondary\"\r\n                        class=\"chips secondary-hover medium\"\r\n                      >\r\n                        <q-avatar\r\n                          icon=\"eva-download-outline\"\r\n                          class=\"q-mr-sm\"\r\n                          color=\"secondary\"\r\n                          text-color=\"white\"\r\n                        />\r\n                        Download\r\n                      </q-chip>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div v-else :key=\"row.uid\">\r\n                <template v-for=\"file in attachmentFilterCheckList(row.name)\">\r\n                  <div :key=\"file.id\" class=\"attachmentList\">\r\n                    <div class=\"title row\">\r\n                      <div v-if=\"selectedProcess.processId\" class=\"col-auto\">\r\n                        <!-- <CheckboxField v-model=\"file.checked\" class=\"col-auto\" /> -->\r\n                        <template v-if=\"file.loading\">\r\n                          <BaseIcon\r\n                            name=\"mdi-loading\"\r\n                            color=\"secondary\"\r\n                            class=\"q-mr-sm loading\"\r\n                          />\r\n                        </template>\r\n                        <template v-else>\r\n                          <BaseIcon\r\n                            :name=\"\r\n                              file.checked\r\n                                ? 'eva-checkmark-circle-2'\r\n                                : 'eva-radio-button-off-outline'\r\n                            \"\r\n                            color=\"secondary\"\r\n                            class=\"q-mr-sm\"\r\n                            @click=\"file.checked = !file.checked\"\r\n                          />\r\n                        </template>\r\n                      </div>\r\n                      <div v-else>\r\n                        <template v-if=\"file.loading\">\r\n                          <BaseIcon\r\n                            name=\"mdi-loading\"\r\n                            color=\"secondary\"\r\n                            class=\"q-mr-sm loading\"\r\n                          />\r\n                        </template>\r\n                      </div>\r\n                      <div v-if=\"file.formJsonId\" class=\"col-auto\">\r\n                        <BaseIcon\r\n                          v-tooltip:green.top=\"getLabel(file.formJsonId)\"\r\n                          name=\"mdi-form-select\"\r\n                          color=\"primary\"\r\n                          class=\"q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        <FileIcon\r\n                          :mime-type=\"fileType(file.name)\"\r\n                          class=\"mini-avatar q-mr-sm\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"col ellipsis\" @click=\"openFile(file)\">\r\n                        {{ file.name }}\r\n                      </div>\r\n                      <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                        <BaseActionButton\r\n                          v-tooltip.top=\"'Download'\"\r\n                          icon=\"eva-download-outline\"\r\n                          color=\"primary\"\r\n                          no-border\r\n                          is-flat\r\n                          size=\"20px\"\r\n                          @click.stop=\"fileMenuAction(file, 'Download')\"\r\n                        />\r\n                      </div>\r\n                      <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                        <BaseActionButton\r\n                          v-tooltip.top=\"'Print'\"\r\n                          icon=\"eva-printer-outline\"\r\n                          color=\"primary\"\r\n                          no-border\r\n                          is-flat\r\n                          size=\"20px\"\r\n                          @click.stop=\"fileMenuAction(file, 'Print')\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"meta row\">\r\n                      <div class=\"col row\">\r\n                        <!-- created at -->\r\n\r\n                        <div>{{ $day.format(file.createdAt) }}</div>\r\n\r\n                        <!-- ... -->\r\n\r\n                        <!-- created by -->\r\n\r\n                        <template v-if=\"file.createdBy\">\r\n                          <BaseIcon name=\"mdi-circle-small\" />\r\n                          <div>{{ file.createdByEmail }}</div>\r\n                        </template>\r\n\r\n                        <!-- ... -->\r\n\r\n                        <!-- size -->\r\n\r\n                        <template v-if=\"file.size\">\r\n                          <BaseIcon name=\"mdi-circle-small\" />\r\n                          <div>{{ fileSize(file.size) }}</div>\r\n                        </template>\r\n\r\n                        <!-- ... -->\r\n                      </div>\r\n                      <div class=\"col-auto\">\r\n                        <BaseActionButton\r\n                          v-tooltip.top=\"'Metadata'\"\r\n                          icon=\"eva-file-text-outline\"\r\n                          color=\"secondary\"\r\n                          no-border\r\n                          is-flat\r\n                          size=\"20px\"\r\n                          @click.stop=\"getFileData(file)\"\r\n                        />\r\n                      </div>\r\n                      <template v-if=\"false\">\r\n                        <template\r\n                          v-if=\"\r\n                            selectedNode === 'inbox' ||\r\n                            selectedNode === 'common' ||\r\n                            selectedNode === 'payment' ||\r\n                            initiateProcess\r\n                          \"\r\n                        >\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'delete'\"\r\n                              icon=\"eva-trash-2-outline\"\r\n                              color=\"red\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"attachmentDelete(file)\"\r\n                            />\r\n                          </div>\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'Re-Upload'\"\r\n                              icon=\"mdi-file-upload\"\r\n                              color=\"primary\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"\r\n                                {\r\n                                  reuploadFile = file;\r\n                                  reupload(file.name);\r\n                                }\r\n                              \"\r\n                            />\r\n                          </div>\r\n                        </template>\r\n                      </template>\r\n                      <template v-else>\r\n                        <template\r\n                          v-if=\"\r\n                            ((selectedNode === 'inbox' ||\r\n                              selectedNode === 'common' ||\r\n                              selectedNode === 'payment') &&\r\n                              file.createdBy === $store.state.session.id) ||\r\n                            initiateProcess\r\n                          \"\r\n                        >\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'delete'\"\r\n                              icon=\"eva-trash-2-outline\"\r\n                              color=\"red\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"attachmentDelete(file)\"\r\n                            />\r\n                          </div>\r\n                          <div class=\"col-auto\">\r\n                            <BaseActionButton\r\n                              v-tooltip.top=\"'Re-Upload'\"\r\n                              icon=\"mdi-file-upload\"\r\n                              color=\"primary\"\r\n                              no-border\r\n                              is-flat\r\n                              size=\"20px\"\r\n                              @click.stop=\"\r\n                                {\r\n                                  reuploadFile = file;\r\n                                  reupload(file.name);\r\n                                }\r\n                              \"\r\n                            />\r\n                          </div>\r\n                        </template>\r\n                      </template>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n            </template>\r\n          </template>\r\n          <template v-for=\"file in attachmentList\">\r\n            <template v-if=\"isCheckList(file.name)\">\r\n              <div :key=\"file.id\" class=\"attachmentList\">\r\n                <div class=\"title row\">\r\n                  <template v-if=\"file.loading\">\r\n                    <BaseIcon\r\n                      name=\"mdi-loading\"\r\n                      color=\"secondary\"\r\n                      class=\"q-mr-sm loading\"\r\n                    />\r\n                  </template>\r\n                  <div v-if=\"selectedProcess.processId\" class=\"col-auto\">\r\n                    <!-- <CheckboxField v-model=\"file.checked\" class=\"col-auto\" /> -->\r\n\r\n                    <BaseIcon\r\n                      :name=\"\r\n                        file.checked\r\n                          ? 'eva-checkmark-circle-2'\r\n                          : 'eva-radio-button-off-outline'\r\n                      \"\r\n                      color=\"secondary\"\r\n                      class=\"q-mr-sm\"\r\n                      @click=\"file.checked = !file.checked\"\r\n                    />\r\n                  </div>\r\n                  <div v-if=\"file.formJsonId\" class=\"col-auto\">\r\n                    <BaseIcon\r\n                      v-tooltip:green.top=\"getLabel(file.formJsonId)\"\r\n                      name=\"mdi-form-select\"\r\n                      color=\"primary\"\r\n                      class=\"q-mr-sm\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <FileIcon\r\n                      :mime-type=\"fileType(file.name)\"\r\n                      class=\"mini-avatar q-mr-sm\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col ellipsis\" @click=\"openFile(file)\">\r\n                    {{ file.name }}\r\n                  </div>\r\n                  <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'Download'\"\r\n                      icon=\"eva-download-outline\"\r\n                      color=\"primary\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"fileMenuAction(file, 'Download')\"\r\n                    />\r\n                  </div>\r\n                  <div v-if=\"!file.loading\" class=\"col-auto\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'Print'\"\r\n                      icon=\"eva-printer-outline\"\r\n                      color=\"primary\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"fileMenuAction(file, 'Print')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"meta row\">\r\n                  <div class=\"col row\">\r\n                    <!-- created at -->\r\n\r\n                    <div>{{ $day.format(file.createdAt) }}</div>\r\n\r\n                    <!-- ... -->\r\n\r\n                    <!-- created by -->\r\n\r\n                    <template v-if=\"file.createdBy\">\r\n                      <BaseIcon name=\"mdi-circle-small\" />\r\n                      <div>{{ file.createdByEmail }}</div>\r\n                    </template>\r\n\r\n                    <!-- ... -->\r\n\r\n                    <!-- size -->\r\n\r\n                    <template v-if=\"file.size\">\r\n                      <BaseIcon name=\"mdi-circle-small\" />\r\n                      <div>{{ fileSize(file.size) }}</div>\r\n                    </template>\r\n\r\n                    <!-- ... -->\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'Metadata'\"\r\n                      icon=\"eva-file-text-outline\"\r\n                      color=\"secondary\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"getFileData(file)\"\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    v-if=\"\r\n                      ((selectedNode === 'inbox' ||\r\n                        selectedNode === 'common' ||\r\n                        selectedNode === 'payment') &&\r\n                        file.createdBy === $store.state.session.id) ||\r\n                      initiateProcess\r\n                    \"\r\n                    class=\"col-auto\"\r\n                  >\r\n                    <BaseActionButton\r\n                      v-tooltip.top=\"'delete'\"\r\n                      icon=\"eva-trash-2-outline\"\r\n                      color=\"red\"\r\n                      no-border\r\n                      is-flat\r\n                      size=\"20px\"\r\n                      @click.stop=\"attachmentDelete(file)\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </template>\r\n        </BaseScrollbar>\r\n      </div>\r\n    </Sheet>\r\n\r\n    <EmailSharing\r\n      v-model=\"emailSharingSheet\"\r\n      :repository-id=\"workflow.repositoryId\"\r\n      :file-list.sync=\"selectedFileList\"\r\n    ></EmailSharing>\r\n\r\n    <FileDetails v-model=\"fileDetailsSheet\" :file-data=\"fileData\"></FileDetails>\r\n\r\n    <Sheet\r\n      v-model=\"mailAttachmentSheet\"\r\n      width=\"30vw\"\r\n      no-padding\r\n      @input=\"mailAttachmentSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title> Mail Attachments </template>\r\n\r\n      <!-- ... -->\r\n\r\n      <!-- content -->\r\n      <div id=\"content-wrapper\">\r\n        <BaseScrollbar height=\"calc(100vh - 200px)\">\r\n          <template v-for=\"file in mailAttachmentList\">\r\n            <div :key=\"file.id\" class=\"attachmentList\">\r\n              <div class=\"title row\">\r\n                <div class=\"col-auto\">\r\n                  <FileIcon\r\n                    :mime-type=\"fileType(file.name)\"\r\n                    class=\"mini-avatar q-mr-sm\"\r\n                  />\r\n                </div>\r\n                <div class=\"col ellipsis\" @click=\"openAttachmentFile(file)\">\r\n                  {{ file.name }}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"meta\">\r\n                <!-- created at -->\r\n\r\n                <div>{{ $day.format(file.createdAt) }}</div>\r\n\r\n                <!-- ... -->\r\n\r\n                <!-- size -->\r\n\r\n                <template v-if=\"file.size\">\r\n                  <BaseIcon name=\"mdi-circle-small\" />\r\n                  <div>{{ fileSize(file.size) }}</div>\r\n                </template>\r\n\r\n                <!-- ... -->\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </BaseScrollbar>\r\n      </div>\r\n    </Sheet>\r\n    <Sheet\r\n      v-model=\"fileSheet\"\r\n      no-padding\r\n      width=\"100vw\"\r\n      @input=\"fileSheet = false\"\r\n    >\r\n      <!-- title -->\r\n\r\n      <template #title>\r\n        <div class=\"attachmentFileHeader\">\r\n          <template v-if=\"selectedFile.formJsonId\">\r\n            <BaseActionButton\r\n              v-tooltip:green.bottom=\"getLabel(selectedFile.formJsonId)\"\r\n              is-flat\r\n              icon=\"mdi-form-select\"\r\n              color=\"primary\"\r\n              class=\"q-mr-sm\"\r\n            />\r\n          </template>\r\n          <div class=\"avatar q-ml-sm\">\r\n            <FileIcon :mime-type=\"fileType(selectedFile.name)\" />\r\n          </div>\r\n\r\n          <div class=\"q-ml-md\">\r\n            <div class=\"filename\">\r\n              {{ selectedFile.name }}\r\n            </div>\r\n\r\n            <div class=\"meta\">\r\n              <div>Archived At: {{ $day.format(selectedFile.createdAt) }}</div>\r\n              <BaseIcon name=\"mdi-circle-small\" />\r\n              <div>Archived By: {{ selectedFile.createdByEmail }}</div>\r\n              <div v-if=\"selectedFile.size\">\r\n                <BaseIcon name=\"mdi-circle-small\" />\r\n                File Size: {{ fileSize(selectedFile.size) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <template #actions>\r\n        <BaseActionButton\r\n          v-tooltip.top=\"'Actions'\"\r\n          is-flat\r\n          icon=\"eva-menu\"\r\n          class=\"q-mr-sm\"\r\n        >\r\n          <q-menu\r\n            transition-show=\"scale\"\r\n            transition-hide=\"scale\"\r\n            anchor=\"bottom end\"\r\n            self=\"top right\"\r\n          >\r\n            <BaseScrollbar width=\"240px\" class=\"q-pb-sm\">\r\n              <!-- columns -->\r\n\r\n              <ListItem\r\n                v-for=\"action in documentActionList\"\r\n                :key=\"action.id\"\r\n                :icon=\"action.icon\"\r\n                :label=\"action.label\"\r\n                @click=\"documentAction(action.id)\"\r\n              >\r\n              </ListItem>\r\n            </BaseScrollbar>\r\n\r\n            <!-- ... -->\r\n          </q-menu>\r\n        </BaseActionButton>\r\n      </template>\r\n\r\n      <div class=\"attachmentFileFrame\">\r\n        <div class=\"file-list\">\r\n          <iframe\r\n            id=\"file-frame\"\r\n            ref=\"myAttachmentFiles\"\r\n            :src=\"fileLink()\"\r\n            frameborder=\"0\"\r\n          ></iframe>\r\n        </div>\r\n      </div>\r\n    </Sheet>\r\n\r\n    <MetaDataEdit\r\n      :value=\"showMetaDataEditModal\"\r\n      :file=\"workflow\"\r\n      :repository-field=\"repositoryField\"\r\n      :file-data=\"fileData\"\r\n      :title=\"metaDataTitle || 'Index'\"\r\n      :columns=\"columns\"\r\n      :modal-value=\"workflowModel\"\r\n      :upload-filename=\"uploadFilename\"\r\n      :meta-data-fields=\"metaDataModal\"\r\n      @close=\"closeMetaDataEditModal\"\r\n      @save=\"saveMetaData\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport Sheet from \"@/components/common/popup/Sheet.vue\";\r\nimport EmailSharing from \"@/components/common/EmailSharing.vue\";\r\nimport { workflow, menu, repository, uploadAndIndex } from \"@/api/factory.js\";\r\nimport FileIcon from \"@/components/common/FileIcon.vue\";\r\nimport formatBytes from \"@/helpers/format-bytes.js\";\r\nimport {\r\n  pdfSupport,\r\n  htmlSupport,\r\n  otherFilePDFSupport,\r\n  fileSupport,\r\n} from \"@/helpers/file-format.js\";\r\nimport FileDetails from \"@/views/workflows/views/workflows-inbox/components/FileDetails.vue\";\r\nimport axios from \"axios\";\r\nimport MetaDataEdit from \"@/views/repositories/views/repository-browse-and-trash/components/components/MetaDataEdit\";\r\nimport { lowerCase } from \"lodash-es\";\r\nimport CheckboxField from \"@/components/common/form/checkbox-field/CheckboxField.vue\";\r\nimport ListItem from \"@/components/common/ListItem.vue\";\r\n\r\nexport default {\r\n  name: \"Attachments\",\r\n\r\n  components: {\r\n    Sheet,\r\n    EmailSharing,\r\n    FileIcon,\r\n    FileDetails,\r\n    MetaDataEdit,\r\n    CheckboxField,\r\n    ListItem,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    selectedProcess: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    workflow: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    selectedNode: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n    initiateProcess: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    formCheckList: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    checkList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    wform: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    repositoryDetails: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    workflowModel: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    formUploadFiles: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    formFields: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    repositoryField: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    columns: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    attachments: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    workflowId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n\r\n    isPortal: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      attachmentSheet: false,\r\n      attachmentList: [],\r\n      selectAll: false,\r\n      emailSharingSheet: false,\r\n      selectedFileList: [],\r\n      fileDetailsSheet: false,\r\n      fileData: [],\r\n      checkListRowIndex: 0,\r\n      selectedFile: {},\r\n      mailTransactionList: [],\r\n      mailAttachmentSheet: false,\r\n      mailAttachmentList: [],\r\n      fileSheet: false,\r\n      watchViewerClose: null,\r\n      reuploadFile: {},\r\n      documentActionList: [\r\n        // {\r\n        //   id: \"Email_Sharing\",\r\n        //   key: \"emailSharing\",\r\n        //   label: \"Email Sharing\",\r\n        //   icon: \"mdi-email-outline\",\r\n        // },\r\n        {\r\n          id: \"Download\",\r\n          key: \"download\",\r\n          label: \"Download\",\r\n          icon: \"mdi-download-outline\",\r\n        },\r\n        {\r\n          id: \"Print\",\r\n          key: \"print\",\r\n          label: \"Print\",\r\n          icon: \"eva-printer-outline\",\r\n        },\r\n      ],\r\n      uploadFilename: \"\",\r\n      showMetaDataEditModal: false,\r\n      selectedUploadFile: {},\r\n      documentLoad: null,\r\n      documentLoadList: [],\r\n      metaDataModal: {},\r\n      metaDataTitle: \"\",\r\n      selectedCheckListName: \"\",\r\n      // checkList: [],\r\n      // formCheckList: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    selectedFileCount() {\r\n      this.clearAttach();\r\n      let count = this.attachmentList.filter((item) => item.checked).length;\r\n      return count;\r\n    },\r\n\r\n    isSelectedPDF() {\r\n      let filePDF = true;\r\n      this.attachmentList.forEach((item) => {\r\n        let ext = item.name.split(\".\").pop();\r\n        if (item.checked && ext.toLowerCase() !== \"pdf\") {\r\n          filePDF = false;\r\n        }\r\n      });\r\n      return filePDF;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.value) {\r\n          // this.getAttachments();\r\n          this.attachmentSheet = true;\r\n          this.attachmentList = this.attachments;\r\n          if (this.attachmentSheet && this.selectedProcess.processId) {\r\n            this.getAttachments();\r\n            if (this.attachmentList.length) {\r\n              let index = this.attachmentList.length - 1;\r\n              this.getFileData(this.attachmentList[index], \"file\");\r\n            }\r\n            this.attachmentLoad = setInterval(() => {\r\n              this.getAttachments();\r\n            }, 15000);\r\n          } else {\r\n            // this.getAttachments();\r\n            clearInterval(this.attachmentLoad);\r\n          }\r\n        }\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async getAttachments(workflowId = 0, processId = 0) {\r\n      // this.tabs.find((tab) => {\r\n      //   if (tab.value === \"ATTACHMENTS\") {\r\n      //     tab.count = 0;\r\n      //   }\r\n      // });\r\n      let count = this.attachmentList.length;\r\n\r\n      if (!workflowId && !processId) {\r\n        workflowId = this.workflowId;\r\n        processId = this.selectedProcess.processId;\r\n      }\r\n      this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await workflow.getAttachments(\r\n        workflowId,\r\n        processId\r\n      );\r\n      this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      if (payload.length) {\r\n        if (count !== payload.length) {\r\n          this.attachmentList = payload.map((item) => {\r\n            return {\r\n              ...item,\r\n              checked: false,\r\n            };\r\n          });\r\n          //clearInterval(this.attachmentLoad);\r\n        }\r\n        // this.tabs.find((tab) => {\r\n        //   if (tab.value === \"ATTACHMENTS\") {\r\n        //     tab.count = this.attachmentList.length;\r\n        //   }\r\n        // });\r\n        this.$emit(\"attachmentCount\", this.attachmentList.length);\r\n      } else {\r\n        this.attachmentList = [];\r\n      }\r\n      if (this.checkList.length) {\r\n        this.checkList.forEach((row) => {\r\n          let filterAttach = this.attachmentList.filter((file) => {\r\n            let filename = file.name.substr(0, file.name.lastIndexOf(\".\"));\r\n            if (row.name === filename || row.name === filename.split(\"_\")[0]) {\r\n              return file;\r\n            }\r\n          });\r\n          if (filterAttach.length) {\r\n            row.attach = true;\r\n          } else {\r\n            row.attach = false;\r\n          }\r\n        });\r\n        let origin = location.origin;\r\n        if (\r\n          this.isTenantArmgroup() ||\r\n          (origin === \"https://trial.ezofis.com\" &&\r\n            this.$store.state.session.tenantId === 12)\r\n        ) {\r\n          if (\r\n            this.selectedProcess.attachmentCount !== this.attachmentList.length\r\n          ) {\r\n            // this.formCheckList = true;\r\n            this.$emit(\"update:formCheckList\", true);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    isTenantArmgroup() {\r\n      let origin = location.origin;\r\n      if (\r\n        (origin === \"https://ag-appsvc01.azurewebsites.net\" ||\r\n          origin === \"https://ag-appsvc05.azurewebsites.net\" ||\r\n          origin === \"http://localhost:8080\") &&\r\n        this.$store.state.session.tenantId === 3\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    fileSelectAll() {\r\n      this.attachmentList = this.attachmentList.map((item) => {\r\n        return {\r\n          ...item,\r\n          checked: this.selectAll,\r\n        };\r\n      });\r\n    },\r\n\r\n    async documentMerge() {\r\n      let fileIds = [];\r\n      this.attachmentList.forEach((item) => {\r\n        let ext = item.name.split(\".\").pop();\r\n        if (item.checked && ext.toLowerCase() === \"pdf\") {\r\n          fileIds.push(item.id);\r\n        }\r\n      });\r\n      let input = {\r\n        ids: fileIds,\r\n      };\r\n      const { error } = await workflow.documentMerge(\r\n        this.workflowId,\r\n        this.selectedProcess.processId,\r\n        this.selectedProcess.transactionId,\r\n        this.workflow.repositoryId,\r\n        input\r\n      );\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n      this.$alert.success(\"Document merge process initiated\");\r\n    },\r\n\r\n    async documentShare() {\r\n      this.selectedFileList = [];\r\n      this.attachmentList.forEach((item) => {\r\n        if (item.checked) {\r\n          this.selectedFileList.push({\r\n            id: item.id,\r\n            name: item.name,\r\n          });\r\n        }\r\n      });\r\n      this.emailSharingSheet = true;\r\n    },\r\n\r\n    clearAttach() {\r\n      // this.selectedFileForAttach = 0;\r\n      // this.attachComment = false;\r\n      // this.notifyInitiator = false;\r\n      console.log(\"clear\");\r\n    },\r\n\r\n    attachTemplate(uid) {\r\n      this.checkListRowIndex = uid;\r\n      this.$refs.attachments.click();\r\n      this.selectedCheckListName = this.checkList.find(\r\n        (item) => uid == item.uid\r\n      ).name;\r\n    },\r\n\r\n    reupload(filename) {\r\n      filename = filename.substr(0, filename.lastIndexOf(\".\")).split(\"_\")[0];\r\n      this.checkListRowIndex = this.checkList.find(\r\n        (row) => row.name === filename\r\n      )?.uid;\r\n      this.$refs.attachments.click();\r\n    },\r\n\r\n    attachmentFilterCheckList(name) {\r\n      return this.attachmentList.filter(\r\n        (row) =>\r\n          row.name.substring(0, row.name.lastIndexOf(\".\")) === name ||\r\n          row.name.substring(0, row.name.lastIndexOf(\".\")).split(\"_\")[0] ===\r\n            name\r\n      );\r\n    },\r\n\r\n    isCheckList(name) {\r\n      let list = this.checkList.filter(\r\n        (row) =>\r\n          row.name === name.substring(0, name.lastIndexOf(\".\")) ||\r\n          row.name === name.substring(0, name.lastIndexOf(\".\")).split(\"_\")[0]\r\n      );\r\n      if (list.length) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    showMailAttachments(mail) {\r\n      this.mailAttachmentList = [];\r\n      let files = mail.attachmentJson.split(\",\");\r\n      files.forEach((file) => {\r\n        let filename = file.split(\"\\\\\").pop();\r\n        this.mailAttachmentList.push({\r\n          id: this.$nano.id(),\r\n          mailId: mail.id,\r\n          name: filename,\r\n          createdAt: mail.createdAt,\r\n        });\r\n      });\r\n      this.mailAttachmentSheet = true;\r\n    },\r\n\r\n    openAttachmentFile(file) {\r\n      let link = `${process.env.VUE_APP_API_URL}/client/viewAttachment/${this.$store.state.session.tenantId}/${file.mailId}/${file.name}`;\r\n      window.open(link, \"_blank\");\r\n    },\r\n\r\n    getLabel(id) {\r\n      let controlLabel = \"\";\r\n      let formJson = this.wform.formJson\r\n        ? JSON.parse(this.wform.formJson)\r\n        : this.wform;\r\n      const panels = [...formJson.panels, ...formJson.secondaryPanels];\r\n\r\n      if (!panels.length) {\r\n        return;\r\n      }\r\n      let fields = [];\r\n      for (const panel of panels) {\r\n        fields.push(...panel.fields);\r\n      }\r\n      fields.forEach((field) => {\r\n        const column = field.settings.specific.tableColumns.find(\r\n          (column) => column.id === id\r\n        );\r\n        if (column) {\r\n          controlLabel = column.label;\r\n        } else {\r\n          if (field.id === id) {\r\n            controlLabel = field.label;\r\n            return;\r\n          }\r\n        }\r\n      });\r\n      return controlLabel;\r\n    },\r\n\r\n    fileType(fileName) {\r\n      if (fileName) return fileName.split(\".\").reverse()[0].slice(0, 4);\r\n      else \"\";\r\n    },\r\n\r\n    fileSize(size) {\r\n      return formatBytes(size);\r\n    },\r\n\r\n    openFile(fileObj) {\r\n      if (!fileObj.loading) {\r\n        this.selectedFile = fileObj;\r\n        if (this.isTenantArmgroup()) {\r\n          window.open(this.fileLink());\r\n        } else {\r\n          this.fileSheet = true;\r\n        }\r\n      } else {\r\n        this.$alert.info(\"Please wait to complete the uploading\");\r\n      }\r\n    },\r\n\r\n    fileLink() {\r\n      let origin = location.origin.replace(\r\n        \"http://localhost:8080\",\r\n        \"http://52.172.32.88\"\r\n      );\r\n      if (this.selectedFile.name) {\r\n        let ext = this.selectedFile.name.split(\".\").pop();\r\n        if (this.selectedFile.initiate) {\r\n          let type = 1;\r\n          if (\r\n            this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n            this.workflow.initiatedBy === \"FORM\"\r\n          ) {\r\n            type = 2;\r\n          }\r\n          let domainURL = \"\";\r\n          if (pdfSupport(ext)) {\r\n            if (this.isTenantArmgroup()) {\r\n              domainURL =\r\n                \"https://ag-appsvc04.azurewebsites.net/web/viewer.html\";\r\n            } else if (origin === \"https://trial.ezofis.com\") {\r\n              domainURL = \"https://trial.ezofis.com/docsviewer/index.html\";\r\n            } else if (this.isTenantGOTO()) {\r\n              domainURL =\r\n                \"https://ezdocsviewer.azurewebsites.net/web/viewer.html\";\r\n            } else {\r\n              domainURL = `${origin}/PDFViewer/web/viewer.html`;\r\n            }\r\n          } else if (origin === \"http://52.172.32.88\") {\r\n            domainURL = \"http://52.172.32.88/DocsViewer/index.html\";\r\n          } else {\r\n            return `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}`;\r\n          }\r\n\r\n          return `${domainURL}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${type}`;\r\n        } else {\r\n          let domainURL = \"\";\r\n          let action = \"\";\r\n          if (\r\n            this.selectedNode === \"inbox\" ||\r\n            this.selectedNode === \"common\" ||\r\n            this.selectedNode === \"payment\"\r\n          ) {\r\n            action = \"&action=all\";\r\n          }\r\n          if (pdfSupport(ext)) {\r\n            if (this.isTenantArmgroup()) {\r\n              action = \"\";\r\n              domainURL =\r\n                \"https://ag-appsvc04.azurewebsites.net/web/viewer.html\";\r\n            } else if (\r\n              origin === \"https://trial.ezofis.com\" &&\r\n              !otherFilePDFSupport(ext)\r\n            ) {\r\n              localStorage.setItem(\"viewerClose\", false);\r\n              this.watchViewerClose = setInterval(\r\n                () => this.checkViewerClose(),\r\n                1000\r\n              );\r\n              domainURL = \"https://trial.ezofis.com/docsviewer/index.html\";\r\n            } else if (this.isTenantGOTO()) {\r\n              domainURL =\r\n                \"https://ezdocsviewer.azurewebsites.net/web/viewer.html\";\r\n            } else {\r\n              domainURL = `${origin}/PDFViewer/web/viewer.html`;\r\n            }\r\n          } else if (!htmlSupport(ext) && origin === \"http://52.172.32.88\") {\r\n            localStorage.setItem(\"viewerClose\", false);\r\n            this.watchViewerClose = setInterval(\r\n              () => this.checkViewerClose(),\r\n              1000\r\n            );\r\n            domainURL = \"http://52.172.32.88/DocsViewer/index.html\";\r\n          } else {\r\n            return `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n          }\r\n          return `${domainURL}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${action}`;\r\n        }\r\n      }\r\n    },\r\n\r\n    fileMenuAction(fileObj, action) {\r\n      this.selectedFile = fileObj;\r\n      this.documentAction(action, true);\r\n    },\r\n\r\n    documentAction(action, viewPrint) {\r\n      if (action === \"Email_Sharing\") {\r\n        //\r\n      } else if (action === \"Print\") {\r\n        if (this.selectedFile.name) {\r\n          if (viewPrint) {\r\n            let link = \"\";\r\n            if (this.selectedFile.initiate) {\r\n              let type = 1;\r\n              if (\r\n                this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n                this.workflow.initiatedBy === \"FORM\"\r\n              ) {\r\n                type = 2;\r\n              }\r\n              link = `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}/1`;\r\n            } else {\r\n              link = `${process.env.VUE_APP_API_URL}/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n            }\r\n            window.open(link, \"_blank\");\r\n          } else {\r\n            let ext = this.selectedFile.name.split(\".\").pop();\r\n            if (pdfSupport(ext)) {\r\n              localStorage.setItem(\"filePrint\", true);\r\n              localStorage.setItem(\"filePrintId\", this.selectedFile.id);\r\n            } else {\r\n              this.$refs.myAttachmentFiles.contentWindow.print();\r\n            }\r\n          }\r\n        }\r\n        this.filePrintSession();\r\n      } else if (action === \"Download\") {\r\n        let link = \"\";\r\n\r\n        if (this.selectedFile.initiate) {\r\n          let type = 1;\r\n          if (\r\n            this.repositoryDetails.fieldsType === \"STATIC\" &&\r\n            this.workflow.initiatedBy === \"FORM\"\r\n          ) {\r\n            type = 2;\r\n          }\r\n          link = `${process.env.VUE_APP_API_URL}/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${type}/2`;\r\n        } else {\r\n          link = `${process.env.VUE_APP_API_URL}/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;\r\n        }\r\n        window.open(link, \"_blank\");\r\n        //this.$alert.success(`file downloaded successfully`);\r\n      }\r\n    },\r\n\r\n    async filePrintSession() {\r\n      const { error } = await menu.filePrintSession({\r\n        repositoryId: this.selectedFile.repositoryId,\r\n        itemId: this.selectedFile.id,\r\n        activityId: 4,\r\n      });\r\n\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n    },\r\n\r\n    async getFileData(file, data) {\r\n      //this.$store.commit(\"showLoadingBar\");\r\n      const { error, payload } = await repository.getFileData({\r\n        repositoryId: file.repositoryId,\r\n        itemId: file.id,\r\n      });\r\n      //this.$store.commit(\"hideLoadingBar\");\r\n      if (error) {\r\n        this.$alert.error(error);\r\n        return;\r\n      }\r\n\r\n      if (!payload) {\r\n        return;\r\n      }\r\n      if (file.fileData) {\r\n        this.fileData = file.fileData;\r\n      } else {\r\n        this.fileData = payload;\r\n      }\r\n      if (data !== \"file\") this.fileDetailsSheet = true;\r\n    },\r\n\r\n    async attachmentDelete(file) {\r\n      if (!file.fileControl) {\r\n        if (file.initiate) {\r\n          const { error } = await uploadAndIndex.deleteUploadedFiles([file.id]);\r\n          if (error) {\r\n            this.$alert.error(error);\r\n            return;\r\n          }\r\n          this.attachmentList = this.attachmentList.filter(\r\n            (row) => row.id !== file.id\r\n          );\r\n          this.checkList.forEach((row) => {\r\n            if (row.uid === file.uid) {\r\n              row.attach = false;\r\n            }\r\n          });\r\n        } else {\r\n          const { error } = await repository.fileDelete(\r\n            this.workflow.repositoryId,\r\n            file.id\r\n          );\r\n          if (error) {\r\n            this.$alert.error(error);\r\n            return;\r\n          }\r\n          this.getAttachments();\r\n        }\r\n      } else {\r\n        let field = this.workflowModel[file.fieldId];\r\n        if (field.length) {\r\n          let hasField = field.findIndex((item) => {\r\n            return item.fileId === file.id;\r\n          });\r\n          console.log(hasField);\r\n          if (hasField >= 0) {\r\n            this.workflowModel[file.fieldId].splice(hasField, 1);\r\n          }\r\n\r\n          let hasValue = this.formUploadFiles.findIndex((item) => {\r\n            return item.fileId === file.id && item.fileId === file.fileId;\r\n          });\r\n          console.log(hasValue);\r\n          if (hasValue >= 0) {\r\n            this.formUploadFiles.splice(hasField, 1);\r\n          }\r\n          if (file.control.length) {\r\n            file.control.forEach((item) => {\r\n              this.workflowModel[item] = \"\";\r\n            });\r\n          }\r\n        }\r\n        let hasFile = this.attachmentList.findIndex((file) => {\r\n          return file.fileControl;\r\n        });\r\n        console.log(hasFile);\r\n        if (hasFile >= 0) {\r\n          // this.tabs.find((tab) => {\r\n          //   if (tab.value === \"ATTACHMENTS\") {\r\n          //     tab.count = this.attachmentList.length - 1;\r\n          //   }\r\n          // });\r\n          this.$emit(\"attachmentCount\", this.attachmentList.length - 1);\r\n          this.attachmentList.splice(hasFile, 1);\r\n        }\r\n      }\r\n    },\r\n\r\n    checkViewerClose() {\r\n      if (localStorage.getItem(\"viewerClose\")) {\r\n        if (localStorage.getItem(\"viewerClose\") === \"true\") {\r\n          this.fileSheet = false;\r\n          localStorage.removeItem(\"viewerClose\");\r\n          clearInterval(this.watchViewerClose);\r\n          if (this.workflow.initiatedBy === \"DOCUMENT_SIGN\") {\r\n            // this.getSignerSettings();\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // checkTenant() {\r\n    //   if (this.isTenantArmgroup()) {\r\n    //     this.commentAction = 2;\r\n    //     return false;\r\n    //   }\r\n    //   return true;\r\n    // },\r\n\r\n    isTenantGOTO() {\r\n      let origin = location.origin;\r\n      if (\r\n        (origin === \"https://app.ezofis.com\" ||\r\n          origin === \"https://appuat.ezofis.com\") &&\r\n        this.$store.state.session.tenantId === 2\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    customCheckUpload() {\r\n      let origin = location.origin;\r\n      if (\r\n        origin === \"https://edmsuat.sobhaapps.com\" &&\r\n        (this.workflowId === 55 || this.workflowId === 2092)\r\n      ) {\r\n        if (this.attachmentList.length === 0) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    async uploadWflowAttachments(e) {\r\n      if (this.repositoryDetails.fieldsType === \"STATIC\") {\r\n        this.selectedUploadFile = e;\r\n        if (this.customCheckUpload()) {\r\n          let documentNoField = this.formFields.find(\r\n            (field) => field.label === \"Document No\"\r\n          );\r\n          if (documentNoField) {\r\n            this.uploadFilename =\r\n              this.workflowModel[documentNoField.value] + \".pdf\";\r\n          } else {\r\n            this.uploadFilename = e.target.files[0].name;\r\n          }\r\n        } else {\r\n          this.uploadFilename = e.target.files[0].name;\r\n        }\r\n        const highestLevelObject = this.repositoryField.reduce(\r\n          (prev, curr) => (curr.level > prev.level ? curr : prev),\r\n          this.repositoryField[0]\r\n        );\r\n\r\n        const highestLevelId = highestLevelObject.id;\r\n\r\n        const fileDataItem = this.fileData.find(\r\n          (item) => highestLevelId == item.id\r\n        );\r\n        if (!this.selectedCheckListName) {\r\n          const newObjectToPush = {\r\n            id: highestLevelObject.id,\r\n            name: highestLevelObject.name,\r\n            value: this.selectedCheckListName,\r\n            type: highestLevelObject.dataType,\r\n          };\r\n          if (!this.fileData.length) {\r\n            this.fileData.push(newObjectToPush);\r\n            console.log(this.fileData, \"selectedCheckListName\");\r\n          } else if (fileDataItem) {\r\n            fileDataItem.value = \"\";\r\n          }\r\n          this.showMetaDataEditModal = true;\r\n        }\r\n\r\n        if (this.selectedCheckListName) {\r\n          if (fileDataItem) {\r\n            fileDataItem.value = this.selectedCheckListName;\r\n          }\r\n\r\n          const newObjectToPush = {\r\n            id: highestLevelObject.id,\r\n            name: highestLevelObject.name,\r\n            value: this.selectedCheckListName,\r\n            type: highestLevelObject.dataType,\r\n          };\r\n          if (!this.fileData.length) {\r\n            this.fileData.push(newObjectToPush);\r\n            console.log(this.fileData, \"selectedCheckListName\");\r\n          }\r\n          // check all mandatory filled\r\n          const mandatoryItems = this.repositoryField\r\n            .filter((item) => item.isMandatory === true)\r\n            .map((item) => item.id);\r\n\r\n          const allMandatoryFilled = mandatoryItems.every((mandatoryId) => {\r\n            const fileItem = this.fileData.find(\r\n              (item) => item.id === mandatoryId\r\n            );\r\n            return fileItem && fileItem.value !== \"\";\r\n          });\r\n\r\n          this.showMetaDataEditModal = !allMandatoryFilled;\r\n\r\n          if (allMandatoryFilled) {\r\n            const newObject = {};\r\n\r\n            this.fileData.forEach((item) => {\r\n              newObject[item.name] = item.value !== \"\" ? item.value : \"\";\r\n            });\r\n\r\n            console.log(newObject, \"New Object\");\r\n            this.saveMetaData(newObject);\r\n          } else {\r\n            this.showMetaDataEditModal = true;\r\n          }\r\n          this.selectedCheckListName = \"\";\r\n        }\r\n      } else {\r\n        this.uploadAttachments(e);\r\n      }\r\n    },\r\n\r\n    async uploadAttachments(e, fields) {\r\n      if (this.selectedProcess.processId) {\r\n        const file = e.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append(\"workflowId\", this.workflowId);\r\n        formData.append(\"repositoryId\", this.workflow.repositoryId);\r\n        formData.append(\"processId\", this.selectedProcess.processId);\r\n        formData.append(\"transactionId\", this.selectedProcess.transactionId);\r\n        if (fields) {\r\n          formData.append(\"fields\", fields);\r\n        } else {\r\n          formData.append(\"fields\", \"\");\r\n        }\r\n        formData.append(\"file\", file);\r\n        let filename = e.target.files[0].name;\r\n        const ext = filename.split(\".\").pop();\r\n        if (this.checkListRowIndex) {\r\n          let currentDoc = this.checkList.filter(\r\n            (row) => row.uid === this.checkListRowIndex\r\n          );\r\n          formData.append(\"filename\", currentDoc[0].name + \".\" + ext);\r\n          filename = currentDoc[0].name + \".\" + ext;\r\n        }\r\n        if (!fileSupport(ext)) {\r\n          this.$alert.info(\"This file format is not supported\");\r\n          return;\r\n        }\r\n        this.$store.commit(\"showLoadingBar\");\r\n        try {\r\n          const response = await axios({\r\n            url: `${process.env.VUE_APP_API_URL}/workflow/attachmentWithProcessId`,\r\n            method: \"POST\",\r\n            data: formData,\r\n            headers: {\r\n              Token: this.$store.state.identity.token,\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          });\r\n          const { status, data } = response;\r\n          if (status === 200 && data) this.$alert.success(`Document attached`);\r\n          else throw response;\r\n          this.documentLoad = setInterval(() => {\r\n            this.getAttachments();\r\n            clearInterval(this.documentLoad);\r\n          }, 15000);\r\n        } catch (error) {\r\n          this.$alert.error(\"Error uploading file\");\r\n          console.error(error);\r\n        }\r\n        this.$store.commit(\"hideLoadingBar\");\r\n        if (this.checkList.length) {\r\n          this.checkList.forEach((row) => {\r\n            if (row.uid === this.checkListRowIndex) {\r\n              row.attach = true;\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        e.target.value = \"\";\r\n        if (Object.keys(this.reuploadFile).length) {\r\n          await this.attachmentDelete(this.reuploadFile);\r\n          this.reuploadFile = {};\r\n        }\r\n        //this.attachmentLoad = setInterval(() => this.getAttachments(), 5000);\r\n      } else {\r\n        const file = e.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\"repositoryId\", this.workflow.repositoryId);\r\n        if (fields) {\r\n          this.fileData = JSON.parse(fields);\r\n          formData.append(\"fields\", fields);\r\n        }\r\n        let filename = e.target.files[0].name;\r\n        const ext = filename.split(\".\").pop();\r\n        if (this.checkListRowIndex) {\r\n          let currentDoc = this.checkList.filter(\r\n            (row) => row.uid === this.checkListRowIndex\r\n          );\r\n          formData.append(\"filename\", currentDoc[0].name + \".\" + ext);\r\n          filename = currentDoc[0].name + \".\" + ext;\r\n        } else {\r\n          formData.append(\"filename\", filename);\r\n        }\r\n        if (!fileSupport(ext)) {\r\n          this.$alert.info(\"This file format is not supported\");\r\n          return;\r\n        }\r\n        this.$store.commit(\"showLoadingBar\");\r\n        try {\r\n          const response = await axios({\r\n            url: `${process.env.VUE_APP_API_URL}/uploadAndIndex/upload`,\r\n            method: \"POST\",\r\n            data: formData,\r\n            headers: {\r\n              Token: this.$store.state.identity.token,\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          });\r\n          this.$store.commit(\"hideLoadingBar\");\r\n          const { status, data } = response;\r\n          if (status !== 200) {\r\n            throw \"Invalid response\";\r\n          }\r\n          let filesList = JSON.parse(data);\r\n          this.$alert.success(`Document attached`);\r\n          let fileName = this.repositoryField.reduce((max, curren) =>\r\n            max.level > curren.level ? max : curren\r\n          );\r\n          let name = this.fileData.find((item) => item.name === fileName.name);\r\n\r\n          let loading = false;\r\n          if (ext.toLowerCase() !== \"pdf\") {\r\n            loading = true;\r\n            this.documentLoadList.push(Number(filesList.fileId));\r\n            this.documentLoad = setInterval(() => {\r\n              let file = this.attachmentList.find(\r\n                (row) => this.documentLoadList.indexOf(row.id) > -1\r\n              );\r\n              if (file) {\r\n                this.documentLoadList.splice(\r\n                  this.documentLoadList.indexOf(file.id),\r\n                  1\r\n                );\r\n                file.loading = false;\r\n              }\r\n              if (this.documentLoadList.length === 0) {\r\n                clearInterval(this.documentLoad);\r\n              }\r\n            }, 10000);\r\n          }\r\n\r\n          this.attachmentList.push({\r\n            id: Number(filesList.fileId),\r\n            name: fields ? name.value + \".\" + ext : filename,\r\n            createdAt: new Date().toISOString(),\r\n            createdByEmail: this.$store.state.session.email,\r\n            size: file.size,\r\n            initiate: true,\r\n            uid: this.checkListRowIndex,\r\n            createdBy: this.$store.state.session.id,\r\n            fileData: this.fileData,\r\n            repositoryId: this.workflow.repositoryId,\r\n            loading: loading,\r\n          });\r\n          // this.tabs.find((tab) => {\r\n          //   if (tab.value === \"ATTACHMENTS\") {\r\n          //     tab.count = this.attachmentList.length;\r\n          //   }\r\n          // });\r\n          this.$emit(\"attachmentCount\", this.attachmentList.length);\r\n          if (this.checkList.length) {\r\n            this.checkList.forEach((row) => {\r\n              if (row.uid === this.checkListRowIndex) {\r\n                row.attach = true;\r\n                return;\r\n              }\r\n            });\r\n          }\r\n          e.target.value = \"\";\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.$alert.error(`error attaching file`);\r\n        }\r\n      }\r\n    },\r\n\r\n    closeMetaDataEditModal() {\r\n      this.showMetaDataEditModal = false;\r\n      if (this.$refs.attachments) {\r\n        this.$refs.attachments.value = null;\r\n      }\r\n    },\r\n\r\n    saveMetaData(modal) {\r\n      let data = [];\r\n      this.repositoryField.forEach((field) => {\r\n        data.push({\r\n          name: field.name,\r\n          value: modal[field.name],\r\n          type: field.dataType,\r\n        });\r\n      });\r\n\r\n      data.forEach((key) => {\r\n        let hasName = this.formFields.find(\r\n          (item) => lowerCase(item.label) === lowerCase(key.name)\r\n        );\r\n        if (hasName && key.value) {\r\n          this.workflowModel[hasName.value] = key.value;\r\n        }\r\n      });\r\n\r\n      this.uploadAttachments(this.selectedUploadFile, JSON.stringify(data));\r\n    },\r\n\r\n    closeAttachmentsSheet() {\r\n      this.attachmentSheet = false;\r\n\r\n      this.$emit(\"update:attachments\", this.attachmentList);\r\n      this.$emit(\"attachmentCount\", this.attachmentList.length);\r\n      this.$emit(\"update:value\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#sheet .attachmentList,\r\n#sheet .checkList,\r\n#sheet .mailTransactionList {\r\n  padding: 12px;\r\n  border-bottom: 1px solid var(--divider-color);\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: #e0f7fa;\r\n  }\r\n\r\n  // &:not(:last-child) {\r\n  //   border-bottom: 1px solid var(--divider-color);\r\n  // }\r\n\r\n  &.is-selected.mini-mode::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    right: 0;\r\n    top: 10px;\r\n    width: 4px;\r\n    height: 75%;\r\n    background-color: var(--secondary);\r\n    border-radius: 4px 0px 0px 4px;\r\n  }\r\n\r\n  .thumbnail {\r\n    height: 80px;\r\n    width: 80px;\r\n    border: 1px solid var(--divider-color);\r\n    border-radius: 4px 0px 0px 4px;\r\n  }\r\n\r\n  .avatar {\r\n    width: 48px;\r\n    height: 48px;\r\n  }\r\n\r\n  .mini-avatar {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n\r\n  .title {\r\n    font-weight: 600;\r\n    margin-bottom: 6px;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .meta {\r\n    @extend .text-sm;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    color: var(--icon-color-inverted);\r\n  }\r\n\r\n  #avatar {\r\n    height: 18px;\r\n    width: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: $secondary;\r\n    border-radius: 100%;\r\n    border: 1px solid;\r\n  }\r\n\r\n  .chips {\r\n    cursor: pointer;\r\n    background-color: #fff !important;\r\n    font-size: 12px !important;\r\n\r\n    &.small {\r\n      width: 75px;\r\n    }\r\n\r\n    &.medium {\r\n      width: 95px;\r\n    }\r\n  }\r\n\r\n  .primary-hover:hover {\r\n    background: $primary-2 !important;\r\n  }\r\n\r\n  .secondary-hover:hover {\r\n    background: $secondary-2 !important;\r\n  }\r\n\r\n  .green-hover:hover {\r\n    background: $green-2 !important;\r\n  }\r\n\r\n  .orange-hover:hover {\r\n    background: $orange-2 !important;\r\n  }\r\n\r\n  .red-hover:hover {\r\n    background: $red-2 !important;\r\n  }\r\n\r\n  .grey-hover:hover {\r\n    background: $grey-2 !important;\r\n  }\r\n\r\n  .text-underline {\r\n    text-decoration: underline;\r\n  }\r\n}\r\n\r\n#sheet .mailTransactionList {\r\n  #action-btn {\r\n    width: 28px !important;\r\n    height: 28px !important;\r\n  }\r\n}\r\n\r\n#sheet .attachmentFileHeader {\r\n  display: flex;\r\n  align-items: center;\r\n  text-transform: none !important;\r\n  .avatar {\r\n    width: 36px;\r\n    height: 36px;\r\n  }\r\n\r\n  .filename {\r\n    font-size: 16px !important;\r\n  }\r\n\r\n  .meta {\r\n    @extend .text-sm;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    color: var(--icon-color-inverted);\r\n    font-weight: normal !important;\r\n  }\r\n}\r\n\r\n#sheet .attachmentFileFrame {\r\n  min-height: calc(100vh - 61px);\r\n  background-color: var(--body-bg-color);\r\n  display: flex;\r\n\r\n  .file-list {\r\n    flex: 1;\r\n  }\r\n\r\n  .aside {\r\n    width: 380px;\r\n    background-color: var(--component-bg-color);\r\n  }\r\n\r\n  #file-frame {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n#sheet .fileFrame {\r\n  min-height: calc(100vh - 120px);\r\n  background-color: var(--body-bg-color);\r\n  display: flex;\r\n\r\n  .file-list {\r\n    flex: 1;\r\n  }\r\n\r\n  .aside {\r\n    width: 380px;\r\n    background-color: var(--component-bg-color);\r\n  }\r\n\r\n  #file-frame {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n#sheet .hint {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 5px;\r\n  cursor: pointer;\r\n  border: 2px dotted;\r\n  border-radius: 10px;\r\n  background-color: #e0ebfa26;\r\n  padding: 5px;\r\n\r\n  .icon {\r\n    color: var(--body-text-color-inverted);\r\n  }\r\n\r\n  .title {\r\n    @extend .title-2;\r\n    font-weight: bold;\r\n    margin-bottom: 2px;\r\n  }\r\n\r\n  .description {\r\n    color: var(--icon-color);\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attachments.vue?vue&type=template&id=dc5d287e&scoped=true&\"\nimport script from \"./Attachments.vue?vue&type=script&lang=js&\"\nexport * from \"./Attachments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Attachments.vue?vue&type=style&index=0&id=dc5d287e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dc5d287e\",\n  null\n  \n)\n\nexport default component.exports\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QMenu from 'quasar/src/components/menu/QMenu.js';\nimport qInstall from \"../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QChip,QAvatar,QMenu});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"value\":_vm.value,\"has-footer\":\"\",\"width\":\"540px\"},on:{\"input\":_vm.closeModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.title))]},proxy:true},{key:\"default\",fn:function(){return [_c('ValidationObserver',{ref:\"form\"},[(!_vm.editFromFileSheet)?_vm._l((_vm._repositoryField),function(field){return _c('div',{key:field.id,staticClass:\"field-wrapper\"},[[[_c('RepositoryField',{staticClass:\"col\",attrs:{\"field\":field,\"repository-id\":_vm.file.repositoryId,\"read-only\":_vm.readOnly},model:{value:(_vm.fieldsModel[field.name]),callback:function ($$v) {_vm.$set(_vm.fieldsModel, field.name, $$v)},expression:\"fieldsModel[field.name]\"}})]]],2)}):_vm._e(),(_vm.editFromFileSheet)?_vm._l((_vm.fieldsModalData),function(field){return _c('div',{key:field.id,staticClass:\"field-wrapper\"},[[[_c('RepositoryField',{staticClass:\"col\",attrs:{\"field\":_vm.getField(field.fieldId),\"repository-id\":_vm.file.repositoryId,\"read-only\":_vm.readOnly},model:{value:(field.newValue),callback:function ($$v) {_vm.$set(field, \"newValue\", $$v)},expression:\"field.newValue\"}})]]],2)}):_vm._e()],2)]},proxy:true},{key:\"footer\",fn:function(){return [_c('BaseButton',{staticClass:\"q-mr-sm\",attrs:{\"is-flat\":\"\",\"label\":\"cancel\"},on:{\"click\":_vm.closeModal}}),_c('BaseButton',{attrs:{\"label\":\"save\"},on:{\"click\":_vm.save}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Modal :value=\"value\" has-footer width=\"540px\" @input=\"closeModal\">\r\n    <!-- title -->\r\n\r\n    <template #title>{{ title }}</template>\r\n\r\n    <!-- ... -->\r\n\r\n    <template #default>\r\n      <ValidationObserver ref=\"form\">\r\n        <template v-if=\"!editFromFileSheet\">\r\n          <div\r\n            v-for=\"field in _repositoryField\"\r\n            :key=\"field.id\"\r\n            class=\"field-wrapper\"\r\n          >\r\n            <template>\r\n              <!-- <template v-if=\"field.dataType === 'TABLE'\">\r\n              <TableField v-model=\"fieldsModel[field.name]\" :field=\"field\" />\r\n            </template> -->\r\n              <template>\r\n                <RepositoryField\r\n                  v-model=\"fieldsModel[field.name]\"\r\n                  :field=\"field\"\r\n                  :repository-id=\"file.repositoryId\"\r\n                  :read-only=\"readOnly\"\r\n                  class=\"col\"\r\n                />\r\n              </template>\r\n            </template>\r\n          </div>\r\n        </template>\r\n        <template v-if=\"editFromFileSheet\">\r\n          <div\r\n            v-for=\"field in fieldsModalData\"\r\n            :key=\"field.id\"\r\n            class=\"field-wrapper\"\r\n          >\r\n            <template>\r\n              <!-- <template v-if=\"field.dataType === 'TABLE'\">\r\n              <TableField v-model=\"fieldsModel[field.name]\" :field=\"field\" />\r\n            </template> -->\r\n              <template>\r\n                <RepositoryField\r\n                  v-model=\"field.newValue\"\r\n                  :field=\"getField(field.fieldId)\"\r\n                  :repository-id=\"file.repositoryId\"\r\n                  :read-only=\"readOnly\"\r\n                  class=\"col\"\r\n                />\r\n              </template>\r\n            </template>\r\n          </div>\r\n        </template>\r\n      </ValidationObserver>\r\n    </template>\r\n\r\n    <!-- footer -->\r\n\r\n    <template #footer>\r\n      <BaseButton is-flat label=\"cancel\" class=\"q-mr-sm\" @click=\"closeModal\" />\r\n\r\n      <BaseButton label=\"save\" @click=\"save\" />\r\n    </template>\r\n\r\n    <!-- ... -->\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationObserver } from \"vee-validate\";\r\nimport Modal from \"@/components/common/popup/Modal.vue\";\r\nimport RepositoryField from \"@/views/upload-and-index/views/indexer/components/repository-fields/components/RepositoryField.vue\";\r\n// import TableField from \"@/views/upload-and-index/views/indexer/components/repository-fields/components/table-field/TableField.vue\";\r\nimport { isEmpty, lowerCase } from \"lodash-es\";\r\n\r\nexport default {\r\n  name: \"MetaDataEdit\",\r\n\r\n  components: {\r\n    Modal,\r\n    ValidationObserver,\r\n    RepositoryField,\r\n    // TableField,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    file: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n\r\n    repositoryField: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n\r\n    fileData: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n\r\n    title: {\r\n      type: String,\r\n      default: \"Metadata Edit\",\r\n    },\r\n\r\n    columns: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    modalValue: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n\r\n    readOnly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    uploadFilename: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n\r\n    editFromFileSheet: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    metaDataFields: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      fieldsModel: {},\r\n      fieldsModalData: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    _repositoryField() {\r\n      return this.repositoryField.map((field) => ({\r\n        ...field,\r\n        options: field.options ? JSON.parse(field.options) : [],\r\n      }));\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    fileData: {\r\n      immediate: true,\r\n      deep: true,\r\n      async handler() {\r\n        if (!this.editFromFileSheet) {\r\n          this.processFieldsModel();\r\n        } else {\r\n          this.fieldsModalData = [];\r\n          if (this.fileData.length) {\r\n            this.fileData.forEach((item) => {\r\n              this.fieldsModalData.push({\r\n                fieldId: item.id,\r\n                // dataType: item.type,\r\n                oldValue: item.value,\r\n                newValue: item.value,\r\n              });\r\n            });\r\n          }\r\n        }\r\n      },\r\n    },\r\n\r\n    value() {\r\n      if (this.value) {\r\n        this.processFieldsModel();\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    processFieldsModel() {\r\n      this.fieldsModel = {};\r\n      if (!this.fileData.length) {\r\n        this._repositoryField.forEach((field) => {\r\n          let isColumn = this.columns.find(\r\n            (item) => lowerCase(item.label) === lowerCase(field.name)\r\n          );\r\n          // console.log(isColumn);\r\n          if (isColumn) {\r\n            // let fileName = this.repositoryField.reduce((max, curren) =>\r\n            //   max.level > curren.level ? max : curren\r\n            // );\r\n\r\n            // if (fileName.name !== field.name) {\r\n            if (this.modalValue.formData) {\r\n              this.$set(\r\n                this.fieldsModel,\r\n                field.name,\r\n                this.modalValue.formData.fields[isColumn.id]\r\n              );\r\n            } else if (this.modalValue[isColumn.name]) {\r\n              this.$set(\r\n                this.fieldsModel,\r\n                field.name,\r\n                this.modalValue[isColumn.name]\r\n              );\r\n            } else if (this.modalValue[isColumn.id]) {\r\n              this.$set(\r\n                this.fieldsModel,\r\n                field.name,\r\n                this.modalValue[isColumn.id]\r\n              );\r\n            }\r\n            // } else {\r\n            //   this.$set(this.fieldsModel, field.name, \"\");\r\n            // }\r\n          } else if (!isEmpty(this.metaDataFields)) {\r\n            //\r\n            this.$set(\r\n              this.fieldsModel,\r\n              field.name,\r\n              this.metaDataFields[field.name]\r\n            );\r\n          } else {\r\n            this.$set(this.fieldsModel, field.name, \"\");\r\n          }\r\n        });\r\n      } else {\r\n        this.fileData.forEach((field) => {\r\n          // let fileName = this.repositoryField.reduce((max, curren) =>\r\n          //   max.level > curren.level ? max : curren\r\n          // );\r\n\r\n          // if (fileName.name !== field.name) {\r\n          this.$set(this.fieldsModel, field.name, field.value);\r\n          // } else {\r\n          //   this.$set(this.fieldsModel, field.name, \"\");\r\n          // }\r\n        });\r\n      }\r\n      if (this.uploadFilename) {\r\n        let filename = this.uploadFilename.substring(\r\n          0,\r\n          this.uploadFilename.lastIndexOf(\".\")\r\n        );\r\n        let filenameField = this._repositoryField.find(\r\n          (field) => field.name.toLowerCase() == \"filename\"\r\n        );\r\n        if (filenameField) {\r\n          this.$set(this.fieldsModel, filenameField.name, filename);\r\n        }\r\n      }\r\n    },\r\n\r\n    closeModal() {\r\n      this.$emit(\"close\", false);\r\n    },\r\n\r\n    async save() {\r\n      //if (this.editFromFileSheet) {\r\n      const isValid = await this.$refs.form.validate();\r\n\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n      //}\r\n\r\n      this.$emit(\r\n        \"save\",\r\n        this.editFromFileSheet ? this.fieldsModalData : this.fieldsModel\r\n      );\r\n      this.$emit(\"close\", false);\r\n    },\r\n\r\n    getField(id) {\r\n      let field = this._repositoryField.find((item) => id === item.id);\r\n      if (field) return field;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.field-wrapper {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin-bottom: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaDataEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaDataEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetaDataEdit.vue?vue&type=template&id=059cbd7c&scoped=true&\"\nimport script from \"./MetaDataEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./MetaDataEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MetaDataEdit.vue?vue&type=style&index=0&id=059cbd7c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"059cbd7c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=style&index=0&id=0e83c5c2&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('BaseActionButton',{attrs:{\"is-flat\":\"\",\"no-border\":_vm.noBorder,\"icon\":_vm.darkTheme ? 'eva-moon-outline' : 'eva-sun-outline'},on:{\"click\":_vm.toggleDarkTheme}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BaseActionButton\n    is-flat\n    :no-border=\"noBorder\"\n    :icon=\"darkTheme ? 'eva-moon-outline' : 'eva-sun-outline'\"\n    @click=\"toggleDarkTheme\"\n  />\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\n\nexport default {\n  name: \"ThemeSwitcher\",\n\n  props: {\n    noBorder: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  computed: {\n    ...mapState([\"darkTheme\"]),\n  },\n\n  methods: {\n    ...mapMutations([\"toggleDarkTheme\"]),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThemeSwitcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThemeSwitcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThemeSwitcher.vue?vue&type=template&id=b3ced1f0&scoped=true&\"\nimport script from \"./ThemeSwitcher.vue?vue&type=script&lang=js&\"\nexport * from \"./ThemeSwitcher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3ced1f0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}