(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tasks-trash","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~fc714461","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97","custom-form~external-request~portal-accesss-custom","integration-browse~repositories-reports-overview"],{"00f0":function(t,e,i){},"064c":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-center",attrs:{id:"item-actions"}},[(t.customProcessForm,t._e()),t.sendInvite?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("invite")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover q-mr-sm",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-account-plus",color:"primary","text-color":"white"}}),t._v(" Send Invite ")],1)],1)]:t._e(),t.processForward?[e("div",{attrs:{classs:"cursor-pointer"},on:{click:function(e){return t.$emit("forward")}}},[e("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-arrow-right",color:"orange","text-color":"white"}}),t._v(" Assign ")],1)],1)]:t._e(),t.workflowInitiate?[t.initiateAccess?[e("div",{attrs:{classs:"cursor-pointer "},on:{click:function(e){return t.$emit("initiate")}}},[e("q-chip",{staticClass:"cursor-pointer secondary-hover q-mr-sm",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)],1)]:[e("q-chip",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Choose document to initiate",expression:"'Choose document to initiate'",modifiers:{top:!0}}],staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",disable:"",color:"secondary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),t._v(" Initiate ")],1)]]:t._e(),t.gotoInbox?e("div",{staticClass:"cursor-pointer q-mr-xs",on:{click:function(e){return t.$emit("inbox")}}},[e("q-chip",{staticClass:"cursor-pointer primary-hover",attrs:{outline:"",color:"primary"}},[e("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-email",color:"primary","text-color":"white"}}),t._v(" My Inbox ")],1)],1):t._e(),t.workflowImport?e("ImportPopup",{attrs:{"chip-button":!0,"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport}}):t._e(),t.downloadAll?e("div",{staticClass:"row q-pr-xs",class:{download:t.checkIconCount}},[t.visibleDownload?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"download",expression:"'download'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{icon:"mdi-download-outline","is-flat":"","no-border":""},on:{click:function(e){return t.$emit("downloadAll",t.item.id)}}}):t._e(),t.visiblePrint?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"print",expression:"'print'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"eva-printer-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("printAll",t.item.id)}}}):t._e(),t.visibleEmail?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Email Sharing",expression:"'Email Sharing'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("emailAll",t.item)}}}):t._e(),t.visibleDelete?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return t.$emit("deleteFileAction",t.item.id)}}}):t._e()],1):t._e(),t._t("filterSearchIcon"),t.simpleSearchFilter?e("div",[t.hideActions.includes("search")?t._e():e("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:t.searchTable}})],1):e("div",{staticClass:"q-mr-xs"},[e("SimpleSearchWithFilter",{attrs:{columns:t.columns,"filter-by":t.filterBy},on:{keyup:t.searchTable,update:t.updateSimpletSearchFilterBy}})],1),t.id?e("SelectField",{staticClass:"fieldList q-mr-sm",attrs:{"is-mandatory":"",placeholder:"Select day","is-searchable":!0,options:t.dateFilter},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}}):t._e(),t.refresh||t.id?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(e){return t.$emit("refresh")}}}):t._e(),t.jiraConnect?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira","no-border":"","is-flat":""},on:{click:function(e){return t.$emit("jira")}}}):t._e(),"TRASH"===t.mode?e("div",{staticClass:"row justify-end"},[t.deleteBtn?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Restore Selected Items",expression:"'Restore Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history"},on:{click:function(e){return e.stopPropagation(),t.$emit("restore")}}}):t._e()],1):t._e(),t.deleteBtn?e("div",[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete Selected Items",expression:"'Delete Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete")}}})],1):t._e(),t.hideActions.includes("toggle")?t._e():e("ToggleColumns",{attrs:{columns:t.repositoryFields?"LIST"===t.activeView?t.columns:[]:t.columns,"repository-fields":t.repositoryFields,"toggle-id":t.toggleId},on:{"update:columns":t.updateColumns,viewColumns:t.viewColumns}}),t.hideActions.includes("sort")?t._e():e("SortItems",{attrs:{columns:t.columns,order:t.order,criteria:t.criteria},on:{"update:order":t.updateOrder,"update:criteria":t.updateCriteria}}),t.hideActions.includes("group")?t._e():e("GroupItems",{attrs:{columns:t.columns,"group-by":t.groupBy},on:{"update:groupBy":t.updateGroupBy}}),t.hideActions.includes("filter")?t._e():e("FilterItems",{attrs:{item:t.item,columns:t._columns,"filter-by":t.filterBy,"selected-filter":t.selectedFilter,"search-content":t.searchContent,"content-search":t.contentSearch,module:t.module,"module-id":t.moduleId},on:{update:t.updateFilterBy,updateContentSearch:t.updateContentSearch}}),t.importData?e("ImportPopup",{attrs:{"data-imported":t.dataImported,"form-id":t.formId},on:{upload:t.upload,close:t.closeImport,downloadTemplate:t.downloadTemplate}}):t._e(),t.importJson?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"import",expression:"'import'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-import"},on:{click:function(e){return t.$emit("import")}}}):t._e(),!t.hideActions.includes("export")&&t.exportData?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(e){return t.$emit("export")}}}):t._e(),t.hideActions.includes("activeView")?t._e():e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),t.hideActions.includes("activeView")?t._e():e("ViewToggle",{attrs:{"active-view":t.activeView,"thumbnail-view":t.thumbnailView,"grid-view":t.gridView,module:t.module},on:{"update:activeView":t.updateActiveView}}),e("KanbanView",{attrs:{"kanban-view":t.kanbanView,"active-view":t.activeKanbanView,"kanban-list":t.kanbanList},on:{"update:activeKanbanView":t.updateActiveKanbanView,clickKanban:function(e){return t.$emit("clickKanban")}}}),t.dashboardView?e("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}):t._e(),t.dashboardView?e("DashboardView",{attrs:{"dashboard-view":t.dashboardView,"chart-view":t.chartView,"table-view":t.tableView,page:t.page},on:{"update:activeDashboardView":t.updateActiveDashboardView}}):t._e(),t._t("extraIcon")],2)},a=[],o=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"columns",expression:"'columns'",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-column-plus-after"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("div",{staticClass:"row border"},[e("div",{staticClass:"title-3 q-pa-xs col-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Show/Hide Columns",autofocus:""},domProps:{value:t.searchColumns},on:{keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),t.repositoryFields&&t.columns.length?e("div",{staticClass:"col-auto q-pa-xs"},[e("BaseButton",{attrs:{label:"Apply",color:"primary"},on:{click:t.apply}})],1):t._e()]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight}},t._l(t._columns,(function(i){return e("ListItem",{key:i.id,class:i.display,attrs:{icon:i.isVisible?"mdi-checkbox-marked":"mdi-checkbox-blank-outline","is-selected":i.isVisible,label:i.label},on:{click:function(e){return t.updateColumns(i)}}})})),1)],1)],1)},r=[],n=(i("14d9"),i("cade")),l=i("1b0d"),c={name:"ToggleColumns",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},repositoryFields:{type:Boolean,default:!1},toggleId:{type:Number,default:0}},data(){return{filterColumns:[],columnList:"",searchColumns:""}},computed:{_columns(){return this.columns.filter(t=>"NORMAL"===t.type)},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateColumns1(t){const e=this.columns,i=e.findIndex(e=>e.id===t);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)},apply(){this.filterColumns=[],console.log(this.columns),this.columns.forEach(t=>{!1===t.isVisible&&this.filterColumns.push({Fieldid:t.fieldId,value:t.isVisible})}),console.log(this.filterColumns),this.$emit("viewColumns",this.filterColumns),this.filterColumns=[]},searchColumnList(t){this.columns.forEach(e=>{e.display="",t&&(e.label.toLowerCase().includes(t.toLowerCase())||(e.display="hide"))})},async updateColumns(t){if(this.toggleId){const e=this.columns.findIndex(e=>e.id===t.id);this.columns[e].isVisible=!this.columns[e].isVisible;let i={id:t.hideId||0,columnName:t.id};const{error:s,payload:a}=await l["k"].updateHideColumns(this.toggleId,i);if(s)return void this.$alert.error(s);let o=[];t.hideId?o=this.columns.filter(e=>e.id!=t.hideId):(o=this.columns,o.push({id:a,columnName:t.id})),this.columns[e].hideId=t.hideId?0:a,this.$emit("update:columns",o)}else{const e=this.columns,i=e.findIndex(e=>e.id===t.id);e[i].isVisible=!e[i].isVisible,this.$emit("update:columns",e)}}}},d=c,u=(i("ee26"),i("2877")),h=i("4e73"),m=i("93dc"),p=i.n(m),f=Object(u["a"])(d,o,r,!1,null,"251c6f56",null),v=f.exports;p()(f,"components",{QMenu:h["a"]});var y=i("c559"),b=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"group",expression:"'group'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"eva-copy-outline","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Group By")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.groupBy?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.groupBy,label:i.label},on:{click:function(e){return t.updateGroupBy(i.name)}}})}))],2)],1)],1)},g=[],w={name:"GroupItems",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},groupBy:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isGroupable)]},scrollbarHeight(){const t=36*this._columns.length;return t>216?"276px":t+58+"px"}},methods:{updateGroupBy(t){this.$emit("update:groupBy",t)}}},k=w,_=Object(u["a"])(k,b,g,!1,null,"72f07afc",null),S=_.exports;p()(_,"components",{QMenu:h["a"]});var T=i("27bd"),C=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"view-toggle"}},[t._l(t._views,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.activeView===i.value?i.activeIcon:i.icon,color:t.activeView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateActiveView(i.value)}}})]})),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],2)},I=[],$=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-info-outline","icon-color":"orange"},on:{input:t.hideSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Default view?")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Do you want to make this "),e("b",[t._v('"('+t._s(t.view)+')"')]),t._v(" view is default? . ")]),e("p",[t._v("You can always change this view.")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:t.handleYes}})]},proxy:!0}])})},x=[],B=i("1c54"),A={name:"DefaultView",components:{Confirm:B["a"]},props:{value:{type:Boolean,required:!0},view:{type:String,required:!0}},methods:{handleNo(){this.$emit("handleNo",!1)},hideSheet(){this.$emit("hideSheet",!1)},handleYes(){this.$emit("handleYes",!1)}}},L=A,F=Object(u["a"])(L,$,x,!1,null,"38f8db3d",null),O=F.exports,E=i("4360"),N={name:"ViewToggle",components:{DefaultView:O},props:{activeView:{type:String,default:"GRID",validator(t){return["GRID","LIST","THUMBNAIL"].includes(t)}},thumbnailView:{type:Boolean,default:!1},gridView:{type:Boolean,default:!0},module:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Grid View",value:"GRID",icon:"mdi-view-grid-outline",activeIcon:"mdi-view-grid"},{id:this.$nano.id(),label:"List View",value:"LIST",icon:"mdi-format-list-checkbox",activeIcon:"mdi-view-list"},{id:this.$nano.id(),label:"Thumbnail View",value:"THUMBNAIL",icon:"eva-image-outline",activeIcon:"eva-image"}],showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{}}},computed:{_views(){return this.thumbnailView?this.views:this.gridView?this.views.slice(0,2):this.views.slice(1,2)}},created(){this.getDefaultView()},methods:{updateActiveView(t){this.defaultView=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeView",this.defaultView),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={},i=this.$route.query.repositoryId,s="";i&&(s="files"),e=s?{preference:{[this.$route.meta.subMenu]:[{menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}}:{preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}};const{error:a,payload:o}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),a?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",e.preference),E["a"].commit("setPreferenceId",o),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeView",this.defaultView))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i=this.$route.query.repositoryId,s="";i&&(s="files");let a={};if(s)if(this.options[s])if(this.options[s].length){let t=this.options[s].findIndex(t=>t.subMenu===e);console.log(t),t>=0?this.options[s][t].view=this.defaultView:this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultView:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});let o=JSON.stringify(this.options);a={preference:JSON.parse(o)};const{error:r}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,a);this.$store.commit("hideLoadingBar"),r?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",a.preference),this.$emit("update:activeView",this.defaultView))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),E["a"].commit("setDefaultView",this.options),E["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},D=N,q=(i("cd8d"),Object(u["a"])(D,C,I,!1,null,"75627166",null)),M=q.exports,P=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"kanban-view"}},[t.kanbanView?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Kanban View",expression:"'Kanban View'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:(t.activeKanban,"mdi-grid"),color:t.activeKanban?"secondary":"gray","no-border":""},on:{click:function(e){return t.$emit("clickKanban")}}},[t.kanbanList.length?e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},t._l(t.kanbanList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.name===t.activeView?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===t.activeView,label:i.label},on:{click:function(e){return t.selectKanban(i.name)}}})})),1)],1):t._e()],1):t._e(),e("DefaultView",{attrs:{value:t.showDefaultView,view:t.defaultView},on:{handleYes:t.handleYes,handleNo:t.handleNo,hideSheet:function(e){t.showDefaultView=!1}}})],1)},V=[],R={name:"KanbanView",components:{ListItem:n["a"],DefaultView:O},props:{activeView:{type:String,default:""},kanbanView:{type:Boolean,default:!1},kanbanList:{type:Array,default:()=>[]}},data(){return{showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{},defaultViewId:""}},computed:{scrollbarHeight(){const t=36*this.kanbanList.length;return t>216?"276px":t+58+"px"},activeKanban(){return"LIST"!==this.activeView&&"GRID"!==this.activeView&&"CHART"!==this.activeView&&"TABLE"!==this.activeView}},created(){this.getDefaultView()},methods:{selectKanban(t){let e=this.kanbanList.find(e=>e.name===t);console.log(e),e&&(this.defaultView=e.label),this.defaultViewId=t,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeKanbanView",this.defaultViewId),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e={preference:{[t]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId}]}};const{error:i,payload:s}=await l["n"].addProfilePreference(e);this.$store.commit("hideLoadingBar"),i?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",e.preference),E["a"].commit("setPreferenceId",s),this.viewAlreadyAdded=!0,this.options=e,this.$emit("update:activeKanbanView",this.defaultViewId))},async updateDefaultView(){this.$store.commit("showLoadingBar");let t=this.$route.meta.menu,e=this.$route.meta.breadcrumb,i={};if(this.options[t])if(this.options[t].length){let i=this.options[t].findIndex(t=>t.subMenu===e);i>=0?this.options[t][i].view=this.defaultViewId:this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId})}else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});else this.options[t]=[],this.options[t].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});i={preference:this.options};const{error:s}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,i);this.$store.commit("hideLoadingBar"),s?this.$alert.error("Error fetching changing view"):(E["a"].commit("setDefaultView",i.preference),this.$emit("update:activeKanbanView",this.defaultViewId))},async getDefaultView(){const{error:t,payload:e}=await l["n"].getProfilePreference(this.userId);t?this.$alert.error("Error fetching get default view"):e?(this.options=JSON.parse(e.options),E["a"].commit("setDefaultView",this.options),E["a"].commit("setPreferenceId",e.id)):this.viewAlreadyAdded=!1}}},j=R,z=(i("6c88"),Object(u["a"])(j,P,V,!1,null,"6f4b2704",null)),H=z.exports;p()(z,"components",{QMenu:h["a"]});var W=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"dashboard-view"}},t._l(t._views,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:t.dashboardView===i.value?i.activeIcon:i.icon,color:t.dashboardView===i.value?"secondary":"gray"},on:{click:function(e){return t.updateDashboardView(i.value)}}})})),1)},U=[],G={name:"DashboardView",props:{dashboardView:{type:String,default:"CHART",validator(t){return["CHART","TABLE","SANKEY","KANBAN"].includes(t)}},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!0},page:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"},{id:this.$nano.id(),label:"Chart View",value:"CHART",icon:"eva-image",activeIcon:"eva-image"},{id:this.$nano.id(),label:"Sankey View",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"}]}},computed:{_views(){if("REPORT"===this.page)return this.views.slice(0,2);let t=location.origin;return"https://edmsuat.sobhaapps.com"===t||"https://edms.sobhaapps.com"===t?this.views.slice(1,2):this.views.slice(1,3)}},methods:{updateDashboardView(t){this.$emit("update:activeDashboardView",t)}}},Y=G,Q=(i("8180"),Object(u["a"])(Y,W,U,!1,null,"1da74fbd",null)),K=Q.exports,J=i("be3f"),X=i("0cdc"),Z=i("12b8"),tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col",attrs:{id:"search-items"}},[e("div",{attrs:{id:"Simple-search"}},[e("div",{staticClass:"label",staticStyle:{"margin-left":"0px"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search By",expression:"'Search By'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:t.activeFilter?"secondary":"gray","no-border":""}},[t.filter?e("div"):t._e(),e("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[e("div",{staticClass:"title-3 q-pa-xs border"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Type here to search"},domProps:{value:t.searchColumns},on:{click:function(t){t.stopPropagation()},keyup:function(e){return t.searchColumnList(t.searchColumns)},input:function(e){e.target.composing||(t.searchColumns=e.target.value)}}})]),e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"240px"}},[t._l(t.columnList,(function(i){return[i.display&&!1!==i.isFilter?e("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(e){return t.updateFilterBy(i.id)}}}):t._e()]}))],2)],1)],1),t.activeFilter?e("div",{staticClass:"selectedLabel"},[e("span",{staticClass:"text-bold"},[t._v(t._s(t.selectedLabel)+" :")])]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],ref:"searchQuery",staticClass:"q-px-xs",class:{"text-input-small":t.activeFilter,"text-input-big":!t.activeFilter},attrs:{type:"text",placeholder:t.isdataTypeIsDate?"YYYY-MM-DD":"Search"},domProps:{value:t.searchInput},on:{keyup:t.emitKeyUp,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateSimpleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search",expression:"'Search'",modifiers:{top:!0}}],attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:t.updateSimpleSearch}}),t.activeFilter?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear",expression:"'clear'",modifiers:{top:!0}}],attrs:{icon:"mdi-close-circle","no-border":"","is-flat":""},on:{click:t.clearSimpleSearch}}):t._e()],1)])])},et=[],it={name:"SimpleSearchWithFilter",components:{ListItem:n["a"]},props:{columns:{type:Array,default:()=>[]},filterBy:{type:Array,required:!0}},data(){return{filter:!1,activeFilter:!1,searchColumns:"",columnList:[],filterArray:[],searchInput:"",selectedLabel:"",FilterValue:"",isdataTypeIsDate:!1,isSingleSelect:!1}},computed:{scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.activeFilter=!1,this.filterArray=[],this.searchInput="",this.FilterValue="")}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&(this.activeFilter=!1)}},columns:{deep:!0,immediate:!0,handler(){this.columnList=[],this.columns.forEach(t=>{this.columnList.push({...t,selected:!1,display:"show"})})}}},methods:{emitKeyUp(){this.FilterValue=this.searchInput,this.$emit("keyup",this.searchInput)},updateSimpleSearch(){if(this.activeFilter)if(0===this.filterArray.length){let t=[];this.$emit("update",t)}else if(this.isSingleSelect){let t=[];t[0]=this.FilterValue,this.filterArray[0].filters[0].value=JSON.stringify(t),this.filterArray[0].filters[0].arrayValue=t,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)}else this.filterArray[0].filters[0].value=this.FilterValue,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)},searchColumnList(t){this.columnList.forEach(e=>{e.display="show",e.label.toLowerCase().includes(t.toLowerCase())||(e.display="")})},updateFilterBy(t){this.filter=!this.filter,this.columnList.forEach(t=>{t.selected=!1});let e=this.columnList.find(e=>e.id===t);if(e){e.selected=!0,this.activeFilter=!0,this.selectedLabel=e.label;let t=[];if("None"==e.value)this.activeFilter=!1;else{let i="CONTAINS";"DATE"===e.dataType&&(i="IS_EQUALS_TO",this.isdataTypeIsDate=!0,this.isSingleSelect=!1),"SINGLE_SELECT"===e.dataType?(this.isSingleSelect=!0,t=[{filters:[{criteria:e.name,criteriaArray:[e.name],condition:i,value:"",arrayValue:"",dataType:"SINGLE_SELECT"}],groupCondition:""}],this.filterArray=t):(this.isSingleSelect=!1,t=[{filters:[{criteria:e.name,condition:i,value:"",dataType:e.dataType}],groupCondition:""}]),this.filterArray=t}}},clearSimpleSearch(){this.columnList.forEach(t=>{t.selected=!1}),this.isdataTypeIsDate=!1,this.filterArray=[],this.searchInput="",this.FilterValue="",this.activeFilter=!1,this.filter=!this.filter,this.$emit("update",this.filterArray)}}},st=it,at=(i("ba5a"),Object(u["a"])(st,tt,et,!1,null,"a32bb6e0",null)),ot=at.exports;p()(at,"components",{QMenu:h["a"]});var rt={name:"ItemActions",components:{ToggleColumns:v,ViewToggle:M,SortItems:y["a"],GroupItems:S,FilterItems:T["a"],ExpandableSearch:J["a"],KanbanView:H,DashboardView:K,ImportPopup:X["a"],SelectField:Z["a"],SimpleSearchWithFilter:ot},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},activeView:{type:String,required:!0},thumbnailView:{type:Boolean,default:!1},filterColumns:{type:Array,default:()=>[]},selectedFilter:{type:Array,default:()=>[]},gridView:{type:Boolean,default:!0},kanbanView:{type:Boolean,default:!1},activeKanbanView:{type:String,default:""},kanbanList:{type:Array,default:()=>[]},jiraConnect:{type:Boolean,default:!1},importData:{type:Boolean,default:!1},dataImported:{type:Boolean,default:!1},hideActions:{type:Array,default:()=>[]},workflowInitiate:{type:Boolean,default:!1},initiateAccess:{type:Boolean,default:!1},gotoInbox:{type:Boolean,default:!1},workflowImport:{type:Boolean,default:!1},formId:{type:String,default:"0"},dashboardView:{type:String,default:""},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!1},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},repositoryFields:{type:Boolean,default:!1},id:{type:Number,default:0},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},deleteBtn:{type:Boolean,default:!1},mode:{type:String,default:""},page:{type:String,default:""},toggleId:{type:Number,default:0},simpleSearchFilter:{type:Boolean,default:!1},simpleSearchApplyed:{type:Boolean,default:!1},customProcessForm:{type:Boolean,default:!1},refresh:{type:Boolean,default:!0},exportData:{type:Boolean,default:!0},sendInvite:{type:Boolean,default:!1},downloadAll:{type:Boolean,default:!1},visibleDownload:{type:Boolean,default:!1},visiblePrint:{type:Boolean,default:!1},visibleEmail:{type:Boolean,default:!1},visibleDelete:{type:Boolean,default:!1},processForward:{type:Boolean,default:!1},importJson:{type:Boolean,default:!1}},data(){return{dateFilter:[{id:this.$nano.id(),label:"Today",value:"today"},{id:this.$nano.id(),label:"Yesterday",value:"yesterday"},{id:this.$nano.id(),label:"This Week",value:"7days"},{id:this.$nano.id(),label:"Last week",value:"week"},{id:this.$nano.id(),label:"This Month ",value:"Currentmonth"},{id:this.$nano.id(),label:"Last Month",value:"month"},{id:this.$nano.id(),label:"Last Quarter",value:"quarter"},{id:this.$nano.id(),label:"This Year",value:"currentyear"},{id:this.$nano.id(),label:"Last Year",value:"year"}],dateValue:""}},computed:{_columns(){return this.filterColumns.length?this.filterColumns:this.columns},checkIconCount(){let t,e=0;return this.visibleDownload&&(e+=1),this.visibleEmail&&(e+=1),this.visiblePrint&&(e+=1),this.visibleDelete&&(e+=1),2===e&&(t=!0),3===e&&(t=!0),4===e&&(t=!0),t}},watch:{dateValue:{deep:!0,immediate:!0,handler(){if(this.dateValue)if("today"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate());const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("yesterday"===this.dateValue){let t=this.dateValue;const e=new Date;e.setDate(e.getDate()-1);const i=e.toISOString().split("T")[0];this.$emit("filter",i,i,t)}else if("week"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()-7);let o=new Date(a);o.setDate(a.getDate()+6);let r=a.toISOString().split("T")[0],n=o.toISOString().split("T")[0];this.$emit("filter",r,n,t)}else if("7days"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);let a=new Date(s);a.setDate(s.getDate()+6);let o=s.toISOString().split("T")[0],r=a.toISOString().split("T")[0];this.$emit("filter",o,r,t)}else if("month"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth()-1,2),s=new Date(e.getFullYear(),e.getMonth()),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("quarter"===this.dateValue){let t=this.dateValue,e=new Date,i=e.getMonth(),s=(i-3+12)%12,a=new Date(e.getFullYear(),s,2),o=i-1,r=new Date(e.getFullYear(),o+1,1),n=a.toISOString().slice(0,10),l=r.toISOString().slice(0,10);this.$emit("filter",n,l,t)}else if("year"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear()-1,0,2),s=new Date(e.getFullYear()-1,11,32),a=i.toISOString().split("T")[0],o=s.toISOString().split("T")[0];this.$emit("filter",a,o,t)}else if("Currentmonth"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),e.getMonth(),1),s=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`,a=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;this.$emit("filter",s,a,t)}else if("currentyear"===this.dateValue){let t=this.dateValue,e=new Date,i=new Date(e.getFullYear(),0,2),s=i.toISOString().split("T")[0],a=e.toISOString().split("T")[0];this.$emit("filter",s,a,t)}}}},methods:{updateColumns(t){this.$emit("update:columns",t)},updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)},updateGroupBy(t){this.$emit("update:groupBy",t)},updateFilterBy(t,e){this.$emit("update:simpleSearchApplyed",!1),this.$emit("update:filterBy",t),this.$emit("update",t,e)},updateContentSearch(t){this.$emit("update:contentSearch",t)},updateActiveView(t){this.$emit("update:activeView",t)},searchTable(t){this.$emit("search",t)},updateActiveKanbanView(t){this.$emit("update:activeKanbanView",t)},updateActiveDashboardView(t){this.$emit("update:dashboardView",t)},upload(){this.$emit("upload")},closeImport(){this.$emit("close")},viewColumns(t){this.$emit("viewColumns",t)},updateSimpletSearchFilterBy(t){this.$emit("update:simpleSearchApplyed",!0),this.$emit("update:filterBy",t),this.$emit("update",t)},downloadTemplate(){this.$emit("downloadTemplate")}}},nt=rt,lt=(i("c925"),i("7225"),i("b047")),ct=i("cb32"),dt=Object(u["a"])(nt,s,a,!1,null,"53ff3a83",null);e["a"]=dt.exports;p()(dt,"components",{QChip:lt["a"],QAvatar:ct["a"]})},"0ad7":function(t,e,i){},"0c04":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"addTask"}},[e("Sheet",{attrs:{value:t.value,width:t.taskWidth,"no-padding":""},on:{input:t.closeSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.title))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"task-form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 60px)"}},[e("RenderForm",{attrs:{"no-padding":"",panels:t.panels,"secondary-panels":t.secondaryPanels,"form-settings":t.formSettings,"form-model":t.taskModel,"is-readonly":"VIEW"===t.mode},on:{save:t.saveTask}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"workflows",expression:"'workflows'",modifiers:{left:!0}}],staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:"o_account_tree",color:"primary"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{width:"240px"}},t._l(t.taskWorkflowList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:"mdi-sitemap",label:i.label},on:{click:function(e){return t.getForm(i)}}})})),1)],1)],1)],2)])]},proxy:!0}],null,!0)}),e("Sheet",{attrs:{width:t.taskWidth,"has-footer":""},on:{input:t.closeAddTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title",(function(){return[t._v(t._s(t.headerTitle))]}))]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:t.isMaximized?"eva-collapse":"eva-expand"},on:{click:t.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{staticClass:"q-pa-md",attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"no-padding":"","workflow-id":t.workflowFormId,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"workflow-form-model":t.workflowFormModel,"save-action":t.saveAction},on:{"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e},"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},t._l(t.tabs,(function(i){return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])})),1)])]},proxy:!0},{key:"footer",fn:function(){return[t.actions?e("div",{staticClass:"footer row"},[t._l(t.actions,(function(i){return[e("BaseButton","Approve"===i||"Complete"===i||"Rightsize"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"positive"},on:{click:function(e){return t.validateRequest(i)}}}:"Reject"===i||"Terminate"===i||"Force Close"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"red"},on:{click:function(e){return t.validateRequest(i)}}}:"Forward"===i||"Reply"===i?{key:i,staticClass:"q-ml-md",attrs:{label:i,color:"orange"},on:{click:function(e){return t.validateRequest(i)}}}:{key:i,staticClass:"q-ml-md",attrs:{label:i},on:{click:function(e){return t.validateRequest(i)}}})]}))],2):t._e()]},proxy:!0}],null,!0),model:{value:t.addTaskSheet,callback:function(e){t.addTaskSheet=e},expression:"addTaskSheet"}}),e("Sheet",{attrs:{width:"30vw","sub-actions":!!t.attachmentList.length,upload:!0},on:{input:t.closeAttachmentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:t.getAttachments}})]},proxy:!0},{key:"upload",fn:function(){return[e("div",{staticClass:"hint",on:{click:function(e){return t.$refs.attachments.click()}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-cloud-upload-outline",size:"32px",color:"blue"}}),e("div",{staticClass:"title text-blue"},[t._v("UPLOAD FILES")]),e("div",{staticClass:"description"},[t._v("Click here to choose files and upload")])],1)]},proxy:!0},{key:"subActions",fn:function(){return[[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.fileSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}}),t._v(" Select All ")],e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"mail share",expression:"'mail share'",modifiers:{top:!0}}],staticClass:"q-ml-sm",attrs:{"is-disabled":!t.selectedFileCount,icon:"mdi-email-send-outline",color:"secondary","no-border":"","is-flat":"",size:"18px"},on:{click:t.documentShare}}),(t.selectedFileCount,t._e())]},proxy:!0}]),model:{value:t.attachmentSheet,callback:function(e){t.attachmentSheet=e},expression:"attachmentSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("input",{ref:"attachments",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadAttachments}}),t._l(t.attachmentList,(function(i){return[e("div",{key:i.id,staticClass:"attachmentList"},[e("div",{staticClass:"title row"},[e("div",{staticClass:"col-auto"},[e("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:i.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(t){i.checked=!i.checked}}})],1),e("div",{staticClass:"col-auto"},[e("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":t.fileType(i.name)}})],1),e("div",{staticClass:"col ellipsis",on:{click:function(e){return t.openFile(i)}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"col-auto"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"delete",expression:"'delete'",modifiers:{top:!0}}],attrs:{icon:"eva-trash-2-outline",color:"red","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return e.stopPropagation(),t.attachmentDelete(i)}}})],1)]),e("div",{staticClass:"meta"},[e("div",[t._v(t._s(t.$day.format(i.createdAt)))]),i.createdBy?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(i.createdByEmail))])]:t._e(),i.size?[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v(t._s(t.fileSize(i.size)))])]:t._e()],2)])]}))],2)]),e("Sheet",{attrs:{width:"30vw",height:"80vh","custom-height":"30"},on:{input:t.closeCommentsSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments ")]},proxy:!0}]),model:{value:t.commentsSheet,callback:function(e){t.commentsSheet=e},expression:"commentsSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 155px)"}},[t._l(t.commentsList,(function(i,s){return[e("q-chat-message",{key:s,staticClass:"q-ma-sm",attrs:{name:i.createdBy===t.$store.state.session.id?"me":i.createdByEmail,text:[i.comments],"text-html":"",sent:i.createdBy===t.$store.state.session.id,stamp:t.lastCommentDuration(i),"bg-color":i.createdBy===t.$store.state.session.id?"primary-1":"secondary-1"}})]}))],2)],1),e("div",{staticClass:"col q-pa-sm borderTop"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1),e("div",{staticClass:"col-auto",staticStyle:{margin:"auto"}},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm commentAction",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:t.saveComment}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm commentAction",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(e){t.advancedCommentsSheet=!0}}})],1)])])]),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v("Archived At: "+t._s(t.$day.format(t.selectedFile.createdAt)))]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFile.createdByEmail))]),t.selectedFile.size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFile.size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])]),e("Sheet",{attrs:{width:"30vw"},on:{input:t.closeTaskSheet},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Workflows ")]},proxy:!0},{key:"actions",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"}}),e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Workflows",expression:"'Add Workflows'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-plus",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(e){return t.getworkflowForm(t.workflowFormId)}}})]},proxy:!0}]),model:{value:t.taskSheet,callback:function(e){t.taskSheet=e},expression:"taskSheet"}},[e("div",{attrs:{id:"content-wrapper"}},[t._l(t.processInfo,(function(i){return[e("div",{key:i.id,staticClass:"taskEntries"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-mr-md",staticStyle:{"margin-top":"3px"},on:{click:function(e){return t.getWorkflowAudit(i.requestNo)}}},[t._v(" Request No: "+t._s(i.requestNo)+" ")]),i.actionUser?[e("q-chip",{attrs:{size:"10px",color:"yellow","text-color":"white"}},[t._v(" "+t._s(i.actionUser)+" ")])]:t._e(),e("q-chip",{attrs:{size:"10px",color:t.getColor(i.flowStatus),"text-color":"white"}},[t._v(" "+t._s("0"===i.flowStatus?"Open":"Completed")+" ")])],2)]),e("div",{staticClass:"meta row"},[e("div",{staticClass:"col-12"},[t._v(" Raised By: "+t._s(i.raisedBy)+" "),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" Raised At: "+t._s(t.$day.format(i.raisedAt))+" ")],1)])])]}))],2)]),e("Sheet",{attrs:{width:"100vw","has-footer":"","no-padding":""},on:{input:function(e){t.processSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.headerTitle)+" ")]},proxy:!0}]),model:{value:t.processSheet,callback:function(e){t.processSheet=e},expression:"processSheet"}},[e("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[e("div",{staticClass:"col",attrs:{id:"form-view"}},[e("BaseScrollbar",{attrs:{height:"calc(100vh - 145px)"}},[e("RenderForm",{attrs:{"form-id":t.formIdName,panels:t.addWorkflowForm.panels,"secondary-panels":t.addWorkflowForm.secondaryPanels,"form-settings":t.addWorkflowForm.settings,"form-model":t.formModel,"save-action":t.saveAction,"workflow-form-model":t.workflowFormModel},on:{"update:saveAction":function(e){t.saveAction=e},"update:save-action":function(e){t.saveAction=e},"update:workflowFormModel":function(e){t.workflowFormModel=e},"update:workflow-form-model":function(e){t.workflowFormModel=e}}})],1)],1),e("div",{staticClass:"col-auto q-mr-sm leftBorder"},[t._l(t.tabs,(function(i){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:i.label,expression:"tab.label",modifiers:{left:!0}}],key:i.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:i.icon,color:"primary"},on:{click:function(e){return t.showLinks(i.value)}}},[i.count?e("span",{staticClass:"badge"},[t._v(t._s(i.count)+" ")]):t._e()])]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(e){t.advancedCommentsSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[e("TextBuilderField",{model:{value:t.advancedCommentText,callback:function(e){t.advancedCommentText=e},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{attrs:{label:"Post",icon:"eva-paper-plane-outline",color:"primary"},on:{click:t.saveAdvancedComment}})]},proxy:!0}]),model:{value:t.advancedCommentsSheet,callback:function(e){t.advancedCommentsSheet=e},expression:"advancedCommentsSheet"}}),e("EmailSharing",{attrs:{"repository-id":t.repositoryId,"file-list":t.selectedFileList},on:{"update:fileList":function(e){t.selectedFileList=e},"update:file-list":function(e){t.selectedFileList=e}},model:{value:t.emailSharingSheet,callback:function(e){t.emailSharingSheet=e},expression:"emailSharingSheet"}})],1)},a=[],o=(i("14d9"),i("caad"),i("381e")),r=i("4bc4"),n=i("869e"),l=i("6df3"),c=i("1b0d"),d=i("9bc4"),u=i("fa1f"),h=i("a7d2"),m=i("dd90"),p=i("bc3a"),f=i.n(p),v=i("cade"),y=i("695e"),b=i("6a70"),g=i("2f62"),w=i("5e23"),k={name:"AddTask",components:{Sheet:o["a"],RenderForm:r["a"],FileIcon:u["a"],CheckboxField:n["a"],TextAreaField:l["a"],ListItem:v["a"],TextBuilderField:y["a"],Modal:b["a"],EmailSharing:w["a"]},props:{value:{type:Boolean,default:!1},formSettings:{type:Object,required:!0},panels:{type:Array,required:!0},secondaryPanels:{type:Array,default:()=>[]},formId:{type:Number,default:0},taskModel:{type:Object,default:()=>{}},mode:{type:String,default:""},taskName:{type:String,default:""},repositoryId:{type:Number,default:0},workflowTask:{type:Boolean,default:!1},taskWorkflowList:{type:Array,default:()=>[]},selectedTask:{type:Object,default:()=>{}},documentTask:{type:Boolean,default:!1},repositoryFile:{type:Object,default:()=>{}}},data(){return{taskWidth:"720px",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0},{id:this.$nano.id(),label:"print",value:"PRINT",icon:"mdi-printer",count:0}],attachmentSheet:!1,addTaskSheet:!1,taskSheet:!1,commentsSheet:!1,commentText:"",commentsList:[],selectAll:!1,attachmentLoad:null,attachmentList:[],fileSheet:!1,selectedFile:{},actions:[],workflowsSheet:!0,workflowList:[],saveAction:"",workflowId:0,addWorkflowForm:[],workflowPanels:[],form:[],workflowName:"",workflowDescription:"",workflowFormId:0,workflowFormModel:{},processId:0,transactionId:0,workflowDetails:[],countWorkflow:0,processInfo:[],workflowFormTaskList:{},formList:{},formStage:{},processSheet:!1,formDetails:{},formIdName:"",formModel:{},headerTitle:"",advancedCommentsSheet:!1,advancedCommentText:"",emailSharingSheet:!1,selectedFileList:[]}},computed:{...Object(g["c"])(["LoadingBarPage"]),isMaximized(){return"100vw"===this.taskWidth},title(){return"VIEW"===this.mode?"View Task":"EDIT"===this.mode?"Edit Task":"FORWARD"===this.mode?"Forward Task":"COPY"===this.mode?"Copy Task":"Add Task"},formName(){return this.formSettings.general.name},formDescription(){return this.formSettings.general.description},selectedFileCount(){let t=this.attachmentList.filter(t=>t.checked).length;return t},scrollbarHeight(){const t=36*this.columns.length;return t>216?"276px":t+58+"px"}},watch:{taskModel:{immediate:!0,handler(){this.taskModel.id&&(this.attachmentList=[],this.getComments(),this.getAttachments())}},workflowFormModel:{deep:!0,immediate:!0,handler(){this.workflowFormModel&&this.saveAction&&this.initiateRequest()}},attachmentSheet:{immediate:!0,handler(){this.attachmentSheet&&this.taskModel.id||clearInterval(this.attachmentLoad)}}},methods:{toggleWidth(){this.taskWidth="100vw"===this.taskWidth?"720px":"100vw"},closeSheet(){this.$emit("close",!1)},closeAttachmentsSheet(){this.attachmentSheet=!1},closeAddTaskSheet(){this.addTaskSheet=!1},closeTaskSheet(){this.taskSheet=!1},closeCommentsSheet(){this.closeCommnetsSheet=!1},getColor(t){return"0"===t?"orange":"1"===t||"Medium"===t?"green":"primary"},showLinks(t){"ATTACHMENTS"===t?this.attachmentSheet=!0:"COMMENTS"===t?this.commentsSheet=!0:"HISTORY"===t?this.$emit("history",this.formList[0].value[0].processId,this.formList[0].workflowId,this.formList[0].value[0].requestNo):"PRINT"===t&&window.print()},lastCommentDuration(t){const e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),i=new Intl.RelativeTimeFormat("en"),s={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},a=(e.getTime()-Date.now())/1e3;for(let o in s)if(s[o]<Math.abs(a)){const t=a/s[o];return i.format(Math.round(t),o)}},fileSelectAll(){this.attachmentList=this.attachmentList.map(t=>({...t,checked:this.selectAll}))},showHistory(){},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},fileSize(t){return Object(h["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i="";if(Object(m["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if("http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/1`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=1`}{let i="";if(Object(m["d"])(e))i="https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?"https://ag-appsvc04.azurewebsites.net/web/viewer.html":"https://trial.ezofis.com"===t?"https://trial.ezofis.com/docsviewer/index.html":"https://app.ezofis.com"===t?"https://ezdocsviewer.azurewebsites.net/web/viewer.html":t+"/PDFViewer/web/viewer.html";else{if(Object(m["b"])(e)||"http://52.172.32.88"!==t)return`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;i="http://52.172.32.88/DocsViewer/index.html"}return`${i}?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&type=2&filename=${this.selectedFile.name}`}}},openFile(t){this.selectedFile=t,this.fileSheet=!0},async documentShare(){this.selectedFileList=[],this.attachmentList.forEach(t=>{t.checked&&this.selectedFileList.push({id:t.id,name:t.name})}),this.emailSharingSheet=!0},async saveTask(t){const e=["itemid","createdBy","createdAt","modifiedBy","modifiedAt","icon","buttonAction","formId","status","color","link","selected","isDeleted","createdByEmail","modifiedByEmail","emailStatus","expandSubworkflow"],i=Object(d["a"])(t,e);try{this.$store.commit("showLoadingBarPage");const{id:t,...e}=i;let s=0;s="COPY"===this.mode?0:t||0;let a={};if(s)a={fields:e};else{let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)}),a={fields:e,task:{comments:this.commentsList,fileIds:t}}}const{data:o,error:r}=await c["g"].saveFormEntry(this.formId,s,a);if(this.workflowDetails.length&&this.linkTaskWorkflowProcess(o.output),r)return void this.$alert.error(r);t?this.$alert.success(this.taskName+" edited successfully"):(this.documentTask&&this.linkTaskDocument(o.output),this.$alert.success("New task added successfully")),this.getUsers(a.fields),this.closeSheet(),this.workflowTask||this.documentTask?this.$emit("addEntry",this.formId,o.output):this.$emit("refresh",this.workflowId)}catch(s){console.log(s)}finally{this.$store.commit("hideLoadingBarPage")}},async linkTaskDocument(t){let e={wFormId:this.formId,formEntryId:t,fileInfo:{repositoryId:this.repositoryFile.repositoryId,itemId:this.repositoryFile.id}};const{error:i}=await c["g"].linkTaskDocument(e);i&&this.$alert.error(i)},async getComments(){this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=0)}),this.commentsList=[],this.$store.commit("showLoadingBar");const{error:t,payload:e}=await c["g"].getFormComments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),t?this.$alert.error(t):e.length&&(this.commentsList=e,this.tabs.find(t=>{"COMMENTS"===t.value&&(t.count=this.commentsList.length)}))},async saveComment(){if(this.commentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.commentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.commentText="",this.getComments()}else this.commentsList.push({comments:this.commentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.commentText=""},async saveAdvancedComment(){if(this.advancedCommentText)if(this.taskModel.id){this.$store.commit("showLoadingBar");const{error:t}=await c["g"].insertFormComment(this.formId,this.taskModel.id,{comments:this.advancedCommentText});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}else this.commentsList.push({comments:this.advancedCommentText,createdAt:(new Date).toISOString(),createdBy:this.$store.state.session.id}),this.advancedCommentText="",this.advancedCommentsSheet=!1},async uploadAttachments(t){if(this.taskModel.id){const i=t.target.files[0];this.$store.commit("showLoadingBar");const s=new FormData;s.append("formId",this.formId),s.append("repositoryId",this.repositoryId),s.append("entryId",this.taskModel.id),s.append("file",i);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(m["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/form/taskAttachmentWithEntryId",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:i,data:a}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==i||!a)throw e;this.$alert.success("Document attached")}catch(e){this.$store.commit("hideLoadingBar"),this.$alert.error("Error uploading file"),console.error(e)}this.attachmentLoad=setInterval(()=>this.getAttachments(),5e3)}else{this.$store.commit("showLoadingBar");const i=t.target.files[0],s=new FormData;s.append("file",i),s.append("formId",this.formId),s.append("repositoryId",this.repositoryId);let a=t.target.files[0].name;const o=a.split(".").pop();if(!Object(m["a"])(o))return void this.$alert.info("This file format is not supported");try{const e=await f()({url:"https://appuat.ezofis.com/ezofisapi/api/uploadAndIndex/upload",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}}),{status:a,data:o}=e;if(this.$store.commit("hideLoadingBar"),t.target.value="",200!==a)throw"Invalid response";let r=JSON.parse(o);this.attachmentList.push({id:Number(r.fileId),name:i.name,createdAt:(new Date).toISOString(),createdByEmail:this.$store.state.session.email,size:i.size,initiate:!0,checked:!1})}catch(e){this.$store.commit("hideLoadingBar"),console.error(e),this.$alert.error("error attaching file")}}},async getAttachments(){this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=0)});let t=this.attachmentList.length;this.$store.commit("showLoadingBar");const{error:e,payload:i}=await c["g"].getFormAttachments(this.formId,this.taskModel.id);this.$store.commit("hideLoadingBar"),e?this.$alert.error(e):i.length?(t!==i.length&&(this.attachmentList=i.map(t=>({...t,checked:!1})),clearInterval(this.attachmentLoad)),this.tabs.find(t=>{"ATTACHMENTS"===t.value&&(t.count=this.attachmentList.length)})):this.attachmentList=[]},async attachmentDelete(t){if(this.$store.commit("showLoadingBar"),t.initiate){const{error:e}=await c["r"].deleteUploadedFiles([t.id]);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.attachmentList=this.attachmentList.filter(e=>e.id!==t.id)}else{const{error:e}=await c["p"].fileDelete(t.repositoryId,t.id);if(e)return void this.$alert.error(e);this.$store.commit("hideLoadingBar"),this.getAttachments()}},validateRequest(t){this.saveAction=t},async initiateRequest(){let t={};t={workflowId:this.workflowId,transactionId:0,review:this.saveAction,formData:{formId:this.workflowFormId,formEntryId:this.form.entryCount,fields:this.workflowFormModel}},this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await c["t"].processTransaction(t);this.$store.commit("hideLoadingBarSave"),this.saveAction="",e?this.$alert.error(e):(this.$alert.success(i.requestNo+" Request Initiated"),this.workflowDetails.push({workflowId:this.workflowId,processId:i.processId,transactionId:i.transactionId}),this.selectedTask.id&&this.linkTaskWorkflowProcess(this.selectedTask.id),this.closeAddTaskSheet(),this.$emit("refresh",this.workflowId))},async getForm(t){if(this.workflowId=t.id,this.headerTitle=t.stage,this.actions=t.actions,this.selectedTask.formId&&this.selectedTask.id&&await this.getWorkflowList(this.workflowId),t.formId)if(this.workflowFormId=t.formId,this.processInfo.length)this.countWorkflow=this.processInfo.length,this.taskSheet=!0;else{const{error:t,payload:e}=await c["g"].getForm(this.workflowFormId);if(t)return void this.$alert.error(t);e&&(this.form=e,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(e.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)}},async getworkflowForm(t){this.closeTaskSheet();const{error:e,payload:i}=await c["g"].getForm(t);this.workflowFormId=t,e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.addTaskSheet=!0)},async getworkflowDetailsForm(t){const{error:e,payload:i}=await c["g"].getForm(t);e?this.$alert.error(e):i&&(this.form=i,this.workflowName=this.form.name,this.workflowDescription=this.form.description,this.addWorkflowForm=JSON.parse(i.formJson),this.workflowPanels=this.addWorkflowForm.panels,this.processSheet=!0,this.$store.commit("hideLoadingBarPage"))},async linkTaskWorkflowProcess(t){let e={};e={wFormId:this.formId,formEntryId:t,workflow:this.workflowDetails};const{error:i}=await c["g"].linkTaskWorkflowProcess(e);i&&this.$alert.error(i)},async getWorkflowList(t){let e={};e={wId:t,fId:this.selectedTask.formId,entryId:this.selectedTask.id};const{error:i,payload:s}=await c["g"].getWorkflowTaskList(t,this.selectedTask.formId,this.selectedTask.id,e);this.workflowFormTaskList=s,s.processInfo&&(this.processInfo=s.processInfo),i&&this.$alert.error(i)},async getWorkflowAudit(t){this.$store.commit("showLoadingBarPage");const{error:e,payload:i}=await c["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:t}]}],currentPage:1,itemsPerPage:10,mode:""}),{data:s,meta:a}=i;if(this.formList=s||{},this.formStage=a,this.formList[0].value[0].formData){let t=Object.keys(this.formList[0].value[0].formData.fields),e={};t.forEach(t=>{e[t]=this.validateTypeValue(this.formList[0].value[0].formData.fields[t])}),this.formModel=e}this.headerTitle=""+this.formList[0].value[0].name,this.formIdName=String(this.formList[0].value[0].formData.formId),this.getworkflowDetailsForm(this.formIdName),e&&this.$alert.error(e)},validateTypeValue(t){if(t)try{var e=JSON.parse(t);if("object"===typeof e)return e}catch(i){return t}return t},async getUsers(t){const{error:e,payload:i}=await c["s"].getUserList();if(e)return void this.$alert.error("Error fetching users");let s={id:0,title:t["e_NFnW0JxrLpZxqPeJS7K"],status:t["11m7YRT-7kdLx-g6iGojc"],remarks:t["2XOJMCR_DVb-5TwVPVdEX"],category:"TASK",createdBy:t["pM6Vly-JRlfroRrziE1jr"],lastActionBy:this.$store.state.session.email};const a=s.createdBy,o=i.filter(t=>a.includes(t.value)),r=o.map(t=>t.id);r.forEach(t=>{const e={...s,createdBy:t};this.insertNotification(e)}),console.log("email",o,r)},async insertNotification(t){const{error:e}=await c["b"].insertNotification(t);e&&this.$alert.error(e)}}},_=k,S=(i("a4c9"),i("2877")),T=i("4e73"),C=i("8169"),I=i("cb32"),$=i("b047"),x=i("93dc"),B=i.n(x),A=Object(S["a"])(_,s,a,!1,null,"0b56d901",null);e["a"]=A.exports;B()(A,"components",{QMenu:T["a"],QChatMessage:C["a"],QAvatar:I["a"],QChip:$["a"]})},"0ce8":function(t,e,i){},1549:function(t,e,i){"use strict";var s=i("2250"),a=i("a809"),o=i("5132"),r=i("e621");function n(t,e){return e.length<2?t:Object(o["a"])(t,Object(r["a"])(e,0,-1))}var l=n,c=i("4dc8");function d(t,e){return e=Object(s["a"])(e,t),t=l(t,e),null==t||delete t[Object(c["a"])(Object(a["a"])(e))]}e["a"]=d},1719:function(t,e,i){"use strict";i.r(e);var s=function(){var t,e,i=this,s=i._self._c;return s("div",{attrs:{id:"task-browse"}},[s("Portal",{attrs:{to:"primary-action"}},[i.showAddTask?s("BaseButton",{staticClass:"q-ml-md",attrs:{icon:"eva-plus",label:"add task",disabled:i.addTaskDisabled},on:{click:i.addTasksList}}):i._e()],1),s("Portal",{attrs:{to:"action-bar"}},[s("ItemActions",{attrs:{item:"task",columns:i.columns,"group-by":i.groupBy,order:i.sortBy.order,"filter-by":i.filterBy,"active-view":i.activeView,"kanban-view":!0,criteria:i.sortBy.criteria,"grid-view":!1,"active-kanban-view":i.activeView,"kanban-list":i.kanbanList,module:"form","module-id":i.formId,"simple-search-applyed":i.simpleSearchApplyed},on:{"update:columns":function(t){i.columns=t},"update:groupBy":function(t){i.groupBy=t},"update:group-by":function(t){i.groupBy=t},"update:order":function(t){return i.$set(i.sortBy,"order",t)},"update:filterBy":function(t){i.filterBy=t},"update:filter-by":function(t){i.filterBy=t},"update:activeView":function(t){i.activeView=t},"update:active-view":function(t){i.activeView=t},"update:criteria":function(t){return i.$set(i.sortBy,"criteria",t)},"update:simpleSearchApplyed":function(t){i.simpleSearchApplyed=t},"update:simple-search-applyed":function(t){i.simpleSearchApplyed=t},refresh:i.getTaskEntries,"update:activeKanbanView":i.activeKanbanView,search:i.searchRow,update:i.getTaskEntries}})],1),s("div",{staticClass:"content"},[i.totalItems?[s("ItemActionChips",{attrs:{"sort-by":i.sortBy,columns:i.columns,"group-by":i.groupBy,"filter-by":i.filterBy,"simple-search-applyed":i.simpleSearchApplyed},on:{clearSortBy:i.clearSortBy,clearGroupBy:i.clearGroupBy,clearFilterBy:i.clearFilterBy}}),"LIST"===i.activeView?s("TaskList",{attrs:{mode:i.mode,items:i.items,columns:i.columns},on:{select:i.editTask,edit:i.editTask,viewTask:i.showTaskDetails,delete:i.showDeleteConfirmation,restore:i.showRestoreConfirmation,forwardTask:i.forwardTask,copyTask:i.copyTask,complete:i.saveTask}}):i._e(),"LIST"!==i.activeView?s("TaskKanban",{attrs:{task:i.items,columns:i.columns,"select-column":i.activeView}}):i._e()]:[s("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"mdi-cube-outline",title:"NO DATA",description:"No data available at the moment"}})]],2),s("Pagination",{attrs:{"total-items":i.totalItems,"current-page":i.currentPage,"items-per-page":i.itemsPerPage},on:{"update:currentPage":function(t){i.currentPage=t},"update:current-page":function(t){i.currentPage=t},"update:itemsPerPage":function(t){i.itemsPerPage=t},"update:items-per-page":function(t){i.itemsPerPage=t},loadAll:i.loadAllTasks}}),i.isAddTaskVisible?s("AddTask",{attrs:{"form-settings":i.addTaskForm.settings,panels:i.addTaskForm.panels,"secondary-panels":i.addTaskForm.secondaryPanels,"form-id":i.formId,"selected-task":i.selectedTask,"repository-id":i.repositoryId,"task-model":i.selectedTask,mode:i.taskMode,"task-name":i.taskName,"task-workflow-list":i.taskWorkflowList},on:{history:i.showHistory,close:function(t){i.isAddTaskVisible=!1},refresh:i.getTaskEntries},model:{value:i.isAddTaskVisible,callback:function(t){i.isAddTaskVisible=t},expression:"isAddTaskVisible"}}):i._e(),i.showTaskFormListModal?s("TaskFormListModal",{attrs:{"task-form-list":i.taskFormList},on:{close:function(t){i.showTaskFormListModal=!1},selectTaskForm:i.getTaskFormId},model:{value:i.showTaskFormListModal,callback:function(t){i.showTaskFormListModal=t},expression:"showTaskFormListModal"}}):i._e(),s("ConfirmDeleteTask",{attrs:{"task-id":null===(t=i.selectedTask)||void 0===t?void 0:t.id,"task-name":i.taskName},on:{delete:i.updateTask},model:{value:i.isDeleteConfirmationVisible,callback:function(t){i.isDeleteConfirmationVisible=t},expression:"isDeleteConfirmationVisible"}}),s("ConfirmRestoreTask",{attrs:{"task-id":null===(e=i.selectedTask)||void 0===e?void 0:e.id,"task-name":i.taskName},on:{restore:i.updateTask},model:{value:i.isRestoreConfirmationVisible,callback:function(t){i.isRestoreConfirmationVisible=t},expression:"isRestoreConfirmationVisible"}}),i.historyProcessId?s("ProcessHistory",{attrs:{"process-id":i.historyProcessId,"selected-process":i.selectedProcess},on:{close:function(t){i.historyProcessId=0}}}):i._e()],1)},a=[],o=(i("14d9"),i("caad"),i("2b88")),r=i("c49c"),n=i("b6d2"),l=i("064c"),c=i("4904"),d=function(){var t=this,e=t._self._c;return e("ItemList",{attrs:{columns:t.columns,items:t.items,mode:t.mode},on:{select:t.handleSelect,edit:t.handleEdit,delete:t.handleDelete,restore:t.handleRestore,more:t.handleMore,complete:t.handleComplete},scopedSlots:t._u([{key:"extraMenu",fn:function(){return[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right","auto-close":""}},[e("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:t.scrollbarHeight,width:"190px"}},t._l(t.moreList,(function(i){return e("ListItem",{key:i.id,attrs:{icon:i.icon,label:i.label},on:{click:function(e){return t.handleList(i.name)}}})})),1)],1)]},proxy:!0},{key:"status",fn:function({value:i}){return[e("div",{class:{draft:"Draft"===i},attrs:{id:"form-status"}},[e("BaseIcon",{attrs:{name:"mdi-circle",size:"8px","inherit-color":""}}),e("div",{staticClass:"q-ml-sm"},[t._v(t._s(i))])],1)]}},{key:"entries",fn:function({value:i,item:s}){return[e("div",{staticClass:"stat",on:{click:function(e){return e.stopPropagation(),t.$emit("entries",s.id)}}},[e("div",{staticClass:"ellipsis"},[t._v(" "+t._s(i||"-")+" ")])])]}}])})},u=[],h=i("f92f"),m=i("cade"),p={name:"FormList",components:{ItemList:h["a"],ListItem:m["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},data(){return{formId:0,moreList:[{id:this.$nano.id(),name:"forward",label:"Forward Task",icon:"mdi-forward"},{id:this.$nano.id(),name:"copy",label:"Copy Task",icon:"mdi-content-copy"},{id:this.$nano.id(),name:"view",label:"View Task",icon:"mdi-file-document-box"}]}},computed:{scrollbarHeight(){const t=36*this.moreList.length;return t>216?"276px":t+15+"px"}},methods:{handleSelect(t){this.$emit("select",t)},handleEdit(t){this.$emit("edit",t)},handleDelete(t){this.$emit("delete",t)},handleRestore(t){this.$emit("restore",t)},handleMore(t){this.formId=t},handleView(){this.$emit("viewTask",this.formId)},handleList(t){this.$emit(t+"Task",this.formId)},handleComplete(t){this.$emit("complete",t)}}},f=p,v=(i("83d8"),i("2877")),y=i("4e73"),b=i("1c1c"),g=i("66e5"),w=i("4074"),k=i("7f67"),_=i("93dc"),S=i.n(_),T=Object(v["a"])(f,d,u,!1,null,"15c37539",null),C=T.exports;S()(T,"components",{QMenu:y["a"],QList:b["a"],QItem:g["a"],QItemSection:w["a"]}),S()(T,"directives",{ClosePopup:k["a"]});var I=i("1b0d"),$=i("9bc4"),x=i("381b"),B=i("0c04"),A=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-cube-outline","icon-color":"primary",width:"450px"},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Task Form List")]},proxy:!0},{key:"default",fn:function(){return[e("ValidationObserver",{ref:"form"},[e("ValidationProvider",{attrs:{name:"field",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("SelectField",{staticClass:"q-my-lg",attrs:{label:"\n            Select Task Form Name\n          ","is-mandatory":"",options:t.taskFormList,error:i[0]},model:{value:t.taskFormId,callback:function(e){t.taskFormId=e},expression:"taskFormId"}})]}}])})],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:t.closeModal}}),e("BaseButton",{attrs:{label:"ok"},on:{click:t.selectTaskForm}})]},proxy:!0}])})},L=[],F=i("7bb1"),O=i("1c54"),E=i("12b8"),N={name:"TaskFormListModal",components:{Confirm:O["a"],ValidationObserver:F["a"],ValidationProvider:F["b"],SelectField:E["a"]},props:{value:{type:Boolean,default:!1},taskFormList:{type:Array,required:!0}},data(){return{taskFormId:""}},methods:{closeModal(){this.$emit("close",!1)},selectTaskForm(){this.$emit("selectTaskForm",this.taskFormId)}}},D=N,q=Object(v["a"])(D,A,L,!1,null,"d8ca5a08",null),M=q.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"task-kanban row items-center"},[e("div",{staticClass:"col-0-5"},[e("BaseActionButton",{staticClass:"left q-mr-sm",attrs:{icon:"eva-arrow-ios-back-outline",color:"gray-5",size:"32px","no-border":!0,"is-flat":!0},on:{click:t.leftScroll}})],1),e("div",{staticClass:"col"},t._l(t.items,(function({key:i,value:s,data:a}){return e("div",{key:s,staticClass:"taskKanbanRow"},[i?e("div",{staticClass:"group-by"},[e("span",{staticClass:"key"},[t._v(t._s(i)+": ")]),e("span",[t._v(t._s(s)+" ")]),e("span",[t._v("("+t._s(a.length)+")")])]):t._e(),e("div",{staticClass:"row"},t._l(a,(function(i,s){return e("div",{key:s,staticClass:"col-3"},[e("div",{staticClass:"q-mr-md q-pa-sm",staticStyle:{background:"#dfe6e9","border-radius":"5px"}},[e("div",{staticClass:"row"},[e("q-chip",{attrs:{color:t.getColor(s),size:"12px","text-color":"white"}},[t._v(" "+t._s(s||"None")+"("+t._s(i.length)+") ")])],1),e("BaseScrollbar",{attrs:{height:"calc(100vh - 320px)"}},t._l(i,(function(i){return e("div",{key:i.id,staticClass:"row"},[e("div",{staticClass:"col-12 task-row q-mt-xs",on:{mouseover:function(e){t.itemId=i.id},mouseleave:function(e){t.itemId=0}}},[e("div",{staticClass:"card"},[e("div",{staticClass:"content"},[e("div",{staticClass:"row items-center q-pa-sm"},[e("div",{staticClass:"col"},[e("div",{staticClass:"title ellipsis",class:{"closed-title":"Closed"===s}},[t._v(" "+t._s(i[t.title.name])+" ")]),e("div",{staticClass:"border-bottom"}),e("div",{staticClass:"row"},[t._l(t._columns,(function(s){return["Task Status"===s.label?e("div",{key:s.id,staticClass:"col-auto"},[e("q-chip",{attrs:{size:"12px",color:t.getColor(i["status"]),"text-color":"white"}},[t._v(" "+t._s(i["status"])+" ")])],1):t._e(),"Priority"===s.label?e("div",{key:s.id,staticClass:"col-auto"},[e("q-chip",{attrs:{size:"12px",color:t.getColor(i[s.name]),"text-color":"white"}},[t._v(" "+t._s(i[s.name])+" ")])],1):t._e(),i.id===t.itemId&&"Task Owner"===s.label?e("div",{key:s.id,staticClass:"col-auto text-right"},[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.showDetails(i,s.name),expression:"\n                                    showDetails(item, column.name)\n                                  ",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-eye-outline",color:"gray"}})],1):t._e()]}))],2),t._l(t._columns,(function(s){return e("div",{key:s.id},["Task Assign"===s.label?[e("div",{staticClass:"row items-center q-py-sm"},[e("div",{staticClass:"col-auto label"},[e("BaseIcon",{attrs:{name:"mdi-account",color:"gray",size:"18px"}})],1),e("div",{staticClass:"col ellipsis q-ml-xs"},[t._v(" "+t._s(i[s.name]||"-")+" ")])])]:t._e(),e("div",{class:"Start Date"===s.label?"row items-center":""},["Start Date"===s.label?e("div",{staticClass:"col-auto label"},[e("BaseIcon",{attrs:{name:"mdi-calendar",color:"gray",size:"18px"}})],1):t._e(),e("div",{staticClass:"row items-center col ellipsis q-ml-xs"},["Start Date"===s.label?[t._v(" "+t._s(i[s.name]||"-")+" - ")]:t._e(),"End Date"===s.label?[t._v(" "+t._s(i[s.name])+" ")]:t._e()],2)])],2)}))],2)])])])])])})),0)],1)])})),0)])})),0),e("div",{staticClass:"col-0-5"},[e("BaseActionButton",{staticClass:"right q-ml-sm",attrs:{icon:"eva-arrow-ios-forward-outline",color:"gray-5",size:"32px","no-border":!0,"is-flat":!0},on:{click:t.rightScroll}})],1)])},V=[],R=(i("13d5"),{name:"TaskKanban",components:{},props:{task:{type:Array,required:!0},columns:{type:Array,required:!0},selectColumn:{type:String,required:!0}},data(){return{itemId:0}},computed:{_columns(){return this.columns.filter(t=>"NORMAL"===t.type&&t.isVisible)},title(){return this.columns.find(t=>"TITLE"===t.type)},subtitle(){return this.columns.find(t=>"SUBTITLE"===t.type)},items(){return this.task.map(({key:t,value:e,data:i})=>({key:t,value:e,data:i.reduce((t,e)=>{var i;const s=e[this.selectColumn],a=null!==(i=t[s])&&void 0!==i?i:[];return{...t,[s]:[...a,e]}},{})}))}},watch:{},methods:{getColor(t){return"Closed"===t||"High"===t?"red":"In Progress"===t||"Medium"===t?"warning":"Open"===t||"Low"===t?"secondary":"primary"},leftScroll(){const t=document.querySelector(".taskKanbanRow");t.scrollBy(-200,0)},rightScroll(){const t=document.querySelector(".taskKanbanRow");t.scrollBy(200,0)},showDetails(t,e){return`Task Owner: ${t[e]||"-"}\n      `}}}),j=R,z=(i("237a"),i("b047")),H=Object(v["a"])(j,P,V,!1,null,"228845cc",null),W=H.exports;S()(H,"components",{QChip:z["a"]});var U=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-trash-2-outline","icon-color":"red"},on:{input:t.handleInput},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Delete Task?")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to delete the task "),e("b",[t._v(" "+t._s(t.taskName)+" ")]),t._v("?. You can always restore the deleted task from the trash page. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:t.handleYes}})]},proxy:!0}])})},G=[],Y={name:"ConfirmDeleteTask",components:{Confirm:O["a"]},props:{value:{type:Boolean,required:!0},taskId:{type:Number,default:0},taskName:{type:String,default:""}},methods:{handleInput(t){this.$emit("input",t)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("delete",{isDeleted:!0})}}},Q=Y,K=Object(v["a"])(Q,U,G,!1,null,"4e0c6c14",null),J=K.exports,X=function(){var t=this,e=t._self._c;return e("Confirm",{attrs:{value:t.value,icon:"eva-trash-2-outline","icon-color":"orange"},on:{input:t.handleInput},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Restore Task?")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-py-md"},[e("p",[t._v(" Are you sure you want to restore the task "),e("b",[t._v(" "+t._s(t.taskName)+" ")]),t._v("?. You can always delete the restored task from the browse page. ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:t.handleNo}}),e("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:t.handleYes}})]},proxy:!0}])})},Z=[],tt={name:"ConfirmRestoreTask",components:{Confirm:O["a"]},props:{value:{type:Boolean,required:!0},taskId:{type:Number,default:0},taskName:{type:String,default:""}},methods:{handleInput(t){this.$emit("input",t)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("restore",{isDeleted:!1})}}},et=tt,it=Object(v["a"])(et,X,Z,!1,null,"4f82ce02",null),st=it.exports,at=i("8505"),ot={name:"TasksBrowseAndTrash",components:{Portal:o["Portal"],StateWrapper:r["a"],Pagination:n["a"],ItemActions:l["a"],ItemActionChips:c["a"],TaskList:C,AddTask:B["a"],TaskFormListModal:M,TaskKanban:W,ConfirmDeleteTask:J,ConfirmRestoreTask:st,ProcessHistory:at["a"]},props:{mode:{type:String,required:!0}},data(){return{addTaskDisabled:!0,columns:[{id:this.$nano.id(),name:"name",label:"Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:x["a"].SHORT_TEXT},{id:this.$nano.id(),name:"description",label:"Description",type:"SUBTITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:x["a"].SHORT_TEXT},{id:this.$nano.id(),name:"type",label:"Type",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:x["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"status",label:"Status",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:x["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"createdBy",label:"Created By",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!0,dataType:x["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdAt",label:"Created At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:x["a"].DATE_TIME},{id:this.$nano.id(),name:"modifiedBy",label:"Modified By",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!0,dataType:x["a"].SHORT_TEXT},{id:this.$nano.id(),name:"modifiedAt",label:"Modified At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:x["a"].DATE_TIME}],tasks:[],tasksData:[],activeView:"LIST",selectedTask:{},sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],totalItems:0,itemsPerPage:50,currentPage:1,isAddTaskVisible:!1,addTaskForm:[],taskFormList:[],showTaskFormListModal:!1,formId:0,repositoryId:0,taskModel:{},taskMode:"",workflowId:0,isDeleteConfirmationVisible:!1,isRestoreConfirmationVisible:!1,taskName:"",kanbanList:[],workflowList:[],taskWorkflowList:[],processInfo:[],workflowCount:0,workflowFormTaskList:{},processHistoryModal:!1,formList:{},formStage:{},formDetails:{},formIdName:"",formModel:{},workflowRequestList:[],simpleSearchApplyed:!1,selectedProcess:{},historyProcessId:0}},computed:{formFields(){const t=[];if(!this.addTaskForm)return t;if(this.addTaskForm.panels){for(let e of this.addTaskForm.panels)for(let i of e.fields)t.push({id:i.id,type:i.type,label:i.label});return t}return t},items(){return this.tasks.map(({key:t,value:e})=>({key:this.groupBy,value:t,data:e.map(t=>({id:t.itemid,link:!0,icon:"Closed"===this.getStatus(t)?"mdi-progress-close":this.getStatusData(t),color:"Closed"===this.getStatus(t)?"green":this.getStatusDataColor(t),...this.getFormFieldsData(t),createdBy:t.createdByEmail,createdAt:this.$day.format(t.createdAt),modifiedBy:t.modifiedByEmail,modifiedAt:this.$day.format(t.modifiedAt),buttonAction:!0,formId:this.formId,status:this.getStatus(t)}))}))},showAddTask(){return!!this.$store.state.profileMenus.length&&this.$store.state.profileMenus.find(t=>t.tasks).Menu["Manage Task"]}},watch:{formFields:{handler(){if(this.formFields.length){const t=[{id:this.$nano.id(),name:"createdBy",label:"Created By",type:"SUBTITLE",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:x["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"createdAt",label:"Created At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:x["a"].DATE},{id:this.$nano.id(),name:"modifiedBy",label:"Modified By",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!0,dataType:x["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"modifiedAt",label:"Modified At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:x["a"].DATE}],e=this.formFields.filter(t=>this.isValidField(t.type)).map((t,e)=>({id:this.$nano.id(),name:t.id,label:t.label||t.type,type:0==e?"TITLE":"NORMAL",isVisible:"Reminder"!=t.label&&"Notification"!=t.label,isSortable:!1,isGroupable:!1,apiLoad:!0,dataType:t.type}));this.columns=[...e,...t],this.columns.forEach(t=>{"SINGLE_SELECT"===t.dataType&&this.kanbanList.push({id:this.$nano.id(),label:t.label,name:t.name})})}}},$route:{immediate:!0,deep:!0,handler(){this.defaultView()}},"$store.state.defaultView":function(){this.defaultView()}},async created(){await this.getTaskForms()},methods:{defaultView(){let t=this.$store.state.defaultView,e=this.$route.meta.menu,i=this.$route.meta.breadcrumb;if(Object.keys(t).length&&t[e]){let s=t[e].find(t=>t.subMenu===i);s&&(this.activeView=s.view)}},clearSortBy(){this.sortBy={criteria:"",order:"DESC"}},clearGroupBy(){this.groupBy=""},clearFilterBy(t,e){this.filterBy[t].filters.splice(e,1),0==this.filterBy[t].filters.length&&(this.filterBy[t].filters=[],this.filterBy.splice(t,1)),0==this.filterBy.length&&(this.filterBy=[]),this.getTaskEntries()},loadAllTasks(){this.itemsPerPage=this.totalItems||1,this.currentPage=1},async getUserWorkflow(){const{error:t,payload:e}=await I["t"].getUserWorkflow();t?this.$alert.error(t):e.length&&(this.workflowList=e,this.workflowList.forEach(async t=>{let e=JSON.parse(t.flowJson),i=e.blocks.find(t=>"START"===t.type);if(i.settings.users.indexOf(this.$store.state.session.id)>-1&&(null===this.processInfo?this.workflowCount=t.name:this.workflowCount=`${t.name} - (${this.processInfo.length})`,"FORM"===t.initiatedBy||"DOCUMENT_FORM"===t.initiatedBy)){let s=[],a=e.rules.find(t=>t.fromBlockId===i.id);a&&s.push(a.proceedAction),this.taskWorkflowList.push({id:t.id,label:this.workflowCount,formId:t.wFormId,stage:i.settings.label,actions:s})}}))},addTasksList(){this.taskWorkflowList=[],this.taskFormList.length&&(1===this.taskFormList.length?(this.addTasks(this.taskFormList[0].id),this.formId=this.taskFormList[0].id,this.repositoryId=this.taskFormList[0].repositoryId):this.showTaskFormListModal=!0)},getTaskFormId(t){this.showTaskFormListModal=!1,this.addTasks(t),this.formId=t,this.taskFormList.forEach(e=>{e.id===t&&(this.repositoryId=e.repositoryId)})},activeKanbanView(t){this.activeView=t},getStatus(t){let e="";for(let i of this.formFields)"Task Status"==i.label&&(e=t[i.id]);return e},getStatusData(t){let e="";for(let a of this.formFields)if("End Date"==a.label&&t[a.id]){var i=(new Date).toISOString().split("T")[0],s=new Date(t[a.id]).toISOString().split("T")[0];e=new Date(s)>=new Date(i)?"mdi-progress-check":"mdi-progress-clock"}return e},getStatusDataColor(t){let e="";for(let a of this.formFields)if("End Date"==a.label&&t[a.id]){var i=(new Date).toISOString().split("T")[0],s=new Date(t[a.id]).toISOString().split("T")[0];e=new Date(s)>=new Date(i)?"warning":"red"}return e},getFormFieldsData(t){const e={};for(let i of this.formFields){const s=["TABLE","MATRIX","FILL_IN_THE_BLANKS","TABS","POPUP"];"Reminder"===i.label&&"Notification"===i.label||(e[i.id]=s.includes(i.type)?JSON.parse(t[i.id]):t[i.id])}return e},isValidField(t){return["SHORT_TEXT","LONG_TEXT","NUMBER","COUNTER","CALCULATED","DATE","TIME","DATE_TIME","SINGLE_SELECT","MULTI_SELECT","SINGLE_CHOICE","MULTIPLE_CHOICE","CHIPS"].includes(t)},findTask(t){const e=[];return this.items.forEach(t=>e.push(...t.data)),e.find(e=>e.id===t)},editTask(t){this.taskWorkflowList=[],this.taskMode="EDIT",this.selectedTask=this.findTask(t),this.selectedTaskName(),this.getUserWorkflow(),this.isAddTaskVisible=!0},selectedTaskName(){let t=this.columns.find(t=>"TITLE"===t.type)["name"];this.taskName=this.selectedTask[t]},showDeleteConfirmation(t){this.selectedTask=this.findTask(t),this.selectedTaskName(),this.isDeleteConfirmationVisible=!0},showRestoreConfirmation(t){this.selectedTask=this.findTask(t),this.selectedTaskName(),this.isRestoreConfirmationVisible=!0},showTaskDetails(t){this.taskMode="VIEW",this.selectedTask=this.findTask(t),this.isAddTaskVisible=!0},copyTask(t){this.taskMode="COPY",this.selectedTask=this.findTask(t),this.selectedTaskName(),this.isAddTaskVisible=!0},forwardTask(t){this.taskMode="FORWARD",this.selectedTask=this.findTask(t),this.selectedTaskName(),this.isAddTaskVisible=!0},searchRow(t){this.tasks=t?this.tasksData.map(({key:e,value:i})=>({key:e,value:i.filter(e=>{for(let i in e){let s=this.columns.findIndex(t=>t.name===i);if(s>=0&&e[i]&&String(e[i]).toLowerCase().includes(t.toLowerCase()))return e}})})):this.tasksData},async addTasks(t){this.formId=t;const{error:e,payload:i}=await I["g"].getForm(t);e?this.$alert.error(e):(this.kanbanList=[],this.addTaskForm=JSON.parse(i.formJson),t&&(this.isAddTaskVisible=!0),this.taskMode="NEW",this.selectedTask={})},async getTaskForms(){this.addTaskDisabled=!0,this.taskFormList=[],this.$store.commit("showLoadingBarPage");const{error:t,payload:e}=await I["g"].getForms({mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[{filters:[{criteria:"type",condition:"IS_EQUALS_TO",value:"Task",dataType:""}],groupCondition:""}],itemsPerPage:50,currentPage:1});if(this.$store.commit("hideLoadingBarPage"),t)return void this.$alert.error(t);const{data:i}=e;i.length&&i[0].value.length&&(this.addTaskDisabled=!1,i[0].value.forEach(t=>{this.taskFormList.push({id:t.id,label:t.name,value:t.id,repositoryId:t.repositoryId,formJson:t.formJson})}),this.taskFormList.length,this.formId=this.taskFormList[0].id,this.repositoryId=this.taskFormList[0].repositoryId,this.addTaskForm=JSON.parse(this.taskFormList[0].formJson),this.getTaskEntries())},async getTaskEntries(){var t,e;this.$store.commit("showLoadingBarPage");let i=[],s="",a="";const o=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let r=[];for(const u of o)r.push(...u.fields);if(s=null===(t=r.find(t=>"Task Owner"===t.label))||void 0===t?void 0:t.id,a=null===(e=r.find(t=>"Task Assign"===t.label))||void 0===e?void 0:e.id,this.filterBy.length){let t=JSON.parse(JSON.stringify(this.filterBy));i.push({filters:[{criteria:s,condition:"IS_EQUALS_TO",value:this.$store.state.session.email,dataType:"SHORT_TEXT"}],groupCondition:""},{filters:[{criteria:a,condition:"IS_EQUALS_TO",value:this.$store.state.session.email,dataType:"SHORT_TEXT"}],groupCondition:"OR"}),t[0].groupCondition="AND",i.push(...t)}else i=[{filters:[{criteria:s,condition:"IS_EQUALS_TO",value:this.$store.state.session.email,dataType:"SHORT_TEXT"}],groupCondition:""},{filters:[{criteria:a,condition:"IS_EQUALS_TO",value:this.$store.state.session.email,dataType:"SHORT_TEXT"}],groupCondition:"OR"}];const{error:n,payload:l}=await I["g"].getFormEntries(this.formId,{mode:this.mode,sortBy:this.sortBy,groupBy:this.groupBy,filterBy:i,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage});if(this.$store.commit("hideLoadingBarPage"),n)return void this.$alert.error(n);const{data:c,meta:d}=l;this.tasks=c||[],this.tasksData=c||[],this.totalItems=(null===d||void 0===d?void 0:d.totalItems)||0},async updateTask(t){this.$store.commit("showLoadingBarPage");let e={fields:t};const{error:i}=await I["g"].saveFormEntry(this.formId,this.selectedTask.id,e);if(i)return void this.$alert.error(i);this.$store.commit("hideLoadingBarPage");const s=t.isDeleted?"deleted":"restored";this.selectedTaskName(),this.$alert.success(`"${this.taskName}" ${s} successfully`),this.getTaskEntries()},async saveTask(t){var e,i,s;const a=this.findTask(t),o=new Date,r=o.toISOString().split("T")[0],n=[...this.addTaskForm.panels,...this.addTaskForm.secondaryPanels];let l=[];for(const f of n)l.push(...f.fields);let c=null===(e=l.find(t=>"End Date"===t.label))||void 0===e?void 0:e.id,d=null===(i=l.find(t=>"Task Status"===t.label))||void 0===i?void 0:i.id,u=null===(s=l.find(t=>"Task Name"===t.label))||void 0===s?void 0:s.id;a[c]=r,a[d]="Closed",this.taskName=a[u];const h=["itemid","createdBy","createdAt","modifiedBy","modifiedAt","icon","buttonAction","formId","status","color","link","selected","isDeleted","createdByEmail","modifiedByEmail","emailStatus","expandSubworkflow"],m=Object($["a"])(a,h);try{this.$store.commit("showLoadingBarPage");const{id:t,...e}=m;let i=0;i="COPY"===this.mode?0:t||0;let s={};if(i)s={fields:e};else{let t=[];this.attachmentList.length&&this.attachmentList.forEach(e=>{t.push(e.id)}),s={fields:e,task:{comments:this.commentsList,fileIds:t}}}const{error:a}=await I["g"].saveFormEntry(this.formId,i,s);if(a)return void this.$alert.error(a);t&&this.$alert.success(this.taskName+" Status Completed"),this.getTaskEntries()}catch(p){console.log(p)}finally{this.$store.commit("hideLoadingBarPage")}},async getWorkflowList(t){let e={};e={wId:t,fId:this.selectedTask.formId,entryId:this.selectedTask.id};const{error:i,payload:s}=await I["g"].getWorkflowTaskList(t,this.selectedTask.formId,this.selectedTask.id,e);this.workflowFormTaskList=s,this.processInfo=s.processInfo,i&&this.$alert.error(i)},async getMyInboxList(t){1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),this.$store.commit("showLoadingBarPage");let e={filterBy:this.filterBy,itemsPerPage:100,currentPage:this.currentPage};const{error:i,payload:s}=await I["t"].getMyInboxList(e);this.$store.commit("hideLoadingBarPage"),i?this.$alert.error(i):(1===this.currentPage&&(this.groupKey=[],this.workflowRequestList=[]),this.totalItems=s.meta.totalItems,s.data.forEach(e=>{let i=[],s=[];if(e.key&&e.value.length){this.selectedWorkflow=this.workflowList.find(e=>e.id==t);let a=JSON.parse(this.selectedWorkflow.flowJson);a.rules.forEach(t=>{if(t.fromBlockId===e.value[0].activityId){let e="",s="";switch(t.proceedAction){case"Forward":case"Reply":e="mdi-arrow-right",s="orange";break;case"Approve":case"Complete":case"Rightsize":e="mdi-check",s="positive";break;case"Reject":case"Terminate":e="mdi-close",s="red";break;default:e="mdi-arrow-left",s="primary";break}i.push({id:this.$nano.id(),name:t.proceedAction,icon:e,color:s})}}),a.blocks.forEach(t=>{t.id===e.value[0].activityId&&(t.settings.formEditPartialAccess&&(s=t.settings.formEditControls),t.settings.internalForward&&(this.internalForward.proceed=!0,this.internalForward.users=[],this.internalForward.groups=[],i.push({id:this.$nano.id(),name:"Forward",icon:"mdi-arrow-right",color:"orange"})))})}1===this.currentPage&&this.groupKey.push({name:e.key,checked:!1,expand:!0,actions:i,actionFields:s,totalCount:e.totalCount,checkboxRequired:!1}),e.value[0].value.forEach(t=>{this.workflowRequestList.push({key:e.key,...t,checked:!1,starred:!1,visible:!0,checkboxRequired:!1})})}))},async showHistory(t,e){this.$store.commit("showLoadingBarPage"),await this.getMyInboxList(e),this.$store.commit("hideLoadingBarPage"),this.selectedProcess=this.workflowRequestList.filter(e=>e.processId===t),this.historyProcessId=t}}},rt=ot,nt=(i("9c28"),Object(v["a"])(rt,s,a,!1,null,"007ad210",null));e["default"]=nt.exports},"237a":function(t,e,i){"use strict";i("d964")},"27bd":function(t,e,i){"use strict";i("caad");var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-funnel-outline",color:t.activeFilter?"secondary":"gray"},on:{click:function(e){t.model=!0}}},[e("Sheet",{attrs:{width:"50vw","has-footer":""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Filter "+t._s(t.item)+"s ")]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"q-pa-md",attrs:{id:"filters"}},[t.searchContent?[e("div",{staticClass:"description"},[t._v(" To search by content, type any text to search the entire folder ")]),e("TextField",{staticClass:"q-mb-md",attrs:{placeholder:"Search the document by content"},model:{value:t.contentSearch.contentSearchValue,callback:function(e){t.$set(t.contentSearch,"contentSearchValue",e)},expression:"contentSearch.contentSearchValue"}}),e("div",{staticClass:"q-mb-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[t.showAdvanceOptions?e("div",{staticClass:"q-my-md"},[e("SingleChoiceField",{staticClass:"col q-mb-md",attrs:{options:t.searchOptions,"options-per-line":2,label:"Advanced Search Options"},model:{value:t.contentSearch.searchType,callback:function(e){t.$set(t.contentSearch,"searchType",e)},expression:"contentSearch.searchType"}}),e("FormFieldLabel",{attrs:{label:"Search similarity"}}),e("q-slider",{attrs:{color:"secondary",markers:"","marker-labels":"",min:0,max:10,label:""},model:{value:t.contentSearch.fuzzy,callback:function(e){t.$set(t.contentSearch,"fuzzy",e)},expression:"contentSearch.fuzzy"}})],1):t._e(),e("div",{staticClass:"row items-center q-mb-md"},[e("div",{staticClass:"col"},[t.showAdvanceOptions?e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!1}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-minus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Hide Advanced Options")])],1):e("div",{staticClass:"row items-center cursor-pointer",on:{click:function(e){t.showAdvanceOptions=!0}}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-plus",color:"secondary"}}),e("div",{staticClass:"options"},[t._v("Advanced Options")])],1)]),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"actions"},[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearContentSearch}}),e("BaseButton",{attrs:{label:"search"},on:{click:t.apply}})],1)])])])]:t._e(),t.filterGroups.length?[t._l(t.filterGroups,(function(i,s){return[e("div",{key:i.id,staticClass:"filter-group"},[e("div",{staticClass:"header"},[e("div",{staticClass:"label q-mr-md"},[t._v("Criteria")]),e("div",{staticClass:"label q-mr-md"},[t._v("Condition")]),e("div",{staticClass:"label q-mr-sm"},[t._v("Value")]),e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"eva-plus","no-border":""},on:{click:function(e){return t.addFilter(s)}}})],1),e("BaseSeparator",{staticClass:"q-mb-md",attrs:{"has-inset":""}}),t._l(i.filters,(function(i,a){return e("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"filter row"},[e("ValidationProvider",{key:i.id,staticClass:"col q-mr-md",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:o}){return[e("MultiSelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t._columns,error:o[0]},on:{input:function(e){return t.applyDataType(s,a,i.criteriaArray)}},model:{value:i.criteriaArray,callback:function(e){t.$set(i,"criteriaArray",e)},expression:"filter.criteriaArray"}})]}}],null,!0)}),e("ValidationProvider",{staticClass:"col-3 q-mr-md",attrs:{name:"condition",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("SelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:t.conditions(i.criteriaArray),error:s[0]},model:{value:i.condition,callback:function(e){t.$set(i,"condition",e)},expression:"filter.condition"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?e("ValidationProvider",{staticClass:"col-3 q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"NUMBER"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("NumberField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("DateField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"TIME"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TimeField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType?e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[t.checkOptions(i.criteriaArray)?[e("AsyncMultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],"api-path":t.apiPath,"column-name":i.criteriaArray},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}}),t._e()]:[t._e(),e("MultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:t.getOptions(i.criteriaArray),error:s[0]},model:{value:i.arrayValue,callback:function(e){t.$set(i,"arrayValue",e)},expression:"filter.arrayValue"}})]]}}],null,!0)}):e("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"filter.value"}})]}}],null,!0)}),e("div",{staticClass:"remove-filter"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"red","no-border":"",icon:"eva-close-outline"},on:{click:function(e){return t.removeFilter(s,a)}}})],1)],1)})),e("BaseSeparator",{attrs:{"has-inset":""}}),e("div",{staticClass:"row"},[e("Action",{staticClass:"col",attrs:{icon:"eva-plus-outline",label:"Add Filter Group"},on:{click:function(e){return t.addFilterGroup(s+1)}}}),e("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),e("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete Group"},on:{click:function(e){return t.removeFilterGroup(s)}}})],1)],2),s!==t.filterGroups.length-1?e("div",{key:s,staticClass:"row justify-center"},[e("Toggle",{staticClass:"q-my-md",attrs:{options:t.groupConditions},on:{input:t.groupCondition},model:{value:i.groupCondition,callback:function(e){t.$set(i,"groupCondition",e)},expression:"group.groupCondition"}})],1):t._e()]}))]:[e("div",{staticClass:"add-filter",on:{click:t.addFilterGroup}},[e("BaseIcon",{attrs:{name:"eva-plus","inherit-color":""}}),e("div",{staticClass:"q-ml-sm"},[t._v("Add Filter")])],1)]],2)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:t.clearFilter}}),e("BaseButton",{attrs:{label:"apply"},on:{click:t.apply}})]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)},a=[],o=(i("13d5"),i("14d9"),i("874f")),r=i("9996"),n=i("7bb1"),l=i("381e"),c=i("b3d1"),d=i("12b8"),u=i("94f5"),h=i("670a"),m=i("970a"),p=i("ad54"),f=i("53c1"),v=i("cedb"),y=i("70a9"),b=i("0c21"),g=i("c3d2"),w=i("1b0d"),k=i("0d5e"),_=i("3445"),S=i("9234"),T={name:"FilterItems",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],Sheet:l["a"],TextField:c["a"],SelectField:d["a"],Action:u["a"],Toggle:h["a"],NumberField:p["a"],DateField:f["a"],TimeField:v["a"],AsyncMultiSelectField:y["a"],MultiSelectField:g["a"],AsyncSelectField:b["a"],FormFieldLabel:_["a"],SingleChoiceField:S["a"]},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},filterBy:{type:Array,required:!0},isBordered:{type:Boolean,default:!1},selectedFilter:{type:Array,default:()=>[]},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},module:{type:String,default:""},moduleId:{type:[String,Number],default:0}},data(){return{model:!1,groupConditions:["AND","OR"],filterGroups:[],activeFilter:!1,userList:[],options:[],showAdvanceOptions:!1,searchOptions:[{id:this.$nano.id(),label:"Any of the Words",value:1},{id:this.$nano.id(),label:"All of the Words",value:2}]}},computed:{_columns(){var t=this.columns.reduce((t,e)=>("isFilter"in e?e.isFilter&&t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}):t.push({id:e.id,label:e.label,value:e.name,dataType:e.dataType}),t),[]);return t},apiPath(){if("repository"===this.module){if(this.$route.query.repositoryId)return`/repository/${this.moduleId}/uniqueColumnValues`}else if("form"===this.module)return`/form/${this.moduleId}/uniqueColumnValues`;return""}},watch:{model:{deep:!0,handler(){this.model}},$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.filterGroups=[],this.activeFilter=!1)}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}},contentSearch:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}}},created(){this.getUsers()},methods:{conditions(t){if(!t)return[];if(1!==t.length)return Object(m["a"])("SHORT_TEXT").map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(r["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}));{const e=this.columns.find(e=>e.name===t[0]);if(e)return Object(m["a"])(e.dataType).map(t=>({id:this.$nano.id(),label:`${Object(o["a"])(Object(r["a"])(t.split(" ")[0]))} ${t.split(" ")[1]?t.split(" ")[1]:""}`,value:t.split(" ")[0]}))}},addFilterGroup(t=0){this.filterGroups.splice(t,0,{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"",value:"",arrayValue:[]}],groupCondition:(this.filterGroups.length,"")}),this.filterGroups.length&&this.selectedFilter.length&&this.selectedFilter[1]&&1===this.selectedFilter[1].level&&(this.filterGroups[0].filters=[],this.selectedFilter.forEach((t,e)=>{0!=e&&this.filterGroups[0].filters.push({id:this.$nano.id(),criteria:t.fieldName,condition:"IS_EQUALS_TO",value:t.label,arrayValue:t.arrayValue||[]})}))},removeFilterGroup(t){this.filterGroups.splice(t,1)},addFilter(t){this.filterGroups[t].filters.push({id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"CONTAINS",value:"",arrayValue:[]})},removeFilter(t,e){this.filterGroups[t].filters.splice(e,1)},async apply(){let t=0,e={};if(!this.$refs.form)return void(this.searchContent&&(this.$emit("update",this.filterGroups,e),this.model=!1,this.activeFilter=!0));for(const s of this.$refs.form){const e=await s.validate();e||t++}if(t)return;let i=!1;if(this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.filterGroups[0].filters.length||(this.filterGroups=[]),this.filterGroups.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{t.criteriaArray.length>1?i=!0:t.criteria=t.criteriaArray[0],"SINGLE_SELECT"===t.dataType&&(t.value=JSON.stringify(t.arrayValue))})})),i){let t=[];this.filterGroups.forEach(e=>{e.filters.length&&e.filters.forEach(e=>{e.criteriaArray.forEach((i,s)=>{t.push({filters:[{criteria:i,condition:e.condition,value:e.value,dataType:e.dataType}],groupCondition:s?"OR":""})})})}),this.$emit("update",t,e)}else this.$emit("update",this.filterGroups,e);this.model=!1,this.activeFilter=!0},applyDataType(t,e,i){if(this.filterGroups[t].filters[e].condition="",1===i.length){this.filterGroups[t].filters[e].dataType="";let s=this._columns.find(t=>t.label===i[0]||t.value===i[0]);s&&(this.filterGroups[t].filters[e].dataType=s.dataType,"SHORT_TEXT"===s.dataType?this.filterGroups[t].filters[e].condition="CONTAINS":"SINGLE_SELECT"===s.dataType&&(this.filterGroups[t].filters[e].condition="IS_EQUALS_TO"));let a=this.filterGroups[t].filters[e];"SINGLE_SELECT"===a.dataType?this.filterGroups[t].filters[e].value=[]:this.filterGroups[t].filters[e].value=""}else this.filterGroups[t].filters[e].condition="CONTAINS",this.filterGroups[t].filters[e].dataType="SHORT_TEXT",this.filterGroups[t].filters[e].value=""},clearFilter(){this.filterGroups=[],this.activeFilter=!1,this.clearContentSearch(),this.$emit("update",this.filterGroups,"")},clearContentSearch(){this.showAdvanceOptions=!1,this.contentSearch.contentSearchValue="",this.contentSearch.searchType=1,this.contentSearch.fuzzy=0,this.$emit("updateContentSearch",this.contentSearch)},groupCondition(t){this.filterGroups[this.filterGroups.length-1].groupCondition=t},checkOptions(t){if(1===t.length){let e=this.columns.find(e=>e.name===t[0]);if(e&&e.apiLoad)return!0}return!1},getOptions(t){var e;return 1===t.length?"createdBy"===t[0]||"modifiedBy"===t[0]||"owner"===t[0]||"coordinator"===t[0]?this.userList:null===(e=this.columns.find(e=>e.name===t[0]))||void 0===e?void 0:e.options:[]},async getUsers(){this.userList=[];const{error:t,payload:e}=await w["s"].getUserList();t?this.$alert.error("Error fetching users"):e&&e.map(t=>{this.userList.push({id:this.$nano.id(),label:t.value,value:String(t.id)})})},async getUniqueOptions(t){try{const e=await k["b"].post(this.apiPath,JSON.stringify({column:t,keyword:"",rowFrom:0,rowCount:10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);return this.options=[],a.forEach(t=>{let e=this.userList.find(e=>e.value===t);e&&this.options.push({id:this.$nano.id(),label:e.label,value:e.value})}),this.options}catch(e){console.error(e),this.$alert.error("Error fetching options")}}}},C=T,I=(i("ae23"),i("2877")),$=i("a026"),x=i("75c3"),B=i("b7fa"),A=i("f89c"),L=i("7937"),F=i("d882"),O=i("5ff7");const E="q-slider__marker-labels",N=t=>({value:t}),D=[34,37,40,33,39,38],q={mixins:[B["a"],A["b"]],directives:{TouchPan:x["a"]},props:{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},data(){return{active:!1,preventFocus:!1,focus:!1,dragging:!1}},computed:{axis(){return!0===this.vertical?"--v":"--h"},labelSide(){return"-"+(!0===this.switchLabelSide?"switched":"standard")},isReversed(){return!0===this.vertical?!0===this.reverse:this.reverse!==(!0===this.$q.lang.rtl)},computedInnerMin(){return this.__getInnerMin(this.innerMin)},computedInnerMax(){return this.__getInnerMax(this.innerMax)},editable(){return!0!==this.disable&&!0!==this.readonly&&this.computedInnerMin<this.computedInnerMax},computedDecimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},trackLen(){return this.max-this.min},innerBarLen(){return this.computedInnerMax-this.computedInnerMin},innerMinRatio(){return this.__convertModelToRatio(this.computedInnerMin)},innerMaxRatio(){return this.__convertModelToRatio(this.computedInnerMax)},positionProp(){return!0===this.vertical?!0===this.isReversed?"bottom":"top":!0===this.isReversed?"right":"left"},sizeProp(){return!0===this.vertical?"height":"width"},thicknessProp(){return!0===this.vertical?"width":"height"},orientation(){return!0===this.vertical?"vertical":"horizontal"},attributes(){const t={role:"slider","aria-valuemin":this.computedInnerMin,"aria-valuemax":this.computedInnerMax,"aria-orientation":this.orientation,"data-step":this.step};return!0===this.disable?t["aria-disabled"]="true":!0===this.readonly&&(t["aria-readonly"]="true"),t},classes(){return`q-slider q-slider${this.axis} q-slider--${!0===this.active?"":"in"}active inline no-wrap `+(!0===this.vertical?"row":"column")+(!0===this.disable?" disabled":" q-slider--enabled"+(!0===this.editable?" q-slider--editable":""))+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense q-slider--dense"+this.axis:"")},selectionBarClass(){const t=this.selectionColor||this.color;return"q-slider__selection absolute"+(void 0!==t?" text-"+t:"")},markerClass(){return this.__getAxisClass("markers")+" absolute overflow-hidden"},trackContainerClass(){return this.__getAxisClass("track-container")},pinClass(){return this.__getPositionClass("pin")},labelClass(){return this.__getPositionClass("label")},textContainerClass(){return this.__getPositionClass("text-container")},markerLabelsContainerClass(){return this.__getPositionClass("marker-labels-container")+(void 0!==this.markerLabelsClass?" "+this.markerLabelsClass:"")},trackClass(){return"q-slider__track relative-position no-outline"+(void 0!==this.trackColor?" bg-"+this.trackColor:"")},trackStyle(){const t={[this.thicknessProp]:this.trackSize};return void 0!==this.trackImg&&(t.backgroundImage=`url(${this.trackImg}) !important`),t},innerBarClass(){return"q-slider__inner absolute"+(void 0!==this.innerTrackColor?" bg-"+this.innerTrackColor:"")},innerBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.innerMaxRatio-this.innerMinRatio)+"%"};return void 0!==this.innerTrackImg&&(t.backgroundImage=`url(${this.innerTrackImg}) !important`),t},markerStep(){return!0===Object(O["c"])(this.markers)?this.markers:this.computedStep},markerTicks(){const t=[],e=this.markerStep;let i=this.min;do{t.push(i),i+=e}while(i<this.max);return t.push(this.max),t},markerLabelClass(){const t=` ${E}${this.axis}-`;return E+`${t}${!0===this.switchMarkerLabelsSide?"switched":"standard"}`+`${t}${!0===this.isReversed?"rtl":"ltr"}`},markerLabelsList(){return!1===this.markerLabels?null:this.__getMarkerList(this.markerLabels).map((t,e)=>({index:e,value:t.value,label:t.label||t.value,classes:this.markerLabelClass+(void 0!==t.classes?" "+t.classes:""),style:{...this.__getMarkerLabelStyle(t.value),...t.style||{}}}))},markerScope(){return{markerList:this.markerLabelsList,markerMap:this.markerLabelsMap,classes:this.markerLabelClass,getStyle:this.__getMarkerLabelStyle}},markerStyle(){if(0!==this.innerBarLen){const t=100*this.markerStep/this.innerBarLen;return{...this.innerBarStyle,backgroundSize:!0===this.vertical?`2px ${t}%`:t+"% 2px"}}return null},markerLabelsMap(){if(!1===this.markerLabels)return null;const t={};return this.markerLabelsList.forEach(e=>{t[e.value]=e}),t},panDirectives(){return!0===this.editable?[{name:"touch-pan",value:this.__onPan,modifiers:{[this.orientation]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null}},methods:{__getInnerMin(t){return!0===isNaN(t)||this.innerMin<this.min?this.min:this.innerMin},__getInnerMax(t){return!0===isNaN(t)||t>this.max?this.max:this.innerMax},__getPositionClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis} ${e}${this.axis}${this.labelSide}`},__getAxisClass(t){const e="q-slider__"+t;return`${e} ${e}${this.axis}`},__convertRatioToModel(t){let e=this.min+t*(this.max-this.min);if(this.step>0){const t=(e-this.min)%this.step;e+=(Math.abs(t)>=this.step/2?(t<0?-1:1)*this.step:0)-t}return this.computedDecimals>0&&(e=parseFloat(e.toFixed(this.computedDecimals))),Object(L["a"])(e,this.computedInnerMin,this.computedInnerMax)},__convertModelToRatio(t){return 0===this.trackLen?0:(t-this.min)/this.trackLen},__getDraggingRatio(t,e){const i=Object(F["h"])(t),s=!0===this.vertical?Object(L["a"])((i.top-e.top)/e.height,0,1):Object(L["a"])((i.left-e.left)/e.width,0,1);return Object(L["a"])(!0===this.isReversed?1-s:s,this.innerMinRatio,this.innerMaxRatio)},__getMarkerList(t){if(!1===t)return null;if(!0===t)return this.markerTicks.map(N);if("function"===typeof t)return this.markerTicks.map(e=>{const i=t(e);return!0===Object(O["d"])(i)?{...i,value:e}:{value:e,label:i}});const e=({value:t})=>t>=this.min&&t<=this.max;return!0===Array.isArray(t)?t.map(t=>!0===Object(O["d"])(t)?t:{value:t}).filter(e):Object.keys(t).map(e=>{const i=t[e],s=Number(e);return!0===Object(O["d"])(i)?{...i,value:s}:{value:s,label:i}}).filter(e)},__getMarkerLabelStyle(t){return{[this.positionProp]:100*(t-this.min)/this.trackLen+"%"}},__getMarkerLabelsContent(t){if(void 0!==this.$scopedSlots["marker-label-group"])return this.$scopedSlots["marker-label-group"](this.markerScope);const e=this.$scopedSlots["marker-label"];return void 0!==e?this.markerLabelsList.map(t=>e({marker:t,...this.markerScope})):this.markerLabelsList.map(e=>t("div",{key:e.value,style:e.style,class:e.classes},e.label))},__onPan(t){!0===t.isFinal?(void 0!==this.dragging&&(this.__updatePosition(t.evt),!0===t.touch&&this.__updateValue(!0),this.dragging=void 0,this.$emit("pan","end")),this.active=!1,this.focus=!1):!0===t.isFirst?(this.dragging=this.__getDragging(t.evt),this.__updatePosition(t.evt),this.__updateValue(),this.active=!0,this.$emit("pan","start")):(this.__updatePosition(t.evt),this.__updateValue())},__onBlur(){this.focus=!1},__onActivate(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__onDeactivate,!0)},__onDeactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__onBlur(),document.removeEventListener("mouseup",this.__onDeactivate,!0)},__onMobileClick(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(!0)},__onKeyup(t){D.includes(t.keyCode)&&this.__updateValue(!0)},__getTextContainerStyle(t){if(!0===this.vertical)return null;const e=this.$q.lang.rtl!==this.reverse?1-t:t;return{transform:`translateX(calc(${2*e-1} * ${this.thumbSize} / 2 + ${50-100*e}%))`}},__getThumb(t,e){const i=[t("svg",{class:"q-slider__thumb-shape absolute-full",attrs:{viewBox:"0 0 20 20","aria-hidden":"true"}},[t("path",{attrs:{d:this.thumbPath}})]),t("div",{class:"q-slider__focus-ring fit"})];return!0!==this.label&&!0!==this.labelAlways||(i.push(t("div",{class:this.pinClass+" absolute fit no-pointer-events"+e.pinColor},[t("div",{class:this.labelClass,style:{minWidth:this.thumbSize}},[t("div",{class:this.textContainerClass,style:e.textContainerStyle},[t("span",{class:e.textClass},e.label)])])])),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(i,"push")),t("div",{class:e.classes,style:e.style,...e.nodeData},i)},__getContent(t,e){const i=[];"transparent"!==this.innerTrackColor&&i.push(t("div",{key:"inner",class:this.innerBarClass,style:this.innerBarStyle})),"transparent"!==this.selectionColor&&i.push(t("div",{key:"selection",class:this.selectionBarClass,style:this.selectionBarStyle})),!1!==this.markers&&i.push(t("div",{key:"marker",class:this.markerClass,style:this.markerStyle})),e(i);const s=[t("div",{key:"trackC",class:this.trackContainerClass,attrs:this.trackContainerAttrs,on:this.trackContainerEvents,directives:this.panDirectives},[t("div",{class:this.trackClass,style:this.trackStyle},i)])];if(!1!==this.markerLabels){const e=!0===this.switchMarkerLabelsSide?"unshift":"push";s[e](t("div",{key:"markerL",class:this.markerLabelsContainerClass},this.__getMarkerLabelsContent(t)))}return s}},beforeDestroy(){document.removeEventListener("mouseup",this.__onDeactivate,!0)}};var M=$["default"].extend({name:"QSlider",mixins:[q],props:{value:{required:!0,default:null,validator:t=>"number"===typeof t||null===t},labelValue:[String,Number]},data(){const t=this.__getInnerMin(this.innerMin),e=this.__getInnerMax(this.innerMax);return{model:null===this.value?t:Object(L["a"])(this.value,t,e),curRatio:0}},computed:{modelRatio(){return this.__convertModelToRatio(this.model)},ratio(){return!0===this.active?this.curRatio:this.modelRatio},selectionBarStyle(){const t={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.ratio-this.innerMinRatio)+"%"};return void 0!==this.selectionImg&&(t.backgroundImage=`url(${this.selectionImg}) !important`),t},thumbLabel(){return void 0!==this.labelValue?this.labelValue:this.model},thumbClasses(){const t=this.thumbColor||this.color;return`q-slider__thumb q-slider__thumb${this.axis} q-slider__thumb${this.axis}-${!0===this.isReversed?"rtl":"ltr"} absolute non-selectable`+(!1===this.preventFocus&&!0===this.focus?" q-slider--focus":"")+(void 0!==t?" text-"+t:"")},thumbStyle(){return{width:this.thumbSize,height:this.thumbSize,[this.positionProp]:100*this.ratio+"%"}},thumbPinColor(){return void 0!==this.labelColor?" text-"+this.labelColor:""},thumbTextContainerStyle(){return this.__getTextContainerStyle(this.ratio)},thumbTextClass(){return"q-slider__text"+(void 0!==this.labelTextColor?" text-"+this.labelTextColor:"")},trackContainerEvents(){return!0!==this.editable?{}:!0===this.$q.platform.is.mobile?{click:this.__onMobileClick}:{mousedown:this.__onActivate,focus:this.__onFocus,blur:this.__onBlur,keydown:this.__onKeydown,keyup:this.__onKeyup}},trackContainerAttrs(){return{tabindex:!0!==this.$q.platform.is.mobile?this.computedTabindex:null}},modelUpdate(){return`${this.value}|${this.computedInnerMin}|${this.computedInnerMax}`}},watch:{modelUpdate(){this.model=null===this.value?this.computedInnerMin:Object(L["a"])(this.value,this.computedInnerMin,this.computedInnerMax)}},methods:{__updateValue(t){this.model!==this.value&&this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(t,e=this.dragging){const i=this.__getDraggingRatio(t,e);this.model=this.__convertRatioToModel(i),this.curRatio=!0!==this.snap||0===this.computedStep?i:this.__convertModelToRatio(this.model)},__onFocus(){this.focus=!0},__onKeydown(t){if(!D.includes(t.keyCode))return;Object(F["l"])(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=([34,37,40].includes(t.keyCode)?-1:1)*(!0===this.isReversed?-1:1)*(!0===this.vertical?-1:1)*e;this.model=Object(L["a"])(parseFloat((this.model+i).toFixed(this.computedDecimals)),this.computedInnerMin,this.computedInnerMax),this.__updateValue()}},render(t){const e=this.__getContent(t,e=>{e.push(this.__getThumb(t,{pinColor:this.thumbPinColor,textContainerStyle:this.thumbTextContainerStyle,textClass:this.thumbTextClass,label:this.thumbLabel,classes:this.thumbClasses,style:this.thumbStyle,nodeData:{}}))});return t("div",{class:this.classes+(null===this.value?" q-slider--no-value":""),attrs:{...this.attributes,"aria-valuenow":this.value}},e)}}),P=i("93dc"),V=i.n(P),R=Object(I["a"])(C,s,a,!1,null,"2eff0750",null);e["a"]=R.exports;V()(R,"components",{QSlider:M})},2948:function(t,e,i){"use strict";i("f108")},"2ac6":function(t,e,i){"use strict";i("0ce8")},"2b88":function(t,e,i){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function s(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("a026"));function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t){return n(t)||l(t)||c()}function n(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var d="undefined"!==typeof window;function u(t){return Array.isArray(t)||"object"===o(t)?Object.freeze(t):t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,i){var s=i.passengers[0],a="function"===typeof s?s(e):i.passengers;return t.concat(a)}),[])}function m(t,e){return t.map((function(t,e){return[e,t]})).sort((function(t,i){return e(t[1],i[1])||t[0]-i[0]})).map((function(t){return t[1]}))}function p(t,e){return e.reduce((function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e}),{})}var f={},v={},y={},b=a.extend({data:function(){return{transports:f,targets:v,sources:y,trackInstances:d}},methods:{open:function(t){if(d){var e=t.to,i=t.from,s=t.passengers,o=t.order,r=void 0===o?1/0:o;if(e&&i&&s){var n={to:e,from:i,passengers:u(s),order:r},l=Object.keys(this.transports);-1===l.indexOf(e)&&a.set(this.transports,e,[]);var c=this.$_getTransportIndex(n),h=this.transports[e].slice(0);-1===c?h.push(n):h[c]=n,this.transports[e]=m(h,(function(t,e){return t.order-e.order}))}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.to,s=t.from;if(i&&(s||!1!==e)&&this.transports[i])if(e)this.transports[i]=[];else{var a=this.$_getTransportIndex(t);if(a>=0){var o=this.transports[i].slice(0);o.splice(a,1),this.transports[i]=o}}},registerTarget:function(t,e,i){d&&(this.trackInstances&&!i&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,i){d&&(this.trackInstances&&!i&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,i=t.from;for(var s in this.transports[e])if(this.transports[e][s].from===i)return+s;return-1}}}),g=new b(f),w=1,k=a.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(w++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick((function(){g.registerSource(t.name,t)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){g.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};g.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:r(t),order:this.order};g.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(i,[this.normalizeOwnChildren(e)]):this.slim?t():t(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),_=a.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:g.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){g.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){g.unregisterTarget(e),g.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){g.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return h(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),i=this.children(),s=this.transition||this.tag;return e?i[0]:this.slim&&!s?t():t(s,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),S=0,T=["disabled","name","order","slim","slotProps","tag","to"],C=["multiple","transition"],I=a.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(S++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(g.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=g.targets[e.name];else{var i=e.append;if(i){var s="string"===typeof i?i:"DIV",a=document.createElement(s);t.appendChild(a),t=a}var o=p(this.$props,C);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new _({el:t,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=p(this.$props,T);return t(k,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||t()}});function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",k),t.component(e.portalTargetName||"PortalTarget",_),t.component(e.MountingPortalName||"MountingPortal",I)}var x={install:$};e.default=x,e.Portal=k,e.PortalTarget=_,e.MountingPortal=I,e.Wormhole=g},3002:function(t,e,i){},"35a16":function(t,e,i){},"381b":function(t,e,i){"use strict";const s={SHORT_TEXT:"SHORT_TEXT",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",DATE:"DATE",TIME:"TIME",DATE_TIME:"DATE_TIME",SINGLE_SELECT:"SINGLE_SELECT",TABLE:"TABLE",BARCODE:"BARCODE",OMR:"OMR",AUTO_GENERATED:"AUTO_GENERATED"};Object.freeze(s),e["a"]=s},"40f9":function(t,e,i){"use strict";i("c589")},"42fc":function(t,e,i){"use strict";i.d(e,"a",(function(){return O}));i("d9e2");function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,e){if(!t)throw new Error(e)}function o(t){return Object.keys(t)}function r(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function n(t,e,i){var s="."+e,a=new RegExp("(\\".concat(e,")?$"));return i(t).replace(a,s)}function l(t){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),t.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(t){return Array(t+1).join(" ")}function d(t){return t.replace(/([<>&])/g,(function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function u(t,e,i){switch(e){case"txt":var s="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"css":s="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"html":s="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"json":s="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"csv":s="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xls":s="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);case"xml":s="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([t],{type:s})):"data:,".concat(s)+encodeURIComponent(t);default:return""}}function h(t,e,i,s){void 0===i&&(i="download"),void 0===s&&(s=!0);var a=u(t,e,s),o=document.createElement("a");o.href=a,o.download=i,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(o)}var m=function(){return m=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},m.apply(this,arguments)},p=function(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,a,o=i.call(t),r=[];try{while((void 0===e||e-- >0)&&!(s=o.next()).done)r.push(s.value)}catch(n){a={error:n}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(a)throw a.error}}return r};function f(t){if(!t||s(t)&&!t.length||!s(t)&&!o(t).length)return function(t){return t};var e=s(t)?t.reduce((function(t,e){var i;return m(m({},t),(i={},i[e]=e,i))}),Object.create(null)):t;return function(t){return s(t)?t.map((function(t){return r(t).reduce((function(t,i){var s=p(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))})).filter((function(t){return o(t).length})):r(t).reduce((function(t,i){var s=p(i,2),a=s[0],o=s[1];return a in e&&(t[e[a]]=o),t}),Object.create(null))}}function v(t){var e="Invalid export data. Please provide a valid JSON";try{return"string"===typeof t?JSON.parse(t):t}catch(i){throw new Error(e)}}function y(t,e,i){void 0===e&&(e=null);var s="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(t,e,i)}catch(a){throw new Error(s)}}function b(t){return t.map(r).reduce((function(e,i,s){return i.reduce((function(e,i){var a=p(i,2),o=a[0],r=a[1],n=e[o]||Array.from({length:t.length}).map((function(t){return""}));return n[s]=("string"!==typeof r?JSON.stringify(r):r)||"",e[o]=n,e}),e)}),Object.create(null))}function g(t,e){return void 0===e&&(e=function(t){return t}),e(r(t).map((function(t){var e=p(t,2),i=e[0],s=e[1];return{fieldName:i,fieldValues:s}})))}function w(t){var e=/,|"|\n/.test(t)?'"':"",i=t.replace(/"/g,'""');return"".concat(e).concat(i).concat(e)}var k={beforeTableEncode:function(t){return t},delimiter:","};function _(t,e){void 0===e&&(e={});var i=m(m({},k),e),s=i.beforeTableEncode,a=i.delimiter;if(!t.length)return"";var o=b(t),r=g(o,s),n=r.map((function(t){var e=t.fieldName;return e})).join(a)+"\r\n",l=r.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map(w)})),c=l.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(a).concat(e[i])}))}));return n+c.join("\r\n")}function S(t,e){a(t.length>0);var i=b(t),s=g(i,e),o=s.map((function(t){var e=t.fieldName;return e})).join("</b></th><th><b>"),r=s.map((function(t){var e=t.fieldValues;return e})).map((function(t){return t.map((function(t){return"<td>".concat(t,"</td>")}))})),n=r.reduce((function(t,e){return t.map((function(t,i){return"".concat(t).concat(e[i])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(o,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(n.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var T={beforeTableEncode:function(t){return t}};function C(t,e){var i=m(m({},T),e).beforeTableEncode;if(!t.length)return"";var s='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(S(t,i),"\n  </body>\n</html >\n");return s}function I(t){var e='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat($(t,"base"),"\n");return e}function $(t,e,i,a){void 0===i&&(i="element"),void 0===a&&(a=0);var o=l(e),n=c(a);if(null===t||void 0===t)return"".concat(n,"<").concat(o," />");var u=s(t)?t.map((function(t){return $(t,i,i,a+2)})).join("\n"):"object"===typeof t?r(t).map((function(t){var e=p(t,2),s=e[0],o=e[1];return $(o,s,i,a+2)})).join("\n"):n+"  "+d(String(t)),h="".concat(n,"<").concat(o,">\n").concat(u,"\n").concat(n,"</").concat(o,">");return h}var x={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function B(t){var e=t.data,i=t.fileName,o=void 0===i?"download":i,r=t.extension,l=t.fileNameFormatter,c=void 0===l?function(t){return t.replace(/\s+/,"_")}:l,d=t.fields,u=t.exportType,m=void 0===u?"txt":u,p=t.replacer,b=void 0===p?null:p,g=t.space,w=void 0===g?4:g,k=t.processor,S=void 0===k?h:k,T=t.withBOM,$=void 0!==T&&T,x=t.beforeTableEncode,B=void 0===x?function(t){return t}:x,A=t.delimiter,L=void 0===A?",":A,F="Invalid export data. Please provide an array of objects",O="Can't export unknown data type ".concat(m,"."),E="Can't export string data to ".concat(m,".");if("string"===typeof e)switch(m){case"txt":case"css":case"html":return S(e,m,n(o,null!==r&&void 0!==r?r:m,c));default:throw new Error(E)}var N=f(d),D=N(v(e)),q=y(D,b,w);switch(m){case"txt":case"css":case"html":return S(q,m,n(o,null!==r&&void 0!==r?r:m,c));case"json":return S(q,m,n(o,null!==r&&void 0!==r?r:"json",c));case"csv":a(s(D),F);var M="\ufeff",P=_(D,{beforeTableEncode:B,delimiter:L}),V=$?M+P:P;return S(V,m,n(o,null!==r&&void 0!==r?r:"csv",c));case"xls":a(s(D),F);V=C(D,{beforeTableEncode:B});return S(V,m,n(o,null!==r&&void 0!==r?r:"xls",c));case"xml":V=I(D);return S(V,m,n(o,null!==r&&void 0!==r?r:"xml",c));default:throw new Error(O)}}B.types=x,B.processors={downloadFile:h};var A=B,L=A;const F=()=>{function t(t,e,i){if(t)try{const s=e||"exported-data",a=L.types[i||"xls"];L({data:t,fileName:s,exportType:a})}catch(s){throw new Error("Parsing failed!")}}return{exportDataFromJSON:t}};function O(t,e){if(!t)return this.$alert.info("Data not found");let i=new Date;return e||(e=`${i.getFullYear()}${i.getMonth()+1}${i.getDate()}${i.getHours()}${i.getMinutes()}${i.getSeconds()}`),F().exportDataFromJSON(t,e,null)}},"467fa":function(t,e,i){},4904:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.showChips?e("div",{attrs:{id:"item-action-chips"}},[t.sortBy.criteria?e("div",{staticClass:"chip sort-by"},[e("div",{staticClass:"label"},[t._v("Sort by: "+t._s(t.getColumnLabel(t.sortBy.criteria)))]),e("BaseIcon",{staticClass:"q-mr-md",attrs:{name:"ASC"===t.sortBy.order?"mdi-sort-ascending":"mdi-sort-descending","inherit-color":""}}),e("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:t.clearSortBy}})],1):t._e(),t.groupBy?e("div",{staticClass:"chip group-by"},[e("div",{staticClass:"label"},[t._v("Group by: "+t._s(t.getColumnLabel(t.groupBy)))]),e("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:t.clearGroupBy}})],1):t._e(),t.contentSearch.contentSearchValue?e("div",{staticClass:"chip filter-by"},[e("div",{staticClass:"label"},[e("BaseIcon",{staticClass:"q-mr-xs",attrs:{name:"eva-funnel-outline","inherit-color":""}}),t._v(" SearchBy: "+t._s(t.contentSearch.contentSearchValue)+" ")],1),e("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:function(e){return t.$emit("clearContentSearch")}}})],1):t._e(),e("BaseScrollbar",[t.filterBy.length?e("div",{staticClass:"q-mb-md",staticStyle:{display:"flex"}},t._l(t.filterBy,(function(i,s){return e("div",{key:s,staticClass:"col-auto"},[i.filters.length?e("div",{class:{"filterBy-length":t.filterBy.length>1}},t._l(i.filters,(function(i,a){return e("div",{key:a,staticClass:"chip filter-by"},[e("div",{staticClass:"label"},[e("BaseIcon",{staticClass:"q-mr-xs",attrs:{name:"eva-funnel-outline","inherit-color":""}}),t._v(" "+t._s(t.getColumnLabel(i.criteria))+" "+t._s(i.condition)+" "+t._s(i.value)+" ")],1),e("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:function(e){return t.clearFilterBy(s,a)}}})],1)})),0):t._e()])})),0):t._e()])],1):t._e()},a=[],o={name:"ItemActionChips",props:{columns:{type:Array,required:!0},sortBy:{type:Object,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},simpleSearchApplyed:{type:Boolean,required:!1,default:!1}},computed:{showChips(){return!!this.sortBy.criteria||(!!this.groupBy||!this.simpleSearchApplyed&&(!!this.filterBy.length||!!this.contentSearch.contentSearchValue))}},methods:{getColumnLabel(t){var e;return null===(e=this.columns.find(e=>e.name===t))||void 0===e?void 0:e.label},clearSortBy(){this.$emit("clearSortBy")},clearGroupBy(){this.$emit("clearGroupBy")},clearFilterBy(t,e){this.$emit("clearFilterBy",t,e)}}},r=o,n=(i("c3ca"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"1d4f94d9",null);e["a"]=l.exports},"4d38":function(t,e,i){},"4ddc":function(t,e,i){},"4f21":function(t,e,i){},5042:function(t,e,i){},5132:function(t,e,i){"use strict";var s=i("2250"),a=i("4dc8");function o(t,e){e=Object(s["a"])(e,t);var i=0,o=e.length;while(null!=t&&i<o)t=t[Object(a["a"])(e[i++])];return i&&i==o?t:void 0}e["a"]=o},"5d0b":function(t,e,i){},"5e23":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("Sheet",{attrs:{value:t.value,"no-padding":!0,"has-footer":"",width:"650px"},on:{input:function(e){return t.$emit("input",!1)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Document Sharing By Email")]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"document-sharing-details"}},[e("Tabs",{staticClass:"tabs",attrs:{tabs:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),e("BaseScrollbar",{attrs:{height:"calc(100vh - 170px)"}},[e("div",{staticClass:"q-pa-md"},[e("ValidationObserver",{ref:"form"},[e("div",{staticClass:"field-wrapper"},[e("ValidationProvider",{attrs:{name:"to",rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"to","is-mandatory":"","new-option":"",error:i[0]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}])}),e("ValidationProvider",{attrs:{name:"subject",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("TextField",{staticClass:"q-mb-sm",attrs:{label:"subject","is-mandatory":"",error:i[0]},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})]}}])}),"attach link"===t.tab?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 q-pr-sm"},[e("ValidationProvider",{attrs:{name:"Expiry from Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry from Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})]}}],null,!1,714078504)})],1),e("div",{staticClass:"col-6 q-pl-sm"},[e("ValidationProvider",{attrs:{name:"Expiry to Date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("DateField",{staticClass:"q-mb-sm",attrs:{label:"Expiry to Date","is-mandatory":"",error:i[0],"minimum-validation":!0},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})]}}],null,!1,738413864)})],1)])]:t._e(),t._l(t.fileList,(function(i){return[e("q-chip",{key:i.id,staticClass:"chips secondary-hover cursor-pointer",attrs:{outline:"",color:"secondary"}},[e("q-avatar",{attrs:{icon:"mdi-file",color:"secondary","text-color":"white"},on:{click:function(e){return t.remove(i.id)}}}),t._v(" "+t._s(i.name)+" "),e("q-avatar",{staticClass:"close-icon",attrs:{icon:"mdi-close","text-color":"red"},on:{click:function(e){return t.remove(i.id)}}})],1)]})),e("TextBuilderField",{model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],2)])],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"cancel"},on:{click:function(e){return t.$emit("input",!1)}}}),e("BaseButton",{attrs:{label:"send"},on:{click:t.documentShare}})]},proxy:!0}])})},a=[],o=(i("14d9"),i("7bb1")),r=i("381e"),n=i("b94d"),l=i("b3d1"),c=i("53c1"),d=i("c3d2"),u=i("695e"),h=i("1b0d"),m={name:"EmailSharing",components:{Sheet:r["a"],ValidationObserver:o["a"],ValidationProvider:o["b"],TextField:l["a"],Tabs:n["a"],DateField:c["a"],MultiSelectField:d["a"],TextBuilderField:u["a"]},props:{value:{type:Boolean,default:!1},repositoryId:{type:Number,default:0},fileList:{type:Array,default:()=>[]}},data(){return{tab:"attach file",tabs:[{id:this.$nano.id(),label:"attach file",value:"attach file"},{id:this.$nano.id(),label:"attach link",value:"attach link"}],email:[],subject:"",body:"",fromDate:"",toDate:"",minimumFromDate:""}},created(){const t=new Date,e=t.toISOString().split("T")[0];this.minimumFromDate=e},methods:{clearFields(){this.tab="attach file",this.email=[],this.subject="",this.body="",this.fromDate="",this.toDate=""},remove(t){if(this.fileList.length>1){let e=this.fileList.filter(e=>e.id!=t);this.$emit("update:fileList",e)}else this.$alert.warning("Minimum one document is required")},async documentShare(){const t=await this.$refs.form.validate();if(!t)return;let e=[];if(this.fileList.forEach(t=>{e.push(t.id)}),"attach file"===this.tab){let t={repositoryId:this.repositoryId,itemIds:e,toAdd:this.email.toString(),subject:this.subject,body:this.body};const{error:i}=await h["k"].documentShare(t);if(i)return void this.$alert.error(i)}else if("attach link"===this.tab){if(this.toDate<this.fromDate)return void this.$alert.warning("ToDate Is Must Be Greater Than Or Equal To FromDate");let t={toAddress:this.email.toString(),subject:this.subject,body:this.body,expiryFromDate:this.fromDate,expiryTodate:this.toDate,repositoryId:this.repositoryId,itemIdArray:e};const{error:i}=await h["k"].documentShareLink(t);if(i)return void this.$alert.error(i)}this.$alert.success("Initiated Document Sharing by Email"),this.clearFields(),this.$emit("input",!1)}}},p=m,f=(i("5fab"),i("2877")),v=i("b047"),y=i("cb32"),b=i("93dc"),g=i.n(b),w=Object(f["a"])(p,s,a,!1,null,"2c37c0ea",null);e["a"]=w.exports;g()(w,"components",{QChip:v["a"],QAvatar:y["a"]})},"5fab":function(t,e,i){"use strict";i("467fa")},"65c0":function(t,e,i){},"670a":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"toggle"}},t._l(t.options,(function(i){return e("div",{key:i,staticClass:"option",class:{"is-selected":t.value===i},on:{click:function(e){return t.$emit("input",i)}}},[t._v(" "+t._s(i)+" ")])})),0)},a=[],o={name:"Toggle",props:{value:{type:String,required:!0},options:{type:Array,required:!0}}},r=o,n=(i("fa79"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"0e83c5c2",null);e["a"]=l.exports},"686b":function(t,e,i){},"6c88":function(t,e,i){"use strict";i("5d0b")},"70a9":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cursor-pointer",attrs:{id:"async-select-field"}},[t.label?e("FormFieldLabel",{attrs:{label:t.label,"is-mandatory":t.isMandatory,tooltip:t.tooltip}}):t._e(),e("FormFieldWrapper",{ref:"wrapper",attrs:{"is-focused":t._isFocused,"is-clearable":t._isClearable,"is-readonly":t.isReadonly,"is-disabled":t.isDisabled,"has-error":!!t.error,"action-icon":"eva-chevron-down"},on:{click:t.showOptionPicker,clear:t.handleClear},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"async-select"},[t._l(t.value,(function(i,s){return e("div",{key:i,staticClass:"chip"},[e("div",{staticClass:"q-mr-xs"},[t._v(t._s(i))]),e("BaseIcon",{attrs:{name:"eva-close"},on:{click:function(e){return e.stopPropagation(),t.removeOption(s)}}})],1)})),e("div",{staticClass:"col search-query"},[e("input",{ref:"searchQuery",attrs:{type:"text",placeholder:t._placeholder},domProps:{value:t.searchQuery},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},input:t.debouncedInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeypress.apply(null,arguments)}}})])],2),e("q-menu",{attrs:{target:t.$refs.wrapper,fit:"","no-focus":"","no-refocus":"","no-parent-event":"","transition-show":"scale","transition-hide":"scale"},model:{value:t.optionPicker,callback:function(e){t.optionPicker=e},expression:"optionPicker"}},[e("OptionPicker",{attrs:{"is-multiple":"",value:t.value,options:t._options,"new-option":t.newOption},on:{select:t.handleSelect,loadMore:t.getOptions}})],1)]},proxy:!0},{key:"action",fn:function(){return[t.isLoading?e("q-spinner",{staticClass:"q-mr-sm",attrs:{color:"secondary",size:"20px"}}):t._e()]},proxy:!0}])}),t.error?e("FormFieldError",{attrs:{error:t.error}}):t._e()],1)},a=[],o=(i("caad"),i("14d9"),i("3445")),r=i("0f01"),n=i("e683"),l=i("29db"),c=i("0d5e"),d=i("9996"),u=i("32e8"),h=i("5c8a"),m=i("85b1"),p={name:"AsyncMultiSelectField",components:{FormFieldLabel:o["a"],FormFieldWrapper:r["a"],FormFieldError:n["a"],OptionPicker:l["a"]},props:{value:{type:Array,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:""},isMandatory:{type:Boolean,default:!1},tooltip:{type:String,default:""},isDisabled:{type:Boolean,default:!1},isReadonly:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},error:{type:String,default:""},newOption:{type:Boolean,default:!1},apiPath:{type:String,default:""},columnName:{type:String,default:""}},data(){return{isFocused:!1,optionPicker:!1,searchQuery:"",options:[],isLoading:!1,optionsCount:0,optionsClone:[]}},computed:{_placeholder(){if(!this.value.length)return this.placeholder||"Select"},_isFocused(){return this.isFocused||this.optionPicker},_isClearable(){return this.isClearable&&!!this.value.length},_options(){return this.searchQuery?this.optionsClone.filter(t=>Object(d["a"])(t).includes(Object(d["a"])(this.searchQuery))):this.optionsClone}},watch:{options:{immediate:!0,deep:!0,handler(){Object(u["a"])(this.options,this.optionsClone)||(this.optionsClone=Object(h["a"])(this.options))}},optionPicker(){this.optionPicker||(this.searchQuery="")},columnName(){this.columnName&&(this.options=[],this.getOptions())}},created(){this.getOptions()},methods:{showOptionPicker(){this.optionPicker=!0},handleChange(t){this.searchQuery=t.target.value},handleSelect(t){const e=[...this.value],i=e.findIndex(e=>e===t);-1===i?e.push(t):e.splice(i,1),this.$emit("input",e),this.searchQuery=""},removeOption(t){const e=[...this.value];e.splice(t,1),this.$emit("input",e)},handleKeypress(){this.searchQuery&&this.newOption&&(this.handleSelect(this.searchQuery),this.$refs.searchQuery.blur())},handleClear(){this.$emit("input",[])},debouncedInput:Object(m["a"])((function(t){this.searchQuery=t.target.value}),500),async getOptions(){try{let t="";t=this.label?this.label:"object"===typeof this.columnName?this.columnName[0]:this.columnName;const e=await c["b"].post(this.apiPath,JSON.stringify({column:t,keyword:this.searchQuery,rowFrom:this.options.length||0,rowCount:this.options.length+10})),{status:i,data:s}=e;if(200!==i)throw e;const a=JSON.parse(s);this.options.push(...a)}catch(t){console.error(t),this.$alert.error("Error fetching options")}},loadMoreOptions(){}}},f=p,v=(i("c187"),i("2877")),y=i("4e73"),b=i("0d59"),g=i("93dc"),w=i.n(g),k=Object(v["a"])(f,s,a,!1,null,"b0cc9a00",null);e["a"]=k.exports;w()(k,"components",{QMenu:y["a"],QSpinner:b["a"]})},7225:function(t,e,i){"use strict";i("afe7")},"75c3":function(t,e,i){"use strict";var s=i("0967"),a=i("7c86"),o=i("d882"),r=i("f249");function n(t,e,i){const s=Object(o["h"])(t);let a,r=s.left-e.event.x,n=s.top-e.event.y,l=Math.abs(r),c=Math.abs(n);const d=e.direction;!0===d.horizontal&&!0!==d.vertical?a=r<0?"left":"right":!0!==d.horizontal&&!0===d.vertical?a=n<0?"up":"down":!0===d.up&&n<0?(a="up",l>c&&(!0===d.left&&r<0?a="left":!0===d.right&&r>0&&(a="right"))):!0===d.down&&n>0?(a="down",l>c&&(!0===d.left&&r<0?a="left":!0===d.right&&r>0&&(a="right"))):!0===d.left&&r<0?(a="left",l<c&&(!0===d.up&&n<0?a="up":!0===d.down&&n>0&&(a="down"))):!0===d.right&&r>0&&(a="right",l<c&&(!0===d.up&&n<0?a="up":!0===d.down&&n>0&&(a="down")));let u=!1;if(void 0===a&&!1===i){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};a=e.event.lastDir,u=!0,"left"===a||"right"===a?(s.left-=r,l=0,r=0):(s.top-=n,c=0,n=0)}return{synthetic:u,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:s,direction:a,isFirst:e.event.isFirst,isFinal:!0===i,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:r,y:n},delta:{x:s.left-e.event.lastX,y:s.top-e.event.lastY}}}}function l(t){const e=t.__qtouchpan;void 0!==e&&(void 0!==e.event&&e.end(),Object(o["b"])(e,"main"),Object(o["b"])(e,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchpan)}let c=0;e["a"]={name:"touch-pan",bind(t,{value:e,modifiers:i}){if(void 0!==t.__qtouchpan&&(l(t),t.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function d(t,e){!0===i.mouse&&!0===e?Object(o["l"])(t):(!0===i.stop&&Object(o["k"])(t),!0===i.prevent&&Object(o["i"])(t))}const u={uid:"qvtp_"+c++,handler:e,modifiers:i,direction:Object(a["a"])(i),noop:o["g"],mouseStart(t){Object(a["b"])(t,u)&&Object(o["e"])(t)&&(Object(o["a"])(u,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),u.start(t,!0))},touchStart(t){if(Object(a["b"])(t,u)){const e=t.target;Object(o["a"])(u,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),u.start(t)}},start(e,a){!0===s["a"].is.firefox&&Object(o["j"])(t,!0),u.lastEvt=e;const r=Object(o["h"])(e);if(!0===a||!0===i.stop){if(!0!==u.direction.all&&(!0!==a||!0!==u.modifiers.mouseAllDir&&!0!==u.modifiers.mousealldir)){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&Object(o["i"])(t),!0===e.cancelBubble&&Object(o["k"])(t),t.qClonedBy=void 0===e.qClonedBy?[u.uid]:e.qClonedBy.concat(u.uid),t.qKeyEvent=e.qKeyEvent,t.qClickOutside=e.qClickOutside,u.initialEvent={target:e.target,event:t}}Object(o["k"])(e)}u.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===a,detected:!1,isFirst:!0,isFinal:!1,lastX:r.left,lastY:r.top}},move(t){if(void 0===u.event)return;u.lastEvt=t;const e=!0===u.event.mouse,i=()=>{let i;d(t,e),!0!==u.modifiers.preserveCursor&&!0!==u.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===e&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(r["a"])(),u.styleCleanup=t=>{if(u.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===e){const e=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==t?setTimeout(()=>{e(),t()},50):e()}else void 0!==t&&t()}};if(!0===u.event.detected){!0!==u.event.isFirst&&d(t,u.event.mouse);const{payload:e,synthetic:s}=n(t,u,!1);return void(void 0!==e&&(!1===u.handler(e)?u.end(t):(void 0===u.styleCleanup&&!0===u.event.isFirst&&i(),u.event.lastX=e.position.left,u.event.lastY=e.position.top,u.event.lastDir=!0===s?void 0:e.direction,u.event.isFirst=!1)))}if(!0===u.direction.all||!0===e&&(!0===u.modifiers.mouseAllDir||!0===u.modifiers.mousealldir))return i(),u.event.detected=!0,void u.move(t);const s=Object(o["h"])(t),a=s.left-u.event.x,l=s.top-u.event.y,c=Math.abs(a),h=Math.abs(l);c!==h&&(!0===u.direction.horizontal&&c>h||!0===u.direction.vertical&&c<h||!0===u.direction.up&&c<h&&l<0||!0===u.direction.down&&c<h&&l>0||!0===u.direction.left&&c>h&&a<0||!0===u.direction.right&&c>h&&a>0?(u.event.detected=!0,u.move(t)):u.end(t,!0))},end(e,i){if(void 0!==u.event){if(Object(o["b"])(u,"temp"),!0===s["a"].is.firefox&&Object(o["j"])(t,!1),!0===i)void 0!==u.styleCleanup&&u.styleCleanup(),!0!==u.event.detected&&void 0!==u.initialEvent&&u.initialEvent.target.dispatchEvent(u.initialEvent.event);else if(!0===u.event.detected){!0===u.event.isFirst&&u.handler(n(void 0===e?u.lastEvt:e,u).payload);const{payload:t}=n(void 0===e?u.lastEvt:e,u,!0),i=()=>{u.handler(t)};void 0!==u.styleCleanup?u.styleCleanup(i):i()}u.event=void 0,u.initialEvent=void 0,u.lastEvt=void 0}}};t.__qtouchpan=u,!0===i.mouse&&Object(o["a"])(u,"main",[[t,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(o["a"])(u,"main",[[t,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},update(t,{oldValue:e,value:i}){const s=t.__qtouchpan;void 0!==s&&e!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(t){void 0===t.__qtouchpan_destroyed?l(t):delete t.__qtouchpan_destroyed}}},"7f67":function(t,e,i){"use strict";var s=i("9e62"),a=i("dc8a");function o(t){if(!1===t)return 0;if(!0===t||void 0===t)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}function r(t){const e=t.__qclosepopup;void 0!==e&&(t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup)}e["a"]={name:"close-popup",bind(t,{value:e},i){void 0!==t.__qclosepopup&&(r(t),t.__qclosepopup_destroyed=!0);const n={depth:o(e),handler(t){0!==n.depth&&setTimeout(()=>{Object(s["b"])(i.componentInstance||i.context,t,n.depth)})},handlerKey(t){!0===Object(a["a"])(t,13)&&n.handler(t)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},update(t,{value:e,oldValue:i}){void 0!==t.__qclosepopup&&e!==i&&(t.__qclosepopup.depth=o(e))},unbind(t){void 0===t.__qclosepopup_destroyed?r(t):delete t.__qclosepopup_destroyed}}},8169:function(t,e,i){"use strict";i("14d9");var s=i("a026"),a=i("87e8");e["a"]=s["default"].extend({name:"QChatMessage",mixins:[a["a"]],props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){return"q-message-text-content q-message-text-content--"+this.op+(void 0!==this.textColor?" text-"+this.textColor:"")},messageClass(){return"q-message-text q-message-text--"+this.op+(void 0!==this.bgColor?" text-"+this.bgColor:"")},containerClass(){return"q-message-container row items-end no-wrap"+(!0===this.sent?" reverse":"")},sizeClass(){if(void 0!==this.size)return"col-"+this.size},op(){return!0===this.sent?"sent":"received"}},methods:{__wrapStamp(t,e){if(void 0!==this.$scopedSlots.stamp)return[e,t("div",{staticClass:"q-message-stamp"},this.$scopedSlots.stamp())];if(this.stamp){const i=!0===this.stampSanitize?"textContent":"innerHTML";return[e,t("div",{staticClass:"q-message-stamp",domProps:{[i]:this.stamp}})]}return[e]},__getText(t,e,i){const s=!0===this.textSanitize?"textContent":"innerHTML";if(!0===i&&!0===e.some(t=>void 0===t.tag&&void 0!==t.text))return[t("div",{class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,t("div",e)))])];const a=!0!==i?e=>t("div",{domProps:{[s]:e}}):e.length>1?t=>t:e=>t("div",[e]);return e.map((e,i)=>t("div",{key:i,class:this.messageClass},[t("div",{class:this.textClass},this.__wrapStamp(t,a(e)))]))}},render(t){const e=[];void 0!==this.$scopedSlots.avatar?e.push(this.$scopedSlots.avatar()):void 0!==this.avatar&&e.push(t("img",{class:"q-message-avatar q-message-avatar--"+this.op,attrs:{src:this.avatar,"aria-hidden":"true"}}));const i=[];void 0!==this.$scopedSlots.name?i.push(t("div",{class:"q-message-name q-message-name--"+this.op},this.$scopedSlots.name())):void 0!==this.name&&i.push(t("div",{class:"q-message-name q-message-name--"+this.op,domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}})),void 0!==this.text&&i.push(this.__getText(t,this.text)),void 0!==this.$scopedSlots.default&&i.push(this.__getText(t,this.$scopedSlots.default(),!0)),e.push(t("div",{class:this.sizeClass},i));const s=[];return void 0!==this.$scopedSlots.label?s.push(t("div",{staticClass:"q-message-label"},this.$scopedSlots.label())):void 0!==this.label&&s.push(t("div",{staticClass:"q-message-label",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}})),s.push(t("div",{class:this.containerClass},e)),t("div",{class:"q-message q-message-"+this.op,on:{...this.qListeners}},s)}})},8180:function(t,e,i){"use strict";i("e0b6")},"83d8":function(t,e,i){"use strict";i("dd22")},8505:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Modal",{attrs:{width:t.externalAccess?"100vw":"70vw","external-access":t.externalAccess},on:{input:t.closeModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v('"'+t._s(t.historyTitle)+'" Process History')]},proxy:!0},{key:"action",fn:function(){return[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:t.export_Data}})]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"processHistory"}},[e("div",{staticClass:"col-12 q-mb-md q-pt-sm"},[e("Stepper",{attrs:{"stage-level":t.stageLevel,"current-step":t.currentStep}})],1),e("table",{attrs:{id:"history"}},[e("thead",[e("tr",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0)]),e("tbody",[t._l(t.processHistoryData,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:"stage"===s.name?[t._v(" "+t._s(i[s.name]||"-")+" "),i.subWorkflowHistory?[i.subWorkflowHistory.length?[e("span",{staticClass:"text-secondary"},[t._v(" [CONNECTOR] ")])]:t._e()]:t._e()]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0),i.comments.length?e("tr",{key:i.id,on:{click:function(t){i.showComments=!i.showComments}}},[e("td",{staticClass:"comments",attrs:{colspan:"6"}},[e("BaseIcon",{attrs:{name:i.showComments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Comments ("+t._s(i.comments.length)+") ")],1)]):t._e(),i.comments.length&&i.showComments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"comments1"}},[e("thead",[e("tr",[e("th",{staticClass:"large"},[t._v("Comments")]),e("th",{staticClass:"medium"},[t._v("Commented By")]),e("th",{staticClass:"medium"},[t._v("Commented On")]),e("th",{staticClass:"medium"},[t._v("Attached In")])])]),e("tbody",[t._l(i.comments,(function(i,s){return[e("tr",{key:s},[e("td",{staticClass:"commentsText ellipsis"},[t._v(" "+t._s(t.removeTags(i.comments)||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(i.createdByEmail||"-")+" ")]),e("td",{staticClass:"ellipsis"},[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")]),e("td",[i.embedFileList&&i.embedFileList.length?[e("div",{staticClass:"file-icons",on:{click:function(e){return t.openFileByCmd(i.embedFileList[0])}}},[e("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.embedFileList[0].fileName,expression:"\n                                    comment.embedFileList[0].fileName\n                                  ",modifiers:{top:!0}}],key:"Icon-"+s,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":t.fileType(i.embedFileList[0].fileName)}}),e("a",{staticClass:"file-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(i.embedFileList[0].fileName||"-"))])],1)]:[t._v(" "+t._s("-")+" ")]],2)])]}))],2)])])]):t._e(),i.attachments.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showAttachments=!i.showAttachments}}},[e("BaseIcon",{attrs:{name:i.showAttachments?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),t._v(" Attachments ("+t._s(i.attachments.length)+") ")],1)]):t._e(),i.attachments.length&&i.showAttachments?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",[e("tr",[e("th",[t._v("File Name")]),e("th",[t._v("Attached By")]),e("th",[t._v("Attached On")])])]),e("tbody",[t._l(i.attachments,(function(i,s){return[e("tr",{key:s},[e("td",[t._v(t._s(i.name||"-"))]),e("td",[t._v(t._s(i.createdByEmail||"-"))]),e("td",[t._v(" "+t._s(t.$day.format(i.createdAt)||"-")+" ")])])]}))],2)])])]):t._e(),i.subWorkflowHistory?[i.subWorkflowHistory.length?e("tr",{key:i.id},[e("td",{staticClass:"attachments",attrs:{colspan:"6"},on:{click:function(t){i.showSubWorkflowHistory=!i.showSubWorkflowHistory}}},[e("BaseIcon",{attrs:{name:i.showSubWorkflowHistory?"eva-arrow-downward-outline":"eva-arrow-forward-outline",color:"primary"}}),1===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Completed",expression:"'Completed'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-check",color:"green"}})]:0===i.actionStatus?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"In-progress",expression:"'In-progress'",modifiers:{top:!0}}],staticClass:"q-ml-xs q-mr-xs",attrs:{name:"mdi-progress-clock",color:"orange"}})]:t._e(),t._v(" "+t._s(i.subWorkflowHistory[0].requestNo)+" ")],2)]):t._e(),i.showSubWorkflowHistory?e("tr",{key:i.id},[e("td",{attrs:{colspan:"6"}},[e("table",{attrs:{id:"attachments"}},[e("thead",t._l(t.columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),0),e("tbody",[t._l(i.subWorkflowHistory,(function(i){return[e("tr",{key:i.id},t._l(t.columns,(function(s){return e("td",{key:s.id,staticClass:"ellipsis"},[t._t(s.name,(function(){return["DATE"===s.type?[t._v(" "+t._s(t.$day.format(i[s.name])||"-")+" ")]:[t._v(" "+t._s(i[s.name]||"-")+" ")]]}),{value:i[s.name],item:i})],2)})),0)]}))],2)])])]):t._e()]:t._e()]}))],2)])])]},proxy:!0}],null,!0),model:{value:t.processHistoryModal,callback:function(e){t.processHistoryModal=e},expression:"processHistoryModal"}}),e("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(e){t.fileSheet=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"attachmentFileHeader"},[e("div",{staticClass:"avatar q-ml-sm"},[e("FileIcon",{attrs:{"mime-type":t.fileType(t.selectedFile.name)}})],1),e("div",{staticClass:"q-ml-md"},[e("div",{staticClass:"filename"},[t._v(" "+t._s(t.selectedFile.name)+" ")]),e("div",{staticClass:"meta"},[e("div",[t._v(" Archived At: "+t._s(t.$day.format(t.selectedFiles[0].createdAt))+" ")]),e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e("div",[t._v("Archived By: "+t._s(t.selectedFiles[0].createdByEmail))]),t.selectedFiles[0].size?e("div",[e("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t._v(" File Size: "+t._s(t.fileSize(t.selectedFiles[0].size))+" ")],1):t._e()],1)])])]},proxy:!0}]),model:{value:t.fileSheet,callback:function(e){t.fileSheet=e},expression:"fileSheet"}},[e("div",{staticClass:"attachmentFileFrame"},[e("div",{staticClass:"file-list"},[e("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:t.fileLink(),frameborder:"0"}})])])])],1)},a=[],o=(i("14d9"),i("1b0d")),r=i("6a70"),n=i("0006"),l=i("fa1f"),c=i("381e"),d=i("dd90"),u=i("a7d2"),h=i("42fc"),m={name:"ProcessHistory",components:{Modal:r["a"],Stepper:n["a"],Sheet:c["a"],FileIcon:l["a"]},props:{processId:{type:Number,required:!0},selectedProcess:{type:Object,default:()=>{}},externalAccess:{type:Boolean,default:!1}},data(){return{historyTitle:"",processHistoryData:[],processHistoryModal:!1,columns:[{id:this.$nano.id(),name:"stage",label:"STAGE",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"actionUser",label:"ACTION USER",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"receivedOn",label:"RECEIVED ON",type:"DATE"},{id:this.$nano.id(),name:"processedBy",label:"PROCESSED BY",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"processedOn",label:"PROCESSED ON",type:"DATE"},{id:this.$nano.id(),name:"status",label:"STATUS",type:"SHORT_TEXT"}],stageLevel:[],currentStep:0,selectedFile:{},fileSheet:!1,selectedFiles:[]}},watch:{processId:{immediate:!0,handler(){this.processId&&this.showHistory(this.processId)}}},methods:{async showHistory(t){this.processHistoryModal=!0,this.processHistoryData=[],this.historyTitle=this.selectedProcess.requestNo,this.$store.commit("showLoadingBarSave");const{error:e,payload:i}=await o["t"].processHistory(this.selectedProcess.id,t);this.$store.commit("hideLoadingBarSave"),e?this.$alert.error(e):i.length&&(i.forEach(t=>{this.processHistoryData.push({...t,showComments:!1,showAttachments:!1,showSubWorkflowHistory:!1})}),this.stageLevel=[],this.currentStep=0,i.forEach(t=>{if(2!==t.actionStatus)if(0===this.stageLevel.filter(e=>e.id===t.activityId).length)this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),((t.actionUser||t.subWorkflowHistory)&&t.status&&"Forward"!==t.status||null===t.actionUser&&!t.subWorkflowHistory)&&(this.currentStep+=1);else if(t.status)this.stageLevel.filter(e=>e.id===t.activityId&&e.status!==t.status).length?this.currentStep+=1:this.currentStep-=1;else{let e=this.stageLevel.findIndex(e=>e.id===t.activityId);e>-1&&(this.stageLevel.splice(e,this.stageLevel.length-e),this.stageLevel.push({id:t.activityId,label:t.stage,status:t.status}),t.actionUser&&t.status&&"Forward"!==t.status||null===t.actionUser?this.currentStep=e+1:this.currentStep=e)}}))},openFileByCmd(t){const e=t,{fileName:i,itemid:s,...a}=e;this.selectedFile={name:i,id:s,...a};const o=this.processHistoryData.map(t=>t.attachments).flat();this.selectedFiles=o.filter(t=>t.id==this.selectedFile.id&&t.name==this.selectedFile.name),this.openFile(this.selectedFile)},fileSize(t){return Object(u["a"])(t)},fileLink(){let t=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let e=this.selectedFile.name.split(".").pop();if(this.selectedFile.initiate){let i=1;return"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(i=2),Object(d["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://trial.ezofis.com"===t?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:"http://52.172.32.88"===t?`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uploadId=${this.selectedFile.id}&type=${i}`:`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${i}`}return Object(d["d"])(e)?"https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"!==t||Object(d["c"])(e)?"https://app.ezofis.com"===t?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`${t}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:Object(d["b"])(e)||"http://52.172.32.88"!==t?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.selectedProcess.id}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},openFile(t){if(t.loading)this.$alert.info("Please wait to complete the uploading");else{this.selectedFile=t;let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?window.open(this.fileLink()):this.fileSheet=!0}},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},closeModal(){this.processHistoryModal=!1,this.$emit("close")},removeTags(t){return t?t.replace(/(<([^>]+)>)/gi,""):""},export_Data1(){let t=[];this.processHistoryData.forEach(e=>{t.push({Stage:e.stage,"Action User":e.actionUser,"Received On":this.$day.format(e.receivedOn),"Processed On":this.$day.format(e.processedOn),"Processed By":e.processedBy,Status:e.status})}),Object(h["a"])(t,this.historyTitle+" - Process History")},export_Data(){let t=[];this.processHistoryData.forEach(e=>{if(t.push({Stage:e.stage,"Action User":e.actionUser||"","Received On":this.$day.format(e.receivedOn)||"","Processed On":this.$day.format(e.processedOn)||"","Processed By":e.processedBy||"",Status:e.status||""}),e.comments&&e.comments.length){let i;t.push({Stage:`<span style="color: #00BCD4;font-weight: bold;">Comments(${e.comments.length})</span>`}),t.push({Stage:"<strong>Comments<strong>","Action User":"<strong>Commented By<strong>","Received On":"<strong>Commented On<strong>","Processed On":"<strong>Attached In<strong>"}),e.comments.forEach(e=>{e.embedFileList&&e.embedFileList.length&&e.embedFileList.forEach(t=>{i=t.fileName}),t.push({Stage:`<span style="color: #00BCD4;">${e.comments||""}</span>`,"Action User":`<span style="color: #00BCD4;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #00BCD4;">${this.$day.format(e.createdAt)||""}</span>`,"Processed On":`<span style="color: #00BCD4;">${i||""}</span>`})})}e.attachments&&e.attachments.length&&(t.push({Stage:`<span style="color: #643094;font-weight: bold;">Attachment(${e.attachments.length})</span>`}),t.push({Stage:"<strong>File Name<strong>","Action User":"<strong>\tAttached By<strong>","Received On":"<strong>Attached On<strong>"}),e.attachments.forEach(e=>{t.push({Stage:`<span style="color: #643094; border: 12px solid#50067e;">${e.name||""}</span>`,"Action User":`<span style="color: #643094;">${e.createdByEmail||""}</span>`,"Received On":`<span style="color: #643094;">${this.$day.format(e.createdAt)||""}</span>`})})),e.subWorkflowHistory&&e.subWorkflowHistory.length&&(t.push({Stage:`<span style="color: #e97f06;font-weight: bold;">${e.subWorkflowHistory[0].requestNo}[Connector]<span>`}),t.push({Stage:"<strong>Stage</strong>","Action User":"<strong>Action User</strong>","Received On":"<strong>Received On</strong>","Processed On":"<strong>Processed On</strong>","Processed By":"<strong>Processed By</strong>",Status:"<strong>status</strong>"}),e.subWorkflowHistory.forEach(e=>{t.push({Stage:`<span style="color: #e97f06;">${e.stage}</span>`,"Action User":`<span style="color: #e97f06;border:2px solid black">${e.actionUser||""}</span>`,"Received On":`<span style="color: #e97f06;">${this.$day.format(e.receivedOn)||""}</span>`,"Processed On":`<span style="color: #e97f06;">${this.$day.format(e.processedOn)||""}</span>`,"Processed By":`<span style="color: #e97f06;">${e.processedBy||""}</span>`,Status:`<span style="color: #e97f06;">${e.status||""}</span>`})}))}),Object(h["a"])(t,this.historyTitle+" Report")}}},p=m,f=(i("bf55"),i("2877")),v=i("4e73"),y=i("93dc"),b=i.n(y),g=Object(f["a"])(p,s,a,!1,null,"2443da3d",null);e["a"]=g.exports;b()(g,"components",{QMenu:v["a"]})},"874f":function(t,e,i){"use strict";var s=i("7c4a"),a=i("0e40"),o=Object(s["a"])((function(t,e,i){return t+(i?" ":"")+Object(a["a"])(e)}));e["a"]=o},"8b55":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({class:{active:t.isActive,"is-full-width":t.isFullWidth},style:{color:t.isActive?t._color:""},attrs:{id:"tab"}},t.$listeners),[t._v(" "+t._s(t.label)+" ")])},a=[],o={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},r=o,n=(i("2ac6"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"f3c4783e",null);e["a"]=l.exports},"91dd":function(t,e,i){},"94f5":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._g({attrs:{id:"action"}},t.$listeners),[e("BaseIcon",{attrs:{name:t.icon,"inherit-color":""}}),e("div",{staticClass:"label"},[t._v(t._s(t.label))])],1)},a=[],o={name:"Action",props:{icon:{type:String,required:!0},label:{type:String,default:""}}},r=o,n=(i("a116"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"1619714d",null);e["a"]=l.exports},"970a":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));const s={CONTAINS:"CONTAINS",IS_EQUALS_TO:"IS_EQUALS_TO (=)",IS_NOT_EQUALS_TO:"IS_NOT_EQUALS_TO (!=)",IS_GREATER_THAN:"IS_GREATER_THAN (>)",IS_GREATER_THAN_OR_EQUALS_TO:"IS_GREATER_THAN_OR_EQUALS_TO (>=)",IS_LESSER_THAN:"IS_LESSER_THAN (<)",IS_LESSER_THAN_OR_EQUALS_TO:"IS_LESSER_THAN_OR_EQUALS_TO (<=)",IS_EMPTY:"IS_EMPTY ({})",IS_NOT_EMPTY:"IS_NOT_EMPTY (!{})",IS_ANY_OF:"IS_ANY_OF",IS_NOT_ANY_OF:"IS_NOT_ANY_OF",NOT_CONTAINS:"NOT_CONTAINS",STARTS_WITH:"STARTS_WITH",NOT_STARTS_WITH:"NOT_STARTS_WITH",ENDS_WITH:"ENDS_WITH",NOT_ENDS_WITH:"NOT_ENDS_WITH"};Object.freeze(s);var a=s,o=i("381b");function r(t){switch(t){case o["a"].NUMBER:case o["a"].DATE:case o["a"].TIME:case o["a"].DATE_TIME:case o["a"].COUNTER:case o["a"].CALCULATED:return[a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_GREATER_THAN,a.IS_GREATER_THAN_OR_EQUALS_TO,a.IS_LESSER_THAN,a.IS_LESSER_THAN_OR_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SHORT_TEXT:case o["a"].LONG_TEXT:case o["a"].TABLE:return[a.CONTAINS,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_ANY_OF,a.IS_NOT_ANY_OF,a.NOT_CONTAINS,a.STARTS_WITH,a.NOT_STARTS_WITH,a.ENDS_WITH,a.NOT_ENDS_WITH];case o["a"].SINGLE_SELECT:case o["a"].MULTI_SELECT:case o["a"].MULTIPLE_CHOICE:return[a.CONTAINS,a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO,a.IS_ANY_OF,a.IS_NOT_ANY_OF];default:return[a.IS_EMPTY,a.IS_NOT_EMPTY,a.IS_EQUALS_TO,a.IS_NOT_EQUALS_TO]}}},9935:function(t,e,i){},"9bc4":function(t,e,i){"use strict";var s=i("b703"),a=i("09f4"),o=i("1549"),r=i("2250"),n=i("f842"),l=i("e8b2");function c(t){return Object(l["a"])(t)?void 0:t}var d=c,u=i("b4f1"),h=i("ca54"),m=i("f5fe"),p=i("ff51"),f=h["a"]?h["a"].isConcatSpreadable:void 0;function v(t){return Object(p["a"])(t)||Object(m["a"])(t)||!!(f&&t&&t[f])}var y=v;function b(t,e,i,s,a){var o=-1,r=t.length;i||(i=y),a||(a=[]);while(++o<r){var n=t[o];e>0&&i(n)?e>1?b(n,e-1,i,s,a):Object(u["a"])(a,n):s||(a[a.length]=n)}return a}var g=b;function w(t){var e=null==t?0:t.length;return e?g(t,1):[]}var k=w,_=i("500e"),S=i("c619");function T(t){return Object(S["a"])(Object(_["a"])(t,void 0,k),t+"")}var C=T,I=i("4e71"),$=1,x=2,B=4,A=C((function(t,e){var i={};if(null==t)return i;var l=!1;e=Object(s["a"])(e,(function(e){return e=Object(r["a"])(e,t),l||(l=e.length>1),e})),Object(n["a"])(t,Object(I["a"])(t),i),l&&(i=Object(a["a"])(i,$|x|B,d));var c=e.length;while(c--)Object(o["a"])(i,e[c]);return i}));e["a"]=A},"9c28":function(t,e,i){"use strict";i("35a16")},a116:function(t,e,i){"use strict";i("f6de")},a4c9:function(t,e,i){"use strict";i("91dd")},a809:function(t,e,i){"use strict";function s(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}e["a"]=s},ae23:function(t,e,i){"use strict";i("4ddc")},afe7:function(t,e,i){},b94d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{style:{color:t._color},attrs:{id:"tabs"}},[t._l(t.tabs,(function(i){return e("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,color:t.color,"is-full-width":t.isFullWidth,"is-active":i.value===t.value},on:{click:function(e){return t.handleClick(i)}}})})),e("div",{ref:"indicator",staticClass:"indicator"})],2)},a=[],o=i("8b55"),r={name:"Tabs",components:{Tab:o["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const t=this.tabs.findIndex(t=>t.value===this.value),e=this.$refs.tab[t],i=e.$el.offsetLeft;this.$refs.indicator.style.left=i+"px";const s=e.$el.clientWidth;this.$refs.indicator.style.width=s+"px"},handleClick(t){t.value!==this.value&&this.$emit("input",t.value)}}},n=r,l=(i("40f9"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,"48eb7e5e",null);e["a"]=c.exports},ba5a:function(t,e,i){"use strict";i("5042")},be3f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search",expression:"'search'",modifiers:{top:!0}}],staticClass:"is-expanded",attrs:{id:"expandable-search"},on:{click:t.toggle}},[e("BaseIcon",{staticClass:"icon",attrs:{name:"eva-search"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"expandableSearch",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{keyup:function(e){return t.$emit("search",t.searchQuery)},blur:t.handleBlur,input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})],1)},a=[],o={name:"ExpandableSearch",data(){return{isExpanded:!1,searchQuery:""}},methods:{toggle(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs.expandableSearch.focus()},handleBlur(){this.isExpanded=!1}}},r=o,n=(i("fdd5"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"29b72610",null);e["a"]=l.exports},bf55:function(t,e,i){"use strict";i("686b")},c187:function(t,e,i){"use strict";i("9935")},c3ca:function(t,e,i){"use strict";i("0ad7")},c49c:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"state-wrapper"}},[e("div",{staticClass:"slow-up-down",attrs:{id:"illustration"}},[e("div",{attrs:{id:"shape-1"}}),e("div",{attrs:{id:"shape-2"}}),e("div",{attrs:{id:"shape-3"}},[e("BaseIcon",{staticClass:"icon",attrs:{name:t.icon,size:"80px"}})],1)]),e("div",{staticClass:"title-1"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticClass:"description"},[t._v(" "+t._s(t.description)+" ")]),t.action?e("BaseButton",{staticClass:"q-mt-lg",attrs:{icon:t.actionIcon,label:t.action},on:{click:function(e){return t.$emit("action")}}}):t._e()],1)},a=[],o={name:"StateWrapper",props:{icon:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},action:{type:String,default:""},actionIcon:{type:String,default:""}}},r=o,n=(i("2948"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"ba5412d8",null);e["a"]=l.exports},c559:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"sort",expression:"'sort'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-sort","no-border":""}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("BaseScrollbar",{attrs:{height:t.scrollbarHeight,width:"240px"}},[e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Criteria")]),t._l(t._columns,(function(i){return e("ListItem",{key:i.id,attrs:{icon:t.criteria===i.name?"eva-radio-button-on":"eva-radio-button-off","is-selected":t.criteria===i.name,label:i.label},on:{click:function(e){return t.updateCriteria(i.name)}}})}))],2),e("div",{staticClass:"title-3 q-pa-md"},[t._v("Sort Order")]),e("ListItem",{attrs:{icon:"ASC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"ASC"===t.order,label:"Ascending"},on:{click:function(e){return t.updateOrder("ASC")}}}),e("ListItem",{staticClass:"q-mb-sm",attrs:{icon:"DESC"===t.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"DESC"===t.order,label:"Descending"},on:{click:function(e){return t.updateOrder("DESC")}}})],1)],1)},a=[],o=i("cade"),r={name:"SortItems",components:{ListItem:o["a"]},props:{columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(t=>t.isSortable)]},scrollbarHeight(){const t=54*this._columns.length;return t>216?"224px":t+"px"}},methods:{updateCriteria(t){this.$emit("update:criteria",t)},updateOrder(t){this.$emit("update:order",t)}}},n=r,l=i("2877"),c=i("4e73"),d=i("93dc"),u=i.n(d),h=Object(l["a"])(n,s,a,!1,null,"12f6a366",null);e["a"]=h.exports;u()(h,"components",{QMenu:c["a"]})},c589:function(t,e,i){},c925:function(t,e,i){"use strict";i("65c0")},cbc3:function(t,e,i){},cd8d:function(t,e,i){"use strict";i("00f0")},d37d:function(t,e,i){"use strict";i("4f21")},d964:function(t,e,i){},dd22:function(t,e,i){},e0b6:function(t,e,i){},ee26:function(t,e,i){"use strict";i("cbc3")},f108:function(t,e,i){},f6de:function(t,e,i){},f92f:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item-list"}},[t.selectedDummyData?t._t("default"):t._e(),e("BaseScrollbar",{attrs:{height:t.breadcrumbs||t.report?"calc(100vh - 310px)":"calc(100vh - 260px)"}},[e("table",[t.tableHeader?e("thead",[e("tr",{staticStyle:{"background-color":"var(--body-bg-color)"}},[e("th",{staticClass:"sticky icon",staticStyle:{left:"0"}},[t.checkbox?e("div",{staticClass:"row items-center justify-center"},[e("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:t.handleSelectAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}})],1):t._e()]),t.repository&&t.checkbox?[e("th",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"80px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e()]:[t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px"}},[t._t("titleHead",(function(){return[t._v(" "+t._s(t.title.label)+" ")]}),{title:t.title.label})],2):t._e()],t._l(t._columns,(function(i){return e("th",{key:i.id},[t._v(" "+t._s(i.label)+" ")])})),t.noActions?t._e():e("th",{staticClass:"sticky action",staticStyle:{right:"0"}})],2)]):t._e(),e("tbody",[t._l(t.items,(function({key:i,value:s,data:a}){return[i?e("tr",{key:s},[e("td",{staticClass:"group-by",attrs:{colspan:"2"}},[e("span",{staticClass:"key"},[t._v(t._s(i)+": ")]),e("span",[t._v(t._s(s)+" ")]),e("span",[t._v("("+t._s(a.length)+")")])])]):t._e(),t._l(a,(function(i,s){return[e("tr",{key:i.id,class:{"no-border":0===s,background:!t.noBackground,checkout:2===i.checkinStatus},on:{click:function(e){return t.toggleLink(i,a)}}},[t.repository&&t.checkbox?[e("td",{staticClass:"sticky icon",staticStyle:{left:"0"}},[t.checkbox?e("div",{staticClass:"row items-center justify-center"},[e("CheckboxField",{on:{input:function(e){return t.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}})],1):t._e()]),e("td",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}},[e("div",{staticClass:"row items-center justify-center",staticStyle:{width:"20px"}},[t._t("avatar",null,{item:i})],2)])]:[e("td",{staticClass:"sticky icon",staticStyle:{left:"0",width:"36px"}},[t.checkbox?e("div",{staticClass:"col items-center justify-center"},[e("CheckboxField",{on:{input:function(e){return t.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}}),i.subWorkflow?[i.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2):e("div",{staticClass:"col items-center justify-center"},[t._t("avatar",(function(){return[i.buttonAction?["Closed"!==i.status?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Mark Completed",expression:"'Mark Completed'",modifiers:{top:!0}}],attrs:{name:t.selectedRowIndex===s?"mdi-check":i.icon,color:t.selectedRowIndex===s?"primary":i.color},on:{mouseover:function(e){t.selectedRowIndex=s},mouseout:function(e){t.selectedRowIndex=-1},click:function(e){return t.$emit("complete",i.id)}}})]:[e("BaseIcon",{attrs:{name:i.icon,color:i.color}})]]:[i.iconTooltip?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"item.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color||"secondary"}})]:[e("BaseIcon",{attrs:{name:i.icon,color:i.color||"secondary"}})]]]}),{item:i}),i.subWorkflow?[i.subWorkflow.length?e("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):t._e()]:t._e()],2)])],t.title?e("td",{staticClass:"sticky",style:"left:"+t.leftcount,on:{click:function(e){i.link&&t.$emit("select",i.id,a)}}},[t._t("title",(function(){return[e("div",{staticClass:"font-medium ellipsis",class:i.link?"text-underline":"",staticStyle:{"max-width":"250px"}},[e("span",{on:{mouseover:function(e){return t.$emit("showThumbnail",i,e)},mouseleave:function(e){return t.$emit("hideThumbnail",i)}}},[t._v(t._s(i[t.title.name])+" ")])])]}),{item:i,title:i[t.title.name]}),t._t("thumbnail",null,{item:i})],2):t._e(),t._l(t._columns,(function(s){return e("td",{key:s.id},[t._t(s.name,(function(){return["TABLE"===s.dataType?[i[s.name]?[e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Table Data",expression:"'Table Data'",modifiers:{top:!0}}],attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.showTable(s.name,i[s.name])}}})]:[e("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]:"ICON"===s.type?[i[s.name]?[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip[s.name],expression:"item.iconTooltip[column.name]",modifiers:{top:!0}}],attrs:{name:i[s.name],color:i.iconColor[s.name]}})]:[t._v(" "+t._s("-")+" ")]]:"FILE_UPLOAD"===s.dataType?[i[s.name]?["string"===typeof i[s.name]?e("div",{staticClass:"ellipsis medium"},t._l(JSON.parse(i[s.name]),(function(s,a){return e("div",{key:a,staticClass:"row"},[e("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"text-secondary file-underline col",on:{click:function(e){return t.viewFile(s,i)}}},[t._v(t._s(s.fileName))])],1)})),0):e("div",{staticClass:"ellipsis medium"},t._l(i[s.name],(function(s,a){return e("div",{key:a,staticClass:"row"},[e("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":t.fileType(s.fileName)}}),e("span",{staticClass:"text-secondary file-underline col",on:{click:function(e){return t.viewFile(s,i)}}},[t._v(t._s(s.fileName))])],1)})),0)]:t._e()]:[e("div",{class:{"data-change":t.hasMetaDataEdit},on:{click:function(e){return t.handleOpenInput(i,s)}}},[t._v(" "+t._s(i[s.name]||"-")+" ")])]]}),{value:i[s.name],item:i})],2)})),t.noActions?t._e():e("td",{staticClass:"sticky action",staticStyle:{right:"0",width:"50px"}},[t._t("actions",(function(){return["BROWSE"===t.mode?[i.actionAccess?t._e():[e("div",{staticClass:"row justify-end no-wrap"},[t.security||t.visibility(i)?[i.actionButton?[i.infoIcon?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-check-all",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-bell-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-shield-outline"},on:{click:function(e){return e.stopPropagation(),t.$emit("secure",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(e){return e.stopPropagation(),t.$emit("more",i.id)}}},[t._t("extraMenu")],2)]:[i.infoIcon?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",i.id)}}}):t._e(),1===i.emailStatus?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-check-outline",color:"green"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):0===i.emailStatus?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-sync-outline",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):t.resend?e("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("resend",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit",i.id)}}}),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",i.id)}}}),t.showExport?e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-download-outline",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.$emit("export",i.id)}}}):t._e(),e("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(e){return e.stopPropagation(),t.$emit("more",i.id)}}},[t._t("extraMenu")],2)]]:t._e()],2)]]:t._e(),"TRASH"===t.mode?[e("div",{staticClass:"row justify-end"},[e("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"mdi-history","no-border":""},on:{click:function(e){return e.stopPropagation(),t.$emit("restore",i.id)}}})],1)]:t._e()]}),{item:i})],2)],2),i.subWorkflow?[i.subWorkflow.length?[i.expandSubworkflow?e("tr",{key:i.id,staticClass:"sub-background"},[e("td",{attrs:{colspan:t._columns.length+3}},[e("table",{key:"subtable"+i.id,staticStyle:{"margin-left":"20px",border:"1px solid var(--divider-color)","table-layout":"fixed","max-width":"70%","min-width":"calc(70% - 1px)","border-collapse":"collapse","white-space":"nowrap"}},[e("thead",[e("tr",[e("th",{staticClass:"sticky icon",staticStyle:{left:"0","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"icon"}}),t.title?e("th",{staticClass:"sticky",staticStyle:{left:"36px","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"title"}},[e("div",{staticClass:"font-medium ellipsis",staticStyle:{"max-width":"250px"}},[t._v(" "+t._s(t.title.label)+" ")])]):t._e(),t._l(t._subWorkflowColumns,(function(i){return e("th",{key:i.id,staticStyle:{"background-color":"rgb(222 217 247)",width:"2%"}},[t._v(" "+t._s(i.label)+" ")])})),e("th",{staticClass:"sticky",staticStyle:{"background-color":"rgb(222 217 247)"}})],2)]),e("tbody",[t._l(i.subWorkflow,(function(i){return[e("tr",{key:i.requestNo},[e("td",{staticClass:"sticky icon sub-background",staticStyle:{left:"0"},attrs:{name:"avatar"}},[e("div",{staticClass:"row items-center sticky justify-center"},[e("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"subItem.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color}})],1)]),e("td",{staticClass:"sticky sub-background",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"},attrs:{name:"title"}},[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.requestNo,expression:"subItem.requestNo",modifiers:{top:!0}}],staticClass:"row items-center text-underline",staticStyle:{overflow:"hidden !important","white-space":"unset !important",width:"220px"},on:{click:function(e){return t.openSubProcess(i)}}},[t._v(" "+t._s(i.requestNo||"-")+" ")])]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.stage)+" ")]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.raisedBy)+" ")]),e("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[t._v(" "+t._s(i.raisedAt)+" ")]),e("td",{staticClass:"sticky sub-background",staticStyle:{right:"0px",width:"20%"}},[t._t("subactions",null,{item:i})],2)])]}))],2)])])]):t._e()]:t._e()]:t._e()]}))]}))],2)])]),e("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(e){t.expandTableModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[e("div",{attrs:{id:"tableData"}},[t.tableData.cellvalues?[e("table",t._l(t.tableData.cellvalues,(function(i,s){return e("tr",{key:s},t._l(i,(function(i){return e("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[t._v(" "+t._s(i.cellvalue)+" ")])})),1)})),0)]:[e("table",[e("thead",[e("tr",t._l(t.tableData[0],(function(i,s){return e("th",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",t._l(t.tableData,(function(i,s){return e("tr",{key:s},t._l(i,(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:t.expandTableModal,callback:function(e){t.expandTableModal=e},expression:"expandTableModal"}})],2)},a=[],o=(i("caad"),i("869e")),r=i("6a70"),n=i("fa1f"),l={name:"ItemList",components:{CheckboxField:o["a"],Modal:r["a"],FileIcon:n["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},noBackground:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},tableHeader:{type:Boolean,default:!0},security:{type:Boolean,default:!0},checkbox:{type:Boolean,default:!1},hasMetaDataEdit:{type:Boolean,required:!1},breadcrumbs:{type:Boolean,default:!1},report:{type:Boolean,default:!1},resend:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},repository:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{selectedRowIndex:-1,userId:this.$store.state.session.id,email:this.$store.state.session.email,selectedDummyData:!1,expandTableModal:!1,tableTitle:"",tableData:[]}},computed:{_columns(){return this.columns.filter(t=>"TITLE"!==t.type&&t.isVisible)},title(){return this.columns.find(t=>"TITLE"===t.type)},leftcount(){return this.repository&&this.checkbox?"80px":"36px"},_subWorkflowColumns(){let t=[{id:this.$nano.id(),name:"stage",label:"Stage",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",type:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}];return t}},created(){this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!1)})})},methods:{visibility(t){const e=Number(this.userId),i=this.email;let s=!1;const a=t.owner?t.owner.map(t=>t.id):[0],o=t.coordinator?t.coordinator.map(t=>t.id):[0];return(t.createdBy===i||a.includes(e)||o.includes(e)||1===e)&&(s=!0),s},handleCheckboxChange(t){this.selectAll=!1,this.selectedDummyData=!this.selectedDummyData;const e=this.items.flatMap(t=>t.data).find(e=>e.id===t);e&&this.$set(e,"selected",e.selected),this.$emit("update-selected-all",this.selectAll)},handleSelectAll(){!0===this.selectAll&&this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!0)})}),!1===this.selectAll&&this.items.forEach(t=>{t.data.forEach(t=>{this.$set(t,"selected",!1)})}),this.$emit("update-selected-all",this.selectAll)},showTable(t,e){e&&(this.report?this.$emit("showTable",t,e):(this.tableTitle=t,this.tableData=JSON.parse(e),this.expandTableModal=!0))},handleOpenInput(t,e){this.$emit("openMetaDataEdit",t,e)},viewFile(t,e){t.createdBy=e.createdBy,t.createdAt=e.createdAt,t.name||(t.name=t.fileName),t.id||(t.id=t.itemId),this.$emit("viewFile",t)},fileType(t){if(t)return t.split(".").reverse()[0].slice(0,4)},toggleLink(t,e){t.expandSubworkflow=!t.expandSubworkflow,!t.link&&this.$emit("select",t.id,e),this.selectedDummyData=!this.selectedDummyData},openSubProcess(t){this.$emit("openSubWorkflow",t)}}},c=l,d=(i("d37d"),i("2877")),u=Object(d["a"])(c,s,a,!1,null,"00be4c3f",null);e["a"]=u.exports},fa79:function(t,e,i){"use strict";i("3002")},fdd5:function(t,e,i){"use strict";i("4d38")}}]);
//# sourceMappingURL=tasks-trash.afa756b3.js.map