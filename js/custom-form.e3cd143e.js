(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["custom-form"],{"00c2":function(e,t,a){e.exports=a.p+"img/name-light.137e40b6.png"},"0ce8":function(e,t,a){},"1c1c":function(e,t,a){"use strict";var i=a("a026"),s=a("b7fa"),l=a("87e8"),n=a("e277");t["a"]=i["default"].extend({name:"QList",mixins:[l["a"],s["a"]],props:{bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},computed:{classes(){return"q-list"+(!0===this.bordered?" q-list--bordered":"")+(!0===this.dense?" q-list--dense":"")+(!0===this.separator?" q-list--separator":"")+(!0===this.isDark?" q-list--dark":"")+(!0===this.padding?" q-list--padding":"")}},render(e){return e(this.tag,{class:this.classes,on:{...this.qListeners}},Object(n["c"])(this,"default"))}})},"1c54":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("q-dialog",{attrs:{value:e.value},on:{input:e.close}},[t("div",{class:e.cssClass,style:{width:e.width},attrs:{id:"confirm"}},[t("div",{staticClass:"header"},[t("BaseIcon",{staticClass:"q-mr-md",attrs:{name:e.icon,color:e.iconColor,size:e.iconSize}}),t("div",{staticClass:"title-1"},[e._t("title")],2),t("q-space"),t("BaseCloseButton",{on:{click:e.close}})],1),e._t("default"),e.hasFooter?t("div",{staticClass:"footer"},[e._t("footer")],2):e._e()],2)])},s=[],l={name:"Confirm",props:{value:{type:Boolean,required:!0},width:{type:String,default:"480px"},icon:{type:String,required:!0},iconColor:{type:String,default:"secondary"},iconSize:{type:String,default:"20px"},hasFooter:{type:Boolean,default:!0},cssClass:{type:String,default:""}},methods:{close(){this.$emit("input",!1)}}},n=l,o=(a("c7a9"),a("2877")),r=a("24e8"),d=a("2c91"),c=a("93dc"),m=a.n(c),u=Object(o["a"])(n,i,s,!1,null,"3a193cc6",null);t["a"]=u.exports;m()(u,"components",{QDialog:r["a"],QSpace:d["a"]})},2573:function(e,t,a){"use strict";a("b963")},"2ac6":function(e,t,a){"use strict";a("0ce8")},4074:function(e,t,a){"use strict";var i=a("a026"),s=a("87e8"),l=a("e277");t["a"]=i["default"].extend({name:"QItemSection",mixins:[s["a"]],props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},computed:{classes(){const e=this.avatar||this.side||this.thumbnail;return{"q-item__section--top":this.top,"q-item__section--avatar":this.avatar,"q-item__section--thumbnail":this.thumbnail,"q-item__section--side":e,"q-item__section--nowrap":this.noWrap,"q-item__section--main":!e,["justify-"+(this.top?"start":"center")]:!0}}},render(e){return e("div",{staticClass:"q-item__section column",class:this.classes,on:{...this.qListeners}},Object(l["c"])(this,"default"))}})},"40f9":function(e,t,a){"use strict";a("c589")},"4d38":function(e,t,a){},"55ff":function(e,t,a){"use strict";a("9db8")},"651a":function(e,t,a){e.exports=a.p+"img/psg-logo.20670f47.png"},"66e5":function(e,t,a){"use strict";a("3c65");var i=a("a026"),s=a("b7fa"),l=a("e2fa"),n=a("8716"),o=a("87e8"),r=a("e277"),d=a("d882"),c=a("dc8a");t["a"]=i["default"].extend({name:"QItem",mixins:[s["a"],n["a"],l["a"],o["a"]],props:{active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},computed:{isActionable(){return!0===this.clickable||!0===this.hasLink||"label"===this.tag},isClickable(){return!0!==this.disable&&!0===this.isActionable},classes(){return"q-item q-item-type row no-wrap"+(!0===this.dense?" q-item--dense":"")+(!0===this.isDark?" q-item--dark":"")+(!0===this.hasLink&&null===this.active?this.linkClass:!0===this.active?` q-item--active${void 0!==this.activeClass?" "+this.activeClass:""} `:"")+(!0===this.disable?" disabled":"")+(!0===this.isClickable?" q-item--clickable q-link cursor-pointer "+(!0===this.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===this.focused?" q-manual-focusable--focused":""):"")},style(){if(void 0!==this.insetLevel){const e=!0===this.$q.lang.rtl?"Right":"Left";return{["padding"+e]:16+56*this.insetLevel+"px"}}},onEvents(){return{...this.qListeners,click:this.__onClick,keyup:this.__onKeyup}}},methods:{__onClick(e){!0===this.isClickable&&(void 0!==this.$refs.blurTarget&&(!0!==e.qKeyEvent&&document.activeElement===this.$el?this.$refs.blurTarget.focus():document.activeElement===this.$refs.blurTarget&&this.$el.focus()),this.__navigateOnClick(e))},__onKeyup(e){if(!0===this.isClickable&&!0===Object(c["a"])(e,13)){Object(d["l"])(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,this.$el.dispatchEvent(t)}this.$emit("keyup",e)},__getContent(e){const t=Object(r["d"])(this,"default",[]);return!0===this.isClickable&&t.unshift(e("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget"})),t}},render(e){const t={class:this.classes,style:this.style,attrs:{role:"listitem"},on:this.onEvents};return!0===this.isClickable?(t.attrs.tabindex=this.tabindex||"0",Object.assign(t.attrs,this.linkAttrs)):!0===this.isActionable&&(t.attrs["aria-disabled"]="true"),e(this.linkTag,t,this.__getContent(e))}})},"7c86":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return n}));const i=["left","right","up","down","horizontal","vertical"],s={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0,all:!0};function l(e){const t={};return i.forEach(a=>{e[a]&&(t[a]=!0)}),0===Object.keys(t).length?s:(!0===t.horizontal&&(t.left=t.right=!0),!0===t.vertical&&(t.up=t.down=!0),!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}function n(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&"INPUT"!==e.target.nodeName.toUpperCase()&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}},"8b55":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",e._g({class:{active:e.isActive,"is-full-width":e.isFullWidth},style:{color:e.isActive?e._color:""},attrs:{id:"tab"}},e.$listeners),[e._v(" "+e._s(e.label)+" ")])},s=[],l={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},n=l,o=(a("2ac6"),a("2877")),r=Object(o["a"])(n,i,s,!1,null,"f3c4783e",null);t["a"]=r.exports},"9db8":function(e,t,a){},a589:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{style:{width:e.formWidth},attrs:{id:"custom-form-view"}},[t("div",{staticClass:"header"},[t("div",{staticClass:"col-auto logo"},[t("img",{attrs:{src:e._logo}})]),e._m(0)]),t("div",{staticClass:"content"},[t("FormFieldLabel",{attrs:{label:"Claimant Search"}}),t("div",{staticClass:"content-wrapper"},[e.$q.screen.width>1280?t("div",{staticClass:"row q-mb-md"},[t("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:e.lenderList},model:{value:e.lender,callback:function(t){e.lender=t},expression:"lender"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:e.getData},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:e.getData},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),t("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:e.getData},model:{value:e.dob,callback:function(t){e.dob=t},expression:"dob"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"province"},on:{enter:e.getData},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:e.getData},model:{value:e.claimNumber,callback:function(t){e.claimNumber=t},expression:"claimNumber"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:e.getData},model:{value:e.contractNumber,callback:function(t){e.contractNumber=t},expression:"contractNumber"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:e.getData},model:{value:e.refNumber,callback:function(t){e.refNumber=t},expression:"refNumber"}}),t("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:e.getData}})],1):t("div",[t("div",{staticClass:"row q-mb-md"},[t("MultiSelectField",{staticClass:"col",attrs:{label:"lender",options:e.lenderList},model:{value:e.lender,callback:function(t){e.lender=t},expression:"lender"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"first name"},on:{enter:e.getData},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"last name"},on:{enter:e.getData},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),t("DateField",{staticClass:"col q-ml-md",attrs:{label:"DOB"},on:{enter:e.getData},model:{value:e.dob,callback:function(t){e.dob=t},expression:"dob"}})],1),t("div",{staticClass:"row q-mb-md"},[t("TextField",{staticClass:"col",attrs:{label:"province"},on:{enter:e.getData},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"claim number"},on:{enter:e.getData},model:{value:e.claimNumber,callback:function(t){e.claimNumber=t},expression:"claimNumber"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"contract number"},on:{enter:e.getData},model:{value:e.contractNumber,callback:function(t){e.contractNumber=t},expression:"contractNumber"}}),t("TextField",{staticClass:"col q-ml-md",attrs:{label:"Ref. number"},on:{enter:e.getData},model:{value:e.refNumber,callback:function(t){e.refNumber=t},expression:"refNumber"}}),t("BaseButton",{staticClass:"searchBtn col-auto q-ml-md",attrs:{label:"Search",icon:"eva-search-outline"},on:{click:e.getData}})],1)])]),t("div",{staticClass:"row q-mb-xs"},[t("div",{staticClass:"col q-mt-sm"},[t("FormFieldLabel",{attrs:{label:"Search Results"}})],1),t("q-space"),t("div",{staticClass:"col-auto"},[t("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:e.searchRow}})],1),t("div",{staticClass:"col-auto"},[t("BaseButton",{attrs:{label:"Add Contract and Send Package",icon:"eva-plus-outline",color:"gray"},on:{click:function(t){e.addContractSheet=!0}}})],1)],1),t("div",{staticClass:"content-wrapper tables"},[t("BaseScrollbar",{attrs:{height:"calc(100vh - 360px)"}},[t("div",{staticClass:"row"},[t("FormFieldLabel",{attrs:{label:e.contractCount}}),t("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:e.contractExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(t){e.contractExpand=!e.contractExpand}}})],1),e.contractExpand?t("table",[t("thead",[t("tr",[t("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),e._l(e.contractColumnsFilter,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),t("th",{staticClass:"sticky"})],2)]),t("tbody",[e._l(e.tableContracts,(function(a){return[t("tr",{key:a.id},[t("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[t("div",{staticClass:"row items-center justify-center"},[t("BaseButton",{attrs:{label:"Expand",icon:a.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(e){a.infoVisible=!a.infoVisible}}})],1)]),e._l(e.contractColumnsFilter,(function(i){return t("td",{key:i.id},[i.editable?["email"===i.valueType?[t("ValidationProvider",{attrs:{name:i.name,rules:{required:i.required,email:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TextField",{attrs:{"is-mandatory":"",error:s[0]},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]}}],null,!0)})]:"lender"===i.name?[t("ValidationProvider",{attrs:{name:i.name,rules:{required:i.required}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("SelectField",{attrs:{"is-mandatory":"",options:e.lenderList,error:s[0]},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]}}],null,!0)})]:[t("TextField",{attrs:{"is-mandatory":""},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]]:[e._t(i.name,(function(){return[e._v(" "+e._s(a[i.name])+" ")]}),{value:a[i.name],item:a})]],2)})),t("td",{staticClass:"sticky"},[t("div",{staticClass:"row justify-center"},[t("BaseButton",{staticClass:"col-auto q-ml-md",attrs:{label:"Send Package",icon:"mdi-file-send-outline",color:"secondary"},on:{click:function(t){return e.getProduct(a.id)}}})],1)])],2),a.infoVisible?t("tr",{key:"sub-"+a.id},[t("td",{attrs:{colspan:e.contractColumnsFilter.length+2}},[t("table",{staticClass:"subDetails"},[t("thead",e._l(e.contractColumnsInfo,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),0),t("tbody",e._l(e.contractColumnsInfo,(function(i){return t("td",{key:i.id},[e._t(i.name,(function(){return[e._v(" "+e._s(a[i.name])+" ")]}),{value:a[i.name],item:a})],2)})),0)])])]):e._e()]}))],2)]):e._e(),t("div",{staticClass:"row"},[t("FormFieldLabel",{attrs:{label:e.claimCount}}),t("BaseActionButton",{staticClass:"q-ml-sm small",attrs:{icon:e.claimExpand?"mdi-chevron-down":"mdi-chevron-up","is-flat":"","no-border":""},on:{click:function(t){e.claimExpand=!e.claimExpand}}})],1),e.claimExpand?t("table",[t("thead",[t("tr",[t("th",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}}),e._l(e.claimColumnsFilter,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),t("th",{staticClass:"sticky"})],2)]),t("tbody",[e._l(e.tableClaims,(function(a){return[t("tr",{key:a.id},[t("td",{staticClass:"sticky",staticStyle:{left:"0",width:"15px"}},[t("div",{staticClass:"row items-center justify-center"},[t("BaseButton",{attrs:{label:"Expand",icon:a.infoVisible?"eva-eye-off":"eva-eye",color:"secondary","is-flat":"","no-border":""},on:{click:function(e){a.infoVisible=!a.infoVisible}}})],1)]),e._l(e.claimColumnsFilter,(function(i){return t("td",{key:i.id},["history"===i.name?[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Claim History",expression:"'Claim History'",modifiers:{bottom:!0}}],attrs:{icon:"mdi-history",color:"secondary","is-flat":"","no-border":""},on:{click:function(t){return e.claimHistory(a)}}})]:i.editable?["email"===i.valueType?[t("ValidationProvider",{attrs:{name:i.name,rules:{required:i.required,email:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TextField",{attrs:{"is-mandatory":"",error:s[0]},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]}}],null,!0)})]:[t("TextField",{attrs:{"is-mandatory":""},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]]:[e._t(i.name,(function(){return[e._v(" "+e._s(a[i.name])+" ")]}),{value:a[i.name],item:a})]],2)})),t("td",{staticClass:"sticky"},[t("div",{staticClass:"row justify-center q-mt-sm"},[e.claimStatus(a)?[t("div",{on:{click:function(t){return e.reopenClaim(a.id)}}},[t("q-chip",{staticClass:"chips pink-hover",attrs:{outline:"",color:"pink"}},[t("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"mdi-arrow-top-right",color:"pink","text-color":"white"}}),e._v(" Re-open ")],1)],1)]:e._e(),t("div",{on:{click:function(t){return e.viewClaim(a.id)}}},[t("q-chip",{staticClass:"chips orange-hover",attrs:{outline:"",color:"orange"}},[t("q-avatar",{staticClass:"q-mr-sm",attrs:{icon:"eva-eye-outline",color:"orange","text-color":"white"}}),e._v(" View Claim ")],1)],1)],2)])],2),a.infoVisible?t("tr",{key:"sub-"+a.id},[t("td",{attrs:{colspan:e.claimColumnsFilter.length+2}},[t("table",{staticClass:"subDetails"},[t("thead",e._l(e.claimColumnsInfo,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),0),t("tbody",e._l(e.claimColumnsInfo,(function(i){return t("td",{key:i.id},[e._t(i.name,(function(){return[e._v(" "+e._s(a[i.name])+" ")]}),{value:a[i.name],item:a})],2)})),0)])])]):e._e()]}))],2)]):e._e()])],1)],1),t("AddContract",{attrs:{value:e.addContractSheet,"lender-list":e.lenderList},on:{initiate:e.processInitiate,close:function(t){e.addContractSheet=!1}}}),t("Modal",{attrs:{width:"40vw",height:"60vh","has-footer":""},on:{input:function(t){e.productModal=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Choose Product")]},proxy:!0},{key:"default",fn:function(){return[t("div",{attrs:{id:"productModal"}},[t("MultiSelectField",{staticClass:"field",attrs:{label:"product","is-mandatory":"",options:e.productList},model:{value:e.products,callback:function(t){e.products=t},expression:"products"}})],1)]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{attrs:{label:"Send Package",color:"primary"},on:{click:function(t){return e.processInitiate("")}}})]},proxy:!0}]),model:{value:e.productModal,callback:function(t){e.productModal=t},expression:"productModal"}}),t("Modal",{attrs:{width:"70vw"},on:{input:function(t){e.claimHistoryModal=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Claim History")]},proxy:!0},{key:"default",fn:function(){return[t("div",{attrs:{id:"claimHistory"}},[t("table",[t("thead",[t("tr",e._l(e.historyColumns,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),0)]),t("tbody",e._l(e.claimHistoryData,(function(a){return t("tr",{key:a.id},e._l(e.historyColumns,(function(i){return t("td",{key:i.id},[e._t(i.name,(function(){return[e._v(" "+e._s(a[i.name]||"-")+" ")]}),{value:a[i.name],item:a})],2)})),0)})),0)])])]},proxy:!0}],null,!0),model:{value:e.claimHistoryModal,callback:function(t){e.claimHistoryModal=t},expression:"claimHistoryModal"}}),t("Sheet",{attrs:{width:"100vw","no-padding":"","has-footer":""},on:{input:function(t){e.processSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.headerTitle)+" ")]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"footer row"},[t("BaseButton",{staticClass:"q-ml-md",attrs:{label:"Update Claim Details",color:"secondary"},on:{click:function(t){return e.updateClaimDetails()}}})],1)]},proxy:!0}]),model:{value:e.processSheet,callback:function(t){e.processSheet=t},expression:"processSheet"}},[t("div",{staticClass:"row",attrs:{id:"content-wrapper"}},[t("div",{staticClass:"col"},[t("CustomProcessForm",{attrs:{"form-id":e.formId,panels:e.panels,"secondary-panels":e.secondaryPanels,"selected-process":e.selectedProcess,"is-readonly":!1,"check-list":e.checkList,"form-model":e.formModel,"form-fields":e.formFields,inbox:!0},on:{"update:checkList":function(t){e.checkList=t},"update:check-list":function(t){e.checkList=t}}})],1),t("div",{staticClass:"col-auto q-mr-sm leftBorder"},[e._l(e.tabs,(function(a){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:a.label,expression:"tab.label",modifiers:{left:!0}}],key:a.id,staticClass:"tabButtons",attrs:{"is-flat":"","no-border":"",icon:a.icon,color:"primary"},on:{click:function(t){return e.showLinks(a.value)}}},[a.count?t("span",{staticClass:"badge"},[e._v(e._s(a.count)+" ")]):e._e()])]}))],2)])]),t("Sheet",{attrs:{width:"30vw","sub-actions":!1,"no-padding":""},on:{input:function(t){e.attachmentSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Attachments ")]},proxy:!0},{key:"actions",fn:function(){return[e.selectedProcess.processId?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return e.getAttachments()}}}):e._e()]},proxy:!0}]),model:{value:e.attachmentSheet,callback:function(t){e.attachmentSheet=t},expression:"attachmentSheet"}},[t("div",{attrs:{id:"content-wrapper"}},[t("BaseScrollbar",[e._l(e.checkList,(function(a){return[a.name?[a.attach?t("div",{key:a.uid},[e._l(e.attachmentFilterCheckList(a.name),(function(a){return[t("div",{key:a.id,staticClass:"attachmentList"},[t("div",{staticClass:"title row"},[e.selectedProcess.processId?t("div",{staticClass:"col-auto"},[a.loading?[t("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:a.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(e){a.checked=!a.checked}}})]],2):t("div",[a.loading?[t("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:e._e()],2),a.formJsonId?t("div",{staticClass:"col-auto"},[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:e.getLabel(a.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):e._e(),t("div",{staticClass:"col-auto"},[t("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":e.fileType(a.name)}})],1),t("div",{staticClass:"col ellipsis",on:{click:function(t){return e.openFile(a)}}},[e._v(" "+e._s(a.name)+" ")]),a.loading?e._e():t("div",{staticClass:"col-auto"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return t.stopPropagation(),e.fileMenuAction(a,"Download")}}})],1),a.loading?e._e():t("div",{staticClass:"col-auto"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return t.stopPropagation(),e.fileMenuAction(a,"Print")}}})],1)]),t("div",{staticClass:"meta row"},[t("div",{staticClass:"col row"},[t("div",[e._v(e._s(e.$day.format(a.createdAt)))]),a.createdBy?[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v(e._s(a.createdByEmail))])]:e._e(),a.size?[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v(e._s(e.fileSize(a.size)))])]:e._e()],2)])])]}))],2):t("div",{key:a.uid,staticClass:"checkList"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{attrs:{name:"mdi-file-check-outline",color:"primary"}})],1),t("div",{staticClass:"col q-ml-sm"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e._v(" "+e._s(a.name)+" ")]),a.required?t("div",{staticClass:"col-12 q-mt-sm"},[t("q-chip",{staticClass:"chips small",attrs:{outline:"",color:"red"}},[e._v(" Required ")])],1):e._e()])])])])]:e._e()]})),e._l(e.attachmentList,(function(a){return[e.isCheckList(a.name)?[t("div",{key:a.id,staticClass:"attachmentList"},[t("div",{staticClass:"title row"},[a.loading?[t("BaseIcon",{staticClass:"q-mr-sm loading",attrs:{name:"mdi-loading",color:"secondary"}})]:e._e(),e.selectedProcess.processId?t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:a.checked?"eva-checkmark-circle-2":"eva-radio-button-off-outline",color:"secondary"},on:{click:function(e){a.checked=!a.checked}}})],1):e._e(),a.formJsonId?t("div",{staticClass:"col-auto"},[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip:green.top",value:e.getLabel(a.formJsonId),expression:"getLabel(file.formJsonId)",arg:"green",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{name:"mdi-form-select",color:"primary"}})],1):e._e(),t("div",{staticClass:"col-auto"},[t("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":e.fileType(a.name)}})],1),t("div",{staticClass:"col ellipsis",on:{click:function(t){return e.openFile(a)}}},[e._v(" "+e._s(a.name)+" ")]),a.loading?e._e():t("div",{staticClass:"col-auto"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Download",expression:"'Download'",modifiers:{top:!0}}],attrs:{icon:"eva-download-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return t.stopPropagation(),e.fileMenuAction(a,"Download")}}})],1),a.loading?e._e():t("div",{staticClass:"col-auto"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Print",expression:"'Print'",modifiers:{top:!0}}],attrs:{icon:"eva-printer-outline",color:"primary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return t.stopPropagation(),e.fileMenuAction(a,"Print")}}})],1)],2),t("div",{staticClass:"meta row"},[t("div",{staticClass:"col row"},[t("div",[e._v(e._s(e.$day.format(a.createdAt)))]),a.createdBy?[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v(e._s(a.createdByEmail))])]:e._e(),a.size?[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v(e._s(e.fileSize(a.size)))])]:e._e()],2)])])]:e._e()]}))],2)],1)]),t("Sheet",{attrs:{width:"30vw",height:"80vh","no-padding":""},on:{input:function(t){e.commentsSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Comments ")]},proxy:!0},{key:"actions",fn:function(){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return e.getComments(0)}}})]},proxy:!0}]),model:{value:e.commentsSheet,callback:function(t){e.commentsSheet=t},expression:"commentsSheet"}},[t("div",{attrs:{id:"content-wrapper"}},[t("BaseScrollbar",{attrs:{height:"calc(100vh - 160px)"}},[e._l(e.commentsList,(function(a,i){return[t("q-chat-message",{key:i,staticClass:"q-ma-sm",attrs:{name:a.createdBy===e.$store.state.session.id?"me":a.createdByEmail||a.externalCommentsby,text:[a.comments],"text-html":"",sent:a.createdBy===e.$store.state.session.id,stamp:e.lastCommentDuration(a),"bg-color":a.createdBy===e.$store.state.session.id?"primary-1":"secondary-1"},scopedSlots:e._u([{key:"avatar",fn:function(){return[a.embedFileList&&a.embedFileList.length?t("div",{staticClass:"file-icons"},[t("FileIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:a.embedFileList[0].fileName,expression:"row.embedFileList[0].fileName",modifiers:{top:!0}}],key:"Icon-"+i,staticClass:"file-icon q-mr-sm",attrs:{"mime-type":e.fileType(a.embedFileList[0].fileName)}})],1):e._e()]},proxy:!0}],null,!0)})]}))],2)],1),t("div",{staticClass:"col borderTop"},[t("div",{staticClass:"row q-ma-sm"},[t("div",{staticClass:"col"},[t("TextAreaField",{attrs:{"auto-focus":"",placeholder:"Type a new comment..."},model:{value:e.commentText,callback:function(t){e.commentText=t},expression:"commentText"}})],1),t("div",{staticClass:"col-auto",staticStyle:{margin:"auto","margin-right":"8px"}},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Post Comments",expression:"'Post Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm comment-actions",attrs:{icon:"eva-paper-plane-outline",color:"primary-11",size:"16px","rotate-class":"rotate-45"},on:{click:e.saveComment}}),t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Advanced Comments",expression:"'Advanced Comments'",modifiers:{left:!0}}],staticClass:"q-ml-sm q-mt-sm comment-actions",attrs:{icon:"mdi-comment-text-multiple",color:"primary-11",size:"16px"},on:{click:function(t){e.advancedCommentsSheet=!0}}})],1)])])]),t("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(t){e.mailTransactionSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Mail Transactions ")]},proxy:!0},{key:"actions",fn:function(){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],staticClass:"q-mr-sm",attrs:{icon:"mdi-refresh",color:"secondary","no-border":"","is-flat":"",size:"20px"},on:{click:function(t){return e.getMailTransactions()}}})]},proxy:!0}]),model:{value:e.mailTransactionSheet,callback:function(t){e.mailTransactionSheet=t},expression:"mailTransactionSheet"}},[t("div",{attrs:{id:"content-wrapper"}},[t("div",{staticClass:"q-pl-sm"},[t("Tabs",{attrs:{tabs:e.mailTabs},model:{value:e.mailTab,callback:function(t){e.mailTab=t},expression:"mailTab"}})],1),"OUTGOING"===e.mailTab?[t("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[e._l(e.outgoingMails,(function(a){return[t("div",{key:"outgoing"+a.id,staticClass:"mailTransactionList"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row q-mb-sm"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),t("div",{staticClass:"col-auto"},[e._v(" "+e._s(a.subject)+" ")])]),t("div",{staticClass:"row q-mb-sm"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),t("div",{staticClass:"col-auto"},[e._v(e._s(a.email))])]),t("div",{staticClass:"row q-mb-sm"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),t("div",{staticClass:"col-auto"},[e._v(" "+e._s(e.$day.format(a.createdAt,!0))+" ")])])]),t("div",{staticClass:"col-auto q-mr-sm"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(t){return t.stopPropagation(),e.showMailAttachments(a)}}},[a.attachmentCount?t("span",{staticClass:"badge"},[e._v(e._s(a.attachmentCount)+" ")]):e._e()])],1)])])]}))],2)]:e._e(),"INCOMING"===e.mailTab?[t("BaseScrollbar",{attrs:{height:"calc(100vh - 120px)"}},[e._l(e.incomingMails,(function(a){return[t("div",{key:"incoming"+a.id,staticClass:"mailTransactionList"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row q-mb-sm"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-email-outline",color:"primary"}})],1),t("div",{staticClass:"col-auto"},[e._v(" "+e._s(a.subject)+" ")])]),t("div",{staticClass:"row q-mb-sm"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-person-outline",color:"secondary"}})],1),t("div",{staticClass:"col-auto"},[e._v(e._s(a.email))])]),t("div",{staticClass:"row q-mb-sm"},[t("div",{staticClass:"col-auto"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"eva-clock-outline",color:"orange"}})],1),t("div",{staticClass:"col-auto"},[e._v(" "+e._s(e.$day.format(a.createdAt,!0))+" ")])])]),t("div",{staticClass:"col-auto q-mr-sm"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"attachments",expression:"'attachments'",modifiers:{top:!0}}],staticClass:"q-mb-sm",attrs:{icon:"eva-attach-2-outline",color:"primary","is-flat":"",size:"16px"},on:{click:function(t){return t.stopPropagation(),e.showMailAttachments(a)}}},[a.attachmentCount?t("span",{staticClass:"badge"},[e._v(e._s(a.attachmentCount)+" ")]):e._e()])],1)])])]}))],2)]:e._e()],2)]),t("Sheet",{attrs:{width:"30vw","no-padding":""},on:{input:function(t){e.mailAttachmentSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Mail Attachments ")]},proxy:!0}]),model:{value:e.mailAttachmentSheet,callback:function(t){e.mailAttachmentSheet=t},expression:"mailAttachmentSheet"}},[t("div",{attrs:{id:"content-wrapper"}},[t("BaseScrollbar",{attrs:{height:"calc(100vh - 200px)"}},[e._l(e.mailAttachmentList,(function(a){return[t("div",{key:a.id,staticClass:"attachmentList"},[t("div",{staticClass:"title row"},[t("div",{staticClass:"col-auto"},[t("FileIcon",{staticClass:"mini-avatar q-mr-sm",attrs:{"mime-type":e.fileType(a.name)}})],1),t("div",{staticClass:"col ellipsis",on:{click:function(t){return e.openAttachmentFile(a)}}},[e._v(" "+e._s(a.name)+" ")])]),t("div",{staticClass:"meta"},[t("div",[e._v(e._s(e.$day.format(a.createdAt)))]),a.size?[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v(e._s(e.fileSize(a.size)))])]:e._e()],2)])]}))],2)],1)]),t("Sheet",{attrs:{"no-padding":"",width:"100vw"},on:{input:function(t){e.fileSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"attachmentFileHeader"},[e.selectedFile.formJsonId?[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:green.bottom",value:e.getLabel(e.selectedFile.formJsonId),expression:"getLabel(selectedFile.formJsonId)",arg:"green",modifiers:{bottom:!0}}],staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"mdi-form-select",color:"primary"}})]:e._e(),t("div",{staticClass:"avatar q-ml-sm"},[t("FileIcon",{attrs:{"mime-type":e.fileType(e.selectedFile.name)}})],1),t("div",{staticClass:"q-ml-md"},[t("div",{staticClass:"filename"},[e._v(" "+e._s(e.selectedFile.name)+" ")]),t("div",{staticClass:"meta"},[t("div",[e._v("Archived At: "+e._s(e.$day.format(e.selectedFile.createdAt)))]),t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),t("div",[e._v("Archived By: "+e._s(e.selectedFile.createdByEmail))]),e.selectedFile.size?t("div",[t("BaseIcon",{attrs:{name:"mdi-circle-small"}}),e._v(" File Size: "+e._s(e.fileSize(e.selectedFile.size))+" ")],1):e._e()],1)])],2)]},proxy:!0}]),model:{value:e.fileSheet,callback:function(t){e.fileSheet=t},expression:"fileSheet"}},[t("div",{staticClass:"attachmentFileFrame"},[t("div",{staticClass:"file-list"},[t("iframe",{ref:"myAttachmentFiles",attrs:{id:"file-frame",src:e.fileLink(),frameborder:"0"}})])])]),e.historyProcessId?t("ProcessHistory",{attrs:{"process-id":e.historyProcessId,"selected-process":e.selectedProcess},on:{close:function(t){e.historyProcessId=0}}}):e._e(),t("Modal",{attrs:{width:"60vw",height:"80vh","has-footer":""},on:{input:function(t){e.advancedCommentsSheet=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Comments")]},proxy:!0},{key:"default",fn:function(){return[t("TextBuilderField",{model:{value:e.advancedCommentText,callback:function(t){e.advancedCommentText=t},expression:"advancedCommentText"}})]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{attrs:{label:"Post Comments",icon:"eva-paper-plane-outline",color:"primary"},on:{click:e.saveAdvancedComment}})]},proxy:!0}]),model:{value:e.advancedCommentsSheet,callback:function(t){e.advancedCommentsSheet=t},expression:"advancedCommentsSheet"}})],1)},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col q-mr-xl text-center"},[t("div",{staticClass:"title-1"},[e._v("Request Submission")]),t("div",{staticClass:"description"},[e._v("To submit the Claim Request")])])}],l=(a("caad"),a("14d9"),a("1b0d")),n=a("7bb1"),o=a("be3f"),r=a("3445"),d=a("b3d1"),c=a("c3d2"),m=a("12b8"),u=a("53c1"),h=function(){var e=this,t=e._self._c;return t("Sheet",{attrs:{value:e.value,width:"30vw",height:"70vh","has-footer":""},on:{input:e.closeSheet},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Add Contract")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-pa-md"},[t("ValidationObserver",{ref:"form"},[t("div",{staticClass:"field-wrapper"},[t("ValidationProvider",{attrs:{name:"First Name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("TextField",{staticClass:"q-mb-sm",attrs:{label:"First Name","is-mandatory":"",error:a[0]},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})]}}])}),t("ValidationProvider",{attrs:{name:"Last Name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("TextField",{staticClass:"q-mb-sm",attrs:{label:"Last Name","is-mandatory":"",error:a[0]},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})]}}])}),t("ValidationProvider",{attrs:{name:"DOB",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("DateField",{staticClass:"q-mb-sm",attrs:{label:"DOB","is-mandatory":"",error:a[0]},model:{value:e.dob,callback:function(t){e.dob=t},expression:"dob"}})]}}])}),t("NumberField",{staticClass:"q-mb-sm",attrs:{label:"Current Age","is-mandatory":"","is-readonly":""},model:{value:e.currentAge,callback:function(t){e.currentAge=t},expression:"currentAge"}}),t("ValidationProvider",{attrs:{name:"Email",rules:{required:!0,email:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("TextField",{staticClass:"q-mb-sm",attrs:{label:"Email","is-mandatory":"",error:a[0]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}])}),t("TextField",{staticClass:"q-mb-sm",attrs:{label:"Loan Number"},model:{value:e.loanNumber,callback:function(t){e.loanNumber=t},expression:"loanNumber"}}),t("ValidationProvider",{attrs:{name:"Product",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("MultiSelectField",{staticClass:"q-mb-sm",attrs:{label:"Product","is-mandatory":"",options:e.productList,error:a[0]},model:{value:e.products,callback:function(t){e.products=t},expression:"products"}})]}}])}),t("ValidationProvider",{attrs:{name:"Lender",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("SelectField",{staticClass:"q-mb-sm",attrs:{label:"Lender","is-mandatory":"",options:e.lenderList,error:a[0]},model:{value:e.lender,callback:function(t){e.lender=t},expression:"lender"}})]}}])})],1)])],1)]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{attrs:{label:"Save and Send Package",color:"primary"},on:{click:e.createContract}})]},proxy:!0}])})},p=[],f=a("381e"),y=a("ad54"),b={name:"AddContract",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],Sheet:f["a"],TextField:d["a"],DateField:u["a"],NumberField:y["a"],MultiSelectField:c["a"],SelectField:m["a"]},props:{value:{type:Boolean,default:!1},lenderList:{type:Array,default:()=>[]}},data(){return{firstName:"",lastName:"",dob:"",currentAge:0,email:"",loanNumber:"",products:["Involuntary Unemployment"],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],lender:""}},watch:{dob:{deep:!0,immediate:!0,handler(){this.dob?this.currentAge=this.calculateAge(this.dob):this.currentAge=0}}},methods:{closeSheet(){this.$emit("close")},reset(){this.firstName="",this.lastName="",this.dob="",this.currentAge=0,this.email="",this.loanNumber="",this.products=["Involuntary Unemployment"],this.lender=""},calculateAge(e){if(!e)return;const t=new Date;if(new Date(e)>t)return"";const a=t-new Date(e),i=Math.floor(a/864e5);return Math.floor(i/365.25)},async createContract(){const e=await this.$refs.form.validate();if(!e)return;this.$store.commit("showLoadingBar");let t={firstName:this.firstName,lastName:this.lastName,dob:this.dob,loanNumber:this.loanNumber,product:this.products};const{error:a}=await l["d"].createContract(t);this.$store.commit("hideLoadingBar"),a?this.$alert.error(a):(t.lender=this.lender,t.currentAge=this.currentAge,t.email=this.email,this.$emit("initiate",t),this.reset(),this.closeSheet())}}},v=b,C=a("2877"),g=Object(C["a"])(v,h,p,!1,null,null,null),S=g.exports,P=a("6a70"),T=a("b94d"),L=a("fa1f"),N=a("a7d2"),I=a("dd90"),D=a("c52a"),$=a("8505"),w=a("6df3"),k=a("695e"),A={name:"CustomForm",components:{ValidationProvider:n["b"],ExpandableSearch:o["a"],FormFieldLabel:r["a"],TextField:d["a"],MultiSelectField:c["a"],SelectField:m["a"],DateField:u["a"],AddContract:S,Modal:P["a"],Sheet:f["a"],Tabs:T["a"],FileIcon:L["a"],CustomProcessForm:D["a"],ProcessHistory:$["a"],TextAreaField:w["a"],TextBuilderField:k["a"]},props:{workflowId:{type:Number,default:0},workflow:{type:Object,default:()=>{}},formId:{type:[String,Number],default:0},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},actions:{type:Array,default:()=>[]},requestPrefix:{type:String,default:""},mlPrediction:{type:String,default:""},formFields:{type:Array,default:()=>[]},generatePDF:{type:Number,default:0}},data(){return{form:null,formWidth:"100%",lender:[],firstName:"",lastName:"",dob:"",province:"",claimNumber:"",contractNumber:"",refNumber:"",contractColumns:[{id:this.$nano.id(),name:"firstName",label:"First Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"lastName",label:"Last Name",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan Number",subLabel:"Loan No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"dob",label:"DOB",subLabel:"",type:"NORMAL",editable:!1,valueType:"date",main:!0,visible:!0},{id:this.$nano.id(),name:"currentAge",label:"Current Age",subLabel:"",type:"NORMAL",editable:!1,valueType:"number",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"policyNumber",label:"Policy Number",subLabel:"Group Policy",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!0,visible:!0},{id:this.$nano.id(),name:"email",label:"Email",subLabel:"Email ID",type:"NORMAL",editable:!0,valueType:"email",required:!0,main:!0,visible:!0},{id:this.$nano.id(),name:"address1",label:"Address1",subLabel:"Address",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"address2",label:"Address2",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"city",label:"City",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"province",label:"Province",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"postalCode",label:"Postal Code",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"phone",label:"Phone",subLabel:"Phone No.",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"startDate",label:"Start Date",subLabel:"Loan Start Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"endDate",label:"End Date",subLabel:"Loan End Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"cancelDate",label:"Cancel Date",subLabel:"Cancellation Date",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"contractNumber",label:"Contract Number",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"product",label:"Product",subLabel:"Benefit Claimed",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!0},{id:this.$nano.id(),name:"loanNumber",label:"Loan No.",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"paymentFrequency",label:"Payment Freq",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"term",label:"Term",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"remitDate",label:"Last Remitted Date",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1},{id:this.$nano.id(),name:"reason",label:"Reason",subLabel:"",type:"NORMAL",editable:!1,valueType:"text",required:!1,main:!1,visible:!1}],claimColumns:[{id:this.$nano.id(),name:"claimsStoreLoanNumber",label:"Claims Store Loan Number",store:"Loan Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimNumber",label:"Claim Number",store:"Claim Number",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantFirstName",label:"Claimant First Name",store:"First Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantLastName",label:"Claimant Last Name",store:"Last Name",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantDOB",label:"Claimant DOB",store:"DOB",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"claimantEmail",label:"Claimant Email",store:"Email",type:"NORMAL",editable:!0,main:!0},{id:this.$nano.id(),name:"claimStatus",label:"Claim Status",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"history",label:"",store:"",type:"NORMAL",editable:!1,main:!0},{id:this.$nano.id(),name:"branchNumber",label:"Branch Number",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimDate",label:"Claim Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"receiveDate",label:"Receive Date",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"recommendation",label:"Recommendation",store:"",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"product",label:"Product",store:"Product",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantCity",label:"Claimant City",store:"City",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"claimantProv",label:"Claimant Prov",store:"Province",type:"NORMAL",editable:!1,main:!1},{id:this.$nano.id(),name:"currentAge",label:"Current Age",store:"Current Age",type:"NORMAL",editable:!1,main:!1}],tableContracts:[],tableContractsData:[],tableClaims:[],tableClaimsData:[],contractExpand:!0,claimExpand:!0,selectedContract:{},selectedClaim:{},search:"",addContractSheet:!1,productModal:!1,products:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],fieldsModel:{},historyColumns:[{id:this.$nano.id(),name:"claimNumber",label:"Claim Number"},{id:this.$nano.id(),name:"status",label:"Status"},{id:this.$nano.id(),name:"date",label:"Date"},{id:this.$nano.id(),name:"note",label:"Note"}],claimHistoryData:[],claimHistoryModal:!1,lenderList:[],totalItems:0,itemsPerPage:500,currentPage:1,contractDataResult:!1,claimDataResult:!1,selectedProcess:{},processSheet:!1,headerTitle:"",tabs:[{id:this.$nano.id(),label:"attachments",value:"ATTACHMENTS",icon:"mdi-attachment",count:0},{id:this.$nano.id(),label:"comments",value:"COMMENTS",icon:"mdi-comment-text-outline",count:0},{id:this.$nano.id(),label:"mail transaction",value:"MAIL",icon:"mdi-email-outline",count:0},{id:this.$nano.id(),label:"history",value:"HISTORY",icon:"mdi-history",count:0}],mailTabs:[{id:this.$nano.id(),label:"outgoing",value:"OUTGOING",count:0},{id:this.$nano.id(),label:"incoming",value:"INCOMING",count:0}],mailTab:"OUTGOING",attachmentSheet:!1,commentsSheet:!1,mailTransactionSheet:!1,commentText:"",commentsList:[],attachmentList:[],mailTransactionList:[],mailAttachmentSheet:!1,mailAttachmentList:[],fileSheet:!1,selectedFile:{},formModel:{},historyProcessId:0,checkList:[],advancedCommentsSheet:!1,advancedCommentText:""}},computed:{isMaximized(){return"100%"===this.formWidth},_logo(){let e=location.origin;return"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?a("651a"):a("bcdf")(`./name-${this.darkTheme?"dark":"light"}.png`)},contractCount(){return`Contracts (${this.tableContracts.length})`},claimCount(){return`Claims (${this.tableClaims.length})`},contractColumnsFilter(){return this.contractColumns.filter(e=>e.main&&e.visible)},contractColumnsInfo(){return this.contractColumns.filter(e=>!e.main&&e.visible)},claimColumnsFilter(){return this.claimColumns.filter(e=>e.main)},claimColumnsInfo(){return this.claimColumns.filter(e=>!e.main)},outgoingMails(){return this.mailTransactionList.filter(e=>"Outgoing"===e.emailType)},incomingMails(){return this.mailTransactionList.filter(e=>"Incoming"===e.emailType)}},watch:{},created(){let e=location.origin;"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e||"https://trial.ezofis.com"===e&&12===this.$store.state.session.tenantId||"http://localhost:8080"===e?this.getLenderMaster(3):this.getLenderMaster(3056)},methods:{toggleWidth(){this.formWidth="100%"===this.formWidth?"720px":"100%"},calculateAge(e){if(!e)return;const t=new Date;if(new Date(e)>t)return"";const a=t-new Date(e),i=Math.floor(a/864e5);return Math.floor(i/365.25)},claimStatus(e){return e.claimStatus.indexOf("Declined")>-1||e.claimStatus.indexOf("Force Close")>-1},isArrayField(e){return["MULTIPLE_CHOICE","FILE_UPLOAD","MULTI_SELECT"].includes(e)},searchRow(e){e?(this.tableContracts=this.tableContractsData.filter(t=>{for(let a in t){let i=this.contractColumns.findIndex(e=>e.name===a);if(i>=0&&t[a]&&String(t[a]).toLowerCase().includes(e.toLowerCase()))return t}}),this.tableClaims=this.tableClaimsData.filter(t=>{for(let a in t){let i=this.claimColumns.findIndex(e=>e.name===a);if(i>=0&&t[a]&&String(t[a]).toLowerCase().includes(e.toLowerCase()))return t}})):(this.tableContracts=this.tableContractsData,this.tableClaims=this.tableClaimsData)},processInitiate(e){let t="",a="",i="";e?this.selectedContract=e:this.selectedContract.product=this.products;let s=[];this.selectedContract.product.length&&this.selectedContract.product.forEach(e=>{if(this.panels.length){if(this.selectedContract.policyNumber){let e=this.selectedContract.policyNumber.split("-");t=isNaN(e[1][2])?e[1].substring(0,3):e[1].substring(0,2)}else this.selectedContract.lender&&(t=this.selectedContract.lender);let s=this.lenderList.filter(e=>e.value===t);s.length&&(a=s[0].email,i=s[0].label),this.fieldsModel={},this.panels.forEach(t=>{if(t.fields.length)for(let s of t.fields)if("Lender Email"===s.label)this.fieldsModel[s.id]=a;else if("Lender Name"===s.label)this.fieldsModel[s.id]=i;else if("Initials1"===s.label){let e="";this.$store.state.session.firstName&&(e+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?e+=this.$store.state.session.lastName[0].toUpperCase():e+=this.$store.state.session.firstName[1],this.fieldsModel[s.id]=e}else{let t=this.contractColumns.find(e=>e.label===s.label||e.subLabel===s.label);t&&("product"===t.name?this.fieldsModel[s.id]=e:this.fieldsModel[s.id]=this.selectedContract[t.name]||"")}})}s.push(this.fieldsModel)}),this.actions.length?this.initiateRequest(s,t,i,this.actions[0]):this.$alert.error("Process Configuration Error")},async initiateRequest(e,t,a,i){let s=[];if(e&&e.length)for(let n of e){let e={workflowId:this.workflow.id,review:"Save"===i?"":i,comments:this.commentsList,formData:{formId:this.formId,fields:n,formUpload:[]},fileIds:[],task:[],hasFormPDF:this.generatePDF,prefix:t,mlPrediction:a};this.$store.commit("showLoadingBarSave");const{error:o,payload:r}=await l["t"].processTransaction(e);if(this.$store.commit("hideLoadingBarSave"),this.saveAction="",this.fieldsModel={},o)return void this.$alert.error(o);s.push(r.requestNo)}s.length&&("Save"!==i?this.$alert.success(s.toString()+" Request Initiated"):this.$alert.success(s.toString()+" Request Initiated and Moved to your inbox")),this.$emit("refresh")},newClaim(e){let t="",a="",i="";this.selectedClaim=this.tableClaims.find(t=>t.id===e),this.panels.length&&this.panels.forEach(e=>{if(!e.fields.length)return;if(this.selectedClaim.claimNumber){let e=this.selectedClaim.claimNumber.split("-");t=isNaN(e[1][2])?e[1].substring(0,3):e[1].substring(0,2)}let s=this.lenderList.filter(e=>e.value===t);s.length&&(a=s[0].email,i=s[0].label);for(let l of e.fields)if("Lender Email"===l.label)this.fieldsModel[l.id]=a;else if("Product"===l.label)this.fieldsModel[l.id]=this.selectedClaim.product.split(",")||"";else if("Lender Name"===l.label)this.fieldsModel[l.id]=i;else if("Initials"===l.label)this.fieldsModel[l.id]=t;else{let e=this.claimColumns.find(e=>e.store===l.label);e&&(this.fieldsModel[l.id]=this.selectedClaim[e.name]||"")}}),this.$emit("update:workflowFormModel",this.fieldsModel),this.$emit("update:requestPrefix",t),this.$emit("update:mlPrediction",i),this.actions.length?this.$emit("update:saveAction",this.actions[0]):this.$alert.error("Process Configuration Error")},async viewClaim(e){this.formModel={},this.selectedProcess={},this.selectedClaim=this.tableClaims.find(t=>t.id===e),this.$store.commit("showLoadingBarSave"),this.workflowProcessList=[];const{error:t,payload:a}=await l["o"].getWorkflowData(this.workflowId,{filterBy:[{groupCondition:"",filters:[{criteria:"requestNo",condition:"IS_EQUALS_TO",value:this.selectedClaim.claimNumber}]}],itemsPerPage:10,currentPage:1,mode:""});if(this.$store.commit("hideLoadingBarSave"),t)this.$alert.error(t);else if(a.data.length){if(a.data[0].value.length){this.selectedProcess=a.data[0].value[0],this.headerTitle=`${this.selectedProcess.requestNo} - ${this.selectedProcess.stage}`;let e=Object.keys(this.selectedProcess.formData.fields),t={};e.forEach(e=>{t[e]=this.validateTypeValue(this.selectedProcess.formData.fields[e])}),this.formModel=t,this.tabs.find(e=>{"COMMENTS"===e.value?e.count=this.selectedProcess.commentsCount:"ATTACHMENTS"===e.value&&(e.count=this.selectedProcess.attachmentCount)});let i=JSON.parse(this.workflow.flowJson);i.blocks.forEach(e=>{e.id===this.selectedProcess.activityId&&e.settings.fileSettings&&e.settings.fileSettings.fileCheckList.length&&(this.checkList=e.settings.fileSettings.fileCheckList,this.checkList.forEach(e=>{e.uid=this.$nano.id(),e.attach=!1}))}),this.getComments(),this.getAttachments(),this.getMailTransactions(),this.processSheet=!0}}else this.$alert.info("No Details Found")},async reopenClaim(e){this.selectedClaim=this.tableClaims.find(t=>t.id===e),this.$store.commit("showLoadingBarSave");const{error:t}=await l["t"].reopenRequest(1,0,{requestNumber:this.selectedClaim.claimNumber});if(this.$store.commit("hideLoadingBarSave"),t)return console.log(t),void this.$alert.info(t);this.$alert.success(this.selectedClaim.claimNumber+" request re-initiated")},async getLenderMaster(e){this.$store.commit("showLoadingBar");const{error:t,payload:a}=await l["g"].getFormEntries(e,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=a;this.lenderList=i[0].value.map(e=>({id:e.itemid,label:e["xPAsoGQlJ_xrm5f3EAeo6"],value:e["aeyluPk9Q8w6NaUs0HO8r"],email:e["XsPSz3d4dF2VSz1Svmymv"]}))},async getProduct(e){if(this.selectedContract=this.tableContracts.find(t=>t.id===e),Object.keys(this.selectedContract).length){let e="";if(this.selectedContract.policyNumber){let t=this.selectedContract.policyNumber.split("-");e=isNaN(t[1][2])?t[1].substring(0,3):t[1].substring(0,2)}else this.selectedContract.lender&&(e=this.selectedContract.lender);if(!e)return void this.$alert.warning("Policy Number Not Found");if(!this.selectedContract.email)return void this.$alert.warning("Required Claimant Email");this.products=[],this.selectedContract.product&&!this.products.includes(this.selectedContract.product)&&this.products.push(this.selectedContract.product),this.productModal=!0}},async claimHistory(e){this.claimHistoryData=[];let t="",a="";if(e.claimNumber){let a=e.claimNumber.split("-");t=isNaN(a[1][2])?a[1].substring(0,3):a[1].substring(0,2)}let i=this.lenderList.filter(e=>e.value===t);i.length&&(a=i[0].label),this.$store.commit("showLoadingBarSave");let s={claimNumber:e.claimNumber,lenderName:a};const{payload:n,error:o}=await l["d"].getClaimHistory(s);this.$store.commit("hideLoadingBarSave"),o?this.$alert.error(o):n.length?(this.claimHistoryData=n.map(e=>({id:e.ClaimStatusID,claimNumber:e.CSClaimNumber,status:e.ClaimStatus,date:this.$day.format(e.CSDate,!1),note:e.CSNote})),this.claimHistoryModal=!0):this.$alert.info("Claim history records not found")},getData(){this.tableContracts=[],this.tableContractsData=[],this.tableClaims=[],this.tableClaimsData=[],this.contractDataResult=!1,this.claimDataResult=!1,this.getContractData(),this.getClaimData()},async getContractData(){if(this.firstName||this.lastName||this.dob||this.province||this.contractNumber||this.refNumber){let e={};this.firstName&&(e["FirstName"]=this.firstName),this.lastName&&(e["LastName"]=this.lastName),this.dob&&(e["DOB"]=this.dob),this.province&&(e["Province"]=this.province),this.contractNumber&&(e["StoreLoanNumber"]=this.contractNumber),this.refNumber;let t="";if(this.lender.length){let e=this.lenderList.filter(e=>e.value===this.lender[0]);e.length&&(t=e[0].label)}this.$store.commit("showLoadingBarSave");let a={hublinkId:1,lenderName:t,payloadMapping:JSON.stringify(e),itemsPerPage:500,currentPage:1};const{payload:i,error:s}=await l["d"].getDataSync(a);if(this.$store.commit("hideLoadingBarSave"),this.contractDataResult=!0,s)return void("Connection Interrupted"===s?this.$alert.warning(s):this.$alert.error(s));const{data:n,meta:o}=i;o.totalItems?n.length&&n[0].value.length&&(this.tableContracts=n[0].value.map(e=>({id:this.$nano.id(),firstName:e.FirstName,lastName:e.LastName,loanNumber:e.LoanNumber,dob:e.DOB?e.DOB.split(" ")[0]:"",policyNumber:e.PolicyNumber,lender:"",email:e.Email||"",currentAge:e.DOB?this.calculateAge(e.DOB.split(" ")[0]):"",address1:e.Address1,address2:e.Address2,city:e.City,province:e.Province,postalCode:e.PostalCode,phone:e.Phone,startDate:e.StartDate?e.StartDate.split(" ")[0]:"",endDate:e.EndDate?e.EndDate.split(" ")[0]:"",cancelDate:e.CancelDate?e.CancelDate.split(" ")[0]:"",contractNumber:e.StoreLoanNumber,product:e.Product,paymentFrequency:e.PmtFrq,term:e.Term,remitDate:e.RemitDate?e.RemitDate.split(" ")[0]:"",reason:e.Comments,infoVisible:!1})),this.tableContractsData=this.tableContracts):this.claimDataResult&&0===this.tableClaimData.length&&this.$alert.info("No result found")}},async getClaimData(){if(this.firstName||this.lastName||this.dob||this.province||this.claimNumber||this.contractNumber){this.$store.commit("showLoadingBarSave");let e={};this.firstName&&(e["ClaimantFirstName"]=this.firstName),this.lastName&&(e["ClaimantLastName"]=this.lastName),this.dob&&(e["ClaimantDOB"]=this.dob),this.province&&(e["ClaimantProv"]=this.province),this.claimNumber&&(e["ClaimNumber"]=this.claimNumber),this.contractNumber&&(e["ClaimsStoreLoanNumber"]=this.contractNumber);let t="";if(this.lender.length){let e=this.lenderList.filter(e=>e.value===this.lender[0]);e.length&&(t=e[0].label)}let a={hublinkId:2,lenderName:t,payloadMapping:JSON.stringify(e),itemsPerPage:500,currentPage:1};const{payload:i,error:s}=await l["d"].getDataSync(a);if(this.$store.commit("hideLoadingBarSave"),this.claimDataResult=!0,s)return void this.$alert.error(s);const{data:n,meta:o}=i;o.totalItems?n.length&&n[0].value.length&&(this.tableClaims=n[0].value.map(e=>({id:this.$nano.id(),claimsStoreLoanNumber:e.ClaimsStoreLoanNumber,claimNumber:e.ClaimNumber,claimantFirstName:e.ClaimantFirstName,claimantLastName:e.ClaimantLastName,claimantDOB:e.ClaimantDOB?e.ClaimantDOB.split(" ")[0]:"",claimantEmail:e.ClaimantEmail,claimStatus:e.ClaimStatus||e.ClaimDecision||"",branchNumber:e.BranchNumber,claimDate:e.ClaimDate?e.ClaimDate.split(" ")[0]:"",receiveDate:e.ReceiveDate?e.ReceiveDate.split(" ")[0]:"",recommendation:e.Recommendation,product:e.Product,claimantCity:e.ClaimantCIty,claimantProv:e.ClaimantProv,currentAge:e.ClaimantDOB?this.calculateAge(e.ClaimantDOB.split(" ")[0]):"",infoVisible:!1})),this.tableClaimsData=this.tableClaims):this.contractDataResult&&0===this.tableContractsData.length&&this.$alert.info("No result found")}},fileType(e){if(e)return e.split(".").reverse()[0].slice(0,4)},fileSize(e){return Object(N["a"])(e)},openFile(e){e.loading?this.$alert.info("Please wait to complete the uploading"):(this.selectedFile=e,window.open(this.fileLink()))},fileLink(){let e=location.origin.replace("http://localhost:8080","http://52.172.32.88");if(this.selectedFile.name){let t=this.selectedFile.name.split(".").pop();if(Object(I["d"])(t)){let t="";return"https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e?`https://ag-appsvc04.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`:"https://trial.ezofis.com"===e?`https://trial.ezofis.com/docsviewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${t}`:"https://app.ezofis.com"===e?`https://ezdocsviewer.azurewebsites.net/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${t}`:`${e}/PDFViewer/web/viewer.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}${t}`}return Object(I["b"])(t)||"http://52.172.32.88"!==e?`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`:`http://52.172.32.88/DocsViewer/index.html?tId=${this.$store.state.session.tenantId}&uId=${this.$store.state.session.id}&rId=${this.selectedFile.repositoryId}&itemId=${this.selectedFile.id}&wId=${this.workflowId}&pId=${this.selectedProcess.processId}&type=2&filename=${this.selectedFile.name}`}},async showLinks(e){"ATTACHMENTS"===e?this.attachmentSheet=!0:"COMMENTS"===e?this.commentsSheet=!0:"HISTORY"===e&&this.selectedProcess.processId?this.historyProcessId=this.selectedProcess.processId:"PRINT"===e?this.selectedProcess.formData?window.open(`https://appuat.ezofis.com/ezofisapi/api/form/generatePdfPrint/${this.$store.state.session.tenantId}/${this.workflowId}/${this.selectedProcess.processId}/${this.formId}/${this.selectedProcess.formData.formEntryId}/1`):this.selectedProcess.itemData&&window.open(`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedProcess.itemData.repositoryId}/${this.selectedProcess.itemData.itemId}/2`):"TASK"===e?this.taskEntries.length?this.taskSheet=!0:this.$emit("addTask"):"VALIDATION"===e?this.$emit("validation",this.selectedProcess.processId):"PAYMENT_TABLE"===e?this.$emit("paymentTable"):"MAIL"===e?(this.getMailTransactions(),this.mailTransactionSheet=!0):"SUB_PROCESS"===e&&(this.subProcessSheet=!0)},lastActionDuration(e){const t=e.transaction_createdAt instanceof Date?e.transaction_createdAt:new Date(e.transaction_createdAt),a=new Intl.RelativeTimeFormat("en"),i={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},s=(t.getTime()-Date.now())/1e3;for(let l in i)if(i[l]<Math.abs(s)){const e=s/i[l];return a.format(Math.round(e),l)}},lastCommentDuration(e){const t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),a=new Intl.RelativeTimeFormat("en"),i={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},s=(t.getTime()-Date.now())/1e3;for(let l in i)if(i[l]<Math.abs(s)){const e=s/i[l];return a.format(Math.round(e),l)}},validateTypeValue(e){if(e)try{var t=JSON.parse(e);if("object"===typeof t)return t}catch(a){return e}return e},attachmentFilterCheckList(e){return this.attachmentList.filter(t=>t.name.substring(0,t.name.lastIndexOf("."))===e||t.name.substring(0,t.name.lastIndexOf(".")).split("_")[0]===e)},isCheckList(e){let t=this.checkList.filter(t=>t.name===e.substring(0,e.lastIndexOf("."))||t.name===e.substring(0,e.lastIndexOf(".")).split("_")[0]);return!t.length},showMailAttachments(e){this.mailAttachmentList=[];let t=e.attachmentJson.split(",");t.forEach(t=>{let a=t.split("\\").pop();this.mailAttachmentList.push({id:this.$nano.id(),mailId:e.id,name:a,createdAt:e.createdAt})}),this.mailAttachmentSheet=!0},openAttachmentFile(e){let t=`https://appuat.ezofis.com/ezofisapi/api/client/viewAttachment/${this.$store.state.session.tenantId}/${e.mailId}/${e.name}`;window.open(t,"_blank")},fileMenuAction(e,t){this.selectedFile=e,this.documentAction(t,!0)},documentAction(e,t){if("Email_Sharing"===e);else if("Print"===e){if(this.selectedFile.name)if(t){let e="";if(this.selectedFile.initiate){let t=1;"STATIC"===this.repositoryDetails.fieldsType&&"FORM"===this.workflow.initiatedBy&&(t=2),e=`https://appuat.ezofis.com/ezofisapi/api/uploadandindex/view/${this.$store.state.session.tenantId}/${this.selectedFile.id}/${t}/1`}else e=`https://appuat.ezofis.com/ezofisapi/api/file/view/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`;window.open(e,"_blank")}else{let e=this.selectedFile.name.split(".").pop();Object(I["d"])(e)?(localStorage.setItem("filePrint",!0),localStorage.setItem("filePrintId",this.selectedFile.id)):this.$refs.myAttachmentFiles.contentWindow.print()}this.filePrintSession()}else if("Download"===e){let e="";e=`https://appuat.ezofis.com/ezofisapi/api/menu/file/download/${this.$store.state.session.tenantId}/${this.$store.state.session.id}/${this.selectedFile.repositoryId}/${this.selectedFile.id}/2`,window.open(e,"_blank")}},async filePrintSession(){const{error:e}=await l["k"].filePrintSession({repositoryId:this.selectedFile.repositoryId,itemId:this.selectedFile.id,activityId:4});e&&this.$alert.error(e)},async getMailTransactions(){this.mailTransactionList=[],this.tabs.find(e=>{"MAIL"===e.value&&(e.count=0)});let e={filterBy:[]};const{error:t,payload:a}=await l["t"].getMailTransactions(this.workflowId,this.selectedProcess.processId,e);t?this.$alert.error(t):a.length&&(this.mailTransactionList=a,this.tabs.find(e=>{"MAIL"===e.value&&(e.count=this.mailTransactionList.length)}))},async getComments(e=0,t=0){this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=0)}),this.commentsList=[],e||t||(e=this.workflowId,t=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:a,payload:i}=await l["t"].getProcessComments(e,t);this.$store.commit("hideLoadingBar"),a?this.$alert.error(a):i.length&&(this.commentsList=i,this.tabs.find(e=>{"COMMENTS"===e.value&&(e.count=this.commentsList.length)}))},async getAttachments(e=0,t=0){this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=0)});let a=this.attachmentList.length;e||t||(e=this.workflowId,t=this.selectedProcess.processId),this.$store.commit("showLoadingBar");const{error:i,payload:s}=await l["t"].getAttachments(e,t);if(this.$store.commit("hideLoadingBar"),i)this.$alert.error(i);else if(s.length?(a!==s.length&&(this.attachmentList=s.map(e=>({...e,checked:!1}))),this.tabs.find(e=>{"ATTACHMENTS"===e.value&&(e.count=this.attachmentList.length)})):this.attachmentList=[],this.checkList.length){this.checkList.forEach(e=>{let t=this.attachmentList.filter(t=>{let a=t.name.substr(0,t.name.lastIndexOf("."));if(e.name===a||e.name===a.split("_")[0])return t});t.length?e.attach=!0:e.attach=!1});let e=location.origin;("https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e||"http://localhost:8080"===e||"https://trial.ezofis.com"===e&&12===this.$store.state.session.tenantId)&&(this.formCheckList=!0)}},async saveComment(){if(this.commentText&&this.selectedProcess.processId){const{error:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.commentText,showTo:2});if(e)return void this.$alert.error(e);this.commentText="",this.getComments()}},async saveAdvancedComment(){if(this.advancedCommentText){if(this.selectedProcess.processId){const{error:e}=await l["t"].insertProcessComment(this.workflow.id,this.selectedProcess.processId,this.selectedProcess.transactionId,{comments:this.advancedCommentText,showTo:2});if(e)return void this.$alert.error(e)}this.advancedCommentText="",this.advancedCommentsSheet=!1,this.getComments()}},async updateClaimDetails(){let e={};e={workflowId:this.workflow.id,transactionId:this.selectedProcess.transactionId,review:"",formData:{formId:this.formId,formEntryId:this.selectedProcess.formData.formEntryId,fields:this.formModel}};const{error:t}=await l["t"].processTransaction(e);t?this.$alert.error(t):(this.$alert.success("Claim details are updated"),this.processSheet=!1)}}},_=A,M=(a("ccc5"),a("2c91")),x=a("b047"),F=a("cb32"),B=a("8169"),V=a("93dc"),q=a.n(V),O=Object(C["a"])(_,i,s,!1,null,"1b34e972",null);t["default"]=O.exports;q()(O,"components",{QSpace:M["a"],QChip:x["a"],QAvatar:F["a"],QChatMessage:B["a"]})},b2ec:function(e,t,a){},b811:function(e,t,a){},b94d:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{style:{color:e._color},attrs:{id:"tabs"}},[e._l(e.tabs,(function(a){return t("Tab",{key:a.id,ref:"tab",refInFor:!0,attrs:{label:a.label,color:e.color,"is-full-width":e.isFullWidth,"is-active":a.value===e.value},on:{click:function(t){return e.handleClick(a)}}})})),t("div",{ref:"indicator",staticClass:"indicator"})],2)},s=[],l=a("8b55"),n={name:"Tabs",components:{Tab:l["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const e=this.tabs.findIndex(e=>e.value===this.value),t=this.$refs.tab[e],a=t.$el.offsetLeft;this.$refs.indicator.style.left=a+"px";const i=t.$el.clientWidth;this.$refs.indicator.style.width=i+"px"},handleClick(e){e.value!==this.value&&this.$emit("input",e.value)}}},o=n,r=(a("40f9"),a("2877")),d=Object(r["a"])(o,i,s,!1,null,"48eb7e5e",null);t["a"]=d.exports},b963:function(e,t,a){},bcdf:function(e,t,a){var i={"./name-dark.png":"cd22","./name-light.png":"00c2"};function s(e){var t=l(e);return a(t)}function l(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="bcdf"},be3f:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"search",expression:"'search'",modifiers:{top:!0}}],staticClass:"is-expanded",attrs:{id:"expandable-search"},on:{click:e.toggle}},[t("BaseIcon",{staticClass:"icon",attrs:{name:"eva-search"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"expandableSearch",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchQuery},on:{keyup:function(t){return e.$emit("search",e.searchQuery)},blur:e.handleBlur,input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}})],1)},s=[],l={name:"ExpandableSearch",data(){return{isExpanded:!1,searchQuery:""}},methods:{toggle(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs.expandableSearch.focus()},handleBlur(){this.isExpanded=!1}}},n=l,o=(a("fdd5"),a("2877")),r=Object(o["a"])(n,i,s,!1,null,"29b72610",null);t["a"]=r.exports},c52a:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{style:{width:e.formWidth},attrs:{id:"custom-process-form-view"}},[t("BaseScrollbar",{attrs:{height:"calc(100vh - 130px)"}},[t("div",{staticClass:"content"},[t("div",{staticClass:"row"},[t("div",{staticClass:"q-pr-sm row",class:e.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12",style:e.inbox?"":"height:10px;"},[t("div",{staticClass:"col-12 header",class:e.inbox?"":"q-mb-sm"},[e._v(" Customer Information ")]),t("table",{staticClass:"col-12 q-mb-sm"},[t("tbody",[t("tr",[t("td",[e._v("Claimant Info")]),t("td",[t("SelectField",{staticClass:"custom-controls",attrs:{value:e.getModel("Claimant Info"),options:e.claimantInfoList,"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Claimant Info")},onBlur:function(t){return e.autoSave("Claimant Info")}}})],1),t("td",[e._v("First Name")]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("First Name"),highlight:e.checkHighlight("First Name"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"First Name")},onBlur:function(t){return e.autoSave("First Name")}}})],1),t("td",[e._v("Last Name")]),t("td",{attrs:{colspan:"2"}},[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Last Name"),highlight:e.checkHighlight("Last Name"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Last Name")},onBlur:function(t){return e.autoSave("Last Name")}}})],1)]),t("tr",[t("td",[e._v("DOB")]),t("td",[t("DateField",{staticClass:"custom-controls",attrs:{value:e.getModel("DOB"),highlight:e.checkHighlight("DOB"),"is-readonly":e.isReadonly||!e.fieldVerification,"maximum-validation":!0},on:{input:function(t){return e.updateModel(t,"DOB")},onBlur:function(t){return e.autoSave("DOB")}}})],1),t("td",[e._v("Current Age")]),t("td",[t("NumberField",{staticClass:"custom-controls",attrs:{value:e.getModel("Current Age"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Current Age")},onBlur:function(t){return e.autoSave("Current Age")}}})],1),t("td",[e._v("Age at DOC")]),t("td",[t("NumberField",{staticClass:"custom-controls",attrs:{value:e.getModel("Age at Doc"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Age at Doc")},onBlur:function(t){return e.autoSave("Age at Doc")}}})],1)]),t("tr",[t("td",[e._v("Address")]),t("td",{attrs:{colspan:"5"}},[t("TextAreaField",{attrs:{value:e.getModel("Address"),highlight:e.checkHighlight("Address"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Address")},onBlur:function(t){return e.autoSave("Address")}}})],1)]),t("tr",[t("td",[e._v("City")]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("City"),highlight:e.checkHighlight("City"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"City")},onBlur:function(t){return e.autoSave("City")}}})],1),t("td",[e._v("Province")]),t("td",[t("SelectField",{staticClass:"custom-controls",attrs:{value:e.getModel("Province"),options:e.provinceList,highlight:e.checkHighlight("Province"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Province")},onBlur:function(t){return e.autoSave("Province")}}})],1),t("td",[e._v("Postal Code")]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Postal Code"),highlight:e.checkHighlight("Postal Code"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Postal Code")},onBlur:function(t){return e.autoSave("Postal Code")}}})],1)]),t("tr",[t("td",[e._v("Phone No.")]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Phone No."),highlight:e.checkHighlight("Phone No."),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Phone No.")},onBlur:function(t){return e.autoSave("Phone No.")}}})],1),t("td",[e._v("Email ID")]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Email ID"),highlight:e.checkHighlight("Email ID"),"is-readonly":e.isReadonly||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Email ID")},onBlur:function(t){return e.autoSave("Email ID")}}})],1),t("td",[e._v("Name of Deceased")]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Name of Deceased"),"is-readonly":e.isReadonly||!e.isNameOfDeceasedEditable||!e.fieldVerification},on:{input:function(t){return e.updateModel(t,"Name of Deceased")},onBlur:function(t){return e.autoSave("Name of Deceased")}}})],1)])])]),"001f5CdkTDtjCDn3logTT"!==e.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==e.selectedProcess.activityId&&!e.isReadonly&&e.inbox?t("div",{staticClass:"col-12"},[e.isReadonly?e.fieldVerification?e._e():[t("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}})]:[e.fieldVerification?[t("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:e.confirmCustomerInfo}})]:[t("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),t("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:e.unConfirmCustomerInfo}})]]],2):e._e(),t("div",{staticClass:"header col-12",class:e.inbox?"":"q-mb-sm"},[e._v(" Loan Information ")]),t("table",{staticClass:"col-12 q-mb-sm loan-info"},[t("tbody",[t("tr",[t("td",[e._v("Group Policy")]),t("td",[e._v(e._s(e.getModel("Group Policy")||"-"))]),t("td",[e._v("Payment Frequency")]),t("td",[e._v(e._s(e.getModel("Payment Frequency")||"-"))])]),t("tr",[t("td",[e._v("Loan No.")]),t("td",[e._v(e._s(e.getModel("Loan No.")||"-"))]),t("td",[e._v("No. of Loan Payments")]),t("td",[e._v(" "+e._s(e.getModel("No. of Loan Payments")||"-")+" ")])]),t("tr",[t("td",[e._v("Loan Start Date")]),t("td",[e._v(e._s(e.getModel("Loan Start Date")||"-"))]),t("td",[e._v("Last Remitted Date")]),t("td",[e._v(e._s(e.getModel("Last Remitted Date")||"-"))])]),t("tr",[t("td",[e._v("Term")]),t("td",[e._v(e._s(e.getModel("Term")||"-"))]),t("td",[e._v("Cancellation Date")]),t("td",[e._v(e._s(e.getModel("Cancellation Date")||"-"))])]),t("tr",[t("td",[e._v("Loan End Date")]),t("td",[e._v(e._s(e.getModel("Loan End Date")||"-"))]),t("td",[e._v("Cancel Reason")]),t("td",[e._v(e._s(e.getModel("Cancel Reason")||"-"))])])])]),"001f5CdkTDtjCDn3logTT"!==e.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==e.selectedProcess.activityId&&!e.isReadonly&&e.inbox?t("div",{staticClass:"col-12"},[e.loanInfoVerify?e.loanInfoVerify?[t("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirmed",color:"green"}}),t("BaseButton",{staticClass:"custom-button q-mr-sm",staticStyle:{float:"right"},attrs:{label:"Edit",color:"orange"},on:{click:e.unConfirmLoanInfo}})]:e._e():[t("BaseButton",{staticClass:"custom-button",staticStyle:{float:"right"},attrs:{label:"Confirm",color:"orange"},on:{click:e.confirmLoanInfo}})]],2):e._e()]),t("div",{staticClass:"row",class:e.$q.screen.width>1200?"col-lg-6 col-md-6 col-sm-12":"col-lg-6 col-md-12 col-sm-12"},[t("div",{staticClass:"col-12 header q-mb-sm"},[e._v("Claim Information")]),t("div",{staticClass:"col-12 full-border q-pa-sm"},[t("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[t("thead",[t("tr",[t("th",[e._v("Claim No.")]),t("th",[e._v("Reference No.")]),t("th",[e._v("Claim Date")]),t("th",[e._v("Claim Package Sent")])])]),t("tbody",[t("tr",[t("td",[e._v(e._s(e.getModel("Claim No.")||"-"))]),t("td",[e._v(e._s(e.getModel("Reference No.")||"-"))]),t("td",[t("DateField",{staticClass:"custom-controls",attrs:{value:e.getModel("Claim Date"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Claim Date")},onBlur:function(t){return e.autoSave("Claim Date")}}})],1),t("td",[e._v(e._s(e.getModel("Claim Package Sent")||"-"))])])])]),t("table",{staticClass:"claim-info q-mb-sm table-content single-border"},[t("thead",[t("tr",[t("th",[e._v("Claim Received Date")]),t("th",[e._v("Processing Date")]),t("th",[e._v("Initials")]),t("th",[e._v("Language")])])]),t("tbody",[t("tr",[t("td",[e._v(e._s(e.getModel("Claim Received Date")||"-"))]),t("td",[e._v(e._s(e.getModel("Processing Date")||"-"))]),t("td",[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Initials"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Initials")},onBlur:function(t){return e.autoSave("Initials")}}})],1),t("td",[t("SelectField",{staticClass:"custom-controls",attrs:{value:e.getModel("Language"),options:e.languageList,"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Language")},onBlur:function(t){return e.autoSave("Language")}}})],1)])])]),t("table",{staticClass:"claim-info single-border"},[t("tbody",[t("tr",[t("td",[e._v("Benefit Claimed")]),t("td",{staticClass:"medium"},[t("SelectField",{staticClass:"custom-controls",attrs:{value:e.getModel("Benefit Claimed"),options:e._productList,"is-readonly":e.isReadonly||e.claimInfoVerify||!e.isChangeBenefitClaimed},on:{input:function(t){return e.updateModel(t,"Benefit Claimed")},onBlur:function(t){return e.autoSave("Benefit Claimed")}}})],1),t("td",[e._v("Loan Payment Amount")]),t("td",{staticClass:"medium"},[t("NumberField",{staticClass:"custom-controls",attrs:{value:e.getModel("Loan Payment Amount"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Loan Payment Amount")},onBlur:function(t){return e.autoSave("Loan Payment Amount")}}})],1)]),t("tr",[t("td",[e._v("Reason/Cause")]),t("td",{staticClass:"medium"},[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Reason/Cause"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Reason/Cause")},onBlur:function(t){return e.autoSave("Reason/Cause")}}})],1),t("td",[e._v("LPP Premium Amount")]),t("td",{staticClass:"medium"},[t("NumberField",{staticClass:"custom-controls",attrs:{value:e.getModel("LPP Premium Amount"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"LPP Premium Amount")},onBlur:function(t){return e.autoSave("LPP Premium Amount")}}})],1)]),t("tr",[t("td",[e._v("Claim Decision")]),t("td",{staticClass:"medium"},[t("TextField",{staticClass:"custom-controls",attrs:{value:e.getModel("Claim Decision"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Claim Decision")},onBlur:function(t){return e.autoSave("Claim Decision")}}})],1),t("td",[e._v("Principal Balance at DOC")]),t("td",{staticClass:"medium"},[t("NumberField",{staticClass:"custom-controls",attrs:{value:e.getModel("Principal Balance At Doc"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"Principal Balance At Doc")},onBlur:function(t){return e.autoSave("Principal Balance At Doc")}}})],1)]),t("tr",[t("td",[e._v("Decline Reason")]),t("td",{staticClass:"medium"},[t("SelectField",{staticClass:"custom-controls",attrs:{value:e.getModel("Decline Reason"),options:e.declineReasonList,"is-readonly":!0},on:{input:function(t){return e.updateModel(t,"Decline Reason")},onBlur:function(t){return e.autoSave("Decline Reason")}}})],1),t("td",[e._v("LumpSum Principal Balance")]),t("td",{staticClass:"medium"},[t("NumberField",{staticClass:"custom-controls",attrs:{value:e.getModel("LumpSum Principal Balance"),"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){return e.updateModel(t,"LumpSum Principal Balance")},onBlur:function(t){return e.autoSave("LumpSum Principal Balance")}}})],1)]),t("tr",[t("td",{attrs:{colspan:"3"}},[t("MultipleChoiceField",{staticClass:"custom-controls no-border",attrs:{value:e.getModel("Authorization"),options:e.authorizationTypes,"options-per-line":3,"is-readonly":e.isReadonly||e.claimInfoVerify},on:{input:function(t){e.updateModel(t,"Authorization"),e.autoSave("Authorization")}}})],1),t("td",["001f5CdkTDtjCDn3logTT"!==e.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==e.selectedProcess.activityId&&!e.isReadonly&&e.inbox?[e.claimInfoVerify?e.claimInfoVerify?[t("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirmed",color:"green"}}),t("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto","margin-top":"10px"},attrs:{label:"Edit",color:"orange"},on:{click:e.unConfirmClaimInfo}})]:e._e():[t("BaseButton",{staticClass:"custom-button",staticStyle:{margin:"auto"},attrs:{label:"Confirm",color:"orange"},on:{click:e.confirmClaimInfo}})]]:e._e()],2)])])])]),t("div",{staticClass:"col-12 q-mt-sm full-border q-pa-sm"},[t("div",{staticClass:"col header"},[e._v("Required Documents")]),t("MultipleChoiceField",{staticClass:"custom-controls q-mt-sm",attrs:{value:e.getModel("Required Documents"),options:e._documentCheckList,"options-per-line":3,"is-readonly":e.isReadonly},on:{input:function(t){e.updateModel(t,"Required Documents"),e.autoSave("Required Documents")}}})],1)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col q-mt-sm"},[t("div",{staticClass:"q-pl-sm q-mb-sm"},[t("Tabs",{attrs:{tabs:e.tabs},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}})],1),"Claim Status"===e.tab?[e.claimStatusTotalItems?t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":e.claimStatusTotalItems,"current-page":e.claimStatusCurrentPage,"items-per-page":e.claimStatusItemsPerPage},on:{"update:currentPage":function(t){e.claimStatusCurrentPage=t},"update:current-page":function(t){e.claimStatusCurrentPage=t},"update:itemsPerPage":function(t){e.claimStatusItemsPerPage=t},"update:items-per-page":function(t){e.claimStatusItemsPerPage=t},loadAll:e.loadAllClaimStatus}})],1),t("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[t("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:e.claimStatusSearchRow}})],1)]):e._e(),t("BaseScrollbar",{attrs:{height:"330px"}},[t("table",{staticClass:"tab-table table-content q-mt-sm",class:e.claimStatusTotalItems?"":"empty"},[t("thead",[t("tr",[e.inbox?t("th",{staticClass:"actions"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:e.addClaimStatus}})],1):e._e(),e._l(e.claimStatusColumns,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])}))],2)]),t("tbody",e._l(e.claimStatusValues,(function(a,i){return t("tr",{key:"claimstatusrow"+i},[e.inbox?t("td",{staticClass:"actions"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"edit",expression:"'edit'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"secondary",icon:"mdi-square-edit-outline",size:"16px","is-flat":"","no-border":""},on:{click:function(t){return e.editClaimStatus(a)}}})],1):e._e(),e._l(e.claimStatusColumns,(function(i){return t("td",{key:i.id},[e._v(" "+e._s(a[i.name])+" ")])}))],2)})),0)])])]:"Daily Data Summary"===e.tab?[e.dailyDataStatusTotalItems?t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":e.dailyDataStatusTotalItems,"current-page":e.dailyDataStatusCurrentPage,"items-per-page":e.dailyDataStatusItemsPerPage},on:{"update:currentPage":function(t){e.dailyDataStatusCurrentPage=t},"update:current-page":function(t){e.dailyDataStatusCurrentPage=t},"update:itemsPerPage":function(t){e.dailyDataStatusItemsPerPage=t},"update:items-per-page":function(t){e.dailyDataStatusItemsPerPage=t},loadAll:e.loadAllDailyDataStatus}})],1),t("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[t("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:e.dailyDataStatusSearchRow}})],1)]):e._e(),t("BaseScrollbar",{attrs:{height:"330px"}},[t("table",{staticClass:"tab-table q-mt-sm",class:e.dailyDataStatusTotalItems?"":"empty"},[t("thead",[t("tr",e._l(e.dailyDataStatusColumns,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),0)]),t("tbody",e._l(e.dailyDataStatusValues,(function(a,i){return t("tr",{key:"dailydatarow"+i},e._l(e.dailyDataStatusColumns,(function(i){return t("td",{key:i.id},[e._v(" "+e._s(a[i.name])+" ")])})),0)})),0)])])]:"Benefit Payment"===e.tab?[t("div",{attrs:{id:"paymentTable"}},[e.inbox?[e.hasLifeType||e.hasCIClaimsType?e._e():t("div",{staticClass:"row controls"},[t("div",{staticClass:"col"},["psyCrYXtKfcs-EJmrYIhv"===e.selectedProcess.activityId||"psyCrYXtKfcs-EJmrYIhv"===e.selectedProcess.activityId&&!e.isPaymentFound?[t("ValidationObserver",{ref:"form",staticClass:"row"},[t("div",{staticClass:"col-auto"},[t("ValidationProvider",{staticClass:"col",attrs:{name:"Total Payment",rules:e.paymentValidationRules},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("NumberField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Total Payment","is-mandatory":"",error:a[0]},on:{input:e.updateLoanPaymentAmount},model:{value:e.totalPayment,callback:function(t){e.totalPayment=t},expression:"totalPayment"}})]}}],null,!1,452974274)})],1),e._e(),t("div",{staticClass:"col-auto"},[t("ValidationProvider",{staticClass:"col",attrs:{name:"Payment Frequency",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("SelectField",{staticClass:"q-pa-sm custom-controls",attrs:{label:"Payment Frequency","is-mandatory":"",options:e.benefitTypes,"is-clearable":!1,error:a[0]},model:{value:e.benefitType,callback:function(t){e.benefitType=t},expression:"benefitType"}})]}}],null,!1,4170057051)})],1),t("div",{staticClass:"col-auto"},[t("BaseButton",{staticClass:"payment-action custom-button q-ml-sm",attrs:{label:"Calculate"},on:{click:e.paymentCalculation}})],1)])]:e._e()],2),t("div",{staticClass:"col-auto"},[t("div",{staticClass:"row"},["90xxPehjko0dNYRjbX5wm"===e.selectedProcess.activityId&&e.isPaymentFound&&e.hasOtherClaimsType?t("div",{staticClass:"col-auto"},[t("BaseButton",{staticClass:"payment-action q-mr-sm custom-button",attrs:{label:"Add Lumpsum Payment",color:"primary"},on:{click:e.addLumpsumRow}})],1):e._e(),"001f5CdkTDtjCDn3logTT"!==e.selectedProcess.activityId&&"szS6B-q1x9acpB83rP6jT"!==e.selectedProcess.activityId?[t("div",{staticClass:"col-auto"},[t("FormFieldLabel",{staticClass:"payment-action",attrs:{label:"Number of payments to approve"}})],1),t("div",{staticClass:"col-auto"},[t("ValidationProvider",{staticClass:"col",attrs:{name:"Number of payments",rules:{min_value:0,max_value:e.paymentTableValues.length}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("NumberField",{staticClass:"payment-action q-ml-sm custom-controls",attrs:{"is-clearable":!1,"is-readonly":!e.paymentTableValues.length,error:a[0]},model:{value:e.numberOfApprovePayment,callback:function(t){e.numberOfApprovePayment=t},expression:"numberOfApprovePayment"}})]}}],null,!1,2997542867)})],1),t("div",{staticClass:"col-auto"},[t("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Payment Approve",color:"secondary",disabled:!e.paymentTableValues.length},on:{click:e.paymentApprove}})],1),t("div",{staticClass:"col-auto"},[t("BaseButton",{staticClass:"payment-action q-ml-sm custom-button",attrs:{label:"Clear",color:"red",disabled:!e.paymentTableValues.length},on:{click:e.clearPaymentApprove}})],1)]:e._e()],2)])])]:e._e(),t("div",{staticClass:"col"},[t("BaseScrollbar",[t("table",{staticClass:"tab-table table-content q-mb-sm",class:0===e.paymentTableValues.length?"empty":""},[t("thead",[t("tr",[e._l(e.paymentTableColumns,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),e.inbox&&"90xxPehjko0dNYRjbX5wm"===e.selectedProcess.activityId&&e.isPaymentFound&&!e.hasLifeType&&!e.hasCIClaimsType?t("th",{staticClass:"actions"},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"add row",expression:"'add row'",arg:"top"}],staticClass:"q-ml-xs small",attrs:{color:"primary",icon:"eva-plus","no-border":"",size:"16px"},on:{click:e.addPaymentRow}})],1):e._e()],2)]),t("tbody",e._l(e.paymentTableValues,(function(a,i){return t("tr",{key:"paymentrow"+i},[e.inbox?[a["edit"]?e._l(e.paymentTableColumns,(function(s){return t("td",{key:s.id},["SINGLE_SELECT"===s.type?[t("SelectField",{attrs:{options:e.approvalTypes,"is-readonly":e.checkApprovalEdit(a)},on:{input:function(t){return e.updateApprovalDate(i)}},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"DATE"===s.type?[t("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"NUMBER"===s.type?[t("NumberField",{attrs:{placeholder:"0.00"},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"SHORT_TEXT"===s.type?[t("TextField",{attrs:{"is-readonly":e.checkApprovalEdit(a)},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"CHECKBOX"===s.type?[t("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":e.checkApprovalEdit(a)},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:[e._t(s.name,(function(){return[e._v(" "+e._s(a[s.name])+" ")]}),{value:a[s.name],item:a})]],2)})):[e._l(e.paymentTableColumns,(function(s){return t("td",{key:s.id},["90xxPehjko0dNYRjbX5wm"===e.selectedProcess.activityId&&e.isPaymentFound&&""!==a[s.name]&&!a["delete"]?["approval"===s.name?["Approved"===a[s.name]?[t("span",{staticClass:"text-green",attrs:{name:s.name,value:a[s.name],item:a}},[e._v(" "+e._s(a[s.name])+" ")])]:[t("span",{staticClass:"text-red",attrs:{name:s.name,value:a[s.name],item:a}},[e._v(" "+e._s(a[s.name])+" ")])]]:"paymentDate"===s.name?[t("DateField",{attrs:{"minimum-validation":!0},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"CHECKBOX"===s.type?[t("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":e.checkApprovalEdit(a)},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:[e._t(s.name,(function(){return[e._v(" "+e._s(a[s.name])+" ")]}),{value:a[s.name],item:a})]]:["SINGLE_SELECT"===s.type?[t("SelectField",{attrs:{options:e.approvalTypes,"is-readonly":e.checkApprovalEdit(a)},on:{input:function(t){return e.updateApprovalDate(i)}},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"DATE"===s.type?[t("DateField",{attrs:{"minimum-validation":!0,"is-readonly":!0},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"baseAmount"===s.name&&a["delete"]?[t("NumberField",{attrs:{placeholder:"0.00",min:0,max:2e3},on:{input:function(t){return e.calcOtherColumns(i)}},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"SHORT_TEXT"===s.type?[t("TextField",{attrs:{"is-readonly":e.checkApprovalEdit(a)},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:"CHECKBOX"===s.type?[t("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":e.checkApprovalEdit(a)},model:{value:a[s.name],callback:function(t){e.$set(a,s.name,t)},expression:"item[column.name]"}})]:[e._t(s.name,(function(){return[e._v(" "+e._s(a[s.name])+" ")]}),{value:a[s.name],item:a})]]],2)})),e.inbox&&"90xxPehjko0dNYRjbX5wm"===e.selectedProcess.activityId&&e.isPaymentFound?t("td",{staticClass:"actions"},[a["delete"]?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"delete row",expression:"'delete row'"}],staticClass:"q-ml-xs small",attrs:{"is-flat":"",color:"red",icon:"eva-trash-outline","no-border":"",size:"16px"},on:{click:function(t){return e.removePaymentRow(i)}}}):e._e()],1):e._e()]]:e._l(e.paymentTableColumns,(function(i){return t("td",{key:i.id},["approval"===i.name?["Approved"===a[i.name]?[t("span",{staticClass:"text-green",attrs:{name:i.name,value:a[i.name],item:a}},[e._v(" "+e._s(a[i.name])+" ")])]:[t("span",{staticClass:"text-red",attrs:{name:i.name,value:a[i.name],item:a}},[e._v(" "+e._s(a[i.name])+" ")])]]:"paymentDate"===i.name?[t("DateField",{attrs:{"minimum-validation":!0,"is-readonly":""},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]:"CHECKBOX"===i.type?[t("CheckboxField",{staticClass:"custom-controls",attrs:{"is-disabled":!0},model:{value:a[i.name],callback:function(t){e.$set(a,i.name,t)},expression:"item[column.name]"}})]:[e._t(i.name,(function(){return[e._v(" "+e._s(a[i.name])+" ")]}),{value:a[i.name],item:a})]],2)}))],2)})),0)]),e.inbox&&e.paymentTableValues.length?t("BaseButton",{staticStyle:{float:"right"},attrs:{label:"Update Payments",color:"primary"},on:{click:e.updatePaymentTable}}):e._e()],1)],1)],2)]:"Payments"===e.tab?[e.paymentHistoryTotalItems?t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("Pagination",{staticClass:"custom-form-table",attrs:{"total-items":e.paymentHistoryTotalItems,"current-page":e.paymentHistoryCurrentPage,"items-per-page":e.paymentHistoryItemsPerPage},on:{"update:currentPage":function(t){e.paymentHistoryCurrentPage=t},"update:current-page":function(t){e.paymentHistoryCurrentPage=t},"update:itemsPerPage":function(t){e.paymentHistoryItemsPerPage=t},"update:items-per-page":function(t){e.paymentHistoryItemsPerPage=t},loadAll:e.loadAllPaymentHistory}})],1),t("div",{staticClass:"col-auto q-mt-xs q-ml-sm"},[t("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:e.paymentHistorySearchRow}})],1)]):e._e(),t("BaseScrollbar",{attrs:{height:"330px"}},[t("table",{staticClass:"tab-table q-mt-sm",class:e.paymentHistoryTotalItems?"":"empty"},[t("thead",[t("tr",e._l(e.paymentHistoryColumns,(function(a){return t("th",{key:a.id},[e._v(" "+e._s(a.label)+" ")])})),0)]),t("tbody",e._l(e.paymentHistoryValues,(function(a,i){return t("tr",{key:"paymenthistoryrow"+i},e._l(e.paymentHistoryColumns,(function(i){return t("td",{key:i.id},[e._v(" "+e._s(a[i.name])+" ")])})),0)})),0)])])]:e._e()],2)])])]),t("Modal",{attrs:{width:"30vw",height:"40vh","has-footer":""},on:{input:function(t){e.declineReasonModal=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Recommend to Decline")]},proxy:!0},{key:"default",fn:function(){return[t("ValidationObserver",{ref:"declineModal"},[t("div",[t("ValidationProvider",{staticClass:"col",attrs:{name:"Decline Reason",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("SelectField",{staticClass:"field",attrs:{label:"Decline Reason","is-mandatory":"",options:e.declineReasonList,error:a[0]},model:{value:e.declineReason,callback:function(t){e.declineReason=t},expression:"declineReason"}})]}}])})],1)])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(t){e.declineReasonModal=!1}}}),t("BaseButton",{attrs:{label:"Recommend to Decline",color:"primary"},on:{click:e.updateDeclineReason}})]},proxy:!0}]),model:{value:e.declineReasonModal,callback:function(t){e.declineReasonModal=t},expression:"declineReasonModal"}}),t("Modal",{attrs:{width:"60vw",height:"70vh","has-footer":""},on:{input:function(t){e.claimStatusModal=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v('"'+e._s(e.selectedProcess.requestNo)+'" Claim Status Entry')]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"claim-status",attrs:{id:"content-wrapper"}},[t("ValidationObserver",{ref:"claimStatusModal"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("ValidationProvider",{staticClass:"col",attrs:{name:"Claim Status",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("SelectField",{staticClass:"field",attrs:{label:"Claim Status","is-mandatory":"",options:e.claimStatusList,error:a[0]},model:{value:e.claimStatus,callback:function(t){e.claimStatus=t},expression:"claimStatus"}})]}}])})],1),t("div",{staticClass:"col-4"},[t("SelectField",{staticClass:"field",attrs:{label:"Note",options:e.csNoteList,"new-option":"","is-readonly":""},model:{value:e.csNote,callback:function(t){e.csNote=t},expression:"csNote"}})],1),t("div",{staticClass:"col-4"},[t("SelectField",{staticClass:"field",attrs:{label:"Claim Letter Sent",options:e.claimLetterSentList,"new-option":"","is-readonly":""},model:{value:e.claimLetterSent,callback:function(t){e.claimLetterSent=t},expression:"claimLetterSent"}})],1),t("div",{staticClass:"col-4"},[t("SelectField",{staticClass:"field",attrs:{label:"Mailing Type",options:e.mailingTypeList},model:{value:e.mailingType,callback:function(t){e.mailingType=t},expression:"mailingType"}})],1),t("div",{staticClass:"col-4"},[t("SelectField",{staticClass:"field",attrs:{label:"Lender Letter",options:e.lenderLetterList,"new-option":"","is-readonly":""},model:{value:e.lenderLetter,callback:function(t){e.lenderLetter=t},expression:"lenderLetter"}})],1),t("div",{staticClass:"col-4",staticStyle:{margin:"auto"}},[t("CheckboxField",{staticClass:"field",attrs:{label:"Internal Only"},model:{value:e.internalOnly,callback:function(t){e.internalOnly=t},expression:"internalOnly"}})],1),t("div",{staticClass:"col-12"},[t("TextAreaField",{staticClass:"field",attrs:{label:"Internal Notes"},model:{value:e.internalNotes,callback:function(t){e.internalNotes=t},expression:"internalNotes"}})],1)])])],1)]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"Cancel"},on:{click:function(t){e.claimStatusModal=!1}}}),t("BaseButton",{attrs:{label:Object.keys(e.claimStatusRow).length?"Update":"Add",color:"primary"},on:{click:e.saveClaimStatus}})]},proxy:!0}]),model:{value:e.claimStatusModal,callback:function(t){e.claimStatusModal=t},expression:"claimStatusModal"}})],1)},s=[],l=(a("caad"),a("14d9"),a("7bb1")),n=a("3445"),o=a("12b8"),r=a("b3d1"),d=a("53c1"),c=a("ad54"),m=a("6df3"),u=a("1e48"),h=a("869e"),p=a("7286"),f=a("6a70"),y=a("42fc"),b=a("0d5e"),v=a("1b0d"),C=a("b6d2"),g=a("be3f"),S=a("5c8a"),P={name:"CustomProcessForm",components:{ValidationObserver:l["a"],ValidationProvider:l["b"],FormFieldLabel:n["a"],SelectField:o["a"],TextField:r["a"],DateField:d["a"],NumberField:c["a"],TextAreaField:m["a"],MultipleChoiceField:u["a"],CheckboxField:h["a"],Tabs:p["a"],Modal:f["a"],Pagination:C["a"],ExpandableSearch:g["a"]},props:{formId:{type:String,default:"0"},panels:{type:Array,default:()=>[]},secondaryPanels:{type:Array,default:()=>[]},formModel:{type:Object,default:()=>{}},saveAction:{type:String,default:""},workflowFormModel:{type:Object,default:()=>{}},formFields:{type:Array,default:()=>[]},dataValidationValues:{type:Array,default:()=>[]},selectedProcess:{type:Object,required:!0},isReadonly:{type:Boolean,default:!1},checkList:{type:Array,default:()=>[]},formCheckList:{type:Boolean,default:!1},saveOnly:{type:Boolean,default:!1},inbox:{type:Boolean,default:!1},autoSaveModel:{type:Object,default:()=>{}}},data(){return{formWidth:"100%",claimantInfoList:[{id:this.$nano.id(),label:"Borrower",value:"Borrower",claimType:""},{id:this.$nano.id(),label:"Co-Borrower",value:"Co-Borrower",claimType:""},{id:this.$nano.id(),label:"Next of Kin",value:"Next of Kin",claimType:"Life"}],authorizationTypes:[{id:this.$nano.id(),label:"Claimant Submitted",value:"Claimant Submitted"},{id:this.$nano.id(),label:"Special Auth",value:"Special Auth"},{id:this.$nano.id(),label:"Goodwill Claim",value:"Goodwill Claim"},{id:this.$nano.id(),label:"Advance Receipt",value:"Advance Receipt"},{id:this.$nano.id(),label:"Lump Sum Eligibility Status",value:"Lump Sum Eligibility Status"},{id:this.$nano.id(),label:"Pandemic",value:"Pandemic"},{id:this.$nano.id(),label:"Return To Work",value:"Return To Work"},{id:this.$nano.id(),label:"Prior Loan Used",value:"Prior Loan Used"}],documentCheckList:[{id:this.$nano.id(),label:"Claimant's Statement",value:"Claimant's Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Application to Enroll",value:"Application to Enroll",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Payment Schedule/History",value:"Payment Schedule or History",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Employer's Statement/ROE",value:"Employer's Statement Or ROE",for:["Critical Illness","Involuntary Unemployment","Sickness or Injury","Unpaid Family Leave","Disability"]},{id:this.$nano.id(),label:"Loan Agreement",value:"Loan Agreement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Lender Claim Statement",value:"Lender Claim Statement",for:["Critical Illness","Disability","Involuntary Unemployment","Life","Lifetime Milestone","Sickness or Injury","Unpaid Family Leave"]},{id:this.$nano.id(),label:"Physician's Statement",value:"Physician's Statement",for:["Critical Illness","Life","Sickness or Injury","Disability"]},{id:this.$nano.id(),label:"Section 2B",value:"Section 2B",for:["Lifetime Milestone"]},{id:this.$nano.id(),label:"Supporting Documentation",value:"Supporting Documentation",for:["Lifetime Milestone"]}],tabs:[{id:this.$nano.id(),label:"Claim Status",value:"Claim Status"},{id:this.$nano.id(),label:"Daily Data Summary",value:"Daily Data Summary"},{id:this.$nano.id(),label:"Benefit Payment",value:"Benefit Payment"},{id:this.$nano.id(),label:"Payments",value:"Payments"}],tab:"Claim Status",totalPayment:0,lumpsumAmount:0,benefitType:"",benefitTypes:[{id:this.$nano.id(),label:"Monthly",value:"Monthly"},{id:this.$nano.id(),label:"Bi-weekly",value:"BiWeekly"},{id:this.$nano.id(),label:"Semi-monthly",value:"SemiMonthly"},{id:this.$nano.id(),label:"Weekly",value:"Weekly"}],numberOfApprovePayment:0,paymentTableColumns:[{id:this.$nano.id(),name:"paymentNumber",label:"Payment Number",type:"LABEL"},{id:this.$nano.id(),name:"baseAmount",label:"Payment Base Amount",type:"NUMBER"},{id:this.$nano.id(),name:"claimAmount",label:"Claim Amount (20% Increased)",type:"NUMBER"},{id:this.$nano.id(),name:"cumulativeTotal",label:"Cumulative Total",type:"NUMBER"},{id:this.$nano.id(),name:"approval",label:"Approval",type:"SINGLE_SELECT"},{id:this.$nano.id(),name:"approvedDate",label:"Approved Date",type:"DATE"},{id:this.$nano.id(),name:"paymentDate",label:"Payment Date",type:"DATE"},{id:this.$nano.id(),name:"approvedBy",label:"Approved By",type:"LABEL"},{id:this.$nano.id(),name:"notes",label:"Notes",type:"SHORT_TEXT"},{id:this.$nano.id(),name:"goodWill",label:"Goodwill",type:"CHECKBOX"},{id:this.$nano.id(),name:"lppPlus",label:"LPP Plus",type:"CHECKBOX"},{id:this.$nano.id(),name:"preApprovedPmt",label:"Pre Approved Pmt",type:"CHECKBOX"},{id:this.$nano.id(),name:"psgCovered",label:"PSG Covered",type:"CHECKBOX"}],paymentTableValues:[],isPaymentFound:!1,approvalTypes:[{id:this.$nano.id(),label:"Approve",value:"Approved"},{id:this.$nano.id(),label:"Cancel",value:"Cancelled"}],cityList:[],provinceList:[],productList:[{id:this.$nano.id(),label:"Critical Illness",value:"Critical Illness"},{id:this.$nano.id(),label:"Disability",value:"Disability"},{id:this.$nano.id(),label:"Involuntary Unemployment",value:"Involuntary Unemployment"},{id:this.$nano.id(),label:"Life",value:"Life"},{id:this.$nano.id(),label:"Lifetime Milestone",value:"Lifetime Milestone"},{id:this.$nano.id(),label:"Sickness or Injury",value:"Sickness or Injury"},{id:this.$nano.id(),label:"Unpaid Family Leave",value:"Unpaid Family Leave"}],declineReasonList:[],declineReason:"",declineReasonModal:!1,loanInfoVerify:!1,claimInfoVerify:!1,languageList:[{id:this.$nano.id(),label:"EN",value:"EN"},{id:this.$nano.id(),label:"FR",value:"FR"}],isNameOfDeceasedEditable:!1,claimStatusColumns:[{id:this.$nano.id(),name:"ClaimStatus",label:"Claim Status"},{id:this.$nano.id(),name:"CSDate",label:"Date"},{id:this.$nano.id(),name:"CSNote",label:"Note"},{id:this.$nano.id(),name:"ClaimLetterSent",label:"Claim Letter Sent"},{id:this.$nano.id(),name:"AuthorizedBy",label:"Authorized By"},{id:this.$nano.id(),name:"MailingType",label:"Mailing Type"},{id:this.$nano.id(),name:"ModifiedBy",label:"Modified By"},{id:this.$nano.id(),name:"ModifiedDt",label:"Modified Date"},{id:this.$nano.id(),name:"LenderLetter",label:"Lender Letter"},{id:this.$nano.id(),name:"CreatedBy",label:"Created By"},{id:this.$nano.id(),name:"CreatedDt",label:"Created Date"},{id:this.$nano.id(),name:"InternalOnly",label:"Internal Only"},{id:this.$nano.id(),name:"InternalNotes",label:"Internal Notes"}],claimStatusValues:[],claimStatusValuesData:[],claimStatusTotalItems:0,claimStatusItemsPerPage:10,claimStatusCurrentPage:1,claimStatusRow:{},claimStatusModal:!1,claimStatusList:[],claimStatus:"",csDate:"",csNoteList:[],csNote:0,claimLetterSentList:[],claimLetterSent:0,mailingTypeList:[{id:this.$nano.id(),label:"Word Merged Letter",value:"WordmergedLetter"},{id:this.$nano.id(),label:"Email",value:"Email"}],mailingType:"",lenderLetterList:[],lenderLetter:"",internalOnly:!1,internalNotes:"",dailyDataStatusColumns:[{id:this.$nano.id(),name:"FileDate",label:"File Date"},{id:this.$nano.id(),name:"PolicyNumber",label:"Policy Number"},{id:this.$nano.id(),name:"Province",label:"Province"},{id:this.$nano.id(),name:"FirstName",label:"First Name"},{id:this.$nano.id(),name:"LastName",label:"Last Name"},{id:this.$nano.id(),name:"LoanKey",label:"Loan Key"},{id:this.$nano.id(),name:"PriorLoan",label:"Prior Loan"},{id:this.$nano.id(),name:"EffectiveDate",label:"Effective Date"},{id:this.$nano.id(),name:"CancellationDate",label:"Cancellation Date"},{id:this.$nano.id(),name:"LoanTerm",label:"Loan Term"},{id:this.$nano.id(),name:"PrincipalLent",label:"Principal Lent"},{id:this.$nano.id(),name:"Freq",label:"Freq"},{id:this.$nano.id(),name:"TotalObligation",label:"Total Obligation"},{id:this.$nano.id(),name:"FirstPayment",label:"First Payment"},{id:this.$nano.id(),name:"MinimumPrincipal",label:"Minimum Principal"},{id:this.$nano.id(),name:"MinimumInterest",label:"Minimum Interest"},{id:this.$nano.id(),name:"MinPIDue",label:"Min PI Due"},{id:this.$nano.id(),name:"LPPCharge",label:"LPP Charge"},{id:this.$nano.id(),name:"LPPCollected",label:"LPP Collected"},{id:this.$nano.id(),name:"LastPayment",label:"Last Payment"},{id:this.$nano.id(),name:"DefaultDate",label:"Default Date"},{id:this.$nano.id(),name:"ClearedPayments",label:"Cleared Payments"},{id:this.$nano.id(),name:"MissedPayments",label:"Missed Payments"},{id:this.$nano.id(),name:"PastDueAmount",label:"Past Due Amount"},{id:this.$nano.id(),name:"PastDueInterest",label:"Past Due Interest"},{id:this.$nano.id(),name:"PastDueInsuranceFee",label:"Past Due Insurance Fee"},{id:this.$nano.id(),name:"PastDuePrincipalAmount",label:"Past Due Principal Amount"},{id:this.$nano.id(),name:"PastDueNsfFee",label:"Past Due Nsf Fee"},{id:this.$nano.id(),name:"LoanBalance",label:"Loan Balance"},{id:this.$nano.id(),name:"PrincipalBalance",label:"Principal Balance"},{id:this.$nano.id(),name:"ExpectedMinPayment",label:"Expected Min Payment"}],dailyDataStatusValues:[],dailyDataStatusValuesData:[],dailyDataStatusTotalItems:0,dailyDataStatusItemsPerPage:10,dailyDataStatusCurrentPage:1,paymentHistoryColumns:[{id:this.$nano.id(),name:"StoreLoanNumber",label:"Store Loan Number"},{id:this.$nano.id(),name:"Premium",label:"Premium"},{id:this.$nano.id(),name:"PaymentDate",label:"Payment Date"},{id:this.$nano.id(),name:"TransactionType",label:"Transaction Type"},{id:this.$nano.id(),name:"Taxes",label:"Taxes"},{id:this.$nano.id(),name:"PaymentAmount",label:"Payment Amount"},{id:this.$nano.id(),name:"RemitDate",label:"Remit Date"}],paymentHistoryValues:[],paymentHistoryValuesData:[],paymentHistoryTotalItems:0,paymentHistoryItemsPerPage:10,paymentHistoryCurrentPage:1,clearPayment:!1,hasLifeType:!1,hasCIClaimsType:!1,hasLMUFLClaimsType:!1,hasOtherClaimsType:!1,isChangeBenefitClaimed:!1,hasSicknessClaimsChanged:!1}},computed:{isMaximized(){return"100%"===this.formWidth},fieldVerification(){let e=!1;if(this.dataValidationValues.length){let t=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];t.forEach(t=>{let a=this.dataValidationValues.find(e=>e.fieldName==t);a&&"Not Matched"!==a.status&&"Not Verified"!==a.status||(e=!0)})}else e=!0;return e},userInitials(){let e="";return this.$store.state.session.firstName&&(e+=this.$store.state.session.firstName[0].toUpperCase()),this.$store.state.session.lastName?e+=this.$store.state.session.lastName[0].toUpperCase():e+=this.$store.state.session.firstName[1],e},userNames(){let e;return this.$store.state.session.firstName&&(e=this.$store.state.session.firstName),this.$store.state.session.lastName&&(e+=" "+this.$store.state.session.lastName),e},_productList(){let e=this.formFields.find(e=>"Benefit Claimed"===e.label),t="";return e&&(t=this.formModel[e.value]),"Critical Illness"===t||"Sickness or Injury"===t?this.productList.filter(e=>"Critical Illness"===e.label||"Sickness or Injury"===e.label):this.productList},_documentCheckList(){let e=this.formFields.find(e=>"Benefit Claimed"===e.label),t="";return e&&(t=this.formModel[e.value]),this.documentCheckList.filter(e=>e.for.includes(t))},STLOCTypeFormula(){let e=this.formFields.find(e=>"Group Policy"===e.label),t="";e&&(t=this.formModel[e.value]);let a=t.split("-");return!(!a.length||("ST001"!==a[0]||"MM01"===a[1])&&"LOC001"!==a[0])},ENHTypeFormula(){let e=this.formFields.find(e=>"Group Policy"===e.label),t="";e&&(t=this.formModel[e.value]);let a=t.split("-");return!(!a.length||"ENH001"!==a[0])},mobileFinanceFormula(){let e=this.formFields.find(e=>"Group Policy"===e.label),t="";e&&(t=this.formModel[e.value]);let a=t.split("-");return!(!a.length||"CPL001M"!==a[0])},paymentValidationRules(){const e={required:!0,min_value:1};return this.STLOCTypeFormula&&!this.hasLMUFLClaimsType?e.max_value=4e3:this.STLOCTypeFormula&&this.hasLMUFLClaimsType?e.max_value=2e3:this.ENHTypeFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?e.max_value=1e3:this.mobileFinanceFormula&&this.hasOtherClaimsType&&"Monthly"===this.getModel("Payment Frequency")?e.max_value=1250:(this.ENHTypeFormula||this.mobileFinanceFormula)&&(e.max_value=1e3),e},moneyMartFormula(){let e=this.formFields.find(e=>"Group Policy"===e.label),t="";e&&(t=this.formModel[e.value]);let a=t.split("-");return!(!a.length||"ST001"!==a[0]||"MM01"!==a[1])}},watch:{saveAction:{immediate:!0,async handler(){if(this.saveAction){if("Save"===this.saveAction||"Force Close"===this.saveAction)return void this.$emit("update:workflowFormModel",this.formModel);if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Approve"==this.saveAction){if(this.fieldVerification||!this.loanInfoVerify||!this.claimInfoVerify)return this.$alert.warning("Verification Required"),void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Approve","Claim Decision")}else if("psyCrYXtKfcs-EJmrYIhv"===this.selectedProcess.activityId&&"Recommend to Decline"==this.saveAction){if(!this.getModel("Decline Reason"))return this.declineReasonModal=!0,void this.$emit("update:saveAction","");this.updateModel(this.$day.newDate(),"Processing Date"),this.updateModel("Recommend to Decline","Claim Decision")}else if("k4-junYNP5tico7rUVJY_"===this.selectedProcess.activityId||"pyEp-anz7DIWhvoQLf6oC"===this.selectedProcess.activityId){let e=this.paymentTableValues.filter(e=>e.approval);if(console.log(e),!e.length)return this.$alert.warning("Should be approve payment"),void this.$emit("update:saveAction","")}this.$emit("update:workflowFormModel",this.formModel)}}},dataValidationValues:{deep:!0,immediate:!0,handler(){if(this.loanInfoVerify=!1,this.claimInfoVerify=!1,this.dataValidationValues.length){let e=this.dataValidationValues.find(e=>"Loan Info"===e.fieldName);e&&(this.loanInfoVerify="Verified"===e.status);let t=this.dataValidationValues.find(e=>"Claim Info"===e.fieldName);t&&(this.claimInfoVerify="Verified"===t.status)}}},selectedProcess:{immediate:!0,deep:!0,handler(){this.selectedProcess.processId&&(this.isChangeBenefitClaimed=!1,this.clearPayment=!1,this.getPaymentTable(),this.getClaimStatus(),this.getDailyDataStatus(),this.getPaymentHistory(),this.checkDocument())}},formCheckList:{immediate:!0,deep:!0,handler(){if(this.formCheckList){let e=location.origin;("https://ag-appsvc01.azurewebsites.net"===e||"https://ag-appsvc05.azurewebsites.net"===e||"http://localhost:8080"===e||"https://trial.ezofis.com"===e&&12===this.$store.state.session.tenantId)&&this.checkList.length&&(this.documentValidation(),this.$emit("update:formCheckList",!1))}}},formModel:{immediate:!0,handler(){this.formModel&&(this.cloneFormModel=Object(S["a"])(this.formModel),this.getCalculateValidation(this.getModel("Benefit Claimed")))}},moneyMartFormula:{immediate:!0,handler(){this.moneyMartFormula?this.paymentTableColumns.forEach(e=>{"Claim Amount (20% Increased)"!==e.label||(e.label="Benefit Enhancement")}):this.paymentTableColumns.forEach(e=>{"Benefit Enhancement"!==e.label||(e.label="Claim Amount (20% Increased)")})}},hasSicknessClaimsChanged:{handler(){if(this.isPaymentFound&&this.hasSicknessClaimsChanged){if(this.paymentTableValues.length){let e=this.paymentTableValues[0];this.paymentTableValues=[],e&&this.paymentTableValues.push(e)}let e={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(e)}else if(!this.isPaymentFound&&this.hasSicknessClaimsChanged){let e={paymentId:0,paymentNumber:1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};if(this.paymentTableValues.length){let t=this.paymentTableValues[0];this.paymentTableValues=[],this.paymentTableValues.push(t),this.paymentTableValues.push(e)}else this.paymentTableValues=[],this.paymentTableValues.push(e)}}},hasCIClaimsType:{immediate:!0,handler(){this.hasCIClaimsType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}},hasLifeType:{immediate:!0,handler(){this.hasLifeType&&(this.isPaymentFound||this.getLifeTypePaymentTable())}}},created(){this.getProvinceList(),this.getDeclineReasonList(),this.getClaimStatusMaster(6)},mounted(){this.$watch(e=>[e.claimStatusCurrentPage,e.claimStatusItemsPerPage],()=>this.getClaimStatus(),{deep:!0,immediate:!0}),this.$watch(e=>[e.dailyDataStatusCurrentPage,e.dailyDataStatusItemsPerPage],()=>this.getDailyDataStatus(),{deep:!0,immediate:!0}),this.$watch(e=>[e.paymentHistoryCurrentPage,e.paymentHistoryItemsPerPage],()=>this.getPaymentHistory(),{deep:!0,immediate:!0})},methods:{getCalculateValidation(e){"Life"===e?(this.hasLifeType=!0,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Critical Illness"===e?(this.hasCIClaimsType=!0,this.hasLifeType=!1,this.hasLMUFLClaimsType=!1,this.hasOtherClaimsType=!1):"Lifetime Milestone"===e||"Unpaid Family Leave"===e?(this.hasLMUFLClaimsType=!0,this.hasCIClaimsType=!1,this.hasLifeType=!1,this.hasOtherClaimsType=!1):(this.hasOtherClaimsType=!0,this.hasLifeType=!1,this.hasCIClaimsType=!1,this.hasLMUFLClaimsType=!1)},getModel(e){let t=this.formFields.find(t=>t.label===e);if(t){if("Benefit Claimed"===e)"Critical Illness"===this.formModel[t.value]||"Sickness or Injury"===this.formModel[t.value]?this.isChangeBenefitClaimed=!0:this.isChangeBenefitClaimed=!1;else if("Current Age"===e){let e=this.formFields.find(e=>"DOB"===e.label);e&&this.formModel[e.value]&&(this.formModel[t.value]=this.calculateAge(this.formModel[e.value]))}return"MULTIPLE_CHOICE"===t.type?this.formModel[t.value]?this.formModel[t.value]:[]:"DATE"===t.type?this.$day.parseDate(this.formModel[t.value]):this.formModel[t.value]}},updateModel(e,t){"Sickness or Injury"===this.getModel(t)?"Critical Illness"===e&&(this.hasSicknessClaimsChanged=!0):"Critical Illness"===this.getModel(t)&&"Sickness or Injury"===e&&(this.isPaymentFound=!1,this.hasSicknessClaimsChanged=!1,this.paymentTableValues=[]);let a=this.formFields.find(e=>e.label===t);if(a&&(this.formModel[a.value]=e),"Claimant Info"===t)"Next of Kin"===e?this.isNameOfDeceasedEditable=!0:(this.isNameOfDeceasedEditable=!1,this.getContractData(e));else if("DOB"===t){let t=this.formFields.find(e=>"Current Age"===e.label);t&&(this.formModel[t.value]=this.calculateAge(e))}else if("Loan Payment Amount"===t)this.totalPayment=e,this.benefitType&&this.paymentCalculation();else if("Claim Date"===t){let t=this.formFields.find(e=>"Age at Doc"===e.label),a=this.formFields.find(e=>"Claim Date"===e.label);t&&this.formModel[a.value]&&(this.formModel[t.value]=this.calculateAgeAtDoc(e,this.$day.parseDate(this.formModel[a.value])))}else"Benefit Claimed"===t&&(this.getCalculateValidation(e),this.checkDocument())},updateLoanPaymentAmount(e){this.updateModel(e,"Loan Payment Amount")},checkHighlight(e){if(this.dataValidationValues.length){var t;let a=null===(t=this.dataValidationValues.find(t=>t.fieldName==e))||void 0===t?void 0:t.status;if("Matched"===a||"Verified"===a)return"green";if(""===a||"Not Verified"===a||"Partially Matched"===a)return"orange";if("Not Matched"===a)return"red"}return""},calculateAge(e){if(!e)return;const t=new Date;if(new Date(e)>t)return"";const a=t-new Date(e),i=Math.floor(a/864e5);return Math.floor(i/365.25)},calculateAgeAtDoc(e,t){if(!e)return;if(new Date(e)>new Date(t))return"";const a=new Date(t)-new Date(e),i=Math.floor(a/864e5);return Math.floor(i/365.25)},checkDocument(){let e=this.checkList.filter(e=>(e.conditions&&e.conditions.length?(e.required=!1,e.conditions.forEach(t=>{var a;if("ANY"===e.groupLogic&&e.required)return;let i=(null===(a=this.formFields.find(e=>e.value===t.name))||void 0===a?void 0:a.type)||"",s=t.value,l=this.formModel[t.name];switch("NUMBER"===i&&(s=Number(s),l=Number(l)),t.logic){case"IS_EQUALS_TO":e.required=l===s;break;case"IS_NOT_EQUALS_TO":e.required=l!==s;break;case"CONTAINS":l.indexOf(s)>-1?e.required=!0:e.required=!1;break;case"IS_GREATER_THAN":e.required=l>s;break;case"IS_GREATER_THAN_OR_EQUALS_TO":e.required=l>=s;break;case"IS_LESSER_THAN":e.required=l<s;break;case"IS_LESSER_THAN_OR_EQUALS_TO":e.required=l<=s;break}}),e.required||e.visible?e.show=!0:e.show=!1):e.show=!0,e));this.$emit("update:checkList",e)},documentValidation(){let e=this.formFields.find(e=>"Required Documents"===e.label);if(e){"string"===typeof this.formModel[e.value]&&(this.formModel[e.value]=[]);let t=this.checkList.filter(e=>e.attach);t.length&&t.forEach(t=>{-1===this.formModel[e.value].indexOf(t.name)&&this.formModel[e.value].push(t.name)}),this.autoSave("Required Documents")}},autoSave(e){let t=location.origin;if(("https://ag-appsvc01.azurewebsites.net"===t||"https://ag-appsvc05.azurewebsites.net"===t||"http://localhost:80801"===t)&&!this.saveOnly){let t=this.formFields.find(t=>t.label===e);if(t){let e={[t.value]:this.formModel[t.value]};this.$emit("update:autoSaveModel",e)}console.log(e),this.formModel[t.value]!=this.cloneFormModel[t.value]&&(this.$emit("update:saveOnly",!0),this.$emit("update:saveAction","Save"),this.cloneFormModel=Object(S["a"])(this.formModel))}},async updateDeclineReason(){const e=await this.$refs.declineModal.validate();e&&(this.declineReasonModal=!1,this.updateModel(this.declineReason,"Decline Reason"),this.updateModel("Recommend to Decline","Claim Decision"),this.$emit("update:workflowFormModel",this.formModel),this.$emit("update:saveAction","Recommend to Decline"))},async getCityList(){this.cityList=[];let e=this.formFields.find(e=>"City"===e.label);if(e)try{const t=await b["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:e.value,keyword:"",rowFrom:0,rowCount:0})),{status:a,data:i}=t;if(200!==a)throw t;const s=JSON.parse(i);s.length&&(this.cityList=s.map(e=>({id:this.$nano.id(),label:e,value:e})));let l=this.cityList.find(t=>t.label===this.formModel[e.value]);l||this.cityList.push({id:this.$nano.id(),label:this.formModel[e.value],value:this.formModel[e.value]})}catch(t){console.error(t),this.$alert.error("Error fetching options")}},async getProvinceList(){this.provinceList=[];let e=this.formFields.find(e=>"Province"===e.label);if(e)try{const t=await b["b"].post(`/form/${this.formId}/uniqueColumnValues`,JSON.stringify({column:e.value,keyword:"",rowFrom:0,rowCount:0})),{status:a,data:i}=t;if(200!==a)throw t;const s=JSON.parse(i);s.length&&(this.provinceList=s.map(e=>({id:this.$nano.id(),label:e,value:e})));let l=this.provinceList.find(t=>t.label===this.formModel[e.value]);l||this.provinceList.push({id:this.$nano.id(),label:this.formModel[e.value],value:this.formModel[e.value]})}catch(t){console.error(t),this.$alert.error("Error fetching options")}},async getDeclineReasonList(){this.declineReasonList=[];const{error:e,payload:t}=await v["g"].getFormEntries(5,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(e)return void this.$alert.error(e);const{data:a}=t;this.declineReasonList=a[0].value.map(e=>({id:e.itemid,label:`${e["_siZd2ju1yrpaAcCiiJ8X"]} - ${e["xvC46pmC5uL77kIpjJ2p-"]}`,value:`${e["_siZd2ju1yrpaAcCiiJ8X"]} - ${e["xvC46pmC5uL77kIpjJ2p-"]}`}))},async getDataValidation(){const{error:e,payload:t}=await v["d"].armgroupMLValidation({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});e?this.$alert.error(e):t.length?this.$emit("updateDataValidationValues",t):this.$emit("updateDataValidationValues",[])},async confirmCustomerInfo(){let e=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"],t=[],a=[];if(e.forEach(e=>{let i=this.dataValidationValues.find(t=>t.fieldName==e);i?(i.formValue=this.getModel(e),i.status="Not Matched"===i.status||"Not Verified"===i.status?"Verified":i.status,a.push(i)):t.push({processId:this.selectedProcess.processId,fieldName:e,formValue:this.getModel(e),status:"Verified"})}),a.length){const{error:e}=await v["d"].updateArmgroupMLValidation(a);if(e)return void this.$alert.error(e)}if(t.length){const{error:e}=await v["d"].insertArmgroupMLValidation(t);if(e)return void this.$alert.error(e)}this.getDataValidation()},async unConfirmCustomerInfo(){let e=["First Name","Last Name","DOB","Address","City","Province","Postal Code","Phone No.","Email ID"];if(this.dataValidationValues.length){e.forEach(e=>{let t=this.dataValidationValues.find(t=>t.fieldName==e);t&&(t.formValue=this.getModel(e),t.status="Verified"===t.status?"Not Verified":t.status)});const{error:t}=await v["d"].updateArmgroupMLValidation(this.dataValidationValues);if(t)return void this.$alert.error(t)}},async confirmLoanInfo(){this.loanInfoVerify=!0;let e=[],t=this.dataValidationValues.find(e=>"Loan Info"==e.fieldName);if(t?(t.formValue="Checked",t.status="Not Matched"===t.status||"Not Verified"===t.status?"Verified":t.status,e.push(t)):e=[{processId:this.selectedProcess.processId,fieldName:"Loan Info",formValue:"Checked",status:"Verified"}],e[0].id){const{error:t}=await v["d"].updateArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}else{const{error:t}=await v["d"].insertArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}this.getDataValidation()},async unConfirmLoanInfo(){this.loanInfoVerify=!1;let e=[],t=this.dataValidationValues.find(e=>"Loan Info"==e.fieldName);t&&(t.formValue="",t.status="Not Verified",e.push(t));const{error:a}=await v["d"].updateArmgroupMLValidation(e);a&&this.$alert.error(a)},async confirmClaimInfo(){this.claimInfoVerify=!0;let e=[],t=this.dataValidationValues.find(e=>"Claim Info"==e.fieldName);if(t?(t.formValue="Checked",t.status="Not Matched"===t.status||"Not Verified"===t.status?"Verified":t.status,e.push(t)):e=[{processId:this.selectedProcess.processId,fieldName:"Claim Info",formValue:"Checked",status:"Verified"}],e[0].id){const{error:t}=await v["d"].updateArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}else{const{error:t}=await v["d"].insertArmgroupMLValidation(e);if(t)return void this.$alert.error(t)}this.getDataValidation()},async unConfirmClaimInfo(){this.claimInfoVerify=!1;let e=[],t=this.dataValidationValues.find(e=>"Claim Info"==e.fieldName);t&&(t.formValue="",t.status="Not Verified",e.push(t));const{error:a}=await v["d"].updateArmgroupMLValidation(e);a&&this.$alert.error(a)},export_Data(){if(this.paymentTableValues.length){let e=[];e=this.paymentTableValues.map(e=>({"Payment Number":e.paymentNumber,"Base Amount":e.baseAmount,"Claim Amount":e.claimAmount,"Cumulative Total":e.cumulativeTotal,Approval:e.approval,"Approved Date":e.approvedDate,"Payment Date":e.paymentDate,"Payment Frequency":e.benefitType})),Object(y["a"])(e)}},paymentApprove(){if(this.numberOfApprovePayment>0)if(this.numberOfApprovePayment>this.paymentTableValues.length)this.$alert.warning("Approved payment should be less than "+this.paymentTableValues.length);else if(this.isPaymentFound){let e=this.paymentTableValues.filter(e=>"Approved"!==e.approval);e.length&&e.forEach((e,t)=>{if(t<this.numberOfApprovePayment){e.approval="Approved";let a=0;e.approvedDate=this.$day.addDate(this.$day.newDate(),t*a),e.paymentDate=this.$day.addDate(this.$day.newDate(),t*a+1),e.approvedBy=this.userInitials}else e.approval="",e.approvedDate="",e.paymentDate="",e.approvedBy=""})}else this.paymentTableValues.forEach((e,t)=>{if(t<this.numberOfApprovePayment){e.approval="Approved";let a=0;e.approvedDate=this.$day.addDate(this.$day.newDate(),t*a),e.paymentDate=this.$day.addDate(this.$day.newDate(),t*a+1),e.approvedBy=this.userInitials}else e.approval="",e.approvedDate="",e.paymentDate="",e.approvedBy=""});else this.$alert.warning("Specify the valid number")},clearPaymentApprove(){this.numberOfApprovePayment=0,this.paymentTableValues.forEach(e=>{e.approval="",e.approvedDate="",e.paymentDate="",e.approvedBy=""})},checkApprovalEdit(e){return!!e.approvedDate&&this.$day.newDate()!==e.approvedDate},updateApprovalDate(e){if("Approved"===this.paymentTableValues[e].approval){this.paymentTableValues[e].approvedDate=this.$day.newDate();let t=new Date;t.setDate(t.getDate()+1);let a=t.getMonth()+1;a<10&&(a="0"+a);let i=t.getDate();i<10&&(i="0"+i),this.paymentTableValues[e].paymentDate=`${t.getFullYear()}-${a}-${i}`,this.paymentTableValues[e].approvedBy=this.userInitials}else this.paymentTableValues[e].approvedDate="",this.paymentTableValues[e].paymentDate="",this.paymentTableValues[e].approvedBy=""},addLumpsumRow(){if(!this.paymentTableValues[this.paymentTableValues.length-1].lumpsumRow){let e=0;4e3===Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)&&(e=4e3.toFixed(2));const t={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:e,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,lumpsumRow:!0,delete:!0};this.paymentTableValues.push(t)}},addPaymentRow(){let e=0;if(this.paymentTableValues.length&&(e=Number(this.paymentTableValues[this.paymentTableValues.length-1].cumulativeTotal)),4e3!==e||this.hasCIClaimsType)if(15e3===e&&this.hasCIClaimsType)this.$alert.warning("Already maximum amount 15000 reached");else{const e={paymentId:0,paymentNumber:this.paymentTableValues.length+1,baseAmount:"",claimAmount:0,cumulativeTotal:0,approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType,delete:!0};this.paymentTableValues.push(e)}else this.$alert.warning("Already maximum amount 4000 reached")},removePaymentRow(e){this.paymentTableValues.splice(e,1)},calcOtherColumns(e){let t=0,a=this.paymentTableValues[e].baseAmount;if(this.hasOtherClaimsType){if(this.paymentTableValues[e].lumpsumRow){if(a>2e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[e].claimAmount=(0).toFixed(2),t=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===t&&this.paymentTableValues[e].baseAmount>0)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(t+=a,t>4e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let i=a+.2*a;if(this.paymentTableValues[e].claimAmount=i.toFixed(2),t=i+Number(this.paymentTableValues[e-1].cumulativeTotal),this.STLOCTypeFormula&&t>4e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].claimAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),t=0,void this.$alert.warning("Cumulative total shouldn't exceed $4000")}t>0&&a&&(this.paymentTableValues[e].cumulativeTotal=t.toFixed(2))}else if(this.hasLifeType){if(this.ENHTypeFormula){if(a>5e4)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $50000")}else if(a>15e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[e].cumulativeTotal=this.paymentTableValues[e].baseAmount.toFixed(2)}else if(this.hasCIClaimsType){let t=0;if(e&&(t=Number(this.paymentTableValues[e-1].cumulativeTotal)+a),a<=15e3&&e)return void(this.paymentTableValues[e].cumulativeTotal=this.paymentTableValues[e].baseAmount.toFixed(2));if(a>15e3&&!e)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");if(t>15e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Base Amount shouldn't exceed $15000");this.paymentTableValues[e].cumulativeTotal=this.paymentTableValues[e].baseAmount.toFixed(2)}},calcOtherColumns1(e){let t=0,a=this.paymentTableValues[e].baseAmount;if(this.paymentTableValues[e].lumpsumRow){if(a>2e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Lumpsum Amount shouldn't exceed $2000");if(this.paymentTableValues[e].claimAmount=(0).toFixed(2),t=Number(this.paymentTableValues[this.paymentTableValues.length-2].cumulativeTotal),4e3===t&&this.paymentTableValues[e].baseAmount>0)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=4e3.toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000");if(t+=a,t>4e3)return this.paymentTableValues[e].baseAmount=0,this.paymentTableValues[e].cumulativeTotal=(0).toFixed(2),void this.$alert.warning("Cumulative total shouldn't exceed $4000")}else{let i=a+.2*a;this.paymentTableValues[e].claimAmount=i.toFixed(2),this.paymentTableValues.forEach(e=>{t+=Number(e.claimAmount)})}this.paymentTableValues[e].cumulativeTotal=t.toFixed(2)},claimStatusSearchRow(e){this.claimStatusValues=e?this.claimStatusValuesData.filter(t=>{for(let a in t){let i=this.claimStatusColumns.findIndex(e=>e.name===a);if(i>=0&&t[a]&&String(t[a]).toLowerCase().includes(e.toLowerCase()))return t}}):this.claimStatusValuesData},loadAllClaimStatus(){this.claimStatusItemsPerPage=this.claimStatusTotalItems,1===this.claimStatusCurrentPage?this.getClaimStatus():this.claimStatusCurrentPage=1},dailyDataStatusSearchRow(e){this.dailyDataStatusValues=e?this.dailyDataStatusValuesData.filter(t=>{for(let a in t){let i=this.dailyDataStatusColumns.findIndex(e=>e.name===a);if(i>=0&&t[a]&&String(t[a]).toLowerCase().includes(e.toLowerCase()))return t}}):this.dailyDataStatusValuesData},loadAllDailyDataStatus(){this.dailyDataStatusItemsPerPage=this.dailyDataStatusTotalItems,1===this.dailyDataStatusCurrentPage?this.getDailyDataStatus():this.dailyDataStatusCurrentPage=1},paymentHistorySearchRow(e){this.paymentHistoryValues=e?this.paymentHistoryValuesData.filter(t=>{for(let a in t){let i=this.paymentHistoryColumns.findIndex(e=>e.name===a);if(i>=0&&t[a]&&String(t[a]).toLowerCase().includes(e.toLowerCase()))return t}}):this.payymentHistoryValuesData},loadAllPaymentHistory(){this.paymentHistoryItemsPerPage=this.paymentHistoryTotalItems,1===this.paymentHistoryCurrentPage?this.getPaymentHistory():this.payemntHistoryCurrentPage=1},addClaimStatus(){this.claimStatusRow={},this.claimStatus="",this.csDate="",this.csNote=0,this.claimLetterSent=0,this.mailingType="",this.lenderLetter="",this.internalOnly=!1,this.internalNotes="",this.claimStatusModal=!0},editClaimStatus(e){this.claimStatusRow=this.claimStatusValues.find(t=>t.ClaimStatusID===e.ClaimStatusID),this.claimStatusRow&&(this.claimStatus=this.claimStatusRow.ClaimStatus,this.csNote=this.claimStatusRow.CSNote,this.claimLetterSent=this.claimStatusRow.ClaimLetterSent,this.mailingType=this.claimStatusRow.MailingType,this.lenderLetter=this.claimStatusRow.lenderLetter,this.internalOnly=Boolean(this.claimStatusRow.InternalOnly),this.internalNotes=this.claimStatusRow.InternalNotes),this.claimStatusModal=!0},async getClaimStatusMaster(e){this.claimStatusList=[],this.$store.commit("showLoadingBar");const{error:t,payload:a}=await v["g"].getFormEntries(e,{mode:"BROWSE",sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBar"),t)return void this.$alert.error(t);const{data:i}=a;this.claimStatusList=i[0].value.map(e=>({id:e.itemid,label:e["dKY2zhKPS4-hQy1I6yVSV"],value:e["dKY2zhKPS4-hQy1I6yVSV"]}))},async paymentCalculation(){this.numberOfApprovePayment=0;const e=await this.$refs.form.validate();if(!e)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let t=0,a=0;if(this.benefitType)switch(this.benefitType){case"Monthly":a=6;break;case"BiWeekly":case"SemiMonthly":a=12;break;case"Weekly":a=24;break}for(let i=1;i<=a;i++){if(this.hasLMUFLClaimsType&&i>3)return;let e=this.totalPayment,a=0,s=0;if(this.STLOCTypeFormula?(this.hasOtherClaimsType?s=4e3:this.hasLMUFLClaimsType&&(s=2e3),a=e+.2*e):this.ENHTypeFormula?this.hasOtherClaimsType?s=6e3:this.hasLMUFLClaimsType&&(s=2e3):this.mobileFinanceFormula?this.hasOtherClaimsType?s=7500:this.hasLMUFLClaimsType&&(s=2e3):this.moneyMartFormula&&this.hasLMUFLClaimsType&&(s=2e3),!this.moneyMartFormula&&t+a>s)return void this.paymentTableValues.push({paymentId:0,paymentNumber:i,baseAmount:(s-t).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:s.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});if(this.STLOCTypeFormula)t+=a;else if(this.ENHTypeFormula)t+=e;else if(this.mobileFinanceFormula)t+=e;else if(this.moneyMartFormula){let i=this.getModel("Principal Balance At Doc"),s=0,l=0;if(this.hasOtherClaimsType&&i)if("BiWeekly"===this.benefitType||"SemiMonthly"===this.benefitType){let e=50*i/100;s=e.toFixed(2)}else if("Weekly"===this.benefitType){let e=25*i/100;s=e.toFixed(2)}else"Monthly"===this.benefitType&&(s=i);l=s/24,a=l,t+=l+e}if(this.paymentTableValues.push({paymentId:0,paymentNumber:i,baseAmount:e.toFixed(2),claimAmount:a.toFixed(2),cumulativeTotal:t.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType}),t===s)return}},async paymentCalculation1(){this.numberOfApprovePayment=0;const e=await this.$refs.form.validate();if(!e)return;this.isPaymentFound&&(this.clearPayment=!0),this.paymentTableValues=[];let t=0,a=0;if(this.benefitType)switch(this.benefitType){case"Monthly":a=6;break;case"BiWeekly":case"SemiMonthly":a=12;break;case"Weekly":a=24;break}for(let i=1;i<=a;i++){let e=this.totalPayment,a=e+.2*e;if(t+a>4e3)return void this.paymentTableValues.push({paymentId:0,paymentNumber:i,baseAmount:(4e3-t).toFixed(2),claimAmount:(0).toFixed(2),cumulativeTotal:4e3.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType});t+=a,this.paymentTableValues.push({paymentId:0,paymentNumber:i,baseAmount:e.toFixed(2),claimAmount:a.toFixed(2),cumulativeTotal:t.toFixed(2),approval:"",approvedDate:"",paymentDate:"",approvedBy:"",notes:"",goodWill:!1,lppPlus:!1,preApprovedPmt:!1,psgCovered:!1,benefitType:this.benefitType})}},async getPaymentTable1(){this.isPaymentFound=!1;const{error:e,payload:t}=await v["d"].getPaymentTable({filterBy:[{filters:[{criteria:"processId",condition:"IS_EQUALS_TO",value:this.selectedProcess.processId}],groupCondition:""}],mode:"BROWSE"});e?this.$alert.error(e):t.length&&(this.paymentTableValues=t,this.isPaymentFound=!0)},async getPaymentTable(){this.isPaymentFound=!1,this.paymentTableValues=[];let e=this.formFields.find(e=>"Claim No."===e.label),t=this.formFields.find(e=>"Lender Name"===e.label),a={};this.isPaymentFound||(this.hasLifeType||this.hasCIClaimsType)&&this.getLifeTypePaymentTable(),a["CPClaimNumber"]=this.formModel[e.value];let i={hublinkId:8,payloadMapping:JSON.stringify(a),lenderName:this.formModel[t.value],itemsPerPage:50,currentPage:1};const{payload:s,error:l}=await v["d"].getDataSync(i);if(l)return void this.$alert.error(l);const{data:n,meta:o}=s;o.totalItems&&n.length&&n[0].value.length&&(this.paymentTableValues=[],n[0].value.forEach(e=>{this.paymentTableValues.push({paymentId:e.ClaimPaymentID,paymentNumber:e.ClaimPaymentNumber,baseAmount:Number(e.ClaimPaymentAmount).toFixed(2),claimAmount:Number(e.PrincipalPmt).toFixed(2),cumulativeTotal:Number(e.CumulativeTotal).toFixed(2),approval:e.Status,approvedDate:this.$day.parseDate(e.StatusDate),paymentDate:this.$day.parseDate(e.CPaymentDate),approvedBy:e.ApprovedBy,notes:e.CPNotes,goodWill:"True"===e.Goodwill,lppPlus:"True"===e.LPPPlus,preApprovedPmt:"True"===e.PreApprovedPmt,psgCovered:"True"===e.PSGCovered})}),this.isPaymentFound=!0)},async updatePaymentTable1(){this.paymentTableValues.forEach(e=>{e.baseAmount=Number(e.baseAmount).toFixed(2)});let e={workflowId:this.selectedProcess.id,processId:this.selectedProcess.processId,paymentTableList:this.paymentTableValues};if(this.isPaymentFound){const{error:t}=await v["d"].updatePaymentTable(this.selectedProcess.processId,e);if(t)return void this.$alert.error(t);this.$alert.success("Payment entry updated")}else{const{error:t}=await v["d"].savePaymentTable(e);if(t)return void this.$alert.error(t);this.$alert.success("Payment entry added")}this.getPaymentTable()},async updatePaymentTable(){let e=this.formFields.find(e=>"Lender Name"===e.label),t=this.formFields.find(e=>"Claim No."===e.label);this.paymentTableValues.forEach(e=>{e.baseAmount=Number(e.baseAmount).toFixed(2)});let a=[];this.paymentTableValues.forEach(e=>{let i={};i=e.paymentId?{modifiedBy:this.userNames,modifiedDt:this.$day.newDateTime()}:{createdBy:this.userNames,createdDt:this.$day.newDateTime()},a.push({claimPaymentID:e.paymentId,cPClaimNumber:this.formModel[t.value],paymentNumber:e.paymentNumber,paymentBaseAmount:e.baseAmount,claimAmount:e.claimAmount,cumulativeTotal:e.cumulativeTotal,approval:e.approval,paymentDate:e.paymentDate,approvedBy:0,cpNotes:e.notes,goodwill:e.goodWill,lppplus:e.lppPlus,preApprovedPMT:e.preApprovedPmt,psgCovered:e.psgCovered,approvalDate:e.approvedDate,proRated:!1,...i})});let i={lenderName:this.formModel[e.value],claimNumber:this.clearPayment?this.formModel[t.value]:"",paymentList:a};const{error:s}=await v["d"].savePaymentTable(i);s?this.$alert.error(s):(this.$alert.success("Payment entry updated"),this.numberOfApprovePayment=0,this.getPaymentTable())},async getContractData(e){let t=this.formFields.find(e=>"Loan No."===e.label),a=this.formFields.find(e=>"Lender Name"===e.label),i={};if(i["StoreLoanNumber"]=this.formModel[t.value],"Borrower"===e){let e={hublinkId:4,payloadMapping:JSON.stringify(i),lenderName:this.formModel[a.value],itemsPerPage:500,currentPage:1};const{payload:t,error:s}=await v["d"].getDataSync(e);if(this.$store.commit("hideLoadingBar"),s)return void("Connection Interrupted"===s?this.$alert.warning(s):this.$alert.error(s));const{data:l,meta:n}=t;n.totalItems&&l.length&&l[0].value.length&&l[0].value.forEach(e=>{this.updateModel(e.FirstName,"First Name"),this.updateModel(e.LastName,"Last Name"),this.updateModel(e.DOB,"DOB"),this.updateModel(e.Address1,"Address"),this.updateModel(e.City,"City"),this.updateModel(e.Province,"Province"),this.updateModel(e.PostalCode,"Postal Code"),this.updateModel(e.Phone,"Phone No.")})}else if("Co-Borrower"===e){let e={hublinkId:3,payloadMapping:JSON.stringify(i),lenderName:this.formModel[a.value],itemsPerPage:500,currentPage:1};const{payload:t,error:s}=await v["d"].getDataSync(e);if(this.$store.commit("hideLoadingBar"),s)return void("Connection Interrupted"===s?this.$alert.warning(s):this.$alert.error(s));const{data:l,meta:n}=t;n.totalItems&&l.length&&l[0].value.length&&l[0].value.forEach(e=>{this.updateModel(e.CoFirstName,"First Name"),this.updateModel(e.CoLastName,"Last Name"),this.updateModel(e.CoDOB,"DOB"),this.updateModel(e.CoAddress1,"Address"),this.updateModel(e.CoCity,"City"),this.updateModel(e.CoProvince,"Province"),this.updateModel(e.CoPostalCode,"Postal Code"),this.updateModel(e.CoPhone,"Phone No.")})}},async getClaimStatus(){this.claimStatusValues=[],this.claimStatusValuesData=[];let e=this.formFields.find(e=>"Claim No."===e.label),t=this.formFields.find(e=>"Lender Name"===e.label),a={};a["CSClaimNumber"]=this.formModel[e.value];let i={hublinkId:7,payloadMapping:JSON.stringify(a),lenderName:this.formModel[t.value],itemsPerPage:this.claimStatusItemsPerPage,currentPage:this.claimStatusCurrentPage};const{payload:s,error:l}=await v["d"].getDataSync(i);if(l)return void this.$alert.error(l);const{data:n,meta:o}=s;o.totalItems&&(this.claimStatusTotalItems=o.totalItems,n.length&&n[0].value.length&&(this.claimStatusValues=n[0].value,this.claimStatusValuesData=n[0].value))},async saveClaimStatus(){const e=await this.$refs.claimStatusModal.validate();if(!e)return;let t=this.formFields.find(e=>"Claim No."===e.label),a=this.formFields.find(e=>"Lender Name"===e.label),i={};i=Object.keys(this.claimStatusRow).length?{CSClaimNumber:this.claimStatusRow.CSClaimNumber,ClaimStatus:this.claimStatus,CSDate:this.claimStatusRow.CSDate,ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.claimStatusRow.CreatedBy,CreatedDt:this.claimStatusRow.CreatedDt,ModifiedBy:this.userNames,ModifiedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0}:{CSClaimNumber:this.formModel[t.value],ClaimStatus:this.claimStatus,CSDate:this.$day.newDate(),ClaimLetterSent:0,AuthorizedBy:0,MailingType:this.mailingType,LenderLetter:0,CreatedBy:this.userNames,CreatedDt:this.$day.newDateTime(),InternalOnly:this.internalOnly,InternalNotes:this.internalNotes,TransactionId:"",InhouseOnly:0};let s={lenderName:this.formModel[a.value],claimStatusID:Object.keys(this.claimStatusRow).length?this.claimStatusRow.ClaimStatusID:0,fields:JSON.stringify(i)};const{error:l}=await v["d"].saveClaimStatus(s);l?this.$alert.error(l):(Object.keys(this.claimStatusRow).length?this.$alert.success("Claim status entry updated"):this.$alert.success("Claim status entry added"),this.claimStatusRow={},this.claimStatusModal=!1,this.getClaimStatus())},async getDailyDataStatus(){this.dailyDataStatusValues=[],this.dailyDataStatusValuesData=[];let e=this.formFields.find(e=>"Loan No."===e.label),t=this.formFields.find(e=>"Lender Name"===e.label),a={};a["loankey"]=this.formModel[e.value];let i={hublinkId:6,payloadMapping:JSON.stringify(a),lenderName:this.formModel[t.value],itemsPerPage:this.dailyDataStatusItemsPerPage,currentPage:this.dailyDataStatusCurrentPage};const{payload:s,error:l}=await v["d"].getDataSync(i);if(l)return void this.$alert.error(l);const{data:n,meta:o}=s;o.totalItems&&(this.dailyDataStatusTotalItems=o.totalItems,n.length&&n[0].value.length&&(this.dailyDataStatusValues=n[0].value,this.dailyDataStatusValuesData=n[0].value))},async getPaymentHistory(){this.paymentHistoryValues=[],this.paymentHistoryValuesData=[];let e=this.formFields.find(e=>"Loan No."===e.label),t=this.formFields.find(e=>"Lender Name"===e.label),a={};a["StoreLoanNumber"]=this.formModel[e.value];let i={hublinkId:5,payloadMapping:JSON.stringify(a),lenderName:this.formModel[t.value],itemsPerPage:this.paymentHistoryItemsPerPage,currentPage:this.paymentHistoryCurrentPage};this.$store.commit("showLoadingBarSave");const{payload:s,error:l}=await v["d"].getDataSync(i);if(this.$store.commit("hideLoadingBarSave"),l)return void this.$alert.error(l);const{data:n,meta:o}=s;o.totalItems&&(this.paymentHistoryTotalItems=o.totalItems,n.length&&n[0].value.length&&(this.paymentHistoryValues=n[0].value,this.paymentHistoryValuesData=n[0].value))},getLifeTypePaymentTable(){this.paymentTableValues=[],this.paymentTableValues=[{approval:"",approvedBy:"",approvedDate:"",baseAmount:"",claimAmount:0,cumulativeTotal:"0",goodWill:!1,lppPlus:!1,notes:"",paymentDate:"",paymentId:0,paymentNumber:"1",preApprovedPmt:!1,psgCovered:!1,delete:!0}]}}},T=P,L=(a("55ff"),a("cea0"),a("2877")),N=Object(L["a"])(T,i,s,!1,null,"bdce7c08",null);t["a"]=N.exports},c589:function(e,t,a){},c7a9:function(e,t,a){"use strict";a("b2ec")},cade:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return e.visible?t("div",e._g({class:{"is-selected":e.isSelected,"is-disabled":!e.subList.length&&"Initiate Workflow"===e.label||e.disabled},style:{padding:e.isSparse?"16px":"8px 16px"},attrs:{id:"list-item"}},e.$listeners),[e.color?[e.icon?t("BaseActionButton",{staticClass:"icon",attrs:{icon:e.icon,color:e.color,size:"14px"}}):e._e()]:[e.icon?t("BaseIcon",{staticClass:"icon",attrs:{name:e.icon,"inherit-color":""}}):e._e()],t("div",{staticClass:"label",style:{color:e.color}},[e._v(e._s(e.label))]),e.subList?[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"top end",self:"top start"}},[t("q-list",e._l(e.subList,(function(a){return t("q-item",{key:a.id,attrs:{clickable:""},on:{click:function(t){return e.$emit("subListAction",a)}}},[t("q-item-section",{attrs:{side:""}},[e.icon?t("BaseIcon",{staticClass:"icon",attrs:{name:e.icon,"inherit-color":""}}):e._e()],1),t("q-item-section",[e._v(e._s(a.name))])],1)})),1)],1)]:e._e()],2):e._e()},s=[],l={name:"ListItem",props:{icon:{type:String,default:""},label:{type:[String,Number],required:!0},isSparse:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},color:{type:String,default:""},subList:{type:Array,default:()=>[]},visible:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}}},n=l,o=(a("2573"),a("2877")),r=a("4e73"),d=a("1c1c"),c=a("66e5"),m=a("4074"),u=a("93dc"),h=a.n(u),p=Object(o["a"])(n,i,s,!1,null,"0b394298",null);t["a"]=p.exports;h()(p,"components",{QMenu:r["a"],QList:d["a"],QItem:c["a"],QItemSection:m["a"]})},ccc5:function(e,t,a){"use strict";a("b811")},cd22:function(e,t,a){e.exports=a.p+"img/name-dark.ebb22601.png"},cea0:function(e,t,a){"use strict";a("ee16")},ee16:function(e,t,a){},fdd5:function(e,t,a){"use strict";a("4d38")}}]);
//# sourceMappingURL=custom-form.e3cd143e.js.map