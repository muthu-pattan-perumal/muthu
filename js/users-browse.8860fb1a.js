(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users-browse","form-builder~forms-trash~groups-trash~integration-browse~leave-trash~portals-trash~repositories-over~b968ab97","integration-browse~repositories-reports-overview","users-trash"],{"00f0":function(e,t,i){},"0412":function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"item-grid"}},[t("BaseScrollbar",{attrs:{height:e.breadcrumbs?"calc(100vh - 295px)":"calc(100vh - 260px)"}},e._l(e.items,(function({key:i,value:s,data:r}){return t("div",{key:s},[i?t("div",{staticClass:"group-by"},[t("span",{staticClass:"key"},[e._v(e._s(i)+": ")]),t("span",[e._v(e._s(s)+" ")]),t("span",[e._v("("+e._s(r.length)+")")])]):e._e(),e._t("items",(function(){return[t("div",{staticClass:"row q-col-gutter-md"},e._l(r,(function(i){return t("div",{key:i.id,staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-3",on:{click:function(t){return e.$emit("select",i.id)}}},[t("div",{staticClass:"card"},[e._t("header",(function(){return[t("div",{staticClass:"row items-center q-pa-md"},[e._t("avatar",(function(){return[t("BaseIcon",{attrs:{name:i.icon,color:"secondary"}})]}),{item:i}),t("div",{staticClass:"col q-mx-md"},[e._t("title",(function(){return[t("div",{staticClass:"title ellipsis"},[e._v(" "+e._s(i[e.title.name])+" ")])]}),{item:i,title:i[e.title.name]}),e._t("subtitle",(function(){return[t("div",{staticClass:"subtitle ellipsis"},[e._v(" "+e._s(i[e.subtitle.name]||"-")+" ")])]}),{subtitle:e.subtitle&&i[e.subtitle.name]})],2),i.infoIcon?e._t("infoIcon",(function(){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon?i.infoIcon:"",color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(t){return e.$emit("info",i.id)}}})]}),{item:i}):e._e()],2)]}),{item:i}),e._t("content",(function(){return[e._columns.length?[t("BaseSeparator",{attrs:{"has-inset":""}}),t("div",{staticClass:"q-py-sm"},e._l(e._columns,(function(s){return t("div",{key:s.id},[e._t(s.name,(function(){return[t("div",{staticClass:"row q-px-md q-py-sm"},[t("div",{staticClass:"label ellipsis medium"},[e._v(" "+e._s(s.label)+" ")]),t("q-space"),"FILE_UPLOAD"===s.dataType?[t("div",{staticClass:"ellipsis medium text-right"},e._l(i[s.name],(function(s,r){return t("div",{key:r,staticClass:"row"},[t("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":e.fileType(s.fileName)}}),t("span",{staticClass:"text-secondary file-underline col",on:{click:function(t){return e.viewFile(s,i)}}},[e._v(e._s(s.fileName))])],1)})),0)]:[t("div",{staticClass:"ellipsis medium text-right"},[e._v(" "+e._s(i[s.name]||"-")+" ")])]],2)]}),{column:s.label,value:i[s.name],item:i})],2)})),0)]:e._e()]}),{item:i}),e.noActions?e._e():t("BaseSeparator",{attrs:{"has-inset":""}}),e.noActions?e._e():e._t("footer",(function(){return["BROWSE"===e.mode?[i.actionAccess?[t("Action",{staticClass:"col",attrs:{icon:"eva-eye-outline",label:"View"},on:{click:function(t){return t.stopPropagation(),e.$emit("select",i.id)}}})]:[t("div",{staticClass:"row items-center"},[e.security||e.visibility(i)?[i.actionButton?[t("Action",{staticClass:"col",attrs:{icon:"eva-edit-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-shield-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("secure",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("BaseActionButton",{staticClass:"q-mx-md",attrs:{"is-flat":"",icon:"eva-more-vertical","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}})]:[t("Action",{staticClass:"col",attrs:{icon:"eva-edit-outline",label:"Edit"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),e.showExport?[t("BaseActionButton",{staticClass:"q-mx-sm",attrs:{"is-flat":"",icon:"eva-download-outline","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("export",i.id)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}})]:e._e(),t("BaseActionButton",{staticClass:"q-mx-md",attrs:{"is-flat":"",icon:"eva-more-vertical","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}})]]:e._e()],2)]]:e._e(),e.visibility(i)||e.security?e._e():[[t("Action",{attrs:{icon:"mdi-eye-outline",label:"View"},on:{click:function(t){return t.stopPropagation(),e.$emit("select",i.id)}}})]],"TRASH"===e.mode?[e.security||e.visibility(i)?[t("Action",{attrs:{icon:"mdi-history",label:"Restore"},on:{click:function(t){return t.stopPropagation(),e.$emit("restore",i.id)}}})]:e._e()]:e._e()]}),{item:i})],2)])})),0)]}),{items:r})],2)})),0)],1)},r=[],a=(i("caad"),i("94f5")),o=i("fa1f"),n={name:"ItemGrid",components:{Action:a["a"],FileIcon:o["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},security:{type:Boolean,default:!0},noActions:{type:Boolean,default:!1},breadcrumbs:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{userId:this.$store.state.session.id,email:this.$store.state.session.email}},computed:{title(){return this.columns.find(e=>"TITLE"===e.type)},subtitle(){return this.columns.find(e=>"SUBTITLE"===e.type)},_columns(){return this.columns.filter(e=>"NORMAL"===e.type&&e.isVisible)}},methods:{visibility(e){const t=Number(this.userId),i=this.email;let s=!1;const r=e.owner?e.owner.map(e=>e.id):[0],a=e.coordinator?e.coordinator.map(e=>e.id):[0];return(e.createdBy===i||r.includes(t)||a.includes(t)||1===t)&&(s=!0),s},viewFile(e,t){e.createdBy=t.createdBy,e.createdAt=t.createdAt,this.$emit("viewFile",e)},fileType(e){if(e)return e.split(".").reverse()[0].slice(0,4)}}},l=n,c=(i("0f1c"),i("2877")),u=i("2c91"),d=i("93dc"),p=i.n(d),m=Object(c["a"])(l,s,r,!1,null,null,null);t["a"]=m.exports;p()(m,"components",{QSpace:u["a"]})},"064c":function(e,t,i){"use strict";i("caad");var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row items-center",attrs:{id:"item-actions"}},[(e.customProcessForm,e._e()),e.sendInvite?[t("div",{attrs:{classs:"cursor-pointer"},on:{click:function(t){return e.$emit("invite")}}},[t("q-chip",{staticClass:"cursor-pointer primary-hover q-mr-sm",attrs:{outline:"",color:"primary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-account-plus",color:"primary","text-color":"white"}}),e._v(" Send Invite ")],1)],1)]:e._e(),e.processForward?[t("div",{attrs:{classs:"cursor-pointer"},on:{click:function(t){return e.$emit("forward")}}},[t("q-chip",{staticClass:"cursor-pointer orange-hover",attrs:{outline:"",color:"orange"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-arrow-right",color:"orange","text-color":"white"}}),e._v(" Assign ")],1)],1)]:e._e(),e.workflowInitiate?[e.initiateAccess?[t("div",{attrs:{classs:"cursor-pointer "},on:{click:function(t){return e.$emit("initiate")}}},[t("q-chip",{staticClass:"cursor-pointer secondary-hover q-mr-sm",attrs:{outline:"",color:"secondary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),e._v(" Initiate ")],1)],1)]:[t("q-chip",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Choose document to initiate",expression:"'Choose document to initiate'",modifiers:{top:!0}}],staticClass:"cursor-pointer secondary-hover",attrs:{outline:"",disable:"",color:"secondary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-plus-thick",color:"secondary","text-color":"white"}}),e._v(" Initiate ")],1)]]:e._e(),e.gotoInbox?t("div",{staticClass:"cursor-pointer q-mr-xs",on:{click:function(t){return e.$emit("inbox")}}},[t("q-chip",{staticClass:"cursor-pointer primary-hover",attrs:{outline:"",color:"primary"}},[t("q-avatar",{staticClass:"q-mr-md",attrs:{icon:"mdi-email",color:"primary","text-color":"white"}}),e._v(" My Inbox ")],1)],1):e._e(),e.workflowImport?t("ImportPopup",{attrs:{"chip-button":!0,"data-imported":e.dataImported,"form-id":e.formId},on:{upload:e.upload,close:e.closeImport}}):e._e(),e.downloadAll?t("div",{staticClass:"row q-pr-xs",class:{download:e.checkIconCount}},[e.visibleDownload?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"download",expression:"'download'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{icon:"mdi-download-outline","is-flat":"","no-border":""},on:{click:function(t){return e.$emit("downloadAll",e.item.id)}}}):e._e(),e.visiblePrint?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"print",expression:"'print'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"eva-printer-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("printAll",e.item.id)}}}):e._e(),e.visibleEmail?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Email Sharing",expression:"'Email Sharing'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-ml-xs q-mr-xs",attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("emailAll",e.item)}}}):e._e(),e.visibleDelete?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"repositoryIcon q-pa-sm",attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(t){return e.$emit("deleteFileAction",e.item.id)}}}):e._e()],1):e._e(),e._t("filterSearchIcon"),e.simpleSearchFilter?t("div",[e.hideActions.includes("search")?e._e():t("ExpandableSearch",{staticClass:"q-mr-sm",on:{search:e.searchTable}})],1):t("div",{staticClass:"q-mr-xs"},[t("SimpleSearchWithFilter",{attrs:{columns:e.columns,"filter-by":e.filterBy},on:{keyup:e.searchTable,update:e.updateSimpletSearchFilterBy}})],1),e.id?t("SelectField",{staticClass:"fieldList q-mr-sm",attrs:{"is-mandatory":"",placeholder:"Select day","is-searchable":!0,options:e.dateFilter},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}):e._e(),e.refresh||e.id?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"refresh",expression:"'refresh'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-refresh"},on:{click:function(t){return e.$emit("refresh")}}}):e._e(),e.jiraConnect?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"JIRA - Create Issue",expression:"'JIRA - Create Issue'",modifiers:{top:!0}}],attrs:{icon:"mdi-jira","no-border":"","is-flat":""},on:{click:function(t){return e.$emit("jira")}}}):e._e(),"TRASH"===e.mode?t("div",{staticClass:"row justify-end"},[e.deleteBtn?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Restore Selected Items",expression:"'Restore Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-history"},on:{click:function(t){return t.stopPropagation(),e.$emit("restore")}}}):e._e()],1):e._e(),e.deleteBtn?t("div",[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete Selected Items",expression:"'Delete Selected Items'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete")}}})],1):e._e(),e.hideActions.includes("toggle")?e._e():t("ToggleColumns",{attrs:{columns:e.repositoryFields?"LIST"===e.activeView?e.columns:[]:e.columns,"repository-fields":e.repositoryFields,"toggle-id":e.toggleId},on:{"update:columns":e.updateColumns,viewColumns:e.viewColumns}}),e.hideActions.includes("sort")?e._e():t("SortItems",{attrs:{columns:e.columns,order:e.order,criteria:e.criteria},on:{"update:order":e.updateOrder,"update:criteria":e.updateCriteria}}),e.hideActions.includes("group")?e._e():t("GroupItems",{attrs:{columns:e.columns,"group-by":e.groupBy},on:{"update:groupBy":e.updateGroupBy}}),e.hideActions.includes("filter")?e._e():t("FilterItems",{attrs:{item:e.item,columns:e._columns,"filter-by":e.filterBy,"selected-filter":e.selectedFilter,"search-content":e.searchContent,"content-search":e.contentSearch,module:e.module,"module-id":e.moduleId},on:{update:e.updateFilterBy,updateContentSearch:e.updateContentSearch}}),e.importData?t("ImportPopup",{attrs:{"data-imported":e.dataImported,"form-id":e.formId},on:{upload:e.upload,close:e.closeImport,downloadTemplate:e.downloadTemplate}}):e._e(),e.importJson?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"import",expression:"'import'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-import"},on:{click:function(t){return e.$emit("import")}}}):e._e(),!e.hideActions.includes("export")&&e.exportData?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Export",expression:"'Export'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-arrow-right"},on:{click:function(t){return e.$emit("export")}}}):e._e(),e.hideActions.includes("activeView")?e._e():t("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}),e.hideActions.includes("activeView")?e._e():t("ViewToggle",{attrs:{"active-view":e.activeView,"thumbnail-view":e.thumbnailView,"grid-view":e.gridView,module:e.module},on:{"update:activeView":e.updateActiveView}}),t("KanbanView",{attrs:{"kanban-view":e.kanbanView,"active-view":e.activeKanbanView,"kanban-list":e.kanbanList},on:{"update:activeKanbanView":e.updateActiveKanbanView,clickKanban:function(t){return e.$emit("clickKanban")}}}),e.dashboardView?t("BaseSeparator",{staticClass:"q-mx-sm",attrs:{"is-vertical":"","has-inset":""}}):e._e(),e.dashboardView?t("DashboardView",{attrs:{"dashboard-view":e.dashboardView,"chart-view":e.chartView,"table-view":e.tableView,page:e.page},on:{"update:activeDashboardView":e.updateActiveDashboardView}}):e._e(),e._t("extraIcon")],2)},r=[],a=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"columns",expression:"'columns'",modifiers:{bottom:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-table-column-plus-after"}},[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[t("div",{staticClass:"row border"},[t("div",{staticClass:"title-3 q-pa-xs col-auto"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Show/Hide Columns",autofocus:""},domProps:{value:e.searchColumns},on:{keyup:function(t){return e.searchColumnList(e.searchColumns)},input:function(t){t.target.composing||(e.searchColumns=t.target.value)}}})]),e.repositoryFields&&e.columns.length?t("div",{staticClass:"col-auto q-pa-xs"},[t("BaseButton",{attrs:{label:"Apply",color:"primary"},on:{click:e.apply}})],1):e._e()]),t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight}},e._l(e._columns,(function(i){return t("ListItem",{key:i.id,class:i.display,attrs:{icon:i.isVisible?"mdi-checkbox-marked":"mdi-checkbox-blank-outline","is-selected":i.isVisible,label:i.label},on:{click:function(t){return e.updateColumns(i)}}})})),1)],1)],1)},o=[],n=(i("14d9"),i("cade")),l=i("1b0d"),c={name:"ToggleColumns",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},repositoryFields:{type:Boolean,default:!1},toggleId:{type:Number,default:0}},data(){return{filterColumns:[],columnList:"",searchColumns:""}},computed:{_columns(){return this.columns.filter(e=>"NORMAL"===e.type)},scrollbarHeight(){const e=36*this._columns.length;return e>216?"276px":e+58+"px"}},methods:{updateColumns1(e){const t=this.columns,i=t.findIndex(t=>t.id===e);t[i].isVisible=!t[i].isVisible,this.$emit("update:columns",t)},apply(){this.filterColumns=[],console.log(this.columns),this.columns.forEach(e=>{!1===e.isVisible&&this.filterColumns.push({Fieldid:e.fieldId,value:e.isVisible})}),console.log(this.filterColumns),this.$emit("viewColumns",this.filterColumns),this.filterColumns=[]},searchColumnList(e){this.columns.forEach(t=>{t.display="",e&&(t.label.toLowerCase().includes(e.toLowerCase())||(t.display="hide"))})},async updateColumns(e){if(this.toggleId){const t=this.columns.findIndex(t=>t.id===e.id);this.columns[t].isVisible=!this.columns[t].isVisible;let i={id:e.hideId||0,columnName:e.id};const{error:s,payload:r}=await l["k"].updateHideColumns(this.toggleId,i);if(s)return void this.$alert.error(s);let a=[];e.hideId?a=this.columns.filter(t=>t.id!=e.hideId):(a=this.columns,a.push({id:r,columnName:e.id})),this.columns[t].hideId=e.hideId?0:r,this.$emit("update:columns",a)}else{const t=this.columns,i=t.findIndex(t=>t.id===e.id);t[i].isVisible=!t[i].isVisible,this.$emit("update:columns",t)}}}},u=c,d=(i("ee26"),i("2877")),p=i("4e73"),m=i("93dc"),h=i.n(m),f=Object(d["a"])(u,a,o,!1,null,"251c6f56",null),v=f.exports;h()(f,"components",{QMenu:p["a"]});var y=i("c559"),b=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"group",expression:"'group'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"eva-copy-outline","no-border":""}},[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight,width:"240px"}},[t("div",{staticClass:"title-3 q-pa-md"},[e._v("Group By")]),e._l(e._columns,(function(i){return t("ListItem",{key:i.id,attrs:{icon:i.name===e.groupBy?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===e.groupBy,label:i.label},on:{click:function(t){return e.updateGroupBy(i.name)}}})}))],2)],1)],1)},g=[],_={name:"GroupItems",components:{ListItem:n["a"]},props:{columns:{type:Array,required:!0},groupBy:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(e=>e.isGroupable)]},scrollbarHeight(){const e=36*this._columns.length;return e>216?"276px":e+58+"px"}},methods:{updateGroupBy(e){this.$emit("update:groupBy",e)}}},w=_,S=Object(d["a"])(w,b,g,!1,null,"72f07afc",null),C=S.exports;h()(S,"components",{QMenu:p["a"]});var k=i("27bd"),B=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"view-toggle"}},[e._l(e._views,(function(i){return[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:e.activeView===i.value?i.activeIcon:i.icon,color:e.activeView===i.value?"secondary":"gray"},on:{click:function(t){return e.updateActiveView(i.value)}}})]})),t("DefaultView",{attrs:{value:e.showDefaultView,view:e.defaultView},on:{handleYes:e.handleYes,handleNo:e.handleNo,hideSheet:function(t){e.showDefaultView=!1}}})],2)},$=[],x=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-info-outline","icon-color":"orange"},on:{input:e.hideSheet},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Default view?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Do you want to make this "),t("b",[e._v('"('+e._s(e.view)+')"')]),e._v(" view is default? . ")]),t("p",[e._v("You can always change this view.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:e.handleYes}})]},proxy:!0}])})},I=[],T=i("1c54"),A={name:"DefaultView",components:{Confirm:T["a"]},props:{value:{type:Boolean,required:!0},view:{type:String,required:!0}},methods:{handleNo(){this.$emit("handleNo",!1)},hideSheet(){this.$emit("hideSheet",!1)},handleYes(){this.$emit("handleYes",!1)}}},V=A,D=Object(d["a"])(V,x,I,!1,null,"38f8db3d",null),P=D.exports,L=i("4360"),O={name:"ViewToggle",components:{DefaultView:P},props:{activeView:{type:String,default:"GRID",validator(e){return["GRID","LIST","THUMBNAIL"].includes(e)}},thumbnailView:{type:Boolean,default:!1},gridView:{type:Boolean,default:!0},module:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Grid View",value:"GRID",icon:"mdi-view-grid-outline",activeIcon:"mdi-view-grid"},{id:this.$nano.id(),label:"List View",value:"LIST",icon:"mdi-format-list-checkbox",activeIcon:"mdi-view-list"},{id:this.$nano.id(),label:"Thumbnail View",value:"THUMBNAIL",icon:"eva-image-outline",activeIcon:"eva-image"}],showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{}}},computed:{_views(){return this.thumbnailView?this.views:this.gridView?this.views.slice(0,2):this.views.slice(1,2)}},created(){this.getDefaultView()},methods:{updateActiveView(e){this.defaultView=e,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeView",this.defaultView),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t={},i=this.$route.query.repositoryId,s="";i&&(s="files"),t=s?{preference:{[this.$route.meta.subMenu]:[{menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}}:{preference:{[e]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView}]}};const{error:r,payload:a}=await l["n"].addProfilePreference(t);this.$store.commit("hideLoadingBar"),r?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",t.preference),L["a"].commit("setPreferenceId",a),this.viewAlreadyAdded=!0,this.options=t,this.$emit("update:activeView",this.defaultView))},async updateDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t=this.$route.meta.breadcrumb,i=this.$route.query.repositoryId,s="";i&&(s="files");let r={};if(s)if(this.options[s])if(this.options[s].length){let e=this.options[s].findIndex(e=>e.subMenu===t);console.log(e),e>=0?this.options[s][e].view=this.defaultView:this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[s]=[],this.options[s].push({menu:this.$route.meta.subMenu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else if(this.options[e])if(this.options[e].length){let i=this.options[e].findIndex(e=>e.subMenu===t);i>=0?this.options[e][i].view=this.defaultView:this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView})}else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultView});let a=JSON.stringify(this.options);r={preference:JSON.parse(a)};const{error:o}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,r);this.$store.commit("hideLoadingBar"),o?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",r.preference),this.$emit("update:activeView",this.defaultView))},async getDefaultView(){const{error:e,payload:t}=await l["n"].getProfilePreference(this.userId);e?this.$alert.error("Error fetching get default view"):t?(this.options=JSON.parse(t.options),L["a"].commit("setDefaultView",this.options),L["a"].commit("setPreferenceId",t.id)):this.viewAlreadyAdded=!1}}},q=O,E=(i("cd8d"),Object(d["a"])(q,B,$,!1,null,"75627166",null)),N=E.exports,M=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"kanban-view"}},[e.kanbanView?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Kanban View",expression:"'Kanban View'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:(e.activeKanban,"mdi-grid"),color:e.activeKanban?"secondary":"gray","no-border":""},on:{click:function(t){return e.$emit("clickKanban")}}},[e.kanbanList.length?t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top right"}},[t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight,width:"240px"}},e._l(e.kanbanList,(function(i){return t("ListItem",{key:i.id,attrs:{icon:i.name===e.activeView?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.name===e.activeView,label:i.label},on:{click:function(t){return e.selectKanban(i.name)}}})})),1)],1):e._e()],1):e._e(),t("DefaultView",{attrs:{value:e.showDefaultView,view:e.defaultView},on:{handleYes:e.handleYes,handleNo:e.handleNo,hideSheet:function(t){e.showDefaultView=!1}}})],1)},R=[],F={name:"KanbanView",components:{ListItem:n["a"],DefaultView:P},props:{activeView:{type:String,default:""},kanbanView:{type:Boolean,default:!1},kanbanList:{type:Array,default:()=>[]}},data(){return{showDefaultView:!1,defaultView:"",userId:this.$store.state.session.id,viewAlreadyAdded:!0,options:{},defaultViewId:""}},computed:{scrollbarHeight(){const e=36*this.kanbanList.length;return e>216?"276px":e+58+"px"},activeKanban(){return"LIST"!==this.activeView&&"GRID"!==this.activeView&&"CHART"!==this.activeView&&"TABLE"!==this.activeView}},created(){this.getDefaultView()},methods:{selectKanban(e){let t=this.kanbanList.find(t=>t.name===e);console.log(t),t&&(this.defaultView=t.label),this.defaultViewId=e,this.showDefaultView=!0},handleYes(){this.showDefaultView=!1,this.viewAlreadyAdded?this.updateDefaultView():this.addDefaultView()},handleNo(){this.$emit("update:activeKanbanView",this.defaultViewId),this.showDefaultView=!1},async addDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t={preference:{[e]:[{menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId}]}};const{error:i,payload:s}=await l["n"].addProfilePreference(t);this.$store.commit("hideLoadingBar"),i?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",t.preference),L["a"].commit("setPreferenceId",s),this.viewAlreadyAdded=!0,this.options=t,this.$emit("update:activeKanbanView",this.defaultViewId))},async updateDefaultView(){this.$store.commit("showLoadingBar");let e=this.$route.meta.menu,t=this.$route.meta.breadcrumb,i={};if(this.options[e])if(this.options[e].length){let i=this.options[e].findIndex(e=>e.subMenu===t);i>=0?this.options[e][i].view=this.defaultViewId:this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId})}else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});else this.options[e]=[],this.options[e].push({menu:this.$route.meta.menu,subMenu:this.$route.meta.breadcrumb,view:this.defaultViewId});i={preference:this.options};const{error:s}=await l["n"].updateProfilePreference(this.$store.state.preferenceId,i);this.$store.commit("hideLoadingBar"),s?this.$alert.error("Error fetching changing view"):(L["a"].commit("setDefaultView",i.preference),this.$emit("update:activeKanbanView",this.defaultViewId))},async getDefaultView(){const{error:e,payload:t}=await l["n"].getProfilePreference(this.userId);e?this.$alert.error("Error fetching get default view"):t?(this.options=JSON.parse(t.options),L["a"].commit("setDefaultView",this.options),L["a"].commit("setPreferenceId",t.id)):this.viewAlreadyAdded=!1}}},j=F,G=(i("6c88"),Object(d["a"])(j,M,R,!1,null,"6f4b2704",null)),U=G.exports;h()(G,"components",{QMenu:p["a"]});var Y=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"dashboard-view"}},e._l(e._views,(function(i){return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.label,expression:"view.label",modifiers:{top:!0}}],key:i.id,attrs:{"is-flat":"","no-border":"",icon:e.dashboardView===i.value?i.activeIcon:i.icon,color:e.dashboardView===i.value?"secondary":"gray"},on:{click:function(t){return e.updateDashboardView(i.value)}}})})),1)},H=[],z={name:"DashboardView",props:{dashboardView:{type:String,default:"CHART",validator(e){return["CHART","TABLE","SANKEY","KANBAN"].includes(e)}},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!0},page:{type:String,default:""}},data(){return{views:[{id:this.$nano.id(),label:"Table View",value:"TABLE",icon:"mdi-table",activeIcon:"mdi-table"},{id:this.$nano.id(),label:"Chart View",value:"CHART",icon:"eva-image",activeIcon:"eva-image"},{id:this.$nano.id(),label:"Sankey View",value:"SANKEY",icon:"mdi-chart-sankey-variant",activeIcon:"mdi-chart-sankey-variant"}]}},computed:{_views(){if("REPORT"===this.page)return this.views.slice(0,2);let e=location.origin;return"https://edmsuat.sobhaapps.com"===e||"https://edms.sobhaapps.com"===e?this.views.slice(1,2):this.views.slice(1,3)}},methods:{updateDashboardView(e){this.$emit("update:activeDashboardView",e)}}},W=z,K=(i("8180"),Object(d["a"])(W,Y,H,!1,null,"1da74fbd",null)),J=K.exports,Q=i("be3f"),X=i("0cdc"),Z=i("12b8"),ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col",attrs:{id:"search-items"}},[t("div",{attrs:{id:"Simple-search"}},[t("div",{staticClass:"label",staticStyle:{"margin-left":"0px"}},[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search By",expression:"'Search By'",modifiers:{top:!0}}],attrs:{"is-flat":"",icon:"mdi-filter-plus-outline",color:e.activeFilter?"secondary":"gray","no-border":""}},[e.filter?t("div"):e._e(),t("q-menu",{attrs:{"auto-close":"","transition-show":"scale","transition-hide":"scale",anchor:"bottom end",self:"top left"}},[t("div",{staticClass:"title-3 q-pa-xs border"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchColumns,expression:"searchColumns"}],ref:"searchQuery",staticClass:"q-pa-md",attrs:{type:"text",placeholder:"Type here to search"},domProps:{value:e.searchColumns},on:{click:function(e){e.stopPropagation()},keyup:function(t){return e.searchColumnList(e.searchColumns)},input:function(t){t.target.composing||(e.searchColumns=t.target.value)}}})]),t("BaseScrollbar",{staticClass:"q-pb-sm",attrs:{height:e.scrollbarHeight,width:"240px"}},[e._l(e.columnList,(function(i){return[i.display&&!1!==i.isFilter?t("ListItem",{key:i.id,attrs:{icon:i.selected?"eva-radio-button-on":"eva-radio-button-off","is-selected":i.selected,label:i.label},on:{click:function(t){return e.updateFilterBy(i.id)}}}):e._e()]}))],2)],1)],1),e.activeFilter?t("div",{staticClass:"selectedLabel"},[t("span",{staticClass:"text-bold"},[e._v(e._s(e.selectedLabel)+" :")])]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],ref:"searchQuery",staticClass:"q-px-xs",class:{"text-input-small":e.activeFilter,"text-input-big":!e.activeFilter},attrs:{type:"text",placeholder:e.isdataTypeIsDate?"YYYY-MM-DD":"Search"},domProps:{value:e.searchInput},on:{keyup:e.emitKeyUp,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateSimpleSearch.apply(null,arguments)},input:function(t){t.target.composing||(e.searchInput=t.target.value)}}}),t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Search",expression:"'Search'",modifiers:{top:!0}}],attrs:{icon:"eva-search","no-border":"","is-flat":""},on:{click:e.updateSimpleSearch}}),e.activeFilter?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"clear",expression:"'clear'",modifiers:{top:!0}}],attrs:{icon:"mdi-close-circle","no-border":"","is-flat":""},on:{click:e.clearSimpleSearch}}):e._e()],1)])])},te=[],ie={name:"SimpleSearchWithFilter",components:{ListItem:n["a"]},props:{columns:{type:Array,default:()=>[]},filterBy:{type:Array,required:!0}},data(){return{filter:!1,activeFilter:!1,searchColumns:"",columnList:[],filterArray:[],searchInput:"",selectedLabel:"",FilterValue:"",isdataTypeIsDate:!1,isSingleSelect:!1}},computed:{scrollbarHeight(){const e=36*this.columns.length;return e>216?"276px":e+58+"px"}},watch:{$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.activeFilter=!1,this.filterArray=[],this.searchInput="",this.FilterValue="")}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&(this.activeFilter=!1)}},columns:{deep:!0,immediate:!0,handler(){this.columnList=[],this.columns.forEach(e=>{this.columnList.push({...e,selected:!1,display:"show"})})}}},methods:{emitKeyUp(){this.FilterValue=this.searchInput,this.$emit("keyup",this.searchInput)},updateSimpleSearch(){if(this.activeFilter)if(0===this.filterArray.length){let e=[];this.$emit("update",e)}else if(this.isSingleSelect){let e=[];e[0]=this.FilterValue,this.filterArray[0].filters[0].value=JSON.stringify(e),this.filterArray[0].filters[0].arrayValue=e,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)}else this.filterArray[0].filters[0].value=this.FilterValue,this.$emit("click",this.filterArray),this.$emit("update",this.filterArray)},searchColumnList(e){this.columnList.forEach(t=>{t.display="show",t.label.toLowerCase().includes(e.toLowerCase())||(t.display="")})},updateFilterBy(e){this.filter=!this.filter,this.columnList.forEach(e=>{e.selected=!1});let t=this.columnList.find(t=>t.id===e);if(t){t.selected=!0,this.activeFilter=!0,this.selectedLabel=t.label;let e=[];if("None"==t.value)this.activeFilter=!1;else{let i="CONTAINS";"DATE"===t.dataType&&(i="IS_EQUALS_TO",this.isdataTypeIsDate=!0,this.isSingleSelect=!1),"SINGLE_SELECT"===t.dataType?(this.isSingleSelect=!0,e=[{filters:[{criteria:t.name,criteriaArray:[t.name],condition:i,value:"",arrayValue:"",dataType:"SINGLE_SELECT"}],groupCondition:""}],this.filterArray=e):(this.isSingleSelect=!1,e=[{filters:[{criteria:t.name,condition:i,value:"",dataType:t.dataType}],groupCondition:""}]),this.filterArray=e}}},clearSimpleSearch(){this.columnList.forEach(e=>{e.selected=!1}),this.isdataTypeIsDate=!1,this.filterArray=[],this.searchInput="",this.FilterValue="",this.activeFilter=!1,this.filter=!this.filter,this.$emit("update",this.filterArray)}}},se=ie,re=(i("ba5a"),Object(d["a"])(se,ee,te,!1,null,"a32bb6e0",null)),ae=re.exports;h()(re,"components",{QMenu:p["a"]});var oe={name:"ItemActions",components:{ToggleColumns:v,ViewToggle:N,SortItems:y["a"],GroupItems:C,FilterItems:k["a"],ExpandableSearch:Q["a"],KanbanView:U,DashboardView:J,ImportPopup:X["a"],SelectField:Z["a"],SimpleSearchWithFilter:ae},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},activeView:{type:String,required:!0},thumbnailView:{type:Boolean,default:!1},filterColumns:{type:Array,default:()=>[]},selectedFilter:{type:Array,default:()=>[]},gridView:{type:Boolean,default:!0},kanbanView:{type:Boolean,default:!1},activeKanbanView:{type:String,default:""},kanbanList:{type:Array,default:()=>[]},jiraConnect:{type:Boolean,default:!1},importData:{type:Boolean,default:!1},dataImported:{type:Boolean,default:!1},hideActions:{type:Array,default:()=>[]},workflowInitiate:{type:Boolean,default:!1},initiateAccess:{type:Boolean,default:!1},gotoInbox:{type:Boolean,default:!1},workflowImport:{type:Boolean,default:!1},formId:{type:String,default:"0"},dashboardView:{type:String,default:""},chartView:{type:Boolean,default:!1},tableView:{type:Boolean,default:!1},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},repositoryFields:{type:Boolean,default:!1},id:{type:Number,default:0},module:{type:String,default:""},moduleId:{type:[String,Number],default:0},deleteBtn:{type:Boolean,default:!1},mode:{type:String,default:""},page:{type:String,default:""},toggleId:{type:Number,default:0},simpleSearchFilter:{type:Boolean,default:!1},simpleSearchApplyed:{type:Boolean,default:!1},customProcessForm:{type:Boolean,default:!1},refresh:{type:Boolean,default:!0},exportData:{type:Boolean,default:!0},sendInvite:{type:Boolean,default:!1},downloadAll:{type:Boolean,default:!1},visibleDownload:{type:Boolean,default:!1},visiblePrint:{type:Boolean,default:!1},visibleEmail:{type:Boolean,default:!1},visibleDelete:{type:Boolean,default:!1},processForward:{type:Boolean,default:!1},importJson:{type:Boolean,default:!1}},data(){return{dateFilter:[{id:this.$nano.id(),label:"Today",value:"today"},{id:this.$nano.id(),label:"Yesterday",value:"yesterday"},{id:this.$nano.id(),label:"This Week",value:"7days"},{id:this.$nano.id(),label:"Last week",value:"week"},{id:this.$nano.id(),label:"This Month ",value:"Currentmonth"},{id:this.$nano.id(),label:"Last Month",value:"month"},{id:this.$nano.id(),label:"Last Quarter",value:"quarter"},{id:this.$nano.id(),label:"This Year",value:"currentyear"},{id:this.$nano.id(),label:"Last Year",value:"year"}],dateValue:""}},computed:{_columns(){return this.filterColumns.length?this.filterColumns:this.columns},checkIconCount(){let e,t=0;return this.visibleDownload&&(t+=1),this.visibleEmail&&(t+=1),this.visiblePrint&&(t+=1),this.visibleDelete&&(t+=1),2===t&&(e=!0),3===t&&(e=!0),4===t&&(e=!0),e}},watch:{dateValue:{deep:!0,immediate:!0,handler(){if(this.dateValue)if("today"===this.dateValue){let e=this.dateValue;const t=new Date;t.setDate(t.getDate());const i=t.toISOString().split("T")[0];this.$emit("filter",i,i,e)}else if("yesterday"===this.dateValue){let e=this.dateValue;const t=new Date;t.setDate(t.getDate()-1);const i=t.toISOString().split("T")[0];this.$emit("filter",i,i,e)}else if("week"===this.dateValue){let e=this.dateValue,t=new Date,i=t.getDay(),s=new Date(t);s.setDate(t.getDate()-i);let r=new Date(s);r.setDate(s.getDate()-7);let a=new Date(r);a.setDate(r.getDate()+6);let o=r.toISOString().split("T")[0],n=a.toISOString().split("T")[0];this.$emit("filter",o,n,e)}else if("7days"===this.dateValue){let e=this.dateValue,t=new Date,i=t.getDay(),s=new Date(t);s.setDate(t.getDate()-i);let r=new Date(s);r.setDate(s.getDate()+6);let a=s.toISOString().split("T")[0],o=r.toISOString().split("T")[0];this.$emit("filter",a,o,e)}else if("month"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear(),t.getMonth()-1,2),s=new Date(t.getFullYear(),t.getMonth()),r=i.toISOString().split("T")[0],a=s.toISOString().split("T")[0];this.$emit("filter",r,a,e)}else if("quarter"===this.dateValue){let e=this.dateValue,t=new Date,i=t.getMonth(),s=(i-3+12)%12,r=new Date(t.getFullYear(),s,2),a=i-1,o=new Date(t.getFullYear(),a+1,1),n=r.toISOString().slice(0,10),l=o.toISOString().slice(0,10);this.$emit("filter",n,l,e)}else if("year"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear()-1,0,2),s=new Date(t.getFullYear()-1,11,32),r=i.toISOString().split("T")[0],a=s.toISOString().split("T")[0];this.$emit("filter",r,a,e)}else if("Currentmonth"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear(),t.getMonth(),1),s=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`,r=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`;this.$emit("filter",s,r,e)}else if("currentyear"===this.dateValue){let e=this.dateValue,t=new Date,i=new Date(t.getFullYear(),0,2),s=i.toISOString().split("T")[0],r=t.toISOString().split("T")[0];this.$emit("filter",s,r,e)}}}},methods:{updateColumns(e){this.$emit("update:columns",e)},updateCriteria(e){this.$emit("update:criteria",e)},updateOrder(e){this.$emit("update:order",e)},updateGroupBy(e){this.$emit("update:groupBy",e)},updateFilterBy(e,t){this.$emit("update:simpleSearchApplyed",!1),this.$emit("update:filterBy",e),this.$emit("update",e,t)},updateContentSearch(e){this.$emit("update:contentSearch",e)},updateActiveView(e){this.$emit("update:activeView",e)},searchTable(e){this.$emit("search",e)},updateActiveKanbanView(e){this.$emit("update:activeKanbanView",e)},updateActiveDashboardView(e){this.$emit("update:dashboardView",e)},upload(){this.$emit("upload")},closeImport(){this.$emit("close")},viewColumns(e){this.$emit("viewColumns",e)},updateSimpletSearchFilterBy(e){this.$emit("update:simpleSearchApplyed",!0),this.$emit("update:filterBy",e),this.$emit("update",e)},downloadTemplate(){this.$emit("downloadTemplate")}}},ne=oe,le=(i("c925"),i("7225"),i("b047")),ce=i("cb32"),ue=Object(d["a"])(ne,s,r,!1,null,"53ff3a83",null);t["a"]=ue.exports;h()(ue,"components",{QChip:le["a"],QAvatar:ce["a"]})},"0ad7":function(e,t,i){},"0b02":function(e,t,i){"use strict";i("da44")},"0ce8":function(e,t,i){},"0f1c":function(e,t,i){"use strict";i("431c")},1336:function(e,t,i){},"15cb":function(e,t,i){"use strict";i("d2d7")},"193c":function(e,t,i){},"1b26":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"reports-browse"}},[t("Portal",{attrs:{to:"action-bar"}},[e.isLoading?e._e():t("ItemActions",{attrs:{item:"reports",columns:e.columns,"group-by":e.groupBy,order:e.sortBy.order,"filter-by":e.filterBy,"active-view":e.activeView,criteria:e.sortBy.criteria},on:{"update:columns":function(t){e.columns=t},"update:groupBy":function(t){e.groupBy=t},"update:group-by":function(t){e.groupBy=t},"update:order":function(t){return e.$set(e.sortBy,"order",t)},"update:filterBy":function(t){e.filterBy=t},"update:filter-by":function(t){e.filterBy=t},"update:activeView":function(t){e.activeView=t},"update:active-view":function(t){e.activeView=t},"update:criteria":function(t){return e.$set(e.sortBy,"criteria",t)},search:e.searchRow}})],1),t("div",{staticClass:"content"},[e.totalItems?["GRID"===e.activeView?t("ReportsGrid",{attrs:{mode:e.mode,items:e.reportData,columns:e.columns},on:{edit:e.editReports,more:e.addReports,delete:e.deleteReports}}):e._e(),"LIST"===e.activeView?t("ReportsList",{attrs:{mode:e.mode,items:e.reportData,columns:e.columns},model:{value:e.isReportsDetailsVisible,callback:function(t){e.isReportsDetailsVisible=t},expression:"isReportsDetailsVisible"}}):e._e(),t("ReportsDetails",{attrs:{mode:e.mode,columns:e.columns,items:e.reportData},model:{value:e.isFormDetailsVisible,callback:function(t){e.isFormDetailsVisible=t},expression:"isFormDetailsVisible"}}),t("ConfirmDeleteReports",{model:{value:e.isDeleteConfirmationVisible,callback:function(t){e.isDeleteConfirmationVisible=t},expression:"isDeleteConfirmationVisible"}}),t("ConfirmRestoreReports",{model:{value:e.isRestoreConfirmationVisible,callback:function(t){e.isRestoreConfirmationVisible=t},expression:"isRestoreConfirmationVisible"}})]:[t("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"eva-pie-chart-outline",title:"NO DATA",description:"No data available at the moment"}})]],2)],1)},r=[],a=(i("14d9"),i("381b")),o=function(){var e=this,t=e._self._c;return t("ItemGrid",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{view:e.handleRestore,select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore},scopedSlots:e._u([{key:"status",fn:function({column:i,value:s}){return[t("div",{staticClass:"row q-px-md q-py-sm"},[t("div",{staticClass:"label"},[e._v(e._s(i))]),t("q-space"),t("div",{class:{draft:"Draft"===s},attrs:{id:"reports-status"}},[t("BaseIcon",{attrs:{name:"mdi-circle",size:"8px","inherit-color":""}}),t("div",{staticClass:"q-ml-sm"},[e._v(e._s(s))])],1)],1)]}},{key:"entries",fn:function({column:i,value:s,item:r}){return[t("div",{staticClass:"stat",on:{click:function(t){return t.stopPropagation(),e.$emit("entries",r.id)}}},[t("div",{staticClass:"label"},[e._v(e._s(i))]),t("q-space"),t("div",{staticClass:"ellipsis"},[e._v(" "+e._s(s||"-")+" ")])],1)]}}])})},n=[],l=i("0412"),c={name:"ReportsGrid",components:{ItemGrid:l["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{handleRestore(){this.$router.push({name:"reports-list"})},handleMore(){this.$emit("more")},handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)}}},u=c,d=(i("2326"),i("2877")),p=i("2c91"),m=i("93dc"),h=i.n(m),f=Object(d["a"])(u,o,n,!1,null,"eb9265c6",null),v=f.exports;h()(f,"components",{QSpace:p["a"]});var y=i("e7b1"),b=function(){var e=this,t=e._self._c;return t("ItemDetails",{attrs:{value:e.value,history:e.history,overview:e.overview},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Reports Details")]},proxy:!0},{key:"groups",fn:function({value:i}){return[i&&i.length?t("ol",e._l(i,(function(i){return t("li",{key:i.id},[e._v(" "+e._s(i.value)+" ")])})),0):t("div",[e._v("-")])]}}])})},g=[],_=i("9290"),w={name:"ReportsDetails",components:{ItemDetails:_["a"]},props:{value:{type:Boolean,default:!1}},data(){return{isLoading:!1,history:[],overview:[],columns:[]}}},S=w,C=(i("4962"),Object(d["a"])(S,b,g,!1,null,"49a53334",null)),k=C.exports,B=i("2b88"),$=i("c49c"),x=i("064c"),I=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"red"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete Workflow?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to delete the workflow "),t("b",[e._v('"'+e._s(e.workflow.name)+'"')]),e._v(". If you delete the workflow, the workflow will not be able to use in the application. ")]),t("p",[e._v("You can always restore the deleted workflow from the trash page.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:e.handleYes}})]},proxy:!0}])})},T=[],A=i("1c54"),V={name:"ConfirmDeleteWorkflow",components:{Confirm:A["a"]},props:{value:{type:Boolean,required:!0},workflow:{type:Object,required:!0}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("delete",{isDeleted:!0})}}},D=V,P=Object(d["a"])(D,I,T,!1,null,"3e6e8c8c",null),L=P.exports,O=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"orange"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Restore Workflow?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to restore the workflow "),t("b",[e._v('"'+e._s(e.workflow.name)+'"')]),e._v(". If you restore the workflow, the workflow will be able to use the ezofis app. ")]),t("p",[e._v("You can always delete the restored workflow from the browse page.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:e.handleYes}})]},proxy:!0}])})},q=[],E={name:"ConfirmRestoreWorkflow",components:{Confirm:A["a"]},props:{value:{type:Boolean,required:!0},workflow:{type:Object,required:!0}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("restore",{isDeleted:!1})}}},N=E,M=Object(d["a"])(N,O,q,!1,null,"5c51ddd3",null),R=M.exports,F={name:"ReportsBrowseAndTrash",components:{ReportsGrid:v,ReportsList:y["default"],Portal:B["Portal"],StateWrapper:$["a"],ItemActions:x["a"],ReportsDetails:k,ConfirmDeleteReports:L,ConfirmRestoreReports:R},props:{mode:{type:String,required:!0}},data(){return{columns:[{id:this.$nano.id(),name:"name",label:"Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"description",label:"Description",type:"SUBTITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"type",label:"Type",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"published",label:"Published",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:a["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"draft",label:"Draft",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:a["a"].SINGLE_SELECT}],reportData:[{key:"",data:[{id:this.$nano.id(),name:"Single report",description:"Report on a single object such...",type:"Single",published:"2",draft:"0",icon:"mdi-text-box"},{id:this.$nano.id(),name:"Custom Report builder",description:"Report on a single object such...",type:"Custom",published:"1",draft:"0",icon:"mdi-text-box"},{id:this.$nano.id(),name:"Attributions",description:"Report on a single object such...",type:"Attributions",published:"5",draft:"1",icon:"mdi-text-box"},{id:this.$nano.id(),name:"Funnels",description:"Report on a single object such...",type:"Funnels",published:"3",draft:"0",icon:"mdi-text-box"}]}],filterBy:[],isFormDetailsVisible:!1,isDeleteConfirmationVisible:!1,isRestoreConfirmationVisible:!1,activeView:"GRID",totalItems:0}},created:{row_classes(e){if("Custom"===e.type)return"orange"}},methods:{updateFilterBy(e){this.$emit("filter",e)},addReports(){this.isFormDetailsVisible=!0},editReports(){this.$router.push({name:"reports-builder"})},deleteReports(){this.isDeleteConfirmationVisible=!0},handleRestore(){this.$router.push({name:"reports-list"})},row_classes(e){if("Custom"===e.type)return"orange"}}},j=F,G=(i("3d6e"),Object(d["a"])(j,s,r,!1,null,"4b9dc9cf",null));t["default"]=G.exports},"1b57":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"user-browse"}},[t("Portal",{attrs:{to:"action-bar"}},[e.isLoading?e._e():t("ItemActions",{attrs:{item:"user",columns:e.columns,"group-by":e.groupBy,order:e.sortBy.order,"filter-by":e.filterBy,"active-view":e.activeView,criteria:e.sortBy.criteria},on:{"update:columns":function(t){e.columns=t},"update:groupBy":function(t){e.groupBy=t},"update:group-by":function(t){e.groupBy=t},"update:order":function(t){return e.$set(e.sortBy,"order",t)},"update:filterBy":function(t){e.filterBy=t},"update:filter-by":function(t){e.filterBy=t},"update:activeView":function(t){e.activeView=t},"update:active-view":function(t){e.activeView=t},"update:criteria":function(t){return e.$set(e.sortBy,"criteria",t)},refresh:e.getProfile,search:e.searchRow,update:e.getProfile,export:e.export_Data}})],1),e.isLoading?e._e():t("div",{staticClass:"content"},[e.totalItems?[t("ItemActionChips",{attrs:{"sort-by":e.sortBy,columns:e.columns,"group-by":e.groupBy,"filter-by":e.filterBy},on:{clearSortBy:e.clearSortBy,clearGroupBy:e.clearGroupBy,clearFilterBy:e.clearFilterBy}}),"GRID"===e.activeView?t("ProfileGrid",{attrs:{mode:e.mode,items:e.items,columns:e.columns},on:{edit:e.editProfile,more:e.showProfileDetails,delete:e.showDeleteConfirmation,restore:e.showRestoreConfirmation}}):e._e(),"LIST"===e.activeView?t("ProfileList",{attrs:{mode:e.mode,items:e.items,columns:e.columns},on:{edit:e.editProfile,more:e.showProfileDetails,delete:e.showDeleteConfirmation,restore:e.showRestoreConfirmation}}):e._e()]:[t("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"mdi-account-cog-outline",title:"NO DATA",description:"No data available at the moment"}})]],2),e.isLoading?e._e():t("Pagination",{attrs:{"total-items":e.totalItems,"current-page":e.currentPage,"items-per-page":e.itemsPerPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t},loadAll:e.loadAllUsers}}),t("ProfileDetails",{attrs:{columns:e.columns,user:e.selectedProfile},on:{edit:e.editProfile,delete:e.showDeleteConfirmation},model:{value:e.isProfileDetailsVisible,callback:function(t){e.isProfileDetailsVisible=t},expression:"isProfileDetailsVisible"}}),t("ConfirmDeleteProfile",{attrs:{profile:e.selectedProfile},on:{delete:e.updateProfile},model:{value:e.isDeleteConfirmationVisible,callback:function(t){e.isDeleteConfirmationVisible=t},expression:"isDeleteConfirmationVisible"}}),t("ConfirmRestoreProfile",{attrs:{profile:e.selectedProfile},on:{restore:e.updateProfile},model:{value:e.isRestoreConfirmationVisible,callback:function(t){e.isRestoreConfirmationVisible=t},expression:"isRestoreConfirmationVisible"}})],1)},r=[],a=(i("13d5"),i("14d9"),i("caad"),i("381b")),o=i("2b88"),n=i("c49c"),l=i("b6d2"),c=i("064c"),u=i("4904"),d=function(){var e=this,t=e._self._c;return t("ItemGrid",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore},scopedSlots:e._u([{key:"avatar",fn:function({item:i}){return[i.avatar?t("img",{staticClass:"user-avatar",attrs:{src:i.avatar,alt:"avatar"}}):e._e()]}},{key:"title",fn:function({item:i}){return[t("div",{staticClass:"title"},[e._v(" "+e._s(i.name)+" ")])]}},{key:"groups",fn:function({column:i,value:s}){return[t("div",{staticClass:"row q-px-md q-py-sm"},[t("div",{staticClass:"label"},[e._v(e._s(i))]),t("q-space"),t("div",[e._v(" "+e._s(e.appendZeroIfNeeded(s.length)||"-")+" ")])],1)]}}])})},p=[],m=i("0412"),h={name:"ProfileGrid",components:{ItemGrid:m["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{appendZeroIfNeeded(e){return 0===e?0:e<10?"0"+e:e},handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)},handleRestore(e){this.$emit("restore",e)},handleMore(e){this.$emit("more",e)}}},f=h,v=(i("d547"),i("2877")),y=i("2c91"),b=i("93dc"),g=i.n(b),_=Object(v["a"])(f,d,p,!1,null,"3752d8c0",null),w=_.exports;g()(_,"components",{QSpace:y["a"]});var S=function(){var e=this,t=e._self._c;return t("ItemList",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore},scopedSlots:e._u([{key:"avatar",fn:function({item:e}){return[t("div",{staticClass:"row items-center justify-center",staticStyle:{width:"36px"}},[t("BaseIcon",{attrs:{name:e.icon,color:e.color}})],1)]}},{key:"titleHead",fn:function(){return[e._v(" Name ")]},proxy:!0},{key:"groups",fn:function({value:i}){return[t("div",[e._v(" "+e._s(e.appendZeroIfNeeded(i.length)||"-")+" ")])]}}])})},C=[],k=i("f92f"),B={name:"ProfileList",components:{ItemList:k["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{appendZeroIfNeeded(e){return 0===e?0:e<10?"0"+e:e},handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)},handleRestore(e){this.$emit("restore",e)},handleMore(e){this.$emit("more",e)}}},$=B,x=(i("0b02"),Object(v["a"])($,S,C,!1,null,"19a5c13f",null)),I=x.exports,T=function(){var e=this,t=e._self._c;return t("ItemDetails",{attrs:{value:e.value,history:e.history,overview:e.overview},on:{edit:e.handleEdit,input:e.handleInput,delete:e.handleDelete},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Profile Details")]},proxy:!0},{key:"groups",fn:function({value:i}){return[i&&i.length?t("ol",e._l(i,(function(i){return t("li",{key:i.id},[e._v(" "+e._s(i.value)+" ")])})),0):t("div",[e._v("-")])]}}])})},A=[],V=i("1b0d"),D=i("9290"),P={name:"ProfileDetails",components:{ItemDetails:D["a"]},props:{value:{type:Boolean,default:!1},columns:{type:Array,required:!0},user:{type:Object,required:!0}},data(){return{isLoading:!1,history:[],userList:[]}},computed:{overview(){var e=this.userList.filter(e=>this.user["usersList"].includes(e.value)),t=[];e.forEach(e=>{t.push(e.label)});var i=this.columns.reduce((e,i)=>("users"!==i.name&&"menu"!==i.name&&e.push({id:i.id,name:i.name,label:i.label,value:"UsersList"===i.label?t.toString():this.user[i.name]}),e),[]);return i}},watch:{user:{immediate:!0,deep:!0,handler(){this.user.id&&this.getUsers()}}},methods:{handleInput(e){this.$emit("input",e)},handleEdit(){this.$emit("input",!1),this.$emit("edit",this.user.id)},handleDelete(){this.$emit("input",!1),this.$emit("delete",this.user.id)},async getUserHistory(){this.isLoading=!0;const{error:e,payload:t}=await V["s"].getUserHistory(this.user.id);this.isLoading=!1,e?this.$alert.error(e):this.history=t},async getUsers(){this.userList=[];const{error:e,payload:t}=await V["s"].getUserList();e?this.$alert.error("Error fetching users"):t&&t.map(e=>{this.userList.push({id:this.$nano.id(),label:e.value,value:String(e.id)})})}}},L=P,O=(i("e679"),Object(v["a"])(L,T,A,!1,null,"54c18b0f",null)),q=O.exports,E=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"red"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete Profile?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to delete the profile "),t("b",[e._v('"'+e._s(e.name)+'"')]),e._v(". If you delete the profile, the profile will not be able to use in the application. ")]),t("p",[e._v("You can always restore the deleted profile from the trash page.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:e.handleYes}})]},proxy:!0}])})},N=[],M=i("1c54"),R={name:"ConfirmDeleteProfile",components:{Confirm:M["a"]},props:{value:{type:Boolean,required:!0},profile:{type:Object,required:!0}},computed:{name(){return this.profile.name}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("delete",{isDeleted:!0})}}},F=R,j=Object(v["a"])(F,E,N,!1,null,"32a8010e",null),G=j.exports,U=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"orange"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Restore Profile?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to restore the profile "),t("b",[e._v('"'+e._s(e.name)+'"')]),e._v(". If you restore the profile, the profile will be able to use the ezofis app. ")]),t("p",[e._v("You can always delete the restored profile from the browse page.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:e.handleYes}})]},proxy:!0}])})},Y=[],H={name:"ConfirmRestoreProfile",components:{Confirm:M["a"]},props:{value:{type:Boolean,required:!0},profile:{type:Object,required:!0}},computed:{name(){return this.profile.name}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("restore",{isDeleted:!1})}}},z=H,W=Object(v["a"])(z,U,Y,!1,null,"61f8a100",null),K=W.exports,J=i("42fc"),Q={name:"ProfileBrowseAndTrash",components:{Portal:o["Portal"],StateWrapper:n["a"],ItemActionChips:u["a"],ItemActions:c["a"],ProfileGrid:w,ProfileList:I,ProfileDetails:q,Pagination:l["a"],ConfirmDeleteProfile:G,ConfirmRestoreProfile:K},props:{mode:{type:String,required:!0}},data(){return{columns:[{id:this.$nano.id(),name:"name",label:"Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"description",label:"Description",type:"SUBTITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"users",label:"Users",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"menu",label:"Menu",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:a["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"usersList",label:"UsersList",type:"NORMAL",isVisible:!1,isSortable:!1,isGroupable:!1,dataType:a["a"].SHORT_TEXT},{id:this.$nano.id(),name:"options",label:"MenuOptions",type:"NORMAL",isVisible:!1,isSortable:!1,isGroupable:!1,dataType:a["a"].SINGLE_SELECT}],profiles:[],userData:[],activeView:"GRID",selectedProfile:{},isProfileDetailsVisible:!1,isDeleteConfirmationVisible:!1,isRestoreConfirmationVisible:!1,isLoading:!1,sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],totalItems:0,itemsPerPage:50,currentPage:1}},computed:{items(){return this.profiles.map(({key:e,value:t})=>({key:this.groupBy,value:e,data:t.map(e=>({id:e.id,name:e.name||"",description:e.description,users:e.userId_Array.length,usersList:e.userId_Array,options:JSON.parse(e.menuOptions),menu:JSON.parse(e.menuOptions).length?JSON.parse(e.menuOptions).reduce((e,t)=>{for(let i in t)if(t[i]&&"Menu"!==i&&e.push(t),"Menu"===i)for(let s in t.Menu)t.Menu[s]&&"Menu"===i&&e.push(t.Menu[s]);return e},[]).length:0,createdBy:e.createdBy,createdAt:this.$day.format(e.createdAt),modifiedBy:e.modifiedBy,modifiedAt:this.$day.format(e.modifiedAt),icon:"mdi-account-cog"}))}))}},watch:{$route:{immediate:!0,deep:!0,handler(){this.defaultView()}},"$store.state.defaultView":function(){this.defaultView()}},mounted(){this.$watch(e=>[e.sortBy,e.groupBy,e.currentPage,e.itemsPerPage],()=>this.getProfile(),{deep:!0,immediate:!0})},methods:{defaultView(){let e=this.$store.state.defaultView,t=this.$route.meta.menu,i=this.$route.meta.breadcrumb;if(Object.keys(e).length&&e[t]){let s=e[t].find(e=>e.subMenu===i);s&&(this.activeView=s.view)}},clearSortBy(){this.sortBy={criteria:"",order:"DESC"}},clearGroupBy(){this.groupBy=""},clearFilterBy(e,t){this.filterBy[e].filters.splice(t,1),0==this.filterBy[e].filters.length&&(this.filterBy[e].filters=[],this.filterBy.splice(e,1)),0==this.filterBy.length&&(this.filterBy=[]),this.getProfile()},findUser(e){const t=[];return this.items.forEach(e=>t.push(...e.data)),t.find(t=>t.id===e)},showProfileDetails(e){this.selectedProfile=this.findUser(e),this.isProfileDetailsVisible=!0},editProfile(e){this.$router.push({name:"profile-builder",params:{id:String(e)}})},showDeleteConfirmation(e){this.selectedProfile=this.findUser(e),this.isDeleteConfirmationVisible=!0},showRestoreConfirmation(e){this.selectedProfile=this.findUser(e),this.isRestoreConfirmationVisible=!0},loadAllUsers(){this.itemsPerPage=this.totalItems,this.currentPage=1},searchRow(e){this.profiles=e?this.profileList.map(({key:t,value:i})=>({key:t,value:i.filter(t=>{for(let i in t){let s=this.columns.findIndex(e=>e.name===i);if(s>=0&&t[i]&&String(t[i]).toLowerCase().includes(e.toLowerCase()))return t}})})):this.profileList},async getProfile(){this.$store.commit("showLoadingBarPage");let e={mode:this.mode,sortBy:this.sortBy,groupBy:this.groupBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage};const{error:t,payload:i}=await V["n"].getProfile(e);if(this.$store.commit("hideLoadingBarPage"),t)this.$alert.error(t);else if(i){const{data:e,meta:t}=i;this.profiles=e||[],this.profileList=e||[],this.totalItems=t?Number(t.totalItems):0}else this.profiles=[],this.profileList=[]},async updateProfile(e){this.$store.commit("showLoadingBarPage");const{error:t}=await V["n"].deleteProfile(this.selectedProfile.id);if(this.$store.commit("hideLoadingBarPage"),t)return void this.$alert.error(t);const i=e.isDeleted?"deleted":"restored",s=this.selectedProfile.name;this.$alert.success(`Profile "${s}" ${i} successfully`),this.getProfile()},async export_Data(){this.$store.commit("showLoadingBarPage");const{error:e,payload:t}=await V["n"].getProfile({filterBy:this.filterBy,itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);const{meta:i,data:s}=t;if(i.totalItems&&s.length){let e=[];s[0].value.forEach(t=>{e.push({Name:t.name,Description:t.description,"No.of Users":t.userId_Array.length,"Created By":t.createdBy,"Created At":this.$day.format(t.createdAt),"Last Modified By":t.modifiedBy,"Last Modified At":this.$day.format(t.modifiedAt)})});let t="Profile List - Report";"TRASH"===this.mode&&(t="Profile Trash List - Report"),Object(J["a"])(e,t)}}}},X=Q,Z=(i("2a668"),Object(v["a"])(X,s,r,!1,null,"3fef5fc4",null));t["default"]=Z.exports},2326:function(e,t,i){"use strict";i("96a9")},"27bd":function(e,t,i){"use strict";i("caad");var s=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"filter",expression:"'filter'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"eva-funnel-outline",color:e.activeFilter?"secondary":"gray"},on:{click:function(t){e.model=!0}}},[t("Sheet",{attrs:{width:"50vw","has-footer":""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Filter "+e._s(e.item)+"s ")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-pa-md",attrs:{id:"filters"}},[e.searchContent?[t("div",{staticClass:"description"},[e._v(" To search by content, type any text to search the entire folder ")]),t("TextField",{staticClass:"q-mb-md",attrs:{placeholder:"Search the document by content"},model:{value:e.contentSearch.contentSearchValue,callback:function(t){e.$set(e.contentSearch,"contentSearchValue",t)},expression:"contentSearch.contentSearchValue"}}),t("div",{staticClass:"q-mb-md",staticStyle:{"border-bottom":"1px solid var(--divider-color)"}},[e.showAdvanceOptions?t("div",{staticClass:"q-my-md"},[t("SingleChoiceField",{staticClass:"col q-mb-md",attrs:{options:e.searchOptions,"options-per-line":2,label:"Advanced Search Options"},model:{value:e.contentSearch.searchType,callback:function(t){e.$set(e.contentSearch,"searchType",t)},expression:"contentSearch.searchType"}}),t("FormFieldLabel",{attrs:{label:"Search similarity"}}),t("q-slider",{attrs:{color:"secondary",markers:"","marker-labels":"",min:0,max:10,label:""},model:{value:e.contentSearch.fuzzy,callback:function(t){e.$set(e.contentSearch,"fuzzy",t)},expression:"contentSearch.fuzzy"}})],1):e._e(),t("div",{staticClass:"row items-center q-mb-md"},[t("div",{staticClass:"col"},[e.showAdvanceOptions?t("div",{staticClass:"row items-center cursor-pointer",on:{click:function(t){e.showAdvanceOptions=!1}}},[t("BaseIcon",{staticClass:"icon",attrs:{name:"eva-minus",color:"secondary"}}),t("div",{staticClass:"options"},[e._v("Hide Advanced Options")])],1):t("div",{staticClass:"row items-center cursor-pointer",on:{click:function(t){e.showAdvanceOptions=!0}}},[t("BaseIcon",{staticClass:"icon",attrs:{name:"eva-plus",color:"secondary"}}),t("div",{staticClass:"options"},[e._v("Advanced Options")])],1)]),t("div",{staticClass:"col-auto"},[t("div",{staticClass:"actions"},[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:e.clearContentSearch}}),t("BaseButton",{attrs:{label:"search"},on:{click:e.apply}})],1)])])])]:e._e(),e.filterGroups.length?[e._l(e.filterGroups,(function(i,s){return[t("div",{key:i.id,staticClass:"filter-group"},[t("div",{staticClass:"header"},[t("div",{staticClass:"label q-mr-md"},[e._v("Criteria")]),t("div",{staticClass:"label q-mr-md"},[e._v("Condition")]),t("div",{staticClass:"label q-mr-sm"},[e._v("Value")]),t("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"eva-plus","no-border":""},on:{click:function(t){return e.addFilter(s)}}})],1),t("BaseSeparator",{staticClass:"q-mb-md",attrs:{"has-inset":""}}),e._l(i.filters,(function(i,r){return t("ValidationObserver",{key:i.id,ref:"form",refInFor:!0,staticClass:"filter row"},[t("ValidationProvider",{key:i.id,staticClass:"col q-mr-md",attrs:{name:"criteria",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("MultiSelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:e._columns,error:a[0]},on:{input:function(t){return e.applyDataType(s,r,i.criteriaArray)}},model:{value:i.criteriaArray,callback:function(t){e.$set(i,"criteriaArray",t)},expression:"filter.criteriaArray"}})]}}],null,!0)}),t("ValidationProvider",{staticClass:"col-3 q-mr-md",attrs:{name:"condition",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("SelectField",{attrs:{"is-mandatory":"","is-searchable":!0,options:e.conditions(i.criteriaArray),error:s[0]},model:{value:i.condition,callback:function(t){e.$set(i,"condition",t)},expression:"filter.condition"}})]}}],null,!0)}),"SHORT_TEXT"===i.dataType||"BARCODE"===i.dataType?t("ValidationProvider",{staticClass:"col-3 q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"NUMBER"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("NumberField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"DATE"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("DateField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"TIME"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TimeField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}):"SINGLE_SELECT"===i.dataType?t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[e.checkOptions(i.criteriaArray)?[t("AsyncMultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0],"api-path":e.apiPath,"column-name":i.criteriaArray},model:{value:i.arrayValue,callback:function(t){e.$set(i,"arrayValue",t)},expression:"filter.arrayValue"}}),e._e()]:[e._e(),t("MultiSelectField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),"is-searchable":!0,options:e.getOptions(i.criteriaArray),error:s[0]},model:{value:i.arrayValue,callback:function(t){e.$set(i,"arrayValue",t)},expression:"filter.arrayValue"}})]]}}],null,!0)}):t("ValidationProvider",{staticClass:"col q-mr-sm",attrs:{name:"value",rules:{required:!["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition)}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("TextField",{attrs:{"is-mandatory":"","is-disabled":["IS_EMPTY","IS_NOT_EMPTY"].includes(i.condition),error:s[0]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"filter.value"}})]}}],null,!0)}),t("div",{staticClass:"remove-filter"},[t("BaseActionButton",{attrs:{"is-flat":"",color:"red","no-border":"",icon:"eva-close-outline"},on:{click:function(t){return e.removeFilter(s,r)}}})],1)],1)})),t("BaseSeparator",{attrs:{"has-inset":""}}),t("div",{staticClass:"row"},[t("Action",{staticClass:"col",attrs:{icon:"eva-plus-outline",label:"Add Filter Group"},on:{click:function(t){return e.addFilterGroup(s+1)}}}),t("BaseSeparator",{attrs:{"is-vertical":"","has-inset":""}}),t("Action",{staticClass:"col",attrs:{icon:"eva-trash-2-outline",label:"Delete Group"},on:{click:function(t){return e.removeFilterGroup(s)}}})],1)],2),s!==e.filterGroups.length-1?t("div",{key:s,staticClass:"row justify-center"},[t("Toggle",{staticClass:"q-my-md",attrs:{options:e.groupConditions},on:{input:e.groupCondition},model:{value:i.groupCondition,callback:function(t){e.$set(i,"groupCondition",t)},expression:"group.groupCondition"}})],1):e._e()]}))]:[t("div",{staticClass:"add-filter",on:{click:e.addFilterGroup}},[t("BaseIcon",{attrs:{name:"eva-plus","inherit-color":""}}),t("div",{staticClass:"q-ml-sm"},[e._v("Add Filter")])],1)]],2)]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"clear"},on:{click:e.clearFilter}}),t("BaseButton",{attrs:{label:"apply"},on:{click:e.apply}})]},proxy:!0}]),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)},r=[],a=(i("13d5"),i("14d9"),i("874f")),o=i("9996"),n=i("7bb1"),l=i("381e"),c=i("b3d1"),u=i("12b8"),d=i("94f5"),p=i("670a"),m=i("970a"),h=i("ad54"),f=i("53c1"),v=i("cedb"),y=i("70a9"),b=i("0c21"),g=i("c3d2"),_=i("1b0d"),w=i("0d5e"),S=i("3445"),C=i("9234"),k={name:"FilterItems",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],Sheet:l["a"],TextField:c["a"],SelectField:u["a"],Action:d["a"],Toggle:p["a"],NumberField:h["a"],DateField:f["a"],TimeField:v["a"],AsyncMultiSelectField:y["a"],MultiSelectField:g["a"],AsyncSelectField:b["a"],FormFieldLabel:S["a"],SingleChoiceField:C["a"]},props:{item:{type:String,default:"item"},columns:{type:Array,required:!0},filterBy:{type:Array,required:!0},isBordered:{type:Boolean,default:!1},selectedFilter:{type:Array,default:()=>[]},searchContent:{type:Boolean,default:!1},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},module:{type:String,default:""},moduleId:{type:[String,Number],default:0}},data(){return{model:!1,groupConditions:["AND","OR"],filterGroups:[],activeFilter:!1,userList:[],options:[],showAdvanceOptions:!1,searchOptions:[{id:this.$nano.id(),label:"Any of the Words",value:1},{id:this.$nano.id(),label:"All of the Words",value:2}]}},computed:{_columns(){var e=this.columns.reduce((e,t)=>("isFilter"in t?t.isFilter&&e.push({id:t.id,label:t.label,value:t.name,dataType:t.dataType}):e.push({id:t.id,label:t.label,value:t.name,dataType:t.dataType}),e),[]);return e},apiPath(){if("repository"===this.module){if(this.$route.query.repositoryId)return`/repository/${this.moduleId}/uniqueColumnValues`}else if("form"===this.module)return`/form/${this.moduleId}/uniqueColumnValues`;return""}},watch:{model:{deep:!0,handler(){this.model}},$route:{deep:!0,handler(){this.$route.query.repositoryId||(this.filterGroups=[],this.activeFilter=!1)}},filterBy:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}},contentSearch:{deep:!0,immediate:!0,handler(){0===this.filterBy.length&&""===this.contentSearch.contentSearchValue&&(this.activeFilter=!1)}}},created(){this.getUsers()},methods:{conditions(e){if(!e)return[];if(1!==e.length)return Object(m["a"])("SHORT_TEXT").map(e=>({id:this.$nano.id(),label:`${Object(a["a"])(Object(o["a"])(e.split(" ")[0]))} ${e.split(" ")[1]?e.split(" ")[1]:""}`,value:e.split(" ")[0]}));{const t=this.columns.find(t=>t.name===e[0]);if(t)return Object(m["a"])(t.dataType).map(e=>({id:this.$nano.id(),label:`${Object(a["a"])(Object(o["a"])(e.split(" ")[0]))} ${e.split(" ")[1]?e.split(" ")[1]:""}`,value:e.split(" ")[0]}))}},addFilterGroup(e=0){this.filterGroups.splice(e,0,{id:this.$nano.id(),filters:[{id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"",value:"",arrayValue:[]}],groupCondition:(this.filterGroups.length,"")}),this.filterGroups.length&&this.selectedFilter.length&&this.selectedFilter[1]&&1===this.selectedFilter[1].level&&(this.filterGroups[0].filters=[],this.selectedFilter.forEach((e,t)=>{0!=t&&this.filterGroups[0].filters.push({id:this.$nano.id(),criteria:e.fieldName,condition:"IS_EQUALS_TO",value:e.label,arrayValue:e.arrayValue||[]})}))},removeFilterGroup(e){this.filterGroups.splice(e,1)},addFilter(e){this.filterGroups[e].filters.push({id:this.$nano.id(),criteria:"",criteriaArray:[],condition:"CONTAINS",value:"",arrayValue:[]})},removeFilter(e,t){this.filterGroups[e].filters.splice(t,1)},async apply(){let e=0,t={};if(!this.$refs.form)return void(this.searchContent&&(this.$emit("update",this.filterGroups,t),this.model=!1,this.activeFilter=!0));for(const s of this.$refs.form){const t=await s.validate();t||e++}if(e)return;let i=!1;if(this.filterGroups.length&&(this.filterGroups[0].groupCondition="",this.filterGroups[0].filters.length||(this.filterGroups=[]),this.filterGroups.forEach(e=>{e.filters.length&&e.filters.forEach(e=>{e.criteriaArray.length>1?i=!0:e.criteria=e.criteriaArray[0],"SINGLE_SELECT"===e.dataType&&(e.value=JSON.stringify(e.arrayValue))})})),i){let e=[];this.filterGroups.forEach(t=>{t.filters.length&&t.filters.forEach(t=>{t.criteriaArray.forEach((i,s)=>{e.push({filters:[{criteria:i,condition:t.condition,value:t.value,dataType:t.dataType}],groupCondition:s?"OR":""})})})}),this.$emit("update",e,t)}else this.$emit("update",this.filterGroups,t);this.model=!1,this.activeFilter=!0},applyDataType(e,t,i){if(this.filterGroups[e].filters[t].condition="",1===i.length){this.filterGroups[e].filters[t].dataType="";let s=this._columns.find(e=>e.label===i[0]||e.value===i[0]);s&&(this.filterGroups[e].filters[t].dataType=s.dataType,"SHORT_TEXT"===s.dataType?this.filterGroups[e].filters[t].condition="CONTAINS":"SINGLE_SELECT"===s.dataType&&(this.filterGroups[e].filters[t].condition="IS_EQUALS_TO"));let r=this.filterGroups[e].filters[t];"SINGLE_SELECT"===r.dataType?this.filterGroups[e].filters[t].value=[]:this.filterGroups[e].filters[t].value=""}else this.filterGroups[e].filters[t].condition="CONTAINS",this.filterGroups[e].filters[t].dataType="SHORT_TEXT",this.filterGroups[e].filters[t].value=""},clearFilter(){this.filterGroups=[],this.activeFilter=!1,this.clearContentSearch(),this.$emit("update",this.filterGroups,"")},clearContentSearch(){this.showAdvanceOptions=!1,this.contentSearch.contentSearchValue="",this.contentSearch.searchType=1,this.contentSearch.fuzzy=0,this.$emit("updateContentSearch",this.contentSearch)},groupCondition(e){this.filterGroups[this.filterGroups.length-1].groupCondition=e},checkOptions(e){if(1===e.length){let t=this.columns.find(t=>t.name===e[0]);if(t&&t.apiLoad)return!0}return!1},getOptions(e){var t;return 1===e.length?"createdBy"===e[0]||"modifiedBy"===e[0]||"owner"===e[0]||"coordinator"===e[0]?this.userList:null===(t=this.columns.find(t=>t.name===e[0]))||void 0===t?void 0:t.options:[]},async getUsers(){this.userList=[];const{error:e,payload:t}=await _["s"].getUserList();e?this.$alert.error("Error fetching users"):t&&t.map(e=>{this.userList.push({id:this.$nano.id(),label:e.value,value:String(e.id)})})},async getUniqueOptions(e){try{const t=await w["b"].post(this.apiPath,JSON.stringify({column:e,keyword:"",rowFrom:0,rowCount:10})),{status:i,data:s}=t;if(200!==i)throw t;const r=JSON.parse(s);return this.options=[],r.forEach(e=>{let t=this.userList.find(t=>t.value===e);t&&this.options.push({id:this.$nano.id(),label:t.label,value:t.value})}),this.options}catch(t){console.error(t),this.$alert.error("Error fetching options")}}}},B=k,$=(i("ae23"),i("2877")),x=i("a026"),I=i("75c3"),T=i("b7fa"),A=i("f89c"),V=i("7937"),D=i("d882"),P=i("5ff7");const L="q-slider__marker-labels",O=e=>({value:e}),q=[34,37,40,33,39,38],E={mixins:[T["a"],A["b"]],directives:{TouchPan:I["a"]},props:{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},data(){return{active:!1,preventFocus:!1,focus:!1,dragging:!1}},computed:{axis(){return!0===this.vertical?"--v":"--h"},labelSide(){return"-"+(!0===this.switchLabelSide?"switched":"standard")},isReversed(){return!0===this.vertical?!0===this.reverse:this.reverse!==(!0===this.$q.lang.rtl)},computedInnerMin(){return this.__getInnerMin(this.innerMin)},computedInnerMax(){return this.__getInnerMax(this.innerMax)},editable(){return!0!==this.disable&&!0!==this.readonly&&this.computedInnerMin<this.computedInnerMax},computedDecimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},trackLen(){return this.max-this.min},innerBarLen(){return this.computedInnerMax-this.computedInnerMin},innerMinRatio(){return this.__convertModelToRatio(this.computedInnerMin)},innerMaxRatio(){return this.__convertModelToRatio(this.computedInnerMax)},positionProp(){return!0===this.vertical?!0===this.isReversed?"bottom":"top":!0===this.isReversed?"right":"left"},sizeProp(){return!0===this.vertical?"height":"width"},thicknessProp(){return!0===this.vertical?"width":"height"},orientation(){return!0===this.vertical?"vertical":"horizontal"},attributes(){const e={role:"slider","aria-valuemin":this.computedInnerMin,"aria-valuemax":this.computedInnerMax,"aria-orientation":this.orientation,"data-step":this.step};return!0===this.disable?e["aria-disabled"]="true":!0===this.readonly&&(e["aria-readonly"]="true"),e},classes(){return`q-slider q-slider${this.axis} q-slider--${!0===this.active?"":"in"}active inline no-wrap `+(!0===this.vertical?"row":"column")+(!0===this.disable?" disabled":" q-slider--enabled"+(!0===this.editable?" q-slider--editable":""))+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense q-slider--dense"+this.axis:"")},selectionBarClass(){const e=this.selectionColor||this.color;return"q-slider__selection absolute"+(void 0!==e?" text-"+e:"")},markerClass(){return this.__getAxisClass("markers")+" absolute overflow-hidden"},trackContainerClass(){return this.__getAxisClass("track-container")},pinClass(){return this.__getPositionClass("pin")},labelClass(){return this.__getPositionClass("label")},textContainerClass(){return this.__getPositionClass("text-container")},markerLabelsContainerClass(){return this.__getPositionClass("marker-labels-container")+(void 0!==this.markerLabelsClass?" "+this.markerLabelsClass:"")},trackClass(){return"q-slider__track relative-position no-outline"+(void 0!==this.trackColor?" bg-"+this.trackColor:"")},trackStyle(){const e={[this.thicknessProp]:this.trackSize};return void 0!==this.trackImg&&(e.backgroundImage=`url(${this.trackImg}) !important`),e},innerBarClass(){return"q-slider__inner absolute"+(void 0!==this.innerTrackColor?" bg-"+this.innerTrackColor:"")},innerBarStyle(){const e={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.innerMaxRatio-this.innerMinRatio)+"%"};return void 0!==this.innerTrackImg&&(e.backgroundImage=`url(${this.innerTrackImg}) !important`),e},markerStep(){return!0===Object(P["c"])(this.markers)?this.markers:this.computedStep},markerTicks(){const e=[],t=this.markerStep;let i=this.min;do{e.push(i),i+=t}while(i<this.max);return e.push(this.max),e},markerLabelClass(){const e=` ${L}${this.axis}-`;return L+`${e}${!0===this.switchMarkerLabelsSide?"switched":"standard"}`+`${e}${!0===this.isReversed?"rtl":"ltr"}`},markerLabelsList(){return!1===this.markerLabels?null:this.__getMarkerList(this.markerLabels).map((e,t)=>({index:t,value:e.value,label:e.label||e.value,classes:this.markerLabelClass+(void 0!==e.classes?" "+e.classes:""),style:{...this.__getMarkerLabelStyle(e.value),...e.style||{}}}))},markerScope(){return{markerList:this.markerLabelsList,markerMap:this.markerLabelsMap,classes:this.markerLabelClass,getStyle:this.__getMarkerLabelStyle}},markerStyle(){if(0!==this.innerBarLen){const e=100*this.markerStep/this.innerBarLen;return{...this.innerBarStyle,backgroundSize:!0===this.vertical?`2px ${e}%`:e+"% 2px"}}return null},markerLabelsMap(){if(!1===this.markerLabels)return null;const e={};return this.markerLabelsList.forEach(t=>{e[t.value]=t}),e},panDirectives(){return!0===this.editable?[{name:"touch-pan",value:this.__onPan,modifiers:{[this.orientation]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null}},methods:{__getInnerMin(e){return!0===isNaN(e)||this.innerMin<this.min?this.min:this.innerMin},__getInnerMax(e){return!0===isNaN(e)||e>this.max?this.max:this.innerMax},__getPositionClass(e){const t="q-slider__"+e;return`${t} ${t}${this.axis} ${t}${this.axis}${this.labelSide}`},__getAxisClass(e){const t="q-slider__"+e;return`${t} ${t}${this.axis}`},__convertRatioToModel(e){let t=this.min+e*(this.max-this.min);if(this.step>0){const e=(t-this.min)%this.step;t+=(Math.abs(e)>=this.step/2?(e<0?-1:1)*this.step:0)-e}return this.computedDecimals>0&&(t=parseFloat(t.toFixed(this.computedDecimals))),Object(V["a"])(t,this.computedInnerMin,this.computedInnerMax)},__convertModelToRatio(e){return 0===this.trackLen?0:(e-this.min)/this.trackLen},__getDraggingRatio(e,t){const i=Object(D["h"])(e),s=!0===this.vertical?Object(V["a"])((i.top-t.top)/t.height,0,1):Object(V["a"])((i.left-t.left)/t.width,0,1);return Object(V["a"])(!0===this.isReversed?1-s:s,this.innerMinRatio,this.innerMaxRatio)},__getMarkerList(e){if(!1===e)return null;if(!0===e)return this.markerTicks.map(O);if("function"===typeof e)return this.markerTicks.map(t=>{const i=e(t);return!0===Object(P["d"])(i)?{...i,value:t}:{value:t,label:i}});const t=({value:e})=>e>=this.min&&e<=this.max;return!0===Array.isArray(e)?e.map(e=>!0===Object(P["d"])(e)?e:{value:e}).filter(t):Object.keys(e).map(t=>{const i=e[t],s=Number(t);return!0===Object(P["d"])(i)?{...i,value:s}:{value:s,label:i}}).filter(t)},__getMarkerLabelStyle(e){return{[this.positionProp]:100*(e-this.min)/this.trackLen+"%"}},__getMarkerLabelsContent(e){if(void 0!==this.$scopedSlots["marker-label-group"])return this.$scopedSlots["marker-label-group"](this.markerScope);const t=this.$scopedSlots["marker-label"];return void 0!==t?this.markerLabelsList.map(e=>t({marker:e,...this.markerScope})):this.markerLabelsList.map(t=>e("div",{key:t.value,style:t.style,class:t.classes},t.label))},__onPan(e){!0===e.isFinal?(void 0!==this.dragging&&(this.__updatePosition(e.evt),!0===e.touch&&this.__updateValue(!0),this.dragging=void 0,this.$emit("pan","end")),this.active=!1,this.focus=!1):!0===e.isFirst?(this.dragging=this.__getDragging(e.evt),this.__updatePosition(e.evt),this.__updateValue(),this.active=!0,this.$emit("pan","start")):(this.__updatePosition(e.evt),this.__updateValue())},__onBlur(){this.focus=!1},__onActivate(e){this.__updatePosition(e,this.__getDragging(e)),this.__updateValue(),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__onDeactivate,!0)},__onDeactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__onBlur(),document.removeEventListener("mouseup",this.__onDeactivate,!0)},__onMobileClick(e){this.__updatePosition(e,this.__getDragging(e)),this.__updateValue(!0)},__onKeyup(e){q.includes(e.keyCode)&&this.__updateValue(!0)},__getTextContainerStyle(e){if(!0===this.vertical)return null;const t=this.$q.lang.rtl!==this.reverse?1-e:e;return{transform:`translateX(calc(${2*t-1} * ${this.thumbSize} / 2 + ${50-100*t}%))`}},__getThumb(e,t){const i=[e("svg",{class:"q-slider__thumb-shape absolute-full",attrs:{viewBox:"0 0 20 20","aria-hidden":"true"}},[e("path",{attrs:{d:this.thumbPath}})]),e("div",{class:"q-slider__focus-ring fit"})];return!0!==this.label&&!0!==this.labelAlways||(i.push(e("div",{class:this.pinClass+" absolute fit no-pointer-events"+t.pinColor},[e("div",{class:this.labelClass,style:{minWidth:this.thumbSize}},[e("div",{class:this.textContainerClass,style:t.textContainerStyle},[e("span",{class:t.textClass},t.label)])])])),void 0!==this.name&&!0!==this.disable&&this.__injectFormInput(i,"push")),e("div",{class:t.classes,style:t.style,...t.nodeData},i)},__getContent(e,t){const i=[];"transparent"!==this.innerTrackColor&&i.push(e("div",{key:"inner",class:this.innerBarClass,style:this.innerBarStyle})),"transparent"!==this.selectionColor&&i.push(e("div",{key:"selection",class:this.selectionBarClass,style:this.selectionBarStyle})),!1!==this.markers&&i.push(e("div",{key:"marker",class:this.markerClass,style:this.markerStyle})),t(i);const s=[e("div",{key:"trackC",class:this.trackContainerClass,attrs:this.trackContainerAttrs,on:this.trackContainerEvents,directives:this.panDirectives},[e("div",{class:this.trackClass,style:this.trackStyle},i)])];if(!1!==this.markerLabels){const t=!0===this.switchMarkerLabelsSide?"unshift":"push";s[t](e("div",{key:"markerL",class:this.markerLabelsContainerClass},this.__getMarkerLabelsContent(e)))}return s}},beforeDestroy(){document.removeEventListener("mouseup",this.__onDeactivate,!0)}};var N=x["default"].extend({name:"QSlider",mixins:[E],props:{value:{required:!0,default:null,validator:e=>"number"===typeof e||null===e},labelValue:[String,Number]},data(){const e=this.__getInnerMin(this.innerMin),t=this.__getInnerMax(this.innerMax);return{model:null===this.value?e:Object(V["a"])(this.value,e,t),curRatio:0}},computed:{modelRatio(){return this.__convertModelToRatio(this.model)},ratio(){return!0===this.active?this.curRatio:this.modelRatio},selectionBarStyle(){const e={[this.positionProp]:100*this.innerMinRatio+"%",[this.sizeProp]:100*(this.ratio-this.innerMinRatio)+"%"};return void 0!==this.selectionImg&&(e.backgroundImage=`url(${this.selectionImg}) !important`),e},thumbLabel(){return void 0!==this.labelValue?this.labelValue:this.model},thumbClasses(){const e=this.thumbColor||this.color;return`q-slider__thumb q-slider__thumb${this.axis} q-slider__thumb${this.axis}-${!0===this.isReversed?"rtl":"ltr"} absolute non-selectable`+(!1===this.preventFocus&&!0===this.focus?" q-slider--focus":"")+(void 0!==e?" text-"+e:"")},thumbStyle(){return{width:this.thumbSize,height:this.thumbSize,[this.positionProp]:100*this.ratio+"%"}},thumbPinColor(){return void 0!==this.labelColor?" text-"+this.labelColor:""},thumbTextContainerStyle(){return this.__getTextContainerStyle(this.ratio)},thumbTextClass(){return"q-slider__text"+(void 0!==this.labelTextColor?" text-"+this.labelTextColor:"")},trackContainerEvents(){return!0!==this.editable?{}:!0===this.$q.platform.is.mobile?{click:this.__onMobileClick}:{mousedown:this.__onActivate,focus:this.__onFocus,blur:this.__onBlur,keydown:this.__onKeydown,keyup:this.__onKeyup}},trackContainerAttrs(){return{tabindex:!0!==this.$q.platform.is.mobile?this.computedTabindex:null}},modelUpdate(){return`${this.value}|${this.computedInnerMin}|${this.computedInnerMax}`}},watch:{modelUpdate(){this.model=null===this.value?this.computedInnerMin:Object(V["a"])(this.value,this.computedInnerMin,this.computedInnerMax)}},methods:{__updateValue(e){this.model!==this.value&&this.$emit("input",this.model),!0===e&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(e,t=this.dragging){const i=this.__getDraggingRatio(e,t);this.model=this.__convertRatioToModel(i),this.curRatio=!0!==this.snap||0===this.computedStep?i:this.__convertModelToRatio(this.model)},__onFocus(){this.focus=!0},__onKeydown(e){if(!q.includes(e.keyCode))return;Object(D["l"])(e);const t=([34,33].includes(e.keyCode)?10:1)*this.computedStep,i=([34,37,40].includes(e.keyCode)?-1:1)*(!0===this.isReversed?-1:1)*(!0===this.vertical?-1:1)*t;this.model=Object(V["a"])(parseFloat((this.model+i).toFixed(this.computedDecimals)),this.computedInnerMin,this.computedInnerMax),this.__updateValue()}},render(e){const t=this.__getContent(e,t=>{t.push(this.__getThumb(e,{pinColor:this.thumbPinColor,textContainerStyle:this.thumbTextContainerStyle,textClass:this.thumbTextClass,label:this.thumbLabel,classes:this.thumbClasses,style:this.thumbStyle,nodeData:{}}))});return e("div",{class:this.classes+(null===this.value?" q-slider--no-value":""),attrs:{...this.attributes,"aria-valuenow":this.value}},t)}}),M=i("93dc"),R=i.n(M),F=Object($["a"])(B,s,r,!1,null,"2eff0750",null);t["a"]=F.exports;R()(F,"components",{QSlider:N})},2948:function(e,t,i){"use strict";i("f108")},2975:function(e,t,i){},"2a668":function(e,t,i){"use strict";i("1336")},"2ac6":function(e,t,i){"use strict";i("0ce8")},"2b88":function(e,t,i){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function s(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var r=s(i("a026"));function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){return n(e)||l(e)||c()}function n(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var u="undefined"!==typeof window;function d(e){return Array.isArray(e)||"object"===a(e)?Object.freeze(e):e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,i){var s=i.passengers[0],r="function"===typeof s?s(t):i.passengers;return e.concat(r)}),[])}function m(e,t){return e.map((function(e,t){return[t,e]})).sort((function(e,i){return t(e[1],i[1])||e[0]-i[0]})).map((function(e){return e[1]}))}function h(e,t){return t.reduce((function(t,i){return e.hasOwnProperty(i)&&(t[i]=e[i]),t}),{})}var f={},v={},y={},b=r.extend({data:function(){return{transports:f,targets:v,sources:y,trackInstances:u}},methods:{open:function(e){if(u){var t=e.to,i=e.from,s=e.passengers,a=e.order,o=void 0===a?1/0:a;if(t&&i&&s){var n={to:t,from:i,passengers:d(s),order:o},l=Object.keys(this.transports);-1===l.indexOf(t)&&r.set(this.transports,t,[]);var c=this.$_getTransportIndex(n),p=this.transports[t].slice(0);-1===c?p.push(n):p[c]=n,this.transports[t]=m(p,(function(e,t){return e.order-t.order}))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.to,s=e.from;if(i&&(s||!1!==t)&&this.transports[i])if(t)this.transports[i]=[];else{var r=this.$_getTransportIndex(e);if(r>=0){var a=this.transports[i].slice(0);a.splice(r,1),this.transports[i]=a}}},registerTarget:function(e,t,i){u&&(this.trackInstances&&!i&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(e,t,i){u&&(this.trackInstances&&!i&&this.sources[e]&&console.warn("[portal-vue]: source ".concat(e," already exists")),this.$set(this.sources,e,Object.freeze([t])))},unregisterSource:function(e){this.$delete(this.sources,e)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,i=e.from;for(var s in this.transports[t])if(this.transports[t][s].from===i)return+s;return-1}}}),g=new b(f),_=1,w=r.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(_++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){g.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){g.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};g.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"===typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:o(e),order:this.order};g.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(i,[this.normalizeOwnChildren(t)]):this.slim?e():e(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),S=r.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:g.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){g.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){g.unregisterTarget(t),g.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){g.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return p(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),i=this.children(),s=this.transition||this.tag;return t?i[0]:this.slim&&!s?e():e(s,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),C=0,k=["disabled","name","order","slim","slotProps","tag","to"],B=["multiple","transition"],$=r.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(C++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(g.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=g.targets[t.name];else{var i=t.append;if(i){var s="string"===typeof i?i:"DIV",r=document.createElement(s);e.appendChild(r),e=r}var a=h(this.$props,B);a.slim=this.targetSlim,a.tag=this.targetTag,a.slotProps=this.targetSlotProps,a.name=this.to,this.portalTarget=new S({el:e,parent:this.$parent||this,propsData:a})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=h(this.$props,k);return e(w,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||e()}});function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",w),e.component(t.portalTargetName||"PortalTarget",S),e.component(t.MountingPortalName||"MountingPortal",$)}var I={install:x};t.default=I,t.Portal=w,t.PortalTarget=S,t.MountingPortal=$,t.Wormhole=g},3607:function(e,t,i){"use strict";i("ff59")},"3d6e":function(e,t,i){"use strict";i("e159")},"40f9":function(e,t,i){"use strict";i("c589")},"42fc":function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));i("d9e2");function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e,t){if(!e)throw new Error(t)}function a(e){return Object.keys(e)}function o(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function n(e,t,i){var s="."+t,r=new RegExp("(\\".concat(t,")?$"));return i(e).replace(r,s)}function l(e){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),e.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(e){return Array(e+1).join(" ")}function u(e){return e.replace(/([<>&])/g,(function(e,t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function d(e,t,i){switch(t){case"txt":var s="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);case"css":s="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);case"html":s="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);case"json":s="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);case"csv":s="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);case"xls":s="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);case"xml":s="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:s})):"data:,".concat(s)+encodeURIComponent(e);default:return""}}function p(e,t,i,s){void 0===i&&(i="download"),void 0===s&&(s=!0);var r=d(e,t,s),a=document.createElement("a");a.href=r,a.download=i,a.setAttribute("style","visibility:hidden"),document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(a)}var m=function(){return m=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)},h=function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,a=i.call(e),o=[];try{while((void 0===t||t-- >0)&&!(s=a.next()).done)o.push(s.value)}catch(n){r={error:n}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}return o};function f(e){if(!e||s(e)&&!e.length||!s(e)&&!a(e).length)return function(e){return e};var t=s(e)?e.reduce((function(e,t){var i;return m(m({},e),(i={},i[t]=t,i))}),Object.create(null)):e;return function(e){return s(e)?e.map((function(e){return o(e).reduce((function(e,i){var s=h(i,2),r=s[0],a=s[1];return r in t&&(e[t[r]]=a),e}),Object.create(null))})).filter((function(e){return a(e).length})):o(e).reduce((function(e,i){var s=h(i,2),r=s[0],a=s[1];return r in t&&(e[t[r]]=a),e}),Object.create(null))}}function v(e){var t="Invalid export data. Please provide a valid JSON";try{return"string"===typeof e?JSON.parse(e):e}catch(i){throw new Error(t)}}function y(e,t,i){void 0===t&&(t=null);var s="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(e,t,i)}catch(r){throw new Error(s)}}function b(e){return e.map(o).reduce((function(t,i,s){return i.reduce((function(t,i){var r=h(i,2),a=r[0],o=r[1],n=t[a]||Array.from({length:e.length}).map((function(e){return""}));return n[s]=("string"!==typeof o?JSON.stringify(o):o)||"",t[a]=n,t}),t)}),Object.create(null))}function g(e,t){return void 0===t&&(t=function(e){return e}),t(o(e).map((function(e){var t=h(e,2),i=t[0],s=t[1];return{fieldName:i,fieldValues:s}})))}function _(e){var t=/,|"|\n/.test(e)?'"':"",i=e.replace(/"/g,'""');return"".concat(t).concat(i).concat(t)}var w={beforeTableEncode:function(e){return e},delimiter:","};function S(e,t){void 0===t&&(t={});var i=m(m({},w),t),s=i.beforeTableEncode,r=i.delimiter;if(!e.length)return"";var a=b(e),o=g(a,s),n=o.map((function(e){var t=e.fieldName;return t})).join(r)+"\r\n",l=o.map((function(e){var t=e.fieldValues;return t})).map((function(e){return e.map(_)})),c=l.reduce((function(e,t){return e.map((function(e,i){return"".concat(e).concat(r).concat(t[i])}))}));return n+c.join("\r\n")}function C(e,t){r(e.length>0);var i=b(e),s=g(i,t),a=s.map((function(e){var t=e.fieldName;return t})).join("</b></th><th><b>"),o=s.map((function(e){var t=e.fieldValues;return t})).map((function(e){return e.map((function(e){return"<td>".concat(e,"</td>")}))})),n=o.reduce((function(e,t){return e.map((function(e,i){return"".concat(e).concat(t[i])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(a,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(n.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}var k={beforeTableEncode:function(e){return e}};function B(e,t){var i=m(m({},k),t).beforeTableEncode;if(!e.length)return"";var s='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(C(e,i),"\n  </body>\n</html >\n");return s}function $(e){var t='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(x(e,"base"),"\n");return t}function x(e,t,i,r){void 0===i&&(i="element"),void 0===r&&(r=0);var a=l(t),n=c(r);if(null===e||void 0===e)return"".concat(n,"<").concat(a," />");var d=s(e)?e.map((function(e){return x(e,i,i,r+2)})).join("\n"):"object"===typeof e?o(e).map((function(e){var t=h(e,2),s=t[0],a=t[1];return x(a,s,i,r+2)})).join("\n"):n+"  "+u(String(e)),p="".concat(n,"<").concat(a,">\n").concat(d,"\n").concat(n,"</").concat(a,">");return p}var I={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function T(e){var t=e.data,i=e.fileName,a=void 0===i?"download":i,o=e.extension,l=e.fileNameFormatter,c=void 0===l?function(e){return e.replace(/\s+/,"_")}:l,u=e.fields,d=e.exportType,m=void 0===d?"txt":d,h=e.replacer,b=void 0===h?null:h,g=e.space,_=void 0===g?4:g,w=e.processor,C=void 0===w?p:w,k=e.withBOM,x=void 0!==k&&k,I=e.beforeTableEncode,T=void 0===I?function(e){return e}:I,A=e.delimiter,V=void 0===A?",":A,D="Invalid export data. Please provide an array of objects",P="Can't export unknown data type ".concat(m,"."),L="Can't export string data to ".concat(m,".");if("string"===typeof t)switch(m){case"txt":case"css":case"html":return C(t,m,n(a,null!==o&&void 0!==o?o:m,c));default:throw new Error(L)}var O=f(u),q=O(v(t)),E=y(q,b,_);switch(m){case"txt":case"css":case"html":return C(E,m,n(a,null!==o&&void 0!==o?o:m,c));case"json":return C(E,m,n(a,null!==o&&void 0!==o?o:"json",c));case"csv":r(s(q),D);var N="\ufeff",M=S(q,{beforeTableEncode:T,delimiter:V}),R=x?N+M:M;return C(R,m,n(a,null!==o&&void 0!==o?o:"csv",c));case"xls":r(s(q),D);R=B(q,{beforeTableEncode:T});return C(R,m,n(a,null!==o&&void 0!==o?o:"xls",c));case"xml":R=$(q);return C(R,m,n(a,null!==o&&void 0!==o?o:"xml",c));default:throw new Error(P)}}T.types=I,T.processors={downloadFile:p};var A=T,V=A;const D=()=>{function e(e,t,i){if(e)try{const s=t||"exported-data",r=V.types[i||"xls"];V({data:e,fileName:s,exportType:r})}catch(s){throw new Error("Parsing failed!")}}return{exportDataFromJSON:e}};function P(e,t){if(!e)return this.$alert.info("Data not found");let i=new Date;return t||(t=`${i.getFullYear()}${i.getMonth()+1}${i.getDate()}${i.getHours()}${i.getMinutes()}${i.getSeconds()}`),D().exportDataFromJSON(e,t,null)}},"431c":function(e,t,i){},4904:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return e.showChips?t("div",{attrs:{id:"item-action-chips"}},[e.sortBy.criteria?t("div",{staticClass:"chip sort-by"},[t("div",{staticClass:"label"},[e._v("Sort by: "+e._s(e.getColumnLabel(e.sortBy.criteria)))]),t("BaseIcon",{staticClass:"q-mr-md",attrs:{name:"ASC"===e.sortBy.order?"mdi-sort-ascending":"mdi-sort-descending","inherit-color":""}}),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:e.clearSortBy}})],1):e._e(),e.groupBy?t("div",{staticClass:"chip group-by"},[t("div",{staticClass:"label"},[e._v("Group by: "+e._s(e.getColumnLabel(e.groupBy)))]),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:e.clearGroupBy}})],1):e._e(),e.contentSearch.contentSearchValue?t("div",{staticClass:"chip filter-by"},[t("div",{staticClass:"label"},[t("BaseIcon",{staticClass:"q-mr-xs",attrs:{name:"eva-funnel-outline","inherit-color":""}}),e._v(" SearchBy: "+e._s(e.contentSearch.contentSearchValue)+" ")],1),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:function(t){return e.$emit("clearContentSearch")}}})],1):e._e(),t("BaseScrollbar",[e.filterBy.length?t("div",{staticClass:"q-mb-md",staticStyle:{display:"flex"}},e._l(e.filterBy,(function(i,s){return t("div",{key:s,staticClass:"col-auto"},[i.filters.length?t("div",{class:{"filterBy-length":e.filterBy.length>1}},e._l(i.filters,(function(i,r){return t("div",{key:r,staticClass:"chip filter-by"},[t("div",{staticClass:"label"},[t("BaseIcon",{staticClass:"q-mr-xs",attrs:{name:"eva-funnel-outline","inherit-color":""}}),e._v(" "+e._s(e.getColumnLabel(i.criteria))+" "+e._s(i.condition)+" "+e._s(i.value)+" ")],1),t("BaseIcon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle","inherit-color":""},on:{click:function(t){return e.clearFilterBy(s,r)}}})],1)})),0):e._e()])})),0):e._e()])],1):e._e()},r=[],a={name:"ItemActionChips",props:{columns:{type:Array,required:!0},sortBy:{type:Object,required:!0},groupBy:{type:String,required:!0},filterBy:{type:Array,required:!0},contentSearch:{type:Object,default:()=>({contentSearchValue:"",fuzzy:0,searchType:1})},simpleSearchApplyed:{type:Boolean,required:!1,default:!1}},computed:{showChips(){return!!this.sortBy.criteria||(!!this.groupBy||!this.simpleSearchApplyed&&(!!this.filterBy.length||!!this.contentSearch.contentSearchValue))}},methods:{getColumnLabel(e){var t;return null===(t=this.columns.find(t=>t.name===e))||void 0===t?void 0:t.label},clearSortBy(){this.$emit("clearSortBy")},clearGroupBy(){this.$emit("clearGroupBy")},clearFilterBy(e,t){this.$emit("clearFilterBy",e,t)}}},o=a,n=(i("c3ca"),i("2877")),l=Object(n["a"])(o,s,r,!1,null,"1d4f94d9",null);t["a"]=l.exports},4962:function(e,t,i){"use strict";i("b617")},"4ddc":function(e,t,i){},"4f21":function(e,t,i){},5042:function(e,t,i){},"52e1":function(e,t,i){"use strict";i("73e7")},"5d0b":function(e,t,i){},"65c0":function(e,t,i){},"6c88":function(e,t,i){"use strict";i("5d0b")},"6e1a":function(e,t,i){},7225:function(e,t,i){"use strict";i("afe7")},"73e7":function(e,t,i){},"75c3":function(e,t,i){"use strict";var s=i("0967"),r=i("7c86"),a=i("d882"),o=i("f249");function n(e,t,i){const s=Object(a["h"])(e);let r,o=s.left-t.event.x,n=s.top-t.event.y,l=Math.abs(o),c=Math.abs(n);const u=t.direction;!0===u.horizontal&&!0!==u.vertical?r=o<0?"left":"right":!0!==u.horizontal&&!0===u.vertical?r=n<0?"up":"down":!0===u.up&&n<0?(r="up",l>c&&(!0===u.left&&o<0?r="left":!0===u.right&&o>0&&(r="right"))):!0===u.down&&n>0?(r="down",l>c&&(!0===u.left&&o<0?r="left":!0===u.right&&o>0&&(r="right"))):!0===u.left&&o<0?(r="left",l<c&&(!0===u.up&&n<0?r="up":!0===u.down&&n>0&&(r="down"))):!0===u.right&&o>0&&(r="right",l<c&&(!0===u.up&&n<0?r="up":!0===u.down&&n>0&&(r="down")));let d=!1;if(void 0===r&&!1===i){if(!0===t.event.isFirst||void 0===t.event.lastDir)return{};r=t.event.lastDir,d=!0,"left"===r||"right"===r?(s.left-=o,l=0,o=0):(s.top-=n,c=0,n=0)}return{synthetic:d,payload:{evt:e,touch:!0!==t.event.mouse,mouse:!0===t.event.mouse,position:s,direction:r,isFirst:t.event.isFirst,isFinal:!0===i,duration:Date.now()-t.event.time,distance:{x:l,y:c},offset:{x:o,y:n},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}}function l(e){const t=e.__qtouchpan;void 0!==t&&(void 0!==t.event&&t.end(),Object(a["b"])(t,"main"),Object(a["b"])(t,"temp"),!0===s["a"].is.firefox&&Object(a["j"])(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchpan)}let c=0;t["a"]={name:"touch-pan",bind(e,{value:t,modifiers:i}){if(void 0!==e.__qtouchpan&&(l(e),e.__qtouchpan_destroyed=!0),!0!==i.mouse&&!0!==s["a"].has.touch)return;function u(e,t){!0===i.mouse&&!0===t?Object(a["l"])(e):(!0===i.stop&&Object(a["k"])(e),!0===i.prevent&&Object(a["i"])(e))}const d={uid:"qvtp_"+c++,handler:t,modifiers:i,direction:Object(r["a"])(i),noop:a["g"],mouseStart(e){Object(r["b"])(e,d)&&Object(a["e"])(e)&&(Object(a["a"])(d,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),d.start(e,!0))},touchStart(e){if(Object(r["b"])(e,d)){const t=e.target;Object(a["a"])(d,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","passiveCapture"],[t,"touchend","end","passiveCapture"]]),d.start(e)}},start(t,r){!0===s["a"].is.firefox&&Object(a["j"])(e,!0),d.lastEvt=t;const o=Object(a["h"])(t);if(!0===r||!0===i.stop){if(!0!==d.direction.all&&(!0!==r||!0!==d.modifiers.mouseAllDir&&!0!==d.modifiers.mousealldir)){const e=t.type.indexOf("mouse")>-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);!0===t.defaultPrevented&&Object(a["i"])(e),!0===t.cancelBubble&&Object(a["k"])(e),e.qClonedBy=void 0===t.qClonedBy?[d.uid]:t.qClonedBy.concat(d.uid),e.qKeyEvent=t.qKeyEvent,e.qClickOutside=t.qClickOutside,d.initialEvent={target:t.target,event:e}}Object(a["k"])(t)}d.event={x:o.left,y:o.top,time:Date.now(),mouse:!0===r,detected:!1,isFirst:!0,isFinal:!1,lastX:o.left,lastY:o.top}},move(e){if(void 0===d.event)return;d.lastEvt=e;const t=!0===d.event.mouse,i=()=>{let i;u(e,t),!0!==d.modifiers.preserveCursor&&!0!==d.modifiers.preservecursor&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===t&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Object(o["a"])(),d.styleCleanup=e=>{if(d.styleCleanup=void 0,void 0!==i&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),!0===t){const t=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==e?setTimeout(()=>{t(),e()},50):t()}else void 0!==e&&e()}};if(!0===d.event.detected){!0!==d.event.isFirst&&u(e,d.event.mouse);const{payload:t,synthetic:s}=n(e,d,!1);return void(void 0!==t&&(!1===d.handler(t)?d.end(e):(void 0===d.styleCleanup&&!0===d.event.isFirst&&i(),d.event.lastX=t.position.left,d.event.lastY=t.position.top,d.event.lastDir=!0===s?void 0:t.direction,d.event.isFirst=!1)))}if(!0===d.direction.all||!0===t&&(!0===d.modifiers.mouseAllDir||!0===d.modifiers.mousealldir))return i(),d.event.detected=!0,void d.move(e);const s=Object(a["h"])(e),r=s.left-d.event.x,l=s.top-d.event.y,c=Math.abs(r),p=Math.abs(l);c!==p&&(!0===d.direction.horizontal&&c>p||!0===d.direction.vertical&&c<p||!0===d.direction.up&&c<p&&l<0||!0===d.direction.down&&c<p&&l>0||!0===d.direction.left&&c>p&&r<0||!0===d.direction.right&&c>p&&r>0?(d.event.detected=!0,d.move(e)):d.end(e,!0))},end(t,i){if(void 0!==d.event){if(Object(a["b"])(d,"temp"),!0===s["a"].is.firefox&&Object(a["j"])(e,!1),!0===i)void 0!==d.styleCleanup&&d.styleCleanup(),!0!==d.event.detected&&void 0!==d.initialEvent&&d.initialEvent.target.dispatchEvent(d.initialEvent.event);else if(!0===d.event.detected){!0===d.event.isFirst&&d.handler(n(void 0===t?d.lastEvt:t,d).payload);const{payload:e}=n(void 0===t?d.lastEvt:t,d,!0),i=()=>{d.handler(e)};void 0!==d.styleCleanup?d.styleCleanup(i):i()}d.event=void 0,d.initialEvent=void 0,d.lastEvt=void 0}}};e.__qtouchpan=d,!0===i.mouse&&Object(a["a"])(d,"main",[[e,"mousedown","mouseStart","passive"+(!0===i.mouseCapture||!0===i.mousecapture?"Capture":"")]]),!0===s["a"].has.touch&&Object(a["a"])(d,"main",[[e,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},update(e,{oldValue:t,value:i}){const s=e.__qtouchpan;void 0!==s&&t!==i&&("function"!==typeof i&&s.end(),s.handler=i)},unbind(e){void 0===e.__qtouchpan_destroyed?l(e):delete e.__qtouchpan_destroyed}}},"78f2":function(e,t,i){"use strict";i("b958")},"7ce0":function(e,t,i){"use strict";i("193c")},8180:function(e,t,i){"use strict";i("e0b6")},"8b55":function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",e._g({class:{active:e.isActive,"is-full-width":e.isFullWidth},style:{color:e.isActive?e._color:""},attrs:{id:"tab"}},e.$listeners),[e._v(" "+e._s(e.label)+" ")])},r=[],a={name:"Tab",props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"}},computed:{_color(){return`var(--${this.color})`}}},o=a,n=(i("2ac6"),i("2877")),l=Object(n["a"])(o,s,r,!1,null,"f3c4783e",null);t["a"]=l.exports},"924b":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("Sheet",{attrs:{value:"value",width:e.taskWidth},on:{input:e.closeSheet},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title",(function(){return[e._v("Edit Reports")]}))]},proxy:!0},{key:"actions",fn:function(){return[t("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:e.isMaximized?"eva-collapse":"eva-expand"},on:{click:e.toggleWidth}})]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-pa-md"},[t("RenderForm",{attrs:{"no-padding":"",panels:e.panels,"secondary-panels":e.secondaryPanels,"form-settings":"formSettings","form-model":"taskModel","is-readonly":"mode === 'VIEW'"},on:{save:e.saveTask}})],1)]},proxy:!0}],null,!0)})},r=[],a=(i("14d9"),i("381e")),o=i("4bc4"),n={name:"AddRports",components:{Sheet:a["a"],RenderForm:o["a"]},props:{formSettings:{type:Object,required:!0}},data(){return{taskWidth:"720px",panels:[{id:this.$nano.id(),type:"Date",label:"Start Date"}],secondaryPanels:[{id:this.$nano.id(),type:"Date",label:"Start Date"}]}},computed:{isMaximized(){return"100vw"===this.taskWidth}},methods:{toggleWidth(){this.taskWidth="100vw"===this.taskWidth?"720px":"100vw"},closeSheet(){this.$router.push({name:"reports-list"})}}},l=n,c=i("2877"),u=Object(c["a"])(l,s,r,!1,null,"679dddf2",null);t["default"]=u.exports},9290:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("Sheet",{attrs:{value:e.value,width:e.width},on:{input:function(t){return e.$emit("input",!1)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title")]},proxy:!0},{key:"actions",fn:function(){return[t("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-edit-outline"},on:{click:function(t){return e.$emit("edit")}}}),t("BaseActionButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",icon:"eva-trash-2-outline"},on:{click:function(t){return e.$emit("delete")}}})]},proxy:!0},{key:"default",fn:function(){return[t("div",{attrs:{id:"item-details"}},[t("Tabs",{staticClass:"tabs",attrs:{tabs:e.tabs},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}}),"overview"===e.tab?t("ItemOverview",{attrs:{overview:e.overview},scopedSlots:e._u([e._l(e.overview,(function(t){return{key:t.name,fn:function(){return[e._t(t.name,null,{value:t.value})]},proxy:!0}}))],null,!0)}):e._e(),"history"===e.tab?t("ItemHistory",{attrs:{history:e.history}}):e._e()],1)]},proxy:!0}],null,!0)})},r=[],a=i("381e"),o=i("b94d"),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"item-overview"}},[t("table",[t("tbody",e._l(e.overview,(function(i){return t("tr",{key:i.id},[t("td",{staticClass:"label"},[e._v(e._s(i.label))]),t("td",{staticClass:"value"},[e._t(i.name,(function(){return["options"===i.name&&"MenuOptions"===i.label?[t("MenuOptionsDetails",{attrs:{options:i.value}})]:[e._v(" "+e._s(i.value||"-")+" ")]]}),{value:i.value})],2)])})),0)])])},l=[],c=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"menu-options"}},[t("div",{staticClass:"options-wrapper"},[t("div",{staticClass:"row q-col-gutter-md"},[e._l(e.options,(function(i){return[e._l(i,(function(i,s){return["Menu"!==s&&"dashboard"!==s?t("div",{key:s,staticClass:"option col-4 is-selected",attrs:{tabindex:0}},["Menu"!==s&&"dashboard"!==s?t("BaseIcon",{key:s,staticClass:"icon",attrs:{name:e.isSelected(i)?"eva-checkmark-outline":"eva-close-outline",color:e.isSelected(i)?"positive":"negative"}}):e._e(),t("div",["Menu"!==s?t("div",{staticClass:"label"},[e._v(" "+e._s(s)+" ")]):e._e()])],1):e._e()]})),e._l(i.Menu,(function(i,s){return t("div",{key:i[s],staticClass:"option1 col-12 is-selected",attrs:{tabindex:0}},[t("BaseIcon",{key:s,staticClass:"icon",attrs:{name:e.isSelected(i)?"eva-checkmark-outline":"eva-close-outline",color:e.isSelected(i)?"positive":"negative"}}),t("div",[t("div",{staticClass:"label"},[e._v(e._s(s))])])],1)}))]}))],2)])])},u=[],d={name:"MenuOptionsDetails",props:{options:{type:Array,default:()=>[]}},methods:{isSelected(e){return e}}},p=d,m=(i("3607"),i("2877")),h=Object(m["a"])(p,c,u,!1,null,"1160de11",null),f=h.exports,v={name:"ItemOverview",components:{MenuOptionsDetails:f},props:{overview:{type:Array,required:!0}}},y=v,b=(i("beae"),Object(m["a"])(y,n,l,!1,null,"785f64ce",null)),g=b.exports,_=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"history"}},[e.changes.length?e._l(e.changes,(function(i){return t("div",{key:i.id,staticClass:"entry"},[t("div",{staticClass:"header"},[e._v(" "+e._s(i.changes.length)+" "+e._s(i.changes.length>1?"Changes":"Change")+" ")]),t("div",{staticClass:"content"},[t("div",{staticClass:"changes-meta"},[t("div",[e._v(e._s(i.changedBy))]),t("BaseIcon",{staticClass:"q-mx-xs",attrs:{name:"mdi-circle-small"}}),t("div",[e._v(e._s(i.changedAt))])],1),e._l(i.changes,(function(i,s){return t("div",{key:s+1,staticClass:"change"},[t("BaseIcon",{staticClass:"q-mr-sm",attrs:{name:"mdi-circle-small"}}),"isDeleted"===i.column?t("div",[Number(i.newValue)?t("span",{staticClass:"font-semibold"},[e._v(' "Deleted" ')]):t("span",{staticClass:"font-semibold"},[e._v('"Restored"')]),e._v(" the item ")]):i.oldValue?t("div",[e._v(" Modified "+e._s(i.column)+" from "),t("span",{staticClass:"font-semibold"},[e._v('"'+e._s(i.oldValue)+'"')]),e._v(" to "),t("span",{staticClass:"font-semibold"},[e._v('"'+e._s(i.newValue)+'"')])]):t("div",[e._v(" Assigned "),t("span",{staticClass:"font-semibold"},[e._v('"'+e._s(i.newValue)+'"')]),e._v(" as "+e._s(i.column)+" ")])],1)}))],2)])})):t("div",{staticClass:"no-history"},[e._v("No data found")])],2)},w=[],S={name:"ItemHistory",props:{history:{type:Array,required:!0}},data(){return{changes:[]}},watch:{history:{immediate:!0,deep:!0,handler(){this.changes=this.history.map(e=>({id:this.$nano.id(),changedBy:"admin@ezofis.com",changedAt:this.$day.format(e.key),changes:e.changes}))}}}},C=S,k=(i("52e1"),Object(m["a"])(C,_,w,!1,null,"262c778d",null)),B=k.exports,$={name:"ItemDetails",components:{Sheet:a["a"],Tabs:o["a"],ItemOverview:g,ItemHistory:B},props:{value:{type:Boolean,default:!1},overview:{type:Array,required:!0},history:{type:Array,required:!0},width:{type:String,default:"540px"}},data(){return{tab:"overview",tabs:[{id:this.$nano.id(),label:"overview",value:"overview"},{id:this.$nano.id(),label:"history",value:"history"}]}}},x=$,I=(i("99dc"),Object(m["a"])(x,s,r,!1,null,"08327a1e",null));t["a"]=I.exports},"96a9":function(e,t,i){},"99dc":function(e,t,i){"use strict";i("cc92")},ae23:function(e,t,i){"use strict";i("4ddc")},afe7:function(e,t,i){},b617:function(e,t,i){},b6ab:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"user-browse"}},[t("Portal",{attrs:{to:"action-bar"}},[e.isLoading?e._e():t("ItemActions",{attrs:{item:"user",columns:e.columns,"group-by":e.groupBy,order:e.sortBy.order,"filter-by":e.filterBy,"active-view":e.activeView,criteria:e.sortBy.criteria,"import-data":!0,"data-imported":e.dataImported,"form-id":""},on:{"update:columns":function(t){e.columns=t},"update:groupBy":function(t){e.groupBy=t},"update:group-by":function(t){e.groupBy=t},"update:order":function(t){return e.$set(e.sortBy,"order",t)},"update:filterBy":function(t){e.filterBy=t},"update:filter-by":function(t){e.filterBy=t},"update:activeView":function(t){e.activeView=t},"update:active-view":function(t){e.activeView=t},"update:criteria":function(t){return e.$set(e.sortBy,"criteria",t)},refresh:e.getUsers,search:e.searchRow,update:e.getUsers,export:e.export_Data,upload:function(t){return e.$refs.inputUser.click()},close:function(t){e.dataImported=!1},downloadTemplate:e.downloadTemplate}})],1),e.isLoading?e._e():t("div",{staticClass:"content"},[e.totalItems?[t("ItemActionChips",{attrs:{"sort-by":e.sortBy,columns:e.columns,"group-by":e.groupBy,"filter-by":e.filterBy},on:{clearSortBy:e.clearSortBy,clearGroupBy:e.clearGroupBy,clearFilterBy:e.clearFilterBy}}),t("input",{ref:"inputUser",staticClass:"hidden",attrs:{type:"file",accept:".csv,.xls,.xlsx"},on:{change:e.importUserData}}),"GRID"===e.activeView?t("UserGrid",{attrs:{mode:e.mode,items:e.items,columns:e.columns},on:{edit:e.editUser,more:e.showUserDetails,delete:e.showDeleteConfirmation,restore:e.showRestoreConfirmation}}):e._e(),"LIST"===e.activeView?t("UserList",{attrs:{mode:e.mode,items:e.items,columns:e.columns},on:{edit:e.editUser,more:e.showUserDetails,delete:e.showDeleteConfirmation,restore:e.showRestoreConfirmation}}):e._e()]:[t("StateWrapper",{staticStyle:{"margin-top":"20px"},attrs:{icon:"eva-people-outline",title:"NO DATA",description:"No data available at the moment"}})]],2),e.isLoading?e._e():t("Pagination",{attrs:{"total-items":e.totalItems,"current-page":e.currentPage,"items-per-page":e.itemsPerPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t},loadAll:e.loadAllUsers}}),t("UserDetails",{attrs:{columns:e.columns,user:e.selectedUser},on:{edit:e.editUser,delete:e.showDeleteConfirmation},model:{value:e.isUserDetailsVisible,callback:function(t){e.isUserDetailsVisible=t},expression:"isUserDetailsVisible"}}),t("ConfirmDeleteUser",{attrs:{user:e.selectedUser},on:{delete:e.updateUser},model:{value:e.isDeleteConfirmationVisible,callback:function(t){e.isDeleteConfirmationVisible=t},expression:"isDeleteConfirmationVisible"}}),t("ConfirmRestoreUser",{attrs:{user:e.selectedUser},on:{restore:e.updateUser},model:{value:e.isRestoreConfirmationVisible,callback:function(t){e.isRestoreConfirmationVisible=t},expression:"isRestoreConfirmationVisible"}})],1)},r=[],a=(i("14d9"),i("caad"),i("874f")),o=i("52ef"),n=i("1b0d"),l=i("381b"),c=i("2b88"),u=i("c49c"),d=i("b6d2"),p=i("064c"),m=i("4904"),h=function(){var e=this,t=e._self._c;return t("ItemGrid",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore},scopedSlots:e._u([{key:"avatar",fn:function({item:i}){return[i.avatar?t("img",{staticClass:"user-avatar",attrs:{src:i.avatar,alt:"avatar"}}):e._e()]}},{key:"title",fn:function({item:i}){return[t("div",{staticClass:"title"},[e._v(" "+e._s(i.firstName+" "+i.lastName)+" ")])]}},{key:"groups",fn:function({column:i,value:s}){return[t("div",{staticClass:"row q-px-md q-py-sm"},[t("div",{staticClass:"label"},[e._v(e._s(i))]),t("q-space"),t("div",[e._v(" "+e._s(e.appendZeroIfNeeded(s.length)||"-")+" ")])],1)]}}])})},f=[],v=i("0412"),y={name:"UserGrid",components:{ItemGrid:v["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{appendZeroIfNeeded(e){return 0===e?0:e<10?"0"+e:e},handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)},handleRestore(e){this.$emit("restore",e)},handleMore(e){this.$emit("more",e)}}},b=y,g=(i("7ce0"),i("2877")),_=i("2c91"),w=i("93dc"),S=i.n(w),C=Object(g["a"])(b,h,f,!1,null,"3c6c03f6",null),k=C.exports;S()(C,"components",{QSpace:_["a"]});var B=function(){var e=this,t=e._self._c;return t("ItemList",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore},scopedSlots:e._u([{key:"avatar",fn:function({item:i}){return[t("div",{staticClass:"row items-center"},[i.avatar?t("img",{staticClass:"user-avatar",attrs:{src:i.avatar,alt:"avatar"}}):e._e()])]}},{key:"titleHead",fn:function(){return[e._v(" Name ")]},proxy:!0},{key:"title",fn:function({item:i}){return[t("span",{staticClass:"inline-block font-semibold q-mr-xl"},[e._v(" "+e._s(i.firstName+" "+i.lastName)+" ")])]}},{key:"groups",fn:function({value:i}){return[t("div",[e._v(" "+e._s(e.appendZeroIfNeeded(i.length)||"-")+" ")])]}}])})},$=[],x=i("f92f"),I={name:"UserList",components:{ItemList:x["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0}},methods:{appendZeroIfNeeded(e){return 0===e?0:e<10?"0"+e:e},handleSelect(e){this.$emit("select",e)},handleEdit(e){this.$emit("edit",e)},handleDelete(e){this.$emit("delete",e)},handleRestore(e){this.$emit("restore",e)},handleMore(e){this.$emit("more",e)}}},T=I,A=(i("c26a"),Object(g["a"])(T,B,$,!1,null,"728960b6",null)),V=A.exports,D=function(){var e=this,t=e._self._c;return t("ItemDetails",{attrs:{value:e.value,history:e.history,overview:e.overview},on:{edit:e.handleEdit,input:e.handleInput,delete:e.handleDelete},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("User Details")]},proxy:!0},{key:"groups",fn:function({value:i}){return[i&&i.length?t("ol",e._l(i,(function(i){return t("li",{key:i.id},[e._v(" "+e._s(i.value)+" ")])})),0):t("div",[e._v("-")])]}}])})},P=[],L=i("9290"),O={name:"UserDetails",components:{ItemDetails:L["a"]},props:{value:{type:Boolean,default:!1},columns:{type:Array,required:!0},user:{type:Object,required:!0}},data(){return{isLoading:!1,history:[]}},computed:{overview(){return this.columns.map(e=>({id:e.id,name:e.name,label:e.label,value:this.user[e.name]}))}},watch:{user:{immediate:!0,deep:!0,handler(){this.user.id&&this.getUserHistory()}}},methods:{handleInput(e){this.$emit("input",e)},handleEdit(){this.$emit("input",!1),this.$emit("edit",this.user.id)},handleDelete(){this.$emit("input",!1),this.$emit("delete",this.user.id)},async getUserHistory(){this.isLoading=!0;const{error:e,payload:t}=await n["s"].getUserHistory(this.user.id);this.isLoading=!1,e?this.$alert.error(e):this.history=t}}},q=O,E=(i("15cb"),Object(g["a"])(q,D,P,!1,null,"5dcc89a3",null)),N=E.exports,M=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"red"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete User?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to delete the user "),t("b",[e._v('"'+e._s(e.name)+'"')]),e._v(". If you delete the user, the user will not be able to use in the application. ")]),t("p",[e._v("You can always restore the deleted user from the trash page.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"red"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"red"},on:{click:e.handleYes}})]},proxy:!0}])})},R=[],F=i("1c54"),j={name:"ConfirmDeleteUser",components:{Confirm:F["a"]},props:{value:{type:Boolean,required:!0},user:{type:Object,required:!0}},computed:{name(){return this.user.firstName+" "+this.user.lastName}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("delete",{isDeleted:!0})}}},G=j,U=Object(g["a"])(G,M,R,!1,null,"56ecf7cd",null),Y=U.exports,H=function(){var e=this,t=e._self._c;return t("Confirm",{attrs:{value:e.value,icon:"eva-trash-2-outline","icon-color":"orange"},on:{input:e.handleInput},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Restore User?")]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"q-py-md"},[t("p",[e._v(" Are you sure you want to restore the user "),t("b",[e._v('"'+e._s(e.name)+'"')]),e._v(". If you restore the user, the user will be able to use the ezofis app. ")]),t("p",[e._v("You can always delete the restored user from the browse page.")])])]},proxy:!0},{key:"footer",fn:function(){return[t("BaseButton",{staticClass:"q-mr-sm",attrs:{"is-flat":"",label:"no",color:"orange"},on:{click:e.handleNo}}),t("BaseButton",{attrs:{label:"yes",color:"orange"},on:{click:e.handleYes}})]},proxy:!0}])})},z=[],W={name:"ConfirmRestoreUser",components:{Confirm:F["a"]},props:{value:{type:Boolean,required:!0},user:{type:Object,required:!0}},computed:{name(){return this.user.firstName+" "+this.user.lastName}},methods:{handleInput(e){this.$emit("input",e)},handleNo(){this.$emit("input",!1)},handleYes(){this.$emit("input",!1),this.$emit("restore",{isDeleted:!1})}}},K=W,J=Object(g["a"])(K,H,z,!1,null,"43c18164",null),Q=J.exports,X=i("42fc"),Z=i("bc3a"),ee=i.n(Z),te={name:"UsersBrowseAndTrash",components:{Portal:c["Portal"],StateWrapper:u["a"],ItemActionChips:m["a"],ItemActions:p["a"],UserGrid:k,UserList:V,UserDetails:N,Pagination:d["a"],ConfirmDeleteUser:Y,ConfirmRestoreUser:Q},props:{mode:{type:String,required:!0}},data(){return{columns:[{id:this.$nano.id(),name:"firstName",label:"First Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"lastName",label:"Last Name",type:"TITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"email",label:"Email",type:"SUBTITLE",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"role",label:"Role",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:l["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"jobTitle",label:"Job Title",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:l["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"department",label:"Department",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:l["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"manager",label:"Manager",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!0,dataType:l["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"countryCode",label:"Country Code",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:l["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"phoneNo",label:"Phone No",type:"NORMAL",isVisible:!0,isSortable:!0,isGroupable:!1,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"groups",label:"Groups",type:"NORMAL",isVisible:!0,isSortable:!1,isGroupable:!1,dataType:l["a"].SINGLE_SELECT},{id:this.$nano.id(),name:"secondaryEmail",label:"Secondary Email",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdBy",label:"Created By",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!0,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"createdAt",label:"Created At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:l["a"].DATE_TIME},{id:this.$nano.id(),name:"modifiedBy",label:"Modified By",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!0,dataType:l["a"].SHORT_TEXT},{id:this.$nano.id(),name:"modifiedAt",label:"Modified At",type:"NORMAL",isVisible:!1,isSortable:!0,isGroupable:!1,dataType:l["a"].DATE_TIME}],users:[],userData:[],activeView:"GRID",selectedUser:{},isUserDetailsVisible:!1,isDeleteConfirmationVisible:!1,isRestoreConfirmationVisible:!1,isLoading:!1,sortBy:{criteria:"",order:"DESC"},groupBy:"",filterBy:[],totalItems:0,itemsPerPage:50,currentPage:1,dataImported:!1}},computed:{items(){return this.users.map(({key:e,value:t})=>({key:this.groupBy,value:e,data:t.map(e=>{var t;return{id:e.id,firstName:e.firstName||"",lastName:e.lastName||"",email:e.email,role:Object(a["a"])(Object(o["a"])(e.role)),jobTitle:e.jobTitle,department:e.department,manager:null===(t=e.manager)||void 0===t?void 0:t.value,countryCode:e.countryCode,phoneNo:e.phoneNo,groups:e.groups||[],secondaryEmail:e.secondaryEmail,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIwRBD9gNuA2GjcOf6mpL-WuBhJADTWC3QVQ&usqp=CAU",createdBy:e.createdBy,createdAt:this.$day.format(e.createdAt),modifiedBy:e.modifiedBy,modifiedAt:this.$day.format(e.modifiedAt)}})}))}},watch:{$route:{immediate:!0,deep:!0,handler(){this.defaultView()}},"$store.state.defaultView":function(){this.defaultView()}},mounted(){this.$watch(e=>[e.sortBy,e.groupBy,e.currentPage,e.itemsPerPage],()=>this.getUsers(),{deep:!0,immediate:!0})},methods:{defaultView(){let e=this.$store.state.defaultView,t=this.$route.meta.menu,i=this.$route.meta.breadcrumb;if(Object.keys(e).length&&e[t]){let s=e[t].find(e=>e.subMenu===i);s&&(this.activeView=s.view)}},clearSortBy(){this.sortBy={criteria:"",order:"DESC"}},clearGroupBy(){this.groupBy=""},clearFilterBy(e,t){this.filterBy[e].filters.splice(t,1),0==this.filterBy[e].filters.length&&(this.filterBy[e].filters=[],this.filterBy.splice(e,1)),0==this.filterBy.length&&(this.filterBy=[]),this.getUsers()},findUser(e){const t=[];return this.items.forEach(e=>t.push(...e.data)),t.find(t=>t.id===e)},showUserDetails(e){this.selectedUser=this.findUser(e),this.isUserDetailsVisible=!0},editUser(e){this.$router.push({name:"user-builder",params:{id:String(e)}})},showDeleteConfirmation(e){this.selectedUser=this.findUser(e),this.isDeleteConfirmationVisible=!0},showRestoreConfirmation(e){this.selectedUser=this.findUser(e),this.isRestoreConfirmationVisible=!0},loadAllUsers(){this.itemsPerPage=this.totalItems,this.currentPage=1},searchRow(e){this.users=e?this.userData.map(({key:t,value:i})=>({key:t,value:i.filter(t=>{for(let i in t){let s=this.columns.findIndex(e=>e.name===i);if(s>=0&&t[i]&&String(t[i]).toLowerCase().includes(e.toLowerCase()))return t}})})):this.userData},async getUsers(){this.$store.commit("showLoadingBarPage");const{error:e,payload:t}=await n["s"].getUsers({mode:this.mode,sortBy:this.sortBy,groupBy:this.groupBy,filterBy:this.filterBy,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage});if(this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);const{data:i,meta:s}=t;this.users=i||[],this.userData=i||[],this.totalItems=(null===s||void 0===s?void 0:s.totalItems)||0},async updateUser(e){this.$store.commit("showLoadingBarPage");const{error:t}=await n["s"].updateUser(this.selectedUser.id,e);if(this.$store.commit("hideLoadingBarPage"),t)return void this.$alert.error(t);const i=e.isDeleted?"deleted":"restored",s=this.selectedUser.firstName+" "+this.selectedUser.lastName;this.$alert.success(`User "${s}" ${i} successfully`),this.getUsers()},async export_Data(){this.$store.commit("showLoadingBarPage");const{error:e,payload:t}=await n["s"].getUsers({mode:this.mode,sortBy:this.sortBy,groupBy:this.groupBy,filterBy:this.filterBy,itemsPerPage:0,currentPage:0});if(this.$store.commit("hideLoadingBarPage"),e)return void this.$alert.error(e);const{meta:i,data:s}=t;if(i.totalItems&&s.length){let e=[];e=s[0].value.map(e=>{var t;return{"First Name":e.firstName||"","Last Name":e.lastName||"",Email:e.email,Role:Object(a["a"])(Object(o["a"])(e.role)),"Job Title":e.jobTitle,Department:e.department,Manager:null===(t=e.manager)||void 0===t?void 0:t.value,"Country Code":e.countryCode,"Phone Number":e.phoneNo,Groups:e.groups||"","Secondary Email":e.secondaryEmail,"Created By":e.createdBy,"Created At":this.$day.format(e.createdAt),"Last Modified By":e.modifiedBy,"Last Modified At":this.$day.format(e.modifiedAt)}});let t="User List - Report";"TRASH"===this.mode&&(t="User Trash List - Report"),Object(X["a"])(e,t)}},async importUserData(e){const t=e.target.files[0];if("text/csv"===t.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||"application/vnd.ms-excel"===t.type){const s=new FormData;s.append("file",t);try{this.$store.commit("showLoadingBarSave");const e=await ee()({url:"https://appuat.ezofis.com/ezofisapi/api/user/importUser",method:"POST",data:s,headers:{Token:this.$store.state.identity.token,Accept:"application/json","Content-Type":"multipart/form-data"}});this.$store.commit("hideLoadingBarSave");const{status:t,data:i}=e;if(200!==t||!i)throw e;this.$alert.success("Data imported successfully")}catch(i){this.$alert.error("Error uploading file"),console.error(i)}this.dataImported=!0,e.target.value="",this.getUsers()}else this.$alert.error("Please upload a csv/excel file")},downloadTemplate(){let e=[];e=[{"First Name":"","Last Name":"",Email:"",Role:"","Job Title":"",Department:"",Manager:"","Country Code":"","Phone Number":"",Groups:"","Secondary Email":"","Created By":"","Created At":"","Last Modified By":"","Last Modified At":""}];let t="User Template";Object(X["a"])(e,t)}}},ie=te,se=(i("c8a2"),Object(g["a"])(ie,s,r,!1,null,"6c9bf05f",null));t["default"]=se.exports},b94d:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{style:{color:e._color},attrs:{id:"tabs"}},[e._l(e.tabs,(function(i){return t("Tab",{key:i.id,ref:"tab",refInFor:!0,attrs:{label:i.label,color:e.color,"is-full-width":e.isFullWidth,"is-active":i.value===e.value},on:{click:function(t){return e.handleClick(i)}}})})),t("div",{ref:"indicator",staticClass:"indicator"})],2)},r=[],a=i("8b55"),o={name:"Tabs",components:{Tab:a["a"]},props:{tabs:{type:Array,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"primary"},isFullWidth:{type:Boolean,default:!1}},computed:{_color(){return`var(--${this.color})`}},watch:{value(){this.setIndicatorPosition()}},mounted(){this.setIndicatorPosition()},methods:{setIndicatorPosition(){const e=this.tabs.findIndex(e=>e.value===this.value),t=this.$refs.tab[e],i=t.$el.offsetLeft;this.$refs.indicator.style.left=i+"px";const s=t.$el.clientWidth;this.$refs.indicator.style.width=s+"px"},handleClick(e){e.value!==this.value&&this.$emit("input",e.value)}}},n=o,l=(i("40f9"),i("2877")),c=Object(l["a"])(n,s,r,!1,null,"48eb7e5e",null);t["a"]=c.exports},b958:function(e,t,i){},ba5a:function(e,t,i){"use strict";i("5042")},beae:function(e,t,i){"use strict";i("dccd")},c26a:function(e,t,i){"use strict";i("d234")},c3ca:function(e,t,i){"use strict";i("0ad7")},c49c:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"state-wrapper"}},[t("div",{staticClass:"slow-up-down",attrs:{id:"illustration"}},[t("div",{attrs:{id:"shape-1"}}),t("div",{attrs:{id:"shape-2"}}),t("div",{attrs:{id:"shape-3"}},[t("BaseIcon",{staticClass:"icon",attrs:{name:e.icon,size:"80px"}})],1)]),t("div",{staticClass:"title-1"},[e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"description"},[e._v(" "+e._s(e.description)+" ")]),e.action?t("BaseButton",{staticClass:"q-mt-lg",attrs:{icon:e.actionIcon,label:e.action},on:{click:function(t){return e.$emit("action")}}}):e._e()],1)},r=[],a={name:"StateWrapper",props:{icon:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},action:{type:String,default:""},actionIcon:{type:String,default:""}}},o=a,n=(i("2948"),i("2877")),l=Object(n["a"])(o,s,r,!1,null,"ba5412d8",null);t["a"]=l.exports},c559:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"sort",expression:"'sort'",modifiers:{bottom:!0}}],attrs:{"is-flat":"",icon:"mdi-sort","no-border":""}},[t("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("BaseScrollbar",{attrs:{height:e.scrollbarHeight,width:"240px"}},[t("div",{staticClass:"title-3 q-pa-md"},[e._v("Sort Criteria")]),e._l(e._columns,(function(i){return t("ListItem",{key:i.id,attrs:{icon:e.criteria===i.name?"eva-radio-button-on":"eva-radio-button-off","is-selected":e.criteria===i.name,label:i.label},on:{click:function(t){return e.updateCriteria(i.name)}}})}))],2),t("div",{staticClass:"title-3 q-pa-md"},[e._v("Sort Order")]),t("ListItem",{attrs:{icon:"ASC"===e.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"ASC"===e.order,label:"Ascending"},on:{click:function(t){return e.updateOrder("ASC")}}}),t("ListItem",{staticClass:"q-mb-sm",attrs:{icon:"DESC"===e.order?"eva-radio-button-on":"eva-radio-button-off","is-selected":"DESC"===e.order,label:"Descending"},on:{click:function(t){return e.updateOrder("DESC")}}})],1)],1)},r=[],a=i("cade"),o={name:"SortItems",components:{ListItem:a["a"]},props:{columns:{type:Array,required:!0},criteria:{type:String,required:!0},order:{type:String,required:!0}},computed:{_columns(){return[{id:this.$nano.id(),label:"None",name:""},...this.columns.filter(e=>e.isSortable)]},scrollbarHeight(){const e=54*this._columns.length;return e>216?"224px":e+"px"}},methods:{updateCriteria(e){this.$emit("update:criteria",e)},updateOrder(e){this.$emit("update:order",e)}}},n=o,l=i("2877"),c=i("4e73"),u=i("93dc"),d=i.n(u),p=Object(l["a"])(n,s,r,!1,null,"12f6a366",null);t["a"]=p.exports;d()(p,"components",{QMenu:c["a"]})},c589:function(e,t,i){},c8a2:function(e,t,i){"use strict";i("6e1a")},c925:function(e,t,i){"use strict";i("65c0")},cbc3:function(e,t,i){},cc92:function(e,t,i){},cd8d:function(e,t,i){"use strict";i("00f0")},d234:function(e,t,i){},d2d7:function(e,t,i){},d37d:function(e,t,i){"use strict";i("4f21")},d547:function(e,t,i){"use strict";i("f8f2")},da44:function(e,t,i){},dccd:function(e,t,i){},e0b6:function(e,t,i){},e159:function(e,t,i){},e679:function(e,t,i){"use strict";i("2975")},e7b1:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("ItemList",{attrs:{columns:e.columns,items:e.items,mode:e.mode},on:{select:e.handleSelect,edit:e.handleEdit,delete:e.handleDelete,restore:e.handleRestore,more:e.handleMore},scopedSlots:e._u([{key:"status",fn:function({value:i}){return[t("div",{class:{draft:"Draft"===i},attrs:{id:"report-status"}},[t("BaseIcon",{attrs:{name:"mdi-circle",size:"8px","inherit-color":""}}),t("div",{staticClass:"q-ml-sm"},[e._v(e._s(i))])],1)]}}])})},r=[],a=(i("14d9"),i("f92f")),o={name:"ReportsList",components:{ItemList:a["a"]},props:{mode:{type:String,required:!0},columns:{type:Array,required:!0},items:{type:Array,required:!0}},data(){return{filterBy:[]}},methods:{handleEdit(){this.$router.push({name:"reports-builder"})},handleSelect(){this.$emit("select")},handleDelete(){this.$emit("delete")},handleRestore(){this.$emit("restore")},handleMore(){this.$emit("more")}}},n=o,l=(i("78f2"),i("2877")),c=Object(l["a"])(n,s,r,!1,null,"849c1ca4",null);t["default"]=c.exports},ee26:function(e,t,i){"use strict";i("cbc3")},f108:function(e,t,i){},f8f2:function(e,t,i){},f92f:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"item-list"}},[e.selectedDummyData?e._t("default"):e._e(),t("BaseScrollbar",{attrs:{height:e.breadcrumbs||e.report?"calc(100vh - 310px)":"calc(100vh - 260px)"}},[t("table",[e.tableHeader?t("thead",[t("tr",{staticStyle:{"background-color":"var(--body-bg-color)"}},[t("th",{staticClass:"sticky icon",staticStyle:{left:"0"}},[e.checkbox?t("div",{staticClass:"row items-center justify-center"},[t("CheckboxField",{staticClass:"col-auto q-pt-sm q-pb-sm",on:{input:e.handleSelectAll},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}})],1):e._e()]),e.repository&&e.checkbox?[t("th",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}}),e.title?t("th",{staticClass:"sticky",staticStyle:{left:"80px"}},[e._t("titleHead",(function(){return[e._v(" "+e._s(e.title.label)+" ")]}),{title:e.title.label})],2):e._e()]:[e.title?t("th",{staticClass:"sticky",staticStyle:{left:"36px"}},[e._t("titleHead",(function(){return[e._v(" "+e._s(e.title.label)+" ")]}),{title:e.title.label})],2):e._e()],e._l(e._columns,(function(i){return t("th",{key:i.id},[e._v(" "+e._s(i.label)+" ")])})),e.noActions?e._e():t("th",{staticClass:"sticky action",staticStyle:{right:"0"}})],2)]):e._e(),t("tbody",[e._l(e.items,(function({key:i,value:s,data:r}){return[i?t("tr",{key:s},[t("td",{staticClass:"group-by",attrs:{colspan:"2"}},[t("span",{staticClass:"key"},[e._v(e._s(i)+": ")]),t("span",[e._v(e._s(s)+" ")]),t("span",[e._v("("+e._s(r.length)+")")])])]):e._e(),e._l(r,(function(i,s){return[t("tr",{key:i.id,class:{"no-border":0===s,background:!e.noBackground,checkout:2===i.checkinStatus},on:{click:function(t){return e.toggleLink(i,r)}}},[e.repository&&e.checkbox?[t("td",{staticClass:"sticky icon",staticStyle:{left:"0"}},[e.checkbox?t("div",{staticClass:"row items-center justify-center"},[t("CheckboxField",{on:{input:function(t){return e.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(t){e.$set(i,"selected",t)},expression:"item.selected"}})],1):e._e()]),t("td",{staticClass:"sticky file-mark-icon",staticStyle:{left:"44px"}},[t("div",{staticClass:"row items-center justify-center",staticStyle:{width:"20px"}},[e._t("avatar",null,{item:i})],2)])]:[t("td",{staticClass:"sticky icon",staticStyle:{left:"0",width:"36px"}},[e.checkbox?t("div",{staticClass:"col items-center justify-center"},[t("CheckboxField",{on:{input:function(t){return e.handleCheckboxChange(i.id)}},model:{value:i.selected,callback:function(t){e.$set(i,"selected",t)},expression:"item.selected"}}),i.subWorkflow?[i.subWorkflow.length?t("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):e._e()]:e._e()],2):t("div",{staticClass:"col items-center justify-center"},[e._t("avatar",(function(){return[i.buttonAction?["Closed"!==i.status?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Mark Completed",expression:"'Mark Completed'",modifiers:{top:!0}}],attrs:{name:e.selectedRowIndex===s?"mdi-check":i.icon,color:e.selectedRowIndex===s?"primary":i.color},on:{mouseover:function(t){e.selectedRowIndex=s},mouseout:function(t){e.selectedRowIndex=-1},click:function(t){return e.$emit("complete",i.id)}}})]:[t("BaseIcon",{attrs:{name:i.icon,color:i.color}})]]:[i.iconTooltip?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"item.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color||"secondary"}})]:[t("BaseIcon",{attrs:{name:i.icon,color:i.color||"secondary"}})]]]}),{item:i}),i.subWorkflow?[i.subWorkflow.length?t("BaseIcon",{staticClass:"cursor-pointer q-ml-sm",attrs:{name:i.expandSubworkflow?"mdi-chevron-down":"mdi-chevron-up"}}):e._e()]:e._e()],2)])],e.title?t("td",{staticClass:"sticky",style:"left:"+e.leftcount,on:{click:function(t){i.link&&e.$emit("select",i.id,r)}}},[e._t("title",(function(){return[t("div",{staticClass:"font-medium ellipsis",class:i.link?"text-underline":"",staticStyle:{"max-width":"250px"}},[t("span",{on:{mouseover:function(t){return e.$emit("showThumbnail",i,t)},mouseleave:function(t){return e.$emit("hideThumbnail",i)}}},[e._v(e._s(i[e.title.name])+" ")])])]}),{item:i,title:i[e.title.name]}),e._t("thumbnail",null,{item:i})],2):e._e(),e._l(e._columns,(function(s){return t("td",{key:s.id},[e._t(s.name,(function(){return["TABLE"===s.dataType?[i[s.name]?[t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Table Data",expression:"'Table Data'",modifiers:{top:!0}}],attrs:{icon:"mdi-table","is-flat":"","no-border":""},on:{click:function(t){return t.stopPropagation(),e.showTable(s.name,i[s.name])}}})]:[t("BaseActionButton",{attrs:{icon:"mdi-table","is-flat":"","no-border":"","is-disabled":""}})]]:"ICON"===s.type?[i[s.name]?[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip[s.name],expression:"item.iconTooltip[column.name]",modifiers:{top:!0}}],attrs:{name:i[s.name],color:i.iconColor[s.name]}})]:[e._v(" "+e._s("-")+" ")]]:"FILE_UPLOAD"===s.dataType?[i[s.name]?["string"===typeof i[s.name]?t("div",{staticClass:"ellipsis medium"},e._l(JSON.parse(i[s.name]),(function(s,r){return t("div",{key:r,staticClass:"row"},[t("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":e.fileType(s.fileName)}}),t("span",{staticClass:"text-secondary file-underline col",on:{click:function(t){return e.viewFile(s,i)}}},[e._v(e._s(s.fileName))])],1)})),0):t("div",{staticClass:"ellipsis medium"},e._l(i[s.name],(function(s,r){return t("div",{key:r,staticClass:"row"},[t("FileIcon",{staticClass:"mini-avatar col-auto q-mr-sm",attrs:{"mime-type":e.fileType(s.fileName)}}),t("span",{staticClass:"text-secondary file-underline col",on:{click:function(t){return e.viewFile(s,i)}}},[e._v(e._s(s.fileName))])],1)})),0)]:e._e()]:[t("div",{class:{"data-change":e.hasMetaDataEdit},on:{click:function(t){return e.handleOpenInput(i,s)}}},[e._v(" "+e._s(i[s.name]||"-")+" ")])]]}),{value:i[s.name],item:i})],2)})),e.noActions?e._e():t("td",{staticClass:"sticky action",staticStyle:{right:"0",width:"50px"}},[e._t("actions",(function(){return["BROWSE"===e.mode?[i.actionAccess?e._e():[t("div",{staticClass:"row justify-end no-wrap"},[e.security||e.visibility(i)?[i.actionButton?[i.infoIcon?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("info",i.id)}}}):e._e(),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-check-all",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"mdi-bell-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-shield-outline"},on:{click:function(t){return t.stopPropagation(),e.$emit("secure",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}},[e._t("extraMenu")],2)]:[i.infoIcon?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.infoIconTooltip,expression:"item.infoIconTooltip",modifiers:{top:!0}}],attrs:{icon:i.infoIcon,color:i.infoIconColor?i.infoIconColor:"primary","is-flat":"","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("info",i.id)}}}):e._e(),1===i.emailStatus?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-check-outline",color:"green"},on:{click:function(t){return t.stopPropagation(),e.$emit("resend",i.id)}}}):0===i.emailStatus?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-sync-outline",color:"orange"},on:{click:function(t){return t.stopPropagation(),e.$emit("resend",i.id)}}}):e.resend?t("BaseActionButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"send invite",expression:"'send invite'",modifiers:{top:!0}}],attrs:{"is-flat":"","no-border":"",icon:"mdi-email-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("resend",i.id)}}}):e._e(),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-edit-outline",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",i.id)}}}),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-trash-2-outline",color:"red"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",i.id)}}}),e.showExport?t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-download-outline",color:"orange"},on:{click:function(t){return t.stopPropagation(),e.$emit("export",i.id)}}}):e._e(),t("BaseActionButton",{attrs:{"is-flat":"","no-border":"",icon:"eva-more-vertical"},on:{click:function(t){return t.stopPropagation(),e.$emit("more",i.id)}}},[e._t("extraMenu")],2)]]:e._e()],2)]]:e._e(),"TRASH"===e.mode?[t("div",{staticClass:"row justify-end"},[t("BaseActionButton",{attrs:{"is-flat":"",color:"secondary",icon:"mdi-history","no-border":""},on:{click:function(t){return t.stopPropagation(),e.$emit("restore",i.id)}}})],1)]:e._e()]}),{item:i})],2)],2),i.subWorkflow?[i.subWorkflow.length?[i.expandSubworkflow?t("tr",{key:i.id,staticClass:"sub-background"},[t("td",{attrs:{colspan:e._columns.length+3}},[t("table",{key:"subtable"+i.id,staticStyle:{"margin-left":"20px",border:"1px solid var(--divider-color)","table-layout":"fixed","max-width":"70%","min-width":"calc(70% - 1px)","border-collapse":"collapse","white-space":"nowrap"}},[t("thead",[t("tr",[t("th",{staticClass:"sticky icon",staticStyle:{left:"0","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"icon"}}),e.title?t("th",{staticClass:"sticky",staticStyle:{left:"36px","background-color":"rgb(222 217 247)",width:"2%"},attrs:{name:"title"}},[t("div",{staticClass:"font-medium ellipsis",staticStyle:{"max-width":"250px"}},[e._v(" "+e._s(e.title.label)+" ")])]):e._e(),e._l(e._subWorkflowColumns,(function(i){return t("th",{key:i.id,staticStyle:{"background-color":"rgb(222 217 247)",width:"2%"}},[e._v(" "+e._s(i.label)+" ")])})),t("th",{staticClass:"sticky",staticStyle:{"background-color":"rgb(222 217 247)"}})],2)]),t("tbody",[e._l(i.subWorkflow,(function(i){return[t("tr",{key:i.requestNo},[t("td",{staticClass:"sticky icon sub-background",staticStyle:{left:"0"},attrs:{name:"avatar"}},[t("div",{staticClass:"row items-center sticky justify-center"},[t("BaseIcon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.iconTooltip,expression:"subItem.iconTooltip",modifiers:{top:!0}}],attrs:{name:i.icon,color:i.color}})],1)]),t("td",{staticClass:"sticky sub-background",staticStyle:{left:"0",width:"20%",color:"#007bff",cursor:"pointer"},attrs:{name:"title"}},[t("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:i.requestNo,expression:"subItem.requestNo",modifiers:{top:!0}}],staticClass:"row items-center text-underline",staticStyle:{overflow:"hidden !important","white-space":"unset !important",width:"220px"},on:{click:function(t){return e.openSubProcess(i)}}},[e._v(" "+e._s(i.requestNo||"-")+" ")])]),t("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.stage)+" ")]),t("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.raisedBy)+" ")]),t("td",{staticClass:"sub-background",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.raisedAt)+" ")]),t("td",{staticClass:"sticky sub-background",staticStyle:{right:"0px",width:"20%"}},[e._t("subactions",null,{item:i})],2)])]}))],2)])])]):e._e()]:e._e()]:e._e()]}))]}))],2)])]),t("Modal",{attrs:{width:"60vw",height:"80vh"},on:{input:function(t){e.expandTableModal=!1}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.tableTitle))]},proxy:!0},{key:"default",fn:function(){return[t("div",{attrs:{id:"tableData"}},[e.tableData.cellvalues?[t("table",e._l(e.tableData.cellvalues,(function(i,s){return t("tr",{key:s},e._l(i,(function(i){return t("NoHeader"===i.kind?"td":"th",{key:`r${s}_c${i.columnindex}`,tag:"th"},[e._v(" "+e._s(i.cellvalue)+" ")])})),1)})),0)]:[t("table",[t("thead",[t("tr",e._l(e.tableData[0],(function(i,s){return t("th",{key:s},[e._v(" "+e._s(s)+" ")])})),0)]),t("tbody",e._l(e.tableData,(function(i,s){return t("tr",{key:s},e._l(i,(function(i,s){return t("td",{key:s},[e._v(" "+e._s(i)+" ")])})),0)})),0)])]],2)]},proxy:!0}]),model:{value:e.expandTableModal,callback:function(t){e.expandTableModal=t},expression:"expandTableModal"}})],2)},r=[],a=(i("caad"),i("869e")),o=i("6a70"),n=i("fa1f"),l={name:"ItemList",components:{CheckboxField:a["a"],Modal:o["a"],FileIcon:n["a"]},props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},mode:{type:String,required:!0},noBackground:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},tableHeader:{type:Boolean,default:!0},security:{type:Boolean,default:!0},checkbox:{type:Boolean,default:!1},hasMetaDataEdit:{type:Boolean,required:!1},breadcrumbs:{type:Boolean,default:!1},report:{type:Boolean,default:!1},resend:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},repository:{type:Boolean,default:!1},showExport:{type:Boolean,default:!1}},data(){return{selectedRowIndex:-1,userId:this.$store.state.session.id,email:this.$store.state.session.email,selectedDummyData:!1,expandTableModal:!1,tableTitle:"",tableData:[]}},computed:{_columns(){return this.columns.filter(e=>"TITLE"!==e.type&&e.isVisible)},title(){return this.columns.find(e=>"TITLE"===e.type)},leftcount(){return this.repository&&this.checkbox?"80px":"36px"},_subWorkflowColumns(){let e=[{id:this.$nano.id(),name:"stage",label:"Stage",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedBy",label:"Raised By",type:"SINGLE_SELECT",isVisible:!0,isSortable:!0,isGroupable:!1},{id:this.$nano.id(),name:"raisedAt",label:"Raised On",type:"DATE",isVisible:!0,isSortable:!0,isGroupable:!1}];return e}},created(){this.items.forEach(e=>{e.data.forEach(e=>{this.$set(e,"selected",!1)})})},methods:{visibility(e){const t=Number(this.userId),i=this.email;let s=!1;const r=e.owner?e.owner.map(e=>e.id):[0],a=e.coordinator?e.coordinator.map(e=>e.id):[0];return(e.createdBy===i||r.includes(t)||a.includes(t)||1===t)&&(s=!0),s},handleCheckboxChange(e){this.selectAll=!1,this.selectedDummyData=!this.selectedDummyData;const t=this.items.flatMap(e=>e.data).find(t=>t.id===e);t&&this.$set(t,"selected",t.selected),this.$emit("update-selected-all",this.selectAll)},handleSelectAll(){!0===this.selectAll&&this.items.forEach(e=>{e.data.forEach(e=>{this.$set(e,"selected",!0)})}),!1===this.selectAll&&this.items.forEach(e=>{e.data.forEach(e=>{this.$set(e,"selected",!1)})}),this.$emit("update-selected-all",this.selectAll)},showTable(e,t){t&&(this.report?this.$emit("showTable",e,t):(this.tableTitle=e,this.tableData=JSON.parse(t),this.expandTableModal=!0))},handleOpenInput(e,t){this.$emit("openMetaDataEdit",e,t)},viewFile(e,t){e.createdBy=t.createdBy,e.createdAt=t.createdAt,e.name||(e.name=e.fileName),e.id||(e.id=e.itemId),this.$emit("viewFile",e)},fileType(e){if(e)return e.split(".").reverse()[0].slice(0,4)},toggleLink(e,t){e.expandSubworkflow=!e.expandSubworkflow,!e.link&&this.$emit("select",e.id,t),this.selectedDummyData=!this.selectedDummyData},openSubProcess(e){this.$emit("openSubWorkflow",e)}}},c=l,u=(i("d37d"),i("2877")),d=Object(u["a"])(c,s,r,!1,null,"00be4c3f",null);t["a"]=d.exports},ff59:function(e,t,i){}}]);
//# sourceMappingURL=users-browse.8860fb1a.js.map